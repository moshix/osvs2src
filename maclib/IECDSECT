*/*  INCLUDE SYSLIB(IECDSECT)                                  Y02134*/ 00010000
*  % GOTO PLSGEN;                       /*EXPAND PLS PORTION   Y02134*/ 00012000
*/*                                                              Y02134 00014000
         MACRO                                                          00020000
         IECDSECT &IOB=YES                                       S21940 00040000
.*                                                                      00040400
.********************************************************************** 00040800
.*                                                                      00041200
.*       VS2 RELEASE 03 DELETIONS/CHANGES                               00041300
.*0000                                                         @ZA02504 00041400
.*C53300,83200                                                 @ZA40178 00041500
.*                                                                      00042000
.*       VS2 RELEASE 03.8 DELETIONS/CHANGES/ADDITIONS                   00042100
.*A726900                                                      @ZA41849 00042200
.*A21400                                                       @ZA43489 00042300
.*$F01=OZ56437,EDM1102,PREVENT RECATLG IF DSN CHANGED IN OPENJ    @F01A 00042400
.*$02=OZ72660,EDM1102,,FEGJG: INVALID STMTS AFTER MEND        @ZA72660A 00042500
.*                                                                      00042600
.* MODULE NAME = IECDSECT (VS2-2)                                       00042700
.*                                                                      00043000
.* DESCRIPTIVE NAME = O/C/E WORK AREA ADDRESSING MACRO                  00043500
.*                                                                      00044000
.* COPYRIGHT = NONE.                                                    00045000
.*                                                                      00047000
.* STATUS = CHANGE LEVEL 000                                            00047400
.*                                                                      00047800
.* FUNCTION = O/C/E MACRO USED TO PROVIDE ADDRESSABILITY TO INTERNAL    00048200
.*            WORK AREAS.                                               00048600
.*                                                                      00049900
.* NOTES = NONE.                                                        00050000
.*                                                                      00054800
.*      DEPENDENCIES = IEFJFCBN (JFCB = 176 BYTES IN LENGTH).           00056700
.*                     ONLY IN BAL VERSION.                      Y02134 00057100
.*                                                                      00058200
.*      RESTRICTIONS = CHANGES TO THIS MACRO MUST BE COORDINATED        00064700
.*                     WITH THE IECDSECS MACRO AND FUNCTIONS            00065600
.*                     WHICH INTERFACE INTERNALLY WITH O/C/E            00066000
.*                     ROUTINES. THIS MACRO WAS DESIGNED TO             00066400
.*                     BE USED IN A DSECT.                              00066500
.*                                                                      00066800
.*      REGISTER CONVENTIONS = NOT APPLICABLE.                          00067200
.*                                                                      00067300
.* PATCH LABEL = NOT APPLICABLE.                                        00067400
.*                                                                      00067500
.* MODULE TYPE = MACRO.                                                 00068300
.*                                                                      00068700
.*      PROCESSOR = ASSEMBLER LANGUAGE.                                 00069100
.*                                                                      00069500
.*      MODULE SIZE = DESCRIBED BY THE LABEL DSECTSIZ. THE ACTUAL       00069600
.*                    WORK AREA SIZE IS DESCRIBED BY LABELS WITHIN      00069700
.*                    IECDSECS.                                         00070000
.*                                                                      00070300
.*      ATTRIBUTES = DSECT FIELDS.                                      00070500
.*                                                                      00070700
.* ENTRY POINT = DXLBL IN BAL VERSION                            Y02134 00071000
.*               FORCORE IN PLS VERSION                          Y02134 00071100
.*                                                                      00071400
.*      PURPOSE = THIS MACRO IS TO BE USED IN CONJUNCTION WITH          00071800
.*                THE IECDSECS MACRO TO DEFINE AND MAP INTERNAL         00073700
.*                WORK AREAS USED BY O/C/E AND FUNCTIONS WHICH          00073900
.*                INTERNALLY INTERFACE WITH O/C/E. THIS MACRO IS        00074000
.*                CALLED BY O/C/E CSECTS AT ASSEMBLY TIME.              00074100
.*                                                                      00074400
.*      LINKAGE = IECDSECT IOB=(YES/NO) FOR BAL CALL             Y02134 00074500
.*                % INCLUDE SYSLIB(IECDSECT) IN PLS CALL         Y02134 00074900
.*                                                                      00076000
.*      INPUT = IOB=, IOB=YES, OR IOB=NO.                               00076400
.*                                                                      00085100
.*            IF IOB=YES OR IOB=, (DEFAULT) IS SPECIFIED, INTERNALLY    00085500
.*            DEFINED FIELDS IN THE IOB ARE GENERATED. THE LABELS       00085900
.*            FOR THESE FIELDS ARE MUTUALLY EXCLUSIVE OF THE LABELS     00086000
.*            GENERATED BY THE IOBLOCKS MACRO.                          00086300
.*            FOR A PLS CALL THE IOB AREA IS EXPANDED            Y02134 00086400
.*            WITHOUT IOB LABELS.                                Y02134 00091700
.*                                                                      00097100
.*      OUTPUT = MAPPING OF COMMON O/C/E WORK AREA.                     00102400
.*               SEE COMMENTS BELOW.                                    00107700
.*                                                                      00113000
.* EXIT NORMAL = MEND STATEMENT                                         00113400
.*                                                                      00113800
.* EXIT ERROR = IHBERMAC 183,IOB,YES                                    00113900
.*                                                                      00114600
.* EXTERNAL REFERENCES = SEE BELOW.                                     00116200
.*                                                                      00116300
.*      ROUTINES = NONE.                                                00116500
.*                                                                      00116900
.*    1 DATA AREAS = O/C/E COMMON WORK AREA.                            00119500
.*      2 DATA AREAS = VOLUME LABEL AREA.                               00120800
.*        3 DATA AREAS = ANSI VOLUME LABEL AREA.                        00121200
.*        3 DATA AREAS = FILE LABEL 1 AREA.                             00121300
.*        3 DATA AREAS = FILE LABEL 2 AREA.                             00121400
.*        3 DATA AREAS = ANSI FILE LABEL 2 AREA.                        00122000
.*        3 DATA AREAS = DATA SET CONTROL BLOCK LABEL AREA (DSCB).      00122400
.*        3 DATA AREAS = DATA SET CONTROL BLOCK FORMAT 3 KEY AREA.      00122800
.*        3 DATA AREAS = DATA SET CONTROL BLOCK FORMAT 3 RECORD AREA.   00122900
.*        3 DATA AREAS = MESSAGE AREA.                                  00123000
.*        3 DATA AREAS = MESSAGE LENGTHS.                               00123100
.*        3 DATA AREAS = MESSAGE FORMAT.                                00123200
.*      2 DATA AREAS = JOB FILE CONTROL BLOCK AREA (JFCB).              00123300
.*      2 DATA AREAS = O/C/E INTERNAL EVENT CONTROL BLOCK AREA (ECB).   00123400
.*      2 DATA AREAS = O/C/E INTERNAL INPUT/OUTPUT BLOCK AREA (IOB).    00123600
.*      2 DATA AREAS = O/C/E INTERNAL DATA EXTENT BLOCK AREA (DEB).     00124000
.*      2 DATA AREAS = O/C/E INTERNAL DATA CONTROL BLOCK AREA (DCB).    00124400
.*      2 DATA AREAS = O/C/E INTERNAL CONTROL WORDS AREA (CCW).         00124500
.*      2 DATA AREAS = O/C/E COMMON EXTENDED WORK AREAS.                00124600
.*      2 DATA AREAS = O/C/E PROTECTED CONTROL BLOCK POINTERS AREA.     00124700
.*      2 DATA AREAS = USER DCB COPY POINTERS AREA.                     00124800
.*      2 DATA AREAS = O/C/E ACCESS METHOD AREA.                        00124900
.*      2 DATA AREAS = O/C/E RECOVERY ROUTINE AUDIT TRAIL AREA.         00125000
.*                                                                      00125200
.*      CONTROL BLOCKS = DSCB,JFCB,ECB,IOB,DCB,DEB                      00125300
.*                                                                      00125400
.* TABLES = NONE.                                                       00125500
.*                                                                      00125600
.* MACROS = IHBERMAC.                                                   00125800
.*                                                                      00126000
.* CHANGE ACTIVITY = Y02080                                             00126800
.*                                                                      00128800
.********************************************************************** 00129300
.*                                                                      00129700
.*         VS2 RELEASE 3.860 DELETIONS/CHANGES                 @G60ASRB 00131400
.*C055190,096080,096086                                        @G60ASRB 00132200
.*A055191-055196,096083,096089-096095                          @G60ASRB 00132800
.*                                                                      00133200
.*         RELEASE 21 DELETIONS/CHANGES                                 00134000
.*                                                               S21940 00136600
.*         RELEASE 20 DELETIONS/CHANGES                                 00139200
.*                                                               S20038 00141800
.*                                                                      00144400
         SPACE 1                                                        00147000
*********************************************************************** 00149000
*                                                                       00149400
*        THIS MACRO IS USED TO DEFINE AND MAP THE O/C/E WORK AREA.      00149600
*                                                                       00150000
*        O/C/E = OPEN, OPEN TYPE=J, CLOSE, CLOSE TYPE=T,                00151600
*                EOV, FEOV, & RDJFCB.                                   00153600
*                                                                       00155600
*********************************************************************** 00156000
         SPACE 1                                                        00157400
*********************************************************************** 00159400
*                                                                       00159800
*        O/C/EOV MAIN WORK AREA, FORMAT AND LENGTHS                     00160000
*                                                                       00180000
*********************************************************************** 00190000
*                                                                       00200000
*    1. O/C/E COMMON WORK AREA.                       TOTAL = 612 BYTES 00210000
*      2. VOLUME LABEL AREA.                                  100 BYTES 00214400
*      **** TAPE LABELS                                                 00214900
*        3. ANSI VOLUME LABEL AREA.                                     00215400
*        3. FILE LABEL 1 AREA.                                          00216000
*        3. FILE LABEL 2 AREA.                                          00218000
*        3. ANSI FILE LABEL 2 AREA.                                     00218400
*      **** DIRECT ACCESS LABELS                                        00218500
*        3. DATA SET CONTROL BLOCK LABEL AREA (DSCB).                   00218800
*        3. DATA SET CONTROL BLOCK FORMAT 3 KEY AREA.                   00219200
*        3. DATA SET CONTROL BLOCK FORMAT 3 RECORD AREA.                00219600
*        3. MESSAGE AREA.                                               00219700
*        3. MESSAGE LENGTHS.                                            00219900
*        3. MESSAGE FORMAT.                                             00220000
*      2. JOB FILE CONTROL BLOCK AREA (JFCB).                 176 BYTES 00226600
*      2. O/C/E INTERNAL EVENT CONTROL BLOCK AREA (ECB).        4 BYTES 00228600
*      2. O/C/E INTERNAL INPUT/OUTPUT BLOCK AREA (IOB).        40 BYTES 00230600
*      2. O/C/E INTERNAL DATA EXTENT BLOCK AREA (DEB).         44 BYTES 00232600
*      2. O/C/E INTERNAL DATA CONTROL BLOCK AREA (DCB).         4 BYTES 00233000
*      2. O/C/E INTERNAL CONTROL WORDS AREA (CCW).             96 BYTES 00233100
*      2. O/C/E COMMON EXTENDED WORK AREAS.                    64 BYTES 00233200
*      2. O/C/E PROTECTED CONTROL BLOCK POINTERS AREA.         40 BYTES 00239900
*      2. USER DCB COPY POINTERS AREA.                         16 BYTES 00241900
*      2. O/C/E ACCESS METHOD AREA.                             4 BYTES 00243900
*      2. O/C/E RECOVERY ROUTINE AUDIT TRAIL AREA.             24 BYTES 00245900
*                                                             --------- 00246000
*                                           DSECTSIZ TOTAL =  612 BYTES 00246200
*                                                                       00246500
*********************************************************************** 00253200
         EJECT                                                          00303300
*********************************************************************** 00842000
*                                                                       00850000
*        VOLUME LABEL AREA - SEE 'DATA SET LABELS- FL1 AND FL2'         00860000
*                                                                       00870000
*********************************************************************** 00872000
         SPACE 1                                                        00880000
DXLBL    DS    0CL80                                                    00900000
VOLLABI  DS    CL3                 LABEL IDENTIFIER                     00920000
VOLNO    DS    CL1                 VOLUME LABEL NUMBER                  00940000
VOLSERNO DS    CL6                                                      00960000
VOLSEC   DS    CL1                                                      00980000
         DS    0CL10               RESERVED                             01000000
VOLVTOC  DS    CL5                                                      01020000
         DS    CL5                                                      01040000
         DS    CL10                RESERVED                             01060000
         DS    CL10                RESERVED                             01080000
VOLOWNER DS    CL10                OWNER NAME AND ADDRESS CODE          01100000
         DS    CL29                RESERVED                             01120000
         SPACE 1                                                        01120100
*********************************************************************** 01120400
*                                                                       01120800
*        ANSI VOLUME LABEL AREA                                         01122000
*        (ANSI AND IBM STANDARD LABEL DIFFERENCES)                      01124000
*                                                                       01126000
*********************************************************************** 01126400
         SPACE 1                                                        01126800
         ORG   DXLBL+37                                                 01128000
AVOLOWNR DS    CL14                     OWNER IDENTIFICATION            01130000
         DS    CL28                     RESERVED                        01132000
LABSTAND DS    CL1                      LABEL STANDARD LEVEL            01134000
         SPACE 1                                                        01140000
*********************************************************************** 01150000
*                                                                       01152000
*        FILE LABEL 1 AREA - SEE 'DATA SET LABEL -- FL1'                01160000
*                                                                       01170000
*********************************************************************** 01172000
         SPACE 1                                                        01180000
         ORG   DXLBL                                                    01200000
FL1LABI  DS    CL3                 LABEL IDENTIFIER                     01220000
FL1NO    DS    CL1                 FILE LABEL NUMBER                    01240000
FL1ID    DS    CL17                FILE IDENTIFIER                      01260000
FL1FILSR DS    CL6                 FILE SERIAL NUMBER                   01280000
FL1VOLSQ DS    CL4                 VOLUME SEQUENCE NUMBER               01300000
FL1FILSQ DS    CL4                 FILE SEQUENCE NUMBER                 01320000
FL1GNO   DS    CL4                 GENERATION NUMBER                    01340000
FL1VNG   DS    CL2                 VERSION NUMBER OF GENERATION         01360000
FL1CREDT DS    CL6                 CREATION DATE                        01380000
FL1EXPDT DS    CL6                 EXPIRATION DATE                      01400000
FL1FSEC  DC    C'0'                FILE SECURITY INDICATOR              01420000
FL1BLKCT DS    CL6                 BLOCK COUNT                          01440000
FL1SYSCD DS    CL13                SYSTEM CODE                          01460000
FL1RES   DS    0CL7                RESERVED FOR FUTURE USE              01480000
         DS    CL1                                                      01500000
FL1RES1  DS    CL6                                                      01520000
         SPACE 1                                                        01540000
*********************************************************************** 01550000
*                                                                       01552000
*        FILE LABEL 2 AREA - SEE 'DATA SET LABEL -- FL2'                01560000
*                                                                       01570000
*********************************************************************** 01572000
         SPACE 1                                                        01580000
         ORG   FL1ID                                                    01600000
FL2RECFM DS    CL1                 RECORD FORMAT                        01620000
FL2BLKL  DS    CL5                 BLOCK LENGTH                         01640000
FL2LRECL DS    CL5                 BLOCKING FACTOR/RECORD LENGTH        01660000
FL2DEN   DS    CL1                 DENSITY                              01680000
FL2FILP  DS    CL1                 FILE POSITION                        01700000
FL2JSID  DS    0CL17               JOB/STEP IDENTIFICATION              01720000
FL2JOBD  DS    CL8                 JOB IDENTIFICATION                   01740000
FL2JSSP  DC    C'/'                SLASH                                01760000
FL2STEPD DS    CL8                 STEP IDENTIFICATION                  01780000
FL2TRTCH DS    CL2                 TAPE RECORDING TECHNIQUE             01800000
FL2CNTRL DS    CL1                 CARRAIGE CONTROL CHARACTER           01820000
         DS    CL1                     RESERVED FOR FUTURE USE          01830000
FL2BLKA  DS    CL1                     BLOCK ATTRIBUTE                  01840000
         DS    CL1                 RESERVED                      99223  01842000
FL2DRID  DS    0CL7                TAPE DRIVE ID                 99223  01844000
         DS    CL2                 RESERVED                      99223  01846000
FL2ID    DS    CL5                 ID OF CREATING DRIVE          99223  01848000
FL2DSIND DS    CL1                 DATA SET INDICATOR FIELD      Y02083 01848400
FL2RES   DS    CL32                RESERVED FOR FUTURE USE       Y02083 01850000
         SPACE 1                                                        01850100
*********************************************************************** 01850400
*                                                                       01851000
*        ANSI FILE LABEL 2 AREA                                         01852000
*        (ANSI AND IBM STANDARD FILE LABEL 2 DIFFERENCES)               01852400
*                                                                       01853000
*********************************************************************** 01853400
         SPACE 1                                                        01853800
         ORG   DXLBL+50                                                 01854000
FL2BUFOF DS    CL2                      BUFFER OFFSET                   01855000
         SPACE 1                                                        01860000
*********************************************************************** 01870000
*                                                                       01872000
*        DATA SET CONTROL BLOCK AREA - SEE 'FORMAT 1 DSCB'              01880000
*                                                                       01892000
*********************************************************************** 01894000
         SPACE 1                                                        01900000
         ORG   DXLBL                                                    01920000
DXDSCB   DS    0CL96                                                    01940000
DSCFMTID DC    C'1'                                                     01960000
DSCFILSR DS    CL6                 FILE SERIAL NUMBER                   01980000
DSCVOLSR DS    CL2                                                      02000000
DSCCREDT DS    CL3                 CREATION DATE IN DISCONTINOUS BIN    02020000
DSCEXPDT DS    CL3                 EXPIRATION DATE IN DISCONTINOUS BIN  02040000
DSCNOEXT DS    CL1                                                      02060000
DSCBLDBL DS    CL1                                                      02080000
         DS    CL1                                                      02100000
DSCSYSCD DS    CL13                SYSTEM CODE                          02120000
DSCREFD  DS    CL3                 DATE LAST REFERENCED        @ZA43489 02140000
         DS    CL4                                                      02150000
DSCFILTY DS    CL2                 FILE TYPE                            02160000
DSCRECFM DS    CL1                 RECORD FORMAT                        02180000
DSCOPTCD DS    CL1                 OPTION CODE                          02200000
DSCBLKL  DS    CL2                 BLOCK LENGTH                         02220000
DSCLRECL DS    CL2                 RECORD LENGTH                        02240000
DSCKEYL  DS    CL1                 KEY LENGTH                           02260000
DSCRKP   DS    CL2                 KEY LOCATION                         02280000
DSCDSIND DS    CL1                                                      02300000
DSCSCALO DS    CL4                                                      02320000
DSCLSTAR DS    CL3                 LAST USED TRACK AND BLOCK ON TRACK   02340000
DSCTRBAL DS    CL2                 BYTES REMAINING ON LAST TRACK USED   02360000
         DS    CL2                 RESERVED                             02370000
DSCEXTYP DS    CL1                 EXTENT TYPE INDICATOR                02380000
DSCEXTSQ DS    CL1                 EXTENT SEQUENCE NUMBER               02400000
DSCLOWLM DS    CL4                                                      02420000
DSCUPPLM DS    CL4                                                      02440000
DSCEXT1  DS    CL10                                                     02460000
DSCEXT2  DS    CL10                                                     02480000
DSCNEXT  DS    CL5                 POINTER TO NEXT RECORD               02500000
DSCCORE  DS    CL4                 CORE ADDRESS OF NEXT DSCB RECORD     02520000
DSCBEND  EQU   *                                                        02540000
         SPACE 1                                                        02560000
*********************************************************************** 02570000
*                                                                       02572000
*        DATA SET CONTROL BLOCK (FORMAT 3) KEY AREA                     02580000
*                                                                       02592000
*********************************************************************** 02594000
         SPACE 1                                                        02600000
         ORG   DXDSCB                                                   02620000
DXDSCB3K DS    0CL40                                                    02640000
DSCBF3C  DC    X'03030303'                                              02660000
DSCBEXSK DS    0CL40                                                    02680000
DSCBEXTY DS    CL1                 EXTENT TYPE INDICATOR                02700000
DSCBEXSQ DS    CL1                 EXTENT SEQUENCE NUMBER               02720000
DSCBLLMT DS    CL4                 CCHH LOWER LIMIT                     02740000
DSCBULMT DS    CL4                 CCHH UPPER LIMIT                     02760000
DSCBEX2  DS    CL10                ADDITIONAL EXTENT                    02780000
DSCBEX3  DS    CL10                ADDITIONAL EXTENT                    02800000
DSCBEX4  DS    CL10                ADDITIONAL EXTENT                    02820000
         SPACE 1                                                        02840000
*********************************************************************** 02850000
*                                                                       02852000
*        DATA SET CONTROL BLOCK (FORMAT 3) RECORD AREA                  02860000
*                                                                       02862000
*********************************************************************** 02870000
         SPACE 1                                                        02880000
         ORG   DXDSCB                                                   02900000
DSCBFMID DC    C'3'                FORMAT ID                            02920000
DSCBEXSD DS    0CL90               ADDITIONAL EXTENTS                   02940000
DSCBEX5  DS    CL10                ADDITIONAL EXTENT                    02960000
DSCBEX6  DS    CL10                ADDITIONAL EXTENT                    02980000
DSCBEX7  DS    CL10                ADDITIONAL EXTENT                    03000000
DSCBEX8  DS    CL10                ADDITIONAL EXTENT                    03020000
DSCBEX9  DS    CL10                ADDITIONAL EXTENT                    03040000
DSCBEXA  DS    CL10                ADDITIONAL EXTENT                    03060000
DSCBEXB  DS    CL10                ADDITIONAL EXTENT                    03080000
DSCBEXC  DS    CL10                ADDITIONAL EXTENT                    03100000
DSCBEXD  DS    CL10                ADDITIONAL EXTENT                    03120000
DSCBNEXT DS    CL5                 CCHHR OF NEXT FORMAT 3 DSCB          03140000
         SPACE 1                                                        03160000
*********************************************************************** 03170000
*                                                                       03172000
*        MESSAGE AREA                                                   03180000
*                                                                       03182000
*********************************************************************** 03190000
         SPACE 1                                                        03200000
         ORG   DXDSCB                                                   03220000
REPLYLTH DS    CL1                                                      03240000
REPLYADR DS    CL3                                                      03260000
REPLYECB DS    CL4                                                      03280000
MSGLSTSZ DS    CL2  MSG LENGTH                                     DM0Q 03290000
MCSFLAGS DS    CL2  FLAG FIELD FOR MCS                             DM0Q 03300000
MESSAGEA DS    CL68 MESSAGE AREA                                   DM0Q 03310000
DESCODE  DS    CL2  DESCRIPTOR CODE FOR MCS                        DM0Q 03320000
ROUTCODE DS    CL2  ROUTING CODE FOR MCS                           DM0Q 03330000
REPLY    DS    CL12 REPLY AREA                                     DM0Q 03340000
*                                                                       03360000
         ORG   MESSAGEA                                                 03380000
         SPACE 1                                                        03390000
*********************************************************************** 03392000
*                                                                       03400000
*        DEFINITION OF LENGTH OF MESSAGE COMPONENTS                     03420000
*                                                                       03440000
*********************************************************************** 03450000
         SPACE 1                                                        03452000
MSERL    EQU   3                        MESSAGE SERIAL NUMBER LENGTH    03460000
MINSTL   EQU   6                        MSG INSTRUCTION LTH INC MSG SER 03480000
MUNL     EQU   3                        MESSAGE UNIT NAME LENGTH        03500000
MVOLL    EQU   6                        MESSAGE VOLUME SERIAL LENGTH    03520000
         SPACE 1                                                        03530000
*********************************************************************** 03532000
*                                                                       03534000
* MTXTL        LENGTH MAY BE DEFINED BY EACH MODULE TO FIT REQUIREMENT  03540000
* MSGLTH       LENGTH OF FULL MSG DEFINED BY EACH MODULE                03560000
*                                                                       03562000
*********************************************************************** 03564000
         SPACE 1                                                        03570000
*********************************************************************** 03572000
*                                                                       03574000
*        MESSAGE FORMAT IS 'IEC000A M 000,00000  (TEXT)         '       03580000
*                                                                       03582000
*********************************************************************** 03590000
         SPACE 1                                                        03592000
MSGIOSUP DC    CL3'IEC'                 I/O SUPPORT MESSAGE IDENTITY    03600000
MSGSER   DS    0CL3                     MESSAGE SERIAL NUMBER           03620000
         ORG   MSGSER+MSERL-1                                           03640000
MSGSERLO DS    CL1                      VOLUME SERIAL LO ORDER BYTE     03660000
         ORG   MSGSER                                                   03680000
MSGINSTR DC    CL6'000A M'              MESSAGE INSTRUCTION INCL MSGSER 03700000
         ORG   MSGINSTR+MINSTL-1                                        03720000
MSGACTN  DS    CL1                      MESSAGE ACTION REQD BY OPERATOR 03740000
         DC    C' '                                                     03760000
MSGUN    DC    CL3'000'                 UNIT NAME THAT MSG REFERS TO    03780000
         DC    C','                                                     03800000
MSGVOLSR DC    CL6'000000'              VOLUME SERIAL THAT MSG REFRS TO 03820000
         DC    C','                                                     03840000
MSGTEXT  DS    0CL47                                               DM0Q 03860000
         SPACE 1                                                        03880000
*********************************************************************** 03892000
*                                                                       03894000
*        JOB FILE CONTROL BLOCK AREA - SEE 'JFCB'                       03900000
*                                                                       03910000
*********************************************************************** 03912000
         SPACE 1                                                        03920000
         ORG   DSCBEND                                                  03940000
DXJBF    DS    0CL176                                                   03960000
*        IEFJFCBN                                                Y02080 03980000
         IEFJFCBN                                                       03990000
         SPACE 1                                                        03992000
*********************************************************************** 04000000
*                                                                       04010000
*        O/C/E INTERNAL CONTROL BLOCKS AREA -                           04020000
*        SEE 'ECB', 'IOB', 'DEB', 'DCB'                                 04020400
*        THE CONTROL BLOCK AREAS THAT FOLLOW (DXECB, DXIOB,             04020800
*        DXADDR, DXXXX, AND THE CHANNEL COMMAND WORDS) ARE              04021200
*        USED BY THE O/C/EOV ROUTINES TO PERFORM I/O: READ              04021600
*        AND WRITE LABELS, POSITION TAPE VOLUMES, ETC.                  04021700
*                                                                       04022000
*********************************************************************** 04030000
         SPACE 1                                                        04040000
DXECB    DS    0CL4                     EVENT CONTROL BLOCK             04060000
         DC    X'00000000'                                              04080000
         SPACE 1                                                        04100000
*********************************************************************** 04110000
*                                                                       04112000
*        O/C/E INTERNAL INPUT/OUTPUT BLOCK                              04120000
*                                                                       04130000
*********************************************************************** 04132000
*                                                                       04134000
*  IF IOB=NO IS SPECIFIED 'DXIOB CL32' WILL BE THE ONLY                 04136000
*  FIELD GENERATED IN THE IOB SECTION OF IECDSECT.                      04138000
*  IF IOB=YES IS SPECIFIED OR IF IOB= IS OMITTED ALL IOB LABELS,        04138400
*  AS DESCRIBED IN THE IOB SECTION OF THIS MACRO, WILL BE EXPANDED.     04138800
*                                                                       04139200
*********************************************************************** 04139600
         SPACE 1                                                        04140000
         AIF   ('&IOB' EQ 'NO').IECA010                          S21940 04150000
         AIF   ('&IOB' EQ 'YES').IECA005                         S21940 04152000
         IHBERMAC 183,&IOB,YES                                          04154000
.IECA005 ANOP                                                    S21940 04156000
DXIOB    DS    0CL32                                                    04160000
IOBWRITE EQU   X'40' -                  IOB USE FOR WRITE        Y02080 04170000
IOBREAD  EQU   X'20' -                  IOB USED FOR READ        Y02080 04172000
IOBFLAG1 DC    X'00'                                                    04180000
IOBUNREL EQU   X'02' -                  UNRELATED FLAG           Y02080 04190000
IOBFLAG2 DC    X'00'                                                    04200000
IOBSENSE DS    0H                                                       04220000
IOBSENS0 DS    CL1                                                      04240000
IOBSENS1 DS    CL1                 SENSE BYTE "1"                       04260000
IOBECBPT DS    XL1                                                      04280000
         DC    AL3(DXECB)                                               04300000
IOBCSW   DS    0D                                                       04320000
IOBCOMAD DC    X'00000000'         KEY,0000,COMMAND ADDRESS             04340000
IOBSTAT0 DC    X'00'               STATUS BYTE 0                        04360000
IOBSTAT1 DC    X'00'               STATUS BYTE 1                        04380000
IOBCNT   DC    X'0000'             COUNT                                04400000
IOBSIOCC DS    XL1                                                      04420000
IOBSTART DC    AL3(DXCCW)                                               04440000
IOBWGHT  DS    XL1                                                      04460000
IOBDCBPT DC    AL3(DXDCB)                                               04480000
         DS    XL1                                                      04500000
         DS    XL3                                                      04520000
IOBINCAM DC    X'0000'                                                  04540000
IOBERRCT DS    XL2                                                      04560000
         AGO   .IECA015                                          S21940 04570000
.IECA010 ANOP                                                    S21940 04570100
DXIOB    DS    CL32                                              S21940 04570400
.IECA015 ANOP                                                    S21040 04572000
         SPACE 1                                                        04572400
DXDAADDR DS    D                   DIRECT ACCESS ADDRESS (MBBCCHHR)     04580000
         SPACE 1                                                        04600000
*********************************************************************** 04610000
*                                                                       04612000
*        O/C/E INTERNAL DATA EXTENT BLOCK                               04620000
*                                                                       04622000
*********************************************************************** 04630000
         SPACE 1                                                        04640000
DYYYY    DS    0CL44                                                    04660000
DXDEB    EQU   DYYYY-4                                                  04680000
DXDEBDEB DC    X'00000000'                                              04700000
DXDEBOFL DS    0CL1                                                     04720000
DXDEBIRB DC    X'00000000'                                              04740000
DXDEBSYS DC    X'00000000'                                              04760000
DXDEBUSR DC    X'00000000'                                              04780000
DXDEBECB DC    X'00000000'                                              04800000
DXDEBID  DS    0CL1                                                     04820000
DXDEBDCB DC    AL4(DXDCB)                                               04840000
DXDCBAD  EQU   DXDEBDCB                                                 04860000
DXDEBAPP DS    CL4                                                      04880000
DXDEBMOD DS    0CL1                                                     04900000
DXDEBUCB DS    F                                                        04920000
DXDEBBIN DS    H                                                        04940000
DXDEBSCC DS    H                                                        04960000
DXDEBSHH DS    H                                                        04980000
DXDEBECC DS    H                                                        05000000
DXDEBEHH DS    H                                                        05020000
DXDEBNTR DS    H                                                        05040000
         SPACE 1                                                        05060000
*********************************************************************** 05070000
*                                                                       05072000
*        O/C/E INTERNAL DATA CONTROL BLOCK                              05080000
*                                                                       05090000
*********************************************************************** 05092000
         SPACE 1                                                        05100000
DXXXX    DS    0F                                                       05120000
DXDCB    EQU   DXXXX-44            POINTER TO RELATIVE BEGINNING OF DCB 05140000
DXDCBDEB DC    A(DXDEB)                                                 05160000
         SPACE 1                                                        05180000
*********************************************************************** 05190000
*                                                                       05192000
*        O/C/E INTERNAL CHANNEL CONTROL WORDS                           05194000
*                                                                       05196000
*********************************************************************** 05204000
         SPACE 1                                                        05220000
         CNOP  0,8                                                      05240000
DXCCW    DS    0CL96                                                    05260000
DXCCW1   DS    D                                                        05280000
DXCCW2   DS    D                                                        05300000
DXCCW3   DS    D                                                        05320000
DXCCW4   DS    D                                                        05340000
DXCCW5   DS    D                                                        05360000
DXCCW6   DS    D                                                        05380000
DXCCW7   DS    D                                                        05400000
DXCCW8   DS    D                                                        05420000
DXCCW9   DS    D                                                        05440000
DXCCW10  DS    D                                                        05460000
DXCCW11  DS    D                                                        05480000
DXCCW12  DS    D                                                        05500000
         SPACE 1                                                 Y02080 05510000
DXOLDVOL DS    CL6                      LAST VOL SER IN EOV    @G32DSMI 05516000
DXRCFLAG DS    X                        RACF FLAG BYTE         @G32DSMI 05516600
DXRCOUT  EQU   X'80'                    RACF AUTH FOR OUTPUT   @G32DSMI 05517200
DXRCINP  EQU   X'40'                    RACF AUTH FOR INPUT    @G32DSMI 05517800
DXRCDEF  EQU   X'20'                    RACDEF DELETE NEEDED   @G32DSMI 05518400
DXFLAGG1 DS    X                        FLAG BYTE              @ZA40178 05519000
DXFLAG1  EQU   DXFLAGG1                 FLAG BYTE              @ZA40178 05519100
DXEX0A01 EQU   X'80'                    IFG0EX0A ASKS REREAD   @G60ASRB*05519300
                                        OF DSCB NOT FOUND-NEXT @G60ASRB*05519400
                                        NOT FOUND SKIPS EXIT   @G60ASRB 05519600
DXNRECAT EQU   X'40'                    DSN CHANGED DURING OPENJ  @F01A 05519800
         SPACE 1                                                        05520000
*********************************************************************** 05522000
*                                                                       05524000
*        O/C/E COMMON EXTENDED MAIN WORK AREA                           05530000
*                                                                       05530400
*********************************************************************** 05532000
         SPACE 1                                                        05534000
DXXCTL   DS    CL8                      TRANSFER CONTROL AREA    Y02134 05534400
         SPACE 1                                                 Y02134 05534800
DXWORK   DS    F                        WORK FIELD               Y02134 05535200
DXWORK1  DS    F                        WORK FIELD               Y02134 05535600
DXWORK2  DS    F                        WORK FIELD               Y02134 05535700
DXWORK3  DS    F                        WORK FIELD               Y02134 05535800
DXWORK4  DS    F                        WORK FIELD               Y02134 05535900
         SPACE 1                                                 Y02134 05536700
DXVOLSR  DS    0CL18                    VOLUME SERIAL NUMBERS    Y02080 05538600
DXVOLMT1 DS    0CL6                     VOLUME TO BE DISMOUNTED  Y02134 05540000
DXVOLSR1 DS    CL6                      VOLUME TO BE DISMOUNTED  Y02134 05540200
DXVOLMT2 DS    0CL6                     VOLUME TO BE MOUNTED     Y02134 05541000
DXVOLSR2 DS    CL6                      VOLUME TO BE MOUNTED     Y02134 05541800
DXVOLMT3 DS    0CL6                     LOOK AHEAD MOUNT VOLUME  Y02134 05542600
DXVOLSR3 DS    CL6                      LOOK AHEAD MOUNT VOLUME  Y02134 05543400
         SPACE 1                                                        05544200
DXVOLSEQ DS    H                        VOLUME SEQUENCE NUMBER   Y02080 05545000
DXNOUNIT DS    H                        NUMBER UNITS ALLOCATED   Y02080 05546300
DXUNITOF DS    H                        OFFSET TO CURRENT UNIT   Y02080 05546600
         SPACE 1                                                 Y02080 05550000
DXRESSW  DS    CL1                      RESIDENT ROUTINE INDICTR Y02134 05552000
DXWKEYSV DS    AL1                      SAVED KEY OF IECRES CALL Y02082 05554000
DXUKEY   DS    AL1                      O/C/E CALLERS KEY        Y02080 05555200
DXEXTSW  DS    AL1                      EXTEND SWITCH            Y02080 05555600
         SPACE 1                                                 Y02080 05556100
*********************************************************************** 05556600
*                                                                       05557000
*        POINTERS TO CONTROL BLOCKS IN PROTECTED STORAGE                05558000
*                                                                       05558400
*********************************************************************** 05566400
         SPACE 1                                                 Y02080 05574600
DXASCBAD DS    AL4                      POINTER TO ASCB          Y02080 05582600
DXTCBADR DS    AL4                      POINTER TO TCB           Y02080 05590600
DXJSCBAD DS    AL4                      POINTER TO JSCB          Y02080 05598600
DXDSABQD DS    AL4                      POINTER TO DSAB QDB      Y02080 05606600
DXDSABAD DS    AL4                      POINTER TO FIRST DSAB    Y02080 05616600
DXDSAB   DS    AL4                      POINTER TO CURRENT DSAB  Y02080 05618600
DXDEBXAD DS    AL4                      POINTER TO DEB EXTENSION Y02080 05626600
DXTIOTAD DS    AL4                      POINTER TO TIOT          Y02080 05636600
DXUCBADR DS    AL4                      POINTER TO CURRENT UCB   Y02080 05646600
DXUCBSAV DS    AL4                      SAVED UCB POINTER        Y02134 05646700
         SPACE 1                                                 Y02080 05647000
*********************************************************************** 05648900
*                                                                       05650900
*        USER DCB COPY POINTERS AREA:                                   05651100
*                                                                       05652700
*********************************************************************** 05652800
         SPACE 1                                                 Y02082 05655000
*                                                                Y02082 05656600
* ORIGINAL DCB INFO NEEDED BY INIT AND INITIAL COPY              Y02082 05656700
*                                                                Y02082 05656800
         SPACE 1                                                 Y02082 05656900
* INFO FROM COMMON INTERFACE                                     Y02082 05657000
         ORG   DXWORK                   AFTER FOUNDATION         Y02134 05657400
DXWDSORG DS    0BL2                     COPIED DATA SET ORG USED Y02082 05657800
DXWDSRG1 DS    BL1                      FIRST BYTE OF DCBDSORG   Y02082 05657900
DXWDSRG2 DS    BL1                      SECOND BYTE OF DCBDSORG  Y02082 05658000
         SPACE 1                                                 Y02082 05658200
* FOUNDATION BEFORE OPEN                                         Y02082 05658300
         ORG   DXWORK+4                 OVERLAY 16 BYTES         Y02082 05658400
DXWFOUN  DS    0CL12                    DCB FOUNDATION           Y02082 05658500
DXWDDNAM DS    CL8                      DDNAME                   Y02082 05658600
DXWOFLGS DS    BL1                      OPEN FLAGS               Y02082 05658700
DXWIFLG  DS    BL1                      ERROR FLAGS FOR IOS      Y02082 05658800
DXWMACR  DS    0BL2                     TYPE I/O MACRO INSTR     Y02082 05658900
DXWMACR1 DS    BL1                      FIRST BYTE DCBMACR1      Y02082 05659000
DXWMACR2 DS    BL1                      SECOND BYTE DCBMACR2     Y02082 05659200
         SPACE 1                                                 Y02082 05659300
* FOUNDATION AFTER OPEN                                          Y02082 05659400
         ORG   DXWORK+4                 OVERLAY 4 WORDS          Y02082 05659500
DXWTIOT  DS    H                        OFFSET TO DD ENTRY TIOT  Y02082 05659600
DXWMACRF DS    0BL2                     TYPE I/O MACRO INSTR     Y02082 05659700
DXWMACF1 DS    BL1                      FIRST BYTE DCBMACF1      Y02082 05659800
DXWMACF2 DS    BL1                      SECOND BYTE DCBMACF2     Y02082 05660000
DXWDEBAD DS    0A                       ADDR OF DEB              Y02082 05660400
DXWIFLGS DS    BL1                      ERROR FLAGS FOR IOS      Y02082 05660500
         DS    AL3                      DEB ADDR                 Y02134 05660600
         ORG   DXWORK+16                ORG PAST FOUNDATION      Y02082 05660700
DXWCOPYE DS    BL1                      COPY ERROR CODE:         Y02082 05661000
*                                       0 = GOOD, 1 = BAD        Y02082 05661400
DXWMCR   DS    0BL2                     COMMON MACREF            Y02134 05661800
DXWMCR1  DS    BL1                      FIRST BYTE OF DCB MACREF Y02134 05661900
DXWMCR2  DS    BL1                      SECOND BYTE OF DCB MACRF Y02134 05662000
         DS    0F                                                Y02082 05662100
         ORG   ,                        RESET LOCATION COUNTER   Y02082 05662200
DXUDCBAD DS    AL4                      POINTER TO USER DCB      Y02082 05662500
DXPDCBAD DS    AL4                      POINTER TO COPIED DCB    Y02082 05663800
DXUDCBPL DS    H                        LNTH OF USER DCB PREFIX  Y02082 05664200
DXUDCBML DS    H                        LNTH OF MOVED DCB        Y02082 05664600
DXPRPARC DS    AL4                      SAVED PARM LIST POINTER  Y02082 05664700
         SPACE 1                                                 Y02080 05667000
*********************************************************************** 05667600
*                                                                       05668200
*        ACCESS METHOD AREA                                      Y02080 05668900
*                                                                       05670200
*********************************************************************** 05671500
         SPACE 1                                                 Y02080 05672800
DXMSGADR DS    AL4                      POINTER TO MSG CSECT     Y02080 05674100
         SPACE 1                                                 Y02080 05675800
*********************************************************************** 05676700
*                                                                       05678000
*        RECOVERY ROUTINE DCB AUDIT TRAIL AREA                   Y02080 05679300
*                                                                       05680600
*********************************************************************** 05681900
         SPACE 1                                                 Y02080 05683200
DXATCOM1 DS    0CL4                     COMMON O/C/E AUDIT INFO  Y02144 05683300
*                                                                Y02144 05683700
DXATGENS DS    B                        GENERAL STATUS           Y02144 05684100
*                                                                Y02144 05684500
DXATDMCT EQU   X'80'                    DATA MGMT CNT INCREMENT  Y02144 05684900
DXATREFR EQU   X'40'                    ON, DON'T COPY BACK DCB  YM1275 05685300
DXATDISP EQU   X'20'                    VOLUME DISP PERFORMED    Y02144 05685700
DXATJFCB EQU   X'10'                    JFCB READ OK             Y02144 05686100
DXATVGIV EQU   X'0E'                    A.M. STRING/CI GIVEN CTL Y02144 05686500
DXATVSMG EQU   X'08'                    VSAM STRING GIVEN CONTRL Y02144 05686900
DXATVTMG EQU   X'04'                    VTAM STRING GIVEN CONTRL Y02144 05687300
DXATVCIG EQU   X'02'                    ISAM-VSAM CI GIVEN CNTRL Y02144 05687700
DXATSRET EQU   X'01'                    A.M. STRING RETURNED CTL Y02144 05688100
*                                                                Y02144 05688500
DXATCLOS DS    C                        CLOSE FINAL PROCESSING   Y02144 05688900
*                                                                Y02144 05689300
DXATDBCK EQU   X'02'                    DEB DELETED FROM DEB TBL Y02144 05689400
DXATDELT EQU   X'04'                    A.M. ROUTINES AND I/O    Y02144 05689700
*                                       APPENDAGES DELETED       Y02144 05690100
DXATUTOT EQU   X'08'                    USER TOTALING SAVE AREA  Y02144 05690500
*                                       RELEASED                 Y02144 05690900
DXATRDCB EQU   X'0C'                    DCB RESTORATION FINISHED Y02144 05691300
DXATRDEB EQU   X'10'                    DEB REMOVED FR DEB CHAIN Y02144 05691400
DXATSABS EQU   X'14'                    STARTED DECREMENTING     Y02144 05691500
*                                       OPEN COUNT IN DSAB(S)    Y02144 05691600
DXATSABF EQU   X'18'                    FINISHED DECREMENTING    Y02144 05691800
*                                       OPEN COUNT IN DSAB(S)    Y02144 05691900
DXATDMS  EQU   X'1C'                    STARTED DECREMENTING     Y02144 05692000
*                                       DATA MGMT CNT IN UCB(S)  Y02144 05692100
DXATDMF  EQU   X'20'                    FINISHED DECREMENTING    Y02144 05692300
*                                       DATA MGMT CNT IN UCB(S)  Y02144 05692400
DXATIRB  EQU   X'28'                    IRB (IF ANY) HANDLED     Y02144 05692600
DXATRRQ  EQU   X'2C'                    RELATED REQUEST Q FREED  Y02144 05692700
DXATDEB  EQU   X'30'                    DEB CORE FREED           Y02144 05692800
DXATDEBX EQU   X'34'                    DEB EXTENSION CORE FREED Y02144 05692900
*                                                                Y02144 05693000
DXATOUTA DS    B                        OUTPUT TAPE DATA SET     Y02144 05693100
*                                       STATUS                   Y02144 05693200
DXATVLHD EQU   X'80'                    VOL1 OR HDR LBL WRITTEN  Y02144 05693300
DXATHDTM EQU   X'40'                    TM WRITTEN AFTER HDR LBL Y02144 05693400
DXATDATM EQU   X'20'                    TM WRITTEN AFTER DATA    Y02144 05693500
DXATTRL1 EQU   X'10'                    TRL1 LABEL WRITTEN       Y02144 05693700
DXATTRL2 EQU   X'08'                    TRL2 LABEL WRITTEN       Y02144 05694100
DXATTTM1 EQU   X'04'                    1ST TRAILING TM WRITTEN  Y02144 05694500
DXATTTM2 EQU   X'02'                    2ND TRAILING TM WRITTEN  Y02144 05694900
DXATNSL  EQU   X'01'                    NSL OUTPUT RTN GIVEN CTL Y02144 05695300
*                                                                Y02144 05695700
DXATDACC DS    B                        DIRECT ACCESS D/S STATUS Y02144 05696100
*                                                                Y02144 05696500
DXATF1CE EQU   X'80'                    FMT 1 DSCB REREAD IF     Y02144 05696900
*                                       CLOSE EXECS CALLED EOV   Y02144 05697300
DXATTRAK EQU   X'40'                    LAST TRACK USED & TRACK  Y02144 05697700
*                                       BALANCE FIELDS IN DSCB   Y02144 05698100
*                                       UPDATED FOR OUTPUT PS    Y02144 05698500
*                                       AND PO DATA SETS         Y02144 05698900
DXATDRCT EQU   X'20'                    DIRECTORY COUNT UPDATED  Y02144 05699300
DXATUPDB EQU   X'10'                    UPDATED DSCB WRITTEN     Y02144 05699700
DXATSMF  EQU   X'08'                    SMF RTN GIVEN CONTROL    YM4614 05700100
DXATEOF  EQU   X'02'                    EOF MARK WRITTEN: PS D/S Y02144 05700900
DXATRDDB EQU   X'01'                    DSCB READ                Y02144 05701300
*                                                                Y02144 05701700
DXATCOM2 DS    0CL4                     COMMON O/C/E AUDIT INFO  Y02144 05702100
*                                                                Y02144 05702500
DXATEOV  DS    B                        EOV PROCESSING           Y02144 05702900
*                                                                Y02144 05703300
DXATCCAT EQU   X'80'                    CONCATENATION            Y02144 05703700
DXATNVOL EQU   X'40'                    NEW VOLUME               Y02144 05704100
DXATDCHN EQU   X'20'                    DEB DECHAINED            Y02144 05704500
DXATDFRE EQU   X'10'                    DEB CORE FREED           Y02144 05704600
DXATDNEW EQU   X'08'                    NEW DEB CORE GOTTEN      Y02144 05704700
DXATREMT EQU   X'04'                    DEB REMOVED FROM DEB TBL Y02144 05704800
DXATDADM EQU   X'02'                    EOV WENT TO EXTEND       Y02144 05705200
DXATVCAT EQU   X'01'                    EOV WENT TO VSAM CATLG   Y02144 05705300
*                                                                Y02144 05705400
DXATOPEN DS    B                        OPEN PROCESSING          Y02144 05705500
*                                                                Y02144 05705600
DXATIGN  EQU   X'80'                    IGNORE OPTION ACTIVE     Y02144 05708300
DXATMODS EQU   X'40'                    DCB MERGE LOOP STARTED   Y02144 05708400
DXATMODE EQU   X'20'                    DCB MERGE DONE           Y02144 05709000
DXATMODM EQU   X'10'                    DCB MOD MASK IN DEB      Y02144 05709400
*                                       EXTENSION IS VALID       Y02144 05709800
DXATDSIN EQU   X'08'                    DSAB COUNT INCR STARTED  Y02144 05711000
DXATDFIN EQU   X'04'                    DSAB COUNT INCR FINISHED Y02144 05711400
*                                                                Y02144 05711500
DXATALL  DS    B                        COMMON AUDIT FLAGS       YM7099 05712600
*                                                                YM7099 05712800
DXATFC   EQU   X'80'                    PAST PT FOR NORMAL CLOSE YM7099 05713000
*                                       MUST ATTEMPT FORCE CLOSE YM7099 05713200
*                                       ON EOV OR TCLOSE ERROR   YM7099 05713400
DXATSWAP EQU   X'40'                    SYSEVENT OKSWAP INDICATR YM8511 05713600
         DS    CL1                      RESERVED                 YM7099 05713800
DXATCOM3 DS    AL4                      RRPLIST ADDRESS          Y02144 05714600
DXATCOM4 DS    AL4                      CRSA PTR FOR RECOVERY    Y02144 05717400
         SPACE 1                                                 Y02080 05723000
DXATEXC1 DS    AL4                      EXECUTOR AUDIT TRAIL     Y02080 05725800
DXEXHASP EQU   X'80'                    HASP CONTROL IND       @ZA02504 05725900
DXEXTCAM EQU   X'40'                    TCAM CONTROL IND       @ZA41849 05726900
DXATEXC2 DS    AL4                      EXECUTOR AUDIT TRAIL     Y02080 05728600
*                                                                       05755700
**************************************************************** Y02080 05756600
*                                                                       05757000
DSECTSIZ EQU   *-DXLBL                  WORKAREA SIZE            Y02080 05763200
*                                                                       05769400
**************************************************************** Y02080 05775600
         MEND                                                           05781800
*                                                           @ZA72660C*/ 05788000
*%PLSGEN:;                                                   /*Y02134*/ 05794200
*/********************************************************************* 05800400
*                                                                       05806600
*        THIS MACRO IS USED TO DEFINE AND MAP THE O/C/E WORK AREA.      05856600
*                                                                       05906600
*        O/C/E = OPEN, OPEN TYPE=J, CLOSE, CLOSE TYPE=T,                05956600
*                EOV, FEOV, & RDJFCB.                                   06006600
*                                                                       06056600
*********************************************************************** 06106600
*                                                          @ZA72660C    06156600
*********************************************************************** 06206600
*                                                                       06256600
*        O/C/E WORK AREA FORMAT AND LENGTHS                             06306600
*                                                                       06356600
*********************************************************************** 06406600
*                                                                       06456600
*        VS2 RELEASE 03 DELETIONS/CHANGES                               06456700
*0000                                                          @ZA02504 06456800
*                                                                       06456900
*    1. O/C/E COMMON WORK AREA.                       TOTAL = 652 BYTES 06506600
*      2. VOLUME LABEL AREA.                                  100 BYTES 06556600
*      2. JOB FILE CONTROL BLOCK AREA (JFCB).                 176 BYTES 07206600
*      2. O/C/E INTERNAL EVENT CONTROL BLOCK AREA (ECB).        4 BYTES 07256600
*      2. O/C/E INTERNAL INPUT/OUTPUT BLOCK AREA (IOB).        40 BYTES 07306600
*      2. O/C/E INTERNAL DATA EXTENT BLOCK AREA (DEB).         44 BYTES 07356600
*      2. O/C/E INTERNAL DATA CONTROL BLOCK AREA (DCB).         4 BYTES 07406600
*      2. O/C/E INTERNAL CONTROL WORDS AREA (CCW).             96 BYTES 07456600
*      2. O/C/E COMMON EXTENDED WORK AREAS.                    64 BYTES 07506600
*      2. O/C/E PROTECTED CONTROL BLOCK POINTERS AREA.         40 BYTES 07556600
*      2. USER DCB COPY POINTERS AREA.                         16 BYTES 07606600
*      2. O/C/E ACCESS METHOD AREA.                             4 BYTES 07656600
*      2. O/C/E RECOVERY ROUTINE AUDIT TRAIL AREA.             24 BYTES 07706600
*      2. RAC INFORMATION.                                      8 BYTES 07716600
*      2. O/C/E COMMON EXTENDED WORK AREAS EXTENSION           32 BYTES 07726600
*                                                             --------- 07756600
*                                           DSECTSIZ TOTAL =  652 BYTES 07806600
*                                                                       07856600
**********************************************************************/ 07906600
*DCL 1 FORCORE BASED(RCORE) BDY(DWORD),                                 07956600
*      2 DXDSCB   CHAR(96),             /*DATA SET CONTROL BLOCK     */ 08006600
*        3 DXLBL    CHAR(80),           /*DATA SET LABEL             */ 08056600
*      2 DSCCORE  PTR(31),              /*CORE ADDRESS OF NEXT DSCB  */ 08106600
*      2 DXJBF    CHAR(176),            /*JOB FILE CONTROL BLOCK     */ 08156600
*      2 DXECB    CHAR(4),              /*INTERNAL ECB               */ 08206600
*      2 DXIOB    CHAR(32),             /*INTERNAL IOB               */ 08256600
*      2 DXDAADDR CHAR(8),              /*MBBCCHHR                   */ 08306600
*        3 *        CHAR(4),            /*FILLER               YM8551*/ 08316600
*        3 DXDEB    CHAR(4),            /*INTERNAL DEB         YM8551*/ 08326600
*      2 DXDCB    CHAR(48) BDY(WORD),   /*INTERNAL DCB               */ 08356600
*        3 *        CHAR(20),           /*FILLER               YM8551*/ 08366600
*        3 DXDEBDCB PTR(31),            /*INTERNAL DCB PTR     YM8551*/ 08376600
*        3 *        CHAR(20),           /*FILLER               YM8551*/ 08406600
*        3 DXDCBDEB PTR(31),            /*INTERNAL DCB'S DEB POINTER */ 08456600
*                                                                       08466600
*/*            O/C/E INTERNAL CCWS                                   */ 08506600
*                                                                       08556600
*      2 DXCCW    CHAR(96) BDY(DWORD),  /*CCW AREA                   */ 08606600
*        3 DXCCW1   CHAR(8) BDY(DWORD),                                 08656600
*        3 DXCCW2   CHAR(8) BDY(DWORD),                                 08706600
*        3 DXCCW3   CHAR(8) BDY(DWORD),                                 08756600
*        3 DXCCW4   CHAR(8) BDY(DWORD),                                 08806600
*        3 DXCCW5   CHAR(8) BDY(DWORD),                                 08856600
*        3 DXCCW6   CHAR(8) BDY(DWORD),                                 08906600
*        3 DXCCW7   CHAR(8) BDY(DWORD),                                 08956600
*        3 DXCCW8   CHAR(8) BDY(DWORD),                                 09006600
*        3 DXCCW9   CHAR(8) BDY(DWORD),                                 09056600
*        3 DXCCW10  CHAR(8) BDY(DWORD),                                 09106600
*        3 DXCCW11  CHAR(8) BDY(DWORD),                                 09156600
*        3 DXCCW12  CHAR(8) BDY(DWORD),                                 09206600
*                                                                       09506600
*/*            O/C/E COMMON EXTENDED WORKAREA                        */ 09556600
*                                                                       09606600
*      2 DXOLDVOL CHAR(6),              /* LAST VOL SER - EOV@G32DSMI*/ 09607400
*      2 DXRCFLAG CHAR(1),              /* RACF FLAG BYTE    @G32DSMI*/ 09607500
*        3 DXRCOUT BIT(1),              /* RACF AUTH FOR OUT @G32DSMI*/ 09607600
*        3 DXRCINP BIT(1),              /* RACF AUTH FOR IN  @G32DSMI*/ 09607700
*        3 DXRCDEF BIT(1),              /* RACDEF DELETE     @G32DSMI*/ 09607800
*        3 *       BIT(5),              /* RESERVED          @G32DSMI*/ 09607900
*      2 DXFLAGG1 CHAR(1),              /* FLAG BYTE         @ZA40178*/ 09608000
*        3 DXEX0A01 BIT(1),             /* IFG0EX0A ASKS     @G60ASRB   09608300
*                                          REREAD OF DSCB NOT@G60ASRB   09608600
*                                          FOUND-NEXT NOT    @G60ASRB   09608900
*                                          FOUND SKIPS EXIT  @G60ASRB*/ 09609200
*        3 DXNRECAT BIT(1),             /* DSN CHANGED...               09609400
*                                          ...DURING OPENJ  @ZA72660A*/ 09609600
*        3 *        BIT(6),             /* RESERVED         @ZA72660C*/ 09609800
*      2 DXXCTL   CHAR(8),              /*TRANSFER CONTROL AREA      */ 09610300
*      2 DXWORK   CHAR(4),              /*WORK FIELD                 */ 09610600
*      2 DXWORK1  CHAR(4),              /*WORK FIELD                 */ 09611000
*      2 DXWORK2  CHAR(4),              /*WORK FIELD                 */ 09616300
*      2 DXWORK3  CHAR(4),              /*WORK FIELD                 */ 09616400
*      2 DXWORK4  CHAR(4),              /*WORK FIELD                 */ 09616500
*      2 DXVOLSR CHAR(18),              /*VOLUME SERIAL NUMBERS      */ 09616600
*        3 DXVOLSR1 CHAR(6),            /*VOLUME TO BE DISMOUNTED    */ 09636600
*          4 DXVOLMT1 CHAR(6),          /*VOLUME TO BE DISMOUNTED    */ 09646600
*        3 DXVOLSR2 CHAR(6),            /*VOLUME TO BE MOUNTED       */ 09648600
*          4 DXVOLMT2 CHAR(6),          /*VOLUME TO BE MOUNTED       */ 09649000
*        3 DXVOLSR3 CHAR(6),            /*LOOK AHEAD MOUNT VOLUME    */ 09650600
*          4 DXVOLMT3 CHAR(6),          /*LOOK AHEAD MOUNT VOLUME    */ 09652600
*      2 DXVOLSEQ FIXED(15),            /*VOLUME SEQUENCE NUMBER     */ 09654600
*      2 DXNOUNIT FIXED(15),            /*NO. UNITS ALLOCATED        */ 09655000
*      2 DXUNITOF FIXED(15),            /*OFFSET TO CURRENT UNIT     */ 09705000
*      2 DXRESSW  CHAR(1),              /*RESIDENT ROUTINE INDICATOR */ 10006600
*      2 DXWKEYSV CHAR(1),              /*SAVED KEY OF IECRES CALL   */ 10016600
*      2 DXUKEY   CHAR(1),              /*CALLER'S KEY               */ 10036600
*      2 DXEXTSW  CHAR(1),              /*DADSM EXTEND SWITCH        */ 10086600
*                                                                       10186600
*/*            O/C/E PROTECTED CONTROL BLOCK POINTERS AREA           */ 10236600
*                                                                       10286600
*      2 DXASCBAD PTR(31),              /*ASCB ADDRESS               */ 10336600
*      2 DXTCBADR PTR(31),              /*TCB ADDRESS                */ 10386600
*      2 DXJSCBAD PTR(31),              /*ACTIVE JSCB ADDRESS        */ 10436600
*      2 DXDSABQD PTR(31),              /*DSAB QDB ADDRESS           */ 10486600
*      2 DXDSABAD PTR(31),              /*FIRST DSAB ADDRESS         */ 10536600
*      2 DXDSAB   PTR(31),              /*CURRENT DSAB ADDRESS       */ 10546600
*      2 DXDEBXAD PTR(31),              /*DEB EXTENSION ADDRESS      */ 10586600
*      2 DXTIOTAD PTR(31),              /*CURRENT TIOT ENTRY ADDRESS */ 10636600
*      2 DXUCBADR PTR(31),              /*UCB ADDRESS                */ 10686600
*      2 DXUCBSAV PTR(31),              /*SAVED UCB ADDRESS          */ 10696600
*        3 * CHAR(1),                   /*FLAG BYTE            YM6525*/ 10716600
*        3 DXUCBSVV PTR(24),            /*SAVED UCB ADDRESS    YM6525*/ 10720600
*                                                                       10736600
*/*            USER DCB COPY POINTERS AREA                           */ 10786600
*                                                                       10836600
*      2 DXUDCBAD PTR(31),              /*POINTER TO CALLER'S DCB    */ 10886600
*        3 * CHAR(1),                   /*FLAG BYTE            YM6525*/ 10906600
*        3 DXUACBAD PTR(24),            /*USER ADDR OF ACB/DCB YM6525*/ 10926600
*      2 DXPDCBAD PTR(31),              /*POINTER TO COPIED DCB      */ 10986600
*        3 * CHAR(1),                   /*FLAG BYTE            YM6525*/ 10990600
*        3 DXPACBAD PTR(24),            /*COPY ADDR OF ACB/DCB YM6525*/ 10994600
*      2 DXUDCBPL FIXED(15),            /*LENGTH OF USER DCB PREFIX  */ 10996600
*      2 DXUDCBML FIXED(15),            /*LENGTH OF MOVED DCB        */ 11006600
*      2 DXPRPARC PTR(31),              /*SAVED PARM LIST POINTER    */ 11036600
*                                                                       11136600
*      2 DXMSGADR PTR(31),              /*POINTER TO MSG CSECT       */ 11186600
*                                                                       11236600
*/*            RECOVERY ROUTINE DCB AUDIT TRAIL AREA                 */ 11286600
*                                                                       11336600
*      2 DXATCOM1        CHAR(4),       /*COMMON O/C/E AUDIT TRAIL   */ 11386600
*        3 DXATGENS      CHAR(1),       /*GENERAL STATUS             */ 11386700
*          4 DXATDMCT    BIT(1),        /*DATA MGMT CNT INCREMENTED  */ 11386800
*          4 DXATREFR    BIT(1),        /*ON,DON'T COPY DCB    YM1275*/ 11386900
*          4 DXATDISP    BIT(1),        /*VOLUME DISP PERFORMED      */ 11387000
*          4 DXATJFCB    BIT(1),        /*JFCB READ OK               */ 11387100
*          4 DXATVGIV    BIT(3),        /*A.M. STRING/CI GIVEN CONTRL*/ 11387200
*            5 DXATVSMG  BIT(1),        /*VSAM STRING GIVEN CONTROL  */ 11387300
*            5 DXATVTMG  BIT(1),        /*VTAM STRING GIVEN CONTROL  */ 11387400
*            5 DXATVCIG  BIT(1),        /*ISAM-VSAM CI GIVEN CONTROL */ 11387500
*          4 DXATSRET    BIT(1),        /*A.M. STRING RETURNED CONTRL*/ 11387600
*        3 DXATCLOS      FIXED(8),      /*CLOSE FINAL PROCESSING     */ 11387800
*        3 DXATOUTA      CHAR(1),       /*OUTPUT TAPE D/S STATUS     */ 11387900
*          4 DXATVLHD    BIT(1),        /*VOL1 OR HDR LABEL WRITTEN  */ 11388000
*          4 DXATHDTM    BIT(1),        /*TM WRITTEN AFTER HDR LABELS*/ 11388100
*          4 DXATDATM    BIT(1),        /*TM WRITTEN AFTER DATA      */ 11388200
*          4 DXATTRL1    BIT(1),        /*TRL1 LABEL WRITTEN         */ 11388300
*          4 DXATTRL2    BIT(1),        /*TRL2 LABEL WRITTEN         */ 11388400
*          4 DXATTTM1    BIT(1),        /*FIRST TRAILING TM WRITTEN  */ 11388500
*          4 DXATTTM2    BIT(1),        /*SECOND TRAILING TM WRITTEN */ 11388600
*          4 DXATNSL     BIT(1),        /*NSL OUTPUT RTN GIVEN CONTRL*/ 11388700
*        3 DXATDACC      CHAR(1),       /*DIRECT ACCESS D/S STATUS   */ 11388900
*          4 DXATF1CE    BIT(1),        /*FMT 1 DSCB REREAD IF CLOSE    11389000
*                                         EXECUTORS CALLED EOV       */ 11389100
*          4 DXATTRAK    BIT(1),        /*LAST TRACK USED AND TRACK     11389200
*                                         BALANCE FIELDS IN DSCB        11389300
*                                         UPDATED FOR OUTPUT PS AND     11389400
*                                         PO DATA SETS               */ 11389500
*          4 DXATDRCT    BIT(1),        /*DIRECTORY COUNT UPDATED FOR   11389600
*                                         BPAM DATA SET              */ 11389700
*          4 DXATUPDB    BIT(1),        /*UPDATED DSCB WRITTEN       */ 11389900
*          4 DXATSMF     BIT(1),        /*SMF RTN GIVEN CONTRL YM4614*/ 11390000
*          4 *           BIT(1),        /*RESERVED             YM4614*/ 11390100
*          4 DXATEOF     BIT(1),        /*EOF MARK WRITTEN FOR PS DS */ 11390200
*          4 DXATRDDB    BIT(1),        /*DSCB READ                  */ 11390300
*      2 DXATCOM2        CHAR(4),       /*COMMON O/C/E AUDIT TRAIL   */ 11436600
*        3 DXATEOV       CHAR(1),       /*EOV PROCESSING             */ 11436700
*          4 DXATCCAT    BIT(1),        /*CONCATENATION              */ 11436800
*          4 DXATNVOL    BIT(1),        /*NEW VOLUME                 */ 11436900
*          4 DXATDCHN    BIT(1),        /*DEB DECHAINED              */ 11437000
*          4 DXATDFRE    BIT(1),        /*DEB CORE FREED             */ 11437100
*          4 DXATDNEW    BIT(1),        /*NEW DEB CORE GOTTEN        */ 11437200
*          4 DXATREMT    BIT(1),        /*DEB REMOVED FROM DEB TBL   */ 11437300
*          4 DXATDADM    BIT(1),        /*EOV WENT TO EXTEND         */ 11437500
*          4 DXATVCAT    BIT(1),        /*EOV WENT TO VSAM CATLG 550Y*/ 11437600
*        3 DXATOPEN      CHAR(1),       /*OPEN PROCESSING            */ 11438000
*          4 DXATIGN     BIT(1),        /*IGNORE OPTION ACTIVE       */ 11438200
*          4 DXATMODS    BIT(1),        /*DCB MERGE LOOP STARTED     */ 11438300
*          4 DXATMODE    BIT(1),        /*DCB MERGE DONE             */ 11438700
*          4 DXATMODM    BIT(1),        /*DEBX DCB MOD MASK IS VALID */ 11438800
*          4 DXATDSIN    BIT(1),        /*DSAB COUNT INCR STARTED    */ 11439000
*          4 DXATDFIN    BIT(1),        /*DSAB COUNT INCR FINISHED   */ 11439400
*          4 *           BIT(2),        /*RESERVED                   */ 11439500
*        3 DXATALL       CHAR(1),       /*COMMON AUDIT FLAGS   YM7099*/ 11440000
*          4 DXATFC      BIT(1),        /*PAST POINT FOR NORMAL CLOSE-- 11441000
*                                         MUST ATTEMPT FORCE CLOSE ON   11441200
*                                         EOV OR TCLOSE ERROR  YM7099*/ 11441700
*          4 DXATSWAP    BIT(1),        /*SYSEVENT OKSWAP IND  YM8511*/ 11441900
*          4 *           BIT(6),        /*RESERVED             YM8511*/ 11442000
*        3 *             CHAR(1),       /*RESERVED                   */ 11460000
*      2 DXATCOM3        PTR(31),       /*RRPLIST ADDRESS            */ 11486600
*      2 DXATCOM4        PTR(31),       /*CRSA PTR USED BY RECOVERY  */ 11536600
*                                                                       11586600
*      2 DXATEXC1        CHAR(4),       /*A.M. EXECUTOR AUDIT TRAIL  */ 11636600
*        3 DXATEXB1      BIT(32),       /*A.M. EXECUTOR AUDIT TRAIL  */ 11636700
*          4 DXEXHASP BIT(1),           /*HASP IN CONTROL    @ZA02504*/ 11636800
*          4 DXEXTCAM BIT(1),           /*TCAM IN CONTROL    @ZAAPISP*/ 11656800
*      2 DXATEXC2        CHAR(4),       /*A.M. EXECUTOR AUDIT TRAIL  */ 11686600
*        3 DXATEXB2      BIT(32),       /*A.M. EXECUTOR AUDIT TRAIL  */ 11696700
*                                                                       11697100
*      2 DSECTSIZ CHAR(0) BDY(WORD);    /*END OF IECDSECT            */ 11698700
