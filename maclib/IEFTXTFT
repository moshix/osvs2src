*       %GOTO   TEXTPLS;                                                00400002
         MACRO                                                          00800002
         IEFTXTFT                                                       01200002
*%TEXTPLS:;                                                             01600002
*/*                                                                     02000002
*                                                                       02400002
*   MACMEAN  IEFTXTFT MEANS TEXT FORMAT                                 02800002
*   MACCOMP  Y-2  SC1B9/PZD02                                  @G16APPK 03200003
*   MACSTAT  Y-2  76322/G16APPK                                @G16APPK 03250003
*                                                                       04000002
*********************************************************************** 04400002
*                                                                     * 04800002
*  THIS MACRO IS USED TO MAP THE INTERNAL TEXT GENERATED BY THE       * 05200002
*  CONVERTER.   THE MACRO REFLECTS THE NEW FORMAT FOR INTERNAL TEXT,  * 05600002
*  IMPLEMENTED IN SUPPORT OF VS/2.   THE FORMATS FOR JOB,             * 06000002
*  PROC/EXEC AND DD DIFFER EXCEPT FOR THE FIRST TWO FIELDS -          * 06400002
*  THE LENGTH AND STATEMENT TYPE FIELDS ARE COMMON TO ALL THREE       * 06800002
*  FORMATS.  SUBSEQUENT REFERENCES TO A PARTICULAR TEXT STRING        * 07200002
*  ARE BASED UPON THE SETTING OF THE STATEMENT TYPE(STRINDCS).        * 07600002
*  FIELDS PRECEDING THE FIRST KEY FIELD ARE REFERRED TO AS THE        * 08000002
*  TEXT STRING PREFIX.                                                * 08400002
*                                                                     * 08800002
* STATUS - VS2 SU16 - IN THIS MACRO, SU 16 SUPPORTS           @G16APPK* 08850003
*          VPSS SUPPORT (SU 29 - @G29AN2E).                   @G16APPK* 08900003
*          MERGE SU 4,10,16 CODE TO REL 037 BASE PTF          @ZA28955* 08920003
*          ADD DTXPROC TO STRDINDC FOR USE IN IEFVFA & IEFVHE @ZA53693* 08935003
*                                                                     * 08950003
*********************************************************************** 09200002
*                                                                    */ 09600002
*       %GOTO    DCLPLS;                                                10000002
*/*                                                                     10400002
TEXT     DSECT                                                          10800002
*                                                                       11200002
*  THE FOLLOWING FIELDS ARE COMMON TO ALL TEXT STRING TYPES.            11600002
*                                                                       12000002
STRLTH   DS    CL2                 LENGTH OF TEXT STRING.               12400002
STRINDCS DS    CL1                 STATEMENT TYPE AND                   12800002
*                                  MISCELLANEOUS INDICATORS             13200002
JOBSTR   EQU   X'01'               JOB STATEMENT TEXT STRING            13600002
EXECSTR  EQU   X'02'               EXEC STATEMENT TEXT STRING           14000002
DDSTR    EQU   X'04'               DD STATEMENT TEXT STRING             14400002
PROCSTR  EQU   X'08'               PROC STATEMENT TEXT STRING           14800002
LASTSTMT EQU   X'10'               LAST STMT FOR THIS STEP.             15200002
         SPACE 3                                                        15600002
*                                                                       16000002
*  FORMAT FOR JOB TEXT STRING                                           16400002
*******************************************************************     16800002
*              2*        1*        1*        1*        1*        1*     17200002
*     STRLTH    *STRINDCS *STRJINDC *STRJIND2 *STRJLABD *STRJKEY  *     17600002
*              2*        1*        1*        1*        1*        1*     18000002
*******************************************************************     18400002
*                                                                       18800002
*                                                                       19200002
STRJINDC DS    CL1                 JOB INDICATORS                       19600002
JTXACCTN EQU   X'01'               ACCT NO. REQUIRED.                   20000002
JTXPROGN EQU   X'02'               PROGRAMMER NAME REQUIRED.            20400002
JTXJOBFL EQU   X'04'               JOB HAS BEEN FAILED.                 20800002
JTXSYSCK EQU   X'08'               JOB HAS SYSCHK DD.                   21200002
JTXCPSTF EQU   X'10'               C/R - FLUSH TO RESTART STEPNAME.     21600002
JTXMHEDR EQU   X'20'               MESSAGE HEADER HAS BEEN WRITTEN.     22000002
JTXREGDF EQU   X'40'               REGION VALUE IS A DEFAULT.           22400002
*                                                                       22800002
STRJIND2 DS    CL1                 BYTE 2 OF JOB TEXT INDICATORS.       23200002
*                                                                       23600002
STRJLABD DS    CL1                 BYPASS LABEL PROCESSING DEFAULT.     24000002
* ENTIRE BYTE IS USED, AS IEFVDA OR'S BYTE DIRECTLY INTO JFCB.          24400002
JTXLABNL EQU   X'01'               DEFAULT IS NO LABEL.                 24800002
JTXLABLP EQU   X'10'               DEFAULT IS BYPASS LABEL              25200002
*                                  PROCESSING.                          25600002
*  END OF JOB TEXT STRING PREFIX                                        26000002
STRJKEY  DS    0C                  VERB KEY FOR JOB TEXT STRING         26400002
STRJPFXL EQU   STRJKEY-TEXT        LENGTH OF JOB TEXT STRING PREFIX     26800002
         SPACE 3                                                        27200002
*                                                                       27600002
*  FORMAT FOR EXEC/PROC TEXT STRINGS                                    28000002
***************************************************                     28400002
*                  2*         1*       1*        1*                     28800002
*     STRLTH        *STRINDCS *STREINDC *STREKEY  *                     29200002
*                   *         *         *         *                     29600002
***************************************************                     30000002
*                                                                       30400002
*                                                                       30800002
         ORG   STRINDCS+1                                               31200002
*                                                                       31600002
STREINDC DS    CL1                 EXEC INDICATORS.                     32000002
ETXCPFLG EQU   X'01'               CHECKPT/RESTART EXEC STMT.           32400002
ETXSTPCT EQU   X'02'               STEP HAS A STEPCAT DD.               32800002
ETXSTPLB EQU   X'04'               STEP HAS A STEPLIB DD.               33200002
ETXPROC  EQU   X'08'               STATEMENT IS FROM A PROC.            33600002
ETXNODD  EQU   X'10'               STEP HAS NO DD STATEMENTS.           34000002
ETXPRCV  EQU   X'20'               STATEMENT INVOKES A PROCEDURE.       34400002
*  END OF EXEC/PROC TEXT STRING PREFIX                                  34800002
STREKEY  DS    0C                  VERB KEY FOR EXEC/PROC TEXT STRING   35200002
STREPFXL EQU   STREKEY-TEXT        LENGTH OF EXEC/PROC TEXT STRING PFX  35600002
         SPACE 3                                                        36000002
*                                                                       36400002
*  FORMAT FOR DD TEXT STRINGS                                           36800002
***************************************************                     37200002
*                  2*         1*       1*        1*                     37600002
*     STRLTH        *STRINDCS *STRDINDC *STRDKEY  *                     38000002
*                   *         *         *         *                     38400002
***************************************************                     38800002
*                                                                       39200002
*                                                                       39600002
         ORG   STRINDCS+1                                               40000002
*                                                                       40400002
STRDINDC DS    CL1                 DD TEXT STRING INDICATORS.           40800002
*                                                                       41200002
DTXDUMMY EQU   X'01'               DUMMY SPECIFIED ON STATEMENT.        41600002
DTXDDNM  EQU   X'02'               DDNAME= SPECIFIED ON STATEMENT.      42000002
DTXDSNLT EQU   X'04'               DSNAME SPECIFIED AS A LITERAL.       42400002
DTXDYNAM EQU   X'08'               DYNAM SPECIFIED ON STATEMENT.        42800002
DTXSYSIN EQU   X'10'               TEXT IS FOR A SPOOLED DATA SET.      43200002
DTXSYOUT  EQU  X'20' TEXT IS FOR A SYSOUT DATA SET                      43600002
DTXSUBSK EQU   X'40'               SUBSYS= SPECIFIED ON STMT   @G29AN2E 43650003
DTXPROC  EQU   X'80'               STATEMENT IS FROM A PROC.   @ZA53693 43700003
*                                                                       44000002
*  END OF DD TEXT STRING PREFIX                                         44400002
STRDKEY  DS    0C                  VERB KEY FOR DD TEXT STRING          44800002
STRDPFXL EQU   STRDKEY-TEXT        LENGTH OF DD TEXT STRING PREFIX      45200002
         MEND                                                           45600002
*                                                                    */ 46000002
*%DCLPLS:;                                                              46400002
*/*                                                                     46800002
*  THE FOLLOWING FIELDS ARE COMMON TO BOTH JOB/EXEC AND DD TEXT STRINGS 47200002
*                                                                    */ 47600002
*DCL 1 TEXT BASED(TEXTPTR),      /* FORMAT FOR COMMON AREA           */ 48000002
*                                /* USE LENGTH FUNCTION OF THIS      */ 48400002
*                                /* LABEL TO GET THE LENGTH OF       */ 48800002
*                                /* THE COMMON AREA                  */ 49200002
*      2 STRLTH CHAR(2),         /* LENGTH OF TEXT STRING            */ 49600002
*      2 STRINDCS CHAR(1),       /*STATEMENT TYPE AND                */ 50000002
*                                /*MISCELLANEOUS INDICATORS          */ 50400002
*           3 *       BIT(3),    /*            UNUSED                */ 50800002
*           3 LASTSTMT BIT(1),   /* LAST STMT FOR THIS STEP          */ 51200002
*           3 PROCSTR BIT(1),    /*PROC STATEMENT TEXT STRING        */ 51600002
*           3 DDSTR   BIT(1),    /*DD STATEMENT TEXT STRING          */ 52000002
*           3 EXECSTR BIT(1),    /*EXEC STATEMENT TEXT STRING        */ 52400002
*           3 JOBSTR   BIT(1);   /*JOB STATEMENT TEXT STRING         */ 52800002
*/*                                                                     53200002
*                                                                       53600002
*  FORMAT FOR JOB TEXT STRING                                           54000002
*******************************************************************     54400002
*              2*        1*        1*        1*        1*        1*     54800002
*     STRLTH    *STRINDCS *STRJINDC *STRJIND2 *STRJLABD *STRJKEY  *     55200002
*              2*        1*        1*        1*        1*        1*     55600002
*******************************************************************     56000002
*                                                                       56400002
*                                                                    */ 56800002
*DCL 1 STRJPFX BASED(ADDR(TEXT)),/*FORMAT FOR JOB TEXT STRING        */ 57200002
*                                /* USE LENGTH FUNCTION OF THIS      */ 57600002
*                                /* LABEL TO GET THE LENGTH OF       */ 58000002
*                                /* THE JOB PREFIX                   */ 58400002
*      2 *        CHAR(3),       /*COMMON FIELDS                     */ 58800002
*      2 STRJINDC,               /*JOB INDICATORS                    */ 59200002
*           3 *        BIT(1),   /*        UNUSED                    */ 59600002
*           3 JTXREGDF BIT(1),   /* REGION VALUE IS A DEFAULT        */ 60000002
*           3 JTXMHEDR BIT(1),   /* MESSAGE HEADER HAS BEEN WRITTEN  */ 60400002
*           3 JTXCPSTF BIT(1),   /* C/R - FLUSH TO RESTART STEPNAME  */ 60800002
*           3 JTXSYSCK BIT(1),   /* JOB HAS SYSCHK DD                */ 61200002
*           3 JTXJOBFL BIT(1),   /* JOB HAS BEEN FAILED              */ 61600002
*           3 JTXPROGN BIT(1),   /* PROGRAMMER NAME REQUIRED         */ 62000002
*           3 JTXACCTN BIT(1),   /* ACCT NUMBER REQUIRED             */ 62400002
*                                                                       62800002
*      2 STRJIND2 CHAR(1),       /* BYTE 2 OF JOBTEXT INDICATORS     */ 63200002
*                                                                       63600002
*      2 STRJLABD,               /* BYPASS LABLE PROCESSING DEFAULT  */ 64000002
*/* ENTIRE BYTE IS USED, AS IEFVDA OR'S BYTE DIRECTLY INTO JFCB      */ 64400002
*           3 JTXLABLP BIT(4),   /* DEFAULT IS BYPASS LABEL    Y02668*/ 64800002
*                                /* PROCESSING                       */ 65200002
*           3 JTXLABNL BIT(4);   /* DEFAULT IS NO LABEL        Y02668*/ 65600002
*/*  END OF JOB TEXT STRING PREFIX                                   */ 66000002
*DCL STRJKEY CHAR(1) BASED(ADDR(TEXT)+LENGTH(STRJPFX));                 66400002
*                                /*VERB KEY FOR JOB TEXT STRING      */ 66800002
*                                                                       67200002
*                                                                       67600002
*/*  FORMAT FOR EXEC/PROC TEXT STRINGS                                  68000002
***************************************************                     68400002
*                  2*         1*       1*        1*                     68800002
*     STRLTH        *STRINDCS *STREINDC *STREKEY  *                     69200002
*                   *         *         *         *                     69600002
***************************************************                     70000002
*                                                                       70400002
*                                                                    */ 70800002
*DCL 1 STREPFX BASED(ADDR(TEXT)),/*FORMAT FOR EXEC TEXT STRING       */ 71200002
*                                /* USE LENGTH FUNCTION OF THIS      */ 71600002
*                                /* LABEL TO GET THE LENGTH OF       */ 72000002
*                                /* THE EXEC PREFIX                  */ 72400002
*      2 *        CHAR(3),       /*COMMON FIELDS                     */ 72800002
*      2 STREINDC,               /* EXEC INDICATORS                  */ 73200002
*           3 *        BIT(2),   /*           UNUSED                 */ 73600002
*           3 ETXPRCV  BIT(1),   /* STATMENT INVOKES A PROCEDURE     */ 74000002
*           3 ETXNODD  BIT(1),   /* STEP HAS NO DD STATEMENTS        */ 74400002
*           3 ETXPROC  BIT(1),   /* STATEMENT IS FROM A PROC         */ 74800002
*           3 ETXSTPLB BIT(1),   /* STEP HAS A STEPLIB               */ 75200002
*           3 ETXSTPCT BIT(1),   /* STEP HAS A STEPCAT               */ 75600002
*           3 ETXCPFLG BIT(1);   /* CHECKPT/RESTART EXEC STMT        */ 76000002
*/*  END OF EXEC/PROC TEXT STRING PREFIX                             */ 76400002
*DCL STREKEY CHAR(1) BASED(ADDR(TEXT)+LENGTH(STREPFX));                 76800002
*                                /*VERB KEY EXEC TEXT STRING         */ 77200002
*                                                                       77600002
*                                                                       78000002
*/*FORMAT FOR DD TEXT STRINGS                                           78400002
***************************************************                     78800002
*                  2*         1*       1*        1*                     79200002
*     STRLTH        *STRINDCS *STRDINDC *STRDKEY  *                     79600002
*                   *         *         *         *                     80000002
***************************************************                     80400002
*                                                                       80800002
*                                                                    */ 81200002
*DCL 1 STRDPFX BASED(ADDR(TEXT)),/*FORMAT FOR DD TEXT STRING         */ 81600002
*      2 * CHAR(3),              /*COMMON FIELDS                     */ 82000002
*      2 STRDINDC,               /* DD TEXT STRING INDICATORS        */ 82400002
*           3 DTXPROC  BIT(1),   /* STATEMENT IS FROM A PROC @ZA53693*/ 82800003
*           3 DTXSUBSK BIT(1),   /* SUBSYS= SPECIFIED ON STMT@G29AN2E*/ 82850003
*           3 DTXSYOUT BIT(1),   /* TEXT IS FOR A SYSOUT DATA SET    */ 83200002
*           3 DTXSYSIN BIT(1),   /* TEXT IS FOR A SPOOLED DATA SET   */ 83600002
*           3 DTXDYNAM BIT(1),   /* DYNAM SPECIFIED ON STATEMENT     */ 84000002
*           3 DTXSNLTM BIT(1),   /* DSNAME SPECIFIED AS A LITERAL    */ 84400002
*           3 DTXDDNM  BIT(1),   /* DDNAME= SPECIFIED ON STATEMENT   */ 84800002
*           3 DTXDUMMY BIT(1);   /* DUMMY SPECIFIED ON STATEMENT     */ 85200002
*                                                                       85600002
*/*  END OF DD TEXT STRING PREFIX                                    */ 86000002
*DCL STRDKEY CHAR(1) BASED(ADDR(TEXT)+LENGTH(STRDPFX));                 86400002
*                                /*VERB KEY FOR DD TEXT STRING       */ 86800002
