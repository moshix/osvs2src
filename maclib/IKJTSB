*/*MACMEAN TSB MEANS TERMINAL STATUS BLOCK                           */ 00200002
*/*MACCOMP Y-2 SC1T3/SJE85                                           */ 00400002
*/*MACSTAT Y-2 72347/029010                                          */ 00600002
*        %GOTO TSBL2;                                                   00800002
*/*                                                                     01000002
         MACRO                                                          01200002
         IKJTSB &LIST=NO,&EXT=NO                               ZA16607  01250003
TSB      DSECT                                                          01600002
*********************************************************************** 01800002
*                                                                       02000002
*                                                                       02200002
*        THE TSB WILL CONTAIN INFORMATION PERTAINING TO A TERMINAL      02400002
*        USER'S STATUS.  IT IS OBTAINED DURING TIOC INITIALIZATION      02600002
*        AND WILL RESIDE IN THE COMMON AREA.  TSO.VTAM TSB'S   @ZA16607 02650003
*        ARE OBTAINED DYNAMICALLY AS NEEDED                    @ZA16607 02800003
*                                                                       03000002
*        UPDATING OF FIELDS IN THIS CONTROL BLOCK MUST BE               03200002
*        SYNCHRONIZED BY HOLDING THE CMS LOCK, EXCEPT FOR               03400002
*        THE FOLLOWING FIELDS WHICH MUST BE UPDATED USING               03600002
*        COMPARE AND SWAP:                                              03800002
*                                                                       04000002
*              TSBSTAX                                                  04200002
*              TSBATTNC                                                 04400002
*              TSBTPOST                                                 04600002
*                                                                       04800002
*        METHOD OF ACCESS                                      @ZA16607 04810003
*         BAL- IF EXT=YES IS SPECFIED, A DSECT IS PRODUCED FOR @ZA16607 04820003
*              TSB EXTENTION (TSBX).  USING ON TSBX GIVES      @ZA16607 04830003
*              ADDRESSABILITY FOR ALL TSBX SYMBOLS.            @ZA16607 04840003
*         PL/S-SPECIFY %TSBEXT='YES' BEFORE INCLUDING IKJTSB   @ZA16607 04850003
*              IF THE TSB EXTENTION (TSBX) IS TO BE MAPPED.    @ZA16607 04860003
*              TSBX IS BASED ON TSBEXTNT.                      @ZA16607 04870003
*         **NOTE** USE OF EXT=YES FOR BAL OR %TSBEXT=YES FOR   @ZA25904 04880003
*                  PL/S IS VALID ONLY FOR SYSTEMS WITH         @ZA25904 04890003
*                  TSO/VTAM. USE OF EITHER PARAMETER ON        @ZA25904 04900003
*                  SYSTEMS WITHOUT TSO/VTAM WILL RESULT IN     @ZA25904 04910003
*                  ASSEMBLER OR COMPILER ERRORS.               @ZA25904 04920003
*                                                              @ZA25904 04930003
*        CHANGE ACTIVITY                                                04960003
*         AUG 1976 - SU13 TSO/VTAM                             @ZA16607 04968003
*         AUG 1977 - SU35 TSO/VTAM LEVEL 3.0 +FEATURES       - @G35SKSR 04976003
*        SEPT 1977 - TIOC/VTIOC SPLIT                        - @ZA25904 04984003
* C217250-217400,576500-578000                                 @OZ49608 04984136
* C217250,576500                                               @OZ46377 04984236
* $A=OZ56745    ETI1106  81.07.20  592303:                         @N1A 04989436
* A238000,812000 C748800-750000                                    @N1A 04994636
* A232000                                                      @OZ59270 04996436
* C745200,746000                                               @OZ59270 04998236
*                                                                       05000002
*********************************************************************** 05200002
         AIF   ('&LIST' EQ 'YES').L10                                   05400002
*                                                                       05600002
*        SPECIFY LIST=YES ON THE MACRO CALL TO OBTAIN A LISTING.        05800002
*                                                                       06000002
         PUSH  PRINT                                                    06200002
         PRINT OFF                                                      06400002
.L10     ANOP                                                           06600002
         DS    0D .                     MUST BEGIN ON DOUBLEWORD        06800002
TSBASCBA DS    0A .                     POINTER TO ASCB                 07000002
*                                                                       07200002
TSBSTAT  DS    X .                      TERMINAL STATUS BYTE            07400002
*                       BIT DEFINITIONS                                 07600002
TSBINUSE EQU   X'80' .                  TSB IN USE                      07800002
TSBLWAIT EQU   X'40' .                  KEYBOARD LOCKED DUE TO A LACK   08000002
*                                       OF INPUT BUFFERS                08200002
TSBDSPLY EQU   X'20' .                  TSB REPRESENTS A DISPLAY SCREEN 08400002
TSBNOBUF EQU   X'10' .                  INDICATES TPUT FOUND NO BUFFERS 08600002
TSBITOFF EQU   X'08' .                  PROHIBIT NON-SUPERVISORY INTER- 08800002
*                                       TERMINAL MSGS TO USERS TERMINAL 09000002
TSBDISC  EQU   X'04' .                  TSB HAS BEEN THRU LOGOFF        09200002
TSB3270  EQU   X'02' .                  TSB REPRESENTS A 3270 TERMINAL  09400002
TSBATNLD EQU   X'01' .                  ATTN FOR INPUT LINE DELETE      09600002
*                                                                       09800002
TSBASCB  DS    AL3 .                    POINTER TO ASCB                 10000002
*                                                                       10200002
TSBFLG1  DS    X .                      FIRST FLAG BYTE                 10400002
*                       BIT DEFINITIONS                                 10600002
TSBANSR  EQU   X'80' .                  ATTN SIMULATION REQUESTED       10800002
TSBOFLSH EQU   X'40' .                  OUTPUT TRAILER Q IS TO BE       11000002
*                                       FLUSHED                         11200002
TSBOWIP  EQU   X'20' .                  A TPUT IS IN PROGRESS           11400002
TSBWOWIP EQU   X'10' .                  WAITING IN OWAIT IN PROGRESS    11600002
TSBIFLSH EQU   X'08' .                  INPUT QUEUE FLUSH IN PROGRESS   11800002
TSBTJOW  EQU   X'04' .                  TJID TPUT ENCOUNTERED OWIP      12000002
TSBTJIP  EQU   X'02' .                  A TJID TPUT IS IN PROGRESS      12200002
TSBTJBF  EQU   X'01' .                  TJID TPUT FOUND NO TS BUFFERS   12400002
*                                                                       12600002
TSBWTCB  DS    AL3 .                    ADDR OF TCB OF TASK WAITING ON  12800002
*                                       TSBECB                          13000002
TSBLNSZ  DS    X .                      PHYSICAL LINE SIZE OF TERMINAL  13200002
TSBOTBFP DS    AL3 .                    PTR TO TRAILER BUFFER(S) AFTER  13400002
*                                       HEADER BUFFER FOR MSG HAS BEEN  13600002
*                                       REMOVED                         13800002
TSBNOBF  DS    X .                      NO. OF BUFFERS ON OUTPUT QUEUE  14000002
TSBOBFP  DS    AL3 .                    PTR TO OUTPUT BUFFER QUEUE      14200002
*                                                                       14400002
TSBFLG2  DS    X .                      SECOND FLAG BYTE                14600002
*                       BIT DEFINITIONS                                 14800002
TSBBIPI  EQU   X'80' .                  PARTIAL LINE PROMPTING COMPLETE 15000002
TSBAUTON EQU   X'40' .                  AUTO PROMPTING REQUESTED        15200002
TSBBRKIN EQU   X'20' .                  BREAKIN HAS OCCURED             15400002
TSBAULST EQU   X'10' .                  AUTO LINE NUMBERING STARTED     15600002
TSBAUTOC EQU   X'08' .                  AUTO CHARACTER PROMPT STARTED   15800002
TSBSTAUT EQU   X'04' .                  PROMPT USER WITH NEXT LINE NO.  16000002
TSBSATN1 EQU   X'02' .                  BITS 6 AND 7 ARE USED TO IND    16200002
TSBSATN2 EQU   X'01' .                  THE NO. OF CHARS (1-4) IN THE   16400002
*                                       CHAR STRING FOR SIMULATED ATTN  16600002
*                                                                       16800002
TSBITBFP DS    AL3 .                    PTR TO INPUT TRAILER BUFFERS    17000002
*                                       RESULTING FROM TGET WITH        17200002
*                                       INSUFFICIENT BUFFER SIZE        17400002
TSBNIBF  DS    X .                      NO. OF BUFFERS ON INPUT QUEUE   17600002
TSBIBFP  DS    AL3 .                    PTR TO INPUT BUFFER QUEUE       17800002
*                                                                       18000002
TSBFLG3  DS    X .                      THIRD FLAG BYTE                 18200002
*                       BIT DEFINITIONS                                 18400002
TSBATTN  EQU   X'80' .                  ATTENTION HAS BEEN IGNORED      18800002
TSBTJMSG EQU   X'40' .                  TSOUTPUT PROCESSING TJID MSG    19000002
TSBSPIT  EQU   X'20' .                  STOP PROMPTING IF TCLEARQ OR    19200002
*                                       STBREAK                         19400002
TSBNBKSP EQU   X'10' .                  NEXT CHAR IN USER'S BFFR IS A   19600002
*                                       BACKSPACE CHAR                  19800002
TSBAWOIP EQU   X'08' .                  AN ASID TPUT IS WAITING         20000002
*                                       FOR A NORMAL TPUT TO COMPLETE   20200002
TSBTPUT  EQU   X'04' .                  TCAM PROCESSING OF A            20400002
*                                       TPUT IS NOT YET COMPLETE        20600002
*                                       (CORRESPONDS TO QCBTPUT)        20800002
TSBNOBRK EQU   X'02' .                  USE OF BREAK FEATURE            21000002
*                                       NOT CURRENTLY ALLOWED           21200002
*                                       FOR THIS TERMINAL               21400002
TSBNFLOP EQU   X'01' .                  FLASHBACK BIT          @ZA02244 21450003
TSBFLG5  DS    X .                      FIFTH FLAG BYTE        @ZA16607 21500003
*                      BIT DEFINITIONS                         @ZA16607 21550003
TSBATMP  EQU   X'80' .                  TERM. CONTROL ROUTINE ACTIVE    21700003
*                                       FOR THIS TERMINAL      @ZA24648 21710003
TSBSPF   EQU   X'40'                    SPF ACTIVE FOR THIS TERMINAL    21720003
TSBLOGON EQU   X'20'                    LOGON INITALIZATION    @OZ46377 21725036
TSBPARM  EQU   X'10'                    EXTENDED PARM          @OZ46377 21735036
TSBQRY   EQU   X'08'                    CURRENT TERMINAL       @OZ49608 21745036
*                                       SUPPORTS DEVICE QUERY  @OZ49608 21755036
TSBNEDIT EQU   X'04'                    NOEDIT MODE IN EFFECT  @OZ49608 21765036
TSBKEYS  EQU   X'02' .                  PASS ATTN. AND CLEAR KEYS       21800003
*                                       TO COMMAND PROCESSOR   @ZA24648 21840003
TSBVTAM  EQU   X'01' .                  THIS IS A VTAM TSB     @ZA16607 21860003
*                                                              @ZA16607 21866003
TSBTERMC DS    0CL2 .                   TERMINAL CHARACTERISTICS        22000002
TSBTERM1 DS    X .                      1ST FLAG BYTE                   22200002
TSBCIHBN EQU   X'80' .                  TIME-OUT INHIBITED              22400002
TSBCBRK  EQU   X'40' .                  BREAK FEATURE                   22600002
TSBCATTN EQU   X'20' .                  ATTENTION FEATURE               22800002
TSBC5041 EQU   X'10' .                  LINE IS 5041                    23000002
TSBC2741 EQU   X'08' .                  TERMINAL IS 2741                23200002
TSBTSTR  EQU   X'02' .                  TCAM TRACE ACTIVE      @OZ59270 23250036
TSBTGET  EQU   X'01' .                  TCAM TGET NOT COMPLETE @OZ59270 23300036
*                                                                       23400002
TSBTERM2 DS    X .                      2ND FLAG BYTE                   23600002
TSBCTWX  EQU   X'20' .                  TERMINAL IS TWX                 23800002
*        EQU   X'10' .                  RESERVED                   @N1A 23811736
TSBALTCF EQU   B'00001100' .            ALTERNATE CODE FLAGS       @N1A 23823436
*                                       TWO BIT FIELD REPRESENTING @N1A 23835136
*                                       THE FOLLOWING BIT VALUES   @N1A 23846836
*                                       ASCII-7 00,ASCII-8 01,     @N1A 23858536
*                                       RESERVED 10, RESERVED 11   @N1A 23870236
TSBASCI7 EQU   B'11110011' .            THE NEGATIVE TO BE USED    @N1A 23881936
*                                       TO INDICATE THAT ASCII-7   @N1A 23893636
*                                       IS BEING USED............  @N1A 23905336
*                                       ...........ASCII-7 EQU 00  @N1A 23917036
TSBASCI8 EQU   B'00000100' .            ASCII-8 ALTERNATE CODE     @N1A 23928736
*                                       CURRENTLY BEING USED       @N1A 23940436
*        EQU   B'00001000' .            RESERVED                   @N1A 23952136
*        EQU   B'00001100' .            RESERVED                   @N1A 23963836
TSBALTCD EQU   X'02' .                  THE RESOURCE IS USING AN   @N1A 23975536
*                                       ALTERNATE CODE             @N1A 23987236
TSBC1050 EQU   X'01' .                  TERMINAL IS 1050                24000002
*                                                                       24200002
TSBECB   DS    F .                      ECB FOR INTER-TERMINAL COM-     24400002
*                                       MUNICATION (TPUT WITH TJID)     24600002
TSBWTJID DS    H .                      TJID OF TASK WAITING ON TSBECB  24800002
TSBSTCC  DS    0H .                     SPECIAL USER CHAR FIELD         25000002
TSBLNDCC DS    CL1 .                    LINE DELETE CHARACTER           25200002
TSBCHDCC DS    CL1 .                    CHARACTER DELETE CHARACTER      25400002
TSBATNLC DS    CL2 .                    NO. OF SUCCESSIVE OUTPUT LINES  25600002
*                                       BETWEEN ATTENTION SIMULATION    25800002
TSBATNTC DS    CL2 .                    NUMBER OF CONTINUOUS 1-SECOND   26000002
*                                       TIME INTERVALS                  26200002
TSBLNNO  DS    CL1 .                    NO. OF LINES ON A DISPLAY       26400002
*                                       SCREEN                          26600002
*                                                                       26800002
TSBFLG4  DS    X .                      FLAG BYTE                       27000002
*                      BIT DEFINITIONS                                  27200002
TSBOCAB  EQU   X'80' .                  OUT-OF-CORE ABEND               27400002
TSBIWAIT EQU   X'40' .                  INPUT WAIT IN PROGRESS          27600002
TSBOWAIT EQU   X'20' .                  OUTPUT WAIT IN PROGRESS         27800002
TSBHUNG  EQU   X'10' .                  TERMINAL HAS HUNG UP            28000002
TSBHOLD  EQU   X'08' .                  TPUT HOLD IN PROGRESS           28200002
TSBCANC  EQU   X'04' .                  SESSION CANCELLED               28400002
TSBGETBF EQU   X'02' .                  TJID TPUT MAY GET AN EXTRA      28600002
*                                       ALLOWANCE OF OUTPUT BUFFERS     28800002
TSBHLDL  EQU   X'01' .                  DON'T DISCONNECT LINE           29000002
*                                       AFTER LOGOFF                    29200002
TSBASRCE DS    CL2 .                    TCAM TERMINAL INDEX.            29400002
*                                       EQUIVALENT TO PRFSRCE IN        29600002
*                                       TCAM INPUT BUFFERS.             29800002
TSBATNCC DS    CL4 .                    CHARACTER STRING USED FOR       30000002
*                                       ATTENTION SIMULATION            30200002
TSBAUTOS DS    F .                      STARTING AND CURRENT SEQ NO.    30400002
*                                       FOR AUTO LINE NUMBERING         30600002
TSBAUTOI DS    F .                      INCREMENT VALUE FOR AUTO LINE   30800002
*                                       NUMBERING                       31000002
TSBERSDS DS    F .                      CHARS USED TO ERASE SCREEN      31200002
*                                                                       31400002
TSBCTCB  DS    F .                      TCB ADDRESS OF TASK CURRENTLY   31600002
*                                       DOING A TPUT                    31800002
TSBRCB   DS    0XL8 .                   TCAM RESOURCE CTL BLK           32000002
TSBRQCB  DS    A .                      RCB QCB POINTER                 32200002
TSBLINKA DS    0A .                     RCB LINK WORD                   32400002
TSBPRI   DS    X .                      TPOSTING PRIORITY               32600002
TSBLINKB DS    AL3 .                    RCB LINKING FIELD               32800002
*                                                                       33000002
TSBTPOST DS    0D .                     TPOSTING COMMUNICATIONS AREA    33200002
*                                       UPDATED ONLY WITH CS/CDS        33400002
TSBTPFLG DS    X .                      TPOSTING FLAGS                  33600002
*                     BIT DEFINITIONS                                   33800002
*        BITS  3 - 7                    RESERVED                        34000002
TSBPOSTO EQU   X'80' .                  TPOST OF TSB OUTSTANDING        34200002
TSBTPQCB EQU   X'40' .                  TPOST TERM. DEST. QCB           34400002
TSBTPAYI EQU   X'20' .                  TPOST TSI TO TSINPUT            34600002
TSBNEWID EQU   X'10' .                  UPDATE QCB TJID WITH            34800002
*                                       NEW ASCBASID                    35000002
*                                                                       35200002
TSBSBASV DS    CL1  .                   NO. OF SBA CHAR. IN    @ZA11104 35400037
*                                       FOLLOWING BUFFER       @ZA11104 35500037
TSBFLAGM DS    X .                      QCBFLAG SUBSTITUTION MASK.      35600002
*                                       INDICATES BIT POSITIONS TO      35800002
*                                       CHANGE IN QCBFLAG.              36000002
TSBFLAGV DS    X .                      QCBFLAG SUBSTITUTION VALUE.     36200002
*                                       INDICATES BIT VALUES TO         36400002
*                                       SUBSTITUTE FOR CHANGING         36600002
*                                       BIT POSITIONS IN QCBFLAG.       36800002
TSBF2M   DS    X .                      QCBTSOF2 SUBSTITUTION MASK      37000002
TSBF2V   DS    X .                      QCBTSOF2 SUBSTITUTION VALUE     37200002
TSBF1M   DS    X .                      QCBTSOF1 SUBSTITUTION MASK      37400002
TSBF1V   DS    X .                      QCBTSOF1 SUBSTITUTION VALUE     37600002
*                                                                       37800002
TSBATTNC DS    X .                      NO. OF UNPROCESSED ATTN'S       38000002
TSBSTAX  DS    X .                      NO. OF UNSCHEDULED STAX EXITS   38200002
TSBLINE  DS    CL2 .                    LINE ADDRESS OR 3705            38400002
*                                       RESOURCE I.D. OF THIS           38600002
*                                       TERMINAL.                       38800002
TSBLECB  DS    0A .                     TIOC LOGOFF WAITS ON THIS ECB   39000002
*                                       WHILE TIOC FINISHES TCAM        39200002
*                                       PROCESSING FOR A                39400002
*                                       TERMINATING MEMORY.             39600002
TSBMINL  DS    F .                      NO. OF MINUTES LEFT             39800002
*                                       BEFORE A DISCONNECTED           40000002
*                                       USER WILL BE LOGGED OFF.        40200002
TSBPSWD  DS    CL8 .                    LOGON PASSWORD                  40400002
TSBEXTNT DS    F .                      ADDRESS OF TSB EXTENTION        40410003
*                                                              @ZA16607 40430003
TSBPRMR  DS    AL1 .                    NDS PRIM(DEFAULT) ROWS @G35SKSR 40460003
TSBPRMC  DS    AL1 .                    NDS PRIM(DEFAULT) COLS @G35SKSR 40470003
TSBALTR  DS    AL1 .                    NDS ALTERNATE ROWS     @G35SKSR 40480003
TSBALTC  DS    AL1 .                    NDS ALTERNATE COLS     @G35SKSR 40520003
TSBTRMID DS    D .                      TERMINAL SYMBOLIC NAME @G32TKKM 40530003
TSBSF1   DS    D .                      SECURITY FIELD 1       @G32TKKM 40550003
TSBEND   DS    0D .                     MARKS THE END OF THE TSB        40600002
*                                                                       40800002
*        *************************************************************  41000002
*    0   *   TSBSTAT    *                  TSBASCB                   *  41200002
*        *************************************************************  41400002
*    4   *   TSBFLG1    *                  TSBWTCB                   *  41600002
*        *************************************************************  41800002
*    8   *   TSBLNSZ    *                  TSBOTBFP                  *  42000002
*        *************************************************************  42200002
*   12   *   TSBNOBF    *                  TSBOBFP                   *  42400002
*        *************************************************************  42600002
*   16   *   TSBFLG2    *                  TSBITBFP                  *  42800002
*        *************************************************************  43000002
*   20   *   TSBNIBF    *                  TSBIBFP                   *  43200002
*        *************************************************************  43400002
*   24   *   TSBFLG3    *   TSBFLG5    *           TSBTERMC          *  43450003
*        *************************************************************  43800002
*   28   *                         TSBECB                            *  44000002
*        *************************************************************  44200002
*   32   *           TSBWTJID          *           TSBSTCC           *  44400002
*        *************************************************************  44600002
*   36   *           TSBATNLC          *           TSBATNTC          *  44800002
*        *************************************************************  45000002
*   40   *   TSBLNNO    *   TSBFLG4    *           TSBASRCE          *  45200002
*        *************************************************************  45400002
*   44   *                         TSBATNCC                          *  45600002
*        *************************************************************  45800002
*   48   *                         TSBAUTOS                          *  46000002
*        *************************************************************  46200002
*   52   *                         TSBAUTOI                          *  46400002
*        *************************************************************  46600002
*   56   *                         TSBERSDS                          *  46800002
*        *************************************************************  47000002
*   60   *                         TSBCTCB                           *  47200002
*        *************************************************************  47400002
*   64   *                         TSBRQCB                           *  47600002
*        *************************************************************  47800002
*   68   *   TSBPRI     *                  TSBLINK                   *  48000002
*        *************************************************************  48200002
*   72   *   TSBTPFLG   *  RESERVED    *   TSBFLAGM   *   TSBFLAGV   *  48400002
*        *************************************************************  48600002
*   76   *   TSBF2M     *   TSBF2V     *   TSBF1M     *   TSBF1V     *  48800002
*        *************************************************************  49000002
*   80   *   TSBATTNC   *   TSBSTAX    *           TSBLINE           *  49200002
*        *************************************************************  49400002
*   84   *                       TSBLECB/MINL                        *  49600002
*        *************************************************************  49800002
*        *                                                           *  50000002
*   88   *                         TSBPSWD                           *  50200002
*        *                                                           *  50400002
*        *************************************************************  50600002
*   96   *                         TSBEXTNT                          *  50620003
*        *************************************************************  50640003
*  100   * TSBPRMR      * TSBPRMC     * TSBALTR      * TSBALTC       *  50680003
*        *************************************************************  50686003
*        *                                                           *  50720003
*  104   *                         TSBTRMID                          *  50728003
*        *                                                           *  50736003
*        *************************************************************  50744003
*        *                                                           *  50752003
*  112   *                          TSBSF1                           *  50760003
*        *                                                           *  50768003
*        *************************************************************  50776003
*                                                                       50800002
         AIF   ('&EXT' EQ 'NO').TSBXA1                         @ZA16607 50801003
         IKTTSBX                                               @ZA34273 50802000
.TSBXA1  ANOP                                                  @ZA25904 50803003
         SPACE 3                                                        51000002
         AIF   ('&LIST' EQ 'YES').L20                                   51200002
         POP   PRINT                                                    51400002
.L20     ANOP                                                           51600002
         MEND      ,   */                                               51800002
*        %TSBL2: ;                                                      51850000
*DECLARE                                                                52000000
*  1 TSB      BASED(TSBPTR),                                            52040000
*                                                                       52080000
*   2 TSBASCBA    PTR(31) BDY(DWORD),    /* . POINTER TO ASCB           52120000
*                                                                    */ 52200000
*    3 TSBSTAT     CHAR(1),              /* . TERMINAL STATUS BYTE      52240000
*                                           BIT DEFINITIONS          */ 52280000
*     4 TSBINUSE BIT(1),                 /* . TSB IN USE             */ 52320000
*     4 TSBLWAIT BIT(1),                 /* . KEYBOARD LOCKED DUE TO    52400000
*                                           A LACK  OF INPUT BUFFERS */ 52440000
*     4 TSBDSPLY BIT(1),                 /* . TSB REPRESENTS A          52480000
*                                           DISPLAY SCREEN           */ 52520000
*     4 TSBNOBUF BIT(1),                 /* . INDICATES TPUT FOUND      52600000
*                                           NO BUFFERS               */ 52640000
*     4 TSBITOFF BIT(1),                 /* . PROHIBIT                  52680000
*                                           NON-SUPERVISORY INTER-      52720000
*                                           TERMINAL MSGS TO USERS      52800000
*                                           TERMINAL                 */ 52840000
*     4 TSBDISC  BIT(1),                 /* . TSB HAS BEEN THRU         52880000
*                                           LOGOFF                   */ 52920000
*     4 TSB3270  BIT(1),                 /* . TSB REPRESENTS A 3270     53000000
*                                           TERMINAL                 */ 53040000
*     4 TSBATNLD BIT(1),                 /* . ATTN FOR INPUT LINE       53080000
*                                           DELETE                      53120000
*                                                                    */ 53200000
*    3 TSBASCB    PTR(24) BDY(WORD,2),   /* . POINTER TO ASCB           53240000
*                                                                    */ 53280000
*   2 TSBFLG1     CHAR(1),               /* . FIRST FLAG BYTE  BIT      53320000
*                                           DEFINITIONS              */ 53400000
*    3 TSBANSR  BIT(1),                  /* . ATTN SIMULATION           53440000
*                                           REQUESTED                */ 53480000
*    3 TSBOFLSH BIT(1),                  /* . OUTPUT TRAILER Q IS TO    53520000
*                                           BE  FLUSHED              */ 53600000
*    3 TSBOWIP  BIT(1),                  /* . A TPUT IS IN PROGRESS  */ 53640000
*    3 TSBWOWIP BIT(1),                  /* . WAITING IN OWAIT IN       53680000
*                                           PROGRESS                 */ 53720000
*    3 TSBIFLSH BIT(1),                  /* . INPUT QUEUE FLUSH IN      53800000
*                                           PROGRESS                 */ 53840000
*    3 TSBTJOW  BIT(1),                  /* . TJID TPUT ENCOUNTERED     53880000
*                                           OWIP                     */ 53920000
*    3 TSBTJIP  BIT(1),                  /* . A TJID TPUT IS IN         54000000
*                                           PROGRESS                 */ 54040000
*    3 TSBTJBF  BIT(1),                  /* . TJID TPUT FOUND NO TS     54080000
*                                           BUFFERS                     54120000
*                                                                    */ 54200000
*   2 TSBWTCB     PTR(24)  BDY(WORD,2),  /* . ADDR OF TCB OF TASK       54240000
*                                           WAITING ON  TSBECB       */ 54280000
*   2 TSBLNSZ     CHAR(1),               /* . PHYSICAL LINE SIZE OF     54320000
*                                           TERMINAL                 */ 54400000
*   2 TSBOTBFP    PTR(24)  BDY(WORD,2),  /* . PTR TO TRAILER            54440000
*                                           BUFFER(S) AFTER  HEADER     54480000
*                                           BUFFER FOR MSG HAS BEEN     54520000
*                                           REMOVED                  */ 54600000
*   2 TSBNOBF     CHAR(1),               /* . NO. OF BUFFERS ON         54640000
*                                           OUTPUT QUEUE             */ 54680000
*   2 TSBOBFP     PTR(24)  BDY(WORD,2),  /* . PTR TO OUTPUT BUFFER      54720000
*                                           QUEUE                       54800000
*                                                                    */ 54840000
*   2 TSBFLG2     CHAR(1),               /* . SECOND FLAG BYTE  BIT     54880000
*                                           DEFINITIONS              */ 54920000
*    3 TSBBIPI  BIT(1),                  /* . PARTIAL LINE PROMPTING    55000000
*                                           COMPLETE                 */ 55040000
*    3 TSBAUTON BIT(1),                  /* . AUTO PROMPTING            55080000
*                                           REQUESTED                */ 55120000
*    3 TSBBRKIN BIT(1),                  /* . BREAKIN HAS OCCURED    */ 55200000
*    3 TSBAULST BIT(1),                  /* . AUTO LINE NUMBERING       55240000
*                                           STARTED                  */ 55280000
*    3 TSBAUTOC BIT(1),                  /* . AUTO CHARACTER PROMPT     55320000
*                                           STARTED                  */ 55400000
*    3 TSBSTAUT BIT(1),                  /* . PROMPT USER WITH NEXT     55440000
*                                           LINE NO.                 */ 55480000
*    3 TSBSATN1 BIT(1),                  /* . BITS 6 AND 7 ARE USED     55520000
*                                           TO IND                   */ 55600000
*    3 TSBSATN2 BIT(1),                  /* . THE NO. OF CHARS (1-4)    55640000
*                                           IN THE  CHAR STRING FOR     55680000
*                                           SIMULATED ATTN              55720000
*                                                                    */ 55800000
*   2 TSBITBFP    PTR(24)  BDY(WORD,2),  /* . PTR TO INPUT TRAILER      55840000
*                                           BUFFERS  RESULTING FROM     55880000
*                                           TGET WITH  INSUFFICIENT     55920000
*                                           BUFFER SIZE              */ 56000000
*   2 TSBNIBF     CHAR(1),               /* . NO. OF BUFFERS ON         56040000
*                                           INPUT QUEUE              */ 56080000
*   2 TSBIBFP     PTR(24)  BDY(WORD,2),  /* . PTR TO INPUT BUFFER       56120000
*                                           QUEUE                       56200000
*                                                                    */ 56240000
*   2 TSBFLG3     CHAR(1),               /* . THIRD FLAG BYTE        */ 56280000
*    3 TSBATTN  BIT(1),                  /* . ATTENTION HAS BEEN        56320000
*                                           IGNORED                  */ 56400000
*    3 TSBTJMSG BIT(1),                  /* . TSOUTPUT PROCESSING       56440000
*                                           TJID MSG                 */ 56480000
*    3 TSBSPIT  BIT(1),                  /* . STOP PROMPTING IF         56520000
*                                           TCLEARQ OR  STBREAK      */ 56600000
*    3 TSBNBKSP BIT(1),                  /* . NEXT CHAR IN USER'S       56640000
*                                           BFFR IS A  BACKSPACE        56680000
*                                           CHAR                     */ 56720000
*    3 TSBAWOIP BIT(1),                  /* . AN ASID TPUT IS           56800000
*                                           WAITING   FOR A NORMAL      56840000
*                                           TPUT TO COMPLETE         */ 56880000
*    3 TSBTPUT  BIT(1),                  /* . TCAM PROCESSING OF A      56920000
*                                           TPUT IS NOT YET COMPLETE    57000000
*                                           (CORRESPONDS TO QCBTPUT) */ 57050000
*    3 TSBNOBRK BIT(1),                  /* . USE OF BREAK FEATURE      57090000
*                                           NOT CURRENTLY ALLOWED       57130000
*                                           FOR THIS TERMINAL        */ 57170000
*    3 TSBNFLOP BIT(1),                  /* FLASHBACK OF PASSWORD    */ 57210000
*   2 TSBFLG5     CHAR(1),               /* . FIFTH FLAG BYTE.          57250000
*                                                            @ZA16607*/ 57290000
*    3 TSBATMP       BIT(1),             /* . TERM. CONTROL ROUTINE     57400000
*                                           ACTIVE FOR THIS TERMINAL    57440000
*                                                            @ZA24648*/ 57480000
*    3 TSBSPF        BIT(1),             /* . SPF ACTIVE FOR THIS       57520000
*                                           TERMINAL         @A29425Z*/ 57600000
*    3 TSBLOGON      BIT(1),            /* LOGON INIT.       @OZ46377*/ 57650036
*    3 TSBPARM       BIT(1),            /* EXTENDED PARM     @OZ46377*/ 57700036
*    3 TSBQRY        BIT(1),            /* CURRENT TERMINAL SUPPORTS    57750036
*                                           DEVICE QUERY     @OZ49608*/ 57800036
*    3 TSBNEDIT      BIT(1),            /* NOEDIT MODE IS IN EFFECT     57850036
*                                                            @OZ49608*/ 57900036
*    3 TSBKEYS       BIT(1),             /* . PASS ATTN. AND CLEAR KEYS 73800000
*                                           TO COMMAND PROCESSOR        73840000
*                                                            @ZA24648*/ 73880000
*    3 TSBVTAM       BIT(1),             /* . THIS IS A VTAM TSB        73920000
*                                                            @ZA16607*/ 74000000
*   2 TSBTERMC    CHAR(2),               /* . TERMINAL                  74050000
*                                           CHARACTERISTICS          */ 74080000
*    3 TSBTERM1    CHAR(1),              /* . 1ST FLAG BYTE          */ 74110000
*     4 TSBCIHBN BIT(1),                 /* . TIME-OUT INHIBITED     */ 74200000
*     4 TSBCBRK  BIT(1),                 /* . BREAK FEATURE          */ 74240000
*     4 TSBCATTN BIT(1),                 /* . ATTENTION FEATURE      */ 74280000
*     4 TSBC5041 BIT(1),                 /* . LINE IS 5041           */ 74320000
*     4 TSBC2741 BIT(1),                 /* . TERMINAL IS 2741          74400000
*                                                                    */ 74440000
*     4 *        BIT(1),                 /* RESERVED                 */ 74480000
*     4 TSBTSTR  BIT(1),                 /* TCAM TRACE ACTIVE@OZ59270*/ 74520036
*     4 TSBTGET  BIT(1),                 /* TCAM TGET ACTIVE @OZ59270*/ 74600036
*    3 TSBTERM2    CHAR(1),              /* . 2ND FLAG BYTE          */ 74640000
*     4 *        BIT(1),                 /* RESERVED                 */ 74680000
*     4 *        BIT(1),                 /* RESERVED                 */ 74720000
*     4 TSBCTWX  BIT(1),                 /* . TERMINAL IS TWX        */ 74800000
*     4 *        BIT(1),                 /* RESERVED                 */ 74840000
*     4 TSBALTCF      BIT(2),            /* ALTERNATE CODE FLAGS @N1C*/ 74890036
*     4 TSBALTCD BIT(1),                 /* USING ALTERNATE CODE @N1C*/ 74940036
*     4 TSBC1050 BIT(1),                 /* . TERMINAL IS 1050          75040000
*                                                                    */ 75080000
*   2 TSBECB      FIXED(31),             /* . ECB FOR INTER-TERMINAL    75120000
*                                           COM-  MUNICATION (TPUT      75200000
*                                           WITH TJID)               */ 75240000
*   2 TSBWTJID    FIXED(15),             /* . TJID OF TASK WAITING      75280000
*                                           ON TSBECB                */ 75320000
*   2 TSBSTCC     FIXED(15),             /* . SPECIAL USER CHAR         75400000
*                                           FIELD                    */ 75440000
*    3 TSBLNDCC    CHAR(1),              /* . LINE DELETE CHARACTER  */ 75480000
*    3 TSBCHDCC    CHAR(1),              /* . CHARACTER DELETE          75520000
*                                           CHARACTER                */ 75600000
*   2 TSBATNLC    CHAR(2),               /* . NO. OF SUCCESSIVE         75640000
*                                           OUTPUT LINES  BETWEEN       75680000
*                                           ATTENTION SIMULATION     */ 75720000
*   2 TSBATNTC    CHAR(2),               /* . NUMBER OF CONTINUOUS      75800000
*                                           1-SECOND  TIME INTERVALS */ 75840000
*   2 TSBLNNO     CHAR(1),               /* . NO. OF LINES ON A         75880000
*                                           DISPLAY  SCREEN             75920000
*                                                                    */ 76000000
*   2 TSBFLG4     CHAR(1),               /* . FLAG BYTE  BIT            76040000
*                                           DEFINITIONS              */ 76080000
*    3 TSBOCAB  BIT(1),                  /* . OUT-OF-CORE ABEND      */ 76120000
*    3 TSBIWAIT BIT(1),                  /* . INPUT WAIT IN PROGRESS */ 76200000
*    3 TSBOWAIT BIT(1),                  /* . OUTPUT WAIT IN            76240000
*                                           PROGRESS                 */ 76280000
*    3 TSBHUNG  BIT(1),                  /* . TERMINAL HAS HUNG UP   */ 76320000
*    3 TSBHOLD  BIT(1),                  /* . TPUT HOLD IN PROGRESS  */ 76400000
*    3 TSBCANC  BIT(1),                  /* . SESSION CANCELLED      */ 76440000
*    3 TSBGETBF BIT(1),                  /* . TJID TPUT MAY GET AN      76480000
*                                           EXTRA  ALLOWANCE OF         76520000
*                                           OUTPUT BUFFERS           */ 76600000
*    3 TSBHLDL  BIT(1),                  /* . DON'T DISCONNECT LINE     76640000
*                                           AFTER LOGOFF             */ 76680000
*   2 TSBASRCE    CHAR(2),               /* . TCAM TERMINAL INDEX.      76720000
*                                           EQUIVALENT TO PRFSRCE IN    76800000
*                                           TCAM INPUT BUFFERS.      */ 76840000
*   2 TSBATNCC    CHAR(4),               /* . CHARACTER STRING USED     76880000
*                                           FOR  ATTENTION              76920000
*                                           SIMULATION               */ 77000000
*   2 TSBAUTOS    FIXED(31),             /* . STARTING AND CURRENT      77040000
*                                           SEQ NO.  FOR AUTO LINE      77080000
*                                           NUMBERING                */ 77120000
*   2 TSBAUTOI    FIXED(31),             /* . INCREMENT VALUE FOR       77200000
*                                           AUTO LINE  NUMBERING     */ 77240000
*   2 TSBERSDS    FIXED(31),             /* . CHARS USED TO ERASE       77280000
*                                           SCREEN                      77320000
*                                                                    */ 77400000
*   2 TSBCTCB     FIXED(31),             /* . TCB ADDRESS OF TASK       77440000
*                                           CURRENTLY  DOING A TPUT  */ 77480000
*   2 TSBRCB      CHAR(8) BDY(WORD),     /* . TCAM RESOURCE CTL BLK  */ 77520000
*    3 TSBRQCB     PTR(31),              /* . RCB QCB POINTER        */ 77600000
*    3 TSBLINKA    PTR(31),              /* . RCB LINK WORD          */ 77640000
*     4 TSBPRI      CHAR(1),             /* . TPOSTING PRIORITY      */ 77680000
*     4 TSBLINKB    PTR(24) BDY(WORD,2), /* . RCB LINKING FIELD         77720000
*                                                                    */ 77800000
*   2 TSBTPOST    CHAR(8) BDY(DWORD),    /* . TPOSTING                  77840000
*                                           COMMUNICATIONS AREA         77880000
*                                           UPDATED ONLY WITH CS/CDS */ 77920000
*    3 TSBTPFLG    CHAR(1),              /* . TPOSTING FLAGS  BIT       78000000
*                                           DEFINITIONS  BITS 3 - 7     78040000
*                                           RESERVED                 */ 78080000
*     4 TSBPOSTO BIT(1),                 /* . TPOST OF TSB              78120000
*                                           OUTSTANDING              */ 78200000
*     4 TSBTPQCB BIT(1),                 /* . TPOST TERM. DEST. QCB  */ 78240000
*     4 TSBTPAYI BIT(1),                 /* . TPOST TSI TO TSINPUT   */ 78280000
*     4 TSBNEWID BIT(1),                 /* . UPDATE QCB TJID WITH      78320000
*                                           NEW ASCBASID                78400000
*                                                                    */ 78440000
*     4 *        BIT(1),                 /* RESERVED                 */ 78480000
*     4 *        BIT(1),                 /* RESERVED                 */ 78520000
*     4 *        BIT(1),                 /* RESERVED                 */ 78600000
*     4 *        BIT(1),                 /* RESERVED                 */ 78640000
*    3 *           CHAR(1),              /* . RESERVED               */ 78680000
*    3 TSBFLAGM    CHAR(1),              /* . QCBFLAG SUBSTITUTION      78720000
*                                           MASK.  INDICATES BIT        78800000
*                                           POSITIONS TO  CHANGE IN     78840000
*                                           QCBFLAG.                 */ 78880000
*    3 TSBFLAGV    CHAR(1),              /* . QCBFLAG SUBSTITUTION      78920000
*                                           VALUE.  INDICATES BIT       79000000
*                                           VALUES TO  SUBSTITUTE       79040000
*                                           FOR CHANGING  BIT           79080000
*                                           POSITIONS IN QCBFLAG.    */ 79120000
*    3 TSBF2M      CHAR(1),              /* . QCBTSOF2 SUBSTITUTION     79200000
*                                           MASK                     */ 79240000
*    3 TSBF2V      CHAR(1),              /* . QCBTSOF2 SUBSTITUTION     79280000
*                                           VALUE                    */ 79320000
*    3 TSBF1M      CHAR(1),              /* . QCBTSOF1 SUBSTITUTION     79400000
*                                           MASK                     */ 79440000
*    3 TSBF1V      CHAR(1),              /* . QCBTSOF1 SUBSTITUTION     79480000
*                                           VALUE                       79520000
*                                                                    */ 79600000
*   2 TSBATTNC    CHAR(1),               /* . NO. OF UNPROCESSED        79640000
*                                           ATTN'S                   */ 79680000
*   2 TSBSTAX     CHAR(1),               /* . NO. OF UNSCHEDULED        79720000
*                                           STAX EXITS               */ 79800000
*   2 TSBLINE     CHAR(2),               /* . LINE ADDRESS OR 3705      79840000
*                                           RESOURCE I.D. OF THIS       79880000
*                                           TERMINAL.                */ 79920000
*   2 TSBMINL     FIXED(31),             /* . NO. OF MINUTES LEFT       80000000
*                                           BEFORE A DISCONNECTED       80040000
*                                           USER WILL BE LOGGED OFF. */ 80080000
*    3 TSBLECB     PTR(31),              /* . TIOC LOGOFF WAITS ON      80120000
*                                           THIS ECB  WHILE TIOC        80200000
*                                           FINISHES TCAM               80240000
*                                           PROCESSING FOR A            80280000
*                                           TERMINATING MEMORY.      */ 80320000
*   2 TSBPSWD     CHAR(8),               /* . LOGON PASSWORD @ZA16607*/ 80400000
*   2 TSBEXTNT    PTR(31),               /* . ADDRESS OF TSB EXTENTION  80440000
*                                                            @ZA16607*/ 80480000
*   2 TSBPRMR     FIXED(8),              /* . NDS PRIM(DEFAULT) ROWS    80520000
*                                                            @G35SKSR*/ 80600000
*   2 TSBPRMC     FIXED(8),              /* . NDS PRIM(DEFAULT) COLS    80640000
*                                                            @G35SKSR*/ 80680000
*   2 TSBALTR     FIXED(8),              /* . NDS ALTERNATE ROWS        80720000
*                                                            @G35SKSR*/ 80800000
*   2 TSBALTC     FIXED(8),              /* . NDS ALTERNATE COLS        80840000
*                                                            @G35SKSR*/ 80880000
*   2 TSBTRMID    CHAR(8) BDY(DWORD),    /* . TERMINAL SYMBOLIC NAME    80920000
*                                                            @G32TKKM*/ 81000000
*   2 TSBSF1      CHAR(8) BDY(DWORD),    /* . SECURITY FIELD 1          81040000
*                                                            @G32TKKM*/ 81080000
*   2 TSBEND      CHAR(0) BDY(DWORD);    /* . TSB FORCED TO DOUBLE WORD 81120000
*                                             BOUNDARY       @ZA16607*/ 81200000
*  /* CONSTANTS FOR TSBALTCF                                     @N1A*/ 81250036
* DCL TSBASCI7 BIT(2) CONSTANT('00'B);/* ASCII 7 CURRENTLY BEING USED   81300036
*                                                                @N1A*/ 81350036
* DCL TSBASCI8 BIT(2) CONSTANT('01'B);/* ASCII 8 CURRENTLY BEING USED   81400036
*                                                                @N1A*/ 81450036
*%IF TSBEXT ^= 'YES' %THEN       /*                          @ZA16607*/ 99630003
*   %GOTO TSBXA2;                /*                          @ZA16607*/ 99642003
*                                /*                          @ZA16607*/ 99648003
*                                /*                          @ZA16607*/ 99654003
*                                /*                          @ZA16607*/ 99660003
*%INCLUDE SYSLIB (IKTTSBX);      /*                          @ZA25904*/ 99666003
*%TSBXA2:  ;                       /*                        @ZA16607*/ 99672003
