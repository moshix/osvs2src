         TITLE 'ILRSAV,  SAVE LOGICAL GROUP                            *00001000
                        '                                               00002000
ILRSAV   CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(16)                                             0001 00007000
         DC    C'ILRSAV    76.315'                                 0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00010000
         BALR  @10,0                                               0001 00011000
@PSTART  DS    0H                                                  0001 00012000
         USING @PSTART,@10                                         0001 00013000
*/*                    END OF CVT MACRO                              */ 00014000
*                                                                  0048 00015000
         EJECT                                                          00016000
*                                                                  0048 00017000
*/*ILRSAV: CHART (AREF)                                              */ 00018000
*/*HEADER                                                          0048 00019000
*/*            ILRSAV - SAVE GROUP OPERATOR                          */ 00020000
*/*ILRSAV: E ENTRY                                                   */ 00021000
*/*         P  SAVE CALLERS REGISTERS                                */ 00022000
*/*         S  ILRGMA: GET A WORKAREA                                */ 00023000
*/*         D  (YES,%SAV01A,NO,) DID WE OBTAIN A WORKAREA?           */ 00024000
*/*         P  SET RETURN CODE TO 28                                 */ 00025000
*/*         R  RETURN TO CALLER                                      */ 00026000
*/*%SAV01A: P  SAVE POINTER TO WORKAREA IN REG 9                     */ 00027000
*/*         P  SET ENTRY REGISTERS                                   */ 00028000
*/*         P  GET PTR TO EPATH FROM INPUT REG 4                     */ 00029000
*/*         P  RECORD ENTRY IN EPATH                                 */ 00030000
*/*         P  RECORD PTR TO WORKAREA IN EPATH                       */ 00031000
*/*         P  SAVE INPUT PTRS TO ACE, ASMVT & EPATH                 */ 00032000
*/*         P  RECORD PTR TO REG SAVEAREA IN EPATH                   */ 00033000
*/*         P  GET THE POINTER TO LGE FROM ACE                       */ 00034000
*/*         P  INITIALIZE ASMVTPTR FROM INPUT REG3                   */ 00035000
*/*         P  GET THE POINTER TO ASPCT FROM LGE                     */ 00036000
*/*         P  ZERO INTERNAL RETURN CODE & RETRIEVED ASPCT PTR       */ 00037000
*/*         P  RECORD PTR TO ACTIVE ASPCT IN EPATH                   */ 00038000
*/*         D  (YES,%SAV03,NO,%SAV04) LG BEEN SAVED BEFORE?          */ 00039000
*/*%SAV03:  S (,%SAV04A) SAVEDASP: RETRIEVE THE COPY FROM STGINDEX   */ 00040000
*/*%SAV04:  P  DEFINE ALSPROC AS SAVLPME                             */ 00041000
*/*%SAV04A: P  ZERO THE FREESLOT COUNTER                             */ 00042000
*/*         P  ZERO THE SAVESLOT COUNTER                             */ 00043000
*/*         P  SET R0 TO THE ADDRESS OF THE ACTIVE ASPCT             */ 00044000
*/*         S  ILRALS00: FLAG THE LPME'S AS SAVED                    */ 00045000
*/*         P  TURN RECOVERYS UNSAVE FLAG ON IN EPATH                */ 00046000
*/*         D  (YES,,NO,%SAV05) IS THERE A RETRIEVED ASPCT           */ 00047000
*/*         L  SETLOCK: UNCOND OBTAIN LOCAL LOCK                     */ 00048000
*/*         P  ZERO EPATH PTR TO RETRIEVED ASPCT                     */ 00049000
*/*         P  LOAD REG1 WITH RETRIEVED ASPCT BASE                   */ 00050000
*/*         P  SET REG0 TO LENGTH OF RETRIVED ASPCT                  */ 00051000
*/*         S  ILRAFS00: FREE THE RETRIEVED ASPCT STORAGE            */ 00052000
*/*         P  SAVE THE RETURN CODE                                  */ 00053000
*/*         L  SETLOCK: UNCOND RELEASE LOCAL LOCK                    */ 00054000
*/*         D  (YES,%SAV05,NO,) RETURN CODE ZERO                     */ 00055000
*/*         P  SAVE REGS 0 - 14 FOR RECOVERY                         */ 00056000
*/*         S  ABEND: ISSUE AN 087 ABEND FOR RECORDING               */ 00057000
*/*%SAV05:  D  (YES,,NO,%SAV06) ANY SLOTS BEEN FREED?                */ 00058000
*/*         P  USE C&S LOGIC TO SUBTRACT FREESLOT FROM ASMVSC        */ 00059000
*/*         P  SUBTRACT FREESLOT FROM THE LGE COUNTER                */ 00060000
*/*%SAV06:  P  ADD SAVESLOT TO THE SAVED SLOT COUNT IN THE ASPCT     */ 00061000
*/*%SAV07:  P  STORE PTR TO ASPCT BASE IN PARM LIST                  */ 00062000
*/*         P  SET REQ OP-CODE TO 02                                 */ 00063000
*/*         S  ILRVSAMI: 02-PUT REQUEST                              */ 00064000
*/*         P  SAVE THE RETURN CODE FROM VSAMI                       */ 00065000
*/*         D  (NO,,YES,%SAV09) WAS WRITE SUCCESSFUL?                */ 00066000
*/*         P  FLAG ASPCT AS HAVING NO SLOTS RELEASED AFTER SAVE     */ 00067000
*/*         P  FLAG THE ASPCT AS NOT SAVED                           */ 00068000
*/*         P  DEFINE ALSPROC AS UNSAVLPM                            */ 00069000
*/*         P  LOAD REG0 WITH ADDR OF ASPCT BASE                     */ 00070000
*/*         S  ILRALS00: FLAG THE LPME'S AS NOT SAVED                */ 00071000
*/*         P  (,%SAV11) ZERO THE SAVED SLOT COUNTER IN THE ASPCT    */ 00072000
*/*%SAV09:  P  FLAG THE ASPCT AS HAVING NO SLOTS RELEASED AFTER SAVE */ 00073000
*/*%SAV10:  P  FLAG THE ASPCT AS SAVED                               */ 00074000
*/*         P  COPY THE 'S' SYMBOL TO THE ACE                        */ 00075000
*/*%SAV11:  P  TURN OFF RECOVERYS UNSAVE FLAG IN EPATH               */ 00076000
*/*%SAV12:  P  ZERO THE EPATH PTR TO THE ACTIVE ASPCT                */ 00077000
*/*%SAV12B: P  ZERO THE EPATH PTR TO THE WORKAREA                    */ 00078000
*/*         P  TURN OFF ENTRY BIT IN EPATH                           */ 00079000
*/*         S  ILRGMA: FREE THE WORKAREA                             */ 00080000
*/*         R  RETURN                                                */ 00081000
*/*ILRSAV: END                                                       */ 00082000
*                                                                  0048 00083000
         EJECT                                                          00084000
*                                                                  0048 00085000
*/********************************************************************/ 00086000
*/* MODULE INITIALIZATION. RECORD ENTRY INFORMATION FOR RECOVERY,    */ 00087000
*/* GET POINTER TO EPATH, AND USE ILRGMA TO OBTAIN A WORKAREA. IF    */ 00088000
*/* ILRGMA IS UNSUCCESSFUL, RETURN TO ILRGOS WITH A RETURN CODE OF   */ 00089000
*/* 28. IF ILRGMA IS SUCCESSFUL, ESTABLISH ADDRESSIBILITY TO THE     */ 00090000
*/* WORKAREA AND ESTABLISH A SAVEAREA.                               */ 00091000
*/********************************************************************/ 00092000
*                                                                  0048 00093000
*                                   /* GET A WORKAREA FROM POOL      */ 00094000
*                                                                  0048 00095000
*   /*****************************************************************/ 00096000
*   /*                                                               */ 00097000
*   /* BEGIN ILRGMA MACRO EXPANSION                                  */ 00098000
*   /*                                                               */ 00099000
*   /*****************************************************************/ 00100000
*                                                                  0048 00101000
*   DO;                             /* ILRGMA GET                  0048 00102000
*                                      CELL(BWK)WORKREGS(R11,R12)    */ 00103000
*     DECLARE                       /* ASMVT VECTOR TO ILRPEX        */ 00104000
*       ILRPEX ENTRY BASED(ASMPEX) VALRG(0);                       0049 00105000
*     DECLARE                       /* MAP FOR CELL CONTROL WORDS    */ 00106000
*       1 GMACELL BASED BDY(WORD),                                 0050 00107000
*        2 GMANEXT PTR(31);         /* PTR NEXT FREE CELL            */ 00108000
*     RESPECIFY                                                    0051 00109000
*      (R0,                                                        0051 00110000
*       R1,                                                        0051 00111000
*       R11,                                                       0051 00112000
*       R12,                                                       0051 00113000
*       R14,                                                       0051 00114000
*       R15) RESTRICTED;                                           0051 00115000
*     RESPECIFY                                                    0052 00116000
*       ASMPOOLS BASED(R11);                                       0052 00117000
*     RESPECIFY                                                    0053 00118000
*       GMACELL BASED(R14);                                        0053 00119000
*     R11=ADDR(ASMBWKPC);                                          0054 00120000
         LA    R11,ASMBWKPC(,ASMVTPTR)                             0054 00121000
*     LM(R14,R15,ASMCPAVQ);         /* GET ADDR OF 1ST CELL          */ 00122000
         LM    R14,R15,ASMCPAVQ(R11)                               0055 00123000
*GMA00010:                                                         0056 00124000
*     IF R14^=0 THEN                /* TEST CELL POOL                */ 00125000
GMA00010 LTR   R14,R14                                             0056 00126000
         BZ    @RF00056                                            0056 00127000
*       DO;                         /* CELL AVAILABLE, REMOVE CELL   */ 00128000
*         R0=GMANEXT;                                              0058 00129000
         L     R0,GMANEXT(,R14)                                    0058 00130000
*         R1=R15-1;                                                0059 00131000
         LR    R1,R15                                              0059 00132000
         BCTR  R1,0                                                0059 00133000
*         CDS(R14,R0,ASMCPAVQ);                                    0060 00134000
         CDS   R14,R0,ASMCPAVQ(R11)                                0060 00135000
*         BC(7,GMA00010);                                          0061 00136000
         BC    7,GMA00010                                          0061 00137000
*         R1=R14;                                                  0062 00138000
         LR    R1,R14                                              0062 00139000
*       END;                                                       0063 00140000
*     ELSE                                                         0064 00141000
*       DO;                         /* CELL POOL EMPTY               */ 00142000
         B     @RC00056                                            0064 00143000
@RF00056 DS    0H                                                  0065 00144000
*         R1=R11;                   /* PREPARE TO CALL PEX           */ 00145000
         LR    R1,R11                                              0065 00146000
*         CALL ILRPEX;              /* EXTEND THE POOL               */ 00147000
         L     @15,ASMPEX(,ASMVTPTR)                               0066 00148000
         BALR  @14,@15                                             0066 00149000
*       END;                                                       0067 00150000
*     RESPECIFY                                                    0068 00151000
*      (R0,                                                        0068 00152000
*       R1,                                                        0068 00153000
*       R11,                                                       0068 00154000
*       R12,                                                       0068 00155000
*       R14,                                                       0068 00156000
*       R15) UNRESTRICTED;                                         0068 00157000
@RC00056 DS    0H                                                  0069 00158000
*   END;                            /* ILRGMA GET                  0069 00159000
*                                      CELL(BWK)WORKREGS(R11,R12)    */ 00160000
*                                                                  0069 00161000
*   /*****************************************************************/ 00162000
*   /*                                                               */ 00163000
*   /* END ILRGMA MACRO EXPANSION                                    */ 00164000
*   /*                                                               */ 00165000
*   /*****************************************************************/ 00166000
*                                                                  0070 00167000
*   RFY                                                            0070 00168000
*    (R1,                                                          0070 00169000
*     R3,                                                          0070 00170000
*     R15) RSTD;                                                   0070 00171000
*   IF R1=ZERO                      /* DID WE GET A WORKAREA?        */ 00172000
*     THEN                          /* NO                            */ 00173000
         LTR   R1,R1                                               0071 00174000
         BNZ   @RF00071                                            0071 00175000
*     RETURN CODE(28);              /* RETURN INDICATING WE COULD NOT   00176000
*                                      OBTAIN STORAGE                */ 00177000
         LA    @15,28                                              0072 00178000
         L     @14,12(,@13)                                        0072 00179000
         LM    @00,@12,20(@13)                                     0072 00180000
         BR    @14                                                 0072 00181000
*   ELSE                                                           0073 00182000
*     DO;                           /* YES, ESTABLISH ADDRESSIBILITY    00183000
*                                      TO WORKAREA & SAVEAREA        */ 00184000
@RF00071 DS    0H                                                  0074 00185000
*       GENERATE REFS(R1,R13) SETS(R1,R8,R9,R13);                  0074 00186000
        LR    R9,R1                    GET ADDRESS OF WORKAREA          00187000
        USING @DATD,R9                                                  00188000
        LA    R8,SAVEREGA              GET ADDRESS OF SAVEAREA          00189000
        ST    R13,4(R8)                STORE BACKWARD POINTER           00190000
        ST    R8,8(R13)                STORE FORWARD POINTER            00191000
        L     R1,24(R13)               GET ADDRESS OF INPUT ACE         00192000
        L     R3,32(R13)               GET ADDRESS OF ASMVT             00193000
        LR    R13,R8                   SET R13 TO OUR SAVEAREA          00194000
*     END;                                                         0075 00195000
         EJECT                                                          00196000
*                                                                  0076 00197000
*/********************************************************************/ 00198000
*/* SAVE INPUT POINTERS TO THE ACE AND ASMVT, AND RECORD ENTRY       */ 00199000
*/* VSAM REQUEST PARAMETER LIST (RPL). IF UNSUCCESSFUL, RELEASE THE  */ 00200000
*/* WORKAREA AND RETURN TO ILRGOS.                                   */ 00201000
*/********************************************************************/ 00202000
*                                                                  0076 00203000
*   ACEPTR=R1;                      /* GET POINTER TO INPUT ACE      */ 00204000
         ST    R1,ACEPTR                                           0076 00205000
*   ASMVTWPT=R3;                    /* GET POINTER TO ASMVT          */ 00206000
         ST    R3,ASMVTWPT                                         0077 00207000
*   EPATHPTR=EPAPTR;                /* SAVE INPUT PTR TO EPATH       */ 00208000
         ST    EPAPTR,EPATHPTR                                     0078 00209000
*   RFY                                                            0079 00210000
*    (R1,                                                          0079 00211000
*     R3,                                                          0079 00212000
*     R15,                                                         0079 00213000
*     ASMVTPTR) UNRSTD;                                            0079 00214000
*   RFY                                                            0080 00215000
*     ASMVT BASED(ASMVTWPT);                                       0080 00216000
*   RFY                                                            0081 00217000
*    (R8,                                                          0081 00218000
*     R9,                                                          0081 00219000
*     R13) RSTD;                                                   0081 00220000
*   EPASAVE=ON;                     /* RECORD ENTRY                  */ 00221000
         OI    EPASAVE(EPAPTR),B'00100000'                         0082 00222000
*   EPAOWKA=R9;                     /* RECORD POINTER TO WORKAREA    */ 00223000
         ST    R9,EPAOWKA(,EPAPTR)                                 0083 00224000
         EJECT                                                          00225000
*                                                                  0084 00226000
*/********************************************************************/ 00227000
*/*      INITIALIZE POINTERS AND COUNTERS                            */ 00228000
*/********************************************************************/ 00229000
*                                                                  0084 00230000
*   LGEPTR=ACELGE;                  /* GET ADDRESS OF LGE            */ 00231000
         L     @12,ACEPTR                                          0084 00232000
         L     @12,ACELGE(,@12)                                    0084 00233000
         ST    @12,LGEPTR                                          0084 00234000
*   ASPCTPTR=LGEASPCT;              /* GET ADDRESS OF BASE ASPCT     */ 00235000
         L     @12,LGEASPCT(,@12)                                  0085 00236000
         ST    @12,ASPCTPTR                                        0085 00237000
*   EPAAASP=ASPCTPTR;               /* RECORD PTR TO BASE ASPCT      */ 00238000
         ST    @12,EPAAASP(,EPAPTR)                                0086 00239000
*   RETCODE=ZERO;                   /* INIT INTERNAL RETURN CODE     */ 00240000
         SLR   @12,@12                                             0087 00241000
         ST    @12,RETCODE                                         0087 00242000
*   RETASPCT=ZERO;                  /* INIT RETRIEVED ASPCT PTR      */ 00243000
         SLR   RETASPCT,RETASPCT                                   0088 00244000
*   IF ASPSAVED=ON                  /* ASPCT BEEN SAVED BEFORE?      */ 00245000
*     THEN                          /* YES, THEN CALL SUBROUTINE     */ 00246000
         L     @12,ASPCTPTR                                        0089 00247000
         TM    ASPSAVED(@12),B'10000000'                           0089 00248000
         BNO   @RF00089                                            0089 00249000
*     CALL SAVEDASP;                /* TO RETRIEVE SAVED COPY PROCPTR   00250000
*                                      WILL BE SET BY SAVEDASP       */ 00251000
         BAL   @14,SAVEDASP                                        0090 00252000
*   ELSE                            /* NO, DEFINE THE SAVLPME        */ 00253000
*     PROCPTR=ADDR(SAVLPME);        /* SUBROUTINE FOR ALS PROCESS.   */ 00254000
         B     @RC00089                                            0091 00255000
@RF00089 LA    @12,SAVLPME                                         0091 00256000
         ST    @12,PROCPTR                                         0091 00257000
*   FREESLOT=ZERO;                  /* ZERO THE FREED SLOT COUNTER   */ 00258000
@RC00089 SLR   @12,@12                                             0092 00259000
         ST    @12,FREESLOT                                        0092 00260000
*   SAVESLOT=ZERO;                  /* ZERO SAVED SLOT COUNTER       */ 00261000
         ST    @12,SAVESLOT                                        0093 00262000
         EJECT                                                          00263000
*                                                                  0094 00264000
*/********************************************************************/ 00265000
*/* USE ILRALS00 AND EITHER SAVLPME OR SAVLIMBO TO PROCESS THIS ASPCT*/ 00266000
*/* SAVLPME WILL BE USED TO PROCESS AN ASPCT THAT HAS NEVER BEEN     */ 00267000
*/* SAVED, OR AN ASPCT THAT HAS BEEN SAVED BEFORE, BUT DOESN'T HAVE  */ 00268000
*/* ANY SLOTS THAT HAVE BEEN RELEASED AFTER SAVE. SAVLIMBO IS USED   */ 00269000
*/* FOR AN ASPCT THAT HAS BEEN SAVED BEFORE, AND HAS SLOTS THAT HAVE */ 00270000
*/* BEEN RELEASED AFTER SAVE.                                        */ 00271000
*/********************************************************************/ 00272000
*                                                                  0094 00273000
*   RFY                                                            0094 00274000
*     R0 RSTD;                                                     0094 00275000
*   R0=ASPCTPTR;                    /* LOAD PTR TO BASE ASPCT        */ 00276000
         L     R0,ASPCTPTR                                         0095 00277000
*   CALL ILRALS00;                  /* MARK THE LPME'S AS SAVED AND     00278000
*                                      RELEASE ANY LIMBO SLOTS       */ 00279000
         BAL   @14,ILRALS00                                        0096 00280000
*   RFY                                                            0097 00281000
*     R0 UNRSTD;                                                   0097 00282000
*   EPAUNSAV=ON;                    /* INDICATE THAT RECOVERY TO FLAG   00283000
*                                      THE LPMES AS NOT SAVED.       */ 00284000
         OI    EPAUNSAV(EPAPTR),B'00000010'                        0098 00285000
         EJECT                                                          00286000
*                                                                  0099 00287000
*/********************************************************************/ 00288000
*/* USE ILRAFS00 TO FREEMAIN THE I/O BUFFER CHAIN OF RETRIEVED ASPCTS*/ 00289000
*/********************************************************************/ 00290000
*                                                                  0099 00291000
*   IF RETASPCT^=ZERO               /* WAS THERE A PREVIOUSLY SAVED     00292000
*                                      ASPCT?                        */ 00293000
*     THEN                                                         0099 00294000
         LTR   RETASPCT,RETASPCT                                   0099 00295000
         BZ    @RF00099                                            0099 00296000
*     DO;                           /* YES                           */ 00297000
*       RFY                                                        0101 00298000
*         R8 RSTD;                                                 0101 00299000
*       R8=R13;                     /* SAVE SAVEAREA POINTER GET THE    00300000
*                                      LOCAL LOCK                    */ 00301000
         LR    R8,R13                                              0102 00302000
*GET1:                                                             0103 00303000
*       DO;                         /* SETLOCK (OBTAIN) MODE(UNCOND)    00304000
*                                      TYPE(LOCAL)                 0103 00305000
*                                      RELATED(VIO,ILRSAV(REL1))     */ 00306000
GET1     DS    0H                                                  0104 00307000
*         RFY                                                      0104 00308000
*          (GPR11P,                                                0104 00309000
*           GPR12P,                                                0104 00310000
*           GPR13P,                                                0104 00311000
*           GPR14P) RSTD;                                          0104 00312000
*         GPR13P=PSALITA;           /* ADDRESS OF LOCK INTERFACE   0105 00313000
*                                      TABLE.                        */ 00314000
         L     GPR13P,PSALITA                                      0105 00315000
*         GEN(LM GPR11P,GPR13P,576(GPR13P));/* LOAD LOCKWORD, CLHT 0106 00316000
*                                      AND ENTRY ADRS.               */ 00317000
         LM GPR11P,GPR13P,576(GPR13P)                                   00318000
*         GEN(BALR GPR14P,GPR13P);  /* BALR TO SETLOCK RTN.          */ 00319000
         BALR GPR14P,GPR13P                                             00320000
*         RFY                                                      0108 00321000
*          (GPR11P,                                                0108 00322000
*           GPR12P,                                                0108 00323000
*           GPR13P,                                                0108 00324000
*           GPR14P) UNRSTD;                                        0108 00325000
*       END;                        /* SETLOCK (OBTAIN) MODE(UNCOND)    00326000
*                                      TYPE(LOCAL)                 0109 00327000
*                                      RELATED(VIO,ILRSAV(REL1))     */ 00328000
*       R13=R8;                     /* RESTORE SAVEAREA POINTER      */ 00329000
         LR    R13,R8                                              0110 00330000
*       RFY                                                        0111 00331000
*         R8 UNRSTD;                                               0111 00332000
*       EPARASP=ZERO;               /* ZERO THE EPATH POINTER TO THE    00333000
*                                      RETRIEVED ASPCT               */ 00334000
         SLR   @12,@12                                             0112 00335000
         ST    @12,EPARASP(,EPAPTR)                                0112 00336000
*       RFY                                                        0113 00337000
*        (R0,                                                      0113 00338000
*         R1,                                                      0113 00339000
*         R15) RSTD;                                               0113 00340000
*       R0=BUFLNGTH;                /* SET REG0 TO I/O BUFFER LNG    */ 00341000
         LA    R0,2048                                             0114 00342000
*       R1=RETASPCT;                /* SET REG1 TO ADDR OF BUFFER  0115 00343000
*                                      ASPCT BASE                    */ 00344000
         LR    R1,RETASPCT                                         0115 00345000
*       CALL ILRAFS00;              /* FREE THE BUFFERS              */ 00346000
         BAL   @14,ILRAFS00                                        0116 00347000
*       RETCODE=R15;                /* SAVE THE RETURN CODE          */ 00348000
         ST    R15,RETCODE                                         0117 00349000
*       EPAPTR=EPATHPTR;            /* RESTORE EPATH PTR DESTROYED BY   00350000
*                                      FREEMAIN IN ILRAFS00          */ 00351000
         L     EPAPTR,EPATHPTR                                     0118 00352000
*       RFY                                                        0119 00353000
*        (R0,                                                      0119 00354000
*         R1,                                                      0119 00355000
*         R15) UNRSTD;                                             0119 00356000
*       RFY                                                        0120 00357000
*         R8 RSTD;                                                 0120 00358000
*       R8=R13;                     /* SAVE SAVEAREA POINTER RELEASE    00359000
*                                      THE LOCAL LOCK                */ 00360000
         LR    R8,R13                                              0121 00361000
*REL1:                                                             0122 00362000
*       DO;                         /* SETLOCK (RELEASE) TYPE(LOCAL)    00363000
*                                      RELATED(VIO,ILRSAV(GET1))     */ 00364000
REL1     DS    0H                                                  0123 00365000
*         RFY                                                      0123 00366000
*          (GPR11P,                                                0123 00367000
*           GPR12P,                                                0123 00368000
*           GPR13P,                                                0123 00369000
*           GPR14P) RSTD;                                          0123 00370000
*         GPR13P=PSALITA;           /* ADDRESS OF LOCK INTERFACE   0124 00371000
*                                      TABLE.                        */ 00372000
         L     GPR13P,PSALITA                                      0124 00373000
*         GEN(LM GPR11P,GPR13P,588(GPR13P));/* LOAD LOCKWORD, CLHT 0125 00374000
*                                      AND ENTRY ADRS.               */ 00375000
         LM GPR11P,GPR13P,588(GPR13P)                                   00376000
*         GEN(BALR GPR14P,GPR13P);  /* BALR TO SETLOCK RTN.          */ 00377000
         BALR GPR14P,GPR13P                                             00378000
*         RFY                                                      0127 00379000
*          (GPR11P,                                                0127 00380000
*           GPR12P,                                                0127 00381000
*           GPR13P,                                                0127 00382000
*           GPR14P) UNRSTD;                                        0127 00383000
*       END;                        /* SETLOCK (RELEASE) TYPE(LOCAL)    00384000
*                                      RELATED(VIO,ILRSAV(GET1))     */ 00385000
*       R13=R8;                     /* RESTORE SAVEAREA POINTER      */ 00386000
         LR    R13,R8                                              0129 00387000
*       RFY                                                        0130 00388000
*         R8 UNRSTD;                                               0130 00389000
*       IF RETCODE^=ZERO            /* DID WE SUCCESSFULLY FREE THE     00390000
*                                      I/O BUFFERS                   */ 00391000
*         THEN                                                     0131 00392000
         L     @12,RETCODE                                         0131 00393000
         LTR   @12,@12                                             0131 00394000
         BZ    @RF00131                                            0131 00395000
*         DO;                       /* NO, ISSUE AN 087 ABEND TO   0132 00396000
*                                      RECORD THE FREEMAIN ERROR     */ 00397000
*           EPARTYRG=ADDR(SAVREGSA);/* RECORD REG SAVEAREA PTR       */ 00398000
         LA    @12,SAVREGSA                                        0133 00399000
         ST    @12,EPARTYRG(,EPAPTR)                               0133 00400000
*           STM(R0,R14,SAVREGSA);   /* STORE REGS FOR RECOVERY       */ 00401000
         STM   R0,R14,SAVREGSA                                     0134 00402000
*           GEN(ABEND X'87',,,SYSTEM);                             0135 00403000
         ABEND X'87',,,SYSTEM                                           00404000
*         END;                                                     0136 00405000
*     END;                                                         0137 00406000
@RF00131 DS    0H                                                  0138 00407000
         EJECT                                                          00408000
*                                                                  0138 00409000
*/********************************************************************/ 00410000
*/* UPDATE THE VIO SLOT COUNT IN THE ASMVT, AND SAVED SLOT COUNT IN  */ 00411000
*/* THE ASPCT BASE.                                                  */ 00412000
*/********************************************************************/ 00413000
*                                                                  0138 00414000
*   IF FREESLOT^=ZERO               /* WERE ANY SLOTS RELEASED?      */ 00415000
*     THEN                                                         0138 00416000
@RF00099 L     @12,FREESLOT                                        0138 00417000
         LTR   @12,@12                                             0138 00418000
         BZ    @RF00138                                            0138 00419000
*     DO;                           /* YES USE COMPARE AND SWAP TO 0139 00420000
*                                      DECREMENT THE VIO SLOT COUNT     00421000
*                                      IN THE ASVMT                  */ 00422000
*       RFY                                                        0140 00423000
*        (R1,                                                      0140 00424000
*         R14) RSTD;                                               0140 00425000
*       R1=ASMVSC;                                                 0141 00426000
         L     @15,ASMVTWPT                                        0141 00427000
         L     R1,ASMVSC(,@15)                                     0141 00428000
*SAVELOOP:                                                         0142 00429000
*       R14=R1-FREESLOT;                                           0142 00430000
SAVELOOP LR    R14,R1                                              0142 00431000
         SL    R14,FREESLOT                                        0142 00432000
*       CS(R1,R14,ASMVSC);                                         0143 00433000
         L     @15,ASMVTWPT                                        0143 00434000
         CS    R1,@14,ASMVSC(@15)                                  0143 00435000
*       BC(7,SAVELOOP);                                            0144 00436000
         BC    7,SAVELOOP                                          0144 00437000
*       LGESLTCT=LGESLTCT-FREESLOT; /* DECREMENT THE LGE SLOT COUNT     00438000
*                                      FOR ILRGOS'S UPDATING OF THE     00439000
*                                      VIO SLOT COUNT IN THE ASCB    */ 00440000
         L     @15,LGEPTR                                          0145 00441000
         LH    @12,LGESLTCT(,@15)                                  0145 00442000
         SL    @12,FREESLOT                                        0145 00443000
         STH   @12,LGESLTCT(,@15)                                  0145 00444000
*     END;                                                         0146 00445000
*   ASPSAVCT=ASPSAVCT+SAVESLOT;     /* INCREMENT THE SAVED SLOT    0147 00446000
*                                      COUNTER BY THE NUMBER OF SLOTS   00447000
*                                      SAVED                         */ 00448000
@RF00138 L     @15,ASPCTPTR                                        0147 00449000
         L     @12,ASPSAVCT(,@15)                                  0147 00450000
         AL    @12,SAVESLOT                                        0147 00451000
         ST    @12,ASPSAVCT(,@15)                                  0147 00452000
         EJECT                                                          00453000
*                                                                  0148 00454000
*/********************************************************************/ 00455000
*/* BUILD THE PARAMETER LIST AND CALL ILRVSAMI TO WRITE THE ASPCT    */ 00456000
*/* CHAIN OUT TO SYS1.STGINDEX.                                      */ 00457000
*/********************************************************************/ 00458000
*                                                                  0148 00459000
*   BASEPTR=ASPCTPTR;               /* STORE POINTER TO ASPCT BASE IN   00460000
*                                      VSAMI PARAMETER LIST          */ 00461000
         ST    @15,BASEPTR                                         0148 00462000
*   OPCODE=VPUT;                    /* REQUEST A PUT                 */ 00463000
         MVI   OPCODE,X'02'                                        0149 00464000
*   RFY                                                            0150 00465000
*    (R1,                                                          0150 00466000
*     R3,                                                          0150 00467000
*     R15) RSTD;                                                   0150 00468000
*   R1=ADDR(PARMLIST);              /* GET ADDR OF PARAMETER LIST    */ 00469000
         LA    R1,PARMLIST                                         0151 00470000
*   R3=ASMVTWPT;                    /* OBTAIN ASMVT ADDR             */ 00471000
         L     R3,ASMVTWPT                                         0152 00472000
*   CALL ILRVSAMI;                  /* CALL ILRVSAMI TO WRITE ASPCT     00473000
*                                      OUT TO SYS1.STGINDEX          */ 00474000
         L     @15,@CV00097                                        0153 00475000
         BALR  @14,@15                                             0153 00476000
*   RFY                                                            0154 00477000
*     R3 UNRSTD;                                                   0154 00478000
         EJECT                                                          00479000
*                                                                  0155 00480000
*/********************************************************************/ 00481000
*/* SAVE THE RETURN CODE FROM ILRVSAMI. IF SUCCESSFUL, FLAG THE ASPCT*/ 00482000
*/* AS SAVED AND AS HAVING NO SLOTS RELEASED AFTER SAVE, AND COPY THE*/ 00483000
*/* 'S' SYMBOL TO THE INPUT ACE.                                     */ 00484000
*/********************************************************************/ 00485000
*                                                                  0155 00486000
*   RETCODE=R15;                    /* SAVE THE RETURN CODE          */ 00487000
         ST    R15,RETCODE                                         0155 00488000
*   IF R15=ZERO                     /* DID WE SUCCESSFULLY WRITE THE    00489000
*                                      ASPCT OUT TO SYS1.STGINDEX    */ 00490000
*     THEN                                                         0156 00491000
         LTR   R15,R15                                             0156 00492000
         BNZ   @RF00156                                            0156 00493000
*     DO;                           /* YES                           */ 00494000
*       RFY                                                        0158 00495000
*        (R1,                                                      0158 00496000
*         R15) UNRSTD;                                             0158 00497000
*       ASPSAVRP=OFF;               /* INDICATE NO SLOTS HAVE BEEN 0159 00498000
*                                      RELEASED-AFTER-SAVE           */ 00499000
*       ASPSAVED=ON;                /* INDICATE ASPCT HAS BEEN SAVED */ 00500000
         L     @15,ASPCTPTR                                        0160 00501000
         OI    ASPSAVED(@15),B'10000000'                           0160 00502000
         NI    ASPSAVRP(@15),B'10111111'                           0160 00503000
*       ACESYM=ASPSSYM;             /* COPY THE 'S' SYMBOL TO THE  0161 00504000
*                                      INPUT ACE                     */ 00505000
         L     @12,ACEPTR                                          0161 00506000
         MVC   ACESYM(8,@12),ASPSSYM(@15)                          0161 00507000
*     END;                                                         0162 00508000
*                                                                  0162 00509000
*/********************************************************************/ 00510000
*/* THE WRITE WAS UNSUCCESSFUL. FLAG THE ASPCT AS NOT SAVED, AND AS  */ 00511000
*/* HAVING NO SLOTS RELEASED AFTER SAVE. USE ILRALS00 AND UNSAVLPM   */ 00512000
*/* TO TURN THE SAVED FLAG OFF IN EACH VALID LPME. ZERO THE SAVED    */ 00513000
*/* SLOT COUNTER IN THE ASPCT BASE.                                  */ 00514000
*/********************************************************************/ 00515000
*                                                                  0163 00516000
*   ELSE                                                           0163 00517000
*     DO;                           /* NO, HAD AN ERROR WRITTING     */ 00518000
         B     @RC00156                                            0163 00519000
@RF00156 DS    0H                                                  0164 00520000
*       ASPSAVRP=OFF;               /* INDICATE NO SLOTS HAVE BEEN 0164 00521000
*                                      RELEASED-AFTER-SAVE           */ 00522000
*       ASPSAVED=OFF;               /* INDICATE THE ASPCT HAS NOT  0165 00523000
*                                      BEEN SAVED                    */ 00524000
         L     @15,ASPCTPTR                                        0165 00525000
         NI    ASPSAVRP(@15),B'00111111'                           0165 00526000
*       PROCPTR=ADDR(UNSAVLPM);     /* DEFINE ALSPROC AS UNSAVLPM    */ 00527000
         LA    @12,UNSAVLPM                                        0166 00528000
         ST    @12,PROCPTR                                         0166 00529000
*       RFY                                                        0167 00530000
*         R0 RSTD;                                                 0167 00531000
*       R0=ASPCTPTR;                /* LOAD REG0 WITH PTR TO ASPCT 0168 00532000
*                                      BASE                          */ 00533000
         LR    R0,@15                                              0168 00534000
*       CALL ILRALS00;              /* TURN THE SAVED FLAG OFF IN    */ 00535000
         BAL   @14,ILRALS00                                        0169 00536000
*       RFY                                                        0170 00537000
*         R0 UNRSTD;                /* THE LPME'S                    */ 00538000
*       ASPSAVCT=ZERO;              /* ZERO THE ASPCT SAVED SLOT   0171 00539000
*                                      COUNT IN BASE                 */ 00540000
         L     @15,ASPCTPTR                                        0171 00541000
         SLR   @12,@12                                             0171 00542000
         ST    @12,ASPSAVCT(,@15)                                  0171 00543000
*     END;                                                         0172 00544000
         EJECT                                                          00545000
*                                                                  0173 00546000
*/********************************************************************/ 00547000
*/* CLEANUP: RETURN WORKAREA TO ITS POOL.                            */ 00548000
*/********************************************************************/ 00549000
*                                                                  0173 00550000
*   EPAAASP=ZERO;                   /* ZERO RECOVERYS PTR TO ACTIVE     00551000
*                                      ASPCT                         */ 00552000
@RC00156 SLR   @15,@15                                             0173 00553000
         ST    @15,EPAAASP(,EPAPTR)                                0173 00554000
*   EPAUNSAV=OFF;                   /* TURN OFF RECOVERYS UNSAVE FLAG   00555000
*                                      IN THE EPATH                  */ 00556000
         NI    EPAUNSAV(EPAPTR),B'11111101'                        0174 00557000
*   EPAOWKA=ZERO;                   /* ZERO RECOVERY'S WKA PTR       */ 00558000
         ST    @15,EPAOWKA(,EPAPTR)                                0175 00559000
*   EPASAVE=OFF;                    /* TURN ENTRY FLAG OFF           */ 00560000
         NI    EPASAVE(EPAPTR),B'11011111'                         0176 00561000
*   EPARTYRG=ZERO;                  /* ZERO REG SAVEAREA PTR         */ 00562000
         ST    @15,EPARTYRG(,EPAPTR)                               0177 00563000
*   GENERATE;                                                      0178 00564000
*                                     /* SAVE INTERNAL RETURN CODE  */  00565000
        L       R13,4(R13)               GET PTR CALLERS SAVEAREA       00566000
        MVC     16(4,R13),RETCODE        SET CALLERS R15 TO RET CODE    00567000
*   RFY                                                            0179 00568000
*     R1 RSTD;                                                     0179 00569000
*   R1=R9;                          /* PUT WORKAREA ADDR IN REG 1  0180 00570000
*                                      FREE THE WKA BACK TO POOL     */ 00571000
*                                                                  0180 00572000
         LR    R1,R9                                               0180 00573000
*   /*****************************************************************/ 00574000
*   /*                                                               */ 00575000
*   /* BEGIN ILRGMA MACRO EXPANSION                                  */ 00576000
*   /*                                                               */ 00577000
*   /*****************************************************************/ 00578000
*                                                                  0181 00579000
*   DO;                             /* ILRGMA FREE                 0181 00580000
*                                      CELL(BWK)WORKREGS(R11,R12)    */ 00581000
*     RESPECIFY                                                    0182 00582000
*      (R0,                                                        0182 00583000
*       R1,                                                        0182 00584000
*       R11,                                                       0182 00585000
*       R12,                                                       0182 00586000
*       R14,                                                       0182 00587000
*       R15) RESTRICTED;                                           0182 00588000
*     RESPECIFY                                                    0183 00589000
*       ASMPOOLS BASED(R11);                                       0183 00590000
*     RESPECIFY                                                    0184 00591000
*       GMACELL BASED(R1);                                         0184 00592000
*     R11=ADDR(ASMBWKPC);                                          0185 00593000
         L     R11,ASMVTWPT                                        0185 00594000
         LA    R11,ASMBWKPC(,R11)                                  0185 00595000
*     R14=ASMCPAVL;                                                0186 00596000
         L     R14,ASMCPAVL(,R11)                                  0186 00597000
*GMA00062:                                                         0187 00598000
*     GMANEXT=R14;                  /* PUT ADDR CURRENT FIRST IN   0187 00599000
*                                      INPUT CELL                    */ 00600000
GMA00062 ST    R14,GMANEXT(,R1)                                    0187 00601000
*     CS(R14,R1,ASMCPAVL);          /* ADD INPUT CELL TO POOL        */ 00602000
         CS    R14,@01,ASMCPAVL(R11)                               0188 00603000
*     BC(7,GMA00062);                                              0189 00604000
         BC    7,GMA00062                                          0189 00605000
*     RESPECIFY                                                    0190 00606000
*      (R0,                                                        0190 00607000
*       R1,                                                        0190 00608000
*       R11,                                                       0190 00609000
*       R12,                                                       0190 00610000
*       R14,                                                       0190 00611000
*       R15) UNRESTRICTED;                                         0190 00612000
*   END;                            /* ILRGMA FREE                 0191 00613000
*                                      CELL(BWK)WORKREGS(R11,R12)    */ 00614000
*                                                                  0191 00615000
*   /*****************************************************************/ 00616000
*   /*                                                               */ 00617000
*   /* END ILRGMA MACRO EXPANSION                                    */ 00618000
*   /*                                                               */ 00619000
*   /*****************************************************************/ 00620000
*                                                                  0192 00621000
*   RETURN;                         /* RETURN TO CALLER              */ 00622000
@EL00001 DS    0H                                                  0192 00623000
@EF00001 DS    0H                                                  0192 00624000
@ER00001 LM    @14,@12,12(@13)                                     0192 00625000
         BR    @14                                                 0192 00626000
         EJECT                                                          00627000
*                                                                  0193 00628000
*/********************************************************************/ 00629000
*/*                                                                  */ 00630000
*/*  SAVEDASP: RETRIEVE AND ERASE A SAVED ASPCT                      */ 00631000
*/*                                                                  */ 00632000
*/*  INPUT: PTR TO INPUT ACE                                         */ 00633000
*/*                                                                  */ 00634000
*/*  PROCESS: SAVE THE RETURN ADDRESS. BUILD THE PARAMETER LIST FOR  */ 00635000
*/*           ILRVSAMI, AND CALL ILRVSAMI TO RETRIEVE AND ERASE THE  */ 00636000
*/*           ASPCT FROM SYS1.STGINDEX. IF THE READ WAS UNSUCCESSFUL */ 00637000
*/*           FLAG THE ACTIVE ASPCT AS NOT SAVED. IF ANY SLOTS WERE  */ 00638000
*/*           RELEASED AFTER SAVE DEFINE ALSPROC AS SAVLIMBO, FOR    */ 00639000
*/*           ILRALS00 PROCESSING. IF NO SLOTS HAVE BEEN RELEASED    */ 00640000
*/*           AFTER SAVE, DEFINE ALSPROC AS SAVLPME.                 */ 00641000
*/*                                                                  */ 00642000
*/*  OUTPUT: PTR TO THE RETRIEVED ASPCT OR THE ACTIVE ASPCT FLAGGED  */ 00643000
*/*          AS NOT SAVED.                                           */ 00644000
*/*                                                                  */ 00645000
*/********************************************************************/ 00646000
*/*SAVEDASP: CHART (AREF)                                            */ 00647000
*/*HEADER                                                          0193 00648000
*/*  ILRSAV                                                        0193 00649000
*/* SAVEDASP: RE-ESTABLISH A SAVED ASPCT                             */ 00650000
*/*SAVEDASP: E ENTRY                                                 */ 00651000
*/*         P  SAVE THE RETURN ADDRESS                               */ 00652000
*/*         P  GET THE ADDRESS OF THE 'S' SYMBOL                     */ 00653000
*/*         P  STORE PTR TO 'S' SYMBOL IN PARM LIST                  */ 00654000
*/*         P  SET REQ OP-CODE TO 03                                 */ 00655000
*/*         S  ILRVSAMI: 03-RETRIEVE AND ERASE                       */ 00656000
*/*         P  SAVE RETURN CODE FROM VSAMI                           */ 00657000
*/*         P  SAVE PTR TO RETRIEVED ASPCT                           */ 00658000
*/*         P  SET RECOVERYS UNSAVE FLAG IN EPATH                    */ 00659000
*/*         D  (NO,,YES,%SAV14) ZERO RETURN CODE?                    */ 00660000
*/*         P  FLAG THE ASPCT AS NOT SAVED                           */ 00661000
*/*%SAV15:  D  (NO,,YES,%SAV13) ANY SLOTS RELEASED AFTER SAVE?       */ 00662000
*/*         P  (,%SAV16) DEFINE ALSPROC AS SAVLPME                   */ 00663000
*/*%SAV13:  P  (,%SAV16) DEFINE ALSPROC AS SAVLIMBO                  */ 00664000
*/*%SAV14:  P  (,%SAV15) RECORD PTR TO RETRIEVED ASPCT IN EPATH      */ 00665000
*/*%SAV16:  R  RETURN                                                */ 00666000
*/*SAVEDASP: END                                                     */ 00667000
*                                                                  0193 00668000
         EJECT                                                          00669000
*SAVEDASP:                                                         0193 00670000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0193 00671000
SAVEDASP DS    0H                                                  0194 00672000
*   RFY                                                            0194 00673000
*     R14 RSTD;                                                    0194 00674000
*   RETADDR1=R14;                   /* SAVE THE RETURN ADDRESS       */ 00675000
         LR    RETADDR1,R14                                        0195 00676000
*   RFY                                                            0196 00677000
*     R14 UNRSTD;                                                  0196 00678000
*                                                                  0196 00679000
*/********************************************************************/ 00680000
*/* STORE THE POINTER TO THE 'S' SYMBOL, IN THE ASPCT BASE, IN THE   */ 00681000
*/* PARAMETER LIST FOR ILRVSAMI AND SET THE REQUEST OP-CODE FOR      */ 00682000
*/* RETRIEVE AND ERASE.                                              */ 00683000
*/********************************************************************/ 00684000
*                                                                  0197 00685000
*   SSYMPTR=ADDR(ASPSSYM);          /* STORE PTR TO 'S' SYMBOL IN  0197 00686000
*                                      VSAMI PARAMETER LIST          */ 00687000
         L     @12,ASPCTPTR                                        0197 00688000
         LA    @12,ASPSSYM(,@12)                                   0197 00689000
         ST    @12,SSYMPTR                                         0197 00690000
*   OPCODE=RETE;                    /* SET REQUEST OPCODE FOR      0198 00691000
*                                      RETRIEVING AND ERASE          */ 00692000
         MVI   OPCODE,X'03'                                        0198 00693000
*   RFY                                                            0199 00694000
*    (R1,                                                          0199 00695000
*     R3,                                                          0199 00696000
*     R15) RSTD;                                                   0199 00697000
*   R1=ADDR(PARMLIST);              /* GET ADDR OF PARAMETER LIST    */ 00698000
         LA    R1,PARMLIST                                         0200 00699000
*   R3=ASMVTWPT;                    /* OBTAIN ASMVT ADDR             */ 00700000
         L     R3,ASMVTWPT                                         0201 00701000
*   CALL ILRVSAMI;                  /* CALL VSAMI TO RETRIEVE AND  0202 00702000
*                                      ERASE SAVED COPY              */ 00703000
         L     @15,@CV00097                                        0202 00704000
         BALR  @14,@15                                             0202 00705000
*   RFY                                                            0203 00706000
*     R3 UNRSTD;                                                   0203 00707000
         EJECT                                                          00708000
*                                                                  0204 00709000
*/****************************************************************** */ 00710000
*/* SAVE THE RETURN CODE AND POINTER TO THE RETRIEVED ASPCT. IF THE  */ 00711000
*/* RETRIEVAL WAS UNSUCCESSFUL, MARK THE ACTIVE ASPCT AS NOT BEING   */ 00712000
*/* SAVED. IF IT WAS SUCCESSFUL, REOCRD THE POINTER TO THE RETRIEVED */ 00713000
*/* ASPCT CHAIN IN THE EPATH.                                        */ 00714000
*/********************************************************************/ 00715000
*                                                                  0204 00716000
*   RETCODE=R15;                    /* SAVE THE RETURN CODE          */ 00717000
         ST    R15,RETCODE                                         0204 00718000
*   RETASPCT=R1;                    /* SAVE PTR TO ASPCT BASE IN I/O    00719000
*                                      BUFFER                        */ 00720000
         LR    RETASPCT,R1                                         0205 00721000
*   EPAUNSAV=ON;                    /* INDICATE THAT RECOVERY TO FLAG   00722000
*                                      THE LPMES AS NOT SAVED.       */ 00723000
         OI    EPAUNSAV(EPAPTR),B'00000010'                        0206 00724000
*   IF R15^=ZERO                    /* DID WE RETRIEVE ASPCT         */ 00725000
*     THEN                          /* NO                            */ 00726000
         LTR   R15,R15                                             0207 00727000
         BZ    @RF00207                                            0207 00728000
*     ASPSAVED=OFF;                 /* FLAG ACTIVE ASPCT AS NOT SAVED*/ 00729000
         L     @14,ASPCTPTR                                        0208 00730000
         NI    ASPSAVED(@14),B'01111111'                           0208 00731000
*   ELSE                            /* YES                           */ 00732000
*     EPARASP=RETASPCT;             /* RECORD PTR TO RETRIEVED ASPCT    00733000
*                                      FOR RECOVERY                  */ 00734000
         B     @RC00207                                            0209 00735000
@RF00207 ST    RETASPCT,EPARASP(,EPAPTR)                           0209 00736000
*   RFY                                                            0210 00737000
*    (R1,                                                          0210 00738000
*     R15) UNRSTD;                                                 0210 00739000
*                                                                  0210 00740000
@RC00207 DS    0H                                                  0211 00741000
*/********************************************************************/ 00742000
*/* IF ANY SLOTS HAVE BEEN RELEASED AFTER SAVE, DEFINE ALSPROC AS    */ 00743000
*/* SAVLIMBO, IF NOT, DEFINE ALSPROC AS SAVLPME. RETURN TO MAINLINE  */ 00744000
*/********************************************************************/ 00745000
*                                                                  0211 00746000
*   IF ASPSAVRP=ON                  /* ANY SLOTS REL-AFTER-SAVE IN 0211 00747000
*                                      ACTIVE ASPCT                  */ 00748000
*     THEN                          /* YES                           */ 00749000
         L     @12,ASPCTPTR                                        0211 00750000
         TM    ASPSAVRP(@12),B'01000000'                           0211 00751000
         BNO   @RF00211                                            0211 00752000
*     PROCPTR=ADDR(SAVLIMBO);       /* DEFINE ALSPROC AS SAVLIMBO    */ 00753000
         LA    @12,SAVLIMBO                                        0212 00754000
         ST    @12,PROCPTR                                         0212 00755000
*   ELSE                            /* NO                            */ 00756000
*     PROCPTR=ADDR(SAVLPME);        /* DEFINE ALSPROC AS SAVLPME     */ 00757000
         B     @RC00211                                            0213 00758000
@RF00211 LA    @12,SAVLPME                                         0213 00759000
         ST    @12,PROCPTR                                         0213 00760000
*   RFY                                                            0214 00761000
*     R14 RSTD;                                                    0214 00762000
@RC00211 DS    0H                                                  0215 00763000
*   R14=RETADDR1;                   /* GET RETURN ADDRESS            */ 00764000
         LR    R14,RETADDR1                                        0215 00765000
*   END SAVEDASP;                                                  0216 00766000
@EL00002 DS    0H                                                  0216 00767000
@EF00002 DS    0H                                                  0216 00768000
@ER00002 BR    @14                                                 0216 00769000
*   RFY                                                            0217 00770000
*     R14 UNRSTD;                                                  0217 00771000
         EJECT                                                          00772000
*                                                                  0218 00773000
*/********************************************************************/ 00774000
*/*                                                                  */ 00775000
*/*  SAVLPME: FLAG UNSAVED LPMES AS SAVED.                           */ 00776000
*/*                                                                  */ 00777000
*/*  INPUT: REGISTER 0 = CORRESPONDING RPN                           */ 00778000
*/*         REGISTER 1 = PTR TO LPME                                 */ 00779000
*/*                                                                  */ 00780000
*/*  PROCESS: IF THE LPME SAVE FLAG IS OFF, FLAG THE LPME AS SAVED   */ 00781000
*/*           AND INCREMENT THE SAVED SLOT COUNTER.                  */ 00782000
*/*                                                                  */ 00783000
*/*  OUTPUT: THE LPME FLAGGED AS SAVED.                              */ 00784000
*/*                                                                  */ 00785000
*/********************************************************************/ 00786000
*/*SAVLPME: CHART (AREF)                                             */ 00787000
*/*HEADER                                                          0218 00788000
*/*  ILRSAV                                                        0218 00789000
*/* SAVLPME: FLAG UNSAVED LPME'S AS SAVED                            */ 00790000
*/*SAVLPME: E  ENTRY                                                 */ 00791000
*/*         D  (NO,,YES,%SAV17) LPME BEEN SAVED BEFORE?              */ 00792000
*/*         P  FLAG THE LPME AS SAVED                                */ 00793000
*/*         P  INCREMENT THE INTERNAL SAVED SLOT COUNTER             */ 00794000
*/*%SAV17:  R  RETURN TO ILRALS00                                    */ 00795000
*/*SAVLPME: END                                                      */ 00796000
*                                                                  0218 00797000
*SAVLPME:                                                          0218 00798000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0218 00799000
SAVLPME  DS    0H                                                  0219 00800000
*   RFY                                                            0219 00801000
*    (R1,                                                          0219 00802000
*     R14) RSTD;                                                   0219 00803000
*   IF R1->ASPLSAVE=OFF             /* LPME BEEN SAVED BEFORE?       */ 00804000
*     THEN                                                         0220 00805000
         TM    ASPLSAVE(R1),B'01000000'                            0220 00806000
         BNZ   @RF00220                                            0220 00807000
*     DO;                           /* NO                            */ 00808000
*       R1->ASPLSAVE=ON;            /* FLAG THE LPME AS SAVED        */ 00809000
         OI    ASPLSAVE(R1),B'01000000'                            0222 00810000
*       SAVESLOT=SAVESLOT+ONE;      /* INCREMENT SAVED SLOT          */ 00811000
         LA    @15,1                                               0223 00812000
         AL    @15,SAVESLOT                                        0223 00813000
         ST    @15,SAVESLOT                                        0223 00814000
*     END;                          /* COUNTER                       */ 00815000
*   ELSE                                                           0225 00816000
*     ;                                                            0225 00817000
@RF00220 DS    0H                                                  0226 00818000
*   RFY                                                            0226 00819000
*    (R1,                                                          0226 00820000
*     R14) UNRSTD;                                                 0226 00821000
*   END SAVLPME;                                                   0227 00822000
@EL00003 DS    0H                                                  0227 00823000
@EF00003 DS    0H                                                  0227 00824000
@ER00003 BR    @14                                                 0227 00825000
         EJECT                                                          00826000
*                                                                  0228 00827000
*/********************************************************************/ 00828000
*/*                                                                  */ 00829000
*/*  UNSAVLPM: FLAG THE SAVED LPMES AS NOT SAVED.                    */ 00830000
*/*                                                                  */ 00831000
*/*  INPUT: REGISTER 0 = CORRESPONDING RPN                           */ 00832000
*/*         REGISTER 1 = PTR TO LPME                                 */ 00833000
*/*                                                                  */ 00834000
*/*  PROCESS: IF THE LPME SAVE FLAG IS ON, FLAG THE LPME AS NOT SAVED*/ 00835000
*/*           AND INCREMENT THE SAVED SLOT COUNTER.                  */ 00836000
*/*                                                                  */ 00837000
*/*  OUTPUT: THE LPME SAVE FLAG TURNED OFF.                          */ 00838000
*/*                                                                  */ 00839000
*/********************************************************************/ 00840000
*/*UNSAVLPM: CHART (AREF)                                            */ 00841000
*/*HEADER                                                          0228 00842000
*/*  ILRSAV                                                        0228 00843000
*/* UNSAVLPM: FLAG SAVED LPME'S AS NOT SAVED                         */ 00844000
*/*UNSAVLPM: E ENTRY                                                 */ 00845000
*/*         P  FLAG THE LPME AS NOT SAVED                            */ 00846000
*/*%SAV18:  R  RETURN TO ILRALS00                                    */ 00847000
*/*UNSAVLPM: END                                                     */ 00848000
*                                                                  0228 00849000
*UNSAVLPM:                                                         0228 00850000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0228 00851000
UNSAVLPM DS    0H                                                  0229 00852000
*   RFY                                                            0229 00853000
*    (R1,                                                          0229 00854000
*     R14) RSTD;                                                   0229 00855000
*   R1->ASPLSAVE=OFF;               /* TURN THE LPME SAVE FLAG OFF   */ 00856000
         NI    ASPLSAVE(R1),B'10111111'                            0230 00857000
*   RFY                                                            0231 00858000
*    (R1,                                                          0231 00859000
*     R14) UNRSTD;                                                 0231 00860000
*   END UNSAVLPM;                                                  0232 00861000
@EL00004 DS    0H                                                  0232 00862000
@EF00004 DS    0H                                                  0232 00863000
@ER00004 BR    @14                                                 0232 00864000
         EJECT                                                          00865000
*                                                                  0233 00866000
*/********************************************************************/ 00867000
*/*                                                                  */ 00868000
*/*  SAVLIMBO: FLAG UNSAVED LPMES AS SAVED AND RELEASE LIMBO SLOTS   */ 00869000
*/*                                                                  */ 00870000
*/*  INPUT: REGISTER 0 = CORRESPONDING RPN                           */ 00871000
*/*         REGISTER 1 = PTR TO LPME                                 */ 00872000
*/*                                                                  */ 00873000
*/*  PROCESS: IF THE LPME IS FLAGGED AS RELEASED AFTER SAVED AND     */ 00874000
*/*           THERE IS A RETRIEVED ASPCT, CONVERT THE RPN TO AN LPME */ 00875000
*/*           IN THE RETRIEVED ASPCT. CALL ILRFRSLT TO RELEASE THE   */ 00876000
*/*           SLOT ASSIGNED TO THIS LPME. INCREMENT THE FREED SLOT   */ 00877000
*/*           COUNTER, TURN THE RELEASED AFTER SAVE FLAG OFF IN THE  */ 00878000
*/*           ACTIVE ASPCT. IF THE ACTIVE LPME IS VALID, FLAG THE    */ 00879000
*/*           LPME AS SAVED AND INCREMENT THE SAVED SLOT COUNTER.    */ 00880000
*/*           IF THE LPME IS FLAGGED AS RELEASED AFTER SAVE, BUT     */ 00881000
*/*           THERE IS NO RETRIEVED ASPCT, TURN THE RELEASED AFTER   */ 00882000
*/*           SAVE FLAG OFF. IF THE LPME IS VALID, TURN THE SAVED    */ 00883000
*/*           FLAG ON AND INCREMENT THE SAVED SLOT COUNTER.          */ 00884000
*/*           IF THE LPME IS NOT FLAGGED AS SAVED OR RELEASED AFTER  */ 00885000
*/*           SAVE, FLAG THE LPME AS SAVED AND INCREMENT THE SAVED   */ 00886000
*/*           SLOT COUNTER.                                          */ 00887000
*/*                                                                  */ 00888000
*/*  OUTPUT: VALID UNSAVED LPME FLAGGED AS SAVED                     */ 00889000
*/*          LIMBO SLOTS RELEASED IF THERE IS A RETRIEVED ASPCT      */ 00890000
*/*                                                                  */ 00891000
*/********************************************************************/ 00892000
*/*SAVLIMBO: CHART (AREF)                                            */ 00893000
*/*HEADER                                                          0233 00894000
*/*  ILRSAV                                                        0233 00895000
*/* SAVLIMBO: FLAG UNSAVED LPME'S AS SAVED AND FREE LIMBO SLOTS      */ 00896000
*/*SAVLIMBO: E ENTRY                                                 */ 00897000
*/*         P  SAVE THE RETURN ADDRESS                               */ 00898000
*/*         P  SAVE THE PTR TO ACTIVE LPME (LPMEPTR=R1)              */ 00899000
*/*         P  SAVE THE CORRESPONDING RPN (CORRPN=R0)                */ 00900000
*/*         D  (YES,%SAV22,NO,) LPME FLAGGED AS SAVED?               */ 00901000
*/*         D  (YES,%SAV20,NO,) RELEASED AFTER SAVE                  */ 00902000
*/*%SAV19:  D  (NO,%SAV22,YES,) LPME VALID?                          */ 00903000
*/*         P  FLAG THE LPME AS SAVED                                */ 00904000
*/*         P  (,%SAV22) INCREMENT THE INTERNAL SAVED SLOT COUNTER   */ 00905000
*/*%SAV20:  P  FLAG THE LPME AS NOT RELEASED AFTER SAVE              */ 00906000
*/*         D  (NO,%SAV19,YES,) IS THERE A RETRIEVED ASPCT?          */ 00907000
*/*         P  CONVERT RPN TO LPME                                   */ 00908000
*/*         D  (YES,%SAV21,NO,) RPN CONVERTED?                       */ 00909000
*/*         P  SAVE REGS 0 - 14 FOR RECOVERY                         */ 00910000
*/*         S  ABEND: 085                                            */ 00911000
*/*         D  (YES,,NO,%SAV22) ACTIVE LPME VALID?                   */ 00912000
*/*         P  (,%SAV22) FLAG IT AS SAVED                            */ 00913000
*/*%SAV21:  P  SAVE THE POINTER TO THE ACTIVE LPME                   */ 00914000
*/*         P  LOAD REG 1 WITH LSID TO BE FREED                      */ 00915000
*/*         S  ILRFRSL1: FREE THE SLOT                               */ 00916000
*/*         P  RESET LPMEPTR TO ACTIVE LPME                          */ 00917000
*/*         P  DECREMENT THE SAVED SLOT COUNTER                      */ 00918000
*/*         P  (,%SAV19) INCREMENT THE FREED SLOT COUNTER            */ 00919000
*/*%SAV22:  R  RETURN TO ILRALS00                                    */ 00920000
*/*SAVLIMBO: END                                                     */ 00921000
*                                                                  0233 00922000
         EJECT                                                          00923000
*SAVLIMBO:                                                         0233 00924000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0233 00925000
SAVLIMBO DS    0H                                                  0234 00926000
*   RFY                                                            0234 00927000
*    (R0,                                                          0234 00928000
*     R1,                                                          0234 00929000
*     R14) RSTD;                                                   0234 00930000
*                                                                  0234 00931000
*/********************************************************************/ 00932000
*/* INITIALIZATION - SAVE THE RETURN ADDRESS, POINTER TO THE         */ 00933000
*/* INDIVIDUAL LPME AND ITS CORRESPONDING RPN.                       */ 00934000
*/********************************************************************/ 00935000
*                                                                  0235 00936000
*   RETADDR2=R14;                   /* SAVE THE RETURN ADDRESS       */ 00937000
         ST    R14,RETADDR2                                        0235 00938000
*   LPMEPTR=R1;                     /* SAVE PTR TO LPME              */ 00939000
         LR    LPMEPTR,R1                                          0236 00940000
*   CORRPN=R0;                      /* SAVE THE CORRESPONDING RPN    */ 00941000
         ST    R0,CORRPN                                           0237 00942000
*   RFY                                                            0238 00943000
*    (R0,                                                          0238 00944000
*     R1,                                                          0238 00945000
*     R14) UNRSTD;                                                 0238 00946000
         EJECT                                                          00947000
*                                                                  0239 00948000
*/********************************************************************/ 00949000
*/* IF THE LPME IS FLAGGED AS SAVED, RETURN TO ILRALS00.             */ 00950000
*/* IF THE LPME IS FLAGGED AS RELEASED AFTER SAVE, AND THERE IS NOT  */ 00951000
*/* A RETRIEVED ASPCT, BUT THE LPME IS VALID, FLAG IT AS SAVED AND   */ 00952000
*/* INCREMENT INTERNAL SAVED SLOT COUNTER, AND THEN RETURN TO        */ 00953000
*/* ILRALS00 WHETHER THE LPME WAS VALID OR INVALID.                  */ 00954000
*/********************************************************************/ 00955000
*                                                                  0239 00956000
*   IF ASPLSAVE=OFF                 /* LPME FLAGGED AS SAVED         */ 00957000
*     THEN                                                         0239 00958000
         TM    ASPLSAVE(LPMEPTR),B'01000000'                       0239 00959000
         BNZ   @RF00239                                            0239 00960000
*     DO;                           /* NO                            */ 00961000
*       IF ASPLSVRP=ON              /* LPME BEEN RELEASED AFTER SAVE */ 00962000
*         THEN                                                     0241 00963000
         TM    ASPLSVRP(LPMEPTR),B'00001000'                       0241 00964000
         BNO   @RF00241                                            0241 00965000
*         DO;                       /* YES                           */ 00966000
*           ASPLSVRP=OFF;           /* TURN REL AFTER SAVE FLG OFF   */ 00967000
         NI    ASPLSVRP(LPMEPTR),B'11110111'                       0243 00968000
*           IF RETASPCT=ZERO        /* IS THERE A RETRIEVED ASPCT    */ 00969000
*             THEN                                                 0244 00970000
         LTR   RETASPCT,RETASPCT                                   0244 00971000
         BNZ   @RF00244                                            0244 00972000
*             DO;                   /* NO                            */ 00973000
*               IF ASPLVALD=ON      /* LPME VALID?                   */ 00974000
*                 THEN                                             0246 00975000
         TM    ASPLVALD(LPMEPTR),B'10000000'                       0246 00976000
         BNO   @RF00246                                            0246 00977000
*                 DO;               /* YES, FLAG LPME AS SAVED       */ 00978000
*                   ASPLSAVE=ON;    /* INCREMENT THE SAVED SLOT    0248 00979000
*                                      COUNTER                       */ 00980000
         OI    ASPLSAVE(LPMEPTR),B'01000000'                       0248 00981000
*                   SAVESLOT=SAVESLOT+ONE;                         0249 00982000
         LA    @06,1                                               0249 00983000
         AL    @06,SAVESLOT                                        0249 00984000
         ST    @06,SAVESLOT                                        0249 00985000
*                 END;                                             0250 00986000
*               ELSE                                               0251 00987000
*                 ;                                                0251 00988000
@RF00246 DS    0H                                                  0252 00989000
*               RFY                                                0252 00990000
*                 R14 RSTD;                                        0252 00991000
*               R14=RETADDR2;       /* GET THE RETURN ADDRESS        */ 00992000
         L     R14,RETADDR2                                        0253 00993000
*               RETURN;             /* RETURN TO ILRALS00            */ 00994000
@EL00005 DS    0H                                                  0254 00995000
@EF00005 DS    0H                                                  0254 00996000
@ER00005 BR    @14                                                 0254 00997000
*               RFY                                                0255 00998000
*                 R14 UNRSTD;                                      0255 00999000
*             END;                                                 0256 01000000
         EJECT                                                          01001000
*                                                                  0257 01002000
*/********************************************************************/ 01003000
*/* CONVERT THE CORRESPONDING RPL INTO AN LPME ADDRESS. THE RPN      */ 01004000
*/* CAN BE BROKEN DOWN AS FOLLOWS: BAALL  WHERE B IS THE BASE ARRAY  */ 01005000
*/* ELEMENT POINTING TO AN ASST EXTENSION, AA IS THE ASST EXT ARRAY  */ 01006000
*/* ELEMENT POINTING TO AN LPME EXTENSION, AND LL IS THE LPME EXT    */ 01007000
*/* ARRAY ELEMENT CONTAINING THE INDIVIDUAL LPME.                    */ 01008000
*/********************************************************************/ 01009000
*                                                                  0257 01010000
*           ELSE                                                   0257 01011000
*             DO;                   /* YES THERE IS A RET ASPCT      */ 01012000
@RF00244 DS    0H                                                  0258 01013000
*               IF CORRPN>255       /* ARE THERE EXTENSIONS?         */ 01014000
*                 THEN                                             0258 01015000
         L     @05,CORRPN                                          0258 01016000
         C     @05,@CF01405                                        0258 01017000
         BNH   @RF00258                                            0258 01018000
*                 DO;               /* YES, CONVERT THE RPN          */ 01019000
*                   RFY                                            0260 01020000
*                     ASPCT BASED(RETASPCT);                       0260 01021000
*                   ASPEXPTR=(ASPASSTP((BINDEX+1)));               0261 01022000
         SLR   @15,@15                                             0261 01023000
         IC    @15,BINDEX                                          0261 01024000
         SLA   @15,2                                               0261 01025000
         L     ASPEXPTR,ASPASSTP(@15,RETASPCT)                     0261 01026000
*                   ASPEXPTR=(ASPASSTE((AINDEX+1)));               0262 01027000
         SLR   @03,@03                                             0262 01028000
         IC    @03,AINDEX                                          0262 01029000
         SLA   @03,2                                               0262 01030000
         L     @03,ASPASSTE(@03,ASPEXPTR)                          0262 01031000
         LR    ASPEXPTR,@03                                        0262 01032000
*                   SLPMEPTR=(ADDR(ASPLPMEE((LINDEX+1))));         0263 01033000
         SLR   @03,@03                                             0263 01034000
         IC    @03,LINDEX                                          0263 01035000
         SLA   @03,2                                               0263 01036000
         LA    SLPMEPTR,ASPLPMEE(@03,ASPEXPTR)                     0263 01037000
*                 END;                                             0264 01038000
*               ELSE                                               0265 01039000
*                 SLPMEPTR=(ADDR(ASPLPMES((LINDEX+1))));           0265 01040000
         B     @RC00258                                            0265 01041000
@RF00258 SLR   @15,@15                                             0265 01042000
         IC    @15,LINDEX                                          0265 01043000
         SLA   @15,2                                               0265 01044000
         LA    SLPMEPTR,ASPLPMES(@15,RETASPCT)                     0265 01045000
         EJECT                                                          01046000
*                                                                  0266 01047000
*/********************************************************************/ 01048000
*/* IF THE RETRIEVED LPME IS VALID, CALL ILRFRSL1 TO RETURN THE LOCAL*/ 01049000
*/* SLOT BACK TO THE SYSTEM. IF THE RETRIEVED LPME IS INVALID, ISSUE */ 01050000
*/* AN 085 ABEND FOR RECORDING.                                      */ 01051000
*/********************************************************************/ 01052000
*                                                                  0266 01053000
*               IF SLPMEPTR->ASPLVALD=ON/* VALID LPME?               */ 01054000
*                 THEN                                             0266 01055000
@RC00258 TM    ASPLVALD(SLPMEPTR),B'10000000'                      0266 01056000
         BNO   @RF00266                                            0266 01057000
*                 DO;               /* YES                           */ 01058000
*                   RFY                                            0268 01059000
*                    (R1,                                          0268 01060000
*                     R3) RSTD;                                    0268 01061000
*                   R3=ASMVTWPT;    /* LOAD PTR TO ASMVT             */ 01062000
         L     @15,ASMVTWPT                                        0269 01063000
         LR    R3,@15                                              0269 01064000
*                   R1=SLPMEPTR->ASPVLSID;/* GET LSID                */ 01065000
         L     R1,ASPVLSID-1(,SLPMEPTR)                            0270 01066000
         LA    R1,0(,R1)                                           0270 01067000
*                   CALL ILRFRSL1;  /* FREE THE SLOT                 */ 01068000
         L     @15,ASMPFRSL(,@15)                                  0271 01069000
         BALR  @14,@15                                             0271 01070000
*                   RFY                                            0272 01071000
*                    (R1,                                          0272 01072000
*                     R3) UNRSTD;   /* DECREMENT SAVED SLOT COUNT    */ 01073000
*                   SAVESLOT=SAVESLOT-ONE;/* INCREMENT FREED SLOT  0273 01074000
*                                      COUNT                         */ 01075000
         L     @05,SAVESLOT                                        0273 01076000
         BCTR  @05,0                                               0273 01077000
         ST    @05,SAVESLOT                                        0273 01078000
*                   FREESLOT=FREESLOT+ONE;                         0274 01079000
         LA    @05,1                                               0274 01080000
         AL    @05,FREESLOT                                        0274 01081000
         ST    @05,FREESLOT                                        0274 01082000
*                 END;                                             0275 01083000
*               ELSE                                               0276 01084000
*                 DO;                                              0276 01085000
         B     @RC00266                                            0276 01086000
@RF00266 DS    0H                                                  0277 01087000
*                   EPARTYRG=ADDR(SAVREGSA);/* RECORD REG SAVEAREA 0277 01088000
*                                      PTR                           */ 01089000
         LA    @05,SAVREGSA                                        0277 01090000
         ST    @05,EPARTYRG(,EPAPTR)                               0277 01091000
*                   STM(R0,R14,SAVREGSA);/* STORE REGISTERS FOR    0278 01092000
*                                      RECOVERY                      */ 01093000
         STM   R0,R14,SAVREGSA                                     0278 01094000
*                   GEN(ABEND X'85',,,SYSTEM);                     0279 01095000
         ABEND X'85',,,SYSTEM                                           01096000
*                   IF ASPLVALD=ON  /* IS ACTIVE LPME VALID          */ 01097000
*                     THEN          /* YES                           */ 01098000
         TM    ASPLVALD(LPMEPTR),B'10000000'                       0280 01099000
         BNO   @RF00280                                            0280 01100000
*                     ASPLSAVE=ON;  /* FLAG IT AS SAVED              */ 01101000
         OI    ASPLSAVE(LPMEPTR),B'01000000'                       0281 01102000
*                   RFY                                            0282 01103000
*                     R14 RSTD;                                    0282 01104000
@RF00280 DS    0H                                                  0283 01105000
*                   R14=RETADDR2;   /* GET RETURN ADDRESS            */ 01106000
         L     R14,RETADDR2                                        0283 01107000
*                   RETURN;         /* RETURN TO ILRALS00            */ 01108000
         B     @EL00005                                            0284 01109000
*                   RFY                                            0285 01110000
*                     R14 UNRSTD;                                  0285 01111000
*                 END;                                             0286 01112000
*               RFY                                                0287 01113000
*                 ASPCT BASED(ASPCTPTR);                           0287 01114000
@RC00266 DS    0H                                                  0288 01115000
*             END;                                                 0288 01116000
*         END;                                                     0289 01117000
*       IF ASPLVALD=ON              /* LPME VALID?                   */ 01118000
*         THEN                                                     0290 01119000
@RF00241 TM    ASPLVALD(LPMEPTR),B'10000000'                       0290 01120000
         BNO   @RF00290                                            0290 01121000
*         DO;                       /* YES                           */ 01122000
*           ASPLSAVE=ON;            /* FLAG LPME AS SAVED            */ 01123000
         OI    ASPLSAVE(LPMEPTR),B'01000000'                       0292 01124000
*           SAVESLOT=SAVESLOT+ONE;  /* INCREMENT THE SAVED SLOT    0293 01125000
*                                      COUNTER                       */ 01126000
         LA    @06,1                                               0293 01127000
         AL    @06,SAVESLOT                                        0293 01128000
         ST    @06,SAVESLOT                                        0293 01129000
*         END;                                                     0294 01130000
*     END;                                                         0295 01131000
@RF00290 DS    0H                                                  0296 01132000
*   RFY                                                            0296 01133000
*     R14 RSTD;                                                    0296 01134000
@RF00239 DS    0H                                                  0297 01135000
*   R14=RETADDR2;                   /* GET RETURN ADDRESS            */ 01136000
         L     R14,RETADDR2                                        0297 01137000
*   RFY                                                            0298 01138000
*     R14 UNRSTD;                                                  0298 01139000
*   END SAVLIMBO;                                                  0299 01140000
         B     @EL00005                                            0299 01141000
         EJECT                                                          01142000
*                                                                  0300 01143000
*/*  MACCOMP Y-4SC1CW/PZD81                                          */ 01144000
*/*  MACSTAT Y-475082/415304                                         */ 01145000
*/********************************************************************/ 01146000
*/*                                                                  */ 01147000
*/*  NAME:  ILRALS00                                                 */ 01148000
*/*                                                                  */ 01149000
*/*  STATUS:  OS/VS2 RELEASE 4, LEVEL 0                              */ 01150000
*/*                                                                  */ 01151000
*/*  ENTRY POINT:  ILRALS00                                          */ 01152000
*/*                                                                  */ 01153000
*/*  FUNCTION:  THIS SUBROUTINE SEARCHES THE LPME SECTORS OF A GIVEN */ 01154000
*/*             ASPCT AND CALLS A PROCESSING ROUTINE (ALSPROC) FOR   */ 01155000
*/*             EVERY VALID LSID IT FINDS.                           */ 01156000
*/*                                                                  */ 01157000
*/*  INPUT:  ADDRESS OF ASPCT IN REGISTER 0.                         */ 01158000
*/*                                                                  */ 01159000
*/*  PROCESS:  FOR EACH LPME EXTENSION, FIND ALL LPMES CONTAINING    */ 01160000
*/*            VALID LSIDS AND SEND THEIR ADDRESSES, ONE AT A TIME   */ 01161000
*/*            (ALONG WITH THE INPUT CONTROL INFORMATION), TO ALSPROC*/ 01162000
*/*              ALSPROC INPUT -                                     */ 01163000
*/*                REGISTER 0 = RPN OF LPME PASSED                   */ 01164000
*/*                REGISTER 1 = ADDRESS OF LPME                      */ 01165000
*/*                                                                  */ 01166000
*/*  OUTPUT:  NONE                                                   */ 01167000
*/*                                                                  */ 01168000
*/*  EXIT-NORMAL:  RETURN TO CALLER                                  */ 01169000
*/*                                                                  */ 01170000
*/*  EXIT-ERROR:  NONE                                               */ 01171000
*/*                                                                  */ 01172000
*/*  EXTERNAL REFERENCES:  NONE                                      */ 01173000
*/*                                                                  */ 01174000
*/*  REGISTERS CLOBBERED:  0 AND 1, 14 AND 15                        */ 01175000
*/*                                                                  */ 01176000
*/*  MAPPING MACROS USED:  ILRASPCT                                  */ 01177000
*/*                                                                  */ 01178000
*/*   NOTES:  DUE TO PLS OPTIMIZATION, RESTRICT ALL NECESSARY        */ 01179000
*/*          REGISTERS AROUND THIS ROUTINE.                          */ 01180000
*/*          ALL LABELS AND DATA AREAS CREATED BY THIS ROUTINE BEGIN */ 01181000
*/*          WITH THE THREE CHARACTERS 'ALS'.  THE CALLING MODULE    */ 01182000
*/*          MUST INCLUDE SUFFICIENT WORKSPACE FOR THIS ROUTINE'S    */ 01183000
*/*          DATA AREAS.  THIS AMOUNT IS COMPILER DEPENDENT WITH A   */ 01184000
*/*          MAXIMUM REQUIREMENT OF 44 BYTES.  THIS ROUTINE ALSO     */ 01185000
*/*          REQUIRES THAT THE CALLING MODULE DECLARES REGISTERS     */ 01186000
*/*          R0-R15.                                                 */ 01187000
*/*          MAPPING MACROS LISTED ABOVE MUST BE INCLUDED IN THE     */ 01188000
*/*          CALLING MODULE.  THE PROCEDURE ALSPROC MUST BE DEFINED  */ 01189000
*/*          BY THE CALLING MODULE.  THE PL/S MACRO FACILITY CAN BE  */ 01190000
*/*          USED TO CHANGE THIS NAME, IF DESIRED.                   */ 01191000
*/*                                                                  */ 01192000
*/*  CHANGE-ACTIVITY:  LINE 052480 DELETED FOR APAR OZ15336          */ 01193000
*/*                                                                  */ 01194000
*/********************************************************************/ 01195000
*/*ILRALS00: CHART (AREF)                                            */ 01196000
*/*HEADER                                                          0300 01197000
*/*           ILRALS00 - FIND ALL VALID LSIDS (& RPNS) IN AN ASPCT   */ 01198000
*/*ILRALS00: E ENTRY                                                 */ 01199000
*/*         P  SAVE THE RETURN ADDRESS                               */ 01200000
*/*         P  SAVE PTR TO ASPCT BASE                                */ 01201000
*/*         P  INITIALIZE BASE ARRAY SUBSCRIPT TO ONE                */ 01202000
*/*         P  INITIALIZE ASST EXT ARRAY SUBSCRIPT TO TWO            */ 01203000
*/*         P  INITIALIZE LPME EXT ARRAY SUBSCRIPT TO ONE            */ 01204000
*/*         P  INITIALIZE RPN VALUE TO ZERO                          */ 01205000
*/*         P  GET THE NUMBER OF LPME EXTS FROM BASE                 */ 01206000
*/*         P  GET PTR TO BASE LPME EXTENSION                        */ 01207000
*/*         P  GET PTR TO FIRST LPME                                 */ 01208000
*/*%ALS01:  D  (YES,%ALS02,NO,) LPME VALID?                          */ 01209000
*/*         D  (YES,,NO,%ALS03) RELEASED AFTER SAVE?                 */ 01210000
*/*%ALS02:  P  LOAD REG 0 WITH RPN                                   */ 01211000
*/*         P  LOAD REG 1 WITH PTR TO LPME                           */ 01212000
*/*         S  ALSPROC: CALL USER'S ROUTINE                          */ 01213000
*/*%ALS03:  P  INCREMENT THE RPN                                     */ 01214000
*/*         P  INCREMENT THE LPME EXT ARRAY SUBSCRIPT                */ 01215000
*/*         P  GET PTR TO NEXT LPME                                  */ 01216000
*/*         D  (YES,%ALS04,NO,) REACHED END OF ARRAY?                */ 01217000
*/*         D  (YES,,NO,%ALS01) LPME ZERO?                           */ 01218000
*/*%ALS04:  P  RESET LPME EXT SUBSCRIPT TO ONE                       */ 01219000
*/*         D  (YES,%ALS05,NO,) ARE THERE ANY EXTENSIONS?            */ 01220000
*/*         R  RETURN TO CALLER                                      */ 01221000
*/*%ALS05:  D  (YES,,NO,%ALS07) REACHED END OF ASST EXT ARRAY?       */ 01222000
*/*         P  RESET ASST EXT ARRAY SUBSCRIPT                        */ 01223000
*/*         P  INCREMENT THE BASE ARRAY SUBSCRIPT                    */ 01224000
*/*         D  (YES,%ALS06,NO,) REACHED END OF BASE ARRAY            */ 01225000
*/*         D  (YES,%ALS07,NO,) ANYMORE ASST EXTS?                   */ 01226000
*/*%ALS06:  R  RETURN TO CALLER                                      */ 01227000
*/*%ALS07:  P  GET PTR TO NEXT ASST EXTENSION                        */ 01228000
*/*         P  GET PTR TO NEXT LPME EXTENSION                        */ 01229000
*/*         P  GET PTR TO FIRST LPME IN EXTENSION                    */ 01230000
*/*         P  (,%ALS01) INCREMENT ASST EXT ARRAY SUBSCRIPT          */ 01231000
*                                                                  0300 01232000
*ILRALS00:                          /* LPME SEARCH                   */ 01233000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0300 01234000
*                                                                  0300 01235000
ILRALS00 DS    0H                                                  0301 01236000
*/*A-000000-999999                                           @Z40WPWH*/ 01237000
*                                                                  0301 01238000
*   DCL                                                            0301 01239000
*     ALSRETRN FIXED(31),           /* RETURN ADDRESS SAVE AREA      */ 01240000
*     ALSASPCT PTR(31),             /* PTR TO ASPCT BASE             */ 01241000
*     ALSEXPTR PTR(31),             /* PTR TO ASST EXTENSION         */ 01242000
*     ALSLEPTR PTR(31),             /* PTR TO LPME EXTENSION         */ 01243000
*     ALSLPME PTR(31),              /* PTR TO INDIVIDUAL LPME        */ 01244000
*     ALSRPN FIXED(31),             /* RELATIVE PAGE NUMBER          */ 01245000
*     ALSA FIXED(31),               /* ASST ARRAY SUBSCRIPT          */ 01246000
*     ALSL FIXED(31),               /* LPME ARRAY SUBSCRIPT          */ 01247000
*     ALSB FIXED(31),               /* BASE ARRAY SUBSCRIPT          */ 01248000
*     ALSCNTL FIXED(8);             /* LOOP CONTROLLER               */ 01249000
*   DCL                                                            0302 01250000
*     ALSZERO FIXED(31) CONSTANT(0),                               0302 01251000
*     ALSONE FIXED(31) CONSTANT(1),                                0302 01252000
*     ALSTWO FIXED(31) CONSTANT(2),                                0302 01253000
*     ALSFIVE FIXED(31) CONSTANT(5),                               0302 01254000
*     ALS257 FIXED(31) CONSTANT(257),                              0302 01255000
*     ALSLPMEL FIXED(31) INIT(LENGTH(ASPLPME)),                    0302 01256000
*     ALSON BIT(1) CONSTANT('1'B);                                 0302 01257000
*   RFY                                                            0303 01258000
*    (R0,                                                          0303 01259000
*     R14) RSTD;                                                   0303 01260000
*   ALSRETRN=R14;                   /* SAVE RETURN ADDRESS           */ 01261000
         ST    R14,ALSRETRN                                        0304 01262000
*   ALSASPCT=R0;                    /* SAVE PTR TO ASPCT BASE        */ 01263000
         ST    R0,ALSASPCT                                         0305 01264000
*   RFY                                                            0306 01265000
*    (R0,                                                          0306 01266000
*     R14) UNRSTD;                                                 0306 01267000
*   ALSB=ALSONE;                    /* INIT BASE SUBSCRIPT TO FIRST     01268000
*                                      ASST EXTENSION                */ 01269000
         LA    @06,1                                               0307 01270000
         ST    @06,ALSB                                            0307 01271000
*   ALSA=ALSTWO;                    /* INIT ASST SUBSCRIPT TO FIRST     01272000
*                                      LPME EXTENSION                */ 01273000
         MVC   ALSA(4),@CF00105                                    0308 01274000
*   ALSL=ALSONE;                    /* INIT LPME SUBSCRIPT TO FIRST     01275000
*                                      LPME                          */ 01276000
         LR    ALSL,@06                                            0309 01277000
*   ALSRPN=ALSZERO;                 /* INIT THE RPN                  */ 01278000
         SLR   @05,@05                                             0310 01279000
         ST    @05,ALSRPN                                          0310 01280000
*   ALSCNTL=ALSONE;                 /* INIT LOOP CONTROLLER GET PTR     01281000
*                                      TO LPME'S IN BASE             */ 01282000
         LR    ALSCNTL,@06                                         0311 01283000
*   ALSLPME=ADDR(ALSASPCT->ASPLPMES(ALSL));                        0312 01284000
         L     @06,ALSASPCT                                        0312 01285000
         LR    @05,ALSL                                            0312 01286000
         SLA   @05,2                                               0312 01287000
         LA    ALSLPME,ASPLPMES-4(@05,@06)                         0312 01288000
*   DO WHILE ALSCNTL^=ALSZERO;                                     0313 01289000
         B     @DE00313                                            0313 01290000
@DL00313 DS    0H                                                  0314 01291000
*     DO WHILE ALSL<ALS257;         /* IS THE LPME VALID OR HAS IT 0314 01292000
*                                      BEEN RELEASED AFTER SAVE?     */ 01293000
         B     @DE00314                                            0314 01294000
@DL00314 DS    0H                                                  0315 01295000
*       IF ALSLPME->ASPLVALD=ALSON|ALSLPME->ASPLSVRP=ALSON THEN    0315 01296000
         TM    ASPLVALD(ALSLPME),B'10001000'                       0315 01297000
         BZ    @RF00315                                            0315 01298000
*         DO;                       /* YES                           */ 01299000
*           RFY                                                    0317 01300000
*            (R0,                                                  0317 01301000
*             R1) RSTD;                                            0317 01302000
*           R0=ALSRPN;              /* LOAD REG0 WITH CURRENT RPN    */ 01303000
         L     R0,ALSRPN                                           0318 01304000
*           R1=ALSLPME;             /* LOAD REG1 WITH PTR TO LPME    */ 01305000
         LR    R1,ALSLPME                                          0319 01306000
*           CALL ALSPROC;           /* CALL USER'S PROC TO PERFORM   */ 01307000
         L     @15,PROCPTR                                         0320 01308000
         BALR  @14,@15                                             0320 01309000
*           RFY                                                    0321 01310000
*            (R0,                                                  0321 01311000
*             R1) UNRSTD;           /* USER'S FUNCTION               */ 01312000
*         END;                                                     0322 01313000
*       ELSE                                                       0323 01314000
*         ;                                                        0323 01315000
@RF00315 DS    0H                                                  0324 01316000
*       ALSRPN=ALSRPN+ALSONE;       /* INCREMENT RPN FOR NEXT LPME   */ 01317000
         LA    @06,1                                               0324 01318000
         L     @05,ALSRPN                                          0324 01319000
         ALR   @05,@06                                             0324 01320000
         ST    @05,ALSRPN                                          0324 01321000
*       ALSLPME=ALSLPME+ALSLPMEL;   /* INCREMENT LPME PTR TO NEXT  0325 01322000
*                                      LPME                          */ 01323000
         AL    ALSLPME,ALSLPMEL                                    0325 01324000
*       ALSL=ALSL+ALSONE;           /* INCREMENT LPME SUBSCRIPT      */ 01325000
         ALR   ALSL,@06                                            0326 01326000
*     END;                          /* ARE THERE ANY EXTENSIONS?     */ 01327000
@DE00314 C     ALSL,@CF01426                                       0327 01328000
         BL    @DL00314                                            0327 01329000
*     IF ALSASPCT->ASPAEXCT=ALSZERO THEN/* NO                        */ 01330000
         L     @06,ALSASPCT                                        0328 01331000
         LH    @06,ASPAEXCT(,@06)                                  0328 01332000
         LTR   @06,@06                                             0328 01333000
         BNZ   @RF00328                                            0328 01334000
*       ALSCNTL=ALSZERO;            /* FORCE LOOP EXIT               */ 01335000
         SLR   ALSCNTL,ALSCNTL                                     0329 01336000
*     ELSE                                                         0330 01337000
*       DO;                         /* YES, PROCESS ALL LPME'S IN  0330 01338000
*                                      EXTENSIONS                    */ 01339000
         B     @RC00328                                            0330 01340000
@RF00328 DS    0H                                                  0331 01341000
*         ALSL=ALSONE;              /* RESET LPME SUBSCRIPT          */ 01342000
         LA    ALSL,1                                              0331 01343000
*         IF ALSA<ALS257            /* REACHED END OF ASST ARRAY     */ 01344000
*           THEN                                                   0332 01345000
         L     @06,ALSA                                            0332 01346000
         C     @06,@CF01426                                        0332 01347000
         BNL   @RF00332                                            0332 01348000
*           DO;                     /* NO ANYMORE ASST EXTS?         */ 01349000
*             IF ALSASPCT->ASPASSTP(ALSB)=ALSZERO THEN/* NO          */ 01350000
         L     @06,ALSB                                            0334 01351000
         SLA   @06,2                                               0334 01352000
         L     @05,ALSASPCT                                        0334 01353000
         L     @06,ASPASSTP-4(@06,@05)                             0334 01354000
         LTR   @06,@06                                             0334 01355000
         BNZ   @RF00334                                            0334 01356000
*               ALSCNTL=ALSZERO;    /* FORCE LOOP EXIT               */ 01357000
         SLR   ALSCNTL,ALSCNTL                                     0335 01358000
*             ELSE                                                 0336 01359000
*               DO;                 /* YES GET PTR TO NEXT ASST EXT  */ 01360000
         B     @RC00334                                            0336 01361000
@RF00334 DS    0H                                                  0337 01362000
*ALSLOOP:                                                          0337 01363000
*                 ALSEXPTR=ALSASPCT->ASPASSTP(ALSB);               0337 01364000
*                                                                  0337 01365000
ALSLOOP  L     @06,ALSB                                            0337 01366000
         SLA   @06,2                                               0337 01367000
         L     @05,ALSASPCT                                        0337 01368000
         L     ALSEXPTR,ASPASSTP-4(@06,@05)                        0337 01369000
*                 /***************************************************/ 01370000
*                 /*                                                 */ 01371000
*                 /* IF THERE ARE ANYMORE LPME EXTENSIONS, GET THE   */ 01372000
*                 /* POINTER TO THE LPME EXTENSION, POINTER TO THE   */ 01373000
*                 /* LPME, AND INCREMENT THE ASST ARRAY SUBSCRIPT    */ 01374000
*                 /*                                                 */ 01375000
*                 /***************************************************/ 01376000
*                                                                  0338 01377000
*                 IF ALSEXPTR->ASPSECTA(ALSA)^=ALSZERO THEN        0338 01378000
         L     @06,ALSA                                            0338 01379000
         LR    @05,@06                                             0338 01380000
         SLA   @05,2                                               0338 01381000
         L     @05,ASPSECTA-4(@05,ALSEXPTR)                        0338 01382000
         LTR   @05,@05                                             0338 01383000
         BZ    @RF00338                                            0338 01384000
*                   DO;                                            0339 01385000
*                     ALSLEPTR=ALSEXPTR->ASPSECTA(ALSA);           0340 01386000
         LR    ALSLEPTR,@05                                        0340 01387000
*                     ALSLPME=ADDR(ALSLEPTR->ASPLPMEE(ALSL));      0341 01388000
         LR    @05,ALSL                                            0341 01389000
         SLA   @05,2                                               0341 01390000
         LA    ALSLPME,ASPLPMEE-4(@05,ALSLEPTR)                    0341 01391000
*                     ALSA=ALSA+ALSONE;                            0342 01392000
         AL    @06,@CF00075                                        0342 01393000
         ST    @06,ALSA                                            0342 01394000
*                   END;                                           0343 01395000
*                 ELSE                                             0344 01396000
*                   ALSCNTL=ALSZERO;                               0344 01397000
         B     @RC00338                                            0344 01398000
@RF00338 SLR   ALSCNTL,ALSCNTL                                     0344 01399000
*               END;                                               0345 01400000
*           END;                                                   0346 01401000
*         ELSE                                                     0347 01402000
*           DO;                                                    0347 01403000
         B     @RC00332                                            0347 01404000
@RF00332 DS    0H                                                  0348 01405000
*             ALSA=ALSONE;          /* RESET ASST SUBSCRIPT          */ 01406000
         LA    @06,1                                               0348 01407000
         ST    @06,ALSA                                            0348 01408000
*             ALSB=ALSB+ALSONE;     /* INCREMENT BASE SUBSCRIPT ARE     01409000
*                                      THERE ANYMORE ASST EXT        */ 01410000
         AL    @06,ALSB                                            0349 01411000
         ST    @06,ALSB                                            0349 01412000
*             IF ALSB<ALSFIVE&ALSASPCT->ASPASSTP(ALSB)^=ALSZERO THEN    01413000
         C     @06,@CF00462                                        0350 01414000
         BNL   @RF00350                                            0350 01415000
         SLA   @06,2                                               0350 01416000
         L     @05,ALSASPCT                                        0350 01417000
         L     @06,ASPASSTP-4(@06,@05)                             0350 01418000
         LTR   @06,@06                                             0350 01419000
         BNZ   @RT00350                                            0350 01420000
*                                   /* YES                           */ 01421000
*               GOTO ALSLOOP;       /* CONTINUE LOOPING              */ 01422000
*             ELSE                  /* NO                            */ 01423000
*               ALSCNTL=ALSZERO;    /* FORCE LOOP EXIT               */ 01424000
@RF00350 SLR   ALSCNTL,ALSCNTL                                     0352 01425000
*           END;                                                   0353 01426000
*       END;                                                       0354 01427000
@RC00332 DS    0H                                                  0355 01428000
*   END;                                                           0355 01429000
@RC00328 DS    0H                                                  0355 01430000
@DE00313 C     ALSCNTL,@CF00100                                    0355 01431000
         BNE   @DL00313                                            0355 01432000
*   RFY                                                            0356 01433000
*     R14 RSTD;                                                    0356 01434000
*   R14=ALSRETRN;                                                  0357 01435000
         L     R14,ALSRETRN                                        0357 01436000
*   RFY                                                            0358 01437000
*     R14 UNRSTD;                                                  0358 01438000
*   END ILRALS00;                                                  0359 01439000
@EL00006 DS    0H                                                  0359 01440000
@EF00006 DS    0H                                                  0359 01441000
@ER00006 BR    @14                                                 0359 01442000
         EJECT                                                          01443000
*                                                                  0360 01444000
*/*  MACCOMP Y-4SC1CW/PZD81                                          */ 01445000
*/*  MACSTAT Y-475082/415304                                         */ 01446000
*/********************************************************************/ 01447000
*/*                                                                  */ 01448000
*/*  NAME:  ILRAFS00                                                 */ 01449000
*/*                                                                  */ 01450000
*/*  STATUS:  OS/VS2 RELEASE 4.1, LEVEL 0                            */ 01451000
*/*                                                                  */ 01452000
*/*  ENTRY POINT:  ILRAFS00                                          */ 01453000
*/*                                                                  */ 01454000
*/*  FUNCTION:  THIS SUBROUTINE FREES AN ASPCT.                      */ 01455000
*/*                                                                  */ 01456000
*/*  INPUT:  ADDRESS OF ASPCT IN REGISTER 1.                         */ 01457000
*/*          LENGTH OF ASPCT IN REGISTER 0.                          */ 01458000
*/*                                                                  */ 01459000
*/*  PROCESS:  TWO LOOPS, ONE TO FREE ASST EXTENSIONS AND ONE TO     */ 01460000
*/*            FREE LPME EXTENSIONS, ARE EXECUTED.  EACH USES THE    */ 01461000
*/*            SUBROUTINE AFSFREE TO INVOKE FREEMAIN.  A FINAL CALL  */ 01462000
*/*            TO AFSFREE FREES THE BASE ASPCT EXTN.                 */ 01463000
*/*                                                                  */ 01464000
*/*  OUTPUT:  RETURN CODE IN REGISTER 15.                            */ 01465000
*/*             00 = NORMAL RETURN                                   */ 01466000
*/*             44 = FREEMAIN FAILURE                                */ 01467000
*/*                                                                  */ 01468000
*/*  EXIT-NORMAL:  RETURN TO CALLER WITH RETURN CODE (SEE OUTPUT)    */ 01469000
*/*                                                                  */ 01470000
*/*  EXIT-ERROR:  NONE                                               */ 01471000
*/*                                                                  */ 01472000
*/*  EXTERNAL REFERENCES:  FREEMAIN                                  */ 01473000
*/*                                                                  */ 01474000
*/*  REGISTERS CLOBBERED:  0 AND 1, 14 AND 15                        */ 01475000
*/*                                                                  */ 01476000
*/*  MAPPING MACROS USED:  ILRASPCT                                  */ 01477000
*/*                                                                  */ 01478000
*/*  NOTES:  DUE TO PLS OPTIMIZATION, RESTRICT ALL NECESSARY         */ 01479000
*/*          REGISTERS AROUND THIS ROUTINE.                          */ 01480000
*/*          INVOKING ROUTINE MUST HOLD THE LOCAL LOCK, OR HAVE      */ 01481000
*/*          SPECIFIED %AFSSVC=YES.                                  */ 01482000
*/*          ALL LABELS AND DATA AREAS CREATED BY THIS ROUTINE BEGIN */ 01483000
*/*          WITH THE THREE CHARACTERS 'AFS'.  THE CALLING MODULE    */ 01484000
*/*          MUST INCLUDE SUFFICIENT WORKSPACE FOR THIS ROUTINE'S    */ 01485000
*/*          DATA AREAS.  THIS AMOUNT IS COMPILER DEPENDENT WITH A   */ 01486000
*/*          MAXIMUM REQUIREMENT OF 46 BYTES.  THIS ROUTINE ALSO     */ 01487000
*/*          REQUIRES THAT THE CALLING MODULE DECLARES REGISTERS     */ 01488000
*/*          R0-R15.  THE MAPPING MACRO LISTED ABOVE MUST BE         */ 01489000
*/*          INCLUDED.  THE BASE POINTER FOR THE ASPCT IS NOT        */ 01490000
*/*          REQUIRED BY THIS SUBROUTINE.                            */ 01491000
*/*                                                                  */ 01492000
*/*  METHOD OF ACCESS:                                               */ 01493000
*/*          %AFSSVC='YES' IF THE INVOKING ROUTINE MUST USE AN SVC   */ 01494000
*/*          %AFSSVC='NO' IF BRANCH ENTRY REQUIRED                   */ 01495000
*/*          %INCLUDE SYSLIB(ILRAFS00)                               */ 01496000
*/********************************************************************/ 01497000
*/*ILRAFS00: CHART (AREF)                                            */ 01498000
*/*HEADER                                                          0360 01499000
*/*            ILRAFS00 - FREE ASPCT STORAGE                         */ 01500000
*/*ILRAFS00: E ENTRY                                                 */ 01501000
*/*         P  SAVE THE RETURN ADDRESS                               */ 01502000
*/*         P  SAVE PTR TO ASPCT BASE                                */ 01503000
*/*         P  SAVE THE LENGTH OF ASPCT                              */ 01504000
*/*         D  (YES,,NO,%AFS01A) SPECIFIED LENGTH THAT OF ASPCT?     */ 01505000
*/*         P  (,%AFS01B) SET SUBPOOL ID TO 255                      */ 01506000
*/*%AFS01A: P  SET SUBPOOL ID TO 230                                 */ 01507000
*/*%AFS01B: D  (YES,,NO,%AFS06) ARE THERE ANY EXTENSIONS?            */ 01508000
*/*         P  INITIALIZE BASE ARRAY SUBSCRIPT TO ONE                */ 01509000
*/*         P  INITIALIZE ASST EXT ARRAY SUBSCRIPT TO TWO            */ 01510000
*/*%AFS01:  P  GET PTR TO ASST EXTENSION                             */ 01511000
*/*%AFS02:  P  GET PTR TO LPME EXTENSION                             */ 01512000
*/*%AFS02A: S  AFSFREE: FREE AN LPME EXTENSION                       */ 01513000
*/*         D  (YES,%AFS03,NO,) RETURN CODE ZERO?                    */ 01514000
*/*         P  INCREMENT THE ASST EXT ARRAY SUBSCRIPT                */ 01515000
*/*         D  (YES,%AFS04,NO,) REACHED END OF ASST EXT ARRAY?       */ 01516000
*/*         D  (YES,,NO,%AFS04) ANYMORE LPME EXTENSIONS?             */ 01517000
*/*         P  SET PTR TO LPME EXTENSION                             */ 01518000
*/*         D  (YES,%AFS02A,NO,%AFS04) IS THIS AN LPME EXTENSION?    */ 01519000
*/*%AFS03:  P  INCREMENT THE ASST EXT ARRAY SUBSCRIPT                */ 01520000
*/*         D  (YES,%AFS04,NO,) REACHED END OF ASST EXT ARRAY?       */ 01521000
*/*         D  (YES,%AFS02,NO,) ANYMORE LPME EXTENSIONS?             */ 01522000
*/*%AFS04:  P  SET WORK PTR TO ASST EXT                              */ 01523000
*/*         S  AFSFREE: FREE AN ASST EXTENSION                       */ 01524000
*/*         D  (YES,%AFS05,NO,) RETURN CODE ZERO?                    */ 01525000
*/*         P  INCREMENT THE BASE ARRAY SUBSCRIPT                    */ 01526000
*/*         D  (YES,%AFS06,NO,) REACHED END OF BASE ARRAY?           */ 01527000
*/*         D  (YES,,NO,%AFS06) ANYMORE ASST EXTENSIONS?             */ 01528000
*/*         P  GET PTR TO ASST EXTENSION                             */ 01529000
*/*         D  (YES,,NO,%AFS06) IS THIS AN ASST EXTENSION            */ 01530000
*/*         P  (,%AFS02) RESET ASST EXT ARRAY SUBSCRIPT TO ONE       */ 01531000
*/*%AFS05:  P  INCREMENT THE BASE ARRAY SUBSCRIPT                    */ 01532000
*/*         D  (YES,%AFS06,NO,) REACHED END OF BASE ARRAY            */ 01533000
*/*         D  (YES,,NO,%AFS06) ANYMORE ASST EXTENSIONS?             */ 01534000
*/*         P  (,%AFS01) RESET ASST EXT ARRAY SUBSCRIPT TO ONE       */ 01535000
*/*%AFS06:  P  SET THE WORK PTR TO ASPCT BASE                        */ 01536000
*/*         S  AFSFREE: FREE THE ASPCT BASE                          */ 01537000
*/*         R  RETURN TO CALLER                                      */ 01538000
*                                                                  0360 01539000
         EJECT                                                          01540000
*ILRAFS00:                                                         0360 01541000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0360 01542000
*                                                                  0360 01543000
ILRAFS00 DS    0H                                                  0361 01544000
*/*A-000000-999999                                           @Z40WPWH*/ 01545000
*                                                                  0361 01546000
*   DECLARE                                                        0361 01547000
*     AFSASPCT PTR(31),             /* PTR TO ASPCT BASE             */ 01548000
*     AFSEXPTR PTR(31),             /* PTR TO ASPCT EXTENSIONS       */ 01549000
*     AFSLNGTH FIXED(31),           /* FREEMAIN LENGTH               */ 01550000
*     AFSWORK PTR(31),              /* FREEMAIN ADDRESS              */ 01551000
*     AFSRET1 FIXED(31),            /* INTERNAL RETURN CODE          */ 01552000
*     AFSRET2 FIXED(31),            /* INTERNAL RETURN CODE          */ 01553000
*     AFSA FIXED(31),               /* ASST EXT ARRAY SUBSCRIPT      */ 01554000
*     AFSSPID FIXED(31),            /* SUBPOOL ID FOR FREEMAIN       */ 01555000
*     AFSB FIXED(15),               /* BASE ARRAY SUBSCRIPT          */ 01556000
*     AFSZERO FIXED(31) CONSTANT(0),                               0361 01557000
*     AFSSP230 FIXED(31) CONSTANT(230),                            0361 01558000
*     AFSSP255 FIXED(31) CONSTANT(255),                            0361 01559000
*     AFS257 FIXED(31) CONSTANT(257),                              0361 01560000
*     AFSONE FIXED(15) CONSTANT(1),                                0361 01561000
*     AFS44 FIXED(31) CONSTANT(44),                                0361 01562000
*     AFSTWO FIXED(15) CONSTANT(2),                                0361 01563000
*     AFSFIVE FIXED(15) CONSTANT(5),                               0361 01564000
*     AFSREG3 FIXED(31),            /* REGISTER 3 SAVEAREA           */ 01565000
*     AFSREG4 FIXED(31),            /* REGISTER 4 SAVEAREA           */ 01566000
*     AFSREG7 FIXED(31);            /* REGISTER 7 SAVEAREA           */ 01567000
*   RFY                                                            0362 01568000
*    (R0,                                                          0362 01569000
*     R1,                                                          0362 01570000
*     R3,                                                          0362 01571000
*     R4,                                                          0362 01572000
*     R7,                                                          0362 01573000
*     R14) RSTD;                                                   0362 01574000
*   AFSRET1=R14;                    /* SAVE THE RETURN ADDRESS       */ 01575000
         ST    R14,AFSRET1                                         0363 01576000
*   AFSASPCT=R1;                    /* SAVE PTR TO ASPCT BASE        */ 01577000
         ST    R1,AFSASPCT                                         0364 01578000
*   AFSLNGTH=R0;                    /* SAVE INPUT LENGTH             */ 01579000
         ST    R0,AFSLNGTH                                         0365 01580000
*   AFSREG3=R3;                     /* SAVE CALLER'S REG 3           */ 01581000
         ST    R3,AFSREG3                                          0366 01582000
*   AFSREG4=R4;                     /* SAVE CALLER'S REG 4           */ 01583000
         ST    R4,AFSREG4                                          0367 01584000
*   AFSREG7=R7;                     /* SAVE CALLER'S REG 7           */ 01585000
         ST    R7,AFSREG7                                          0368 01586000
*   RFY                                                            0369 01587000
*    (R0,                                                          0369 01588000
*     R1,                                                          0369 01589000
*     R3,                                                          0369 01590000
*     R4,                                                          0369 01591000
*     R7,                                                          0369 01592000
*     R14) UNRSTD;                                                 0369 01593000
*   IF AFSLNGTH=LENGTH(ASPCT)       /* CHECK WHICH SUBPOOL TO USE    */ 01594000
*     THEN                          /* ACTIVE ASPCT                  */ 01595000
         L     @12,AFSLNGTH                                        0370 01596000
         C     @12,@CF01461                                        0370 01597000
         BNE   @RF00370                                            0370 01598000
*     AFSSPID=AFSSP255;             /* SET SUBPOOL FOR LSQA          */ 01599000
         MVC   AFSSPID(4),@CF01405                                 0371 01600000
*   ELSE                            /* I/O BUFFERS                   */ 01601000
*     AFSSPID=AFSSP230;             /* SET SUBPOOL FOR USER KEY      */ 01602000
         B     @RC00370                                            0372 01603000
@RF00370 MVC   AFSSPID(4),@CF01445                                 0372 01604000
         EJECT                                                          01605000
*                                                                  0373 01606000
*/********************************************************************/ 01607000
*/*                                                                  */ 01608000
*/*  A TEST IS NOW MADE FOR EXTENSIONS. IF THERE ARE EXTENSIONS,     */ 01609000
*/*  THEY ARE FREED FIRST. FIRST ALL LPME EXTENSIONS FOR A PARTICULAR*/ 01610000
*/*  ASST EXTENSION ARE FREED, THEN THAT ASST EXTENSION IS FREED.    */ 01611000
*/*  THIS PROCESS IS REPEATED UNTIL ALL EXTENSIONS ARE FREED.        */ 01612000
*/*                                                                  */ 01613000
*/********************************************************************/ 01614000
*                                                                  0373 01615000
*   IF AFSASPCT->ASPAEXCT^=AFSZERO  /* ARE THERE ANY EXTENSIONS?     */ 01616000
*     THEN                                                         0373 01617000
@RC00370 L     @12,AFSASPCT                                        0373 01618000
         LH    @11,ASPAEXCT(,@12)                                  0373 01619000
         LTR   @11,@11                                             0373 01620000
         BZ    @RF00373                                            0373 01621000
*     DO;                           /* YES                           */ 01622000
*       AFSB=AFSONE;                /* SET BASE SUBSCRIPT FOR FIRST     01623000
*                                      ASST EXTENSION                */ 01624000
         LA    AFSB,1                                              0375 01625000
*       AFSA=AFSTWO;                /* SET ASST SUBSCRIPT FOR FIRST     01626000
*                                      LPME EXTENSION OFF FIRST ASST    01627000
*                                      EXTENSION. GET PTR TO FIRST 0376 01628000
*                                      ASST EXT                      */ 01629000
         LA    AFSA,2                                              0376 01630000
*       AFSEXPTR=AFSASPCT->ASPASSTP(AFSB);                         0377 01631000
         L     @05,AFSASPCT                                        0377 01632000
         LR    @15,AFSB                                            0377 01633000
         SLA   @15,2                                               0377 01634000
         L     AFSEXPTR,ASPASSTP-4(@15,@05)                        0377 01635000
*       DO WHILE AFSEXPTR^=AFSZERO; /* LOOP UNTIL WE HAVE PROCESSED     01636000
*                                      ALL ASST EXTENSIONS GET PTR TO   01637000
*                                      LPME EXT                      */ 01638000
         B     @DE00378                                            0378 01639000
@DL00378 DS    0H                                                  0379 01640000
*         AFSWORK=AFSEXPTR->ASPASSTE(AFSA);                        0379 01641000
         LR    @05,AFSA                                            0379 01642000
         SLA   @05,2                                               0379 01643000
         L     AFSWORK,ASPASSTE-4(@05,AFSEXPTR)                    0379 01644000
*         DO WHILE AFSWORK^=AFSZERO;/* LOOP UNTIL WE HAVE PROCESSED     01645000
*                                      ALL LPME EXTENSIONS FOR A   0380 01646000
*                                      PARTICULAR ASST EXTENSION     */ 01647000
         B     @DE00380                                            0380 01648000
@DL00380 DS    0H                                                  0381 01649000
*           CALL AFSFREE;           /* FREE AN LPME EXTENSION        */ 01650000
         BAL   @14,AFSFREE                                         0381 01651000
*           RFY                                                    0382 01652000
*             R15 RSTD;                                            0382 01653000
*           IF R15=AFSZERO          /* SUCCESSFUL FREEMAIN?          */ 01654000
*             THEN                                                 0383 01655000
         LTR   R15,R15                                             0383 01656000
         BNZ   @RF00383                                            0383 01657000
*             DO;                   /* YES                           */ 01658000
*               RFY                                                0385 01659000
*                 R15 UNRSTD;                                      0385 01660000
*               AFSA=AFSA+AFSONE;   /* INCREMENT ASST SUBSCRIPT      */ 01661000
         AL    AFSA,@CF00075                                       0386 01662000
*               IF AFSA<AFS257      /* REACHED END OF ARRAY          */ 01663000
*                 THEN              /* NO, GET PTR TO NEXT LPME EX   */ 01664000
         C     AFSA,@CF01426                                       0387 01665000
         BNL   @RF00387                                            0387 01666000
*                 AFSWORK=AFSEXPTR->ASPASSTE(AFSA);                0388 01667000
         LR    @05,AFSA                                            0388 01668000
         SLA   @05,2                                               0388 01669000
         L     AFSWORK,ASPASSTE-4(@05,AFSEXPTR)                    0388 01670000
*               ELSE                /* YES, FORCE EXIT FROM LOOP     */ 01671000
*                 AFSWORK=AFSZERO;                                 0389 01672000
         B     @RC00387                                            0389 01673000
@RF00387 SLR   AFSWORK,AFSWORK                                     0389 01674000
*             END;                  /* THIS IS THE LOGICAL END OF THE   01675000
*                                      DO WHILE LOOP FOR LPME      0390 01676000
*                                      EXTENSIONS. PHYSICAL END IS 0390 01677000
*                                      AFTER THE ERROR CODE PROCESS     01678000
*                                      ING FOR A NON-ZERO RETURN FROM   01679000
*                                      AFSFREE.                      */ 01680000
         EJECT                                                          01681000
*                                                                  0391 01682000
*/********************************************************************/ 01683000
*/* THIS SECTION WILL PROCESS A NON-ZERO RETURN CODE FROM AFSFREE    */ 01684000
*/* FOR LPME EXTENSIONS. PROCESSING CONSISTS OF GETTING THE POINTER  */ 01685000
*/* TO THE NEXT LPME EXTENSION, AND VERIFYING THAT IT IS AN LPME     */ 01686000
*/* EXTENSION. IF IT IS WE WILL CONTINUE FREEING LPME EXTENSIONS,    */ 01687000
*/* IF NOT, WE WILL FORCE AN EXIT FROM THE LOOP.                     */ 01688000
*/********************************************************************/ 01689000
*                                                                  0391 01690000
*           ELSE                                                   0391 01691000
*             DO;                   /* NON-ZERO RETURN FROM AFSFREE  */ 01692000
         B     @RC00383                                            0391 01693000
@RF00383 DS    0H                                                  0392 01694000
*               AFSA=AFSA+AFSONE;   /* INCREMENT ASST SUBSCRIPT      */ 01695000
         AL    AFSA,@CF00075                                       0392 01696000
*               IF AFSA<AFS257      /* REACHED END OF ASST ARRAY?    */ 01697000
*                 THEN                                             0393 01698000
         C     AFSA,@CF01426                                       0393 01699000
         BNL   @RF00393                                            0393 01700000
*                 DO;               /* NO GET PTR TO NEXT LPME EXT   */ 01701000
*                   AFSWORK=AFSEXPTR->ASPASSTE(AFSA);/* IS THIS A  0395 01702000
*                                      VALID LPME EXT?               */ 01703000
         LR    @05,AFSA                                            0395 01704000
         SLA   @05,2                                               0395 01705000
         L     AFSWORK,ASPASSTE-4(@05,AFSEXPTR)                    0395 01706000
*                   IF AFSWORK->ASPEIDNT^='LPME' THEN/* NO           */ 01707000
         CLC   ASPEIDNT(4,AFSWORK),@CC01456                        0396 01708000
         BE    @RF00396                                            0396 01709000
*                     AFSWORK=AFSZERO;/* FORCE LOOP EXIT             */ 01710000
         SLR   AFSWORK,AFSWORK                                     0397 01711000
*                 END;                                             0398 01712000
*               ELSE                /* YES, REACHED END OF ARRAY     */ 01713000
*                 AFSWORK=AFSZERO;  /* FORCE LOOP EXIT               */ 01714000
         B     @RC00393                                            0399 01715000
@RF00393 SLR   AFSWORK,AFSWORK                                     0399 01716000
*             END;                                                 0400 01717000
@RC00393 DS    0H                                                  0401 01718000
*         END;                      /* THIS IS THE PHYSICAL END OF 0401 01719000
*                                      THE DO WHILE LOOP FOR LPME  0401 01720000
*                                      EXTENSIONS.                   */ 01721000
@RC00383 DS    0H                                                  0401 01722000
@DE00380 LTR   AFSWORK,AFSWORK                                     0401 01723000
         BNZ   @DL00380                                            0401 01724000
         EJECT                                                          01725000
*                                                                  0402 01726000
*/********************************************************************/ 01727000
*/* THIS SECTION PROCESSES THE ASST EXTENSIONS                       */ 01728000
*/********************************************************************/ 01729000
*                                                                  0402 01730000
*         AFSWORK=AFSEXPTR;         /* SET FREEMAIN POINTER TO AN  0402 01731000
*                                      ASST EXTENSION                */ 01732000
         LR    AFSWORK,AFSEXPTR                                    0402 01733000
*         CALL AFSFREE;             /* FREE THE ASST EXTENSION       */ 01734000
         BAL   @14,AFSFREE                                         0403 01735000
*         RFY                                                      0404 01736000
*           R15 RSTD;                                              0404 01737000
*         IF R15=AFSZERO            /* FREEMAIN SUCCESSFUL?          */ 01738000
*           THEN                                                   0405 01739000
         LTR   R15,R15                                             0405 01740000
         BNZ   @RF00405                                            0405 01741000
*           DO;                     /* YES                           */ 01742000
*             RFY                                                  0407 01743000
*               R15 UNRSTD;                                        0407 01744000
*             AFSB=AFSB+AFSONE;     /* INCREMENT BASE SUBSCRIPT      */ 01745000
         LA    @08,1                                               0408 01746000
         ALR   AFSB,@08                                            0408 01747000
*             IF AFSB<AFSFIVE       /* REACHED END OF ARRAY?         */ 01748000
*               THEN                                               0409 01749000
         C     AFSB,@CF00462                                       0409 01750000
         BNL   @RF00409                                            0409 01751000
*               DO;                 /* NO GET PTR TO NEXT ASST EXT   */ 01752000
*                 AFSEXPTR=AFSASPCT->ASPASSTP(AFSB);               0411 01753000
         LR    @05,AFSB                                            0411 01754000
         SLA   @05,2                                               0411 01755000
         L     @01,AFSASPCT                                        0411 01756000
         L     AFSEXPTR,ASPASSTP-4(@05,@01)                        0411 01757000
*                 AFSA=AFSONE;      /* RESET ASST SUBSCRIPT          */ 01758000
         LA    @05,1                                               0412 01759000
         LR    AFSA,@05                                            0412 01760000
*               END;                                               0413 01761000
*             ELSE                  /* YES, REACHED END OF ARRAY     */ 01762000
*               AFSEXPTR=AFSZERO;   /* FORCE LOOP EXIT               */ 01763000
         B     @RC00409                                            0414 01764000
@RF00409 SLR   AFSEXPTR,AFSEXPTR                                   0414 01765000
*           END;                    /* THIS THE LOGICAL END OF THE DO   01766000
*                                      WHILE LOOP FOR ASST         0415 01767000
*                                      EXTENSIONS. PHYSICAL END IS 0415 01768000
*                                      AFTER THE ERROR CODE PROCESS     01769000
*                                      ING FOR A NON-ZERO RETURN FROM   01770000
*                                      AFSFREE                       */ 01771000
         EJECT                                                          01772000
*                                                                  0416 01773000
*/********************************************************************/ 01774000
*/* THIS SECTION WILL PROCESS A NON-ZERO RETURN CODE FROM AFSFREE    */ 01775000
*/* FOR ASST EXTENSIONS. PROCESSING CONSISTS OF GETTING THE POINTER  */ 01776000
*/* TO THE NEXT ASST EXTENSION, AND VERIFYING THAT IT IS AN ASST     */ 01777000
*/* EXTENSION. IF IT IS WE WILL CONTINUE FREEING ASST EXTENSIONS,    */ 01778000
*/* IF NOT, WE WILL FORCE AN EXIT FROM THE LOOP.                     */ 01779000
*/********************************************************************/ 01780000
*                                                                  0416 01781000
*         ELSE                                                     0416 01782000
*           DO;                     /* NON-ZERO RETURN CODE FROM   0416 01783000
*                                      AFSFREE                       */ 01784000
         B     @RC00405                                            0416 01785000
@RF00405 DS    0H                                                  0417 01786000
*             AFSB=AFSB+AFSONE;     /* INCREMENT BASE SUBSCRIPT      */ 01787000
         LA    @08,1                                               0417 01788000
         ALR   AFSB,@08                                            0417 01789000
*             IF AFSB<AFSFIVE       /* REACHED END OF ARRAY          */ 01790000
*               THEN                                               0418 01791000
         C     AFSB,@CF00462                                       0418 01792000
         BNL   @RF00418                                            0418 01793000
*               DO;                 /* GET PTR TO NEXT ASST          */ 01794000
*                 AFSEXPTR=AFSASPCT->ASPASSTP(AFSB);/* VALID ASST  0420 01795000
*                                      EXTENSION?                    */ 01796000
         LR    @05,AFSB                                            0420 01797000
         SLA   @05,2                                               0420 01798000
         L     @01,AFSASPCT                                        0420 01799000
         L     AFSEXPTR,ASPASSTP-4(@05,@01)                        0420 01800000
*                 IF AFSEXPTR->ASPEIDNT='ASST' THEN/* YES            */ 01801000
         CLC   ASPEIDNT(4,AFSEXPTR),@CC01457                       0421 01802000
         BNE   @RF00421                                            0421 01803000
*                   AFSA=AFSONE;    /* RESET ASST SUBSCRIPT          */ 01804000
         LA    @05,1                                               0422 01805000
         LR    AFSA,@05                                            0422 01806000
*                 ELSE              /* NO                            */ 01807000
*                   AFSEXPTR=AFSZERO;/* FORCE LOOP EXIT              */ 01808000
         B     @RC00421                                            0423 01809000
@RF00421 SLR   AFSEXPTR,AFSEXPTR                                   0423 01810000
*               END;                                               0424 01811000
*             ELSE                  /* YES, REACHED END OF ARRAY     */ 01812000
*               AFSEXPTR=AFSZERO;   /* FORCE LOOP EXIT               */ 01813000
         B     @RC00418                                            0425 01814000
@RF00418 SLR   AFSEXPTR,AFSEXPTR                                   0425 01815000
*           END;                                                   0426 01816000
@RC00418 DS    0H                                                  0427 01817000
*       END;                        /* PHYSICAL END OF DO WHILE LOOP    01818000
*                                      FOR ASST EXTENSIONS           */ 01819000
@RC00405 DS    0H                                                  0427 01820000
@DE00378 LTR   AFSEXPTR,AFSEXPTR                                   0427 01821000
         BNZ   @DL00378                                            0427 01822000
*     END;                                                         0428 01823000
         EJECT                                                          01824000
*                                                                  0429 01825000
*/********************************************************************/ 01826000
*/* THIS SECTION FREES THE ASPCT BASE                                */ 01827000
*/********************************************************************/ 01828000
*                                                                  0429 01829000
*   AFSWORK=AFSASPCT;               /* GET PTR TO THE ASPCT BASE     */ 01830000
@RF00373 L     AFSWORK,AFSASPCT                                    0429 01831000
*   CALL AFSFREE;                   /* FREE THE BASE                 */ 01832000
         BAL   @14,AFSFREE                                         0430 01833000
         EJECT                                                          01834000
*   RFY                                                            0431 01835000
*    (R3,                                                          0431 01836000
*     R4,                                                          0431 01837000
*     R7,                                                          0431 01838000
*     R14) RSTD;                                                   0431 01839000
*   R3=AFSREG3;                     /* RESTORE CALLER'S REG 3        */ 01840000
         L     R3,AFSREG3                                          0432 01841000
*   R4=AFSREG4;                     /* RESTORE CALLER'S REG 4        */ 01842000
         L     R4,AFSREG4                                          0433 01843000
*   R7=AFSREG7;                     /* RESTORE CALLER'S REG 7        */ 01844000
         L     R7,AFSREG7                                          0434 01845000
*   R14=AFSRET1;                    /* GET RETURN ADDRESS            */ 01846000
         L     R14,AFSRET1                                         0435 01847000
*   RETURN;                         /* RETURN TO CALLER              */ 01848000
@EL00007 DS    0H                                                  0436 01849000
@EF00007 DS    0H                                                  0436 01850000
@ER00007 BR    @14                                                 0436 01851000
*   RFY                                                            0437 01852000
*    (R3,                                                          0437 01853000
*     R4,                                                          0437 01854000
*     R7,                                                          0437 01855000
*     R14) UNRSTD;                                                 0437 01856000
         EJECT                                                          01857000
*                                                                  0438 01858000
*/********************************************************************/ 01859000
*/*                                                                  */ 01860000
*/*  AFSFREE:  FREE ASPCT EXTN OF STORAGE                            */ 01861000
*/*                                                                  */ 01862000
*/*  INPUT:  ADDRESS OF EXTN IN REGISTER 1                           */ 01863000
*/*                                                                  */ 01864000
*/*  PROCESS:  SET UP REGS, ISSUE FREEMAIN MACRO TO FREE ASPCT EXTN. */ 01865000
*/*                                                                  */ 01866000
*/*  OUTPUT:  RETURN CODE IN REGISTER 15                             */ 01867000
*/*             00 - NORMAL RETURN                                   */ 01868000
*/*             44 - FREEMAIN RETURNED ERROR CODE                    */ 01869000
*/*                                                                  */ 01870000
*/********************************************************************/ 01871000
*/*AFSFREE: CHART (AREF)                                             */ 01872000
*/*HEADER                                                          0438 01873000
*/*  ILRAFS00                                                      0438 01874000
*/* AFSFREE - FREEMAIN THE ASPCT                                     */ 01875000
*/*AFSFREE: E  ENTRY                                                 */ 01876000
*/*         P  SAVE THE RETURN ADDRESS                               */ 01877000
*/*         N  THIS NEXT TEST AND RESULTING LEGS OF CODE, IS A MACRO */ 01878000
*/*         N  PASS TEST AND EXPANSION.                              */ 01879000
*/*         D  (YES,,NO,%AFS07) SVC OK?                              */ 01880000
*/*         P  LOAD REG 14 WITH SUBPOOL ID                           */ 01881000
*/*         P  LOAD REG 0 WITH LENGTH                                */ 01882000
*/*         P  LOAD REG 1 WITH ADDRESS OF AREA TO BE FREED           */ 01883000
*/*         S  (,%AFS08) FREEMAIN: FREE THE ASPCT                    */ 01884000
*/*%AFS07:  P  LOAD REG 0 WITH LENTH                                 */ 01885000
*/*         P  LOAD REG 1 WITH ADDRESS OF AREA TO BE FREED           */ 01886000
*/*         P  LOAD REG 4 WITH CURRENT TCB ADDRESS                   */ 01887000
*/*         P  LOAD REG 7 WITH CURRENT ASCB ADDRESS                  */ 01888000
*/*         P  LOAD REG 3 WITH SUBPOOL ID                            */ 01889000
*/*         S  IEAVGM00: FREE THE ASPCT                              */ 01890000
*/*%AFS08:  D  (YES,%AFS09,NO,) ZERO RETURN CODE?                    */ 01891000
*/*         P  SAVE FREEMAINS RETURN CODE                            */ 01892000
*/*         P  SET RETURN CODE TO 68                                 */ 01893000
*/*%AFS09:  R  RETURN TO MAINLINE                                    */ 01894000
*                                                                  0438 01895000
         EJECT                                                          01896000
*AFSFREE:                           /* FREEMAIN AN EXTN OF ASPCT     */ 01897000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                          0438 01898000
AFSFREE  DS    0H                                                  0439 01899000
*   RFY                                                            0439 01900000
*     R14 RSTD;                                                    0439 01901000
*   AFSRET2=R14;                    /* SAVE THE RETURN ADDRESS       */ 01902000
         ST    R14,AFSRET2                                         0440 01903000
*   RFY                                                            0441 01904000
*    (R0,                                                          0441 01905000
*     R1,                                                          0441 01906000
*     R3,                                                          0441 01907000
*     R4,                                                          0441 01908000
*     R7) RSTD;                                                    0441 01909000
*   R0=AFSLNGTH;                    /* GET THE LENGTH OF AREA TO BE     01910000
*                                      FREED                         */ 01911000
         L     R0,AFSLNGTH                                         0442 01912000
*   R1=AFSWORK;                     /* GET ADDRESS OF AREA TO FREE   */ 01913000
         LR    R1,AFSWORK                                          0443 01914000
*   R4=PSATOLD;                     /* GET CURRENT TCB ADDRESS       */ 01915000
         L     R4,PSATOLD                                          0444 01916000
*   R7=PSAAOLD;                     /* GET CURRENT ASCB ADDRESS      */ 01917000
         L     R7,PSAAOLD                                          0445 01918000
*   R3=AFSSPID;                     /* GET SUBPOOL ID                */ 01919000
         L     R3,AFSSPID                                          0446 01920000
*   GENERATE REFS(R0,R1,R3,R4,R7,CVTCRMN,CVTMAP);                  0447 01921000
        FREEMAIN RC,A=(1),LV=(0),SP=(3),BRANCH=YES                      01922000
*   RFY                                                            0448 01923000
*    (R0,                                                          0448 01924000
*     R1,                                                          0448 01925000
*     R3,                                                          0448 01926000
*     R4,                                                          0448 01927000
*     R7,                                                          0448 01928000
*     R14) UNRSTD;                                                 0448 01929000
*   RFY                                                            0449 01930000
*    (R14,                                                         0449 01931000
*     R15) RSTD;                                                   0449 01932000
*   IF R15^=AFSZERO                 /* FREEMAIN SUCCESSFUL?          */ 01933000
*     THEN                          /* NO                            */ 01934000
         LTR   R15,R15                                             0450 01935000
         BZ    @RF00450                                            0450 01936000
*     R15=AFS44;                    /* SET RETURN CODE TO 44         */ 01937000
         LA    R15,44                                              0451 01938000
*   R14=AFSRET2;                    /* GET RETURN ADDRESS            */ 01939000
@RF00450 L     R14,AFSRET2                                         0452 01940000
*   RFY                                                            0453 01941000
*    (R14,                                                         0453 01942000
*     R15) UNRSTD;                                                 0453 01943000
*   END AFSFREE;                                                   0454 01944000
@EL00008 DS    0H                                                  0454 01945000
@EF00008 DS    0H                                                  0454 01946000
@ER00008 BR    @14                                                 0454 01947000
*   END ILRAFS00;                                                  0455 01948000
*   END ILRSAV                                                     0456 01949000
*                                                                  0456 01950000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 01951000
*/*%INCLUDE SYSLIB  (ILRACE  )                                       */ 01952000
*/*%INCLUDE SYSLIB  (ILRLGE  )                                       */ 01953000
*/*%INCLUDE SYSLIB  (ILRASPCT)                                       */ 01954000
*/*%INCLUDE SYSLIB  (ILRASMVT)                                       */ 01955000
*/*%INCLUDE SYSLIB  (ILREPATH)                                       */ 01956000
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */ 01957000
*/*%INCLUDE SYSLIB  (CVT     )                                       */ 01958000
*/*%INCLUDE SYSLIB  (ILRALS00)                                       */ 01959000
*/*%INCLUDE SYSLIB  (ILRAFS00)                                       */ 01960000
*                                                                  0456 01961000
*       ;                                                          0456 01962000
@DATA    DS    0H                                                       01963000
@DATD    DSECT                                                          01964000
         DS    0F                                                       01965000
ILRSAV   CSECT                                                          01966000
         DS    0F                                                       01967000
@CF00100 DC    F'0'                                                     01968000
@CF00075 DC    F'1'                                                     01969000
@CF00105 DC    F'2'                                                     01970000
@CF00462 DC    F'5'                                                     01971000
@CF01445 DC    F'230'                                                   01972000
@CF01405 DC    F'255'                                                   01973000
@CF01426 DC    F'257'                                                   01974000
@CF01461 DC    F'1088'                                                  01975000
@DATD    DSECT                                                          01976000
         DS    0D                                                       01977000
ACEPTR   DS    A                                                        01978000
LGEPTR   DS    A                                                        01979000
ASPCTPTR DS    A                                                        01980000
ASMVTWPT DS    A                                                        01981000
FREESLOT DS    F                                                        01982000
SAVESLOT DS    F                                                        01983000
RETCODE  DS    F                                                        01984000
RETADDR2 DS    F                                                        01985000
PROCPTR  DS    A                                                        01986000
CORRPN   DS    FL4                                                      01987000
         ORG   CORRPN                                                   01988000
@NM00003 DS    CL1                                                      01989000
BINDEX   DS    FL1                                                      01990000
AINDEX   DS    FL1                                                      01991000
LINDEX   DS    FL1                                                      01992000
         ORG   CORRPN+4                                                 01993000
ALSRETRN DS    F                                                        01994000
ALSASPCT DS    A                                                        01995000
ALSRPN   DS    F                                                        01996000
ALSA     DS    F                                                        01997000
ALSB     DS    F                                                        01998000
AFSASPCT DS    A                                                        01999000
AFSLNGTH DS    F                                                        02000000
AFSRET1  DS    F                                                        02001000
AFSRET2  DS    F                                                        02002000
AFSSPID  DS    F                                                        02003000
AFSREG3  DS    F                                                        02004000
AFSREG4  DS    F                                                        02005000
AFSREG7  DS    F                                                        02006000
PARMLIST DS    CL12                                                     02007000
         ORG   PARMLIST                                                 02008000
@NM00001 DS    AL4                                                      02009000
         ORG   @NM00001                                                 02010000
OPCODE   DS    CL1                                                      02011000
@NM00002 DS    CL3                                                      02012000
         ORG   PARMLIST+4                                               02013000
BASEPTR  DS    AL4                                                      02014000
         ORG   BASEPTR                                                  02015000
SSYMPTR  DS    AL4                                                      02016000
         ORG   PARMLIST+8                                               02017000
EPATHPTR DS    AL4                                                      02018000
         ORG   PARMLIST+12                                              02019000
SAVEREGA DS    CL72                                                     02020000
         ORG   SAVEREGA                                                 02021000
@NM00004 DS    CL12                                                     02022000
SAVREGSA DS    CL60                                                     02023000
         ORG   SAVEREGA+72                                              02024000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                02025000
@ENDDATD EQU   *                                                        02026000
ILRSAV   CSECT                                                          02027000
         NOPR  ((@ENDDATD-@DATD)/257*16)                                02028000
         DS    0F                                                       02029000
@SIZDATD DC    AL1(0)                                                   02030000
         DC    AL3(@ENDDATD-@DATD)                                      02031000
@CV00097 DC    V(ILRVSAMI)                                              02032000
         DS    0D                                                       02033000
ALSLPMEL DC    AL4(4)                                                   02034000
@CC01456 DC    C'LPME'                                                  02035000
@CC01457 DC    C'ASST'                                                  02036000
SAVPATCH DS    CL160                                                    02037000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02038000
@01      EQU   01                                                       02039000
@02      EQU   02                                                       02040000
@03      EQU   03                                                       02041000
@04      EQU   04                                                       02042000
@05      EQU   05                                                       02043000
@06      EQU   06                                                       02044000
@07      EQU   07                                                       02045000
@08      EQU   08                                                       02046000
@09      EQU   09                                                       02047000
@10      EQU   10                                                       02048000
@11      EQU   11                                                       02049000
@12      EQU   12                                                       02050000
@13      EQU   13                                                       02051000
@14      EQU   14                                                       02052000
@15      EQU   15                                                       02053000
AFSB     EQU   @11                                                      02054000
AFSA     EQU   @12                                                      02055000
AFSWORK  EQU   @06                                                      02056000
AFSEXPTR EQU   @08                                                      02057000
ALSCNTL  EQU   @11                                                      02058000
ALSL     EQU   @08                                                      02059000
ALSLPME  EQU   @12                                                      02060000
ALSLEPTR EQU   @03                                                      02061000
ALSEXPTR EQU   @02                                                      02062000
SLPMEPTR EQU   @05                                                      02063000
RETASPCT EQU   @07                                                      02064000
RETADDR1 EQU   @06                                                      02065000
LPMEPTR  EQU   @06                                                      02066000
ASPEXPTR EQU   @02                                                      02067000
R0       EQU   @00                                                      02068000
R1       EQU   @01                                                      02069000
R3       EQU   @03                                                      02070000
R4       EQU   @04                                                      02071000
R7       EQU   @07                                                      02072000
R8       EQU   @08                                                      02073000
R9       EQU   @09                                                      02074000
R10      EQU   @10                                                      02075000
R11      EQU   @11                                                      02076000
GPR11P   EQU   @11                                                      02077000
R12      EQU   @12                                                      02078000
GPR12P   EQU   @12                                                      02079000
R13      EQU   @13                                                      02080000
GPR13P   EQU   @13                                                      02081000
R14      EQU   @14                                                      02082000
GPR14P   EQU   @14                                                      02083000
R15      EQU   @15                                                      02084000
ASMVTPTR EQU   @03                                                      02085000
EPAPTR   EQU   @04                                                      02086000
R2       EQU   @02                                                      02087000
R5       EQU   @05                                                      02088000
R6       EQU   @06                                                      02089000
PSA      EQU   0                                                        02090000
FLCRNPSW EQU   PSA                                                      02091000
FLCROPSW EQU   PSA+8                                                    02092000
FLCICCW2 EQU   PSA+16                                                   02093000
FLCCVT   EQU   FLCICCW2                                                 02094000
PSAEEPSW EQU   PSA+132                                                  02095000
PSAESPSW EQU   PSA+136                                                  02096000
FLCSVILC EQU   PSAESPSW+1                                               02097000
PSAEPPSW EQU   PSA+140                                                  02098000
FLCPIILC EQU   PSAEPPSW+1                                               02099000
FLCPICOD EQU   PSAEPPSW+2                                               02100000
PSAPICOD EQU   FLCPICOD+1                                               02101000
FLCTEA   EQU   PSAEPPSW+4                                               02102000
FLCPER   EQU   PSA+152                                                  02103000
FLCMCLA  EQU   PSA+168                                                  02104000
FLCIOEL  EQU   FLCMCLA+4                                                02105000
FLCIOA   EQU   FLCMCLA+16                                               02106000
FLCFSA   EQU   FLCMCLA+80                                               02107000
PSATOLD  EQU   PSA+540                                                  02108000
PSAAOLD  EQU   PSA+548                                                  02109000
PSASUPER EQU   PSA+552                                                  02110000
PSASUP1  EQU   PSASUPER                                                 02111000
PSASUP2  EQU   PSASUPER+1                                               02112000
PSASUP3  EQU   PSASUPER+2                                               02113000
PSASUP4  EQU   PSASUPER+3                                               02114000
PSACLHT  EQU   PSA+640                                                  02115000
PSALKSA  EQU   PSA+696                                                  02116000
PSAHLHI  EQU   PSA+760                                                  02117000
PSALITA  EQU   PSA+764                                                  02118000
PSADSSFL EQU   PSA+836                                                  02119000
PSADSSF1 EQU   PSADSSFL                                                 02120000
PSADSSF3 EQU   PSADSSFL+2                                               02121000
PSADSSF4 EQU   PSADSSFL+3                                               02122000
PSARSVT  EQU   PSA+896                                                  02123000
ALSPROC  EQU   0                                                        02124000
ILRFRSL1 EQU   0                                                        02125000
ACE      EQU   0                                                        02126000
ACEFLG1  EQU   ACE+9                                                    02127000
ACEFLG3  EQU   ACE+11                                                   02128000
ACELGE   EQU   ACE+12                                                   02129000
ACELGN   EQU   ACE+16                                                   02130000
ACERPN   EQU   ACELGN+4                                                 02131000
ACESYM   EQU   ACE+24                                                   02132000
ACESRCID EQU   ACESYM                                                   02133000
LGE      EQU   0                                                        02134000
LGEPROCQ EQU   LGE                                                      02135000
LGEFLAG1 EQU   LGE+8                                                    02136000
LGESLTCT EQU   LGE+10                                                   02137000
LGEASPCT EQU   LGE+12                                                   02138000
ASPCT    EQU   0                                                        02139000
ASPHDR   EQU   ASPCT                                                    02140000
ASPBKEY  EQU   ASPHDR+8                                                 02141000
ASPSSYM  EQU   ASPBKEY                                                  02142000
ASPFLAG  EQU   ASPHDR+28                                                02143000
ASPSAVED EQU   ASPFLAG                                                  02144000
ASPSAVRP EQU   ASPFLAG                                                  02145000
ASPSAVCT EQU   ASPHDR+40                                                02146000
ASPAEXCT EQU   ASPHDR+46                                                02147000
ASPASSTP EQU   ASPCT+48                                                 02148000
ASPLPMES EQU   ASPCT+64                                                 02149000
ASPEXTSN EQU   0                                                        02150000
ASPEHDR  EQU   ASPEXTSN                                                 02151000
ASPEIDNT EQU   ASPEHDR                                                  02152000
ASPEXKEY EQU   ASPEHDR+8                                                02153000
ASPSECTA EQU   ASPEXTSN+64                                              02154000
ASPLPME  EQU   0                                                        02155000
ASPLPFLG EQU   ASPLPME                                                  02156000
ASPLVALD EQU   ASPLPFLG                                                 02157000
ASPLSAVE EQU   ASPLPFLG                                                 02158000
ASPLSVRP EQU   ASPLPFLG                                                 02159000
ASPVLSID EQU   ASPLPME+1                                                02160000
ASMVT    EQU   0                                                        02161000
ASMFLAG1 EQU   ASMVT                                                    02162000
ASMFLAG2 EQU   ASMVT+1                                                  02163000
ASMSTAGQ EQU   ASMVT+32                                                 02164000
ASMPCCWQ EQU   ASMVT+64                                                 02165000
ASMVSC   EQU   ASMVT+116                                                02166000
ASMLSAI  EQU   ASMVT+144                                                02167000
ASMGOSQS EQU   ASMVT+152                                                02168000
ASMPFRSL EQU   ASMVT+196                                                02169000
ASMPEX   EQU   ASMVT+224                                                02170000
ASMBWKPC EQU   ASMVT+312                                                02171000
ASMWKSA1 EQU   ASMVT+368                                                02172000
ASMWKSA2 EQU   ASMVT+448                                                02173000
ASMWKSA3 EQU   ASMVT+528                                                02174000
ASMWKSA4 EQU   ASMVT+608                                                02175000
ASMWKSA5 EQU   ASMVT+688                                                02176000
ASMPOOLS EQU   0                                                        02177000
ASMCPAVQ EQU   ASMPOOLS+8                                               02178000
ASMCPAVL EQU   ASMCPAVQ                                                 02179000
ASMCPRSQ EQU   ASMPOOLS+16                                              02180000
EPATH    EQU   0                                                        02181000
EPAVSAM  EQU   EPATH                                                    02182000
EPAOWKA  EQU   EPAVSAM                                                  02183000
EPAVWKA  EQU   EPAVSAM+4                                                02184000
EPATMWKA EQU   EPAVWKA                                                  02185000
EPAAASP  EQU   EPAVSAM+8                                                02186000
EPABASP  EQU   EPAVSAM+12                                               02187000
EPARASP  EQU   EPAVSAM+16                                               02188000
EPARTYRG EQU   EPAVSAM+20                                               02189000
EPABKSLT EQU   EPARTYRG                                                 02190000
EPAFLAG1 EQU   EPAVSAM+24                                               02191000
EPAGRPOP EQU   EPAFLAG1                                                 02192000
EPASAVE  EQU   EPAGRPOP                                                 02193000
EPAUNSAV EQU   EPAFLAG1                                                 02194000
EPAFLAG2 EQU   EPAVSAM+25                                               02195000
CVTMAP   EQU   0                                                        02196000
CVTDAR   EQU   CVTMAP+72                                                02197000
CVTFLGS1 EQU   CVTDAR                                                   02198000
CVTDCB   EQU   CVTMAP+116                                               02199000
CVTIERLC EQU   CVTMAP+144                                               02200000
CVTOPTA  EQU   CVTMAP+182                                               02201000
CVTOPTB  EQU   CVTMAP+183                                               02202000
CVTGTF   EQU   CVTMAP+236                                               02203000
CVTGTFST EQU   CVTGTF                                                   02204000
CVTGTFS  EQU   CVTGTFST                                                 02205000
CVTSTATE EQU   CVTGTFST                                                 02206000
CVTTMODE EQU   CVTGTFST                                                 02207000
CVTFORM  EQU   CVTGTFST                                                 02208000
CVTAQAVT EQU   CVTMAP+240                                               02209000
CVTTCMFG EQU   CVTAQAVT                                                 02210000
CVTVOLM2 EQU   CVTMAP+244                                               02211000
CVTTATA  EQU   CVTVOLM2                                                 02212000
CVTTSKS  EQU   CVTTATA                                                  02213000
CVTVOLF2 EQU   CVTTSKS                                                  02214000
CVTTAT   EQU   CVTTATA+1                                                02215000
CVTATER  EQU   CVTMAP+248                                               02216000
CVTEXT1  EQU   CVTMAP+252                                               02217000
CVTPURG  EQU   CVTMAP+260                                               02218000
CVTQMSG  EQU   CVTMAP+268                                               02219000
CVTDMSR  EQU   CVTMAP+272                                               02220000
CVTRSV37 EQU   CVTDMSR                                                  02221000
CVTDMSRF EQU   CVTRSV37                                                 02222000
CVTERPV  EQU   CVTMAP+316                                               02223000
CVTINTLA EQU   CVTMAP+320                                               02224000
CVTAPF   EQU   CVTMAP+324                                               02225000
CVTEXT2  EQU   CVTMAP+328                                               02226000
CVTHJES  EQU   CVTMAP+332                                               02227000
CVTPGSIA EQU   CVTMAP+348                                               02228000
CVTA1F1  EQU   CVTMAP+356                                               02229000
CVTSYSK  EQU   CVTMAP+357                                               02230000
CVTVOLM1 EQU   CVTMAP+380                                               02231000
CVTVOLF1 EQU   CVTVOLM1                                                 02232000
CVTATMCT EQU   CVTMAP+388                                               02233000
CVTXTNT1 EQU   0                                                        02234000
CVTXTNT2 EQU   0                                                        02235000
CVTDSSV  EQU   CVTXTNT2                                                 02236000
CVTFLGBT EQU   CVTXTNT2+5                                               02237000
CVTQID   EQU   CVTXTNT2+24                                              02238000
CVTRV400 EQU   CVTXTNT2+52                                              02239000
CVTRV409 EQU   CVTXTNT2+53                                              02240000
CVTATCVT EQU   CVTXTNT2+64                                              02241000
CVTRV429 EQU   CVTXTNT2+84                                              02242000
CVTRV438 EQU   CVTXTNT2+85                                              02243000
CVTRV457 EQU   CVTXTNT2+112                                             02244000
CVTRV466 EQU   CVTXTNT2+113                                             02245000
CVTFIX   EQU   0                                                        02246000
CVTRELNO EQU   CVTFIX+252                                               02247000
ILRPEX   EQU   0                                                        02248000
GMACELL  EQU   0                                                        02249000
GMANEXT  EQU   GMACELL                                                  02250000
CVTPTR   EQU   FLCCVT                                                   02251000
ASPLPMEE EQU   ASPSECTA                                                 02252000
ASPASST  EQU   ASPSECTA                                                 02253000
ASPASSTE EQU   ASPASST                                                  02254000
ASM1WKSV EQU   ASMWKSA1                                                 02255000
ASM1RGSV EQU   ASM1WKSV                                                 02256000
ASM1WRKA EQU   ASM1WKSV+60                                              02257000
ASM2WKSV EQU   ASMWKSA2                                                 02258000
ASM2WRKA EQU   ASM2WKSV+52                                              02259000
ASM2FLGS EQU   ASM2WRKA+12                                              02260000
ASM3WKSV EQU   ASMWKSA3                                                 02261000
ASM4WKSV EQU   ASMWKSA4                                                 02262000
ASM4RGSV EQU   ASM4WKSV                                                 02263000
ASM5WKSV EQU   ASMWKSA5                                                 02264000
ASM5RGSV EQU   ASM5WKSV                                                 02265000
PSARSVTE EQU   PSARSVT                                                  02266000
CVTS01   EQU   CVTPGSIA                                                 02267000
CVTLPDIA EQU   CVTS01+12                                                02268000
CVTDIRST EQU   CVTLPDIA                                                 02269000
CVTSLIDA EQU   CVTS01+24                                                02270000
CVTCTLFG EQU   CVTS01+50                                                02271000
CVTCRMN  EQU   CVTS01+156                                               02272000
CVTRV210 EQU   CVTS01+424                                               02273000
CVTRV219 EQU   CVTS01+425                                               02274000
CVTRV228 EQU   CVTS01+426                                               02275000
CVTRV237 EQU   CVTS01+427                                               02276000
CVTMFRTR EQU   CVTS01+452                                               02277000
CVTRV262 EQU   CVTS01+468                                               02278000
CVTRV271 EQU   CVTS01+469                                               02279000
CVTRV280 EQU   CVTS01+470                                               02280000
CVTRV289 EQU   CVTS01+471                                               02281000
CVTGSDA  EQU   CVTS01+600                                               02282000
FLC      EQU   PSA                                                      02283000
*                                      START UNREFERENCED COMPONENTS    02284000
CVTRV628 EQU   CVTS01+728                                               02285000
CVTRV627 EQU   CVTS01+724                                               02286000
CVTRV626 EQU   CVTS01+720                                               02287000
CVTRV625 EQU   CVTS01+716                                               02288000
CVTRV624 EQU   CVTS01+712                                               02289000
CVTRV623 EQU   CVTS01+708                                               02290000
CVTRV622 EQU   CVTS01+704                                               02291000
CVTRV621 EQU   CVTS01+700                                               02292000
CVTIHASU EQU   CVTS01+696                                               02293000
CVTSUSP  EQU   CVTS01+692                                               02294000
CVTT6SVC EQU   CVTS01+688                                               02295000
CVTCDAL  EQU   CVTS01+684                                               02296000
CVTTCTL  EQU   CVTS01+680                                               02297000
CVTRSUME EQU   CVTS01+676                                               02298000
CVTJTERM EQU   CVTS01+672                                               02299000
CVTASMRM EQU   CVTS01+668                                               02300000
CVTTCASP EQU   CVTS01+664                                               02301000
CVT0PT03 EQU   CVTS01+660                                               02302000
CVT0PT0E EQU   CVTS01+656                                               02303000
CVTRV609 EQU   CVTS01+652                                               02304000
CVTCGK   EQU   CVTS01+648                                               02305000
CVTRAC   EQU   CVTS01+644                                               02306000
CVTRV606 EQU   CVTS01+640                                               02307000
CVTRV605 EQU   CVTS01+636                                               02308000
CVTRV604 EQU   CVTS01+632                                               02309000
CVTEFF02 EQU   CVTS01+628                                               02310000
CVTCBBR  EQU   CVTS01+624                                               02311000
CVTSSCR  EQU   CVTS01+620                                               02312000
CVTEVENT EQU   CVTS01+616                                               02313000
CVTCRCA  EQU   CVTS01+612                                               02314000
CVTTPIO  EQU   CVTS01+608                                               02315000
CVTADV   EQU   CVTS01+604                                               02316000
CVTGSDAB EQU   CVTGSDA                                                  02317000
CVTQV3   EQU   CVTS01+596                                               02318000
CVTQV2   EQU   CVTS01+592                                               02319000
CVTQV1   EQU   CVTS01+588                                               02320000
CVTRPT   EQU   CVTS01+584                                               02321000
CVTSSRB  EQU   CVTS01+580                                               02322000
CVTCSDRL EQU   CVTS01+576                                               02323000
CVTEXP1  EQU   CVTS01+572                                               02324000
CVTRMPMT EQU   CVTS01+568                                               02325000
CVTRMPTT EQU   CVTS01+564                                               02326000
CVTVPSA  EQU   CVTS01+560                                               02327000
CVTVSTOP EQU   CVTS01+556                                               02328000
CVTGTFR8 EQU   CVTS01+552                                               02329000
CVTQUIT  EQU   CVTS01+548                                               02330000
CVTVACR  EQU   CVTS01+544                                               02331000
CVTWTCB  EQU   CVTS01+540                                               02332000
CVTSTPRS EQU   CVTS01+536                                               02333000
CVT0PT02 EQU   CVTS01+532                                               02334000
CVTDARCM EQU   CVTS01+528                                               02335000
CVTIRECM EQU   CVTS01+524                                               02336000
CVTJRECM EQU   CVTS01+520                                               02337000
CVTVEMS0 EQU   CVTS01+516                                               02338000
CVTSPFRR EQU   CVTS01+512                                               02339000
CVTRLSTG EQU   CVTS01+508                                               02340000
CVT0TC0A EQU   CVTS01+504                                               02341000
CVTGMBR  EQU   CVTS01+500                                               02342000
CVTLFRM  EQU   CVTS01+496                                               02343000
CVTRMBR  EQU   CVTS01+492                                               02344000
CVTVIOP  EQU   CVTS01+488                                               02345000
CVTRV307 EQU   CVTS01+486                                               02346000
CVTRV306 EQU   CVTS01+484                                               02347000
CVTRV305 EQU   CVTS01+482                                               02348000
CVTRV304 EQU   CVTS01+480                                               02349000
CVTRV303 EQU   CVTS01+478                                               02350000
CVTRV302 EQU   CVTS01+476                                               02351000
CVTTRCA  EQU   CVTS01+472                                               02352000
CVTRV297 EQU   CVTRV289                                                 02353000
CVTRV296 EQU   CVTRV289                                                 02354000
CVTRV295 EQU   CVTRV289                                                 02355000
CVTRV294 EQU   CVTRV289                                                 02356000
CVTRV293 EQU   CVTRV289                                                 02357000
CVTRV292 EQU   CVTRV289                                                 02358000
CVTRV291 EQU   CVTRV289                                                 02359000
CVTRV290 EQU   CVTRV289                                                 02360000
CVTRV288 EQU   CVTRV280                                                 02361000
CVTRV287 EQU   CVTRV280                                                 02362000
CVTRV286 EQU   CVTRV280                                                 02363000
CVTRV285 EQU   CVTRV280                                                 02364000
CVTRV284 EQU   CVTRV280                                                 02365000
CVTRV283 EQU   CVTRV280                                                 02366000
CVTRV282 EQU   CVTRV280                                                 02367000
CVTRV281 EQU   CVTRV280                                                 02368000
CVTRV279 EQU   CVTRV271                                                 02369000
CVTRV278 EQU   CVTRV271                                                 02370000
CVTRV277 EQU   CVTRV271                                                 02371000
CVTRV276 EQU   CVTRV271                                                 02372000
CVTRV275 EQU   CVTRV271                                                 02373000
CVTRV274 EQU   CVTRV271                                                 02374000
CVTRV273 EQU   CVTRV271                                                 02375000
CVTRV272 EQU   CVTRV271                                                 02376000
CVTRV270 EQU   CVTRV262                                                 02377000
CVTRV269 EQU   CVTRV262                                                 02378000
CVTRV268 EQU   CVTRV262                                                 02379000
CVTRV267 EQU   CVTRV262                                                 02380000
CVTRV266 EQU   CVTRV262                                                 02381000
CVTRV265 EQU   CVTRV262                                                 02382000
CVTRV264 EQU   CVTRV262                                                 02383000
CVTRV263 EQU   CVTRV262                                                 02384000
CVTVFP   EQU   CVTS01+464                                               02385000
CVTVSI   EQU   CVTS01+460                                               02386000
CVTVPSIB EQU   CVTS01+456                                               02387000
CVTMFACT EQU   CVTMFRTR                                                 02388000
CVTMFCTL EQU   CVTS01+448                                               02389000
CVTPVBP  EQU   CVTS01+444                                               02390000
CVTPWI   EQU   CVTS01+440                                               02391000
CVTRV254 EQU   CVTS01+438                                               02392000
CVTRV253 EQU   CVTS01+436                                               02393000
CVTRV252 EQU   CVTS01+434                                               02394000
CVTRV251 EQU   CVTS01+433                                               02395000
CVTRV250 EQU   CVTS01+432                                               02396000
CVTRV249 EQU   CVTS01+431                                               02397000
CVTRV248 EQU   CVTS01+430                                               02398000
CVTRV247 EQU   CVTS01+429                                               02399000
CVTRV246 EQU   CVTS01+428                                               02400000
CVTRV245 EQU   CVTRV237                                                 02401000
CVTRV244 EQU   CVTRV237                                                 02402000
CVTRV243 EQU   CVTRV237                                                 02403000
CVTRV242 EQU   CVTRV237                                                 02404000
CVTRV241 EQU   CVTRV237                                                 02405000
CVTRV240 EQU   CVTRV237                                                 02406000
CVTRV239 EQU   CVTRV237                                                 02407000
CVTRV238 EQU   CVTRV237                                                 02408000
CVTRV236 EQU   CVTRV228                                                 02409000
CVTRV235 EQU   CVTRV228                                                 02410000
CVTRV234 EQU   CVTRV228                                                 02411000
CVTRV233 EQU   CVTRV228                                                 02412000
CVTRV232 EQU   CVTRV228                                                 02413000
CVTRV231 EQU   CVTRV228                                                 02414000
CVTRV230 EQU   CVTRV228                                                 02415000
CVTRV229 EQU   CVTRV228                                                 02416000
CVTRV227 EQU   CVTRV219                                                 02417000
CVTRV226 EQU   CVTRV219                                                 02418000
CVTRV225 EQU   CVTRV219                                                 02419000
CVTRV224 EQU   CVTRV219                                                 02420000
CVTRV223 EQU   CVTRV219                                                 02421000
CVTRV222 EQU   CVTRV219                                                 02422000
CVTRV221 EQU   CVTRV219                                                 02423000
CVTRV220 EQU   CVTRV219                                                 02424000
CVTRV218 EQU   CVTRV210                                                 02425000
CVTRV217 EQU   CVTRV210                                                 02426000
CVTRV216 EQU   CVTRV210                                                 02427000
CVTRV215 EQU   CVTRV210                                                 02428000
CVTRV214 EQU   CVTRV210                                                 02429000
CVTRV213 EQU   CVTRV210                                                 02430000
CVTRV212 EQU   CVTRV210                                                 02431000
CVTRV211 EQU   CVTRV210                                                 02432000
CVTLCCAT EQU   CVTS01+420                                               02433000
CVTPCCAT EQU   CVTS01+416                                               02434000
CVTIPCRP EQU   CVTS01+412                                               02435000
CVTIPCRI EQU   CVTS01+408                                               02436000
CVTIPCDS EQU   CVTS01+404                                               02437000
CVTAIDVT EQU   CVTS01+400                                               02438000
CVTSSAP  EQU   CVTS01+396                                               02439000
CVTEHCIR EQU   CVTS01+392                                               02440000
CVTEHDEF EQU   CVTS01+388                                               02441000
CVTDAIR  EQU   CVTS01+384                                               02442000
CVTPERFM EQU   CVTS01+380                                               02443000
CVT044R2 EQU   CVTS01+376                                               02444000
CVTFETCH EQU   CVTS01+372                                               02445000
CVTRSTWD EQU   CVTS01+368                                               02446000
CVTSPOST EQU   CVTS01+364                                               02447000
CVTIOBP  EQU   CVTS01+360                                               02448000
CVTASMVT EQU   CVTS01+356                                               02449000
CVTRECRQ EQU   CVTS01+352                                               02450000
CVTWSAC  EQU   CVTS01+348                                               02451000
CVTRV149 EQU   CVTS01+344                                               02452000
CVTWSAL  EQU   CVTS01+340                                               02453000
CVTSPSA  EQU   CVTS01+336                                               02454000
CVTGLMN  EQU   CVTS01+332                                               02455000
CVTVEAC0 EQU   CVTS01+328                                               02456000
CVT062R1 EQU   CVTS01+324                                               02457000
CVTRPOST EQU   CVTS01+320                                               02458000
CVTDQIQE EQU   CVTS01+316                                               02459000
CVTCSD   EQU   CVTS01+312                                               02460000
CVTLKRMA EQU   CVTS01+308                                               02461000
CVTRSPIE EQU   CVTS01+304                                               02462000
CVTRENQ  EQU   CVTS01+300                                               02463000
CVTLQCB  EQU   CVTS01+296                                               02464000
CVTFQCB  EQU   CVTS01+292                                               02465000
CVTQCS01 EQU   CVTS01+288                                               02466000
CVTAPFT  EQU   CVTS01+284                                               02467000
CVTPARRL EQU   CVTS01+280                                               02468000
CVTVWAIT EQU   CVTS01+276                                               02469000
CVTGSPL  EQU   CVTS01+272                                               02470000
CVTLSMQ  EQU   CVTS01+268                                               02471000
CVTGSMQ  EQU   CVTS01+264                                               02472000
CVTEXPRO EQU   CVTS01+260                                               02473000
CVTOPCTP EQU   CVTS01+256                                               02474000
CVTSIC   EQU   CVTS01+252                                               02475000
CVTTPIOS EQU   CVTS01+248                                               02476000
CVTRTMS  EQU   CVTS01+244                                               02477000
CVTSDBF  EQU   CVTS01+240                                               02478000
CVTSCBP  EQU   CVTS01+236                                               02479000
CVTSDMP  EQU   CVTS01+232                                               02480000
CVTSV60  EQU   CVTS01+228                                               02481000
CVTRTMCT EQU   CVTS01+224                                               02482000
CVTASCBL EQU   CVTS01+220                                               02483000
CVTASCBH EQU   CVTS01+216                                               02484000
CVTGDA   EQU   CVTS01+212                                               02485000
CVTASVT  EQU   CVTS01+208                                               02486000
CVTVVMDI EQU   CVTS01+204                                               02487000
CVTAQTOP EQU   CVTS01+200                                               02488000
CVTIOSCS EQU   CVTS01+196                                               02489000
CVTSDRM  EQU   CVTS01+192                                               02490000
CVTOPTE  EQU   CVTS01+188                                               02491000
CVTSTXU  EQU   CVTS01+184                                               02492000
CVTQUIS  EQU   CVTS01+180                                               02493000
CVTPARS  EQU   CVTS01+176                                               02494000
CVTS1EE  EQU   CVTS01+172                                               02495000
CVTFRAS  EQU   CVTS01+168                                               02496000
CVTQSAS  EQU   CVTS01+164                                               02497000
CVTCRAS  EQU   CVTS01+160                                               02498000
CVTDELCP EQU   CVTS01+152                                               02499000
CVTFRECL EQU   CVTS01+148                                               02500000
CVTGETCL EQU   CVTS01+144                                               02501000
CVTBLDCP EQU   CVTS01+140                                               02502000
CVTAUTHL EQU   CVTS01+136                                               02503000
CVTSCAN  EQU   CVTS01+132                                               02504000
CVTRV144 EQU   CVTS01+130                                               02505000
CVTMAXMP EQU   CVTS01+128                                               02506000
CVTSTCK  EQU   CVTS01+124                                               02507000
CVTRV139 EQU   CVTS01+123                                               02508000
CVTDSSAC EQU   CVTS01+122                                               02509000
CVTRV513 EQU   CVTS01+121                                               02510000
CVTIOSPL EQU   CVTS01+120                                               02511000
CVTPTGT  EQU   CVTS01+116                                               02512000
CVTCSPIE EQU   CVTS01+112                                               02513000
CVTSMFEX EQU   CVTS01+108                                               02514000
CVTOLT0A EQU   CVTS01+104                                               02515000
CVTSRBRT EQU   CVTS01+100                                               02516000
CVTPUTL  EQU   CVTS01+96                                                02517000
CVTASCRL EQU   CVTS01+92                                                02518000
CVTASCRF EQU   CVTS01+88                                                02519000
CVTRV326 EQU   CVTS01+84                                                02520000
CVTRV325 EQU   CVTS01+80                                                02521000
CVTRV324 EQU   CVTS01+76                                                02522000
CVT0VL01 EQU   CVTS01+72                                                02523000
CVTSHRVM EQU   CVTS01+68                                                02524000
CVTRV332 EQU   CVTS01+64                                                02525000
CVTTAS   EQU   CVTS01+60                                                02526000
CVTRSCN  EQU   CVTS01+56                                                02527000
CVTTRAC2 EQU   CVTS01+54                                                02528000
CVTTRACE EQU   CVTS01+52                                                02529000
CVTAPG   EQU   CVTS01+51                                                02530000
CVTSDTRC EQU   CVTCTLFG                                                 02531000
CVTGTRCE EQU   CVTCTLFG                                                 02532000
CVTNOMP  EQU   CVTCTLFG                                                 02533000
CVTRSV79 EQU   CVTCTLFG                                                 02534000
CVTDSTAT EQU   CVTCTLFG                                                 02535000
CVTRSV78 EQU   CVTCTLFG                                                 02536000
CVTRV333 EQU   CVTCTLFG                                                 02537000
CVTRV323 EQU   CVTCTLFG                                                 02538000
CVTSPVLK EQU   CVTS01+49                                                02539000
CVTRSV77 EQU   CVTS01+48                                                02540000
CVTRV331 EQU   CVTS01+44                                                02541000
CVTRV330 EQU   CVTS01+40                                                02542000
CVTRV329 EQU   CVTS01+36                                                02543000
CVTRV328 EQU   CVTS01+32                                                02544000
CVTRV322 EQU   CVTS01+28                                                02545000
CVTSLID  EQU   CVTSLIDA+1                                               02546000
CVTSYLK  EQU   CVTSLIDA                                                 02547000
CVTRV321 EQU   CVTS01+20                                                02548000
CVTRV320 EQU   CVTS01+16                                                02549000
CVTLPDIR EQU   CVTLPDIA+1                                               02550000
CVTRSV69 EQU   CVTDIRST                                                 02551000
CVTRSV68 EQU   CVTDIRST                                                 02552000
CVTRSV67 EQU   CVTDIRST                                                 02553000
CVTRSV66 EQU   CVTDIRST                                                 02554000
CVTRSV65 EQU   CVTDIRST                                                 02555000
CVTRSV64 EQU   CVTDIRST                                                 02556000
CVTRSV63 EQU   CVTDIRST                                                 02557000
CVTDICOM EQU   CVTDIRST                                                 02558000
CVTPVTP  EQU   CVTS01+8                                                 02559000
CVTLPDSR EQU   CVTS01+4                                                 02560000
CVTGETL  EQU   CVTS01                                                   02561000
PSARSAV  EQU   PSARSVTE+60                                              02562000
PSARSTK  EQU   PSARSVTE+56                                              02563000
PSAESAV3 EQU   PSARSVTE+52                                              02564000
PSAESTK3 EQU   PSARSVTE+48                                              02565000
PSAESAV2 EQU   PSARSVTE+44                                              02566000
PSAESTK2 EQU   PSARSVTE+40                                              02567000
PSAESAV1 EQU   PSARSVTE+36                                              02568000
PSAESTK1 EQU   PSARSVTE+32                                              02569000
PSAPSAV  EQU   PSARSVTE+28                                              02570000
PSAPSTK  EQU   PSARSVTE+24                                              02571000
PSAMSAV  EQU   PSARSVTE+20                                              02572000
PSAMSTK  EQU   PSARSVTE+16                                              02573000
PSASSAV  EQU   PSARSVTE+12                                              02574000
PSASSTK  EQU   PSARSVTE+8                                               02575000
PSANSTK  EQU   PSARSVTE+4                                               02576000
PSACSTK  EQU   PSARSVTE                                                 02577000
ASM5FLGS EQU   ASM5WKSV+64                                              02578000
ASM5AIA  EQU   ASM5WKSV+60                                              02579000
ASM5GCTR EQU   ASM5WKSV+56                                              02580000
ASM5SR14 EQU   ASM5WKSV+52                                              02581000
@NM00021 EQU   ASM5RGSV+4                                               02582000
ASM5RG2  EQU   ASM5RGSV                                                 02583000
@NM00020 EQU   ASM4RGSV+4                                               02584000
ASM4RG2  EQU   ASM4RGSV                                                 02585000
ASM3SR13 EQU   ASM3WKSV+28                                              02586000
ASM3R14B EQU   ASM3WKSV+24                                              02587000
ASM3R14A EQU   ASM3WKSV+20                                              02588000
ASM3GRPA EQU   ASM3WKSV+16                                              02589000
ASM3TMPA EQU   ASM3WKSV+12                                              02590000
ASM3PIOP EQU   ASM3WKSV+8                                               02591000
ASM3GENQ EQU   ASM3WKSV+4                                               02592000
ASM3SWPQ EQU   ASM3WKSV                                                 02593000
ASM2SR14 EQU   ASM2WRKA+16                                              02594000
@NM00019 EQU   ASM2WRKA+13                                              02595000
ASM2WFLG EQU   ASM2FLGS                                                 02596000
ASM2RFLG EQU   ASM2FLGS                                                 02597000
ASM2DUPQ EQU   ASM2WRKA+8                                               02598000
ASM2CAQ  EQU   ASM2WRKA+4                                               02599000
ASM2PAQ  EQU   ASM2WRKA                                                 02600000
ASM2RGSV EQU   ASM2WKSV                                                 02601000
ASM1NXTA EQU   ASM1WRKA+4                                               02602000
ASM1ASCB EQU   ASM1WRKA                                                 02603000
ASM1RG15 EQU   ASM1RGSV+56                                              02604000
@NM00018 EQU   ASM1RGSV+4                                               02605000
ASM1RG1  EQU   ASM1RGSV                                                 02606000
CVTLEVL  EQU   CVTRELNO+2                                               02607000
CVTNUMB  EQU   CVTRELNO                                                 02608000
CVTMDL   EQU   CVTFIX+250                                               02609000
@NM00049 EQU   CVTFIX+248                                               02610000
@NM00048 EQU   CVTFIX                                                   02611000
CVTRV482 EQU   CVTXTNT2+128                                             02612000
CVTRV481 EQU   CVTXTNT2+124                                             02613000
CVTRV480 EQU   CVTXTNT2+120                                             02614000
CVTRV479 EQU   CVTXTNT2+118                                             02615000
CVTRV478 EQU   CVTXTNT2+117                                             02616000
CVTRV477 EQU   CVTXTNT2+116                                             02617000
CVTRV476 EQU   CVTXTNT2+115                                             02618000
CVTRV475 EQU   CVTXTNT2+114                                             02619000
CVTRV474 EQU   CVTRV466                                                 02620000
CVTRV473 EQU   CVTRV466                                                 02621000
CVTRV472 EQU   CVTRV466                                                 02622000
CVTRV471 EQU   CVTRV466                                                 02623000
CVTRV470 EQU   CVTRV466                                                 02624000
CVTRV469 EQU   CVTRV466                                                 02625000
CVTRV468 EQU   CVTRV466                                                 02626000
CVTRV467 EQU   CVTRV466                                                 02627000
CVTRV465 EQU   CVTRV457                                                 02628000
CVTRV464 EQU   CVTRV457                                                 02629000
CVTRV463 EQU   CVTRV457                                                 02630000
CVTRV462 EQU   CVTRV457                                                 02631000
CVTRV461 EQU   CVTRV457                                                 02632000
CVTRV460 EQU   CVTRV457                                                 02633000
CVTRV459 EQU   CVTRV457                                                 02634000
CVTRV458 EQU   CVTRV457                                                 02635000
CVTRV456 EQU   CVTXTNT2+108                                             02636000
CVTRV455 EQU   CVTXTNT2+104                                             02637000
CVTRV454 EQU   CVTXTNT2+100                                             02638000
CVTRV453 EQU   CVTXTNT2+96                                              02639000
CVTRV452 EQU   CVTXTNT2+94                                              02640000
CVTRV451 EQU   CVTXTNT2+92                                              02641000
CVTRV450 EQU   CVTXTNT2+90                                              02642000
CVTRV449 EQU   CVTXTNT2+88                                              02643000
CVTRV448 EQU   CVTXTNT2+87                                              02644000
CVTRV447 EQU   CVTXTNT2+86                                              02645000
CVTRV446 EQU   CVTRV438                                                 02646000
CVTRV445 EQU   CVTRV438                                                 02647000
CVTRV444 EQU   CVTRV438                                                 02648000
CVTRV443 EQU   CVTRV438                                                 02649000
CVTRV442 EQU   CVTRV438                                                 02650000
CVTRV441 EQU   CVTRV438                                                 02651000
CVTRV440 EQU   CVTRV438                                                 02652000
CVTRV439 EQU   CVTRV438                                                 02653000
CVTRV437 EQU   CVTRV429                                                 02654000
CVTRV436 EQU   CVTRV429                                                 02655000
CVTRV435 EQU   CVTRV429                                                 02656000
CVTRV434 EQU   CVTRV429                                                 02657000
CVTRV433 EQU   CVTRV429                                                 02658000
CVTRV432 EQU   CVTRV429                                                 02659000
CVTRV431 EQU   CVTRV429                                                 02660000
CVTRV430 EQU   CVTRV429                                                 02661000
CVTRV428 EQU   CVTXTNT2+80                                              02662000
CVTRV427 EQU   CVTXTNT2+76                                              02663000
CVTRV426 EQU   CVTXTNT2+72                                              02664000
CVTRV425 EQU   CVTXTNT2+68                                              02665000
CVTATACT EQU   CVTATCVT                                                 02666000
CVTRV423 EQU   CVTXTNT2+62                                              02667000
CVTRV422 EQU   CVTXTNT2+60                                              02668000
CVTRV421 EQU   CVTXTNT2+58                                              02669000
CVTRV420 EQU   CVTXTNT2+56                                              02670000
CVTRV419 EQU   CVTXTNT2+55                                              02671000
CVTRV418 EQU   CVTXTNT2+54                                              02672000
CVTRV417 EQU   CVTRV409                                                 02673000
CVTRV416 EQU   CVTRV409                                                 02674000
CVTRV415 EQU   CVTRV409                                                 02675000
CVTRV414 EQU   CVTRV409                                                 02676000
CVTRV413 EQU   CVTRV409                                                 02677000
CVTRV412 EQU   CVTRV409                                                 02678000
CVTRV411 EQU   CVTRV409                                                 02679000
CVTRV410 EQU   CVTRV409                                                 02680000
CVTRV408 EQU   CVTRV400                                                 02681000
CVTRV407 EQU   CVTRV400                                                 02682000
CVTRV406 EQU   CVTRV400                                                 02683000
CVTRV405 EQU   CVTRV400                                                 02684000
CVTRV404 EQU   CVTRV400                                                 02685000
CVTRV403 EQU   CVTRV400                                                 02686000
CVTRV402 EQU   CVTRV400                                                 02687000
CVTRV401 EQU   CVTRV400                                                 02688000
CVTICB   EQU   CVTXTNT2+48                                              02689000
CVTSKTA  EQU   CVTXTNT2+44                                              02690000
CVTRSV99 EQU   CVTXTNT2+40                                              02691000
CVTRSV98 EQU   CVTXTNT2+36                                              02692000
CVTRSV97 EQU   CVTXTNT2+34                                              02693000
CVTRSV96 EQU   CVTXTNT2+32                                              02694000
CVTOLTEP EQU   CVTXTNT2+28                                              02695000
CVTQIDA  EQU   CVTQID+1                                                 02696000
CVTRSV95 EQU   CVTQID                                                   02697000
CVTRSV94 EQU   CVTXTNT2+20                                              02698000
CVTRSV93 EQU   CVTXTNT2+16                                              02699000
CVTRSV92 EQU   CVTXTNT2+12                                              02700000
CVTDEBVR EQU   CVTXTNT2+8                                               02701000
CVTRSV91 EQU   CVTXTNT2+6                                               02702000
CVTRSV9H EQU   CVTFLGBT                                                 02703000
CVTRSV9G EQU   CVTFLGBT                                                 02704000
CVTRSV9F EQU   CVTFLGBT                                                 02705000
CVTRSV9E EQU   CVTFLGBT                                                 02706000
CVTRSV9D EQU   CVTFLGBT                                                 02707000
CVTRSV9C EQU   CVTFLGBT                                                 02708000
CVTVME   EQU   CVTFLGBT                                                 02709000
CVTNPE   EQU   CVTFLGBT                                                 02710000
CVTNUCLS EQU   CVTXTNT2+4                                               02711000
CVTDSSVA EQU   CVTDSSV+1                                                02712000
CVTRSV89 EQU   CVTDSSV                                                  02713000
CVTRSV88 EQU   CVTXTNT1+8                                               02714000
CVTRSV87 EQU   CVTXTNT1+4                                               02715000
CVTFACHN EQU   CVTXTNT1                                                 02716000
CVTRV488 EQU   CVTMAP+412                                               02717000
CVTRV487 EQU   CVTMAP+408                                               02718000
CVTRV486 EQU   CVTMAP+404                                               02719000
CVTRV485 EQU   CVTMAP+400                                               02720000
CVTACTAP EQU   CVTMAP+396                                               02721000
CVTAUTH  EQU   CVTMAP+392                                               02722000
CVTATMCA EQU   CVTATMCT+1                                               02723000
CVTATMST EQU   CVTATMCT                                                 02724000
CVTRSV61 EQU   CVTMAP+384                                               02725000
CVTVOLT1 EQU   CVTVOLM1+1                                               02726000
CVTVOLI1 EQU   CVTVOLF1                                                 02727000
CVTSTOA  EQU   CVTMAP+376                                               02728000
CVTRSV58 EQU   CVTMAP+374                                               02729000
CVTRSV57 EQU   CVTMAP+372                                               02730000
CVTDDCE  EQU   CVTMAP+368                                               02731000
CVTPNWFR EQU   CVTMAP+364                                               02732000
CVTSMF   EQU   CVTMAP+360                                               02733000
CVTSULK  EQU   CVTMAP+358                                               02734000
CVTSLKO  EQU   CVTSYSK                                                  02735000
CVTSLKP  EQU   CVTSYSK                                                  02736000
CVTSLKQ  EQU   CVTSYSK                                                  02737000
CVTSLKR  EQU   CVTSYSK                                                  02738000
CVTRSV56 EQU   CVTSYSK                                                  02739000
CVTRSV55 EQU   CVTSYSK                                                  02740000
CVTRSV54 EQU   CVTSYSK                                                  02741000
CVTRSV53 EQU   CVTSYSK                                                  02742000
CVTRSV52 EQU   CVTA1F1                                                  02743000
CVTRSV51 EQU   CVTA1F1                                                  02744000
CVTRSV50 EQU   CVTA1F1                                                  02745000
CVTRSV49 EQU   CVTA1F1                                                  02746000
CVTRSV48 EQU   CVTA1F1                                                  02747000
CVTRSV47 EQU   CVTA1F1                                                  02748000
CVTSRSW  EQU   CVTA1F1                                                  02749000
CVTPFSW  EQU   CVTA1F1                                                  02750000
CVTPCVT  EQU   CVTMAP+352                                               02751000
CVTRSV46 EQU   CVTMAP+344                                               02752000
CVTRSV45 EQU   CVTMAP+340                                               02753000
CVTRSV44 EQU   CVTMAP+338                                               02754000
CVTRSV43 EQU   CVTMAP+336                                               02755000
CVTHJESA EQU   CVTHJES+1                                                02756000
CVTRSV42 EQU   CVTHJES                                                  02757000
CVTEXT2A EQU   CVTEXT2+1                                                02758000
CVTRSV41 EQU   CVTEXT2                                                  02759000
CVTAPFA  EQU   CVTAPF+1                                                 02760000
CVTRSV40 EQU   CVTAPF                                                   02761000
CVTRV518 EQU   CVTINTLA                                                 02762000
CVTRV517 EQU   CVTERPV                                                  02763000
CVTEORM  EQU   CVTMAP+312                                               02764000
CVTMCHPR EQU   CVTMAP+308                                               02765000
CVTTZ    EQU   CVTMAP+304                                               02766000
CVTJEPS  EQU   CVTMAP+300                                               02767000
CVTJESCT EQU   CVTMAP+296                                               02768000
CVTMODE  EQU   CVTMAP+292                                               02769000
CVTPTRV  EQU   CVTMAP+288                                               02770000
CVTREAL  EQU   CVTMAP+284                                               02771000
CVTRSV39 EQU   CVTMAP+280                                               02772000
CVTRSV38 EQU   CVTMAP+276                                               02773000
CVTDMSRA EQU   CVTDMSR+1                                                02774000
CVTRV634 EQU   CVTDMSRF                                                 02775000
CVTRV633 EQU   CVTDMSRF                                                 02776000
CVTRV632 EQU   CVTDMSRF                                                 02777000
CVTRV631 EQU   CVTDMSRF                                                 02778000
CVTRV630 EQU   CVTDMSRF                                                 02779000
CVTRV629 EQU   CVTDMSRF                                                 02780000
CVTUDUMP EQU   CVTDMSRF                                                 02781000
CVTSDUMP EQU   CVTDMSRF                                                 02782000
CVTQMSGA EQU   CVTQMSG+1                                                02783000
CVTRSV36 EQU   CVTQMSG                                                  02784000
CVTAMFF  EQU   CVTMAP+264                                               02785000
CVTPURGA EQU   CVTPURG+1                                                02786000
CVTRSV35 EQU   CVTPURG                                                  02787000
CVTCBSP  EQU   CVTMAP+256                                               02788000
CVTATERA EQU   CVTATER+1                                                02789000
CVTSYST  EQU   CVTATER                                                  02790000
CVTVOLT2 EQU   CVTTAT                                                   02791000
CVTVOLI2 EQU   CVTVOLF2                                                 02792000
CVTAQAVB EQU   CVTAQAVT+1                                               02793000
CVTRSV34 EQU   CVTTCMFG                                                 02794000
CVTRSV33 EQU   CVTTCMFG                                                 02795000
CVTRSV32 EQU   CVTTCMFG                                                 02796000
CVTRSV31 EQU   CVTTCMFG                                                 02797000
CVTRSV30 EQU   CVTTCMFG                                                 02798000
CVTRSV29 EQU   CVTTCMFG                                                 02799000
CVTLDEV  EQU   CVTTCMFG                                                 02800000
CVTTCRDY EQU   CVTTCMFG                                                 02801000
CVTGTFA  EQU   CVTGTF+1                                                 02802000
CVTRSV27 EQU   CVTGTFST                                                 02803000
CVTRNIO  EQU   CVTGTFST                                                 02804000
CVTUSR   EQU   CVTGTFST                                                 02805000
CVTRV318 EQU   CVTFORM                                                  02806000
CVTRV317 EQU   CVTTMODE                                                 02807000
CVTRV316 EQU   CVTSTATE                                                 02808000
CVTRV315 EQU   CVTGTFS                                                  02809000
CVTGTFAV EQU   CVTGTFS                                                  02810000
CVT0SCR1 EQU   CVTMAP+232                                               02811000
CVTRV515 EQU   CVTMAP+228                                               02812000
CVTRMS   EQU   CVTMAP+224                                               02813000
CVTPATCH EQU   CVTMAP+220                                               02814000
CVTTSCE  EQU   CVTMAP+216                                               02815000
CVTLNKSC EQU   CVTMAP+214                                               02816000
CVTQABST EQU   CVTMAP+212                                               02817000
CVTMDLDS EQU   CVTMAP+208                                               02818000
CVTUSER  EQU   CVTMAP+204                                               02819000
CVTABEND EQU   CVTMAP+200                                               02820000
CVTSMCA  EQU   CVTMAP+196                                               02821000
CVTRSV18 EQU   CVTMAP+192                                               02822000
CVTQLPAQ EQU   CVTMAP+188                                               02823000
CVTQCDSR EQU   CVTMAP+184                                               02824000
CVTRSV17 EQU   CVTOPTB                                                  02825000
CVTRSV16 EQU   CVTOPTB                                                  02826000
CVTFP    EQU   CVTOPTB                                                  02827000
CVTAPTHR EQU   CVTOPTB                                                  02828000
CVTNLOG  EQU   CVTOPTB                                                  02829000
CVTTOD   EQU   CVTOPTB                                                  02830000
CVTCTIMS EQU   CVTOPTB                                                  02831000
CVTPROT  EQU   CVTOPTB                                                  02832000
CVTXPFP  EQU   CVTOPTA                                                  02833000
CVTASCII EQU   CVTOPTA                                                  02834000
CVTRSV13 EQU   CVTOPTA                                                  02835000
CVTRSV12 EQU   CVTOPTA                                                  02836000
CVTNIP   EQU   CVTOPTA                                                  02837000
CVTDDR   EQU   CVTOPTA                                                  02838000
CVTAPR   EQU   CVTOPTA                                                  02839000
CVTCCH   EQU   CVTOPTA                                                  02840000
CVTSNCTR EQU   CVTMAP+180                                               02841000
CVTQMWR  EQU   CVTMAP+176                                               02842000
CVTQOCR  EQU   CVTMAP+172                                               02843000
CVT1EF00 EQU   CVTMAP+168                                               02844000
CVTMZ00  EQU   CVTMAP+164                                               02845000
CVTHEAD  EQU   CVTMAP+160                                               02846000
CVTRSV11 EQU   CVTMAP+156                                               02847000
CVT0PT01 EQU   CVTMAP+152                                               02848000
CVTMSER  EQU   CVTMAP+148                                               02849000
CVTRV516 EQU   CVTIERLC                                                 02850000
CVTILCH  EQU   CVTMAP+140                                               02851000
CVT0DS   EQU   CVTMAP+136                                               02852000
CVTFBOSV EQU   CVTMAP+132                                               02853000
CVTNUCB  EQU   CVTMAP+128                                               02854000
CVTIXAVL EQU   CVTMAP+124                                               02855000
CVTIOQET EQU   CVTMAP+120                                               02856000
CVTDCBA  EQU   CVTMAP+117                                               02857000
CVTMVS2  EQU   CVTDCB                                                   02858000
CVT6DAT  EQU   CVTDCB                                                   02859000
CVT4MPS  EQU   CVTDCB                                                   02860000
CVTRSV09 EQU   CVTDCB                                                   02861000
CVT4MS1  EQU   CVTDCB                                                   02862000
CVT2SPS  EQU   CVTDCB                                                   02863000
CVT1SSS  EQU   CVTDCB                                                   02864000
CVTRSV08 EQU   CVTDCB                                                   02865000
CVTSTB   EQU   CVTMAP+112                                               02866000
CVTQTD00 EQU   CVTMAP+108                                               02867000
CVTQTE00 EQU   CVTMAP+104                                               02868000
CVTCUCB  EQU   CVTMAP+100                                               02869000
CVTSJQ   EQU   CVTMAP+96                                                02870000
CVTPBLDL EQU   CVTMAP+92                                                02871000
CVTTPC   EQU   CVTMAP+88                                                02872000
CVTSVDCB EQU   CVTMAP+84                                                02873000
CVTBRET  EQU   CVTMAP+82                                                02874000
CVTEXIT  EQU   CVTMAP+80                                                02875000
CVT0FN00 EQU   CVTMAP+76                                                02876000
CVTDARA  EQU   CVTDAR+1                                                 02877000
CVTRSV07 EQU   CVTFLGS1                                                 02878000
CVTRSV06 EQU   CVTFLGS1                                                 02879000
CVTRSV05 EQU   CVTFLGS1                                                 02880000
CVTRSV04 EQU   CVTFLGS1                                                 02881000
CVTRSV03 EQU   CVTFLGS1                                                 02882000
CVTRSV02 EQU   CVTFLGS1                                                 02883000
CVTRSV01 EQU   CVTFLGS1                                                 02884000
CVTDMPLK EQU   CVTFLGS1                                                 02885000
CVTXITP  EQU   CVTMAP+68                                                02886000
CVTZDTAB EQU   CVTMAP+64                                                02887000
CVTMSLT  EQU   CVTMAP+60                                                02888000
CVTDATE  EQU   CVTMAP+56                                                02889000
CVTBTERM EQU   CVTMAP+52                                                02890000
CVTSYSAD EQU   CVTMAP+48                                                02891000
CVTXTLER EQU   CVTMAP+44                                                02892000
CVTILK2  EQU   CVTMAP+40                                                02893000
CVTILK1  EQU   CVTMAP+36                                                02894000
CVTPRLTV EQU   CVTMAP+32                                                02895000
CVTPCNVT EQU   CVTMAP+28                                                02896000
CVT0VL00 EQU   CVTMAP+24                                                02897000
CVTXAPG  EQU   CVTMAP+20                                                02898000
CVTBUF   EQU   CVTMAP+16                                                02899000
CVTJOB   EQU   CVTMAP+12                                                02900000
CVTLINK  EQU   CVTMAP+8                                                 02901000
CVT0EF00 EQU   CVTMAP+4                                                 02902000
CVTTCBP  EQU   CVTMAP                                                   02903000
CVT      EQU   CVTMAP                                                   02904000
@NM00023 EQU   EPAVSAM+50                                               02905000
EPARSIZE EQU   EPAVSAM+48                                               02906000
EPARBASP EQU   EPAVSAM+44                                               02907000
EPAACE   EQU   EPAVSAM+40                                               02908000
EPASRB   EQU   EPAVSAM+36                                               02909000
EPALGEP  EQU   EPAVSAM+32                                               02910000
EPALGVTP EQU   EPAVSAM+28                                               02911000
EPALSIZE EQU   EPAVSAM+26                                               02912000
@NM00022 EQU   EPAFLAG2                                                 02913000
EPARECUR EQU   EPAFLAG2                                                 02914000
EPATMI   EQU   EPAFLAG2                                                 02915000
EPAMAST  EQU   EPAFLAG2                                                 02916000
EPABUILD EQU   EPAFLAG2                                                 02917000
EPACOLD  EQU   EPAFLAG2                                                 02918000
EPAWARM  EQU   EPAFLAG2                                                 02919000
EPATMXIT EQU   EPAFLAG2                                                 02920000
EPARPLB  EQU   EPAFLAG1                                                 02921000
EPAASGN  EQU   EPAFLAG1                                                 02922000
EPAACASR EQU   EPAFLAG1                                                 02923000
EPAACT   EQU   EPAGRPOP                                                 02924000
EPARLG   EQU   EPAGRPOP                                                 02925000
EPAVSAMI EQU   EPAFLAG1                                                 02926000
EPATMISV EQU   EPABKSLT                                                 02927000
EPATMACB EQU   EPARASP                                                  02928000
EPATMIBA EQU   EPABASP                                                  02929000
EPADSLST EQU   EPAAASP                                                  02930000
EPASWKA  EQU   EPATMWKA                                                 02931000
ASMCPRES EQU   ASMCPRSQ+4                                               02932000
ASMCPTAK EQU   ASMCPRSQ                                                 02933000
ASMCPCNT EQU   ASMCPAVQ+4                                               02934000
ASMCPEXT EQU   ASMPOOLS+6                                               02935000
ASMCPSIZ EQU   ASMPOOLS+4                                               02936000
ASMCPID  EQU   ASMPOOLS                                                 02937000
ASMRSV12 EQU   ASMVT+1000                                               02938000
ASMSAVE  EQU   ASMVT+928                                                02939000
ASMWKSA7 EQU   ASMVT+848                                                02940000
ASMWKSA6 EQU   ASMVT+768                                                02941000
ASMACEPC EQU   ASMVT+344                                                02942000
ASMSWKPC EQU   ASMVT+328                                                02943000
ASMIOEPC EQU   ASMVT+296                                                02944000
ASMRSV10 EQU   ASMVT+280                                                02945000
ASMPVACE EQU   ASMVT+276                                                02946000
ASMPIOFR EQU   ASMVT+272                                                02947000
ASMPVACQ EQU   ASMVT+268                                                02948000
ASMPMSGS EQU   ASMVT+264                                                02949000
ASMPMSG0 EQU   ASMVT+260                                                02950000
ASMPFRLG EQU   ASMVT+256                                                02951000
ASMPRLG  EQU   ASMVT+252                                                02952000
ASMPACT  EQU   ASMVT+248                                                02953000
ASMPSAV  EQU   ASMVT+244                                                02954000
ASMPCMP  EQU   ASMVT+240                                                02955000
ASMPCMPA EQU   ASMVT+236                                                02956000
ASMPCMPN EQU   ASMVT+232                                                02957000
ASMPCMPD EQU   ASMVT+228                                                02958000
ASMVRMTR EQU   ASMVT+220                                                02959000
ASMPSRBC EQU   ASMVT+216                                                02960000
ASMPSRMT EQU   ASMVT+212                                                02961000
ASMPSWPD EQU   ASMVT+208                                                02962000
ASMPTM   EQU   ASMVT+204                                                02963000
ASMPFRSW EQU   ASMVT+200                                                02964000
ASMPQIOE EQU   ASMVT+192                                                02965000
ASMRSV8  EQU   ASMVT+184                                                02966000
ASMTASCB EQU   ASMVT+180                                                02967000
ASMRLGWQ EQU   ASMVT+176                                                02968000
ASMRLGRQ EQU   ASMVT+172                                                02969000
ASMTMECB EQU   ASMVT+168                                                02970000
ASMTCBPT EQU   ASMVT+164                                                02971000
ASMREQCT EQU   ASMVT+160                                                02972000
ASMGOSWK EQU   ASMGOSQS+4                                               02973000
ASMGOSWT EQU   ASMGOSQS                                                 02974000
ASMLSAIH EQU   ASMLSAI+4                                                02975000
ASMLSAIL EQU   ASMLSAI                                                  02976000
ASMCINV  EQU   ASMVT+140                                                02977000
ASMSTGXA EQU   ASMVT+136                                                02978000
ASMLGVT  EQU   ASMVT+132                                                02979000
ASMSLOTV EQU   ASMVT+128                                                02980000
ASMERRS  EQU   ASMVT+124                                                02981000
ASMNVSC  EQU   ASMVT+120                                                02982000
ASMSLOTS EQU   ASMVT+112                                                02983000
ASMBKSLT EQU   ASMVT+108                                                02984000
ASMRSV7  EQU   ASMVT+92                                                 02985000
ASMPSRB  EQU   ASMVT+88                                                 02986000
ASMSRBCT EQU   ASMVT+84                                                 02987000
ASMIOCNT EQU   ASMVT+80                                                 02988000
ASMBURST EQU   ASMVT+76                                                 02989000
ASMPCCWN EQU   ASMVT+72                                                 02990000
ASMPCCWC EQU   ASMPCCWQ+4                                               02991000
ASMPCCWA EQU   ASMPCCWQ                                                 02992000
ASMRSV6  EQU   ASMVT+48                                                 02993000
ASMIORQC EQU   ASMVT+44                                                 02994000
ASMIORQR EQU   ASMVT+40                                                 02995000
ASMSTAGL EQU   ASMSTAGQ+4                                               02996000
ASMSTAGF EQU   ASMSTAGQ                                                 02997000
ASMRSV5  EQU   ASMVT+28                                                 02998000
ASMMSGBF EQU   ASMVT+24                                                 02999000
ASMEREC  EQU   ASMVT+20                                                 03000000
ASMTRPAG EQU   ASMVT+16                                                 03001000
ASMGOS   EQU   ASMVT+12                                                 03002000
ASMPART  EQU   ASMVT+8                                                  03003000
ASMSART  EQU   ASMVT+4                                                  03004000
ASMDSSFS EQU   ASMVT+2                                                  03005000
ASMWARM  EQU   ASMFLAG2                                                 03006000
ASMQUICK EQU   ASMFLAG2                                                 03007000
ASMNOTPT EQU   ASMFLAG2                                                 03008000
ASMNOTMR EQU   ASMFLAG2                                                 03009000
ASMNOSAV EQU   ASMFLAG2                                                 03010000
ASMCALLQ EQU   ASMFLAG2                                                 03011000
ASMPLPAS EQU   ASMFLAG1                                                 03012000
ASMCOMMF EQU   ASMFLAG1                                                 03013000
ASMPLPAF EQU   ASMFLAG1                                                 03014000
ASMNODPX EQU   ASMFLAG1                                                 03015000
ASMRSV1  EQU   ASMFLAG1                                                 03016000
ASMNOLCL EQU   ASMFLAG1                                                 03017000
ASMNOCWQ EQU   ASMFLAG1                                                 03018000
ASMDUPLX EQU   ASMFLAG1                                                 03019000
ASPSLOT  EQU   ASPVLSID+1                                               03020000
ASPPRTNN EQU   ASPVLSID                                                 03021000
@NM00017 EQU   ASPLPFLG                                                 03022000
ASPLIOER EQU   ASPLPFLG                                                 03023000
ASPLOPIN EQU   ASPLPFLG                                                 03024000
@NM00016 EQU   ASPEXTSN+1088                                            03025000
@NM00015 EQU   ASPEHDR+24                                               03026000
ASPASSTI EQU   ASPEHDR+22                                               03027000
@NM00014 EQU   ASPEHDR+21                                               03028000
ASPASSTN EQU   ASPEHDR+20                                               03029000
ASPEXTNM EQU   ASPEXKEY+8                                               03030000
ASPESSYM EQU   ASPEXKEY                                                 03031000
@NM00013 EQU   ASPEHDR+4                                                03032000
@NM00012 EQU   ASPCT+1088                                               03033000
ASPLEXCT EQU   ASPHDR+44                                                03034000
ASPBKSLT EQU   ASPHDR+36                                                03035000
ASPMAXPN EQU   ASPHDR+32                                                03036000
@NM00011 EQU   ASPHDR+29                                                03037000
@NM00010 EQU   ASPFLAG                                                  03038000
ASPLGE   EQU   ASPHDR+24                                                03039000
ASPASCB  EQU   ASPHDR+20                                                03040000
@NM00009 EQU   ASPBKEY+8                                                03041000
ASPLGID  EQU   ASPHDR+4                                                 03042000
ASPIDENT EQU   ASPHDR                                                   03043000
@NM00008 EQU   LGE+24                                                   03044000
LGELGID  EQU   LGE+20                                                   03045000
LGENEXT  EQU   LGE+16                                                   03046000
@NM00007 EQU   LGE+9                                                    03047000
LGERSV5  EQU   LGEFLAG1                                                 03048000
LGERSV4  EQU   LGEFLAG1                                                 03049000
LGERSV3  EQU   LGEFLAG1                                                 03050000
LGERSV2  EQU   LGEFLAG1                                                 03051000
LGESAVRQ EQU   LGEFLAG1                                                 03052000
LGERELLG EQU   LGEFLAG1                                                 03053000
LGEGRINP EQU   LGEFLAG1                                                 03054000
LGEWRKPD EQU   LGEFLAG1                                                 03055000
LGEPROCL EQU   LGEPROCQ+4                                               03056000
LGEPROCF EQU   LGEPROCQ                                                 03057000
@NM00006 EQU   ACE+40                                                   03058000
ACESRBWK EQU   ACE+36                                                   03059000
ACEECB   EQU   ACE+32                                                   03060000
ACEAIAPT EQU   ACESYM+4                                                 03061000
ACEVLSID EQU   ACESRCID+1                                               03062000
@NM00005 EQU   ACESRCID                                                 03063000
ACETLPME EQU   ACERPN                                                   03064000
ACELGID  EQU   ACELGN                                                   03065000
ACERSV10 EQU   ACEFLG3                                                  03066000
ACERSV9  EQU   ACEFLG3                                                  03067000
ACERSV8  EQU   ACEFLG3                                                  03068000
ACELPMEC EQU   ACEFLG3                                                  03069000
ACERSV7  EQU   ACEFLG3                                                  03070000
ACERSV6  EQU   ACEFLG3                                                  03071000
ACEPRINO EQU   ACEFLG3                                                  03072000
ACEGRPRQ EQU   ACEFLG3                                                  03073000
ACEFLG2  EQU   ACE+10                                                   03074000
ACERSV5  EQU   ACEFLG1                                                  03075000
ACERSV4  EQU   ACEFLG1                                                  03076000
ACERSV3  EQU   ACEFLG1                                                  03077000
ACERSV2  EQU   ACEFLG1                                                  03078000
ACENOACT EQU   ACEFLG1                                                  03079000
ACEOVRID EQU   ACEFLG1                                                  03080000
ACETRPWT EQU   ACEFLG1                                                  03081000
ACEUSYM  EQU   ACEFLG1                                                  03082000
ACEOP    EQU   ACE+8                                                    03083000
ACEBQPA  EQU   ACE+4                                                    03084000
ACEFQPA  EQU   ACE                                                      03085000
@NM00047 EQU   PSA+3668                                                 03086000
PSASTAK  EQU   PSA+3072                                                 03087000
@NM00046 EQU   PSA+1048                                                 03088000
PSAUSEND EQU   PSA+1048                                                 03089000
PSARV062 EQU   PSA+1044                                                 03090000
PSACDAL  EQU   PSA+1040                                                 03091000
PSAWTCOD EQU   PSA+1036                                                 03092000
PSAATCVT EQU   PSA+1032                                                 03093000
PSAPCPSW EQU   PSA+1024                                                 03094000
PSAPIR2  EQU   PSA+1020                                                 03095000
PSARV059 EQU   PSA+1018                                                 03096000
PSASVC13 EQU   PSA+1016                                                 03097000
PSALSFCC EQU   PSA+1012                                                 03098000
PSASFACC EQU   PSA+1008                                                 03099000
PSASTOP  EQU   PSA+992                                                  03100000
PSASTART EQU   PSA+976                                                  03101000
PSARSPSW EQU   PSA+968                                                  03102000
PSASRPSW EQU   PSA+960                                                  03103000
PSARV045 EQU   PSA+892                                                  03104000
PSARV044 EQU   PSA+888                                                  03105000
PSARV043 EQU   PSA+884                                                  03106000
PSARV042 EQU   PSA+880                                                  03107000
PSARV041 EQU   PSA+876                                                  03108000
PSARV040 EQU   PSA+872                                                  03109000
PSARV025 EQU   PSA+868                                                  03110000
PSADSSED EQU   PSA+868                                                  03111000
PSADSSPR EQU   PSA+864                                                  03112000
PSADSSFW EQU   PSA+860                                                  03113000
PSADSS14 EQU   PSA+856                                                  03114000
PSADSSPP EQU   PSA+848                                                  03115000
PSADSSRP EQU   PSA+840                                                  03116000
PSADSS05 EQU   PSADSSF4                                                 03117000
PSADSS10 EQU   PSADSSF4                                                 03118000
PSADSSVE EQU   PSADSSF4                                                 03119000
PSADSSDE EQU   PSADSSF4                                                 03120000
PSADSSC0 EQU   PSADSSF4                                                 03121000
PSADSSIE EQU   PSADSSF4                                                 03122000
PSADSS12 EQU   PSADSSF4                                                 03123000
PSADSSRC EQU   PSADSSF4                                                 03124000
PSARV057 EQU   PSADSSF3                                                 03125000
PSARV056 EQU   PSADSSF3                                                 03126000
PSARV055 EQU   PSADSSF3                                                 03127000
PSADSSMC EQU   PSADSSF3                                                 03128000
PSADSSRW EQU   PSADSSF3                                                 03129000
PSADSSNM EQU   PSADSSF3                                                 03130000
PSADSSES EQU   PSADSSF3                                                 03131000
PSADSSGP EQU   PSADSSF3                                                 03132000
PSADSSF2 EQU   PSADSSFL+1                                               03133000
PSADSSPI EQU   PSADSSF1                                                 03134000
PSADSSOI EQU   PSADSSF1                                                 03135000
PSADSSSP EQU   PSADSSF1                                                 03136000
PSADSSTP EQU   PSADSSF1                                                 03137000
PSADSSDW EQU   PSADSSF1                                                 03138000
PSADSSDD EQU   PSADSSF1                                                 03139000
PSADSSDM EQU   PSADSSF1                                                 03140000
PSADSSMV EQU   PSADSSF1                                                 03141000
PSADSSTS EQU   PSA+816                                                  03142000
PSADSSWK EQU   PSA+812                                                  03143000
PSADSSR3 EQU   PSA+808                                                  03144000
PSADSSR2 EQU   PSA+804                                                  03145000
PSADSSRS EQU   PSA+800                                                  03146000
PSASTOR  EQU   PSA+796                                                  03147000
PSACPUSA EQU   PSA+794                                                  03148000
PSAVSTAP EQU   PSA+792                                                  03149000
PSAWKVAP EQU   PSA+788                                                  03150000
PSAWKRAP EQU   PSA+784                                                  03151000
PSAMCHIC EQU   PSA+783                                                  03152000
PSARV061 EQU   PSA+782                                                  03153000
PSASYMSK EQU   PSA+781                                                  03154000
PSAMCHFL EQU   PSA+780                                                  03155000
PSACR0   EQU   PSA+776                                                  03156000
PSAPSWSV EQU   PSA+768                                                  03157000
PSACLHS  EQU   PSAHLHI                                                  03158000
PSALKR15 EQU   PSALKSA+60                                               03159000
PSALKR14 EQU   PSALKSA+56                                               03160000
PSALKR13 EQU   PSALKSA+52                                               03161000
PSALKR12 EQU   PSALKSA+48                                               03162000
PSALKR11 EQU   PSALKSA+44                                               03163000
PSALKR10 EQU   PSALKSA+40                                               03164000
PSALKR9  EQU   PSALKSA+36                                               03165000
PSALKR8  EQU   PSALKSA+32                                               03166000
PSALKR7  EQU   PSALKSA+28                                               03167000
PSALKR6  EQU   PSALKSA+24                                               03168000
PSALKR5  EQU   PSALKSA+20                                               03169000
PSALKR4  EQU   PSALKSA+16                                               03170000
PSALKR3  EQU   PSALKSA+12                                               03171000
PSALKR2  EQU   PSALKSA+8                                                03172000
PSALKR1  EQU   PSALKSA+4                                                03173000
PSALKR0  EQU   PSALKSA                                                  03174000
PSARV023 EQU   PSACLHT+52                                               03175000
PSALOCAL EQU   PSACLHT+48                                               03176000
PSACMSL  EQU   PSACLHT+44                                               03177000
PSAOPTL  EQU   PSACLHT+40                                               03178000
PSATPACL EQU   PSACLHT+36                                               03179000
PSATPDNL EQU   PSACLHT+32                                               03180000
PSATPNCL EQU   PSACLHT+28                                               03181000
PSAIOSLL EQU   PSACLHT+24                                               03182000
PSAIOSUL EQU   PSACLHT+20                                               03183000
PSAIOSCL EQU   PSACLHT+16                                               03184000
PSAIOSSL EQU   PSACLHT+12                                               03185000
PSASALCL EQU   PSACLHT+8                                                03186000
PSAASML  EQU   PSACLHT+4                                                03187000
PSADISPL EQU   PSACLHT                                                  03188000
PSASRSA  EQU   PSA+636                                                  03189000
PSARV050 EQU   PSA+634                                                  03190000
PSADSSGO EQU   PSA+633                                                  03191000
PSARECUR EQU   PSA+632                                                  03192000
PSAHLHIS EQU   PSA+628                                                  03193000
PSAIPCSA EQU   PSA+624                                                  03194000
@NM00045 EQU   PSA+621                                                  03195000
PSAIPCDM EQU   PSA+620                                                  03196000
PSAIPCD  EQU   PSA+616                                                  03197000
@NM00044 EQU   PSA+613                                                  03198000
PSAIPCRM EQU   PSA+612                                                  03199000
PSAIPCR  EQU   PSA+608                                                  03200000
PSAMCHEX EQU   PSA+600                                                  03201000
PSAMPSW  EQU   PSA+592                                                  03202000
PSAEXPS2 EQU   PSA+584                                                  03203000
PSAEXPS1 EQU   PSA+576                                                  03204000
PSAPIREG EQU   PSA+572                                                  03205000
PSARSREG EQU   PSA+568                                                  03206000
PSAGPREG EQU   PSA+556                                                  03207000
PSARV022 EQU   PSASUP4                                                  03208000
PSARV021 EQU   PSASUP4                                                  03209000
PSARV020 EQU   PSASUP4                                                  03210000
PSARV019 EQU   PSASUP4                                                  03211000
PSARV018 EQU   PSASUP4                                                  03212000
PSARV017 EQU   PSASUP4                                                  03213000
PSARV016 EQU   PSASUP4                                                  03214000
PSARV015 EQU   PSASUP4                                                  03215000
PSARV014 EQU   PSASUP3                                                  03216000
PSARV013 EQU   PSASUP3                                                  03217000
PSARV012 EQU   PSASUP3                                                  03218000
PSAESTA  EQU   PSASUP3                                                  03219000
PSASPR   EQU   PSASUP3                                                  03220000
PSAPSREG EQU   PSASUP3                                                  03221000
PSAPI2   EQU   PSASUP3                                                  03222000
PSAIOSUP EQU   PSASUP3                                                  03223000
PSALCR   EQU   PSASUP2                                                  03224000
PSARTM   EQU   PSASUP2                                                  03225000
PSAACR   EQU   PSASUP2                                                  03226000
PSAIPCE2 EQU   PSASUP2                                                  03227000
PSAIPCES EQU   PSASUP2                                                  03228000
PSAIPCEC EQU   PSASUP2                                                  03229000
PSAGTF   EQU   PSASUP2                                                  03230000
PSAIPCRI EQU   PSASUP2                                                  03231000
PSATYPE6 EQU   PSASUP1                                                  03232000
PSATCTL  EQU   PSASUP1                                                  03233000
PSADISP  EQU   PSASUP1                                                  03234000
PSALOCK  EQU   PSASUP1                                                  03235000
PSAPI    EQU   PSASUP1                                                  03236000
PSAEXT   EQU   PSASUP1                                                  03237000
PSASVC   EQU   PSASUP1                                                  03238000
PSAIO    EQU   PSASUP1                                                  03239000
PSAANEW  EQU   PSA+544                                                  03240000
PSATNEW  EQU   PSA+536                                                  03241000
PSALCCAR EQU   PSA+532                                                  03242000
PSALCCAV EQU   PSA+528                                                  03243000
PSAPCCAR EQU   PSA+524                                                  03244000
PSAPCCAV EQU   PSA+520                                                  03245000
PSACPULA EQU   PSA+518                                                  03246000
PSACPUPA EQU   PSA+516                                                  03247000
PSAPSA   EQU   PSA+512                                                  03248000
FLCHDEND EQU   PSA+512                                                  03249000
FLCCRSAV EQU   FLCMCLA+280                                              03250000
FLCGRSAV EQU   FLCMCLA+216                                              03251000
FLCFPSAV EQU   FLCMCLA+184                                              03252000
FLCFLA   EQU   FLCMCLA+88                                               03253000
FLCRGNCD EQU   FLCMCLA+84                                               03254000
FLCFSAA  EQU   FLCFSA+1                                                 03255000
@NM00043 EQU   FLCFSA                                                   03256000
@NM00042 EQU   FLCMCLA+72                                               03257000
FLCMCIC  EQU   FLCMCLA+64                                               03258000
@NM00041 EQU   FLCMCLA+20                                               03259000
FLCIOAA  EQU   FLCIOA+1                                                 03260000
@NM00040 EQU   FLCIOA                                                   03261000
@NM00039 EQU   FLCMCLA+15                                               03262000
@NM00038 EQU   FLCMCLA+14                                               03263000
@NM00037 EQU   FLCMCLA+12                                               03264000
FLCLCL   EQU   FLCMCLA+8                                                03265000
FLCIOELA EQU   FLCIOEL+1                                                03266000
@NM00036 EQU   FLCIOEL                                                  03267000
FLCCHNID EQU   FLCMCLA                                                  03268000
@NM00035 EQU   PSA+160                                                  03269000
FLCMTRCD EQU   PSA+157                                                  03270000
@NM00034 EQU   PSA+156                                                  03271000
FLCPERA  EQU   FLCPER+1                                                 03272000
@NM00033 EQU   FLCPER                                                   03273000
@NM00032 EQU   PSA+151                                                  03274000
FLCPERCD EQU   PSA+150                                                  03275000
FLCMCNUM EQU   PSA+149                                                  03276000
@NM00031 EQU   PSA+148                                                  03277000
FLCTEAA  EQU   FLCTEA+1                                                 03278000
@NM00030 EQU   FLCTEA                                                   03279000
PSAPIPC  EQU   PSAPICOD                                                 03280000
PSAPIMC  EQU   PSAPICOD                                                 03281000
PSAPIPER EQU   PSAPICOD                                                 03282000
PSARV049 EQU   FLCPICOD                                                 03283000
FLCPILCB EQU   FLCPIILC                                                 03284000
@NM00029 EQU   FLCPIILC                                                 03285000
@NM00028 EQU   PSAEPPSW                                                 03286000
FLCSVCN  EQU   PSAESPSW+2                                               03287000
FLCSILCB EQU   FLCSVILC                                                 03288000
@NM00027 EQU   FLCSVILC                                                 03289000
@NM00026 EQU   PSAESPSW                                                 03290000
FLCEICOD EQU   PSAEEPSW+2                                               03291000
PSASPAD  EQU   PSAEEPSW                                                 03292000
@NM00025 EQU   PSA+128                                                  03293000
FLCINPSW EQU   PSA+120                                                  03294000
FLCMNPSW EQU   PSA+112                                                  03295000
FLCPNPSW EQU   PSA+104                                                  03296000
FLCSNPSW EQU   PSA+96                                                   03297000
FLCENPSW EQU   PSA+88                                                   03298000
FLCTRACE EQU   PSA+84                                                   03299000
FLCTIMER EQU   PSA+80                                                   03300000
FLCCVT2  EQU   PSA+76                                                   03301000
FLCCAW   EQU   PSA+72                                                   03302000
FLCCSW   EQU   PSA+64                                                   03303000
FLCIOPSW EQU   PSA+56                                                   03304000
FLCMOPSW EQU   PSA+48                                                   03305000
FLCPOPSW EQU   PSA+40                                                   03306000
FLCSOPSW EQU   PSA+32                                                   03307000
FLCEOPSW EQU   PSA+24                                                   03308000
@NM00024 EQU   FLCICCW2+4                                               03309000
FLCICCW1 EQU   FLCROPSW                                                 03310000
FLCIPPSW EQU   FLCRNPSW                                                 03311000
*                                      END UNREFERENCED COMPONENTS      03312000
@RC00334 EQU   @RC00332                                                 03313000
@RC00338 EQU   @RC00332                                                 03314000
@RT00350 EQU   ALSLOOP                                                  03315000
@RC00387 EQU   @RC00383                                                 03316000
@RF00396 EQU   @RC00393                                                 03317000
@RC00409 EQU   @RC00405                                                 03318000
@RC00421 EQU   @RC00418                                                 03319000
@ENDDATA EQU   *                                                        03320000
         END   ILRSAV,(C'PLS0753',0701,76315)                           03321000
