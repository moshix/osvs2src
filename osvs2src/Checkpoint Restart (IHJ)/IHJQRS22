RM22     TITLE 'IHJQRS22 AOS/2 REPMAIN 3 ROUTINE - IGC0705B'            00550000
*                                                                       00552000
*0000                                                            YM3022 00554000
* VS2/REL3 CHANGES AND DELETIONS                                        00554402
*014582,014593-014595                                            ZM0484 00554802
*DEL 014741,014791-014816                                        ZM0484 00555202
*014552-014659,015061,019158                                   @ZA03659 00555637
*C013361,A013362-013363,A018707                                @ZA17960 00556008
* APAR OZ31480 HAS BEEN FLAGGED AS @ZSUT222                    @ZSUT222 00556208
*C015723,017850,017928,019881,020699,020702                    @ZSUT222 00556408
*A017788-017798,018656                                         @ZSUT222 00556608
* VS2/REL4 CHANGES AND DELETIONS                                        00557008
*                                                                       00558037
*                                                              @Z40RSRB 00558108
*A460337-463237,A464637,A874837                                @ZA28860 00558537
*C336500,A337000-338000                                        @ZA31057 00559037
*A010289-010291                                                @ZA32921 00559508
* STATUS - CHANGE LEVEL 001                                             00560000
*                                                                       00570000
* FUNCTION- THIS ROUTINE RESTORES PERTINENT INFORMATION IN THE TCB,     00580000
*    RESTORES DEB'S, DEB EXTENSIONS, AND IRB'S AND MOVES THE     Y02076 00590502
*    CHECKPOINT TIME TIOT INTO THE RESTART WORKAREA.             Y02076 00591002
*    IT UPDATES THE RESTART DSAB'S WITH SELECTED FIELDS SAVED    Y02076 00591502
*    AT CHECKPOINT TIME. FINALLY, AN SSCR OR THE ECR (END OF     Y02076 00591602
*    CHECKPOINT RECORD) IS READ INTO THE SUR/SSCR BUFFER.        Y02076 00591702
*                                                                       00598000
* ENTRY POINTS                                                          00598400
*          IGC0705B                                                     00598800
*                                                                       00599200
* INPUT-                                                                00599600
*    GPR12-CONTAINS ADDRESS OF RSTWA                                    00599700
*    RSTWA-CONTAINS THE ADDR OF NEXT DATA BLOCK AND NUMBER OF BYTES     00599800
*          LEFT IN BUFFER                                               00599900
*                                                                       00649900
* OUTPUT-                                                               00659900
*    GPR12-CONTAINS ADDRESS OF RSTWA                                    00669900
*                                                                       00679900
* EXTERNAL REFERENCES                                                   00689900
*    NONE                                                               00691900
*                                                                       00693900
* EXITS, NORMAL-                                                        00695900
*    XCTL TO IGC0805B                                                   00697900
*                                                                       00698300
* EXITS, ERROR-                                                         00698700
*    I/O ERROR- XCTL TO IGC0905B WITH RETURN CODE:                      00699102
*          32  - INDICATING A MISSING DD ERROR                          00699308
*          37  - INDICATING AN I/O ERROR                                00699408
*          43  - WRONG LENGTH ERROR ON CHECKPOINT DATA SET              00699508
*                                                                       00699608
* TABLES/WORK AREAS                                                     00699708
*                                                                       00700102
*    DCB-DCBSYNAD                                                       00701102
*    .   DCBDEBAD                                                       00749800
*                                                                       00759800
*    DEB-DEBTCBB                                                 Y02076 00769802
*    .   DEBDEBB                                                 Y02076 00779802
*    .   DEBIRBB                                                 Y02076 00789802
*    .   DEBAPPAD                                                       00791800
*    .   DEBDCBAD                                                Y02076 00793802
*    .   DEBEXSCL                                                Y02076 00795802
*    .   DEBLNGTH                                                Y02076 00797802
*    .   DEBPROTG                                                       00798200
*    .   DEBPREFX                                                Y02076 00798302
*    .   DEBXTNP                                                 Y02076 00798402
*                                                                Y02076 00798502
*    DEBX-DEBXLNGH                                               Y02076 00798602
*    .    DEBXDBPR                                               Y02076 00798702
*                                                                       00798902
*    TCB-TCBUSER                                                        00799000
*    .   TCBJSCB                                                 Y02076 00799402
*    .   TCBFSA                                                         00799500
*    .   TCBPKF                                                  Y02076 00800002
*    .   TCBRBP                                                  Y02076 00800102
*                                                                       00800502
*    RB-RBOPSW                                                          00801002
*    .  RBIQE                                                           00833100
*    .  RBNEXAV                                                         00843100
*    .  RBGRSAVE                                                        00853100
*    .  RBSIZE                                                   Y02076 00853602
*    .  RBSTAB2                                                  Y02076 00854102
*                                                                       00863100
*    JSCB-JSCDSABQ                                               Y02076 00863602
*                                                                Y02076 00864102
*    QDB-QDBFELMP                                                Y02076 00864602
*                                                                Y02076 00865102
*    DSAB-DSABDCBM                                               Y02076 00865202
*    .    DSABFCHN                                               Y02076 00865302
*    .    DSABFLG1                                               Y02076 00865402
*    .    DSABFLG2                                               Y02076 00865502
*    .    DSABFLG4                                               Y02076 00865602
*    .    DSABOPCT                                               Y02076 00865702
*    .    DSABORG                                                Y02076 00865802
*    .    DSABTCBP                                               Y02076 00865902
*    .    DSABTIOT                                               Y02076 00866002
*                                                                Y02076 00866502
*    TIOT-TIOEDDNM                                               Y02076 00866602
*                                                                       00867002
* ATTRIBUTES                                                            00867502
*    KEY 0,SUPERVISOR STATE, ENABLED                                    00868002
*                                                                       00868502
* CHARACTER CODE DEPENDENCY                                             00869002
*                                                                       00877600
* NOTES                                                                 00887600
*    WRITTEN TO A 4K DESIGN POINT,TYPE-LOAD,SYSTEM LINK PACK AREA       00888000
*                                                                       00888400
*                                                                       00888800
         EJECT                                                          00892500
IGC0705B CSECT                                                          00894500
         BALR  RB,N0               ADDRESSABILITY FOR MODULE            00894900
         USING *,RB                BASE REGISTER 11                     00895300
         USING RSTWA,RC            BASE FOR RESTART W.A.                00895700
         B     RPMNST              BRANCH AROUND DC                     00896100
         DC    H'0'                PAD TWO BYTES TO ZERO                00896200
         DC    CL8'IGC0705B'       MODULE NAME                 @ZSUT222 00946208
         DC    CL8'&SYSDATE'       LAST DATE SHIPPED           @ZSUT222 00948208
         DC    CL8'@ZA32921'       LAST CODE SHIPPED           @ZSUT222 00950308
         DC    CL8'@SU80800'       SELECTABLE UNIT ID          @ZSUT222 00952208
RPMNST   L     R9,RSMWOFST         OFFSET TO REPMAIN'S W.A.      Y02076 00956202
         AR    R9,RC               TO ESTABLISH BASE FOR W.A.           00966200
         USING RPMWA1,R9           BASE FOR RPMWA                       00976200
         LA    R2,RSBDCB           RESTART'S DCB                        00986200
         USING IHADCB,R2           DCB                                  00988200
         LA    R7,RPM127           ADDRESS OF REPMAIN SYNAD ROUTINE     00990200
         STCM  R7,N7,DCBSYNAD+N1   STORE ADDR IN DCBSYNAD               00992200
         USING TCB,R5              TCB                                  00994200
         L     R5,RSTCBAD          GET TCB ADDRESS                      00994600
         MVI   RSSWIT1,N0          SET SWITCHES TO ZERO                 00995000
         MVC   RPMN40,RPMN40A      SET DEFAULT XCTL NAME                00995400
         XC    RPLNT(N4),RPLNT     CLEAR LENGTH FIELD                   00995800
         MVI   RPLNT+N3,N4         INITIALIZE BLOCK LENGTH TO 4         00995900
         DROP  R2                  DCB                                  00996000
*                                                                       00996100
*        RESTORE TCB AND SVRB INFORMATION                               01012802
*                                                                       01022800
R12A1    L     R3,RSBFSTAD         LOAD ADDR OF DATA                    01024800
         MVC   TCBUSER,N1(R3)      MOVE ADDR OF OLD USER TO TCB         01026800
         BAL   RE,R13A1            GO TO INPUT BUFFER HANDLER           01028800
         L     R4,TCBEXT2          GET TCBEXTN PTR IN REG 4    @ZA32921 01028908
         MVC   20(4,R4),N1(R3)     MOVE IN CICS AUTH FIELD     @ZA32921 01029008
         BAL   RE,R13A1            GO TO INPUT BUFFER HANDLER  @ZA32921 01029108
         MVC   TCBFSA+N1(N3),N2(R3) MOVE OLD FSA TO TCB                 01029402
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER              01035000
         MVC   RSCKDCB,N1(R3)      MOVE IN CHECKPOINT DCB ADR.          01040302
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER              01040400
         L     R4,RSCKDCB          GET CHPT DCB ADR.                    01040500
         USING IHADCB,R4           DCB                                  01080300
         MVC   DCBSYNA(N3),N2(R3)  MOVE USER SYNAD ADR INTO             01090300
*                                  CHKPT DCB                            01100300
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER              01110300
         MVC   RSDCBSI(N2),N1(R3)  MOVE USER BLOCKSIZE                  01112300
         MVI   RPLNT+N3,N2         LENGTH OF FIELD                      01114300
         BAL   RE,R13A1            LINK TO BUFFER HANDLER               01116300
         L     R7,TCBRBP           GET ADDR OF RESTART SVRB      Y02076 01120302
         USING RBSECT,R7           RB                                   01133600
         MVC   RBGRSAVE(N64),N1(R3) MOVE GPR'S INTO SVRBA6C      Y02076 01143602
         MVI   RPLNT+N3,N64        LENGTH OF GPR'S                      01145600
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER              01146000
         DROP  R4,R7               DCB,RB                               01146400
         EJECT                                                          01146800
*                                                                       01151200
*        ROUTINE TO RESTORE DEB CHAIN                                   01153200
*                                                                       01155200
R12F1    SR    R4,R4               INITALIZE PTR TO NEXT DEB            01155702
         TM    N0(R3),X80          IS THIS A DEB                        01166700
         BZ    R12H3               BRANCH IF NOT                        01176700
R12J1    EQU   *                   TEST FOR DUMMY DEB                   01177100
         SR    R0,R0               ZERO OUT REG FOR DEB LENGTH   YM3022 01177200
         CLI   N0(R3),N130         IS THIS A DUMMY DEB                  01177500
         BE    R12J15              IF YES, BRANCH                YM5720 01177902
         CLI   N0(R3),X83          IS THIS A SUBSYSTEM DEB       YM5720 01179902
         BNE   R12J2               IF NOT, BRANCH                YM5720 01180302
         IC    R0,DEBLNGTH+N1-DEBXTNP(R3) GET LENGTH OF DEB IN   YM5720 01180702
*                                  DOUBLE WORDS                  YM5720 01181102
         B     R12J3               GET CORE FOR DEB              YM5720 01181502
R12J15   EQU   *                   DUMMY DEB                     YM5720 01183302
         IC    R0,DEBLNGTH+N1-DEBPREFX(R3) GET LENGTH OF DUMMY DEB      01185902
*                                  IN DOUBLE WORDS                      01187702
         B     R12J3               GET CORE FOR DEB                     01189502
R12J2    EQU   *                   GET LENGTH FOR ISAM/NON-ISAM DEB     01191302
         IC    R0,DEBLNGTH+N1-DEB(R3) GET LENGTH OF DEB IN              01193102
*                                  DOUBLE WORDS                         01194902
R12J3    SLL   R0,N3               GET LENGTH IN BYTES                  01196702
         ICM   R0,N8,RM230         INSERT SUBPOOL NUMBER         Y02076 01198502
         LR    R2,R0               SAVE LENGTH                          01200302
         LA    R2,N0(R2)                CLEAR HI ORDER BYTE      Y02076 01202102
         MODESET EXTKEY=DATAMGT    SET KEY FOR GETMAIN           Y02076 01212502
         GETMAIN    R,LV=(0)                                            01222502
         MODESET EXTKEY=ZERO       RESTORE KEY 0                 Y02076 01232502
         ST    R1,CKSAVAR          STORE ADDR IN W.A.                   01242500
         ST    R1,RSCORE           SAVE ADDR OF GOTTEN CORE             01252500
         CLI   N0(R3),N130         IS THIS A DUMMY DEB                  01262500
         BNE   R12J35              BRANCH IF NO                  YM5720 01272502
         LA    R6,DEBBASIC-DEBPREFX(R1) DUMMY BASIC SECTION POINTER     01282502
         B     R12A4               GO MOVE IN DEB                       01286500
R12J35   EQU   *                   TEST FOR SUBSYSTEM DEB        YM5720 01288502
         CLI   N0(R3),X83          IS THIS A SUBSYSTEM DEB       YM5720 01288902
         BNE   R12J4               IF NOT, BRANCH                YM5720 01289302
         LA    R6,DEBBASIC-DEBXTNP(R1) SUBSYSTEM BASIC SECTION   YM5720 01289702
*                                  ADDRESS (PREFIX=8 BYTES)      YM5720 01290102
         B     R12A4               GO MOVE IN DEB                YM5720 01290202
R12J4    LA    R6,DEBBASIC-DEB(R1) PTR TO DEB BASIC SECTION             01290502
         USING DEBBASIC,R6         DEB                                  01290900
         CLI   N0(R3),N129         IS DEB FOR ISAM DATA SET             01291300
         BNE   R12A4               NO-BRANCH                            01291700
         LA    R7,DEBAPPAD+N1-DEB(R3) GET ADR OF WORD BEFORE ISAM PTRS  01292102
         LA    R8,N4               THERE ARE 4 OF THEM                  01292300
R12A3    LA    R7,N4(R7)           GET ADR. OF NEXT PTR.                01292400
         LR    R3,R6               GET BASIC SECTION ADR.               01309100
         MVC   RP40XCTL(N2),N2(R7) HALFWORD TO APPROPRIATE BDY          01319102
         AH    R3,RP40XCTL         RELOCATE POINTER                     01321102
         CR    R3,R6               Q. IS PTR ZERO                       01323100
         BE    R12A5               YES, DO NEXT POINTER                 01325100
         STCM  R3,N7,N1(R7)        SET EXTENT POINTER                   01325500
R12A5    BCT   R8,R12A3            ALL POINTERS DONE                    01325600
R12A4    LA    R3,N0(R0,R2)        GET LENGTH OF DEB                    01331302
         ST    R3,RPLNT            STORE IN W.A.                        01333300
         MVI   RSSWIT1,N1          POTENTIAL BIG BLOCK                  01335300
         BAL   RE,R13A1            GET NEXT DATA                        01335700
         CLI   DEBEXSCL,N0         IS THIS A SUBSYS TYPE DEB   @ZA17960 01336137
         BE    R12A2               YES BRANCH                  @ZA17960 01336237
         CLC   DEBDEVED(2),ABLEV   IS THIS A DUMMY SAM DEB     @ZA17960 01336337
         BNE   AROUND              NO BRANCH AROUND            @ZA31057 01336537
         TM    DEBEXSCL,X'02'      DUMMY DEB ???               @ZA31057 01337037
         BO    R12A2               YES                         @ZA31057 01337537
AROUND   EQU   *                                               @ZA31057 01338037
         TM    DEBPROTG,X80        EIGHT OR GREATER              YM7339 01339302
         BZ    R12A45              NO                            YM7339 01341302
         MVZ   DEBPROTG,TCBPKF     UPDATE DEB PROTECT KEY               01342302
R12A45   EQU   *                   INSTR MUST FOLLOW             YM7339 01344302
         OC    DEBAPPB(N3),DEBAPPB APPENDAGE PTR = 0                    01345102
         BNZ   R12A2               BRANCH IF NOT                        01347902
         MVC   DEBAPPB(N3),CKSAVAR+N1 UPDATE DEB APPEN PTR              01350700
R12A2    STCM  R4,N7,DEBDEBB       CHAIN DEBS                           01362702
         MVC   DEBTCBB(N3),RSTCBAD+N1 STORE IN TCB ADR.                 01363102
         STCM  R6,N7,RPMDEB+N1     DEB CHAIN INTO W.A.                  01363500
         L     R7,DEBDCBAD         GET DCB ADDRESS                      01363900
         USING IHADCB,R7           DCB                                  01364300
         STCM  R6,N7,DCBDEBA       DEB ADR TO DCB                       01364400
         LR    R4,R6               SAVE BACK CHAIN                      01364500
         DROP  R7                  DCB                                  01364600
*                                                                       01369200
*        ROUTINE TO RESTORE IRB'S AND IQE'S                             01371200
*                                                                       01373200
         CLI   N0(R3),N18          Q.  IS NEXT BLOCK AN IRB             01373600
         BNE   R12F3               NO-BRANCH                            01373700
         LH    R0,RBSIZE+N1+RBPRFLNA-RBSECT(R3) SIZE IN DOUBLE WORDS    01373802
         SLL   R0,N3               SIZE IN BYTES                        01378500
         ICM   R0,N8,RM253         SUBPOOL 253                          01380500
         LR    R6,R0               SAVE LENGTH                          01382500
         LA    R6,N0(R6)                CLEAR HI ORDER BYTE      Y02076 01382602
         GETMAIN  R,LV=(0)                                              01382900
         ST    R1,RSCORE           SAVE IRB ADDRESS                     01383000
         LR    R7,R1               ADDR OF GOTTEN CORE                  01383100
         A     R7,KRBPRFLN         GET ADDR OF RB BASIC SECTION         01383200
         USING RBSECT,R7           RB                                   01406500
         STCM  R7,N7,DEBIRBB-DEBBASIC(R4) MOVE IT TO DEB                01416500
         LA    R3,N0(R6)           LENGTH OF IRB                        01426500
         ST    R3,RPLNT            STORE IN W.A.                        01428500
         MVI   RSSWIT1,N1          POTENTIAL BIG BLOCK                  01428900
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER              01429300
         TM    RBOPSW+N1,XF0       ZERO PROTECT KEY                     01429700
         BZ    R12F2               YES DO NOT RESET KEY                 01429800
         MVZ   RBOPSW+N1(N1),TCBPKF RESTORE PROTECT KEY                 01429902
R12F2    EQU   *                   IQE PROCESSING                       01430000
         TM    RBSTAB2,RBIQETP     ANY  IQE'S                           01437800
         BC    NOTHI,R12F3         NO BRANCH TO CHECK DEB               01439800
         L     RD,RBNEXAV          POINTER TO NEXT AVAIL. RB            01441800
         AR    RD,R7               ADD IRB ADDRESS                      01443800
         ST    RD,RBNEXAV          RESTORE TO RB FIELD                  01444200
         L     RD,RBIQE            PTR. TO LIST ORIGIN OF IQE'S         01444600
         AR    RD,R7               ADD IRB ADR.                         01445000
         ST    RD,RBIQE            RESTORE TO RBIQE FIELD               01445400
R12F3    EQU   *                   TEST FOR DEB                         01445500
         TM    N0(R3),X80          IS THIS A DEB                        01453300
         BO    R12J1               IF YES, GO PROCESS DEB        Y02076 01454302
         CLI   N0(R3),X20          IS THIS A DEB EXTENSION       Y02076 01454802
         BE    R12F4                    GO PROCESS DEB XTN     @ZA03659 01455237
         CLI   N0(R3),X21               A RESTORE LST(PIRL)?   @ZA03659 01457037
         BE    PIRL                YES PROCESS PIRL            @ZA28860 01460337
         CLI   N0(R3),X'22'        IS THIS THE FIRST EPCB ?    @ZA28860 01460437
         BE    EPCB1               YES BRANCH                  @ZA28860 01460537
         CLI   N0(R3),X'23'        IS THIS AN EPCB ???         @ZA28860 01460637
         BNE   R12H3               NO BRANCH FOR FLT PT REGS   @ZA28860 01460737
* WE WILL RESTORE THE EPCBS THAT WERE CHECKPOINTED             @ZA28860 01461137
* IN IHJQCP32 HERE.                                            @ZA28860 01461237
EPCBN    EQU   *                                               @ZA28860 01461337
         L     R0,EPCBCODE         SET UP SP230 AND BC LENGTH  @ZA28860 01461437
         LR    R2,R0               SAVE IN REG 2               @ZA28860 01461537
         LA    R2,0(0,R2)          CLEAR OUT SUBPOOL IN REG 2  @ZA28860 01461637
         GETMAIN R,LV=(0)          GETMAIN SPACE IN SP230      @ZA28860 01461737
         ST    R1,RSCORE           SAVE ADDRESS WE GETMAINED   @ZA28860 01461837
         ST    R2,RPLNT            SAVE LENGTH FOR MOVE        @ZA28860 01461937
         STCM  R1,N7,1(R6)         CHAIN EPCB INTO PIRL/EPCB   @ZA28860 01462037
         LR    R6,R1               SAVE ADDRESS                @ZA28860 01462437
         MVI   RSSWIT1,N1          SET BIG BLOCK SWITCH        @ZA28860 01462537
         BAL   RE,R13A1            GO TO BUFFER HANDLER        @ZA28860 01462637
         B     R12F3               CHECK NEXT RECORD           @ZA28860 01462737
EPCB1    EQU   *                                               @ZA28860 01462837
         LA    R6,24(0,R6)   POINT TO EPCB ADDRESS. REG 6 WAS  @ZA28860 01462937
*                            SET UP WHEN PROCESSING PIRL BELOW @ZA28860 01463037
         B     EPCBN               PROCESS EPCB                @ZA28860 01463137
PIRL     EQU   *                                               @ZA28860 01463237
*                                                                       01463337
*    ROUTINE TO REESTABLISH RESTORE I/O LIST (PIRL) - LENGTH            01463437
*    OF PIRL WAS SAVED IN DEBUSRPG FIELD AT CHECKPOINT TIME    @ZA03659 01463537
*                                                                       01463637
         DROP  R6                                              @ZA03659 01463737
         USING DEBBASIC,R4                                     @ZA03659 01463837
         SR    R0,R0                    CLEAR REG 0            @ZA03659 01463937
         ICM   R0,N3,DEBUSRPG+N2        GET PIRL LNGTH         @ZA03659 01464037
         LR    R2,R0                    SAVE LENGTH            @ZA03659 01464137
         ICM   R0,N8,RM254              SET SUBPOOL 254 ID     @ZA03659 01464237
         GETMAIN R,LV=(0)               GET BLOCK FOR PIRL     @ZA03659 01464337
         ST    R1,RSCORE                SAVE LAST CORE GOTTEN  @ZA03659 01464437
         STCM  R1,N7,DEBUSRPG+N1        PIRL ADR IN DEBUSRPG   @ZA03659 01464537
         LR    R6,R1                    SET PIRL ADDRESS IN R6 @ZA28860 01464637
         ST    R2,RPLNT                 LNGTH TO REPMAIN WA    @ZA03659 01464837
         MVI   RSSWIT1,N1               SET BIG BLOCK SWITCH   @ZA03659 01465037
         BAL   RE,R13A1                 TO BUFFER HANDLER      @ZA03659 01465637
         DROP  R4,R7               DEB, RB                     @ZA03659 01465837
         B     R12F3                    SEE IF NEXT BLK IS DEB @ZA03659 01465937
*                                                                Y02076 01466137
*        ROUTINE TO RESTORE DEB EXTENSIONS                       Y02076 01466437
*                                                                Y02076 01466637
R12F4    SR    R0,R0               CLEAR WORK REG                Y02076 01468237
         ICM   R0,N3,DEBXLNGH-DEBXTN+N1(R3) GET LENGTH OF EXT.   Y02076 01470037
         LR    R2,R0                    SAVE LENGTH              ZM0484 01471837
         ICM   R0,N8,RM230         INSERT SUBPOOL NUMBER         Y02076 01473637
         MODESET EXTKEY=DATAMGT    SET KEY FOR GETMAIN           Y02076 01475437
         GETMAIN R,LV=(0)                                        Y02076 01477237
         MODESET EXTKEY=ZERO       RESTORE KEY 0                 Y02076 01479037
         ST    R1,RSCORE           SAVE ADDR OF GOTTEN CORE      Y02076 01480837
         ST    R2,RPLNT                 LNGTH INTO RPMAIN WA     ZM0484 01482637
         MVI   RSSWIT1,N1               SET BIG BLOCK SWITCH     ZM0484 01484437
         BAL   RE,R13A1                 TO BUFFER HANDLER        ZM0484 01486237
         LA    R6,DEBBASIC-DEBPREFX POINT TO                     Y02076 01488037
         LNR   R6,R6               DEB                           Y02076 01489837
         AR    R6,R4               PREFIX                        Y02076 01491637
         USING DEBPREFX,R6         ADDR DEB PREFIX               Y02076 01493437
         L     R1,RSCORE                GET DEB EXT ADDR         ZM0484 01495237
         ST    R1,DEBXTNP          UPDATE DEB DEB EXT ADDR       Y02076 01497037
         USING DEBXTN,R1           ADDR DEB EXTENSION            Y02076 01498837
         ST    R4,DEBXDBPR         UPDATE DEB EXT DEB ADDR       Y02076 01500637
         NI    DEBXFLG1,X'FF'-DEBXDSSI RESET SECURITY BIT      @Z40RSRB 01501508
         DROP  R1,R6               DEB EXT AND DEB PREFIX        Y02076 01502437
         B     R12F3                    SEE IF NXT BLK IS DEB  @ZA03659 01502708
         EJECT                                                          01509308
*                                                                       01509637
*        ROUTINE TO RESTORE FLOATING POINT REGISTERS                    01511437
*                                                                       01513237
R12H3    MVC   RSREGSAV(N32),N1(R3) SAVE FLT PT REGS                    01515037
         LD    R0,RSREGSAV         RESTORE                              01516837
         LD    R2,RSREGSAV+N8      FLOATING                             01518637
         LD    R4,RSREGSAV+N16     POINT                                01520437
         LD    R6,RSREGSAV+N24     REGISTERS                            01522237
         LA    R3,N32              LENGTH OF FLT PT REGS                01524037
         ST    R3,RPLNT            STORE IN W.A.                        01525837
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER              01527637
*                                                                       01529437
*     ROUTINE TO READ IN THE TIOT TO THE SAVE AREA                      01531237
*                                                                       01533037
         MVC   RPLNT,RSTIOTO       LENGTH OF TIOT                       01534837
         LA    R1,RSTIOT           ADDRESS OF SAVE AREA                 01536600
         ST    R1,RSTIOTAD         SAVE PTR TO OLD TIOT                 01546600
         MVI   RSSWIT1,N1          POTENTIAL BIG BLOCK           Y02076 01556602
         BAL   RE,R13A1            MOVE IN BLOCK                        01566600
         EJECT                                                          01566702
*                                                                Y02076 01566802
*        ROUTINE TO RESTORE CERTAIN DSAB INFORMATION AND UPDATE  Y02076 01567002
*        THE DEB DSAB ADDRESS                                    Y02076 01567202
*                                                                Y02076 01567302
R12H4    L     RF,TCBJSCB          GET JSCB ADDR                 Y02076 01567402
         USING IEZJSCB,RF          ADDR JSCB                     Y02076 01567502
         L     RF,JSCDSABQ         GET QDB ADDR                  Y02076 01567602
         USING QDB,RF              ADDR QDB                      Y02076 01567702
         L     RF,QDBFELMP         GET 1ST DSAB ADDR             Y02076 01567802
         L     R3,RSBFSTAD         GET RECORD ADDR               Y02076 01567902
         DROP  RF                  DROP QDB                      Y02076 01568002
R12J00   LR    R2,RF               GET 1ST DSAB ADDR             Y02076 01568202
         USING DSAB,R2             ADDR DSAB                     Y02076 01568602
         USING XDSAB,R3            ADDR DSAB INFO                Y02076 01568802
R12J10   L     R4,DSABTIOT         GET DD ENTRY ADDR             Y02076 01568902
         USING TIOENTRY,R4         ADDR DD ENTRY                 Y02076 01569002
         CLC   XDSADDNM,TIOEDDNM   DD NAMES MATCH                Y02076 01569102
         BE    R12J30              IF EQUAL, BR                  Y02076 01569202
         ICM   R2,M15,DSABFCHN     FETCH/TEST NEXT DSAB @        Y02076 01569302
         BNZ   R12J10              IF ANOTHER DSAB, BR           Y02076 01569402
*********************************************************************** 01569502
*    IF DATA SET IS AN IMPLIED VSAM CATALOG (X'24') - THE GENERATED     01569602
*    DDNAME IS NOT NECESSARILY THE SAME BETWEEN CHECKPOINT AND          01570102
*    RESTART - FOR THESE DATA SETS DO NOT GENERATE ERROR CODE (034)     01570502
*    AND DO NOT UPDATE THE DSAB                                 ZA00103 01570902
*********************************************************************** 01571102
         TM    XID,X24             IS IT PRIVATE CATL D.S.      ZA00103 01571302
         BO    R12J40              BRANCH IF YES                ZA00103 01571802
R12J20   MVI   RSRETCOD+N1,ERR032  SET MISSING DD ERROR CODE   @ZSUT222 01572308
         B     RPMERR              ERROR EXIT                    Y02076 01572802
R12J30   MVC   DSABOPCT,XDSAOPCT   RESTORE OPEN COUNT            Y02076 01573902
         MVC   DSABORG,XDSABORG    RESTORE DSORG                 Y02076 01574002
         MVC   DSABFLG1(L'DSABFLG1+L'DSABFLG2),XDSAFLG1 RESTORE  Y02076 01574302
*                                  FLAGS 1 AND 2                 Y02076 01574502
         OC    DSABFLG4,XDSAFLG4   RESTORE CKDS AND CKSI OF      Y02076 01575202
*                                  FLAG 4                        Y02076 01575902
         MVC   DSABDCBM,XDSADCBM   RESTORE DCB MODIFICATION MSK  Y02076 01576602
         TM    XDSAFLGS,XDSATCBP   WAS TCB @ IN CHKPT DSAB       Y02076 01577302
         BZ    R12J40              BR IF NOT                     Y02076 01578002
         MVC   DSABTCBP,RSTCBAD    RESTORE TCB ADDR              Y02076 01578702
R12J40   TM    XID,X44             WAS THIS THE LAST DSAB       ZA00103 01579402
         BO    R12J50              IF YES, BR                   ZA00103 01580102
         LA    R4,XDSABSIZ         GET LENGTH OF DSAB INFO       Y02076 01580802
         ST    R4,RPLNT            AND STORE IN WORKAREA         Y02076 01581502
         BAL   RE,R13A1            TO INPUT BUFFER HANDLER       Y02076 01582202
         L     R3,RSBFSTAD         GET RECORD ADDR               Y02076 01582902
         TM    XDSAFLGS,XDSACCAT   CONCATENATED DSAB ENTRY       Y02076 01583602
         BZ    R12J00              IF NO, GO INIT DSAB SCAN      Y02076 01584302
         ICM   R2,M15,DSABFCHN     FETCH/TEST NEXT DSAB ADDR     Y02076 01585002
         BZ    R12J20              NO MORE DSAB'S IS AN ERROR    Y02076 01585702
         L     R4,DSABTIOT         FETCH DD ENTRY ADDR           Y02076 01586402
         CLI   TIOEDDNM,BLANK      IS DD NAME BLANK              Y02076 01587102
         BNE   R12J20              IF NOT, IT'S AN ERROR         Y02076 01587802
         B     R12J30              GO RESTORE DSAB               Y02076 01588502
*                                                                Y02076 01589202
*        ROUTINE TO READ POSSIBLE SSCR OR EOD RECORD             Y02076 01589902
*                                                                Y02076 01590602
R12J50   MVC   RSLNGTH1,SSCRBUFL   ANTICIPATE 4K RECORD          Y02076 01591302
         STM   R1,RF,CKSAVAR+N4    SAVE REGS                     Y02076 01592002
         LA    RD,RSREGSAV         PTR TO SAVEAREA IN REG13      YM5312 01592702
         BAL   R7,R13D2            READ SSCR OR EOD RCD          Y02076 01593402
         LM    R1,RF,CKSAVAR+N4    RESTORE REGS                  Y02076 01594102
RSOUT    LR    R1,RC               LOAD REG 1 WITH ADDR OF RSTWA        01594802
         LA    RF,RPMN40           GET ADDR OF NEXT LOAD                01595502
         ST    RF,RP40XCTL         STORE IN RPWA1                       01596202
         LA    RF,RP40XCTL         GET ADDR OF RPMWA FIELD              01596902
         XCTL  SF=(E,(15))         XCTL TO NEXT LOAD                    01597602
         EJECT                                                          01598302
*                                                                       01599002
*        INPUT BUFFER HANDLER ROUTINE                                   01599702
*                                                                       01600402
R13A1    DS    0H                  BUFFER HANDLER ROUTINE               01601102
         STM   R1,RF,CKSAVAR+N4    SAVE REGS                            01601802
         LA    RD,RSREGSAV         SAVE AREA ADDRESS                    01602502
         L     R3,RPLNT            LENGTH OF BLOCK                      01603200
         L     R4,RSBFLWA          REMAINING BYTES                      01605200
         L     RA,RSBFSTAD         NEXT ADDRESS IN BUFFER               01607200
         LA    RA,N1(RA)           ALLOW FOR CODE BYTE                  01609200
         BCTR  R4,R0               ALLOW FOR CODE BYTE                  01609600
         TM    RSSWIT1,N1          IS THIS A BIG BLOCK                  01609700
         BZ    R13A2               NO-BRANCH                            01609800
         NI    RSSWIT1,XFE         YES- TURN OFF SWITCH                 01615400
R13B1    CR    R3,R4               ARE BYTES LEFT IN BLOCK G.T.         01617400
*                                  BYTES LEFT IN BUFFER                 01619400
         BNH   R13F1               NO   USE BLOCK LENGTH                01619800
         LR    R2,R4               YES  USE BYTES LEFT IN BUFFER        01620200
         BAL   R5,R13E1            MOVE IN SUR                          01620600
         L     R1,RSW001           RESTORE PTR TO NEXT BYTE IN GOTTEN   01620700
*                                  CORE                                 01620802
         B     R13B1               LOOP WITH LEFT OVER BYTES            01620900
R13F1    LR    R2,R3               USE BLOCK LENGTH AS CTR              01634800
         BAL   R5,R13E1                 MOVE IN SUR              Y02076 01644802
         B     R13A3X                   GO UPDATE PTRS           Y02076 01645202
         EJECT                                                          01646800
*                                                                       01647200
*        MOVE IN SUR ROUTINE                                            01647600
*                                                                       01648000
R13E1    DS    0H                  SUR PROCESSING                       01648400
         STM   R4,R7,RSERAS00      SAVE MOVE-LONG REGS           YM7357 01650402
         LR    R4,R1               GET TO-ADDRESS                YM7357 01652402
         LR    R6,RA               GET FROM-ADDRESS              YM7357 01652802
         LR    R5,R2               GET TO-LENGTH                 YM7357 01653202
         LR    R7,R2               GET FROM-LENGTH               YM7357 01654902
         MVCL  R4,R6               DATA TO CORE                  YM7357 01656902
         LM    R4,R7,RSERAS00      RESTORE MOVE-LONG REGS        YM7357 01657002
         AR    RA,R2               INCREMENT BUFFER PTR                 01657302
         AR    R1,R2               INCREMENT AREA POINTER               01658702
         ST    R1,RSW001           SAVE PTR TO NEXT BYTE IN GOTTEN      01660402
         SR    R4,R2               GET BYTES LEFT IN BUFFER             01662102
         SR    R3,R2               GET BYTES LEFT IN BLOCK              01663802
         BZ    R13A4               NO MORE BYTES IN BUFFER              01665502
         LTR   R4,R4               ANY MORE BYTES IN BUFFER             01667202
         BCR   NE,R5               YES, RETURN                          01668902
         BAL   R7,R13D2            READ NEW DATA                        01670602
         BR    R5                  RETURN                               01672302
R13A4    TM    RSSWIT1,N2          IS THE THE LAST BLOCK                01674002
         BO    R13C1               YES- NO MORE RECORDS                 01675702
         B     R13A3               NO- READ NEXT DATA                   01677402
R13A2    SR    R4,R3               COMPUTE NEW REMAINDER                01679100
         BZ    R13D1               NO MORE BYTES LEFT IN BUFFER         01689100
         AR    RA,R3               GET PTR TO NEXT DATA                 01691100
R13A3    CLI   N0(RA),N0           MORE USEABLE DATA IN BUF             01695000
         BE    R13D1               NO                                   01697000
         LTR   R4,R4               ANY MORE BYTES IN BUFFER             01699000
         BZ    R13D1               NO                                   01702900
R13A3X   LR    R3,RA               NEW DATA ADDR TO R3                  01704902
         ST    R3,RSBFSTAD         ADDRESS OF NEW DATA                  01706900
         ST    R4,RSBFLWA          RESTORE REMAINDER                    01710800
R13C1    LM    R1,RF,CKSAVAR+N4    RESTORE REGS                         01714802
         L     R3,RSBFSTAD         ADDRESS OF DATA                      01729000
         BR    RE                  RETURN                               01739000
R13D1    BAL   R7,R13D2            TO I/O ROUTINE                       01743002
         B     R13C1               RETURN                               01743100
         EJECT                                                          01747800
*                                                                       01749800
*        ROUTINE TO HANDLE I/O                                          01751800
*                                                                       01752200
R13D2    DS    0H                  I/O HANDLER                          01752600
         LR    RA,RC               BASE ADDRESS                         01757300
         A     RA,RSBFOFST         ADD OFFSET TO BUFFER                 01759300
         READ  RSDECB1,SF,,(RA),,MF=E                                   01761300
         CHECK RSDECB1                                                  01761700
         CLI   RSRETCOD+N1,ZERO    I/O ERRORS                   YA00153 01762102
         BNE   RPMERR              YES                          YA00153 01766802
         ST    RA,RSBFSTAD         1ST BYTE OF BUFFER                   01768800
         LA    R4,SURL             GET BUFFER LENGTH                    01770800
         ST    R4,RSBFLWA          INITIALIZE LENGTH OF BUFFER          01771200
         BR    R7                  RETURN                               01771600
RPMERR   EQU   *                   PLACE ERROR                          01776300
         MVI   RPMN40+N4,CHAR9     FOR I/O ERROR XCTL.                  01778300
         MVC   RSREGSAV(8),MODID   SAVE NAME OF MODULE THAT    @ZSUT222 01778808
*                                  HAS DETECTED THE ERROR.     @ZSUT222 01779308
         STM   0,15,RSREGSAV+8     SAVE CURRENT REGISTERS.     @ZSUT222 01779808
         B     RSOUT               XCTL INTERFACE                       01780300
*                                                                       01780700
*        SYNAD ROUTINE                                                  01781100
*                                                                       01782600
RPM127   DS    0H                  SYNAD ROUTINE                        01784600
         MVI   RSRETCOD+N1,ERR037  ERROR CODE                  @ZSUT222 01785008
         L     R1,RSIOBPT1              GET IOB ADDR            YA00153 01785408
         TM    N13(R1),WLR              IS THIS WRONG LEN ERR   YA00153 01785508
         BCR   ZEROES,RE                NO - RETURN             YA00153 01785608
*                                                                       01785702
*        IF WRONG LENGTH INDICATION WAS ENCOUNTERED ON READ OF   YM7056 01786102
*        SSCR, IGNORE IT.  THE SPIE SSCR MAY BE PRESENT.         YM7056 01786502
*                                                                       01786902
         CLC   RSLNGTH1,SSCRBUFL        IS THIS 4K BUFR LEN      YM7056 01787302
         BNE   RPM129                   NO, VALID WLR IND.       YM7056 01789302
         MVI   RSRETCOD+N1,N0           ZERO OUT ERROR CODE      YM7056 01791302
         BR    RE                       RETURN                   YM7056 01791402
RPM129   EQU   *                                                        01791702
         MVI   RSRETCOD+N1,ERR043       SET WRONG LEN IND      @ZSUT222 01792808
         RETURN                                                         01800602
*                                                                       01808102
         EJECT                                                          01815602
RSMOVE   MVC   N0(N1,R1),N0(RA)    MOVE IN BLOCK                        01823102
*                                                                       01830600
*        GENERAL CONSTANTS                                              01840600
*                                                                       01850600
RPMN40A  DC    CL8'IGC0805B'       CSECT NAME FOR XCTL                  01860600
MODID    DC    CL8'IGC0705B'       MODULE ID                   @ZSUT222 01865608
KRBPRFLN DC    A(RBPRFLNA)         LENGTH OF RBPREFIX                   01870600
ABLEV    DC    CL2'AV'             DUMMY DEB MODULE PREFIX     @ZA17960 01870737
SSCRBUFL DC    H'4096'             MAX LENGTH OF SSCR RECORD     Y02076 01870937
RM230    DC    AL1(230)            SUBPOOL 230                   Y02076 01871102
RM253    DC    AL1(253)            SUBPOOL 253                          01872600
RM254    DC    AL1(254)            SUBPOOL 254                          01874600
         DS    0F                                                       01874737
EPCBCODE DC    XL4'E60000BC'       SUBPOOL 230 BC LENGTH EPCB  @ZA28860 01874837
         SPACE 2                                                        01875000
PATCH    EQU   *                   END OF MODULE                        01875400
RP3LN    EQU   PATCH-IGC0705B      LENGTH OF CSECT                      01890400
RP3PALN  EQU   RP3LN/10            LENGTH OF PATCH AREA                 01900400
RP3PATCH DS    XL(RP3PALN)         10 PERCENT ALLOWANCE FOR PATCH AREA  01902400
         SPACE                                                          01904400
*                                                                       01904800
*        EQUATES FOR REGISTER BRANCHES                                  01905200
*                                                                       01905300
NE       EQU   7                   CONDITION CODE 7                     01910300
NOTHI    EQU   12                  CONDITION CODE 12                    01912300
         SPACE                                                          01914300
*        EQUATES FOR BIT TESTING                                        01914700
*                                                                       01915100
X01      EQU   X'01'               TEST MASK                     Y02076 01915602
X20      EQU   X'20'               CODE FOR DEB EXTENSION        Y02076 01915702
X21      EQU   X'21'               RESTORE LIST(PIRL) CODE     @ZA03659 01915837
X44      EQU   X'44'               LAST DSAB RCD CODE            Y02076 01916002
XFE      EQU   X'FE'               X'FE'                                01916102
X80      EQU   X'80'               CODE FOR DEB                         01916602
X83      EQU   X'83'               CODE FOR SUBSYSTEM DEB        YM5720 01926602
XF0      EQU   X'F0'               MASK FOR PROTECT KEY                 01927800
         SPACE                                                          01937800
*        EQUATES FOR GENERAL DISPLACEMENTS                              01939800
*                                                                       01940200
N0       EQU   0                   0                                    01944400
N1       EQU   1                   1                                    01946400
N2       EQU   2                   2                                    01948400
N3       EQU   3                   3                                    01948500
N4       EQU   4                   4                                    01952700
N7       EQU   7                   7                                    01954700
N8       EQU   8                   8                                    01956700
N12      EQU   12                  12                                   01956800
N13      EQU   13                       CONSTANT 13             YA00153 01958802
N16      EQU   16                  16                                   01966800
N18      EQU   18                  CODE FOR IRB                         01967400
N20      EQU   20                  20                                   01977400
N24      EQU   24                  24                                   01977500
X24      EQU   X'24'               IMPLIED PRIV. CATL DSAB CODE ZA00103 01977602
N28      EQU   28                  28                                   01977800
N32      EQU   32                  LENGTH OF F.P.REGISTERS              01978200
N64      EQU   64                  LENGTH OF GPR                        01978300
N128     EQU   128                 CODE FOR NON-ISAM DEB                01981800
N129     EQU   129                 CODE FOR ISAM DEB                    01983800
N130     EQU   130                 CODE FOR DUMMY DEB                   01984200
ZERO     EQU   0                        0 FOR TESTING RET CODE  YA00153 01984302
ZEROES   EQU   8                        CONDITION FOR BCR       YA00153 01984402
WLR      EQU   X'40'                    WRONG LENGTH RECORD     YA00153 01984502
*                                       INDICATION IN IOB       YA00153 01986102
ERR043   EQU   43                       ERROR CODE FOR WRONG   @ZSUT222 01988108
*                                       LENGTH RECORD WHILE     YA00153 01988502
*                                       READING CHKPT D/S       YA00153 01988902
*                                                                       01989802
*        GENERAL REGISTER EQUATES                                       01991402
*                                                                       01993002
R0       EQU   0                   REGISTER 0                           01994602
R1       EQU   1                   REGISTER 1                           01996202
R2       EQU   2                   REG 2                                01997802
R3       EQU   3                   REG 3                                01999402
R4       EQU   4                   REG 4                                02001002
R5       EQU   5                   REG 5                                02002602
R6       EQU   6                   REG 6                                02004202
R7       EQU   7                   REG 7                                02005802
R8       EQU   8                   REG 8                                02007402
R9       EQU   9                   REG 9                                02009002
RA       EQU   10                  REG 10                               02010602
RB       EQU   11                  REG 11                               02012202
RC       EQU   12                  REG 12                               02013802
RD       EQU   13                  REG 13                               02015402
RE       EQU   14                  REG 14                               02017002
RF       EQU   15                  REG 15                               02018602
         SPACE                                                          02020202
RPMWA1   DSECT                                                          02021802
*                                                                       02023402
*        DSECT FOR REPMAIN WORK AREA                                    02025002
*                                                                       02026602
RPMERAS1 DS    F                   TEMP SAVE AREA                Y02076 02028202
RMNEOV   DS    F                   TO TEST IF EOV OCCURRED              02029800
RSBFSTAD DS    F                   ADDRESS OF DATA                      02039800
RSBFLWA  DS    F                   NUMBER OF BYTES REMAINING IN BUFFER  02041800
RPMMSS1  DS    F                   ADDR OF NEW L-SHAPED PROG MSS CHAIN  02041900
RPMMSS2  DS    F                   ADDRESS OF NEW INIT MSS CHAIN        02043200
RPMMSS3  DS    F                   ADDRESS OF NEW P/P MSS CHAIN         02045200
RPMRB    DS    F                   ADDRESS OF RESTORED RB CHAIN         02045600
RPMLLE   DS    F                   ADDRESS OF RESTORED LLE CHAIN        02045700
RPMCDE   DS    F                   ADDRESS OF RESTORED CDE CHAIN        02045800
RPMDEB   DS    F                   ADDRESS OF RESTORED DEB CHAIN        02048100
RPMFOE   DS    F                   ADDRESS OF RESTORED FOE CHAIN        02050100
RSCORE   DS    F                   ADDR OF CORE AQUIRED BY LAST GETMAIN 02052100
RSW001   DS    F                   POINTER TO NEXT BYTE AVAILABLE CORE  02052500
RSW002   DS    F                   POINTER TO REPMAIN SYNAD ROUTINE     02052600
RPLNT    DS    F                   LENGTH OF THE BLOCK                  02052700
RMADEOV  DS    F                   SAVE AREA FOR INFORMAION NEEDED      02053000
         DS    0D                  ALIGNMENT                            02053400
CKSAVAR  DS    16F                 GENERAL SAVE AREA                    02053500
RPMN40   DS    D                   MODULE NAME FOR XCTL                 02056400
RP40XCTL DC    F'0'                POINTER TO XCTL PARAMETER LIST       02058400
RSSWIT1  DS    X'00'               BIG BLOCK INDICATOR                  02058800
*                                                                       02059200
*        GENERAL EQUATES                                                02059300
*                                                                       02062800
CHAR9    EQU   C'9'                CHAR FOR XCTL TO REPMAIN 5           02064800
SURL     EQU   400                 BUFFER LENGTH                 YM7049 02065202
ERR037   EQU   37                  I/O ERROR CODE              @ZSUT222 02069908
ERR032   EQU   32                  MISSING DD ERROR CODE       @ZSUT222 02070208
BLANK    EQU   C' '                BLANK CONSTANT                Y02076 02070902
M7       EQU   7                   INSERT CHAR MASK              Y02076 02071402
M15      EQU   15                  INSERT CHAR MASK              Y02076 02071502
         EJECT                                                          02071908
*                                                                Y02076 02072008
*        DSECT FOR DSAB SUR RECORD                               Y02076 02072108
*                                                                Y02076 02072208
XDSAB    DSECT                     DSAB BLK DSECT                Y02076 02072308
XID      DS    CL1                 SUR ID                        Y02076 02072408
XDSAOPCT DS    CL2                 DCB OPEN COUNT                Y02076 02072508
XDSABORG DS    CL2                 DATA SET ORG                  Y02076 02072608
XDSAFLG1 DS    CL1                 DSAB FLAG 1                   Y02076 02072708
XDSAFLG2 DS    CL1                 DSAB FLAG 2                   Y02076 02072808
XDSAFLG4 DS    CL1                 DSAB FLAG 4                   Y02076 02072908
XDSADCBM DS    CL6                 DCB MODIFICATION MASK         Y02076 02073008
XDSADDNM DS    CL8                 DD NAME                       Y02076 02073108
XDSAFLGS DS    CL1                 DSAB PROCESS FLAGS            Y02076 02073208
XDSACCAT EQU   X'80'               DSAB IS CONCATENATED          Y02076 02073308
XDSATCBP EQU   X'40'               DSAB HAS TCB ADDR             Y02076 02073408
XDSABSIZ EQU   *-XDSAOPCT          DSAB BLK SIZE                 Y02076 02073508
         TITLE 'IHJQRS22 - REPMAIN  WORK AREA'                          02073602
         IEEVRSWA  VER=3    USE AOS2  VERSION OF WA                     02073802
         TITLE 'IHJQRS22 - DATA CONTROL BLOCK'                          02074002
*  DATA CONTROL BLOCK                                                   02074202
         IHADCB DSORG=(PO,PS),DEVD=(DA,TA)                              02074402
         TITLE 'IHJQRS22 - TASK CONTROL BLOCK'                          02074600
*  TASK CONTROL BLOCK                                                   02076600
         IKJTCB                                                         02076700
         TITLE 'IHJQRS22 - REQUEST BLOCK - S.V.R.B.,I.R.B.'             02080000
*  REQUEST BLOCK - S.V.R.B.,I.R.B.                                      02082000
         IKJRB                                                          02082400
         TITLE 'IHJQRS22 - DATA EVENT BLOCK'                            02082800
*  DATA EVENT BLOCK                                                     02083200
         IEZDEB                                                         02083300
         TITLE 'IHJQRS22 - JSCB'                                        02084302
         IEZJSCB                                               , Y02076 02084402
         TITLE 'IHJQRS22 - QDB'                                         02084502
         IHAQDB                                                , Y02076 02084802
         TITLE 'IHJQRS22 - DSAB'                                        02084902
         IHADSAB                                               , Y02076 02085002
         TITLE 'IHJQRS22 - TIOT'                                        02085102
         IEFTIOT1                                              , Y02076 02085202
         EJECT                                                          02085402
         END                                                            02135408
