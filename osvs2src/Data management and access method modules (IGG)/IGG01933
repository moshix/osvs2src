         TITLE 'IGG01933 - ERROR RECOVERY MODULE FOR OPEN EXECUTORS'    00000110
IGG01933 CSECT                                                          00000210
         SPACE 3                                                        00000310
*CHANGE-ACTIVITY = AS FOLLOWS:                                   S21903 00000410
******************** MICROFICHE FLAGS *********************** SUPT CODE 00000510
*A370720,557000                                                  X01004 00000610
*A237000                                                         Y01004 00000710
*A438992,521600                                                  X02004 00000810
*A109000,126600,136000,145000,152490,213000,311000,438900,538200 A44886 00000910
*A540000,541000,549000                                           A44886 00001010
*C081000,122000-123000,125000,127000-129000,146000,148000        A44886 00001110
*C150000-151000,152210,152290,168000-175000,176100-176500,182000 A44886 00001210
*C198000,208000,334000,392000,394000,396500-417000,504000-521809 A44886 00001310
*D079000,121000,133000,152070-152140,152560-152630,164000,176900 A44886 00001410
*D203000-207000,311060-311840,386700-390200,476000-501900        A44886 00001510
*D521818-521989,530000,536000-537000,538500,543000,558000-558500 A44886 00001610
*A002000,003000                                                  S21903 00001710
*C104000,341000,420000-438000,446000,448000-454000,              S21903 00001810
*C463000,465000-466000,469000,471000,523000-529000,              S21903 00001910
*C544000-550000,552000,564000-566000,567000-570000               S21903 00002010
*C104000,106000,109800,126300,127600,134000,136300,311030-333000,Y05330 00002110
*C408000,449000,525000,529000                                    Y05330 00002210
*D335000-340000,396000,523000,538700                             Y05330 00002310
*A473500                                                         Y01948 00002410
*C420000,455000,473000,503000                                    Y01948 00002510
*C447000,464000,475000                                          SA64378 00072510
*A109500                                                        SA64380 00142510
*C127600,136300,315030,408000                                   SA64380 00212510
*C317730-318630                                                @YA04911 00212610
*A112200                                                       @SA75443 00212710
*C139000,212000,237070,237210,316530,370080,370320             @SA75443 00212810
*              TCAM 10.0 CHANGES                               @G36XRNP 00222810
*A439000,521900                                                @G36XRNP 00232810
*C520100                                                       @G36XRNP 00242810
*                                                              @G36XRNP 00252810
         SPACE 3                                                        00300010
*********************************************************************** 00310010
*                                                                     * 00320010
*MODULE-NAME = IGG01933 (TCAM,INIT)                            @G36XRNP 00330010
*                                                                S21903 00340010
*DESCRIPTIVE-NAME = ERROR RECOVERY MODULE FOR OPEN EXECUTORS     S21903 00350010
*                                                                S21903 00360010
*COPYRIGHTS = 'NONE'                                             S21903 00370010
*                                                                S21903 00380010
*STATUS - CHANGE LEVEL 10.0                                    @G36XRNP 00400010
*                                                                     * 00500010
*FUNCTION/OPERATION - THIS EXECUTOR HANDLES ALL SERIOUS ERRORS        * 00600010
*   DETECTED DURING THE OPENING OF A TCAM APPLICATION PROGRAM,        * 00700010
*   A MESSAGE QUEUES DATA SET, OR A LINE GROUP.  DEPENDING UPON       * 00800010
*   WHAT PARAMETERS ARE PASSED BY THE EXECUTOR FINDING THE ERROR,     * 00900010
*   A MESSAGE OF THE FORMAT 'IED008I TCAM OPEN ERROR XXX - Y IN       * 00920010
*   DCB ZZZZZZZZ', WHERE XXX IS THE ERROR CODE, Y IS THE SPECIFIC     * 00940010
*   REASON CODE, AND ZZZZZZZZ IS THE NAME OF THE DCB IN ERROR, IS     * 00960010
*   PUT TO THE SYSTEM CONSOLE.  IF A TCAM ERROR EXIT IS NOT PROVIDED  * 00980010
*   BY THE USER, TCAM WILL ABEND WITH A SPECIFIC ABEND CODE.  IF      * 01200010
*   A VALID ERROR EXIT IS PROVIDED, THIS EXECUTOR WILL PASS TO        * 01300010
*   THE USER'S ERROR HANDLING ROUTINE AN ERROR CODE IN REGISTER 0     * 01400010
*   AND AN OPTION CODE IN REGISTER 1 TO PERMIT THE USER TO DECIDE     * 01500010
*   WHICH OF THE AVAILABLE OPTIONS HE WISHES TO USE.  IF SUPPLIED     * 01600010
*   A RETURN CODE IN REGISTER 15, THIS EXECUTOR MAY ABEND THE         * 01700010
*   USER'S TCAM JOB, IGNORE THE DATA SET THAT IS IN ERROR, OR         * 01800010
*   CONTINUE PROCESSING WITH LIMITED CAPABILITIES.  SHOULD THE        * 01900010
*   USER SPECIFY AN OPTION THAT IS NOT AVAILABLE FOR THE ERROR        * 02000010
*   IN QUESTION, THIS EXECUTOR WILL PUT OUT THE ERROR MESSAGE         * 02100010
*   AGAIN AND GIVE CONTROL TO THE USER WITH THE SAME PREVIOUS         * 02200010
*   OPTIONS SPECIFIED.  THIS LOOPING WILL CONTINUE UNTIL A VALID      * 02300010
*   RETURN CODE IS GIVEN                                              * 02400010
*                                                                     * 02500010
*ENTRY POINTS - THIS EXECUTOR IS ENTERED AT IGG01933 VIA AN XCTL      * 02600010
*   FROM ANY OF THE TCAM OPEN EXECUTORS.                              * 02700010
*NOTES = SEE BELOW                                             @G36XRNP 02704010
*                                                              @G36XRNP 02708010
*   DEPENDENCIES = NONE                                        @G36XRNP 02712010
*                                                              @G36XRNP 02716010
*   RESTRICTIONS = NONE                                        @G36XRNP 02720010
*                                                              @G36XRNP 02724010
*   REGISTER CONVENTIONS = SEE REGISTER EQUATES                @G36XRNP 02728010
*                                                              @G36XRNP 02732010
*   PATCH LABEL = NONE                                         @G36XRNP 02736010
*                                                              @G36XRNP 02740010
*MODULE TYPE = PROCEDURE                                       @G36XRNP 02744010
*                                                              @G36XRNP 02748010
*   PROCESSOR = ASSEMBLER                                      @G36XRNP 02752010
*                                                              @G36XRNP 02756010
*   MODULE SIZE = 1024                                         @G36XRNP 02760010
*                                                              @G36XRNP 02764010
*   ATTRIBUTES= REENTRANT,ENABLED,PRIVILIGED                   @G36XRNP 02768010
*                                                              @G36XRNP 02772010
*ENTRY POINT = FIRST EXECUTABLE INSTRUCTION                    @G36XRNP 02776010
*                                                              @G36XRNP 02780010
*   PURPOSE = SEE FUNCTION                                     @G36XRNP 02784010
*                                                              @G36XRNP 02788010
*   LINKAGE = XCTL FROM TCAM OPEN EXECUTORS                    @G36XRNP 02792010
*                                                              @G36XRNP 02796010
*INPUT - THE REGISTERS 5,6,7, AND 8 ARE THE INPUT AS FOLLOWS          * 02900010
*                                                                     * 03000010
*    5 - THE ADDRESS OF THE WTG TABLE PREFIX                     Y02027 03100010
*                                                                     * 03200010
*    6 - THE ADDRESS OF THE BEGINNING OF THE WHERE-TO-GO TABLE        * 03300010
*                                                                     * 03400010
*    7 - THE ADDRESS OF THE COPY OF THE CURRENT DCB              Y02027 03500010
*                                                                     * 03600010
*    8 - THE ADDRESS OF THE CURRENT ENTRY IN THE WHERE-TO-GO          * 03700010
*        TABLE                                                        * 03800010
*                                                                     * 03900010
*OUTPUT - THE OUTPUT DEPENDS UPON WHAT RETURN CODE IS SUPPLIED        * 04100010
*   BY THE USER                                                       * 04200010
*                                                                     * 04300010
*    1)  A RETURN CODE OF 2 OR GREATER                                * 04400010
*                                                                     * 04500010
*   REGISTERS 7 AND 8 WILL BE DESTROYED BY THE ABEND SVC              * 04600010
*                                                                     * 04700010
*    2)  A RETURN CODE OF 1                                           * 04800010
*                                                                     * 04900010
*   REGISTERS 7 AND 8 WILL BE POSITIONED AT THE ENTRY IN THE          * 05000010
*   WHERE-TO-GO TABLE PREFIX AND THE WHERE-TO-GO TABLE           Y02027 05100010
*   FOR THE EXECUTOR THAT DETECTED THE ERROR.                    Y02027 05150010
*                                                                     * 05200010
*     3) A RETURN CODE OF 0                                           * 05300010
*                                                                     * 05400010
*   REGISTERS7 AND 8 WILL BE POSITIONED AT THE CURRENT ENTRIES        * 05500010
*   IN THE WHERE-TO-GO TABLE PREFIX AND THE WTG TABLE FOR THE    Y02027 05600010
*   NEXT EXECUTOR THAT IS TO BE GIVEN CONTROL                         * 05700010
*                                                                     * 05800010
*EXIT NORMAL =                                                 @G36XRNP 05850010
*   THE EXITS TAKEN DEPEND UPON THE SETTING OF REGISTERS 7 & 8        * 06200010
*   THIS ROUTINE EXITS VIA AN XCTL TO THE MODULE IDENTIFIED BY        * 06300010
*   THE NEXT NON-ZERO ENTRY IN THE WHERE-TO-GO TABLE OR IT MAY        * 06400010
*   XCTL TO THE EXECUTOR THAT FOUND THE ORIGINAL ERROR                * 06500010
*                                                              @G36XRNP 06530010
*EXIT ERROR = NONE                                             @G36XRNP 06560010
*                                                                     * 06600010
*EXTERNAL REFERENCES = SEE BELOW                               @G36XRNP 06607010
*                                                              @G36XRNP 06614010
*   ROUTINE = NONE                                             @G36XRNP 06621010
*                                                              @G36XRNP 06628010
*   DATA AREAS = OPEN/CLOSE DATA AREA                          @G36XRNP 06635010
*                                                              @G36XRNP 06642010
*   CONTROL BLOCKS = AVT                                       @G36XRNP 06649010
*                    CVT                                       @G36XRNP 06656010
*                    DCB                                       @G36XRNP 06663010
*                    TCB                                       @G36XRNP 06670010
*                    TIOT                                      @G36XRNP 06677010
*                                                              @G36XRNP 06684010
*   TABLES/WORKAREAS - THE WHERE-TO-GO TABLE CONTAINS THE ID AND      * 06700010
*   TTR OF THE OPEN EXECUTOR TO BE GIVEN CONTROL.  THE WHERE-    Y02027 06800010
*   TO-GO TABLE PREFIX CONTAINS THE ADDRESS OF A COPY OF EACH    Y02027 06900010
*   DCB SPECIFIED IN THE OPEN MACRO INSTRUCTION.    THE AVT           * 07000010
*   IS A RESIDENT VECTOR LIST USED TO LOCATE CERTAIN PARAMETERS       * 07100010
*   WHICH ARE NEEDED IN PASSING ERROR INDICATORS                      * 07200010
*                                                                     * 07300010
*   MACROS = ABEND                                             @G36XRNP 07310010
*            DEBCHK                                            @G36XRNP 07320010
*            FREEMAIN                                          @G36XRNP 07330010
*            GETMAIN                                           @G36XRNP 07340010
*            MODESET                                           @G36XRNP 07350010
*            SYNCH                                             @G36XRNP 07360010
*            WTO                                               @G36XRNP 07370010
*            XCTL                                              @G36XRNP 07380010
*                                                              @G36XRNP 07390010
*********************************************************************** 07550010
         EJECT                                                          07600010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *  Y02027 07610010
*                                                             *  Y02027 07620010
*                    REGISTER EQUATES                         *  Y02027 07630010
*                                                             *  Y02027 07640010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *  Y02027 07650010
RE       EQU   0                        WORK REGISTER                   07700010
RF       EQU   1                        WORK REGISTER                   07800010
RDCB     EQU   2                        ADDRESS OF THE CURRENT DCB      08000010
RTIOT    EQU   3                        TIOT ADDRESS             A44886 08100010
RCORE    EQU   4                        ADDRESS OF THE DCB OPEN         08200010
*                                         WORK AREA                     08300010
RPAR     EQU   5                        ADDRESS OF THE BEGINNING OF     08400010
*                                         THE DCB PARAMETER LIST        08500010
RWTG     EQU   6                        ADDRESS OF THE BEGINNING OF     08600010
*                                         THE WHERE-TO-GO TABLE         08700010
RPARC    EQU   7                        ADDRESS OF THE CURRENT ENTRY    08800010
*                                         IN THE DCB PARAMETER LIST     08900010
RWTGC    EQU   8                        ADDRESS OF THE CURRENT ENTRY    09000010
*                                         IN THE WHERE-TO-GO TABLE      09100010
RAVT     EQU   9                        ADDRESS OF THE AVT              09200010
RTCB     EQU   10                       CURRENT TCB ADDRESS      A44886 09300010
RDEB     EQU   11                       ADDRESS OF THE CURRENT DEB      09400010
RBASE    EQU   12                       BASE OF THIS ROUTINE            09500010
RC       EQU   13                       WORK REGISTER                   09600010
RD       EQU   14                       WORK REGISTER                   09700010
RJ       EQU   15                       WORK REGISTER                   09800010
*                                                                       09900010
         USING IHADCB,RDCB              DCB DSECT                       10000010
         USING FORCORE,RCORE            OPEN WORK AREA DSECT            10100010
         USING IEDQAVTD,RAVT            AVT DSECT                       10200010
*                                                                       10300010
         USING *,RJ                                              Y05330 10400010
         BAL   RBASE,RESTART            ESTABLISH ADDRESSABILITY Y05330 10430010
         DROP  RJ                                                Y05330 10460010
         USING *,RBASE                                                  10500010
         DC    C'IGG019'                MODULE NAME              Y05330 10600010
         EJECT                                                          10610010
AMIDCNST DC    C'33'                    ERRORID                  Y05330 10630010
         IEDHJN ,                                                Y05330 10660010
RESTART  EQU   *                                                 Y05330 10690010
         MODESET  EXTKEY=SUPR           GET INTO KEY 0           Y02027 10760010
         SPACE 2                                                 Y02027 10830010
         L     RCORE,FOUR(0,RWTGC)      OPEN WORKAREA ADDRESS           10900010
         L     RDCB,DXUDCBAD            GET THE CURRENT DCB ADDR Y02027 10905010
         L     RTCB,CVT                 CVT ADDRESS              A44886 10910010
         L     RTCB,0(RTCB)             ADDRESS OF CURRENT AND   A44886 10920010
*                                         NEXT TCBS              A44886 10930010
         L     RTCB,FOUR(RTCB)          ADDRESS OF CURRENT TCB   A44886 10940010
         L     RTIOT,TIOTPTR(RTCB)      ADDRESS OF TASK'S TIOT   A44886 10950010
         MVC   DXCCW9(3),ABEND          SET CODE WORKAREA       SA64380 10960010
         ICM   RF,ALL,DXCCW10           IS ENTRY FROM AN         Y05330 10980010
*                                         APPLICATION PROGRAM OPEN      11060010
*                                         EXECUTOR                      11140010
         BNZ   APPLPROG                 YES, BRANCH                     11220010
         MVC   DXCCW10+THREE(ONE),AVTOPERT SAVE ERROR CODE     @SA75443 11260010
         EJECT                                                          11300010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     11400010
*                                                                 *     11500010
*        THIS SECTION OF CODE WRITES THE ERROR MESSAGE FOR        *     11600010
*        ANY ERRORS DETECTED IN THE OPEN EXECUTORS                *     11700010
*                                                                 *     11800010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     11900010
WRITE    EQU   *                                                        12000010
         LR    RF,RTIOT                 COPY TIOT ADDRESS        A44886 12100010
         AH    RF,DCBTIOT               ADD THE DD OFFSET TO THE A44886 12200010
*                                         BEGINNING OF THE TABLE        12400010
         MVC   MESGERR3(EIGHT),FOUR(RF) MOVE THE DDNAME INTO     A44886 12500010
*                                         THE ERROR MESSAGE             12600010
         MVI   MESGERR0,LINEABND        MOVE LINE ABEND CODE     Y05330 12630010
*                                         INTO THE MESSAGE              12660010
         MVI   DXCCW9+ONE,LINEABCD      SET LINE ABEND CODE IN  SA64380 12760010
*                                         CASE OF ABEND          A44886 12860010
         TM    DCBDSORG+ONE,LINEDCB+RNDCB LINE GROUP OR 3705 DCB S22024 12960010
         BNZ   WRITE02                  YES, BRANCH              S22024 13160010
         MVI   MESGERR0,MSGABEND        MOVE MESSAGE QUEUES      Y05330 13400010
*                                         ABEND CODE INTO THE           13500010
*                                         ERROR MESSAGE                 13600010
         MVI   DXCCW9+ONE,MSGQABCD      SET MESSAGE CODE        SA64380 13630010
*                                         CODE IN CASE OF ABEND  A44886 13660010
WRITE02  EQU   *                                                        13700010
         SR    RF,RF                    CLEAR AN INDEX REGISTER         13800010
         IC    RF,DXCCW10+THREE         PICK UP THE ERROR CODE @SA75443 13900010
         LA    RJ,ERORCHAR-1(RF)        LOAD THE ADDRESS OF THE         14000010
*                                         ERROR CHARACTERS              14100010
         MVC   MESGERR1(ONE),0(RJ)      MOVE THE ERROR CHARACTERS       14200010
*                                         INTO THE MESSAGE              14300010
         SLL   RF,THREE                 MULTIPLY THE ERROR INDICATOR    14400010
*                                         BY EIGHT                      14500010
         LA    RD,ERORWORD-EIGHT(RF)    LOAD THE ADDRESS OF THE  A44886 14600010
*                                         ERROR WORD TABLE              14700010
         MVC   MESGERR2(SEVEN),0(RD)    MOVE THE IDENTIFYING WORDA44886 14760010
         MVI   MESGERR2+SEVEN,BLANK     ADD TRAILING BLANK       A44886 14820010
*                                         INTO THE ERROR MESSAGE        14900010
         LA    RF,MESSAGE               PRIME REG 1 WITH THE     Y02027 15000010
*                                         ADDR OF THE MESSAGE    Y02027 15070010
         SPACE 2                                                        15150010
PREERR   EQU   *                                                        15200010
         SVC   WTO                      ISSUE THE WTO SVC               15300010
*                                                                       15310010
         EJECT                                                          15400010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     15500010
*                                                                 *     15600010
*        THIS SECTION OF CODE VERIFIES THE VALIDITY OF AN         *     15700010
*        ERROR EXIT, GIVES CONTROL TO THE USING PROGRAM           *     15800010
*        AND INTERROGATES A USER SUPPLIED RETURN CODE             *     15900010
*        TO DETERMINE WHAT IS TO BE DONE REGARDING THE            *     16000010
*        ERROR THAT HAS JUST BEEN ENCOUNTERED.                    *     16100010
*                                                                 *     16200010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     16300010
         L     RF,DCBEXLST              LOAD THE ADDRESS OF THE         16500010
*                                         EXIT LIST ADDRESSES           16600010
         LA    RF,0(RF)                 CLEAR THE HIGH ORDER BYTE       16700010
         LA    RJ,ONE                   GET COMPARISON VALUE     A44886 16900010
         CR    RF,RJ                    VALID EXIT LIST ADDRESS  A44886 17100010
         BNH   SETSTEP                  NO, BRANCH               A44886 17300010
TESTCAM  EQU   *                                                        17600010
         CLI   0(RF),LTCAMEXT           TCAM EXIT LIST ADDRESS   A44886 17620010
         BE    SETLOCK                  YES, BRANCH              A44886 17640010
         CLI   0(RF),TCAMEXIT           IS THIS THE TCAM EXIT LIST      17660010
*                                         ADDRESS                       17670010
         BE    SETLOCK                  YES, BRANCH                     17680010
         TM    0(RF),LASTENT            IS THIS THE LAST ENTRY IN       18000010
*                                         THE EXIT LIST ADDRESSES       18100010
         BO    SETSTEP                  YES, BRANCH              A44886 18200010
         LA    RF,FOUR(RF)              INCREMENT THE EXIT LIST         18300010
*                                         POINTER                       18400010
         B     TESTCAM                  TEST THE NEXT ADDRESS           18500010
         EJECT                                                          18600010
SETLOCK  EQU   *                                                        18700010
         L     RJ,0(RF)                 LOAD THE EXIT LIST ADDRESS      18800010
         NI    DCBOFLGS,LOCKON          TURN ON THE DCBLOCK BIT TO      18900010
*                                         INHIBIT ANY I/O SUPPORT       19000010
*                                         FUNCTIONS FROM PROCESSING     19100010
*                                         THIS PARTICULAR DCB           19200010
         L     RF,0(RTCB)               LOAD THE ADDRESS OF THE  A44886 19400010
*                                         SUPERVISOR REQUEST BLOCK      19600010
*                                         FROM THE TCB                  19700010
         STM   RDCB,RC,XTNDSAV(RF)      SAVE IGG01933'S REGISTERSA44886 19800010
*                                         IN THE EXTENDED SAVE AREA     19900010
*                                         OF THE SVRB                   20000010
         SR    RF,RF                    CLEAR A REGISTER TO HOLD        20100010
*                                         THE ERROR TYPE                20200010
         IC    RF,SEVEN(RD)             PICK UP OPTION BYTE      A44886 20600010
         SR    RE,RE                    CLEAR A REGISTER FOR THE        21000010
*                                         ERROR CODE                    21100010
         IC    RE,DXCCW10+THREE         PUT THE ERROR CODE INTO@SA75443 21200010
*                                         REGISTER 0                    21300010
         L     RD,0(RTCB)               PICK UP SVRB ADDRESS     A44886 21330010
*                                         FROM THE TCB           A44886 21360010
         LM    RDCB,RD,GENSAV(RD)       LOAD THE USER'S REGISTERS       21400010
*                                         FROM THE GENERAL SAVE         21500010
*                                         AREA OF THE SVRB              21600010
         MODESET EXTKEY=TCAM            TAKE ABEND EXIT IN KEY 6 Y02027 21700010
         SPACE 2                                                        21720010
         BALR  RD,RJ                    TAKE ABEND EXIT          Y02027 21740010
         SPACE 2                                                        21760010
         MODESET EXTKEY=SUPR            RETURN TO KEY 0          Y02027 21780010
         EJECT                                                          21800010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     21900010
*                                                                 *     22000010
*        THIS SECTION OF CODE INTERROGATES THE USER SUPPLIED      *     22100010
*        RETURN CODE TO DETERMINE WHAT ACTION IS TO BE            *     22200010
*        TAKEN REGARDING THE ERROR WE HAVE JUST ENCOUNTERED       *     22300010
*                                                                 *     22400010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     22500010
         L     RF,CVT                   LOAD THE ADDRESS OF THE CVT     22600010
         L     RF,0(RF)                 LOAD THE ADDRESS OF THE         22700010
*                                         TCB POINTER                   22800010
         L     RF,4(RF)                 LOAD THE ADDRESS OF THE         22900010
*                                         CURRENT TCB                   23000010
         L     RF,0(RF)                 LOAD THE ADDRESS OF THE         23100010
*                                         SVRB                          23200010
         LM    RDCB,RC,XTNDSAV(RF)      RESTORE  1933'S REGISTERS       23300010
*                                         REGISTERS FROM THE SVRB       23400010
         OI    DCBOFLGS,LOCKOFF         RESTORE THE FORMER VALUE OF     23600010
*                                         THE LOCK BIT                  23700010
         CLI   DXCCW10+THREE,ONE        DEB FAILURE FOR LINE   @SA75443 23707010
         BE    NODEBCHK                 YES, SKIP DEBCHK         Y01004 23714010
         CLI   DXCCW10+THREE,FOURTEN    DEB FAILURE FOR DISK   @SA75443 23721010
         BE    NODEBCHK                 YES, SKIP DEBCHK         Y01004 23728010
         LR    RCORE,RJ                 SAVE USER'S RETURN CODE  Y01004 23735010
         SPACE 2                                                        23742010
         DEBCHK (RDCB),TYPE=VERIFY,AM=TCAM VALIDATE DEB          Y01004 23749010
         SPACE 2                                                        23756010
         LR    RJ,RCORE                 RESTORE RETURN CODE      Y01004 23763010
         L     RCORE,FOUR(RWTGC)        ADDR OF OPEN WORK AREA   Y01004 23770010
NODEBCHK EQU   *                                                 Y01004 23784010
         LA    RF,TWO                   LOAD A COMPARISON VALUE         23800010
         CR    RJ,RF                    IS THE RETURN CODE A VALUE      23900010
*                                         GREATER THAN 2                24000010
         BH    USRABEND                 YES, THEN IT IS THE USER'S      24100010
*                                         ABEND CODE                    24200010
         SLL   RJ,TWO                   MULTIPLY THE RETURN CODE BY     24300010
*                                         FOUR                          24400010
         B     DECTABLE(RJ)             BRANCH TO THE ERROR TABLE       24500010
*                                         AS INDEXED BY THE             24600010
*                                         RETURN CODE                   24700010
         EJECT                                                          24800010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     24900010
*                                                                 *     25000010
*                  XCTL TO THE NEXT OPEN EXECUTOR                 *     25100010
*                                                                 *     25200010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     25300010
ENDLOAD  EQU   *                                                        25400010
         L     RCORE,FOUR(RWTGC)        LOAD THE ADDRESS OF THE         25500010
*                                         OPEN WORK AREA                25600010
RELOOP   EQU   *                                                        25700010
         LA    RWTGC,EIGHT(RWTGC)       INCREMENT THE POINTER TO        25800010
*                                         THE NEXT ENTRY IN THE         25900010
*                                         WHERE-TO-GO TABLE             26000010
         LA    RPARC,FOUR(RPARC)        INCREMENT THE POINTER TO        26100010
*                                         THE NEXT ENTRY IN THE DCB     26200010
*                                         PARAMETER LIST                26300010
         CLC   ZERO(TWO,RWTGC),OPIDCNST HAVE WE REACHED THE END  Y02027 26800010
*                                       OF THE WTG TABLE         Y02027 26900010
         BNE   RELOOP                   NO, BRANCH               Y02027 27000010
*                                                                       27100010
         LR    RPARC,RPAR               RESET THE POINTER TO THE        27200010
*                                         FIRST ENTRY IN THE DCB        27300010
*                                         PARAMETER LIST                27400010
         LA    RWTGC,WTGFIRST(RWTG)     RESET THE POINTER TO THE        27500010
*                                         FIRST ENTRY IN THE WHERE-     27600010
*                                         TO-GO TABLE                   27700010
ZCHECK   EQU   *                                                        27800010
         CLI   0(RWTGC),END             HAVE ALL THE EXECUTORS          27900010
*                                         PROCESSED THIS DCB            28000010
         BNE   CHKSYS                   NO, BRANCH               Y02027 28100010
         LA    RWTGC,EIGHT(RWTGC)       GET THE ADDRESS OF THE          28200010
*                                         NEXT ENTRY IN THE             28300010
*                                         WHERE-TO-GO TABLE             28400010
         LA    RPARC,FOUR(RPARC)        GET THE ADDRESS OF THE          28500010
*                                         NEXT ENTRY IN THE DCB         28600010
*                                         PARAMETER LIST                28700010
         B     ZCHECK                   BRANCH                          28800010
         EJECT                                                   Y02027 28810010
CHKSYS   EQU   *                                                 Y02027 28815010
         CLC   ZERO(TWO,RWTGC),OPIDCNST HAVE ALL DCB'S BEEN      Y02027 28820010
*                                       PROCESSED                Y02027 28830010
         BNE   XCTLRTNE                 NO, BRANCH               Y02027 28840010
         SPACE 1                                                        28850010
*                                       RETURN TO KEY 5 BEFORE   Y02027 28860010
         MODESET EXTKEY=DATAMGT         RETURNING TO SYSTEM OPEN Y02027 28870010
         SPACE 1                                                        28880010
XCTLRTNE EQU   *                                                        28900010
         LA    RJ,DXCCW12               LOAD THE ADDRESS OF THE         29000010
*                                         LAST DOUBLE WORD IN THE       29100010
*                                         OPEN WORK AREA                29200010
         MVC   SIX(TWO,RWTG),0(RWTGC)   MOVE THE ID OF THE NEXT         29300010
*                                         EXECUTOR INTO THE WHERE-      29400010
*                                         TO-GO PARAMETER LIST          29500010
         MVC   FOURTEN(THREE,RWTG),TWO(RWTGC)  MOVE THE TTR AND         29600010
*                                         LENGTH OF THE EXECUTOR        29700010
*                                         INTO THE PARAMETER LIST       29800010
         XCTL  DE=(RWTG),SF=(E,(15))    TRANSFER CONTROL                29900010
         EJECT                                                          30000010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     30100010
*                                                                 *     30200010
*        THIS SECTION OF CODE WILL BRANCH TO THE ERROR            *     30300010
*        RECOVERY ROUTINE INDICATED BY THE USER'S RETURN CODE     *     30400010
*                                                                 *     30500010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     30600010
DECTABLE EQU   *                                                        30700010
         B     RETURN0                  IGNORE THIS DATA SET            30800010
         B     RETURN1                  CONTINUE PROCESSING THIS        30900010
*                                         DCB, BUT UNDERSTAND THAT      31000010
*                                         IT HAS A LIMITED CAPABILITY   31100010
SETSTEP  EQU   *                                                 Y05330 31103010
         ICM   RJ,AD,DXCCW9             GET ABEND CODE          SA64380 31503010
         L     RCORE,FOUR(ZERO,RWTGC)   OPEN WORK AREA ADDR      Y02027 31533010
         ICM   RE,ALL,DXCCW10           APPL PGM ABENDING        Y02027 31563010
         BNZ   APPL                     YES, BRANCH              Y02027 31593010
         SR    RE,RE                    CLEAR FOR INSERT         Y02027 31623010
O        IC    RE,DXCCW10+THREE         GET ERROR CODE FOR 040 @SA75443 31653010
*                                       AND 041 ABENDS           Y02027 31683010
         B     USRABEND                 ISSUE ABEND              Y02027 31713010
APPL     EQU   *                                                 Y02027 31743010
         SLL   RE,MOVE24                SHIFT ERROR BYTE TO    @YA04911 31773010
*                                        CLEAR REGISTER AND    @YA04911 31803010
         SRL   RE,MOVE24+TWO            SHIFT BACK, DIVIDING   @YA04911 31833010
*                                        BY 4.                 @YA04911 31863010
USRABEND EQU   *                                                 Y05330 31903010
         SPACE 1                                                        31983010
         MODESET EXTKEY=DATAMGT         ABEND IN KEY OF          Y02027 32063010
*                                       COMMON OPEN              Y02027 32143010
         SPACE 1                                                        32223010
         LR    RF,RJ                    MOVE CODE TO REG ONE     Y05330 32303010
         ICM   RF,HI,STEPCODE           GET THE DUMP/STEP CODE   Y05330 32703010
         ABEND (1)                      ISSUE ABEND              Y02027 34100010
         EJECT                                                          34200010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     34300010
*                                                                 *     34400010
*        THE USER HAS INDICATED THAT HE IS ABLE TO OPERATE        *     34500010
*        WITHOUT THIS DATA SET, SO THE DCB WILL BE FLAGGED        *     34600010
*        TO PREVENT ANY FURTHER PROCESSING BY ANY OPEN EXECUTORS  *     34700010
*                                                                 *     34800010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     34900010
RETURN0  EQU   *                                                        35000010
         MVI   0(RWTGC),END             ZERO THE MODULE ID FOR THIS     35100010
*                                         DCB TO INDICATE THAT NO       35200010
*                                         FURTHER PRCOESSING IS TO      35300010
*                                         BE DONE                       35400010
         NI    DCBOFLGS,NOTOPEN         TURN OFF THE BIT WHICH          35500010
*                                         INDICATES THAT THIS DCB       35600010
*                                         WAS SUCCESSFULLY OPENED       35700010
*                                         AND TURN OFF THE BUSY BIT     35800010
*                                         TO PREVENT PROCESSING BY      35900010
*                                         ANY I/O SUPPORT FUNCTIONS     36000010
         B     ENDLOAD                  GO TO ROUTINE END               36100010
         EJECT                                                          36200010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     36300010
*                                                                 *     36400010
*        THIS SECTION OF CODE USES THE MODULE IDENTIFIER          *     36500010
*        TO GENERATE AN INDEX INTO THE BRANCH TABLE WHICH         *     36600010
*        BRANCHES TO THE ERROR ROUTINES FOR EACH MODULE           *     36700010
*                                                                 *     36800010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     36900010
RETURN1  EQU   *                                                        37000010
         CLI   DXCCW10+THREE,EXERR02    IS THIS A MIXED DEVICES@SA75443 37008010
*                                         ERROR                         37016010
         BE    SETTR01                  YES, BRANCH                     37024010
         CLI   DXCCW10+THREE,EXERR19    IS THIS UNOPENED DATA  @SA75443 37032010
*                                         SET ERROR                     37040010
         BNE   WRITE                    NO, BRANCH                      37048010
         MVC   0(FIVE,RWTGC),LINE2      SET THE ID AND TTR FOR THE      37056010
*                                         NEXT MODULE TO RECEIVE        37064010
*                                         CONTROL FOR THIS DCB          37072010
         LA    RE,TWOK                  LENGTH OF IGG01936       X01004 37074010
         STCM  RE,THREE,XCLENGTH(RWTG)  SET LENGTH IN WTG TABLE  X01004 37076010
         NI    RLDSET(RWTG),RLD         MORE THAN ONE TEXT RECORDX01004 37078010
         B     LOADWORK                 SET THE WORK AREA ADDRESS       37080010
SETTR01  EQU   *                                                        37088010
         MVC   0(FIVE,RWTGC),LINE1      SET THE ID AND TTR FOR THE      37700010
*                                         NEXT MODULE TO RECEIVE        37800010
*                                         CONTROL FOR THIS DCB          37900010
LOADWORK EQU   *                                                        37950010
         L     RCORE,FOUR(RWTGC)        LOAD THE ADDRESS OF THE         38000010
*                                         OPEN WORK AREA                38100010
         MVC   0(TWO,RCORE),AMIDCNST    SET THE ERROR IDENTIFIER IN     38200010
*                                         THE OPEN WORK AREA            38300010
         B     XCTLRTNE                 GO TO THE XCTL ROUTINE          38400010
         EJECT                                                          38500010
APPLPROG EQU   *                                                        38600010
         MVC   APERR3(EIGHT),0(RTIOT)   MOVE JOBNAME TO WORKAREA        39100010
         LR    RD,RTIOT                 COPY THE TIOT ADDRESS    A44886 39160010
         AH    RD,DCBTIOT               ADD THE DD OFFSET TO THE A44886 39220010
*                                       BEGINNING OF THE TABLE          39300010
         MVC   APERR2(EIGHT),FOUR(RD)   MOVE THE DDNAME INTO     A44886 39400010
*                                       ERROR MESSAGE WORKAREA          39500010
         SRL   RF,TWO                   DIVIDE ERROR CODE BY FOURA44886 39900010
         STC   RF,APERR1                SAVE THE ERROR VALUE     A44886 40200010
         OI    APERR1,ZONE              CONVERT TO EBCDIC        A44886 40500010
         MVI   DXCCW9+ONE,APLABEND      SET A.P. ABEND          SA64380 40800010
*                                         CODE IN CASE OF ABEND  A44886 41100010
         LA    RF,APERR                 PRIME REG 1 WITH THE     Y02027 41400010
*                                         ADDR OF THE MESSAGE    Y02027 41600010
         B     PREERR                   GO PERFORM WTO SVC              41800010
         EJECT                                                          41900010
ERORCHAR EQU   *                        TABLE OF ERROR CHARACTERSY01948 42000010
         DC    C'1'                     TCAM ERROR NUMBER 01     S21903 42100010
         DC    C'2'                     TCAM ERROR NUMBER 02     S21903 42190010
         DC    C'3'                     TCAM ERROR NUMBER 03     S21903 42280010
         DC    C'4'                     TCAM ERROR NUMBER 04     S21903 42370010
         DC    C'5'                     TCAM ERROR NUMBER 05     S21903 42460010
         DC    C'6'                     TCAM ERROR NUMBER 06     S21903 42550010
         DC    C'7'                     TCAM ERROR NUMBER 07     S21903 42640010
         DC    C'8'                     TCAM ERROR NUMBER 08     S21903 42730010
         DC    C'9'                     TCAM ERROR NUMBER 09     S21903 42820010
         DC    C'1'                     TCAM ERROR NUMBER 10     S21903 42910010
         DC    C'2'                     TCAM ERROR NUMBER 11     S21903 43000010
         DC    C'3'                     TCAM ERROR NUMBER 12     S21903 43090010
         DC    C'4'                     TCAM ERROR NUMBER 13     S21903 43180010
         DC    C'5'                     TCAM ERROR NUMBER 14     S21903 43270010
         DC    C'6'                     TCAM ERROR NUMBER 15     S21903 43360010
         DC    C'7'                     TCAM ERROR NUMBER 16     S21903 43450010
         DC    C'A'                     TCAM ERROR NUMBER 17     S21903 43540010
         DC    C'B'                     TCAM ERROR NUMBER 18     S21903 43630010
         DC    C'C'                     TCAM ERROR NUMBER 19            43820010
         DC    C'D'                     TCAM ERROR NUMBER 20            43840010
         DC    C'E'                     TCAM ERROR NUMBER 21            43860010
         DC    C'F'                     TCAM ERROR NUMBER 22            43880010
         DC    C'G'                     TCAM ERROR NUMBER 23            43890010
         DC    C'H'                     TCAM ERROR NUMBER 24     A44886 43895010
         DC    C'J'                     TCAM ERROR NUMBER 25     S22024 43895710
         DC    C'K'                     TCAM ERROR NUMBER 26     S22024 43896410
         DC    C'L'                     TCAM ERROR NUMBER 27     S22024 43897110
         DC    C'M'                     TCAM ERROR NUMBER 28     S22024 43897810
         DC    C'N'                     TCAM ERROR NUMBER 29     S22024 43898510
         DC    C'O'                     TCAM ERROR NUMBER 30     S22024 43899210
         DC    C'I'                     OS ASSEMBLY NOT ALLOWED  X02004 43899610
         DC    C'P'                     INVOKER NOT IN KEY 6     Y02027 43900010
         DC    C'Q'                     NO CORE FOR IOSB       @G36XRNP 43920010
         EJECT                                                          43950010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     44000010
*                                                                 *     44100010
*        THIS IS THE FORMAT OF THE OPEN ERROR MESSAGE             *     44200010
*                                                                 *     44300010
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *     44400010
         CNOP  0,4                                                      44500010
MESSAGE  DC    AL2(MESGEND-*)           LENGTH OF MESSAGE        S21903 44600010
         DC    X'8000'                  MCSFLAGS FIELD          SA64378 44700010
         DC    C'IED008I TCAM OPEN ERROR '  MESSAGE TEXT         S21903 44800010
         DC    C'04'                    ABEND CODE               Y05330 44900010
MESGERR0 DC    C'0 - '                  ABEND CODE               Y05330 44950010
MESGERR1 DC    C'0'                     ERROR CHARACTER          S21903 45000010
         DC    C' '                     TRAILING BLANK           S21903 45100010
MESGERR2 DC    CL8' '                   ERROR WORD               S21903 45200010
         DC    C' IN DCB '              DCB                      S21903 45300010
MESGERR3 DC    CL8'0'                   DDNAME                   S21903 45400010
MESGEND  EQU   *                        END OF OPEN ERROR MSG.   Y01948 45500010
         DC    X'1000'                  DESCRIPTOR CODES                45600010
         DC    X'0020'                  ROUTING CODES                   45700010
         EJECT                                                          45800010
*********************************************************************** 45900010
*    THIS IS THE FORMAT OF THE APPL PROG OPEN ERROR MESSAGE           * 46000010
*********************************************************************** 46100010
         CNOP  0,4                                                      46200010
APERR    DC    AL2(APEND-*)             MESSAGE LENGTH           S21903 46300010
         DC    X'8000'                  MCSFLAGS FIELD          SA64378 46400010
         DC    C'IED015I TCAM AP OPEN ERROR'  TEXT               S21903 46500010
         DC    C' '                     TRAILING BLANK           S21903 46600010
APERR0   DC    C'043 - '                ABEND CODE                      46700010
APERR1   DC    C'0'                     REASON CODE                     46800010
         DC    C' '                     TRAILING BLANK           S21903 46900010
APERR2   DC    CL8' '                   DDNAME                          47000010
         DC    C' '                     TRAILING BLANK           S21903 47100010
APERR3   DC    CL8' '                   JOBNAME                         47200010
APEND    EQU   *                        END OF APPLICATION PGM.  Y01948 47300010
*                                       OPEN ERROR MESSAGE       Y01948 47350010
         DC    X'1000'                  DESCRIPTOR CODE                 47400010
         DC    X'4120'                  ROUTING CODE            SA64378 47500010
         EJECT                                                          50200010
ERORWORD EQU   *                        TABLE OF ERROR WORDS     Y01948 50300010
         DC    C'DEBCORE',X'03'         NO CORE FOR A DEB        A44886 50370010
         DC    C'DEVLINE',X'07'         NON-COMPATIBLE DEVICES   A44886 50440010
         DC    C'NOTPDEV',X'03'         UNDEFINED DEVICE CLASS   A44886 50510010
         DC    C'CTLUNIT',X'03'         UNSUPPORTED CONTROL UNIT A44886 50580010
         DC    C'BRIXUCB',X'03'         INVALID BRANCH INDEX     A44886 50650010
         DC    C'DEVCHAR',X'03'         DEVICE TYPE ERROR        A44886 50720010
         DC    C'LCBCORE',X'03'         NO CORE FOR LCBS         A44886 50790010
         DC    C'SCBCORE',X'03'         NO CORE FOR SCBS         A44886 50860010
         DC    C'BSCINER',X'03'         BISC INTERFACE ERROR     A44886 50930010
         DC    C'DISKAVT',X'03'         INCORRECT LENGTH AVT     A44886 51000010
         DC    C'KEYLNGR',X'03'         NO CPBS FOR DISK QUEUING A44886 51070010
         DC    C'DEVUCBS',X'03'         UNLIKE MSG QUEUE DEVICES A44886 51140010
         DC    C'QUEUING',X'03'         UNSUPPORTED QUEUING TYPE A44886 51210010
         DC    C'MDEBCOR',X'03'         NO MESSAGE QUEUE DEB     A44886 51280010
         DC    C'MIOBCOR',X'03'         NO MESSAGE QUEUE IOB     A44886 51350010
         DC    C'NOFORMT',X'03'         MSG QUEUE NOT FORMATTED  A44886 51420010
         DC    C'NVALUCB',X'03'         NO VALID UCB ADDRESS     A44886 51490010
         DC    C'HPSZLRG',X'03'         UNIT SIZE TOO SMALL      A44886 51560010
         DC    C'NODATST',X'07'         NO OPENED DATA SET       A44886 51630010
         DC    C'NOLINES',X'03'         NO OPENED LINES          A44886 51700010
         DC    C'RELINE0',X'03'         INVALID RELATIVE LINE NO A44886 51770010
         DC    C'CHARERR',X'03'         CONFLICTING CHAR'ISTICS  A44886 51840010
         DC    C'DSPAREA',X'03'         NO CORE FOR SQS LOADLIST A44886 51910010
         DC    C'INVLIST',X'03'         NO INVITATION LIST/LINE  A44886 51980010
         DC    C'NCPTERM',X'03'         NCP TRM NOT SPECIFIED  @G36XRNP 52010010
         DC    C'NVALRLN',X'03'         RLN OTHER THAN 1 FOR 3705S22024 52040010
         DC    C'NVALNCP',X'03'         NCP AND MCP CONFLICT     S22024 52070010
         DC    C'RSTCORE',X'03'         NO CORE FOR RSID TABLE   S22024 52100010
         DC    C'PLCBCOR',X'03'         NO CORE FOR PLCBS        S22024 52130010
         DC    C'RRTLMOD',X'03'         RSID TABLE NOT FOUND     S22024 52160010
         DC    C'OS MCP ',X'03'         OS MCP ERROR MESSAGE     X02004 52180010
         DC    C'NOTKEY6',X'03'         INVOKER NOT IN KEY 6     Y02027 52190010
         DC    C'IOSBCOR',X'03'         NO CORE FOR IOSB FOR   @G36XRNP 52193010
*                                       NCP I/O DRIVER         @G36XRNP 52196010
         EJECT                                                          52200010
OPIDCNST DC    C'0S'                    ID FOR COMMON OPEN       Y02027 52400010
STEPCODE DC    X'80'                    STEP CODE                Y05330 52500010
ABEND    DC    X'040000'                ABEND CODE               Y05330 52560010
MSGABEND EQU   C'1'                     MESSAGE ABEND CODE       Y05330 52620010
LINEABND EQU   C'0'                     LINE ABEND CODE          Y05330 52680010
LINEABCD EQU   X'00'                    LINE CODE                Y05330 52740010
MSGQABCD EQU   X'10'                    MESSAGE CODE             Y05330 52800010
APLABEND EQU   X'30'                    APL PROGRAM ABEND        Y05330 52860010
ALL      EQU   15                       ICM/STCM MASK            Y05330 52920010
AD       EQU   7                        ICM/STCM MASK            Y05330 52980010
HI       EQU   8                        ICM/STCM MASK            Y05330 53040010
END      EQU   X'00'                    END VALUE                S22024 53100010
MSGQABND EQU   X'01'                    MSG ABEND                S22024 53170010
EXERR02  EQU   X'02'                    ZERO TWO                 S22024 53240010
LOCKOFF  EQU   X'02'                    ZERO TWO                 S22024 53310010
TCAMEXIT EQU   X'0E'                    TCAMEXIT                 S22024 53380010
DCBERR   EQU   X'10'                    DCB ERROR                S22024 53450010
MODEBYTE EQU   X'20'                    MODEBYTE                 S22024 53520010
BLANK    EQU   X'40'                    BLANK                    S22024 53590010
LINEDCB  EQU   X'40'                    LINE DCB                 S22024 53660010
RNDCB    EQU   X'04'                    DSORG FOR 3705 DCB       S22024 53730010
LASTENT  EQU   X'80'                    LAST ENTRY               S22024 53800010
LTCAMEXT EQU   X'8E'                    VALUE                    S22024 53940010
NOTOPEN  EQU   X'EE'                    NOT OPEN                 S22024 54010010
ZONE     EQU   X'F0'                    ZONE                     S22024 54080010
LOCKON   EQU   X'FD'                    LOCK                     S22024 54150010
SUBPOOL  EQU   X'FE'                    SUBPOOL                  S22024 54220010
MOVE24   EQU   24                       SHIFT LENGTH             Y02027 54260010
ZERO     EQU   0                        NUMERIC CONSTANT         Y02027 54310010
ONE      EQU   1                        NUMERIC CONSTANT         S21903 54400010
TWO      EQU   2                        NUMERIC CONSTANT         S21903 54480010
THREE    EQU   3                        NUMERIC CONSTANT         S21903 54560010
FOUR     EQU   4                        NUMERIC CONSTANT         S21903 54640010
FIVE     EQU   5                        NUMERIC CONSTANT         S21903 54720010
SIX      EQU   6                        NUMERIC CONSTANT         S21903 54800010
SEVEN    EQU   7                        NUMERIC CONSTANT         S21903 54880010
EIGHT    EQU   8                        NUMERIC CONSTANT         S21903 54960010
TIOTPTR  EQU   12                       TIOT POINTER             S22024 55100010
FOURTEN  EQU   14                       NUMERIC CONSTANT         S22024 55200010
CVT      EQU   16                       NUMERIC CONSTANT         S22024 55300010
EXERR19  EQU   19                       NUMERIC CONSTANT         S22024 55400010
WTGFIRST EQU   32                       NUMERIC CONSTANT         S22024 55500010
WTO      EQU   35                       NUMERIC CONSTANT         S22024 55600010
GENSAV   EQU   40                       NUMERIC CONSTANT         S22024 55700010
TWOK     EQU   2048                     AOS/1 PAGE SIZE          X01004 55720010
XCLENGTH EQU   25                       MODULE LENGTH OFFSET     X01004 55740010
RLDSET   EQU   22                       RLD OFFSET               X01004 55760010
RLD      EQU   X'FE'                    RLD ON FLAG              X01004 55780010
BUFFERL  EQU   64                       NUMERIC CONSTANT         S22024 55800010
XTNDSAV  EQU   96                       NUMERIC CONSTANT         S22024 55900010
NENT     EQU   2                        NUMERIC CONSTANT         S22024 56000010
LENGTH   EQU   NENT*6+6                 LENGTH                   S22024 56100010
NODBWDS  EQU   (LENGTH+7)/8             LENGTH                   S22024 56200010
ORGIDTTR EQU   1024-NODBWDS*8           ADDRESS                  S22024 56300010
         ORG   IGG01933+ORGIDTTR        ORG TO START OF TTRTABLE S21903 56400010
LINE1    DC    C'35'                    IGG01935                 S21903 56470010
         DC    XL4'0'                   TTR AND LENGTH           S21903 56540010
LINE2    DC    C'36'                    IGG01936                        56630010
         DC    XL4'00'                    TTR AND LENGTH                56660010
IDEND    DC    XL2'0'                   END OF TTRTABLE          S21903 56700010
         CNOP  4,8                                               S21903 56800010
LOADID   DC    C'019'                   OPEN ID FOR TTRTABLE     S21903 56900010
         DC    YL1(X'80'-NODBWDS)       OFFSET TO TTRTABLE       S21903 57000010
         EJECT                                                          57100010
         TAVTD                                                          57200010
         EJECT                                                          57300010
FORCORE  DSECT                                                          57400010
         IECDSECT                                                       57500010
         EJECT                                                          57600010
         DCBD DSORG=TQ                                                  57700010
         END                                                            57800010
