 TITLE 'IGG0194N  BTAM LINE GROUP OPEN EXECUTOR - LOAD 2'               00200017
*********************************************************************** 00400002
*                                                                     * 00410002
* MODULE NAME: IGG0194N  (OS/VS)                                      * 00420002
*                                                                     * 00430002
* DESCRIPTIVE NAME: BTAM LINE GROUP OPEN EXECUTOR - LOAD 2            * 00440002
*                                                                     * 00442002
* COPYRIGHT: NONE                                                     * 00444002
*                                                                     * 00450002
* STATUS: RELEASE 2                                                   * 00700002
*                                                                     * 01000017
* FUNCTION/OPERATION: THIS LOAD ANALYZES DEVICE TYPE INFORMATION      * 01200002
*   PROVIDED IN THE UNIT CONTROL BLOCK TO DETERMINE WHAT TYPE OF      * 01400002
*   TERMINAL DEVICES ARE ATTACHED TO THE GROUP OF LINES THAT MAKE UP  * 01600002
*   THIS LINE GROUP AND ALSO BUILDS A BUFFER POOL IF SO INDICATED     * 01800002
*   BY THE DCB FIELDS.                                                * 01850002
*                                                                     * 02000017
* ENTRY POINT: ENTRY WILL BE TO THE FIRST BYTE OF THE MODULE BY AN    * 02200002
*  'XCTL' TO IGG0194N THE SECOND BTAM LOAD. CONTROL WILL BE TRANSFERED* 02400017
*   FROM LOAD 1. IT MAY ALSO BE RE-ENTERED FROM THE RELOOP PORTION OF * 02600017
*   THIS ROUTINE IF IT DETERMINES THAT THERE IS ANOTHER DATA CONTROL  * 02800017
*   BLOCK TO BE OPENED.                                               * 03000017
*                                                                     * 03200017
* INPUT:  THE REGISTERS 5, 6, 7, AND 8 ARE THE INPUT, AS FOLLOWS,     * 03400002
*   5- THE ADDRESS OF THE FIRST ENTRY IN THE COPIED DCB PARAMETER LIST* 03600002
*   6- THE ADDRESS OF THE BEGINNING OF THE WHERE-TO-GO TABLE,         * 03800002
*   7- THE ADDRESS OF THE CURRENT ENTRY IN THE COPIED DCB PARAMETER   * 04000002
*      LIST.                                                          * 04050002
*   8- THE ADDRESS OF THE CURRENT EXECUTOR'S ENTRY IN THE WHERE-TO-GO * 04200017
*      TABLE.                                                         * 04400017
*                                                                     * 04450002
* OUTPUT:  THE REGISTERS 7 AND 8 WILL BE POSITIONED AT THE NEXT       * 04600002
*   ENTRIES IN THE COPIED DCB PARAMETER LIST AND THE WHERE-TO TABLE.  * 04800002
*   IF NECESSARY, A BUFFER POOL WILL HAVE BEEN CONSTRUCTED IN THE     * 04850002
*   USER KEY IN SUBPOOL 250.                                          * 04900002
*   SOME OF THE DCB FIELDS WILL HAVE BEEN INITIALIZED.                * 05000002
*   THIS EXECUTOR'S ENTRY (OR ENTRIES) IN THE WHERE - TO -            * 05200002
*   GO TABLE WILL HAVE BEEN UPDATED TO IDENTIFY LOAD 3 (IGG0193Q).    * 05400002
*                                                                     * 05450002
* EXTERNAL ROUTINES:  NONE                                            * 05600002
*                                                                     * 05800017
* EXITS-NORMAL:  THIS ROUTINE EXITS VIA AN XCTL TO THE MODULE         * 06000002
*   IDENTIFIED BY THE NEXT NON-ZERO ENTRY IN THE WHERE-TO-GO TABLE,   * 06200017
*   NAMELY IGG0193Q (BTAM OPEN EXECUTOR - LOAD 3).                    * 06400017
*                                                                     * 06600017
*     -ERRORS-  THIS ROUTINE EXITS VIA ABEND FOR THE FOLLOWING        * 06800017
*   ERROR CONDITIONS-                                                 * 07000017
*   ABEND CODE ERROR CONDITION                                        * 07050002
*   00096000    THERE WAS NO BUFFER POOL OR NO BUFFERING              * 07100002
*               TECHNIQUE DEFINED FOR THIS LINE GROUP.                * 07150002
*   00099000    DYNAMIC BUFFERING SPECIFIED FOR A V=V APPLICATION     * 07160002
*                                                                     * 07200017
* TABLES/WORK AREAS: THE WHERE-TO-GO TABLE CONTAINS THE ID AND TTR    * 07400002
*       OF THE OPEN EXECUTOR LOAD 3. THE DCB PARAMETER LIST CONTAINS  * 07600002
*       THE ADDRESS OF EACH DCB SPECIFIED IN THE OPEN MACRO. THE      * 07800002
*       COMMUNICATION VECTOR TABLE IS A RESIDENT VECTOR LIST USED     * 08000017
*       TO LOCATE THE TIOT,WHICH IS NEEDED IN DEB CONSTRUCTION.       * 08200017
*                                                                     * 08400017
*                                                                     * 08450002
* ATTRIBUTES: THIS ROUTINE IS EXECUTED IN THE DATA MANAGEMENT KEY OF  * 08600002
*       5 AS ENABLED, PRIVILEGED, AND REENTRANT.                      * 08850002
*                                                                     * 09000017
* NOTES: FOR SECURITY AND INTEGRITY PURPOSES, OPEN PROCESSING WILL    * 09200002
*  BE ONLY ON THE COPIED DCB AND COPIED DCB PARAMETER LIST. BTAM      * 09210002
*  OPEN LOADS MUST KEEP THE USER DCB AND COPIED DCB SYNCHRONIZED.     * 09220002
*  THIS MODULE (IF NEED BE) WILL CONSTRUCT A BUFFER POOL IN THE       * 09230002
*  KEY OF THE USER IN SUBPOOL 250. THE ID OF THE NECESSARY I/O        * 09240002
*  MODULE WILL BE STORED IN THE WORKAREA FOR LOAD 4 OF OPEN. UPON     * 09242002
*  COMPLETION OF THIS MODULE, CONTROL IS PASSED TO THE THIRD          * 09244002
*  OPEN MODULE THROUGH THE WHERE-TO-GO TABLE ENTRY.                   * 09246002
*                                                                     * 10200017
* CHANGE ACTIVITY AS FOLLOWS:                                         * 10250002
*            APARS                           PTMS                     * 10300002
*       YA03255  (2/1/74)                YM4085  (10/29/73)           * 10350000
*       ZA03550  (03/18/75)              YM5663  (12/11/73) PROLOG    * 10352000
*       AZ10016  (03/30/76)                                           * 10354000
*       AZ26035  (09/16/77)                                           * 10360000
*********************************************************************** 10400002
         EJECT                                                          10600017
IGG0194N CSECT                                                          10650002
         SPACE 5                                                        10700002
RE       EQU   0                       WORK/PARAMREG                    10800017
RF       EQU   1                       WORK/PARAMREG                    11000017
RW1      EQU   2                        WORK REGISTER 1                 11200017
RW2      EQU   3                        WORK REGISTER 2                 11400017
WAREG    EQU   RW2                      ADDR OF OPEN WORK AREA   Y02947 11450002
RB       EQU   4                        WORK REGISTER 3                 11600017
RPAR     EQU   5                        ADDRESS OF COPIED DCB    Y02947 11800002
*                                       PARAMETER LIST           Y02947 11850002
RWTG     EQU   6                        ADDRESS OF WTG TABLE            12000017
RPARC    EQU   7                       ADDRESS OF CURRENT COPIED Y02947 12200002
*                                       DCB ENTRY                Y02947 12210002
RWTGC    EQU   8                        ADDRESS OF CURRENT WTG ENTRY    12400017
RTIOT    EQU   9                        ADDRESS OF TASK I/O TABLE       12600017
RDCB     EQU   10                       ADDRESS OF COPIED DCB    Y02947 12800002
RDEB     EQU   11                       ADDRESS OF DEB                  13000017
RBASE    EQU   12                       BASE REGISTER                   13200017
RC       EQU   13                      WORK REG                         13400017
RUCB     EQU   14                       NO. OF UCB'S/ADDRESS OF UCB     13600017
RJ       EQU   15                      WORK/PARAMREG                    13800017
RW3      EQU   RB                                                       14000017
         BALR  RBASE,0                  SET UP BASE REGISTER            14200017
         USING *,RBASE                                                  14400017
         USING IHADCB,RDCB                                              14600017
         USING IECTDEB,RDEB                                             14800017
         SPACE 4                                                        15000017
         B     AROUND                   BRANCH AROUND ID         Y02947 15050002
         DC    C'IGG0194N'              OPEN ID                  Y02947 15100002
         DC    C'UZ14509'                                      @ZA14509 15110000
         DS    0F                                                Y02947 15120002
PATCH    DC    XL50'00'                 PATCH AREA               Y02947 15130002
         SPACE 4                                                 Y02947 15150002
AROUND   L     RDCB,0(RPARC)            LOAD COPY DCB ADDRESS    Y02947 15200002
         L     RDEB,DCBDEBAD            LOAD DEB ADDRESS           000D 15400017
         L     RDEB,28(RDEB)            LOAD DEB START FOR DSECT   000D 15600017
         L     RUCB,DEBUCBAD           GET UCB ADDRESS                  15800017
         L     WAREG,4(RWTGC)           ADDR OF OPEN WORK AREA   Y02947 15850002
         USING WORKAREA,WAREG                                    Y02947 15900002
*                                       GET DEVICE OFFSET               16700019
         SR    RW1,RW1                                                  17600019
         IC    RW1,DCBDEVTP                                             18500019
         IC    RW1,OFFSETAB(RW1)                                        19400019
         SPACE 4                                                        20600017
ENDLOD1  STC   RW1,DCBDEVTP            STORE DEVICE OFFSET              20800017
         SPACE 2                                                 YM4085 20810002
*        THE FOLLOWING DETERMINES IF ABEND 099 SHOULD BE ISSUED  YM4085 20820002
*        DUE TO DYNAMIC BUFFERING BEING SPECIFIED AND THE        YM4085 20830002
*        APPLICATION RUNNING V=V.                                YM4085 20840002
         TM    DCBBFTEK,DYNBUF         DYNAMIC BUFFERING?        YM4085 20842002
         BNO   CHKBUF                  NO, CHECK BUFFER POOL     YM4085 20844002
         L     RTIOT,DEBTCBAD-DISP1    LOAD TCB ADDRESS          YM4085 20846002
         USING TCB,RTIOT               TCB ADDRESSABILITY        YM4085 20848002
         TM    TCBFLGS6,TCBRV          V=R?                      YM4085 20848402
         BO    CHKBUF                  YES, CHECK BUFFER POOL    YM4085 20848802
         DROP  RTIOT                   DROP TCB ADDRESS          YM4085 20849202
         L     RF,ERR9                 DYNAMIC BUFFERING, BUT    YM4085 20849602
         ABEND (RF),DUMP               FOR A V=V APPLICATION     YM4085 20849702
         SPACE 2                                                 YM4085 20849802
CHKBUF   EQU   *                                                 YM4085 20849902
         SPACE 2                                                 Y02947 20850002
*    THE FOLLOWING SECTION OF CODE BUILDS A BUFFER POOL IF BUFNO AND    21000017
*    BUFL ARE SPECIFIED AND THE PROBLEM PROGRAM HAS NOT PROVIDED ITS    21200017
*    OWN BUFFER POOL.                                                   21400017
         SPACE 1                                                 Y02947 21600002
         CLI   DCBDEVTP,TYPE2F                                          21620019
         BE    NODYNBFF                                                 21640019
         CLI   DCBDEVTP,TYPE30                                          21660019
         BNE   BUFFTEST                                                 21680019
NODYNBFF NI    DCBBFTEK,ALLON-DYNBUF                             A26916 21700019
BUFFTEST EQU   *                                                        21720019
         L     RDCB,0(RPARC)            RE-INITIALIZE DCB REGISTER.     21800017
         CLI   DCBBUFCB+3,X'01'         TEST FOR THE ABSENCE OF A       22000017
         BE    TSTBUFNO     BUFFER POOL CONTROL BLOCK.  IF NOT  YA03255 22200000
*                           EQUAL, THE USER HAS PROVIDED A POOL YA03255 22400000
         L     RC,DCBBUFCB              GET DCB ADDRESS         YA03255 22450000
         MODESET KEYADDR=DXUKEY,WORKREG=15  ASSUME USER KEY L5 @ZA03550 22550000
         ICM   RJ,ONE,DISP5(RC)  GET NUMBER OF BUFFERS      L5 @ZA03550 22552000
         MODESET EXTKEY=DATAMGT        KEY OF 5             L5 @ZA03550 22554000
         STCM  RJ,ONE,DCBBUFCB  INTO BYTE 0 OF CNTRL BLK PTRS  @ZA03550 22556000
         B     ENDLOD2                                          YA03255 22560000
TSTBUFNO EQU   *                                                YA03255 22570000
         CLI   DCBBUFNO,X'00'           TEST FOR NUMBER OF BUFFERS.     22600017
         BE    TESTDYNB            IF NO BUFFERS REQUESTED, BRANCH.     22800017
         CLC   DCBBUFL(2),IOBPOOL+2     IS BUFFER LNGTH EQUAL TO   000E 23000017
         BNE   GETPOOL             ZERO.  IF NOT EQUAL, BRANCH.         23200017
TESTDYNB TM    DCBBFTEK,DYNBUF          TEST FOR DYNAMIC BUFFERING.  IF 23400017
         BZ    ENDLOD2             NOT SPECIFIED, BRANCH.  IF DYNAMIC   23600017
         SPACE 1                                                Y02947  23650002
*    BUFFERING IS SPECIFIED, TERMINATE VIA ABEND.                       23800017
         L     1,ERR6                   DYNAMIC BUFFERING IS SPECIFIED, 24000017
         ABEND (1),DUMP            BUT NO BUFFER POOL HAS BEEN PROVIDED 24200017
*                                  OR REQUESTED.                        24400017
GETPOOL  SR    RB,RB                                                    24600017
         IC    RB,DCBBUFNO              GET NUMBER OF BUFFERS.          24800017
         LH    RC,DCBBUFL               GET BUFFER LENGTH.              25000017
         LA    RC,3(RC)                 ROUND TO                        25200017
         SRL   RC,2                     NEXT HIGHEST                    25400017
         SLL   RC,2                               FULL WORD.            25600017
         STH   RC,DCBBUFL               STORE ROUNDED BUFFER LENGTH IN  25800017
*                                  DCB.                                 26000017
         LR    RE,RB                    SAVE NUMBER OF BUFFERS.         26200017
         LR    RF,RC                    SAVE BUFFER LENGTH.             26400017
         MR    RE,RE                    COMPUTE SIZE OF BUFFER AREA.    26600017
         LA    RE,8(RF)                 ADD 8 FOR BUFFER CONTROL BLOCK. 26800017
         O     RE,IOBPOOL               PLACE SUBPOOL NMBR IN HIGH 000E 27000017
*                                  ORDER BYTE OF PARAMETER REGISTER.    27200017
         SPACE 2                                                 Y02947 27210002
         MODESET KEYADDR=DXUKEY,WORKREG=15    ASSUME USER KEY    Y02947 27250002
         EJECT                                                   Y02947 27300002
*    GET CORE FOR BUFFER POOL FROM SUBPOOL 250                   Y02947 27350002
         GETMAIN R,LV=(0)                                               27400017
         SPACE 2                                                 Y02947 27450002
*                                                                       27600017
         LR    RE,RF               SAVE ADDRESS OF BUFFCB        Y02947 27800002
         STH   RB,4(RF)                 STORE NUMBER OF BUFFERS IN      28400017
*                                  BUFFER CONTROL BLOCK.                28600017
         STH   RC,6(RF)                 STORE BUFFER LENGTH IN BUFFER   28800017
*                                  CONTROL BLOCK.                       29000017
         LR    RUCB,RF                  GET START ADDRESS IN WORK REG.  29200017
*                                                                       29400017
*    THE NEXT SEQUENCE OF INSTRUCTIONS FORMS THE BUFFER CHAIN.          29600017
*                                                                       29800017
         LA    RUCB,8(RUCB)             POINT TO FIRST BUFFER.          30000017
         ST    RUCB,0(RF)               STORE ADDRESS OF FIRST BUFFER   30200017
*                                  IN BUFFER CONTROL BLOCK.             30400017
         LR    RF,RUCB                  SAVE ADDRESS OF FIRST BUFFER.   30600017
TESTBUFC BCT   RB,NEXTBUF               IF THERE ARE MORE BUFFERS,      30800017
*                                  BRANCH.                              31000017
         ST    RB,0(RF)                 ZERO LAST LINK FIELD.           31200017
         SPACE 2                                                 Y02947 31210002
         MODESET EXTKEY=DATAMGT    DATAMGT KEY OF 5              Y02947 31250002
         SPACE 2                                                 Y02947 31260002
         STCM RE,SEVEN,DCBBUFCB+DISP1   PLACE BUFFER CONTROL     Y02947 31300002
*                                       BLOCK ADDR IN DCB        Y02947 31350002
         OI    DCBMACRF,X'04'           INDICATE TO CLOSE THAT THE      31400017
*                                  BUFFER POOL SHOULD BE FREED.         31600017
         B     ENDLOD2                                                  31800017
NEXTBUF  ALR   RUCB,RC                  CALCULATE ADDRESS OF NEXT       32000017
*                                  BUFFER.                              32200017
         ST    RUCB,0(RF)               STORE NEXT BUFFER ADDRESS IN    32400017
*                                  LINK FIELD OF CURRENT BUFFER.        32600017
         ALR   RF,RC                    CALCULATE ADDRESS OF NEXT LINK  32800017
*                                  FIELD.                               33000017
         B     TESTBUFC                                                 33200017
*    *    *    *    *    *    *    *    *    *    *    *    *    *    * 33400017
         SPACE 2                                                   000M 33500019
ENDLOD2  EQU   *                                                   000M 33600019
         SPACE 1                                                   000M 33700019
         SPACE 1                                                   000M 34000019
         SR    RTIOT,RTIOT              CLEAR REGERSTER            000M 34100019
         IC    RTIOT,DCBDEVTP           GET OFFSET                 000M 34200019
         IC    RTIOT,DEVTABLE(RTIOT)    GET MODULE NUMBER          000M 34300019
         STC   RTIOT,DISP0(WAREG)       STORE MODULE NUMBER ID   Y02947 34400002
         MH    RTIOT,SIX                6 BYTE IDTTRL FIELDS       000M 34500019
         LA    RB,CHNIDTBL                                         000M 34600019
         AR    RB,RTIOT                 POINT TO SELECTED MODULE ID000M 34700019
         MVC   WORKTTRL(6,WAREG),0(RB)  STORE ID                 Y02947 34800002
         SPACE 2                                                   000M 35000019
EXIT     MVC   0(5,RWTGC),BTAMLOD3      SET UP ID FOR LOAD 3 OF BTAM    36200017
*                                  EXECUTOR.                            36400017
         L     RJ,4(RWTGC)                                              36600017
RELOOP   LA    RWTGC,WGOFF(0,RWTGC)     INCREMENT CURRENT WTG REGISTER. 36800017
         LA    RPARC,PLOFF(0,RPARC)     INCREMENT CURRENT PARAMETER     37000017
*                                  LIST REGISTER TO NEXT ENTRY.         37200017
         CLC   0(2,RWTGC),AMIDCNST      IF THE NEXT WTG ENTRY CALLS FOR 37400017
         BCR   8,RBASE             THIS EXECUTOR, RETURN TO BEGINNING.  37600017
         CLC   0(2,RWTGC),OPIDCNST      IF NOT, TEST FOR END OF TABLE.  37800017
         BNE   RELOOP              NOT END OF TABLE, RETURN TO CHECK    38000017
*                                  NEXT ENTRY.                          38200017
         LR    RPARC,RPAR               REINITIALIZE CURRENT WTG REG    38400017
         LA    RWTGC,WAOFF(0,RWTG) AND CURRENT PARAMETER LIST REG.      38600017
ZCHECK   CLI   0(RWTGC),X'00'                                           38800017
         BNE   XCTLRTNE            IF NOT ZERO, GO TO TRANSFER CONTROL  39000017
         LA    RWTGC,WGOFF(0,RWTGC) IF ZERO, GET NEXT ENTRY AND RETURN  39200017
         LA    RPARC,PLOFF(0,RPARC) TO ZCHECK.                          39400017
         B     ZCHECK                                                   39600017
         SPACE 3                                                        39800017
XCTLRTNE EQU   *                                                        40000017
         LA    RJ,DXCCW12           POINT TO DOUBLE WORD LIST.   Y02947 40200002
         MVC   6(2,RWTG),0(RWTGC)       MOVE ID TO NAME FIELD.          40400017
         MVC   14(3,RWTG),2(RWTGC)      MOVE TTR TO WTG TABLE.          40600017
         L     RW1,SIXT                 CVT ADDRESS              Y02947 40650002
         USING CVT,RW1                  CVT ADDRESSABILITY       Y02947 40700002
         L     RW1,CVTSVDCB             SYS1.SVCLIB DCB          Y02947 40750002
         DROP  RW1                      DROP CVT ADDRESS         Y02947 40760002
         XCTL  DE=(RWTG),SF=(E,(15)),DCB=(RW1)                   Y02947 40800002
         EJECT                                                          40890019
OFFSETAB EQU   *              NOTE: THIS TABLE IS IN PARRALLEL WITH     40980019
*                                       TYPETAB AND SPFETAB             41070019
         DC    X'00'          1050                                      41160019
         DC    X'03'          1050 A                                    41250019
         DC    X'01'          1050 P                                    41340019
         DC    X'04'          1050 D                                    41430019
         DC    X'02'          1050 AD                                   41520019
         DC    X'17'          1060                                      41610019
         DC    X'18'          1060 P                                    41700019
         DC    X'31'          2470C CS                                  41790019
         DC    X'32'          2740C ACS                                 41880019
         DC    X'32'          2740C CDS                                 41970019
         DC    X'32'          2740C ACDS                                42060019
         DC    X'05'          2740                                      42150019
         DC    X'15'          2740 S                                    42240019
         DC    X'07'          2740 A                                    42330019
         DC    X'0D'          2740 AT                                   42420019
         DC    X'16'          2740 C                                    42510019
         DC    X'13'          2740 CS                                   42600019
         DC    X'2D'          2740 CO                                   42690019
         DC    X'10'          2740 AC                                   42780019
         DC    X'0A'          2740 ACT                                  42870019
         DC    X'2E'          2740 ACO                                  42960019
         DC    X'14'          2740 PS                                   43050019
         DC    X'12'          2740 CPS                                  43140019
         DC    X'08'          2740 D                                    43230019
         DC    X'0E'          2740 DT                                   43320019
         DC    X'06'          2740 AD                                   43410019
         DC    X'0C'          2740 ADT                                  43500019
         DC    X'11'          2740 CD                                   43590019
         DC    X'0B'          2740 CDT                                  43680019
         DC    X'2E'          2740 CDO                                  43770019
         DC    X'0F'          2740 ACD                                  43860019
         DC    X'09'          2740 ACDT                                 43950019
         DC    X'2E'          2740 ACDO                                 44040019
         DC    X'2B'          2741P                                     44130019
         DC    X'2C'          2741P A                                   44220019
         DC    X'2B'          2741C                                     44310019
         DC    X'2C'          2741C A                                   44400019
         DC    X'2C'          2741C AD                         @ZA10016 44440000
         DC    X'2F'          1050X                                     44490019
         DC    X'30'          1050X A                                   44580019
         DC    X'30'          1050X D                                   44670019
         DC    X'30'          1050X AD                                  44760019
         DC    X'31'          2740X CS                                  44850019
         DC    X'32'          2740X ACS                                 44940019
         DC    X'32'          2740X CDS                                 45030019
         DC    X'32'          2740X ACDS                                45120019
         DC    X'16'          2740B C                              00MC 45160020
         DC    X'19'          1030                                      45210019
         DC    X'1A'          1030P                                     45300019
         DC    X'00'          1050                                      45390019
         DC    X'03'          1050 A                                    45480019
         DC    X'01'          1050 P                                    45570019
         DC    X'04'          1050 D                                    45660019
         DC    X'02'          1050 AD                                   45750019
         DC    X'2F'          1050X                                     45840019
         DC    X'30'          1050X A                                   45930019
         DC    X'30'          1050X D                                   46020019
         DC    X'30'          1050 X AD                                 46110019
         DC    X'1B'          83B3                                      46200019
         DC    X'1D'          115A                                      46290019
         DC    X'1F'          TWX                              @ZA26035 46330000
         DC    X'20'          TWX A                                     46380019
         DC    X'21'          TWX D                                     46470019
         DC    X'1F'          TWX AD                                    46560019
         DC    X'2A'          WTTA                                      46650019
         DC    X'22'          2848                                      46740019
         DC    X'25'          BSC1                                      46830019
         DC    X'25'          BSC1  DUAL CODE                           46920019
         DC    X'25'          BSC1  DUAL INTERFACE                      47010019
         DC    X'25'          BSC1  DUAL CODE,DUAL INTERFACE            47100019
         DC    X'26'          BSC2  A                                   47190019
         DC    X'26'          BSC2  A,DUAL CODE                         47280019
         DC    X'26'          BSC2  A,DUAL INTERFACE                    47370019
         DC    X'26'          BSC2  A,DUAL CODE,DUAL INTERFACE          47460019
         DC    X'26'          BSC2  D                                   47550019
         DC    X'26'          BSC2  D,DUAL CODE                         47640019
         DC    X'26'          BSC2  AD                                  47730019
         DC    X'26'          BSC2  AD,DUAL CODE                        47820019
         DC    X'26'          BSC2  D,DUAL INTERFACE                    47910019
         DC    X'26'          BSC2  D,DUAL INTERFACE,DUAL CODE          48000019
         DC    X'26'          BSC2  AD,DUAL INTERFACE                   48090019
         DC    X'26'          BSC2  AD,DUAL INTERFACE,DUAL CODE         48180019
         DC    X'27'          BSC3  P                                   48270019
         DC    X'27'          BSC3  P,DUAL CODE                         48360019
         DC    X'27'          BSC3  P,DUAL INTERDACE                    48450019
         DC    X'27'          BSC3  P,DUAL INTERFACE,DUAL CODE          48540019
         EJECT                                                          48630019
         DS    0F                                                       48720019
ERR6     DC    X'00096000'              ABEND CODE INDICATING THAT      49600017
*                                       NO BUFFER POOL OR        Y02947 49650002
*                                       BUFFERING TECHNIQUE WAS  Y02947 49700002
*                                       DEFINED FOR THE LINE     Y02947 49750002
*                                       GROUP.                   Y02947 49760002
ERR9     DC    X'00099000'              ABEND CODE INDICATING    YM4085 49770002
*                                       THAT DYNAMIC BUFFERING   YM4085 49780002
*                                       WAS SPECIFIED FOR A V=V  YM4085 49790002
*                                       APPLICATION.             YM4085 49792002
IOBPOOL  DC    X'FA000000'              SUBPOOL 250 FOR BUFFER   Y02947 49800002
*                                       POOL.                    Y02947 49850002
TYPE2F   EQU   X'2F'                                                    49860019
TYPE30   EQU   X'30'                                                    49920019
SEVEN    EQU  7                         MASK FOR STCM            Y02947 49970002
*                                       INSTR (3 BYTES)          Y02947 49980002
SIXT     EQU   16                       OFFSET TO CVT            Y02947 50030002
DISP0    EQU   0                        ZERO DISPLACEMENT        Y02947 50040002
DISP1    EQU   1                        DISPLACEMENT OF ONE      Y02947 50080002
DISP5    EQU   5                        DISPLACEMENT OF 5       YA03255 50130000
ONE      EQU   1                       FOR ICM AND STCM     L5 @ZA03550 50180000
         EJECT                                                          50400019
DEVTABLE EQU   *                                                        50800019
*        MODULE NUMB  ID     OFFSET     DEVICE                          51200019
         DC    X'00'  MD        0       1050                            51600019
         DC    X'01'  ME        1       1050 P                          52000019
         DC    X'02'  MF        2       1050 AD                         52400019
         DC    X'02'  MF        3       1050 A                          52800019
         DC    X'02'  MF        4       1050 D                          53200019
         DC    X'03'  MT        5       2740                            53600019
         DC    X'04'  MU        6       2740 AD                         54000019
         DC    X'04'  MU        7       2740 A                          54400019
         DC    X'04'  MU        8       2740 D                          54800019
         DC    X'05'  MV        9       2740 ACDX                       55200019
         DC    X'05'  MV        A       2740 ACX                        55600019
         DC    X'05'  MV        B       2740 CDX                        56000019
         DC    X'06'  MW        C       2740 ADX                        56400019
         DC    X'06'  MW        D       2740 AX                         56800019
         DC    X'06'  MW        E       2740 DX                         57200019
         DC    X'07'  MX        F       2740 ACD                        57600019
         DC    X'07'  MX        10      2740 AC                         58000019
         DC    X'07'  MX        11      2740 CD                         58400019
         DC    X'08'  M1        12      2740 CPS                        58800019
         DC    X'09'  MY        13      2740 CS                         59200019
         DC    X'0A'  M2        14      2740 PS                         59600019
         DC    X'0B'  MZ        15      2740 S                          60000019
         DC    X'0C'  M0        16      2740 C                          60400019
         DC    X'0D'  MI        17      1060                            60800019
         DC    X'0E'  M4        18      1060 P                          61200019
         DC    X'0F'  MJ        19      1030                            61600019
         DC    X'10'  MK        1A      1030 P                          62000019
         DC    X'11'  ML        1B      83B3                            62400019
         DC    X'11'            1C                NCS                   62800019
         DC    X'12'  MN        1D      115A                            63200019
         DC    X'12'            1E                NCS                   63600019
         DC    X'13'  MP        1F      TWX  AD                         64000019
         DC    X'13'  MP        20      TWX  A                          64400019
         DC    X'13'  MP        21      TWX  D                          64800019
         DC    X'14'  M3        22      2848                            65200019
         DC    X'15'            23                                      65600019
         DC    X'16'            24                                      66000019
         DC    X'15'  M5        25      BSC1                            66400019
         DC    X'16'  M6        26      BSC2                            66800019
         DC    X'17'  PC        27      BSC3                            67200019
         DC    X'17'            28                                      67600019
         DC    X'17'            29                                      68000019
         DC    X'18'  PB        2A      WTTA                            68400019
         DC    X'19'  PE        2B      2741                            68800019
         DC    X'1A'  PF        2C      2741 A                          69200019
         DC    X'1B'  PL        2D      2740 CO                         69600019
         DC    X'1C'  PM        2E      2740 ACO/DCO/ADCO               70000019
         DC    X'1D'  PN        2F      1050X                           70400019
         DC    X'1E'  PO        30      1050X A/D/AD                    70800019
         DC    X'1F'  PP        31      2740X CS                        71200019
         DC    X'20'  PQ        32      2740X AC/CD/ACD                 71600019
         EJECT                                                          72000019
DYNBUF   EQU   X'08'                   CODE FOR BFTEK=0  IN DCB         76200017
OPIDCNST DC    C'0S'                    ID OF LAST OPEN LOAD.           76400017
SIX      DC    H'06'                                               000M 76460019
ALLON     EQU   X'FF'                                              000M 76520019
AMIDCNST  DC    C'4N'                   ID OF THIS MODULE               76600017
WAOFF    EQU   32                       OFFSET OF FIRST WTG ENTRY FROM  76800017
*                                  START OF WTG.                        77000017
PLOFF    EQU   4                        OFFSET OO DCB ENTRIES.          77200017
WGOFF    EQU   8                        OFFSET OF WTG ENTRIES.          77400017
         SPACE 3                                                 Y02947 77550002
BTAMLOD3 DC    C'3Q'                   ID FOR THIRD OPEN LOAD MODULE    79000017
         DC    X'00000000'             TTR AND L                        79200017
CHNIDTBL DC    C'MD',XL4'0'   00       1050                        000M 79205019
         DC    C'ME',XL4'0'   01       1050 P                      000M 79210019
         DC    C'MF',XL4'0'   02       1050 AD                     000M 79215019
         DC    C'MT',XL4'0'   03       2740                        000M 79220019
         DC    C'MU',XL4'0'   04       2740 AD                     000M 79225019
         DC    C'MV',XL4'0'   05       2740 ACDT                   000M 79230019
         DC    C'MW',XL4'0'   06       2740 ADT                    000M 79235019
         DC    C'MX',XL4'0'   07       2740                        000M 79240019
         DC    C'M1',XL4'0'   08       2740 CPS                    000M 79245019
         DC    C'MY',XL4'0'   09       2740 CS                     000M 79250019
         DC    C'M2',XL4'0'   0A       2740 PS                     000M 79255019
         DC    C'MZ',XL4'0'   0B       2740 S                      000M 79260019
         DC    C'M0',XL4'0'   0C       2740 C                      000M 79265019
         DC    C'MI',XL4'0'   0D       1060                        000M 79270019
         DC    C'M4',XL4'0'   0E       1060 P                      000M 79275019
         DC    C'MJ',XL4'0'   0F       1030                        000M 79280019
         DC    C'MK',XL4'0'   10       1030 P                      000M 79285019
         DC    C'ML',XL4'0'   11       83B3                        000M 79290019
         DC    C'MN',XL4'0'   12       115A                        000M 79295019
         DC    C'MP',XL4'0'   13       TWX  AD                     000M 79300019
         DC    C'M3',XL4'0'   14       2848                        000M 79305019
         DC    C'M5',XL4'0'   15        BSC1    CONTENTION         000M 79310019
         DC    C'M6',XL4'0'   16        BSC2    SWITCHED  (AD)     000M 79315019
         DC    C'PC',XL4'0'   17        BSC3    POLLED  (P)        000M 79320019
         DC    C'PB',XL4'0'   18        WTTA                       000M 79325019
         DC    C'PE',XL4'0'   19        2741                       000M 79330019
         DC    C'PF',XL4'0'   1A        2741 A                     000M 79335019
         DC    C'PL',XL4'0'   1B        2740 CO                    000M 79340019
         DC    C'PM',XL4'0'   1C        2740 COD                   000M 79345019
         DC    C'PN',XL4'0'   1D        1050X                      000M 79350019
         DC    C'PO',XL4'0'   1E        1050X AD                   000M 79355019
         DC    C'PP',XL4'0'   1F        2740X C                    000M 79360019
         DC    C'PQ',XL4'0'   20        2740X ACD                  000M 79365019
         EJECT                                                   Y02947 80050002
         DCBD  DSORG=BX,DEVD=BS                                         80200017
        IECTDEBX                                                        80600017
         EJECT                                                   Y02947 80610002
CVT      DSECT                                                   Y02947 80612002
         CVT   LIST=NO                                           Y02947 80614002
         EJECT                                                   Y02947 80620002
WORKAREA DSECT                                                   Y02947 80690002
         IECDSECT                                                Y02947 80740002
WORKTTRL EQU   2             DISPLACEMENT INTO WORKAREA  TO      Y02947 80790002
*                            SAVE I/O MODULE ID                  Y02947 80792002
         EJECT                                                   YM4085 80794002
         IKJTCB DSECT=YES,LIST=YES                               YM4085 80796002
         END                                                            80800017
