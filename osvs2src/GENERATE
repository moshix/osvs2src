         MACRO                                                          00040002
         GENERATE   &GENTYPE=ALL,&OBJPDS=SYS1.OBJPDS,                  X00080002
               &RESVOL=,&INDEX=SYS1,&OCLASS=A,&JCLASS=A,               *00120002
               &C=(INDMAC,CMDLIB,HELP,JES3LIB,SAMPLIB,,MACLIB,PROCLIB,,*00160024
               TELCMLIB,UADS,,VTAMLIB,,,IMAGELIB,,PARMLIB,BRODCAST,MANX*00170024
               ,MANY,,,,,,DUMP00,DUMP01,DUMP02,DUMP03,DUMP04,DUMP05,DUM*00180024
               P06,DUMP07,DUMP08,DUMP09)                ZM30851,Y30BS04 00190024
         COPY  SGGBLPAK                                                 00240002
         GBLB  &SGIHASU(100)                                    Z32DSVN 00260037
         LCLA  &W1,&W2,&W3,&CTR1,&I,&B,&DADRA(1917),&J,&D       Z40ASVN 00280024
         LCLB  &QUITONB,&F                                              00320002
         LCLC  &NUC,&A,&N,&X                                            00360002
         ACTR  250000                                                   00400002
.***** START OF SPECIFICATIONS **************************************   00440002
.*                                                                      00480002
.* MODULE NAME - GENERATE                                               00520002
.*                                                                      00560002
.* DESCRIPTIVE NAME - SYSGEM GENERATION MACRO                           00600002
.*                                                                      00640002
.* COPYRIGHT - NONE                                                     00680002
.*                                                                      00720002
.* STATUS - CHANGE LEVEL 04                                             00760024
.*                                                                      00800002
.* FUNCTION -                                                           00840002
.*       THE GENERATE MACRO IS USED TO SPECIFY THE DATA SETS, VOLUMES   00880002
.*       AND I/O DEVICES REQUIRED FOR THE SYSTEM GENERATION PROCESS,    00920002
.*       THE INPUT AND OUTPUT CLASSES FOR THE STAGE II JOB STREAM,      00960002
.*       AND THE TYPE OF GENERATION BEING DONE                          01000002
.*                                                                      01040002
.* $F1 = EDS1102,  SDPD, 78125,  PLR:                                   01050002
.*                                                                      01060002
.* NOTES - N/A                                                          01080002
.*                                                                      01120002
.* MODULE TYPE - MACRO                                                  01160002
.*                                                                      01200002
.* ENTRY POINT - N/A                                                    01240002
.*                                                                      01280002
.* INPUT - THE FOLLOWING MAY BE INCLUDED AS GENERATE PARAMETERS         01320002
.*             &GENTYPE - COMPLETE SYSGEN OR I/O SYSGEN                 01360002
.*             &OBJPDS  - PARTITIONED DATA SET TO BE USED FOR THE       01400002
.*                        STORAGE OF OBJECT MODULES ASSEMBLED DURING    01440002
.*                        STAGE II. 6 CHAR LIMIT.                       01480002
.*             &RESVOL  - SERIAL NUMBER & UNIT TYPE OF THE NEW SYSTEM   01520002
.*                        RESIDENCE VOLUME.                             01560002
.*             &INDEX   - QUALIFIER FOR THE NEW SYSTEM DATA SETS,       01600002
.*                        DEFAULT IS SYS1.                              01640002
.*             &JCLASS  - JOB CLASS TO BE USED                          01680002
.*             &OCLASS  - OUTPUT CLASS TO BE USED                       01720002
.*                                                                      01760002
.* OUTPUT -                                                             01800002
.*         THE OUTPUT FROM GENERATE CONSISTS OF A JOB STREAM OF         01840002
.*         FIVE JOBS CALLED A STAGE TWO INPUT DECK. WHEN THIS           01880002
.*         JOB STREAM IS RUN, A VS2 2 SYSTEM IS CREATED.                01920002
.*       ALL GLOBALS ARE USED                                           01960002
.*       THE LOCALS USED ARE -                                          02000002
.*             &NUC    - NUCLEUS NUMBER                                 02040002
.*             &QUITONB- QUIT SWITCH SAVE AREA                          02080002
.*                                                                      02120002
.* EXIT, NORMAL - N/A                                                   02160002
.*                                                                      02200002
.* EXIT, ERROR - N/A                                                    02240002
.*                                                                      02280002
.* EXTERNAL REFERENCES - N/A                                            02320002
.*                                                                      02360002
.* TABLES - N/A                                                         02400002
.*                                                                      02440002
.* MACROS -                                                             02480002
.*         SGIEI1CS - VALIDATES CONSOLES                                02520002
.*         SGIEI1IO - VALIDATES IO DEVICES                              02560002
.*         SGIEI1SU - VALIDATES SUPERVISOR FUNCTIONS                    02600002
.*         SGIEI1SV - GENERATES SVC ENTRIES FOR SYSTEM ROUTINES         02640002
.*         VARIOUS COMPONENT MACROS WHICH GENERATE THE STEPS            02680002
.*                                                                      02720002
.* CHANGE ACTIVITY - MODIFIED FOR Y02036,ZA00124,ZA00125,ZA00129,       02760024
.*                   ZA00130,ZM30003,ZM30402,ZM30004,ZM30851,ZA05060,   02761024
.*                   Z30AALG,VS30854,VS32758,ZM32650,ZA02236,VS33034,   02762024
.*                   Y30BS04,Z30RSTA,X40MSTG,VS40029,Z40RSVN,Z40DSVN    02763024
.*                   VS40079,Z40WSVN,VS43004,ZM40407,Z40ASVN,G24LSVN    02764024
.*                   OZ03927,OZ03926,OZ03884,OZ04623,OZ05629,OZ06711    02784024
.*                   G32DSVN                                            02800237
.*                   OZ09975,OZ14554,OZ15061,@ZA15662,@ZA20936,@ZA24964 02804037
.*                   @ZA25672,@ZA26168,@ZA28264,@ZA29684,OZ29149        02814037
.*                   OZ17541,OZ31090,@ZA33542                           02822037
.***** END OF SPECIFICATIONS ****************************************   02840002
.********************************************************************** 02880002
.*                         ***** ENTRY *****                          * 02920002
.********************************************************************** 02960002
         AIF (&SGMENTB(88)).A0            PREVIOUS ENTRY?               03000002
&SGMENTB(88)   SETB 1                     SET ENTRY SWITCH              03040002
&SGCTRLC(35)   SETC 'LPALIB'              SET TARGET LIB FOR INNERS     03080002
&SGCTRLC(36)   SETC 'LPALIB'              SET TARGET LIB FOR INNERS     03120002
&QUITONB       SETB (&SGQUITB)                                          03160002
         AGO   .B0                        GO CHECK GENTYPE PARM         03200002
.A0 MNOTE 5,'* * * IEIGEN000 GENERATE MACRO PREVIOUSLY USED'            03240002
&SGQUITB SETB  1                          SET QUIT SWITCH               03280002
         AGO   .SF0                       GO TO END                     03320002
.********************************************************************** 03360002
.*                         ***** GENTYPE *****                        * 03400002
.********************************************************************** 03440002
.B0      AIF (N'&GENTYPE NE 1).B2         SUBLIST?                      03480002
         AIF   ('&GENTYPE' EQ 'IO').B6                                  03520002
         AIF ('&GENTYPE' NE 'ALL').B8     INVALID GENTYPE?              03560002
&NUC     SETC  '1'                                                      03600002
    MNOTE *,'  SYSGEN TYPE ALL'                                         03640002
         AGO   .C0                        GO CHECK OBJPDS PARM          03680002
.B2      AIF (N'&GENTYPE GT 2).B8         INVALID GENTYPE?              03720002
         AIF   ('&GENTYPE(1)' NE 'IO').B8                               03760002
         AIF (&GENTYPE(2) LT 1 OR &GENTYPE(2) GT 9).BA   INVALID?       03800002
&GETB(3)  SETB 1                          SET IO SYSGEN GLOBAL          03840002
&NUC     SETC  '&GENTYPE(2)'              SET NUC NUMBER LOCAL          03880002
    MNOTE *,'  SYSGEN TYPE IO-NUCLEUS NUMBER &GENTYPE(2)'               03920002
         AGO   .C0                        GO CHECK OBJPDS PARM          03960002
.B6 MNOTE 5,'* * * IEIGEN100  MUST SPECIFY NUCLEUS NUMBER WITH IO GEN'  04000002
&SGQUITB SETB  1                          SET QUIT SWITCH               04040002
         AGO   .C0                        GO CHECK OBJPDS PARM          04080002
.B8 MNOTE 5,'* * * IEIGEN001 GENTYPE VALUE &GENTYPE INVALID'            04120002
&SGQUITB SETB  1                          SET QUIT SWITCH               04160002
         AGO   .C0                        GO CHECK OBJPDS PARM          04200002
.BA MNOTE 5,'* * * IEIGEN102 NUCLEUS NUMBER WITH IO GEN MUST BE FROM 1 *04240002
               TO 9'                                                    04280002
&SGQUITB SETB  1                          SET QUIT SWITCH               04320002
.********************************************************************** 04360002
.*                         ***** OBJPDS *****                         * 04400002
.********************************************************************** 04440002
.C0      AIF (K'&OBJPDS LT 6 OR K'&OBJPDS GT 11).C2  INVALID?           04480002
         AIF ('&OBJPDS'(1,5) NE 'SYS1.').C2          INVALID?           04520002
         AGO   .PDSN                                                    04560002
.C2 MNOTE 5,'* * * IEIGEN103 OBJPDS VALUE &OBJPDS INVALID'              04600002
&SGQUITB SETB  1                          SET QUIT SWITCH               04640002
.********************************************************************** 04680002
.***     CHECK PAGEDSN SPECIFICATIONS                  **************** 04720002
.********************************************************************** 04760002
.PDSN    ANOP                                                           04800002
         AIF   ('&SGPAGDC(3)' NE '').D0  MIN = 3 TIMES         Z40WSVN  04840024
&SGQUITB SETB  1                                                        04880002
 MNOTE 5,'* * * IEIGEN104 AT LEAST 3 PAGE DATASETS REQUIRED'   Z40WSVN  04920024
.********************************************************************** 04960002
.*                         ***** RESVOL *****                         * 05000002
.********************************************************************** 05040002
.D0      ANOP                                                           05080002
         AIF   (T'&RESVOL(1) NE 'O').CKRVOL                             05120002
&SGCTRLC(30) SETC 'SYSRES'                                              05160002
         AGO   .CKRVOL2                                                 05200002
.CKRVOL  AIF   (K'&RESVOL(1) GT 6).RD4                                  05240002
&SGCTRLC(30) SETC '&RESVOL(1)'                                          05280002
.*   CHECK FOR VALID DEVICE TYPE                                        05320002
.CKRVOL2 AIF   (T'&RESVOL(2) NE 'O').CKRVOL1                            05360002
&SGCTRLC(29) SETC '3330'                                                05400002
         AGO   .CKRVOL3                                                 05440002
.CKRVOL1 AIF (('&RESVOL(2)' EQ '2305-1') OR ('&RESVOL(2)' EQ '2305-2') *05480002
               OR ('&RESVOL(2)' EQ '2314')).CKRVOL4                     05520002
         AIF ('&RESVOL(2)' EQ '3350').CKRVOL4                  @Z30RSTA 05530024
         AIF (('&RESVOL(2)' NE '3330') AND ('&RESVOL(2)' NE '3330-1')  *05560002
               AND ('&RESVOL(2)' NE '3340')).RD6                        05600002
.CKRVOL4 ANOP                                                           05640002
&SGCTRLC(29) SETC '&RESVOL(2)'                                          05680002
.CKRVOL3 ANOP                                                           05720002
    MNOTE *,'  SYSTEM RESIDENCE WILL RESIDE ON &SGCTRLC(30) UNIT &SGCTRX05760002
               LC(29)'                                                  05800002
         AGO   .E0                        GO CHECK INDEX PARM           05840002
.RD4 MNOTE 5,'* * * IEIGEN106 VOLUME SERIAL &RESVOL(1) ON RESVOL PARAMEX05880002
               TER INVALID'                                             05920002
&SGQUITB SETB  1                          SET QUIT SWITCH               05960002
         AGO   .CKRVOL2                                                 06000002
.RD6 MNOTE 5,'* * * IEIGEN107 DEVICE TYPE &RESVOL(2) ON RESVOL PARAMETE*06040002
               R INVALID'                                               06080002
&SGQUITB SETB  1                          SET QUIT SWITCH               06120002
.********************************************************************** 06160002
.*                         ***** INDEX *****                          * 06200002
.********************************************************************** 06240002
.E0      AIF (K'&INDEX GT 6).E2           TOO MANY CHARACTERS           06280002
&SGCTRLC(40)   SETC '&INDEX'              SET INDEX GLOBAL              06320002
         AGO   .F0                        GO CHECK CLASS PARM           06360002
.E2 MNOTE 5,'* * * IEIGEN108 INDEX VALUE &INDEX INVALID'                06400002
&SGQUITB SETB  1                          SET QUIT SWITCH               06440002
.********************************************************************** 06480002
.*                         ***** OCLASS *****                         * 06520002
.********************************************************************** 06560002
.F0  AIF (('&OCLASS' LT 'A') OR ('&OCLASS' GT 'I' AND '&OCLASS' LT 'J')*06600002
               OR ('&OCLASS' GT 'R' AND '&OCLASS' LT 'S') OR ('&OCLASS'*06640002
               GT 'Z' AND '&OCLASS' LT '0') OR ('&OCLASS' GT '9')).F2   06680002
&SGCTRLC(41)   SETC  '&OCLASS'                                          06720002
         AGO   .F4                        GO CHECK JCLASS PARM          06760002
.F2 MNOTE 5,'* * * IEIGEN109 OCLASS PARAMETER &OCLASS INVALID'          06800002
&SGQUITB SETB  1                          SET QUIT SWITCH               06840002
.********************************************************************** 06880002
.*                         ***** JCLASS *****                *          06920002
.********************************************************************** 06960002
.F4      AIF (('&JCLASS' LT 'A') OR ('&JCLASS' GT 'I' AND '&JCLASS' LT *07000002
               'J') OR ('&JCLASS' GT 'O')).F6                           07040002
&SGCTRLC(42)   SETC  '&JCLASS'                                          07080002
         AGO   .G0                        GO CALL INTERNAL MACROS       07120002
.F6 MNOTE 5,'* * * IEIGEN010 JCLASS PARAMETER &JCLASS INVALID'          07160002
&SGQUITB SETB  1                          SET QUIT SWITCH               07200002
.********************************************************************** 07240002
.*                         ***** INTERNAL MACROS *****                * 07280002
.********************************************************************** 07320002
.G0      ANOP                                                           07360002
&SGACTR  SETA  600000                     SET ACTR COUNTER     @AZ15061 07400024
*** IHASETSU *** SU GLOBAL SWITCHES                                     07410037
    IHASETSU CSECT=NO                     SET SU GLOBALS        G32DSVN 07420037
*** SGRELLEV  *** SYSTEM BUILD                            *** SYBLD *** 07440002
    SGRELLEV                                                            07480002
*** SGIEI1IO *** SYSGEN                                   *** SC1S1 *** 07520002
    SGIEI1IO                                                            07560002
*** SGIEI1SU *** SYSGEN                                   *** SC1S1 *** 07600002
    SGIEI1SU                                                            07640002
*** SGIEI1CS *** SYSGEN                                   *** SC1S1 *** 07680002
    SGIEI1CS                                                            07720002
*** SGIEI1SV *** SYSGEN                                   *** SC1S1 *** 07760002
    SGIEI1SV                                                            07800002
         AIF   ('&SGVSNMC' NE '').OK5 CHECK FOR VSCATALOG NAME          07840002
   MNOTE 7,'*** IEIGEN020 VSCATLOG NAME NOT SPECIFIED IN DATASET'       07880002
&SGQUITB SETB  1                                                        07920002
.OK5     AIF (&SGMENTB(16)).H2            OVERRIDE SWITCH?              07960002
         AIF (&QUITONB).SEC               QUIT SWITCH BEFORE GENERATE?  08000002
         AIF (&SGQUITB).SEE               QUIT SWITCH SET IN GENERATE?  08040002
         AGO   .H4                                                      08080002
.H2      AIF (NOT(&QUITONB OR &SGQUITB)).H4                             08120002
    MNOTE 7,'* * * IEIGEN111 DIAGNOSTIC OVERRIDE SPECIFIED'             08160002
    MNOTE 7,'* * * * * * * * ERROR MESSAGES SHOULD BE INTERPRETED'      08200002
    MNOTE 7,'* * * * * * * * AS WARNINGS'                               08240002
.H4      ANOP                                                           08280002
&J       SETA  1                                                        08320002
.AUPDAT  AIF   (&J EQ 1918).EUPDAT                              Z40ASVN 08360024
&DADRA(&J)     SETA &SGDADRA(&J)                                        08400002
&J       SETA  &J+1                                                     08440002
         AGO   .AUPDAT                                                  08480002
.EUPDAT  ANOP                                                           08520002
         AIF   ('&SGDSUNC(12)' EQ '').V1D LPALIB UNIT SPECIFIED         08560002
&SGCTRLC(19)   SETC  '&SGDSUNC(12)'       PICK UP LPALIB UNIT           08600002
&SGCTRLC(20)   SETC  '&SGDSVLC(12)'       PICK UP LPALIB VOL SER        08640002
         AGO   .V2                                                      08680002
.V1D     ANOP                                                           08720002
&SGCTRLC(19)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             08760002
&SGCTRLC(20)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             08800002
&SGDSUNC(12)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             08840002
&SGDSVLC(12)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             08880002
.V2      AIF   ('&SGDSVLC(6)' EQ '').V2D DEFAULT LINKLIB                08920002
&SGCTRLC(31)   SETC  '&SGDSUNC(6)'        PICK UP LINKLIB UNIT          08960002
&SGCTRLC(32)   SETC  '&SGDSVLC(6)'        PICK UP LINKLIB VOL SER       09000002
         AGO   .V3                                                      09040002
.V2D     ANOP                                                           09080002
&SGCTRLC(31)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09120002
&SGCTRLC(32)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09160002
&SGDSUNC(6)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09200002
&SGDSVLC(6)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09240002
.V3      AIF   ('&SGDSVLC(10)' EQ '').V3D DEFAULT TELCMLIB              09280002
&SGCTRLC(33)   SETC  '&SGDSUNC(10)'       PICK UP TELCMLIB UNIT         09320002
&SGCTRLC(34)   SETC  '&SGDSVLC(10)'       PICK UP TELCMLIB VOL SER      09360002
         AGO   .V4                                                      09400002
.V3D     ANOP                                                           09440002
&SGCTRLC(33)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09480002
&SGCTRLC(34)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09520002
&SGDSUNC(10)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09560002
&SGDSVLC(10)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09600002
.V4      AIF   ('&SGDSVLC(18)' EQ '').V4D DEFAULT PARMLIB     @ZA33542  09610037
&SGCTRLC(44)   SETC  '&SGDSUNC(18)'       PICK UP PARMLIB UNIT          09620003
&SGCTRLC(45)   SETC  '&SGDSVLC(18)'       PICK UP PARMLIB VOL SER       09630003
         AGO   .V5                                                      09640003
.V4D     ANOP                                                           09650003
&SGCTRLC(44)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09660003
&SGCTRLC(45)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09670003
&SGDSUNC(18)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09680003
&SGDSVLC(18)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09690003
.V5      AIF   ('&SGDSVLC(8)' EQ '').V5D  DEFAULT PROCLIB               09700003
&SGCTRLC(25)   SETC  '&SGDSUNC(8)'        PICK UP PROCLIB UNIT          09710003
&SGCTRLC(26)   SETC  '&SGDSVLC(8)'        PICK UP PROCLIB VOL SER       09720003
         AGO   .V6                                                      09730003
.V5D     ANOP                                                           09740003
&SGCTRLC(25)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09750003
&SGCTRLC(26)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09760003
&SGDSUNC(8)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09770003
&SGDSVLC(8)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09780003
.V6      AIF   ('&SGDSVLC(16)' EQ '').V6D DEFAULT IMAGELIB              09790003
&SGCTRLC(61)   SETC  '&SGDSUNC(16)'       PICK UP IMAGELIB UNIT         09800003
&SGCTRLC(62)   SETC  '&SGDSVLC(16)'       PICK UP IMAGELIB VOL SER      09810003
         AGO   .V7                                                      09820003
.V6D     ANOP                                                           09830003
&SGCTRLC(61)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09840003
&SGCTRLC(62)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09850003
&SGDSUNC(16)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09860003
&SGDSVLC(16)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09870003
.V7      AIF   ('&SGDSVLC(7)' EQ '').V7D  DEFAULT MACLIB                09880003
&SGCTRLC(15)   SETC  '&SGDSUNC(7)'        PICK UP MACLIB UNIT           09890003
&SGCTRLC(16)   SETC  '&SGDSVLC(7)'        PICK UP MACLIB VOL SER        09900003
         AGO   .V8                                                      09910003
.V7D     ANOP                                                           09920003
&SGCTRLC(15)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09930003
&SGCTRLC(16)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09940003
&SGDSUNC(7)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             09950003
&SGDSVLC(7)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             09960003
.V8      AIF   ('&SGDSVLC(5)' EQ '').V8D  DEFAULT SAMPLIB               09970003
&SGCTRLC(17)   SETC  '&SGDSUNC(5)'        PICK UP SAMP UNIT             09980003
&SGCTRLC(18)   SETC  '&SGDSVLC(5)'        PICK UP SAMP VOL SER          09990003
         AGO   .V9                                                      10000003
.V8D     ANOP                                                           10010003
&SGCTRLC(17)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             10020003
&SGCTRLC(18)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             10030003
&SGDSUNC(5)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             10040003
&SGDSVLC(5)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             10050003
.V9      AIF   ('&SGDSVLC(1)' EQ '').V9D  DEFAULT INDMAC                10060003
&SGCTRLC(65)   SETC  '&SGDSUNC(1)'        PICK UP INDMAC UNIT           10070003
&SGCTRLC(66)   SETC  '&SGDSVLC(1)'        PICK UP INDMAC VOL SER        10080003
         AGO   .VB                                                      10090003
.V9D     ANOP                                                           10100003
&SGCTRLC(65)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             10110003
&SGCTRLC(66)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             10120003
&SGDSUNC(1)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             10130003
&SGDSVLC(1)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             10140003
.VB      AIF   ('&SGDSVLC(13)' EQ '').VBD  DEFAULT VTAMLIB              10240003
&SGCTRLC(27)   SETC  '&SGDSUNC(13)'        PICK UP VTAMLIB UNIT         10250003
&SGCTRLC(28)   SETC  '&SGDSVLC(13)'        PICK UP VTAMLIB VOL SER      10260003
         AGO   .VC                                                      10270003
.VBD     ANOP                                                           10280003
&SGCTRLC(27)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             10290003
&SGCTRLC(28)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             10300003
&SGDSUNC(13)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             10310003
&SGDSVLC(13)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             10320003
.VC      AIF   ('&SGDSVLC(2)' EQ '').VCD  DEFAULT CMDLIB                10330003
&SGCTRLC(23)   SETC  '&SGDSVLC(2)'        PICK UP CMDLIB VOL SER        11480002
&SGCTRLC(24)   SETC  '&SGDSUNC(2)'        PICK UP CMDLIB UNIT           11520002
         AGO   .V10                                                     11560002
.VCD     ANOP                                                           11600003
&SGCTRLC(24)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             11640002
&SGCTRLC(23)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             11680002
&SGDSUNC(2)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             11720002
&SGDSVLC(2)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             11760002
.V10     AIF   ('&SGDSVLC(11)' EQ '').V10D DEFAULT UADS                 11800002
&SGCTRLC(49)   SETC  '&SGDSUNC(11)'       PICK UP UADS UNIT             11840002
&SGCTRLC(50)   SETC  '&SGDSVLC(11)'       PICK UP UADS VOL SER          11880002
         AGO   .V11                                                     11920002
.V10D    ANOP                                                           11960002
&SGCTRLC(49)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             12000002
&SGCTRLC(50)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             12040002
&SGDSUNC(11)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             12080002
&SGDSVLC(11)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             12120002
.V11     AIF   ('&SGDSVLC(3)' EQ '').V11D DEFAULT HELP                  12160002
&SGCTRLC(51)   SETC  '&SGDSUNC(3)'        PICK UP HELP UNIT             12200002
&SGCTRLC(52)   SETC  '&SGDSVLC(3)'        PICK UP HELP VOL SER          12240002
         AGO   .V13                                                @F1C 12280002
.V11D    ANOP                                                           12320002
&SGCTRLC(51)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             12360002
&SGCTRLC(52)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             12400002
&SGDSUNC(3)    SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             12440002
&SGDSVLC(3)    SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             12480002
.*                                                                 @F1D 12510002
.V13     AIF   ('&SGDSVLC(23)' EQ '').V13D DEFAULT DCMLIB               12880002
&SGCTRLC(53)   SETC  '&SGDSUNC(23)'       PICK UP DCM UNIT              12920002
&SGCTRLC(54)   SETC  '&SGDSVLC(23)'       PICK UP DCM VOL SER           12960002
         AGO   .V14                                                     13000002
.V13D    ANOP                                                           13040002
&SGCTRLC(53)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13080002
&SGCTRLC(54)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13120002
&SGDSUNC(23)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13160002
&SGDSVLC(23)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13200002
.V14     AIF   ('&SGDSVLC(19)' EQ '').V14D DEFAULT BRODCAST             13240002
&SGCTRLC(57)   SETC '&SGDSUNC(19)'        PICK UP BRODCAST UNIT         13280002
&SGCTRLC(58)   SETC '&SGDSVLC(19)'        PICK UP BRODCAST VOL SER      13320003
         AGO   .V15                                                     13330002
.V14D    ANOP                                                           13340002
&SGCTRLC(57)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13350002
&SGCTRLC(58)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13352002
&SGDSUNC(19)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13354002
&SGDSVLC(19)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13356002
.V15     ANOP                                                           13360002
&SGDSUNC(9)    SETC  '&SGCTRLC(29)'       SET SVCLIB TO RESVOL          13400002
&SGDSVLC(9)    SETC  '&SGCTRLC(30)'       SET SVCLIB TO RESVOL          13440002
&SGDSUNC(17)   SETC  '&SGCTRLC(29)'       SET NUCLEUS TO RESVOL         13480002
&SGDSVLC(17)   SETC  '&SGCTRLC(30)'       SET NUCLEUS TO RESVOL         13520002
         AIF   ('&SGDSUNC(14)' EQ '').V16D DEFAULT STGINDEX             13560002
&SGCTRLC(21)   SETC  '&SGDSUNC(14)'       PICK UP STGINDEX UNIT         13610002
&SGCTRLC(22)   SETC  '&SGDSVLC(14)'       PICK UP STGINDEX VOL SER      13620002
         AGO   .V17                                                     13630003
.V16D    ANOP                                                           13640003
&SGCTRLC(21)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13650003
&SGCTRLC(22)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13660003
&SGDSUNC(14)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13670003
&SGDSVLC(14)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13680003
.V17     AIF   ('&SGDSUNC(15)' EQ '').V17D DEFAULT VSCATLG              13690003
&SGCTRLC(37)   SETC  '&SGDSUNC(15)'       PICK UP VSCATLG UNIT          13700003
&SGCTRLC(38)   SETC  '&SGDSVLC(15)'       PICK UP VSCATLG VOL SER       13710003
         AGO   .V18                                                     13720003
.V17D    ANOP                                                           13730003
&SGCTRLC(37)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13740003
&SGCTRLC(38)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13750003
&SGDSUNC(15)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13760003
&SGDSVLC(15)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13770003
.V18     AIF   ('&SGDSUNC(20)' EQ '').V18D DEFAULT MANX                 13780003
&SGCTRLC(43)   SETC  '&SGDSUNC(20)'       PICK UP MANX UNIT             13790003
&SGCTRLC(46)   SETC  '&SGDSVLC(20)'       PICK UP MANX VOL SER          13800003
         AGO   .V19                                                     13810003
.V18D    ANOP                                                           13820003
&SGCTRLC(43)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13830003
&SGCTRLC(46)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13840003
&SGDSUNC(20)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13850003
&SGDSVLC(20)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13860003
.V19     AIF   ('&SGDSUNC(21)' EQ '').V19D DEFAULT MANY                 13870003
&SGCTRLC(47)   SETC  '&SGDSUNC(21)'       PICK UP MANY UNIT             13880003
&SGCTRLC(48)   SETC  '&SGDSVLC(21)'       PICK UP MANY VOL SER          13890003
         AGO   .V20                                                     13900003
.V19D    ANOP                                                           13910003
&SGCTRLC(47)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13920003
&SGCTRLC(48)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13930003
&SGDSUNC(21)   SETC '&SGCTRLC(29)'        DEFAULT TO RESVOL             13940003
&SGDSVLC(21)   SETC '&SGCTRLC(30)'        DEFAULT TO RESVOL             13950003
.V20     ANOP                                                           14050003
&D       SETA  27                                                       14060003
.V21     AIF   ('&SGDSUNC(&D)' NE '').V22 DEFAULT DUMP00-09             14070003
&SGDSUNC(&D)   SETC  '&SGCTRLC(29)'       SET TO RESVOL                 14072003
&SGDSVLC(&D)   SETC  '&SGCTRLC(30)'       SET TO RESVOL                 14074003
.V22     ANOP                                                           14076003
&D       SETA  &D+1                                                     14078003
         AIF   (&D LE 36).V21                                           14078403
         AIF   ('&SGDSUNC(4)' NE '').V23 DEFAULT JES3LIB        Y30BS04 14078624
&SGDSUNC(4)    SETC  '&SGCTRLC(29)'      DEFAULT TO RESVOL      Y30BS04 14078824
&SGDSVLC(4)    SETC  '&SGCTRLC(30)'      DEFAULT TO RESVOL      Y30BS04 14079024
.V23     ANOP                                                   Y30BS04 14079224
&SGCTRLC(67)   SETC  '&SGDSUNC(4)'                              Y30BS04 14079424
&SGCTRLC(68)   SETC  '&SGDSVLC(4)'                              Y30BS04 14079624
.*                                                                      14079824
.*                                                              VS43004 14080024
         AIF   ('&SGDSUNC(22)' NE '').V25 DEFAULT DUPLEXDS      Z40WSVN 14081424
&SGDSUNC(22)   SETC  '&SGCTRLC(29)'      DEFAULT TO RESVOL      Z40WSVN 14081624
&SGDSVLC(22)   SETC  '&SGCTRLC(30)'      DEFAULT TO RESVOL      Z40WSVN 14081824
.V25     ANOP                                                   Z40WSVN 14082024
&SGCTRLC(36)   SETC  'LPALIB'             SET THIS LIBRARY TO LPA       14120002
&SGCTRLC(35)   SETC  'LPALIB'             SET THIS LIBRARY TO LPA       14130024
&SGCTRLC(1)    SETC  ',LIST'                                            14160002
&SGCTRLC(2)    SETC  ',XREF'                                            14200002
&SGCPRGB(8) SETB 1 INDICATE VS2-2                                       14240002
.********************************************************************** 14280002
.****    JOB 1                                                          14320002
.****          OBJPDS01                               ***************** 14360002
.****          ALLOCATE AND CATALOG LPALIB            ***************** 14400002
.****          ASSEMBLIES                             ***************** 14440002
.****          COPIES                                 ***************** 14480002
.****          LINKEDITS                              ***************** 14520002
.****          RENAME AND LISTPDS                     ***************** 14560002
.********************************************************************** 14600002
.*                                                                      14640002
.*          CALL JOBCARD MACRO FOR ALLOCATION/CATALOG JOB               14680002
.*                                                                      14720002
.********************************************************************** 14850002
.****  THIS STEP IS CALLED IF VSCATLG REQUIRES SPACE ALLOCATION     *** 14860002
.********************************************************************** 14870002
         AIF   (&GETB(3)).IOSTEP         IO GEN                         14872002
         AIF   (&SGDSPSA(15) EQ 0).NVS    IS SPACE SPECIFIED?           14874002
         JOBCARD                                                        14876002
**** SGIGG600 *** VSCATLG                                 *** SC1DE *** 14880002
     SGIGG600                                                           14890002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 14892002
         AGO     .NVS                                                   14902002
.********************************************************************** 14910002
.****     IO GENERATION ONLY - LPALIB RENAMED IF INDEX IS NOT SYS1  *** 14920002
.********************************************************************** 14930002
.IOSTEP    ANOP                                                         14940002
&SGCTRLA(3)    SETA 1              INITIALIZE JOB  COUNTER              14950002
         JOBCARD                                                        14960002
         AIF   ('&INDEX' EQ 'SYS1').LPAEND     NO NEED TO RENAME        14970002
&SGCTRLA(1)    SETA 1              INITIALIZE STEP COUNTER              14972002
 PUNCH '//LPA&SGCTRLA(1) EXEC PGM=IEHPROGM'                             14980002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          14990002
 PUNCH '//LPALIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(12).),UNIT=&SGDSUNC(12X15010002
               ),DISP=OLD'                                              15012002
 PUNCH '//SYSIN DD *'                                                   15020002
 PUNCH '  RENAME DSNAME=SYS1.LPALIB,                                   X15030002
                       X'                                               15032002
 PUNCH '               NEWNAME=&SGCTRLC(40)..LPALIB,VOL=&SGDSUNC(12)=&SX15040002
               GDSVLC(12)'                                              15042002
 PUNCH '/*'                                                             15050002
.*                                                                      15240002
         AGO     .LPAEND       BYPASS ALLOCATION OF LPALIB FOR IO GEN   15250002
.NVS     ANOP                                                           15260002
&SGCTRLA(3)    SETA 1              INITIALIZE JOB  COUNTER              15262002
         JOBCARD                                                        15270002
         AIF   (&SGDSPSA(12) EQ 0).LPAEND     NO SPACE REQUESTED        15280002
&SGCTRLA(1)    SETA 1              INITIALIZE STEP COUNTER              15290002
 PUNCH '//LPA&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K'           ZA00125 15320002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          15360002
         AIF   (NOT &SGDSA1B(12)).PB1     BLOCKSIZE REQUESTED           15400002
         AIF   (NOT &SGDSA2B(12)).PT1     TRK SPECIFIED                 15440002
&A       SETC  'CYL'                                                    15480002
         AGO   .P1                                                      15520002
.PB1     ANOP                                                           15560002
&A       SETC  '&SGDSBZA(12)'                                           15600002
         AGO   .P1                                                      15640002
.PT1     ANOP                                                           15650002
&A       SETC  'TRK'                                                    15680002
.P1      AIF   ('&SGDSUNC(12)' NE '2314').P2                            15720002
&B       SETA  7294                                                     15760002
         AGO   .P6                                                      15800002
.P2 AIF ('&SGDSUNC(12)' NE '3330' AND '&SGDSUNC(12)' NE '3330-1').P3    15840002
&B       SETA  13030                                                    15880002
         AGO   .P6                                                      15920002
.P3      AIF   ('&SGDSUNC(12)' NE '2305-1').P4                          15960002
&B       SETA  14136                                                    16000002
         AGO   .P6                                                      16040002
.P4      AIF   ('&SGDSUNC(12)' NE '2305-2').P5                          16080002
&B       SETA  14660                                                    16120002
         AGO   .P6                                                      16160002
.P5      AIF   ('&SGDSUNC(12)' NE '3340').P59                  @Z30RSTA 16200024
&B       SETA  8368                                                     16240002
         AGO   .P6                                             @Z30RSTA 16250024
.P59     AIF   ('&SGDSUNC(12)' NE '3350').PERR                 @Z30RSTA 16260024
&B       SETA  19069                                           @ZM40407 16270024
         AGO   .P6                                             @Z30RSTA 16272024
.P6      ANOP                                                           16280002
  PUNCH  '//LPALIB DD DSN=&SGCTRLC(40)..LPALIB,DISP=(,KEEP),'           16320002
  PUNCH  '// VOLUME=(,RETAIN,SER=&SGDSVLC(12).),UNIT=&SGDSUNC(12).,'    16360002
         AIF   (&SGDSSSA(12) NE 0).PA20      SECONDARY REQUIRED         16370002
.PA50    ANOP                                                           16380002
  PUNCH  '// LABEL=EXPDT=99350,SPACE=(&A.,(&SGDSPSA(12).,,&SGDSDBA(12).*16390002
               )),DCB=(RECFM=U,BLKSIZE=&B.)'                            16400002
         AGO   .PCAT                                                    16410002
.PA20    ANOP                                                           16520002
 PUNCH  '// LABEL=EXPDT=99350,'                                         16560002
 PUNCH  '// DCB=(RECFM=U,BLKSIZE=&B.),SPACE=(&A.,(&SGDSPSA(12).,&SGDSSS*16600002
               A(12).,&SGDSDBA(12).))'                                  16640002
.PCAT    ANOP                                                           16840002
  PUNCH  '//SYSIN DD *'                                                 16880002
  PUNCH '  DEFINE   CAT (&SGVSNMC) -'                           OZ04623 16920024
  PUNCH '  NONVSAM ( NAME (&INDEX..LPALIB)   -'                         16960002
  PUNCH '            VOL (&SGDSVLC(12).)    DEVT (&SGDSUNC(12).))  '    17000002
  PUNCH '/*'                                                            17040002
         AGO   .LPAEND                                                  17080002
.PERR MNOTE 5,'* * * IEIGEN502 INVALID UNIT FOR LPALIB'                 17280002
&SGQUITB SETB  1                                                        17320002
.LPAEND  ANOP                                                           17360002
&SGCTRLC(5)    SETC '&OBJPDS'(6,6).'01'                                 17400002
.********************************************************************** 17440002
.****    LPALIB ASSEMBLIES                            ***************** 17480002
.********************************************************************** 17520002
.************* ALL-IO *****                                             17560002
**** SGIEF213 *** SCHEDULER                               *** SC1S5 *** 17600002
     SGIEF213                                                           17640002
&J  SETA 1                                                              17680002
.AUPDATE AIF  (&J EQ 1918).EUPDATE                              Z40ASVN 17720024
&SGDADRA(&J) SETA &DADRA(&J)                                            17760002
&J  SETA &J+1                                                           17800002
    AGO  .AUPDATE                                                       17840002
.EUPDATE ANOP                                                           17880002
.************* ALL-IO *****                                             17920002
**** SGIEF201 *** SCHEDULER                               *** SC1S5 *** 17960002
     SGIEF201                                                           18000002
.************* ALL-IO  *****                                            18010002
**** SGIEA2D1 *** SUPERVISOR                              *** SC1C4 *** 18020002
     SGIEA2D1                                                           18030002
.*                                                                 @F1D 18040002
.************* ALL-1O  ******                                      @F1C 18090002
**** SGIEF2PT *** SCHEDULER                               *** SC1S5 *** 18140002
     SGIEF2PT                                                           18190002
.************* ALL-IO *****                                        @F1C 18240002
**** SGIEF241 *** SCHEDULER                               *** SC1S5 *** 18290002
     SGIEF241                                                           18340002
.******* ALL-IO  ******                                            @F1C 18390002
*** SGIKJ2LP *** TSO SCHEDULER                            *** SC1T4 *** 18600002
    SGIKJ2LP                                                            18640002
.LPA    ANOP                                                            18680002
.********************************************************************** 18720002
.*****   LPALIB COPIES                                ***************** 18760002
.********************************************************************** 18800002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 18840002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1   BUMP STEP COUNTER                   18880002
.LPA1    ANOP                                                           18920002
 PUNCH '//LPA&SGCTRLA(1) EXEC PGM=IEBCOPY,REGION=512K,COND=(8,LT)'      18960002
 PUNCH '//SYSUT3 DD DSN=&&SYSUT3,SPACE=(1700,(10,5)),UNIT=SYSDA'        19000002
 PUNCH '//SYSUT4 DD DSN=&&SYSUT4,SPACE=(460,(30,24)),UNIT=SYSDA'        19040002
 PUNCH '//SYSPRINT DD SPACE=(3630,(500,100),RLSE),'                     19080002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 19120002
 PUNCH '//LPALIB DD DISP=OLD,DSN=&INDEX..LPALIB,UNIT=&SGCTRLC(19),'     19160002
 PUNCH '//        VOL=(,RETAIN,SER=&SGCTRLC(20))'                       19200002
 PUNCH '//ALPALIB DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.ALPALIB'     19240002
    AIF    ('&SGPDSUC(12)' EQ '' OR &GETB(3) EQ 1).NULPA                19280002
 PUNCH '//LPALIBA DD DISP=SHR,DSNAME=&SGPDSUC(12)'              ZA00124 19320002
.NULPA ANOP                                                             19360002
 PUNCH '//ACMDLIB DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.ACMDLIB'     19400002
 PUNCH '//AOSA0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSA0'         19440002
   AIF   (&GETB(3) OR NOT &SGMENTB(46)).NOJ3A IO OR NO JES3     Y30BS04 19441024
 PUNCH '//AOSBA DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSBA' Y30BS04 19442024
.NOJ3A   ANOP                                                   Y30BS04 19443024
 PUNCH '//AOSB0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSB0'         19480002
 PUNCH '//AOSB3 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSB3'         19520002
 PUNCH '//AOSCA DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSCA'         19560002
 PUNCH '//AOSCE DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSCE'         19600002
 PUNCH '//AOSC5 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSC5'         19640002
 PUNCH '//AOSC6 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSC6'         19680002
 PUNCH '//AOSD0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSD0'         19720002
 PUNCH '//AOSD7 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSD7'         19760002
 PUNCH '//AOSD8 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSD8'         19800002
 PUNCH '//AOSG0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSG0'         19840002
 PUNCH '//AOST3 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOST3'         19880002
 PUNCH '//AOST4 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOST4'         19920002
 PUNCH '//AOSU0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSU0'         19960002
 PUNCH '//AOS06 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS06'         20000002
.*                                                                 @F1D 20020002
 PUNCH '//AOS11 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS11'         20080002
 PUNCH '//AOS12 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS12'         20120002
 PUNCH '//AOS20 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS20'         20160002
 PUNCH '//AOS21 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS21'         20200002
 PUNCH '//AOS24 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS24'         20250003
 PUNCH '//SYSIN DD *'                                                   20280002
.********** ALL/IO *************                                        20320002
*** SGIEC500 *** IOS                                      *** SC1C3 *** 20360002
    SGIEC500                                                            20400002
.********** ALL/IO *************                                        20440002
*** SGIEC5PV *** ACCESS METHODS                           *** SC1D0 *** 20480002
    SGIEC5PV                                                            20520002
.********** ALL/IO *************                                        20560002
*** SGIEA501 *** SUPERVISOR                               *** SC1S4 *** 20600002
    SGIEA501                                                            20640002
.********** ALL/IO *************                               @ZA09975 20650024
*** SGIGG502 *** OCR-MICR                                 *** SC1D5 *** 20660024
    SGIGG502                                                   @ZA09975 20670024
.********** ALL/IO **********                                           20675037
*** SGIFF5LP *** GRAPHICS                                 *** SC1G0 *** 20680037
    SGIFF5LP                                                   @ZA26168 20685037
        AIF  (NOT &SGDCLSB(27)).N3540    3540 DEVICE IN SYSTEM? VS31752 20690003
.********** ALL/IO *************                                VS31752 20700003
*** SGIEB500 *** ERIC-II                                  *** SC1DN *** 20710003
    SGIEB500                                                    VS31752 20720003
.N3540  AIF   (&GETB(3)).LPA3             IO SYSGEN             OZ03926 20730024
         AIF   (NOT &SGMENTB(46)).NOJ3B    NO JES3              Y30BS04 20731024
.******* ALL *******                                            Y30BS04 20731224
*** SGIAT5SI *** JES3 TO LPALIB                           *** SC1BA *** 20731424
   SGIAT5SI                                                             20731624
.NOJ3B  AIF   (NOT &SGDCLSB(28)).LPA2 3851?                    Y30LSOS  20732024
.************** ALL *****                                      Y30LSOS  20740003
*** SGICB500 *** 3851                                     *** SC1DR *** 20760003
    SGICB500                                                            20800003
.LPA2   ANOP                                                            20810003
.************** ALL *****                                               20850003
*** SGIEC5DI *** BDAM                                     *** SC1D7 *** 20860003
    SGIEC5DI                                                            20870003
.************** ALL *****                                               20872003
*** SGIEC5IS *** ISAM                                     *** SC1D8 *** 20920002
    SGIEC5IS                                                            20960002
.************** ALL *****                                               21040002
*** SGIEH501 *** UTILITIES                                *** SC1U0 *** 21080002
    SGIEH501                                                            21120002
.************** ALL *****                                               21160002
*** SGIHJ500 *** CHECKPOINT/RESTART                       *** SC109 *** 21200002
    SGIHJ500                                                            21240002
.****************ALL                                                    21280002
*** SGIKJ5TT *** TSO TEST                                 *** SC1T1 *** 21320002
    SGIKJ5TT                                                            21360002
         AIF   (NOT &SGDMGTB(5) AND NOT &SGTSOB).NOTCM1         Z40DSVN 21560024
.******* ALL ********   CALL IF TCAM OR CMDS=YES                Z40DSVN 21600024
*** SGIKJ5EC *** TSO DATA MANAGEMENT                      *** SC1T3 *** 21640002
    SGIKJ5EC                                                            21680002
.NOTCM1   ANOP                                                          21720002
.********* ALL ************                                             21760002
*** SGIEC5DM *** DADSM                                    *** SC1D4 *** 21800002
    SGIEC5DM                                                            21840002
.********** ALL *************                                           21880002
*** SGAHL500 *** GTF                                      *** SC111 *** 21920002
    SGAHL500                                                            21960002
.********** ALL *************                                           22040002
*** SGIKJ541 *** SCHEDULER                                *** SC1S5 *** 22240002
    SGIKJ541                                                            22280002
.********** ALL *************                                           22320002
*** SGIHG501 *** UTILITIES                                *** SC1U9 *** 22360002
    SGIHG501                                                            22400002
.********** ALL *************                                           22480002
*** SGIED500 *** TCAM                                     *** SC121 *** 22520002
    SGIED500                                                            22560002
        ANOP                                                            22600003
        AIF  (NOT &SGDMGTB(6)).IED              VTAM NOT SPECIFIED      22760003
.********** ALL *************                                           22770003
*** SGIST511 *** VTAM                                     *** SC123 *** 22780003
    SGIST511                                                            22790003
.IED    ANOP                                                            22792003
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 22800002
 PUNCH '          COPY  INDD=ALPALIB,OUTDD=LPALIB'                      22840002
.***                                                                    22880002
.** THE FOLLOWING CHECKS IF THERE ARE ANY USER MEMBERS TO BE COPIED *** 22920002
.***                                                                    22960002
 AIF ('&SGMB01C(12)' EQ '' AND '&SGRES1C(12)' EQ '' AND '&SGLSIOC(1)'  *23000002
               EQ '' AND '&SGLEOEC(1)' EQ '' AND '&SGLCHEC(1)' EQ ''   *23040002
               AND '&SGLABEC(1)' EQ '' AND '&SGLPCIC(1)' EQ '').LPA3    23080002
 PUNCH '          COPY  OUTDD=LPALIB,INDD=LPALIBA'                      23120002
         AIF   ('&SGMB01C(12)' EQ '').LPA4                              23160002
 PUNCH '          SELECT MEMBER=&SGMB01C(12)'                           23200002
         AIF   ('&SGMB02C(12)' EQ '').LPA4                              23240002
 PUNCH '          SELECT MEMBER=&SGMB02C(12)'                           23280002
         AIF   ('&SGMB03C(12)' EQ '').LPA4                              23320002
 PUNCH '          SELECT MEMBER=&SGMB03C(12)'                           23360002
         AIF   ('&SGMB04C(12)' EQ '').LPA4                              23400002
 PUNCH '          SELECT MEMBER=&SGMB04C(12)'                           23440002
         AIF   ('&SGMB05C(12)' EQ '').LPA4                              23480002
 PUNCH '          SELECT MEMBER=&SGMB05C(12)'                           23520002
         AIF   ('&SGMB06C(12)' EQ '').LPA4                              23560002
 PUNCH '          SELECT MEMBER=&SGMB06C(12)'                           23600002
         AIF   ('&SGMB07C(12)' EQ '').LPA4                              23640002
 PUNCH '          SELECT MEMBER=&SGMB07C(12)'                           23680002
         AIF   ('&SGMB08C(12)' EQ '').LPA4                              23720002
 PUNCH '          SELECT MEMBER=&SGMB08C(12)'                           23760002
         AIF   ('&SGMB09C(12)' EQ '').LPA4                              23800002
 PUNCH '          SELECT MEMBER=&SGMB09C(12)'                           23840002
         AIF   ('&SGMB10C(12)' EQ '').LPA4                              23880002
 PUNCH '          SELECT MEMBER=&SGMB10C(12)'                           23920002
         AIF   ('&SGMB11C(12)' EQ '').LPA4                              23960002
 PUNCH '          SELECT MEMBER=&SGMB11C(12)'                           24000002
         AIF   ('&SGMB12C(12)' EQ '').LPA4                              24040002
 PUNCH '          SELECT MEMBER=&SGMB12C(12)'                           24080002
         AIF   ('&SGMB13C(12)' EQ '').LPA4                              24120002
 PUNCH '          SELECT MEMBER=&SGMB13C(12)'                           24160002
         AIF   ('&SGMB14C(12)' EQ '').LPA4                              24200002
 PUNCH '          SELECT MEMBER=&SGMB14C(12)'                           24240002
         AIF   ('&SGMB15C(12)' EQ '').LPA4                              24280002
 PUNCH '          SELECT MEMBER=&SGMB15C(12)'                           24320002
         AIF   ('&SGMB16C(12)' EQ '').LPA4                              24360002
 PUNCH '          SELECT MEMBER=&SGMB16C(12)'                           24400002
         AIF   ('&SGMB17C(12)' EQ '').LPA4                              24440002
 PUNCH '          SELECT MEMBER=&SGMB17C(12)'                           24480002
         AIF   ('&SGMB18C(12)' EQ '').LPA4                              24520002
 PUNCH '          SELECT MEMBER=&SGMB18C(12)'                           24560002
         AIF   ('&SGMB19C(12)' EQ '').LPA4                              24600002
 PUNCH '          SELECT MEMBER=&SGMB19C(12)'                           24640002
         AIF   ('&SGMB20C(12)' EQ '').LPA4                              24680002
 PUNCH '          SELECT MEMBER=&SGMB20C(12)'                           24720002
.LPA4    AIF   ('&SGRES1C(12)' EQ '').LPA5                              24760002
 PUNCH '          SELECT MEMBER=&SGRES1C(12)'                           24800002
         AIF   ('&SGRES2C(12)' EQ '').LPA5                              24840002
 PUNCH '          SELECT MEMBER=&SGRES2C(12)'                           24880002
         AIF   ('&SGRES3C(12)' EQ '').LPA5                              24920002
 PUNCH '          SELECT MEMBER=&SGRES3C(12)'                           24960002
         AIF   ('&SGRES4C(12)' EQ '').LPA5                              25000002
 PUNCH '          SELECT MEMBER=&SGRES4C(12)'                           25040002
         AIF   ('&SGRES5C(12)' EQ '').LPA5                              25080002
 PUNCH '          SELECT MEMBER=&SGRES5C(12)'                           25120002
         AIF   ('&SGRES6C(12)' EQ '').LPA5                              25160002
 PUNCH '          SELECT MEMBER=&SGRES6C(12)'                           25200002
         AIF   ('&SGRES7C(12)' EQ '').LPA5                              25240002
 PUNCH '          SELECT MEMBER=&SGRES7C(12)'                           25280002
         AIF   ('&SGRES8C(12)' EQ '').LPA5                              25320002
 PUNCH '          SELECT MEMBER=&SGRES8C(12)'                           25360002
         AIF   ('&SGRES9C(12)' EQ '').LPA5                              25400002
 PUNCH '          SELECT MEMBER=&SGRES9C(12)'                           25440002
         AIF   ('&SGRESAC(12)' EQ '').LPA5                              25480002
 PUNCH '          SELECT MEMBER=&SGRESAC(12)'                           25520002
.LPA5    ANOP                                                           25560002
&I       SETA  1                                                        25600002
&CTR1    SETA  1                                                        25640002
.LPA6    AIF   (K'&SGLSIOC(&CTR1) LE &I).LPA7                           25680002
&N       SETC  '&SGLSIOC(&CTR1)'(&I,2)                                  25720002
  PUNCH '          SELECT MEMBER=IGG019&N'                              25760002
&I       SETA  &I+2                                                     25800002
         AIF   (&I LT 8).LPA6                                           25840002
&CTR1    SETA  &CTR1+1                                                  25880002
&I       SETA  1                                                        25920002
         AIF   (&CTR1 LE 21).LPA6                                       25960002
.LPA7    ANOP                                                           26000002
&I       SETA  1                                                        26040002
&CTR1    SETA  1                                                        26080002
.LPA8    AIF   (K'&SGLEOEC(&CTR1) LE &I).LPA9                           26120002
&N       SETC  '&SGLEOEC(&CTR1)'(&I,2)                                  26160002
  PUNCH '          SELECT MEMBER=IGG019&N'                              26200002
&I       SETA  &I+2                                                     26240002
         AIF   (&I LT 8).LPA8                                           26280002
&CTR1    SETA  &CTR1+1                                                  26320002
&I       SETA  1                                                        26360002
         AIF   (&CTR1 LE 21).LPA8                                       26400002
.LPA9    ANOP                                                           26440002
&I       SETA  1                                                        26480002
&CTR1    SETA  1                                                        26520002
.LPA10   AIF   (K'&SGLCHEC(&CTR1) LE &I).LPA11                          26560002
&N       SETC  '&SGLCHEC(&CTR1)'(&I,2)                                  26600002
  PUNCH '          SELECT MEMBER=IGG019&N'                              26640002
&I       SETA  &I+2                                                     26680002
         AIF   (&I LT 8).LPA10                                          26720002
&CTR1    SETA  &CTR1+1                                                  26760002
&I       SETA  1                                                        26800002
         AIF   (&CTR1 LE 21).LPA10                                      26840002
.LPA11   ANOP                                                           26880002
&I       SETA  1                                                        26920002
&CTR1    SETA  1                                                        26960002
.LPA12   AIF   (K'&SGLABEC(&CTR1) LE &I).LPA13                          27000002
&N       SETC  '&SGLABEC(&CTR1)'(&I,2)                                  27040002
  PUNCH '          SELECT MEMBER=IGG019&N'                              27080002
&I       SETA  &I+2                                                     27120002
         AIF   (&I LT 8).LPA12                                          27160002
&CTR1    SETA  &CTR1+1                                                  27200002
&I       SETA  1                                                        27240002
         AIF   (&CTR1 LE 21).LPA12                                      27280002
.LPA13   ANOP                                                           27320002
&I       SETA  1                                                        27360002
&CTR1    SETA  1                                                        27400002
.LPA14   AIF   (K'&SGLPCIC(&CTR1) LE &I).LPA3                           27440002
&N       SETC  '&SGLPCIC(&CTR1)'(&I,2)                                  27480002
  PUNCH '          SELECT MEMBER=IGG019&N'                              27520002
&I       SETA  &I+2                                                     27560002
         AIF   (&I LT 8).LPA14                                          27600002
&I       SETA  1                                                        27640002
&CTR1    SETA  &CTR1+1                                                  27680002
         AIF   (&CTR1 LE 21).LPA14                                      27720002
.LPA3   ANOP                                                            27730002
 PUNCH '/*'                                                             27740002
.********************************************************************** 27760002
.*****      LPALIB LINKEDIT                         ******************* 27800002
.********************************************************************** 27840002
.************** ALL-IO *****                                            27920002
*** SGIEF441 *** SCHEDULER                                *** SC1S5 *** 27960002
    SGIEF441                                                            28000002
.************** ALL-IO *****                                            28040002
**** SGIEA401 ****  SUPERVISOR                            *** SC1S4 *** 28080002
     SGIEA401                                                           28120002
.************** ALL-IO *****                                            28130002
**** SGIEA4D1 ***  SUPERVISOR                             *** SC1C4 *** 28140002
     SGIEA4D1                                                           28150002
.************** ALL-IO *****                                   @ZA25672 28160037
*** SGIEC4DI *** DAM                                      *** SC1D7 *** 28200037
    SGIEC4DI                                                            28240037
         AIF   (&GETB(3)).LPA16        I/O GEN                 @ZA25672 28280037
.******* ALL ********                                                   28360002
*** SGIKJ4EC *** TSO TIOC                                 *** SC1T3 *** 28400002
    SGIKJ4EC                                                            28440002
.*                                                         R   ZA00130  28520002
.******* ALL ********                                                   28560002
*** SGIKJ4EJ *** TSO UTILITIES                            *** SC1T2 *** 28600002
    SGIKJ4EJ                                                            28640002
         AIF   (NOT &SGDCLSB(28)).LPA15        MSS?             G24LSVN 28680024
         AIF   (NOT &SGIHASU(24)).LPA15        SU24 PRESENT?    G32DSVN 28685037
.**** ALL ***                                                   G24LSVN 28690024
*** SGICB405 ***  MSS                                     *** SC1DR *** 28700024
    SGICB405                                                            28710024
.LPA15   ANOP                                                   G24LSVN 28720024
.**** ALL ***                                                           28840002
**** SGIEC4PS *** O/C/E                                   *** SC1D1 *** 28880002
     SGIEC4PS                                                           28920002
.**** ALL ***                                                           28960002
**** SGIEC4DM *** DADSM                                   *** SC1D4 *** 29000002
     SGIEC4DM                                                           29040002
.***** ALL *****                                                        29080002
*** SGIFD402 *** OLTEP                                    *** SC106 *** 29120002
    SGIFD402                                                            29160002
.**** ALL ***                                                           29200002
**** SGIGF401 *** RMS                                     *** SC1CE *** 29240002
     SGIGF401                                                           29280002
.**** ALL ****                                                  Z40RSVN 29281024
**** SGICH400 ***   RACF                                  *** SC1BN *** 29282037
     SGICH400                                                           29283024
.*                                                                 @F1D 29293002
.**** ALL ****                                                          29320002
**** SGAHL400 *** GTF                                     *** SC111 *** 29600002
     SGAHL400                                                           29640002
.*** ALL ***                                                            29680002
*** SGIDA401 *** VSAM                                     *** SG1DE *** 29720002
    SGIDA401                                                            29760002
.**** ALL ****                                                          29800002
*** SGIDA400  *** VIO                                     *** SC1DJ *** 29840002
    SGIDA400                                                            29880002
.**** ALL ****                                                          29920002
*** SGIAS400  *** JES2                                    *** SC1BH *** 29960002
    SGIAS400                                                            30000002
        AIF  (NOT &SGDMGTB(6)).LPA20            VTAM?                   30010003
.********** ALL *************                                           30020003
*** SGIST411 *** VTAM                                     *** SC123 *** 30030003
    SGIST411                                                            30040003
.LPA20  ANOP                                                            30050003
.********************************************************************** 30120002
.*****               LPALIB RENAME                  ******************* 30140003
.********************************************************************** 30150003
.LPA16   ANOP                                                           30160002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 30200002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1  INCR STEP COUNTER                    30240002
         AIF   ('&INDEX' EQ 'SYS1').L8  SKIP RENAME                     30280002
         AIF   (&GETB(3)).L7        IO GEN                              30290002
 PUNCH '//LPA&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K,COND=(8,LT)'       30300002
 PUNCH '//STEPCAT DD DISP=SHR,DSN=&SGVSNMC'                             30400002
 PUNCH '//SYSPRINT DD SYSOUT=&SGCTRLC(41)'                              30440002
 PUNCH '//SYSIN DD *'                                                   30480002
 PUNCH '  ALTER       -'                                                30520002
 PUNCH '   &INDEX..LPALIB  NEWNAME (SYS1.LPALIB) -'             OZ04623 30560024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 30570024
 PUNCH '/*'                                                             30600002
         AGO   .L8        LIST RENAMED LPALIB                           30650002
.L7     ANOP              FOR IO GEN - RENAME LPALIB                    30652002
 PUNCH '//LPA&SGCTRLA(1) EXEC PGM=IEHPROGM,COND=(8,LT)'                 30660002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          30670002
 PUNCH '//LPALIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(12).),UNIT=&SGDSUNC(12X30674002
               ),DISP=OLD'                                              30674402
 PUNCH '//SYSIN DD *'                                                   30676002
 PUNCH '  RENAME NEWNAME=SYS1.LPALIB,                                  X30678002
                       X'                                               30678402
 PUNCH '               DSNAME=&SGCTRLC(40)..LPALIB,VOL=&SGDSUNC(12)=&SGX30678502
               DSVLC(12)'                                               30678602
 PUNCH '/*'                                                             30678802
.L8      ANOP                                                           30680002
.********************************************************************** 31000002
.*****   JOB 2                                          *************** 31040002
.*****         OBJPDS02                                 *************** 31080002
.*****         ALLOCATE AND CATALOG LINKLIB             ********** @F1C 31120002
.*****         ASSEMBLIES                               *************** 31160002
.*****         LINKLIB COPIES                           *************** 31200002
.*****         LINKLIB LINKEDITS                        *************** 31240002
.*****         RENAME AND LIST(PDS)                     *************** 31280002
.********************************************************************** 31320002
.*                                                                      31360002
.*          CALL JOBCARD MACRO FOR ALLOCATION/CATALOG JOB               31400002
.*                                                                      31440002
&SGCTRLA(1) SETA  0                                                     31480002
&SGCTRLA(3) SETA  &SGCTRLA(3)+1                                         31520002
         JOBCARD                                                        31530002
.********************************************************************** 31540002
.****    IO GENERATION ONLY - LINKLIB RENAMED IF INDEX IS NOT SYS1  *** 31550002
.********************************************************************** 31560002
         AIF   (NOT &GETB(3)).LINKSPC  NOT AN I/O SYSTEM GENERATION     31570002
         AIF   ('&INDEX' EQ 'SYS1').LINKEND  NO NEED TO RENAME          31580002
&SGCTRLA(1)    SETA 1                        SET STEP COUNTER           31582002
 PUNCH '//LNK&SGCTRLA(1) EXEC PGM=IEHPROGM'                             31590002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          31600002
 PUNCH '//LINKLIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(6).),UNIT=&SGDSUNC(6)X31620002
               ,DISP=OLD'                                               31622002
 PUNCH '//SYSIN DD *'                                                   31630002
 PUNCH ' RENAME DSNAME=SYS1.LINKLIB,                                   X31640002
                       X'                                               31642002
 PUNCH '               NEWNAME=&SGCTRLC(40)..LINKLIB,VOL=&SGDSUNC(6)=&SX31650002
               GDSVLC(6)'                                               31652002
 PUNCH '/*'                                                             31660002
         AGO   .LINKEND                                                 31670002
.********************************************************************** 31680002
.*****                   LINKLIB ALLOCATION FOR ALL GEN       *****@F1C 31690002
.********************************************************************** 31698002
.LINKSPC  ANOP                      IS LINKLIB PREALLOCATED        @F1C 31706002
          AIF   (&SGDSPSA(6) EQ 0).LINKEND                         @F1C 31714002
&SGCTRLA(1)    SETA 1                        SET STEP COUNTER           31750002
 PUNCH '//LNK&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K'                   31760002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          31800002
         AIF   (NOT &SGDSA1B(6)).LB1      BLOCKSIZE REQUESTED           31880002
         AIF   (NOT &SGDSA2B(6)).LT1      TRK SPECIFIED                 31920002
&A       SETC  'CYL'                                                    31960002
         AGO   .L1                                                      32000002
.LB1     ANOP                                                           32040002
&A       SETC  '&SGDSBZA(6)'                                            32080002
         AGO   .L1                                                      32120002
.LT1     ANOP                                                           32160002
&A       SETC  'TRK'                                                    32200002
.L1      AIF   ('&SGDSUNC(6)' NE '2314').L2                             32240002
&B       SETA  7294                                                     32280002
         AGO   .L6                                                      32320002
.L2 AIF ('&SGDSUNC(6)' NE '3330' AND '&SGDSUNC(6)' NE '3330-1').L3      32360002
&B       SETA  13030                                                    32400002
         AGO   .L6                                                      32440002
.L3      AIF   ('&SGDSUNC(6)' NE '2305-1').L4                           32480002
&B       SETA  14136                                                    32520002
         AGO   .L6                                                      32560002
.L4      AIF   ('&SGDSUNC(6)' NE '2305-2').L5                           32600002
&B       SETA  14660                                                    32640002
         AGO   .L6                                                      32680002
.L5      AIF   ('&SGDSUNC(6)' NE '3340').L59                   @Z30RSTA 32720024
&B       SETA  8368                                                     32760002
         AGO   .L6                                             @Z30RSTA 32770024
.L59     AIF   ('&SGDSUNC(6)' NE '3350').LERR                  @Z30RSTA 32780024
&B       SETA  19069                                           @ZM40407 32790024
         AGO   .L6                                             @Z30RSTA 32792024
.L6      ANOP                                                           32800002
 PUNCH '//LINKLIB DD DSN=&SGCTRLC(40)..LINKLIB,DISP=(,KEEP),'           32840002
 PUNCH '// VOLUME=(,RETAIN,SER=&SGDSVLC(6).),UNIT=&SGDSUNC(6).,'        32880002
         AIF   (&SGDSSSA(6) NE 0).LA20      SECONDARY REQUIRED          32890002
.LA50    ANOP                                                           32900002
 PUNCH '// LABEL=EXPDT=99350,SPACE=(&A.,(&SGDSPSA(6).,,&SGDSDBA(6).)),' 32910002
 PUNCH '//    DCB=(RECFM=U,BLKSIZE=&B.)'                                32920002
         AGO   .CAT1                                                    32930002
.LA20    ANOP                                                           33040002
 PUNCH '// LABEL=EXPDT=99350,'                                          33080002
 PUNCH '// DCB=(RECFM=U,BLKSIZE=&B.),SPACE=(&A.,(&SGDSPSA(6).,&SGDSSSA(*33120002
               6).,&SGDSDBA(6).))'                                      33160002
.*                                                                 @F1D 33210002
.CAT1   ANOP                                                            33360002
 PUNCH '//SYSIN DD *'                                                   33410002
         AIF (&SGDSPSA(6) EQ 0).CAT3      LINKLIB PREDEFINED            33460002
 PUNCH '  DEFINE  CAT (&SGVSNMC) -'                             OZ04623 33510002
 PUNCH '  NONVSAM ( NAME (&INDEX..LINKLIB)    -'                        33560002
 PUNCH '            VOL (&SGDSVLC(6).)      DEVT (&SGDSUNC(6).))   '    33610002
.CAT3   ANOP                                                            33920002
 PUNCH '/*'                                                             33960002
         AGO   .LINKEND                                                 34000002
.LERR MNOTE 5,'* * *  IEIGEN504 INVALID UNIT FOR LINKLIB'               34200002
&SGQUITB SETB  1                                                        34240002
.LINKEND ANOP                                                           34280002
.********************************************************************** 34320002
.*****         LINKLIB ASSEMBLIES                             ********* 34360002
.********************************************************************** 34400002
&SGCTRLC(5)    SETC '&OBJPDS'(6,6).'02'   SET OBJPDS GLOBAL             34520002
.************* ALL-IO  *******                                     @F1C 34560002
*** SGIEF2SS *** SCHEDULER                                *** SC1S5 *** 34580002
    SGIEF2SS                                                            34600002
.************** ALL-IO  *******                                    @F1C 34620002
*** SGIEF240 *** SCHEDULER                                *** SC1S5 *** 34640002
    SGIEF240                                                            34660002
         AIF (&GETB(3)).LINKX1            IO SYSGEN?               @F1M 34680002
.************** ALL *****                                               34840002
*** SGHEW210 *** LINK EDITOR F                            *** SC104 *** 34880002
    SGHEW210                                                            34920002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 34960002
.LINKX1  AIF   (NOT &GETB(3)).LINKX2                            VS30854 35010003
         AIF   (&SGDCLSB(61)).LINKX2                            VS30854 35020003
         AIF   ((&SGSCHDA(10) GT 0) OR (&SGSCHDA(11) GT 0) OR (&SG5450A*35030003
                GT 0)).LINKX2                                   VS30854 35032003
       AIF  ((&SGSCHDA(17) GT 0) OR (&SGSCHDA(18) GT 0)).LINKX2 VS30854 35034003
       AIF  ((&SGSCHDA(19) GT 0) OR (&SGSCHDA(20) GT 0)).LINKX2 VS30854 35036003
         AGO   .R0                                              VS30854 35038003
.LINKX2  ANOP                                                   VS30854 35038403
.********************************************************************** 35040002
.*            *** JOB *** LINKLIB COPIES ************                 * 35080002
.********************************************************************** 35120002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1         INCREMENT STEP COUNTER        35160002
 PUNCH '//LNK&SGCTRLA(1) EXEC PGM=IEBCOPY,REGION=512K,COND=(8,LT)'      35200002
 PUNCH '//SYSUT3 DD DSN=&&SYSUT3,SPACE=(1700,(10,5)),UNIT=SYSDA'        35240002
 PUNCH '//SYSUT4 DD DSN=&&SYSUT4,SPACE=(460,(30,24)),UNIT=SYSDA'        35280002
 PUNCH '//SYSPRINT DD SPACE=(3630,(500,100),RLSE),'                     35320002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 35360002
 PUNCH '//LINKLIB DD DSNAME=&SGCTRLC(40)..LINKLIB,DISP=OLD,'            35400002
 PUNCH '//     UNIT=&SGCTRLC(31),VOL=(,RETAIN,SER=&SGCTRLC(32))'        35440002
 AIF       ('&SGPDSUC(6)' EQ '' OR &GETB(3) EQ 1).LINK10                35480002
 PUNCH '//LINKLIBA DD DISP=SHR,DSNAME=&SGPDSUC(6)'              ZA00124 35520002
.LINK10    ANOP                                                         35560002
 PUNCH '//ACMDLIB DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.ACMDLIB'     35600002
 PUNCH '//AOSB3 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSB3'         35640002
 PUNCH '//AOSCE DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSCE'         35680002
 PUNCH '//AOSC5 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSC5'         35720002
 PUNCH '//AOSD0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSD0' VS30863 35730003
 PUNCH '//AOSG0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSG0'         35760002
 PUNCH '//AOST3 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOST3'         35800024
 PUNCH '//AOST4 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOST4'         35840024
 PUNCH '//AOSU0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSU0'         35880002
 PUNCH '//AOS00 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS00'         35920002
 PUNCH '//AOS05 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS05'         35960002
 PUNCH '//AOS07 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS07'         36000002
.*                                                                 @F1D 36020002
 PUNCH '//AOS11 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS11'         36080002
 PUNCH '//AOS12 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS12'         36120002
 PUNCH '//AOS20 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS20'         36160002
 PUNCH '//AOS21 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS21'         36200002
 PUNCH '//AOS26 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS26'         36210003
.M4      ANOP                                                           36240002
 PUNCH '//SYSIN DD *'                                                   36280002
         AIF   (&GETB(3)).NE0        I/O GEN                            36320002
.************** ALL *****                                               36360002
*** SGAMA501 *** SERVICE AIDS                             *** SC113 *** 36400002
    SGAMA501                                                            36440002
.************** ALL *****                                               36480002
*** SGHEW560 *** LOADER                                   *** SC105 *** 36520002
    SGHEW560                                                            36560002
.*                                   BTAM TCAM OR 2955 SPECIFIED?       36600002
     AIF   (NOT(&SGDMGTB(4) OR &SGDMGTB(5) OR &SGDCLSB(72))).MA         36640002
.************* ALL **********                                           36680002
*** SGIED501 ***  TCAM                                    *** SC121 *** 36720002
    SGIED501                                                            36760002
.MA      ANOP                                                           36800002
.************* ALL **********                                           36840002
*** SGIGF501 ***  RMS                                     *** SC1CE *** 36880002
    SGIGF501                                                            36920002
.******* ALL ********                                                   36960002
*** SGIKJ540 *** TSO SCHEDULER                            *** SC1S5 *** 37000002
    SGIKJ540                                                            37040002
        AIF   (NOT &SGDCLSB(28)).NE0  3851?                    Y30LSOS  37050003
.************** ALL *****                                      Y30LSOS  37060003
*** SGICB501 *** 3851                                     *** SC1DR *** 37070003
    SGICB501                                                            37072003
.************** ALL *****                                      Y30LSOS  37074003
*** SGICG500 *** 3851                                     *** SC1DT *** 37076003
    SGICG500                                                            37078003
.NE0   ANOP                                                             37080002
.************** ALL-IO *****                                            37120002
*** SGIGG501 *** IEBTCRIN UTILITY                         *** SC1D5 *** 37160002
    SGIGG501                                                            37200002
.************* ALL-I/O *****                                            37240002
*** SGIEA500 *** SUPERVISOR                               *** SC1S4 *** 37280002
    SGIEA500                                                            37320002
         AIF   (NOT &GETB(3)).NE1                                       37360002
 PUNCH '/*'                                                             37370002
         AGO   .R0                                                      37380002
.************** ALL *****                                               37400002
.NE1     AIF (NOT(&SGMENTB(12))).R1       GRAPHICS NOT SPECIFIED?       37440002
*** SGIFF5LS *** GRAPHIC PROGRAM SERVICES                 *** SC1G0 *** 37480002
    SGIFF5LS                                                            37520002
.R1   ANOP                                                              37560002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 37600002
.**                                                                     37640002
.** THE FOLLOWING CHECKS IF THERE ARE ANY USER MEMBERS TO BE COPIED *** 37680002
.**                                                                     37720002
    AIF ('&SGMB01C(6)' EQ '' AND '&SGRES1C(6)' EQ '').LINK11            37760002
 PUNCH '          COPY  OUTDD=LINKLIB,INDD=LINKLIBA'                    37800002
         AIF   ('&SGMB01C(6)' EQ '').LINK12                             37840002
 PUNCH '          SELECT MEMBER=&SGMB01C(6)'                            37880002
         AIF   ('&SGMB02C(6)' EQ '').LINK12                             37920002
 PUNCH '          SELECT MEMBER=&SGMB02C(6)'                            37960002
         AIF   ('&SGMB03C(6)' EQ '').LINK12                             38000002
 PUNCH '          SELECT MEMBER=&SGMB03C(6)'                            38040002
         AIF   ('&SGMB04C(6)' EQ '').LINK12                             38080002
 PUNCH '          SELECT MEMBER=&SGMB04C(6)'                            38120002
         AIF   ('&SGMB05C(6)' EQ '').LINK12                             38160002
 PUNCH '          SELECT MEMBER=&SGMB05C(6)'                            38200002
         AIF   ('&SGMB06C(6)' EQ '').LINK12                             38240002
 PUNCH '          SELECT MEMBER=&SGMB06C(6)'                            38280002
         AIF   ('&SGMB07C(6)' EQ '').LINK12                             38320002
 PUNCH '          SELECT MEMBER=&SGMB07C(6)'                            38360002
         AIF   ('&SGMB08C(6)' EQ '').LINK12                             38400002
 PUNCH '          SELECT MEMBER=&SGMB08C(6)'                            38440002
         AIF   ('&SGMB09C(6)' EQ '').LINK12                             38480002
 PUNCH '          SELECT MEMBER=&SGMB09C(6)'                            38520002
         AIF   ('&SGMB10C(6)' EQ '').LINK12                             38560002
 PUNCH '          SELECT MEMBER=&SGMB10C(6)'                            38600002
         AIF   ('&SGMB11C(6)' EQ '').LINK12                             38640002
 PUNCH '          SELECT MEMBER=&SGMB11C(6)'                            38680002
         AIF   ('&SGMB12C(6)' EQ '').LINK12                             38720002
 PUNCH '          SELECT MEMBER=&SGMB12C(6)'                            38760002
         AIF   ('&SGMB13C(6)' EQ '').LINK12                             38800002
 PUNCH '          SELECT MEMBER=&SGMB13C(6)'                            38840002
         AIF   ('&SGMB14C(6)' EQ '').LINK12                             38880002
 PUNCH '          SELECT MEMBER=&SGMB14C(6)'                            38920002
         AIF   ('&SGMB15C(6)' EQ '').LINK12                             38960002
 PUNCH '          SELECT MEMBER=&SGMB15C(6)'                            39000002
         AIF   ('&SGMB16C(6)' EQ '').LINK12                             39040002
 PUNCH '          SELECT MEMBER=&SGMB16C(6)'                            39080002
         AIF   ('&SGMB17C(6)' EQ '').LINK12                             39120002
 PUNCH '          SELECT MEMBER=&SGMB17C(6)'                            39160002
         AIF   ('&SGMB18C(6)' EQ '').LINK12                             39200002
 PUNCH '          SELECT MEMBER=&SGMB18C(6)'                            39240002
         AIF   ('&SGMB19C(6)' EQ '').LINK12                             39280002
 PUNCH '          SELECT MEMBER=&SGMB19C(6)'                            39320002
         AIF   ('&SGMB20C(6)' EQ '').LINK12                             39360002
 PUNCH '          SELECT MEMBER=&SGMB20C(6)'                            39400002
.LINK12  AIF   ('&SGRES1C(6)' EQ '').LINK11                             39440002
 PUNCH '          SELECT MEMBER=&SGRES1C(6)'                            39480002
         AIF   ('&SGRES2C(6)' EQ '').LINK11                             39520002
 PUNCH '          SELECT MEMBER=&SGRES2C(6)'                            39560002
         AIF   ('&SGRES3C(6)' EQ '').LINK11                             39600002
 PUNCH '          SELECT MEMBER=&SGRES3C(6)'                            39640002
         AIF   ('&SGRES4C(6)' EQ '').LINK11                             39680002
 PUNCH '          SELECT MEMBER=&SGRES4C(6)'                            39720002
         AIF   ('&SGRES5C(6)' EQ '').LINK11                             39760002
 PUNCH '          SELECT MEMBER=&SGRES5C(6)'                            39800002
         AIF   ('&SGRES6C(6)' EQ '').LINK11                             39840002
 PUNCH '          SELECT MEMBER=&SGRES6C(6)'                            39880002
         AIF   ('&SGRES7C(6)' EQ '').LINK11                             39920002
 PUNCH '          SELECT MEMBER=&SGRES7C(6)'                            39960002
         AIF   ('&SGRES8C(6)' EQ '').LINK11                             40000002
 PUNCH '          SELECT MEMBER=&SGRES8C(6)'                            40040002
         AIF   ('&SGRES9C(6)' EQ '').LINK11                             40080002
 PUNCH '          SELECT MEMBER=&SGRES9C(6)'                            40120002
         AIF   ('&SGRESAC(6)' EQ '').LINK11                             40160002
 PUNCH '          SELECT MEMBER=&SGRESAC(6)'                            40200002
.LINK11    ANOP                                                         40240002
 PUNCH '/*'                                                             40280002
.********************************************************************** 40320002
.*****   STEP   LINKEDIT TO LINKLIB                          ********** 40360002
.********************************************************************** 40400002
.************** ALL ***********                                         40440002
*** SGIFO401 *** ASSEM XF                                 *** SC103 *** 40480002
    SGIFO401                                                            40520002
.***********ALL ***************                                         40560002
*** SGHEW410 *** LINK EDITOR                              *** SC104 *** 40600002
    SGHEW410                                                            40640002
.***********ALL ***************                                         40680002
*** SGHEW460 *** LOADER                                   *** SC105 *** 40720002
    SGHEW460                                                            40760002
.************** ALL *****                                               40800002
*** SGIDC401 *** AMS UTILITY                              *** SC1DK *** 40840002
    SGIDC401                                                            40880002
.************** ALL *****                                               40920002
*** SGIEH401 *** UTILITIES                                *** SC1U0 *** 40960002
    SGIEH401                                                            41000002
.************** ALL *****                                               41040002
*** SGIEH402 *** UTILITIES                                *** SC1UX *** 41080002
    SGIEH402                                                            41120002
.************** ALL *****                                          @F1A 41130000
*** SGIEH404 *** UTILITIES                                *** SC1U0 *** 41140000
    SGIEH404                                                            41150000
.************** ALL *****                                               41160002
*** SGILR400 *** ASM                                      *** SC1CW *** 41200002
    SGILR400                                                            41240002
.*                                                                 @F1D 41270002
.************** ALL *****                                               41400002
*** SGIHG401 *** UTILITIES                                *** SC1U9 *** 41440002
    SGIHG401                                                            41480002
.************** ALL *****                                               41520002
*** SGAMA401 *** SERVICE AIDS                             *** SC113 *** 41560002
    SGAMA401                                                            41600002
.************** ALL *****                                       Z40RSVN 41721024
**** SGICH401 ***   RACF                                  *** SC1BN *** 41722037
     SGICH401                                                           41723024
.**** ALL ****                                                          41760002
*** SGIEA400 *** SUPERVISOR                               *** SC1S4 *** 41800002
    SGIEA400                                                            41840002
        AIF   (NOT &SGDCLSB(28)).R1A  3851?                    Y30LSOS  41840403
.************** ALL *****                                      Y30LSOS  41840803
*** SGICB400 *** 3851                                     *** SC1DR *** 41841203
    SGICB400                                                            41851203
.************** ALL *****                                      Y30LSOS  41853203
*** SGICG400 *** 3851                                     *** SC1DT *** 41855203
    SGICG400                                                            41857203
.R1A     AIF   (NOT &SGDMGTB(6)).R0A              VTAM?         Z40DSVN 41859224
.************** ALL *****                                               41866224
*** SGIST412 *** VTAM                                     *** SC123 *** 41873224
    SGIST412                                                            41880224
.R0A     AIF   (NOT &SGTSOB OR NOT &SGDMGTB(6)).R0B CMDS? VTAM? Z40DSVN 41887200
         AIF   (NOT &SGIHASU(13)).R0B   SKIP IF SU13 ABSENT     G32DSVN 41889200
.************** ALL *****                                       Z40DSVN 41891200
*** SGIKT400 *** TSO/VTAM                                 *** SC1T9 *** 41893200
    SGIKT400                                                            41895200
.************** ALL *****                                      @OZ31090 41897200
.*** LINK DEMF  *********                                      @OZ31090 41899200
.R0B      AIF    (NOT(&SGIHASU(68))).R0       DEMF SU PRESENT? @OZ31090 41901200
***  SGBNG400 *** DEMF ****                                             41903200
     SGBNG400                                                           41905200
.R0 ANOP                                REMOVE 2955 TEST        OZ03927 41920024
.************** ALL-IO *******                                     @F1M 41940002
*** SGIEF440 *** SCHEDULER                                *** SC1S5 *** 41960002
    SGIEF440                                                            41980002
.************** ALL/IO *****                                            42000002
*** SGIFD401 *** OLTEP                                    *** SC106 *** 42040002
    SGIFD401                                                            42080002
.************** ALL/IO *****                                            42160002
*** SGIFB400 *** EREP                                     *** SC1CD *** 42200002
    SGIFB400                                                            42240002
        AIF  (NOT &SGDCLSB(27)).R4       3540 DEVICE IN THE SYSTEM?@F1C 42250002
.********** ALL/IO *************                                        42280002
*** SGIEB400 *** ERIC-II                                  *** SC1DN *** 42310002
    SGIEB400                                                            42340002
.*                                                                 @F1D 42370002
.R4    ANOP                                                             42400002
.********************************************************************** 42430002
.****                  RENAME LINKLIB                              @F1C 42460002
.********************************************************************** 42720002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 42730002
         AIF   ('&INDEX' EQ 'SYS1').LS8                                 42740002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1        INCR STEP COUNTER              42760002
         AIF   (&GETB(3)).LS7       IO GEN                              42770002
 PUNCH '//LNK&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K,COND=(8,LT)'       42940002
 PUNCH '//STEPCAT DD DISP=SHR,DSN=&SGVSNMC'                             42960002
 PUNCH '//SYSPRINT  DD  SPACE=(121,(500,40),RLSE),'                     43000002
 PUNCH '//   DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)'  43040002
 PUNCH '//SYSIN  DD *'                                                  43080002
 PUNCH '  ALTER       -'                                                43120002
 PUNCH '   &INDEX..LINKLIB   NEWNAME (SYS1.LINKLIB) -'          OZ04623 43160024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ06711 43162024
.*                                                                 @F1D 43167002
 PUNCH '/*'                                                             43190002
         AGO   .LS8       LIST RENAMED LINKLIB                          43192002
.LS7    ANOP              FOR IO GEN - RENAME LINKLIB                   43200002
 PUNCH '//LNK&SGCTRLA(1) EXEC PGM=IEHPROGM,COND=(8,LT)'                 43210002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          43220002
 PUNCH '//LINKLIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(6).),UNIT=&SGDSUNC(6)X43240002
               ,DISP=OLD'                                               43242002
 PUNCH '//SYSIN DD *'                                                   43250002
 PUNCH '  RENAME NEWNAME=SYS1.LINKLIB,                                 X43260002
                       X'                                               43270002
 PUNCH '               DSNAME=&SGCTRLC(40)..LINKLIB,VOL=&SGDSUNC(6)=&SGX43272002
               DSVLC(6)'                                                43274002
 PUNCH '/*'                                                             43280002
.LS8     ANOP                                                           43370002
         AIF   (&GETB(3) AND NOT(&SGSCHDB(13) AND NOT &SGDMGTB(4))).SV9 43720024
.* MUST DO SVCLIB IF IOGEN W/2740 CONSOLE AND NO BTAM           OZ03884 43720124
.********************************************************************** 43760002
.****    JOB3                                              ************ 43800002
.****          ALLOCATE AND CATALOG SVCLIB                 ************ 43840002
.****          COPIES TO SVCLIB                            ************ 43880002
.********************************************************************** 43920002
.*          CALL JOBCARD MACRO FOR ALLOCATION/CATALOG JOB               43960002
&SGCTRLA(1) SETA  0                       ZERO STEP COUNTER             44000002
&SGCTRLA(3) SETA  &SGCTRLA(3)+1                                         44040002
         JOBCARD                                                        44080002
.********************************************************************** 44081024
.****    IO GENERATION ONLY - SVCLIB RENAMED IF INDEX IS NOT SYS1  **** 44082024
.********************************************************************** 44083024
         AIF   (NOT &GETB(3)).SVCSPC  NOT I/O GEN               OZ03884 44084024
         AIF   ('&INDEX' EQ 'SYS1').SVEND  NO NEED TO RENAME    OZ03884 44085024
&SGCTRLA(1)    SETA 1                        SET STEP COUNTER   OZ03884 44086024
 PUNCH '//SVC&SGCTRLA(1) EXEC PGM=IEHPROGM'                     OZ03884 44087024
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                  OZ03884 44088024
 PUNCH '//SVCLIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(6).),UNIT=&SGDSUNC(6),X44089024
               DISP=OLD'                                        OZ03884 44090024
 PUNCH '//SYSIN DD *'                                           OZ03884 44091024
 PUNCH ' RENAME DSNAME=SYS1.SVCLIB,                                    X44092024
                       X'                                       OZ03884 44093024
 PUNCH '               NEWNAME=&SGCTRLC(40)..SVCLIB,VOL=&SGDSUNC(6)=&SGX44094024
               DSVLC(6)'                                        OZ03884 44095024
 PUNCH '/*'                                                     OZ03884 44096024
         AGO   .SVEND                                           OZ03884 44097024
.********************************************************************** 44098024
.*****         SVCLIB ALLOCATION FOR ALL GEN                  ********* 44099024
.********************************************************************** 44100024
.SVCSPC  AIF   (&SGDSPSA(9) EQ 0).SVEND    SPACE ALLOCATED      OZ03884 44120024
&SGCTRLA(1) SETA  1                       INCREMENT STEP COUNTER        44130002
.*                                                                      44160002
 PUNCH '//SVC&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K'                   44200002
 PUNCH  '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                         44240024
&I       SETA  9                                                        44280002
         AIF   (NOT(&SGDSA1B(&I))).SB1     BLOCKSIZE REQUESTED          44320002
         AIF   (NOT(&SGDSA2B(&I))).ST1     TRK SPECIFIED                44360002
&A       SETC  'CYL'                                                    44400002
         AGO   .SD1                                                     44440002
.SB1     ANOP                                                           44480002
&A       SETC  '&SGDSBZA(&I)'                                           44520002
         AGO   .SD1                                                     44560002
.ST1     ANOP                                                           44600002
&A       SETC  'TRK'                                                    44640002
.SD1     AIF   ('&SGDSUNC(&I)' NE '2314').SD2                           44680002
&B       SETA  7294                                                     44720002
         AGO   .SD6                                                     44760002
.SD2 AIF ('&SGDSUNC(&I)' NE '3330' AND '&SGDSUNC(&I)' NE '3330-1').SD3  44800002
&B       SETA  13030                                                    44840002
         AGO   .SD6                                                     44880002
.SD3     AIF   ('&SGDSUNC(&I)' NE '2305-1').SD4                         44920002
&B       SETA  14136                                                    44960002
         AGO   .SD6                                                     45000002
.SD4     AIF   ('&SGDSUNC(&I)' NE '2305-2').SD5                         45040002
&B       SETA  14660                                                    45080002
         AGO   .SD6                                                     45120002
.SD5     AIF   ('&SGDSUNC(&I)' NE '3340').SD59                 @Z30RSTA 45160024
&B       SETA  8368                                                     45200002
         AGO   .SD6                                            @Z30RSTA 45210024
.SD59    AIF   ('&SGDSUNC(&I)' NE '3350').SERR                 @Z30RSTA 45220024
&B       SETA  19069                                           @ZM40407 45230024
         AGO   .SD6                                            @Z30RSTA 45232024
.SD6     ANOP                                                           45240002
  PUNCH   '//SVCLIB DD DSN=&SGCTRLC(40)..SVCLIB,DISP=(,KEEP),'          45280002
  PUNCH  '// VOLUME=(,RETAIN,SER=&SGDSVLC(&I).),UNIT=&SGDSUNC(&I).,'    45320002
         AIF   (&SGDSSSA(&I) NE 0).SA20    SECONDARY SPACE REQUIRED     45360002
.SA50    ANOP                              NO SECONDARY SPACE           45400002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(&I).,,&SGDSDBA(&I).)),'               45440002
  PUNCH  '// LABEL=EXPDT=99350,DCB=(RECFM=U,BLKSIZE=&B)'        ZA05060 45480003
         AGO   .SCAT                                                    45520002
.SA20    ANOP                                                           45560002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(&I).,&SGDSSSA(&I).,&SGDSDBA(&I).)),'  45600002
  PUNCH  '// LABEL=EXPDT=99350,DCB=(RECFM=U,BLKSIZE=&B)'        ZA05060 45640003
.SCAT    ANOP                                                           45680002
  PUNCH  '//SYSIN DD *'                                                 45720002
  PUNCH ' DEFINE CAT (&SGVSNMC) -'                              OZ06711 45760024
  PUNCH '  NONVSAM ( NAME (&INDEX..SVCLIB)     -'                       45800002
  PUNCH '            VOL (&SGDSVLC(9).)      DEVT (&SGDSUNC(9).))   '   45840002
  PUNCH '/*'                                                            45880002
         AGO   .SVEND                                                   45920002
.SERR MNOTE 5,'* * * IEIGEN505 INVALID UNIT FOR SVCLIB'                 45960002
&SGQUITB SETB  1                                                        46000002
.SVEND   ANOP                                                           46040002
.********************************************************************** 46050002
.**      SVCLIB COPIES                                  *************** 46060002
.********************************************************************** 46070002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1        INCR STEP COUNTER              46080002
 PUNCH '//SVC&SGCTRLA(1) EXEC PGM=IEBCOPY,REGION=512K,COND=(8,LT)'      46090002
 PUNCH '//SYSUT3 DD DSN=&&SYSUT3,SPACE=(1700,(10,5)),UNIT=SYSDA'        46100002
 PUNCH '//SYSUT4 DD DSN=&&SYSUT4,SPACE=(460,(30,24)),UNIT=SYSDA'        46110002
 PUNCH '//SYSPRINT DD SPACE=(3630,(500,100),RLSE),'                     46120002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 46130002
 PUNCH '//AOSD0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSD0'         46140002
 PUNCH '//AOSU0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSU0'         46150002
 PUNCH '//AOS20 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS20'         46160002
 PUNCH '//AOS21 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS21'         46170002
 PUNCH '//SVCLIB DD VOL=(,RETAIN,SER=&SGDSVLC(9)),UNIT=&SGDSUNC(9),'    46180002
 PUNCH '//       DSN=&SGCTRLC(40)..SVCLIB,DISP=OLD'                     46190002
 AIF       ('&SGPDSUC(9)' EQ '' OR &GETB(3)).SVC1   USER PDS    OZ03884 46200024
 PUNCH '//SVCLIBA DD DISP=SHR,DSN=&SGPDSUC(9)'                  ZA00124 46210002
.SVC1      ANOP                                                         46220002
 PUNCH '//SYSIN DD *'                                                   46230002
.*                        BTAM/TCAM TESTS REMOVED               OZ03884 46242024
.**** ALL-I/O *****                                                     46250024
*** SGIED503 *** TCAM/BTAM                                *** SC121 *** 46260002
    SGIED503                                                            46270002
         AIF   (&GETB(3)).SVC4          IOGEN?                  OZ03884 46280024
.**** ALL ***                                                           46290002
*** SGIEC5PU *** SAM/PAM                                  *** SC1D0 *** 46300002
    SGIEC5PU                                                            46310002
.**** ALL ***                                                      @F1A 46312000
*** SGIEH502 ***                                          *** SC1U0 *** 46314000
    SGIEH502                                                            46316000
.**** ALL ***                                                           46320002
*** GENERATE *** SYSGEN                                  *** SC1S1 ***  46330002
 AIF   ('&SGMB01C(9)' EQ '' AND '&SGRES1C(9)' EQ '' AND '&SGSSIOC(1)'  *46340002
               EQ '' AND '&SGSEOEC(1)' EQ '' AND '&SGSCHEC(1)' EQ ''   *46342002
               AND '&SGSABEC(1)' EQ '' AND '&SGSPCIC(1)' EQ '').SVC4    46344002
 PUNCH '          COPY  OUTDD=SVCLIB,INDD=SVCLIBA'                      46350002
 AIF   ('&SGMB01C(9)' EQ '').SVC3                                       46360002
 PUNCH '          SELECT MEMBER=&SGMB01C(9)'                            46370002
 AIF   ('&SGMB02C(9)' EQ '').SVC3                                       46380002
 PUNCH '          SELECT MEMBER=&SGMB02C(9)'                            46390002
 AIF   ('&SGMB03C(9)' EQ '').SVC3                                       46400002
 PUNCH '          SELECT MEMBER=&SGMB03C(9)'                            46410002
 AIF   ('&SGMB04C(9)' EQ '').SVC3                                       46420002
 PUNCH '          SELECT MEMBER=&SGMB04C(9)'                            46430002
 AIF   ('&SGMB05C(9)' EQ '').SVC3                                       46440002
 PUNCH '          SELECT MEMBER=&SGMB05C(9)'                            46450002
 AIF   ('&SGMB06C(9)' EQ '').SVC3                                       46460002
 PUNCH '          SELECT MEMBER=&SGMB06C(9)'                            46470002
 AIF   ('&SGMB07C(9)' EQ '').SVC3                                       46480002
 PUNCH '          SELECT MEMBER=&SGMB07C(9)'                            46490002
 AIF   ('&SGMB08C(9)' EQ '').SVC3                                       46500002
 PUNCH '          SELECT MEMBER=&SGMB08C(9)'                            46510002
 AIF   ('&SGMB09C(9)' EQ '').SVC3                                       46520002
 PUNCH '          SELECT MEMBER=&SGMB09C(9)'                            46530002
 AIF   ('&SGMB10C(9)' EQ '').SVC3                                       46540002
 PUNCH '          SELECT MEMBER=&SGMB10C(9)'                            46550002
 AIF   ('&SGMB11C(9)' EQ '').SVC3                                       46560002
 PUNCH '          SELECT MEMBER=&SGMB11C(9)'                            46570002
 AIF   ('&SGMB12C(9)' EQ '').SVC3                                       46580002
 PUNCH '          SELECT MEMBER=&SGMB12C(9)'                            46590002
 AIF   ('&SGMB13C(9)' EQ '').SVC3                                       46600002
 PUNCH '          SELECT MEMBER=&SGMB13C(9)'                            46610002
 AIF   ('&SGMB14C(9)' EQ '').SVC3                                       46620002
 PUNCH '          SELECT MEMBER=&SGMB14C(9)'                            46630002
 AIF   ('&SGMB15C(9)' EQ '').SVC3                                       46640002
 PUNCH '          SELECT MEMBER=&SGMB15C(9)'                            46650002
 AIF   ('&SGMB16C(9)' EQ '').SVC3                                       46660002
 PUNCH '          SELECT MEMBER=&SGMB16C(9)'                            46670002
 AIF   ('&SGMB17C(9)' EQ '').SVC3                                       46680002
 PUNCH '          SELECT MEMBER=&SGMB17C(9)'                            46690002
 AIF   ('&SGMB18C(9)' EQ '').SVC3                                       46700002
 PUNCH '          SELECT MEMBER=&SGMB18C(9)'                            46710002
 AIF   ('&SGMB19C(9)' EQ '').SVC3                                       46720002
 PUNCH '          SELECT MEMBER=&SGMB19C(9)'                            46730002
 AIF   ('&SGMB20C(9)' EQ '').SVC3                                       46740002
 PUNCH '          SELECT MEMBER=&SGMB20C(9)'                            46750002
.SVC3 AIF ('&SGRES1C(9)' EQ '').SVC2                                    46760002
 PUNCH '          SELECT MEMBER=&SGRES1C(9)'                            46770002
      AIF ('&SGRES2C(9)' EQ '').SVC2                                    46780002
 PUNCH '          SELECT MEMBER=&SGRES2C(9)'                            46790002
      AIF ('&SGRES3C(9)' EQ '').SVC2                                    46800002
 PUNCH '          SELECT MEMBER=&SGRES3C(9)'                            46810002
      AIF ('&SGRES4C(9)' EQ '').SVC2                                    46820002
 PUNCH '          SELECT MEMBER=&SGRES4C(9)'                            46830002
      AIF ('&SGRES5C(9)' EQ '').SVC2                                    46840002
 PUNCH '          SELECT MEMBER=&SGRES5C(9)'                            46850002
      AIF ('&SGRES6C(9)' EQ '').SVC2                                    46860002
 PUNCH '          SELECT MEMBER=&SGRES6C(9)'                            46870002
      AIF ('&SGRES7C(9)' EQ '').SVC2                                    46880002
 PUNCH '          SELECT MEMBER=&SGRES7C(9)'                            46890002
      AIF ('&SGRES8C(9)' EQ '').SVC2                                    46900002
 PUNCH '          SELECT MEMBER=&SGRES8C(9)'                            46910002
      AIF ('&SGRES9C(9)' EQ '').SVC2                                    46920002
 PUNCH '          SELECT MEMBER=&SGRES9C(9)'                            46930002
      AIF ('&SGRESAC(9)' EQ '').SVC2                                    46940002
 PUNCH '          SELECT MEMBER=&SGRESAC(9)'                            46950002
.SVC2      ANOP                                                         46960002
&I       SETA  1                                                        46970002
&CTR1    SETA  1                                                        46980002
.SVC6    AIF   (K'&SGSSIOC(&CTR1) LE &I).SVC7                           46990002
&N       SETC  '&SGSSIOC(&CTR1)'(&I,2)                                  47000002
  PUNCH '          SELECT MEMBER=IGG019&N'                              47010002
&I       SETA  &I+2                                                     47020002
         AIF   (&I LT 8).SVC6                                           47030002
&CTR1    SETA  &CTR1+1                                                  47040002
&I       SETA  1                                                        47050002
         AIF   (&CTR1 LE 21).SVC6                                       47060002
.SVC7    ANOP                                                           47070002
&I       SETA  1                                                        47080002
&CTR1    SETA  1                                                        47090002
.SVC8    AIF   (K'&SGSEOEC(&CTR1) LE &I).SVC9                           47100002
&N       SETC  '&SGSEOEC(&CTR1)'(&I,2)                                  47110002
  PUNCH '          SELECT MEMBER=IGG019&N'                              47120002
&I       SETA  &I+2                                                     47130002
         AIF   (&I LT 8).SVC8                                           47140002
&CTR1    SETA  &CTR1+1                                                  47150002
&I       SETA  1                                                        47160002
         AIF   (&CTR1 LE 21).SVC8                                       47170002
.SVC9    ANOP                                                           47180002
&I       SETA  1                                                        47190002
&CTR1    SETA  1                                                        47200002
.SVC10   AIF   (K'&SGSCHEC(&CTR1) LE &I).SVC11                          47210002
&N       SETC  '&SGSCHEC(&CTR1)'(&I,2)                                  47220002
  PUNCH '          SELECT MEMBER=IGG019&N'                              47230002
&I       SETA  &I+2                                                     47240002
         AIF   (&I LT 8).SVC10                                          47250002
&CTR1    SETA  &CTR1+1                                                  47260002
&I       SETA  1                                                        47270002
         AIF   (&CTR1 LE 21).SVC10                                      47280002
.SVC11   ANOP                                                           47290002
&I       SETA  1                                                        47300002
&CTR1    SETA  1                                                        47310002
.SVC12   AIF   (K'&SGSABEC(&CTR1) LE &I).SVC13                          47320002
&N       SETC  '&SGSABEC(&CTR1)'(&I,2)                                  47330002
  PUNCH '          SELECT MEMBER=IGG019&N'                              47340002
&I       SETA  &I+2                                                     47350002
         AIF   (&I LT 8).SVC12                                          47360002
&CTR1    SETA  &CTR1+1                                                  47370002
&I       SETA  1                                                        47380002
         AIF   (&CTR1 LE 21).SVC12                                      47390002
.SVC13   ANOP                                                           47400002
&I       SETA  1                                                        47410002
&CTR1    SETA  1                                                        47420002
.SVC14   AIF   (K'&SGSPCIC(&CTR1) LE &I).SVC4                           47430002
&N       SETC  '&SGSPCIC(&CTR1)'(&I,2)                                  47440002
  PUNCH '          SELECT MEMBER=IGG019&N'                              47450002
&I       SETA  &I+2                                                     47460002
         AIF   (&I LT 8).SVC14                                          47470002
&I       SETA  1                                                        47480002
&CTR1    SETA  &CTR1+1                                                  47490002
         AIF   (&CTR1 LE 21).SVC14                                      47500002
.SVC4   ANOP                                                            47550002
*** GENERATE *** SYSGEN                                  *** SC1S1 ***  47560024
 PUNCH '/*'                                                             49730002
.********************************************************************** 49760002
.*****   SVCLIB RENAME AND LISTPDS                 ******************** 49800002
.********************************************************************** 49840002
         AIF   ('&INDEX' EQ 'SYS1').SV8                                 49880002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1         INCREMENT STEP COUNTER        49920002
 PUNCH '//SVC&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K,COND=(8,LT)'       49960002
 PUNCH '//STEPCAT DD DISP=SHR,DSN=&SGVSNMC'                             50000002
 PUNCH '//SYSPRINT DD SYSOUT=&SGCTRLC(41)'                              50040002
 PUNCH '//SYSIN  DD  *'                                                 50080002
  PUNCH '  ALTER       -'                                               50120002
  PUNCH '   &INDEX..SVCLIB   NEWNAME (SYS1.SVCLIB) -'           OZ04623 50160024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ06711 50170024
 PUNCH '/*'                                                             50200002
.SV8     ANOP                                                           50240002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1         INCREMENT STEP COUNTER        50280002
 PUNCH '//SVC&SGCTRLA(1) EXEC PGM=IEHLIST,COND=(8,LT)'                  50320002
 PUNCH '//SYSPRINT DD SYSOUT=&SGCTRLC(41)'                              50360002
 PUNCH '//SVC DD VOL=(,RETAIN,SER=&SGDSVLC(9)),UNIT=&SGDSUNC(9),'       50400002
 PUNCH '//       DSN=&SGCTRLC(40)..SVCLIB,DISP=SHR'                     50440002
 PUNCH '//SYSIN  DD  *'                                                 50480002
 PUNCH '   LISTPDS DSNAME=SYS1.SVCLIB,VOL=&SGDSUNC(9)=&SGDSVLC(9)'      50520002
 PUNCH '/*'                                                             50560002
.SV9     ANOP                                                           50600002
.********************************************************************** 50640002
.*****   JOB4                                                           50680002
.*****         OBJPDS03                                                 50720002
.*****         ALLOCATE AND CATALOG NUCLEUS AND DCMLIB                  50760002
.*****         ASSEMBLIES                                               50800002
.*****         NUCLEUS COPIES                                           50840002
.*****         NUCLEUS LINKEDITS                                        50880002
.*****         RENAME AND LIST(PDS)                                     50920002
.********************************************************************** 50960002
.*          CALL JOBCARD MACRO FOR ALLOCATION/CATALOG                   51000002
.*            OF NUCLEUS AND DCMLIB                                     51040002
.*                                                                      51080002
&SGCTRLA(1) SETA  0                  GENERATE UNIQUE STEP NAMES         51120002
&SGCTRLA(3) SETA  &SGCTRLA(3)+1      INCREMENT JOB COUNTER              51160002
         JOBCARD                                                        51200002
         AIF   (NOT &GETB(3)).NUCSPC          I/O GENERATION            51210002
.********************************************************************** 51220002
.***       RENAME NUCLEUS FOR IO GEN AND DCMLIB IF REQUIRED         *** 51230002
.********************************************************************** 51240002
         AIF   ('&INDEX' EQ 'SYS1').NUCEND     NO NEED TO RENAME        51250002
&SGCTRLA(1) SETA  1                                                     51260002
 PUNCH '//NUC&SGCTRLA(1) EXEC PGM=IEHPROGM'                             51270002
 PUNCH  '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                         51280002
 PUNCH  '//NUCLEUS DD VOLUME=(,RETAIN,SER=&SGDSVLC(17).),UNIT=&SGDSUNC(X51300002
               17),DISP=OLD'                                            51302002
         AIF (NOT &SGDSDFB(23)).NODCM2     DCMLIB NOT REQUIRED          51310002
 PUNCH  '//DCMLIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(23).),UNIT=&SGDSUNC(2X51330002
               3),DISP=OLD'                                             51332002
.NODCM2 ANOP                                                            51340002
 PUNCH  '//SYSIN DD *'                                                  51350002
 PUNCH '  RENAME DSNAME=SYS1.NUCLEUS,                                  X51360002
                       X'                                               51370002
 PUNCH '               NEWNAME=&SGCTRLC(40)..NUCLEUS,VOL=&SGDSUNC(17)=&X51372002
               SGDSVLC(17)'                                             51374002
         AIF (NOT &SGDSDFB(23)).NODCM3    DCMLIB NOT REQUIRED           51380002
 PUNCH '  RENAME DSNAME=SYS1.DCMLIB,                                   X51390002
                       X'                                               51400002
 PUNCH '               NEWNAME=&SGCTRLC(40)..DCMLIB,VOL=&SGDSUNC(23)=&SX51402002
               GDSVLC(23)'                                              51404002
.NODCM3  ANOP                                                           51410002
 PUNCH '/*'                                                             51420002
         AGO   .NUCEND                                                  51430002
.********************************************************************** 51440002
.***          SPACE ALLOCATION FOR NUCLEUS AND DCMLIB               *** 51442002
.********************************************************************** 51444002
.NUCSPC  ANOP                           PRIMARY SPACE SET?              51450002
         AIF   (&SGDSPSA(17) EQ 0 AND &SGDSPSA(23) EQ 0).NUCEND         51460002
&SGCTRLA(1) SETA  1                                                     51470002
 PUNCH '//NUC&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K'                   51480002
 PUNCH  '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                         51490002
         AIF (&SGDSPSA(17) EQ 0).A1       NUCLEUS ALLOCATED AND DEFINED 51520002
&I       SETA  17                                                       51560002
         AGO   .A                                                       51600002
.A1      AIF (&SGDSPSA(23) EQ 0).N3       DCMLIB ALLOCATED AND DEFINED  51640002
&I       SETA   23                                                      51680002
.A       ANOP                                                           51720002
         AIF   (NOT &SGDSA1B(&I)).B1      BLOCKSIZE REQUESTED           51760002
         AIF   (NOT &SGDSA2B(&I)).T1      TRK SPECIFIED                 51800002
&A       SETC  'CYL'                                                    51840002
         AGO   .D1                                                      51880002
.B1      ANOP                                                           51920002
&A       SETC  '&SGDSBZA(&I)'                                           51960002
         AGO   .D1                                                      52000002
.T1      ANOP                                                           52040002
&A       SETC  'TRK'                                                    52080002
.D1      AIF   ('&SGDSUNC(&I)' NE '2314').D2                            52120002
&B       SETA  7294                                                     52160002
         AGO   .D6                                                      52200002
.D2 AIF ('&SGDSUNC(&I)' NE '3330' AND '&SGDSUNC(&I)' NE '3330-1').D3    52240002
&B       SETA  13030                                                    52280002
         AGO   .D6                                                      52320002
.D3      AIF   ('&SGDSUNC(&I)' NE '2305-1').D4                          52360002
&B       SETA  14136                                                    52400002
         AGO   .D6                                                      52440002
.D4      AIF   ('&SGDSUNC(&I)' NE '2305-2').D5                          52480002
&B       SETA  14660                                                    52520002
         AGO   .D6                                                      52560002
.D5      ANOP                                                           52600002
         AIF   ('&SGDSUNC(&I)' NE '3340').D59                  @Z30RSTA 52640024
&B       SETA  8368                                                     52680002
         AGO   .D6                                             @Z30RSTA 52690024
.D59     AIF   ('&SGDSUNC(&I)' NE '3350').DERR                 @Z30RSTA 52700024
&B       SETA  19069                                           @ZM40407 52710024
         AGO   .D6                                             @Z30RSTA 52712024
.D6      ANOP                                                           52720002
         AIF   (&I EQ 23).DCMOP                                         52760002
  PUNCH  '//NUCLEUS DD DSN=&SGCTRLC(40)..NUCLEUS,DISP=(,KEEP),'         52800002
  PUNCH  '// VOLUME=(,RETAIN,SER=&SGDSVLC(17).),UNIT=&SGDSUNC(17).,'    52840002
         AIF   (&SGDSDBA(&I) EQ 0).N1     NO DIRECTORY BLOCKS           52880002
  PUNCH  '// LABEL=EXPDT=99350,DCB=(RECFM=U,BLKSIZE=&B.),'              52920002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(17).,,&SGDSDBA(17).),,CONTIG)'        52960002
         AGO   .A1                                                      53000002
.N1       ANOP                                                          53040002
   MNOTE 5,'* * * IEIGEN509 DIRECTORY BLOCKS REQUIRED FOR NUCLEUS ALLOC*53080002
               ATION'                                                   53120002
&SGQUITB SETB  1                                                        53160002
         AGO   .A1                                                      53200002
.DCMOP   ANOP                                                           53240002
  PUNCH   '//DCMLIB  DD  DSN=&SGCTRLC(40)..DCMLIB,DISP=(,KEEP),'        53280002
  PUNCH   '// VOLUME=(,RETAIN,SER=&SGDSVLC(23).),UNIT=&SGDSUNC(23).,'   53320002
         AIF   (&SGDSDBA(&I) EQ 0).N2     NO DIRECTORY BLOCKS           53360002
  PUNCH   '// SPACE=(&A.,(&SGDSPSA(23).,,&SGDSDBA(23).),,CONTIG),'      53400002
  PUNCH   '// LABEL=EXPDT=99350,DCB=(RECFM=U,BLKSIZE=&B.)'              53440002
         AGO   .N3                                                      53480002
.N2      ANOP                                                           53520002
   MNOTE 5,'* * * IEIGEN508 DIRECTORY BLOCKS REQUIRED FOR DCMLIB ALLOCA*53560002
               TION'                                                    53600002
&SGQUITB SETB  1                                                        53640002
.N3      ANOP                                                           53680002
  PUNCH   '//SYSIN DD *'                                                53720002
         AIF   (&SGDSPSA(17) EQ 0).NONUC       NUCLEUS ALREADY DEFINED  53760002
  PUNCH ' DEFINE CAT (&SGVSNMC) -'                              OZ04623 53800024
  PUNCH '  NONVSAM ( NAME (&INDEX..NUCLEUS)    -'                       53840002
  PUNCH '            VOL (&SGDSVLC(17).)     DEVT (&SGDSUNC(17).))  '   53880002
.NONUC   AIF   (&SGDSPSA(23) EQ 0).NODCM    DCMLIB ALREADY DEFINED      53920002
  PUNCH ' DEFINE CAT (&SGVSNMC) -'                              OZ04623 53960024
  PUNCH '  NONVSAM ( NAME (&INDEX..DCMLIB)      -'                      54000002
  PUNCH '            VOL (&SGDSVLC(23).)     DEVT (&SGDSUNC(23).))  '   54040002
.NODCM  ANOP                                                            54080002
  PUNCH '/*'                                                            54120002
         AGO   .NUCEND                                                  54160002
.DERR MNOTE 5,'* * * IEIGEN506 INVALID UNIT FOR NUCLEUS OR DCMLIB'      54200002
&SGQUITB SETB  1                                                        54240002
.NUCEND  ANOP                                                           54280002
.********************************************************************** 54320002
.*                        *** JOB *** NUCLEUS ASSEMBLIES ******       * 54360002
.********************************************************************** 54400002
&SGCTRLC(5)    SETC '&OBJPDS'(6,6).'03' SET OBJPDS GLOBAL               54440002
.*************  ALL-IO **********                                       54600002
*** SGIEA200 *** SUPERVISOR                               *** SC1S4 *** 54640002
    SGIEA200                                                            54680002
.************** ALL-IO **********                                       54720002
.***  SGIEF217 MUST BE CALLED BEFORE SGIEF211  ***                      54730002
*** SGIEF217 *** SCHEDULER                                *** SC1S5 *** 54760002
    SGIEF217                                                            54800002
.*************  ALL-IO **********                                       54840002
*** SGIEC2DT *** ACCESS METHODS                           *** SC1D0 *** 54880002
    SGIEC2DT                                                            54920002
.*************  ALL--IO*****                                            54960002
*** SGIFB201 *** ERP                                      *** SC1CD *** 55000002
    SGIFB201                                                            55040002
     AIF   (NOT (&SGDCLSB(9))).NUC1       2250 NOT SPECIFIED            55080002
.*************  ALL--IO*****                                            55120002
*** SGIFF2BM *** GRAPHIC PROGRAM SERVICES                 *** SC1G0 *** 55160002
    SGIFF2BM                                                            55200002
.NUC1  ANOP                                                             55240002
.************** ALL-IO *****                                            55280002
*** SGIEC202 *** IOS                                      *** SC1C3 *** 55320002
    SGIEC202                                                            55360002
.************** ALL-IO *****                                            55400002
*** SGIEF211 *** SCHEDULER                                *** SC1S5 *** 55440002
    SGIEF211                                                            55480002
&J  SETA 1                                                              55520002
.BUPDATE AIF  (&J EQ 1918).FUPDATE      REBUILD DADRA BOX       Z40ASVN 55560024
&SGDADRA(&J) SETA &DADRA(&J)                                            55600002
&J  SETA &J+1                          INCREMENT COUNTER                55640002
    AGO  .BUPDATE                      REPEAT FOR 1917 VALUES   Z40ASVN 55680024
.FUPDATE ANOP                                                           55720002
.************* ALL-IO *******                                           55800002
*** SGIEA2D2 ***  DIDOCS                                  *** SC1C4 *** 55840002
    SGIEA2D2                                                            55880002
         AIF   (&GETB(3)).NCPY       IO GEN REQUIRES NO COPIES @ZA29684 55920037
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 56360002
.********************************************************************** 56400002
.*****       NUCLEUS  COPIES                                            56440002
.********************************************************************** 56480002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1         INCREMENT STEP COUNTER        56520002
 PUNCH '//NUC&SGCTRLA(1) EXEC PGM=IEBCOPY,REGION=512K,COND=(8,LT)'      56560002
 PUNCH '//SYSUT3 DD DSN=&&SYSUT3,SPACE=(1700,(10,5)),UNIT=SYSDA'        56600002
 PUNCH '//SYSUT4 DD DSN=&&SYSUT4,SPACE=(460,(30,24)),UNIT=SYSDA'        56640002
 PUNCH '//SYSPRINT DD SPACE=(3630,(500,40),RLSE),'                      56680002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 56720002
 PUNCH '//NUCLEUS DD DSNAME=&SGCTRLC(40)..NUCLEUS,DISP=OLD,'            56760002
 PUNCH '//     UNIT=&SGCTRLC(29),VOL=(,RETAIN,SER=&SGCTRLC(30))'        56800002
 PUNCH '//AOSC5 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSC5'         56840002
 AIF       ('&SGPDSUC(17)' EQ '' OR '&SGMB01C(17)' NE '').XXNUC         56960002
 PUNCH '//NUCLEUSA DD DISP=SHR,DSNAME=&SGPDSUC(17)'            ZA00124  57000002
.XXNUC     ANOP                                                         57040002
 PUNCH '//SYSIN DD *'                                                   57080002
.************* ALL  *****                                               57120002
*** SGIEA502  ***** SUPERVISOR                            *** SC1S4 *** 57160002
    SGIEA502                                                            57200002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 57240002
 AIF ('&SGMB01C(17)' NE '' OR '&SGPDSUC(17)' EQ '').NUCPY               57280002
 PUNCH '          COPY  INDD=NUCLEUSA,OUTDD=NUCLEUS'                    57320024
.NUCPY  ANOP                                                            57330002
 PUNCH '/*'                                                             57340002
.********************************************************************** 57360002
.***********  NUCLEUS LINK EDIT          ****************************** 57400024
.********************************************************************** 57440002
.NCPY    ANOP                                                           57480002
&SGCTRLA(1) SETA &SGCTRLA(1)+1     INCREMENT STEP COUNTER               57520002
 PUNCH '//NUC&SGCTRLA(1) EXEC LINKS,COND=(4,LT),REGION=350K,'  @ZA24964 57560037
 PUNCH '// PARM=''LIST,XREF,NCAL,SCTR,LET,SIZE=(300K,64K)'','  @ZA24964 57580037
 PUNCH '// UNIT=''&SGCTRLC(29)'',SER=&SGCTRLC(30),N=&SGCTRLC(40),NAME=N*57640002
               UCLEUS,P1=''('','                                        57680002
 PUNCH '// MOD=IEANUC01,P2='')'',OBJ=&SGCTRLC(5),CLASS=&SGCTRLC(41)'    57720002
 PUNCH '//AOSA0 DD DISP=SHR,DSNAME=SYS1.AOSA0,VOLUME=(,RETAIN)'         57760002
 PUNCH '//AOSB0 DD DISP=SHR,DSNAME=SYS1.AOSB0,VOLUME=(,RETAIN)'         57800002
 PUNCH '//AOSB3 DD DISP=SHR,DSNAME=SYS1.AOSB3,VOLUME=(,RETAIN)'         57840002
 PUNCH '//AOSCD DD DISP=SHR,DSNAME=SYS1.AOSCD,VOLUME=(,RETAIN)'         57880002
 PUNCH '//AOSCE DD DISP=SHR,DSNAME=SYS1.AOSCE,VOLUME=(,RETAIN)'         57920002
 PUNCH '//AOSC2 DD DISP=SHR,DSNAME=SYS1.AOSC2,VOLUME=(,RETAIN)'         57960002
 PUNCH '//AOSC5 DD DISP=SHR,DSNAME=SYS1.AOSC5,VOLUME=(,RETAIN)'         58000002
 PUNCH '//AOSD0 DD DISP=SHR,DSNAME=SYS1.AOSD0,VOLUME=(,RETAIN)'         58040002
 PUNCH '//AOSD8 DD DISP=SHR,DSNAME=SYS1.AOSD8,VOLUME=(,RETAIN)'         58080002
 PUNCH '//AOSG0 DD DISP=SHR,DSNAME=SYS1.AOSG0,VOLUME=(,RETAIN)'         58120002
 PUNCH '//AOS00 DD DISP=SHR,DSNAME=SYS1.AOS00,VOLUME=(,RETAIN)'         58160002
 PUNCH '//AOS06 DD DISP=SHR,DSNAME=SYS1.AOS06,VOLUME=(,RETAIN)'         58200002
.*                                                                 @F1D 58220002
 PUNCH '//AOS12 DD DISP=SHR,DSNAME=SYS1.AOS12,VOLUME=(,RETAIN)'         58280002
 PUNCH '//AOS20 DD DISP=SHR,DSNAME=SYS1.AOS20,VOLUME=(,RETAIN)'         58320002
 PUNCH '//AOS21 DD DISP=SHR,DSNAME=SYS1.AOS21,VOLUME=(,RETAIN)'         58360002
 PUNCH '//AOS26 DD DISP=SHR,DSNAME=SYS1.AOS26,VOLUME=(,RETAIN)'         58370003
 AIF       (&GETB(3)).NUCL1      PDS NOT USED FOR IO GEN                58400002
 AIF       ('&SGPDSUC(17)' EQ '').NUCL1                                 58440002
 PUNCH '//NUCLEUSA DD DISP=SHR,DSNAME=&SGPDSUC(17)'             ZA00124 58480002
.NUCL1     ANOP                                                         58520002
 PUNCH '//SYSLIN DD *'                                                  58560002
 PUNCH '   INSERT  IEAVNIP0'                                            58600002
 PUNCH '   INSERT  IEAVFX00'                                            58640002
         AIF   (&GETB(3)).NN0               I/O GEN             ZA02236 58680003
.************* ALL **********                                           58720002
*** SGIDA300 *** VSAM BLOCK PROCESSOR                     *** SC1DA *** 58760002
    SGIDA300                                                            58800002
      AIF (NOT &SGDMGTB(5)).NUCL2         TCAM NOT SPECIFIED            58840002
.************* ALL **********                                           58880002
*** SGIED300 *** TCAM                                     *** SC121 *** 58920002
    SGIED300                                                            58960002
.NUCL2 ANOP                                                             59000002
.************* ALL **********                                           59040002
*** SGILR300 *** ASM                                      *** SC1CW *** 59080002
    SGILR300                                                            59120002
       AIF (NOT &SGDCLSB(28)).NN0         MSS?                  G24LSVN 59121024
       AIF (NOT &SGIHASU(24)).NN0         SU 24 PRESENT?        G32DSVN 59121537
.************* ALL **********                                   G24LSVN 59122024
*** SGICB300 *** MSS                                      *** SC1DR *** 59123024
    SGICB300                                                            59124024
.NN0     ANOP                                                   ZA02236 59170003
      AIF (NOT &SGDMGTB(4)).NN1           BTAM NOT SPECIFIED    ZM30402 59200003
.************* ALL-IO *******                                   ZA02236 59240003
*** SGIEC3TP *** BTAM                                     *** SC120 *** 59280002
    SGIEC3TP                                                            59320002
.NN1     ANOP                                                   ZM30402 59640003
.************* ALL-IO ******                                            59650002
*** SGIEA300 *** SUPERVISOR                               *** SC1S4 *** 59660002
    SGIEA300                                                            59670002
.************* ALL-IO******                                             59680002
*** SGIEC300 *** IOS                                      *** SC1C3 *** 59720002
    SGIEC300                                                            59760002
.************** ALL-IO *****                                            59800002
*** SGIFB300 *** ERP                                      *** SC1CD *** 59840002
    SGIFB300                                                            59880002
.************* ALL-IO **********                                        59920002
*** SGIEF300 *** SCHEDULER                                *** SC1S5 *** 59960002
    SGIEF300                                                            60000002
.************* ALL-IO******                                             60040002
*** SGIFF3RN *** GRAPHIC PROGRAM SERVICES                 *** SC1G0 *** 60080002
    SGIFF3RN                                                            60120002
.************* ALL-IO ********                                          60200002
*** SGIEC3FB *** OPEN/CLOSE/EOV                           *** SC1D0 *** 60240002
    SGIEC3FB                                                            60280002
.*                                                             @ZA05629 60290024
.************* ALL-IO ********                                 @ZA05629 60320024
*** SGIGF301 *** RECOVERY MANAGEMENT                      *** SC1CE *** 60350024
    SGIGF301                                                          * 60380024
          AIF  (&GETB(3)).NN2                                  @ZA05629 60410024
.************* ALL **********                                           60440002
*** SGIEW300 *** OVERLAY SUPERVISOR                       *** SC1C2 *** 60480002
    SGIEW300                                                            60520002
         AIF   (NOT &SGDMGTB(6)).NN2            VTAM?                   60520403
.************* ALL **********                                           60522003
*** SGIST310 *** VTAM                                     *** SC123 *** 60524003
    SGIST310                                                            60526003
.NN2    ANOP                                                            60530002
.************* ALL-IO *******                                           60560002
*** SGIEA4D2 *** DIDOCS                                   *** SC1C4 *** 60600002
    SGIEA4D2                                                            60640002
*** GENERATE *** SYSGEN                                                 60800002
       AIF   (&GETB(3)).IF0                                             60810002
&CTR1 SETA   1 INITIALIZE COUNTER                                       60840002
         AIF   ('&SGMB01C(17)' EQ '').IF0                               60880002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB01C(17))'                      60920002
         AIF   ('&SGMB02C(17)' EQ '').IF0                               60960002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB02C(17))'                      61000002
         AIF   ('&SGMB03C(17)' EQ '').IF0                               61040002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB03C(17))'                      61080002
         AIF   ('&SGMB04C(17)' EQ '').IF0                               61120002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB04C(17))'                      61160002
         AIF   ('&SGMB05C(17)' EQ '').IF0                               61200002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB05C(17))'                      61240002
         AIF   ('&SGMB06C(17)' EQ '').IF0                               61280002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB06C(17))'                      61320002
         AIF   ('&SGMB07C(17)' EQ '').IF0                               61360002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB07C(17))'                      61400002
         AIF   ('&SGMB08C(17)' EQ '').IF0                               61440002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB08C(17))'                      61480002
         AIF   ('&SGMB09C(17)' EQ '').IF0                               61520002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB09C(17))'                      61560002
         AIF   ('&SGMB10C(17)' EQ '').IF0                               61600002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB10C(17))'                      61640002
         AIF   ('&SGMB11C(17)' EQ '').IF0                               61680002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB11C(17))'                      61720002
         AIF   ('&SGMB12C(17)' EQ '').IF0                               61760002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB12C(17))'                      61800002
         AIF   ('&SGMB13C(17)' EQ '').IF0                               61840002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB13C(17))'                      61880002
         AIF   ('&SGMB14C(17)' EQ '').IF0                               61920002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB14C(17))'                      61960002
         AIF   ('&SGMB15C(17)' EQ '').IF0                               62000002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB15C(17))'                      62040002
         AIF   ('&SGMB16C(17)' EQ '').IF0                               62080002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB16C(17))'                      62120002
         AIF   ('&SGMB17C(17)' EQ '').IF0                               62160002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB17C(17))'                      62200002
         AIF   ('&SGMB18C(17)' EQ '').IF0                               62240002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB18C(17))'                      62280002
         AIF   ('&SGMB19C(17)' EQ '').IF0                               62320002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB19C(17))'                      62360002
         AIF   ('&SGMB20C(17)' EQ '').IF0                               62400002
  PUNCH '          INCLUDE NUCLEUSA(&SGMB20C(17))'                      62440002
.IF0     AIF   (NOT &GETB(3)).IF1         NOT AN IO GEN                 62480002
 PUNCH ' INCLUDE SYSLMOD(IEANUC01)'                                     62520002
 PUNCH ' NAME IEANUC0&NUC.(R)'                                          62600002
.IF1     ANOP                                                           62680002
 PUNCH '/*'                                                             62720002
.************* ALL-IO *******                                           62730002
*** SGIEA4D3 *** DIDOCS                                   *** SC1C4 *** 62740002
    SGIEA4D3                                                            62750002
.************* ALL-IO **********                                        62760002
*** SGIEA402 *** SUPERVISOR                               *** SC1S4 *** 62800002
    SGIEA402                                                            62840002
.********************************************************************** 62880002
.*******     RENAME DCMLIB AND NUCLEUS                                  62920002
.********************************************************************** 62960002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 63000002
         AIF ('&INDEX' EQ 'SYS1').S88     SKIP RENAME?                  63040002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1         INCREMENT STEP COUNTER        63050002
         AIF   (&GETB(3)).S87                                           63080002
 PUNCH '//NUC&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K,COND=(8,LT)'       63160002
 PUNCH '//STEPCAT DD DISP=SHR,DSN=&SGVSNMC'                             63200002
 PUNCH '//SYSPRINT DD SPACE=(121,(500,40),RLSE),'                       63240002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 63280002
 PUNCH '//SYSIN DD *'                                                   63320002
  PUNCH '  ALTER       -'                                               63360002
  PUNCH '   &INDEX..NUCLEUS   NEWNAME (SYS1.NUCLEUS) -'         OZ04623 63400024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ06711 63410024
         AIF   (NOT(&SGSCHDB(25) OR &SGDSDFB(23))).S33 NO PFK OR DCMLIB 63420024
  PUNCH '  ALTER       -'                                               63430024
  PUNCH '   &INDEX..DCMLIB   NEWNAME (SYS1.DCMLIB)  -'          OZ04623 63440024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ06711 63450024
.S33   ANOP                                                             63470002
 PUNCH '/*'                                                             63480002
       AGO   .S88                                                       63482002
.S87   ANOP               FOR IO GEN - RENAME NUCLEUS AND DCMLIB        63490002
 PUNCH '//NUC&SGCTRLA(1) EXEC PGM=IEHPROGM,COND=(8,LT)'                 63510002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          63520002
 PUNCH '//NUCLEUS DD VOLUME=(,RETAIN,SER=&SGDSVLC(17).),UNIT=&SGDSUNC(1X63540002
               7),DISP=OLD'                                             63542002
         AIF (NOT &SGDSDFB(23)).NODCM4    DCMLIB NOT REQUIRED           63550002
 PUNCH  '//DCMLIB DD VOLUME=(,RETAIN,SER=&SGDSVLC(23).),UNIT=&SGDSUNC(2X63570002
               3),DISP=OLD'                                             63572002
.NODCM4 ANOP                                                            63580002
 PUNCH '//SYSIN DD *'                                                   63590002
 PUNCH '  RENAME NEWNAME=SYS1.NUCLEUS,                                 X63600002
                       X'                                               63610002
 PUNCH '               DSNAME=&SGCTRLC(40)..NUCLEUS,VOL=&SGDSUNC(17)=&SX63612002
               GDSVLC(17)'                                              63614002
         AIF (NOT &SGDSDFB(23)).NODCM5    DCMLIB NOT REQUIRED           63620002
 PUNCH '  RENAME NEWNAME=SYS1.DCMLIB,                                  X63630002
                       X'                                               63640002
 PUNCH '               DSNAME=&SGCTRLC(40)..DCMLIB,VOL=&SGDSUNC(23)=&SGX63640402
               DSVLC(23)'                                               63640802
.NODCM5  ANOP                                                           63642002
 PUNCH '/*'                                                             63650002
.S88   ANOP                                                             63660002
.********************************************************************** 64320002
.*       JOB5                                     ********************* 64360002
.*             ALLOCATE & CATALOG IMAGELIB,PARMLIB MACLIB,PROCLIB, **** 64400002
.*                                SAMPLIB,UADS,HELP,TELCMLIB,CMDLIB,*** 64440002
.*                                VTAMLIB,INDMAC,JES3LIB,           *** 64450024
.*                                BRODCAST,MANX,MANY,DUMP00-09      *** 64480002
.*             COPIES                                  **************** 64520002
.*             LINKEDITS                               **************** 64560002
.*             INITIALIZE LOGREC                       **************** 64600002
.*             RENAME AND LISTVTOC                     **************** 64640002
.********************************************************************** 64680002
.*          CALL JOBCARD MACRO FOR MISCELLANEOUS JOB                    64720002
&SGCTRLA(1) SETA  0                                                     64760002
&SGCTRLA(3) SETA  &SGCTRLA(3)+1                                         64770002
         JOBCARD                                                        64780002
         AIF   (NOT &GETB(3)).ALLOCDS  NOT AN I/O SYSTEM GENERATION     64790002
.********************************************************************** 64800002
.****   IO GENERATION ONLY - IMAGELIB RENAMED IF INDEX IS NOT SYS1  *** 64810002
.********************************************************************** 64820002
         AIF   (NOT &SGDSDFB(16)).MSEND     NO IMAGELIB CHANGES         64830002
         AIF   ('&INDEX' EQ 'SYS1').DELETLG  NO NEED TO RENAME          64840002
&SGCTRLA(1)    SETA 1                        SET STEP COUNTER           64850002
 PUNCH '//MISC&SGCTRLA(1) EXEC PGM=IEHPROGM'                            64860002
 PUNCH '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                          64870002
 PUNCH '//IMAGELIB DD VOLUME=(,RETAIN,SER=&SGCTRLC(62).),UNIT=&SGCTRLC(X64890002
               61),DISP=OLD'                                            64892002
 PUNCH '//SYSIN DD *'                                                   64900002
 PUNCH '  RENAME DSNAME=SYS1.IMAGELIB,                                 X64910002
                       X'                                               64920002
 PUNCH '               NEWNAME=&SGCTRLC(40)..IMAGELIB,VOL=&SGCTRLC(61)=X64922002
               &SGCTRLC(62)'                                            64924002
.*                                                                 @F1A 64924502
 PUNCH '  RENAME DSNAME=SYS1.CMDLIB,                                   X64925002
                       X'                                               64926002
 PUNCH '               NEWNAME=&SGCTRLC(40)..CMDLIB,VOL=&SGCTRLC(24)=&SX64927002
               GCTRLC(23)'                                              64928002
 PUNCH '/*'                                                             64930002
         AGO   .DELETLG                                                 64940002
.********************************************************************** 65090002
.*****                  ALLOCATE SPECIFIED DATASETS                     65100002
.********************************************************************** 65110002
.ALLOCDS ANOP                                                           65120002
&I       SETA  0                                                        65130002
.MA1     AIF   (&I EQ 37).MCAT          FINISHED SEARCH                 65140002
&I       SETA  &I+1                                                     65160002
         AIF   ('&C(&I)' EQ '').MA1                                     65200002
         AIF   (&SGDSPSA(&I) EQ 0).MA1  DATASET NOT DEFINED             65240002
         AIF   (&F).MBY                 STEP JCL ALREADY CREATED        65280002
&F       SETB  1                        FIRST TIME THROUGH              65320002
.*                                        STEP JCL                      65360002
&SGCTRLA(1) SETA  1                       SET STEP COUNTER TO ONE       65370002
 PUNCH '//MISC&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K'                  65400002
 PUNCH  '//SYSPRINT  DD    SYSOUT=&SGCTRLC(41)'                         65440002
.MBY     ANOP                                                           65480002
         AIF   (NOT &SGDSA2B(&I)).MT1     TRK SPECIFIED                 65520002
         AIF   (NOT &SGDSA1B(&I)).MB1     BLOCKS SPECIFIED              65560002
&A       SETC  'CYL'                      PRIMARY SPACE IN CYLINDERS    65600002
         AGO   .MD1                                                     65640002
.MB1     ANOP                                                           65680002
&A       SETC  '&SGDSBZA(&I)'             PRIMARY SPACE IN BLOCKS       65720002
         AGO   .MD1                                                     65760002
.MT1     ANOP                                                           65800002
&A       SETC  'TRK'                      PRIMARY SPACE IN TRACKS       65840002
.**********   SET BLOCKSIZE FOR PARTITIONED DATA SETS                   65880003
.*              BLKSIZE FOR CMDLIB, JES3LIB, TELCMLIB, VTAMLIB          65890024
.MD1     AIF   (NOT (&I EQ 2 OR &I EQ 4 OR &I EQ 10 OR &I EQ 13)).MP1  *65900024
                                                                Y30BS04 65910024
         AIF   ('&SGDSUNC(&I)' NE '2314').MD2                           65960002
&B       SETA  7294                                                     66000002
         AGO   .MP6                                                     66040002
.MD2 AIF ('&SGDSUNC(&I)' NE '3330' AND '&SGDSUNC(&I)' NE '3330-1').MD3  66080002
&B       SETA  13030                                                    66120002
         AGO   .MP6                                                     66160002
.MD3     AIF   ('&SGDSUNC(&I)' NE '2305-1').MD4                         66200002
&B       SETA  14136                                                    66240002
         AGO   .MP6                                                     66280002
.MD4     AIF   ('&SGDSUNC(&I)' NE '2305-2').MD5                         66320002
&B       SETA  14660                                                    66360002
         AGO   .MP6                                                     66400002
.MD5     AIF   ('&SGDSUNC(&I)' NE '3340').MD59                 @Z30RSTA 66440024
&B       SETA  8368                                                     66480002
         AGO   .MP6                                                     66520002
.MD59    AIF   ('&SGDSUNC(&I)' NE '3350').MERR                 @Z30RSTA 66530024
&B       SETA  19069                                           @ZM40407 66540024
         AGO   .MP6                                            @Z30RSTA 66550024
.*              BLOCKSIZE FOR INDMAC, HELP, MACLIB, OR PROCLIB          66560003
.MP1     AIF   (NOT (&I EQ 1 OR &I EQ 3 OR &I EQ 7 OR &I EQ 8)).MP6     66600003
         AIF   ('&SGDSUNC(&I)' NE '2314').MP2                           66640002
&B       SETA  7280                                                     66680002
         AGO   .MP6                                                     66720002
.MP2 AIF ('&SGDSUNC(&I)' NE '3330' AND '&SGDSUNC(&I)' NE '3330-1').MP3  66770002
&B       SETA  12960                                                    66800002
         AGO   .MP6                                                     66840002
.MP3     AIF   ('&SGDSUNC(&I)' NE '2305-1').MP4                         66880002
&B       SETA  14080                                                    66920002
         AGO   .MP6                                                     66960002
.MP4     AIF   ('&SGDSUNC(&I)' NE '2305-2').MP5                         67000002
&B       SETA  14640                                                    67040002
         AGO   .MP6                                                     67080002
.MP5     AIF   ('&SGDSUNC(&I)' NE '3340').MP59                 @Z30RSTA 67120024
&B       SETA  8320                                                     67160002
         AGO   .MP6                                            @Z30RSTA 67170024
.MP59    AIF   ('&SGDSUNC(&I)' NE '3350').MERR                 @Z30RSTA 67180024
&B       SETA  19040                                           @ZM40407 67190024
         AGO   .MP6                                            @Z30RSTA 67192024
.MP6     ANOP                                                           67200002
  PUNCH  '//&C(&I) DD DSN=&SGCTRLC(40)..&C(&I),DISP=(,KEEP),'           67240002
  PUNCH  '// VOLUME=(,RETAIN,SER=&SGDSVLC(&I).),UNIT=&SGDSUNC(&I).,'    67280002
         AIF   (&I GT 18).MA5           NO SEC OR DIR BLK               67320002
         AIF   (&I GT 15).MA50          NO SECONDARY SPACE              67360002
         AIF   (&I EQ 11).MA57          UADS                            67400002
         AIF   (&SGDSSSA(&I) NE 0 AND &SGDSDBA(&I) NE 0).MA20           67440002
         AIF   (&SGDSSSA(&I) NE 0).MA35    SECONDARY ONLY               67480002
.MAC     AIF   (&SGDSDBA(&I) NE 0).MA50    DIRECTORY BLOCK ONLY         67520002
.MA5     AIF   (&I NE 19 ).MA8          BRODCAST                        67560002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(&I).),,CONTIG)'                       67600002
         AGO   .MA1                                                     67640002
.MA8     ANOP                           MANX, MANY, DUMP                67680002
  PUNCH  '// LABEL=EXPDT=99350,SPACE=(&A.,(&SGDSPSA(&I).),,CONTIG)'     67720002
         AGO   .MA1                                                     67760002
.MA20    ANOP              PDS WITH SECONDARY ALLOCATION                67800002
 PUNCH  '// LABEL=EXPDT=99350,'                                         67840002
.*             INDMAC, HELP, MACLIB, OR PROCLIB                 Y30BS04 67850024
   AIF (NOT (&I EQ 1 OR &I EQ 3 OR &I EQ 7 OR &I EQ 8)).MA23    Y30BS04 67880024
 PUNCH  '// DCB=(RECFM=FB,BLKSIZE=&B,LRECL=80),'                        67920002
.MA205   ANOP                                                           67960002
         AIF  (&SGDSSSA(&I) NE 0).MA206      SECONDARY SPEC.            68000002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(&I).,,&SGDSDBA(&I).))'                68040002
         AGO   .MA1                                                     68080002
.MA206   ANOP                                                           68120002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(&I).,&SGDSSSA(&I).,&SGDSDBA(&I).))'   68160002
         AGO   .MA1                                                     68200002
.*             CMDLIB, JES3LIB, TELCMLIB, VTAMLIB               Y30BS04 68210024
.MA23    AIF   (NOT (&I EQ 2 OR &I EQ 4 OR &I EQ 10 OR &I EQ 13)).MA24 *68220024
                                                                Y30BS04 68230024
  PUNCH  '// DCB=(RECFM=U,BLKSIZE=&B.),SPACE=(&A.,(&SGDSPSA(&I).,&SGDSSX68280003
               SA(&I).,&SGDSDBA(&I).))'                                 68320002
         AGO   .MA1                                                     68360002
.MA24    AIF   (&I NE 5).MA25                       SAMPLIB             68400002
  PUNCH  '// DCB=(RECFM=F,LRECL=80,BLKSIZE=80),SPACE=(&A.,(&SGDSPSA(&I)X68440002
               .,&SGDSSSA(&I).,&SGDSDBA(&I).))'                         68480002
         AGO   .MA1                                                     68520002
.MA25    ANOP                                                           68560002
  PUNCH  '// DCB=(RECFM=U,BLKSIZE=&B.),SPACE=(&A.,(&SGDSPSA(&I).,&SGDSSX68600002
               SA(&I).,&SGDSDBA(&I).))'                                 68640002
         AGO   .MA1                                                     68680002
.MA35    AIF (&I GT 19).MA40       SECONDARY SPACE ALLOCATED            68720002
   MNOTE 5,'* * * IEIGEN512 PDS &C(&I) REQUIRES DIRECTORY BLOCKS'       68760002
&SGQUITB SETB  1                                                        68800002
      AGO   .MA1                                                        68840002
.MA40    ANOP                                                           68880002
   MNOTE 5,'* * * IEIGEN513  &C(&I) CANNOT HAVE SECONDARY SPACE'        68920002
&SGQUITB SETB  1                                                        68960002
         AGO   .MA1                                                     69000002
.MA50    AIF   (&I EQ 18).MA55     DIRECTORY BLOCKS, NO SEC ALLOC       69040002
  PUNCH  '// LABEL=EXPDT=99350,SPACE=(&A.,(&SGDSPSA(&I).,,&SGDSDBA(&I).X69080002
               )),'                                                     69120002
.*             INDMAC, HELP, MACLIB, OR PROCLIB                         69130024
   AIF (NOT (&I EQ 1 OR &I EQ 3 OR &I EQ 7 OR &I EQ 8)).MA53            69160003
 PUNCH  '// DCB=(RECFM=FB,LRECL=80,BLKSIZE=&B)'                         69200002
         AGO   .MA1                                                     69240002
.*             CMDLIB, JES3LIB, TELCMLIB, VTAMLIB               Y30BS04 69250024
.MA53    AIF   (NOT (&I EQ 2 OR &I EQ 4 OR &I EQ 10 OR &I EQ 13)).MA531*69260024
                                                                Y30BS04 69270024
 PUNCH  '// DCB=(RECFM=U,BLKSIZE=&B.)'                                  69320002
         AGO   .MA1                                                     69360002
.MA531   AIF   (&I NE 5).MA54                    SAMPLIB                69400002
 PUNCH  '// DCB=(RECFM=F,LRECL=80,BLKSIZE=80)'                          69440002
         AGO   .MA1                                                     69480002
.MA54    AIF   (&I NE 16).MA56                   IMAGELIB               69520002
  PUNCH  '// DCB=(RECFM=U,BLKSIZE=1024)'                                69560002
         AGO   .MA1                                                     69600002
.MA55    ANOP                                    PARMLIB                69640002
  PUNCH  '// LABEL=EXPDT=99350,DCB=(RECFM=F,BLKSIZE=80),'               69680002
  PUNCH  '// SPACE=(&A.,(&SGDSPSA(&I).,,&SGDSDBA(&I).),,CONTIG)'        69720002
         AGO   .MA1                                                     69760002
.MA56    ANOP                                                           69800002
  PUNCH  '// DCB=(RECFM=U,BLKSIZE=&B.)'                                 69840002
         AGO   .MA1                                                     69880002
.MA57    ANOP                                     UADS                  69920002
  PUNCH  '// DCB=(RECFM=FB,DSORG=PO,BLKSIZE=800,LRECL=80),'             69960002
         AGO   .MA205                                                   70000002
.MCAT    AIF   (NOT &F).MC6       NO DATASETS DEFINED OR ALLOCATED      70040003
  PUNCH  '//SYSIN DD *'                                                 70080002
&I       SETA  0                                                        70120002
.MC1     AIF   (&I EQ 37).MC5                                           70160002
&I       SETA  &I+1                                                     70200002
         AIF   ('&C(&I)' EQ '').MC1 IF NOT SPECIFIED,DONT DO IT         70240002
         AIF   (&SGDSPSA(&I) EQ 0).MC1  NOT DEFINED OR PREALLOCATED     70280002
  PUNCH ' DEFINE CAT (&SGVSNMC) -'                              OZ04623 70320024
  PUNCH '  NONVSAM ( NAME (&INDEX..&C(&I).)    -'                       70360002
  PUNCH '            VOL (&SGDSVLC(&I).)     DEVT (&SGDSUNC(&I).))  '   70400002
         AGO   .MC1                                                     70440002
.MC5     ANOP                                                           70480002
  PUNCH  '/*'                                                           70520002
.MC6     ANOP                                                           70530002
.*****              DEFAULT UNIT AND VOLUME FOR NEEDED DATA SETS        70560002
&I       SETA  1   DEFAULT SYSTEM DATASETS AND OPTIONAL ONES CODED ON   70600002
.*                  A DATASET MACRO WITHOUT UNIT AND VOLUME AND SPACE   70640002
.MN4     AIF   ((&I NE 5 AND &I NE 7 AND &I NE 8 AND &I NE 18)         *70680000
               AND (NOT(&SGDSDFB(&I)))).MN6                        @F1C 70700000
         AIF   ('&SGDSVLC(&I)' NE '').MN5                               70760002
&SGDSVLC(&I) SETC   '&SGCTRLC(30)'                                      70800002
&SGDSDFB(&I) SETB  1    INDICATE DEFINED                                70840002
     MNOTE *,'  &C(&I)  ASSUMED TO BE PREALLOCATED ON &SGCTRLC(30) '    70880002
.MN5     AIF   ('&SGDSUNC(&I)' NE '').MN6                               70920002
&SGDSUNC(&I) SETC  '&SGCTRLC(29)'   DEFAULT UNIT                        70960002
.MN6     ANOP                                                           71000002
&I       SETA  &I+1                                                     71040002
         AIF   (&I LE 23).MN4                                      @F1C 71080000
         AIF   (NOT &SGTSOB).MN75                              @ZA33542 71120037
         AIF   (&SGDSDFB(2)).MN75                              @ZA33542 71160037
&SGDSDFB(2) SETB 1                      INDICATE DEFINED                71200037
 MNOTE 5,'* * * IEIGEN105 &C(2) MUST BE SPECIFIED IF TSO CMDS=YES'      71240037
.*                                                             @ZA33542 71280037
&SGQUITB SETB  1                                               @ZA33542 71320037
.MN75    AIF   (NOT (&SGDMGTB(4) OR &SGDMGTB(5))).MN9   BTAM OR TCAM?   71360037
         AIF   (&SGDSDFB(10)).MN9                              @ZA33542 71400037
&SGDSDFB(10)   SETB 1                                                   71440037
 MNOTE 5,'* * * IEIGEN105 &C(10) MUST BE SPECIFIED FOR BTAM/TCAM'       71480037
.*                                                             @ZA33542 71520037
&SGQUITB SETB  1                                               @ZA33542 71560037
.MN9     AIF   (&SGDSDFB(16)).MN105                            @ZA33542 71600037
&SGDSDFB(16)   SETB 1                                                   71640037
 MNOTE 5,'* * * IEIGEN105 &C(16) MUST BE SPECIFIED '           @ZA33542 71680037
&SGQUITB SETB  1                                               @ZA33542 71720037
.MN105   AIF   (NOT(&SGSCHDB(25))).MSEND                       @ZA33542 71760037
         AIF   (&SGDSDFB(23)).MSEND                            @ZA33542 71800037
&SGDSDFB(23) SETB 1                     INDICATE DEFINED                71840037
 MNOTE 5,'* * * IEIGEN105 DCMLIB MUST BE SPECIFIED IF PFK USED IN CONSOX71880037
               LE'                                             @ZA33542 71920037
&SGQUITB SETB  1                                               @ZA33542 71960037
         AGO   .MSEND                                                   72200002
.MERR MNOTE 5,'* * * IEIGEN507 INVALID UNIT FOR &SGDSPSA(&I)'           72240002
&SGQUITB SETB  1                                                        72280002
.MSEND   ANOP                                                           72320002
.********************************************************************** 72360002
.*            ***STEP ***  SCRATCH AND REALLOCATE LOGREC  ******      * 72400002
.********************************************************************** 72440002
.DELETLG       AIF (NOT &GETB(3)).K0      OTHER THAN IO SYSGEN?         72480002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1         INCREMENT STEP COUNTER        72850002
 PUNCH '//MISC&SGCTRLA(1) EXEC PGM=IEHPROGM,COND=(8,LT)'                72900002
 PUNCH '//SYSPRINT DD SYSOUT=&SGCTRLC(41)'                              72910002
 PUNCH '//LOGREC DD DISP=OLD,UNIT=&SGCTRLC(29),VOLUME=(,RETAIN,SER=&SGCX72920002
               TRLC(30))'                                               72960002
 PUNCH '//SYSIN DD *'                                                   73080002
 PUNCH '  SCRATCH DSNAME=SYS1.LOGREC,PURGE,VOL=&SGCTRLC(29)=&SGCTRLC(30X73120002
               )'                                                       73130002
 PUNCH '/*'                                                             73160002
.K0      ANOP                                                           73200002
.************** ALL/IO *****                                            73240002
*** SGIFB600 *** ERP                                      *** SC1CD *** 73280002
    SGIFB600  &SGCTRLC(29)                                              73320002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 73330002
.********************************************************************** 73340002
.*               *** STEP ***   MISCELLANEOUS ASSEMBLY   ******       * 73350024
.********************************************************************** 73360002
&SGCTRLC(5)    SETC '&OBJPDS'(6,6).'03' SET OBJPDS GLOBAL               73370002
.*                                                                 @F1D 73380002
         AIF   (NOT (&SGMENTB(61) AND &SGTSOB)).K1  NOT TSO WITH EDIT   73386002
.******* ALL-IO ******                                             @F1C 73392002
*** SGIKJ2EB *** TSO EDIT   (ASSEMBLY FOR CMDLIB)         *** SC1T0 *** 73420002
    SGIKJ2EB                                                            73430002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 73450002
.K1      ANOP                                                           73460002
.********************************************************************** 73470002
.**      MISC LIB COPIES                                *************** 73480002
.********************************************************************** 73490002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1                                       73580002
.****  FOR AN IO GEN WITH NO 3211 OR 2245 PRINTER, BYPASS COPY STEP *** 73590002
.***** AND FOR 3800 NOT SPECIFIED                              @X40MSTG 73592024
      AIF   (&GETB(3) AND NOT &SGDCLSB(71) AND NOT &SGDCLSB(74) AND NOT*73600024
                &SGDCLSB(81)).EG                               @X40MSTG 73610024
 PUNCH '//MISC&SGCTRLA(1) EXEC PGM=IEBCOPY,REGION=512K,COND=(4,LT)'     73640002
 PUNCH '//SYSPRINT DD SPACE=(3630,(500,40),RLSE),'                      73680002
 PUNCH '//   DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)'  73720002
         AIF   (&GETB(3)).JIO                                           73730002
 PUNCH '//AMACLIB DD DSNAME=SYS1.AMACLIB,DISP=SHR'             @ZA15662 73760024
.**      NEXT LINE UPDATED BY OZ15662                   *******@ZA15662 73780024
 PUNCH '//MACLIB DD DSN=&INDEX..MACLIB,VOL=(,RETAIN,SER=&SGCTRLC(16)),' 73800024
 PUNCH '//             DISP=OLD,UNIT=&SGCTRLC(15)'                      73840002
 PUNCH '//SYSUT3 DD DSN=&&SYSUT3,SPACE=(1700,(10,5)),UNIT=SYSDA'        73880002
 PUNCH '//SYSUT4 DD DSN=&&SYSUT4,SPACE=(460,(30,24)),UNIT=SYSDA'        73920002
 PUNCH '//AOSB3 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSB3'         73960002
 PUNCH '//AOS20 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS20'         74000002
 PUNCH '//AOS21 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS21'         74040002
 PUNCH '//AOS26 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOS26'         74050003
 PUNCH '//AOST4 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOST4'         74080002
.JIO   ANOP                                                             74090002
 PUNCH '//AOSD0 DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AOSD0'         74120002
       AIF   (NOT &SGDSDFB(16)).NOIMAG    NO IMAGELIB                   74130002
 PUNCH '//IMAGELIB DD DSNAME=&SGCTRLC(40)..IMAGELIB,DISP=OLD,'          74140002
 PUNCH '//     UNIT=&SGCTRLC(61),VOL=(,RETAIN,SER=&SGCTRLC(62))'        74150002
        AIF   ('&SGPDSUC(16)' EQ '' OR &GETB(3) EQ 1).NOIMAG   NO PDS   74152002
 PUNCH '//IMAGELBA DD DISP=SHR,DSNAME=&SGPDSUC(16)'            XA00124  74154002
.NOIMAG AIF    (&GETB(3)).NOVTAM           IO GEN       VS32758,Z40RSVN 74160024
        AIF ('&SGPDSUC(7)' EQ '').NOMAC       NO PDS FOR MACLIB         74162002
 PUNCH '//MACLIBA  DD DISP=SHR,DSNAME=&SGPDSUC(7)'             XA00124  74164002
.NOMAC   AIF    (NOT &SGDSDFB(10)).NOTCM      NO TELCMLIB               74170002
 PUNCH '//TELCMLIB DD DSN=&INDEX..TELCMLIB,DISP=OLD,'                   74200002
 PUNCH '//         UNIT=&SGCTRLC(33),VOL=(,RETAIN,SER=&SGCTRLC(34))'    74240002
    AIF       ('&SGPDSUC(10)' EQ '').NOTCM    NO PDS FOR TELCMLIB       74280002
 PUNCH '//TELCMLBA DD DISP=SHR,DSNAME=&SGPDSUC(10)'             ZA00124 74320002
.NOTCM  ANOP                                                            74360002
 PUNCH '//CMDLIB   DD VOL=(,RETAIN,SER=&SGCTRLC(23)),DISP=OLD,'         74400002
 PUNCH '//         UNIT=&SGCTRLC(24),DSN=&SGCTRLC(40)..CMDLIB'          74440002
 PUNCH '//ACMDLIB  DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.ACMDLIB'    74480002
 AIF       ('&SGPDSUC(2)' EQ '').NOCMD        NO PDS FOR CMDLIB         74520002
 PUNCH '//CMDLIBA  DD DISP=SHR,DSNAME=&SGPDSUC(2)'              ZA00124 74560002
.NOCMD  AIF (NOT &SGDSDFB(3)).J00        NO HELP DATASET?               74800002
.**      NEXT LINE UPDATED BY OZ15662                   *******@ZA15662 74840024
 PUNCH '//AHELP    DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AHELP'      74860024
 PUNCH '//HELP     DD DSN=&INDEX..HELP,VOL=(,RETAIN,SER=&SGCTRLC(52)),' 74880002
 PUNCH '//         UNIT=&SGCTRLC(51),DISP=OLD'                          74920002
.J00 AIF ('&SGPDSUC(4)' EQ '' AND NOT &SGMENTB(46)).NOJ3C NO J3 Y30BS04 74960024
 PUNCH '//AOSBA DD DISP=SHR,VOL=(,RETAIN),DSN=SYS1.AOSBA'       Y30BS04 74961024
 PUNCH '//JES3LIB DD DSN=&INDEX..JES3LIB,DISP=OLD,'             Y30BS04 74962024
 PUNCH '// UNIT=&SGDSUNC(4),VOL=(,RETAIN,SER=&SGDSVLC(4))'      Y30BS04 74963024
         AIF   ('&SGPDSUC(4)' EQ '').NOJ3C   NO PDS             Y30BS04 74964024
 PUNCH '//JES3LIBA DD DISP=SHR,DSN=&SGPDSUC(4)'                 Y30BS04 74965024
.NOJ3C   ANOP                                                   Y30BS04 74966024
.**      NEXT LINE UPDATED BY OZ15662                   *******@ZA15662 75000024
 PUNCH '//AUADS    DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.AUADS'      75020024
 PUNCH '//UADS     DD DSN=&INDEX..UADS,VOL=(,RETAIN,SER=&SGCTRLC(50)),' 75040002
 PUNCH '//         UNIT=&SGCTRLC(49),DISP=OLD'                          75080002
 PUNCH '//ASAMPLIB DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.ASAMPLIB'   75160002
 PUNCH '//SAMPLIB  DD DSN=&INDEX..SAMPLIB,UNIT=&SGCTRLC(17),'           75200002
 PUNCH '//         VOL=(,RETAIN,SER=&SGCTRLC(18)),DISP=OLD'             75240002
        AIF   ('&SGPDSUC(5)' EQ '').NOSAMP      NO PDS FOR SAMPLIB      75320002
 PUNCH '//SAMPLIBA DD DISP=SHR,DSNAME=&SGPDSUC(5)'              XA00124 75360002
.NOSAMP  ANOP                                                           75410002
 PUNCH '//APARMLIB DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.APARMLIB'   75520002
 PUNCH '//PARMLIB  DD DSNAME=&SGCTRLC(40)..PARMLIB,DISP=OLD,'           75560002
 PUNCH '//         UNIT=&SGCTRLC(44),VOL=(,RETAIN,SER=&SGCTRLC(45))'    75600002
        AIF ('&SGPDSUC(18)' EQ '').NOPARM       NO PDS FOR PARMLIB      75610002
 PUNCH '//PARMLIBA DD DISP=SHR,DSNAME=&SGPDSUC(18)'             ZA00124 75620002
.NOPARM ANOP                                                            75630002
 PUNCH '//APROCLIB DD DISP=SHR,VOLUME=(,RETAIN),DSNAME=SYS1.APROCLIB'   75640002
 PUNCH '//PROCLIB  DD DSNAME=&SGCTRLC(40)..PROCLIB,DISP=OLD,'           75680002
 PUNCH '//         UNIT=&SGCTRLC(25),VOL=(,RETAIN,SER=&SGCTRLC(26))'    75720002
        AIF   ('&SGPDSUC(8)' EQ '').NOPROC      NO PDS FOR PROCLIB      75760002
 PUNCH '//PROCLIBA DD DISP=SHR,DSNAME=&SGPDSUC(8)'              ZA00124 75800002
.NOPROC AIF (NOT &SGDMGTB(5) AND NOT &SGTSOB).J0 TCAM? CMDS?    Z40DSVN 75960024
 PUNCH '//ATCAMMAC  DD DSNAME=SYS1.ATCAMMAC,DISP=SHR'          @ZA15662 76000024
.J0     AIF (NOT &SGTSOB).J1              TSO NOT INCLUDED              76060024
 PUNCH '//ATSOMAC DD DISP=SHR,DSNAME=SYS1.ATSOMAC'             @ZA15662 76120024
.J1      AIF    ((NOT &SGDMGTB(6)) AND ('&SGPDSUC(13)' EQ '')).NOVTAM  $76200003
                           NO VTAMLIB NOR PDS           VS32758 ZM32650 76201003
 PUNCH '//VTAMLIB  DD DSN=&INDEX..VTAMLIB,DISP=OLD,'                    76210003
 PUNCH '//    UNIT=&SGCTRLC(27),VOL=(,RETAIN,SER=&SGCTRLC(28))' VS30867 76220003
         AIF   ('&SGPDSUC(13)' EQ '').NOVTAM    PDS FOR VTAM?   ZM32650 76221003
 PUNCH '//VTAMLIBA DD DISP=SHR,DSN=&SGPDSUC(13)'                ZM32650 76222003
.NOVTAM  ANOP                                                           76230003
 PUNCH '//SYSIN DD *'                                                   76250003
         AIF (&GETB(3)).JC            IO GEN                            76260003
.**************                                                         76300003
.******      COPY MACRO LIBRARIES AND PARMLIB ENTRIES                   76340003
.**************                                                         76380003
 PUNCH ' COPY OUTDD=PARMLIB,INDD=APARMLIB'                              76660003
.***          CREATE IEAPAK00 AND IEABLD00 DEPENDING ON WETHER      *** 76700003
.***           TSO AND VTAM ARE EACH PRESENT.                       *** 76740003
 PUNCH ' COPY OUTDD=PARMLIB,INDD=APARMLIB'                              76780003
        AIF  (&SGTSOB).JTS         TSO INCLUDED IN SYSTEM               76820003
        AIF  (&SGDMGTB(6)).JTSVTAM  VTAM INCLUDED IN SYSTEM     VS32758 76830003
 PUNCH '    SELECT MEMBER=((IEAPAKBA,IEAPAK00))'                        76860003
 PUNCH '    SELECT MEMBER=((IEABLDBA,IEABLD00))'                        76900003
         AGO   .JBA                                                     76940003
.JTS    AIF (&SGDMGTB(6)).TSOVTAM  VTAM INCLUDED IN SYSTEM     VS32758  76980003
 PUNCH '    SELECT MEMBER=((IEAPAKTS,IEAPAK00))'                        77020003
 PUNCH '    SELECT MEMBER=((IEABLDTS,IEABLD00))'                        77060003
         AGO   .JBA                                             VS32758 77062003
.JTSVTAM ANOP                                                   VS32758 77070003
 PUNCH '    SELECT MEMBER=((IEAPAKBV,IEAPAK00))'                VS32758 77080003
 PUNCH '    SELECT MEMBER=((IEABLDBA,IEABLD00))'        VS32758,VS33034 77090003
         AGO   .JBA                                             VS32758 77092003
.TSOVTAM ANOP                                                   VS32758 77094003
 PUNCH '    SELECT MEMBER=((IEAPAKTV,IEAPAK00))'                VS32758 77096003
 PUNCH '    SELECT MEMBER=((IEABLDTS,IEABLD00))'        VS32758,VS33034 77098003
.JBA   ANOP                                                             77100003
 PUNCH ' COPY OUTDD=PROCLIB,INDD=APROCLIB'                              77140003
 PUNCH ' COPY  OUTDD=SAMPLIB,INDD=ASAMPLIB'                             77180003
         AIF (NOT &SGDSDFB(3)).JA         NO HELP DATASET?              77220003
 PUNCH ' COPY OUTDD=HELP,INDD=AHELP'                           @ZA15662 77260024
.JA      AIF (NOT &SGDSDFB(11)).JB        NO UADS DATASET?              77300024
 PUNCH ' COPY OUTDD=UADS,INDD=AUADS'                           @ZA15662 77340024
.JB      AIF (NOT &SGDMGTB(5) AND NOT &SGTSOB).J8  TCAM; CMDS=Y Z40DSVN 77380024
 PUNCH ' COPY OUTDD=MACLIB,INDD=ATCAMMAC'                      @ZA15662 77420024
.J8     AIF   (NOT &SGTSOB).J9         TSO NOT INCLUDED                 77460024
 PUNCH ' COPY OUTDD=MACLIB,INDD=ATSOMAC'                       @ZA15662 77500024
.******* ALL ********                                                   77540003
*** SGIKJ5EF *** TSO SCHEDULER                            *** SC1S5 *** 77580003
    SGIKJ5EF                                                            77620003
.******* ALL ********                                                   77660003
*** SGIKJ5EH *** TSO TYPE 1 UTILITIES                     *** SC1T2 *** 77700003
    SGIKJ5EH                                                            77740003
.******* ALL ********                                                   77780003
*** SGAKJ5IE *** TSO LINK EDIT F PROMPTER                 *** SC1T5 *** 77820003
    SGAKJ5IE                                                            77840003
.******* ALL ********                                                   77860003
*** SGIKJ5EB *** TSO EDIT                                 *** SC1T0 *** 77880003
    SGIKJ5EB                                                            77900003
.******* ALL ********                                                   77920003
*** SGIKJ5EG *** TSO EDIT                                 *** SC1T1 *** 77940003
    SGIKJ5EG                                                            77960003
.J9      AIF   (NOT &SGMENTB(46)).NOJ3D NO JES3                 Y30BS04 77980024
.******* ALL *******                                                    77981024
*** SGIAT5JL ***  JES3 COPY TO JES3LIB                    *** SC1BA *** 77982024
    SGIAT5JL                                                            77983024
.NOJ3D   ANOP                                                   Y30BS04 77984024
.*** ALL ***                                                            78000003
*** SGIED502 *** TCAM                                     *** SC121 *** 78020003
    SGIED502                                                            78040003
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 78045024
 PUNCH ' COPY OUTDD=MACLIB,INDD=AMACLIB'                       @ZA15662 78050024
        AIF   (&SGDMGTB(6)).J9A      VTAM NOT EXCLUDED?         VS30004 78052003
.*** ALL ***                                                    VS30004 78054003
*** SGIST513 *** VTAM                                     *** SC123 *** 78056003
    SGIST513                                                            78058003
.J9A    AIF   (&SGDMGTB(4)).J2        BTAM NOT EXCLUDED?        VS30004 78060003
.************** ALL *****                                               78080003
*** SGIEC513*** BTAM                                      *** SC120 *** 78100003
    SGIEC513                                                            78120003
.J2     AIF (&SGMENTB(12)).J6  IS GRAPHICS INCLUDED                     78160003
.************** ALL *****                                               78180003
*** SGIFF523 *** GRAPHIC PROGRAM SERVICES                 *** SC1G0 *** 78200003
    SGIFF523                                                            78220003
.J6        ANOP                                                         78240003
.*** ALL ***                                                            78260003
*** SGIEC520 ** OCR                                       *** SC1D5 *** 78280003
    SGIEC520                                                            78300003
         AIF   (NOT &SGDMGTB(6)).JC        NO VTAM IN SYSTEM            78310003
.*** ALL ***                                                            78320003
*** SGIST510 ** VTAM                                      *** SC123 *** 78330003
    SGIST510                                                            78340003
.JC       AIF   (NOT &SGDCLSB(81)).JCA     NO 3800             @X40MSTG 78390024
.************** ALL-IO *****                                            78440024
*** SGIEC5NI *** ACCESS METHODS                           *** SC1D0 *** 78490024
    SGIEC5NI                                                            78492024
.JCA     ANOP                                                           78500024
.************** ALL-IO *****                                            78520003
*** SGIEC5PI *** ACCESS METHODS                           *** SC1D0 *** 78540003
    SGIEC5PI                                                            78560003
    AIF   (&GETB(3)).JE                                                 78580003
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 78600002
&I         SETA  0 INITIALIZE LIBRARY COUNTER                           78640002
.MISC2     AIF (&I GT 8).MISC1     DONE WITH ALL THE LIBRARIES         *78680024
                                                        ZM32650,Y30BS04 78680224
&N SETC 'CMDLIB  JES3LIB SAMPLIB MACLIB  PROCLIB TELCMLIBVTAMLIB IMAGEL*78720024
               IBPARMLIB '(&I*8+1,8)           @ZA20936,ZM32650,Y30BS04 78740024
 AIF       ('&N'(8,1) NE ' ').NBLNK1                                    78800002
&N         SETC  '&N'(1,7)                                              78840002
 AIF       ('&N'(7,1) NE ' ').NBLNK1                                    78880002
&N         SETC  '&N'(1,6)                                              78920002
.NBLNK1    ANOP                                                         78960002
&NUC SETC 'CMDLIBA JES3LIBASAMPLIBAMACLIBA PROCLIBATELCMLBAVTAMLIBAIMAG*79000024
               ELBAPARMLIBA'(&I*8+1,8)                  ZM32650,Y30BS04 79040024
 AIF       ('&NUC'(8,1) NE ' ').NBLNK                                   79080002
&NUC       SETC  '&NUC'(1,7)                                            79120002
.NBLNK     ANOP                                                         79160002
&X SETC '020405070810131618'(&I*2+1,2)  LIB INDEX       ZM32650,Y30BS04 79200024
 AIF       ('&SGMB01C(&X)' EQ '').MISC3 ANY MEMBERS                     79240002
 PUNCH '          COPY  INDD=&NUC,OUTDD=&N'                             79280002
         AIF   ('&SGMB01C(&X)' EQ '').MISC3                             79320002
 PUNCH '          SELECT MEMBER=&SGMB01C(&X)'                           79360002
         AIF   ('&SGMB02C(&X)' EQ '').MISC3                             79400002
 PUNCH '          SELECT MEMBER=&SGMB02C(&X)'                           79440002
         AIF   ('&SGMB03C(&X)' EQ '').MISC3                             79480002
 PUNCH '          SELECT MEMBER=&SGMB03C(&X)'                           79520002
         AIF   ('&SGMB04C(&X)' EQ '').MISC3                             79560002
 PUNCH '          SELECT MEMBER=&SGMB04C(&X)'                           79600002
         AIF   ('&SGMB05C(&X)' EQ '').MISC3                             79640002
 PUNCH '          SELECT MEMBER=&SGMB05C(&X)'                           79680002
         AIF   ('&SGMB06C(&X)' EQ '').MISC3                             79720002
 PUNCH '          SELECT MEMBER=&SGMB06C(&X)'                           79760002
         AIF   ('&SGMB07C(&X)' EQ '').MISC3                             79800002
 PUNCH '          SELECT MEMBER=&SGMB07C(&X)'                           79840002
         AIF   ('&SGMB08C(&X)' EQ '').MISC3                             79880002
 PUNCH '          SELECT MEMBER=&SGMB08C(&X)'                           79920002
         AIF   ('&SGMB09C(&X)' EQ '').MISC3                             79960002
 PUNCH '          SELECT MEMBER=&SGMB09C(&X)'                           80000002
         AIF   ('&SGMB10C(&X)' EQ '').MISC3                             80040002
 PUNCH '          SELECT MEMBER=&SGMB10C(&X)'                           80080002
         AIF   ('&SGMB11C(&X)' EQ '').MISC3                             80120002
 PUNCH '          SELECT MEMBER=&SGMB11C(&X)'                           80160002
         AIF   ('&SGMB12C(&X)' EQ '').MISC3                             80200002
 PUNCH '          SELECT MEMBER=&SGMB12C(&X)'                           80240002
         AIF   ('&SGMB13C(&X)' EQ '').MISC3                             80280002
 PUNCH '          SELECT MEMBER=&SGMB13C(&X)'                           80320002
         AIF   ('&SGMB14C(&X)' EQ '').MISC3                             80360002
 PUNCH '          SELECT MEMBER=&SGMB14C(&X)'                           80400002
         AIF   ('&SGMB15C(&X)' EQ '').MISC3                             80440002
 PUNCH '          SELECT MEMBER=&SGMB15C(&X)'                           80480002
         AIF   ('&SGMB16C(&X)' EQ '').MISC3                             80520002
 PUNCH '          SELECT MEMBER=&SGMB16C(&X)'                           80560002
         AIF   ('&SGMB17C(&X)' EQ '').MISC3                             80600002
 PUNCH '          SELECT MEMBER=&SGMB17C(&X)'                           80640002
         AIF   ('&SGMB18C(&X)' EQ '').MISC3                             80680002
 PUNCH '          SELECT MEMBER=&SGMB18C(&X)'                           80720002
         AIF   ('&SGMB19C(&X)' EQ '').MISC3                             80760002
 PUNCH '          SELECT MEMBER=&SGMB19C(&X)'                           80800002
         AIF   ('&SGMB20C(&X)' EQ '').MISC3                             80840002
 PUNCH '          SELECT MEMBER=&SGMB20C(&X)'                           80880002
.MISC3     ANOP                                                         80920002
&I         SETA  &I+1                  INCREMENT LIBRARY COUNTER        80960002
 AGO       .MISC2  GO TO NEXT LIBRARY                                   81000002
.MISC1     ANOP                                                         81040002
.JE      ANOP                                                           81050002
 PUNCH '/*'                                                             81080002
.********************************************************************** 81160002
.****    JOB 5  MISC. LINKEDITS                      ****************** 81200002
.********************************************************************** 81240002
       AIF (NOT &SGTSOB).CONDLE         TSO NOT INCLUDED           @F1A 81320002
.******* ALL-IO ******                                             @F1M 81321002
*** SGIKJ4EB *** TSO EDIT                                 *** SC1T0 *** 81322002
    SGIKJ4EB                                                            81323002
.CONDLE AIF  (&GETB(3)).EG               I/O DEVICE GENERATION     @F1C 81324002
       AIF   (NOT &SGTSOB).VG            TSO NOT INCLUDED               81330003
.******* ALL ********                                                   81360002
*** SGIKJ4EF *** TSO TYPE 1 UTILITIES                     *** SC1S5 *** 81400002
    SGIKJ4EF                                                            81440002
.******* ALL ********                                                   81520002
*** SGIKJ4EH *** TSO TYPE 1 UTILITIES                     *** SC1T2 *** 81720002
    SGIKJ4EH                                                            81760002
.******* ALL ********                                                   81840002
*** SGIKJ4EG *** TSO TEST                                 *** SC1T1 *** 81880002
    SGIKJ4EG                                                            81920002
.******* ALL ********                                                   81960002
*** SGAKJ4IE *** TSO LINK EDIT F PROMPTER                 *** SC1T5 *** 82000002
    SGAKJ4IE                                                            82040002
.VG      AIF   (NOT &SGMENTB(46)).NOJ3E  NO JES3                Y30BS04 82040224
.******* ALL *******                                                    82040424
*** SGIAT4JL ***  JES3 LINKEDIT TO JES3LIB               *** SC1BA ***  82040624
    SGIAT4JL                                                            82040824
.NOJ3E  AIF   (NOT &SGDMGTB(6)).SU57      VTAM NOT INCLUDED     Y30BS04 82080037
.*                                                              OZ29149 82084037
.********** ALL *************                                           82088037
*** SGIST410 *** VTAM                                     *** SC123 *** 82092037
    SGIST410                                                            82096037
.*********         SU57 IMPLEMENTATION - IPCS                  ******** 82096637
.SU57    ANOP                                                   OZ29149 82102637
         AIF   (NOT &SGIHASU(57)).NSU57   SU 57 PRESENT ?       OZ29149 82108637
*** SGBLS400 ***  IPCS                                                  82114637
    SGBLS400                                                            82120637
.NSU57  ANOP                                                            82126637
.******* DEMF ****          DEMF LINK EDITS FOR TELCMLIB       @ZA31090 82132637
          AIF    (NOT(&SGIHASU(68))).EG       DEMF SU PRESENT? @ZA31090 82138637
*** SGBNG410  **** DEMF                                                 82144637
    SGBNG410                                                            82150637
.EG      ANOP                                                  @ZA31090 82156637
.************* ALL - I/O **********                                     82170003
*** SGIEC4UC *** BSAM/QSAM                                *** SC1D0 *** 82180003
    SGIEC4UC                                                            82200002
         AIF   (&GETB(3)).ZA                                   @ZA28264 82240000
.********************************************************************** 82250000
.*********        *** STEP *** IEBUPDTE TO PARMLIB      *************** 82260000
.********************************************************************** 82270000
.******* ALL  ****                                                      82280000
*** SGIEA600 *** SUPERVISOR                               *** SC1S4 *** 82290000
    SGIEA600                                                            82300000
.******* ALL  ****                                                      82310000
*** SGIEC6AP ** ACCESS METHODS                            *** SC1D1 *** 82320000
    SGIEC6AP                                                            82330000
         AIF   (NOT &SGMENTB(46)).NOJ3F  NO JES3                Y30BS04 82340000
.******* ALL ****                                                       82350000
*** SGIAT6PA ***   JES3 MEMBER TO PARMLIB                 *** SC1BA *** 82360000
    SGIAT6PA                                                            82370000
.******* ALL ****                                                       82380000
*** SGIAT5PR ***   JES3 RENAME PROCLIB MEMBER             *** SC1BA *** 82641224
    SGIAT5PR                                                            82641424
.NOJ3F   ANOP                                                   Y30BS04 82641624
.********************************************************************** 82680002
.*   UTILITIES FOR AUXILARY DATA SETS                                 * 82720024
.********************************************************************** 82760002
.*** ALL ***                                                            82800002
**** SGILR600 *** ASM                                     *** SC1CW *** 82840002
     SGILR600                                                           82880002
.*                                                              VS43004 82882024
.ZA      ANOP                                                           82920002
.********************************************************************** 82960002
.****       STEP ***  RENAME DATA SETS    ***************************** 83000002
.********************************************************************** 83040002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 83080002
         AIF   ('&INDEX' EQ 'SYS1').S8         SKIP RENAME?             83090002
         AIF   (&GETB(3)).S7                   RENAME STEP FOR IO GEN   83120002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1              INCREMENT STEP COUNTER   83210002
 PUNCH '//MISC&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K,COND=(8,LT)'      83240002
 PUNCH '//STEPCAT DD DISP=SHR,DSN=&SGVSNMC'                             83280002
 PUNCH '//SYSPRINT DD SPACE=(121,(500,100),RLSE),'                      83320002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 83360002
 PUNCH '//SYSIN  DD  *'                                                 83400002
  PUNCH '  ALTER       -'                                               83440002
  PUNCH '   &INDEX..BRODCAST  NEWNAME (SYS1.BRODCAST) -'        OZ04623 83480024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83490024
  PUNCH '  ALTER       -'                                               83520002
  PUNCH '   &INDEX..LOGREC   NEWNAME (SYS1.LOGREC)  -'          OZ04623 83560024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83570024
  PUNCH '  ALTER       -'                                               83600002
  PUNCH '   &INDEX..MACLIB    NEWNAME (SYS1.MACLIB)   -'        OZ04623 83640024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83650024
  PUNCH '  ALTER       -'                                               83680002
  PUNCH '   &INDEX..MANX    NEWNAME (SYS1.MANX)   -'            OZ04623 83720024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83730024
  PUNCH '  ALTER       -'                                               83760002
  PUNCH '   &INDEX..MANY    NEWNAME (SYS1.MANY)   -'            OZ04623 83800024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83810024
  PUNCH '  ALTER       -'                                               83840002
  PUNCH '   &INDEX..PARMLIB   NEWNAME (SYS1.PARMLIB)  -'        OZ04623 83880024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83890024
  PUNCH '  ALTER       -'                                               83920002
  PUNCH '   &INDEX..PROCLIB   NEWNAME (SYS1.PROCLIB)  -'        OZ04623 83960024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 83970024
  PUNCH '  ALTER       -'                                               84000002
  PUNCH '   &INDEX..SAMPLIB   NEWNAME (SYS1.SAMPLIB)  -'        OZ04623 84040024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84050024
  PUNCH '  ALTER       -'                                               84080002
  PUNCH '   &INDEX..STGINDEX  NEWNAME (SYS1.STGINDEX) -'        OZ04623 84120024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84130024
  PUNCH '  ALTER       -'                                               84160002
  PUNCH '   &INDEX..UADS    NEWNAME (SYS1.UADS)   -'            OZ04623 84200024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84202024
        AIF (NOT &SGDMGTB(6)).S1      VTAM NOT SPECIFIED                84210003
  PUNCH '  ALTER       -'                                               84220003
  PUNCH '   &INDEX..VTAMLIB  NEWNAME (SYS1.VTAMLIB) -'          OZ04623 84230024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84232024
.S1     AIF (NOT &SGDSDFB(1)).S2A     INDMAC NOT SPECIFIED              84240003
  PUNCH '  ALTER       -'                                               84250003
  PUNCH '   &INDEX..INDMAC   NEWNAME (SYS1.INDMAC)  -'          OZ04623 84260024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84310024
.S2A    AIF (NOT &SGDSDFB(16)).S3     IMAGELIB NOT SPECIFIED            84450003
  PUNCH '  ALTER       -'                                               84460003
  PUNCH '   &INDEX..IMAGELIB  NEWNAME (SYS1.IMAGELIB) -'        OZ04623 84470024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84472024
.S3     AIF (NOT &SGDSDFB(2)).S4      CMDLIB NOT SPECIFIED              84480003
  PUNCH '  ALTER       -'                                               84490003
  PUNCH '   &INDEX..CMDLIB   NEWNAME (SYS1.CMDLIB)  -'          OZ04623 84500024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84510024
.S4     AIF (NOT &SGDSDFB(3)).S5      HELP NOT SPECIFIED                84530003
  PUNCH '  ALTER       -'                                               84540003
  PUNCH '   &INDEX..HELP    NEWNAME (SYS1.HELP) -'              OZ04623 84560024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84570024
.S5      AIF (NOT &SGDSDFB(10)).S6    TELCMLIB NOT SPECIFIED            84600002
  PUNCH '  ALTER       -'                                               84640002
  PUNCH '   &INDEX..TELCMLIB  NEWNAME (SYS1.TELCMLIB) -'        OZ04623 84680024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84690024
.S6      AIF   (NOT &SGMENTB(46)).NOJ3G  NO JES3                Y30BS04 84720024
  PUNCH '  ALTER       -'                                       Y30BS04 84720224
  PUNCH '   &INDEX..JES3LIB   NEWNAME (SYS1.JES3LIB)  -'        OZ04623 84720424
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84720524
.NOJ3G   ANOP                                                   Y30BS04 84746924
&D       SETA  27                         SET INDEX TO DUMP00 INDEX     84760002
&I       SETA  0                          SET COUNT FOR DUMP00-09 DS    84800002
.S7A     AIF   (NOT &SGDSDFB(&D)).S7B     NOT DUMP00-09 SPECIFIED       84840002
  PUNCH '  ALTER       -'                                               84880002
  PUNCH '   &INDEX..DUMP0&I  NEWNAME (SYS1.DUMP0&I) -'          OZ04623 84920024
 PUNCH ' CAT (&SGVSNMC)'                                        OZ04623 84930024
.S7B     AIF   (&I GE 9).S7C              OUT IF COUNT MORE THAN 9      84960002
&D       SETA  &D+1                       UP INDEX VALUE                85000002
&I       SETA  &I+1                       UP COUNT                      85040002
         AGO   .S7A                       CHECK NEXT ONE                85080002
.S7C     ANOP                                                           85120002
  PUNCH '/*'                                                            85240002
          AGO   .S8                                                     85280002
.S7       ANOP         FOR IO GEN - RENAME LOGREC AND IMAGELIB          85320002
 PUNCH '//MISC&SGCTRLA(1) EXEC PGM=IEHPROGM,COND=(8,LT)'                85360002
 PUNCH '//SYSPRINT DD    SYSOUT=&SGCTRLC(41)'                           85400002
 PUNCH '//LOGREC   DD VOLUME=(,RETAIN,SER=&SGCTRLC(30).),UNIT=&SGCTRLC(X85480002
               29),DISP=OLD'                                            85490002
        AIF   (NOT &SGDSDFB(16)).S7D      NO IMAGELIB                   85520002
 PUNCH '//IMAGELIB DD VOLUME=(,RETAIN,SER=&SGCTRLC(62).),UNIT=&SGCTRLC(X85600002
               61),DISP=OLD'                                            85610002
.S7D    ANOP                                                            85640002
 PUNCH '//SYSIN DD *'                                                   85680002
 PUNCH '  RENAME NEWNAME=SYS1.LOGREC,                                  X85720002
                       X'                                               85760002
 PUNCH '               DSNAME=&SGCTRLC(40)..LOGREC,VOL=&SGCTRLC(29)=&SGX85800002
               CTRLC(30)'                                               85840002
        AIF   (NOT &SGDSDFB(16)).S7E      NO IMAGELIB                   85880002
 PUNCH '  RENAME NEWNAME=SYS1.IMAGELIB,                                X85920002
                       X'                                               85960002
 PUNCH '               DSNAME=&SGCTRLC(40)..IMAGELIB,VOL=&SGCTRLC(61)=&X86000002
               SGCTRLC(62)'                                             86040002
.S7E    ANOP                                                            86080002
 PUNCH '/*'                                                             86120002
.S8       ANOP                                                          86160002
.********************************************************************** 86200002
.*       JOB6                                     ********************* 86240002
.*                                                ********************* 86280002
.*           EXPORT MASTER CATALOG OF NEW SYSTEM  ********************* 86320002
.*                                                ********************* 86360002
.*           (NOTE - JOB 6 MUST NOT RUN UNTIL JOBS 1 TO 5 COMPLETE)     86400002
.********************************************************************** 86440002
.*          CALL JOBCARD MACRO FOR MISCELLANEOUS JOB                    86480002
&SGCTRLA(1)   SETA  0                                                   86520002
&SGCTRLA(3)   SETA  &SGCTRLA(3)+1                                       86560002
&SGHOLDB      SETB  1            SET BIT FOR TYPRUN=HOLD ON JOBCARD     86600002
         JOBCARD                                                        86640002
&SGHOLDB      SETB  0            BIT OFF FOR VSAM CATALOG USE           86680002
.********************************************************************** 86720002
.***********   CALL ADDITIONAL INNERS TO SUPPORT PRODUCT PROGRAMS       86720137
.********************************************************************** 86720237
         AIF   (&GETB(3)).NOPP          SKIP ON IOGEN           G32DSVN 86720337
.***** ALL *****                                                G32DSVN 86720437
*** SGIEI601 *** SYSGEN                                   *** SC1S1 *** 86720537
    SGIEI601                                                            86720637
.***** ALL *****                                                G32DSVN 86720737
*** SGIEI602 *** SYSGEN                                   *** SC1S1 *** 86720837
    SGIEI602                                                            86720937
.***** ALL *****                                                G32DSVN 86721037
*** SGIEI603 *** SYSGEN                                   *** SC1S1 *** 86721137
    SGIEI603                                                            86721237
.***** ALL *****                                                G32DSVN 86721337
*** SGIEI604 *** SYSGEN                                   *** SC1S1 *** 86721437
    SGIEI604                                                            86721537
.***** ALL *****                                                G32DSVN 86721637
*** SGIEI605 *** SYSGEN                                   *** SC1S1 *** 86721737
    SGIEI605                                                            86721837
.***** ALL *****                                                G32DSVN 86721937
*** SGIEI606 *** SYSGEN                                   *** SC1S1 *** 86722037
    SGIEI606                                                            86722137
.***** ALL *****                                                G32DSVN 86722237
*** SGIEI607 *** SYSGEN                                   *** SC1S1 *** 86722337
    SGIEI607                                                            86722437
.***** ALL *****                                                G32DSVN 86722537
*** SGIEI608 *** SYSGEN                                   *** SC1S1 *** 86722637
    SGIEI608                                                            86722737
.***** ALL *****                                                G32DSVN 86722837
*** SGIEI609 *** SYSGEN                                   *** SC1S1 *** 86722937
    SGIEI609                                                            86723037
.***** ALL *****                                                G32DSVN 86723137
*** SGIEI610 *** SYSGEN                                   *** SC1S1 *** 86723237
    SGIEI610                                                            86723337
.NOPP    ANOP                                                   G32DSVN 86723437
.********************************************************************** 86723537
.***********   LIST VTOC OF VOLUMES AND                                 86760002
.***********   LIST PDS FOR SYSTEM DATA SETS                            86800002
.********************************************************************** 86840002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1  INCREMENT STEP COUNTER               86880002
*** GENERATE *** SYSGEN                                   *** SC1S1 *** 86900037
 PUNCH '//LIST&SGCTRLA(1) EXEC PGM=IEHLIST'                             86920002
 PUNCH '//SYSPRINT DD SPACE=(121,(1500,300),RLSE),'                     86960002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 87000002
         AIF   (&GETB(3)).SA1     I/O SYSGEN                            87040002
         AIF (NOT (&SGDSDFB(2) OR &SGTSOB)).SC   NO CMDLIB DS?  VS32758 87080003
 PUNCH '//CMDLIB   DD VOL=(,RETAIN,SER=&SGCTRLC(23)),UNIT=&SGCTRLC(24),X87090003
               DISP=SHR'                                                87100003
.SC      AIF (NOT &SGDSDFB(3)).SA1        NO HELP DATASET?              87200003
 PUNCH '//HELP     DD VOL=(,RETAIN,SER=&SGCTRLC(52)),UNIT=&SGCTRLC(51),X87240002
               DISP=SHR'                                                87250003
.SA1     AIF   (NOT(&SGSCHDB(25) OR &SGDSDFB(23))).SBA                  87290003
 PUNCH '//DCMLIB   DD VOL=(,RETAIN,SER=&SGCTRLC(54)),UNIT=&SGCTRLC(53),X87360002
               DISP=SHR'                                                87400002
.SBA     AIF (NOT &SGDSDFB(16)).SBB       IMAGELIB NOT SPECIFIED?       87440002
 PUNCH '//IMAGELIB DD VOL=(,RETAIN,SER=&SGCTRLC(62)),UNIT=&SGCTRLC(61),X87480002
               DISP=SHR'                                                87520002
.SBB     ANOP                                                           87560002
 PUNCH '//LPALIB   DD VOL=(,RETAIN,SER=&SGCTRLC(20)),UNIT=&SGCTRLC(19),X87600002
               DISP=SHR'                                                87640002
 PUNCH '//LINKLIB  DD VOL=(,RETAIN,SER=&SGCTRLC(32)),UNIT=&SGCTRLC(31),X87680002
               DISP=SHR'                                                87720002
 PUNCH '//NUCLEUS  DD VOL=(,RETAIN,SER=&SGCTRLC(30)),UNIT=&SGCTRLC(29),X87760002
               DISP=SHR'                                                87800002
       AIF   (&GETB(3)).SA             IO GEN                           87840002
 PUNCH '//MACLIB   DD VOL=(,RETAIN,SER=&SGCTRLC(16)),UNIT=&SGCTRLC(15),X87880002
               DISP=SHR'                                                87920002
 PUNCH '//PARMLIB  DD VOL=(,RETAIN,SER=&SGCTRLC(45)),UNIT=&SGCTRLC(44),X87960002
               DISP=SHR'                                                88000002
 PUNCH '//PROCLIB  DD VOL=(,RETAIN,SER=&SGCTRLC(26)),UNIT=&SGCTRLC(25),X88040002
               DISP=SHR'                                                88080002
 PUNCH '//SAMPLIB  DD VOL=(,RETAIN,SER=&SGCTRLC(18)),UNIT=&SGCTRLC(17),X88120002
               DISP=SHR'                                                88160002
 PUNCH '//SVCLIB   DD VOL=(,RETAIN,SER=&SGDSVLC(9)),UNIT=&SGDSUNC(9),DIX88200002
               SP=SHR'                                                  88240002
 PUNCH '//UADS     DD VOL=(,RETAIN,SER=&SGCTRLC(50)),UNIT=&SGCTRLC(49),X88280002
               DISP=SHR'                                                88320002
         AIF (NOT &SGDSDFB(10)).NOTELDD     TELCMLIB NOT SPECIFIED      88360003
 PUNCH '//TELCMLIB DD VOL=(,RETAIN,SER=&SGCTRLC(34)),UNIT=&SGCTRLC(33),X88370003
               DISP=SHR'                                                88380003
.NOTELDD  AIF   (NOT &SGDMGTB(6)).NOVTMDD   VTAM NOT SPECIFIED          88390003
 PUNCH '//VTAMLIB  DD VOL=(,RETAIN,SER=&SGCTRLC(28)),UNIT=&SGCTRLC(27),X88400003
               DISP=SHR'                                                88410003
.NOVTMDD AIF   (NOT &SGMENTB(46)).NOJ3H  NO JES3                Y30BS04 88420024
 PUNCH '//JES3LIB  DD VOL=(,RETAIN,SER=&SGDSVLC(4)),UNIT=&SGDSUNC(4),DI*88420224
               SP=SHR'                                          Y30BS04 88420424
.NOJ3H   AIF   (NOT &SGDSDFB(25)).NOD25  NO DATASET             Z40RSVN 88420624
 PUNCH '//D25      DD VOL=(,RETAIN,SER=&SGDSVLC(25)),UNIT=&SGDSUNC(25),*88420824
               DISP=SHR'                                        Z40RSVN 88421024
.NOD25   ANOP                                                   Z40RSVN 88421224
 PUNCH '//STGINDEX DD VOL=(,RETAIN,SER=&SGCTRLC(22)),UNIT=&SGCTRLC(21),X88460024
               DISP=SHR'                                                88470002
 PUNCH '//CATALOG  DD VOL=(,RETAIN,SER=&SGCTRLC(38)),UNIT=&SGCTRLC(37),X88490002
               DISP=SHR'                                                88500002
 PUNCH '//BRODCAST DD VOL=(,RETAIN,SER=&SGCTRLC(58)),UNIT=&SGCTRLC(57),X88520002
               DISP=SHR'                                                88530002
 PUNCH '//MANX     DD VOL=(,RETAIN,SER=&SGCTRLC(46)),UNIT=&SGCTRLC(43),X88550002
               DISP=SHR'                                                88560002
 PUNCH '//MANY     DD VOL=(,RETAIN,SER=&SGCTRLC(48)),UNIT=&SGCTRLC(47),X88580002
               DISP=SHR'                                                88590002
.*                                                                 @F1D 88610002
.SA      ANOP                                                           88670002
 PUNCH '//SYSIN  DD  *'                                                 88680002
.*             THIS ROUTINE  PRODUCES LISTVTOC CARDS FOR EACH           88690002
.*             DIFFERENT VOLUME THAT HAS BEEN PARTIALLY GENERATED       88700002
.*             DURING THIS SYSGEN.                                      88710002
.*             TO ADD ANOTHER VOLUME TO THIS ROUTINE, FOUR CARDS        88720002
.*             MUST BE CHANGED.  THESE FOUR CARDS ARE NOTED BELOW       88750002
&CTR1    SETA  6-7                        SET COUNTER TO -1             88760002
.SE0     AIF   (&GETB(3)).SE5          IO GEN?                          88770002
         AIF   (&CTR1 EQ 43).SE66   **** '43' MUST BE UPPED     VS43004 88780024
.*                                    BY 2 FOR EACH ADDITION            88830024
.SE1     ANOP                                                           88880024
&CTR1    SETA  &CTR1+2                    INCREMENT POINTER             88930024
&NUC     SETC  '30325420622616344518235052564648582238666828'(&CTR1,2)  88980024
.*                ADD THE 2 CHARACTER SUBSCRIPT OF THE &SGCTRLC GLOBAL  89040002
.*                 WITH THE VOLUME SERIAL NUMBER                        89080002
&W1      SETA  &NUC                                                     89120002
         AIF ('&SGCTRLC(&W1)' EQ '').SE0  DO NOT LIST VTOC?             89160002
&W2      SETA  11-12                      SET POINTER TO -1             89200002
.SE2     ANOP                                                           89240002
&W2      SETA  &W2+2                      INCREMENT POINTER             89280002
         AIF (&CTR1 EQ &W2).SE4           GO PICK UP UNIT GLOBAL?       89320002
&NUC     SETC  '30325420622616344518235052564648582238666828'(&W2,2)    89360024
.*                  ADD THE 2 CHARACTER SUBSCRIPT OF THE &SGCTRLC GLOBAL89400002
                    WITH THE VOLUME SERIAL NUMBER                       89440002
&W3      SETA  &NUC                       VOLUME GLOBAL SUBSCRIPT       89480002
         AIF ('&SGCTRLC(&W1)' NE '&SGCTRLC(&W3)').SE2                   89520002
         AGO   .SE0                       CONTINUE                      89560002
.SE4     ANOP                                                           89600002
&NUC     SETC  '29315319612515334417244951554347572137656727'(&CTR1,2)  89640024
.*                ADD THE 2 CHARACTER SUBSCRIPT OF THE &SGCTRLC GLOBAL  89680002
.*                 WITH THE UNIT                                        89720002
&W3      SETA  &NUC                       UNIT GLOBAL SUBSCRIPT         89760002
 PUNCH ' LISTVTOC DUMP,VOL=&SGCTRLC(&W3)=&SGCTRLC(&W1)'                 89800002
         AGO   .SE0                       CONTINUE                      89840002
.SE5     AIF   (&CTR1 NE 9).SE1           CHECK 1ST 5 FOR IO GEN        89880002
.********************************************************************** 89920002
.****    LIST PDS INPUT                                                 89960002
.********************************************************************** 90000002
.SE66    AIF (&GETB(3)).SEA4              IO SYSGEN?                    90040003
         AIF (NOT (&SGDSDFB(2) OR &SGTSOB)).SEA3    NO CMDLIB   VS32758 90080003
 PUNCH ' LISTPDS VOL=&SGCTRLC(24)=&SGCTRLC(23),DSNAME=SYS1.CMDLIB,FORMA*90090024
               T'                                               Z40RSVN 90090224
.SEA3    AIF (NOT &SGDSDFB(3)).SEA4       NO HELP                       90160003
 PUNCH ' LISTPDS VOL=&SGCTRLC(51)=&SGCTRLC(52),DSNAME=SYS1.HELP'        90200002
.SEA4     AIF   (NOT(&SGSCHDB(25) OR &SGDSDFB(23))).SE6   PFK?          90240003
 PUNCH ' LISTPDS VOL=&SGCTRLC(53)=&SGCTRLC(54),DSNAME=SYS1.DCMLIB,FORMA*90280024
               T'                                               Z40RSVN 90280224
.SE6     AIF   (NOT &SGDSDFB(16)).SE7 IMAGELIB NOT SPECIFIED?           90320002
 PUNCH ' LISTPDS VOL=&SGCTRLC(61)=&SGCTRLC(62),DSNAME=SYS1.IMAGELIB,FOR*90360024
               MAT'                                             Z40RSVN 90360224
.SE7     ANOP                                                           90400002
 PUNCH ' LISTPDS VOL=&SGCTRLC(31)=&SGCTRLC(32),DSNAME=SYS1.LINKLIB,FORM*90440024
               AT'                                              Z40RSVN 90440224
 PUNCH ' LISTPDS VOL=&SGCTRLC(19)=&SGCTRLC(20),DSNAME=SYS1.LPALIB,FORMA*90480024
               T'                                               Z40RSVN 90480224
 PUNCH ' LISTPDS VOL=&SGCTRLC(29)=&SGCTRLC(30),DSNAME=SYS1.NUCLEUS,FORM*90520024
               AT'                                              Z40RSVN 90520224
         AIF   (&GETB(3)).SE8                     IO GEN                90560002
 PUNCH ' LISTPDS VOL=&SGCTRLC(15)=&SGCTRLC(16),DSNAME=SYS1.MACLIB'      90600002
 PUNCH ' LISTPDS VOL=&SGCTRLC(44)=&SGCTRLC(45),DSNAME=SYS1.PARMLIB'     90640002
 PUNCH ' LISTPDS VOL=&SGCTRLC(25)=&SGCTRLC(26),DSNAME=SYS1.PROCLIB'     90680002
 PUNCH ' LISTPDS VOL=&SGCTRLC(17)=&SGCTRLC(18),DSNAME=SYS1.SAMPLIB'     90720002
 PUNCH ' LISTPDS VOL=&SGDSUNC(9)=&SGDSVLC(9),DSNAME=SYS1.SVCLIB,FORMAT' 90760024
.*                                                     @ZA14554,Z40RSVN 90780024
 PUNCH ' LISTPDS VOL=&SGCTRLC(49)=&SGCTRLC(50),DSNAME=SYS1.UADS'        90800002
         AIF   (NOT &SGMENTB(46)).NOJ3I  NO JES3                Y30BS04 90800224
 PUNCH ' LISTPDS VOL=&SGDSUNC(4)=&SGDSVLC(4),DSNAME=SYS1.JES3LIB,FORMAT*90800424
               '                                        Y30BS04,Z40RSVN 90800624
.NOJ3I   AIF (NOT &SGDSDFB(10)).SE8    TELCMLIB NOT SPEC'D?     Y30BS04 90810024
 PUNCH ' LISTPDS VOL=&SGCTRLC(33)=&SGCTRLC(34),DSNAME=SYS1.TELCMLIB,FOR*90820024
               MAT'                                             Z40RSVN 90820224
.SE8     AIF (NOT &SGDMGTB(6)).SE9        VTAM NOT SPECIFIED?           90840003
 PUNCH ' LISTPDS VOL=&SGCTRLC(27)=&SGCTRLC(28),DSNAME=SYS1.VTAMLIB,FORM*90880024
               AT'                                              Z40RSVN 90880224
.SE9     ANOP                                                           90890424
 PUNCH '/*'                                                             90900002
         AIF   (&GETB(3)).SEA111         IF IO GEN, SKIP                90910002
.********************************************************************** 90912002
.***********                 LIST CATALOG                    *******    90914002
.********************************************************************** 90916002
&SGCTRLA(1)    SETA &SGCTRLA(1)+1              INCREMENT STEP COUNTER   90920002
 PUNCH '//LIST&SGCTRLA(1) EXEC PGM=IDCAMS,REGION=512K,COND=(8,LT)'      90930002
 PUNCH '//STEPCAT DD DISP=SHR,DSN=&SGVSNMC'                             90940002
 PUNCH '//SYSPRINT DD SPACE=(121,(500,100),RLSE),'                      90950002
 PUNCH '//    DCB=(RECFM=FB,LRECL=121,BLKSIZE=121),SYSOUT=&SGCTRLC(41)' 90960002
 PUNCH '//SYSIN  DD  *'                                                 90970002
 PUNCH ' LISTCAT CAT(&SGVSNMC) VOLUME'                          OZ04623 90980024
 PUNCH '/*'                                                             90990002
.*** ALL ***                                                            91040002
*** SGIGG500 *** VSAM CATALOG                             *** SC1DE *** 91080002
    SGIGG500                                                            91120002
.SEA111  ANOP                                                           91160002
         AIF (&SGQUITB).SEE               QUIT SWITCH SET IN GENERATE?  91200002
         MEXIT                                                          91240002
.SEC MNOTE 7,'* * * IEIGEN113 QUIT SWITCH SET PRIOR TO GENERATE MACRO'  91280002
         AGO   .SF                                                      91320002
.SEE MNOTE 7,'* * * IEIGEN116 QUIT SWITCH SET IN GENERATE MACRO'        91360002
.SF  MNOTE 7,'* * * G E N E R A T I O N  T E R M I N A T E D * * *'     91400002
  PUNCH  '//'                                                           91440002
.SF0     MEND                                                           91480002
