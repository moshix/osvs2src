* %/* START OF SPECIFICATIONS****                                       00052000
         MACRO                                                          00058000
&SYMBOL  ICBMNTDE &MF=,&TYPE=,&FLAGS=,&VOLID=,&VUA=,                   *00060000
               &HOSTID=,&MEXTN=,&ECB=,&MJFCB=                           00062000
.************************************************************* @Y30LB02 00066000
.*                                                             @Y30LB02 00100003
.* MODULE-NAME = ICBMNTDE                                      @Y30LB02 00150000
.*                                                             @Y30LB02 00200003
.* DESCRIPTIVE-NAME = MOUNT/DEMOUNT MACRO                      @Y30LB02 00250000
.*                                                             @Y30LB02 00300003
.* COPYRIGHT = NONE                                            @Y30LB02 00350000
.*                                                             @Y30LB02 00400003
.* STATUS = OPERATING SYSTEM = VS/2 REL 3                      @G18MB04 00450000
.*                                                             @Y30LB02 00500003
.* FUNCTION = REQUESTS MOUNT/DEMOUNT OF VIRTUAL VOLUMES        @Y30LB02 00550000
.*            FROM THE MSC USING SVC 126. THE                  @Y30LB02 00620000
.*            MOUNT REQUEST IS ISSUED WHEN A VIRTUAL           @Y30LB02 00630000
.*            VOLUME IS TO BE MADE AVAILABLE FOR               @Y30LB02 00640000
.*            PROCESSING. CONVERSELY, WHEN THE                 @Y30LB02 00642000
.*            VOLUME IS NO LONGER REQUIRED FOR                 @Y30LB02 00644000
.*            PROCESSING, THE DEMOUNT REQUEST IS               @Y30LB02 00646000
.*            ISSUED.                                          @Y30LB02 00650000
.*                                                             @Y30LB02 00660000
.* NOTES =                                                     @Y30LB02 00700000
.*                                                             @Y30LB02 00750003
.*   CODE = MACRO IS BILINGUALLY CODED. IN THE ORIGINAL        @Y30LB02 00800000
.*          VERSION OF THIS MACRO, THE BAL AND PL/S            @ZA28964 00802000
.*          SECTIONS ASSIGNED DIFFERENT LABELS TO THE          @ZA28964 00803000
.*          SAME REQUEST BLOCK STRUCTURE. TO MAINTAIN          @ZA28964 00804000
.*          COMPATABILITY, THE ALTERNATE PL/S LABELS HAVE      @ZA28964 00805000
.*          BEEN ADDED TO THE BAL REQUEST BLOCK DEFINITION     @ZA28964 00806000
.*          AND THE ALTERNATE BAL LABELS ADDED TO THE PL/S     @ZA28964 00807000
.*          REQUEST BLOCK DEFINITION.                          @ZA28964 00808000
.*                                                             @Y30LB02 00810000
.*   DEPENDENCIES = NONE                                       @Y30LB02 00820000
.*                                                             @Y30LB02 00850003
.*   RESTRICTIONS = THE FOLLOWING PREFIXES SHOULD BE           @Y30LB02 00900000
.*                  AVOIDED IN THE INVOKING MODULE:            @Y30LB02 00950000
.*                  ICB, MD, DM AND MNT. SVC 126, WHICH        @Y30LB02 01000000
.*                  IS INVOKED BY THIS MACRO, REQUIRES THAT    @ZA28964 01010000
.*                  THE CALLER BE APF-AUTHORIZED, IN           @ZA28964 01020000
.*                  PROTECTION KEY 0, OR IN SUPERVISOR STATE.  @ZA28964 01030000
.*                                                             @Y30LB02 01050003
.*   REGISTER-CONVENTIONS = FOLLOWS NORMAL USE OF REGISTERS    @Y30LB02 01100000
.*                          BY MACROS: R0,R1,R14,AND R15.      @Y30LB02 01150000
.*                                                             @Y30LB02 01200003
.*   PATCH-LABEL = NONE                                        @Y30LB02 01210000
.*                                                             @Y30LB02 01220000
.* MODULE-TYPE = MACRO                                         @Y30LB02 01250000
.*                                                             @Y30LB02 01300003
.*   PROCESSOR = ASSEM                                         @Y30LB02 01350000
.*               PL/S                                          @Y30LB02 01400000
.*                                                             @Y30LB02 01450003
.*   ATTRIBUTES = REUSABLE                                     @Y30LB02 01500000
.*                RE-ENTRANT (EXECUTE FORM)                    @Y30LB02 01550000
.*                                                             @Y30LB02 01600003
.* ENTRY-POINT = ICBMNTDE                                      @Y30LB02 01650000
.*                                                             @Y30LB02 01700003
.*   PURPOSE = SEE FUNCTION                                    @Y30LB02 01750000
.*                                                             @Y30LB02 02000003
.*   LINKAGE = SEE INPUT                                       @Y30LB02 02010000
.*                                                             @Y30LB02 02020000
.* INPUT = CODE THE ICBMNTDE MACRO USING                       @Y30LB02 02050000
.*         ONE OF THE FOLLOWING SYNTAX FORMS (THE              @Y30LB02 02052000
.*         '(R)' REGISTER PARAMETER FORM IS VALID              @Y30LB02 02052400
.*         ONLY IN THE BAL VERSIONS):                          @Y30LB02 02052800
.*                                                             @Y30LB02 02054000
.*   LIST FORMS =                                              @Y30LB02 02056000
.*                                                             @Y30LB02 02057000
.*     BAL - ICBMNTDE MF=(L,MAP),TYPE=MNT|DMNT                 @Y30LB02 02058000
.*                                                             @ZA28964 02059000
.*       REQUIRED PARAMETERS - MF=L,TYPE                       @ZA28964 02060000
.*                                                             @Y30LB02 02061000
.*     PL/S- ICBMNTDE MF(L,NAME,ATTR) TYPE(MNT|DMNT)           @Y30LB02 02062000
.*                                                             @Y30LB02 02063000
.*       REQUIRED PARAMETERS - MF(L,NAME) TYPE                 @Y30LB02 02064000
.*                                                             @Y30LB02 02065000
.*   STANDARD FORMS =                                          @ZDR2048 02066000
.*                                                             @Y30LB02 02067000
.*     BAL - ICBMNTDE TYPE=MNT|DMNT,VOLID=NAME|(R),            @Y30LB02 02068000
.*                    VUA=NAME|(R),ECB=NAME|(R),               @ZDR2048 02069000
.*                    FLAGS=NAME|(R),MEXTN=NAME|(R),           @G18MB04 02070000
.*                    MJFCB=NAME|(R),HOSTID=NAME|(R)           @G18MB04 02071000
.*                                                             @ZA28964 02072000
.*       REQUIRED PARAMETERS - TYPE,VOLID(FOR DMNT ONLY),      @ZA28964 02073000
.*                             VUA(FOR MNT ONLY)               @ZA28964 02074000
.*                                                             @Y30LB02 02075000
.*     PL/S- ICBMNTDE TYPE(MNT|DMNT) VOLID(NAME) VUA(NAME)     @ZDR2048 02076000
.*                    ECB(NAME) FLAGS(NAME) MEXTN(NAME)        @G18MB04 02077000
.*                    MJFCB(NAME) HOSTID(NAME)                 @G18MB04 02078000
.*                                                             @Y30LB02 02079000
.*       REQUIRED PARAMETERS - TYPE, VOLID(FOR DMNT ONLY),     @ZA28964 02080000
.*                             VUA(FOR MNT ONLY)               @ZA28964 02081000
.*                                                             @Y30LB02 02082000
.*   EXECUTE FORMS =                                           @ZDR2048 02083000
.*                                                             @Y30LB02 02084000
.*     BAL - ICBMNTDE MF=(E,NAME|(R)),TYPE=MNT|DMNT,           @ZDR2048 02085000
.*                    VOLID=NAME|(R),VUA=NAME|(R),             @ZDR2048 02086000
.*                    ECB=NAME|(R),FLAGS=NAME|(R),             @ZDR2048 02087000
.*                    MEXTN=NAME|(R),MJFCB=NAME|(R),           @G18MB04 02088000
.*                    HOSTID=NAME|(R)                          @ZDR2048 02089000
.*                                                             @Y30LB02 02090000
.*       REQUIRED PARAMETERS - MF=(E,NAME|(R)), TYPE           @Y30LB02 02091000
.*                                                             @Y30LB02 02092000
.*     PL/S- ICBMNTDE MF(E,NAME,COMPLETE) TYPE(MNT|DMNT)       @ZDR2048 02093000
.*                    VOLID(NAME) VUA(NAME) ECB(NAME)          @ZDR2048 02094000
.*                    FLAGS(NAME) MEXTN(NAME) MJFCB(NAME)      @G18MB04 02095000
.*                    HOSTID(NAME)                             @ZDR2048 02096000
.*                                                             @Y30LB02 02097000
.*       REQUIRED PARAMETERS - MF(E,NAME) TYPE                 @Y30LB02 02098000
.*                                                             @Y30LB02 02099000
.*   KEYWORD PARAMETERS =                                      @Y30LB02 02100000
.*                                                             @Y30LB02 02101000
.*     MF = MACRO FORMAT                                       @Y30LB02 02102000
.*                                                             @Y30LB02 02103000
.*       L = LIST FORM. THE EXPANSION OF THE LIST FORM         @Y30LB02 02104000
.*           WILL DEFINE A REQUEST BLOCK.                      @Y30LB02 02105000
.*                                                             @ZA28964 02106000
.*         NAME = LABEL ASSIGNED TO THE REQUEST BLOCK IN       @Y30LB02 02107000
.*             PL/S (REQUIRED IN PL/S VERSION).                @Y30LB02 02108000
.*                                                             @ZA28964 02109000
.*         MAP = SPECIFIES THAT AN ASSEMBLER VERSION           @Y30LB02 02110000
.*             INVOCATION WILL PRODUCE A MAPPING DSECT         @Y30LB02 02111000
.*             LABELED 'ICBMNTDE' (FOR DEMOUNT) OR             @Y30LB02 02112000
.*             'ICBMNTD1' (FOR MOUNT).                         @Y30LB02 02113000
.*                                                             @ZA28964 02114000
.*         ATTR = A PL/S ATTRIBUTE THAT WILL BE PLACED         @Y30LB02 02115000
.*             IN AN UNINITIALIZED REQUEST BLOCK DEFINITION.   @Y30LB02 02116000
.*             SOME ATTRIBUTE EXAMPLES ARE:                    @Y30LB02 02117000
.*               STATIC LOCAL, NONLOCAL, BASED(*), ETC         @Y30LB02 02118000
.*                                                             @Y30LB02 02119000
.*       NULL = STANDARD FORM IS INVOKED. THE EXPANSION OF     @Y30LB02 02120000
.*           THIS FORM CONSISTS OF A REQUEST BLOCK (ONLY       @Y30LB02 02121000
.*           IN THE FIRST INVOCATION OF THIS FORM IN ANY       @Y30LB02 02122000
.*           MODULE) LABELED ICBMLST OR ICBDMLST IN THE        @ZA28964 02123000
.*           PL/S VERSIONS, A LINKAGE INSTRUCTION AND          @ZA28964 02124000
.*           PARAMETER BINDING INSTRUCTIONS.                   @ZA28964 02125000
.*                                                             @Y30LB02 02126000
.*       E = EXECUTE FORM. THE EXPANSION OF THIS               @Y30LB02 02127000
.*           FORM CONSISTS OF A LINKAGE INSTRUCTION AND        @Y30LB02 02128000
.*           POSSIBLY PARAMETER BINDING INSTRUCTIONS.          @Y30LB02 02129000
.*                                                             @ZA28964 02130000
.*         NAME = LABEL OF THE REQUEST BLOCK TO USE.           @Y30LB02 02131000
.*                                                             @ZA28964 02132000
.*         COMPLETE = CAUSES THE MACRO TO ZERO OUT THE         @Y30LB02 02133000
.*             REQUEST BLOCK AND THEN INSERT THE FUNCTION      @Y30LB02 02134000
.*             OPCODE AND LENGTH INTO THE REQUEST BLOCK.       @Y30LB02 02135000
.*                                                             @Y30LB02 02136000
.*     TYPE = INDICATES WHETHER THE REQUEST IS FOR A           @Y30LB02 02137000
.*         MOUNT (MNT) OR DEMOUNT (DMNT).                      @Y30LB02 02138000
.*                                                             @Y30LB02 02139000
.*     VOLID = LABEL OF THE LOCATION CONTAINING THE VOLUME     @ZA28964 02140000
.*         SERIAL NUMBER OF THE VIRTUAL VOLUME TO              @ZA28964 02141000
.*         BE MOUNTED OR DEMOUNTED. VOLID IS NOT SPECIFIED     @Y30LB02 02142000
.*         WHEN A MOUNT SCRATCH IS REQUESTED, BUT IS           @ZDR2048 02143000
.*         REQUIRED FOR A DEMOUNT.                             @ZDR2048 02144000
.*                                                             @Y30LB02 02145000
.*     ECB = LABEL OF THE EVENT CONTROL BLOCK FOR              @Y30LB02 02146000
.*         NOTIFICATION WHEN THE DEMOUNT PROCESS HAS           @Y30LB02 02147000
.*         COMPLETED. THIS PARAMETER IS REQUIRED ONLY          @Y30LB02 02148000
.*         IF THE DELAYED RESPONSE ATTRIBUTE IS SPECIFIED      @Y30LB02 02149000
.*         WITH A DEMOUNT REQUEST OF A SUBSYSTEM VOLUME.       @Y30LB02 02150000
.*         A POST CODE IN THE RANGE '70'X - '7F'X WILL         @Y30LB02 02151000
.*         BE PLACED IN THE LOW-ORDER BYTE OF THE ECB ON       @Y30LB02 02152000
.*         COMPLETION OF THE DEMOUNT ('7F'X IS THE             @Y30LB02 02153000
.*         SUCCESSFUL COMPLETION CODE). THE ECB SHOULD BE      @Y30LB02 02154000
.*         SET TO BINARY ZERO BEFORE INVOKING THE MACRO.       @Y30LB02 02155000
.*         THIS PARAMETER MAY ONLY BE USED IN DEMOUNT          @ZA28964 02156000
.*         REQUESTS. THE DMNTASID FIELD OF THE REQUEST BLOCK   @ZA28964 02157000
.*         IS USED BY SVC 126 TO RECORD THE ADDRESS            @ZA28964 02158000
.*         SPACE ID OF THE INVOKING MODULE SO THAT THE         @ZA28964 02159000
.*         CORRECT ECB MAY BE LOCATED FOR POSTING.             @ZA28964 02160000
.*                                                             @Y30LB02 02161000
.*     VUA = LABEL OF THE LOCATION CONTAINING THE VIRTUAL      @ZA28964 02162000
.*         UNIT ADDRESS TO WHICH THE VOLUME IS TO BE           @ZA28964 02163000
.*         MOUNTED OR DEMOUNTED. A VUA IS REQUIRED FOR A       @ZA28964 02164000
.*         MOUNT.                                              @ZA28964 02165000
.*                                                             @Y30LB02 02166000
.*     FLAGS = LABEL OF TWO BYTES SPECIFYING THE ATTRIBUTES    @Y30LB02 02167000
.*         TO BE ASSOCIATED WITH THE REQUEST:                  @Y30LB02 02168000
.*                                                             @Y30LB02 02169000
.*       MOUNT REQUESTS =                                      @Y30LB02 02170000
.*                                                             @Y30LB02 02171000
.*         0... ....    RESERVED - ALWAYS ZERO                 @Y30LB02 02172000
.*         .1.. ....    MSVC IS ISSUING THE MOUNT. MSSC WILL   @Y30LB02 02173000
.*                        NOT CALL MSVC TO COMMUNICATE         @ZA28964 02174000
.*                        THE REQUEST.                         @ZA28964 02175000
.*         ..1. ....    MSVC SECONDARY VOLUME REQUEST. USED    @Y30LB02 02176000
.*                        WITH MOUNT SCRATCH TO INDICATE A     @ZA28964 02177000
.*                        NON-SPECIFIC SECONDARY VOLUME        @ZA28964 02178000
.*                        REQUEST FROM EOV. MSVC WILL SELECT   @ZA28964 02179000
.*                        A VOLUME BASED ON THE SECONDARY      @ZA28964 02180000
.*                        VOLUME ALGORITHM INSTEAD OF          @ZA28964 02181000
.*                        SELECTING A VOLUME BASED ON THE      @ZA28964 02182000
.*                        PRIMARY VOLUME ALGORITHM. THIS BIT   @ZA28964 02183000
.*                        IS IGNORED BY THE MSVC IF A MOUNT    @ZA28964 02184000
.*                        SCRATCH IS NOT INDICATED.            @ZA28964 02185000
.*         ...1 ....    MOUNT SCRATCH VOLUME AS SELECTED BY    @Y30LB02 02186000
.*                        THE MSVC.                            @ZA28964 02187000
.*         .... 1...    MOUNT EXTENSION PROVIDED.  SET BY THE  @G18MB04 02188000
.*                        MEXTN KEYWORD TO INDICATE THAT THE   @ZA28964 02189000
.*                        JFCB POINTER IS CONTAINED IN AN      @ZA28964 02190000
.*                        EXTENSION BLOCK RATHER THAN IN THE   @ZA28964 02191000
.*                        MOUNT REQUEST BLOCK.                 @ZA28964 02192000
.*         .... .000    RESERVED - ALWAYS ZERO                 @G18MB04 02193000
.*         0000 0000    SECOND BYTE - RESERVED - ALWAYS ZERO   @Y30LB02 02194000
.*                                                             @Y30LB02 02195000
.*       DEMOUNT REQUESTS =                                    @Y30LB02 02196000
.*                                                             @Y30LB02 02197000
.*         0... ....    RESERVED - ALWAYS ZERO                 @Y30LB02 02198000
.*         .1.. ....    DELAYED RESPONSE. ECB WILL BE POSTED   @Y30LB02 02199000
.*                        WHEN THE DEMOUNT IS COMPLETE.        @ZA28964 02200000
.*         ..1. ....    VUA FIELD HAS BEEN INITIALIZED AND     @ZDR2048 02201000
.*                        IS VALID.                            @ZA28964 02202000
.*         ...0 0000    RESERVED - ALWAYS ZERO                 @ZDR2048 02203000
.*         0000 0000    SECOND BYTE - RESERVED - ALWAYS ZERO   @Y30LB02 02204000
.*                                                             @Y30LB02 02205000
.*     HOSTID = LABEL OF A 5-BYTE FIELD WHICH CONTAINS THE     @Y30LB02 02206000
.*         MANUFACTURER'S CPU IDENTIFICATION. IF SET TO ZERO,  @Y30LB02 02207000
.*         SVC 126 WILL FILL IN THE ID OF THE CALLING CPU.     @ZA28964 02208000
.*                                                             @Y30LB02 02209000
.*     MJFCB = LABEL OF THE FIELD CONTAINING A POINTER         @G18MB04 02210000
.*         TO THE JFCB TO BE USED BY THE MSVC. MUTUALLY        @G18MB04 02211000
.*         EXCLUSIVE WITH THE MEXTN PARAMETER. USED IN         @G18MB04 02212000
.*         NONSPECIFIC MOUNT REQUESTS ONLY.                    @G18MB04 02213000
.*                                                             @Y30LB02 02214000
.*     MEXTN = LABEL OF THE MOUNT PARAMETER LIST               @G18MB04 02215000
.*         EXTENSION IN THE INVOKING PROGRAM. USED FOR         @G18MB04 02216000
.*         NON-SPECIFIC REQUESTS ONLY. MUTUALLY                @G18MB04 02217000
.*         EXCLUSIVE WITH THE MJFCB PARAMETER.                 @G18MB04 02218000
.*                                                             @Y30LB02 02334600
.* OUTPUT =                                                    @Y30LB02 02337900
.*                                                             @Y30LB02 02339000
.*   INLINE PL/S OR BAL STATEMENTS THAT PERFORM THE            @Y30LB02 02340100
.*   REQUESTED FUNCTION AND ERROR MESSAGES AS COMMENTS         @Y30LB02 02341200
.*   AT THE POINT OF INVOCATION.                               @Y30LB02 02342300
.*                                                             @Y30LB02 02343400
.*   SVC126 REQUEST BLOCK (LIST AND STANDARD FORMS):           @Y30LB02 02344500
.*                                                             @Y30LB02 02345600
.*     OFFSETS  LENGTH      BAL LABELS    DESCRIPTION          @ZA28964 02346700
.*     DEC HEX  (BYTES)   MOUNT   DEMOUNT                      @ZA28964 02347700
.*     -------  ------- -------- -------- ------------         @ZA28964 02348700
.*      0  (0)     4    MNTLEN   DMNTLEN  REQ BLK LENGTH       @ZA28964 02349700
.*      4  (4)     1    MNTOPCD  DMOPCODE REQUEST OPCODE       @ZA28964 02350700
.*      5  (5)     1    MNTRES1  DMNTRES1 RESERVED             @ZA28964 02351700
.*      6  (6)     2    MNTFLAGS DMNTFLAG FLAGS                @ZA28964 02352700
.*      8  (8)     6    MNTVOLID DMVOLID  VOLUME ID            @ZA28964 02353700
.*     14  (E)     2    MNTVUA   DMNTASID VUA | ASID           @ZA28964 02354700
.*     16  (10)    5    MNTHOSTD -------- HOST ID (MNT)        @ZA28964 02355700
.*     16  (10)    4    -------- DMNTECB  ECB (DMNT)           @ZA28964 02356700
.*     20  (14)    5    -------- DMHOSTID HOST ID (DMNT)       @ZA28964 02357700
.*     21  (15)    3    MNTRES2  -------- RESERVED AREA        @ZA28964 02358700
.*     24  (18)    4    MNTEXTP  -------- EXTN ADDR            @ZA28964 02359700
.*     24  (18)    4    MNTJFCB  -------- JFCB POINTER         @ZA28964 02360700
.*     25  (19)    1    -------- DMNTRES2 RESERVED             @ZA28964 02361700
.*     26  (1A)    2    -------- DMNTVUA  VUA FOR DMNT         @ZA28964 02362700
.*                                                             @Y30LB02 02378900
.* EXIT-NORMAL = VALID INVOCATION                              @Y30LB02 10850000
.*                                                             @Y30LB02 10900003
.*   CONDITION = RETURN CODE = 0 | 4                           @Y30LB02 10950000
.*                                                             @Y30LB02 10950400
.*   OUTPUT = REQUEST BLOCK AND STATEMENTS GENERATED. IF       @ZA28964 10950800
.*            PL/S WARNING MESSAGES ARE GENERATED (RETCODE=4), @ZA28964 10953800
.*            THEY WILL ONLY APPEAR AS COMMENTS WHEN THE       @ZA28964 10956800
.*            'MSOURCE' PARAMETER IS USED IN THE PL/S          @ZA28964 10959800
.*            COMPILATION.                                     @ZA28964 10962800
.*                                                             @ZA28964 10965800
.*   MESSAGES =                                                @ZA28964 10968800
.*                                                             @ZA28964 10971800
.*     ICB603I - WARNING - ONLY MF AND TYPE PARAMETERS ARE     @Y30LB02 10974800
.*                VALID FOR LIST FORM                          @Y30LB02 10977800
.*     ICB618I - WARNING - ECB PARAMETER VALID ONLY FOR        @ZA28964 10980800
.*                DEMOUNT REQUEST                              @ZA28964 10983800
.*     ICB619I - WARNING - MEXTN/MJFCB PARAMETER VALID         @ZA28964 10986800
.*                ONLY FOR MOUNT REQUEST                       @ZA28964 10989800
.*                                                             @Y30LB02 11000003
.* EXIT-ERROR = INVALID INVOCATION                             @Y30LB02 11200000
.*                                                             @Y30LB02 11250003
.*   CONDITION = RETURN CODE = 12                              @Y30LB02 11300000
.*                                                             @Y30LB02 11350003
.*   OUTPUT = REQUEST BLOCK AND STATEMENTS NOT GENERATED.      @Y30LB02 11360000
.*            PL/S ERROR MESSAGES WILL ONLY APPEAR AS COMMENTS @ZA28964 11362000
.*            WHEN THE 'MSOURCE' PARAMETER IS USED IN THE      @ZA28964 11372000
.*            PL/S COMPILATION.                                @ZA28964 11382000
.*                                                             @Y30LB02 11392000
.*   MESSAGES =                                                @ZA28964 11402000
.*                                                             @ZA28964 11412000
.*     ICB600I - TYPE MUST BE SPECIFIED                        @Y30LB02 11442000
.*     ICB601I - TYPE IS INCORRECTLY SPECIFIED                 @Y30LB02 11444000
.*     ICB602I - A NAME FOR THE REQUEST BLOCK MUST BE          @Y30LB02 11446000
.*                SPECIFIED IN MF(2)                           @Y30LB02 11448000
.*     ICB610I - VOLID MUST BE SPECIFIED FOR                   @Y30LB02 11448400
.*                STANDARD FORM MACRO                          @Y30LB02 11448800
.*     ICB611I - VUA MUST BE SPECIFIED FOR                     @Y30LB02 11449200
.*                STANDARD FORM MACRO                          @Y30LB02 11449600
.*     ICB612I - MF(2) MUST CONTAIN REQ BLK NAME IF            @Y30LB02 11449700
.*                EXECUTE MACRO FORM REQUESTED                 @Y30LB02 11449800
.*     ICB613I - MISSING REQ BLK NAME OR MORE                  @Y30LB02 11456800
.*                THAN 2 SUBPARAMETERS FOR MF                  @Y30LB02 11463800
.*     ICB615I - INVALID MF PARAMETER SPECIFIED, MUST BE       @Y30LB02 11470800
.*                L, E, OR NULL                                @Y30LB02 11477800
.*     ICB621I - MEXTN AND MJFCB MUTUALLY EXCLUSIVE PARAMETERS @G18MB04 11496600
.*                SPECIFIED                                    @G18MB04 11498600
.*                                                             @Y30LB02 11500000
.* EXTERNAL REFERENCES =                                       @Y30LB02 11550000
.*                                                             @ZA28964 11552000
.*   ROUTINES = NONE                                           @ZA28964 11555000
.*                                                             @ZA28964 11558000
.*   DATA-AREAS =                                              @ZA28964 11561000
.*                                                             @ZA28964 11564000
.*     BAL : GLOBAL VARIABLES USED                             @ZA28964 11567000
.*       &MNTTEST : > 0 IF THE MNT STANDARD FORM HAS BEEN      @ZA28964 11570000
.*           INVOKED PREVIOUSLY IN THE CALLING MODULE          @ZA28964 11573000
.*       &DMNTTES : > 0 IF THE DMNT STANDARD FORM HAS BEEN     @ZA28964 11576000
.*           INVOKED PREVIOUSLY IN THE CALLING MODULE          @ZA28964 11579000
.*                                                             @ZA28964 11582000
.*     PL/S: FIXED EXTERNAL DECLARATIONS USED                  @ZA28964 11585000
.*       MDTESTR1: > 0 IF MDREG1 HAS BEEN DECLARED AS REG1     @Y30LB02 11599600
.*           PREVIOUSLY IN THE INVOKING PROCEDURE              @Y30LB02 11599700
.*       MNTTEST: > 0 IF THE MNT STANDARD FORM HAS BEEN        @Y30LB02 11599800
.*           INVOKED PREVIOUSLY IN THE CALLING MODULE          @Y30LB02 11599900
.*       DMTTEST: > 0 IF THE DMNT STANDARD FORM HAS BEEN       @Y30LB02 11616600
.*           INVOKED PREVIOUSLY IN THE CALLING MODULE          @Y30LB02 11626600
.*                                                             @ZA28964 11627000
.*   CONTROL-BLOCKS = NONE                                     @ZA28964 11629000
.*                                                             @Y30LB02 11633300
.* TABLES = NONE                                               @Y30LB02 11650000
.*                                                             @Y30LB02 12600003
.* MACROS =  IHBINNRA (USED IN ASSEM TO LOAD REG 1)            @Y30LB02 12850000
.*                                                             @Y30LB02 12900003
.* CHANGE-ACTIVITY =                                           @Y30LB02 12950000
.*                                                             @ZA28964 12950100
.*   00 74/06/09 DEVELOPMENT                                   @Y30LB02 12960100
.*   01 76/01/19 DMOUNT VUA SUPPORT ADDED                      @ZDR2048 12970100
.*   02 76/02/06 MOUNT LIST EXTENSION SUPPORT ADDED            @G18MB04 12980100
.*   03 76/03/11 CORRECT INVALID HOSTID IN STD FORM            @ZA09524 12990100
.*   04 77/12/15 DOCUMENTATION ADDITIONS/RESTRUCTURE           @ZA28964 13000100
.*               BAL STD FORM MADE SERIALLY REUSABLE           @ZA28964 13010100
.*               PL/S LABELS DECLARED IN BAL VERSION           @ZA28964 13020100
.*               CHG ASSEM LOGIC TO AGREE WITH PL/S            @ZA28964 13030100
.*               PL/S MACRO INVOCATION ECHOED BACK TO CALLER   @ZA28964 13040100
.*               BAL LABELS DECLARED IN PL/S VERSION           @ZA28964 13050100
.*                                                             @Y30LB02 13060100
.************************************************************* @ZA28964 13070100
.*    END OF SPECIFICATIONS ********************************** @Y30LB02 13080100
         GBLB  &MNTTEST            MNT STD FORM FLAG           @ZA28964 13090100
         GBLB  &DMNTTES            DMT STD FORM FLAG           @ZA28964 13100100
         LCLC  &LBL                DEFINE MACRO INSTR INDX     @Y30LB02 13250003
         LCLC  &LBL1               DEFINE MACRO INSTR INDX     @Y30LB02 13300003
&LBL     SETC  'J'.'&SYSNDX'       ASSIGN CHARACTER VALUE      @Y30LB02 13400003
&LBL1    SETC  'K'.'&SYSNDX'       ASSIGN CHARACTER VALUE      @Y30LB02 13450003
.*                                                             @G18MB04 13451003
.*       CHECK FOR MUTUALLY EXCLUSIVE PARAMETERS               @G18MB04 13452003
.*                                                             @G18MB04 13453003
.PARM    AIF   ('&MJFCB' EQ '' OR '&MEXTN' EQ '').TYPE         @G18MB04 13453400
         MNOTE 12,'  ICB621I - MEXTN AND MJFCB MUTUALLY'       @G18MB04 13456003
         MNOTE 12,'  EXCLUSIVE PARAMETERS SPECIFIED.'          @G18MB04 13457003
         AGO   .FINISH                                         @G18MB04 13458000
.*                                                             @Y30LB02 13500003
.*       CHECK FOR VALID TYPE SPECIFICATION                    @Y30LB02 13550003
.*                                                             @Y30LB02 13600003
.TYPE    AIF   ('&TYPE' EQ '').NUL                             @Y30LB02 13650003
         AIF   ('&TYPE' EQ 'MNT' OR '&TYPE' EQ 'DMNT').START   @Y30LB02 13700003
         MNOTE 12,'  ICB601I - TYPE IS INCORRECTLY SPECIFIED'  @Y30LB02 13750003
         AGO   .FINISH                                         @Y30LB02 13800000
.*                                                             @Y30LB02 13850003
.NUL     MNOTE 12,'  ICB600I - TYPE MUST BE SPECIFIED '        @Y30LB02 13950000
         AGO   .FINISH                                         @Y30LB02 14000000
.*                                                             @Y30LB02 14050003
.*       DETERMINATION OF DESIRED MACRO FORM                   @Y30LB02 14100003
.*                                                             @Y30LB02 14150003
.START   AIF   ('&MF(1)' EQ 'L').LFORM      LIST FORM?         @Y30LB02 14200003
         AIF   ('&MF(1)' EQ 'E').EFORM      EXECUTE FORM?      @Y30LB02 14250003
         AIF   ('&MF(1)' EQ '').SFORM       STANDARD FORM?     @Y30LB02 14300003
         MNOTE 12,'  ICB615I - INVALID MF PARAMETER'           @Y30LB02 14350000
         MNOTE 12,'  SPECIFIED, MUST BE L, E, OR NULL.'        @Y30LB02 14400000
         AGO   .FINISH                                         @Y30LB02 14500000
.*                                                             @Y30LB02 14550003
.* *********************************************************** @ZA28964 14600000
.*             L I S T    F O R M                              @Y30LB02 14630000
.* *********************************************************** @ZA28964 14660000
.*                                                             @Y30LB02 14690000
.LFORM   AIF   ('&FLAGS' NE '' OR '&MEXTN' NE '').WARN         @G18MB04 14720000
         AIF   ('&VOLID' NE '' OR '&VUA' NE '').WARN           @Y30LB02 14750000
         AIF   ('&MJFCB' NE '' OR '&HOSTID' NE '').WARN        @ZA28964 14780000
         AIF   ('&ECB' EQ '').LISTOK                           @ZA28964 14810000
.*                                                             @Y30LB02 14840000
.WARN    MNOTE 4,'  ICB603I - WARNING-ONLY MF AND TYPE '       @Y30LB02 14870000
         MNOTE 4,'  PARAMETERS ARE VALID FOR LIST FORM '       @Y30LB02 14900000
.*                                                             @ZA28964 14930000
.LISTOK  AIF   ('&TYPE' EQ 'MNT').MOUNT    MOUNT REQUEST?      @Y30LB02 14960000
         AIF   ('&MF(2)' EQ 'MAP').DMNTDS  DSECT REQUESTED     @Y30LB02 14990000
*  MACMEAN MSSC DEMOUNT MACRO--INITIALIZED LIST FORM           @ZA28964 15020000
*          VERSION - VS/2  REL 3 77/12/15   LEVEL 04           @ZA28964 15050000
&SYMBOL  DS    0F                                              @Y30LB02 15250003
DMNTLEN  DC    F'28'               REQ BLK LENGTH              @Y30LB02 15300000
DMOPCODE DC    XL1'06'             DEMOUNT OPCODE              @Y30LB02 15350000
DMNTRES1 DC    XL1'00'             RESERVED                    @Y30LB02 15400000
DMNTFLAG DC    XL2'0000'           FLAGS                       @Y30LB02 15450000
DMVOLID  DC    XL6'000000000000'   VOLID                       @Y30LB02 15500000
DMNTASID DC    XL2'0000'           ASID                        @Y30LB02 15550000
DMNTECB  DC    XL4'00000000'       ECB                         @Y30LB02 15600000
DMHOSTID DC    XL5'0000000000'     HOST ID                     @Y30LB02 15650000
DMNTRES2 DC    XL1'00'             RESERVED                    @ZDR2048 15700000
DMNTVUA  DC    XL2'0000'           VUA                         @ZDR2048 15701000
DMLEN    EQU   DMNTLEN             COMPATABILITY DEFINITION    @ZA28964 15711000
DMOPCD   EQU   DMOPCODE            COMPATABILITY DEFINITION    @ZA28964 15718000
DMVOL    EQU   DMVOLID             COMPATABILITY DEFINITION    @ZA28964 15725000
DMHOST   EQU   DMHOSTID            COMPATABILITY DEFINITION    @ZA28964 15732000
         AGO   .FINISH                                         @Y30LB02 15750003
.*                                                             @Y30LB02 15800003
.DMNTDS  ANOP                                                  @Y30LB02 15850003
*  MACMEAN  MSSC DEMOUNT MACRO--UNINITIALIZED LIST FORM        @Y30LB02 15900000
*           VERSION - VS/2 REL 3  77/12/15   LEVEL 04          @ZA28964 15950000
ICBMNTDE DSECT                                                 @Y30LB02 16000003
DMNTLEN  DS    F                   REQ BLK LENGTH (1C HEX)     @Y30LB02 16050000
DMOPCODE DS    XL1                 DMNT OPCODE (06 HEX)        @Y30LB02 16100000
DMNTRES1 DS    XL1                 RESERVED                    @Y30LB02 16150000
DMNTFLAG DS    XL2                 FLAGS                       @Y30LB02 16200000
DMVOLID  DS    CL6                 VOLID                       @Y30LB02 16250000
DMNTASID DS    XL2                 ASID                        @Y30LB02 16300000
DMNTECB  DS    A                   ECB                         @ZA28964 16350000
DMHOSTID DS    CL5                 HOST ID                     @Y30LB02 16360000
DMNTRES2 DS    XL1                 RESERVED                    @ZDR2048 16370000
DMNTVUA  DS    XL2                 VUA                         @ZDR2048 16380000
DMLEN    EQU   DMNTLEN             COMPATABILITY DEFINITION    @ZA28964 16390000
DMOPCD   EQU   DMOPCODE            COMPATABILITY DEFINITION    @ZA28964 16400000
DMVOL    EQU   DMVOLID             COMPATABILITY DEFINITION    @ZA28964 16410000
DMHOST   EQU   DMHOSTID            COMPATABILITY DEFINITION    @ZA28964 16420000
         AGO   .FINISH                                         @Y30LB02 16500003
.*                                                             @Y30LB02 16550003
.MOUNT   AIF   ('&MF(2)' EQ 'MAP').MNTDS   DSECT REQUEST       @Y30LB02 16650000
*  MACMEAN  MSSC MOUNT MACRO--INITIALIZED LIST FORM            @Y30LB02 16700000
*           VERSION - VS/2 REL 3  77/12/15   LEVEL 04          @ZA28964 16750000
&SYMBOL  DS    0F                                              @Y30LB02 16800003
MNTLEN   DC    F'28'               REQ BLK LENGTH              @Y30LB02 16850000
MNTOPCD  DC    XL1'08'             MOUNT OPCODE                @Y30LB02 16900000
MNTRES1  DC    XL1'00'             RESERVED                    @Y30LB02 16950000
MNTFLAGS DC    XL2'0000'           FLAGS                       @Y30LB02 17000000
MNTVOLID DC    XL6'000000000000'   VOLID                       @Y30LB02 17050000
MNTVUA   DC    XL2'0000'           VUA                         @Y30LB02 17100000
MNTHOSTD DC    XL5'0000000000'     HOSTID                      @Y30LB02 17150000
MNTRES2  DC    XL3'000000'         RESERVED                    @Y30LB02 17200000
MNTEXTP  DC    XL4'00000000'       MNT LIST EXTN ADDR          @G18MB04 17250000
MNTJFCB  EQU   MNTEXTP             NAME RE-DEF FOR JFCB PTR    @G18MB04 17251003
MDLEN    EQU   MNTLEN              COMPATABILITY REDEFINITION  @ZA28964 17261000
MDOPCD   EQU   MNTOPCD             COMPATABILITY REDEFINITION  @ZA28964 17265000
MDFLG    EQU   MNTFLAGS            COMPATABILITY REDEFINITION  @ZA28964 17269000
MDVOL    EQU   MNTVOLID            COMPATABILITY REDEFINITION  @ZA28964 17273000
MDVUA    EQU   MNTVUA              COMPATABILITY REDEFINITION  @ZA28964 17277000
MDHOST   EQU   MNTHOSTD            COMPATABILITY REDEFINITION  @ZA28964 17281000
MDJFCB   EQU   MNTJFCB             COMPATABILITY REDEFINITION  @ZA28964 17285000
         AGO   .FINISH                                         @Y30LB02 17300003
.*                                                             @Y30LB02 17350003
.MNTDS   ANOP                                                  @Y30LB02 17400003
*  MACMEAN  MSSC MOUNT MACRO--UNINITIALIZED LIST FORM          @Y30LB02 17450000
*           VERSION - VS/2 REL 3  77/12/15   LEVEL 04          @ZA28964 17460000
ICBMNTD1 DSECT                                                 @Y30LB02 17550003
MNTLEN   DS    F                   REQ BLK LENGTH (1C HEX)     @Y30LB02 17600000
MNTOPCD  DS    XL1                 MOUNT OPCODE (08 HEX)       @Y30LB02 17650000
MNTRES1  DS    XL1                 RESERVED                    @Y30LB02 17700000
MNTFLAGS DS    XL2                 FLAGS                       @Y30LB02 17750000
MNTVOLID DS    CL6                 VOLID                       @Y30LB02 17800000
MNTVUA   DS    XL2                 VUA                         @Y30LB02 17850000
MNTHOSTD DS    CL5                 HOSTID                      @Y30LB02 17900000
MNTRES2  DS    XL3                 RESERVED                    @Y30LB02 17950000
MNTEXTP  DS    A                   MNT LIST EXTN ADDR          @ZA28964 18000000
MNTJFCB  EQU   MNTEXTP             NAME RE-DEF FOR JFCB PTR    @G18MB04 18010000
MDLEN    EQU   MNTLEN              COMPATABILITY REDEFINITION  @ZA28964 18020000
MDOPCD   EQU   MNTOPCD             COMPATABILITY REDEFINITION  @ZA28964 18030000
MDFLG    EQU   MNTFLAGS            COMPATABILITY REDEFINITION  @ZA28964 18040000
MDVOL    EQU   MNTVOLID            COMPATABILITY REDEFINITION  @ZA28964 18050000
MDVUA    EQU   MNTVUA              COMPATABILITY REDEFINITION  @ZA28964 18060000
MDHOST   EQU   MNTHOSTD            COMPATABILITY REDEFINITION  @ZA28964 18070000
MDJFCB   EQU   MNTJFCB             COMPATABILITY REDEFINITION  @ZA28964 18080000
         AGO   .FINISH                                         @Y30LB02 18090000
.*                                                             @Y30LB02 18100000
.* *********************************************************** @ZA28964 18110000
.*            E X E C U T E     F O R M                        @Y30LB02 18120000
.* *********************************************************** @ZA28964 18130000
.*                                                             @Y30LB02 18150003
.EFORM   AIF   (N'&MF EQ 2).PARMOK IF 2 SUB-PARAMETERS         @Y30LB02 18250000
         MNOTE 12,'  ICB613I - MISSING REQ BLK NAME '          @Y30LB02 18350003
         MNOTE 12,'  OR MORE THAN 2 SUBPARAMETERS FOR MF '     @Y30LB02 18400003
         AGO   .FINISH                                         @Y30LB02 18500000
.*                                                             @Y30LB02 18550003
.PARMOK  ANOP                                                  @Y30LB02 18600003
*  MACMEAN MSSC MOUNT/DEMOUNT MACRO--EXECUTE FORM              @Y30LB02 18650000
*          VERSION - VS/2 REL 3  77/12/15  LEVEL 04            @ZA28964 18700000
&SYMBOL  IHBINNRA &MF(2)          LD ADDR OF REQUEST BLK       @Y30LB02 18750003
         AIF   ('&TYPE' EQ 'MNT').MNT1           TYPE MOUNT?   @Y30LB02 18850003
         LA    0,X'1C'             LD LENGTH OF DEMOUNT        @Y30LB02 18900003
         ST    0,0(1)              STORE LENGTH IN REQ BLK     @Y30LB02 18950003
         MVI   4(1),X'06'          MOVE OPCODE IN REQ BLK      @Y30LB02 19000003
         AGO   .PROCES                                         @Y30LB02 19050003
.*                                                             @Y30LB02 19100003
.MNT1    ANOP                                                  @Y30LB02 19150003
         LA    0,X'1C'             LENGTH OF MOUNT REQ BLK     @Y30LB02 19200000
         ST    0,0(1)              STORE LENGTH                @Y30LB02 19250003
         MVI   4(1),X'08'          MOVE MNT OPCODE IN REQBLK   @Y30LB02 19300003
         AGO   .PROCES                                         @Y30LB02 19350003
.*                                                             @Y30LB02 19400003
.* *********************************************************** @ZA28964 19450000
.*           S T A N D A R D     F O R M                       @Y30LB02 19460000
.* *********************************************************** @ZA28964 19470000
.*                                                             @Y30LB02 19500003
.SFORM   AIF   ('&TYPE' EQ 'MNT' OR '&VOLID' NE '').CKVUA      @ZDR2048 19550000
         MNOTE 12,'  ICB610I - VOLID MUST BE SPECIFIED '       @Y30LB02 19700003
         MNOTE 12,'  FOR STANDARD FORM MACRO'                  @Y30LB02 19750000
         AGO   .FINISH                                         @Y30LB02 19800000
.*                                                             @Y30LB02 19850003
.CKVUA   AIF   ('&VUA' NE '' OR '&TYPE' EQ 'DMNT').SFORMOK     @Y30LB02 19900000
         MNOTE 12,'  ICB611I - VUA MUST BE SPECIFIED '         @Y30LB02 20050003
         MNOTE 12,'  FOR STANDARD FORM MACRO'                  @Y30LB02 20100003
         AGO   .FINISH                                         @Y30LB02 20150000
.*                                                             @Y30LB02 20200003
.SFORMOK ANOP                                                  @Y30LB02 20250003
*  MACMEAN MSSC MOUNT/DEMOUNT MACRO--STANDARD FORM             @Y30LB02 20300000
*          VERSION - VS/2 REL 3  77/12/15  LEVEL 04            @ZA28964 20350000
         AIF   ('&TYPE' EQ 'MNT').MNT2           MOUNT?        @Y30LB02 20370000
         AIF   (&DMNTTES).MNT1SET  IF ^ 1ST STD FORM           @ZA28964 20390000
&DMNTTES SETB  1                   STD FORM INVOKED            @ZA28964 20410000
         CNOP  0,4                                             @ZA28964 20430000
&SYMBOL  BAL   1,&LBL1             SET REG1 POINTING TO LIST   @ZA28964 20450000
DMNTLEN  DC    A(&LBL-*)           REQ BLK LENGTH              @Y30LB02 20550000
DMOPCODE DC    XL1'06'             DEMOUNT OPCODE              @Y30LB02 20600000
DMNTRES1 DC    XL1'00'             RESERVED                    @Y30LB02 20650000
DMNTFLAG DC    XL2'0000'           FLAGS                       @Y30LB02 20700000
DMVOLID  DC    XL6'000000000000'   VOLID                       @Y30LB02 20750000
DMNTASID DC    XL2'0000'           ASID                        @Y30LB02 20800000
DMNTECB  DC    XL4'00000000'       ECB                         @Y30LB02 20850000
DMHOSTID DC    XL5'0000000000'     HOST ID                     @Y30LB02 20900000
DMNTRES2 DC    XL1'00'             RESERVED                    @ZDR2048 20950000
DMNTVUA  DC    XL2'0000'           VUA                         @ZDR2048 20951000
DMLEN    EQU   DMNTLEN             COMPATABILITY DEFINITION    @ZA28964 20961000
DMOPCD   EQU   DMOPCODE            COMPATABILITY DEFINITION    @ZA28964 20968000
DMVOL    EQU   DMVOLID             COMPATABILITY DEFINITION    @ZA28964 20975000
DMHOST   EQU   DMHOSTID            COMPATABILITY DEFINITION    @ZA28964 20982000
&LBL     EQU   *                                               @Y30LB02 21000003
&LBL1    DS    0F                                              @Y30LB02 21050003
         AGO   .PROCES                                         @Y30LB02 21100003
.*                                                             @Y30LB02 21150003
.MNT1SET ANOP                                                  @ZA28964 21160000
*          SUBSEQUENT STD FORM INVOCATION                      @ZA28964 21169000
&SYMBOL  LA    1,DMLEN             LOAD LIST ADDRESS IN REG1   @ZA28964 21178000
         AGO   .PROCES                                         @ZA28964 21187000
.*                                                             @ZA28964 21196000
.MNT2    AIF   (&MNTTEST).MNT2SET  IF ^ 1ST STD FORM           @ZA28964 21205000
&MNTTEST SETB  1                   STD FORM INVOKED            @ZA28964 21214000
         CNOP  0,4                                             @ZA28964 21223000
&SYMBOL  BAL   1,&LBL1             SET REG1 POINTING TO LIST   @ZA28964 21232000
MNTLEN   DC    A(&LBL-*)           REQ BLK LENGTH              @Y30LB02 21250000
MNTOPCD  DC    XL1'08'             MOUNT OPCODE                @Y30LB02 21300000
MNTRES1  DC    XL1'00'             RESERVED                    @Y30LB02 21350000
MNTFLAGS DC    XL2'0000'           FLAGS                       @Y30LB02 21400000
MNTVOLID DC    XL6'000000000000'   VOLID                       @Y30LB02 21450000
MNTVUA   DC    XL2'0000'           VUA                         @Y30LB02 21500000
MNTHOSTD DC    XL5'0000000000'     HOSTID                      @Y30LB02 21550000
MNTRES2  DC    XL3'000000'         RESERVED                    @Y30LB02 21600000
MNTEXTP  DC    XL4'00000000'       MNT LIST EXTN ADDR          @G18MB04 21650000
MNTJFCB  EQU   MNTEXTP             NAME RE-DEF FOR JFCB PTR    @G18MB04 21651003
MDLEN    EQU   MNTLEN              COMPATABILITY REDEFINITION  @ZA28964 21661000
MDOPCD   EQU   MNTOPCD             COMPATABILITY REDEFINITION  @ZA28964 21670000
MDFLG    EQU   MNTFLAGS            COMPATABILITY REDEFINITION  @ZA28964 21679000
MDVOL    EQU   MNTVOLID            COMPATABILITY REDEFINITION  @ZA28964 21688000
MDVUA    EQU   MNTVUA              COMPATABILITY REDEFINITION  @ZA28964 21697000
MDHOST   EQU   MNTHOSTD            COMPATABILITY REDEFINITION  @ZA28964 21706000
MDJFCB   EQU   MNTJFCB             COMPATABILITY REDEFINITION  @ZA28964 21715000
&LBL     EQU   *                                               @Y30LB02 21724000
&LBL1    DS    0F                                              @Y30LB02 21733000
         AGO   .PROCES                                         @ZA28964 21742000
.*                                                             @ZA28964 21751000
.MNT2SET ANOP                                                  @ZA28964 21760000
*          SUBSEQUENT STD FORM INVOCATION                      @ZA28964 21769000
&SYMBOL  LA    1,MDLEN             LOAD LIST ADDRESS IN REG1   @ZA28964 21778000
.*                                                             @Y30LB02 21800003
.*       PROCESS REQUEST BLOCK FOR STANDARD & EXECUTE FORMS    @Y30LB02 21850003
.*                                                             @Y30LB02 21900003
.PROCES  AIF   ('&FLAGS' EQ '').VOLID        FLAGS SPECIFIED?  @Y30LB02 22000000
         AIF   ('&FLAGS'(1,1) EQ '(').REGF  FLAGS IN REG-FORM? @Y30LB02 22050003
         MVC   6(2,1),&FLAGS       PUT FLAGS IN REQUEST BLK    @Y30LB02 22100003
         AGO   .VOLID              CHECK FOR VOLID             @Y30LB02 22150003
.*                                                             @Y30LB02 22200003
.REGF    ANOP                                                  @Y30LB02 22250003
         MVC   6(2,1),0(&FLAGS(1)) REG-FORM-STORE FLAGS        @Y30LB02 22300003
.*                                                             @Y30LB02 22350003
.VOLID   AIF   ('&VOLID' EQ '').YDMNT2                         @Y30LB02 22400003
         AIF   ('&VOLID'(1,1) EQ '(').VREG    REG-FORM?        @Y30LB02 22450003
         MVC   8(6,1),&VOLID       PUT VOLID IN REQBLK         @Y30LB02 22500003
         AGO   .YDMNT2                                         @Y30LB02 22550003
.*                                                             @Y30LB02 22600003
.VREG    ANOP                                                  @Y30LB02 22650003
         MVC   8(6,1),0(&VOLID(1)) REG-FORM--STORE VOLID       @Y30LB02 22700003
.*                                                             @Y30LB02 22750003
.YDMNT2  AIF   ('&VUA' EQ '').CKECB                            @ZA28964 22900000
         AIF   ('&VUA'(1,1) EQ '(').UREG     REGISTER FORM?    @Y30LB02 22920000
         AIF   ('&TYPE' EQ 'DMNT').DMTU   BRANCH ON DEMOUNT    @ZDR2048 22940000
         MVC   14(2,1),&VUA        STORE VUA                   @ZA28964 22960000
         AGO   .CKECB                                          @ZA28964 22980000
.*                                                             @ZDR2048 23051003
.DMTU    ANOP                                                  @ZDR2048 23052003
         MVC   26(2,1),&VUA        STORE VUA                   @ZDR2048 23053003
         OI    6(1),X'20'          SET VUA VALID FLAG          @ZDR2048 23054003
         AGO   .CKECB                                          @ZA28964 23055000
.*                                                             @Y30LB02 23100003
.UREG    AIF   ('&TYPE' EQ 'DMNT').DMTUREG BR ON DEMOUNT       @ZDR2048 23151000
         MVC   14(2,1),0(&VUA(1))  REG-FORM, STORE VUA         @Y30LB02 23200003
         AGO   .CKECB                                          @Y30LB02 23250000
.*                                                             @ZDR2048 23251003
.DMTUREG ANOP                                                  @ZDR2048 23252003
         MVC   26(2,1),0(&VUA(1))  REG FORM STORE VUA          @ZDR2048 23253003
         OI    6(1),X'20'          SET VUA VALID FLAG          @ZDR2048 23254003
.*                                                             @Y30LB02 23300003
.CKECB   AIF   ('&ECB' EQ '').CKHOST   ECB SPECIFIED?          @ZA28964 23400000
         AIF   ('&TYPE' EQ 'DMNT').CKECB1    IF DEMOUNT        @ZA28964 23420000
         MNOTE 4,'  ICB618I - WARNING - ECB PARAMETER '        @ZA28964 23440000
         MNOTE 4,'  VALID ONLY FOR DEMOUNT REQUEST '           @ZA28964 23460000
         AGO   .CKHOST                                         @ZA28964 23480000
.*                                                             @ZA28964 23500000
.CKECB1  AIF   ('&ECB'(1,1) EQ '(').RECB    REG FORM?          @ZA28964 23520000
         LA    15,&ECB            ADDRESS FORM ECB             @Y30LB02 23540000
         ST    15,16(1)           STORE ECB IN REQ BLK         @Y30LB02 23560000
         AGO   .CKHOST                                         @Y30LB02 23580000
.*                                                             @ZA28964 23600000
.RECB    ANOP                                                  @Y30LB02 23650003
         ST    &ECB,16(1)         REGFORM-STORE ECB            @Y30LB02 23700003
.*                                                             @Y30LB02 23750003
.CKHOST  AIF   ('&HOSTID' EQ '').CKJF   HOSTID NOT SPECD,BR    @Y30LB02 23850000
         AIF   ('&TYPE(1)' EQ 'DMNT').CKHOST1 BRCH IF DMNT     @Y30LB02 23900003
         AIF   ('&HOSTID'(1,1) EQ '(').RHOST  REG-FORM,BRCH    @Y30LB02 23950003
         MVC   16(5,1),&HOSTID     ADDR-FORM,STORE HOSTID      @Y30LB02 24000003
         AGO   .CKJF                                           @Y30LB02 24050003
.*                                                             @ZA28964 24060000
.RHOST   ANOP                                                  @Y30LB02 24100003
         MVC   16(5,1),0(&HOSTID(1)) STORE HOSTID              @Y30LB02 24150003
         AGO   .CKJF                                           @ZA09524 24151003
.*                                                             @Y30LB02 24200003
.CKHOST1 AIF   ('&HOSTID'(1,1) EQ '(').RHOST1 REG-FORM,BRCH    @Y30LB02 24250003
         MVC   20(5,1),&HOSTID     ADDR-FORM,STORE HOSTID      @Y30LB02 24300003
         AGO   .CKJF                                           @Y30LB02 24350003
.*                                                             @ZA28964 24360000
.RHOST1  ANOP                                                  @Y30LB02 24400003
         MVC   20(5,1),0(&HOSTID(1)) STORE HOSTID              @Y30LB02 24450003
.*                                                             @Y30LB02 24500003
.CKJF    AIF   ('&MJFCB' EQ '').CKMEXT      BR AND CK FOR EXT  @G18MB04 24551000
         AIF   ('&TYPE' EQ 'DMNT').JFEXER    IF BAD PARAMETER  @ZA28964 24551400
         AIF   ('&MJFCB'(1,1) EQ '(').RJF   BR FOR REG FORM    @G18MB04 24552000
         LA    15,&MJFCB           ADDR FORM MJFCB SPECD       @G18MB04 24553003
         ST    15,24(1)            STORE JFCB POINTER IN PARMS @G18MB04 24554003
         AGO   .CVS2               BR AROUND JFCB MEXT CODE    @G18MB04 24555003
.*                                                             @ZA28964 24556000
.RJF     ANOP                      REG FORM LABEL              @G18MB04 24566000
         MVC   24(4,1),0(&MJFCB(1)) REG FORM STORE JFCB PTR    @G18MB04 24576000
         AGO   .CVS2               BR AROUND MEXT CODE         @G18MB04 24586000
.*                                                             @ZA28964 24596000
.CKMEXT  AIF   ('&MEXTN' EQ '').CVS2   BR IF MEXTN IS NULL     @G18MB04 24606000
         AIF   ('&TYPE' EQ 'DMNT').JFEXER    IF BAD PARAMETER  @ZA28964 24616000
         AIF   ('&MEXTN'(1,1) EQ '(').RMEXT REG FORM SPECD     @G18MB04 24650003
         LA    15,&MEXTN           ADDRESS FORM SPECD          @G18MB04 24700003
         ST    15,24(1)            STORE MEXTN                 @G18MB04 24750003
         OI    6(1),X'08'          OR ON MNT EXT PROVIDED BIT  @G18MB04 24751003
         AGO   .CVS2               BRANCH                      @Y30LB02 24800003
.*                                                             @ZA28964 24810000
.RMEXT   ANOP                                                  @G18MB04 24820000
         MVC   24(4,1),0(&MEXTN(1))  STORE MEXTN               @G18MB04 24830000
         OI    6(1),X'08'          OR ON MNT EXT PROVIDED BIT  @G18MB04 24840000
         AGO   .CVS2                                           @ZA28964 24850000
.*                                                             @ZA28964 24860000
.JFEXER  MNOTE 4,'  ICB619I - WARNING - MEXTN/MJFCB '          @ZA28964 24870000
         MNOTE 4,'  PARAMETER VALID ONLY FOR MOUNT REQUEST '   @ZA28964 24880000
.*                                                             @Y30LB02 24950003
.CVS2    ANOP                                                  @Y30LB02 25000003
         SVC   126                 INVOKE  THE SVC             @Y30LB02 25050003
.FINISH  MEND                                                  @Y30LB02 25100003
************************************************************** @ZA28964 25110000
*************************************************************/          25120000
*   ICBMNTDE:  MACRO KEYS(MF,TYPE,FLAGS,VOLID,VUA,                      25200003
*                  HOSTID,MJFCB,MEXTN,ECB);                /*@G18MB04*/ 25250003
*/*                                                          @Y30LB02*/ 25300003
*/********************************************************** @Y30LB02*/ 25310000
*/*            EXTERNAL DECLARES                             @Y30LB02*/ 25350003
*/********************************************************** @Y30LB02*/ 25352000
*        DCL (MDTESTR1,         /*REGISTER ONE DECLARED      @Y30LB02*/ 25400000
*             MNTTEST,          /*FLAG FOR STANDARD FORM     @Y30LB02*/ 25450000
*             DMTTEST) FIXED EXT;/*FLAG FOR DMNT S-FORM      @Y30LB02*/ 25500000
*/*                                                          @Y30LB02*/ 25600003
*/********************************************************** @Y30LB02*/ 25610000
*/*            INTERNAL DECLARES                             @Y30LB02*/ 25650003
*/********************************************************** @Y30LB02*/ 25660000
*   DCL RETCODE FIXED,       /*RETURN CODE AREA              @Y30LB02*/ 25800000
*       (MLEN,               /*MOUNT LIST LENGTH             @Y30LB02*/ 25900000
*        DLEN,               /*DEMOUNT LIST LENGTH           @Y30LB02*/ 25950000
*        MOPCD,              /*MOUNT OPCODE                  @Y30LB02*/ 26000000
*        DOPCD,              /*DEMOUNT OPCODE                @Y30LB02*/ 26050000
*        VUAVAL,             /*VUA VALID SET BIT             @ZDR2048*/ 26051000
*        MEXTVAL) CHAR;      /*MOUNT EXTENSION SET BIT       @G18MB04*/ 26052000
*/*                                                          @ZA28964*/ 26062000
*/********************************************************** @Y30LB02*/ 26065000
*/*            VARIABLE INITIALIZATION                       @ZA28964*/ 26068000
*/********************************************************** @Y30LB02*/ 26074000
*        RETCODE=0;          /*INITIALIZE RETURN CODE        @Y30LB02*/ 26100003
*        MLEN = '1C';        /*INITIALIZE MOUNT LENGTH       @Y30LB02*/ 26200003
*        DLEN = '1C';        /*INITIALIZE DEMOUNT LENGTH     @Y30LB02*/ 26250003
*        MOPCD = '08';       /*INITIALIZE MOUNT OPCODE       @Y30LB02*/ 26300003
*        DOPCD = '06';       /*INITIALIZE DEMOUNT OPCODE     @Y30LB02*/ 26350003
*        VUAVAL='1';         /*INITIALIZE VUA VALID BIT      @ZDR2048*/ 26351003
*        MEXTVAL='1';        /*INITIALIZE MNT EXT PROVIDED   @G18MB04*/ 26352003
*/*                                                          @ZA28964*/ 26362000
*/*    ANSWER TEXT IS AT THE END OF THE MACRO AND IS         @ZA28964*/ 26365000
*/*    INCLUDED IN A SEGMENT-LIKE FASHION                    @ZA28964*/ 26368000
*/*                                                          @ZA28964*/ 26371000
*/********************************************************** @Y30LB02*/ 26374000
*/*    ECHO INVOCATION BACK TO CALLING MODULE                @ZA28964*/ 26377000
*/********************************************************** @Y30LB02*/ 26380000
*  ANS('      /* MACRO INVOCATION:      @ZA28964*/')SKIP;  /*@ZA28964*/ 26383000
*  ANS('      /*  ' || MACLABEL || ' ' || MACNAME || ' ' ||             26386000
*      MACLIST || ' ' || MACKEYS || ' @ZA28964*/')SKIP;    /*@ZA28964*/ 26389000
*/*                                                          @Y30LB02*/ 26400003
*/********************************************************** @Y30LB02*/ 26400400
*/*            CHECK FOR MUTUALLY EXCLUSIVE PARAMETERS       @G18MB04*/ 26401003
*/********************************************************** @Y30LB02*/ 26401400
*   IF MEXTN ^= '' THEN IF MJFCB ^= '' THEN                /*@G18MB04*/ 26403000
*     DO;                    /*ONE MUST BE NULL              @G18MB04*/ 26403400
*       ANS MSG('  ICB621I - MEXTN AND MJFCB MUTUALLY'||                26405000
*               ' EXCLUSIVE PARAMETERS SPECIFIED. ')SKIP;               26406000
*       RETCODE=12;               /* SET RETURN CODE         @G18MB04*/ 26407000
*       GO TO FINISH;             /* EXIT                    @G18MB04*/ 26408000
*     END;                                                 /*@ZA28964*/ 26428000
*/*                                                          @Y30LB02*/ 26478000
*/********************************************************** @Y30LB02*/ 26528000
*/*         DECLARE REGISTER 1                               @Y30LB02*/ 26578000
*/********************************************************** @Y30LB02*/ 26628000
*   IF MDTESTR1 = 0 THEN     /*REG 1 NOT DECLARED?           @ZA28964*/ 26950000
*     DO;                    /*THEN DECLARE REG 1            @Y30LB02*/ 27000000
*       ANS('DCL MDREG1 REG(1) PTR; /*'||                               27050000
*           'ADDRESS OF REQUEST BLOCK @Y30LB02*/')SKIP;                 27100000
*       MDTESTR1=1;          /*SET REG 1 DECLARED FLAG       @Y30LB02*/ 27150000
*     END;                                                 /*@Y30LB02*/ 27200000
*/*                                                          @Y30LB02*/ 27240000
*/********************************************************** @Y30LB02*/ 27242000
*/*       CHECK FOR VALID TYPE SPECIFICATION                 @Y30LB02*/ 27244000
*/********************************************************** @Y30LB02*/ 27246000
*   IF TYPE(1) ^= 'MNT' THEN IF TYPE(1) ^= 'DMNT' THEN     /*@ZA28964*/ 27250000
*     DO;                                                  /*@ZA28964*/ 27280000
*       IF TYPE='' THEN      /*IS THE TYPE PARM NULL?        @Y30LB02*/ 27350000
*         ANS MSG('  ICB600I - TYPE MUST BE '||                         27450000
*                 'SPECIFIED ')SKIP;                       /*@Y30LB02*/ 27500000
*       ELSE                                               /*@Y30LB02*/ 27550000
*         ANS MSG('  ICB601I - TYPE IS INCORRECTLY '||                  27600000
*                 'SPECIFIED')SKIP;                        /*@ZA28964*/ 27650000
*       RETCODE=12;          /*SET RETURN CODE TO 12         @ZA28964*/ 27680000
*       GO TO FINISH;        /*BRANCH TO FINISH              @ZA28964*/ 27710000
*     END;                                                 /*@ZA28964*/ 27740000
*/*                                                          @Y30LB02*/ 27800003
*/********************************************************** @Y30LB02*/ 27850000
*/*        LIST FORM                                         @Y30LB02*/ 27860000
*/********************************************************** @Y30LB02*/ 27870000
*   IF MF(1) ^= 'L' THEN     /*REQUEST NOT FOR LIST FORM     @Y30LB02*/ 27900003
*        GO TO CKFORM;       /*BRANCH, CK FOR EXECUTE        @Y30LB02*/ 27950003
*/*                                                          @Y30LB02*/ 27960000
*   IF MF(2) = '' THEN       /*LIST FORM, NAME ^ SPECIFIED   @ZA28964*/ 28000000
*     DO;                                                  /*@ZA28964*/ 28050000
*       ANS MSG('  ICB602I - A NAME FOR THE '||                         28100000
*               'REQUEST BLOCK MUST BE SPECIFIED IN '||                 28150000
*               'MF(2) ')SKIP;                             /*@ZA28964*/ 28200000
*       RETCODE=12;          /*SET RETURN CODE TO 12         @ZA28964*/ 28250000
*       GO TO FINISH;        /*BRANCH TO FINISH              @ZA28964*/ 28300000
*     END;                                                 /*@ZA28964*/ 28350000
*/*                                                          @Y30LB02*/ 28400000
*   IF FLAGS ||              /*FLAGS SPECIFIED?              @ZA28964*/ 28450000
*     VOLID ||               /*VOLID SPECIFIED?              @ZA28964*/ 28500000
*     VUA ||                 /*VUA SPECIFIED?                @ZA28964*/ 28550000
*     MEXTN ||               /*MEXTN SPECIFIED?              @G18MB04*/ 28600000
*     HOSTID ||              /*HOST ID SPECIFIED?            @ZA28964*/ 28650000
*     ECB ||                 /*ECB SPECIFIED?                @ZA28964*/ 28700000
*     MJFCB ^= '' THEN       /*MJFCB SPECIFIED?              @G18MB04*/ 28851000
*       DO;                  /*PRINT WARNING MESSAGE         @Y30LB02*/ 28950000
*         RETCODE = 4;       /*SET RETURN CODE TO 4          @Y30LB02*/ 29000000
*         ANS MSG('  ICB603I - WARNING-ONLY MF'||                       29050000
*                 ' AND TYPE PARAMETERS ARE VALID FOR'||                29100000
*                 ' LIST FORM ')SKIP;                      /*@Y30LB02*/ 29150000
*       END;                                               /*@Y30LB02*/ 29200000
*/*                                                          @Y30LB02*/ 29210000
*   IF MF(3) = '' THEN      /*PLS ATTRIBUTE ^ SPECIFIED      @Y30LB02*/ 29250000
*     DO;                   /*PRINT REQUEST BLOCK            @Y30LB02*/ 29300000
*       IF TYPE(1)='MNT' THEN /*REQUEST FOR MOUNT?           @Y30LB02*/ 29400000
*         GO TO LMNTINT;     /* CALL ANSWER TEXT BLOCK       @ZA28964*/ 29500000
*                            /*  THEN GO TO FINISH           @ZA28964*/ 29550000
*       ELSE                                               /*@ZA28964*/ 29600000
*         GO TO LDMTINT;     /* CALL ANSWER TEXT BLOCK       @ZA28964*/ 29650000
*                            /*  THEN GO TO FINISH           @ZA28964*/ 29700000
*     END;                                                 /*@Y30LB02*/ 33750000
*   ELSE                                                   /*@Y30LB02*/ 33800000
*     DO;                    /* PLS ATTRIBUTE SPECIFIED      @Y30LB02*/ 33850000
*       IF TYPE(1)='MNT' THEN   /*MOUNT REQUEST?             @Y30LB02*/ 33950000
*         GO TO LMNTUN;      /* CALL ANSWER TEXT BLOCK       @ZA28964*/ 34050000
*                            /*  THEN GO TO FINISH           @ZA28964*/ 34100000
*       ELSE                 /*PROCESS DEMOUNT REQ BLK       @Y30LB02*/ 34150000
*         GO TO LDMTUN;      /* CALL ANSWER TEXT BLOCK       @ZA28964*/ 34200000
*                            /*  THEN GO TO FINISH           @ZA28964*/ 34250000
*     END;                                                 /*@Y30LB02*/ 37700000
*/*                                                          @Y30LB02*/ 37750003
*/********************************************************** @Y30LB02*/ 37760000
*/*          EXECUTE FORM                                    @Y30LB02*/ 37800000
*/********************************************************** @Y30LB02*/ 37810000
*CKFORM:                                                                37900003
*   IF MF(1) ^= 'E' THEN     /* EXECUTE FORM SPECIFIED?      @Y30LB02*/ 37950000
*     GO TO SFORM;           /*BRANCH, CK  STANDARD FORM     @Y30LB02*/ 38000000
*   IF MF(2)='' THEN         /* IS 2ND SUB-PARM SPECIFIED?   @Y30LB02*/ 38050003
*     DO;                    /*PRINT OUT ERROR MESSAGE       @Y30LB02*/ 38100003
*        ANS MSG('  ICB612I - MF(2) MUST CONTAIN'||                     38150003
*                ' REQ BLK NAME IF EXEC'||                              38200003
*                ' MACRO FORM REQUESTED')SKIP;             /*@Y30LB02*/ 38250003
*        RETCODE=12;         /*SET RETURN CODE TO 12         @ZA28964*/ 38300000
*        GO TO FINISH;                                     /*@ZA28964*/ 38350000
*     END;                   /*                              @Y30LB02*/ 38400000
*/*                                                          @Y30LB02*/ 38450000
*   GO TO EMNTDMT;           /* CALL ANSWER TEXT BLOCK       @ZA28964*/ 38500000
*                            /*  THEN GO TO EMNTDMTR         @ZA28964*/ 38550000
*/*                                                          @ZA28964*/ 38600000
*EMNTDMTR:                                                 /*@ZA28964*/ 38650000
*   IF MF(3) = 'COMPLETE' THEN /*COMPLETE SPECIFIED?         @ZA28964*/ 38700000
*     ANS(' '||MF(2)||'='||MF(2)||'&&'||MF(2)||';/*ZERO'||              38750000
*         ' OUT BLOCK @Y30LB02*/')SKIP;                                 38800000
*   IF TYPE(1) = 'MNT' THEN /*MOUNT REQUEST?                 @Y30LB02*/ 38850000
*     DO;                      /*MOUNT OPCD AND LEN          @Y30LB02*/ 38900000
*       ANS('MDLEN='||QUOTE(MLEN)||'X;/*LENGTH OF '||                   38950000
*           'MOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                      39000000
*       ANS('MDOPCD='||QUOTE(MOPCD)||'X;/*MOUNT'||                      39050000
*           ' OPCODE @Y30LB02*/')SKIP;                                  39100000
*       GO TO COMPROC;         /*BRANCH, CK PARAMETERS       @Y30LB02*/ 39150000
*     END;                     /*                            @Y30LB02*/ 39200000
*   ELSE                       /*DEMOUNT LEN AND OPCD        @Y30LB02*/ 39250000
*     DO;                      /*PUT OUT LEN AND OPCD        @Y30LB02*/ 39300000
*       ANS('DMLEN='||QUOTE(DLEN)||'X;/*LENGTH OF '||                   39350000
*           'DEMOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                    39400000
*       ANS('DMOPCD='||QUOTE(DOPCD)||'X;/*DEMOUNT'||                    39450000
*          ' OPCODE @Y30LB02*/')SKIP;                                   39500000
*       GO TO COMPROC;         /*BRANCH, CK PARAMETERS       @Y30LB02*/ 39550000
*     END;                     /*                            @Y30LB02*/ 39600000
*/*                                                          @Y30LB02*/ 41512000
*/********************************************************** @Y30LB02*/ 41520000
*/*           STANDARD FORM                                  @Y30LB02*/ 41530000
*/********************************************************** @Y30LB02*/ 41540000
*SFORM:                                                                 41550003
*   IF MF(1) ^= '' THEN       /* FORM STANDARD?              @Y30LB02*/ 41600003
*     DO;                     /*PRINT ERROR MESSAGE          @Y30LB02*/ 41650003
*        ANS MSG('  ICB615I - INVALID MF PARAMETER'||                   41700003
*                ' SPECIFIED, MUST BE L, E, OR NULL')SKIP; /*@Y30LB02*/ 41750003
*        RETCODE=12;          /*SET RETURN CODE TO 12        @Y30LB02*/ 41850003
*        GO TO FINISH;                                     /*@ZA28964*/ 41900000
*     END;                                                 /*@Y30LB02*/ 41940000
*/*                                                          @Y30LB02*/ 41980000
*   IF VOLID = '' THEN IF TYPE(1) = 'DMNT' THEN            /*@ZA28964*/ 42020000
*     DO;                   /*PRINT ERROR MESSAGE            @Y30LB02*/ 42150003
*        RETCODE = 12;      /*SET RETURN CODE TO 12          @Y30LB02*/ 42250003
*        ANS MSG('  ICB610I - VOLID MUST BE SPECIFIED '||               42300003
*                'FOR STANDARD FORM MACRO')SKIP;           /*@Y30LB02*/ 42350000
*        GO TO FINISH;                                     /*@ZA28964*/ 42400000
*     END;                                                 /*@Y30LB02*/ 42450000
*/*                                                          @Y30LB02*/ 42500003
*   IF VUA = '' THEN IF TYPE(1) = 'MNT' THEN               /*@Y30LB02*/ 42550000
*     DO;                       /*PRINT ERROR MSG            @Y30LB02*/ 42650000
*        RETCODE = 12;          /*SET RETURN CODE TO 12      @Y30LB02*/ 42750003
*        ANS MSG('  ICB611I - VUA MUST BE SPECIFIED FOR '||             42800003
*                'STANDARD FORM MACRO')SKIP;               /*@Y30LB02*/ 42850000
*        GO TO FINISH;                                     /*@ZA28964*/ 42900000
*     END;                                                 /*@Y30LB02*/ 42950000
*/*                                                          @Y30LB02*/ 43000000
*   IF TYPE(1) = 'MNT' THEN       /*MOUNT REQUEST?           @ZA28964*/ 43050000
*     DO;                                                  /*@ZA28964*/ 43100000
*       IF MNTTEST => 1 THEN      /*STD FORM INVOKED BEFORE  @ZA28964*/ 43150000
*         GO TO SSMNT;            /* CALL ANSWER TEXT BLOCK  @Y30LB02*/ 43200000
*                                 /* THEN GO TO COMPROC      @ZA28964*/ 43250000
*       ELSE                 /*FIRST INVOCATION              @ZA28964*/ 43300000
*         DO;                     /*PUT OUT DECLARES         @ZA28964*/ 43350000
*           MNTTEST = 1;          /*SET STD FORM CTR         @ZA28964*/ 43400000
*           GO TO SIMNT;         /* CALL ANSWER TEXT BLOCK   @ZA28964*/ 43450000
*                                /*  THEN GO TO COMPROC      @ZA28964*/ 43500000
*         END;                                             /*@Y30LB02*/ 46600000
*     END;                   /* MOUNT REQUEST                @Y30LB02*/ 46650000
*   ELSE                     /* DEMOUNT REQUEST              @Y30LB02*/ 46660000
*     DO;                                                  /*@Y30LB02*/ 46670000
*       IF DMTTEST => 1 THEN /*DMNT STD FM INVOKED BEFORE ?  @Y30LB02*/ 46700000
*         GO TO SSDMT;      /*CALL ANSWER TEXT BLOCK         @Y30LB02*/ 47500000
*                           /*  THEN GO TO COMPROC           @ZA28964*/ 47550000
*       ELSE           /*PUT OUT DECLARES FOR STD FM         @Y30LB02*/ 47650000
*         DO;          /*DECLARES FOR DEMOUNT                @Y30LB02*/ 47700000
*           DMTTEST = 1;     /*SET DMNT STDFM FLAG           @Y30LB02*/ 49650000
*           GO TO SIDMT;     /* CALL ANSWER TEXT BLOCK       @Y30LBO2*/ 49660000
*                            /*  THEN GO TO COMPROC          @ZA28964*/ 49662000
*         END;                                             /*@Y30LB02*/ 49670000
*    END;                                                  /*@Y30LB02*/ 49700000
*/*                                                          @Y30LB02*/ 49750003
*/********************************************************** @Y30LB02*/ 49760000
*/*   FILL IN STANDARD AND EXECUTE FORM PARAMETERS           @ZA28964*/ 49770000
*/********************************************************** @Y30LB02*/ 49820000
*COMPROC:                                                  /*@ZA28964*/ 49870000
*   IF FLAGS^='' THEN    /*FLAGS SPECIFIED?                  @ZA28964*/ 49920000
*     DO;                                                  /*@ZA28964*/ 49970000
*       IF TYPE(1) = 'DMNT' THEN /*DEMOUNT REQUEST?          @ZA28964*/ 50020000
*         ANS('DMNTFLAG=' ||FLAGS|| '; /*FLAGS @Y30LB02*/')SKIP;        50070000
*       ELSE             /*PUT FLAGS IN REQ BLOCK            @ZA28964*/ 50120000
*         ANS('MDFLG=' ||FLAGS|| '; /*FLAGS @Y30LB02*/')SKIP;           50170000
*     END;                                                 /*@ZA28964*/ 50220000
*/*                                                          @Y30LB02*/ 50270000
*   IF VOLID ^= '' THEN        /*VOLID SPECIFIED?            @ZA28964*/ 50320000
*     DO;                                                  /*@ZA28964*/ 50370000
*       IF TYPE(1) = 'MNT' THEN  /*MOUNT REQUEST?            @ZA28964*/ 50420000
*         ANS('MDVOL=' ||VOLID||';/*VALUE OF VOLID @Y30LB02*/')SKIP;    50470000
*       ELSE                  /*DEMOUNT REQUEST              @ZA28964*/ 50520000
*         ANS('DMVOL=' ||VOLID|| '; /*VALUE OF VOLID @Y30LB02*/')SKIP;  50570000
*     END;                                                 /*@ZA28964*/ 50620000
*/*                                                          @Y30LB02*/ 50670000
*   IF VUA ^= '' THEN             /*VUA SPECIFIED?           @ZA28964*/ 50720000
*     DO;                                                  /*@ZA28964*/ 50770000
*       IF TYPE(1)='DMNT' THEN    /*TEST FOR DEMOUNT         @ZDR2048*/ 51551000
*         DO;                     /*DEMOUNT REQUEST          @ZDR2048*/ 51552000
*           ANS('DMNTVUA=' ||VUA|| '; /*FILL VUA @ZDR2048*/')SKIP;      51553000
*           ANS('DMVUAVAL='||QUOTE(VUAVAL)||'B;/* OR ON'||              51554000
*               ' THE VUA VALID ATTRIBUTE FLAG @ZDR2048*/')SKIP;        51555000
*         END;                    /*                         @ZDR2048*/ 51556000
*       ELSE                  /*PUT VUA IN BLOCK FOR MNT     @ZDR2048*/ 51600000
*         ANS('MDVUA=' ||VUA|| '; /*VALUE OF VUA    @Y30LB02*/')SKIP;   51650000
*     END;                                                 /*@ZA28964*/ 51660000
*/*                                                          @Y30LB02*/ 51680000
*   IF HOSTID ^= '' THEN     /*HOSTID SPECIFIED              @ZA28964*/ 51700000
*     DO;                                                  /*@ZA28964*/ 51720000
*       IF TYPE(1) = 'MNT' THEN  /*IS THE TYPE MOUNT?        @Y30LB02*/ 51740000
*         ANS('MDHOST='||HOSTID||';/*FILL IN HOSTID @Y30LB02*/')SKIP;   51760000
*       ELSE                                               /*@ZA28964*/ 51780000
*         ANS('DMHOST='||HOSTID||';/*FILL IN HOSTID @Y30LB02*/')SKIP;   51800000
*     END;                                                 /*@ZA28964*/ 51820000
*/*                                                          @ZA28964*/ 51840000
*   IF ECB ^= '' THEN                                      /*@ZA28964*/ 51860000
*     DO;                                                  /*@ZA28964*/ 51880000
*       IF TYPE(1) = 'DMNT' THEN                           /*@ZA28964*/ 51900000
*         ANS('DMNTECB =ADDR'||ECB||';/*ADDRESS OF THE EVENT'||         51920000
*             'CONTROL BLOCK @Y30LB02*/')SKIP;                          51940000
*       ELSE                 /* TYPE MUST BE MOUNT           @ZA28964*/ 51960000
*         DO;                                              /*@ZA28964*/ 51980000
*           RETCODE = 4;                                   /*@ZA28964*/ 52000000
*           ANS MSG('  ICB618I - WARNING - ECB PARAMETER ' ||           52020000
*                   'VALID ONLY FOR DEMOUNT REQUEST')SKIP; /*@ZA28964*/ 52040000
*         END;                                             /*@ZA28964*/ 52060000
*     END;                                                 /*@ZA28964*/ 52080000
*/*                                                          @ZA28964*/ 52100000
*   IF MEXTN || MJFCB ^= '' THEN   /* MEXTN, MJFCB GIVEN     @ZA28964*/ 52120000
*     DO;                                                  /*@ZA28964*/ 52140000
*       IF TYPE(1) = 'DMNT' THEN  /* ILLEGAL PARAMETER       @ZA28964*/ 52160000
*         DO;                                              /*@ZA28964*/ 52180000
*           RETCODE = 4;                                   /*@ZA28964*/ 52200000
*           ANS MSG('  ICB619I - WARNING - MEXTN/MJFCB ' ||             52220000
*                   'PARAMETER VALID ONLY FOR MOUNT REQUEST')SKIP;      52240000
*         END;                                             /*@ZA28964*/ 52260000
*       ELSE                 /* MOUNT REQUEST                @ZA28964*/ 52280000
*         DO;                                              /*@ZA28964*/ 52300000
*           IF MEXTN ^= '' THEN                            /*@ZA28964*/ 52320000
*             DO;            /* PROCESS MOUNT EXTENSION      @G18MB04*/ 52651000
*               ANS('MNTEXTP=ADDR' || MEXTN ||                          52700000
*                   ';/*FILL IN MEXTN @G18MB04*/')SKIP;                 52700400
*               ANS('MDMEXT='||QUOTE(MEXTVAL)||'B;/* SET'||             52701000
*                   ' THE MOUNT EXT PROVIDED BIT @G18MB04*/')SKIP;      52702000
*             END;           /* END PROCESS MOUNT EXTENSION  @G18MB04*/ 52703000
*           ELSE             /* PROCESS MOUNT JFCB           @ZA28964*/ 52704000
*             ANS('MDJFCB=ADDR' || MJFCB ||                             52754000
*                 ';/*FILL MDJFCB @G18MB04*/')SKIP;                     52804000
*         END;                                             /*@ZA28964*/ 52854000
*     END;                                                 /*@ZA28964*/ 52904000
*EXIT:                                                                  52954000
*   ANS('SVC  (126);/*INVOKE THE MSSC SVC  @Y30LB02*/')SKIP;            53004000
*   ANS('RFY  MDREG1 UNRSTD;/*UNREST REG 1 @Y30LB02*/')SKIP;            53054000
*   GO TO FINISH;            /* SKIP OVER THE ANSWER TEXTS   @ZA28964*/ 53104000
*/*                                                          @ZA28964*/ 53154000
*/********************************************************** @Y30LB02*/ 53204000
*/*          MACRO ANSWER TEXT - EACH BLOCK IS INVOKED       @ZA28964*/ 53254000
*/*          AT ONLY ONE POINT IN THE MACRO                  @ZA28964*/ 53304000
*/********************************************************** @Y30LB02*/ 53354000
*  LMNTINT:                                                             53404000
* ANS('/*******************************************'||                  53454000
*     '************** @Y30LB02*/')SKIP;                                 53504000
* ANS('/*MACMEAN  MSSC MOUNT MACRO                 '||                  53554000
*     '               @Y30LB02*/')SKIP;                                 53604000
* ANS('/*         VERSION - VS/2 REL 3    77/12/15 '||                  53654000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 53704000
* ANS('/*THIS IS THE INITIALIZED LIST FORM         '||                  53754000
*     '               @Y30LB02*/')SKIP;                                 53804000
* ANS('/*******************************************'||                  53854000
*     '************** @Y30LB02*/')SKIP;                                 53904000
* ANS('DCL 1 ' ||MF(2)|| '  STATIC LOCAL,'||                            53954000
*     ' /*MOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                         54004000
* ANS('    2  MDLEN  FIXED(31)INIT('||QUOTE('1C')||                     54054000
*     'X),/*LENGTH 0F REQ BLOCK @Y30LB02*/')SKIP;                       54104000
* ANS('    2  MDOPCD FIXED(8)INIT('||QUOTE('08')||                      54154000
*     'X),/*MOUNT OPCODE @Y30LB02*/')SKIP;                              54204000
* ANS('    2  MNTRES1 CHAR(1)INIT('||QUOTE('00')||                      54254000
*     'X), /*ONE BYTE OF ZERO @Y30LB02*/')SKIP;                         54304000
* ANS('    2  MDFLG BIT(16)INIT('||QUOTE                                54354000
*     ('0000000000000000')||'B), /*FLAGS AREA @Y30LB02*/')SKIP;         54404000
* ANS('    3  * BIT(1), /*RESERVED '||                                  54454000
*     ' @YD00125*/')SKIP;                                               54504000
* ANS('    3  MDVISMNT BIT(1), /*MSVC ISSUING'||                        54554000
*     ' THE MOUNT @Y30LB02*/')SKIP;                                     54604000
* ANS('    3  MDVSVRQ BIT(1), /*MSVC SECONDARY'||                       54654000
*     ' VOLUME REQUEST @Y30LB02*/')SKIP;                                54704000
* ANS('    3  MDSRTCH BIT(1), /*SCRATCH'||                              54754000
*     '  @Y30LB02*/')SKIP;                                              54804000
* ANS('    3  MDMEXT  BIT(1), /*MOUNT EXTENSION'||                      54854000
*     '  @G18MB04*/')SKIP;                                              54904000
* ANS('    3  *      BIT(11),'||                                        54954000
*     ' /* RESERVED BITS @G18MB04*/')SKIP;                              55004000
* ANS('    2  MDVOL  CHAR(6) , /*VOLID @Y30LB02*/')SKIP;                55054000
* ANS('     3  *(6) CHAR(1)INIT((6)'||QUOTE                             55104000
*     ('00')||'X),/*INIT VOLID AREA TO ZERO @Y30LB02*/')SKIP;           55154000
* ANS('    2  MDVUA  FIXED(15)INIT(0), /*VIRTUAL'||                     55204000
*     ' UNIT ADDRESS @Y30LB02*/')SKIP;                                  55254000
* ANS('    2  MDHOST CHAR(5),/*5-BYTES HOSTID '||                       55304000
*     'AREA @Y30LB02*/')SKIP;                                           55354000
* ANS('     3  *(5) CHAR(1) INIT((5)'||QUOTE                            55404000
*     ('00')||'X),/*INIT HOSTID AREA  @Y30LB02*/')SKIP;                 55454000
* ANS('    2  MNTRES2  CHAR(3) INIT('||QUOTE                            55504000
*     ('')||'B),/*INIT RESERVED AREA  @Y30LB02*/')SKIP;                 55554000
* ANS('    2  MNTEXTP PTR(31)INIT(0), /*ADDRESS'||                      55604000
*     ' OF MOUNT LIST EXTENSION @G18MB04*/')SKIP;                       55654000
* ANS('     3  MDJFCB PTR(31); /* ADDRESS'||                            55704000
*     ' OF JFCB @ZA28964*/')SKIP;                                       55754000
* ANS('DCL MNTLEN FIXED(31) DEF(MDLEN), /*BAL LABEL @ZA28964*/')SKIP;   55804000
* ANS('  MNTOPCD FIXED(8) DEF(MDOPCD), /*BAL LABEL @ZA28964*/')SKIP;    55854000
* ANS('  MNTFLAGS BIT(16) DEF(MDFLG), /*BAL LABEL @ZA28964*/')SKIP;     55904000
* ANS('  MNTVOLID CHAR(6) DEF(MDVOL), /*BAL LABEL @ZA28964*/')SKIP;     55954000
* ANS('  MNTVUA FIXED(15) DEF(MDVUA), /*BAL LABEL @ZA28964*/')SKIP;     56004000
* ANS('  MNTHOSTD CHAR(5) DEF(MDHOST), /*BAL LABEL @ZA28964*/')SKIP;    56054000
* ANS('  MNTJFCB FIXED(31) DEF(MDJFCB); /*BAL LABEL @ZA28964*/')SKIP;   56104000
*        GO TO FINISH;                                     /*@ZA28964*/ 56154000
*/*                                                          @ZA28964*/ 56204000
*  LDMTINT:                                                             56254000
* ANS('/*******************************************'||                  56304000
*     '************** @Y30LB02*/')SKIP;                                 56354000
* ANS('/*MACMEAN  MSSC DEMOUNT MACRO               '||                  56404000
*     '               @Y30LB02*/')SKIP;                                 56454000
* ANS('/*         VERSION - VS/2 REL 3  77/12/15   '||                  56504000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 56554000
* ANS('/*THIS IS THE INITIALIZED LIST FORM         '||                  56604000
*     '               @Y30LB02*/')SKIP;                                 56654000
* ANS('/*******************************************'||                  56704000
*     '************** @Y30LB02*/')SKIP;                                 56754000
* ANS('DCL 1 ' ||MF(2)|| '  STATIC LOCAL,'||                            56804000
*     ' /*DEMOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                       56854000
* ANS('    2  DMLEN  FIXED(31)INIT('||QUOTE('1C')||                     56904000
*     'X),/*LENGTH DEMOUNT REQUEST BLK @Y30LB02*/')SKIP;                56954000
* ANS('    2  DMOPCD FIXED(8)INIT('||QUOTE('06')||                      57004000
*     'X),/*DEMOUNT OPCODE @Y30LB02*/')SKIP;                            57054000
* ANS('    2  DMNTRES1  CHAR(1)INIT('||QUOTE                            57104000
*     ('00')||'X),/*INIT RESERVED AREA TO ZERO @Y30LB02*/')SKIP;        57154000
* ANS('    2  DMNTFLAG BIT(16)INIT('||QUOTE                             57204000
*     ('0000000000000000')||'B), /*FLAGS AREA @Y30LB02*/')SKIP;         57254000
* ANS('    3  DMBITRE1 BIT(1), /*ONE'||                                 57304000
*     ' RESERVED BIT @YM02186*/')SKIP;                                  57354000
* ANS('    3  DMDELRSP BIT(1), /*DEMOUNT '||                            57404000
*     'DELAYED RESPONSE ATTRIBUTE @YM02186*/')SKIP;                     57454000
* ANS('    3  DMVUAVAL BIT(1), /*DEMOUNT '||                            57504000
*     'VUA VALID ATTRIBUTE @ZDR2048*/')SKIP;                            57554000
* ANS('    3  DMBITRES BIT(13), /*THIRTEEN'||                           57604000
*     ' RESERVED BITS @ZDR2048*/')SKIP;                                 57654000
* ANS('    2  DMVOL CHAR(6) INIT('||QUOTE                               57704000
*     ('')||'B), /*INIT VOLID TO ZERO @Y30LB02*/')SKIP;                 57754000
* ANS('    2  DMNTASID  CHAR(2)INIT('||QUOTE                            57804000
*     ('')||'B),/*INIT ASID AREA TO ZERO @Y30LB02*/')SKIP;              57854000
* ANS('    2  DMNTECB  PTR(31)INIT(0), /*DEMOUNT'||                     57904000
*     ' EVENT CONTROL BLOCK @ZA28964*/')SKIP;                           57954000
* ANS('    2  DMHOST CHAR(5) INIT('||QUOTE                              58004000
*     ('')||'B),/*INIT HOSTID AREA  @Y30LB02*/')SKIP;                   58054000
* ANS('    2  DMNTRES2  CHAR(1)INIT('||QUOTE                            58104000
*     ('')||'B),/*INIT RESERVED AREA TO ZERO @ZDR2048*/')SKIP;          58154000
* ANS('    2  DMNTVUA   FIXED(15)INIT(0); /*VIRTUAL'||                  58204000
*     ' UNIT ADDRESS @ZDR2048*/')SKIP;                                  58254000
* ANS('DCL DMNTLEN  FIXED(31) DEF(DMLEN), /*BAL LABEL @ZA28964*/')SKIP; 58304000
* ANS('  DMVOLID CHAR(6) DEF(DMVOL), /*BAL LABEL @ZA28964*/')SKIP;      58354000
* ANS('  DMOPCODE FIXED(8) DEF(DMOPCD),/*BAL LABEL @ZA28964*/')SKIP;    58404000
* ANS('  DMHOSTID CHAR(5) DEF(DMHOST); /*BAL LABEL @ZA28964*/')SKIP;    58454000
*       GO TO FINISH;                                      /*@ZA28964*/ 58504000
*/*                                                          @ZA28964*/ 58554000
*  LMNTUN:                                                              58604000
* ANS('/*******************************************'||                  58654000
*     '************** @Y30LB02*/')SKIP;                                 58704000
* ANS('/*MACMEAN  MSSC MOUNT MACRO                 '||                  58754000
*     '               @Y30LB02*/')SKIP;                                 58804000
* ANS('/*         VERSION - VS/2 REL 3   77/12/15  '||                  58854000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 58904000
* ANS('/*THIS IS THE UNINITIALIZED LIST FORM       '||                  58954000
*     '               @Y30LB02*/')SKIP;                                 59004000
* ANS('/*******************************************'||                  59054000
*     '************** @Y30LB02*/')SKIP;                                 59104000
* ANS('DCL 1 ' ||MF(2)||'  '||MF(3)||','||                              59154000
*     ' /*MOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                         59204000
* ANS('    2  MDLEN  FIXED(31), /*LENGTH'||                             59254000
*     ' OF BLOCK = 1C HEX BYTES @Y30LB02*/')SKIP;                       59304000
* ANS('    2  MDOPCD FIXED(8), /*MOUNT'||                               59354000
*     ' OPCODE = 08 HEX @Y30LB02*/')SKIP;                               59404000
* ANS('    2  MNTRES1  CHAR(1),/*RESERVED @Y30LB02*/')SKIP;             59454000
* ANS('    2  MDFLG BIT(16) , /*FLAGS AREA @Y30LB02*/')SKIP;            59504000
* ANS('    3  * BIT(1), /*RESERVED '||                                  59554000
*     ' @YD00125*/')SKIP;                                               59604000
* ANS('    3  MDVISMNT BIT(1), /*MSVC ISSUING'||                        59654000
*     ' THE MOUNT @Y30LB02*/')SKIP;                                     59704000
* ANS('    3  MDVSVRQ BIT(1), /*MSVC SECONDARY'||                       59754000
*     ' VOLUME REQUEST @Y30LB02*/')SKIP;                                59804000
* ANS('    3  MDSRTCH BIT(1), /*SCRATCH'||                              59854000
*     '  @Y30LB02*/')SKIP;                                              59904000
* ANS('    3  MDMEXT  BIT(1), /*MOUNT EXTENSION'||                      59954000
*     '  @G18MB04*/')SKIP;                                              60004000
* ANS('    3  *      BIT(11),'||                                        60054000
*     ' /* RESERVED BITS @YD00125*/')SKIP;                              60104000
* ANS('    2  MDVOL  CHAR(6) , /*VOLID @Y30LB02*/')SKIP;                60154000
* ANS('    2  MDVUA  FIXED(15), /*VIRTUAL'||                            60204000
*     ' UNIT ADDRESS @Y30LB02*/')SKIP;                                  60254000
* ANS('    2  MDHOST CHAR(5),/*5-BYTES HOSTID '||                       60304000
*     'AREA @Y30LB02*/')SKIP;                                           60354000
* ANS('    2  MNTRES2  CHAR(3) , /*RESERVED @Y30LB02*/')SKIP;           60404000
* ANS('    2  MNTEXTP PTR(31), /*ADDRESS'||                             60454000
*     ' OF MOUNT LIST EXTENSION @G18MB04*/')SKIP;                       60504000
* ANS('     3  MDJFCB PTR(31); /* ADDRESS'||                            60554000
*     ' OF JFCB @ZA28964*/')SKIP;                                       60604000
* ANS('DCL MNTLEN FIXED(31) DEF(MDLEN), /*BAL LABEL @ZA28964*/')SKIP;   60654000
* ANS('  MNTOPCD FIXED(8) DEF(MDOPCD), /*BAL LABEL @ZA28964*/')SKIP;    60704000
* ANS('  MNTFLAGS BIT(16) DEF(MDFLG), /*BAL LABEL @ZA28964*/')SKIP;     60754000
* ANS('  MNTVOLID CHAR(6) DEF(MDVOL), /*BAL LABEL @ZA28964*/')SKIP;     60804000
* ANS('  MNTVUA FIXED(15) DEF(MDVUA), /*BAL LABEL @ZA28964*/')SKIP;     60854000
* ANS('  MNTHOSTD CHAR(5) DEF(MDHOST), /*BAL LABEL @ZA28964*/')SKIP;    60904000
* ANS('  MNTJFCB FIXED(31) DEF(MDJFCB); /*BAL LABEL @ZA28964*/')SKIP;   60954000
*        GO TO FINISH;                                     /*@ZA28964*/ 61004000
*/*                                                          @ZA28964*/ 61054000
*  LDMTUN:                                                              61104000
* ANS('/*******************************************'||                  61154000
*     '************** @Y30LB02*/')SKIP;                                 61204000
* ANS('/*MACMEAN  MSSC DEMOUNT MACRO               '||                  61254000
*     '               @Y30LB02*/')SKIP;                                 61304000
* ANS('/*         VERSION - VS/2 REL 3    77/12/15 '||                  61354000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 61404000
* ANS('/*THIS IS THE UNINITIALIZED LIST FORM       '||                  61454000
*     '               @Y30LB02*/')SKIP;                                 61504000
* ANS('/*******************************************'||                  61554000
*     '************** @Y30LB02*/')SKIP;                                 61604000
* ANS('DCL 1 ' ||MF(2)||'  '||MF(3)||','||                              61654000
*     ' /*DEMOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                       61704000
* ANS('    2  DMLEN  FIXED(31),/*LENGTH OF'||                           61754000
*     ' DEMOUNT REQ BLK = 1C HEX BYTES @Y30LB02*/')SKIP;                61804000
* ANS('    2  DMOPCD FIXED(8),/*DEMOUNT'||                              61854000
*     ' OPCODE = 06 HEX @Y30LB02*/')SKIP;                               61904000
* ANS('    2  DMNTRES1 CHAR(1), /*RESERVED @Y30LB02*/')SKIP;            61954000
* ANS('    2  DMNTFLAG BIT(16),/*FLAGS AREA @Y30LB02*/')SKIP;           62004000
* ANS('    3  DMBITRE1 BIT(1), /*ONE'||                                 62054000
*     ' RESERVED BIT @YM02186*/')SKIP;                                  62104000
* ANS('    3  DMDELRSP BIT(1), /*DEMOUNT '||                            62154000
*     'DELAYED RESPONSE ATTRIBUTE @YM02186*/')SKIP;                     62204000
* ANS('    3  DMVUAVAL BIT(1), /*DEMOUNT '||                            62254000
*     'VUA VALID ATTRIBUTE @ZDR2048*/')SKIP;                            62304000
* ANS('    3  DMBITRES BIT(13), /*THIRTEEN'||                           62354000
*     ' RESERVED BITS @ZDR2048*/')SKIP;                                 62404000
* ANS('    2  DMVOL CHAR(6), /* VOLID FIELD @Y30LB02*/')SKIP;           62454000
* ANS('    2  DMNTASID CHAR(2), /*ASID AREA @Y30LB02*/')SKIP;           62504000
* ANS('    2  DMNTECB  PTR(31),/*DEMOUNT'||                             62554000
*     ' EVENT CONTROL BLOCK @ZA28964*/')SKIP;                           62604000
* ANS('    2  DMHOST CHAR(5),/*5-BYTE HOSTID '||                        62654000
*     'AREA @Y30LB02*/')SKIP;                                           62704000
* ANS('    2  DMNTRES2 CHAR(1), /*RESERVED @ZDR2048*/')SKIP;            62754000
* ANS('    2  DMNTVUA  FIXED(15); /*VIRTUAL'||                          62804000
*     ' UNIT ADDRESS @ZDR2048*/')SKIP;                                  62854000
* ANS('DCL DMNTLEN  FIXED(31) DEF(DMLEN), /*BAL LABEL @ZA28964*/')SKIP; 62904000
* ANS('  DMVOLID CHAR(6) DEF(DMVOL), /*BAL LABEL @ZA28964*/')SKIP;      62954000
* ANS('  DMOPCODE FIXED(8) DEF(DMOPCD),/*BAL LABEL @ZA28964*/')SKIP;    63004000
* ANS('  DMHOSTID CHAR(5) DEF(DMHOST); /*BAL LABEL @ZA28964*/')SKIP;    63054000
*        GO TO FINISH;                                     /*@ZA28964*/ 63104000
*/*                                                          @ZA28964*/ 63154000
*  EMNTDMT:                                                             63204000
* ANS('/*******************************************'||                  63254000
*     '************** @Y30LB02*/')SKIP;                                 63304000
* ANS('/*MACMEAN  MSSC MOUNT/DEMOUNT MACRO         '||                  63354000
*     '               @Y30LB02*/')SKIP;                                 63404000
* ANS('/*         VERSION - VS/2 REL 3   77/12/15  '||                  63454000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 63504000
* ANS('/*THIS IS THE OUTPUT FOR THE EXECUTE FORM.  '||                  63554000
*     '               @Y30LB02*/')SKIP;                                 63604000
* ANS('/*THE LIST FORM OF THIS MACRO SHOULD BE     '||                  63654000
*     '               @Y30LB02*/')SKIP;                                 63704000
* ANS('/*INVOKED FIRST IN ORDER TO SET UP NECESSARY'||                  63754000
*     '               @Y30LB02*/')SKIP;                                 63804000
* ANS('/*DECLARES.  IF THE COMPLETE ARGUMENT IS    '||                  63854000
*     '               @Y30LB02*/')SKIP;                                 63904000
* ANS('/*SPECIFIED THE REQ BLOCK WILL BE ZEROED.   '||                  63954000
*     '               @Y30LB02*/')SKIP;                                 64004000
* ANS('/*******************************************'||                  64054000
*     '************** @Y30LB02*/')SKIP;                                 64104000
* ANS('RFY  MDREG1 RSTD;/*RESTRICT REG 1 @Y30LB02*/')SKIP;              64154000
* ANS('MDREG1= ADDR('||MF(2)||'); /*R1'||                               64204000
*     ' PTR TO REQ BLOCK @Y30LB02*/')SKIP;                              64254000
* GO TO EMNTDMTR;            /* RETURN TO CALLING POINT      @ZA28964*/ 64304000
*/*                                                          @ZA28964*/ 64354000
* SSMNT:                                                                64404000
* ANS('/*******************************************'||                  64454000
*     '************** @Y30LB02*/')SKIP;                                 64504000
* ANS('/*MACMEAN  MSSC MOUNT MACRO                 '||                  64554000
*     '               @Y30LB02*/')SKIP;                                 64604000
* ANS('/*         VERSION - VS/2 REL 3   77/12/15  '||                  64654000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 64704000
* ANS('/*THIS IS THE OUTPUT FOR A SECONDARY        '||                  64754000
*     '               @Y30LB02*/')SKIP;                                 64804000
* ANS('/*INVOCATION OF THE STANDARD FORM MACRO     '||                  64854000
*     '               @Y30LB02*/')SKIP;                                 64904000
* ANS('/*******************************************'||                  64954000
*     '************** @Y30LB02*/')SKIP;                                 65004000
* ANS('RFY  MDREG1 RSTD;/*RESTRICT REG 1 @Y30LB02*/')SKIP;              65054000
* ANS('MDREG1=ADDR(MDLEN);/*PTR TO LIST @Y30LB02*/')SKIP;               65104000
* GO TO COMPROC;                 /* GO FILL IN BLOCK         @ZA28964*/ 65154000
*/*                                                          @ZA28964*/ 65204000
* SIMNT:                                                                65254000
* ANS('/*******************************************'||                  65304000
*     '************** @Y30LB02*/')SKIP;                                 65354000
* ANS('/*MACMEAN  MSSC MOUNT MACRO                 '||                  65404000
*     '               @Y30LB02*/')SKIP;                                 65454000
* ANS('/*         VERSION - VS/2 REL 3   77/12/15  '||                  65504000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 65554000
* ANS('/*THIS IS THE STANDARD FORM - MOUNT MACRO   '||                  65604000
*     '               @Y30LB02*/')SKIP;                                 65654000
* ANS('/*******************************************'||                  65704000
*     '************** @Y30LB02*/')SKIP;                                 65754000
* ANS('RFY  MDREG1 RSTD;/*RESTRICT REG 1 @Y30LB02*/')SKIP;              65804000
* ANS('MDREG1=ADDR(MDLEN);/*R1 PTR TO REQBLK @Y30LB02*/')SKIP;          65854000
* ANS('DCL 1  ICBMLST  STATIC LOCAL,'||                                 65904000
*     ' /*MOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                         65954000
* ANS('    2  MDLEN  FIXED(31)INIT('||QUOTE('1C')||                     66004000
*     'X),/*LENGTH OF MOUNT REQ BLK @Y30LB02*/')SKIP;                   66054000
* ANS('    2  MDOPCD FIXED(8)INIT('||QUOTE('08')||                      66104000
*     'X),/*MOUNT OPCODE @Y30LB02*/')SKIP;                              66154000
* ANS('    2  *    CHAR(1) INIT('||QUOTE('00')||                        66204000
*     'X) ,/*RESERVED @Y30LB02*/')SKIP;                                 66254000
* ANS('    2  MDFLG BIT(16)INIT('||QUOTE                                66304000
*     ('0000000000000000')||'B),/*FLAGS AREA @Y30LB02*/')SKIP;          66354000
* ANS('    3  * BIT(1), /* RESERVED '||                                 66404000
*     ' @YD00125*/')SKIP;                                               66454000
* ANS('    3  MDVISMNT BIT(1), /*MSVC ISSUING'||                        66504000
*     ' THE MOUNT @Y30LB02*/')SKIP;                                     66554000
* ANS('    3  MDVSVRQ BIT(1), /*MSVC SECONDARY'||                       66604000
*     ' VOLUME REQUEST @Y30LB02*/')SKIP;                                66654000
* ANS('    3  MDSRTCH BIT(1), /*SCRATCH'||                              66704000
*     '  @Y30LB02*/')SKIP;                                              66754000
* ANS('    3  MDMEXT  BIT(1), /*MOUNT EXTENSION'||                      66804000
*     '  @G18MB04*/')SKIP;                                              66854000
* ANS('    3  *      BIT(11),'||                                        66904000
*     ' /*RESERVE BITS OF ZERO @Y30LB02*/')SKIP;                        66954000
* ANS('    2  MDVOL CHAR(6),/*VOLUME ID @Y30LB02*/')SKIP;               67004000
* ANS('     3  *(6) CHAR(1) INIT((6)'||QUOTE                            67054000
*     ('00')||'X),/*INIT VOLID AREA TO ZERO @Y30LB02*/')SKIP;           67104000
* ANS('    2  MDVUA  FIXED(15) INIT(0),/*VIRTUAL '||                    67154000
*     'UNIT ADDRESS @Y30LB02*/')SKIP;                                   67204000
* ANS('    2  MDHOST CHAR(5),/*5-BYTE HOSTID '||                        67254000
*     'AREA @Y30LB02*/')SKIP;                                           67304000
* ANS('     3  *(5) CHAR(1) INIT((5)'||QUOTE                            67354000
*     ('00')||'X),/*INIT HOSTID AREA  @Y30LB02*/')SKIP;                 67404000
* ANS('    2  * CHAR(3),/*2-BYTE RESERVED '||                           67454000
*     'AREA @Y30LB02*/')SKIP;                                           67504000
* ANS('     3  *(3) CHAR(1) INIT((3)'||QUOTE                            67554000
*     ('00')||'X),/*INIT RESERVED AREA  @Y30LB02*/')SKIP;               67604000
* ANS('    2  MNTEXTP PTR(31) INIT(0),/*ADDRESS '||                     67654000
*     'OF MOUNT LIST EXTENSION @G18MB04*/')SKIP;                        67704000
* ANS('     3  MDJFCB PTR(31); /* ADDRESS'||                            67754000
*     ' OF JFCB @ZA28964*/')SKIP;                                       67804000
* ANS('DCL MNTLEN FIXED(31) DEF(MDLEN), /*BAL LABEL @ZA28964*/')SKIP;   67854000
* ANS('  MNTOPCD FIXED(8) DEF(MDOPCD), /*BAL LABEL @ZA28964*/')SKIP;    67904000
* ANS('  MNTFLAGS BIT(16) DEF(MDFLG), /*BAL LABEL @ZA28964*/')SKIP;     67954000
* ANS('  MNTVOLID CHAR(6) DEF(MDVOL), /*BAL LABEL @ZA28964*/')SKIP;     68004000
* ANS('  MNTVUA FIXED(15) DEF(MDVUA), /*BAL LABEL @ZA28964*/')SKIP;     68054000
* ANS('  MNTHOSTD CHAR(5) DEF(MDHOST), /*BAL LABEL @ZA28964*/')SKIP;    68104000
* ANS('  MNTJFCB FIXED(31) DEF(MDJFCB); /*BAL LABEL @ZA28964*/')SKIP;   68154000
*        GO TO COMPROC;          /* GO FILL IN BLOCK         @ZA28964*/ 68204000
*/*                                                          @ZA28964*/ 68254000
* SSDMT:                                                                68304000
* ANS('/*******************************************'||                  68354000
*     '************** @Y30LB02*/')SKIP;                                 68404000
* ANS('/*MACMEAN  MSSC DEMOUNT MACRO               '||                  68454000
*     '               @Y30LB02*/')SKIP;                                 68504000
* ANS('/*         VERSION - VS/2 REL 3   77/12/15  '||                  68554000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 68604000
* ANS('/*THIS IS THE OUTPUT FOR A SECONDARY        '||                  68654000
*     '               @Y30LB02*/')SKIP;                                 68704000
* ANS('/*INVOCATION OF THE STANDARD FORM MACRO     '||                  68754000
*     '               @Y30LB02*/')SKIP;                                 68804000
* ANS('/*******************************************'||                  68854000
*     '************** @Y30LB02*/')SKIP;                                 68904000
* ANS('RFY  MDREG1 RSTD;/*RESTRICT REG 1 @Y30LB02*/')SKIP;              68954000
* ANS('MDREG1=ADDR(DMLEN);/*PTR TO REQ BLK @Y30LB02*/')SKIP;            69004000
* GO TO COMPROC;                 /* GO FILL IN BLOCK         @ZA28964*/ 69054000
*/*                                                          @ZA28964*/ 69104000
* SIDMT:                                                                69154000
* ANS('/*******************************************'||                  69204000
*     '************** @Y30LB02*/')SKIP;                                 69254000
* ANS('/*MACMEAN  MSSC DEMOUNT MACRO               '||                  69304000
*     '               @Y30LB02*/')SKIP;                                 69354000
* ANS('/*         VERSION - VS/2 REL 3   77/12/15  '||                  69404000
*     'LEVEL 04       @ZA28964*/')SKIP;                                 69454000
* ANS('/*THIS IS THE STANDARD FORM - DEMOUNT MACRO '||                  69504000
*     '               @Y30LB02*/')SKIP;                                 69554000
* ANS('/*******************************************'||                  69604000
*     '************** @Y30LB02*/')SKIP;                                 69654000
* ANS('RFY  MDREG1 RSTD;/*RESTRICT REG 1 @Y30LB02*/')SKIP;              69704000
* ANS('MDREG1=ADDR(DMLEN);/*R1 PTR TO LIST @Y30LB02*/')SKIP;            69754000
* ANS('DCL 1 ICBDMLST  STATIC LOCAL,'||                                 69804000
*     ' /*DEMOUNT REQUEST BLOCK @Y30LB02*/')SKIP;                       69854000
* ANS('    2 DMLEN  FIXED(31)INIT('||QUOTE('1C')||                      69904000
*     'X),/*LENGTH OF DEMOUNT BLOCK @Y30LB02*/')SKIP;                   69954000
* ANS('    2 DMOPCD FIXED(8)INIT('||QUOTE('06')||                       70004000
*     'X),/*DEMOUNT OPCODE @Y30LB02*/')SKIP;                            70054000
* ANS('    2  DMNTRES1  CHAR(1)INIT('||QUOTE                            70104000
*     ('00')||'X),/*INIT RESERVED AREA TO ZERO @YM02186*/')SKIP;        70154000
* ANS('    2  DMNTFLAG BIT(16)INIT('||QUOTE                             70204000
*     ('0000000000000000')||'B), /*FLAGS AREA @YM02186*/')SKIP;         70254000
* ANS('    3  DMBITRE1 BIT(1), /*ONE'||                                 70304000
*     ' RESERVED BIT @YM02186*/')SKIP;                                  70354000
* ANS('    3  DMDELRSP BIT(1), /*DEMOUNT '||                            70404000
*     'DELAYED RESPONSE ATTRIBUTE @Y30LB02*/')SKIP;                     70454000
* ANS('    3  DMVUAVAL BIT(1), /*DEMOUNT '||                            70504000
*     'VUA VALID ATTRIBUTE @ZDR2048*/')SKIP;                            70554000
* ANS('    3  DMBITRES BIT(13), /*THIRTEEN'||                           70604000
*     ' RESERVED BITS @ZDR2048*/')SKIP;                                 70654000
* ANS('    2  DMVOL CHAR(6) INIT('||QUOTE                               70704000
*     ('')||'B), /*INIT VOLID TO ZERO @Y30LB02*/')SKIP;                 70754000
* ANS('    2  DMNTASID  CHAR(2)INIT('||QUOTE                            70804000
*     ('')||'B),/*INIT ASID AREA TO ZERO @Y30LB02*/')SKIP;              70854000
* ANS('    2  DMNTECB  PTR(31)INIT(0), /*DEMOUNT'||                     70904000
*     ' EVENT CONTROL BLOCK @ZA28964*/')SKIP;                           70954000
* ANS('    2  DMHOST CHAR(5) INIT('||QUOTE                              71004000
*     ('')||'B),/*INIT HOSTID AREA  @Y30LB02*/')SKIP;                   71054000
* ANS('    2  DMNTRES2  CHAR(1)INIT('||QUOTE                            71104000
*     ('')||'B),/*INIT RESERVED AREA TO ZERO @ZDR2048*/')SKIP;          71154000
* ANS('    2  DMNTVUA   FIXED(15)INIT(0); /*VIRTUAL'||                  71204000
*     ' UNIT ADDRESS @ZDR2048*/')SKIP;                                  71254000
* ANS('DCL DMNTLEN  FIXED(31) DEF(DMLEN), /*BAL LABEL @ZA28964*/')SKIP; 71304000
* ANS('  DMVOLID CHAR(6) DEF(DMVOL), /*BAL LABEL @ZA28964*/')SKIP;      71354000
* ANS('  DMOPCODE FIXED(8) DEF(DMOPCD),/*BAL LABEL @ZA28964*/')SKIP;    71404000
* ANS('  DMHOSTID CHAR(5) DEF(DMHOST); /*BAL LABEL @ZA28964*/')SKIP;    71454000
*        GO TO COMPROC;          /* GO FILL IN BLOCK         @ZA28964*/ 71504000
*/*                                                          @ZA28964*/ 71554000
*/*                                                          @Y30LB02*/ 71604000
*FINISH:  RETURN CODE(RETCODE);    /*SET RETURN CODE         @Y30LB02*/ 71654000
*         %END;                                            /*@Y30LB02*/ 71704000
