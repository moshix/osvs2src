* %/*  START OF SPECIFICATIONS****                             @Y30LB02 00050003
.*                                                             @Y30LB02 00100003
.*01   MODULE-NAME = ICBSUSP                                   @Y30LB02 00150003
.*                                                             @Y30LB02 00200003
.*01   DESCRIPTIVE-NAME = SUSPEND MACRO                        @Y30LB02 00250003
.*                                                             @Y30LB02 00300003
.*01   COPYRIGHT = NONE                                        @Y30LB02 00350003
.*                                                             @Y30LB02 00400003
.*01   STATUS = OS/VS1 RELEASE 4, OS/VS2 RELEASE 3             @Y30LB02 00450003
.*                                                             @Y30LB02 00500003
.*01   FUNCTION = REQUEST THE MSC TO STOP MSS PROCESSING       @Y30LB02 00550003
.*                                                             @Y30LB02 00600003
.*01   NOTES = AS FOLLOWS:                                     @Y30LB02 00650003
.*                                                             @Y30LB02 00700003
.*02     CODE = MACRO IS BILINGUALLY CODED                     @Y30LB02 00750003
.*                                                             @Y30LB02 00800003
.*02     RESTRICTIONS = THE FOLLOWING PREFIXES SHOULD BE       @Y30LB02 00850003
.*                      AVOIDED IN THE USER'S INVOCATION:      @Y30LB02 00900003
.*                      ICB AND SU                             @Y30LB02 00950003
.*                                                             @Y30LB02 01000003
.*02     REGISTER-CONVENTIONS = FOLLOWS NORMAL USE OF REGISTERS@Y30LB02 01050003
.*                              BY MACROS: R0,R1,R14, AND R15  @Y30LB02 01100003
.*                                                             @Y30LB02 01150003
.*01   MODULE-TYPE = MACRO                                     @Y30LB02 01200003
.*                                                             @Y30LB02 01250003
.*02     PROCESSOR = PLS2 AND ASSEMBLER                        @Y30LB02 01300003
.*                                                             @Y30LB02 01400003
.*02     ATTRIBUTES = REUSABLE                                 @Y30LB02 01450003
.*                                                             @Y30LB02 01500003
.*02     ENTRY-POINT = ICBSUSP                                 @Y30LB02 01550003
.*                                                             @Y30LB02 01600003
.*02     PURPOSE = A SUSPEND REQUEST WILL BE ISSUED            @Y30LB02 01650003
.*       WHENEVER THE CALLER WANTS TO QUIESCE MSS              @Y30LB02 01700003
.*       PROCESSING FOR A POWER DOWN OR TO INFORM MSS          @Y30LB02 01750003
.*       THAT THE HOST INTERFACE WILL NO LONGER                @Y30LB02 01800003
.*       ACCESS MSS OR TO PREPARE TO SWAP TO THE ALTERNATE MSC @ZD00155 01850003
.*                                                             @Y30LB02 01900003
.*02     LINKAGE = SVC  126                                    @Y30LB02 01950003
.*                                                             @Y30LB02 02000003
.*01  INPUT                                                    @Y30LB02 02050003
.*                                                             @Y30LB02 02100003
.*                                                             @Y30LB02 02150003
.* MACRO SYNTAX                                                @Y30LB02 02200003
.*                                                             @Y30LB02 02250003
.*                                                             @Y30LB02 02300003
.*   LIST FORM                                                 @Y30LB02 02350003
.*                                                             @Y30LB02 02400003
.* VERB    REQUIRED PARMS        OPTIONAL PARMS                @Y30LB02 02450003
.*                                                             @Y30LB02 02500003
.*ICBSUSP  MF=L                  MF=(L,MAP) - BAL              @Y30LB02 02550003
.*         MF(L,NAME/(R)         MF(L,NAME/(R),ATTR)-PLS       @Y30LB02 02600003
.*                                                             @Y30LB02 02650003
.*                                                             @Y30LB02 02700003
.*   STANDARD FORM                                             @Y30LB02 02750003
.*                                                             @Y30LB02 02800003
.* VERB    REQUIRED PARMS        OPTIONAL PARMS                @Y30LB02 02850003
.*                                                             @Y30LB02 02900003
.*ICBSUSP  FLAGS=ADDR/(R)                                      @Y30LB02 02950003
.*                                                             @Y30LB02 03000003
.* EXECUTE FORM                                                @Y30LB02 03050003
.*                                                             @Y30LB02 03100003
.* VERB    REQUIRED PARMS        OPTIONAL PARMS                @Y30LB02 03150003
.*                                                             @Y30LB02 03200003
.*ICBSUSP  MF(E,NAME/(R))       MF(E,NAME/(R),COMPLETE)-PLS    @Y30LB02 03250003
.*                              FLAGS=ADDR/(R)                 @Y30LB02 03300003
.*                                                             @Y30LB02 03350003
.*                                                             @Y30LB02 03400003
.*   KEYWORD PARAMETERS:                                       @Y30LB02 03450003
.*                                                             @Y30LB02 03500003
.*   MF  -  MACRO FORMAT: THIS PARAMETER DESCRIBES THE         @Y30LB02 03550003
.*          MACRO FORMAT AND MAY GIVE THE ADDRESS OR           @Y30LB02 03600003
.*          ADDRESS IN A REGISTER WHERE THE REQUEST BLOCK      @Y30LB02 03650003
.*          IS STORED.                                         @Y30LB02 03700003
.*                                                             @Y30LB02 03750003
.*          L - LIST FORM: THE EXPANSION OF THE L-FORM         @Y30LB02 03800003
.*              MACRO WILL RESULT IN A REQUEST BLOCK WITH      @Y30LB02 03850003
.*              THE ONLY NON-ZERO FIELDS BEING THE OPCODE      @Y30LB02 03900003
.*              AND LENGTH FIELDS.                             @Y30LB02 03950003
.*                                                             @Y30LB02 04000003
.*          (1) 'MAP' - IF MAP IS SPECIFIED WITH THE           @Y30LB02 04050003
.*              ASSEMBLER MACRO CALL A DSECT EQUIVALENT TO     @Y30LB02 04100003
.*              A MAPPING MACRO IS PRODUCED.                   @Y30LB02 04150003
.*                                                             @Y30LB02 04200003
.*          (2) NAME - THE MACRO INVOKER MUST SPECIFY A        @Y30LB02 04250003
.*              NAME FOR HIS STRUCTURE WHEN INVOKING THE       @Y30LB02 04300003
.*              PLS LIST FORM.                                 @Y30LB02 04350003
.*                                                             @Y30LB02 04400003
.*          (3) ATTRIBUTE - THE MACRO WILL PLACE ANY PLS       @Y30LB02 04450003
.*              ATTRIBUTE SPECIFIED IN THE MACRO INVOCATION    @Y30LB02 04500003
.*              IN AN UNINITIALIZED REQUEST BLOCK.  ATTRI-     @Y30LB02 04550003
.*              BUTE EXAMPLE:                                  @Y30LB02 04600003
.*                                                             @Y30LB02 04650003
.*              CHAR, FIXED, STATIC LOCAL, NONLOCAL,           @Y30LB02 04700003
.*              BASED(*), ETC.                                 @Y30LB02 04750003
.*                                                             @Y30LB02 04800003
.*       NULL - STANDARD FORM: THE EXPANSION OF THIS FORM      @Y30LB02 04850003
.*              CONSISTS OF A REQUEST BLOCK, A LINKAGE         @Y30LB02 04900003
.*              INSTRUCTION, AND, POSSIBLY, PARAMETER          @Y30LB02 04950003
.*              BINDING INSTRUCTION.                           @Y30LB02 05000003
.*                                                             @Y30LB02 05050003
.*          E - EXECUTABLE FORM: THE EXPANSION OF THIS FORM    @Y30LB02 05100003
.*              CONSISTS OF A LINKAGE INSTRUCTION AND          @Y30LB02 05150003
.*              POSSIBLY, PARAMETER BINDING INSTRUCTIONS.      @Y30LB02 05200003
.*                                                             @Y30LB02 05250003
.*              SUB-PARAMETERS                                 @Y30LB02 05300003
.*                                                             @Y30LB02 05350003
.*              (1)  AN E MUST BE SPECIFIED IN THE FIRST       @Y30LB02 05400003
.*                   SUB-PARAMETER POSITION.  THIS INDICATES   @Y30LB02 05450003
.*                   THAT THE MACRO IS IN EXECUTABLE FORM.     @Y30LB02 05500003
.*                                                             @Y30LB02 05550003
.*              (2)  A NAME OR A REGISTER MUST BE SPECIFIED    @Y30LB02 05600003
.*                   IN THE SECOND SUB-PARAMETER.              @Y30LB02 05650003
.*                                                             @Y30LB02 05700003
.*              (3)  'COMPLETE' - COMPLETE WILL CAUSE THE      @Y30LB02 05750003
.*                   MACRO TO ZERO OUT THE REQUEST BLOCK.      @Y30LB02 05800003
.*                   AFTER ZEROING THE REQUEST BLOCK THE       @Y30LB02 05850003
.*                   FUNCTION OPCODE AND LENGTH ARE PLACED     @Y30LB02 05900003
.*                   IN THE REQUEST BLOCK.                     @Y30LB02 05950003
.*                                                             @Y30LB02 06000003
.*   FLAGS - THE 2 BYTE FIELD WHICH INDICATES FUNCTION TO      @Y30LB02 06050003
.*   BE PERFORMED.  THE FORMAT OF THE FLAGS FIELD IS AS        @Y30LB02 06100003
.*   FOLLOWS:                                                  @Y30LB02 06150003
.*                                                             @Y30LB02 06200003
.*     ----------------------------------------------          @ZD00155 06250003
.*     | X | X | X |     BITS 3-15 --- ALL ZEROS    |          @ZD00155 06300003
.*     ----------------------------------------------          @ZD00155 06350003
.*                                                             @Y30LB02 06400003
.*   BIT 0------------'1'B     IMMEDIATE SHUTDOWN              @Y30LB02 06450003
.*                    '0'B     NO FUNCTION                     @Y30LB02 06500003
.*                                                             @Y30LB02 06550003
.*   BIT 1------------'1'B     RECONFIGURATION SHUTDOWN        @Y30LB02 06600003
.*                    '0'B     NO FUNCTION                     @Y30LB02 06650003
.*                                                             @Y30LB02 06700003
.*   BIT 2------------'1'B     PREPARE TO SWAP MSCS            @ZD00155 06710003
.*                    '0'B     NO FUNCTION                     @Y30LB02 06720003
.*                                                             @Y30LB02 06730003
.*   BITS 3-15------------    |NOT USED - ALWAYS ZERO|         @Y30LB02 06750003
.*                                                             @Y30LB02 06800003
.*      IMMEDIATE SHUTDOWN:                                    @Y30LB02 06850003
.*                                                             @Y30LB02 06900003
.*      THIS FUNCTION IS PERFORMED FOR MSC ACTIVITY ON BEHALF  @Y30LB02 06910003
.*      OF THE INTERFACE ISSUING THE ORDER ONLY.               @Y30LB02 06920003
.*      IF THE ISSUING INTERFACE IS NOT THAT OF THE PRIMARY    @Y30LB02 06930003
.*      HOST PROCESSOR, THE INTERFACE IS DEINITIALIZED AND NO  @Y30LB02 06940003
.*      FURTHER ACTION IS TAKEN BY THE MSC FOR THIS COMMAND.   @Y30LB02 06942003
.*      USE OF THIS ATTRIBUTE CAUSES ALL STAGING/DESTAGING     @Y30LB02 06950003
.*      IN PROGRESS TO BE COMPLETED. IF TRACE IS ON, THE TRACE @Y30LB02 07000003
.*      END RECORD IS WRITTEN.                                 @Y30LB02 07010003
.*      ALL CARTRIDGES ARE RETURNED TO THEIR CELLS             @Y30LB02 07020003
.*      AND THE INTERFACE IS DEINITIALIZED.                    @Y30LB02 07030003
.*                                                             @Y30LB02 07100003
.*      RECONFIGURATION SHUTDOWN:                              @Y30LB02 07150003
.*                                                             @Y30LB02 07200003
.*      THIS FUNCTION IS PERFORMED ONLY WHEN ISSUED BY THE     @Y30LB02 07210003
.*      PRIMARY HOST CPU PROCESSOR.                            @Y30LB02 07220003
.*      USE OF THIS ATTRIBUTE CAUSES ALL MOUNTED VOLUMES IN    @Y30LB02 07250003
.*      MSS TO BE DEMOUNTED AND ALL SCHEDULED WORK IN MSS      @Y30LB02 07300003
.*      COMPLETED. IF TRACE IS ON, THE TRACE END RECORD IS     @Y30LB02 07350003
.*      WRITTEN.  THE INTERFACE IS DEINITIALIZED.              @Y30LB02 07350403
.*                                                             @Y30LB02 07360003
.*      PREPARE TO SWAP:                                       @ZD00155 07370003
.*                                                             @ZD00155 07380003
.*      THIS IS USED TO PREPARE THE MSF AND PROCESSORS WHICH   @ZD00155 07390003
.*      ARE USING THE MSF FOR A SWAP TO THE ALTERNATE MSC,     @ZD00155 07392003
.*      AT OPERATOR REQUEST.                                   @ZD00155 07394003
.*      A PREPARE MSC SWAP WILL ONLY BE EXECUTED WHEN RECEIVED @ZD00155 07396003
.*      BY THE MSC FROM THE PRIMARY HOST.                      @ZD00155 07398003
.*      USE OF THIS ATTRIBUTE CAUSES THE STAGE/DESTAGE         @ZD00155 07398403
.*      ACTIVITY CURRENTLY IN PROGRESS TO BE COMPLETED.        @ZD00155 07398803
.*      IF TRACE IS ON, THE TRACE END RECORD IS WRITTEN.       @ZD00155 07399203
.*      A DUMMY MESSAGE IS WRITTEN TO ANY INTERFACE OTHER      @ZD00155 07399603
.*      THAN THE PRIMARY TO CONVEY THE INFORMATION THAT        @ZD00155 07399703
.*      THE SWAP IS TO TAKE PLACE.                             @ZD00155 07399803
.*      NO INTERFACE IS DEINITIALIZED.                         @ZD00155 07399903
.*                                                             @Y30LB02 07400003
.*   BITS 0, 1 AND 2 ARE MUTUALLY EXCLUSIVE                    @ZD00155 07450003
.*                                                             @Y30LB02 07500003
.*                                                             @Y30LB02 07550003
.*01  EXIT-NORMAL = VALID INVOCATION                           @Y30LB02 07600003
.*                                                             @Y30LB02 07650003
.*02     CONDITION = RETURN CODE = 0                           @Y30LB02 07700003
.*                                                             @Y30LB02 07750003
.*02     OUTPUT = REQUESTED ORDER GENERATED FOR THE SVC        @Y30LB02 07800003
.*                                                             @Y30LB02 07850003
.*01  EXIT-ERROR = INVALID INVOCATION                          @Y30LB02 07900003
.*                                                             @Y30LB02 07950003
.*02     CONDITION = RETURN CODE = 12                          @Y30LB02 08000003
.*                                                             @Y30LB02 08050003
.*02     OUTPUT = ERROR MESSAGE AS A COMMENT AT POINT OF       @Y30LB02 08100003
.*                INVOCATION                                   @Y30LB02 08150003
.*                                                             @Y30LB02 08200003
.*01  EXTERNAL REFERENCES = NONE                               @Y30LB02 08250003
.*                                                             @Y30LB02 08300003
.*01  TABLES = NONE                                            @Y30LB02 08350003
.*                                                             @Y30LB02 08400003
.*01  MESSAGES = AS FOLLOWS:                                   @Y30LB02 08450003
.*      ICB602I:  A NAME FOR THE REQUEST BLOCK MUST BE         @Y30LB02 08500003
.*                SPECIFIED IN MF(2)                           @Y30LB02 08550003
.*      ICB604I:  WARNING-ONLY THE MF PARAMETER IS VALID FOR   @Y30LB02 08600003
.*                THE LIST FORM                                @Y30LB02 08650003
.*      ICB607I:  FLAGS MUST BE SPECIFIED FOR STANDARD         @Y30LB02 08700003
.*                FORM MACRO                                   @Y30LB02 08750003
.*      ICB612I:  MF(2) MUST CONTAIN REQ BLK NAME              @Y30LB02 08800003
.*                IF EXEC MACRO FORM REQUESTED                 @Y30LB02 08850003
.*      ICB615I:  INVALID MF PARAMETER SPECIFIED, MUST         @Y30LB02 08900003
.*                BE E, L, OR NULL                             @Y30LB02 08950003
.*                                                             @Y30LB02 09000003
.*01  CONTROL-BLOCKS = NONE                                    @Y30LB02 09050003
.*                                                             @Y30LB02 09100003
.*01  INNER MACROS = NONE                                      @Y30LB02 09150003
.*                                                             @Y30LB02 09200003
.*01  SYSTEM MACRO = NONE                                      @Y30LB02 09250003
.*                                                             @Y30LB02 09300003
.*01  CHANGE-ACTIVITY = S/D X04AC02 AND Y30LB02                @Y30LB02 09350003
 .*                         @ZD00155                           @ZD00155 09360003
.*                                                             @Y30LB02 09400003
.**** END OF SPECIFICATIONS ***                                @Y30LB02 09450003
         MACRO                                                 @Y30LB02 09500003
&SYMBOL  ICBSUSP &MF=,&FLAGS=                                  @Y30LB02 09550003
         LCLB  &ERSW              ERROR SWITCH                 @Y30LB02 09600003
         LCLC  &SUSP              SUSPEND MACRO INSTR INDX     @Y30LB02 09650003
&SUSP    SETC 'SU'.'&SYSNDX'      ASSIGN CHARACTER VALUE       @Y30LB02 09700003
.*                                                             @Y30LB02 09750003
.*       DETERMINATION OF DESIRED MACRO FORM                   @Y30LB02 09800003
.*                                                             @Y30LB02 09850003
         AIF  ('&MF(1)' NE 'L').EFORM       LIST FORM?         @Y30LB02 09900003
         AIF  ('&FLAGS' EQ '').LISTOK                          @Y30LB02 09950003
.WARN    MNOTE 4,'  ICB604I - WARNING-ONLY THE MF PARAMETER '  @Y30LB02 10000003
         MNOTE 4,'  IS VALID FOR THE LIST FORM '               @Y30LB02 10050003
.*                                                             @Y30LB02 10100003
.LISTOK  ANOP                                                  @Y30LB02 10150003
         AIF   ('&MF(2)' EQ 'MAP').LISTDS   DSECT REQUESTED?   @Y30LB02 10200003
*  MACMEAN  MSSC SUSPEND MACRO--INITIALIZED LIST FORM          @Y30LB02 10250003
*  VS1-4/VS2-3 VERSION--06/09/74   LEVEL 00                    @Y30LB02 10300003
&SYMBOL  DS   0F                                               @Y30LB02 10350003
SUSPLEN  DC   F'8'                LENGTH OF SUSPEND REQBLK     @Y30LB02 10400003
SUSPOPC  DC   XL1'22'             SUSPEND  FUNCTION OPCODE     @Y30LB02 10450003
SUSP001  DC   XL1'00'             1-BYTE RESERVED AREA         @Y30LB02 10500003
SUSPFLG  DC   XL2'0000'           2-BYTE FLAGS AREA            @Y30LB02 10550003
         AGO  .FINISH                                          @Y30LB02 10600003
.*                                                             @Y30LB02 10650003
.LISTDS  ANOP                                                  @Y30LB02 10700003
*  MACMEAN  MSSC SUSPEND MACRO--UNINITIALIZED LIST FORM        @Y30LB02 10750003
*  VS1-4/VS2-3 VERSION--06/09/74   LEVEL 00                    @Y30LB02 10800003
ICBSUSP  DSECT                                                 @Y30LB02 10850003
SUSPLEN  DS   F                   LEN SUSPEND REQBLK=8         @Y30LB02 10900003
SUSPOPC  DS   XL1                 SUSPEND OPCODE 22 HEX        @Y30LB02 10950003
SUSP001  DS   XL1                 1-BYTE RESERVED AREA         @Y30LB02 11000003
SUSPFLG  DS   XL2                 2-BYTE FLAGS AREA            @Y30LB02 11050003
         AGO  .FINISH                                          @Y30LB02 11100003
.*                                                             @Y30LB02 11150003
.*       THE FOLLOWING PROCESSING IS ACCOMPLISHED FOR THE      @Y30LB02 11200003
.*       EXECUTABLE MACRO FORM                                 @Y30LB02 11250003
.*                                                             @Y30LB02 11300003
.EFORM   AIF  ('&MF(1)' NE 'E').SFORM       EXECUTE FORM?      @Y30LB02 11350003
         AIF  ('&MF(2)' EQ '').EXFAIL       MF(2) NULL?        @Y30LB02 11400003
.*                                                             @Y30LB02 11450003
*  MACMEAN  MSSC SUSPEND MACRO--EXECUTE FORM                   @Y30LB02 11500003
*  VS1-4/VS2-3 VERSION--06/09/74   LEVEL 00                    @Y30LB02 11550003
&SYMBOL  IHBINNRA &MF(2)           LD ADDR OF REQUEST BLK      @Y30LB02 11600003
.*                                 USING IHBINNRA MACRO        @Y30LB02 11650003
         LA    0,8                 LENGTH OF REQ BLOCK         @Y30LB02 11700003
         ST    0,0(1)              STORE LENGTH IN BLK         @Y30LB02 11750003
         MVI   4(1),X'22'          STORE OPCODE                @Y30LB02 11800003
         AGO  .CKSW1               BR TO CK ERROR SWITCH       @Y30LB02 11850003
.EXFAIL  ANOP                                                  @Y30LB02 11900003
         MNOTE 12,'  ICB612I - MF(2) MUST CONTAIN REQ '        @Y30LB02 11950003
         MNOTE 12,'  BLK NAME IF EXEC MACRO FORM REQUESTED'    @Y30LB02 12000003
&ERSW    SETB 1                   SET ERROR SWITCH TO 1        @Y30LB02 12050003
.*                                                             @Y30LB02 12100003
.CKSW1   AIF  (&ERSW).FINISH      IF ERROR-END PROCESSING      @Y30LB02 12150003
         AGO  .COMMON                                          @Y30LB02 12200003
.*                                                             @Y30LB02 12250003
.*       PROCESSING OF THE STANDARD FORM MACRO                 @Y30LB02 12300003
.*                                                             @Y30LB02 12350003
.SFORM   AIF  ('&MF(1)' NE '').BADFORM      STANDARD FORM?     @Y30LB02 12400003
         AIF  ('&FLAGS' NE '').CKSW2        FLAGS SPECIFIED?   @Y30LB02 12450003
&ERSW    SETB 1                   SET ERROR SWITCH TO 1        @Y30LB02 12500003
         MNOTE 12,'  ICB607I - FLAGS MUST BE SPECIFIED '       @Y30LB02 12550003
         MNOTE 12,'  FOR STANDARD FORM MACRO '                 @Y30LB02 12600003
         AGO  .CKSW2                                           @Y30LB02 12650003
.*                                                             @Y30LB02 12700003
.BADFORM ANOP                                                  @Y30LB02 12750003
&ERSW    SETB 1                   SET ERROR SWITCH TO 1        @Y30LB02 12800003
         MNOTE 12,'  ICB615I - INVALID MF PARAMETER '          @Y30LB02 12850003
         MNOTE 12,'  SPECIFIED, MUST BE L, E, OR NULL '        @Y30LB02 12900003
.*                                                             @Y30LB02 12950003
.*       THE FOLLOWING CODE CHECKS TO DETERMINE IF THE ERROR   @Y30LB02 13000003
.*       SWITCH IS ON.  IF YES, PROCESSING IS TERMINATED, OTHER@Y30LB02 13050003
.*       WISE STANDARD FORM MACRO PROCESSING WILL BE CON-      @Y30LB02 13100003
.*       TINUED                                                @Y30LB02 13150003
.*                                                             @Y30LB02 13200003
.CKSW2   AIF  (&ERSW).FINISH      IF YES-END PROCESSING        @Y30LB02 13250003
*  MACMEAN  MSSC SUSPEND MACRO--STANDARD FORM                  @Y30LB02 13300003
*  VS1-4/VS2-3 VERSION--06/09/74   LEVEL 00                    @Y30LB02 13350003
         CNOP 0,4                                              @Y30LB02 13400003
&SYMBOL  BAL  1,&SUSP             BRANCH AROUND REQ BLOCK      @Y30LB02 13450003
SUSPPTR  DC   A(&SUSP-*)          LENGTH OF REQUEST BLOCK      @Y30LB02 13500003
SUSPOPC  DC   XL1'22'             SUSPEND FUNCTION OPCODE      @Y30LB02 13550003
SUSP001  DC   XL1'00'             1-BYTE RESERVED AREA         @Y30LB02 13600003
SUSPFLG  DC   XL2'0000'           2-BYTE FLAGS AREA            @Y30LB02 13650003
&SUSP    EQU  *                                                @Y30LB02 13700003
.*                                                             @Y30LB02 13750003
.*       THE FOLLOWING CODE CHECKS FOR VALID PARAMETERS IF     @Y30LB02 13800003
.*       STANDARD FOR EXECUTE FORM MACRO IS SPECIFIED.         @Y30LB02 13850003
.*       IF PARAMETERS ARE SPECIFIED, THEY WILL BE STORED      @Y30LB02 13900003
.*       IN THE REQUEST BLOCK.                                 @Y30LB02 13950003
.*                                                             @Y30LB02 14000003
.COMMON  AIF  ('&FLAGS' EQ '').INVOKE       FLAGS SPECIFIED?   @Y30LB02 14050003
         AIF  ('&FLAGS'(1,1) EQ '(').FLREG  FLAGS IN REG-FORM? @Y30LB02 14100003
         MVC  6(2,1),&FLAGS       PUT FLAGS IN REQ BLK         @Y30LB02 14150003
         AGO  .INVOKE             BRANCH TO CK TIME/DATE       @Y30LB02 14200003
.*                                                             @Y30LB02 14250003
.FLREG   ANOP                                                  @Y30LB02 14300003
         MVC  6(2,1),0(&FLAGS(1)) REGFORM,FLAGS IN BLOCK       @Y30LB02 14350003
.*                                                             @Y30LB02 14400003
.INVOKE  ANOP                                                  @Y30LB02 14450003
         SVC  126                                              @Y30LB02 14500003
.FINISH  MEND                                                  @Y30LB02 14550003
**/                                                                     14600003
*/*                                                          @Y30LB02*/ 14650003
*   ICBSUSP: MACRO KEYS(MF,FLAGS);                         /*@Y30LB02*/ 14700003
*/*                                                          @Y30LB02*/ 14750003
*/*                     EXTERNAL DECLARES                    @Y30LB02*/ 14800003
*/*********************************************************  @Y30LB02*/ 14850003
*/*      SUSPTEST IS USED TO DETERMINE WHETHER THE STANDARD  @Y30LB02*/ 14900003
*/*      FORM MACRO HAS BEEN INVOKED MORE THAN ONCE BY THE   @Y30LB02*/ 14950003
*/*      SAME CALLER.                                        @Y30LB02*/ 15000003
*/*********************************************************  @Y30LB02*/ 15050003
*/*      SUTESTR1 WILL BE USED TO DETERMINE IF IT IS NECES-  @Y30LB02*/ 15100003
*/*      SARY TO DECLARE R1 OR WHETHER IT IS ALREADY DCLD    @Y30LB02*/ 15150003
*/*********************************************************  @Y30LB02*/ 15200003
*/*                                                          @Y30LB02*/ 15250003
*   DCL  SUTESTR1  FIXED  EXT;    /*REG1 DECLARE COUNTER     @Y30LB02*/ 15300003
*   DCL  SUSPTEST  FIXED  EXT;    /*STANDARD INVOC COUNTER   @Y30LB02*/ 15350003
*/*                                                          @Y30LB02*/ 15400003
*/*      INTERNAL DECLARES                                   @Y30LB02*/ 15450003
*   DCL  SUPOP    CHAR;      /*DEFINE SUSPEND OPCODE         @Y30LB02*/ 15500003
*   DCL  SUPLEN   CHAR;      /*DECLARE LENGTH OF ORDER       @Y30LB02*/ 15550003
*   DCL  ERSW     FIXED;     /*DECLARE ERROR COND SWITCH     @Y30LB02*/ 15600003
*   DCL  RETCODE  FIXED;     /*DECLARE RETURN CODE AREA      @Y30LB02*/ 15650003
*   DCL  CTR      FIXED;     /*DECLARE CTR FOR LIST FORM     @Y30LB02*/ 15700003
*        ERSW=0;             /*INITIALIZE ERROR SWITCH       @Y30LB02*/ 15750003
*        RETCODE=0;          /*INITIALIZE RETURN CODE        @Y30LB02*/ 15800003
*        SUPLEN='8';         /*INITIALIZE LENGTH FIELD       @Y30LB02*/ 15850003
*        SUPOP='22';         /*INITIALIZE OPCODE FIELD       @Y30LB02*/ 15900003
*        CTR=0;              /*INITIALIZE COUNTER            @Y30LB02*/ 15950003
*/********************************************************   @Y30LB02*/ 16000003
*/*      CHECK FOR VALID MACRO FORM--E INDICATES EXECUTE     @Y30LB02*/ 16050003
*/*      FORM, L INDICATES LIST FORM AND IF THE MF PARA-     @Y30LB02*/ 16100003
*/*      METER IS NULL THE STANDARD FORM MACRO IS INVOKED    @Y30LB02*/ 16150003
*/********************************************************   @Y30LB02*/ 16200003
*        IF SUTESTR1=0 THEN  /*REGISTER ONE DECLARED?        @Y30LB02*/ 16250003
*             DO;            /*NO,DECLARE IT                 @Y30LB02*/ 16300003
*                  ANS('DCL SUSPR1 REG(1) PTR ;/*PTR'||                 16350003
*                  ' TO REQUEST BLOCK @Y30LB02*/')SKIP;                 16400003
*                  SUTESTR1=SUTESTR1+1; /*INCREM REG CTR     @Y30LB02*/ 16450003
*             END;               /*                          @Y30LB02*/ 16500003
*   IF MF(1) ^= 'L' THEN         /*LIST FORM REQUEST?        @Y30LB02*/ 16550003
*        GO TO EFORM;            /*NO,CK FOR EXECUTE         @Y30LB02*/ 16600003
*   IF MF(2) = '' THEN           /*LIST NAME SPECIFIED?      @Y30LB02*/ 16650003
*        DO;                     /*NO,PRINT ERROR MSG        @Y30LB02*/ 16700003
*             ERSW=1;            /*SET ERROR SWITCH          @Y30LB02*/ 16750003
*             RETCODE=12;        /*SET RETURN CODE           @Y30LB02*/ 16800003
*        ANS MSG('  ICB602I -  A NAME FOR THE '||                       16850003
*        'REQUEST BLOCK MUST BE SPECIFIED IN MF(2)')SKIP;  /*@Y30LB02*/ 16900003
*             GO TO FINISH;      /*BRANCH TO END PROCESS     @Y30LB02*/ 16950003
*        END;                 /*                             @Y30LB02*/ 17000003
*/*                                                          @Y30LB02*/ 17050003
*   IF FLAGS ^= '' THEN      /*IS THE FLAGS AREA NULL        @Y30LB02*/ 17100003
*        CTR=CTR+1;          /*INCREMENT PARAMETER COUNTER   @Y30LB02*/ 17150003
*   IF CTR > 0 THEN          /*INCREMENT CTR > ZERO?         @Y30LB02*/ 17200003
*        DO;                 /*GIVE USER WARNING MSG         @Y30LB02*/ 17250003
*             RETCODE=4;     /*SET RETURN CODE TO 4          @Y30LB02*/ 17300003
*             ANS MSG('  ICB604I -  WARNING-ONLY'||                     17350003
*                 ' THE MF PARAMETER IS VALID FOR THE'||                17400003
*                 ' LIST FORM  ')SKIP;                     /*@Y30LB02*/ 17450003
*        END;                  /*                            @Y30LB02*/ 17500003
*    IF MF(3) ^= '' THEN       /*PLS ATTRIBUTE SPECIFIED     @Y30LB02*/ 17550003
*        GO TO ATTRLST;        /*BRCH,PROCESS ATTRIBUTE      @Y30LB02*/ 17600003
*/*                                                          @Y30LB02*/ 17650003
*   ANS('/*******************************************'||                17700003
*       '************** @Y30LB02*/')SKIP;                               17750003
*   ANS('/*    MACMEAN  MSSC SUSPEND MACRO           '||                17800003
*       '               @Y30LB02*/')SKIP;                               17850003
*   ANS('/*VS1-4/VS2-3 VERSION--06/09/74 LEVEL 00    '||                17900003
*       '               @Y30LB02*/')SKIP;                               17950003
*   ANS('/*THIS IS THE INITIALIZED LIST FORM         '||                18000003
*       '               @Y30LB02*/')SKIP;                               18050003
*   ANS('/*******************************************'||                18100003
*       '************** @Y30LB02*/')SKIP;                               18150003
*             ANS('DCL 1 '||MF(2)||' STATIC LOCAL,'||                   18200003
*             ' /*SUSPEND REQUEST BLOCK @Y30LB02*/')SKIP;               18250003
*             ANS('    2  SUSPLEN  FIXED(31)INIT('||QUOTE               18300003
*             ('08')||'X),/*LENGTH OF SUSPEND REQ BLK @Y30LB02*/')SKIP; 18350003
*             ANS('    2  SUSPOP  CHAR(1)INIT('||QUOTE('22')||          18400003
*             'X),/*SUSPEND OPCODE @Y30LB02*/')SKIP;                    18450003
*             ANS('    2  *      CHAR(1)INIT('||QUOTE('00')||           18500003
*             'X),/*RESERVED AND ZERO @Y30LB02*/')SKIP;                 18550003
*             ANS('    2  SUSPFLG BIT(16)INIT('||QUOTE                  18600003
*             ('0000000000000000')||'B),/*TWO BYTE ATTRI'||             18650003
*             'BUTE AREA @Y30LB02*/')SKIP;                              18700003
*             ANS('       3  SUPIMED BIT(1),/*SUSPEND'||                18750003
*             ' IMMEDIATE ATTRIBUTE @Y30LB02*/')SKIP;                   18800003
*             ANS('       3  SUPRCON BIT(1),/*SUSPEND'||                18850003
*             ' RECONFIGURATION ATTRIBUTE @Y30LB02*/')SKIP;             18900003
*             ANS('       3  SUPPRSW BIT(1),/*SUSPEND'||                18910003
*             ' PREPARE TO SWAP MSCS ATTRIBUTE @ZD00155*/')SKIP;        18920003
*             ANS('       3  *      BIT(13);/*RESERVED AND'||           18950003
*             ' MUST BE ZERO @ZD00155*/')SKIP;                          19000003
*             GO TO FINISH;    /*BRANCH TO END PROCESSING    @Y30LB02*/ 19050003
*/*                                                          @Y30LB02*/ 19100003
*ATTRLST:                                                               19150003
*   ANS('/*******************************************'||                19200003
*       '************** @Y30LB02*/')SKIP;                               19250003
*   ANS('/*     MACMEAN  MSSC SUSPEND MACRO          '||                19300003
*       '               @Y30LB02*/')SKIP;                               19350003
*   ANS('/*VS1-4/VS2-3 VERSION--06/09/74 LEVEL 00    '||                19400003
*       '               @Y30LB02*/')SKIP;                               19450003
*   ANS('/*THIS IS THE UNINITIALIZED LIST FORM       '||                19500003
*       '               @Y30LB02*/')SKIP;                               19550003
*   ANS('/*******************************************'||                19600003
*       '************** @Y30LB02*/')SKIP;                               19650003
*             ANS('DCL 1 '||MF(2)||' '||MF(3)||','||                    19700003
*             ' /*SUSPEND REQUEST BLOCK @Y30LB02*/')SKIP;               19750003
*             ANS('    2  SUSPLEN  FIXED(31),/*LENG'||                  19800003
*             'TH OF SUSPEND REQBLK = 8 BYTES @Y30LB02*/')SKIP;         19850003
*             ANS('    2  SUSPOP  CHAR(1),'||                           19900003
*             '/*SUSPEND OPCODE = 22 HEX @Y30LB02*/')SKIP;              19950003
*             ANS('    2  *      CHAR(1),'||                            20000003
*             '/*RESERVED AND ZERO @Y30LB02*/')SKIP;                    20050003
*             ANS('    2  SUSPFLG BIT(16),'||                           20100003
*             '/*TWO BYTE ATTRIBUTE AREA @Y30LB02*/')SKIP;              20150003
*             ANS('       3  SUPIMED BIT(1),/*SUSPEND'||                20200003
*             ' IMMEDIATE ATTRIBUTE @Y30LB02*/')SKIP;                   20250003
*             ANS('       3  SUPRCON BIT(1),/*SUSPEND'||                20300003
*             ' RECONFIGURATION ATTRIBUTE @Y30LB02*/')SKIP;             20350003
*             ANS('       3  SUPPRSW BIT(1),/*SUSPEND'||                20360003
*             ' PREPARE TO SWAP MSCS ATTRIBUTE @ZD00155*/')SKIP;        20370003
*             ANS('       3  *      BIT(13);/*RESERVED AND'||           20400003
*             ' MUST BE ZERO @ZD00155*/')SKIP;                          20450003
*             GO TO FINISH;   /*BRANCH TO END PROCESSING     @Y30LB02*/ 20500003
*/*                                                          @Y30LB02*/ 20550003
*/*      PROCESSING THE EXECUTE MACRO FORM                   @Y30LB02*/ 20600003
*/*                                                          @Y30LB02*/ 20650003
*EFORM:                                                                 20700003
*   IF MF(1) ^= 'E' THEN      /*EXECUTE FORM?                @Y30LB02*/ 20750003
*        GO TO SFORM;         /*NO,CK FOR STANDARD?          @Y30LB02*/ 20800003
*   IF MF(2) = '' THEN        /*YES,NAME SPECIFIED?          @Y30LB02*/ 20850003
*        DO;                  /*NO,PRINT ERROR MSG           @Y30LB02*/ 20900003
*             ERSW=1;         /*SET ERROR SWITCH             @Y30LB02*/ 20950003
*             RETCODE=12;     /*SET RETURN CODE              @Y30LB02*/ 21000003
*             ANS MSG('  ICB612I - MF(2) MUST '||                       21050003
*                'CONTAIN REQ BLK NAME IF '||                           21100003
*                'EXEC MACRO FORM REQUESTED ')SKIP;        /*@Y30LB02*/ 21150003
*             GO TO CKSW;     /*BRANCH TO CK ERROR SWITCH    @Y30LB02*/ 21200003
*        END;                 /*                             @Y30LB02*/ 21250003
*/*                                                          @Y30LB02*/ 21300003
*   ELSE                       /*REQUEST TO ZERO BLOCK?      @Y30LB02*/ 21350003
*   ANS('/*******************************************'||                21400003
*       '************* @Y30LB02*/')SKIP;                                21450003
*   ANS('/*     MACMEAN  MSSC SUSPEND MACRO          '||                21500003
*       '              @Y30LB02*/')SKIP;                                21550003
*   ANS('/*VS1-4/VS2-3 VERSION-- 06/09/74 LEVEL 00   '||                21600003
*       '              @Y30LB02*/')SKIP;                                21650003
*   ANS('/*THIS IS THE OUTPUT FOR THE EXECUTE FORM.  '||                21700003
*       '              @Y30LB02*/')SKIP;                                21750003
*   ANS('/*THE LIST FORM OF THIS MACRO SHOULD BE     '||                21800003
*       '              @Y30LB02*/')SKIP;                                21850003
*   ANS('/*INVOKED FIRST IN ORDER TO SET UP NECESSARY'||                21900003
*       '              @Y30LB02*/')SKIP;                                21950003
*   ANS('/*DECLARES.  IF THE COMPLETE ARGUMENT IS    '||                22000003
*       '              @Y30LB02*/')SKIP;                                22050003
*   ANS('/*SPECIFIED THE REQ BLOCK WILL BE ZEROED.   '||                22100003
*       '              @Y30LB02*/')SKIP;                                22150003
*   ANS('/*******************************************'||                22200003
*       '************* @Y30LB02*/')SKIP;                                22250003
*    IF MF(3) = 'COMPLETE' THEN   /*COMPLETE SPECIFIED?      @Y30LB02*/ 22300003
*      DO;                        /*YES,ZERO BLOCK           @Y30LB02*/ 22350003
*        ANS(' '||MF(2)||'='||MF(2)||'&&'||MF(2)||';'||    /*@Y30LB02*/ 22400003
*        '/*ZERO OUT REQUEST BLOCK @Y30LB02*/')SKIP;                    22450003
*      END;                  /*                              @Y30LB02*/ 22500003
*/*                                                          @Y30LB02*/ 22550003
*        ANS('RFY(SUSPR1)RSTD;/*RESTRICT REG1 @Y30LB02*/')SKIP;         22600003
*        ANS('SUSPR1=ADDR('||MF(2)||');/*R1 POINTER TO'||               22650003
*        ' REQUEST BLOCK @Y30LB02*/')SKIP;                              22700003
*        ANS('SUSPLEN= '||QUOTE(SUPLEN)||'X;/*LENGTH '||                22750003
*        'OF SUSPEND REQUEST @Y30LB02*/')SKIP;                          22800003
*        ANS('SUSPOP= '||QUOTE(SUPOP)||'X;/*SUSPEND'||                  22850003
*        ' OPCODE @Y30LB02*/')SKIP;                                     22900003
*        GO TO COMPROC;    /*BRANCH,CK PARAMETERS            @Y30LB02*/ 22950003
*/*                                                          @Y30LB02*/ 23000003
*CKSW:                                                                  23050003
*   IF ERSW=1 THEN         /*ERROR SWITCH SET?               @Y30LB02*/ 23100003
*        GO TO FINISH;     /*BRANCH TO END PROCESSING        @Y30LB02*/ 23150003
*   ELSE                   /*CONTINUE PROCESSING             @Y30LB02*/ 23200003
*        GO TO COMPROC;    /*BRANCH,CK PARAMETERS            @Y30LB02*/ 23250003
*/*                                                          @Y30LB02*/ 23300003
*SFORM:                                                                 23350003
*   IF MF(1) ^= '' THEN    /*STANDARD FORM?                  @Y30LB02*/ 23400003
*     DO;                  /*NO,PRINT ERROR MESSAGE          @Y30LB02*/ 23450003
*        ERSW=1;           /*SET ERROR SWITCH                @Y30LB02*/ 23500003
*        RETCODE=12;       /*SET RETURN CODE TO 12           @Y30LB02*/ 23550003
*        ANS MSG('  ICB615I - INVALID MF PARAMETER '||                  23600003
*             'SPECIFIED, MUST BE L, E, OR NULL')SKIP;     /*@Y30LB02*/ 23650003
*        GO TO CKSW2;      /*BRANCH,CHECK ERROR SWITCH       @Y30LB02*/ 23700003
*     END;                 /*                                @Y30LB02*/ 23750003
*/*                                                          @Y30LB02*/ 23800003
*   IF FLAGS = '' THEN     /*FLAGS PARAMETER SPECIFIED?      @Y30LB02*/ 23850003
*     DO;                  /*NO,PRINT ERROR MESSAGE          @Y30LB02*/ 23900003
*        ERSW=1;           /*SET ERROR SWITCH TO ONE         @Y30LB02*/ 23950003
*        RETCODE=12;       /*SET RETURN CODE TO 12           @Y30LB02*/ 24000003
*        ANS MSG('  ICB607I - FLAGS MUST BE SPECIFIED '||               24050003
*        'FOR STANDARD FORM MACRO')SKIP;                   /*@Y30LB02*/ 24100003
*     END;                 /*                                @Y30LB02*/ 24150003
*/*                                                          @Y30LB02*/ 24200003
*CKSW2:                                                                 24250003
*/*                                                          @Y30LB02*/ 24300003
*   IF ERSW = 1 THEN       /*ERROR SWITCH EQUAL ONE?         @Y30LB02*/ 24350003
*        GO TO FINISH;     /*BRANCH TO END PROCESSING        @Y30LB02*/ 24400003
*/*                                                          @Y30LB02*/ 24450003
*   IF SUSPTEST = 1 THEN  /*STD FORM REQUESTED BEFORE?       @Y30LB02*/ 24500003
*     DO;                 /*YES,DON'T PUT OUT DECLARES       @Y30LB02*/ 24550003
*   ANS('/*******************************************'||                24600003
*       '************** @Y30LB02*/')SKIP;                               24650003
*   ANS('/*     MACMEAN  MSSC SUSPEND MACRO          '||                24700003
*       '               @Y30LB02*/')SKIP;                               24750003
*   ANS('/*VS1-4/VS2-3 VERSION--06/09/74 LEVEL 00    '||                24800003
*       '               @Y30LB02*/')SKIP;                               24850003
*   ANS('/*THIS IS THE OUTPUT FOR A SECONDARY        '||                24900003
*       '               @Y30LB02*/')SKIP;                               24950003
*   ANS('/*INVOCATION OF THE STANDARD FORM MACRO     '||                25000003
*       '               @Y30LB02*/')SKIP;                               25050003
*   ANS('/*******************************************'||                25100003
*       '************** @Y30LB02*/')SKIP;                               25150003
*        ANS('RFY(SUSPR1)RSTD;/*RESTRICT REG1 @Y30LB02*/')SKIP;         25200003
*        ANS('SUSPR1=ADDR(SUSPLEN);/*R1 PTR TO BLK @Y30LB02*/')SKIP;    25250003
*        ANS('SUSPLEN= '||QUOTE(SUPLEN)||'X;/*LENGTH '||                25300003
*        'OF SUSPEND REQUEST @Y30LB02*/')SKIP;                          25350003
*        ANS('SUSPOP='||QUOTE(SUPOP)||'X;/*SUSPEND'||                   25400003
*        ' OPCODE @Y30LB02*/')SKIP;                                     25450003
*        GO TO COMPROC;       /*BRANCH,CK PARAMETERS         @Y30LB02*/ 25500003
*     END;                    /*                             @Y30LB02*/ 25550003
*/*                                                          @Y30LB02*/ 25600003
*   ELSE                      /*STD FORM 1ST TIME            @Y30LB02*/ 25650003
*     DO;                     /*PRINT DECLARES               @Y30LB02*/ 25700003
*   ANS('/*******************************************'||                25750003
*       '************** @Y30LB02*/')SKIP;                               25800003
*   ANS('/*     MACMEAN  MSSC SUSPEND MACRO          '||                25850003
*       '               @Y30LB02*/')SKIP;                               25900003
*   ANS('/*VS1-4/VS2-3 VERSION--06/09/74 LEVEL 00    '||                25950003
*       '               @Y30LB02*/')SKIP;                               26000003
*   ANS('/*INVOCATION OF THE STANDARD FORM MACRO     '||                26050003
*       '               @Y30LB02*/')SKIP;                               26100003
*   ANS('/*******************************************'||                26150003
*       '*********** @Y30LB02*/')SKIP;                                  26200003
*        ANS('RFY(SUSPR1)RSTD;/*RESTRICT REG1 @Y30LB02*/')SKIP;         26250003
*        ANS('SUSPR1=ADDR(SUSPLEN);/*R1 PTR  '||                        26300003
*        'TO BLOCK @Y30LB02*/')SKIP;                                    26350003
*        ANS('DCL 1 SUSPLST  STATIC LOCAL,'||                           26400003
*        ' /*SUSPEND REQUEST BLOCK @Y30LB02*/')SKIP;                    26450003
*        ANS('    2  SUSPLEN  FIXED(31)INIT('||QUOTE                    26500003
*        ('08')||'X),/*LENGTH OF SUSPEND REQ BLK @Y30LB02*/')SKIP;      26550003
*        ANS('    2  SUSPOP  CHAR(1)INIT('||QUOTE('22')||               26600003
*        'X),/*SUSPEND OPCODE @Y30LB02*/')SKIP;                         26650003
*        ANS('    2  *      CHAR(1)INIT('||QUOTE('00')||                26700003
*        'X),/*RESERVED AND ZERO @Y30LB02*/')SKIP;                      26750003
*        ANS('    2  SUSPFLG BIT(16)INIT('||QUOTE                       26800003
*        ('0000000000000000')||'B),/*TWO BYTE ATTRI'||                  26850003
*        'BUTE AREA @Y30LB02*/')SKIP;                                   26900003
*        ANS('       3  SUPIMED BIT(1),/*SUSPEND'||                     26950003
*        ' IMMEDIATE ATTRIBUTE @Y30LB02*/')SKIP;                        27000003
*        ANS('       3  SUPRCON BIT(1),/*SUSPEND'||                     27050003
*        ' RECONFIGURATION ATTRIBUTE @Y30LB02*/')SKIP;                  27100003
*        ANS('       3  SUPPRSW BIT(1),/*SUSPEND'||                     27110003
*        ' PREPARE TO SWAP MSCS ATTRIBUTE @ZD00155*/')SKIP;             27120003
*        ANS('       3  *      BIT(13);/*RESERVED AND'||                27150003
*        ' MUST BE ZERO @ZD00155*/')SKIP;                               27200003
*        SUSPTEST=SUSPTEST+1;  /*INCREM STD FORM CTR         @Y30LB02*/ 27250003
*        GO TO COMPROC;        /*BRANCH TO CK PARAMETERS     @Y30LB02*/ 27300003
*     END;                     /*                            @Y30LB02*/ 27350003
*/*                                                          @Y30LB02*/ 27400003
*/*********************************************************  @Y30LB02*/ 27450003
*/*      COMMON PROCESSING FOR EXECUTE AND STANDARD FORMS    @Y30LB02*/ 27500003
*/*      THE FOLLOWING CODE WILL CHECK TO DETERMINE WHAT     @Y30LB02*/ 27550003
*/*      PARAMETERS ARE SPECIFIED AND PLACE THE VALUE IN     @Y30LB02*/ 27600003
*/*      THE REQUEST BLOCK                                   @Y30LB02*/ 27650003
*/*********************************************************  @Y30LB02*/ 27700003
*COMPROC:                                                               27750003
*   IF FLAGS ^= '' THEN   /*FLAGS SPECIFIED?                 @Y30LB02*/ 27800003
*        ANS('SUSPFLG= '||FLAGS||';/*VALUE OF FLAGS '||                 27850003
*        'PARAMETER @Y30LB02*/')SKIP;                                   27900003
*/*                                                          @Y30LB02*/ 27950003
*/********************************************************   @Y30LB02*/ 28000003
*/*      THE FOLLOWING CODE WILL INVOKE SVC 126.             @Y30LB02*/ 28050003
*/*      THE RETURN CODE IS SET AND PROCESSING ENDS.         @Y30LB02*/ 28100003
*/********************************************************   @Y30LB02*/ 28150003
*        ANS('SVC (126);/*INVOKE  SVC 126 @Y30LB02*/')SKIP;             28200003
*        ANS('RFY  SUSPR1 UNRSTD;/*UNRESTRICT REG 1 @Y30LB02*/')SKIP;   28250003
*/*                                                          @Y30LB02*/ 28300003
*FINISH:                                                                28350003
*        RETURN CODE(RETCODE);                             /*@Y30LB02*/ 28400003
*        %END;                                             /*@Y30LB02*/ 28450003
