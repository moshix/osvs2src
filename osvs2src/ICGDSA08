         TITLE 'ICGDSA08 MSC TABLE CREATE, CONFIGURATION VERIFICATION  *00001000
                        '                                               00002000
ICGDSA08 CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(16)                                             0001 00007000
         DC    C'ICGDSA08  76.337'                                 0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00010000
         BALR  @12,0                                               0001 00011000
@PSTART  DS    0H                                                  0001 00012000
         USING @PSTART,@12                                         0001 00013000
         L     @00,@SIZDATD                                        0001 00014000
         GETMAIN  R,LV=(0)                                              00015000
         LR    @11,@01                                             0001 00016000
         USING @DATD,@11                                           0001 00017000
         ST    @13,@SA00001+4                                      0001 00018000
         LM    @00,@01,20(@13)                                     0001 00019000
         ST    @11,8(,@13)                                         0001 00020000
         LR    @13,@11                                             0001 00021000
         XC    @ZTEMPS(@ZLEN),@ZTEMPS                                   00022000
*                                                                  0024 00023000
*/********************************************************** @Y30LB15*/ 00024000
*/*                                                          @Y30LB15*/ 00025000
*/*   ICGDSA08 - MAINLINE                                    @Y30LB15*/ 00026000
*/*                                                          @Y30LB15*/ 00027000
*/* CALL ROUTINE TO CHECK DSM INTERFACES TO THE LIBRARIES    @Y30LB15*/ 00028000
*/* AGAINST DSM INTERFACES TO DSS TO BE SURE NONE ARE        @Y30LB15*/ 00029000
*/* THE SAME.                                                @Y30LB15*/ 00030000
*/*                                                          @Y30LB15*/ 00031000
*/********************************************************** @Y30LB15*/ 00032000
*                                                                  0024 00033000
*   CALL LIBNOTDS;                  /*                       @Y30LB15*/ 00034000
         BAL   @14,LIBNOTDS                                        0024 00035000
*/********************************************************** @Y30LB15*/ 00036000
*/*                                                          @Y30LB15*/ 00037000
*/* CALL ROUTINE TO INSURE THAT IF VIRTUAL ADDRESSES ARE     @Y30LB15*/ 00038000
*/* DEFINED FOR A DATA STAGER/CHANNEL INTERFACE THAT AN      @Y30LB15*/ 00039000
*/* INTERFACE IS DEFINED TO THE LIBRARY ALSO.                @Y30LB15*/ 00040000
*/*                                                          @Y30LB15*/ 00041000
*/********************************************************** @Y30LB15*/ 00042000
*                                                                  0025 00043000
*   CALL LIBVIRT;                   /*                       @Y30LB15*/ 00044000
         BAL   @14,LIBVIRT                                         0025 00045000
*/********************************************************** @Y30LB15*/ 00046000
*/*                                                          @Y30LB15*/ 00047000
*/* CALL ROUTINE TO CHECK SPINDLES, LOWERCON, AND UPPERCON   @Y30LB15*/ 00048000
*/* STATEMENTS TO BE SURE DSS ARE DEFINED IN ALL NOT IN JUST @Y30LB15*/ 00049000
*/* ONE OR TWO.                                              @Y30LB15*/ 00050000
*/*                                                          @Y30LB15*/ 00051000
*/********************************************************** @Y30LB15*/ 00052000
*                                                                  0026 00053000
*   CALL DSDEFINE;                  /*                       @Y30LB15*/ 00054000
         BAL   @14,DSDEFINE                                        0026 00055000
*   RETURN;                         /*                       @Y30LB15*/ 00056000
@EL00001 L     @13,4(,@13)                                         0027 00057000
@EF00001 L     @00,@SIZDATD                                        0027 00058000
         LR    @01,@11                                             0027 00059000
         FREEMAIN R,LV=(0),A=(1)                                        00060000
@ER00001 LM    @14,@12,12(@13)                                     0027 00061000
         BR    @14                                                 0027 00062000
*                                                                  0028 00063000
*/********************************************************** @Y30LB15*/ 00064000
*/*                                                          @Y30LB15*/ 00065000
*/* PROCEDURE NAME - LIBNOTDS                                @Y30LB15*/ 00066000
*/*                                                          @Y30LB15*/ 00067000
*/* FUNCTION - FOR EACH OF THE FOUR LIBRARIES NOTE THE       @Y30LB15*/ 00068000
*/*            DSM INTERFACES AND BE SURE THAT THE ADDRESSES @YD00113*/ 00069000
*/*            ARE NOT USED FOR DS ADDRESSES AS WELL AS      @YD00113*/ 00070000
*/*            LIBRARY ADDRESSES.  THE DSM CAN ADDRESS 16    @YD00113*/ 00071000
*/*            DEVICES, 0 THRU F.  IF 2 DEVICES ARE USING    @YD00113*/ 00072000
*/*            THE SAME INTERFACE, PRINT AN ERROR MESSAGE.   @YD00113*/ 00073000
*/*                                                          @YD00113*/ 00074000
*/*            THE FOLLOWING MESSAGE IS ISSUED BY THIS       @YD00113*/ 00075000
*/*            ROUTINE:                                      @YD00113*/ 00076000
*/*                                                          @YD00113*/ 00077000
*/*            ICG326I IDENTIFICATION OF LOGICAL MSF X ALSO  @YD00113*/ 00078000
*/*                    USED BY SA X.                         @YD00113*/ 00079000
*/*                                                          @Y30LB15*/ 00080000
*/********************************************************** @Y30LB15*/ 00081000
*                                                                  0028 00082000
*LIBNOTDS:                                                         0028 00083000
*   PROCEDURE;                      /*                       @Y30LB15*/ 00084000
LIBNOTDS STM   @14,@12,@SA00002                                    0028 00085000
*DOI:                                                              0029 00086000
*   DO I=1 TO 4;                    /*                       @Y30LB15*/ 00087000
DOI      LA    I,1                                                 0029 00088000
@DL00029 DS    0H                                                  0030 00089000
*     IF LIBSPEC(I)='1'B            /*                       @Y30LB15*/ 00090000
*       THEN                        /*                       @Y30LB15*/ 00091000
         LR    @10,I                                               0030 00092000
         MH    @10,@CH00128                                        0030 00093000
         ST    @10,@TF00001                                        0030 00094000
         ALR   @10,R4                                              0030 00095000
         TM    LIBSPEC-12(@10),B'10000000'                         0030 00096000
         BNO   @RF00030                                            0030 00097000
*       DO;                         /*                       @Y30LB15*/ 00098000
*                                                                  0031 00099000
*         /***********************************************************/ 00100000
*         /*                                                         */ 00101000
*         /* **********************************************  @YD00113*/ 00102000
*         /* IF THE LOGICAL MSF (I) IS SPECIFIED (LIBSPEC    @Y30LB12*/ 00103000
*         /* = '1'B), THEN CALCULATE THE INDICES OF THE 3    @Y30LB12*/ 00104000
*         /* MATCHING UPPER INTERFACES (J, J+1, AND J+2) AND @Y30LB12*/ 00105000
*         /* VERIFY THAT NONE OF THESE INTERFACES ARE USED.  @Y30LB12*/ 00106000
*         /* **********************************************  @YD00113*/ 00107000
*         /*                                                         */ 00108000
*         /***********************************************************/ 00109000
*                                                                  0032 00110000
*         J=(LIBDSMID(I)+1)*3-2;    /*                       @Y30LB15*/ 00111000
         LA    J,1                                                 0032 00112000
         LR    @10,R4                                              0032 00113000
         AL    @10,@TF00001                                        0032 00114000
         MVC   @ZT00003+3(1),LIBDSMID-12(@10)                      0032 00115000
         AL    J,@ZT00003                                          0032 00116000
         MH    J,@CH00048                                          0032 00117000
         BCTR  J,0                                                 0032 00118000
         BCTR  J,0                                                 0032 00119000
*DOK:                                                              0033 00120000
*         DO K=J TO J+2;            /*                       @Y30LB15*/ 00121000
DOK      LR    K,J                                                 0033 00122000
         B     @DE00033                                            0033 00123000
@DL00033 DS    0H                                                  0034 00124000
*           IF CISPEC(K)='1'B       /*                       @Y30LB15*/ 00125000
*             THEN                  /*                       @Y30LB15*/ 00126000
         LR    @10,K                                               0034 00127000
         MH    @10,@CH00112                                        0034 00128000
         L     @01,COMPTR2(,R4)                                    0034 00129000
         ALR   @01,@10                                             0034 00130000
         TM    CISPEC-9(@01),B'10000000'                           0034 00131000
         BNO   @RF00034                                            0034 00132000
*             DO;                   /*                       @Y30LB15*/ 00133000
*               OUTBUF2(1:58)=A08MSG26;/*                    @Y30LB15*/ 00134000
         MVC   OUTBUF2(58,R4),A08MSG26                             0036 00135000
*               DSCHAR=I-1;         /* LOGICAL MSF NUM.      @Y30LB12*/ 00136000
         LR    @10,I                                               0037 00137000
         BCTR  @10,0                                               0037 00138000
         STC   @10,DSCHAR                                          0037 00139000
*               TR(DSCHAR,TRTABLE); /* TRANSLATE IT          @Y30LB12*/ 00140000
         TR    DSCHAR(1),TRTABLE                                   0038 00141000
*               OUTBUF2(40)=DSCHAR; /* TO PRINT BUFFER       @Y30LB12*/ 00142000
         MVC   OUTBUF2+39(1,R4),DSCHAR                             0039 00143000
*               DSCHAR=LIBDSMID(I); /*                       @Y30LB15*/ 00144000
         LR    @10,I                                               0040 00145000
         MH    @10,@CH00128                                        0040 00146000
         ALR   @10,R4                                              0040 00147000
         MVC   DSCHAR(1),LIBDSMID-12(@10)                          0040 00148000
*               TR(DSCHAR,TRTABLE); /*                       @Y30LB15*/ 00149000
         TR    DSCHAR(1),TRTABLE                                   0041 00150000
*               OUTBUF2(58)=DSCHAR; /*                       @Y30LB15*/ 00151000
         MVC   OUTBUF2+57(1,R4),DSCHAR                             0042 00152000
*               CALL PUTIT1;        /*                       @Y30LB15*/ 00153000
         BAL   @14,PUTIT1                                          0043 00154000
*               K=J+2;              /*                       @Y30LB15*/ 00155000
         LA    K,2                                                 0044 00156000
         ALR   K,J                                                 0044 00157000
*             END;                  /*                       @Y30LB15*/ 00158000
*           ELSE                                                   0046 00159000
*             ;                     /*                       @Y30LB15*/ 00160000
@RF00034 DS    0H                                                  0047 00161000
*         END DOK;                  /*                       @Y30LB15*/ 00162000
         AH    K,@CH00042                                          0047 00163000
@DE00033 LA    @10,2                                               0047 00164000
         ALR   @10,J                                               0047 00165000
         CR    K,@10                                               0047 00166000
         BNH   @DL00033                                            0047 00167000
*       END;                        /*                       @Y30LB15*/ 00168000
*   END DOI;                        /*                       @Y30LB15*/ 00169000
@RF00030 AH    I,@CH00042                                          0049 00170000
         CH    I,@CH00068                                          0049 00171000
         BNH   @DL00029                                            0049 00172000
*   END LIBNOTDS;                   /*                       @Y30LB15*/ 00173000
@EL00002 DS    0H                                                  0050 00174000
@EF00002 DS    0H                                                  0050 00175000
@ER00002 LM    @14,@12,@SA00002                                    0050 00176000
         BR    @14                                                 0050 00177000
*                                                                  0051 00178000
*/********************************************************** @Y30LB15*/ 00179000
*/*                                                          @Y30LB15*/ 00180000
*/* PROCEDURE NAME - LIBVIRT                                 @Y30LB15*/ 00181000
*/*                                                          @Y30LB15*/ 00182000
*/* FUNCTION - THERE ARE 3 POSSIBLE UPPER INTERFACES TO THE  @Y30LB15*/ 00183000
*/*            DS AND 64 POSSIBLE UCBS FOR EACH INTERFACE    @YD00113*/ 00184000
*/*            IF ANY OF THE INTERFACES IS DEFINED AS        @YD00113*/ 00185000
*/*            VIRTUAL, OR AS AN ALTERNATE PATH, THERE MUST  @YD00113*/ 00186000
*/*            ALSO BE A PATH FROM THE SDG TO EACH LIBRARY.  @YD00143*/ 00187000
*/*                                                          @YD00143*/ 00188000
*/*            IF ONE OR MORE VIRTUAL ADDRESSES ARE          @YD00143*/ 00189000
*/*            SPECIFIED THROUGH THE STAGING ADAPTER, EITHER @YD00143*/ 00190000
*/*            'TORSG1' OR BOTH 'TORSG1' AND 'TORSG2' IN THE @YD00143*/ 00191000
*/*            STRUCTURE 'DSTORSG' CONTAIN VALUES OTHER THAN @YD00143*/ 00192000
*/*            'FF'X TO INDICATE THE ONE OR TWO STAGING      @YD00143*/ 00193000
*/*            DRIVE GROUPS THAT ARE SPECIFIED THROUGH THE   @YD00143*/ 00194000
*/*            STAGING ADAPTER.                              @YD00143*/ 00195000
*/*                                                          @YD00143*/ 00196000
*/*            USING FIRST 'TORSG1' AND THEN 'TORSG2'        @YD00143*/ 00197000
*/*            (ASSUMING ONE OR BOTH ARE SPECIFIED), LOCATE  @YD00143*/ 00198000
*/*            IN THE STRUCTURE 'BUILDRSG' THE ONE OR TWO    @YD00143*/ 00199000
*/*            STAGING ADAPTER POINTERS ('TODS1' & 'TODS2')  @YD00143*/ 00200000
*/*            FOR THE STAGING DRIVE GROUP.                  @YD00143*/ 00201000
*/*                                                          @YD00143*/ 00202000
*/*            THEN USING THE FLAG 'LIBSPEC' TO VERIFY THE   @YD00143*/ 00203000
*/*            EXISTENCE OF THE MSF IN THE CONFIGURATION,    @YD00143*/ 00204000
*/*            MAKE SURE THAT EITHER ONE OR THE OTHER OF     @YD00143*/ 00205000
*/*            THE TWO POSSIBLE SA'S INTERFACES TO EACH OF   @YD00143*/ 00206000
*/*            MSFS PRESENT IN THE CONFIGURATION.            @YD00143*/ 00207000
*/*                                                          @YD00143*/ 00208000
*/*            IF A PATH IS NOT FOUND, AN ERROR MESSAGE IS   @YD00143*/ 00209000
*/*            ISSUED VIA PUTIT1.                            @YD00113*/ 00210000
*/*                                                          @YD00113*/ 00211000
*/*            THE FOLLOWING MESSAGE IS ISSUED BY THIS       @YD00113*/ 00212000
*/*            ROUTINE:                                      @YD00113*/ 00213000
*/*                                                          @YD00113*/ 00214000
*/*            ICG327I NO MSFX PATH FOR SDG XX (SA=X)        @YD00143*/ 00215000
*/*                                                          @Y30LB15*/ 00216000
*/********************************************************** @Y30LB15*/ 00217000
*                                                                  0051 00218000
*LIBVIRT:                                                          0051 00219000
*   PROCEDURE;                      /*                       @Y30LB15*/ 00220000
LIBVIRT  STM   @14,@12,@SA00003                                    0051 00221000
*   DO I=1 TO MAXSA;                /* CHECK EACH SA         @YD00143*/ 00222000
*                                                                  0052 00223000
         LA    I,1                                                 0052 00224000
@DL00052 DS    0H                                                  0053 00225000
*     /***************************************************************/ 00226000
*     /*                                                             */ 00227000
*     /* ***********************************************     @YD00143*/ 00228000
*     /* A VIRTUAL ADDRESS WAS SPECIFIED THROUGH ONE OF      @YD00143*/ 00229000
*     /* CHANNEL INTERFACES (B, C, OR D) IF 'TORSG1'         @YD00143*/ 00230000
*     /* CONTAINS ANYTHING OTHER THAN 'FF'X.                 @YD00143*/ 00231000
*     /* ***********************************************     @YD00143*/ 00232000
*     /*                                                             */ 00233000
*     /***************************************************************/ 00234000
*                                                                  0053 00235000
*     IF TORSG1(I)^='FF'X           /*                       @YD00143*/ 00236000
*       THEN                        /*                       @YD00143*/ 00237000
         LR    @10,I                                               0053 00238000
         ALR   @10,@10                                             0053 00239000
         L     @05,COMPTR2(,R4)                                    0053 00240000
         ST    @10,@TF00001                                        0053 00241000
         ALR   @10,@05                                             0053 00242000
         AL    @10,@CF00448                                        0053 00243000
         CLI   TORSG1(@10),X'FF'                                   0053 00244000
         BE    @RF00053                                            0053 00245000
*       DO;                         /*                       @YD00143*/ 00246000
*                                                                  0054 00247000
*         /***********************************************************/ 00248000
*         /*                                                         */ 00249000
*         /* *****************************************       @YD00143*/ 00250000
*         /* DEVELOP INDEX TO LOCATE TODS1 AND TODS2         @YD00143*/ 00251000
*         /* IN THE STRUCTURE BUILDRSG.                      @YD00143*/ 00252000
*         /* *****************************************       @YD00143*/ 00253000
*         /*                                                         */ 00254000
*         /***********************************************************/ 00255000
*                                                                  0055 00256000
*         J=TORSG1(I)+1;            /*                       @YD00143*/ 00257000
         LA    J,1                                                 0055 00258000
         AL    @05,@TF00001                                        0055 00259000
         AL    @05,@CF00448                                        0055 00260000
         MVC   @ZT00003+3(1),TORSG1(@05)                           0055 00261000
         AL    J,@ZT00003                                          0055 00262000
*         CALL LIBVIRT2;            /*                       @YD00143*/ 00263000
         BAL   @14,LIBVIRT2                                        0056 00264000
*       END;                        /*                       @YD00143*/ 00265000
*                                                                  0057 00266000
*     /***************************************************************/ 00267000
*     /*                                                             */ 00268000
*     /* ***********************************************     @YD00143*/ 00269000
*     /* PERFORM SAME OPERATIONS FOR SECOND SDG              @YD00143*/ 00270000
*     /* ***********************************************     @YD00143*/ 00271000
*     /*                                                             */ 00272000
*     /***************************************************************/ 00273000
*                                                                  0058 00274000
*     IF TORSG2(I)^='FF'X           /*                       @YD00143*/ 00275000
*       THEN                        /*                       @YD00143*/ 00276000
@RF00053 LR    @10,I                                               0058 00277000
         ALR   @10,@10                                             0058 00278000
         L     @05,COMPTR2(,R4)                                    0058 00279000
         ST    @10,@TF00001                                        0058 00280000
         ALR   @10,@05                                             0058 00281000
         AL    @10,@CF00449                                        0058 00282000
         CLI   TORSG2-1(@10),X'FF'                                 0058 00283000
         BE    @RF00058                                            0058 00284000
*       DO;                         /*                       @YD00143*/ 00285000
*                                                                  0059 00286000
*         /***********************************************************/ 00287000
*         /*                                                         */ 00288000
*         /* *****************************************       @YD00143*/ 00289000
*         /* DEVELOP INDEX TO LOCATE TODS1 AND TODS2         @YD00143*/ 00290000
*         /* IN THE STRUCTURE BUILDRSG.                      @YD00143*/ 00291000
*         /* *****************************************       @YD00143*/ 00292000
*         /*                                                         */ 00293000
*         /***********************************************************/ 00294000
*                                                                  0060 00295000
*         J=TORSG2(I)+1;            /*                       @YD00143*/ 00296000
         LA    J,1                                                 0060 00297000
         AL    @05,@TF00001                                        0060 00298000
         AL    @05,@CF00449                                        0060 00299000
         MVC   @ZT00003+3(1),TORSG2-1(@05)                         0060 00300000
         AL    J,@ZT00003                                          0060 00301000
*         CALL LIBVIRT2;            /*                       @YD00143*/ 00302000
         BAL   @14,LIBVIRT2                                        0061 00303000
*       END;                        /*                       @YD00143*/ 00304000
*   END;                            /* END OF DO I           @YD00143*/ 00305000
@RF00058 AH    I,@CH00042                                          0063 00306000
         CH    I,@CH00162                                          0063 00307000
         BNH   @DL00052                                            0063 00308000
*   END LIBVIRT;                    /*                       @YD00143*/ 00309000
@EL00003 DS    0H                                                  0064 00310000
@EF00003 DS    0H                                                  0064 00311000
@ER00003 LM    @14,@12,@SA00003                                    0064 00312000
         BR    @14                                                 0064 00313000
*                                                                  0065 00314000
*/********************************************************** @YD00143*/ 00315000
*/*                                                          @YD00143*/ 00316000
*/* PROCEDURE NAME - LIBVIRT2                                @YD00143*/ 00317000
*/*                                                          @YD00143*/ 00318000
*/* FUNCTION - TODS1 AND TODS2 ARE FILLED IN BY THE          @YD00143*/ 00319000
*/*            DASD CONTROL STATEMENT.  IF NO DASD           @YD00143*/ 00320000
*/*            WAS SUPPLIED (CAUGHT IN OTHER ERROR           @YD00143*/ 00321000
*/*            MESSAGES), USE THE CURRENT STAGING            @YD00143*/ 00322000
*/*            ADAPTER INDEX IN PLACE OF THE MISSING         @YD00143*/ 00323000
*/*            VALUES.  NOTE THAT IN ANY CASE TODS2          @YD00143*/ 00324000
*/*            IS OPTIONAL AND MAY NOT BE PRESENT.           @YD00143*/ 00325000
*/*                                                          @YD00143*/ 00326000
*/********************************************************** @YD00143*/ 00327000
*                                                                  0065 00328000
*LIBVIRT2:                                                         0065 00329000
*   PROCEDURE;                      /*                       @YD00143*/ 00330000
LIBVIRT2 STM   @14,@12,@SA00004                                    0065 00331000
*   IF TODS1(J)^='FF'X              /*                       @YD00143*/ 00332000
*     THEN                          /*                       @YD00143*/ 00333000
         LR    @10,J                                               0066 00334000
         MH    @10,@CH00112                                        0066 00335000
         ST    @10,@TF00001                                        0066 00336000
         ALR   @10,R4                                              0066 00337000
         CLI   TODS1-9(@10),X'FF'                                  0066 00338000
         BE    @RF00066                                            0066 00339000
*     K=TODS1(J)+1;                 /* FIRST SA              @YD00143*/ 00340000
         LA    K,1                                                 0067 00341000
         LR    @10,R4                                              0067 00342000
         AL    @10,@TF00001                                        0067 00343000
         MVC   @ZT00003+3(1),TODS1-9(@10)                          0067 00344000
         AL    K,@ZT00003                                          0067 00345000
*   ELSE                            /*                       @YD00143*/ 00346000
*     K=I;                          /* CURRENT SA            @YD00143*/ 00347000
         B     @RC00066                                            0068 00348000
@RF00066 LR    K,I                                                 0068 00349000
*   IF TODS2(J)^='FF'X              /*                       @YD00143*/ 00350000
*     THEN                          /*                       @YD00143*/ 00351000
@RC00066 LR    @10,J                                               0069 00352000
         MH    @10,@CH00112                                        0069 00353000
         ST    @10,@TF00001                                        0069 00354000
         ALR   @10,R4                                              0069 00355000
         CLI   TODS2-9(@10),X'FF'                                  0069 00356000
         BE    @RF00069                                            0069 00357000
*     L=TODS2(J)+1;                 /* SECOND SA             @YD00143*/ 00358000
         LA    L,1                                                 0070 00359000
         LR    @10,R4                                              0070 00360000
         AL    @10,@TF00001                                        0070 00361000
         MVC   @ZT00003+3(1),TODS2-9(@10)                          0070 00362000
         AL    L,@ZT00003                                          0070 00363000
*   ELSE                            /*                       @YD00143*/ 00364000
*     L=I;                          /* CURRENT SA            @YD00143*/ 00365000
*                                                                  0071 00366000
         B     @RC00069                                            0071 00367000
@RF00069 LR    L,I                                                 0071 00368000
*   /*****************************************************************/ 00369000
*   /*                                                               */ 00370000
*   /* ***********************************************       @YD00143*/ 00371000
*   /* NOW READY TO CHECK WHETHER ONE OR BOTH                @YD00143*/ 00372000
*   /* OF THE STAGING ADAPTERS HAS A PATH TO                 @YD00143*/ 00373000
*   /* EACH SPECIFIED MSF.                                   @YD00143*/ 00374000
*   /* ***********************************************       @YD00143*/ 00375000
*   /*                                                               */ 00376000
*   /*****************************************************************/ 00377000
*                                                                  0072 00378000
*   CALL LIBVIRT3;                  /*                       @YD00143*/ 00379000
@RC00069 BAL   @14,LIBVIRT3                                        0072 00380000
*   END LIBVIRT2;                   /*                       @YD00143*/ 00381000
@EL00004 DS    0H                                                  0073 00382000
@EF00004 DS    0H                                                  0073 00383000
@ER00004 LM    @14,@12,@SA00004                                    0073 00384000
         BR    @14                                                 0073 00385000
*                                                                  0074 00386000
*/********************************************************** @YD00143*/ 00387000
*/*                                                          @YD00143*/ 00388000
*/* PROCEDURE NAME - LIBVIRT3                                @YD00143*/ 00389000
*/*                                                          @YD00143*/ 00390000
*/* FUNCTION - DETERMINE IF EACH POSSIBLE LOGICAL MSF IS     @YD00143*/ 00391000
*/*            PRESENT IN THE CONFIGURATION AND, IF THE MSF  @YD00143*/ 00392000
*/*            IS PRESENT, SAVE ITS IDENTIFICATION IN        @YD00143*/ 00393000
*/*            CHARACTER FORM FOR COMPARISON TO THE FIELD    @YD00143*/ 00394000
*/*            'LOWLIB' AND CALL LIBVIRT4.                   @YD00143*/ 00395000
*/*                                                          @YD00143*/ 00396000
*/********************************************************** @YD00143*/ 00397000
*                                                                  0074 00398000
*LIBVIRT3:                                                         0074 00399000
*   PROCEDURE;                      /*                       @YD00143*/ 00400000
LIBVIRT3 STM   @14,@12,@SA00005                                    0074 00401000
*   IF LIBSPEC(1)='1'B              /* MSF0 PRESENT          @YD00143*/ 00402000
*     THEN                          /*                       @YD00143*/ 00403000
         TM    LIBSPEC(R4),B'10000000'                             0075 00404000
         BNO   @RF00075                                            0075 00405000
*     DO;                           /*                       @YD00143*/ 00406000
*       COMPMSF='0';                /*                       @YD00143*/ 00407000
         MVI   COMPMSF,C'0'                                        0077 00408000
*       CALL LIBVIRT4;              /*                       @YD00143*/ 00409000
         BAL   @14,LIBVIRT4                                        0078 00410000
*     END;                          /*                       @YD00143*/ 00411000
*   IF LIBSPEC(2)='1'B              /* MSF1 PRESENT          @YD00143*/ 00412000
*     THEN                          /*                       @YD00143*/ 00413000
@RF00075 TM    LIBSPEC+12(R4),B'10000000'                          0080 00414000
         BNO   @RF00080                                            0080 00415000
*     DO;                           /*                       @YD00143*/ 00416000
*       COMPMSF='1';                /*                       @YD00143*/ 00417000
         MVI   COMPMSF,C'1'                                        0082 00418000
*       CALL LIBVIRT4;              /*                       @YD00143*/ 00419000
         BAL   @14,LIBVIRT4                                        0083 00420000
*     END;                          /*                       @YD00143*/ 00421000
*   IF LIBSPEC(3)='1'B              /* MSF2 PRESENT          @YD00143*/ 00422000
*     THEN                          /*                       @YD00143*/ 00423000
@RF00080 TM    LIBSPEC+24(R4),B'10000000'                          0085 00424000
         BNO   @RF00085                                            0085 00425000
*     DO;                           /*                       @YD00143*/ 00426000
*       COMPMSF='2';                /*                       @YD00143*/ 00427000
         MVI   COMPMSF,C'2'                                        0087 00428000
*       CALL LIBVIRT4;              /*                       @YD00143*/ 00429000
         BAL   @14,LIBVIRT4                                        0088 00430000
*     END;                          /*                       @YD00143*/ 00431000
*   IF LIBSPEC(4)='1'B              /* MSF3 PRESENT          @YD00143*/ 00432000
*     THEN                          /*                       @YD00143*/ 00433000
@RF00085 TM    LIBSPEC+36(R4),B'10000000'                          0090 00434000
         BNO   @RF00090                                            0090 00435000
*     DO;                           /*                       @YD00143*/ 00436000
*       COMPMSF='3';                /*                       @YD00143*/ 00437000
         MVI   COMPMSF,C'3'                                        0092 00438000
*       CALL LIBVIRT4;              /*                       @YD00143*/ 00439000
         BAL   @14,LIBVIRT4                                        0093 00440000
*     END;                          /*                       @YD00143*/ 00441000
*   END LIBVIRT3;                   /*                       @YD00143*/ 00442000
@EL00005 DS    0H                                                  0095 00443000
@EF00005 DS    0H                                                  0095 00444000
@ER00005 LM    @14,@12,@SA00005                                    0095 00445000
         BR    @14                                                 0095 00446000
*                                                                  0096 00447000
*/********************************************************** @YD00143*/ 00448000
*/*                                                          @YD00143*/ 00449000
*/* PROCEDURE NAME - LIBVIRT4                                @YD00143*/ 00450000
*/*                                                          @YD00143*/ 00451000
*/* FUNCTION - CHECK THE FIELD 'LIB' IN THE STRUCTURE        @YD00143*/ 00452000
*/*            LOWERCON TO MAKE SURE THAT ONE OF THE STAGING @YD00143*/ 00453000
*/*            ADAPTERS INTERFACES TO THE MSF INDICATED BY   @YD00143*/ 00454000
*/*            'COMPMSF'.  IF NO MATCH, WRITE MESSAGE        @YD00143*/ 00455000
*/*            ICG327I NO MSFX PATH FOR SDG XX (SA=X)        @YD00143*/ 00456000
*/*                                                          @YD00143*/ 00457000
*/********************************************************** @YD00143*/ 00458000
*                                                                  0096 00459000
*LIBVIRT4:                                                         0096 00460000
*   PROCEDURE;                      /*                       @YD00143*/ 00461000
LIBVIRT4 STM   @14,@12,@SA00006                                    0096 00462000
*   LWFNDSWT='0'B;                  /* RESET FOUND SW        @YD00143*/ 00463000
*                                                                  0097 00464000
         NI    LWFNDSWT,B'01111111'                                0097 00465000
*   /*****************************************************************/ 00466000
*   /*                                                               */ 00467000
*   /* ***********************************************       @YD00143*/ 00468000
*   /* 'I' IS THE CURRENT STAGING ADAPTER. 'K' IS            @YD00143*/ 00469000
*   /* THE FIRST SA SPECIFIED IN THE DASD CONTROL            @YD00143*/ 00470000
*   /* STATEMENT. 'L' IS THE (OPTIONAL) SECOND SA            @YD00143*/ 00471000
*   /* SPECIFIED IN THE DASD STATEMENT. EITHER I=K           @YD00143*/ 00472000
*   /* OR I=L. IT IS POSSIBLE THAT I=K=L.                    @YD00143*/ 00473000
*   /* 'M' IS THE 'CUXX' SPECIFIED IN THE LOWERCON           @YD00143*/ 00474000
*   /* STATEMENT.                                            @YD00143*/ 00475000
*   /* ***********************************************       @YD00143*/ 00476000
*   /*                                                               */ 00477000
*   /*****************************************************************/ 00478000
*                                                                  0098 00479000
*   DO M=1 TO 4;                    /*                       @YD00143*/ 00480000
         LA    M,1                                                 0098 00481000
@DL00098 DS    0H                                                  0099 00482000
*     IF LOWLIB(I,M)=COMPMSF        /*                       @YD00143*/ 00483000
*         |LOWLIB(K,M)=COMPMSF      /*                       @YD00143*/ 00484000
*         |LOWLIB(L,M)=COMPMSF      /*                       @YD00143*/ 00485000
*       THEN                        /*                       @YD00143*/ 00486000
         LR    @10,I                                               0099 00487000
         SLA   @10,2                                               0099 00488000
         ALR   @10,M                                               0099 00489000
         ALR   @10,@10                                             0099 00490000
         ALR   @10,R4                                              0099 00491000
         CLC   LOWLIB-10(1,@10),COMPMSF                            0099 00492000
         BE    @RT00099                                            0099 00493000
         LR    @10,K                                               0099 00494000
         SLA   @10,2                                               0099 00495000
         ALR   @10,M                                               0099 00496000
         ALR   @10,@10                                             0099 00497000
         ALR   @10,R4                                              0099 00498000
         CLC   LOWLIB-10(1,@10),COMPMSF                            0099 00499000
         BE    @RT00099                                            0099 00500000
         LR    @10,L                                               0099 00501000
         SLA   @10,2                                               0099 00502000
         ALR   @10,M                                               0099 00503000
         ALR   @10,@10                                             0099 00504000
         ALR   @10,R4                                              0099 00505000
         CLC   LOWLIB-10(1,@10),COMPMSF                            0099 00506000
         BNE   @RF00099                                            0099 00507000
@RT00099 DS    0H                                                  0100 00508000
*       LWFNDSWT='1'B;              /* FOUND MATCH           @YD00143*/ 00509000
         OI    LWFNDSWT,B'10000000'                                0100 00510000
*   END;                            /*                       @YD00143*/ 00511000
*                                                                  0101 00512000
@RF00099 AH    M,@CH00042                                          0101 00513000
         CH    M,@CH00068                                          0101 00514000
         BNH   @DL00098                                            0101 00515000
*   /*****************************************************************/ 00516000
*   /*                                                               */ 00517000
*   /* ***********************************************       @YD00143*/ 00518000
*   /* IF THE SDG DOES NOT HAVE A PATH TO THE MSF,           @YD00143*/ 00519000
*   /* WRITE MESSAGE ICG327I NO MSFX PATH FOR SDGXX          @YD00143*/ 00520000
*   /* (SA=X)                                                @YD00143*/ 00521000
*   /* ***********************************************       @YD00143*/ 00522000
*   /*                                                               */ 00523000
*   /*****************************************************************/ 00524000
*                                                                  0102 00525000
*   IF LWFNDSWT='0'B                /*                       @YD00143*/ 00526000
*     THEN                          /*                       @YD00143*/ 00527000
         TM    LWFNDSWT,B'10000000'                                0102 00528000
         BNZ   @RF00102                                            0102 00529000
*     DO;                           /*                       @YD00143*/ 00530000
*       OUTBUF2(1:39)=ICGDS327;     /*                       @YD00143*/ 00531000
         MVC   OUTBUF2(39,R4),ICGDS327                             0104 00532000
*       OUTBUF2(16)=COMPMSF;        /*                       @YD00143*/ 00533000
         MVC   OUTBUF2+15(1,R4),COMPMSF                            0105 00534000
*       OUTBUF2(31:32)=PRINTSDG(J); /*                       @YD00143*/ 00535000
         LR    @10,J                                               0106 00536000
         ALR   @10,@10                                             0106 00537000
         LA    @07,PRINTSDG-2(@10)                                 0106 00538000
         MVC   OUTBUF2+30(2,R4),0(@07)                             0106 00539000
*       OUTBUF2(38)=TRTABLE(I);     /*                       @YD00143*/ 00540000
         LA    @10,TRTABLE-1(I)                                    0107 00541000
         MVC   OUTBUF2+37(1,R4),0(@10)                             0107 00542000
*       CALL PUTIT1;                /* TO MESSAGE WRITER     @YD00143*/ 00543000
         BAL   @14,PUTIT1                                          0108 00544000
*     END;                          /*                       @YD00143*/ 00545000
*   END LIBVIRT4;                   /*                       @YD00143*/ 00546000
@EL00006 DS    0H                                                  0110 00547000
@EF00006 DS    0H                                                  0110 00548000
@ER00006 LM    @14,@12,@SA00006                                    0110 00549000
         BR    @14                                                 0110 00550000
*                                                                  0111 00551000
*/********************************************************** @Y30LB15*/ 00552000
*/*                                                          @Y30LB15*/ 00553000
*/* PROCEDURE NAME - DSDEFINE                                @Y30LB15*/ 00554000
*/*                                                          @Y30LB15*/ 00555000
*/* FUNCTION - FOR EACH OF 16 POSSIBLE STAGING ADAPTER       @Y30LB12*/ 00556000
*/*            ADDRESSES, DETERMINE IF A DASD CONTROL        @Y30LB12*/ 00557000
*/*            STATEMENT AND A LOWERCON CONTROL STATEMENT    @Y30LB12*/ 00558000
*/*            WERE SUPPLIED IN THE INPUT STREAM.  SET THE   @Y30LB12*/ 00559000
*/*            FLAG SPNDLSWT FOR A DASD STATEMENT AND SET    @Y30LB12*/ 00560000
*/*            LWCONSWT FOR A LOWERCON STATEMENT.  CALL THE  @Y30LB12*/ 00561000
*/*            PRODEDURE UPCONCHK TO CROSS-CHECK AGAINST     @Y30LB12*/ 00562000
*/*            THE PRESENCE OR ABSENCE OF AN UPPERCON        @Y30LB12*/ 00563000
*/*            STATEMENT.                                    @Y30LB12*/ 00564000
*/*                                                          @Y30LB15*/ 00565000
*/********************************************************** @Y30LB15*/ 00566000
*                                                                  0111 00567000
*DSDEFINE:                                                         0111 00568000
*   PROCEDURE;                      /*                       @Y30LB15*/ 00569000
DSDEFINE STM   @14,@12,@SA00007                                    0111 00570000
*DOI2:                                                             0112 00571000
*   DO I=1 TO 16;                   /*                       @Y30LB15*/ 00572000
DOI2     LA    I,1                                                 0112 00573000
@DL00112 DS    0H                                                  0113 00574000
*     SPNDLSWT='0'B;                /*                       @Y30LB15*/ 00575000
*     LWCONSWT='0'B;                /*                       @Y30LB15*/ 00576000
         NI    SPNDLSWT,B'10011111'                                0114 00577000
*     DSCHAR=I-1;                   /*                       @Y30LB15*/ 00578000
         LR    @10,I                                               0115 00579000
         BCTR  @10,0                                               0115 00580000
         STC   @10,DSCHAR                                          0115 00581000
*     TR(DSCHAR,TRTABLE);           /*                       @Y30LB15*/ 00582000
         TR    DSCHAR(1),TRTABLE                                   0116 00583000
*/*  ******************************************************* @YD00113*/ 00584000
*/*   DETERMINE FOR THIS STAGING ADAPTER (I) IF ANY DASD     @Y30LB12*/ 00585000
*/*   CONTROLLER (J) AND PHYSICAL SPINDLE (K) HAS BEEN USED  @Y30LB12*/ 00586000
*/*   BY EXAMINING THE PHYSICAL DEVICE BITS (MERLICEB).      @Y30LB12*/ 00587000
*/*   IF ANY PHYSICAL DEVICE OF THE POSSIBLE 32 DEVICES FOR  @Y30LB12*/ 00588000
*/*   THIS STAGING ADAPTER HAS BEEN SPECIFIED, SET THE FLAG  @Y30LB12*/ 00589000
*/*   SPINDLSWT TO '1'B.                                     @Y30LB12*/ 00590000
*/*  ******************************************************* @YD00113*/ 00591000
*                                                                  0117 00592000
*DOJ2:                                                             0117 00593000
*     DO J=1 TO 4;                  /*                       @Y30LB15*/ 00594000
DOJ2     LA    J,1                                                 0117 00595000
@DL00117 DS    0H                                                  0118 00596000
*DOK2:                                                             0118 00597000
*       DO K=1 TO 8;                /*                       @Y30LB15*/ 00598000
DOK2     LA    K,1                                                 0118 00599000
@DL00118 DS    0H                                                  0119 00600000
*         IF MERLICEB(I,J,K)^='00'B /*                       @Y30LB15*/ 00601000
*           THEN                    /*                       @Y30LB15*/ 00602000
         LR    @10,I                                               0119 00603000
         SLA   @10,2                                               0119 00604000
         ALR   @10,J                                               0119 00605000
         SLA   @10,3                                               0119 00606000
         ALR   @10,K                                               0119 00607000
         ALR   @10,@10                                             0119 00608000
         ALR   @10,R4                                              0119 00609000
         TM    MERLICEB-82(@10),B'11000000'                        0119 00610000
         BZ    @RF00119                                            0119 00611000
*           DO;                     /*                       @Y30LB15*/ 00612000
*             SPNDLSWT='1'B;        /*                       @Y30LB15*/ 00613000
         OI    SPNDLSWT,B'01000000'                                0121 00614000
*             K=8;                  /*                       @Y30LB15*/ 00615000
         LA    K,8                                                 0122 00616000
*             J=4;                  /*                       @Y30LB15*/ 00617000
         LA    J,4                                                 0123 00618000
*           END;                    /*                       @Y30LB15*/ 00619000
*         ELSE                                                     0125 00620000
*           ;                       /*                       @Y30LB15*/ 00621000
@RF00119 DS    0H                                                  0126 00622000
*       END DOK2;                   /*                       @Y30LB15*/ 00623000
         AH    K,@CH00042                                          0126 00624000
         CH    K,@CH00040                                          0126 00625000
         BNH   @DL00118                                            0126 00626000
*     END DOJ2;                     /*                       @Y30LB15*/ 00627000
         AH    J,@CH00042                                          0127 00628000
         CH    J,@CH00068                                          0127 00629000
         BNH   @DL00117                                            0127 00630000
*/*  ******************************************************* @YD00113*/ 00631000
*/*   DETERMINE FOR THIS STAGING ADAPTER (I) IF ANY OF THE   @Y30LB12*/ 00632000
*/*   POSSIBLE CONTROL UNIT ADDRESSES (J) TO A DATA          @Y30LB12*/ 00633000
*/*   RECORDING CONTROLLER HAS BEEN USED BY EXAMINING THE    @Y30LB12*/ 00634000
*/*   USE FLAG 'LOWSPEC'.  IF ANY OF THE FOUR POSSIBLE       @Y30LB12*/ 00635000
*/*   CONTROL UNIT ADDRESSES HAS BEEN SPECIFIED, SET THE     @Y30LB12*/ 00636000
*/*   FLAG LWCONSWT TO '1'B.                                 @Y30LB12*/ 00637000
*/*  ******************************************************* @YD00113*/ 00638000
*                                                                  0128 00639000
*     DO J=1 TO 4;                  /*                       @Y30LB15*/ 00640000
         LA    J,1                                                 0128 00641000
@DL00128 DS    0H                                                  0129 00642000
*       IF LOWSPEC(I,J)='1'B        /*                       @Y30LB15*/ 00643000
*         THEN                      /*                       @Y30LB15*/ 00644000
         LR    @10,I                                               0129 00645000
         SLA   @10,2                                               0129 00646000
         ALR   @10,J                                               0129 00647000
         ALR   @10,@10                                             0129 00648000
         ALR   @10,R4                                              0129 00649000
         TM    LOWSPEC-10(@10),B'10000000'                         0129 00650000
         BNO   @RF00129                                            0129 00651000
*         DO;                       /*                       @Y30LB15*/ 00652000
*           LWCONSWT='1'B;          /*                       @Y30LB15*/ 00653000
         OI    LWCONSWT,B'00100000'                                0131 00654000
*           J=4;                    /*                       @Y30LB15*/ 00655000
         LA    J,4                                                 0132 00656000
*         END;                      /*                       @Y30LB15*/ 00657000
*       ELSE                                                       0134 00658000
*         ;                         /*                       @Y30LB15*/ 00659000
@RF00129 DS    0H                                                  0135 00660000
*     END;                          /*                       @Y30LB15*/ 00661000
         AH    J,@CH00042                                          0135 00662000
         CH    J,@CH00068                                          0135 00663000
         BNH   @DL00128                                            0135 00664000
*     CALL UPCONCHK;                /*                       @Y30LB15*/ 00665000
         BAL   @14,UPCONCHK                                        0136 00666000
*   END DOI2;                       /*                       @Y30LB15*/ 00667000
         AH    I,@CH00042                                          0137 00668000
         CH    I,@CH00162                                          0137 00669000
         BNH   @DL00112                                            0137 00670000
*   END DSDEFINE;                   /*                       @Y30LB15*/ 00671000
@EL00007 DS    0H                                                  0138 00672000
@EF00007 DS    0H                                                  0138 00673000
@ER00007 LM    @14,@12,@SA00007                                    0138 00674000
         BR    @14                                                 0138 00675000
*                                                                  0139 00676000
*/********************************************************** @Y30LB15*/ 00677000
*/*                                                          @Y30LB15*/ 00678000
*/* PROCEDURE NAME - UPCONCHK                                @Y30LB15*/ 00679000
*/*                                                          @Y30LB15*/ 00680000
*/* FUNCTION - CALL 'CHKINTFC'TO DETERMINE WHICH CHANNEL     @YD00144*/ 00681000
*/*            INTERFACES WERE SPECIFIED FOR THIS STAGING    @YD00144*/ 00682000
*/*            ADAPTER IN UPPERCON STATEMENTS.               @YD00144*/ 00683000
*/*                                                          @YD00144*/ 00684000
*/*            IF NO UPPERCON STATEMENTS WERE SUPPLIED,      @YD00144*/ 00685000
*/*            CHECK WHETHER BOTH A LOWERCON STATEMENT AND   @YD00144*/ 00686000
*/*            AND A DASD STATEMENT WERE SUPPLIED FOR THE    @YD00144*/ 00687000
*/*            STAGING ADAPTER.   IF BOTH A LOWERCON AND A   @YD00144*/ 00688000
*/*            AND A DASD STATEMENT ARE PRESENT, ISSUE       @YD00144*/ 00689000
*/*            ICG337I.  IF EITHER A LOWERCON OR A DASD      @YD00144*/ 00690000
*/*            STATEMENT IS PRESENT, ISSUE MESSAGE ICG336I.  @YD00144*/ 00691000
*/*                                                          @YD00144*/ 00692000
*/*            IF AN UPPERCON STATEMENT IS SUPPLIED FOR THE  @YD00144*/ 00693000
*/*            STAGING ADAPTER, A DASD STATEMENT MUST ALSO   @YD00144*/ 00694000
*/*            BE SUPPLIED FOR THE STAGING ADAPTER           @YD00144*/ 00695000
*/*                                                          @YD00113*/ 00696000
*/*            THE FOLLOWING MESSAGES ARE ISSUED BY THIS     @YD00113*/ 00697000
*/*            ROUTINE:                                      @YD00113*/ 00698000
*/*                                                          @YD00113*/ 00699000
*/*            ICG328I SA X DEFINED BY UPPERCON BUT NOT BY   @YD00113*/ 00700000
*/*                    DASD                                  @YD00113*/ 00701000
*/*                                                          @YD00144*/ 00702000
*/*            ICG336I SA X DEFINED ONLY BY LOWERCON         @YD00144*/ 00703000
*/*                                                          @YD00144*/ 00704000
*/*            ICG336I SA X DEFINED ONLY BY DASD             @YD00144*/ 00705000
*/*                                                          @YD00144*/ 00706000
*/*            ICG337I WARNING - SA X DEFINED STAGE/DESTAGE  @YD00144*/ 00707000
*/*                    ONLY                                  @YD00144*/ 00708000
*/*                                                          @Y30LB15*/ 00709000
*/********************************************************** @Y30LB15*/ 00710000
*                                                                  0139 00711000
*UPCONCHK:                                                         0139 00712000
*   PROCEDURE;                      /*                       @Y30LB15*/ 00713000
*                                                                  0139 00714000
UPCONCHK STM   @14,@12,@SA00008                                    0139 00715000
*   /*****************************************************************/ 00716000
*   /*                                                               */ 00717000
*   /* ***********************************************       @YD00113*/ 00718000
*   /* DETERMINE IF AN UPPERCON STATEMENT WAS                @YD00113*/ 00719000
*   /* PROVIDED FOR THIS STAGING ADAPTER.                    @YD00113*/ 00720000
*   /* ***********************************************       @YD00113*/ 00721000
*   /*                                                               */ 00722000
*   /*****************************************************************/ 00723000
*                                                                  0140 00724000
*   CALL CHKINTFC;                  /*                       @YD00113*/ 00725000
*                                                                  0140 00726000
         BAL   @14,CHKINTFC                                        0140 00727000
*   /*****************************************************************/ 00728000
*   /*                                                               */ 00729000
*   /* ***********************************************       @YD00113*/ 00730000
*   /* IF NONE OF THE CHANNEL INTERFACES (B, C, OR D)        @YD00113*/ 00731000
*   /* IS SPECIFIED, NO UPPERCON STATEMENT WAS               @YD00113*/ 00732000
*   /* PROVIDED FOR THE STAGING ADAPTER.                     @YD00113*/ 00733000
*   /* ***********************************************       @YD00113*/ 00734000
*   /*                                                               */ 00735000
*   /*****************************************************************/ 00736000
*                                                                  0141 00737000
*   IF BINTSWT='0'B&CINTSWT='0'B&DINTSWT='0'B/*              @YD00113*/ 00738000
*     THEN                          /*                       @YD00113*/ 00739000
         TM    BINTSWT,B'00001110'                                 0141 00740000
         BNZ   @RF00141                                            0141 00741000
*     DO;                           /*                       @YD00113*/ 00742000
*                                                                  0142 00743000
*       /*************************************************************/ 00744000
*       /*                                                           */ 00745000
*       /* *****************************************         @YD00144*/ 00746000
*       /* CHECK FOR STAGING ADAPTER USED ONLY FOR           @YD00144*/ 00747000
*       /* STAGING AND DESTAGING (NO DIRECT                  @YD00144*/ 00748000
*       /* CONNECTION TO A HOST CPU).                        @YD00144*/ 00749000
*       /* *****************************************         @YD00144*/ 00750000
*       /*                                                           */ 00751000
*       /*************************************************************/ 00752000
*                                                                  0143 00753000
*       IF LWCONSWT='1'B            /* LOWERCON STATEMENT    @YD00144*/ 00754000
*           &SPNDLSWT='1'B          /* DASD STATEMENT        @YD00144*/ 00755000
*         THEN                                                     0143 00756000
         TM    LWCONSWT,B'01100000'                                0143 00757000
         BNO   @RF00143                                            0143 00758000
*         DO;                                                      0144 00759000
*                                                                  0144 00760000
*           /*********************************************************/ 00761000
*           /*                                                       */ 00762000
*           /* ***********************************           @YD00144*/ 00763000
*           /* ICG337I WARNING - SA X DEFINED                @YD00144*/ 00764000
*           /* STAGE/DESTAGE ONLY                            @YD00144*/ 00765000
*           /* ***********************************           @YD00144*/ 00766000
*           /*                                                       */ 00767000
*           /*********************************************************/ 00768000
*                                                                  0145 00769000
*           OUTBUF2(1:50)=ICGDS337; /*                       @YD00144*/ 00770000
         MVC   OUTBUF2(50,R4),ICGDS337                             0145 00771000
*           OUTBUF2(23)=DSCHAR;     /*                       @XM01738*/ 00772000
         MVC   OUTBUF2+22(1,R4),DSCHAR                             0146 00773000
*           CALL PUTIT3;            /* TO MESSAGE WRITER     @YD00144*/ 00774000
         BAL   @14,PUTIT3                                          0147 00775000
*           RETURN;                 /*                       @YD00144*/ 00776000
@EL00008 DS    0H                                                  0148 00777000
@EF00008 DS    0H                                                  0148 00778000
@ER00008 LM    @14,@12,@SA00008                                    0148 00779000
         BR    @14                                                 0148 00780000
*         END;                      /*                       @YD00144*/ 00781000
*                                                                  0149 00782000
*       /*************************************************************/ 00783000
*       /*                                                           */ 00784000
*       /* *****************************************         @YD00144*/ 00785000
*       /* IF STAGING ADAPTER IS DEFINED BY A                @YD00144*/ 00786000
*       /* LOWERCON STATEMENT BUT NOT BY A DASD OR           @YD00144*/ 00787000
*       /* AN UPPERCON STATEMENT, WRITE MESSAGE              @YD00144*/ 00788000
*       /* ICG336I.                                          @YD00144*/ 00789000
*       /* *****************************************         @YD00144*/ 00790000
*       /*                                                           */ 00791000
*       /*************************************************************/ 00792000
*                                                                  0150 00793000
*       IF LWCONSWT='1'B            /*                       @YD00144*/ 00794000
*         THEN                      /*                       @YD00144*/ 00795000
@RF00143 TM    LWCONSWT,B'00100000'                                0150 00796000
         BNO   @RF00150                                            0150 00797000
*         DO;                       /*                       @YD00144*/ 00798000
*                                                                  0151 00799000
*           /*********************************************************/ 00800000
*           /*                                                       */ 00801000
*           /* ***********************************           @YD00113*/ 00802000
*           /* ICG336I SA X DEFINED ONLY BY                  @YD00144*/ 00803000
*           /* LOWERCON                                      @YD00144*/ 00804000
*           /* ***********************************           @YD00113*/ 00805000
*           /*                                                       */ 00806000
*           /*********************************************************/ 00807000
*                                                                  0152 00808000
*           OUTBUF2(1:30)=ICGDS336; /*                       @YD00144*/ 00809000
         MVC   OUTBUF2(30,R4),ICGDS336                             0152 00810000
*           OUTBUF2(13)=DSCHAR;     /*                       @YD00144*/ 00811000
         MVC   OUTBUF2+12(1,R4),DSCHAR                             0153 00812000
*           OUTBUF2(31:38)='LOWERCON';/*                     @YD00144*/ 00813000
         MVC   OUTBUF2+30(8,R4),@CC00413                           0154 00814000
*           CALL PUTIT1;            /*                       @YD00144*/ 00815000
         BAL   @14,PUTIT1                                          0155 00816000
*         END;                      /*                       @YD00113*/ 00817000
*                                                                  0156 00818000
*       /*************************************************************/ 00819000
*       /*                                                           */ 00820000
*       /* *****************************************         @YD00144*/ 00821000
*       /* IF STAGING ADAPTER IS DEFINED BY A                @YD00144*/ 00822000
*       /* DASD STATEMENT BUT NOT BY A LOWERCON OR           @YD00144*/ 00823000
*       /* AN UPPERCON STATEMENT, WRITE MESSAGE              @YD00144*/ 00824000
*       /* ICG336I.                                          @YD00144*/ 00825000
*       /* *****************************************         @YD00144*/ 00826000
*       /*                                                           */ 00827000
*       /*************************************************************/ 00828000
*                                                                  0157 00829000
*       IF SPNDLSWT='1'B            /*                       @YD00113*/ 00830000
*         THEN                      /*                       @YD00113*/ 00831000
@RF00150 TM    SPNDLSWT,B'01000000'                                0157 00832000
         BNO   @RF00157                                            0157 00833000
*         DO;                       /*                       @YD00113*/ 00834000
*                                                                  0158 00835000
*           /*********************************************************/ 00836000
*           /*                                                       */ 00837000
*           /* ***********************************           @YD00113*/ 00838000
*           /* ICG336I SA X DEFINED ONLY BY                  @YD00144*/ 00839000
*           /* DASD                                          @YD00144*/ 00840000
*           /* ***********************************           @YD00113*/ 00841000
*           /*                                                       */ 00842000
*           /*********************************************************/ 00843000
*                                                                  0159 00844000
*           OUTBUF2(1:30)=ICGDS336; /*                       @YD00144*/ 00845000
         MVC   OUTBUF2(30,R4),ICGDS336                             0159 00846000
*           OUTBUF2(13)=DSCHAR;     /*                       @YD00144*/ 00847000
         MVC   OUTBUF2+12(1,R4),DSCHAR                             0160 00848000
*           OUTBUF2(31:34)='DASD';  /*                       @YD00144*/ 00849000
         MVC   OUTBUF2+30(4,R4),@CC00415                           0161 00850000
*           CALL PUTIT1;            /*                       @YD00144*/ 00851000
         BAL   @14,PUTIT1                                          0162 00852000
*         END;                      /*                       @YD00113*/ 00853000
*     END;                          /*                       @YD00113*/ 00854000
*                                                                  0164 00855000
*   /*****************************************************************/ 00856000
*   /*                                                               */ 00857000
*   /* *********************************************         @YD00113*/ 00858000
*   /* WHEN STAGING ADAPTER IS DEFINED BY UPPERCON,          @YD00113*/ 00859000
*   /* IT MUST ALSO BE DEFINED BY DASD.                      @YD00113*/ 00860000
*   /* *********************************************         @YD00113*/ 00861000
*   /*                                                               */ 00862000
*   /*****************************************************************/ 00863000
*                                                                  0165 00864000
*   ELSE                            /*                       @YD00113*/ 00865000
*     DO;                           /*                       @YD00113*/ 00866000
         B     @RC00141                                            0165 00867000
@RF00141 DS    0H                                                  0166 00868000
*       IF SPNDLSWT='0'B            /*                       @YD00113*/ 00869000
*         THEN                      /*                       @YD00113*/ 00870000
         TM    SPNDLSWT,B'01000000'                                0166 00871000
         BNZ   @RF00166                                            0166 00872000
*         DO;                       /*                       @YD00113*/ 00873000
*                                                                  0167 00874000
*           /*********************************************************/ 00875000
*           /*                                                       */ 00876000
*           /* ***********************************           @YD00113*/ 00877000
*           /* ICG328I SA X DEFINED BY UPPERCON              @YD00113*/ 00878000
*           /* BUT NOT BY DASD                               @YD00113*/ 00879000
*           /* ***********************************           @YD00113*/ 00880000
*           /*                                                       */ 00881000
*           /*********************************************************/ 00882000
*                                                                  0168 00883000
*           OUTBUF2(1:49)=ICGDS328; /*                       @YD00144*/ 00884000
         MVC   OUTBUF2(49,R4),ICGDS328                             0168 00885000
*           OUTBUF2(13)=DSCHAR;     /*                       @YD00113*/ 00886000
         MVC   OUTBUF2+12(1,R4),DSCHAR                             0169 00887000
*           CALL PUTIT1;            /*                       @YD00113*/ 00888000
         BAL   @14,PUTIT1                                          0170 00889000
*         END;                      /*                       @YD00113*/ 00890000
*     END;                          /*                       @YD00113*/ 00891000
*   END UPCONCHK;                   /*                       @YD00113*/ 00892000
         B     @EL00008                                            0173 00893000
*                                                                  0174 00894000
*/********************************************************** @Y30LB15*/ 00895000
*/*                                                          @Y30LB15*/ 00896000
*/* PROCEDURE NAME - CHKINTFC                                @Y30LB15*/ 00897000
*/*                                                          @Y30LB15*/ 00898000
*/* FUNCTION - DETERMINE WHICH INTERFACES ARE USED FOR THIS  @Y30LB15*/ 00899000
*/*            DS.  CALL ROUTINE 'INTRFUSD' TO PRINT WARNING @YD00113*/ 00900000
*/*            MESSAGES IF ANY INTERFACES DEFINED ARE UNUSED @YD00113*/ 00901000
*/*                                                          @Y30LB15*/ 00902000
*/********************************************************** @Y30LB15*/ 00903000
*                                                                  0174 00904000
*CHKINTFC:                                                         0174 00905000
*   PROCEDURE;                      /*                       @Y30LB15*/ 00906000
CHKINTFC STM   @14,@12,@SA00009                                    0174 00907000
*   BINTSWT='0'B;                   /*                       @Y30LB12*/ 00908000
*   CINTSWT='0'B;                   /*                       @Y30LB12*/ 00909000
*   DINTSWT='0'B;                   /*                       @Y30LB12*/ 00910000
         NI    BINTSWT,B'11110001'                                 0177 00911000
*   L=(I*3)-2;                      /*                       @Y30LB15*/ 00912000
         LR    L,I                                                 0178 00913000
         MH    L,@CH00048                                          0178 00914000
         BCTR  L,0                                                 0178 00915000
         BCTR  L,0                                                 0178 00916000
*   IF CISPEC(L)='1'B               /*                       @Y30LB15*/ 00917000
*     THEN                          /*                       @Y30LB15*/ 00918000
         LR    @10,L                                               0179 00919000
         MH    @10,@CH00112                                        0179 00920000
         L     @07,COMPTR2(,R4)                                    0179 00921000
         ALR   @07,@10                                             0179 00922000
         TM    CISPEC-9(@07),B'10000000'                           0179 00923000
         BNO   @RF00179                                            0179 00924000
*     BINTSWT='1'B;                 /*                       @Y30LB15*/ 00925000
         OI    BINTSWT,B'00001000'                                 0180 00926000
*   ELSE                                                           0181 00927000
*     ;                             /*                       @Y30LB15*/ 00928000
@RF00179 DS    0H                                                  0182 00929000
*   IF CISPEC(L+1)='1'B             /*                       @Y30LB15*/ 00930000
*     THEN                          /*                       @Y30LB15*/ 00931000
         LR    @10,L                                               0182 00932000
         MH    @10,@CH00112                                        0182 00933000
         L     @07,COMPTR2(,R4)                                    0182 00934000
         ALR   @07,@10                                             0182 00935000
         TM    CISPEC(@07),B'10000000'                             0182 00936000
         BNO   @RF00182                                            0182 00937000
*     CINTSWT='1'B;                 /*                       @Y30LB15*/ 00938000
         OI    CINTSWT,B'00000100'                                 0183 00939000
*   ELSE                                                           0184 00940000
*     ;                             /*                       @Y30LB15*/ 00941000
@RF00182 DS    0H                                                  0185 00942000
*   IF CISPEC(L+2)='1'B             /*                       @Y30LB15*/ 00943000
*     THEN                          /*                       @Y30LB15*/ 00944000
         LR    @10,L                                               0185 00945000
         MH    @10,@CH00112                                        0185 00946000
         L     @07,COMPTR2(,R4)                                    0185 00947000
         ALR   @07,@10                                             0185 00948000
         TM    CISPEC+9(@07),B'10000000'                           0185 00949000
         BNO   @RF00185                                            0185 00950000
*     DINTSWT='1'B;                 /*                       @Y30LB15*/ 00951000
         OI    DINTSWT,B'00000010'                                 0186 00952000
*   ELSE                                                           0187 00953000
*     ;                             /*                       @Y30LB15*/ 00954000
@RF00185 DS    0H                                                  0188 00955000
*   IF BINTSWT='1'B|CINTSWT='1'B|DINTSWT='1'B/*              @Y30LB15*/ 00956000
*     THEN                          /*                       @Y30LB15*/ 00957000
         TM    BINTSWT,B'00001110'                                 0188 00958000
         BZ    @RF00188                                            0188 00959000
*     CALL INTRFUSD;                /*                       @Y30LB15*/ 00960000
         BAL   @14,INTRFUSD                                        0189 00961000
*   ELSE                                                           0190 00962000
*     ;                             /*                       @Y30LB15*/ 00963000
@RF00188 DS    0H                                                  0191 00964000
*   END CHKINTFC;                   /*                       @Y30LB15*/ 00965000
@EL00009 DS    0H                                                  0191 00966000
@EF00009 DS    0H                                                  0191 00967000
@ER00009 LM    @14,@12,@SA00009                                    0191 00968000
         BR    @14                                                 0191 00969000
*                                                                  0192 00970000
*/********************************************************** @Y30LB15*/ 00971000
*/*                                                          @Y30LB15*/ 00972000
*/* PROCEDURE NAME - INTRFUSD                                @Y30LB15*/ 00973000
*/*                                                          @Y30LB15*/ 00974000
*/* FUNCTION - WRITE A WARNING MESSAGE FOR EACH INTERFACE    @Y30LB15*/ 00975000
*/*            THAT IS NOT USED FOR THIS DS.                 @YD00113*/ 00976000
*/*                                                          @Y30LB15*/ 00977000
*/*            MESSAGE ISSUED BY THIS ROUTINE                @YD00113*/ 00978000
*/*            ICG322I WARNING - SA X INTERFACE X NOT USED   @YD00144*/ 00979000
*/*                                                          @Y30LB15*/ 00980000
*/********************************************************** @Y30LB15*/ 00981000
*                                                                  0192 00982000
*INTRFUSD:                                                         0192 00983000
*   PROCEDURE;                      /*                       @Y30LB15*/ 00984000
INTRFUSD STM   @14,@12,@SA00010                                    0192 00985000
*   IF BINTSWT='0'B                 /*                       @Y30LB15*/ 00986000
*     THEN                          /*                       @Y30LB15*/ 00987000
         TM    BINTSWT,B'00001000'                                 0193 00988000
         BNZ   @RF00193                                            0193 00989000
*     DO;                           /*                       @Y30LB15*/ 00990000
*       OUTBUF2(1:44)=ICGDS322;     /*                       @YD00144*/ 00991000
         MVC   OUTBUF2(44,R4),ICGDS322                             0195 00992000
*       OUTBUF2(23)=DSCHAR;         /*                       @YD00144*/ 00993000
         MVC   OUTBUF2+22(1,R4),DSCHAR                             0196 00994000
*       OUTBUF2(35)='B';            /*                       @YD00144*/ 00995000
         MVI   OUTBUF2+34(R4),C'B'                                 0197 00996000
*       CALL PUTIT3;                /*                       @Y30LB15*/ 00997000
         BAL   @14,PUTIT3                                          0198 00998000
*     END;                          /*                       @Y30LB15*/ 00999000
*   ELSE                                                           0200 01000000
*     ;                             /*                       @Y30LB15*/ 01001000
@RF00193 DS    0H                                                  0201 01002000
*   IF CINTSWT='0'B                 /*                       @Y30LB15*/ 01003000
*     THEN                          /*                       @Y30LB15*/ 01004000
         TM    CINTSWT,B'00000100'                                 0201 01005000
         BNZ   @RF00201                                            0201 01006000
*     DO;                           /*                       @Y30LB15*/ 01007000
*       OUTBUF2(1:44)=ICGDS322;     /*                       @YD00144*/ 01008000
         MVC   OUTBUF2(44,R4),ICGDS322                             0203 01009000
*       OUTBUF2(23)=DSCHAR;         /*                       @YD00144*/ 01010000
         MVC   OUTBUF2+22(1,R4),DSCHAR                             0204 01011000
*       OUTBUF2(35)='C';            /*                       @YD00144*/ 01012000
         MVI   OUTBUF2+34(R4),C'C'                                 0205 01013000
*       CALL PUTIT3;                /*                       @Y30LB15*/ 01014000
         BAL   @14,PUTIT3                                          0206 01015000
*     END;                          /*                       @Y30LB15*/ 01016000
*   ELSE                                                           0208 01017000
*     ;                             /*                       @Y30LB15*/ 01018000
@RF00201 DS    0H                                                  0209 01019000
*   IF DINTSWT='0'B                 /*                       @Y30LB15*/ 01020000
*     THEN                          /*                       @Y30LB15*/ 01021000
         TM    DINTSWT,B'00000010'                                 0209 01022000
         BNZ   @RF00209                                            0209 01023000
*     DO;                           /*                       @Y30LB15*/ 01024000
*       OUTBUF2(1:44)=ICGDS322;     /*                       @YD00144*/ 01025000
         MVC   OUTBUF2(44,R4),ICGDS322                             0211 01026000
*       OUTBUF2(23)=DSCHAR;         /*                       @YD00144*/ 01027000
         MVC   OUTBUF2+22(1,R4),DSCHAR                             0212 01028000
*       OUTBUF2(35)='D';            /*                       @YD00144*/ 01029000
         MVI   OUTBUF2+34(R4),C'D'                                 0213 01030000
*       CALL PUTIT3;                /*                       @Y30LB15*/ 01031000
         BAL   @14,PUTIT3                                          0214 01032000
*     END;                          /*                       @Y30LB15*/ 01033000
*   ELSE                                                           0216 01034000
*     ;                             /*                       @Y30LB15*/ 01035000
@RF00209 DS    0H                                                  0217 01036000
*   END INTRFUSD;                   /*                       @Y30LB15*/ 01037000
@EL00010 DS    0H                                                  0217 01038000
@EF00010 DS    0H                                                  0217 01039000
@ER00010 LM    @14,@12,@SA00010                                    0217 01040000
         BR    @14                                                 0217 01041000
*                                                                  0218 01042000
*/***********************************************************@Y30LB12*/ 01043000
*/*                                                          @Y30LB12*/ 01044000
*/* PROCEDURE NAME - PUTIT1                                  @Y30LB12*/ 01045000
*/*                                                          @Y30LB12*/ 01046000
*/* FUNCTION - CALL ICGDSMSG, MESSAGE PRINT SUBROUTINE, TO   @Y30LB12*/ 01047000
*/*            PUT TERMINATING MESSAGE FOR WHICH TEXT IS NOT @Y30LB12*/ 01048000
*/*            IN ICGDSMSG BUT ALREADY BUILT IN 'OUTBUF2'    @Y30LB12*/ 01049000
*/*                                                          @Y30LB12*/ 01050000
*/***********************************************************@Y30LB12*/ 01051000
*                                                                  0218 01052000
*PUTIT1:                                                           0218 01053000
*   PROCEDURE;                      /*                       @Y30LB12*/ 01054000
PUTIT1   STM   @14,@12,@SA00011                                    0218 01055000
*   STOPSCAN='1'B;                  /*                       @Y30LB12*/ 01056000
         OI    STOPSCAN,B'00010000'                                0219 01057000
*   PRNTBUF2='1'B;                  /*                       @Y30LB12*/ 01058000
         OI    PRNTBUF2(R4),B'00000001'                            0220 01059000
*   TERMINAT=TERMINAT+1;            /*                       @Y30LB12*/ 01060000
         LA    @10,1                                               0221 01061000
         AH    @10,TERMINAT(,R4)                                   0221 01062000
         STH   @10,TERMINAT(,R4)                                   0221 01063000
*   GEN(LINK  EP=ICGDSMSG);         /*                       @Y30LB12*/ 01064000
         LINK  EP=ICGDSMSG                                              01065000
*   PRNTBUF2='0'B;                  /*                       @Y30LB12*/ 01066000
         NI    PRNTBUF2(R4),B'11111110'                            0223 01067000
*   END PUTIT1;                     /*                       @Y30LB12*/ 01068000
@EL00011 DS    0H                                                  0224 01069000
@EF00011 DS    0H                                                  0224 01070000
@ER00011 LM    @14,@12,@SA00011                                    0224 01071000
         BR    @14                                                 0224 01072000
*                                                                  0225 01073000
*/***********************************************************@Y30LB12*/ 01074000
*/*                                                          @Y30LB12*/ 01075000
*/* PROCEDURE NAME - PUTIT3                                  @Y30LB12*/ 01076000
*/*                                                          @Y30LB12*/ 01077000
*/* FUNCTION - CALL ICGDSMSG, MESSAGE PRINT SUBROUTINE, TO   @Y30LB12*/ 01078000
*/*            PUT WARNING MESSAGE FOR WHICH MESSAGE TEXT    @Y30LB12*/ 01079000
*/*            IS NOT IN ICGDSMSG, BUT WHICH IS BUILT AND    @Y30LB12*/ 01080000
*/*            PASSED IN 'OUTBUF2'.                          @Y30LB12*/ 01081000
*/*                                                          @Y30LB12*/ 01082000
*/***********************************************************@Y30LB12*/ 01083000
*                                                                  0225 01084000
*PUTIT3:                                                           0225 01085000
*   PROCEDURE;                      /*                       @Y30LB12*/ 01086000
PUTIT3   STM   @14,@12,@SA00012                                    0225 01087000
*   PRNTBUF2='1'B;                  /*                       @Y30LB12*/ 01088000
         OI    PRNTBUF2(R4),B'00000001'                            0226 01089000
*   WARNING=WARNING+1;              /*                       @Y30LB12*/ 01090000
         LA    @10,1                                               0227 01091000
         AH    @10,WARNING(,R4)                                    0227 01092000
         STH   @10,WARNING(,R4)                                    0227 01093000
*   GEN(LINK  EP=ICGDSMSG);         /*                       @Y30LB12*/ 01094000
         LINK  EP=ICGDSMSG                                              01095000
*   PRNTBUF2='0'B;                  /*                       @Y30LB12*/ 01096000
         NI    PRNTBUF2(R4),B'11111110'                            0229 01097000
*   END PUTIT3;                     /*                       @Y30LB12*/ 01098000
@EL00012 DS    0H                                                  0230 01099000
@EF00012 DS    0H                                                  0230 01100000
@ER00012 LM    @14,@12,@SA00012                                    0230 01101000
         BR    @14                                                 0230 01102000
*                                                                  0231 01103000
*/********************************************************** @Y30LB15*/ 01104000
*/*                                                          @Y30LB15*/ 01105000
*/*     P A T C H  A R E A                                   @Y30LB15*/ 01106000
*/*                                                          @Y30LB15*/ 01107000
*/********************************************************** @Y30LB15*/ 01108000
*                                                                  0231 01109000
*   GENERATE;                                                      0231 01110000
*                                                         /*@Y30LB15*/  01111000
PATCHA08 DC    32C'PATCHA08'                                  @Y30LB15  01112000
*   END ICGDSA08                    /*                       @Y30LB15*/ 01113000
*                                                                  0232 01114000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 01115000
*/*%INCLUDE SYSLIB  (ICGDSMAC)                                       */ 01116000
*/*%INCLUDE SYSLIB  (ICGDSMA2)                                       */ 01117000
*/*%INCLUDE SYSLIB  (ICGDSMA4)                                       */ 01118000
*                                                                  0232 01119000
*       ;                                                          0232 01120000
         B     @EL00001                                            0232 01121000
@DATA    DS    0H                                                       01122000
@CH00042 DC    H'1'                                                     01123000
@CH00048 DC    H'3'                                                     01124000
@CH00068 DC    H'4'                                                     01125000
@CH00040 DC    H'8'                                                     01126000
@CH00112 DC    H'9'                                                     01127000
@CH00128 DC    H'12'                                                    01128000
@CH00162 DC    H'16'                                                    01129000
@DATD    DSECT                                                          01130000
         DS    0F                                                       01131000
@SA00001 DS    18F                                                      01132000
@SA00002 DS    15F                                                      01133000
@SA00003 DS    15F                                                      01134000
@SA00007 DS    15F                                                      01135000
@SA00011 DS    15F                                                      01136000
@SA00004 DS    15F                                                      01137000
@SA00005 DS    15F                                                      01138000
@SA00006 DS    15F                                                      01139000
@SA00008 DS    15F                                                      01140000
@SA00009 DS    15F                                                      01141000
@SA00012 DS    15F                                                      01142000
@SA00010 DS    15F                                                      01143000
@TF00001 DS    F                                                        01144000
@ZTEMPS  DS    0F                                                       01145000
@ZT00003 DC    F'0'                                                     01146000
@ZTEMPND EQU   *                                                        01147000
@ZLEN    EQU   @ZTEMPND-@ZTEMPS                                         01148000
ICGDSA08 CSECT                                                          01149000
         DS    0F                                                       01150000
@CF00448 DC    F'-2'                                                    01151000
@CF00449 DC    F'-1'                                                    01152000
@DATD    DSECT                                                          01153000
         DS    0D                                                       01154000
COMPMSF  DS    CL1                                                      01155000
DSCHAR   DS    CL1                                                      01156000
SWITCHES DS    BL1                                                      01157000
         ORG   SWITCHES                                                 01158000
LWFNDSWT DS    BL1                                                      01159000
SPNDLSWT EQU   SWITCHES+0                                               01160000
LWCONSWT EQU   SWITCHES+0                                               01161000
STOPSCAN EQU   SWITCHES+0                                               01162000
INTNOTUS EQU   SWITCHES+0                                               01163000
         ORG   INTNOTUS                                                 01164000
BINTSWT  EQU   INTNOTUS+0                                               01165000
CINTSWT  EQU   INTNOTUS+0                                               01166000
DINTSWT  EQU   INTNOTUS+0                                               01167000
         ORG   SWITCHES+1                                               01168000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                01169000
@ENDDATD EQU   *                                                        01170000
ICGDSA08 CSECT                                                          01171000
         DS    0F                                                       01172000
@SIZDATD DC    AL1(0)                                                   01173000
         DC    AL3(@ENDDATD-@DATD)                                      01174000
         DS    0D                                                       01175000
@CC00413 DC    C'LOWERCON'                                              01176000
@CC00415 DC    C'DASD'                                                  01177000
TRTABLE  DC    CL16'0123456789ABCDEF'                                   01178000
ICGDS322 DC    CL44' ICG322I WARNING - SA X INTERFACE X NOT USED'       01179000
A08MSG26 DC    CL58' ICG326I IDENTIFICATION OF LOGICAL MSF X ALSO USED C01180000
               BY SA X'                                                 01181000
ICGDS327 DC    CL39' ICG327I NO MSFX PATH FOR SDG XX (SA=X)'            01182000
ICGDS328 DC    CL49' ICG328I SA X DEFINED BY UPPERCON BUT NOT BY DASD'  01183000
ICGDS336 DC    CL30' ICG336I SA X DEFINED ONLY BY '                     01184000
ICGDS337 DC    CL50' ICG337I WARNING - SA X DEFINED STAGE/DESTAGE ONLY' 01185000
PRINTSDG DC    CL2'00'                                                  01186000
         DC    CL2'01'                                                  01187000
         DC    CL2'02'                                                  01188000
         DC    CL2'03'                                                  01189000
         DC    CL2'04'                                                  01190000
         DC    CL2'05'                                                  01191000
         DC    CL2'06'                                                  01192000
         DC    CL2'07'                                                  01193000
         DC    CL2'08'                                                  01194000
         DC    CL2'09'                                                  01195000
         DC    CL2'10'                                                  01196000
         DC    CL2'11'                                                  01197000
         DC    CL2'12'                                                  01198000
         DC    CL2'13'                                                  01199000
         DC    CL2'14'                                                  01200000
         DC    CL2'15'                                                  01201000
         DC    CL2'16'                                                  01202000
         DC    CL2'17'                                                  01203000
         DC    CL2'18'                                                  01204000
         DC    CL2'19'                                                  01205000
         DC    CL2'20'                                                  01206000
         DC    CL2'21'                                                  01207000
         DC    CL2'22'                                                  01208000
         DC    CL2'23'                                                  01209000
         DC    CL2'24'                                                  01210000
         DC    CL2'25'                                                  01211000
         DC    CL2'26'                                                  01212000
         DC    CL2'27'                                                  01213000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       01214000
@01      EQU   01                                                       01215000
@02      EQU   02                                                       01216000
@03      EQU   03                                                       01217000
@04      EQU   04                                                       01218000
@05      EQU   05                                                       01219000
@06      EQU   06                                                       01220000
@07      EQU   07                                                       01221000
@08      EQU   08                                                       01222000
@09      EQU   09                                                       01223000
@10      EQU   10                                                       01224000
@11      EQU   11                                                       01225000
@12      EQU   12                                                       01226000
@13      EQU   13                                                       01227000
@14      EQU   14                                                       01228000
@15      EQU   15                                                       01229000
M        EQU   @07                                                      01230000
L        EQU   @06                                                      01231000
K        EQU   @05                                                      01232000
J        EQU   @03                                                      01233000
I        EQU   @02                                                      01234000
R4       EQU   @04                                                      01235000
COMTAB   EQU   0                                                        01236000
READER   EQU   COMTAB+256                                               01237000
READFLAG EQU   READER+96                                                01238000
PCHBF    EQU   READER+99                                                01239000
STARTCOL EQU   READER+180                                               01240000
NEXTCOL  EQU   READER+184                                               01241000
PRINTER  EQU   COMTAB+464                                               01242000
OUTBUF2  EQU   PRINTER+225                                              01243000
MESSAGES EQU   COMTAB+810                                               01244000
WARNING  EQU   MESSAGES+4                                               01245000
TERMINAT EQU   MESSAGES+6                                               01246000
SPECLMSG EQU   MESSAGES+18                                              01247000
PRNTBUF2 EQU   SPECLMSG                                                 01248000
GENIO    EQU   COMTAB+832                                               01249000
DCBPTR   EQU   GENIO+4                                                  01250000
COMPTR2  EQU   GENIO+16                                                 01251000
INVOKED  EQU   COMTAB+856                                               01252000
SAVEDDS  EQU   INVOKED+4                                                01253000
BUILDRSG EQU   COMTAB+900                                               01254000
RSGS     EQU   BUILDRSG                                                 01255000
RSG      EQU   RSGS                                                     01256000
RSGABOX  EQU   RSG                                                      01257000
RSGTODS  EQU   RSG+7                                                    01258000
TODS1    EQU   RSGTODS                                                  01259000
TODS2    EQU   RSGTODS+1                                                01260000
LIBRARY  EQU   COMTAB+1170                                              01261000
LIBS     EQU   LIBRARY                                                  01262000
LIB      EQU   LIBS                                                     01263000
LIBBITS  EQU   LIB                                                      01264000
LIBSPEC  EQU   LIBBITS                                                  01265000
LIBDSMID EQU   LIB+2                                                    01266000
PABTABLE EQU   COMTAB+1218                                              01267000
PABDEV   EQU   PABTABLE                                                 01268000
PABFLAGS EQU   PABDEV                                                   01269000
PABREAL  EQU   PABDEV+1                                                 01270000
PABAADDD EQU   PABDEV+2                                                 01271000
DSPAIRS  EQU   COMTAB+1938                                              01272000
PHYSTYPE EQU   COMTAB+2002                                              01273000
PHYSFLGS EQU   PHYSTYPE                                                 01274000
MERLICEB EQU   PHYSFLGS                                                 01275000
CPUASSOC EQU   COMTAB+3026                                              01276000
CPUS     EQU   CPUASSOC+2                                               01277000
CPU      EQU   CPUS                                                     01278000
CPUFLAG1 EQU   CPU+6                                                    01279000
OPSYSTYP EQU   CPUFLAG1                                                 01280000
CPUFLAG2 EQU   CPU+7                                                    01281000
LOWERCON EQU   COMTAB+3156                                              01282000
LOWDSS   EQU   LOWERCON                                                 01283000
LOWFLGS  EQU   LOWDSS                                                   01284000
LOWSPEC  EQU   LOWFLGS                                                  01285000
LOWLIB   EQU   LOWDSS+1                                                 01286000
LIBCTL   EQU   COMTAB+3284                                              01287000
LIBCTLS  EQU   LIBCTL                                                   01288000
CREATE   EQU   COMTAB+3288                                              01289000
@NM00017 EQU   CREATE                                                   01290000
COMTAB2  EQU   0                                                        01291000
DSTORSG  EQU   COMTAB2                                                  01292000
DSENTRY  EQU   DSTORSG                                                  01293000
TORSG1   EQU   DSENTRY                                                  01294000
TORSG2   EQU   DSENTRY+1                                                01295000
CONFGCON EQU   COMTAB2+32                                               01296000
RSGUCB   EQU   CONFGCON                                                 01297000
RSGFLAGS EQU   RSGUCB                                                   01298000
CISPEC   EQU   RSGFLAGS                                                 01299000
CONFGUCB EQU   COMTAB2+464                                              01300000
CONFGDEV EQU   CONFGUCB                                                 01301000
USEFLAGS EQU   CONFGDEV                                                 01302000
ALTPATH1 EQU   CONFGDEV+2                                               01303000
ALTPATH2 EQU   CONFGDEV+5                                               01304000
ALTPATH3 EQU   CONFGDEV+8                                               01305000
SCANBUF  EQU   0                                                        01306000
SCANDATA EQU   0                                                        01307000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    01308000
ALTCH3   EQU   ALTPATH3+2                                               01309000
ALTCI3   EQU   ALTPATH3+1                                               01310000
ALTDS3   EQU   ALTPATH3                                                 01311000
ALTCH2   EQU   ALTPATH2+2                                               01312000
ALTCI2   EQU   ALTPATH2+1                                               01313000
ALTDS2   EQU   ALTPATH2                                                 01314000
ALTCH1   EQU   ALTPATH1+2                                               01315000
ALTCI1   EQU   ALTPATH1+1                                               01316000
ALTDS1   EQU   ALTPATH1                                                 01317000
INDEXRSG EQU   CONFGDEV+1                                               01318000
ICEBERG  EQU   USEFLAGS                                                 01319000
ITISALTP EQU   USEFLAGS                                                 01320000
USECONVR EQU   USEFLAGS                                                 01321000
SUPPUNCH EQU   USEFLAGS                                                 01322000
USEREAL  EQU   USEFLAGS                                                 01323000
USEVS    EQU   USEFLAGS                                                 01324000
USEV     EQU   USEFLAGS                                                 01325000
USESPEC  EQU   USEFLAGS                                                 01326000
RSGCUA   EQU   RSGUCB+8                                                 01327000
RSGCHAN  EQU   RSGUCB+7                                                 01328000
CPUREFNO EQU   RSGUCB+6                                                 01329000
RSGCPUID EQU   RSGUCB+1                                                 01330000
@NM00019 EQU   RSGFLAGS                                                 01331000
COM2BASE EQU   COMTAB+3304                                              01332000
LRUCLOCK EQU   CREATE+11                                                01333000
VOLSER   EQU   CREATE+5                                                 01334000
VPAGES   EQU   CREATE+1                                                 01335000
@NM00018 EQU   @NM00017                                                 01336000
PRNTONLY EQU   @NM00017                                                 01337000
UPDCREAT EQU   @NM00017                                                 01338000
NEWCREAT EQU   @NM00017                                                 01339000
CMDCREAT EQU   @NM00017                                                 01340000
RW67RGHT EQU   LIBCTLS                                                  01341000
RW67LEFT EQU   LIBCTLS                                                  01342000
RW45RGHT EQU   LIBCTLS                                                  01343000
RW45LEFT EQU   LIBCTLS                                                  01344000
RW23RGHT EQU   LIBCTLS                                                  01345000
RW23LEFT EQU   LIBCTLS                                                  01346000
RW01RGHT EQU   LIBCTLS                                                  01347000
RW01LEFT EQU   LIBCTLS                                                  01348000
@NM00016 EQU   LOWFLGS                                                  01349000
LOWRGHT  EQU   LOWFLGS                                                  01350000
LOWLEFT  EQU   LOWFLGS                                                  01351000
LOWRW67  EQU   LOWFLGS                                                  01352000
LOWRW45  EQU   LOWFLGS                                                  01353000
LOWRW23  EQU   LOWFLGS                                                  01354000
LOWRW01  EQU   LOWFLGS                                                  01355000
ALTMSCIN EQU   CPUFLAG2                                                 01356000
@NM00015 EQU   CPUFLAG2                                                 01357000
ALTMSGBF EQU   CPUFLAG2                                                 01358000
@NM00014 EQU   CPUFLAG2                                                 01359000
CPUSPEC  EQU   CPUFLAG2                                                 01360000
CPUMSCIN EQU   CPUFLAG1                                                 01361000
OPJES3   EQU   OPSYSTYP                                                 01362000
OPVS2    EQU   OPSYSTYP                                                 01363000
OPVS1    EQU   OPSYSTYP                                                 01364000
CPUALTFL EQU   CPUFLAG1                                                 01365000
CPUTIGHT EQU   CPUFLAG1                                                 01366000
@NM00013 EQU   CPUFLAG1                                                 01367000
TOMPCPU  EQU   CPU+5                                                    01368000
CPUID    EQU   CPU                                                      01369000
CPUNUM   EQU   CPUASSOC                                                 01370000
SPNRSGNO EQU   PHYSTYPE+1                                               01371000
LGDEVICE EQU   PHYSFLGS                                                 01372000
LOGABOX1 EQU   PHYSFLGS                                                 01373000
PHYSSSID EQU   PHYSFLGS                                                 01374000
PHYSREAL EQU   PHYSFLGS                                                 01375000
PHYSICEB EQU   MERLICEB                                                 01376000
PHYSMERL EQU   MERLICEB                                                 01377000
PHYSDS2  EQU   DSPAIRS                                                  01378000
PABDDD   EQU   PABAADDD                                                 01379000
PABAA    EQU   PABAADDD                                                 01380000
PABZEROS EQU   PABAADDD                                                 01381000
PAB2D    EQU   PABREAL                                                  01382000
PAB2C    EQU   PABREAL                                                  01383000
PAB2B    EQU   PABREAL                                                  01384000
@NM00012 EQU   PABREAL                                                  01385000
PAB1D    EQU   PABREAL                                                  01386000
PAB1C    EQU   PABREAL                                                  01387000
PAB1B    EQU   PABREAL                                                  01388000
PABIMPLR EQU   PABREAL                                                  01389000
PABBERG2 EQU   PABFLAGS                                                 01390000
@NM00011 EQU   PABFLAGS                                                 01391000
PABDSMTL EQU   PABFLAGS                                                 01392000
PABIBERG EQU   PABFLAGS                                                 01393000
@NM00010 EQU   PABFLAGS                                                 01394000
PABVOVIR EQU   PABFLAGS                                                 01395000
PABEXIST EQU   PABFLAGS                                                 01396000
MAPEXIT  EQU   LIB+4                                                    01397000
LIBMAP   EQU   LIB+3                                                    01398000
LIBSIZE  EQU   LIB+1                                                    01399000
@NM00009 EQU   LIBBITS                                                  01400000
RSGSLICE EQU   RSG+3                                                    01401000
RSGUDEL  EQU   RSG+2                                                    01402000
RSGLDEL  EQU   RSG+1                                                    01403000
@NM00008 EQU   RSG                                                      01404000
RSGABOX1 EQU   RSGABOX                                                  01405000
RSGABOX0 EQU   RSGABOX                                                  01406000
RSGSPEC  EQU   RSG                                                      01407000
SVSYSUT3 EQU   SAVEDDS+32                                               01408000
SVSYSUT2 EQU   SAVEDDS+24                                               01409000
SVSYSUT1 EQU   SAVEDDS+16                                               01410000
SVSYSPCH EQU   SAVEDDS+8                                                01411000
SVSYSIN  EQU   SAVEDDS                                                  01412000
PARMPTR  EQU   INVOKED                                                  01413000
BUILDPTR EQU   GENIO+20                                                 01414000
SAVE14   EQU   GENIO+12                                                 01415000
EXLST    EQU   GENIO+8                                                  01416000
@NM00007 EQU   DCBPTR+1                                                 01417000
DCBFLAG  EQU   DCBPTR                                                   01418000
OPENLIST EQU   GENIO                                                    01419000
@NM00006 EQU   MESSAGES+19                                              01420000
NEEDEOJ  EQU   SPECLMSG                                                 01421000
ENDPHASE EQU   SPECLMSG                                                 01422000
@NM00005 EQU   SPECLMSG                                                 01423000
PRNTCARD EQU   SPECLMSG                                                 01424000
@NM00004 EQU   SPECLMSG                                                 01425000
NEED102  EQU   SPECLMSG                                                 01426000
NEED101  EQU   SPECLMSG                                                 01427000
PRINTRC  EQU   MESSAGES+16                                              01428000
TERM     EQU   MESSAGES+12                                              01429000
WARN     EQU   MESSAGES+8                                               01430000
MSGNO    EQU   MESSAGES+2                                               01431000
RETCODE  EQU   MESSAGES                                                 01432000
OUTBUF   EQU   PRINTER+104                                              01433000
LINECT   EQU   PRINTER+102                                              01434000
LINECTR  EQU   PRINTER+100                                              01435000
PAGENO   EQU   PRINTER+96                                               01436000
DCBPRINT EQU   PRINTER                                                  01437000
@NM00003 EQU   READER+206                                               01438000
SCANLEN  EQU   READER+204                                               01439000
SVEODAD  EQU   READER+200                                               01440000
SVSYNAD2 EQU   READER+196                                               01441000
SAVENCOL EQU   READER+192                                               01442000
SAVESCOL EQU   READER+188                                               01443000
INBUF    EQU   READER+100                                               01444000
SSELECT  EQU   PCHBF                                                    01445000
@NM00002 EQU   READER+97                                                01446000
@NM00001 EQU   READFLAG                                                 01447000
LASTPARM EQU   READFLAG                                                 01448000
ENDSCAN  EQU   READFLAG                                                 01449000
PARMBIT  EQU   READFLAG                                                 01450000
KEYBIT   EQU   READFLAG                                                 01451000
READTERM EQU   READFLAG                                                 01452000
READDCB  EQU   READER                                                   01453000
PATCH    EQU   COMTAB                                                   01454000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      01455000
@RF00090 EQU   @EL00005                                                 01456000
@RF00102 EQU   @EL00006                                                 01457000
@RC00141 EQU   @EL00008                                                 01458000
@RF00166 EQU   @EL00008                                                 01459000
@RF00157 EQU   @RC00141                                                 01460000
@ENDDATA EQU   *                                                        01461000
         END   ICGDSA08,(C'PLS2005',0603,76337)                         01462000
