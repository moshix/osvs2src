         TITLE 'ICGDSB13 MSC TABLE CREATE, TRANSIENT VOLUME LIST       *00001000
                        '                                               00002000
ICGDSB13 CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(16)                                             0001 00007000
         DC    C'ICGDSB13  76.337'                                 0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00010000
         BALR  @12,0                                               0001 00011000
@PSTART  DS    0H                                                  0001 00012000
         USING @PSTART,@12                                         0001 00013000
         L     @00,@SIZDATD                                        0001 00014000
         GETMAIN  R,LV=(0)                                              00015000
         LR    @11,@01                                             0001 00016000
         USING @DATD,@11                                           0001 00017000
         ST    @13,@SA00001+4                                      0001 00018000
         LM    @00,@01,20(@13)                                     0001 00019000
         ST    @11,8(,@13)                                         0001 00020000
         LR    @13,@11                                             0001 00021000
         XC    @ZTEMPS(@ZLEN),@ZTEMPS                                   00022000
*                                                                  0017 00023000
*/********************************************************** @YD00113*/ 00024000
*/*                                                          @YD00113*/ 00025000
*/* PROCEDURE NAME - ICGDSB13 (MAINLINE)                     @YD00113*/ 00026000
*/*                                                          @YD00113*/ 00027000
*/* FUNCTION - OBTAIN THE VIRTUAL CYLINDER, HEAD AND RECORD  @YD00113*/ 00028000
*/*            ADDRESSES TO BE WRITTEN FROM THE              @YD00113*/ 00029000
*/*            COMMON BUILD COMMUNICATIONS AREA (BUILDTAB).  @YD00113*/ 00030000
*/*            DETERMINE WHETHER A CURRENT TRANSIENT VOLUME  @YD00113*/ 00031000
*/*            LIST SHOULD EXIST AND CALL THE PROPER BUILD   @YD00113*/ 00032000
*/*            ROUTINE.  RETURN TO CALLER (ICGDSBLD)         @YD00113*/ 00033000
*/*                                                          @YD00113*/ 00034000
*/********************************************************** @YD00113*/ 00035000
*                                                                  0017 00036000
*   STOPSCAN='0'B;                  /* INITIALIZE FLAG       @YD00113*/ 00037000
*                                                                  0017 00038000
         NI    STOPSCAN,B'01111111'                                0017 00039000
*   /*****************************************************************/ 00040000
*   /*                                                               */ 00041000
*   /* ***********************************************       @YD00113*/ 00042000
*   /* STARTING VIRTUAL ADDRESS FOR OUTPUT                   @YD00113*/ 00043000
*   /* TRANSIENT VOLUME LIST AND THE ADDRESSES               @YD00113*/ 00044000
*   /* OF THE OUTPUT BUFFER AND THE SYSUT2 DCB               @YD00113*/ 00045000
*   /* ARE ESTABLISHED BY ICGDSBLD                           @YD00113*/ 00046000
*   /* ***********************************************       @YD00113*/ 00047000
*   /*                                                               */ 00048000
*   /*****************************************************************/ 00049000
*                                                                  0018 00050000
*   OUTCYL(1)=UT2VCYL;              /* STARTING CYLINDER     @YD00113*/ 00051000
         L     @10,BUILDPTR(,R4)                                   0018 00052000
         LH    @05,@CH00452                                        0018 00053000
         ALR   @05,@10                                             0018 00054000
         MVC   OUTCYL(1,@05),UT2VCYL(@10)                          0018 00055000
*   OUTHEAD(1)=UT2VHEAD;            /* STARTING HEAD         @YD00113*/ 00056000
         MVC   OUTHEAD(1,@05),UT2VHEAD(@10)                        0019 00057000
*   ORECORD(1)=UT2VREC;             /* STARTING RECORD       @YD00113*/ 00058000
         MVC   ORECORD(1,@05),UT2VREC(@10)                         0020 00059000
*   B06DCBPT=ADDR(UT2DCB);          /*                       @Y30LB14*/ 00060000
         LA    @05,UT2DCB(,@10)                                    0021 00061000
         ST    @05,B06DCBPT(,@10)                                  0021 00062000
*   B06BUFPT=ADDR(UT2BUFER);        /* WRITE BUFFER ADDR     @YD00113*/ 00063000
*                                                                  0022 00064000
         LR    @05,@10                                             0022 00065000
         AL    @05,@CF00452                                        0022 00066000
         ST    @05,B06BUFPT(,@10)                                  0022 00067000
*   /*****************************************************************/ 00068000
*   /*                                                               */ 00069000
*   /* ***********************************************       @YD00113*/ 00070000
*   /* IF A COMPLETELY NEW LIBRARY IS TO BE BUILT            @Y30LB14*/ 00071000
*   /* FROM SCRATCH, THEN 'EMPTYLIB' IS CALLED.              @Y30LB14*/ 00072000
*   /* IF A LIBRARY IS BEING UPDATED THEN THE CON-           @Y30LB14*/ 00073000
*   /* TENTS OF THE OLD LIBRARY IS COPIED INTO THE           @Y30LB14*/ 00074000
*   /* NEW LIBRARY.                                          @Y30LB14*/ 00075000
*   /* ***********************************************       @YD00113*/ 00076000
*   /*                                                               */ 00077000
*   /*****************************************************************/ 00078000
*                                                                  0023 00079000
*   IF NEWCREAT='1'B                /*                       @Y30LB14*/ 00080000
*     THEN                          /*                       @Y30LB14*/ 00081000
         TM    NEWCREAT(R4),B'01000000'                            0023 00082000
         BNO   @RF00023                                            0023 00083000
*     CALL EMPTYLIB;                /* BUILD NEW & EMPTY     @YD00113*/ 00084000
         BAL   @14,EMPTYLIB                                        0024 00085000
*   IF UPDCREAT='1'B                /*                       @Y30LB14*/ 00086000
*     THEN                          /*                       @Y30LB14*/ 00087000
@RF00023 TM    UPDCREAT(R4),B'00100000'                            0025 00088000
         BNO   @RF00025                                            0025 00089000
*     CALL COPYLIB;                 /* COPY CURRENT LIB      @YD00113*/ 00090000
*                                                                  0026 00091000
         BAL   @14,COPYLIB                                         0026 00092000
*   /*****************************************************************/ 00093000
*   /*                                                               */ 00094000
*   /* ***********************************************       @YD00113*/ 00095000
*   /* RETURN TO THE BUILD MODULE - ICGDSBLD                 @Y30LB14*/ 00096000
*   /* ***********************************************       @YD00113*/ 00097000
*   /*                                                               */ 00098000
*   /*****************************************************************/ 00099000
*                                                                  0027 00100000
*   RETURN;                         /* RETURN TO BUILD       @Y30LB14*/ 00101000
@EL00001 L     @13,4(,@13)                                         0027 00102000
@EF00001 L     @00,@SIZDATD                                        0027 00103000
         LR    @01,@11                                             0027 00104000
         FREEMAIN R,LV=(0),A=(1)                                        00105000
@ER00001 LM    @14,@12,12(@13)                                     0027 00106000
         BR    @14                                                 0027 00107000
*                                                                  0028 00108000
*/********************************************************** @YD00113*/ 00109000
*/*                                                          @YD00113*/ 00110000
*/* PROCEDURE NAME - COPYLIB                                 @YD00113*/ 00111000
*/*                                                          @YD00113*/ 00112000
*/* FUNCTION - THIS ROUTINE COPIES THE CURRENT TRANSIENT     @YD00113*/ 00113000
*/*            VOLUME LIST TO THE AREA FOR THE NEW TRANSIENT @YD00113*/ 00114000
*/*            VOLUME LIST.  THE BLOCK PREFIX (CHR OF THE    @YD00113*/ 00115000
*/*            BLOCK BEING WRITTEN) AND THE CHR OF THE NEXT  @YD00113*/ 00116000
*/*            ARE RECREATED - ALL OTHER DATA IN THE CONTROL @YD00113*/ 00117000
*/*            DATA AND TRANSIENT VOLUME ENTRY SECTIONS IS   @YD00113*/ 00118000
*/*            COPIED FROM THE CURRENT LIST.                 @YD00113*/ 00119000
*/*                                                          @YD00113*/ 00120000
*/********************************************************** @YD00113*/ 00121000
*                                                                  0028 00122000
*COPYLIB:                                                          0028 00123000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00124000
*                                                                  0028 00125000
COPYLIB  STM   @14,@12,@SA00002                                    0028 00126000
*   /*****************************************************************/ 00127000
*   /*                                                               */ 00128000
*   /* ***********************************************       @YD00113*/ 00129000
*   /* OBTAIN THE ADDRESSES OF THE INPUT BUFFER AND          @YD00113*/ 00130000
*   /* INPUT DCB FROM THE COMMON BUILD COMMUNICATIONS        @YD00113*/ 00131000
*   /* AREA (BUILDTAB).                                      @YD00113*/ 00132000
*   /* ***********************************************       @YD00113*/ 00133000
*   /*                                                               */ 00134000
*   /*****************************************************************/ 00135000
*                                                                  0029 00136000
*   B05DCBPT=ADDR(UT1DCB);          /*                       @Y30LB14*/ 00137000
         L     @10,BUILDPTR(,R4)                                   0029 00138000
         LA    @05,UT1DCB(,@10)                                    0029 00139000
         ST    @05,B05DCBPT(,@10)                                  0029 00140000
*   B05BUFPT=ADDR(UT1BUFER);        /* ADDRESS OF READ       @Y30LB14*/ 00141000
*                                                                  0030 00142000
         LR    @05,@10                                             0030 00143000
         AL    @05,@CF00453                                        0030 00144000
         ST    @05,B05BUFPT(,@10)                                  0030 00145000
*   /*****************************************************************/ 00146000
*   /*                                                               */ 00147000
*   /* ***********************************************       @YD00113*/ 00148000
*   /* SET UP TO COPY 30 TRACKS                              @YD00113*/ 00149000
*   /* ***********************************************       @YD00113*/ 00150000
*   /*                                                               */ 00151000
*   /*****************************************************************/ 00152000
*                                                                  0031 00153000
*   DO I=1 TO MAX;                  /*                       @Y30LB14*/ 00154000
*                                                                  0031 00155000
         LA    I,1                                                 0031 00156000
@DL00031 DS    0H                                                  0032 00157000
*     /***************************************************************/ 00158000
*     /*                                                             */ 00159000
*     /* *********************************************       @YD00113*/ 00160000
*     /* READ IN A COMPLETE TRACK FROM THE OLD               @Y30LB14*/ 00161000
*     /* LIBRARY AND CHECK IF IT IS A TRANSIENT              @Y30LB14*/ 00162000
*     /* VOLUME LIST TRACK.                                  @Y30LB14*/ 00163000
*     /* *********************************************       @YD00113*/ 00164000
*     /*                                                             */ 00165000
*     /***************************************************************/ 00166000
*                                                                  0032 00167000
*     B05ADDR=INADDR;               /* SET READ ADDRESS      @YD00113*/ 00168000
         L     @10,BUILDPTR(,R4)                                   0032 00169000
         MVC   B05ADDR(3,@10),INADDR(@10)                          0032 00170000
*     GEN(LINK EP=ICGDSB05);        /* READ IN A TRACK       @YD00113*/ 00171000
         LINK EP=ICGDSB05                                               00172000
*     CALL IDCHECK;                 /* CHECK TRACK ID        @YD00113*/ 00173000
         BAL   @14,IDCHECK                                         0034 00174000
*     IF STOPSCAN='1'B              /*                       @Y30LB14*/ 00175000
*       THEN                        /*                       @Y30LB14*/ 00176000
         TM    STOPSCAN,B'10000000'                                0035 00177000
         BO    @RT00035                                            0035 00178000
*       RETURN;                     /* RET. TO MAINLINE      @YD00113*/ 00179000
*                                                                  0036 00180000
*     /***************************************************************/ 00181000
*     /*                                                             */ 00182000
*     /* *********************************************       @YD00113*/ 00183000
*     /* USE POINTER IN CONTROL OF FIRST BLOCK READ          @Y30LB14*/ 00184000
*     /* FOR ADDRESS OF NEXT TRACK                           @Y30LB14*/ 00185000
*     /* *********************************************       @YD00113*/ 00186000
*     /*                                                             */ 00187000
*     /***************************************************************/ 00188000
*                                                                  0037 00189000
*     UT1VCYL=ICYL(1);              /* ADDR OF NEXT CYL      @YD00113*/ 00190000
         L     @10,BUILDPTR(,R4)                                   0037 00191000
         LH    @05,@CH00453                                        0037 00192000
         ALR   @05,@10                                             0037 00193000
         MVC   UT1VCYL(1,@10),ICYL(@05)                            0037 00194000
*     UT1VHEAD=IHEAD(1);            /* ADDR OF NEXT TRACK    @YD00113*/ 00195000
         MVC   UT1VHEAD(1,@10),IHEAD(@05)                          0038 00196000
*     UT1VREC=1;                    /*                       @Y30LB14   00197000
*                                                            @Y30LB14*/ 00198000
*                                                                  0039 00199000
         MVI   UT1VREC(@10),X'01'                                  0039 00200000
*     /***************************************************************/ 00201000
*     /*                                                             */ 00202000
*     /* *********************************************       @YD00113*/ 00203000
*     /* COPY INFORMATION FROM INPUT BUFFER TO OUTPUT        @Y30LB14*/ 00204000
*     /* BUFFER. (SOME OF THIS DATA WILL BE MODIFIED)        @YD00113*/ 00205000
*     /* *********************************************       @YD00113*/ 00206000
*     /*                                                             */ 00207000
*     /***************************************************************/ 00208000
*                                                                  0040 00209000
*     DO J=1 TO MAXREC;             /* COPY 32 BLOCKS        @YD00113*/ 00210000
         LA    J,1                                                 0040 00211000
@DL00040 DS    0H                                                  0041 00212000
*       OBLKPRFX(J)=INBLKPFX(J);    /* MOVE INPUT TRK        @Y30LB14*/ 00213000
         LR    @10,J                                               0041 00214000
         MH    @10,@CH00454                                        0041 00215000
         L     @05,BUILDPTR(,R4)                                   0041 00216000
         LH    @15,@CH00452                                        0041 00217000
         ALR   @15,@05                                             0041 00218000
         ST    @10,@TF00001                                        0041 00219000
         ALR   @10,@15                                             0041 00220000
         AL    @10,@CF00461                                        0041 00221000
         LR    @14,J                                               0041 00222000
         MH    @14,@CH00455                                        0041 00223000
         AH    @05,@CH00453                                        0041 00224000
         ST    @14,@TF00002                                        0041 00225000
         ALR   @14,@05                                             0041 00226000
         AL    @14,@CF00461                                        0041 00227000
         MVC   OBLKPRFX-8(8,@10),INBLKPFX(@14)                     0041 00228000
*       OCONTROL(J)=INCONTRL(J);    /*                       @Y30LB14*/ 00229000
         LR    @10,@15                                             0042 00230000
         AL    @10,@TF00001                                        0042 00231000
         AL    @10,@CF00462                                        0042 00232000
         LR    @01,@05                                             0042 00233000
         AL    @01,@TF00002                                        0042 00234000
         AL    @01,@CF00462                                        0042 00235000
         MVC   OCONTROL-16(8,@10),INCONTRL-8(@01)                  0042 00236000
*       OCARTBLK(J)=ICRTBLK(J);     /*                       @Y30LB14*/ 00237000
         LR    @10,@15                                             0043 00238000
         AL    @10,@TF00001                                        0043 00239000
         AL    @10,@CF00463                                        0043 00240000
         LR    @01,@05                                             0043 00241000
         AL    @01,@TF00002                                        0043 00242000
         AL    @01,@CF00463                                        0043 00243000
         MVC   OCARTBLK-24(240,@10),ICRTBLK-16(@01)                0043 00244000
*       OFILLER(J)=IFILLER(J);      /*                       @Y30LB14*/ 00245000
         AL    @15,@TF00001                                        0044 00246000
         AL    @15,@CF00464                                        0044 00247000
         AL    @05,@TF00002                                        0044 00248000
         AL    @05,@CF00464                                        0044 00249000
         MVC   OFILLER-264(8,@15),IFILLER-256(@05)                 0044 00250000
*     END;                          /*                       @Y30LB14*/ 00251000
*                                                                  0045 00252000
         AH    J,@CH00042                                          0045 00253000
         CH    J,@CH00309                                          0045 00254000
         BNH   @DL00040                                            0045 00255000
*     /***************************************************************/ 00256000
*     /*                                                             */ 00257000
*     /* *********************************************       @YD00113*/ 00258000
*     /* IN THE OUTPUT BUFFER MODIFY THE POINTER TO          @YD00113*/ 00259000
*     /* NEXT TRACK IN THE TABLE IN THE FIRST RECORD.        @YD00113*/ 00260000
*     /* CALCULATE THE POINTER TO THE NEXT TRACK FROM        @YD00113*/ 00261000
*     /* THE ADDRESS OF THE CURRENT OUTPUT TRACK.            @YD00113*/ 00262000
*     /* *********************************************       @YD00113*/ 00263000
*     /*                                                             */ 00264000
*     /***************************************************************/ 00265000
*                                                                  0046 00266000
*     ORECORD(1)=1;                 /* SET FOR RECORD 1      @YD00113*/ 00267000
         L     @10,BUILDPTR(,R4)                                   0046 00268000
         LH    @05,@CH00452                                        0046 00269000
         ALR   @05,@10                                             0046 00270000
         MVI   ORECORD(@05),X'01'                                  0046 00271000
*     OHEAD(1)=UT2VHEAD+1;          /*                       @Y30LB14*/ 00272000
         LA    @02,1                                               0047 00273000
         SLR   @15,@15                                             0047 00274000
         IC    @15,UT2VHEAD(,@10)                                  0047 00275000
         ALR   @15,@02                                             0047 00276000
         STC   @15,OHEAD(,@05)                                     0047 00277000
*     IF OHEAD(1)>18                /*                       @Y30LB14*/ 00278000
*       THEN                        /*                       @Y30LB14*/ 00279000
         CLI   OHEAD(@05),18                                       0048 00280000
         BNH   @RF00048                                            0048 00281000
*       DO;                         /*                       @Y30LB14*/ 00282000
*         OHEAD(1)=0;               /*                       @Y30LB14*/ 00283000
         MVI   OHEAD(@05),X'00'                                    0050 00284000
*         OCYL(1)=UT2VCYL+1;        /*                       @Y30LB14*/ 00285000
         MVC   @ZT00003+3(1),UT2VCYL(@10)                          0051 00286000
         AL    @02,@ZT00003                                        0051 00287000
         STC   @02,OCYL(,@05)                                      0051 00288000
*       END;                        /*                       @Y30LB14*/ 00289000
*     ELSE                          /*                       @Y30LB14*/ 00290000
*       OCYL(1)=UT2VCYL;            /*                       @Y30LB14   00291000
*                                                            @Y30LB14*/ 00292000
*                                                                  0053 00293000
         B     @RC00048                                            0053 00294000
@RF00048 L     @10,BUILDPTR(,R4)                                   0053 00295000
         LR    @05,@10                                             0053 00296000
         AL    @05,@CF00452                                        0053 00297000
         MVC   OCYL(1,@05),UT2VCYL(@10)                            0053 00298000
*     /***************************************************************/ 00299000
*     /*                                                             */ 00300000
*     /* *********************************************       @YD00113*/ 00301000
*     /* IF IT IS THE LAST TRACK IN THE LIBRARY, THEN        @Y30LB14*/ 00302000
*     /* PUT OUT ZEROS IN THE POINTER TO THE NEXT            @Y30LB14*/ 00303000
*     /* TRACK.                                              @Y30LB14*/ 00304000
*     /* *********************************************       @YD00113*/ 00305000
*     /*                                                             */ 00306000
*     /***************************************************************/ 00307000
*                                                                  0054 00308000
*     IF I=MAX                      /* PUT OUT LAST TRACK    @Y30LB14*/ 00309000
*       THEN                        /* IN THE TABLE          @Y30LB14*/ 00310000
@RC00048 CH    I,@CH00111                                          0054 00311000
         BNE   @RF00054                                            0054 00312000
*       DO;                         /*                       @Y30LB14*/ 00313000
*         OHEAD(1)=0;               /*                       @Y30LB14*/ 00314000
         LH    @10,@CH00452                                        0056 00315000
         AL    @10,BUILDPTR(,R4)                                   0056 00316000
         MVI   OHEAD(@10),X'00'                                    0056 00317000
*         OCYL(1)=0;                /*                       @Y30LB14*/ 00318000
         MVI   OCYL(@10),X'00'                                     0057 00319000
*         ORECORD(1)=0;             /*                       @Y30LB14*/ 00320000
         MVI   ORECORD(@10),X'00'                                  0058 00321000
*       END;                        /*                       @Y30LB14*/ 00322000
*                                                                  0059 00323000
*     /***************************************************************/ 00324000
*     /*                                                             */ 00325000
*     /* *********************************************       @YD00113*/ 00326000
*     /* PUT THE CONTROL INFORMATION IN ALL 32 BLOCKS        @Y30LB14*/ 00327000
*     /* OF THE TRACK                                        @Y30LB14*/ 00328000
*     /* *********************************************       @YD00113*/ 00329000
*     /*                                                             */ 00330000
*     /***************************************************************/ 00331000
*                                                                  0060 00332000
*     DO J=2 TO MAXREC;             /* COPY FROM BLOCK 1     @YD00113*/ 00333000
@RF00054 LA    J,2                                                 0060 00334000
@DL00060 DS    0H                                                  0061 00335000
*       OHEAD(J)=OHEAD(1);          /* UPDATE NEXT HEAD      @YD00113*/ 00336000
         LR    @10,J                                               0061 00337000
         MH    @10,@CH00454                                        0061 00338000
         LH    @05,@CH00452                                        0061 00339000
         AL    @05,BUILDPTR(,R4)                                   0061 00340000
         SLR   @15,@15                                             0061 00341000
         IC    @15,OHEAD(,@05)                                     0061 00342000
         LA    @14,0(@10,@05)                                      0061 00343000
         AL    @14,@CF00465                                        0061 00344000
         STC   @15,OHEAD-22(,@14)                                  0061 00345000
*       OCYL(J)=OCYL(1);            /* UPDATE NEXT CYL       @YD00113*/ 00346000
         SLR   @15,@15                                             0062 00347000
         IC    @15,OCYL(,@05)                                      0062 00348000
         LA    @14,0(@10,@05)                                      0062 00349000
         AL    @14,@CF00466                                        0062 00350000
         STC   @15,OCYL-21(,@14)                                   0062 00351000
*       ORECORD(J)=ORECORD(1);      /*                       @Y30LB14*/ 00352000
         SLR   @15,@15                                             0063 00353000
         IC    @15,ORECORD(,@05)                                   0063 00354000
         AL    @05,@CF00467                                        0063 00355000
         STC   @15,ORECORD-23(@10,@05)                             0063 00356000
*     END;                          /*                       @Y30LB14   00357000
*                                                            @Y30LB14*/ 00358000
*                                                                  0064 00359000
         AH    J,@CH00042                                          0064 00360000
         CH    J,@CH00309                                          0064 00361000
         BNH   @DL00060                                            0064 00362000
*     /***************************************************************/ 00363000
*     /*                                                             */ 00364000
*     /* *********************************************       @YD00113*/ 00365000
*     /* PUT IN THE TRACK AND CYLINDER ADDRESS IN THE        @Y30LB14*/ 00366000
*     /* PREFIX OF THE BLOCK IN ALL 32 BLOCKS OF THE         @Y30LB14*/ 00367000
*     /* TRACK.                                              @Y30LB14*/ 00368000
*     /* *********************************************       @YD00113*/ 00369000
*     /*                                                             */ 00370000
*     /***************************************************************/ 00371000
*                                                                  0065 00372000
*     DO J=1 TO MAXREC;             /* FOR 32 BLOCKS         @YD00113*/ 00373000
         LA    J,1                                                 0065 00374000
@DL00065 DS    0H                                                  0066 00375000
*       OUTREC(J)=J;                /* RECORDS 1-32          @YD00113*/ 00376000
         LR    @10,J                                               0066 00377000
         MH    @10,@CH00454                                        0066 00378000
         L     @05,BUILDPTR(,R4)                                   0066 00379000
         LH    @15,@CH00452                                        0066 00380000
         ALR   @15,@05                                             0066 00381000
         LA    @01,0(@10,@15)                                      0066 00382000
         AL    @01,@CF00468                                        0066 00383000
         STC   J,OUTREC-11(,@01)                                   0066 00384000
*       OUTHEAD(J)=UT2VHEAD;        /* CURRENT TRACK         @YD00113*/ 00385000
         SLR   @14,@14                                             0067 00386000
         IC    @14,UT2VHEAD(,@05)                                  0067 00387000
         LA    @01,0(@10,@15)                                      0067 00388000
         AL    @01,@CF00469                                        0067 00389000
         STC   @14,OUTHEAD-10(,@01)                                0067 00390000
*       OUTCYL(J)=UT2VCYL;          /* CURRENT CYLINDER      @YD00113*/ 00391000
         SLR   @14,@14                                             0068 00392000
         IC    @14,UT2VCYL(,@05)                                   0068 00393000
         AL    @15,@CF00470                                        0068 00394000
         STC   @14,OUTCYL-9(@10,@15)                               0068 00395000
*     END;                          /*                       @Y30LB14*/ 00396000
*                                                                  0069 00397000
         AH    J,@CH00042                                          0069 00398000
         CH    J,@CH00309                                          0069 00399000
         BNH   @DL00065                                            0069 00400000
*     /***************************************************************/ 00401000
*     /*                                                             */ 00402000
*     /* *********************************************       @YD00113*/ 00403000
*     /* WRITE OUT THE TRACK AND UPDATE THE TRACK AND        @Y30LB14*/ 00404000
*     /* CYLINDER TO THE NEXT AVAILABLE.                     @Y30LB14*/ 00405000
*     /* *********************************************       @YD00113*/ 00406000
*     /*                                                             */ 00407000
*     /***************************************************************/ 00408000
*                                                                  0070 00409000
*     CALL WRITE;                   /* WRITE OUT THE TRACK   @Y30LB14*/ 00410000
         BAL   @14,WRITE                                           0070 00411000
*   END;                            /* WROTE 30 TRACKS       @YD00113*/ 00412000
         AH    I,@CH00042                                          0071 00413000
         CH    I,@CH00111                                          0071 00414000
         BNH   @DL00031                                            0071 00415000
*   END COPYLIB;                    /* RET. TO MAINLINE      @YD00113*/ 00416000
@EL00002 DS    0H                                                  0072 00417000
@EF00002 DS    0H                                                  0072 00418000
@ER00002 LM    @14,@12,@SA00002                                    0072 00419000
         BR    @14                                                 0072 00420000
*                                                                  0073 00421000
*/********************************************************** @YD00113*/ 00422000
*/*                                                          @YD00113*/ 00423000
*/* PROCEDURE NAME - EMPTYLIB                                @YD00113*/ 00424000
*/*                                                          @YD00113*/ 00425000
*/* FUNCTION - THIS ROUTINE BUILDS A NEW TRANSIENT VOLUME    @YD00113*/ 00426000
*/*            LIST.  ALL AREAS ARE INITIALIZED TO BINARY    @YD00113*/ 00427000
*/*            ZEROS EXCEPT THE PREFIX AND CONTROL DATA      @YD00113*/ 00428000
*/*            AREAS.                                        @YD00113*/ 00429000
*/*                                                          @YD00113*/ 00430000
*/********************************************************** @YD00113*/ 00431000
*                                                                  0073 00432000
*EMPTYLIB:                                                         0073 00433000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00434000
*                                                                  0073 00435000
EMPTYLIB STM   @14,@12,@SA00003                                    0073 00436000
*   /*****************************************************************/ 00437000
*   /*                                                               */ 00438000
*   /* ***********************************************       @YD00113*/ 00439000
*   /* FOR ALL TRACKS BUT THE LAST TRACK, CALL THE           @YD00113*/ 00440000
*   /* FOLLOWING PROCEDURES.                                 @YD00113*/ 00441000
*   /* ***********************************************       @YD00113*/ 00442000
*   /*                                                               */ 00443000
*   /*****************************************************************/ 00444000
*                                                                  0074 00445000
*   DO I=1 TO MAX-1;                /*                       @Y30LB14*/ 00446000
         LA    I,1                                                 0074 00447000
@DL00074 DS    0H                                                  0075 00448000
*     CALL WRANYTRK;                /* WRITE BASIC INFO IN A TRACK 0075 00449000
*                                                            @Y30LB14*/ 00450000
         BAL   @14,WRANYTRK                                        0075 00451000
*     CALL WRITETRK;                /* PUT PREFIX INFO IN THE TRACK     00452000
*                                                            @Y30LB14*/ 00453000
         BAL   @14,WRITETRK                                        0076 00454000
*   END;                            /*                       @Y30LB14*/ 00455000
*                                                                  0077 00456000
         AH    I,@CH00042                                          0077 00457000
         CH    I,@CH00314                                          0077 00458000
         BNH   @DL00074                                            0077 00459000
*   /*****************************************************************/ 00460000
*   /*                                                               */ 00461000
*   /* ***********************************************       @YD00113*/ 00462000
*   /* CALL THE FOLLOWING PROCEDURES TO BUILD THE            @YD00113*/ 00463000
*   /* LAST TRANSIENT VOLUME TABLE TRACK                     @YD00113*/ 00464000
*   /* ***********************************************       @YD00113*/ 00465000
*   /*                                                               */ 00466000
*   /*****************************************************************/ 00467000
*                                                                  0078 00468000
*   CALL WRANYTRK;                  /* WRITE BASIC INFO IN A TRACK 0078 00469000
*                                                            @Y30LB14*/ 00470000
         BAL   @14,WRANYTRK                                        0078 00471000
*   CALL WRLASTTK;                  /* MODIFY TRACK INTO LAST TRACK     00472000
*                                                            @Y30LB14*/ 00473000
         BAL   @14,WRLASTTK                                        0079 00474000
*   CALL WRITETRK;                  /* PUT PREFIX INFO IN THE TRACK     00475000
*                                                            @Y30LB14*/ 00476000
         BAL   @14,WRITETRK                                        0080 00477000
*   RETURN;                         /* RETURN TO CALLER      @Y30LB14*/ 00478000
@EL00003 DS    0H                                                  0081 00479000
@EF00003 DS    0H                                                  0081 00480000
@ER00003 LM    @14,@12,@SA00003                                    0081 00481000
         BR    @14                                                 0081 00482000
*   END EMPTYLIB;                   /*                       @Y30LB14*/ 00483000
*                                                                  0083 00484000
*/********************************************************** @YD00113*/ 00485000
*/*                                                          @YD00113*/ 00486000
*/* PROCEDURE NAME - IDCHECK                                 @YD00113*/ 00487000
*/*                                                          @YD00113*/ 00488000
*/* FUNCTION - VERIFY THAT THE INPUT TRACK JUST READ         @YD00113*/ 00489000
*/*            CONTAINS THE TABLE ID ('50'X) OF THE          @YD00113*/ 00490000
*/*            TRANSIENT VOLUME LIST.                        @YD00113*/ 00491000
*/*                                                          @YD00113*/ 00492000
*/********************************************************** @YD00113*/ 00493000
*                                                                  0083 00494000
*IDCHECK:                                                          0083 00495000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00496000
IDCHECK  STM   @14,@12,@SA00004                                    0083 00497000
*   IF INTABLID(1)^='01010000'B     /*                       @Y30LB14*/ 00498000
*     THEN                          /*                       @Y30LB14*/ 00499000
         L     @10,BUILDPTR(,R4)                                   0084 00500000
         AL    @10,@CF00453                                        0084 00501000
         CLI   INTABLID(@10),B'01010000'                           0084 00502000
         BE    @RF00084                                            0084 00503000
*     DO;                           /*                       @Y30LB14*/ 00504000
*       OUTBUF2(1:62)=ICGDS410;     /*                       @YD00113*/ 00505000
         MVC   OUTBUF2(62,R4),ICGDS410                             0086 00506000
*       RETCODE=RETCODEC;           /* RETURN CODE OF 12     @YD00113*/ 00507000
         MVC   RETCODE(2,R4),@CH00128                              0087 00508000
*       CALL PUTIT1;                /* TO MESSAGE WRITER     @YD00113*/ 00509000
         BAL   @14,PUTIT1                                          0088 00510000
*     END;                          /*                       @Y30LB14*/ 00511000
*   END IDCHECK;                    /* RETURN TO COPYLIB     @YD00113*/ 00512000
@EL00004 DS    0H                                                  0090 00513000
@EF00004 DS    0H                                                  0090 00514000
@ER00004 LM    @14,@12,@SA00004                                    0090 00515000
         BR    @14                                                 0090 00516000
*                                                                  0091 00517000
*/********************************************************** @YD00113*/ 00518000
*/*                                                          @YD00113*/ 00519000
*/* PROCEDURE NAME - WRLASTTK                                @YD00113*/ 00520000
*/*                                                          @YD00113*/ 00521000
*/* FUNCTION - THIS ROUTINE MODIFIES THE NORMAL CONTROL BIT  @YD00113*/ 00522000
*/*            SETTINGS TO INDICATE LAST TRACK OF TABLE      @YD00113*/ 00523000
*/*            AND TO INDICATE LAST BLOCK OF LAST TRACK.     @YD00113*/ 00524000
*/*            THIS ROUTINE ALSO SETS THE POINTER TO THE     @YD00113*/ 00525000
*/*            NEXT TRACK (CHR) TO ZEROS.                    @YD00113*/ 00526000
*/*                                                          @YD00113*/ 00527000
*/********************************************************** @YD00113*/ 00528000
*                                                                  0091 00529000
*WRLASTTK:                                                         0091 00530000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00531000
*                                                                  0091 00532000
WRLASTTK STM   @14,@12,12(@13)                                     0091 00533000
*   /*****************************************************************/ 00534000
*   /*                                                               */ 00535000
*   /* ***********************************************       @YD00113*/ 00536000
*   /* PUT CONTROL BIT INFORMATION IN ALL 32 BLOCKS          @Y30LB14*/ 00537000
*   /* OF THE LAST TRACK                                     @Y30LB14*/ 00538000
*   /* ***********************************************       @YD00113*/ 00539000
*   /*                                                               */ 00540000
*   /*****************************************************************/ 00541000
*                                                                  0092 00542000
*   DO I=1 TO MAXREC;               /* UPDATE 32 BLOCKS      @YD00113*/ 00543000
         LA    I,1                                                 0092 00544000
@DL00092 DS    0H                                                  0093 00545000
*     OLTIT(I)='1'B;                /* LAST TRACK BIT        @YD00113*/ 00546000
         LR    @10,I                                               0093 00547000
         MH    @10,@CH00454                                        0093 00548000
         LH    @05,@CH00452                                        0093 00549000
         AL    @05,BUILDPTR(,R4)                                   0093 00550000
         ST    @10,@TF00001                                        0093 00551000
         ALR   @10,@05                                             0093 00552000
         AL    @10,@CF00462                                        0093 00553000
         OI    OLTIT-16(@10),B'00010000'                           0093 00554000
*     OCYL(I)=0;                    /* NO NEXT CYLINDER      @YD00113*/ 00555000
         SLR   @10,@10                                             0094 00556000
         L     @02,@TF00001                                        0094 00557000
         AL    @02,@CF00466                                        0094 00558000
         STC   @10,OCYL-21(@02,@05)                                0094 00559000
*     OHEAD(I)=0;                   /* NO NEXT TRACK         @YD00113*/ 00560000
         L     @02,@TF00001                                        0095 00561000
         AL    @02,@CF00465                                        0095 00562000
         STC   @10,OHEAD-22(@02,@05)                               0095 00563000
*     ORECORD(I)=0;                 /* NO NEXT RECORD        @YD00113*/ 00564000
         L     @02,@TF00001                                        0096 00565000
         AL    @05,@CF00467                                        0096 00566000
         STC   @10,ORECORD-23(@02,@05)                             0096 00567000
*   END;                            /*                       @Y30LB14*/ 00568000
*                                                                  0097 00569000
         AH    I,@CH00042                                          0097 00570000
         CH    I,@CH00309                                          0097 00571000
         BNH   @DL00092                                            0097 00572000
*   /*****************************************************************/ 00573000
*   /*                                                               */ 00574000
*   /* ***********************************************       @YD00113*/ 00575000
*   /* SET LAST TABLE BLOCK IN VERY LAST RECORD              @YD00113*/ 00576000
*   /* ***********************************************       @YD00113*/ 00577000
*   /*                                                               */ 00578000
*   /*****************************************************************/ 00579000
*                                                                  0098 00580000
*   OLTB(MAXREC)='1'B;              /*                       @YD00113*/ 00581000
         L     @10,BUILDPTR(,R4)                                   0098 00582000
         AL    @10,@CF00472                                        0098 00583000
         OI    OLTB(@10),B'10000000'                               0098 00584000
*   END WRLASTTK;                   /* RET. TO EMPTYLIB      @YD00113   00585000
*                                                            @Y30LB14*/ 00586000
@EL00005 DS    0H                                                  0099 00587000
@EF00005 DS    0H                                                  0099 00588000
@ER00005 LM    @14,@12,12(@13)                                     0099 00589000
         BR    @14                                                 0099 00590000
*                                                                  0100 00591000
*/********************************************************** @YD00113*/ 00592000
*/*                                                          @YD00113*/ 00593000
*/* PROCEDURE NAME - WRANYTRK                                @YD00113*/ 00594000
*/*                                                          @YD00113*/ 00595000
*/* FUNCTION - THIS ROUTINE WRITE THE BASIC INFORMATION      @YD00113*/ 00596000
*/*            NEEDED TO INITIALLY BUILD A TRACK IN THE      @YD00113*/ 00597000
*/*            TRANSIENT VOLUME LIST.  IF THE TRACK BEING    @YD00113*/ 00598000
*/*            IS THE LAST TRACK IN THE LIST, THE DATA WILL  @YD00113*/ 00599000
*/*            BE MODIFIED IN THE PROCEDURE 'WRLASTTK'.      @YD00113*/ 00600000
*/*                                                          @YD00113*/ 00601000
*/********************************************************** @YD00113*/ 00602000
*                                                                  0100 00603000
*WRANYTRK:                                                         0100 00604000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00605000
*                                                                  0100 00606000
WRANYTRK STM   @14,@12,12(@13)                                     0100 00607000
*   /*****************************************************************/ 00608000
*   /*                                                               */ 00609000
*   /* ***********************************************       @YD00113*/ 00610000
*   /* BUILD THE CONTROL DATA PORTION IN THE FIRST           @YD00113*/ 00611000
*   /* BLOCK OF THE TRACK TO BE WRITTEN.                     @YD00113*/ 00612000
*   /* ***********************************************       @YD00113*/ 00613000
*   /*                                                               */ 00614000
*   /*****************************************************************/ 00615000
*                                                                  0101 00616000
*   OLTB(1)='0'B;                   /* NOT VERY LAST BLK     @YD00113*/ 00617000
*   OLAB(1)='0'B;                   /* NOT LAST ACTIVE       @YD00113*/ 00618000
*   OEOTB(1)='0'B;                  /* NOT LAST BLK/TRK      @YD00113*/ 00619000
*   OLTIT(1)='0'B;                  /* NOT LAST TRACK        @YD00113*/ 00620000
         LH    @10,@CH00452                                        0104 00621000
         AL    @10,BUILDPTR(,R4)                                   0104 00622000
         NI    OLTB(@10),B'00001111'                               0104 00623000
*   OCOMPLEN(1)='1100'B;            /* COMPARE LENGTH=12     @YD00113*/ 00624000
         NI    OCOMPLEN(@10),B'11111100'                           0105 00625000
         OI    OCOMPLEN(@10),B'00001100'                           0105 00626000
*   OENTRYLN(1)=24;                 /* ENTRY LENGTH = 24     @YD00113*/ 00627000
         MVI   OENTRYLN(@10),X'18'                                 0106 00628000
*   OMAXEPB(1)=10;                  /* ENTRIES/TRACK=10      @YD00113*/ 00629000
         MVI   OMAXEPB(@10),X'0A'                                  0107 00630000
*   OUSECNT(1)=0;                   /* NO ENTRIES IN USE     @YD00113*/ 00631000
         MVI   OUSECNT(@10),X'00'                                  0108 00632000
*   OVOLUME(1)=0;                   /* RESERVED, ZEROS       @YD00113*/ 00633000
*                                                                  0109 00634000
         MVI   OVOLUME(@10),X'00'                                  0109 00635000
*   /*****************************************************************/ 00636000
*   /*                                                               */ 00637000
*   /* ***********************************************       @YD00113*/ 00638000
*   /* CALCULATE THE VIRTUAL CHR OF THE NEXT TRACK           @YD00113*/ 00639000
*   /* ***********************************************       @YD00113*/ 00640000
*   /*                                                               */ 00641000
*   /*****************************************************************/ 00642000
*                                                                  0110 00643000
*   IF OUTHEAD(1)+1>18              /*                       @Y30LB14*/ 00644000
*     THEN                          /*                       @Y30LB14*/ 00645000
         LA    @05,1                                               0110 00646000
         SLR   @15,@15                                             0110 00647000
         IC    @15,OUTHEAD(,@10)                                   0110 00648000
         ALR   @15,@05                                             0110 00649000
         CH    @15,@CH00420                                        0110 00650000
         BNH   @RF00110                                            0110 00651000
*     DO;                           /*                       @Y30LB14*/ 00652000
*       OHEAD(1)=0;                 /*                       @Y30LB14*/ 00653000
         MVI   OHEAD(@10),X'00'                                    0112 00654000
*       OCYL(1)=OUTCYL(1)+1;        /*                       @Y30LB14*/ 00655000
         MVC   @ZT00003+3(1),OUTCYL(@10)                           0113 00656000
         AL    @05,@ZT00003                                        0113 00657000
         STC   @05,OCYL(,@10)                                      0113 00658000
*     END;                          /*                       @Y30LB14*/ 00659000
*   ELSE                            /*                       @Y30LB14*/ 00660000
*     DO;                           /*                       @Y30LB14*/ 00661000
         B     @RC00110                                            0115 00662000
@RF00110 DS    0H                                                  0116 00663000
*       OHEAD(1)=OUTHEAD(1)+1;      /*                       @Y30LB14*/ 00664000
         LH    @10,@CH00452                                        0116 00665000
         AL    @10,BUILDPTR(,R4)                                   0116 00666000
         LA    @05,1                                               0116 00667000
         MVC   @ZT00003+3(1),OUTHEAD(@10)                          0116 00668000
         AL    @05,@ZT00003                                        0116 00669000
         STC   @05,OHEAD(,@10)                                     0116 00670000
*       OCYL(1)=OUTCYL(1);          /*                       @Y30LB14*/ 00671000
         MVC   OCYL(1,@10),OUTCYL(@10)                             0117 00672000
*     END;                          /*                       @Y30LB14*/ 00673000
*   ORECORD(1)=1;                   /*                       @Y30LB14*/ 00674000
*                                                                  0119 00675000
@RC00110 LH    @10,@CH00452                                        0119 00676000
         AL    @10,BUILDPTR(,R4)                                   0119 00677000
         MVI   ORECORD(@10),X'01'                                  0119 00678000
*   /*****************************************************************/ 00679000
*   /*                                                               */ 00680000
*   /* ***********************************************       @YD00113*/ 00681000
*   /* SET AREA FOR TEN TRANSIENT VOLUME ENTRIES AND         @YD00113*/ 00682000
*   /* RESERVED AREA TO BINARY ZEROS                         @YD00113*/ 00683000
*   /* ***********************************************       @YD00113*/ 00684000
*   /*                                                               */ 00685000
*   /*****************************************************************/ 00686000
*                                                                  0120 00687000
*   OCARTBLK(1)=''B;                /* 10 TRANSVOL ENTRIES   @YD00113*/ 00688000
         XC    OCARTBLK(240,@10),OCARTBLK(@10)                     0120 00689000
*   OFILLER(1)=''B;                 /* SET FILLER TO ZERO    @Y30LB14*/ 00690000
*                                                                  0121 00691000
         XC    OFILLER(8,@10),OFILLER(@10)                         0121 00692000
*   /*****************************************************************/ 00693000
*   /*                                                               */ 00694000
*   /* ***********************************************       @YD00113*/ 00695000
*   /* COPY INFORMATION FROM FIRST BLOCK TO THE              @YD00113*/ 00696000
*   /* REMAINING 31 BLOCKS ON THIS TRACK.                    @YD00113*/ 00697000
*   /* ***********************************************       @YD00113*/ 00698000
*   /*                                                               */ 00699000
*   /*****************************************************************/ 00700000
*                                                                  0122 00701000
*   DO J=2 TO MAXREC;               /* PUT IN ALL 32 BLOCKS  @YM01061*/ 00702000
         LA    J,2                                                 0122 00703000
@DL00122 DS    0H                                                  0123 00704000
*     OCONTROL(J)=OCONTROL(1);      /*                       @Y30LB14*/ 00705000
         LR    @10,J                                               0123 00706000
         MH    @10,@CH00454                                        0123 00707000
         LH    @05,@CH00452                                        0123 00708000
         AL    @05,BUILDPTR(,R4)                                   0123 00709000
         ST    @10,@TF00001                                        0123 00710000
         ALR   @10,@05                                             0123 00711000
         AL    @10,@CF00462                                        0123 00712000
         MVC   @TS00001(8),OCONTROL(@05)                           0123 00713000
         MVC   OCONTROL-16(8,@10),@TS00001                         0123 00714000
*     OCARTBLK(J)=OCARTBLK(1);      /*                       @Y30LB14*/ 00715000
         LR    @10,@05                                             0124 00716000
         AL    @10,@TF00001                                        0124 00717000
         AL    @10,@CF00463                                        0124 00718000
         MVC   @TS00001(240),OCARTBLK(@05)                         0124 00719000
         MVC   OCARTBLK-24(240,@10),@TS00001                       0124 00720000
*     OFILLER(J)=OFILLER(1);        /*                       @Y30LB14*/ 00721000
         LR    @10,@05                                             0125 00722000
         AL    @10,@TF00001                                        0125 00723000
         AL    @10,@CF00464                                        0125 00724000
         MVC   @TS00001(8),OFILLER(@05)                            0125 00725000
         MVC   OFILLER-264(8,@10),@TS00001                         0125 00726000
*   END;                            /*                       @Y30LB14*/ 00727000
*                                                                  0126 00728000
         AH    J,@CH00042                                          0126 00729000
         CH    J,@CH00309                                          0126 00730000
         BNH   @DL00122                                            0126 00731000
*   /*****************************************************************/ 00732000
*   /*                                                               */ 00733000
*   /* ***********************************************       @YD00113*/ 00734000
*   /* SET END OF TRACK BLOCK                                @Y30LB14*/ 00735000
*   /* ***********************************************       @YD00113*/ 00736000
*   /*                                                               */ 00737000
*   /*****************************************************************/ 00738000
*                                                                  0127 00739000
*   OEOTB(MAXREC)='1'B;             /*                       @YM01061*/ 00740000
         L     @10,BUILDPTR(,R4)                                   0127 00741000
         AL    @10,@CF00472                                        0127 00742000
         OI    OEOTB(@10),B'00100000'                              0127 00743000
*   END WRANYTRK;                   /* RET. TO EMPTYLIB      @YD00113*/ 00744000
@EL00006 DS    0H                                                  0128 00745000
@EF00006 DS    0H                                                  0128 00746000
@ER00006 LM    @14,@12,12(@13)                                     0128 00747000
         BR    @14                                                 0128 00748000
*                                                                  0129 00749000
*/********************************************************** @YD00113*/ 00750000
*/*                                                          @YD00113*/ 00751000
*/* PROCEDURE NAME - WRITETRK                                @YD00113*/ 00752000
*/*                                                          @YD00113*/ 00753000
*/* FUNCTION - BUILD THE VIRTUAL CHR OF EACH RECORD IN THE   @YD00113*/ 00754000
*/*            PREFIX AREA AND CALL THE PROCEDURE 'WRITE'    @YD00113*/ 00755000
*/*            TO WRITE THE 32 RECORDS ON THE TRACK          @YD00113*/ 00756000
*/*                                                          @YD00113*/ 00757000
*/********************************************************** @YD00113*/ 00758000
*                                                                  0129 00759000
*WRITETRK:                                                         0129 00760000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00761000
WRITETRK STM   @14,@12,@SA00007                                    0129 00762000
*   DO J=1 TO MAXREC;               /*                       @YD00113*/ 00763000
         LA    J,1                                                 0130 00764000
@DL00130 DS    0H                                                  0131 00765000
*     OUTREC(J)=J;                  /* SET THE PREFIX RECORD NUM   0131 00766000
*                                                            @Y30LB14*/ 00767000
         LR    @10,J                                               0131 00768000
         MH    @10,@CH00454                                        0131 00769000
         LH    @05,@CH00452                                        0131 00770000
         AL    @05,BUILDPTR(,R4)                                   0131 00771000
         LA    @03,0(@10,@05)                                      0131 00772000
         AL    @03,@CF00468                                        0131 00773000
         STC   J,OUTREC-11(,@03)                                   0131 00774000
*     OUTHEAD(J)=OUTHEAD(1);        /* SET THE HEAD NUMBER   @Y30LB14*/ 00775000
         SLR   @03,@03                                             0132 00776000
         IC    @03,OUTHEAD(,@05)                                   0132 00777000
         LA    @01,0(@10,@05)                                      0132 00778000
         AL    @01,@CF00469                                        0132 00779000
         STC   @03,OUTHEAD-10(,@01)                                0132 00780000
*     OUTCYL(J)=OUTCYL(1);          /* SET THE CYL NUMBER    @Y30LB14*/ 00781000
         SLR   @03,@03                                             0133 00782000
         IC    @03,OUTCYL(,@05)                                    0133 00783000
         LA    @01,0(@10,@05)                                      0133 00784000
         AL    @01,@CF00470                                        0133 00785000
         STC   @03,OUTCYL-9(,@01)                                  0133 00786000
*     OUTFLR(J)=''B;                /* SET FILLER TO ZERO    @Y30LB14*/ 00787000
         ST    @10,@TF00001                                        0134 00788000
         ALR   @10,@05                                             0134 00789000
         AL    @10,@CF00477                                        0134 00790000
         XC    OUTFLR-12(4,@10),OUTFLR-12(@10)                     0134 00791000
*     OUTABLID(J)='01010000'B;      /* SET TABLE ID          @Y30LB14*/ 00792000
         AL    @05,@TF00001                                        0135 00793000
         AL    @05,@CF00461                                        0135 00794000
         MVI   OUTABLID-8(@05),B'01010000'                         0135 00795000
*   END;                            /*                       @Y30LB14*/ 00796000
         AH    J,@CH00042                                          0136 00797000
         CH    J,@CH00309                                          0136 00798000
         BNH   @DL00130                                            0136 00799000
*   CALL WRITE;                     /* WRITE OUT THE TRACK   @Y30LB14*/ 00800000
         BAL   @14,WRITE                                           0137 00801000
*   END WRITETRK;                   /* RETURN TO CALLER      @YD00113*/ 00802000
@EL00007 DS    0H                                                  0138 00803000
@EF00007 DS    0H                                                  0138 00804000
@ER00007 LM    @14,@12,@SA00007                                    0138 00805000
         BR    @14                                                 0138 00806000
*                                                                  0139 00807000
*/********************************************************** @YD00113*/ 00808000
*/*                                                          @YD00113*/ 00809000
*/* PROCEDURE NAME - WRITE                                   @YD00113*/ 00810000
*/*                                                          @YD00113*/ 00811000
*/* FUNCTION - WRITE THE CURRENT TRACK AND UPDATE THE        @YD00113*/ 00812000
*/*            CYLINDER AND HEAD INFORMATION TO POINT AT     @YD00113*/ 00813000
*/*            NEXT TRACK.                                   @YD00113*/ 00814000
*/*                                                          @YD00113*/ 00815000
*/********************************************************** @YD00113*/ 00816000
*                                                                  0139 00817000
*WRITE:                                                            0139 00818000
*   PROCEDURE;                      /*                       @Y30LB14*/ 00819000
WRITE    STM   @14,@12,@SA00008                                    0139 00820000
*   B06ADDR=OUTADDR;                /* SET OUTPUT ADDRESS BOR B06  0140 00821000
*                                                            @Y30LB14*/ 00822000
         L     @10,BUILDPTR(,R4)                                   0140 00823000
         MVC   B06ADDR(3,@10),OUTADDR(@10)                         0140 00824000
*   GEN(LINK EP=ICGDSB06);          /* WRITE OUT TRACK       @Y30LB14*/ 00825000
         LINK EP=ICGDSB06                                               00826000
*   UT2VHEAD=UT2VHEAD+1;            /* INCR TO NEXT TRACK    @Y30LB14*/ 00827000
         L     @10,BUILDPTR(,R4)                                   0142 00828000
         LA    @05,1                                               0142 00829000
         SLR   @15,@15                                             0142 00830000
         IC    @15,UT2VHEAD(,@10)                                  0142 00831000
         ALR   @15,@05                                             0142 00832000
         STC   @15,UT2VHEAD(,@10)                                  0142 00833000
*   IF UT2VHEAD>18                  /*                       @Y30LB14*/ 00834000
*     THEN                          /*                       @Y30LB14*/ 00835000
         CLI   UT2VHEAD(@10),18                                    0143 00836000
         BNH   @RF00143                                            0143 00837000
*     DO;                           /*                       @Y30LB14*/ 00838000
*       UT2VHEAD=0;                 /* SET TRACK TO ZERO     @Y30LB14*/ 00839000
         MVI   UT2VHEAD(@10),X'00'                                 0145 00840000
*       UT2VCYL=UT2VCYL+1;          /* INCR TO NEXT CYL      @Y30LB14*/ 00841000
         MVC   @ZT00003+3(1),UT2VCYL(@10)                          0146 00842000
         AL    @05,@ZT00003                                        0146 00843000
         STC   @05,UT2VCYL(,@10)                                   0146 00844000
*     END;                          /*                       @Y30LB14*/ 00845000
*   OUTCYL(1)=UT2VCYL;              /* SET FOR NEXT AVAIL CYL      0148 00846000
*                                                            @Y30LB14*/ 00847000
@RF00143 L     @10,BUILDPTR(,R4)                                   0148 00848000
         LH    @05,@CH00452                                        0148 00849000
         ALR   @05,@10                                             0148 00850000
         MVC   OUTCYL(1,@05),UT2VCYL(@10)                          0148 00851000
*   OUTHEAD(1)=UT2VHEAD;            /* SET FOR NEXT AVAIL HEAD     0149 00852000
*                                                            @Y30LB14*/ 00853000
         MVC   OUTHEAD(1,@05),UT2VHEAD(@10)                        0149 00854000
*   END WRITE;                      /* RETURN TO CALLER      @YD00113*/ 00855000
@EL00008 DS    0H                                                  0150 00856000
@EF00008 DS    0H                                                  0150 00857000
@ER00008 LM    @14,@12,@SA00008                                    0150 00858000
         BR    @14                                                 0150 00859000
*                                                                  0151 00860000
*/***********************************************************@Y30LB12*/ 00861000
*/*                                                          @Y30LB12*/ 00862000
*/* PROCEDURE NAME - PUTIT1                                  @Y30LB12*/ 00863000
*/*                                                          @Y30LB12*/ 00864000
*/* FUNCTION - CALL ICGDSMSG, MESSAGE PRINT SUBROUTINE, TO   @Y30LB12*/ 00865000
*/*            PUT TERMINATING MESSAGE FOR WHICH TEXT IS NOT @Y30LB12*/ 00866000
*/*            IN ICGDSMSG BUT ALREADY BUILT IN 'OUTBUF2'    @Y30LB12*/ 00867000
*/*                                                          @Y30LB12*/ 00868000
*/***********************************************************@Y30LB12*/ 00869000
*                                                                  0151 00870000
*PUTIT1:                                                           0151 00871000
*   PROCEDURE;                      /*                       @Y30LB12*/ 00872000
PUTIT1   STM   @14,@12,@SA00009                                    0151 00873000
*   STOPSCAN='1'B;                  /*                       @Y30LB12*/ 00874000
         OI    STOPSCAN,B'10000000'                                0152 00875000
*   PRNTBUF2='1'B;                  /*                       @Y30LB12*/ 00876000
         OI    PRNTBUF2(R4),B'00000001'                            0153 00877000
*   TERMINAT=TERMINAT+1;            /*                       @Y30LB12*/ 00878000
         LA    @10,1                                               0154 00879000
         AH    @10,TERMINAT(,R4)                                   0154 00880000
         STH   @10,TERMINAT(,R4)                                   0154 00881000
*   GEN(LINK  EP=ICGDSMSG);         /*                       @Y30LB12*/ 00882000
         LINK  EP=ICGDSMSG                                              00883000
*   PRNTBUF2='0'B;                  /*                       @Y30LB12*/ 00884000
         NI    PRNTBUF2(R4),B'11111110'                            0156 00885000
*   END PUTIT1;                     /*                       @Y30LB12*/ 00886000
@EL00009 DS    0H                                                  0157 00887000
@EF00009 DS    0H                                                  0157 00888000
@ER00009 LM    @14,@12,@SA00009                                    0157 00889000
         BR    @14                                                 0157 00890000
*                                                                  0158 00891000
*/********************************************************** @YD00113*/ 00892000
*/*                P A T C H   A R E A                       @YD00113*/ 00893000
*/********************************************************** @YD00113*/ 00894000
*                                                                  0158 00895000
*   GENERATE;                                                      0158 00896000
*                                                         /*@YD00113*/  00897000
PATCHB13 DC    32C'PATCHB13'                              /*@YD00113*/  00898000
*   END ICGDSB13                    /*                       @Y30LB14*/ 00899000
*                                                                  0159 00900000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 00901000
*/*%INCLUDE SYSLIB  (ICGDSMAC)                                       */ 00902000
*/*%INCLUDE SYSLIB  (ICGDSMA5)                                       */ 00903000
*/*%INCLUDE SYSLIB  (ICGDSMA2)                                       */ 00904000
*                                                                  0159 00905000
*       ;                                                          0159 00906000
         B     @EL00001                                            0159 00907000
@DATA    DS    0H                                                       00908000
@CH00042 DC    H'1'                                                     00909000
@CH00128 DC    H'12'                                                    00910000
@CH00420 DC    H'18'                                                    00911000
@CH00314 DC    H'29'                                                    00912000
@CH00111 DC    H'30'                                                    00913000
@CH00309 DC    H'32'                                                    00914000
@CH00455 DC    H'264'                                                   00915000
@CH00454 DC    H'272'                                                   00916000
@DATD    DSECT                                                          00917000
         DS    0F                                                       00918000
@SA00001 DS    18F                                                      00919000
@SA00003 DS    15F                                                      00920000
@SA00002 DS    15F                                                      00921000
@SA00004 DS    15F                                                      00922000
@SA00008 DS    15F                                                      00923000
@SA00007 DS    15F                                                      00924000
@SA00009 DS    15F                                                      00925000
@TF00001 DS    F                                                        00926000
@TF00002 DS    F                                                        00927000
@ZTEMPS  DS    0F                                                       00928000
@ZT00003 DC    F'0'                                                     00929000
@ZTEMPND EQU   *                                                        00930000
@ZLEN    EQU   @ZTEMPND-@ZTEMPS                                         00931000
ICGDSB13 CSECT                                                          00932000
         DS    0F                                                       00933000
@CF00453 DC    F'5084'                                                  00934000
@CH00453 EQU   @CF00453+2                                               00935000
@CF00452 DC    F'13532'                                                 00936000
@CH00452 EQU   @CF00452+2                                               00937000
@CF00472 DC    F'21964'                                                 00938000
@CF00461 DC    F'-264'                                                  00939000
@CF00470 DC    F'-263'                                                  00940000
@CF00469 DC    F'-262'                                                  00941000
@CF00468 DC    F'-261'                                                  00942000
@CF00477 DC    F'-260'                                                  00943000
@CF00462 DC    F'-256'                                                  00944000
@CF00466 DC    F'-251'                                                  00945000
@CF00465 DC    F'-250'                                                  00946000
@CF00467 DC    F'-249'                                                  00947000
@CF00463 DC    F'-248'                                                  00948000
@CF00464 DC    F'-8'                                                    00949000
@DATD    DSECT                                                          00950000
         DS    0D                                                       00951000
@TS00001 DS    CL240                                                    00952000
STOPSCAN DS    BL1                                                      00953000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                00954000
@ENDDATD EQU   *                                                        00955000
ICGDSB13 CSECT                                                          00956000
         DS    0F                                                       00957000
@SIZDATD DC    AL1(0)                                                   00958000
         DC    AL3(@ENDDATD-@DATD)                                      00959000
         DS    0D                                                       00960000
ICGDS410 DC    CL62' ICG410I NON-MATCH ON INPUT TABLE ID FOR TRANSIENT C00961000
               VOLUME LIST'                                             00962000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       00963000
@01      EQU   01                                                       00964000
@02      EQU   02                                                       00965000
@03      EQU   03                                                       00966000
@04      EQU   04                                                       00967000
@05      EQU   05                                                       00968000
@06      EQU   06                                                       00969000
@07      EQU   07                                                       00970000
@08      EQU   08                                                       00971000
@09      EQU   09                                                       00972000
@10      EQU   10                                                       00973000
@11      EQU   11                                                       00974000
@12      EQU   12                                                       00975000
@13      EQU   13                                                       00976000
@14      EQU   14                                                       00977000
@15      EQU   15                                                       00978000
J        EQU   @02                                                      00979000
I        EQU   @03                                                      00980000
R4       EQU   @04                                                      00981000
COMTAB   EQU   0                                                        00982000
READER   EQU   COMTAB+256                                               00983000
READFLAG EQU   READER+96                                                00984000
PCHBF    EQU   READER+99                                                00985000
STARTCOL EQU   READER+180                                               00986000
NEXTCOL  EQU   READER+184                                               00987000
PRINTER  EQU   COMTAB+464                                               00988000
OUTBUF2  EQU   PRINTER+225                                              00989000
MESSAGES EQU   COMTAB+810                                               00990000
RETCODE  EQU   MESSAGES                                                 00991000
TERMINAT EQU   MESSAGES+6                                               00992000
SPECLMSG EQU   MESSAGES+18                                              00993000
PRNTBUF2 EQU   SPECLMSG                                                 00994000
GENIO    EQU   COMTAB+832                                               00995000
DCBPTR   EQU   GENIO+4                                                  00996000
COMPTR2  EQU   GENIO+16                                                 00997000
BUILDPTR EQU   GENIO+20                                                 00998000
INVOKED  EQU   COMTAB+856                                               00999000
SAVEDDS  EQU   INVOKED+4                                                01000000
BUILDRSG EQU   COMTAB+900                                               01001000
RSGS     EQU   BUILDRSG                                                 01002000
RSG      EQU   RSGS                                                     01003000
RSGABOX  EQU   RSG                                                      01004000
RSGTODS  EQU   RSG+7                                                    01005000
LIBRARY  EQU   COMTAB+1170                                              01006000
LIBS     EQU   LIBRARY                                                  01007000
LIB      EQU   LIBS                                                     01008000
LIBBITS  EQU   LIB                                                      01009000
PABTABLE EQU   COMTAB+1218                                              01010000
PABDEV   EQU   PABTABLE                                                 01011000
PABFLAGS EQU   PABDEV                                                   01012000
PABREAL  EQU   PABDEV+1                                                 01013000
PABAADDD EQU   PABDEV+2                                                 01014000
DSPAIRS  EQU   COMTAB+1938                                              01015000
PHYSTYPE EQU   COMTAB+2002                                              01016000
PHYSFLGS EQU   PHYSTYPE                                                 01017000
MERLICEB EQU   PHYSFLGS                                                 01018000
CPUASSOC EQU   COMTAB+3026                                              01019000
CPUS     EQU   CPUASSOC+2                                               01020000
CPU      EQU   CPUS                                                     01021000
CPUFLAG1 EQU   CPU+6                                                    01022000
OPSYSTYP EQU   CPUFLAG1                                                 01023000
CPUFLAG2 EQU   CPU+7                                                    01024000
LOWERCON EQU   COMTAB+3156                                              01025000
LOWDSS   EQU   LOWERCON                                                 01026000
LOWFLGS  EQU   LOWDSS                                                   01027000
LIBCTL   EQU   COMTAB+3284                                              01028000
LIBCTLS  EQU   LIBCTL                                                   01029000
CREATE   EQU   COMTAB+3288                                              01030000
@NM00017 EQU   CREATE                                                   01031000
NEWCREAT EQU   @NM00017                                                 01032000
UPDCREAT EQU   @NM00017                                                 01033000
COMTAB2  EQU   0                                                        01034000
DSTORSG  EQU   COMTAB2                                                  01035000
DSENTRY  EQU   DSTORSG                                                  01036000
CONFGCON EQU   COMTAB2+32                                               01037000
RSGUCB   EQU   CONFGCON                                                 01038000
RSGFLAGS EQU   RSGUCB                                                   01039000
CONFGUCB EQU   COMTAB2+464                                              01040000
CONFGDEV EQU   CONFGUCB                                                 01041000
USEFLAGS EQU   CONFGDEV                                                 01042000
ALTPATH1 EQU   CONFGDEV+2                                               01043000
ALTPATH2 EQU   CONFGDEV+5                                               01044000
ALTPATH3 EQU   CONFGDEV+8                                               01045000
BUILDTAB EQU   0                                                        01046000
COMB06   EQU   BUILDTAB                                                 01047000
B06DCBPT EQU   COMB06                                                   01048000
B06BUFPT EQU   COMB06+4                                                 01049000
B06ADDR  EQU   COMB06+9                                                 01050000
COMB05   EQU   BUILDTAB+12                                              01051000
B05DCBPT EQU   COMB05                                                   01052000
B05BUFPT EQU   COMB05+4                                                 01053000
B05ADDR  EQU   COMB05+9                                                 01054000
BUILDGEN EQU   BUILDTAB+24                                              01055000
UT2VCHR  EQU   BUILDGEN+8                                               01056000
OUTADDR  EQU   UT2VCHR+1                                                01057000
UT2VCYL  EQU   OUTADDR                                                  01058000
UT2VHEAD EQU   OUTADDR+1                                                01059000
UT2VREC  EQU   OUTADDR+2                                                01060000
UT1VCHR  EQU   BUILDGEN+12                                              01061000
INADDR   EQU   UT1VCHR+1                                                01062000
UT1VCYL  EQU   INADDR                                                   01063000
UT1VHEAD EQU   INADDR+1                                                 01064000
UT1VREC  EQU   INADDR+2                                                 01065000
UT1STUFF EQU   BUILDTAB+40                                              01066000
UT1DCB   EQU   UT1STUFF                                                 01067000
UT1FLAG  EQU   UT1STUFF+96                                              01068000
UT2STUFF EQU   BUILDTAB+664                                             01069000
UT2DCB   EQU   UT2STUFF                                                 01070000
UT2FLAG  EQU   UT2STUFF+96                                              01071000
UT3STUFF EQU   BUILDTAB+1288                                            01072000
UT3FLAG  EQU   UT3STUFF+96                                              01073000
UT1BUFER EQU   BUILDTAB+5084                                            01074000
UT2BUFER EQU   BUILDTAB+13532                                           01075000
INBUFFER EQU   0                                                        01076000
INBLOCK  EQU   INBUFFER                                                 01077000
INBLKPFX EQU   INBLOCK                                                  01078000
INTABLID EQU   INBLKPFX                                                 01079000
INCONTRL EQU   INBLOCK+8                                                01080000
ICYL     EQU   INCONTRL+5                                               01081000
IHEAD    EQU   INCONTRL+6                                               01082000
ICRTBLK  EQU   INBLOCK+16                                               01083000
IFILLER  EQU   INBLOCK+256                                              01084000
OUTBUFFR EQU   0                                                        01085000
OUTBLOCK EQU   OUTBUFFR                                                 01086000
OBLKPRFX EQU   OUTBLOCK+8                                               01087000
OUTABLID EQU   OBLKPRFX                                                 01088000
OUTCYL   EQU   OBLKPRFX+1                                               01089000
OUTHEAD  EQU   OBLKPRFX+2                                               01090000
OUTREC   EQU   OBLKPRFX+3                                               01091000
OUTFLR   EQU   OBLKPRFX+4                                               01092000
OCONTROL EQU   OUTBLOCK+16                                              01093000
OLTB     EQU   OCONTROL                                                 01094000
OLAB     EQU   OCONTROL                                                 01095000
OEOTB    EQU   OCONTROL                                                 01096000
OLTIT    EQU   OCONTROL                                                 01097000
OCOMPLEN EQU   OCONTROL                                                 01098000
OENTRYLN EQU   OCONTROL+1                                               01099000
OMAXEPB  EQU   OCONTROL+2                                               01100000
OUSECNT  EQU   OCONTROL+3                                               01101000
OVOLUME  EQU   OCONTROL+4                                               01102000
OCYL     EQU   OCONTROL+5                                               01103000
OHEAD    EQU   OCONTROL+6                                               01104000
ORECORD  EQU   OCONTROL+7                                               01105000
OCARTBLK EQU   OUTBLOCK+24                                              01106000
OFILLER  EQU   OUTBLOCK+264                                             01107000
SCANBUF  EQU   0                                                        01108000
SCANDATA EQU   0                                                        01109000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    01110000
@NM00026 EQU   OUTBLOCK                                                 01111000
IRECORD  EQU   INCONTRL+7                                               01112000
@NM00025 EQU   INCONTRL                                                 01113000
@NM00024 EQU   INBLKPFX+1                                               01114000
TEMPEND  EQU   BUILDTAB+22396                                           01115000
LTRTRANI EQU   BUILDTAB+22316                                           01116000
LTRTRANO EQU   BUILDTAB+22236                                           01117000
NVERIFY  EQU   BUILDTAB+3500                                            01118000
CVERIFY  EQU   BUILDTAB+1916                                            01119000
@NM00023 EQU   UT3STUFF+624                                             01120000
UT3DDN   EQU   UT3STUFF+616                                             01121000
UT3CCWS  EQU   UT3STUFF+320                                             01122000
UT3IOB   EQU   UT3STUFF+280                                             01123000
UT3ECB   EQU   UT3STUFF+276                                             01124000
UT3JFCB  EQU   UT3STUFF+100                                             01125000
@NM00022 EQU   UT3FLAG                                                  01126000
UT3VWERR EQU   UT3FLAG                                                  01127000
UT3VOERR EQU   UT3FLAG                                                  01128000
UT3VUPDT EQU   UT3FLAG                                                  01129000
UT3DCB   EQU   UT3STUFF                                                 01130000
UT2DDN   EQU   UT2STUFF+616                                             01131000
UT2CCWS  EQU   UT2STUFF+320                                             01132000
UT2IOB   EQU   UT2STUFF+280                                             01133000
UT2ECB   EQU   UT2STUFF+276                                             01134000
UT2JFCB  EQU   UT2STUFF+100                                             01135000
@NM00021 EQU   UT2FLAG                                                  01136000
UT2VCERR EQU   UT2FLAG                                                  01137000
UT2VWERR EQU   UT2FLAG                                                  01138000
UT2VOERR EQU   UT2FLAG                                                  01139000
UT2VUPDT EQU   UT2FLAG                                                  01140000
UT1DDN   EQU   UT1STUFF+616                                             01141000
UT1CCWS  EQU   UT1STUFF+320                                             01142000
UT1IOB   EQU   UT1STUFF+280                                             01143000
UT1ECB   EQU   UT1STUFF+276                                             01144000
UT1JFCB  EQU   UT1STUFF+100                                             01145000
@NM00020 EQU   UT1FLAG                                                  01146000
UT1VWERR EQU   UT1FLAG                                                  01147000
UT1VOERR EQU   UT1FLAG                                                  01148000
UT1VUPDT EQU   UT1FLAG                                                  01149000
UT1TABID EQU   UT1VCHR                                                  01150000
UT2TABID EQU   UT2VCHR                                                  01151000
ADDRBUF2 EQU   BUILDGEN+4                                               01152000
ADDRBUF1 EQU   BUILDGEN                                                 01153000
B05REC   EQU   B05ADDR+2                                                01154000
B05HEAD  EQU   B05ADDR+1                                                01155000
B05CYL   EQU   B05ADDR                                                  01156000
B05TBLID EQU   COMB05+8                                                 01157000
B06REC   EQU   B06ADDR+2                                                01158000
B06HEAD  EQU   B06ADDR+1                                                01159000
B06CYL   EQU   B06ADDR                                                  01160000
B06TBLID EQU   COMB06+8                                                 01161000
ALTCH3   EQU   ALTPATH3+2                                               01162000
ALTCI3   EQU   ALTPATH3+1                                               01163000
ALTDS3   EQU   ALTPATH3                                                 01164000
ALTCH2   EQU   ALTPATH2+2                                               01165000
ALTCI2   EQU   ALTPATH2+1                                               01166000
ALTDS2   EQU   ALTPATH2                                                 01167000
ALTCH1   EQU   ALTPATH1+2                                               01168000
ALTCI1   EQU   ALTPATH1+1                                               01169000
ALTDS1   EQU   ALTPATH1                                                 01170000
INDEXRSG EQU   CONFGDEV+1                                               01171000
ICEBERG  EQU   USEFLAGS                                                 01172000
ITISALTP EQU   USEFLAGS                                                 01173000
USECONVR EQU   USEFLAGS                                                 01174000
SUPPUNCH EQU   USEFLAGS                                                 01175000
USEREAL  EQU   USEFLAGS                                                 01176000
USEVS    EQU   USEFLAGS                                                 01177000
USEV     EQU   USEFLAGS                                                 01178000
USESPEC  EQU   USEFLAGS                                                 01179000
RSGCUA   EQU   RSGUCB+8                                                 01180000
RSGCHAN  EQU   RSGUCB+7                                                 01181000
CPUREFNO EQU   RSGUCB+6                                                 01182000
RSGCPUID EQU   RSGUCB+1                                                 01183000
@NM00019 EQU   RSGFLAGS                                                 01184000
CISPEC   EQU   RSGFLAGS                                                 01185000
TORSG2   EQU   DSENTRY+1                                                01186000
TORSG1   EQU   DSENTRY                                                  01187000
COM2BASE EQU   COMTAB+3304                                              01188000
LRUCLOCK EQU   CREATE+11                                                01189000
VOLSER   EQU   CREATE+5                                                 01190000
VPAGES   EQU   CREATE+1                                                 01191000
@NM00018 EQU   @NM00017                                                 01192000
PRNTONLY EQU   @NM00017                                                 01193000
CMDCREAT EQU   @NM00017                                                 01194000
RW67RGHT EQU   LIBCTLS                                                  01195000
RW67LEFT EQU   LIBCTLS                                                  01196000
RW45RGHT EQU   LIBCTLS                                                  01197000
RW45LEFT EQU   LIBCTLS                                                  01198000
RW23RGHT EQU   LIBCTLS                                                  01199000
RW23LEFT EQU   LIBCTLS                                                  01200000
RW01RGHT EQU   LIBCTLS                                                  01201000
RW01LEFT EQU   LIBCTLS                                                  01202000
LOWLIB   EQU   LOWDSS+1                                                 01203000
@NM00016 EQU   LOWFLGS                                                  01204000
LOWRGHT  EQU   LOWFLGS                                                  01205000
LOWLEFT  EQU   LOWFLGS                                                  01206000
LOWRW67  EQU   LOWFLGS                                                  01207000
LOWRW45  EQU   LOWFLGS                                                  01208000
LOWRW23  EQU   LOWFLGS                                                  01209000
LOWRW01  EQU   LOWFLGS                                                  01210000
LOWSPEC  EQU   LOWFLGS                                                  01211000
ALTMSCIN EQU   CPUFLAG2                                                 01212000
@NM00015 EQU   CPUFLAG2                                                 01213000
ALTMSGBF EQU   CPUFLAG2                                                 01214000
@NM00014 EQU   CPUFLAG2                                                 01215000
CPUSPEC  EQU   CPUFLAG2                                                 01216000
CPUMSCIN EQU   CPUFLAG1                                                 01217000
OPJES3   EQU   OPSYSTYP                                                 01218000
OPVS2    EQU   OPSYSTYP                                                 01219000
OPVS1    EQU   OPSYSTYP                                                 01220000
CPUALTFL EQU   CPUFLAG1                                                 01221000
CPUTIGHT EQU   CPUFLAG1                                                 01222000
@NM00013 EQU   CPUFLAG1                                                 01223000
TOMPCPU  EQU   CPU+5                                                    01224000
CPUID    EQU   CPU                                                      01225000
CPUNUM   EQU   CPUASSOC                                                 01226000
SPNRSGNO EQU   PHYSTYPE+1                                               01227000
LGDEVICE EQU   PHYSFLGS                                                 01228000
LOGABOX1 EQU   PHYSFLGS                                                 01229000
PHYSSSID EQU   PHYSFLGS                                                 01230000
PHYSREAL EQU   PHYSFLGS                                                 01231000
PHYSICEB EQU   MERLICEB                                                 01232000
PHYSMERL EQU   MERLICEB                                                 01233000
PHYSDS2  EQU   DSPAIRS                                                  01234000
PABDDD   EQU   PABAADDD                                                 01235000
PABAA    EQU   PABAADDD                                                 01236000
PABZEROS EQU   PABAADDD                                                 01237000
PAB2D    EQU   PABREAL                                                  01238000
PAB2C    EQU   PABREAL                                                  01239000
PAB2B    EQU   PABREAL                                                  01240000
@NM00012 EQU   PABREAL                                                  01241000
PAB1D    EQU   PABREAL                                                  01242000
PAB1C    EQU   PABREAL                                                  01243000
PAB1B    EQU   PABREAL                                                  01244000
PABIMPLR EQU   PABREAL                                                  01245000
PABBERG2 EQU   PABFLAGS                                                 01246000
@NM00011 EQU   PABFLAGS                                                 01247000
PABDSMTL EQU   PABFLAGS                                                 01248000
PABIBERG EQU   PABFLAGS                                                 01249000
@NM00010 EQU   PABFLAGS                                                 01250000
PABVOVIR EQU   PABFLAGS                                                 01251000
PABEXIST EQU   PABFLAGS                                                 01252000
MAPEXIT  EQU   LIB+4                                                    01253000
LIBMAP   EQU   LIB+3                                                    01254000
LIBDSMID EQU   LIB+2                                                    01255000
LIBSIZE  EQU   LIB+1                                                    01256000
@NM00009 EQU   LIBBITS                                                  01257000
LIBSPEC  EQU   LIBBITS                                                  01258000
TODS2    EQU   RSGTODS+1                                                01259000
TODS1    EQU   RSGTODS                                                  01260000
RSGSLICE EQU   RSG+3                                                    01261000
RSGUDEL  EQU   RSG+2                                                    01262000
RSGLDEL  EQU   RSG+1                                                    01263000
@NM00008 EQU   RSG                                                      01264000
RSGABOX1 EQU   RSGABOX                                                  01265000
RSGABOX0 EQU   RSGABOX                                                  01266000
RSGSPEC  EQU   RSG                                                      01267000
SVSYSUT3 EQU   SAVEDDS+32                                               01268000
SVSYSUT2 EQU   SAVEDDS+24                                               01269000
SVSYSUT1 EQU   SAVEDDS+16                                               01270000
SVSYSPCH EQU   SAVEDDS+8                                                01271000
SVSYSIN  EQU   SAVEDDS                                                  01272000
PARMPTR  EQU   INVOKED                                                  01273000
SAVE14   EQU   GENIO+12                                                 01274000
EXLST    EQU   GENIO+8                                                  01275000
@NM00007 EQU   DCBPTR+1                                                 01276000
DCBFLAG  EQU   DCBPTR                                                   01277000
OPENLIST EQU   GENIO                                                    01278000
@NM00006 EQU   MESSAGES+19                                              01279000
NEEDEOJ  EQU   SPECLMSG                                                 01280000
ENDPHASE EQU   SPECLMSG                                                 01281000
@NM00005 EQU   SPECLMSG                                                 01282000
PRNTCARD EQU   SPECLMSG                                                 01283000
@NM00004 EQU   SPECLMSG                                                 01284000
NEED102  EQU   SPECLMSG                                                 01285000
NEED101  EQU   SPECLMSG                                                 01286000
PRINTRC  EQU   MESSAGES+16                                              01287000
TERM     EQU   MESSAGES+12                                              01288000
WARN     EQU   MESSAGES+8                                               01289000
WARNING  EQU   MESSAGES+4                                               01290000
MSGNO    EQU   MESSAGES+2                                               01291000
OUTBUF   EQU   PRINTER+104                                              01292000
LINECT   EQU   PRINTER+102                                              01293000
LINECTR  EQU   PRINTER+100                                              01294000
PAGENO   EQU   PRINTER+96                                               01295000
DCBPRINT EQU   PRINTER                                                  01296000
@NM00003 EQU   READER+206                                               01297000
SCANLEN  EQU   READER+204                                               01298000
SVEODAD  EQU   READER+200                                               01299000
SVSYNAD2 EQU   READER+196                                               01300000
SAVENCOL EQU   READER+192                                               01301000
SAVESCOL EQU   READER+188                                               01302000
INBUF    EQU   READER+100                                               01303000
SSELECT  EQU   PCHBF                                                    01304000
@NM00002 EQU   READER+97                                                01305000
@NM00001 EQU   READFLAG                                                 01306000
LASTPARM EQU   READFLAG                                                 01307000
ENDSCAN  EQU   READFLAG                                                 01308000
PARMBIT  EQU   READFLAG                                                 01309000
KEYBIT   EQU   READFLAG                                                 01310000
READTERM EQU   READFLAG                                                 01311000
READDCB  EQU   READER                                                   01312000
PATCH    EQU   COMTAB                                                   01313000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      01314000
@RF00025 EQU   @EL00001                                                 01315000
@RT00035 EQU   @EL00002                                                 01316000
@RF00084 EQU   @EL00004                                                 01317000
@ENDDATA EQU   *                                                        01318000
         END   ICGDSB13,(C'PLS1636',0603,76337)                         01319000
