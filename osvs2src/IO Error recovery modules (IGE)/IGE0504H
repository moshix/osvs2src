504H     TITLE ' IGE0504H - BSC ERROR POST ROUTINE'                     00300020
IGE0504H CSECT                                                          00600020
*A-000000-999999                                               @Y02X6E0 00650008
*A371100                                                         S22025 00700022
*C367400,600000,849000-858000,864000                             S22025 00800022
*A297000,867000,969000                                           S21101 00910021
*C369000-399300                                                  S21101 00920021
*A 064000-065000,834100-836700,867300-867600,960600-965400       X01004 00950006
*C 792000                                                        X01004 00980006
*A729000,765000,865000                                           S99228 01010022
*C720000,759000                                                  S99228 01100022
*A298000                                                        SA60005 01120004
*C792000                                                        SA58994 01150022
*A432000,867000,984000                                          SA65392 01150152
*D816000                                                       SA66363  01150205
*C026400,321000,504000                                         @Z30AAEE 01150308
*D888000                                                       @Z30AAEE 01150408
*A793000,A434730,D433200,D432600                               @ZA07080 01170400
*A813000                                                       @OY11534 01170581
*C759000,C810000-816000,A807000,A819000,C861000-865000         @OX14080 01170691
*C555000,C720000-729000,A762000                                @OX14080 01170791
*A789000                                                                01170891
*C432630,A432700,C807700,C810000-821400,A981000                @OX16393 01170991
*A432700,C807900,C808400-809100,C810000,A983400                @OZ24288 01180900
*A750000                                                       @OZ30194 01181086
*A567000,768000                                                @OY20488 01181186
*C750100,750900,751500-751900                                  @OZ32827 01181286
*********************************************************************** 01200020
*                                                                     * 01500020
*TITLE -- 'IGE0504H', BSC ERROR POST MODULE                           * 01800020
*                                                                     * 02100020
*  MODULE NAME = IGE0504H                                             * 02400005
*                                                                     * 02440005
*  DESCRIPTIVE NAME = BI-SYNC ERROR POST MODULE                       * 02480005
*                                                                     * 02520005
*  COPYRIGHT = 'NONE'                                                 * 02560005
*                                                                     * 02600005
*  STATUS: CHANGE LEVEL 8                                      @Z30AAEE 02640008
*                                                                     * 02700020
*FUNCTION -- TO INTERFACE WITH THE OS MESSAGE WRITER AND OBR/SDR.     * 03000020
*   IF OPERATOR CONTROL IS IN USE, THE OS MESSAGE WRITER IS BYPASSED. * 03300020
*                                                                     * 03600020
*ENTRY POINTS -- FIRST EXECUTABLE INSTRUCTION.                        * 03900020
*                                                                     * 04200020
*INPUT --                                                             * 04500020
*   R1 - POINTER TO REQUEST ELEMENT                                   * 04800020
*   R15 - ENTRY POINT ADDRESS                                         * 05100020
*                                                                     * 05400020
*OUTPUT -- R1 POINTS TO REQUEST ELEMENT                               * 05700020
*                                                                     * 06000020
*EXTERNAL ROUTINES - 'IEDQTNT' - TO OBTAIN TERMINAL ENTRY ADDRESS     * 06300020
*                  - 'IGG019QE' - TO CONVERT VIRTUAL CCW ADDRESSES TO * 06400006
*   REAL BEFORE RETRY.                                                * 06500006
*                                                                     * 06600020
*EXITS-NORMAL -- R1 POINTS TO REQUEST ELEMENT                         * 06900020
*        SVC   15    LCBFLAG1  X'E6'  RETRY ERROR                     * 07200020
*        SVC   3                                                      * 07500020
*                                                                     * 07800020
*        SVC   15  LCBFLAG1  X'C2'  RETURN TO LINE END ERROR CLEARED  * 08100020
*        SVC   3                                                      * 08400020
*                                                                     * 08700020
*   TO SCHEDULE NEXT LOAD OF ERP                                      * 09000020
*        L     13,DECIMAL VALUE OF NEXT LOAD                          * 09300020
*        L   14,X'10'    CVT ADDRESS                                  * 09600020
*        L     14,X'2C'(14)    ADDRESS OF XCTL ROUTINE                * 09900020
*        BR    14   EXIT TO XCTL                                      * 10200020
*                                                                     * 10500020
*EXITS-ERROR -- R1 POINTS TO REQUEST ELEMENT                          * 10800020
*        SVC   15  LCBFLAG1 X'C6'                                     * 11100020
*        SVC   3                                                      * 11400020
*                                                                     * 11700020
*        L     13,DECIMAL VALUE OF NEXT LOAD                          * 12000020
*        L   14,X'10'    CVT ADDRESS                                  * 12300020
*        L     14,X'2C'(14)    ADDRESS OF XCTL ROUTINE                * 12600020
*        BR    14   EXIT TO XCTL                                      * 12900020
*                                                                     * 13200020
*   TO SCHEDULE ERROR POST                                            * 13500020
*                                                                     * 13800020
*TABLES/WORK AREAS --                                                 * 14100020
*   TAVTD                                                             * 14400020
*   TTRMD                                                             * 14700020
*   TCCWD                                                             * 15000020
*   TLCBD                                                             * 15300020
*   DCBD                                                              * 15600020
*   TSCBD                                                             * 15900020
*                                                                     * 16200020
*ATTRIBUTES -- RE-USABLE, REFRESHABLE, SUPERVISOR MODE, DISABLED      * 16500020
*                                                                     * 16800020
*NOTES -- THE OPERATION OF THIS MODULE DOES NOT DEPEND UPON A         * 17100020
*   PARTICUALR INTERNAL REPRESENTATION OF THE EXTERNAL CHARACTER      * 17400020
*   SET.                                                              * 17700020
*                                                                     * 18000020
*   R1 REMAINS TRANSPARENT TO ALL LOADS OF ERP.                       * 18300020
*                                                                     * 18600020
*   CERTAIN PERMANENT ERRORS ARE NOT RECORDED TO PREVENT OVERFLOW OF  * 18900020
*   SYS1.LOGREC.                                                      * 19200020
*   PARAMETERS PASSED TO OBR/SDR RECORDING MODULE:                    * 19500020
*                                                                     * 19800020
*   LCBERCCW+16 - X'00' 1 BYTE INDICATES PERMANENT ERROR              * 20100020
*   LCBERCCW+17 - 3 BYTES - ADDRESS OF TERMINAL COUNTERS              * 20400020
*   LCBERCCW+20 - 1 BYTE SIZE OF TERMINAL NAME                        * 20700020
*   LCBERCCW+21 - 3 BYTES - ADDRESS OF TERMINAL NAME                  * 21000020
*                                                                     * 21300020
*********************************************************************** 21600020
         EJECT                                                          21900020
         USING IEDQCCW,RCCW                                             22200020
         USING IEDQLCB,RLCB                                             22500020
         USING IHADCB,RDCB                                              22800020
         USING IEDQAVTD,RAVT                                            23100020
         USING IEDQTRM,RTERM                                            23400020
         USING IOSB,RIOSB                                        Y02027 23500006
         USING EWA,RERPWA                                        Y02027 23600006
         USING *,R15                                                    23700020
*              REGISTERS                                                24000020
R0       EQU   0                                                        24300020
RIOSB    EQU   1                        ADDR OF I/O SUPVR BLOCK  Y02027 24600006
RLCB     EQU   2                        LCB CBASE                       24900020
RCCW     EQU   5                        CCW BASE                        25200020
RUCB     EQU   3                        UCB REGISTER                    25500020
RDCB     EQU   4                        DCB BASE                        25800020
RWKA     EQU   6                        WORK REGISTER                   26100020
RWKB     EQU   7                        WORK REGISTER                   26400020
RTST     EQU   7                        ADDR OF REQUEST QUEUE    Y02027 26500006
*                                       ELEMENT                  Y02027 26600006
RTERM    EQU   8                        TERMINAL BASE                   26700020
RWKC     EQU   9                        WORK REGISTER                   27000020
RWKD     EQU   10                       WORK REGISTER                   27300020
RAVT     EQU   11                       AAVT BASE                       27600020
RERPWA   EQU   12                       ADDR OF ERP WORK AREA    Y02027 27700006
RLINK    EQU   13                       LINKAGE FOR SUBSEQUENT LOAD     27900020
RSAVE    EQU   13                       SAVE REGISTER FOR IOSB   Y02027 28000006
RXCTL    EQU   14                       XCTL REGISTER                   28200020
R15      EQU   15                       ADDRESSABILITY REGISTER         28500020
         EJECT                                                          28800020
IGE0504H  IEDHJN  ENTER                                                 28870006
         SPACE                                                          28940006
         L     RTST,IOSUSE              PICKUP ADDR OF RQE       Y02027 29010006
         L     RERPWA,IOSERP            PICKUP ADDR OF ERP WORK  Y02027 29040006
*                                       AREA                     Y02027 29070006
         L     RLCB,IOBOFFST(,RTST)     ADDRESS OF IOB Z(LCB)           29100020
         SH    RLCB,LCBSIZE             ADJUST BASE                     29400020
         L     RWKB,LCBSCBA-1           CURRENT SCB                     29700020
         USING IEDQSCB,RWKB                                      S21101 29800021
         TM    SCBQTYPE,SCBCONC         IS THIS A CONCENTRATOR  SA60005 29840004
         BZ    NOCONC                   NO, SCB ADDRESS OK      SA60005 29880004
         L     RWKB,LCBSCBDA-1          GET LINE SCB ADDRESS    SA60005 29920004
NOCONC   EQU   *                                                SA60005 29960004
         L     RCCW,LCBCSW-1            FAILING CCW                     30000020
         SH    RCCW,H8                  BACK UP TO FAILING CCW          30300020
         L     RDCB,LCBDCBPT            DCB BASE                        30600020
         L     RAVT,CVTPTR              CVT ADDRESS                     30900020
         LR    RXCTL,RAVT               COPY CVT ADDRESS                31200020
         L     RAVT,AVTCVTPT(,RAVT)     LOAD LIST ADDRESS               31500020
         L     RAVT,AVTEZERO(,RAVT)     AVT BASE                        31800020
         L     RUCB,IOSUCB              ADDRESS OF UCB         @Z30AAEE 32100008
         SR    RWKA,RWKA                CLEAR FOR INDEXING              32400020
         IC    RWKA,LCBINCAM+1          GET RETURN INDICATOR            32700020
         MVI   LCBINCAM+1,0             RESET RETURN FIELD              33000020
         B     TABLE-4(RWKA)            USE BRANCH TABLE                33300020
         SPACE                                                          33600020
TABLE    EQU   *                                                        33900020
         B     SNORET                   'SHOULD NOT OCCUR ERROR'        34200020
         SPACE                                                          34500020
         B     PERMRET                  RETRY EXHAUST                   34800020
         SPACE                                                          35100020
SNORET   EQU   *                                                        35400020
         OI    SCBERR4-IEDQSCB(RWKB),SCBUNDFN  UNDEFINED ERROR          35700020
         OI    LCBCHAIN,LCBNORTY        NO RETRY POSSIBLE               36000020
         SPACE                                                          36300020
PERMRET  EQU   *                                                        36600020
*        THE FOLLOWING CODE TEST FOR A PERMANENT ERROR IN        S21101 36610021
* ATTEMPTING TO SELECT A BUFFERED TERMINAL FOR A RECEIVE         S21101 36620021
* OPERATION.  IF WE ARE ATTEMTPING TO RECEIVE ANOTHER PART OF    S21101 36630021
* THE MESSAGE THE HEADER BUFFER IS CONVERTED TO TEXT AND ANEOT   S21101 36640021
* IS INSERTED IN THE BUFFER.  LINE END WILL POST IT TO MH AS A   S21101 36650021
* PERMANENT TEXT ERROR WITH NO RETRY.  THIS WILL FORMALLY END    S21101 36660021
* THE MESSAGE ON THE QUEUE.                                      S21101 36670021
         CLI   LCBRSKEY,BUFF            BUFFERED LINE            S21101 36680021
         BNE   NOTBFRD                  BRANCH NO                S21101 36690021
         TM    LCBSTAT1,LCBRECVN        RECEIVE SIDE             S21101 36700021
         BZ    NOTBFRD                  NO                       S21101 36710021
         SPACE 1                                                 S21101 36720021
         CLI   LCBRESTR,TPRDSKIP        TEXT RELATED             S21101 36730021
         BNL   NOTBFRD                  BRANCH TEXT RELATED      S22025 36740022
         SPACE 1                                                 S21101 36750021
         TM    SCBQTYPE,SCBBFMM         MIDDLE OF MESSAGE        S21101 36760021
         BZ    NOTBFRD                  BRANCH NO                S21101 36770021
         SPACE 1                                                 S21101 36780021
         CLI   LCBRESTR,TPRDLC          READ LCOUT               S21101 36790021
         BE    NOTBFRD                  YES, TEXT RELATED        S21101 36800021
         SPACE 1                                                 S21101 36810021
         CLI   LCBRESTR,TPWRAKNK        WRITE RESPONSE TO TEXT   S21101 36820021
         BE    NOTBFRD                  YES, EXIT                S21101 36830021
         SPACE 1                                                 S21101 36840021
         CLI   LCBRESTR,TPRESET         ABORT SEQUENCE           S21101 36850021
         BE    NOTBFRD                  YES                      S21101 36860021
         SPACE 1                                                 S21101 36870021
         OI    LCBCHAIN,LCBNORTY        SET NO RETRY FLAG        S21101 36880021
         L     RWKA,LCBLSPCI-1          GET ADDRESS OF HEADER    S21101 36890021
         USING IEDQPRF,RWKA                                      S21101 36900021
         TM    PRFSTAT1,PRFNHDRN        TEXT BUFFER              S21101 36910021
         BO    NOTBFRD                  BRANCH YES               S21101 36920021
         SPACE 1                                                 S21101 36930021
         OI    PRFSTAT1,PRFNHDRN        SET TO TEXT              S21101 36940021
         OI    PRFTIC,PRFBFMM           TELL AA ABOUT NEW ILDES  S21101 36950021
         OI    SCBERR4,SCBTXTTN         SET TEXT ERROR           S21101 36960021
         SR    RWKC,RWKC                CLEAR FOR INDEX          S21101 36970021
         IC    RWKC,LCBISZE             GET IDLES COUNT          S21101 36980021
         LA    RWKC,PRFSHDR-PRFSTXT(RWKC) BUMP IDLES COUNT       S21101 36990021
         STC   RWKC,LCBISZE                                      S21101 37000021
         LH    RWKD,PRFSIZE             GET PRE-SET SIZE         S21101 37010021
         LA    RWKD,1(,RWKD)            BUMP FOR EOT             S21101 37020021
         STH   RWKD,PRFSIZE             SET IN PREFIX            S21101 37030021
         LA    RWKD,PRFSTXT(RWKC)       ADDRESS OF EOT CHARACTER S21101 37040021
         DROP  RWKA                                              S21101 37050021
         L     RWKA,DCBSCTAD-1          GET SCT ADDRESS          S21101 37060021
         IC    RWKC,AVTEZERO(RWKA)      GET EOT INDEX            S21101 37070021
         LA    RWKA,1(RWKC,RWKA)        ADDRESS OF EOT CHARACTER S21101 37080021
         MVC   0(1,RWKD),0(RWKA)        MOVE EOT IN BUFFER       S21101 37090021
         EJECT                                                          37100021
NOTBFRD  EQU   *                                                 S21101 37110021
         CLI   LCBRESTR,TPTEXT          TEXT ERROR               S22025 37510022
         BNE   NOTEXT                   NO                       S22025 37910022
*                                                                S22025 38310022
         OI    SCBERR4,SCBTXTTN         SET TEXT ERROR           S22025 38710022
NOTEXT   EQU   *                                                 S22025 39110022
         TM    SCBERR4,SCBCTLUN+SCBCHANN CONTROL UNIT OR CHANERLERR     39960020
         BNZ   NOTLNTR                  BRANCH IF EITHEROR BOTH         39990020
         SPACE                                                          40020020
         OI    SCBERR4,SCBTRMLN         MUST BE TERMINAL/LINE ERROR     40050020
         DROP  RWKB                                                     40080020
NOTLNTR  EQU   *                                                        40110020
         NI    IOSFLA,AVTEFF-IOSERR     POST PERMANENT ERROR TO  Y02027 40200006
*                                       ABNORMAL END APPENDAGE   Y02027 40300006
         TM    AVTBIT2,AVTTOPOL         ERROR MSG ON TIMEOUT -POLL      40500020
         BZ    GOMSG                    BRANCH IF MSG TO BE SENT        40800020
         SPACE                                                          41100020
         CLI   LCBRESTR,TPRDRESP        TIME OUT IN POLLING RESONSE     41400020
         BNE   GOMSG                    NO, WRITE MSG                   41700020
         SPACE                                                          42000020
         CLI   LCBSENS0,TIMEOUT         TIME OUT                        42300020
         BE    EXIT                     YES, NO MSG OR OBR              42600020
         SPACE                                                          42900020
GOMSG    EQU   *                                                        43200020
         L     RWKA,DCBDEBAD            GET DEB ADDRESS         SA65392 43207052
         USING DEBTCBAD,RWKA            DEB ADDRESSIBILITY      SA65392 43214052
         SR    RWKB,RWKB                CLEAR WORK REGISTER     SA65392 43221052
         LR    RWKC,RWKB                CLEAR WORK REGISTER     SA65392 43228052
         IC    RWKB,DEBNMEXT            GET NUMBER OF EXTENTS   SA65392 43235052
         SLL   RWKB,TWO                 SIZE OF UCB ADDRESSES   SA65392 43242052
         L     RWKB,DEBUCBAD(RWKB)      THRESHOLD AREA          SA65392 43249052
         IC    RWKC,LCBUCBX             RLN MINUS ONE           SA65392 43256052
         SLL   RWKC,THREE               THRESHOLD INDEX        @OX16393 43263091
         AR    RWKB,RWKC                THRESHOLD COUNTERS      SA65392 43270052
         SRL   RWKC,1                   ADD HALF AGAIN FOR     @OZ24288 43271000
         AR    RWKB,RWKC                ERRMSG DATA SAVE AREA  @OZ24288 43272000
         LR    RLINK,RWKB               SAVE ADDRESS OF THRESH @OX16393 43273091
         CLI   LCBSENS0,DCK             DATA CHECK              SA65392 43277052
         BNE   TESTIR                   BRANCH-NO               SA65392 43284052
         IC    RWKC,ONE(RWKB)           GET DATA CHECK COUNT    SA65392 43291052
         LA    RWKC,ONE(RWKC)           INCREMENT COUNTER       SA65392 43298052
         STC   RWKC,ONE(RWKB)           SET NEW VALUE           SA65392 43305052
         CLC   ONE(ONE,RWKB),AVTHRESH+1 MAXIMUM DATA CHECKS     SA65392 43312052
         BL    EXIT                     BRANCH-NO NO MESSAGE    SA65392 43319052
         MVI   ONE(RWKB),ZERO           CLEAR COUNTER           SA65392 43326052
TESTIR   EQU   *                                                SA65392 43333052
         CLI   LCBSENS0,IR              INTERVENTION REQUIRED   SA65392 43340052
         BNE   TESTTOT                  BRANCH-NO               SA65392 43347052
         IC    RWKC,TWO(RWKB)           GET IR COUNT            SA65392 43354052
         LA    RWKC,ONE(RWKC)           INCREMENT COUNTER       SA65392 43361052
         STC   RWKC,TWO(RWKB)           SET NEW VALUE           SA65392 43368052
         CLC   TWO(ONE,RWKB),AVTHRESH+2 MAXIMUM INTERVENTIONS   SA65392 43375052
*                                       NAME FIELD IN EWA        Y02027 43380006
         BL    EXIT                     BRANCH-NO NO MESSAGE    SA65392 43382052
         MVI   TWO(RWKB),ZERO           CLEAR COUNTER           SA65392 43389052
TESTTOT  EQU   *                                                SA65392 43396052
         CLI   LCBSENS0,TIMEOUT         TIME OUT                SA65392 43403052
         BNE   GOTHRESH                 BRANCH NO-WRITE MSG     SA65392 43410052
         CLI   LCBRESTR,TPRDRPEB        TEXT TIMEOUT            SA65392 43417052
         BE    GOTHRESH                 BRANCH-YES EXIT         SA65392 43424052
         IC    RWKC,THREE(RWKB)         GET TIMEOUT COUNT       SA65392 43431052
         LA    RWKC,ONE(RWKC)           INCREMENT COUNTER       SA65392 43438052
         STC   RWKC,THREE(RWKB)         SET NEW VALUE           SA65392 43445052
         CLC   THREE(ONE,RWKB),AVTHRESH+3 MAXIMUM TIMEOUTS      SA65392 43452052
         BL    EXIT                     BRANCH-NO NO MESSAGE    SA65392 43459052
         MVI   THREE(RWKB),ZERO         CLEAR COUNTER           SA65392 43466052
GOTHRESH EQU   *                                                SA65392 43473052
         MVI   EWTCTRM,BLANK            BLANK OUT TERM         @ZA07080 43573000
         MVC   EWTCTRM+ONE(SEVEN),EWTCTRM BLANK OUT TERM       @ZA07080 43673000
         MVI   LCBSENS1,0               CLEAR 2ND SENSE BYTE            43800020
         SR    RWKA,RWKA                CLEAR WORK REGISTER             44100020
         STH   RWKA,LCBRESTR+2          CLEAR DEVICE CHARACTERS         44400020
         MVI   LCBINCAM,RETRY           SET RETRY COUNT TO MAX          44700020
*                                         INSURE NO RECALL              45000020
         LH    RWKC,LCBTTCIN            TNT OFFSET                      45300020
         LTR   RWKC,RWKC                SOURCE SPECIFIED                45600020
         BNZ   SOURCE                   YES                             45900020
         SPACE                                                          46200020
         TM    LCBSTAT2,LCBDIAL         DIAL LINE                       46500020
         BZ    USEUCB                   BRANCH NO                       46800020
         SPACE                                                          47100020
         LH    RWKC,LCBLNENT            LINE ENTRY USED                 47400020
         LTR   RWKC,RWKC                LINE ENTRY?                     47700020
         BNZ   SOURCE                   BRANCH YES                      48000020
         SPACE                                                          48300020
USEUCB   EQU   *                                                        48600020
         L     RTERM,STATTAB(,RXCTL)    STAT TABLE OFFSET FROM CVT      48900020
         SR    RWKC,RWKC                CLEAR FOR INDEX                 49200020
         L     RWKB,UCBEXTPT-UCBOB(,RUCB) UCB EXTENSION          Y02027 49500006
         IC    RWKC,UCBSTI-UCBCMEXT(,RWKB) STATAB INDEX          Y02027 49600006
         LR    RWKB,RTERM               COPY TABLE ADDRESS              49800020
LOOP1    EQU   *                                                        50100020
         CLM   RUCB,THREE,ZERO(RWKB)    IS DEV SUPPORTED HERE  @Z30AAEE 50400008
         BC    4,LOOP2                  BRANCH YES                      50700020
         SPACE                                                          51000020
         LA    RWKB,2(,RWKB)            NEXT ENTRY                      51300020
         LA    RWKC,256(,RWKC)          NEXT STAT TABLE IN              51600020
         B     LOOP1                    CHECK THIS ENTRY                51900020
         SPACE                                                          52200020
LOOP2    EQU   *                                                        52500020
         MH    RWKC,H10                 MULTIPLY BY 10                  52800020
         AR    RTERM,RWKC               SAT TABLE ADDRESS SET           53100020
         LA    RWKC,UCBNAME-UCBOB(,RUCB) EBCIDIC NAME            Y02027 53400006
         ST    RWKC,LCBERCCW+20         SET ADDRESS OF NAME             53700020
         LA    RWKA,TWO                 SET SIZE FOR EXECUTE    Y02027  54000006
*                                       INSTR  TO MOVE UCB NAME  Y02027 54070006
         EX    RWKA,MOVENAME            MOVE UCB NAME TO ERP     Y02027 54140006
*                                       WORK AREA                Y02027 54210006
         ST    RTERM,LCBERCCW+16        ADDRESS OF SDR COUNTERS         54300020
         B     NOADDR                   COMMMON CODE AND EXIT           54600020
         SPACE                                                          54900020
SOURCE   EQU   *                                                        55200020
         N     RWKC,AVTCLRHI            CLEAR NEG. PROPAGATION @OX14080 55500091
         L     RWKB,AVTRNMPT            ROUTINE BASE                    55800020
         USING IEDQTNTD,RWKB                                            56100020
         BAL   RWKA,TNTDCODE            LINK TO ROUTINE                 56400020
         SR    R0,R0                    CLEAR WORK REGISTER             56700020
         SR    RWKA,RWKA                CLEAR INDEX REGISTER   @OY20488 56730086
         IC    RWKA,TRMCHCIN            AND GET DCT INDEX      @OY20488 56760086
         BCTR  RWKA,0                   REDUCE FOR MULTIPLY    @OY20488 56790086
         MH    RWKA,AVTDCTLN            AND GET OFFSET         @OY20488 56820086
         A     RWKA,AVTCSTCS            LOCATE DCT ENTRY       @OY20488 56850086
         TM    1(RWKA),DCT3270          3270 TERMINAL          @OY20488 56880086
         BNO   NOTUBE                   BRANCH NO              @OY20488 56910086
         OI    LCBERBST,LCBLOGDV        INDICATE LOG DEVICE    @OY20488 56940086
NOTUBE   EQU   *                                               @OY20488 56970086
         IC    R0,X'28'(,RWKB)          GET SIZE OF NAME                57000020
         LA    RWKC,79(RWKB,RWKC)        ADDRESS OF TERM ADDRESS        57300020
         SR    RWKC,R0                  BACK UP TO NAME ADDRESS         57600020
         LA    RWKA,TRMSIO              ADDRESS OF COUNTERS             57900020
*    THE FOLLOWING INSTRUCTION SETS LCBERCCW=0 - INDICATES OBR          58200020
         ST    RWKA,LCBERCCW+16         ADDRESS OF COUNTERS FOR OBR     58500020
         CLC   1(1,RWKA),2(RWKA)        CHECK COUNTS                    58560020
         BH    NOADD                    OKAY                            58620020
         MVC   1(1,RWKA),2(RWKA)        SET COUNTS                      58680020
NOADD    EQU   *                                                        58740020
         ST    RWKC,LCBERCCW+20         ADDRESS OF EBCDIC NAME          58800020
         LR    RWKA,R0                  MOVE NAME COUNT FOR EXEC Y02027 59100006
*                                       INSTRUCTION              Y02027 59150006
         BCTR  RWKA,ZERO                REDUCE NAME CONT BY ONE  Y02027 59200006
*                                       FOR EXECUTE INSTRUCTION  Y02027 59250006
         EX    RWKA,MOVENAME            MOVE THE TERMINAL NAME   Y02027 59300006
*                                       TO THE ERP WORK AREA     Y02027 59350006
         SR    RWKB,RWKB                CLEAR WORK REGISTER             59400020
         TM    TRMSTATE,TRMOPTFN        OPTION FIELDS PRESENT           59700020
         BZ    NOOPT                    BRANCH IF NO             S22025 60000022
         SPACE                                                          60300020
         IC    RWKB,TRMOPNO             NO OF OPTION ENTRIES            60600020
         LA    RWKB,3(,RWKB)            ADJUST FOR REQUIRED             60900020
*                                         OPTION BYTES                  61200020
NOOPT    EQU   *                                                        61500020
         LH    RWKC,TRMDEVFL            DEVICE FLAGS                    61800020
         LTR   RWKC,RWKC                BUFSIZE SPECIFIED               62100020
         BNM   NOBUFSZ                  NO                              62400020
         SPACE                                                          62700020
         LA    RWKB,3(,RWKB)            ADJUST FOR BUFSIZE              63000020
NOBUFSZ  EQU   *                                                        63300020
         LA    RWKB,TRMCHCIN+1(RWKB)    DEVICE INGORMATION              63600020
         SLL   RWKC,17                  SHIFT DEVICE BITS               63900020
         LTR   RWKC,RWKC                DIAL DIGITS                     64200020
         BNM   NODIGITS                 NO                              64500020
         SPACE                                                          64800020
         CLI   0(RWKB),4                AT LEAST 4 DIGITS               65100020
         BNH   PACKIT                   BRANH IF 4 OR LESS              65400020
         SR    RWKA,RWKA                CLEAR WORK REGISTER             65700020
         IC    RWKA,0(,RWKB)            GET COUNT OF DIGITS             66000020
         SH    RWKA,H4                  DECREMENT BY 4                  66300020
         LA    RWKB,0(RWKA,RWKB)        ADJUST FOR PACK                 66600020
PACKIT   EQU   *                                                        66900020
         PACK  LCBERCCW+8(4),1(7,RWKB)  PACK DIAL DIGITS                67200020
         MVC   LCBRESTR+2(2),LCBERCCW+8 MOVE FOR WTO MODULE             67500020
         B     POSTEXIT                 LEAVE                           67800020
         SPACE                                                          68100020
NODIGITS EQU   *                                                        68400020
         TM    LCBSTAT1,LCBSENDN        SEND STATE                      68700020
         BO    GETCHAR                  BRANCH YES TO ADDR CHARS        69000020
         TM    LCBSTAT2,LCBMSGNN        MESSAGE GEN                     69300020
         BZ    NOADDR                   BRANCH NO TO GET POLLING        69600020
GETCHAR  EQU   *                                                        69900020
         SLL   RWKC,1                   ADDRESSING  CHARS               70200020
         LTR   RWKC,RWKC                NO ADDRESSING CHARS             70500020
         BNM   NOADDR                   NO                              70800020
         SPACE                                                          71100020
         MVC   LCBRESTR+2(2),1(RWKB)    ASSUME AT LEAST 2 CHARS.        71400020
         CLI   AVTEZERO(RWKB),1         ONLY ONE CHAR                   71700020
         BE    CLEAR2                                          @OX14080 72000091
FIVEADDR CLI   AVTEZERO(RWKB),FIVE       FIVE CHARS.             S99228 72960022
         BNE   POSTEXIT                  NO                      S99228 73020022
         MVC   LCBRESTR+THREE(ONE),THREE(RWKB)   UPDATE 2ND BYTE S99228 73080022
         B     POSTEXIT                  LEAVE                   S99228 73140022
         SPACE 2                                                        73200020
NOADDR   EQU   *                                                        73500020
         SR RWKA,RWKA                   CLEAR WORK REGISTER             73800020
         IC    RWKA,LCBUCBX             RLN MINUS 1                     74100020
         SLL   RWKA,2                   MULTIPLY BY 4                   74400020
         L     RWKB,DCBINVLI(RWKA)      ILIST FOR THIS LINE             74700020
         SR    RWKA,RWKA                CLEAR WORK             @OZ30194 75000086
         SR    R0,R0                    CLEAR INDEX REGISTER   @OZ32827 75010086
         LA    RWKC,8(,RWKB)            GET CONTROL WORD       @OZ30194 75020086
         IC    RWKA,2(,RWKB)            GET ENTRY LENGTH       @OZ30194 75030086
         BCTR  RWKA,0                   REDUCE BY 1            @OZ30194 75040086
         B     STARLOOK                 CHECK LIST             @OZ30194 75050086
LOOPLOOK EQU   *                                               @OZ30194 75060086
         AR    RWKC,RWKA                MOVE TO NEXT           @OZ30194 75070086
         LA    RWKC,1(,RWKC)            ENTRY                  @OZ30194 75080086
         SR    R0,R0                    CLEAR INDEX REGISTER   @OZ32827 75090086
STARLOOK EQU   *                                               @OZ30194 75100086
         CLI   0(RWKC),XFE              END OF LIST            @OZ30194 75110086
         BE    YESEND                   BRANCH YES             @OZ30194 75120086
         CLI   1(RWKC),XFE              END OF LIST            @OZ30194 75130086
         BE    YESEND                   BRANCH YES AGAIN       @OZ30194 75140086
         IC    R0,0(RWKA,RWKC)          GET ENTRY INDEX        @OZ32827 75150086
         AR    R0,R0                    DOUBLE FOR SUBTRACT    @OZ32827 75158086
         LNR   R0,R0                    MAKE NEGATIVE          @OZ32827 75166086
         AR    R0,RWKB                  SUBTRACT FOR TNTINDEX  @OZ32827 75174086
         CH    R0,LCBTTCIN              CORRECT ENTRY          @OZ32827 75182086
         BNE   LOOPLOOK                 BRANCH NO              @OZ30194 75200086
YESEND   EQU   *                                               @OZ30194 75210086
         MVC   LCBRESTR+2(2),AVTEZERO(RWKC) ASSUME 2 CHARACTERS         75300020
         CLI   2(RWKB),2                ONLY 1 CHARACTER                75600020
         BH    FIVEPOLL                 NO,CHECK FIVE CHARS    @OX14080 75900091
         SPACE                                                          76200020
CLEAR2   EQU   *                                               @OX14080 76300091
         MVI   LCBRESTR+3,AVTEZERO      CLEAR 2ND BYTE                  76500020
         B     POSTEXIT                  LEAVE                   S99228 76560022
FIVEPOLL CLI   TWO(RWKB),SIX             FIVE CHARS.             S99228 76620022
         BNE   POSTEXIT                  NO                      S99228 76680022
         MVC   LCBRESTR+THREE(ONE),THREE(RWKC)   UPDATE 2ND BYTE S99228 76740022
POSTEXIT EQU   *                                                        76800020
         TM    LCBSTAT2,LCBDIAL         DIAL                   @OY20488 76820086
         BO    NORECRYP                 BRANCH YES             @OY20488 76840086
         L     RWKB,LCBDCBPT            GET DCB ADDRESS        @OY20488 76860086
         L     RWKB,DCBTRANS-1          AND TRANSLATE TABLE    @OY20488 76880086
         L     R0,0(,RWKB)              EBCDIC TABLE           @OY20488 76900086
         LTR   R0,R0                    SPECIFIED              @OY20488 76920086
         BZ    NORECRYP                 BRANCH NO              @OY20488 76940086
         LA    RWKB,4(0,RWKB)           GET INPUT TABLE        @OY20488 76960086
         TR    LCBRESTR+2(2),0(RWKB)    TRANSLATE CU AND DVC   @OY20488 76980086
NORECRYP EQU   *                                               @OY20488 77000086
         LH    RWKB,AVTOPCON            OPERATOR CONTROL                77100020
         LTR   RWKB,RWKB                SPECIFIED                       77400020
         BZ    SYSCON                   NO, USE SYSTEM CONSOLE          77700020
         SPACE                                                          78000020
         N     RWKB,AVTCLRHI            CLEAR HIGH ORDER HALF WORD      78080020
         A     RWKB,AVTRNMPT            GET ADDR OF TERM NAME ENTRY     78160020
         L     RWKA,LCBERCCW+20         TERMNAME ADDR FOR LCBTTCIN      78240020
         LA    RWKA,0(,RWKA)            CLEAR HIGH ORDER BYTE           78320020
         CR    RWKA,RWKB                CHECK FOR PRIM CONTROL TERM     78400020
         BNE   OPCTL                    BRANCH IF ERROR NOT ON PRIM     78480020
SYSCON   EQU   *                                                        78900020
         USING UCBOB,RUCB                                      @OZ16799 78970091
         MVC   EWACHA,UCBCHA            SAVE DEV ADD FOR MSG   @OZ16799 79040091
         DROP  RUCB                                            @OZ16799 79110091
         OI    IOSFLB,IOSMSG+IOSLOG     INDICATE I/O ERR MSG AND Y02027 79200006
*                                       OBR/SDR                  Y02027 79300006
         OI    EWAFLG1,EWADDMSG         ERP DEP DATA IN ERRMSG @ZA07080 79350000
         MVC   EWTCTID(TWO),LCBRESTR+TWO MOVE TERMINAL ID CHARS  Y02027 79400006
*                                       TO ERP WK AREA FOR IOS   Y02027 79500006
*                                       WTO ERROR ROUTINE        Y02027 79600006
         LA    RLINK,WTOMSG             LINK TO MESSAGE WRITE           79800020
         B     NEXTLOAD                 COMMON CODE                     80100020
OPCTL    EQU   *                                                        80400020
         OI    LCBCHAIN,LCBERMSG                                        80700020
         USING LCBEXTX,RLINK            ADDRESSABILITY         @OX16393 80770091
         MVC   IEASENS0,LCBSENS0        SAVE SENSE INFORMATION @OZ24288 80790000
         MVC   IEALTPCD(4),LCBRESTR     SAVE TP CDS AND CHARS  @OX16393 80810091
         MVC   IEACSW,LCBCSW+3          SAVE CSW               @OZ24288 80840000
         MVC   IEACMD,CCWOPCDE          SAVE COMMAND CODE      @OZ24288 81000000
         LA    RLINK,SDRLOAD            OBR ID                          82200020
NEXTLOAD EQU   *                                                        82500020
         MVC   EWTCCSW(SEVEN),LCBCSW    MOVE CSW INTO THE ERP    Y02027 82509006
*                                       WORK AREA                Y02027 82518006
         MVC   EWTCCCW(EIGHT),ZERO(RCCW) MOVE CCW INTO THE ERP   Y02027 82527006
*                                       WORK AREA                Y02027 82536006
         IC    RWKA,LCBERMSK            ASSUME LINE ERROR MASK   Y02027 82545006
         TM    LCBERMSK,LINEMASK        IS LINE MASK PRESENT     Y02027 82554006
         BNZ   MOVEMASK                 YES. MOVE MASK.          Y02027 82563006
         IC    RWKA,TRMSENSE            PICKUP TERMINAL ERR MASK Y02027 82572006
MOVEMASK EQU   *                                                 Y02027 82581006
         STC   RWKA,EWTCMSK             MOVE MASK INTO ERP WORK  Y02027 82590006
*                                       AREA                     Y02027 82599006
         L     RTERM,LCBERCCW+SIXTEEN   PICKUP ADDR OF SDR CTRS  Y02027 82608006
         USING TRMSIO,RTERM                                      Y02027 82617006
         MVC   EWTCSIO(THREE),TRMSIO    MOVE START I/O AND TEMP  Y02027 82626006
*                                       ERROR COUNTERS TO THE    Y02027 82635006
*                                       ERP WORK AREA            Y02027 82644006
         XC    TRMSIO(THREE),TRMSIO     CLEAR ERROR COUNTERS IN  Y02027 82653006
*                                       THE TERMINAL TABLE       Y02027 82662006
         MVC   EWTCTPF(ONE),LCBRESTR    MOVE 1ST TP OP CODE TO   Y02027 82671006
*                                       OBR/SDR RECORD           Y02027 82680006
         MVC   EWTCTPL(ONE),LCBRESTR+ONE MOVE LAST TP OP CODE TO Y02027 82689006
*                                       OBR/SDR RECORD           Y02027 82698006
         MVC   EWTCSNF(ONE),LCBSNSV     MOVE 1ST BYTE OF SENSE   Y02027 82707006
*                                       DATA TO OBR/SDR RECORD   Y02027 82716006
         MVC   EWTCSNL(ONE),LCBSENS0    MOVE LAST BYTE OF SENSE  Y02027 82725006
*                                       DATA TO OBR/SDR DATA     Y02027 82734006
         LA    RWKA,EWTCSIO             INDICATE ADDR OF START   Y02027 82743006
         STCM  RWKA,SEVEN,EWADDISP      DEVICE DEPENDENT INFO    Y02027 82752006
*                                       FOR OBR/SDR              Y02027 82761006
         MVI   EWADCNT,OBRDATA          INDICATE SIZE OF DEVICE  Y02027 82770006
*                                       DEPENDENT DATA FOR OBR   Y02027 82779006
         L     RXCTL,XCTLADD(,RXCTL)    XCTL ADDRESS                    82800020
HIOSUB   EQU   *                                                 Y02027 83100006
         MVC   IOSCSW(SEVEN),LCBCSW     MAP CSW FROM LCB TO IOSB Y02027 83106006
         MVC   IOSSNS(TWO),LCBSENS0     MAP SENSE INFO FROM LCB  Y02027 83112006
*                                         TO IOSB                Y02027 83118006
         MVC   IOSCC(ONE),LCBSIOCC      MAP START I/O CONDITION  Y02027 83124006
*                                         CODE FROM LCB TO IOSB  Y02027 83130006
         CLI   LCBECBCC,HIOCC           IOHALT ISSUED            Y02027 83140006
         BNER  RXCTL                    BRANCH NO - RETURN       Y02027 83180006
         SPACE 1                                                 Y02027 83220006
         NI    IOSFLA,X'FF'-(IOSERR+IOSEX) RESET ERP IN CTL      Y02027 83260006
         MVI   LCBINCAM+1,HIOCC         SET FOR LINEEND          Y02027 83300006
         BR    RXCTL                    LINK/RETURN TO CALLER           83340006
EXIT     EQU   *                                                        83400020
         BAL   RXCTL,HIOSUB             CHECK FOR IOHALT         Y02027 83405006
*********************************************************************** 83410006
*                                                                     * 83420006
*        THE FOLLOWING CODE IS ADDED FOR AOS.                         * 83430006
*                                                                     * 83440006
         TM    IOSFLA,IOSERR+IOSEX      ARE WE DOING A RETRY     Y02027 83450006
         BNO   NOTRETRY                 BRANCH IF NO.            X01004 83460006
         LR    RSAVE,RIOSB              SAVE IOSB ADDRESS        Y02027 83470006
         L     RTST,IOSUSE              PICKUP ADDR OF RQE       Y02027 83480006
         SR    RLCB,RLCB                CLEAR FOR ICM.                  83490006
         ICM   RLCB,SEVEN,IOBPTR(RTST)  GET IOB ADDRESS FROM RQE X01004 83500006
*                                       FOR USE BY SIO APPENDAGE.       83510006
         SR    RTERM,RTERM              CLEAR FOR ICM.                  83520006
         ICM   RTERM,SEVEN,DEBPTR(RTST)  GET DEB ADDR FROM RQE   X01004 83530006
         LA    R15,DEBNMSUB-IEDQDEB     GET APDG. TABLE SIZE     Y02027 83540006
         SLR   RTERM,R15                POINT TO APDG. TABLE     Y02027 83550006
         L     RTERM,SIOPTR(ZERO,RTERM)  GET ADDR FROM SIO APDG  X01004 83560006
*                                       FROM APDG. VECTOR TABLE.        83570006
         SR    R15,R15                  CLEAR R15 TO TELL SIO           83580006
*                                       APDG. IT'S A SUBROUTINE.        83590006
         BAL   RXCTL,SIOENTRY(ZERO,RTERM)  LNK TO SIO APDG AT    X01004 83600006
*                                       OFFSET +16 TO CONVERT CCW'S     83610006
*                                       FROM VIRTUAL TO REAL.           83620006
         LR    RIOSB,RSAVE              RESTORE IOSB ADDR        Y02027 83630006
*                                                                     * 83640006
*        END OF CODE ADDED FOR AOS.                                   * 83650006
*                                                                     * 83660006
*********************************************************************** 83670006
NOTRETRY EQU   *                                                 X01004 83680006
         SVC   EREXCP                                                   83700020
         SVC   RETURN                                                   84000020
         EJECT                                                          84300020
*              EXECUTE INSTRUCTIONS                                     84600006
         SPACE                                                          84650006
MOVENAME MVC   EWTCTRM(ZERO),ZERO(RWKC) MOVE TERMINAL NAME INTO  Y02027 84700006
*                                       THE ERP WORK AREA        Y02027 84750006
         SPACE                                                          84800006
*              CONSTANTS                                         Y02027 84850006
H4       DC    H'4'                     USED TO ADJUST DIGIT     S22025 84900022
*                                       COUNTER                  S22025 85000022
H8       DC    H'8'                     USE TO BACK UP TO        S22025 85100022
*                                       FAILING CLW              S22025 85200022
H10      DC    H'10'                    USED TO ADJUST STATISTIC S22025 85300022
*                                       TABLE POINTER            S22025 85400022
LCBSIZE  DC    AL2(LCBFLAG1-IEDQLCB)    ADJUSTMENT TO BACK UP TO S22025 85500022
*                                       BEGINNING OF LCB         S22025 85600022
ONE      EQU   1                         DECIMAL ONE             S99228 86530022
TWO      EQU   2                         DECIMAL TWO             S99228 86560022
THREE    EQU   3                         DECIMAL THREE           S99228 86590022
FIVE     EQU   5                         DECIMAL FIVE            S99228 86620022
SIX      EQU   6                         DECIMAL SIX             S99228 86650022
RETRY    EQU   6                        RETRY COUNT                     86700020
EIGHT    EQU   8                                                 Y02027 86703006
TWELVE   EQU   12                                                Y02027 86706006
SIXTEEN  EQU   16                                                Y02027 86709006
BLANK    EQU   X'40'                                             Y02027 86712006
LINEMASK EQU   X'FF'                    TEST FOR LINE ERROR MASK Y02027 86715006
OBRDATA  EQU   18                       SIZE OF DEVICE DEPENDENT Y02027 86718006
*                                       DATA FOR OBR/SDR         Y02027 86721006
ZERO     EQU   0                        LENGTH CONSTANT          X01004 86730006
DCK      EQU   X'08'                    MASK FOR SENSE BYTE     SA65392 86740052
IR       EQU   X'40'                    INTERVENTION REQUIRED   SA65392 86760052
SEVEN    EQU   7                        LENGTH CONSTANT          X01004 86760106
BUFF     EQU   X'1A'                    STVTO FOR BUFFERED LCB   S21101 86800021
STATTAB  EQU   112                      OFFSET INTO CVT                 87000020
IOBOFFST EQU   4                        IOB OFFSET IN RQE               87600020
XCTLADD  EQU   X'2C'                    OFFSET IN CVT-XCTL ROUTINE      87900020
ERPCTL   EQU   X'20'                    ERP IN CONTRO BIT               88200020
UNITCHK  EQU   X'02'                    UNIT CHECK MASK IN CSW          88500020
EREXCP   EQU   15                       ERROR EXCP                      89100020
RETURN   EQU   3                        MASK FOR RETURN SVC             89400020
INTREQ   EQU   X'40'                    MASK FOR INTERVENTION REQ       89700020
HEXUCB   EQU   4                        UCB OFFSET TO PACKED NAME       90000020
TIMEOUT  EQU   X'01'                    MSK FOR SENSE BYTE              90300020
BUSOUT   EQU   X'20'                    MASK FOR BUSOUT                 90600020
EQCHK    EQU   X'10'                    EQUIPMENT CHECK MSSK            90900020
LOSTD    EQU   X'02'                    LOST DATA MASK                  91200020
X24      EQU   X'24'                    MASK FOR ERP IN CONTROL         91500020
CHEND    EQU   X'80'                    MASK FOR CHANNEL END            91800020
DEVEND   EQU   X'04'                    MASK FOR DEVICE END             92100020
POPERM   EQU   12                       PERMANENT ERROR RETURN          92400020
POSNO    EQU   16                       SHOULD NOT OCCUR REUTRN         92700020
ENQCH    EQU   7                        OFFSET INTO SCT                 93000020
RDENQ1   EQU   16                       RETURN FO R 404H                93300020
LDRSPETB EQU   4                        RETURN INDICATOR                93600020
SKIPRET  EQU   20                       RETURN FOR 404H                 93900020
X01      EQU   X'01'                    WTO -GIVE CONTROL TO OBR        94200020
X10      EQU   X'10'                    EXTENDED MESSAGE FORMAT         94500020
WTOMSG   EQU   X'FD'                    WTO MODULE ID                   94800020
SDRLOAD  EQU   256                      OBR/SDR MODULE ID               95100020
CVTPTR   EQU   16                       LOCATION OF CVT POINTER         95400020
UCBMASK  EQU   X'17'                    OFFSET IN UCB TO SENSE BYTE     95700020
IOMSG    EQU   X'04'                    'I/OMSG' FLAG                   96000020
XFE      EQU   X'FE'                    END OF LIST ID         @OZ30194 96030086
IOBPTR   EQU   5                        OFFSET OF IOB ADDR. IN RQE.     96060006
DEBPTR   EQU   9                        OFFSET OF DEB ADDR. IN RQE.     96120006
SIOPTR   EQU   4                        OFFSET OF SIO APDG. ADDRESS     96300006
*                                       IN APDG. VECTOR TABLE.          96360006
SIOENTRY EQU   34                       OFFSET OF SUBRTNE. ENTRY Y02027 96420006
HIOCC    EQU   X'48'                    HALT I/O COMPLETION      Y02027 96450006
*                                       POINT IN SIO APPENDAGE.         96480006
         EJECT                                                          96600020
         TSCBD                                                          96900020
         TDCTD                                                 @OY20488 96950086
         TPRFD                                                   S21101 97000021
         EJECT                                                          97100021
         TTRMD                                                          97200020
         TTNTD                                                          97500020
         TCCWD                                                          97800020
         TLCBD                                                          98100020
         EJECT                                                 @OX16393 98140091
LCBEXTX  DSECT                                                 @OX16393 98180091
THRWORD  DS    F                        FOUR BYTE THRESH INFO  @OX16393 98220091
IEALTPCD DS    CL1                      SAVED LAST TP OP CODE  @OX16393 98260091
IEAFTPCD DS    CL1                      SAVED FIRST TP OP CODE @OX16393 98300091
IEADVCHS DS    CL2                      SAVED DEVICE CHARACTERS@OX16393 98340091
IEASENS0 DS    CL1                      SAVED SENSE INFORMATION@OZ24288 98350000
IEACMD   DS    CL1                      SAVED COMMAND CODE     @OZ24288 98360000
IEACSW   DS    CL2                      SAVED CSW INFORMATION  @OZ24288 98370000
         EJECT                                                 @OX16393 98380000
         DCBD  DSORG=TX                                                 98400020
         TDEBD                                                  SA65392 98500052
         TAVTD                                                          98700020
         TTPD                                                           99000020
         IECDIOSB                                                Y02027 99100006
         IECDERWA EWTC                                                  99200006
         EJECT                                                          99300006
         DSECT                                                          99400006
         IEFUCBOB                                                       99500006
         END                                                            99600006
