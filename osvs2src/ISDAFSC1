         TITLE 'FAULT SUMPTOM CODE REPORT FORMAT ROUTINE               *00001000
                        '                                               00002000
ISDAFSC1 CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(16)                                             0001 00007000
         DC    C'ISDAFSC1  76.205'                                 0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00010000
         BALR  @12,0                                               0001 00011000
@PSTART  DS    0H                                                  0001 00012000
         USING @PSTART,@12                                         0001 00013000
         L     @00,@SIZDATD                                        0001 00014000
         ISDAGSPC R,LV=(0)                                              00015000
         LR    @11,@01                                             0001 00016000
         USING @DATD,@11                                           0001 00017000
         ST    @13,@SA00001+4                                      0001 00018000
         LM    @00,@01,20(@13)                                     0001 00019000
         ST    @11,8(,@13)                                         0001 00020000
         LR    @13,@11                                             0001 00021000
         MVC   @PC00001(4),0(@01)                                  0001 00022000
*                                                                  0032 00023000
*   /*****************************************************************/ 00024000
*   /*                                                               */ 00025000
*   /* PROGRAM START.                                                */ 00026000
*   /*                                                               */ 00027000
*   /*****************************************************************/ 00028000
*                                                                  0032 00029000
*   CVTPTR=WORKPTR;                 /* SET LOCAL PTR TO SDACVT.    0032 00030000
*                                                            @Y30LB51*/ 00031000
         L     @10,@PC00001                                        0032 00032000
         L     CVTPTR,WORKPTR(,@10)                                0032 00033000
*   LPARMPTR=PARMPTR;               /* SET LOCAL PTR TO SDAPARMS.  0033 00034000
*                                                            @Y30LB51*/ 00035000
         L     LPARMPTR,PARMPTR(,CVTPTR)                           0033 00036000
*   FSCRETCD=0;                     /* INITIALIZE RETURN CODE.     0034 00037000
*                                                            @Y30LB51*/ 00038000
         SLR   @10,@10                                             0034 00039000
         LR    FSCRETCD,@10                                        0034 00040000
*   TRANSPTR=0;                     /* POINTERS.             @Y30LB51*/ 00041000
         LR    TRANSPTR,@10                                        0035 00042000
*   FSCWKPTR=FSC00PTR;              /* SET PTR TO WORK AREA. @Y30LB51*/ 00043000
         L     FSCWKPTR,FSC00PTR(,CVTPTR)                          0036 00044000
*   IF FSCWKPTR^=0 THEN             /* IF WORK AREA PRESENT  @Y30LB51*/ 00045000
         CR    FSCWKPTR,@10                                        0037 00046000
         BE    @RF00037                                            0037 00047000
*     DO;                           /* GET PRINT TABLE.      @Y30LB51*/ 00048000
*       PRTPTR=PRINTTBL;            /* SET PTR TO PRINT TABLE.     0039 00049000
*                                                            @Y30LB51*/ 00050000
         L     PRTPTR,PRINTTBL(,FSCWKPTR)                          0039 00051000
*       IF PRTTPTR^=0 THEN          /* IF DATA IN PRINT TABLE      0040 00052000
*                                                            @Y30LB51*/ 00053000
         C     @10,PRTTPTR(,PRTPTR)                                0040 00054000
         BE    @RF00040                                            0040 00055000
*         DO;                       /* GET WORK SPACE.       @Y30LB51*/ 00056000
*           CALL GETTBLS;           /* GET NEEDED WORK SPACE.      0042 00057000
*                                                            @Y30LB51*/ 00058000
         BAL   @14,GETTBLS                                         0042 00059000
*           IF FSCRETCD=0 THEN      /* IF SPACE SECURED      @Y30LB51*/ 00060000
         LTR   FSCRETCD,FSCRETCD                                   0043 00061000
         BNZ   @RF00043                                            0043 00062000
*             DO;                   /* PREPARE THE REPORT.   @Y30LB51*/ 00063000
*               CALL PRTHDR;        /* PRINT PAGE HEADERS.   @Y30LB51*/ 00064000
         BAL   @14,PRTHDR                                          0045 00065000
*               CALL PRTLINE;       /* PREPARE AND PRINT THE REPORT.    00066000
*                                                            @Y30LB51*/ 00067000
         BAL   @14,PRTLINE                                         0046 00068000
*               CALL FREECORE;      /* FREE THE GOTTEN CORE. @Y30LB51*/ 00069000
         BAL   @14,FREECORE                                        0047 00070000
*             END;                  /*                       @Y30LB51*/ 00071000
*           ELSE                    /* SPACE WAS NOT AVAILABLE,    0049 00072000
*                                                            @Y30LB51*/ 00073000
*             DO;                   /* FREE ALL DYNAMIC STORAGE.   0049 00074000
*                                                            @Y30LB51*/ 00075000
         B     @RC00043                                            0049 00076000
@RF00043 DS    0H                                                  0050 00077000
*               CALL FREECORE(WORKPTR);/* GO FREE DYNAMIC STORAGE. 0050 00078000
*                                                            @Y30LB51*/ 00079000
         L     @10,@PC00001                                        0050 00080000
         ST    @10,@AL00001                                        0050 00081000
         LA    @01,@AL00001                                        0050 00082000
         BAL   @14,FREECORE                                        0050 00083000
*               FSCRETCD=NOSPACE;   /* SET RETURN CODE.      @Y30LB51*/ 00084000
         LA    FSCRETCD,4                                          0051 00085000
*             END;                  /*                       @Y30LB51*/ 00086000
*         END;                      /*                       @Y30LB51*/ 00087000
*       ELSE                        /* NO DATA IN THE FSC TABLE.   0054 00088000
*                                                            @Y30LB51*/ 00089000
*         DO;                       /* FREE ALL DYNAMIC STORAGE.   0054 00090000
*                                                            @Y30LB51*/ 00091000
         B     @RC00040                                            0054 00092000
@RF00040 DS    0H                                                  0055 00093000
*           CALL FREECORE(WORKPTR); /* GO FREE DYNAMIC STORAGE.    0055 00094000
*                                                            @Y30LB51*/ 00095000
         L     @10,@PC00001                                        0055 00096000
         ST    @10,@AL00001                                        0055 00097000
         LA    @01,@AL00001                                        0055 00098000
         BAL   @14,FREECORE                                        0055 00099000
*           FSCRETCD=NODATA;        /* SET RETURN CODE.      @Y30LB51*/ 00100000
         LA    FSCRETCD,8                                          0056 00101000
*         END;                      /*                       @Y30LB51*/ 00102000
*     END;                          /*                       @Y30LB51*/ 00103000
*   ELSE                            /* NO FSC WORK AREA.     @Y30LB51*/ 00104000
*     FSCRETCD=NODATA;              /*                       @Y30LB51*/ 00105000
         B     @RC00037                                            0059 00106000
@RF00037 LA    FSCRETCD,8                                          0059 00107000
*   RETURN CODE(FSCRETCD);          /*                       @Y30LB51*/ 00108000
@RC00037 L     @13,4(,@13)                                         0060 00109000
         L     @00,@SIZDATD                                        0060 00110000
         LR    @01,@11                                             0060 00111000
         ISDAFSPC R,LV=(0),A=(1)                                        00112000
         LR    @15,@06                                             0060 00113000
         L     @14,12(,@13)                                        0060 00114000
         LM    @00,@12,20(@13)                                     0060 00115000
         BR    @14                                                 0060 00116000
*GETTBLS:                                                          0061 00117000
*   PROC OPTIONS(SAVE(14));         /*                       @AX14534*/ 00118000
*                                                                  0061 00119000
@EL00001 L     @13,4(,@13)                                         0061 00120000
@EF00001 L     @00,@SIZDATD                                        0061 00121000
         LR    @01,@11                                             0061 00122000
         ISDAFSPC R,LV=(0),A=(1)                                        00123000
@ER00001 LM    @14,@12,12(@13)                                     0061 00124000
         BR    @14                                                 0061 00125000
GETTBLS  ST    @14,@SA00002                                        0061 00126000
*   /*****************************************************************/ 00127000
*   /*                                                               */ 00128000
*   /* THIS ROUTINE WILL SECURE SPACE FOR THE TRANSLATION WORK AREA. */ 00129000
*   /*                                                               */ 00130000
*   /*****************************************************************/ 00131000
*                                                                  0062 00132000
*   SPNO='04'X;                     /* GET SUBPOOL NUMBER.   @Y30LB51*/ 00133000
         MVI   SPNO(CVTPTR),X'04'                                  0062 00134000
*   CORELEN=LENGTH(CVTAREA);        /* GET LENGTH OF CONVERSION AREA.   00135000
*                                                            @Y30LB51*/ 00136000
         MVC   CORELEN(3,CVTPTR),@CF00530+1                        0063 00137000
*   CALL ISDAGET1(WORKPTR);         /* GET CONVERSION AREA SPACE.  0064 00138000
*                                                            @Y30LB51*/ 00139000
         L     @10,@PC00001                                        0064 00140000
         ST    @10,@AL00001                                        0064 00141000
         L     @15,@CV00382                                        0064 00142000
         LA    @01,@AL00001                                        0064 00143000
         BALR  @14,@15                                             0064 00144000
*   RFY                                                            0065 00145000
*     RF RSTD;                      /*                       @Y30LB51*/ 00146000
*   FSCRETCD=RF;                    /* SAVE RETURN CODE.     @Y30LB51*/ 00147000
         LR    FSCRETCD,RF                                         0066 00148000
*   RFY                                                            0067 00149000
*      RF UNRSTD;                   /*                       @Y30LB51*/ 00150000
*   IF FSCRETCD=0 THEN              /* IF SPACE SECURED      @Y30LB51*/ 00151000
         LTR   FSCRETCD,FSCRETCD                                   0068 00152000
         BNZ   @RF00068                                            0068 00153000
*     TRANSPTR=COREADDR;            /* SET PTR TO IT.        @Y30LB51*/ 00154000
         L     TRANSPTR,COREADDR(,CVTPTR)                          0069 00155000
*   ELSE                            /* SPACE NOT AVAILABLE.  @Y30LB51*/ 00156000
*     FSCRETCD=NOSPACE;             /*                       @Y30LB51*/ 00157000
         B     @RC00068                                            0070 00158000
@RF00068 LA    FSCRETCD,4                                          0070 00159000
*   END GETTBLS;                    /*                       @Y30LB51*/ 00160000
@EL00002 DS    0H                                                  0071 00161000
@EF00002 DS    0H                                                  0071 00162000
@ER00002 L     @14,@SA00002                                        0071 00163000
         BR    @14                                                 0071 00164000
*PRTHDR:                                                           0072 00165000
*   PROC OPTIONS(SAVE(14));         /*                       @AX14534*/ 00166000
*                                                                  0072 00167000
PRTHDR   ST    @14,@SA00003                                        0072 00168000
*   /*****************************************************************/ 00169000
*   /*                                                               */ 00170000
*   /* THIS ROUTINE WILL PRINT THE HEADERS ON EACH PAGE OF THE       */ 00171000
*   /* REPORT.                                                       */ 00172000
*   /*                                                               */ 00173000
*   /*****************************************************************/ 00174000
*                                                                  0073 00175000
*   OUTLINE=HEADER;                 /* PRINT THE REPORT TITLE.     0073 00176000
*                                                            @Y30LB51*/ 00177000
         MVI   OUTLINE+38(CVTPTR),C' '                             0073 00178000
         MVC   OUTLINE+39(94,CVTPTR),OUTLINE+38(CVTPTR)            0073 00179000
         MVC   OUTLINE(38,CVTPTR),@CC00395                         0073 00180000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00181000
         L     @10,@PC00001                                        0074 00182000
         ST    @10,@AL00001                                        0074 00183000
         L     @15,@CV00383                                        0074 00184000
         LA    @01,@AL00001                                        0074 00185000
         BALR  @14,@15                                             0074 00186000
*   OUTLINE=SUBHDR1;                /* PRINT THE SUB-HEADINGS.     0075 00187000
*                                                            @Y30LB51*/ 00188000
         MVI   OUTLINE+107(CVTPTR),C' '                            0075 00189000
         MVC   OUTLINE+108(25,CVTPTR),OUTLINE+107(CVTPTR)          0075 00190000
         MVC   OUTLINE(107,CVTPTR),@CC00400                        0075 00191000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00192000
         L     @10,@PC00001                                        0076 00193000
         ST    @10,@AL00001                                        0076 00194000
         L     @15,@CV00383                                        0076 00195000
         LA    @01,@AL00001                                        0076 00196000
         BALR  @14,@15                                             0076 00197000
*   OUTLINE=SUBHDR2;                /*                       @Y30LB51*/ 00198000
         MVI   OUTLINE+81(CVTPTR),C' '                             0077 00199000
         MVC   OUTLINE+82(51,CVTPTR),OUTLINE+81(CVTPTR)            0077 00200000
         MVC   OUTLINE(81,CVTPTR),@CC00410                         0077 00201000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00202000
         L     @10,@PC00001                                        0078 00203000
         ST    @10,@AL00001                                        0078 00204000
         L     @15,@CV00383                                        0078 00205000
         LA    @01,@AL00001                                        0078 00206000
         BALR  @14,@15                                             0078 00207000
*   OUTLINE=SUBHDR3;                /*                       @Y30LB51*/ 00208000
         MVI   OUTLINE+81(CVTPTR),C' '                             0079 00209000
         MVC   OUTLINE+82(51,CVTPTR),OUTLINE+81(CVTPTR)            0079 00210000
         MVC   OUTLINE(81,CVTPTR),@CC00417                         0079 00211000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00212000
         L     @10,@PC00001                                        0080 00213000
         ST    @10,@AL00001                                        0080 00214000
         L     @15,@CV00383                                        0080 00215000
         LA    @01,@AL00001                                        0080 00216000
         BALR  @14,@15                                             0080 00217000
*   OUTLINE=SUBHDR4;                /*                       @Y30LB51*/ 00218000
         MVI   OUTLINE+54(CVTPTR),C' '                             0081 00219000
         MVC   OUTLINE+55(78,CVTPTR),OUTLINE+54(CVTPTR)            0081 00220000
         MVC   OUTLINE(54,CVTPTR),@CC00425                         0081 00221000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00222000
         L     @10,@PC00001                                        0082 00223000
         ST    @10,@AL00001                                        0082 00224000
         L     @15,@CV00383                                        0082 00225000
         LA    @01,@AL00001                                        0082 00226000
         BALR  @14,@15                                             0082 00227000
*   OUTLINE='';                     /*                       @Y30LB51*/ 00228000
         MVI   OUTLINE(CVTPTR),C' '                                0083 00229000
         MVC   OUTLINE+1(132,CVTPTR),OUTLINE(CVTPTR)               0083 00230000
*   CALL ISDAPRT0(WORKPTR);         /* SPACE ONE LINE.       @Y30LB51*/ 00231000
         L     @10,@PC00001                                        0084 00232000
         ST    @10,@AL00001                                        0084 00233000
         L     @15,@CV00383                                        0084 00234000
         LA    @01,@AL00001                                        0084 00235000
         BALR  @14,@15                                             0084 00236000
*   END PRTHDR;                     /*                       @Y30LB51*/ 00237000
@EL00003 DS    0H                                                  0085 00238000
@EF00003 DS    0H                                                  0085 00239000
@ER00003 L     @14,@SA00003                                        0085 00240000
         BR    @14                                                 0085 00241000
*PRTLINE:                                                          0086 00242000
*   PROC OPTIONS(SAVE(14));         /*                       @Y30LB51*/ 00243000
*                                                                  0086 00244000
PRTLINE  ST    @14,@SA00004                                        0086 00245000
*   /*****************************************************************/ 00246000
*   /*                                                               */ 00247000
*   /* THIS ROUTINE WILL FORMAT THE DATA FROM THE FSC TABLE ELEMENT  */ 00248000
*   /* AND CALL THE ISDAPRT0 ROUTINE TO PRINT IT.                    */ 00249000
*   /*                                                               */ 00250000
*   /*****************************************************************/ 00251000
*                                                                  0087 00252000
*   OUTLINE='';                     /* BLANK OUT THE OUTPUT LINE.  0087 00253000
*                                                            @Y30LB51*/ 00254000
         MVI   OUTLINE(CVTPTR),C' '                                0087 00255000
         MVC   OUTLINE+1(132,CVTPTR),OUTLINE(CVTPTR)               0087 00256000
*   PRTPTR=PRINTTBL;                /* SET PTR TO PRINT TABLE ENTRY.    00257000
*                                                            @Y30LB51*/ 00258000
         L     PRTPTR,PRINTTBL(,FSCWKPTR)                          0088 00259000
*   TBLPTR=PRTTPTR;                 /* SET PTR TO FSC TABLE ENTRY. 0089 00260000
*                                                            @Y30LB51*/ 00261000
         L     TBLPTR,PRTTPTR(,PRTPTR)                             0089 00262000
*   DO WHILE TBLPTR^=0;             /*                       @Y30LB51*/ 00263000
         B     @DE00090                                            0090 00264000
@DL00090 DS    0H                                                  0091 00265000
*     IF LINECT>=LINENR THEN        /* IF NO SPACE ON PAGE   @Y30LB51*/ 00266000
         LH    @10,LINECT(,FSCWKPTR)                               0091 00267000
         CH    @10,@CH00370                                        0091 00268000
         BL    @RF00091                                            0091 00269000
*       DO;                         /* PRINT FOOTINGS AND PREPARE NEW   00270000
*                                      PAGE.                 @Y30LB51*/ 00271000
*         CALL PRTFOOT;             /* PRINT FOOTINGS.       @Y30LB51*/ 00272000
         BAL   @14,PRTFOOT                                         0093 00273000
*         CALL PRTHDR;              /* PRTINT HEADERS ON NEW PAGE. 0094 00274000
*                                                            @Y30LB51*/ 00275000
         BAL   @14,PRTHDR                                          0094 00276000
*         LINECT=0;                 /* RESET THE LINE COUNTER.     0095 00277000
*                                                            @Y30LB51*/ 00278000
         SLR   @10,@10                                             0095 00279000
         STH   @10,LINECT(,FSCWKPTR)                               0095 00280000
*       END;                        /*                       @Y30LB51*/ 00281000
*     ELSE                                                         0097 00282000
*       ;                           /*                       @Y30LB51*/ 00283000
@RF00091 DS    0H                                                  0098 00284000
*     CALL CVTSSID;                 /* CONVERT SSID TO PRINTABLE.  0098 00285000
*                                                            @Y30LB51*/ 00286000
         BAL   @14,CVTSSID                                         0098 00287000
*     IF FSCAPR='1'B THEN           /* IF APR ALTERED SSID   @Y30LB51*/ 00288000
         TM    FSCAPR(TBLPTR),B'00010000'                          0099 00289000
         BNO   @RF00099                                            0099 00290000
*       SSIDTYPE='-A';              /* PUT 'A' IN SSID TYPE. @ZM30730*/ 00291000
         MVC   SSIDTYPE(2,CVTPTR),@CC00487                         0100 00292000
*     ELSE                                                         0101 00293000
*       ;                           /* SSID NOT ALTERED.     @Y30LB51*/ 00294000
@RF00099 DS    0H                                                  0102 00295000
*     CALL CVTFSC;                  /* CONVERT FSC TO PRINTABLE.   0102 00296000
*                                                            @Y30LB51*/ 00297000
         BAL   @14,CVTFSC                                          0102 00298000
*     DECCVT=''B;                   /* ZERO OUT WORK AREA.   @Y30LB51*/ 00299000
         XC    DECCVT(4,TRANSPTR),DECCVT(TRANSPTR)                 0103 00300000
*     CVD(FSCCTR,DECCVT);           /* CONVERT COUNT TO DECIMAL.   0104 00301000
*                                                            @Y30LB51*/ 00302000
         LH    @10,FSCCTR(,TBLPTR)                                 0104 00303000
         CVD   @10,@TS00001                                        0104 00304000
         MVC   DECCVT(4,TRANSPTR),@TS00001+4                       0104 00305000
*     EDITCNT=PATTERNA;             /* GET EDIT PATTERN AND  @Y30LB51*/ 00306000
         MVC   EDITCNT(8,TRANSPTR),PATTERNA                        0105 00307000
*     ED(EDITCNT,DECCVT);           /* EDIT THE COUNT.       @Y30LB51*/ 00308000
         ED    EDITCNT(8,TRANSPTR),DECCVT(TRANSPTR)                0106 00309000
*     NUMBERS=EDITCNT;              /* PUT COUNT IN OUTPUT SKELETON.    00310000
*                                                            @Y30LB51*/ 00311000
         MVI   NUMBERS+8(CVTPTR),C' '                              0107 00312000
         MVC   NUMBERS(8,CVTPTR),EDITCNT(TRANSPTR)                 0107 00313000
*     DECCVT=''B;                   /* ZERO OUT WORK AREA.   @Y30LB51*/ 00314000
         XC    DECCVT(4,TRANSPTR),DECCVT(TRANSPTR)                 0108 00315000
*     CVD(FSCPCT,DECCVT);           /* CONVERT PERCENT TO DECIMAL. 0109 00316000
*                                                            @Y30LB51*/ 00317000
         LH    @10,FSCPCT(,TBLPTR)                                 0109 00318000
         CVD   @10,@TS00001                                        0109 00319000
         MVC   DECCVT(4,TRANSPTR),@TS00001+4                       0109 00320000
*     EDITPCT=PATTERNB;             /* GET EDIT PATTERN AND  @Y30LB51*/ 00321000
         MVC   EDITPCT(9,TRANSPTR),PATTERNB                        0110 00322000
*     ED(EDITPCT,DECCVT);           /* EDIT THE PERCENTAGE.  @Y30LB51*/ 00323000
         ED    EDITPCT(9,TRANSPTR),DECCVT(TRANSPTR)                0111 00324000
*     PERCENT=EDITPCT;              /* PUT PERCENTAGE IN SKELETON. 0112 00325000
*                                                            @Y30LB51*/ 00326000
         MVC   PERCENT(9,CVTPTR),EDITPCT(TRANSPTR)                 0112 00327000
*     CALL CVTTIME;                 /* CONVERT TIME TO PRINTABLE.  0113 00328000
*                                                            @Y30LB51*/ 00329000
         BAL   @14,CVTTIME                                         0113 00330000
*     CALL ISDAPRT0(WORKPTR);       /* PRINT THE LINE.       @Y30LB51*/ 00331000
         L     @10,@PC00001                                        0114 00332000
         ST    @10,@AL00001                                        0114 00333000
         L     @15,@CV00383                                        0114 00334000
         LA    @01,@AL00001                                        0114 00335000
         BALR  @14,@15                                             0114 00336000
*     OUTLINE='';                   /* BLANK THE OUTPUT LINE @AX14534*/ 00337000
         MVI   OUTLINE(CVTPTR),C' '                                0115 00338000
         MVC   OUTLINE+1(132,CVTPTR),OUTLINE(CVTPTR)               0115 00339000
*     LINECT=LINECT+1;              /* ADD ONE TO THE LINE COUNTER.     00340000
*                                                            @Y30LB51*/ 00341000
         LA    @10,1                                               0116 00342000
         LH    @15,LINECT(,FSCWKPTR)                               0116 00343000
         ALR   @15,@10                                             0116 00344000
         STH   @15,LINECT(,FSCWKPTR)                               0116 00345000
*     PRTPTR=PRTPTR+LENGTH(PRTTBL); /* SET PTR TO NEXT TABLE ENTRY.     00346000
*                                                            @Y30LB51*/ 00347000
         AH    PRTPTR,@CH00104                                     0117 00348000
*     PTRSAVE=TBLPTR;               /* SAVE PTR TO CURRENT FSC TABLE    00349000
*                                      ENTRY.                @Y30LB51*/ 00350000
         ST    TBLPTR,PTRSAVE(,FSCWKPTR)                           0118 00351000
*     TBLPTR=PRTTPTR;               /* SET PTR TO NEXT FSC TABLE   0119 00352000
*                                      ENTRY.                @Y30LB51*/ 00353000
         L     TBLPTR,PRTTPTR(,PRTPTR)                             0119 00354000
*     IF FSCSSID^=PTRSAVE->FSCSSID THEN/* IF NEW SSID        @Y30LB51*/ 00355000
         L     @14,PTRSAVE(,FSCWKPTR)                              0120 00356000
         CLC   FSCSSID(4,TBLPTR),FSCSSID(@14)                      0120 00357000
         BE    @RF00120                                            0120 00358000
*       DO;                         /* SPACE THE REPORT.     @Y30LB51*/ 00359000
*         FSCANSI=LSKIP2;           /* SET CONTROL CHARACTER.      0122 00360000
*                                                            @Y30LB51*/ 00361000
         MVI   FSCANSI(CVTPTR),C'0'                                0122 00362000
*         LINECT=LINECT+1;          /* ADD ONE TO LINE COUNTER.    0123 00363000
*                                                            @Y30LB51*/ 00364000
         ALR   @15,@10                                             0123 00365000
         STH   @15,LINECT(,FSCWKPTR)                               0123 00366000
*       END;                        /*                       @Y30LB51*/ 00367000
*     ELSE                                                         0125 00368000
*       ;                           /* NOT A NEW SSID.       @Y30LB51*/ 00369000
@RF00120 DS    0H                                                  0126 00370000
*   END;                            /*                       @Y30LB51*/ 00371000
@DE00090 LTR   TBLPTR,TBLPTR                                       0126 00372000
         BNZ   @DL00090                                            0126 00373000
*   CALL PRTFOOT;                   /* PRINT FOOTINGS.       @Y30LB51*/ 00374000
         BAL   @14,PRTFOOT                                         0127 00375000
*   END PRTLINE;                    /*                       @Y30LB51*/ 00376000
@EL00004 DS    0H                                                  0128 00377000
@EF00004 DS    0H                                                  0128 00378000
@ER00004 L     @14,@SA00004                                        0128 00379000
         BR    @14                                                 0128 00380000
*CVTSSID:                                                          0129 00381000
*   PROC OPTIONS(SAVE(14));         /*                       @Y30LB51*/ 00382000
*                                                                  0129 00383000
CVTSSID  ST    @14,@SA00005                                        0129 00384000
*   /*****************************************************************/ 00385000
*   /*                                                               */ 00386000
*   /* THIS ROUTINE WILL CONVERT THE SSID TO PRINTABLE CHARACTERS AND*/ 00387000
*   /* DETERMINE THE DEVICE TYPE.                                    */ 00388000
*   /*                                                               */ 00389000
*   /*****************************************************************/ 00390000
*                                                                  0130 00391000
*   SSIDCVT(1)=FSCSSID(1);          /* GET FIRST BYTE SSID AND     0130 00392000
*                                                            @Y30LB51*/ 00393000
         MVC   SSIDCVT(1,TRANSPTR),FSCSSID(TBLPTR)                 0130 00394000
*   SSIDCVT(1)=SSIDCVT(1)&'0F'X;    /* ISOLATE FIRST CHARACTER.    0131 00395000
*                                                            @Y30LB51*/ 00396000
         NI    SSIDCVT(TRANSPTR),X'0F'                             0131 00397000
*   SSIDCVT(2)=FSCSSID(2);          /* GET SECOND BYTE SSID AND    0132 00398000
*                                                            @Y30LB51*/ 00399000
         MVC   SSIDCVT+1(1,TRANSPTR),FSCSSID+1(TBLPTR)             0132 00400000
*   SRL(SSIDCVT(2),4);              /* ISOLATE SECOND CHARACTER.   0133 00401000
*                                                            @Y30LB51*/ 00402000
         SLR   @10,@10                                             0133 00403000
         IC    @10,SSIDCVT+1(,TRANSPTR)                            0133 00404000
         SRL   @10,4                                               0133 00405000
         STC   @10,SSIDCVT+1(,TRANSPTR)                            0133 00406000
*   SSIDCVT(3)=FSCSSID(2);          /* GET SECOND BYTE SSID AND    0134 00407000
*                                                            @Y30LB51*/ 00408000
         MVC   SSIDCVT+2(1,TRANSPTR),FSCSSID+1(TBLPTR)             0134 00409000
*   SSIDCVT(3)=SSIDCVT(3)&'0F'X;    /* ISOLATE THIRD CHARACTER.    0135 00410000
*                                                            @Y30LB51*/ 00411000
         NI    SSIDCVT+2(TRANSPTR),X'0F'                           0135 00412000
*   TR(SSIDCVT,TRANSTAB);           /* TRANSLATE SSID TO PRINTABLE.     00413000
*                                                            @Y30LB51*/ 00414000
         TR    SSIDCVT(3,TRANSPTR),@CC00372                        0136 00415000
*   IF((MSCFLAG='1'B)|(REALDASD='1'B)) THEN/* IF MSC OR DASD RECORD     00416000
*                                                            @ZD00149*/ 00417000
         TM    MSCFLAG(TBLPTR),B'10000000'                         0137 00418000
         BO    @RT00137                                            0137 00419000
         TM    REALDASD(TBLPTR),B'10000000'                        0137 00420000
         BNO   @RF00137                                            0137 00421000
@RT00137 DS    0H                                                  0138 00422000
*     RUACHAR=SSIDCVT;              /* PUT UNIT ADDRESS INTO       0138 00423000
*                                      SKELETON.             @ZM31022*/ 00424000
         MVC   RUACHAR(3,CVTPTR),SSIDCVT(TRANSPTR)                 0138 00425000
*   ELSE                            /* NOT MSC OR DASD RECORD,     0139 00426000
*                                                            @ZD00149*/ 00427000
*     SSIDCHAR=SSIDCVT;             /* PUT SSID IN SKELETON. @ZM31022*/ 00428000
         B     @RC00137                                            0139 00429000
@RF00137 MVC   SSIDCHAR(3,CVTPTR),SSIDCVT(TRANSPTR)                0139 00430000
*   IF MSCFLAG='1'B THEN            /* IF MSC DEVICE         @Y30LB51*/ 00431000
@RC00137 TM    MSCFLAG(TBLPTR),B'10000000'                         0140 00432000
         BNO   @RF00140                                            0140 00433000
*     DO;                           /* PREPARE SKELETON.     @Y30LB51*/ 00434000
*       DEVICE='MSC ';              /* PUT MSC DEVICE AND    @Y30LB51*/ 00435000
         MVC   DEVICE(4,CVTPTR),@CC00499                           0142 00436000
*       RUATYPE='-M';               /* TYPE IN SKELETON.     @ZM30730*/ 00437000
         MVC   RUATYPE(2,CVTPTR),@CC00500                          0143 00438000
*     END;                          /*                       @Y30LB51*/ 00439000
*   ELSE                            /* NOT MSC DEVICE.       @Y30LB51*/ 00440000
*     IF SAFLAG='1'B THEN           /* IF STAGING ADAPTOR    @Y30LB51*/ 00441000
         B     @RC00140                                            0145 00442000
@RF00140 TM    SAFLAG(TBLPTR),B'01000000'                          0145 00443000
         BNO   @RF00145                                            0145 00444000
*       DEVICE='SA  ';              /* PUT IT IN SKELETON.   @Y30LB51*/ 00445000
         MVC   DEVICE(4,CVTPTR),@CC00501                           0146 00446000
*     ELSE                          /* NOT STAGING ADAPTOR.  @Y30LB51*/ 00447000
*       IF DRCFLAG='1'B THEN        /* IF R/W CONTROLLER     @Y30LB51*/ 00448000
         B     @RC00145                                            0147 00449000
@RF00145 TM    DRCFLAG(TBLPTR),B'00100000'                         0147 00450000
         BNO   @RF00147                                            0147 00451000
*         DEVICE='DRC ';            /* PUT IT IN SKELETON.   @Y30LB51*/ 00452000
         MVC   DEVICE(4,CVTPTR),@CC00502                           0148 00453000
*       ELSE                        /* NOT R/W CONTROLLER.   @Y30LB51*/ 00454000
*         IF DRDFLAG='1'B THEN      /* IF R/W UNIT           @Y30LB51*/ 00455000
         B     @RC00147                                            0149 00456000
@RF00147 TM    DRDFLAG(TBLPTR),B'00010000'                         0149 00457000
         BNO   @RF00149                                            0149 00458000
*           DEVICE='DRD ';          /* PUT IT IN SKELETON.   @Y30LB51*/ 00459000
         MVC   DEVICE(4,CVTPTR),@CC00503                           0150 00460000
*         ELSE                      /* NOT R/W UNIT.         @Y30LB51*/ 00461000
*           IF CSFLAG='1'B THEN     /* IF CARTRIDGE STORAGE UNIT   0151 00462000
*                                                            @Y30LB51*/ 00463000
         B     @RC00149                                            0151 00464000
@RF00149 TM    CSFLAG(TBLPTR),B'00001000'                          0151 00465000
         BNO   @RF00151                                            0151 00466000
*             DO;                   /* MOVE MSF NUMBER       @ZM31022*/ 00467000
*               DEVICE='MSF ';      /* PUT IT IN SKELETON.   @ZM31022*/ 00468000
         MVC   DEVICE(4,CVTPTR),@CC00504                           0153 00469000
*               DEVICE(4)=SSIDCVT(2); /* MOVE MSF NUMBER     @ZM31022*/ 00470000
         MVC   DEVICE+3(1,CVTPTR),SSIDCVT+1(TRANSPTR)              0154 00471000
*             END;                  /* END CARTRIDGE STORE   @ZM31022*/ 00472000
*           ELSE                    /* NOT CARTRIDGE STORAGE UNIT, 0156 00473000
*                                                            @Y30LB51*/ 00474000
*             DO;                   /* PROCESS 3830 OR 3330 DEVICE.     00475000
*                                                            @ZD00149*/ 00476000
         B     @RC00151                                            0156 00477000
@RF00151 DS    0H                                                  0157 00478000
*               CALL CVTCOUNT;      /* CONVERT DEVICE COUNTS TO    0157 00479000
*                                      PRINTABLE.            @ZD00149*/ 00480000
         BAL   @14,CVTCOUNT                                        0157 00481000
*               IF DIRFLAG='1'B THEN/* IF 3830 CONTROLLER    @Y30LB51*/ 00482000
         TM    DIRFLAG(TBLPTR),B'00000100'                         0158 00483000
         BNO   @RF00158                                            0158 00484000
*                 DEVICE='3830';    /* PUT IT IN SKELETON.   @Y30LB51*/ 00485000
         MVC   DEVICE(4,CVTPTR),@CC00506                           0159 00486000
*               ELSE                /* MUST BE 3330 UNIT,    @Y30LB51*/ 00487000
*                 DEVICE='3330';    /* PUT IT IN SKELETON.   @Y30LB51*/ 00488000
         B     @RC00158                                            0160 00489000
@RF00158 MVC   DEVICE(4,CVTPTR),@CC00507                           0160 00490000
*             END;                  /*                       @ZD00149*/ 00491000
@RC00158 DS    0H                                                  0162 00492000
*   IF DASDFLAG='1'B THEN           /* IF DASD DEVICE        @Y30LB51*/ 00493000
@RC00151 DS    0H                                                  0162 00494000
@RC00149 DS    0H                                                  0162 00495000
@RC00147 DS    0H                                                  0162 00496000
@RC00145 DS    0H                                                  0162 00497000
@RC00140 TM    DASDFLAG(TBLPTR),B'00000001'                        0162 00498000
         BNO   @RF00162                                            0162 00499000
*     DO;                           /* PROCESS IT.           @ZD00149*/ 00500000
*       CALL CVTCOUNT;              /* CONVERT DEVICE COUNTS TO    0164 00501000
*                                      PRINTABLE.            @ZD00149*/ 00502000
         BAL   @14,CVTCOUNT                                        0164 00503000
*       IF REALDASD='1'B THEN       /* AND REAL DASD         @Y30LB51*/ 00504000
         TM    REALDASD(TBLPTR),B'10000000'                        0165 00505000
         BNO   @RF00165                                            0165 00506000
*         RUATYPE='-R';             /* PUT IT IN SKELETON.   @ZM30730*/ 00507000
         MVC   RUATYPE(2,CVTPTR),@CC00508                          0166 00508000
*       ELSE;                       /* NOT REAL DASD.        @Y30LB51*/ 00509000
@RF00165 DS    0H                                                  0168 00510000
*     END;                          /*                       @ZD00149*/ 00511000
*   ELSE                                                           0169 00512000
*     ;                             /* NOT A DASD DEVICE.    @Y30LB51*/ 00513000
@RF00162 DS    0H                                                  0170 00514000
*   END CVTSSID;                    /*                       @Y30LB51*/ 00515000
@EL00005 DS    0H                                                  0170 00516000
@EF00005 DS    0H                                                  0170 00517000
@ER00005 L     @14,@SA00005                                        0170 00518000
         BR    @14                                                 0170 00519000
*CVTFSC:                                                           0171 00520000
*   PROC OPTIONS(SAVE(14));         /*                       @Y30LB51*/ 00521000
*                                                                  0171 00522000
CVTFSC   ST    @14,12(,@13)                                        0171 00523000
*   /*****************************************************************/ 00524000
*   /*                                                               */ 00525000
*   /* THIS ROUTINE WILL CONVERT THE FSC TO PRINTABLE CHARACTERS.    */ 00526000
*   /*                                                               */ 00527000
*   /*****************************************************************/ 00528000
*                                                                  0172 00529000
*   IF CSFLAG='1'B THEN             /* IF A LIBRARY DEVICE   @Y30LB51*/ 00530000
         TM    CSFLAG(TBLPTR),B'00001000'                          0172 00531000
         BNO   @RF00172                                            0172 00532000
*     DO;                           /* CONVERT THE LIBRARY FSC.    0173 00533000
*                                                            @Y30LB51*/ 00534000
*       FSCCVT(1)=FSCFSC(1);        /* ISOLATE THE CHARACTERS OF THE    00535000
*                                      FSC.                  @Y30LB51*/ 00536000
         MVC   FSCCVT(1,TRANSPTR),FSCFSC(TBLPTR)                   0174 00537000
*       SRL(FSCCVT(1),4);           /*                       @Y30LB51*/ 00538000
         SLR   @10,@10                                             0175 00539000
         IC    @10,FSCCVT(,TRANSPTR)                               0175 00540000
         SRL   @10,4                                               0175 00541000
         STC   @10,FSCCVT(,TRANSPTR)                               0175 00542000
*       FSCCVT(2)=FSCFSC(1);        /*                       @Y30LB51*/ 00543000
         MVC   FSCCVT+1(1,TRANSPTR),FSCFSC(TBLPTR)                 0176 00544000
*       FSCCVT(2)=FSCCVT(2)&'0F'X;  /*                       @Y30LB51*/ 00545000
         NI    FSCCVT+1(TRANSPTR),X'0F'                            0177 00546000
*       FSCCVT(3)=FSCFSC(2);        /*                       @Y30LB51*/ 00547000
         MVC   FSCCVT+2(1,TRANSPTR),FSCFSC+1(TBLPTR)               0178 00548000
*       SRL(FSCCVT(3),4);           /*                       @Y30LB51*/ 00549000
         SLR   @10,@10                                             0179 00550000
         IC    @10,FSCCVT+2(,TRANSPTR)                             0179 00551000
         SRL   @10,4                                               0179 00552000
         STC   @10,FSCCVT+2(,TRANSPTR)                             0179 00553000
*       FSCCVT(4)=FSCFSC(2);        /*                       @Y30LB51*/ 00554000
         MVC   FSCCVT+3(1,TRANSPTR),FSCFSC+1(TBLPTR)               0180 00555000
*       FSCCVT(4)=FSCCVT(4)&'0F'X;  /*                       @Y30LB51*/ 00556000
         NI    FSCCVT+3(TRANSPTR),X'0F'                            0181 00557000
*       FSCCVT(5)=FSCFSC(3);        /*                       @Y30LB51*/ 00558000
         MVC   FSCCVT+4(1,TRANSPTR),FSCFSC+2(TBLPTR)               0182 00559000
*       SRL(FSCCVT(5),4);           /*                       @Y30LB51*/ 00560000
         SLR   @10,@10                                             0183 00561000
         IC    @10,FSCCVT+4(,TRANSPTR)                             0183 00562000
         SRL   @10,4                                               0183 00563000
         STC   @10,FSCCVT+4(,TRANSPTR)                             0183 00564000
*       FSCCVT(6)=FSCFSC(3);        /*                       @Y30LB51*/ 00565000
         MVC   FSCCVT+5(1,TRANSPTR),FSCFSC+2(TBLPTR)               0184 00566000
*       FSCCVT(6)=FSCCVT(6)&'0F'X;  /*                       @Y30LB51*/ 00567000
         NI    FSCCVT+5(TRANSPTR),X'0F'                            0185 00568000
*       FSCCVT(7)=FSCFSC(4);        /*                       @Y30LB51*/ 00569000
         MVC   FSCCVT+6(1,TRANSPTR),FSCFSC+3(TBLPTR)               0186 00570000
*       SRL(FSCCVT(7),4);           /*                       @Y30LB51*/ 00571000
         SLR   @10,@10                                             0187 00572000
         IC    @10,FSCCVT+6(,TRANSPTR)                             0187 00573000
         SRL   @10,4                                               0187 00574000
         STC   @10,FSCCVT+6(,TRANSPTR)                             0187 00575000
*       FSCCVT(8)=FSCFSC(4);        /*                       @Y30LB51*/ 00576000
         MVC   FSCCVT+7(1,TRANSPTR),FSCFSC+3(TBLPTR)               0188 00577000
*       FSCCVT(8)=FSCCVT(8)&'0F'X;  /*                       @Y30LB51*/ 00578000
         NI    FSCCVT+7(TRANSPTR),X'0F'                            0189 00579000
*       TR(FSCCVT,TRANSTAB);        /* CONVERT FSC TO PRINTABLE AND     00580000
*                                                            @Y30LB51*/ 00581000
         TR    FSCCVT(8,TRANSPTR),@CC00372                         0190 00582000
*       FSCAREA=FSCCVT;             /* PUT IT IN SKELETON.   @Y30LB51*/ 00583000
         MVC   FSCAREA(8,CVTPTR),FSCCVT(TRANSPTR)                  0191 00584000
*     END;                          /*                       @Y30LB51*/ 00585000
*   ELSE                            /* IT IS A NON-LIBRARY FSC.    0193 00586000
*                                                            @Y30LB51*/ 00587000
*     DO;                           /* CONVERT IT TO PRINTABLE.    0193 00588000
*                                                            @Y30LB51*/ 00589000
         B     @RC00172                                            0193 00590000
@RF00172 DS    0H                                                  0194 00591000
*       FSCCVT(1)=FSCFSC(1);        /*                       @Y30LB51*/ 00592000
         MVC   FSCCVT(1,TRANSPTR),FSCFSC(TBLPTR)                   0194 00593000
*       SRL(FSCCVT(1),4);           /*                       @Y30LB51*/ 00594000
         SLR   @10,@10                                             0195 00595000
         IC    @10,FSCCVT(,TRANSPTR)                               0195 00596000
         SRL   @10,4                                               0195 00597000
         STC   @10,FSCCVT(,TRANSPTR)                               0195 00598000
*       FSCCVT(2)=FSCFSC(1);        /*                       @Y30LB51*/ 00599000
         MVC   FSCCVT+1(1,TRANSPTR),FSCFSC(TBLPTR)                 0196 00600000
*       FSCCVT(2)=FSCCVT(2)&'0F'X;  /*                       @Y30LB51*/ 00601000
         NI    FSCCVT+1(TRANSPTR),X'0F'                            0197 00602000
*       FSCCVT(3)=FSCFSC(2);        /*                       @Y30LB51*/ 00603000
         MVC   FSCCVT+2(1,TRANSPTR),FSCFSC+1(TBLPTR)               0198 00604000
*       SRL(FSCCVT(3),4);           /*                       @Y30LB51*/ 00605000
         SLR   @10,@10                                             0199 00606000
         IC    @10,FSCCVT+2(,TRANSPTR)                             0199 00607000
         SRL   @10,4                                               0199 00608000
         STC   @10,FSCCVT+2(,TRANSPTR)                             0199 00609000
*       FSCCVT(4)=FSCFSC(2);        /*                       @Y30LB51*/ 00610000
         MVC   FSCCVT+3(1,TRANSPTR),FSCFSC+1(TBLPTR)               0200 00611000
*       FSCCVT(4)=FSCCVT(4)&'0F'X;  /*                       @Y30LB51*/ 00612000
         NI    FSCCVT+3(TRANSPTR),X'0F'                            0201 00613000
*       TR(FSCNLIB,TRANSTAB);       /* CONVERT FSC TO PRINTABLE.   0202 00614000
*                                                            @Y30LB51*/ 00615000
         TR    FSCNLIB(4,TRANSPTR),@CC00372                        0202 00616000
*       FSCAREAN=FSCNLIB;           /* PUT FSC IN SKELETON.  @Y30LB51*/ 00617000
         MVC   FSCAREAN(4,CVTPTR),FSCNLIB(TRANSPTR)                0203 00618000
*       IF FAKEFSC='1'B THEN        /* IF THIS IS GENERATED FSC    0204 00619000
*                                                            @Y30LB51*/ 00620000
         TM    FAKEFSC(TBLPTR),B'00100000'                         0204 00621000
         BNO   @RF00204                                            0204 00622000
*         FSCTYPE='*';              /* PUT '*' IN OUTPUT LINE.     0205 00623000
*                                                            @Y30LB51*/ 00624000
         MVI   FSCTYPE(CVTPTR),C'*'                                0205 00625000
*       ELSE                                                       0206 00626000
*         ;                         /* NOT A GENERATED FSC.  @Y30LB51*/ 00627000
@RF00204 DS    0H                                                  0207 00628000
*     END;                          /*                       @Y30LB51*/ 00629000
*   END CVTFSC;                     /*                       @Y30LB51*/ 00630000
@EL00006 DS    0H                                                  0208 00631000
@EF00006 DS    0H                                                  0208 00632000
@ER00006 L     @14,12(,@13)                                        0208 00633000
         BR    @14                                                 0208 00634000
*CVTTIME:                                                          0209 00635000
*   PROC OPTIONS(SAVE(14));         /*                       @Y30LB51*/ 00636000
*                                                                  0209 00637000
CVTTIME  ST    @14,12(,@13)                                        0209 00638000
*   /*****************************************************************/ 00639000
*   /*                                                               */ 00640000
*   /* THIS ROUTINE WILL CONVERT THE DATE/TIME STAMP INTO THE FORM   */ 00641000
*   /* 'DDD/YY HH:MM:SS'.                                            */ 00642000
*   /*                                                               */ 00643000
*   /*****************************************************************/ 00644000
*                                                                  0210 00645000
*   UNPK(FDAY,FSCDAY);              /* CONVERT DAY.          @Y30LB51*/ 00646000
         UNPK  FDAY(3,TRANSPTR),FSCDAY(2,TBLPTR)                   0210 00647000
*   FYR(1)=FSCYR(2);                /* CONVERT YEAR.         @Y30LB51*/ 00648000
         MVC   FYR(1,TRANSPTR),FSCYR+1(TBLPTR)                     0211 00649000
*   SRL(FYR(1),4);                  /*                       @Y30LB51*/ 00650000
         SLR   @10,@10                                             0212 00651000
         IC    @10,FYR(,TRANSPTR)                                  0212 00652000
         SRL   @10,4                                               0212 00653000
         STC   @10,FYR(,TRANSPTR)                                  0212 00654000
*   FYR(2)=FSCYR(2);                /*                       @Y30LB51*/ 00655000
         MVC   FYR+1(1,TRANSPTR),FSCYR+1(TBLPTR)                   0213 00656000
*   FYR=FYR|'00';                   /*                       @Y30LB51*/ 00657000
         OC    FYR(2,TRANSPTR),@CC00517                            0214 00658000
*   FSLASH='/';                     /* INSERT SLASH.         @Y30LB51*/ 00659000
         MVI   FSLASH(TRANSPTR),C'/'                               0215 00660000
*   FBLANK='';                      /* INSERT BLANK.         @Y30LB51*/ 00661000
         MVI   FBLANK(TRANSPTR),C' '                               0216 00662000
*   FHR(1)=FSCHR;                   /* CONVERT HOURS.        @Y30LB51*/ 00663000
         MVC   FHR(1,TRANSPTR),FSCHR(TBLPTR)                       0217 00664000
*   SRL(FHR(1),4);                  /*                       @Y30LB51*/ 00665000
         SLR   @10,@10                                             0218 00666000
         IC    @10,FHR(,TRANSPTR)                                  0218 00667000
         SRL   @10,4                                               0218 00668000
         STC   @10,FHR(,TRANSPTR)                                  0218 00669000
*   FHR(2)=FSCHR;                   /*                       @Y30LB51*/ 00670000
         MVC   FHR+1(1,TRANSPTR),FSCHR(TBLPTR)                     0219 00671000
*   FHR=FHR|'00';                   /*                       @Y30LB51*/ 00672000
         OC    FHR(2,TRANSPTR),@CC00517                            0220 00673000
*   FCOLON=':';                     /* INSERT COLON.         @Y30LB51*/ 00674000
         MVI   FCOLON(TRANSPTR),C':'                               0221 00675000
*   FMIN(1)=FSCMIN;                 /* CONVERT MINUTES.      @Y30LB51*/ 00676000
         MVC   FMIN(1,TRANSPTR),FSCMIN(TBLPTR)                     0222 00677000
*   SRL(FMIN(1),4);                 /*                       @Y30LB51*/ 00678000
         SLR   @10,@10                                             0223 00679000
         IC    @10,FMIN(,TRANSPTR)                                 0223 00680000
         SRL   @10,4                                               0223 00681000
         STC   @10,FMIN(,TRANSPTR)                                 0223 00682000
*   FMIN(2)=FSCMIN;                 /*                       @Y30LB51*/ 00683000
         MVC   FMIN+1(1,TRANSPTR),FSCMIN(TBLPTR)                   0224 00684000
*   FMIN=FMIN|'00';                 /*                       @Y30LB51*/ 00685000
         OC    FMIN(2,TRANSPTR),@CC00517                           0225 00686000
*   FCOLONA=':';                    /* INSERT COLON.         @Y30LB51*/ 00687000
         MVI   FCOLONA(TRANSPTR),C':'                              0226 00688000
*   FSEC(1)=FSCSEC;                 /* CONVERT SECONDS.      @Y30LB51*/ 00689000
         MVC   FSEC(1,TRANSPTR),FSCSEC(TBLPTR)                     0227 00690000
*   SRL(FSEC(1),4);                 /*                       @Y30LB51*/ 00691000
         SLR   @10,@10                                             0228 00692000
         IC    @10,FSEC(,TRANSPTR)                                 0228 00693000
         SRL   @10,4                                               0228 00694000
         STC   @10,FSEC(,TRANSPTR)                                 0228 00695000
*   FSEC(2)=FSCSEC;                 /*                       @Y30LB51*/ 00696000
         MVC   FSEC+1(1,TRANSPTR),FSCSEC(TBLPTR)                   0229 00697000
*   FSEC=FSEC|'00';                 /*                       @Y30LB51*/ 00698000
         OC    FSEC(2,TRANSPTR),@CC00517                           0230 00699000
*   TIMESTMP=TIMEAREA;              /*                       @Y30LB51*/ 00700000
         MVC   TIMESTMP(15,CVTPTR),TIMEAREA(TRANSPTR)              0231 00701000
*   END CVTTIME;                    /*                       @Y30LB51*/ 00702000
@EL00007 DS    0H                                                  0232 00703000
@EF00007 DS    0H                                                  0232 00704000
@ER00007 L     @14,12(,@13)                                        0232 00705000
         BR    @14                                                 0232 00706000
*CVTCOUNT:                                                         0233 00707000
*   PROC OPTIONS(SAVE(14));         /*                       @ZD00149*/ 00708000
*                                                                  0233 00709000
CVTCOUNT ST    @14,12(,@13)                                        0233 00710000
*   /*****************************************************************/ 00711000
*   /*                                                               */ 00712000
*   /* THIS ROUTINE WILL CONVERT THE DEVICE COUNTS TO PRINTABLE      */ 00713000
*   /* CHARACTERS.  IT WILL ALSO INSERT THE DASD CONTROL UNIT ID INTO*/ 00714000
*   /* THE OUTPUT LINE.                                              */ 00715000
*   /*                                                               */ 00716000
*   /*****************************************************************/ 00717000
*                                                                  0234 00718000
*   DACONTL=CNTLUNIT;               /* PUT CONTROL UNIT ID INTO OUTPUT  00719000
*                                      LINE.                 @ZD00149*/ 00720000
         MVC   DACONTL(1,CVTPTR),CNTLUNIT(TBLPTR)                  0234 00721000
*   DEVCTRS=CTRMAP;                 /* INITIALIZE DEVICE COUNTER   0235 00722000
*                                      AREA.                 @ZD00149*/ 00723000
         MVC   DEVCTRS(47,CVTPTR),CTRMAP                           0235 00724000
*   DO I=1 TO 8;                    /* START PROCESSING COUNTER LOOP.   00725000
*                                                            @ZD00149*/ 00726000
         LA    @10,1                                               0236 00727000
         STH   @10,I(,FSCWKPTR)                                    0236 00728000
@DL00236 DS    0H                                                  0237 00729000
*     IF DUMCTR(I)=0 THEN           /* IF DEVICE COUNT IS ZERO     0237 00730000
*                                                            @ZD00149*/ 00731000
         LH    @10,I(,FSCWKPTR)                                    0237 00732000
         LR    @15,@10                                             0237 00733000
         ALR   @15,@15                                             0237 00734000
         ALR   @15,TBLPTR                                          0237 00735000
         SLR   @14,@14                                             0237 00736000
         ICM   @14,3,DUMCTR-2(@15)                                 0237 00737000
         LTR   @14,@14                                             0237 00738000
         BNZ   @RF00237                                            0237 00739000
*       DUMCNTA(I)='F0'X;           /* PUT ZERO IN OUTPUT SKELETON.     00740000
*                                                            @ZD00149*/ 00741000
         MH    @10,@CH00093                                        0238 00742000
         ALR   @10,CVTPTR                                          0238 00743000
         MVI   DUMCNTA-6(@10),X'F0'                                0238 00744000
*     ELSE                          /* DEVICE COUNT IS NOT ZERO,   0239 00745000
*                                                            @ZD00149*/ 00746000
*       DO;                         /* PUT THE COUNT INTO SKELETON.     00747000
*                                                            @ZD00149*/ 00748000
         B     @RC00237                                            0239 00749000
@RF00237 DS    0H                                                  0240 00750000
*         SUMBUILD=DUMCTR(I);       /* GET THE DEVICE COUNT  @ZD00149*/ 00751000
         LH    @10,I(,FSCWKPTR)                                    0240 00752000
         LR    @15,@10                                             0240 00753000
         ALR   @15,@15                                             0240 00754000
         ALR   @15,TBLPTR                                          0240 00755000
         SLR   @14,@14                                             0240 00756000
         ICM   @14,3,DUMCTR-2(@15)                                 0240 00757000
         STH   @14,SUMBUILD(,FSCWKPTR)                             0240 00758000
*         CVD(SUMBUILD,DECCVT);     /* AND CONVERT IT TO DECIMAL.  0241 00759000
*                                                            @ZD00149*/ 00760000
         CVD   @14,@TS00001                                        0241 00761000
         MVC   DECCVT(4,TRANSPTR),@TS00001+4                       0241 00762000
*         EDITCNT=PATTERNA;         /* GET EDIT PATTERN,     @ZD00149*/ 00763000
         MVC   EDITCNT(8,TRANSPTR),PATTERNA                        0242 00764000
*         ED(EDITCNT,DECCVT);       /* CONVERT COUNT TO PRINTABLE  0243 00765000
*                                                            @ZD00149*/ 00766000
         ED    EDITCNT(8,TRANSPTR),DECCVT(TRANSPTR)                0243 00767000
*         DUMCNT(I)=EDITCNT(6:8);   /* AND PUT IT INTO SKELETON.   0244 00768000
*                                                            @ZD00149*/ 00769000
         MH    @10,@CH00093                                        0244 00770000
         ALR   @10,CVTPTR                                          0244 00771000
         MVC   DUMCNT-6(3,@10),EDITCNT+5(TRANSPTR)                 0244 00772000
*       END;                        /*                       @ZD00149*/ 00773000
*   END;                            /*                       @ZD00149*/ 00774000
@RC00237 LA    @10,1                                               0246 00775000
         AH    @10,I(,FSCWKPTR)                                    0246 00776000
         STH   @10,I(,FSCWKPTR)                                    0246 00777000
         CH    @10,@CH00069                                        0246 00778000
         BNH   @DL00236                                            0246 00779000
*   END CVTCOUNT;                   /*                       @ZD00149*/ 00780000
@EL00008 DS    0H                                                  0247 00781000
@EF00008 DS    0H                                                  0247 00782000
@ER00008 L     @14,12(,@13)                                        0247 00783000
         BR    @14                                                 0247 00784000
*PRTFOOT:                                                          0248 00785000
*   PROC OPTIONS(SAVE(14));         /*                       @AX14534*/ 00786000
*                                                                  0248 00787000
PRTFOOT  ST    @14,@SA00009                                        0248 00788000
*   /*****************************************************************/ 00789000
*   /*                                                               */ 00790000
*   /* THIS ROUTINE WILL PRINT THE FOOTINGS ON EACH PAGE OF THE      */ 00791000
*   /* REPORT.                                                       */ 00792000
*   /*                                                               */ 00793000
*   /*****************************************************************/ 00794000
*                                                                  0249 00795000
*   OUTLINE=FOOT2;                  /*                       @Y30LB51*/ 00796000
         MVI   OUTLINE+37(CVTPTR),C' '                             0249 00797000
         MVC   OUTLINE+38(95,CVTPTR),OUTLINE+37(CVTPTR)            0249 00798000
         MVC   OUTLINE(37,CVTPTR),@CC00431                         0249 00799000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00800000
         L     @10,@PC00001                                        0250 00801000
         ST    @10,@AL00001                                        0250 00802000
         L     @15,@CV00383                                        0250 00803000
         LA    @01,@AL00001                                        0250 00804000
         BALR  @14,@15                                             0250 00805000
*   OUTLINE=FOOT3;                  /*                       @Y30LB51*/ 00806000
         MVI   OUTLINE+46(CVTPTR),C' '                             0251 00807000
         MVC   OUTLINE+47(86,CVTPTR),OUTLINE+46(CVTPTR)            0251 00808000
         MVC   OUTLINE(46,CVTPTR),@CC00436                         0251 00809000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00810000
         L     @10,@PC00001                                        0252 00811000
         ST    @10,@AL00001                                        0252 00812000
         L     @15,@CV00383                                        0252 00813000
         LA    @01,@AL00001                                        0252 00814000
         BALR  @14,@15                                             0252 00815000
*   OUTLINE=FOOT4;                  /*                       @Y30LB51*/ 00816000
         MVI   OUTLINE+28(CVTPTR),C' '                             0253 00817000
         MVC   OUTLINE+29(104,CVTPTR),OUTLINE+28(CVTPTR)           0253 00818000
         MVC   OUTLINE(28,CVTPTR),@CC00442                         0253 00819000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00820000
         L     @10,@PC00001                                        0254 00821000
         ST    @10,@AL00001                                        0254 00822000
         L     @15,@CV00383                                        0254 00823000
         LA    @01,@AL00001                                        0254 00824000
         BALR  @14,@15                                             0254 00825000
*   OUTLINE=FOOT5;                  /*                       @Y30LB51*/ 00826000
         MVI   OUTLINE+27(CVTPTR),C' '                             0255 00827000
         MVC   OUTLINE+28(105,CVTPTR),OUTLINE+27(CVTPTR)           0255 00828000
         MVC   OUTLINE(27,CVTPTR),@CC00447                         0255 00829000
*   CALL ISDAPRT0(WORKPTR);         /*                       @Y30LB51*/ 00830000
         L     @10,@PC00001                                        0256 00831000
         ST    @10,@AL00001                                        0256 00832000
         L     @15,@CV00383                                        0256 00833000
         LA    @01,@AL00001                                        0256 00834000
         BALR  @14,@15                                             0256 00835000
*   OUTLINE='';                     /*                       @Y30LB51*/ 00836000
         MVI   OUTLINE(CVTPTR),C' '                                0257 00837000
         MVC   OUTLINE+1(132,CVTPTR),OUTLINE(CVTPTR)               0257 00838000
*   END PRTFOOT;                    /*                       @Y30LB51*/ 00839000
@EL00009 DS    0H                                                  0258 00840000
@EF00009 DS    0H                                                  0258 00841000
@ER00009 L     @14,@SA00009                                        0258 00842000
         BR    @14                                                 0258 00843000
*FREECORE:                                                         0259 00844000
*   PROC OPTIONS(SAVE(14));         /*                       @AX14534*/ 00845000
*                                                                  0259 00846000
FREECORE ST    @14,@SA00010                                        0259 00847000
*   /*****************************************************************/ 00848000
*   /*                                                               */ 00849000
*   /* THIS ROUTINE WILL FREE ALL GOTTEN CORE VIA THE ISDAFREE       */ 00850000
*   /* ROUTINE.                                                      */ 00851000
*   /*                                                               */ 00852000
*   /*****************************************************************/ 00853000
*                                                                  0260 00854000
*   SPNO='04'X;                     /* GET THE SUBPOOL NUMBER.     0260 00855000
*                                                            @Y30LB51*/ 00856000
         MVI   SPNO(CVTPTR),X'04'                                  0260 00857000
*   IF TRANSPTR^=0 THEN             /* IF TRANSLAGE TABLE EXISTS   0261 00858000
*                                                            @Y30LB51*/ 00859000
         LTR   TRANSPTR,TRANSPTR                                   0261 00860000
         BZ    @RF00261                                            0261 00861000
*     DO;                           /* FREE IT.                      */ 00862000
*       CORELEN=LENGTH(CVTAREA);    /* GET TRANSLATE TABLE LENGTH  0263 00863000
*                                                            @Y30LB51*/ 00864000
         MVC   CORELEN(3,CVTPTR),@CF00530+1                        0263 00865000
*       COREADDR=TRANSPTR;          /* AND ADDRESS           @Y30LB51*/ 00866000
         ST    TRANSPTR,COREADDR(,CVTPTR)                          0264 00867000
*       CALL ISDAFREE(WORKPTR);     /* AND FREE IT.          @Y30LB51*/ 00868000
         L     @10,@PC00001                                        0265 00869000
         ST    @10,@AL00001                                        0265 00870000
         L     @15,@CV00384                                        0265 00871000
         LA    @01,@AL00001                                        0265 00872000
         BALR  @14,@15                                             0265 00873000
*     END;                          /*                       @Y30LB51*/ 00874000
*   ELSE                                                           0267 00875000
*     ;                             /* TRANSLATE TABLE DOES NOT    0267 00876000
*                                      EXIST.                @Y30LB51*/ 00877000
@RF00261 DS    0H                                                  0268 00878000
*   IF PRINTTBL^=0 THEN             /* IF PRINT TABLE EXISTS @Y30LB51*/ 00879000
         L     @10,PRINTTBL(,FSCWKPTR)                             0268 00880000
         LTR   @10,@10                                             0268 00881000
         BZ    @RF00268                                            0268 00882000
*     DO;                           /* FREE IT.              @Y30LB51*/ 00883000
*       CORELEN=LENGTH(PRTTBL)*TBLELMCT;/*                         0270 00884000
*                                      GET PRINT TABLE LENGTH      0270 00885000
*                                                            @Y30LB51*/ 00886000
         LH    @07,TBLELMCT(,FSCWKPTR)                             0270 00887000
         SLA   @07,2                                               0270 00888000
         STCM  @07,7,CORELEN(CVTPTR)                               0270 00889000
*       COREADDR=PRINTTBL;          /* AND ADDRESS           @Y30LB51*/ 00890000
         ST    @10,COREADDR(,CVTPTR)                               0271 00891000
*       CALL ISDAFREE(WORKPTR);     /* AND FREE IT.          @YM32196*/ 00892000
         L     @10,@PC00001                                        0272 00893000
         ST    @10,@AL00001                                        0272 00894000
         L     @15,@CV00384                                        0272 00895000
         LA    @01,@AL00001                                        0272 00896000
         BALR  @14,@15                                             0272 00897000
*     END;                          /*                       @Y30LB51*/ 00898000
*   ELSE                                                           0274 00899000
*     ;                             /* PRINT TABLE DOES NOT EXIST. 0274 00900000
*                                                            @Y30LB51*/ 00901000
@RF00268 DS    0H                                                  0275 00902000
*   IF SUMTABLE^=0 THEN             /* IF SUM TABLE EXISTS   @Y30LB51*/ 00903000
         L     @10,SUMTABLE(,FSCWKPTR)                             0275 00904000
         LTR   @10,@10                                             0275 00905000
         BZ    @RF00275                                            0275 00906000
*     DO;                           /* FREE IT.              @Y30LB51*/ 00907000
*       CORELEN=LENGTH(SUMTBL)*SSIDCTR;/*                          0277 00908000
*                                      GET SUM TABLE LENGTH  @Y30LB51*/ 00909000
         LH    @07,SSIDCTR(,FSCWKPTR)                              0277 00910000
         SLA   @07,4                                               0277 00911000
         STCM  @07,7,CORELEN(CVTPTR)                               0277 00912000
*       COREADDR=SUMTABLE;          /* AND ADDRESS           @Y30LB51*/ 00913000
         ST    @10,COREADDR(,CVTPTR)                               0278 00914000
*       CALL ISDAFREE(WORKPTR);     /* AND FREE IT.          @Y30LB51*/ 00915000
         L     @10,@PC00001                                        0279 00916000
         ST    @10,@AL00001                                        0279 00917000
         L     @15,@CV00384                                        0279 00918000
         LA    @01,@AL00001                                        0279 00919000
         BALR  @14,@15                                             0279 00920000
*     END;                          /*                       @Y30LB51*/ 00921000
*   ELSE                                                           0281 00922000
*     ;                             /* SUM TABLE DOES NOT EXIST.   0281 00923000
*                                                            @Y30LB51*/ 00924000
@RF00275 DS    0H                                                  0282 00925000
*   DO WHILE GET0PTR^=0;            /* FREE THE FSC TABLES.  @YM32169*/ 00926000
         B     @DE00282                                            0282 00927000
@DL00282 DS    0H                                                  0283 00928000
*     SPNOLEN=GET0SPLN;             /* GET FSC TABLE LENGTH. @Y30LB51*/ 00929000
         L     @10,GET0PTR(,FSCWKPTR)                              0283 00930000
         MVC   SPNOLEN(4,CVTPTR),GET0SPLN(@10)                     0283 00931000
*     COREADDR=GET0PTR;             /* GET ADDRESS LAST TABLE ON   0284 00932000
*                                      CHAIN.                @Y30LB51*/ 00933000
         ST    @10,COREADDR(,CVTPTR)                               0284 00934000
*     GET0PTR=LASTPTR;              /* GET ADDRESS NEXT TO LAST TABLE   00935000
*                                      ON CHAIN^             @Y30LB51*/ 00936000
         L     @10,LASTPTR(,@10)                                   0285 00937000
         ST    @10,GET0PTR(,FSCWKPTR)                              0285 00938000
*     CALL ISDAFREE(WORKPTR);       /* FREE LAST TABLE ON CHAIN.   0286 00939000
*                                                            @Y30LB51*/ 00940000
         L     @10,@PC00001                                        0286 00941000
         ST    @10,@AL00001                                        0286 00942000
         L     @15,@CV00384                                        0286 00943000
         LA    @01,@AL00001                                        0286 00944000
         BALR  @14,@15                                             0286 00945000
*   END;                            /*                       @Y30LB51*/ 00946000
@DE00282 SLR   @10,@10                                             0287 00947000
         C     @10,GET0PTR(,FSCWKPTR)                              0287 00948000
         BNE   @DL00282                                            0287 00949000
*   IF CHAINTBL^=0 THEN             /* IF CHAIN TABLE EXISTS @Y30LB51*/ 00950000
         L     @07,CHAINTBL(,FSCWKPTR)                             0288 00951000
         CR    @07,@10                                             0288 00952000
         BE    @RF00288                                            0288 00953000
*     DO;                           /* FREE IT.              @Y30LB51*/ 00954000
*       CORELEN=LENGTH(CHNTBL)*SSIDCT;/*                           0290 00955000
*                                      GET CHAIN TABLE LENGTH      0290 00956000
*                                                            @Y30LB51*/ 00957000
         LH    @10,SSIDCT(,FSCWKPTR)                               0290 00958000
         MH    @10,@CH00118                                        0290 00959000
         STCM  @10,7,CORELEN(CVTPTR)                               0290 00960000
*       COREADDR=CHAINTBL;          /* AND ADDRESS           @Y30LB51*/ 00961000
         ST    @07,COREADDR(,CVTPTR)                               0291 00962000
*       CALL ISDAFREE(WORKPTR);     /* AND FREE IT.          @Y30LB51*/ 00963000
         L     @10,@PC00001                                        0292 00964000
         ST    @10,@AL00001                                        0292 00965000
         L     @15,@CV00384                                        0292 00966000
         LA    @01,@AL00001                                        0292 00967000
         BALR  @14,@15                                             0292 00968000
*     END;                          /*                       @Y30LB51*/ 00969000
*   ELSE                                                           0294 00970000
*     ;                             /* CHAIN TABLE DOES NOT EXIST. 0294 00971000
*                                                            @Y3-LB51*/ 00972000
@RF00288 DS    0H                                                  0295 00973000
*   IF FSC00PTR^=0 THEN             /* IF WORK AREA EXISTS   @Y30LB51*/ 00974000
         L     @10,FSC00PTR(,CVTPTR)                               0295 00975000
         LTR   @10,@10                                             0295 00976000
         BZ    @RF00295                                            0295 00977000
*     DO;                           /* FREE IT.              @Y30LB51*/ 00978000
*       CORELEN=LENGTH(FSCWORK);    /* GET WORK AREA LENGTH  @Y30LB51*/ 00979000
         MVC   CORELEN(3,CVTPTR),@CF00531+1                        0297 00980000
*       COREADDR=FSC00PTR;          /* AND ADDRESS           @Y30LB51*/ 00981000
         ST    @10,COREADDR(,CVTPTR)                               0298 00982000
*       CALL ISDAFREE(WORKPTR);     /* AND FREE IT.          @Y30LB51*/ 00983000
         L     @10,@PC00001                                        0299 00984000
         ST    @10,@AL00001                                        0299 00985000
         L     @15,@CV00384                                        0299 00986000
         LA    @01,@AL00001                                        0299 00987000
         BALR  @14,@15                                             0299 00988000
*     END;                          /*                       @Y30LB51*/ 00989000
*   ELSE                                                           0301 00990000
*     ;                             /* WORK AREA DOES NOT EXIST.   0301 00991000
*                                                            @Y30LB51*/ 00992000
@RF00295 DS    0H                                                  0302 00993000
*   FSC00PTR=0;                     /* ZERO WORK AREA ADDRESS.     0302 00994000
*                                                            @Y30LB51*/ 00995000
         SLR   @10,@10                                             0302 00996000
         ST    @10,FSC00PTR(,CVTPTR)                               0302 00997000
*   END FREECORE;                   /*                       @Y30LB51*/ 00998000
@EL00010 DS    0H                                                  0303 00999000
@EF00010 DS    0H                                                  0303 01000000
@ER00010 L     @14,@SA00010                                        0303 01001000
         BR    @14                                                 0303 01002000
*   END ISDAFSC1                    /*                       @Y30LB51*/ 01003000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      * 01004000
*/*%INCLUDE SYSLIB  (ISDACVT )                                        * 01005000
*/*%INCLUDE SYSLIB  (ISDAPRMS)                                        * 01006000
*/*%INCLUDE SYSLIB  (ISDAGHDR)                                        * 01007000
*/*%INCLUDE SYSLIB  (ISDAFSC5)                                        * 01008000
*;                                                                 0304 01009000
@DATA    DS    0H                                                       01010000
@CH00104 DC    H'4'                                                     01011000
@CH00093 DC    H'6'                                                     01012000
@CH00069 DC    H'8'                                                     01013000
@CH00118 DC    H'12'                                                    01014000
@CH00370 DC    H'42'                                                    01015000
@DATD    DSECT                                                          01016000
         DS    0F                                                       01017000
@SA00001 DS    18F                                                      01018000
@PC00001 DS    1F                                                       01019000
@SA00004 DS    1F                                                       01020000
@SA00005 DS    1F                                                       01021000
@SA00009 DS    0F                                                       01022000
@SA00010 DS    0F                                                       01023000
@SA00003 DS    0F                                                       01024000
@SA00002 DS    0F                                                       01025000
         DS    1F                                                       01026000
@AL00001 DS    1A                                                       01027000
ISDAFSC1 CSECT                                                          01028000
         DS    0F                                                       01029000
@CF00530 DC    F'32'                                                    01030000
@CF00531 DC    F'84'                                                    01031000
@DATD    DSECT                                                          01032000
         DS    0D                                                       01033000
CHNPTR   DS    A                                                        01034000
SUMPTR   DS    A                                                        01035000
         DS    0D                                                       01036000
@TS00001 DS    CL8                                                      01037000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                01038000
@ENDDATD EQU   *                                                        01039000
ISDAFSC1 CSECT                                                          01040000
         NOPR  ((@ENDDATD-@DATD)/161*16)                                01041000
         DS    0F                                                       01042000
@SIZDATD DC    AL1(0)                                                   01043000
         DC    AL3(@ENDDATD-@DATD)                                      01044000
@CV00382 DC    V(ISDAGET1)                                              01045000
@CV00383 DC    V(ISDAPRT0)                                              01046000
@CV00384 DC    V(ISDAFREE)                                              01047000
@CV00381 DC    V(ISDAGET0)                                              01048000
         DS    0D                                                       01049000
@CC00400 DC    C'-RUA    SSID   FSC       DEVICE   OCCURRENCES   PERCENC01050000
               TAGE  LAST ENTRY       DASD   OCCURRENCES BY DRIVE ID'   01051000
@CC00410 DC    C'                                                ERRORSC01052000
                     DATE   TIME      CNTL'                             01053000
@CC00417 DC    C'                                                AGAINSC01054000
               T                      UNIT'                             01055000
@CC00425 DC    C'                                                DEVICEC01056000
               '                                                        01057000
@CC00436 DC    C'    M = MASS STORE CONTROL DEVICE UNIT ADDRESS'        01058000
@CC00395 DC    C'1REPORT 5 - FAULT SYMPTOM CODE SUMMARY'                01059000
@CC00431 DC    C'0   R = REAL DASD DEVICE UNIT ADDRESS'                 01060000
@CC00442 DC    C'    * = FSC GENERATED BY SDA'                          01061000
@CC00447 DC    C'    A = SSID ALTERED BY APR'                           01062000
@CC00372 DC    C'0123456789ABCDEF'                                      01063000
@CC00499 DC    C'MSC '                                                  01064000
@CC00501 DC    C'SA  '                                                  01065000
@CC00502 DC    C'DRC '                                                  01066000
@CC00503 DC    C'DRD '                                                  01067000
@CC00504 DC    C'MSF '                                                  01068000
@CC00506 DC    C'3830'                                                  01069000
@CC00507 DC    C'3330'                                                  01070000
@CC00487 DC    C'-A'                                                    01071000
@CC00500 DC    C'-M'                                                    01072000
@CC00508 EQU   @CC00400                                                 01073000
@CC00517 DC    C'00'                                                    01074000
CTRMAP   DS    CL47                                                     01075000
         ORG   CTRMAP                                                   01076000
ACTRMAP  DC    CL6'   /A '                                              01077000
BCTRMAP  DC    CL6'   /B '                                              01078000
CCTRMAP  DC    CL6'   /C '                                              01079000
DCTRMAP  DC    CL6'   /D '                                              01080000
ECTRMAP  DC    CL6'   /E '                                              01081000
FCTRMAP  DC    CL6'   /F '                                              01082000
GCTRMAP  DC    CL6'   /G '                                              01083000
HCTRMAP  DC    CL5'   /H'                                               01084000
         ORG   CTRMAP+47                                                01085000
PATTERNA DC    X'4020202020202120'                                      01086000
PATTERNB DC    X'402020202020214B20'                                    01087000
PATCH    DS    CL50                                                     01088000
         ORG   PATCH                                                    01089000
@NM00031 DC    50X'00'                                                  01090000
         ORG   PATCH+50                                                 01091000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       01092000
@01      EQU   01                                                       01093000
@02      EQU   02                                                       01094000
@03      EQU   03                                                       01095000
@04      EQU   04                                                       01096000
@05      EQU   05                                                       01097000
@06      EQU   06                                                       01098000
@07      EQU   07                                                       01099000
@08      EQU   08                                                       01100000
@09      EQU   09                                                       01101000
@10      EQU   10                                                       01102000
@11      EQU   11                                                       01103000
@12      EQU   12                                                       01104000
@13      EQU   13                                                       01105000
@14      EQU   14                                                       01106000
@15      EQU   15                                                       01107000
TRANSPTR EQU   @03                                                      01108000
FSCRETCD EQU   @06                                                      01109000
PRTPTR   EQU   @07                                                      01110000
TBLPTR   EQU   @04                                                      01111000
FSCWKPTR EQU   @05                                                      01112000
LPARMPTR EQU   @03                                                      01113000
CVTPTR   EQU   @02                                                      01114000
RF       EQU   @15                                                      01115000
ISDACVT  EQU   0                                                        01116000
CVTPTRS0 EQU   ISDACVT                                                  01117000
PARMPTR  EQU   CVTPTRS0+8                                               01118000
FSC00PTR EQU   CVTPTRS0+56                                              01119000
GET0CALL EQU   ISDACVT+100                                              01120000
SPNOLEN  EQU   GET0CALL                                                 01121000
SPNO     EQU   SPNOLEN                                                  01122000
CORELEN  EQU   SPNOLEN+1                                                01123000
COREADDR EQU   GET0CALL+4                                               01124000
HEXPCALL EQU   ISDACVT+108                                              01125000
PRT0CALL EQU   ISDACVT+120                                              01126000
OUTLINE  EQU   PRT0CALL                                                 01127000
SDADATD  EQU   ISDACVT+256                                              01128000
PRTDATD  EQU   ISDACVT+416                                              01129000
ISDAPRMS EQU   0                                                        01130000
CINPUT   EQU   ISDAPRMS                                                 01131000
CSTART   EQU   ISDAPRMS+2                                               01132000
CEND     EQU   ISDAPRMS+6                                               01133000
CFSCONLY EQU   ISDAPRMS+13                                              01134000
CSSIDF   EQU   ISDAPRMS+17                                              01135000
CSERIAL  EQU   ISDAPRMS+21                                              01136000
CREPORTS EQU   ISDAPRMS+33                                              01137000
ISDAGHDR EQU   0                                                        01138000
GET0SPLN EQU   ISDAGHDR+8                                               01139000
LASTPTR  EQU   ISDAGHDR+16                                              01140000
FSCWORK  EQU   0                                                        01141000
GET0PTR  EQU   FSCWORK                                                  01142000
PTRSAVE  EQU   FSCWORK+4                                                01143000
SUMTABLE EQU   FSCWORK+24                                               01144000
CHAINTBL EQU   FSCWORK+32                                               01145000
PRINTTBL EQU   FSCWORK+36                                               01146000
SSIDCT   EQU   FSCWORK+46                                               01147000
SSIDCTR  EQU   FSCWORK+48                                               01148000
TBLELMCT EQU   FSCWORK+50                                               01149000
I        EQU   FSCWORK+52                                               01150000
WORKFLGS EQU   FSCWORK+54                                               01151000
SSIDSAVE EQU   FSCWORK+66                                               01152000
SUMBUILD EQU   FSCWORK+78                                               01153000
LINECT   EQU   FSCWORK+80                                               01154000
DEVBYTES EQU   FSCWORK+82                                               01155000
FSCTBL   EQU   0                                                        01156000
FSCSSID  EQU   FSCTBL+4                                                 01157000
FSCFSC   EQU   FSCTBL+8                                                 01158000
CNTLUNIT EQU   FSCFSC+3                                                 01159000
FSCDT    EQU   FSCTBL+12                                                01160000
FSCDATE  EQU   FSCDT                                                    01161000
FSCYR    EQU   FSCDATE                                                  01162000
FSCDAY   EQU   FSCDATE+2                                                01163000
FSCTIME  EQU   FSCDT+4                                                  01164000
FSCHR    EQU   FSCTIME                                                  01165000
FSCMIN   EQU   FSCTIME+1                                                01166000
FSCSEC   EQU   FSCTIME+2                                                01167000
FSCCTR   EQU   FSCTBL+20                                                01168000
FSCPCT   EQU   FSCTBL+24                                                01169000
FSCFLAGS EQU   FSCTBL+26                                                01170000
MSCFLAG  EQU   FSCFLAGS                                                 01171000
SAFLAG   EQU   FSCFLAGS                                                 01172000
DRCFLAG  EQU   FSCFLAGS                                                 01173000
DRDFLAG  EQU   FSCFLAGS                                                 01174000
CSFLAG   EQU   FSCFLAGS                                                 01175000
DIRFLAG  EQU   FSCFLAGS                                                 01176000
DASDFLAG EQU   FSCFLAGS                                                 01177000
REALDASD EQU   FSCFLAGS+1                                               01178000
FAKEFSC  EQU   FSCFLAGS+1                                               01179000
FSCAPR   EQU   FSCFLAGS+1                                               01180000
FSCDEVS  EQU   FSCTBL+28                                                01181000
CHNTBL   EQU   0                                                        01182000
CHNSSIDF EQU   CHNTBL+4                                                 01183000
SUMTBL   EQU   0                                                        01184000
PRTTBL   EQU   0                                                        01185000
PRTTPTR  EQU   PRTTBL                                                   01186000
CVTAREA  EQU   0                                                        01187000
SSIDCVT  EQU   CVTAREA                                                  01188000
FSCCVT   EQU   CVTAREA+3                                                01189000
FSCNLIB  EQU   FSCCVT                                                   01190000
DECCVT   EQU   CVTAREA+11                                               01191000
EDITCNT  EQU   CVTAREA+15                                               01192000
EDITPCT  EQU   CVTAREA+23                                               01193000
TIMEAREA EQU   0                                                        01194000
FDAY     EQU   TIMEAREA                                                 01195000
FSLASH   EQU   TIMEAREA+3                                               01196000
FYR      EQU   TIMEAREA+4                                               01197000
FBLANK   EQU   TIMEAREA+6                                               01198000
FHR      EQU   TIMEAREA+7                                               01199000
FCOLON   EQU   TIMEAREA+9                                               01200000
FMIN     EQU   TIMEAREA+10                                              01201000
FCOLONA  EQU   TIMEAREA+12                                              01202000
FSEC     EQU   TIMEAREA+13                                              01203000
WORKPTR  EQU   0                                                        01204000
FSCOUT   EQU   OUTLINE                                                  01205000
LINESSID EQU   FSCOUT                                                   01206000
FSCANSI  EQU   LINESSID                                                 01207000
RUAOUT   EQU   LINESSID+1                                               01208000
RUACHAR  EQU   RUAOUT                                                   01209000
RUATYPE  EQU   RUAOUT+3                                                 01210000
SSIDOUT  EQU   LINESSID+8                                               01211000
SSIDCHAR EQU   SSIDOUT                                                  01212000
SSIDTYPE EQU   SSIDOUT+3                                                01213000
FSCAREA  EQU   LINESSID+15                                              01214000
FSCAREAN EQU   FSCAREA                                                  01215000
FSCTYPE  EQU   FSCAREA+4                                                01216000
DEVICE   EQU   LINESSID+26                                              01217000
NUMBERS  EQU   LINESSID+32                                              01218000
PERCENT  EQU   LINESSID+44                                              01219000
TIMESTMP EQU   LINESSID+60                                              01220000
DACONTL  EQU   FSCOUT+79                                                01221000
DEVCTRS  EQU   FSCOUT+84                                                01222000
CTRAOUT  EQU   DEVCTRS                                                  01223000
CTRBOUT  EQU   DEVCTRS+6                                                01224000
CTRCOUT  EQU   DEVCTRS+12                                               01225000
CTRDOUT  EQU   DEVCTRS+18                                               01226000
CTREOUT  EQU   DEVCTRS+24                                               01227000
CTRFOUT  EQU   DEVCTRS+30                                               01228000
CTRGOUT  EQU   DEVCTRS+36                                               01229000
CTRHOUT  EQU   DEVCTRS+42                                               01230000
OUTBUFF  EQU   OUTLINE                                                  01231000
DUMOUT   EQU   DEVCTRS                                                  01232000
DUMCNT   EQU   DUMOUT                                                   01233000
DUMCNTA  EQU   DUMCNT+2                                                 01234000
DUMCTR   EQU   FSCDEVS                                                  01235000
*                                      START UNREFERENCED COMPONENTS    01236000
@NM00029 EQU   DUMOUT+5                                                 01237000
DUMCHAR  EQU   DUMOUT+3                                                 01238000
@NM00028 EQU   DUMCNT                                                   01239000
@NM00027 EQU   OUTBUFF+78                                               01240000
SSIDLINE EQU   OUTBUFF                                                  01241000
@NM00026 EQU   FSCOUT+131                                               01242000
CTRHCHAR EQU   CTRHOUT+3                                                01243000
CTRHCNT  EQU   CTRHOUT                                                  01244000
@NM00025 EQU   DEVCTRS+41                                               01245000
CTRGCHAR EQU   CTRGOUT+3                                                01246000
CTRGCNT  EQU   CTRGOUT                                                  01247000
@NM00024 EQU   DEVCTRS+35                                               01248000
CTRFCHAR EQU   CTRFOUT+3                                                01249000
CTRFCNT  EQU   CTRFOUT                                                  01250000
@NM00023 EQU   DEVCTRS+29                                               01251000
CTRECHAR EQU   CTREOUT+3                                                01252000
CTRECNT  EQU   CTREOUT                                                  01253000
@NM00022 EQU   DEVCTRS+23                                               01254000
CTRDCHAR EQU   CTRDOUT+3                                                01255000
CTRDCNT  EQU   CTRDOUT                                                  01256000
@NM00021 EQU   DEVCTRS+17                                               01257000
CTRCCHAR EQU   CTRCOUT+3                                                01258000
CTRCCNT  EQU   CTRCOUT                                                  01259000
@NM00020 EQU   DEVCTRS+11                                               01260000
CTRBCHAR EQU   CTRBOUT+3                                                01261000
CTRBCNT  EQU   CTRBOUT                                                  01262000
@NM00019 EQU   DEVCTRS+5                                                01263000
CTRACHAR EQU   CTRAOUT+3                                                01264000
CTRACNT  EQU   CTRAOUT                                                  01265000
@NM00018 EQU   FSCOUT+80                                                01266000
@NM00017 EQU   FSCOUT+75                                                01267000
@NM00016 EQU   LINESSID+53                                              01268000
@NM00015 EQU   LINESSID+41                                              01269000
@NM00014 EQU   LINESSID+30                                              01270000
@NM00013 EQU   LINESSID+23                                              01271000
@NM00012 EQU   FSCAREA+5                                                01272000
@NM00011 EQU   LINESSID+13                                              01273000
@NM00010 EQU   LINESSID+6                                               01274000
@NM00030 EQU   FSCCVT+4                                                 01275000
SUMPCTR  EQU   SUMTBL+14                                                01276000
SUMSCTR  EQU   SUMTBL+12                                                01277000
SUMFPTR  EQU   SUMTBL+8                                                 01278000
SUMTOTAL EQU   SUMTBL+6                                                 01279000
SUMSSID  EQU   SUMTBL+4                                                 01280000
SUMTPTR  EQU   SUMTBL                                                   01281000
FSCTPTR  EQU   CHNTBL+8                                                 01282000
@NM00009 EQU   CHNTBL+6                                                 01283000
CHNSSID  EQU   CHNSSIDF                                                 01284000
SSIDFLGS EQU   CHNSSIDF                                                 01285000
CHNTPTR  EQU   CHNTBL                                                   01286000
DEVHCTR  EQU   FSCDEVS+14                                               01287000
DEVGCTR  EQU   FSCDEVS+12                                               01288000
DEVFCTR  EQU   FSCDEVS+10                                               01289000
DEVECTR  EQU   FSCDEVS+8                                                01290000
DEVDCTR  EQU   FSCDEVS+6                                                01291000
DEVCCTR  EQU   FSCDEVS+4                                                01292000
DEVBCTR  EQU   FSCDEVS+2                                                01293000
DEVACTR  EQU   FSCDEVS                                                  01294000
INPRTTBL EQU   FSCFLAGS+1                                               01295000
@NM00008 EQU   FSCFLAGS+1                                               01296000
VIRTDASD EQU   FSCFLAGS+1                                               01297000
DAFLAG   EQU   FSCFLAGS                                                 01298000
FSCSUM   EQU   FSCTBL+22                                                01299000
FSCHSEC  EQU   FSCTIME+3                                                01300000
@NM00007 EQU   FSCFSC+2                                                 01301000
FSCSYS   EQU   FSCFSC                                                   01302000
@NM00006 EQU   FSCSSID+2                                                01303000
UNITCHAR EQU   FSCSSID+1                                                01304000
DEVCHAR  EQU   FSCSSID                                                  01305000
FSCSPTR  EQU   FSCTBL                                                   01306000
DEVBYTEB EQU   DEVBYTES+1                                               01307000
DEVBYTEA EQU   DEVBYTES                                                 01308000
FSCSAVE2 EQU   FSCWORK+74                                               01309000
FSCSAVE1 EQU   FSCWORK+70                                               01310000
FSCSYSSV EQU   FSCWORK+68                                               01311000
@NM00005 EQU   SSIDSAVE+1                                               01312000
SSIDDEV  EQU   SSIDSAVE                                                 01313000
CUAFLAG  EQU   SSIDSAVE                                                 01314000
LTYPE    EQU   FSCWORK+64                                               01315000
LFSCSYS  EQU   FSCWORK+62                                               01316000
LFSC     EQU   FSCWORK+58                                               01317000
LSSID    EQU   FSCWORK+56                                               01318000
ADDCORE  EQU   WORKFLGS+1                                               01319000
@NM00004 EQU   WORKFLGS+1                                               01320000
WORKAPR  EQU   WORKFLGS+1                                               01321000
FSCCOUNT EQU   WORKFLGS+1                                               01322000
FMT3ACC2 EQU   WORKFLGS+1                                               01323000
FMT3ACC1 EQU   WORKFLGS+1                                               01324000
DASDREC  EQU   WORKFLGS                                                 01325000
DAREC    EQU   WORKFLGS                                                 01326000
DIRREC   EQU   WORKFLGS                                                 01327000
CSREC    EQU   WORKFLGS                                                 01328000
DRDREC   EQU   WORKFLGS                                                 01329000
DRCREC   EQU   WORKFLGS                                                 01330000
SAREC    EQU   WORKFLGS                                                 01331000
MSCREC   EQU   WORKFLGS                                                 01332000
FSCTBLCT EQU   FSCWORK+44                                               01333000
TBLPTRSV EQU   FSCWORK+40                                               01334000
SUMSTART EQU   FSCWORK+28                                               01335000
FREEPTR  EQU   FSCWORK+20                                               01336000
SENSEPTR EQU   FSCWORK+16                                               01337000
LOGPTR   EQU   FSCWORK+12                                               01338000
FSCPTR   EQU   FSCWORK+8                                                01339000
@NM00003 EQU   ISDAGHDR+26                                              01340000
BLOCKCNT EQU   ISDAGHDR+24                                              01341000
BLOCKID  EQU   ISDAGHDR+20                                              01342000
NEXTPTR  EQU   ISDAGHDR+12                                              01343000
GET0LEN  EQU   GET0SPLN+1                                               01344000
GET0SPNO EQU   GET0SPLN                                                 01345000
ENDPTR   EQU   ISDAGHDR+4                                               01346000
STARTPTR EQU   ISDAGHDR                                                 01347000
CTRACE   EQU   ISDAPRMS+48                                              01348000
CGEN     EQU   ISDAPRMS+47                                              01349000
CDETAIL  EQU   ISDAPRMS+46                                              01350000
CPERIOD  EQU   ISDAPRMS+45                                              01351000
CPWR     EQU   CREPORTS+11                                              01352000
CAPRSUU  EQU   CREPORTS+10                                              01353000
CDRC     EQU   CREPORTS+9                                               01354000
CDAT     EQU   CREPORTS+8                                               01355000
CCSBCSF  EQU   CREPORTS+7                                               01356000
CDCKTLX  EQU   CREPORTS+6                                               01357000
CEQC     EQU   CREPORTS+5                                               01358000
CFSC     EQU   CREPORTS+4                                               01359000
CDHEDHU  EQU   CREPORTS+3                                               01360000
CSUM     EQU   CREPORTS+2                                               01361000
CPAD     EQU   CREPORTS+1                                               01362000
CDCS     EQU   CREPORTS                                                 01363000
CSERNO   EQU   CSERIAL+4                                                01364000
@NM00002 EQU   CSERIAL+3                                                01365000
CIBM     EQU   CSERIAL                                                  01366000
CRATIO   EQU   ISDAPRMS+19                                              01367000
CSSID    EQU   CSSIDF                                                   01368000
@NM00001 EQU   CSSIDF                                                   01369000
CFSC34   EQU   CFSCONLY+2                                               01370000
CFSC12   EQU   CFSCONLY                                                 01371000
CTYPE    EQU   ISDAPRMS+11                                              01372000
CSUMMARY EQU   ISDAPRMS+10                                              01373000
CENDDAY  EQU   CEND+2                                                   01374000
CENDYEAR EQU   CEND                                                     01375000
CSTDAY   EQU   CSTART+2                                                 01376000
CSTYEAR  EQU   CSTART                                                   01377000
CHISTIN  EQU   CINPUT+1                                                 01378000
CLOGIN   EQU   CINPUT                                                   01379000
PRTSA001 EQU   PRTDATD                                                  01380000
SDATEMPS EQU   SDADATD+136                                              01381000
SDASA002 EQU   SDADATD+76                                               01382000
SDAPC001 EQU   SDADATD+72                                               01383000
SDASA001 EQU   SDADATD                                                  01384000
SDARPTID EQU   PRT0CALL+133                                             01385000
LINE     EQU   OUTLINE+1                                                01386000
ANSI     EQU   OUTLINE                                                  01387000
DUMPIDNO EQU   HEXPCALL+8                                               01388000
DUMPLEN  EQU   HEXPCALL+4                                               01389000
DUMPADDR EQU   HEXPCALL                                                 01390000
WORKCALL EQU   CVTPTRS0+96                                              01391000
GEN00PTR EQU   CVTPTRS0+92                                              01392000
CNFG0PTR EQU   CVTPTRS0+88                                              01393000
PWR00PTR EQU   CVTPTRS0+84                                              01394000
APR00PTR EQU   CVTPTRS0+80                                              01395000
DRC00PTR EQU   CVTPTRS0+76                                              01396000
DAT00PTR EQU   CVTPTRS0+72                                              01397000
CSB00PTR EQU   CVTPTRS0+68                                              01398000
DCK00PTR EQU   CVTPTRS0+64                                              01399000
EQC00PTR EQU   CVTPTRS0+60                                              01400000
DHE00PTR EQU   CVTPTRS0+52                                              01401000
SUM00PTR EQU   CVTPTRS0+48                                              01402000
PAD00PTR EQU   CVTPTRS0+44                                              01403000
DCS00PTR EQU   CVTPTRS0+40                                              01404000
LOG00PTR EQU   CVTPTRS0+36                                              01405000
HIST0PTR EQU   CVTPTRS0+32                                              01406000
PRT00PTR EQU   CVTPTRS0+28                                              01407000
GET00PTR EQU   CVTPTRS0+24                                              01408000
TYPE0PTR EQU   CVTPTRS0+20                                              01409000
PARM0PTR EQU   CVTPTRS0+16                                              01410000
SDA00PTR EQU   CVTPTRS0+12                                              01411000
SDATAPTR EQU   CVTPTRS0+4                                               01412000
DATAPTR  EQU   CVTPTRS0                                                 01413000
*                                      END UNREFERENCED COMPONENTS      01414000
@RC00040 EQU   @RC00037                                                 01415000
@RC00068 EQU   @EL00002                                                 01416000
@RC00172 EQU   @EL00006                                                 01417000
@RC00043 EQU   @RC00040                                                 01418000
@ENDDATA EQU   *                                                        01419000
         END   ISDAFSC1,(C'PLS1055',0603,76205)                         01420000
