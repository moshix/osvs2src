         TITLE 'IEFAB442 - AFFINITY REMOVER                            *00001000
                        '                                               00002000
IEFAB442 CSECT ,                                                01S0001 00003000
@MAINENT DS    0H                                               01S0001 00004000
         USING *,@15                                            01S0001 00005000
         B     @PROLOG                                          01S0001 00006000
         DC    AL1(16)                                          01S0001 00007000
         DC    C'IEFAB442  74.212'                              01S0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                  01S0001 00010000
         BALR  @12,0                                            01S0001 00011000
@PSTART  DS    0H                                               01S0001 00012000
         USING @PSTART,@12                                      01S0001 00013000
         L     @00,@SIZDATD                                     01S0001 00014000
         MODESET EXTKEY=SCHED,SAVEKEY=(2)                               00015000
         GSPACE   R,LV=(0)                                              00016000
         LR    @11,@01                                          01S0001 00017000
         USING @DATD,@11                                        01S0001 00018000
         ST    @13,@SA00001+4                                   01S0001 00019000
         STC   @02,@OLDKEY                                      01S0001 00020000
         MODESET KEYADDR=(2)                                            00021000
         LM    @00,@02,20(@13)                                  01S0001 00022000
         ST    @11,8(,@13)                                      01S0001 00023000
         LR    @13,@11                                          01S0001 00024000
         MODESET EXTKEY=ZERO                                            00025000
         MVC   @PC00001(16),0(@01)                              01S0001 00026000
         MODESET EXTKEY=SCHED                                           00027000
*RTNCODE = SUCCESS;                    /*SET SUCCESSFUL RETURN CODE  */ 00028000
         SLR   RTNCODE,RTNCODE                                  01S0017 00029000
*INUNITID = COMPUNIT;                  /*COPY UNIT ID SO IT WON'T       00030000
*                                        CHANGE WHEN VU ENTRIES ARE     00031000
*                                        UPDATED                     */ 00032000
         L     @10,@PC00001+12                                  01S0018 00033000
         LH    INUNITID,COMPUNIT(,@10)                          01S0018 00034000
*LTUNITID = LTUNITID + ONE;            /*UPDATE LAST UNIT ID NUMBER  */ 00035000
         L     @10,@PC00001+4                                   01S0019 00036000
         L     @10,ALCWAPTR(,@10)                               01S0019 00037000
         LA    @06,1                                            01S0019 00038000
         LH    @15,LTUNITID(,@10)                               01S0019 00039000
         ALR   @15,@06                                          01S0019 00040000
         STH   @15,LTUNITID(,@10)                               01S0019 00041000
*VUPTR = VOLUNPTR;                     /*POINT TO START OF VOLUNITS  */ 00042000
         MVC   VUPTR(4),VOLUNPTR(@10)                           01S0020 00043000
*DO VUCTR=ONE TO VOLUNSZE/LENGTH(VOLUNTAB) /*SCAN VOLUNIT TABLE      */ 00044000
*    WHILE RTNCODE = SUCCESS;                                   01S0021 00045000
         LR    VUCTR,@06                                        01S0021 00046000
         B     @DE00021                                         01S0021 00047000
@DL00021 LTR   RTNCODE,RTNCODE                                  01S0021 00048000
         BNZ   @DC00021                                         01S0021 00049000
*  IF VOLID = INVOLID                  /*REQ FOR THIS VOLUME..       */ 00050000
*      & VOLUNTID = INUNITID THEN      /*WHICH HAS NOT YET BEEN 01S0022 00051000
*                                        ASSIGNED A NEW UNIT ID      */ 00052000
         L     @10,VUPTR                                        01S0022 00053000
         L     @08,@PC00001+8                                   01S0022 00054000
         CLC   VOLID(6,@10),INVOLID(@08)                        01S0022 00055000
         BNE   @RF00022                                         01S0022 00056000
         CH    INUNITID,VOLUNTID(,@10)                          01S0022 00057000
         BNE   @RF00022                                         01S0022 00058000
*    DO;                               /*YES, PROCESS                */ 00059000
*      IF VOLDEFER = OFF THEN          /*WAS DEFER-MOUNTED REQUESTED */ 00060000
         TM    VOLDEFER(@10),B'00000001'                        01S0024 00061000
         BNZ   @RF00024                                         01S0024 00062000
*        VOLMNTD = ON;                 /*NO, VOL MUST BE MOUNTED     */ 00063000
         OI    VOLMNTD(@10),B'01000000'                         01S0025 00064000
*      ELSE;                           /*DEFER MOUNTING WAS REQUESTED*/ 00065000
@RF00024 DS    0H                                               01S0027 00066000
*      SIOTPTR = VOLSIOTP;             /*POINT TO THIS SIOT          */ 00067000
         L     @10,VUPTR                                        01S0027 00068000
         L     SIOTPTR,VOLSIOTP(,@10)                           01S0027 00069000
*      VUP = SVOLUNAD;                 /*POINT TO FIRST VU FOR SIOT  */ 00070000
         L     VUP,SVOLUNAD(,SIOTPTR)                           01S0028 00071000
*      UNAFFFND = OFF;                 /*NO UNIT AFF FOUND YET       */ 00072000
         NI    UNAFFFND,B'01111111'                             01S0029 00073000
*      DO VUC=ONE TO SVOLUNNO;         /*SCAN VU'S FOR SIOT          */ 00074000
         LA    VUC,1                                            01S0030 00075000
         B     @DE00030                                         01S0030 00076000
@DL00030 DS    0H                                               01S0031 00077000
*        RFY VOLUNTAB BASED(VUP);                               01S0031 00078000
*        IF VOLUNTID = INUNITID THEN   /*SAME UNIT REQUESTED ?       */ 00079000
         CH    INUNITID,VOLUNTID(,VUP)                          01S0032 00080000
         BNE   @RF00032                                         01S0032 00081000
*          DO;                         /*YES,DETERMINE TYPE OF AFF   */ 00082000
*            IF VOLID = INVOLID THEN   /*VOLUME AFFINITY ?           */ 00083000
         L     @10,@PC00001+8                                   01S0034 00084000
         CLC   VOLID(6,VUP),INVOLID(@10)                        01S0034 00085000
         BNE   @RF00034                                         01S0034 00086000
*              DO;                     /*YES, PROCESS ..             */ 00087000
*                VOLUNTID = LTUNITID;  /*GIVE VU THE NEW UNIT ID     */ 00088000
         L     @10,@PC00001+4                                   01S0036 00089000
         L     @10,ALCWAPTR(,@10)                               01S0036 00090000
         MVC   VOLUNTID(2,VUP),LTUNITID(@10)                    01S0036 00091000
*                VOLNSHR = OFF;        /*INDICATE VOL IS SHAREABLE   */ 00092000
         NI    VOLNSHR(VUP),B'11110111'                         01S0037 00093000
*              END;                                             01S0038 00094000
*            ELSE                      /*UNIT AFFINITY               */ 00095000
*              DO;                                              01S0039 00096000
         B     @RC00034                                         01S0039 00097000
@RF00034 DS    0H                                               01S0040 00098000
*                IF UNAFFFND = OFF THEN /*FIRST UNIT AFFINITY ?      */ 00099000
         TM    UNAFFFND,B'10000000'                             01S0040 00100000
         BNZ   @RF00040                                         01S0040 00101000
*                  DO;                 /*YES, PROCESS ..             */ 00102000
*                    UNAFFFND = ON;    /*INDICATE UNIT AFFINITY FOUND*/ 00103000
         OI    UNAFFFND,B'10000000'                             01S0042 00104000
*                    UNAFFVUP = VUP;   /*SET PTR TO VU ENTRY NOW        00105000
*                                        REQUIRING A DEVICE          */ 00106000
         LR    UNAFFVUP,VUP                                     01S0043 00107000
*                  END;                                         01S0044 00108000
*                ELSE;                 /*NOT THE FIRST UNIT AFFINITY */ 00109000
@RF00040 DS    0H                                               01S0046 00110000
*              END;                                             01S0046 00111000
*          END;                                                 01S0047 00112000
*        ELSE;                         /*DIFFERENT UNIT REQUESTED    */ 00113000
@RF00032 DS    0H                                               01S0049 00114000
*        VUP = VUP + LENGTH(VOLUNTAB); /*POINT TO NEXT VOLUNIT ENTRY */ 00115000
@RC00032 AH    VUP,@CH00385                                     01S0049 00116000
*        RFY VOLUNTAB BASED(VUPTR);                             01S0050 00117000
*      END;                                                     01S0051 00118000
         AH    VUC,@CH00046                                     01S0051 00119000
@DE00030 CH    VUC,SVOLUNNO(,SIOTPTR)                           01S0051 00120000
         BNH   @DL00030                                         01S0051 00121000
*      IF UNAFFFND = ON THEN           /*UNIT AFFINITY FOUND ?       */ 00122000
         TM    UNAFFFND,B'10000000'                             01S0052 00123000
         BNO   @RF00052                                         01S0052 00124000
*        DO;                           /*YES,INCREMENT DEVS REQUIRED */ 00125000
*/********************************************************************/ 00126000
*/*                                                                  */ 00127000
*/* SEGMENT NAME - INCRUNIT                                          */ 00128000
*/*                                                                  */ 00129000
*/* DESCRIPTIVE NAME - INCREASE SIOT'S UNIT REQUIREMENTS             */ 00130000
*/*                                                                  */ 00131000
*/* FUNCTION -                                                       */ 00132000
*/*     THIS ROUTINE DETERMINES IF ANOTHER UNIT CAN BE ADDED TO      */ 00133000
*/*     A SIOTS UNIT REQUIREMENT. IF THE SIOT ALREADY REQUIRES       */ 00134000
*/*     59 UNITS OR IS A DEMAND REQUEST THIS IS AN ERROR. OTHERWISE, */ 00135000
*/*     'SIOTOTUN' IS INCREMENTED, AND IEFAB428 IS CALLED TO GET     */ 00136000
*/*     A LARGER TIOT ENTRY FOR THIS SIOT IF ONE ALREADY EXISTS.     */ 00137000
*/*                                                                  */ 00138000
*/*   OPERATION - (THE OPERATION IS DOCUMENTED BY THE CODE ITSELF)   */ 00139000
*/*                                                                  */ 00140000
*/* ENTRY - (INLINE SUBROUTINE)                                      */ 00141000
*/*                                                                  */ 00142000
*/*   INPUT -                                                        */ 00143000
*/*     SIOTPTR - PTR TO THE SIOT TO BE PROCESSED                    */ 00144000
*/*       SIOTOTUN - NUMBER OF UNITS ALREADY REQ'D BY THIS SIOT      */ 00145000
*/*       SIOTETIO - PTR TO DSAB FOR THIS SIOT, OR 0                 */ 00146000
*/*       PTR TO VU ENTRY NOW REQUIRING A DEVICE                     */ 00147000
*/*           .VUPTR    - PTR TO FIRST UNIT AFFINITY                 */ 00148000
*/*                       SIOT FOR THE INPUT VOLUME                  */ 00149000
*/*           .UNAFFVUP - PTR TO FIRST UNIT AFFINITY                 */ 00150000
*/*                       TO THE INPUT VOLUME IN THIS SIOT           */ 00151000
*/*                                                                  */ 00152000
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */ 00153000
*/*                                                                  */ 00154000
*/*   CONDITIONS - SIOT'S UNIT REQUIREMENTS INCREMENTED WITHOUT      */ 00155000
*/*                ANY ERROR                                         */ 00156000
*/*                                                                  */ 00157000
*/*   OUTPUT -                                                       */ 00158000
*/*     .LARGER TIOT ENTRY OBTAINED IF ANY ALREADY EXISTS            */ 00159000
*/*     .SIOTOTUN INCREMENTED BY 1                                   */ 00160000
*/*     .VDEVREQD=1 FOR VU ENTRY NOW NEEDING A DEVICE                */ 00161000
*/*                                                                  */ 00162000
*/*   RETURN CODES - RTNCODE = O                                     */ 00163000
*/*                                                                  */ 00164000
*/* EXIT - ERROR - (INLINE SUBROUTINE)                               */ 00165000
*/*                                                                  */ 00166000
*/*   CONDITIONS - SIOT ALREADY REQUIRES THE MAXIMUM NUMBER OF       */ 00167000
*/*                DEVICES OR IS A DEMAND REQUEST                    */ 00168000
*/*                                                                  */ 00169000
*/*   OUTPUT - SIOT ERROR REASON CODE (SIOTRSNC) SET TO 9 IF         */ 00170000
*/*            NON-DEMAND REQUEST OR 74 IF A DEMAND REQUEST.         */ 00171000
*/*                                                                  */ 00172000
*/*   RETURN CODES - RTNCODE = 4                                     */ 00173000
*/*                                                                  */ 00174000
*/* EXIT - ERROR - (INLINE SUBROUTINE)                               */ 00175000
*/*                                                                  */ 00176000
*/*   CONDITIONS - ERROR DETECTED BY MODULE IEFAB428                 */ 00177000
*/*                                                                  */ 00178000
*/*   OUTPUT - STEP-RELATED ERROR REASON CODE SET BY IEFAB428        */ 00179000
*/*                                                                  */ 00180000
*/*   RETURN CODES - RTNCODE = NON-ZERO                              */ 00181000
*/*                                                                  */ 00182000
*/********************************************************************/ 00183000
*IF SIOTDMND = ON THEN                 /*DEMAND REQ?                 */ 00184000
         TM    SIOTDMND(SIOTPTR),B'10000000'                    02S0054 00185000
         BNO   @RF00054                                         02S0054 00186000
*  DO;                                 /*YES, INDICATE ERROR         */ 00187000
*    RTNCODE = FAILURE;                /*SET ERROR RETURN CODE       */ 00188000
         LA    RTNCODE,4                                        02S0056 00189000
*    SIOTRSNC = ERROR74;               /*SET SIOT REASON CODE        */ 00190000
         MVC   SIOTRSNC(2,SIOTPTR),@CH00068                     02S0057 00191000
*  END;                                                         02S0058 00192000
*ELSE                                  /*NOT A DEMAND REQ            */ 00193000
*  DO;                                                          02S0059 00194000
         B     @RC00054                                         02S0059 00195000
@RF00054 DS    0H                                               02S0060 00196000
*IF SIOTOTUN < MAXUN59 THEN            /*OK TO ADD ANOTHER DEVICE ?  */ 00197000
         CLI   SIOTOTUN(SIOTPTR),59                             02S0060 00198000
         BNL   @RF00060                                         02S0060 00199000
*  DO;                                 /*YES, PROCESS ..             */ 00200000
*    SIOTOTUN = SIOTOTUN + ONE;        /*INCREMENT SIOT'S DEVICE REQS*/ 00201000
         LA    @10,1                                            02S0062 00202000
         SLR   @08,@08                                          02S0062 00203000
         IC    @08,SIOTOTUN(,SIOTPTR)                           02S0062 00204000
         ALR   @10,@08                                          02S0062 00205000
         STC   @10,SIOTOTUN(,SIOTPTR)                           02S0062 00206000
*    IF VUPTR->VDEVREQD = OFF THEN     /*DID REQ FOR VOL NEED A DEV? */ 00207000
         L     @10,VUPTR                                        02S0063 00208000
         TM    VDEVREQD(@10),B'00100000'                        02S0063 00209000
         BNZ   @RF00063                                         02S0063 00210000
*      TEMPVUP = VUPTR;                /*NO,SET PTR TO THIS VU ENTRY */ 00211000
         LR    TEMPVUP,@10                                      02S0064 00212000
*    ELSE                              /*REQ FOR VOL ALREADY NEED VOL*/ 00213000
*      TEMPVUP = UNAFFVUP;             /*..SET PTR TO UNIT AFF VU    */ 00214000
         B     @RC00063                                         02S0065 00215000
@RF00063 LR    TEMPVUP,UNAFFVUP                                 02S0065 00216000
*    TEMPVUP->VDEVREQD = ON;           /*TURN ON DEV-REQ'D INDICATOR */ 00217000
@RC00063 OI    VDEVREQD(TEMPVUP),B'00100000'                    02S0066 00218000
*    IF SIOTETIO ^= ZERO THEN          /*DOES ETIOT EXIST ?          */ 00219000
         ICM   @10,15,SIOTETIO(SIOTPTR)                         02S0067 00220000
         BZ    @RF00067                                         02S0067 00221000
*      DO;                             /*YES, GET A LARGER TIOT      */ 00222000
*        ETIORB = ETIORB && ETIORB;    /*CLEAR REQUEST BLOCK         */ 00223000
         XC    ETIORB(42),ETIORB                                02S0069 00224000
*        EREQPTR = ADDR(ETIORB);       /*GET ADDR MAPPING MACRO      */ 00225000
         LA    @10,ETIORB                                       02S0070 00226000
         ST    @10,EREQPTR                                      02S0070 00227000
*        EREQDEVS = SIOTOTUN;          /*SET NUMBER OF DEVICES REQ'D */ 00228000
         SLR   @08,@08                                          02S0071 00229000
         IC    @08,SIOTOTUN(,SIOTPTR)                           02S0071 00230000
         STH   @08,EREQDEVS(,@10)                               02S0071 00231000
*        EREQMOVE = ON;                /*INDICATE ETIOT SWITCH FUNC  */ 00232000
         OI    EREQMOVE(@10),B'00100000'                        02S0072 00233000
*        EREQSIOT = SIOTPTR;           /*STORE PTR TO SIOT IN THE RB */ 00234000
         ST    SIOTPTR,EREQSIOT(,@10)                           02S0073 00235000
*        EREQJSCB = JSCBPTR;           /*STORE PTR TO JSCB IN THE RB */ 00236000
         L     @08,@PC00001+4                                   02S0074 00237000
         L     @08,ALCWAPTR(,@08)                               02S0074 00238000
         MVC   EREQJSCB(4,@10),JSCBPTR(@08)                     02S0074 00239000
*        EREQRPOS = ONE;               /*INIT RELATIVE POSITION OF      00240000
*                                        THE NEW DEVICE-REQ'D ENTRY  */ 00241000
         LA    @08,1                                            02S0075 00242000
         STH   @08,EREQRPOS(,@10)                               02S0075 00243000
*        VUP = SVOLUNAD;               /*POINT TO SIOT'S FIRST VU    */ 00244000
         L     VUP,SVOLUNAD(,SIOTPTR)                           02S0076 00245000
*        DO VUC=ONE TO SVOLUNNO        /*SCAN ALL VU ENTRIES UP TO ..*/ 00246000
*            WHILE (VUP^=TEMPVUP);     /*..THE NEW DEV-REQ'D ENTRY   */ 00247000
         LA    @10,1                                            02S0077 00248000
         LR    VUC,@10                                          02S0077 00249000
         B     @DE00077                                         02S0077 00250000
@DL00077 CR    VUP,TEMPVUP                                      02S0077 00251000
         BE    @DC00077                                         02S0077 00252000
*          IF VUP->VDEVREQD=ON THEN    /*DEVICE-REQ'D FOR VU ENTRY ? */ 00253000
         TM    VDEVREQD(VUP),B'00100000'                        02S0078 00254000
         BNO   @RF00078                                         02S0078 00255000
*            EREQRPOS=EREQRPOS + ONE;  /*YES,BUMP REL POSITION OF NEW*/ 00256000
         L     @10,EREQPTR                                      02S0079 00257000
         LA    @04,1                                            02S0079 00258000
         AH    @04,EREQRPOS(,@10)                               02S0079 00259000
         STH   @04,EREQRPOS(,@10)                               02S0079 00260000
*          ELSE;                       /*VU ENTRY NOT DEVICE-REQUIRED*/ 00261000
@RF00078 DS    0H                                               02S0081 00262000
*          VUP = VUP + LENGTH(VOLUNTAB); /*POINT TO NEXT VOLUNIT ENT */ 00263000
         AH    VUP,@CH00385                                     02S0081 00264000
*        END;                                                   02S0082 00265000
         AH    VUC,@CH00046                                     02S0082 00266000
@DE00077 CH    VUC,SVOLUNNO(,SIOTPTR)                           02S0082 00267000
         BNH   @DL00077                                         02S0082 00268000
@DC00077 DS    0H                                               02S0083 00269000
*        CALL IEFAB428 (EREQPTR,JSCBPTR,EXITPRMP); /*BUILD NEW ENTRY,   00270000
*                                                    DELETE OLD.     */ 00271000
         LA    @10,EREQPTR                                      02S0083 00272000
         ST    @10,@AL00001                                     02S0083 00273000
         L     @10,@PC00001+4                                   02S0083 00274000
         L     @10,ALCWAPTR(,@10)                               02S0083 00275000
         LA    @08,JSCBPTR(,@10)                                02S0083 00276000
         ST    @08,@AL00001+4                                   02S0083 00277000
         LA    @10,EXITPRMP(,@10)                               02S0083 00278000
         ST    @10,@AL00001+8                                   02S0083 00279000
         L     @15,@CV00083                                     02S0083 00280000
         LA    @01,@AL00001                                     02S0083 00281000
         BALR  @14,@15                                          02S0083 00282000
*        RTNCODE = REG15;              /*SAVE THE RETURN CODE        */ 00283000
         LR    RTNCODE,REG15                                    02S0084 00284000
*        IF RTNCODE ^= SUCCESS THEN    /*ANY ERRORS ?                */ 00285000
         LTR   RTNCODE,RTNCODE                                  02S0085 00286000
         BZ    @RF00085                                         02S0085 00287000
*          REASONCD = EREQCODE;        /*YES,COPY THE ERROR REASON CD*/ 00288000
         L     @10,@PC00001+4                                   02S0086 00289000
         L     @10,ALCWAPTR(,@10)                               02S0086 00290000
         L     @10,FAILRSCP(,@10)                               02S0086 00291000
         L     @08,EREQPTR                                      02S0086 00292000
         LH    @08,EREQCODE(,@08)                               02S0086 00293000
         ST    @08,REASONCD(,@10)                               02S0086 00294000
*        ELSE;                         /*NO ERROR                    */ 00295000
@RF00085 DS    0H                                               02S0088 00296000
*      END;                                                     02S0088 00297000
*    ELSE;                             /*NO ETIOT EXISTS             */ 00298000
@RF00067 DS    0H                                               02S0090 00299000
*  END;                                                         02S0090 00300000
*ELSE                                  /*SIOT ALREADY NEEDS MAX UNITS*/ 00301000
*  DO;                                                          02S0091 00302000
         B     @RC00060                                         02S0091 00303000
@RF00060 DS    0H                                               02S0092 00304000
*    RTNCODE = FAILURE;                /*SET ERROR RETURN CODE       */ 00305000
         LA    RTNCODE,4                                        02S0092 00306000
*    SIOTRSNC = ERROR9;                /*SET SIOT REASON CODE        */ 00307000
         MVC   SIOTRSNC(2,SIOTPTR),@CH00066                     02S0093 00308000
*  END;                                                         02S0094 00309000
*END;                                                           02S0095 00310000
*        END;                                                   01S0096 00311000
*      ELSE;                           /*NO UNIT AFFINITY FOUND      */ 00312000
@RF00052 DS    0H                                               01S0098 00313000
*    END;                                                       01S0098 00314000
*  ELSE;                               /*NOT SIOT'S 1ST REQ FOR VOL  */ 00315000
@RF00022 DS    0H                                               01S0100 00316000
*  VUPTR = VUPTR + LENGTH(VOLUNTAB);   /*POINT TO NEXT VOLUNIT ENTRY */ 00317000
@RC00022 LA    @10,28                                           01S0100 00318000
         AL    @10,VUPTR                                        01S0100 00319000
         ST    @10,VUPTR                                        01S0100 00320000
*END;                                                           01S0101 00321000
         AH    VUCTR,@CH00046                                   01S0101 00322000
@DE00021 L     @10,@PC00001+4                                   01S0101 00323000
         L     @10,ALCWAPTR(,@10)                               01S0101 00324000
         L     @00,VOLUNSZE(,@10)                               01S0101 00325000
         SRDA  @00,32                                           01S0101 00326000
         D     @00,@CF00385                                     01S0101 00327000
         CR    VUCTR,@01                                        01S0101 00328000
         BNH   @DL00021                                         01S0101 00329000
@DC00021 DS    0H                                               01S0102 00330000
*IF RTNCODE = SUCCESS THEN             /*ANY ERRORS ?                */ 00331000
         SLR   @10,@10                                          01S0102 00332000
         CR    RTNCODE,@10                                      01S0102 00333000
         BNE   @RF00102                                         01S0102 00334000
*  DO;                                 /*NO,DO CLEANUP PROCESSING    */ 00335000
*/********************************************************************/ 00336000
*/*                                                                  */ 00337000
*/* SEGMENT NAME - CLEANCHG                                          */ 00338000
*/*                                                                  */ 00339000
*/* DESCRIPTIVE NAME - CHANGE VU ENTRY FOR THE FIRST UNIT AFFINITY   */ 00340000
*/*                    ENTRY TO THE INPUT VOLUME                     */ 00341000
*/*                                                                  */ 00342000
*/* FUNCTION -                                                       */ 00343000
*/*     THIS SEGMENT LOCATES THE FIRST VOLUNIT ENTRY WITH UNIT       */ 00344000
*/*     AFFINITY TO REQUESTS FOR THE INPUT VOLUME (IF ONE EXISTS),   */ 00345000
*/*     AND UPDATES THIS VOLUNIT ENTRY AS FOLLOWS:                   */ 00346000
*/*       .THE ENTRY IS MARKED SHAREABLE (VOLNSHR=0) IF THERE ARE    */ 00347000
*/*        NO OTHER UNIT AFFINITY REQUESTS.                          */ 00348000
*/*       .VOLMNTD IS SET ON (MEANING THE VOLUME MUST BE MOUNTED     */ 00349000
*/*        BY ALLOCATION) UNLESS DEFER MOUNTING WAS REQUESTED        */ 00350000
*/*     IF REQUESTED, IEFAB4F2 IS CALLED TO INDICATE THAT THIS       */ 00351000
*/*     FIRST UNIT AFFINITY VU ENTRY REPRESENTS A UNIQUE UNIT        */ 00352000
*/*     REQUEST (TO BE COVERED BY THE ALGORITHM).                    */ 00353000
*/*                                                                  */ 00354000
*/*   OPERATION - THE VOLUNIT TABLE IS FIRST SCANNED TO COUNT THE VU */ 00355000
*/*               ENTRIES WITH UNIT AFFINITY TO THE INPUT VOLUME     */ 00356000
*/*               AND TO SAVE A POINTER TO THE FIRST UNIT AFFINITY   */ 00357000
*/*               REQUEST.                                           */ 00358000
*/*                                                                  */ 00359000
*/* ENTRY - (INLINE SUBROUTINE)                                      */ 00360000
*/*                                                                  */ 00361000
*/*   INPUT -                                                        */ 00362000
*/*     UPALGSW - FUNCTION MAP BIT. IF 1, THE ALGORITHM TABLES       */ 00363000
*/*               SHOULD BE UPDATED.                                 */ 00364000
*/*     INUNITID - UNIT ID OF REQS WITH UNIT AFFINITY TO THE INPUT   */ 00365000
*/*                VOLUME SERIAL NUMBER.                             */ 00366000
*/*     ALCWAPTR - PTR TO THE ALLOCATION WORK AREA, WHICH CONTAINS   */ 00367000
*/*       VOLUNSZE - SIZE OF THE VOLUNIT TABLE                       */ 00368000
*/*       VOLUNPTR - PTR TO THE VOLUNIT TABLE                        */ 00369000
*/*                                                                  */ 00370000
*/* EXIT - NORMAL - (INLINE SUBROUTINE)                              */ 00371000
*/*                                                                  */ 00372000
*/*   CONDITIONS - FUNCTION COMPLETED.                               */ 00373000
*/*                                                                  */ 00374000
*/*   OUTPUT - (AS DESCRIBED IN THE 'FUNCTION' SECTION OF THIS SPEC) */ 00375000
*/*                                                                  */ 00376000
*/*   RETURN CODES - NONE                                            */ 00377000
*/*                                                                  */ 00378000
*/********************************************************************/ 00379000
*UNAFFCTR = ZERO;                      /*INIT COUNT OF UNIT AFF REQS */ 00380000
         LR    UNAFFCTR,@10                                     02S0104 00381000
*UNAFFVUP = ZERO;                      /*INIT PTR TO VU WITH UNIT AFF*/ 00382000
         LR    UNAFFVUP,@10                                     02S0105 00383000
*VUPTR = VOLUNPTR;                     /*POINT TO THE FIRST VU ENTRY */ 00384000
         L     @10,@PC00001+4                                   02S0106 00385000
         L     @10,ALCWAPTR(,@10)                               02S0106 00386000
         MVC   VUPTR(4),VOLUNPTR(@10)                           02S0106 00387000
*DO VUCTR=ONE TO VOLUNSZE/LENGTH(VOLUNTAB); /*SCAN VOLUNIT TABLE     */ 00388000
         LA    VUCTR,1                                          02S0107 00389000
         B     @DE00107                                         02S0107 00390000
@DL00107 DS    0H                                               02S0108 00391000
*  IF VOLUNTID = INUNITID THEN         /*UNIT AFFINITY TO REQUESTS      00392000
*                                          FOR INPUT VOL?            */ 00393000
         L     @10,VUPTR                                        02S0108 00394000
         CH    INUNITID,VOLUNTID(,@10)                          02S0108 00395000
         BNE   @RF00108                                         02S0108 00396000
*    DO;                                                        02S0109 00397000
*      UNAFFCTR = UNAFFCTR + ONE;      /*YES,INCREMENT COUNT         */ 00398000
         LA    @08,1                                            02S0110 00399000
         ALR   UNAFFCTR,@08                                     02S0110 00400000
*      IF UNAFFCTR = ONE THEN          /*FIRST UNITAFF VU ?          */ 00401000
         CR    UNAFFCTR,@08                                     02S0111 00402000
         BNE   @RF00111                                         02S0111 00403000
*        UNAFFVUP = VUPTR;             /*YES, SAVE PTR TO VU         */ 00404000
         LR    UNAFFVUP,@10                                     02S0112 00405000
*      ELSE;                           /*NOT FIRST UNIT AFF          */ 00406000
@RF00111 DS    0H                                               02S0114 00407000
*    END;                                                       02S0114 00408000
*  ELSE;                               /*NOT UNIT AFF                */ 00409000
@RF00108 DS    0H                                               02S0116 00410000
*  VUPTR = VUPTR + LENGTH(VOLUNTAB);   /*POINT TO NEXT VOLUNIT ENTRY */ 00411000
         LA    @10,28                                           02S0116 00412000
         AL    @10,VUPTR                                        02S0116 00413000
         ST    @10,VUPTR                                        02S0116 00414000
*END;                                                           02S0117 00415000
         AH    VUCTR,@CH00046                                   02S0117 00416000
@DE00107 L     @10,@PC00001+4                                   02S0117 00417000
         L     @10,ALCWAPTR(,@10)                               02S0117 00418000
         L     @00,VOLUNSZE(,@10)                               02S0117 00419000
         SRDA  @00,32                                           02S0117 00420000
         D     @00,@CF00385                                     02S0117 00421000
         CR    VUCTR,@01                                        02S0117 00422000
         BNH   @DL00107                                         02S0117 00423000
*IF UNAFFVUP ^= ZERO THEN              /*ANY UNIT AFF REQUEST ?      */ 00424000
         LTR   UNAFFVUP,UNAFFVUP                                02S0118 00425000
         BZ    @RF00118                                         02S0118 00426000
*  DO;                                 /*YES, PROCESS ..             */ 00427000
*    VUPTR = UNAFFVUP;                 /*POINT TO UNIT AFF REQUEST   */ 00428000
         ST    UNAFFVUP,VUPTR                                   02S0120 00429000
*    IF UNAFFCTR = ONE THEN            /*ONLY ONE UNIT AFFINITY REQ? */ 00430000
         CH    UNAFFCTR,@CH00046                                02S0121 00431000
         BNE   @RF00121                                         02S0121 00432000
*      VOLNSHR = OFF;                  /*YES,MARK VU ENTRY SHAREABLE */ 00433000
         L     @10,VUPTR                                        02S0122 00434000
         NI    VOLNSHR(@10),B'11110111'                         02S0122 00435000
*    ELSE;                             /*MORE THAN ONE UNIT AFF REQ  */ 00436000
@RF00121 DS    0H                                               02S0124 00437000
*    IF VOLDEFER = OFF THEN            /*WAS DEFER MOUNTING REQUESTED*/ 00438000
         L     @10,VUPTR                                        02S0124 00439000
         TM    VOLDEFER(@10),B'00000001'                        02S0124 00440000
         BNZ   @RF00124                                         02S0124 00441000
*      VOLMNTD = ON;                   /*NO,INDICATE VOL MOUNT NEEDED*/ 00442000
         OI    VOLMNTD(@10),B'01000000'                         02S0125 00443000
*    ELSE;                             /*DEFER MOUNTING WAS REQUESTED*/ 00444000
@RF00124 DS    0H                                               02S0127 00445000
*    IF UPALGSW = ON THEN              /*ALG TABLES TO BE UPDATED?   */ 00446000
         L     @10,@PC00001                                     02S0127 00447000
         TM    UPALGSW(@10),B'10000000'                         02S0127 00448000
         BNO   @RF00127                                         02S0127 00449000
*      CALL IEFAB4F2 (FUNC4F2,VUPTR,0,0,0); /*YES,FIRST UNIT AFF        00450000
*                                        NOW REQUIRES A UNIQUE DEVICE*/ 00451000
         MVC   @AL00001(20),@AL00128                            02S0128 00452000
         LA    @10,VUPTR                                        02S0128 00453000
         ST    @10,@AL00001+4                                   02S0128 00454000
         L     @15,@CV00084                                     02S0128 00455000
         LA    @01,@AL00001                                     02S0128 00456000
         BALR  @14,@15                                          02S0128 00457000
*    ELSE;                             /*DON'T UPDATE ALG TABLES     */ 00458000
@RF00127 DS    0H                                               02S0130 00459000
*  END;                                                         02S0130 00460000
*ELSE;                                 /*NO UNIT AFFINITY REQUEST    */ 00461000
@RF00118 DS    0H                                               02S0132 00462000
*  END;                                                         01S0132 00463000
*ELSE;                                 /*ERROR                       */ 00464000
@RF00102 DS    0H                                               01S0134 00465000
*RETURN CODE(RTNCODE);                 /*RETURN TO CALLER            */ 00466000
         IC    @02,@OLDKEY                                      01S0134 00467000
         L     @13,4(,@13)                                      01S0134 00468000
         L     @00,@SIZDATD                                     01S0134 00469000
         LR    @01,@11                                          01S0134 00470000
         FSPACE   R,LV=(0),A=(1)                                        00471000
         MODESET KEYADDR=(2)                                            00472000
         LR    @15,@04                                          01S0134 00473000
         L     @14,12(,@13)                                     01S0134 00474000
         LM    @00,@12,20(@13)                                  01S0134 00475000
         BR    @14                                              01S0134 00476000
*END IEFAB442                                                   01S0135 00477000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      * 00478000
*/*%INCLUDE SYSLIB  (A442SPEC)                                        * 00479000
*/*%INCLUDE SYSLIB  (A442DATA)                                        * 00480000
*/*%INCLUDE SYSLIB  (IEFZB423)                                        * 00481000
*/*%INCLUDE SYSLIB  (IEFZB425)                                        * 00482000
*/*%INCLUDE SYSLIB  (IEFASIOT)                                        * 00483000
*/*%INCLUDE SYSLIB  (IEFZB430)                                        * 00484000
*/*%INCLUDE SYSLIB  (INCRUNIT)                                        * 00485000
*/*%INCLUDE SYSLIB  (INCRSPEC)                                        * 00486000
*/*%INCLUDE SYSLIB  (CLEANCHG)                                        * 00487000
*/*%INCLUDE SYSLIB  (CLENSPEC)                                        * 00488000
*;                                                              01S0135 00489000
@DATA    DS    0H                                                       00490000
@CH00046 DC    H'1'                                                     00491000
@CH00066 DC    H'9'                                                     00492000
@CH00068 DC    H'74'                                                    00493000
         DS    0F                                                       00494000
@AL00128 DC    A(@CB00072)             LIST WITH   5 ARGUMENT(S)        00495000
         DS    F                                                        00496000
         DC    A(@CF00081)                                              00497000
         DC    A(@CF00081)                                              00498000
         DC    A(@CF00081)                                              00499000
@DATD    DSECT                                                          00500000
         DS    0F                                                       00501000
@SA00001 DS    18F                                                      00502000
@PC00001 DS    4F                                                       00503000
@AL00001 DS    5A                                                       00504000
IEFAB442 CSECT                                                          00505000
         DS    0F                                                       00506000
@CF00081 DC    F'0'                                                     00507000
@CF00385 DC    F'28'                                                    00508000
@CH00385 EQU   @CF00385+2                                               00509000
@DATD    DSECT                                                          00510000
         DS    0D                                                       00511000
EREQPTR  DS    A                                                        00512000
VUPTR    DS    A                                                        00513000
UNAFFFND DS    BL1                                                      00514000
ETIORB   DS    CL42                                                     00515000
@OLDKEY  DS    AL1                                                      00516000
IEFAB442 CSECT                                                          00517000
         DS    0F                                                       00518000
@SIZDATD DC    AL1(230)                                                 00519000
         DC    AL3(@ENDDATD-@DATD)                                      00520000
@CV00083 DC    V(IEFAB428)                                              00521000
@CV00084 DC    V(IEFAB4F2)                                              00522000
         DS    0D                                                       00523000
@CB00072 DC    B'10000000'                                              00524000
IEFAB442 CSECT                                                          00525000
         DS   0H                                                        00526000
PATCHLOC DC ((@DATA-@PSTART)/20)X'00'                                   00527000
@DATD    DSECT                                                          00528000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                00529000
@ENDDATD EQU   *                                                        00530000
IEFAB442 CSECT                                                          00531000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       00532000
@01      EQU   01                                                       00533000
@02      EQU   02                                                       00534000
@03      EQU   03                                                       00535000
@04      EQU   04                                                       00536000
@05      EQU   05                                                       00537000
@06      EQU   06                                                       00538000
@07      EQU   07                                                       00539000
@08      EQU   08                                                       00540000
@09      EQU   09                                                       00541000
@10      EQU   10                                                       00542000
@11      EQU   11                                                       00543000
@12      EQU   12                                                       00544000
@13      EQU   13                                                       00545000
@14      EQU   14                                                       00546000
@15      EQU   15                                                       00547000
VUCTR    EQU   @09                                                      00548000
VUC      EQU   @08                                                      00549000
UNAFFCTR EQU   @02                                                      00550000
RTNCODE  EQU   @04                                                      00551000
INUNITID EQU   @07                                                      00552000
VUP      EQU   @03                                                      00553000
UNAFFVUP EQU   @05                                                      00554000
TEMPVUP  EQU   @06                                                      00555000
SIOTPTR  EQU   @02                                                      00556000
REG15    EQU   @15                                                      00557000
REASONCD EQU   0                                                        00558000
VOLUNTAB EQU   0                                                        00559000
VOLID    EQU   VOLUNTAB                                                 00560000
VOLSTAT  EQU   VOLUNTAB+6                                               00561000
VOLSTATA EQU   VOLSTAT                                                  00562000
VOLNSHR  EQU   VOLSTATA                                                 00563000
VOLDEFER EQU   VOLSTATA                                                 00564000
VOLSTATB EQU   VOLSTAT+1                                                00565000
VOLMNTD  EQU   VOLSTATB                                                 00566000
VDEVREQD EQU   VOLSTATB                                                 00567000
VOLSTATC EQU   VOLSTAT+2                                                00568000
VOLSTATD EQU   VOLSTAT+3                                                00569000
VOLUNTID EQU   VOLUNTAB+10                                              00570000
VOLSIOTP EQU   VOLUNTAB+16                                              00571000
ALCWA    EQU   0                                                        00572000
JSCBPTR  EQU   ALCWA+12                                                 00573000
FAILRSCP EQU   ALCWA+20                                                 00574000
CNTABLE  EQU   ALCWA+28                                                 00575000
LTUNITID EQU   ALCWA+76                                                 00576000
VOLUNPTR EQU   ALCWA+80                                                 00577000
VOLUNSZE EQU   ALCWA+84                                                 00578000
INDICATE EQU   ALCWA+112                                                00579000
@NM00005 EQU   ALCWA+113                                                00580000
TIOTHDRP EQU   ALCWA+120                                                00581000
EXITPRMP EQU   ALCWA+144                                                00582000
NAMES    EQU   0                                                        00583000
INDMSIOT EQU   0                                                        00584000
SCTUSADD EQU   INDMSIOT+20                                              00585000
SIOTOTUN EQU   INDMSIOT+39                                              00586000
SIOTBYT1 EQU   INDMSIOT+43                                              00587000
SIOTBYT3 EQU   INDMSIOT+46                                              00588000
SIOTTSTC EQU   INDMSIOT+47                                              00589000
SIOTBYT0 EQU   INDMSIOT+52                                              00590000
SCTSDISP EQU   INDMSIOT+55                                              00591000
SCTSBYT1 EQU   INDMSIOT+56                                              00592000
SCTSBYT2 EQU   INDMSIOT+57                                              00593000
SCTSBYT3 EQU   INDMSIOT+58                                              00594000
SCTSBYT4 EQU   INDMSIOT+59                                              00595000
SCTUTYPE EQU   INDMSIOT+60                                              00596000
SIOTDEVT EQU   SCTUTYPE                                                 00597000
SIOUBYT3 EQU   SIOTDEVT+2                                               00598000
SIOTALTD EQU   INDMSIOT+92                                              00599000
SIOTBYT2 EQU   INDMSIOT+103                                             00600000
SIOTDMND EQU   SIOTBYT2                                                 00601000
SIOTRSNC EQU   INDMSIOT+130                                             00602000
SVOLUNAD EQU   INDMSIOT+140                                             00603000
SIOTETIO EQU   INDMSIOT+148                                             00604000
SVOLUNNO EQU   INDMSIOT+168                                             00605000
ETIOTREQ EQU   0                                                        00606000
EREQMAP  EQU   ETIOTREQ                                                 00607000
EREQMOVE EQU   EREQMAP                                                  00608000
EREQSTAT EQU   ETIOTREQ+2                                               00609000
EREQSIOT EQU   ETIOTREQ+20                                              00610000
EREQRPOS EQU   ETIOTREQ+28                                              00611000
EREQDEVS EQU   ETIOTREQ+30                                              00612000
EREQJSCB EQU   ETIOTREQ+36                                              00613000
EREQCODE EQU   ETIOTREQ+40                                              00614000
FMAPBITS EQU   0                                                        00615000
UPALGSW  EQU   FMAPBITS                                                 00616000
ALCWAPTR EQU   0                                                        00617000
INVOLID  EQU   0                                                        00618000
COMPUNIT EQU   0                                                        00619000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    00620000
EREQGRID EQU   ETIOTREQ+32                                              00621000
EREQUCB  EQU   ETIOTREQ+24                                              00622000
@NM00027 EQU   ETIOTREQ+19                                              00623000
EREQSSVA EQU   ETIOTREQ+16                                              00624000
@NM00026 EQU   ETIOTREQ+15                                              00625000
EREQJSVA EQU   ETIOTREQ+12                                              00626000
EREQDDNM EQU   ETIOTREQ+4                                               00627000
@NM00025 EQU   EREQSTAT                                                 00628000
EREQCATL EQU   EREQSTAT                                                 00629000
EREQJSCT EQU   EREQSTAT                                                 00630000
EREQPASS EQU   EREQSTAT                                                 00631000
EREQUNAL EQU   EREQSTAT                                                 00632000
EREQVAM  EQU   EREQSTAT                                                 00633000
EREQQNM  EQU   EREQSTAT                                                 00634000
EREQTERM EQU   EREQSTAT                                                 00635000
@NM00024 EQU   EREQMAP                                                  00636000
EREQUPD  EQU   EREQMAP                                                  00637000
EREQBLD  EQU   EREQMAP                                                  00638000
SIODDSNL EQU   INDMSIOT+173                                             00639000
SIOVDSNL EQU   INDMSIOT+172                                             00640000
SIOVDSNT EQU   INDMSIOT+170                                             00641000
SIOTVMVP EQU   INDMSIOT+164                                             00642000
SIOTJFX  EQU   INDMSIOT+160                                             00643000
SJFCBPTR EQU   INDMSIOT+156                                             00644000
SIOTNPTR EQU   INDMSIOT+152                                             00645000
SIOTATE  EQU   INDMSIOT+144                                             00646000
SIOTEDLP EQU   INDMSIOT+136                                             00647000
SIOTEDLS EQU   INDMSIOT+132                                             00648000
SCTANAME EQU   INDMSIOT+122                                             00649000
@NM00023 EQU   INDMSIOT+108                                             00650000
SIOTSSNM EQU   INDMSIOT+104                                             00651000
SIODDQCR EQU   SIOTBYT2                                                 00652000
SIOVDQCR EQU   SIOTBYT2                                                 00653000
SIOTCVOL EQU   SIOTBYT2                                                 00654000
SIOTCNEW EQU   SIOTBYT2                                                 00655000
SIOTCALC EQU   SIOTBYT2                                                 00656000
SIOTGALL EQU   SIOTBYT2                                                 00657000
SIOTDSPD EQU   SIOTBYT2                                                 00658000
SIOTOPUC EQU   INDMSIOT+99                                              00659000
SIOTOUTR EQU   INDMSIOT+97                                              00660000
SIOTOUTC EQU   INDMSIOT+96                                              00661000
@NM00022 EQU   INDMSIOT+93                                              00662000
SIOTAUNC EQU   SIOTALTD                                                 00663000
SIOTACAT EQU   SIOTALTD                                                 00664000
SIOTADEL EQU   SIOTALTD                                                 00665000
SIOTAKEP EQU   SIOTALTD                                                 00666000
SIOTNPRV EQU   SIOTALTD                                                 00667000
SIOJCATS EQU   SIOTALTD                                                 00668000
@NM00021 EQU   SIOTALTD                                                 00669000
@NM00020 EQU   SIOTALTD                                                 00670000
@NM00019 EQU   INDMSIOT+91                                              00671000
SIOTNDSB EQU   INDMSIOT+88                                              00672000
@NM00018 EQU   INDMSIOT+84                                              00673000
SIOTDPCD EQU   INDMSIOT+82                                              00674000
@NM00017 EQU   INDMSIOT+81                                              00675000
SCTOUTPN EQU   INDMSIOT+80                                              00676000
SCTOUTNO EQU   INDMSIOT+76                                              00677000
SCTOUTNM EQU   INDMSIOT+68                                              00678000
SIOUCBAD EQU   SCTUTYPE+5                                               00679000
SIOUCNVT EQU   SCTUTYPE+4                                               00680000
SIOUBYT4 EQU   SIOTDEVT+3                                               00681000
@NM00016 EQU   SIOUBYT3                                                 00682000
SIO3UREC EQU   SIOUBYT3                                                 00683000
SIO3DISP EQU   SIOUBYT3                                                 00684000
SIO3DACC EQU   SIOUBYT3                                                 00685000
SIO3COMM EQU   SIOUBYT3                                                 00686000
SIO3TAPE EQU   SIOUBYT3                                                 00687000
SIOUBYT2 EQU   SIOTDEVT+1                                               00688000
SIOUBYT1 EQU   SIOTDEVT                                                 00689000
SIOTOMN  EQU   SCTSBYT4                                                 00690000
SIOTIPDI EQU   SCTSBYT4                                                 00691000
SIOTVAFF EQU   SCTSBYT4                                                 00692000
SIOTSTEP EQU   SCTSBYT4                                                 00693000
SIOTASCI EQU   SCTSBYT4                                                 00694000
@NM00015 EQU   SCTSBYT4                                                 00695000
SIOTGDGA EQU   SCTSBYT4                                                 00696000
SCTSGDGS EQU   SCTSBYT4                                                 00697000
SCTSOLD  EQU   SCTSBYT3                                                 00698000
SCTSMOD  EQU   SCTSBYT3                                                 00699000
SCTSNEW  EQU   SCTSBYT3                                                 00700000
SCTSYSOU EQU   SCTSBYT3                                                 00701000
SCTVREF  EQU   SCTSBYT3                                                 00702000
@NM00014 EQU   SCTSBYT3                                                 00703000
SCTSYSNE EQU   SCTSBYT3                                                 00704000
SCTDSNRF EQU   SCTSBYT3                                                 00705000
SCTRECVD EQU   SCTSBYT2                                                 00706000
SCTDEFER EQU   SCTSBYT2                                                 00707000
SCTLABEL EQU   SCTSBYT2                                                 00708000
SCTUNLBD EQU   SCTSBYT2                                                 00709000
SCTJOBLB EQU   SCTSBYT2                                                 00710000
SCTVOLAF EQU   SCTSBYT2                                                 00711000
SIOTCATL EQU   SCTSBYT2                                                 00712000
SIOCLUNL EQU   SCTSBYT2                                                 00713000
SIOTJSCT EQU   SCTSBYT1                                                 00714000
SCTUNAFF EQU   SCTSBYT1                                                 00715000
SCTPARLM EQU   SCTSBYT1                                                 00716000
SIOTQDSN EQU   SCTSBYT1                                                 00717000
SIOTGDSN EQU   SCTSBYT1                                                 00718000
SIOTCCAT EQU   SCTSBYT1                                                 00719000
SCTSYSIN EQU   SCTSBYT1                                                 00720000
SCTDUMMY EQU   SCTSBYT1                                                 00721000
SIOTUNCT EQU   SCTSDISP                                                 00722000
SIOTCTLG EQU   SCTSDISP                                                 00723000
SIOTDLET EQU   SCTSDISP                                                 00724000
SIOTKEEP EQU   SCTSDISP                                                 00725000
SIOTPASS EQU   SCTSDISP                                                 00726000
SIOTPRIV EQU   SCTSDISP                                                 00727000
S3400DSP EQU   SCTSDISP                                                 00728000
@NM00013 EQU   SCTSDISP                                                 00729000
SIOTVLCT EQU   INDMSIOT+54                                              00730000
SCTNMBUT EQU   INDMSIOT+53                                              00731000
SIOTRTRY EQU   SIOTBYT0                                                 00732000
SIOTPUPV EQU   SIOTBYT0                                                 00733000
SIOTNOPV EQU   SIOTBYT0                                                 00734000
SIOTGIGN EQU   SIOTBYT0                                                 00735000
SPVTAMSG EQU   SIOTBYT0                                                 00736000
SIOTFUDA EQU   SIOTBYT0                                                 00737000
SIOTDYAL EQU   SIOTBYT0                                                 00738000
SIOTSSDS EQU   SIOTBYT0                                                 00739000
SIOTGIID EQU   INDMSIOT+50                                              00740000
SCTVOLCT EQU   INDMSIOT+49                                              00741000
SCTSPOOL EQU   INDMSIOT+48                                              00742000
SIOTQNAM EQU   SIOTTSTC                                                 00743000
@NM00012 EQU   SIOTTSTC                                                 00744000
SIOTTERM EQU   SIOTTSTC                                                 00745000
@NM00011 EQU   SIOTTSTC                                                 00746000
@NM00010 EQU   SIOTBYT3                                                 00747000
SIOTJES3 EQU   SIOTBYT3                                                 00748000
SIOCDEVT EQU   SIOTBYT3                                                 00749000
SIOALIAS EQU   SIOTBYT3                                                 00750000
SCTDDINO EQU   INDMSIOT+44                                              00751000
SIOTDDNT EQU   SIOTBYT1                                                 00752000
SIOTALCD EQU   SIOTBYT1                                                 00753000
SIODADSM EQU   SIOTBYT1                                                 00754000
SIOTDADR EQU   SIOTBYT1                                                 00755000
SIODUNAL EQU   SIOTBYT1                                                 00756000
SIOVAMDS EQU   SIOTBYT1                                                 00757000
SIOTHOLD EQU   SIOTBYT1                                                 00758000
SIOTOCKP EQU   SIOTBYT1                                                 00759000
SIOPSCNT EQU   INDMSIOT+42                                              00760000
SIOTREFN EQU   INDMSIOT+40                                              00761000
SIOTVRSB EQU   INDMSIOT+36                                              00762000
@NM00009 EQU   INDMSIOT+35                                              00763000
SCTPJFCB EQU   INDMSIOT+32                                              00764000
@NM00008 EQU   INDMSIOT+31                                              00765000
SCTPSIOT EQU   INDMSIOT+28                                              00766000
SIOTAFID EQU   INDMSIOT+26                                              00767000
@NM00007 EQU   INDMSIOT+24                                              00768000
SIODSNTE EQU   INDMSIOT+22                                              00769000
SIOTUNAF EQU   SCTUSADD                                                 00770000
SIOTDEST EQU   INDMSIOT+12                                              00771000
SCTDDNAM EQU   INDMSIOT+4                                               00772000
SIOTTYPE EQU   INDMSIOT+3                                               00773000
SIOTDSKA EQU   INDMSIOT                                                 00774000
ALCPROCN EQU   NAMES+16                                                 00775000
ALCSTEPN EQU   NAMES+8                                                  00776000
ALCJOBN  EQU   NAMES                                                    00777000
CANCELP  EQU   ALCWA+140                                                00778000
WORK3MP  EQU   ALCWA+136                                                00779000
WMASK2P  EQU   ALCWA+132                                                00780000
WMASKPTR EQU   ALCWA+128                                                00781000
LGENLOCK EQU   ALCWA+124                                                00782000
TCBP     EQU   ALCWA+116                                                00783000
ALCWASID EQU   ALCWA+114                                                00784000
@NM00006 EQU   @NM00005                                                 00785000
NODEVERR EQU   @NM00005                                                 00786000
NEEDRCVY EQU   @NM00005                                                 00787000
ALCWAREC EQU   @NM00005                                                 00788000
WAITIGEN EQU   @NM00005                                                 00789000
UNITRECS EQU   @NM00005                                                 00790000
ALCWADUL EQU   INDICATE                                                 00791000
ALCWISAM EQU   INDICATE                                                 00792000
DSSUNIT  EQU   INDICATE                                                 00793000
DSSTAPE  EQU   INDICATE                                                 00794000
PRIVASUM EQU   INDICATE                                                 00795000
INDREQU  EQU   INDICATE                                                 00796000
INDRETRY EQU   INDICATE                                                 00797000
INDWAIT  EQU   INDICATE                                                 00798000
QMGRRBP  EQU   ALCWA+108                                                00799000
RIMTABCT EQU   ALCWA+104                                                00800000
RIMTABLN EQU   ALCWA+100                                                00801000
RIMTABP  EQU   ALCWA+96                                                 00802000
ALGTABSZ EQU   ALCWA+92                                                 00803000
ALGTABP  EQU   ALCWA+88                                                 00804000
@NM00004 EQU   ALCWA+78                                                 00805000
TOTVOLUN EQU   CNTABLE+44                                               00806000
NUMREQS  EQU   CNTABLE+40                                               00807000
TOTREQS  EQU   CNTABLE+36                                               00808000
OTHEREQS EQU   CNTABLE+32                                               00809000
SUBSREQS EQU   CNTABLE+28                                               00810000
STRGREQS EQU   CNTABLE+24                                               00811000
PUBLREQS EQU   CNTABLE+20                                               00812000
PVTNREQS EQU   CNTABLE+16                                               00813000
SPECREQS EQU   CNTABLE+12                                               00814000
TPREQS   EQU   CNTABLE+8                                                00815000
VAMREQS  EQU   CNTABLE+4                                                00816000
DMYREQS  EQU   CNTABLE                                                  00817000
EDTABPTR EQU   ALCWA+24                                                 00818000
IOSLUTP  EQU   ALCWA+16                                                 00819000
SIOT1P   EQU   ALCWA+8                                                  00820000
FMAPPTR  EQU   ALCWA+4                                                  00821000
WASIZE   EQU   ALCWA                                                    00822000
VUGRID   EQU   VOLUNTAB+24                                              00823000
VUUCBP   EQU   VOLUNTAB+20                                              00824000
VOLALGTP EQU   VOLUNTAB+12                                              00825000
VURCVYPR EQU   VOLSTATD                                                 00826000
VUVLUNIQ EQU   VOLSTATD                                                 00827000
VUDMUNIQ EQU   VOLSTATD                                                 00828000
VUUNALSW EQU   VOLSTATD                                                 00829000
VUDMNDAL EQU   VOLSTATD                                                 00830000
VUDMNDOF EQU   VOLSTATD                                                 00831000
VUREALOC EQU   VOLSTATD                                                 00832000
VUMUGDON EQU   VOLSTATD                                                 00833000
@NM00003 EQU   VOLSTATC                                                 00834000
@NM00002 EQU   VOLSTATC                                                 00835000
@NM00001 EQU   VOLSTATC                                                 00836000
VOLURREQ EQU   VOLSTATC                                                 00837000
VOLGRREQ EQU   VOLSTATC                                                 00838000
VOLDAREQ EQU   VOLSTATC                                                 00839000
VOLCOREQ EQU   VOLSTATC                                                 00840000
VOLTAREQ EQU   VOLSTATC                                                 00841000
VUAFFWRK EQU   VOLSTATB                                                 00842000
VUVINELG EQU   VOLSTATB                                                 00843000
VUDADSME EQU   VOLSTATB                                                 00844000
VUDNALOC EQU   VOLSTATB                                                 00845000
VUPROCED EQU   VOLSTATB                                                 00846000
VOLALOC  EQU   VOLSTATB                                                 00847000
VUDADSM  EQU   VOLSTATA                                                 00848000
VOLRESVE EQU   VOLSTATA                                                 00849000
VOLSTG   EQU   VOLSTATA                                                 00850000
VOLSPEC  EQU   VOLSTATA                                                 00851000
VOLPRV   EQU   VOLSTATA                                                 00852000
VOLPUB   EQU   VOLSTATA                                                 00853000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      00854000
@RC00034 EQU   @RC00032                                                 00855000
@RC00052 EQU   @RC00022                                                 00856000
@RC00054 EQU   @RC00052                                                 00857000
@RC00060 EQU   @RC00052                                                 00858000
@ENDDATA EQU   *                                                        00859000
         END   IEFAB442,(C'PLS0422',0603,74212)                         00860000
