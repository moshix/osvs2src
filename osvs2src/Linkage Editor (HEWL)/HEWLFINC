         TITLE    'HEWLFINC INCLUDE AND AUTOMATIC LIBRARY CALL PROC.'   00010021
*                                                                       00020021
*STATUS: CHANGE LEVEL 000                                               00030021
*                                                                       00040021
* C519100                                                       ZA01413 00042037
* C379500                                                      @ZA07584 00044037
* C568700  (2657=LRECL DEL)(12241=NCP=01) 7/30/76     @ZA02657,@ZA12241 00045037
         EJECT                                                          00047037
*FUNCTION/OPERATION:                                                    00050021
*  1-THE INCLUDE PROCESSOR INCLUDES INTO THE CURRENT INPUT A DATA SET   00060021
*    THAT HAS BEEN REQUESTED BY AN INCLUDE STATEMENT.   TO DO THIS,IT   00070021
*    TAKES THE FIRST ITEM OF THE INCLUDE CHAIN AND MAKES IT READY TO BE 00080021
*    READ BY THE INPUT PROCESSOR. THIS ITEM CAN INDICATE A SEQUENTIAL   00090021
*    DATA SET OR A PARTITIONED DATA SET .                               00100021
*       1-A-  IF IT INDICATES A SEQUENTIAL DATA SET, THE ITEM CONTAINS  00110021
*             THE DDNAME, ON WHICH 'OPEN' IS PERFORMED.                 00120021
*             THE DATA SET IS THEN READY TO BE READ BY THE INPUT PRO-   00130021
*             -CESSOR                                                   00140021
*       1-B-  IF IT INDICATES A PARTITIONED DATA SET , THE ITEM CON-    00150021
*             -TAINS THE MEMBER NAME AND A POINTER TO THE DDNAME.       00160021
*             'OPEN' IS PERFORMED ON THE DDNAME. 'BLDL' IS PERFORMED    00170021
*             ON THE MEMBERNAME. 'FIND' POSITIONS TO BEGINNING OF MEM-  00180021
*             -BER                                                      00190021
*    THE INCLUDE PROCESSOR KNOWS AFTER 'OPEN' WHAT DATA SET IS COMING,  00200021
*    BY LOOKING AT THE FIELD 'RECFM' (RECORD FORMAT). THIS DCB FIELD    00210021
*    IS ZEROED BEFORE EACH OPEN ,AND RECEIVES WHAT HAS BEEN SPECIFIED   00220021
*    IN THE DCB FIELD OF THE DDCARD (OR WHAT WAS IN THE DSCB, IF APPLI- 00230021
*    -CABLE)                                                            00240021
*  2-THE AUTOMATIC LIBRARY CALL PROCESSOR (HEWLCAUT), TRY TO RESOLVE    00250021
*    THE EXTERNAL REFERENCES IN THE CESD ,WHICH ARE STILL UNRESOLVED AT 00260021
*    THE END OF THE PRIMARY INPUT STREAM.   IT CALLS FROM PARTITIONED   00270021
*    DATA SETS,MEMBERS WHOSE NAMES ARE THE EXTERNAL REFERENCES IN THE   00280021
*    CESD.                                                              00290021
*          IT BEGINS BY THE EXTERNAL REFERENCES WHOSE CALLS HAVE BEEN   00300021
*    GUIDED (BY MEANS OF A LIBRARY CARD)TOWARDS A SPECIFIED DATA SET.   00310021
*    THESE CALLS ARE MADE DATA SET BY DATA SET, ALL THE CALLS INSIDE    00320021
*    A SINGLE DATA SET BEING MADE CONSECUTIVELY.                        00330021
*          IT CONTINUES WITH THE EXTERNAL REFERENCES NOT GUIDED BY      00340021
*    LIBRARY CARDS ; IT SEARCHES FOR THESE NAMES ON THE STANDARD LIBRA- 00350021
*    -RY WHOSE NAME IS IN THE ALL PURPOSE TABLE . THE STANDARD LIBRARY  00360021
*    DSNAME IS 'SYSLIB' WHEN THE LINKAGE EDITOR GETS CONTROL FROM THE   00370021
*    TASK SCHEDULER ; IT IS THE FOURTH ITEM IN THE PARAMETER LIST WHEN  00380021
*    THE LINKAGE EDITOR IS 'LINKED TO'                                  00390021
*                                                                       00400021
*ENTRY POINTS:                                                          00410021
*    HEWLFINC   FOR THE INCLUDE PROCESSOR                             * 00420021
*    HEWLCAUT   FOR THE AUTOMATIC LIBRARY CALL PROCESSOR                00430021
*                                                                       00440021
*               CALLING SEQ.       L     15,=V(HEWLFINC)              * 00450021
*                                  BALR  14,15                          00460021
*           L     15,=V(HEWLCAUT)                                       00470021
*           BALR  14,15                                                 00480021
*    NO DATA IS PASSED DIRECTLY UPON CALLING,BUT IS FOUND IN OR BY      00490021
*    MEANS OF THE ALL PURPOSE TABLE WHOSE ADDRESS IS CONSTANTLY IN      00500021
*    REGISTER 2                                                         00510021
*                                                                       00520021
*INPUT:   1-ALL PURPOSE TABLE                                           00530021
*         2-ITEMS IN THE CESD:                                          00540021
*********************************************************************** 00550021
*BYTES 0-7*BYT 8*BYT 9*BYT 10-11*BYT 13*BYT 14-15*  DESIGNATION       * 00560021
* SYMBOL  *TYPE *     *         *SUBTYP*         *                    * 00570021
*********************************************************************** 00580021
*MEMBER-  *X'02'* CHAIN ADDRESS *X'D0' * POINTER *CONTROL INCLUDE     * 00590021
*NAME     *     *               *      * TO DDNAM*WITH PTER           * 00600021
*********************************************************************** 00610021
*DDNAME   *X'02'* CHAIN ADDRESS *X'C0' *         *CONTROL INCLUDE     * 00620021
*         *     *               *      *         *WITHOUT PTER        * 00630021
*********************************************************************** 00640021
*DDNAME   *X'02'*               *X'B0' * PTER,IF * DDNAME ITEM        * 00650021
*         *     *               *      * FOR LIB.*                    * 00660021
*********************************************************************** 00670021
*MBER NAME*X'02'*     *REVRS CH-*X'02' *DIRECT CH* UNMATCHED LIBRARY  * 00680021
*         *     *     *AIN PTER *      *AIN PTER * MEMBER             * 00690021
*********************************************************************** 00700021
*MBER NAME*X'02'*     *REVERSE  *X'03' *DCT CHAIN* MATCHED LIBRARY    * 00710021
*         *     *     *CH. PTER *      *PTER     * MEMBER             * 00720021
*********************************************************************** 00730021
*SYMBOL   *X'02'*               *X'04' *         * NO CALL,UNMATCHED  * 00740021
*********************************************************************** 00750021
*SYMBOL   *X'02'*               *X'05' *         * NO CALL,MATCHED    * 00760021
*********************************************************************** 00770021
*SYMBOL   *X'02'*               *X'06' *         * NEVER CALL         * 00780021
*********************************************************************** 00790021
*                                                                       00800021
*         3-THE INFORMATION SLOT BY OPEN IN OUR LIBRARY DCB (HEWLKLDB)  00810021
*         4-THE DIRECTORY ENTRIES OF THE MEMBERS ON WHICH WE BLDL       00820021
*                                                                       00830021
*OUTPUT:                                                                00840021
*   FLAGS IN THE ALL PURPOSE TABLE                                      00850021
*                                                                       00860021
*EXTERNALS ROUTINES                                                     00870021
*   HEWLFLOG   ERROR ROUTINE                                          * 00880021
*   HEWLFADA   ADDRESS ASSIGNMENT                                     * 00890021
*   HEWLFINP   INPUT PROCESSOR                                        * 00900021
*   HEWLFEND   END PROCESSOR                                            00910021
*                                                                       00920021
*EXITS-NORMAL:                                                          00930021
*           1- RETURN TO THE CALLER EXCEPT IN CASE 2-                   00940021
*           2- WHEN HEWLCAUT (AUTOMATIC LIBRARY CALL)IS CALLED AND NO   00950021
*              EXTERNAL REFERENCE CORRESPONDING TO AN AVAILABLE MEMBER  00960021
*              CAN BE FOUND, CONTROL IS PASSED TO HEWLKADA (ADDRESS)    00970021
*              ASSIGNMENT)                                              00980021
*     -ERROR:                                                           00990021
*********************************************************************** 01000021
*ERR CODE* OTHER PARAMS *    CONDITION CAUSING ERROR                  * 01010021
*IN REG0 *              *                                             * 01020021
*********************************************************************** 01030021
*X'222B' *LIB. DDNNAME  * OPEN UNSUCCESSFUL ON SPECIFIED LIBRARY      * 01040021
*        *ADDR. IN R1   *                                             * 01050021
*********************************************************************** 01060021
*X'3222' *MBR.NAM IN R13* MEMBER NOT FOUND ON LIBRARY                 * 01070021
*        *LIB.NAM IN R1 *                                             * 01080021
*********************************************************************** 01090021
*X'2235' *LIB.NAM IN R1 * OBJECT MODULE BUFFER'S SIZE EXCEEDED        * 01100021
*********************************************************************** 01110021
*X'2233' *LIB.NAM IN R1 * INCL.CRD.INDICATES OBJECT MODULE BUT RECFM=U* 01120021
*********************************************************************** 01130021
*X'2234' *LIB.NAM IN R1 * DATA SET CONTAINS UNACCEPTABLE RECFM (I.E.  * 01140021
*        *              * OTHER THAN F OR U                           * 01150021
*********************************************************************** 01160021
*X'321B' *LIB.NAM IN R1 * LOAD MODULE CANNOT BE PROCESSED BY MODEL E  * 01170021
*        *MBRNAME IN R13* LINK.EDITOR ('DOWNARD UNCOMPATIBILITY')     * 01180021
*********************************************************************** 01190021
*                                                                       01200021
*TABLES/WORK AREAS:                                                     01210021
*                  CESD,APT, PREVIOUSLY MENTIONED                       01220021
*ATTRIBUTES                                                             01230021
*           HEWLCINC IS IN A SEGMENT OF AN OVERLAY STRUCTURE            01240021
*           AS DESCRIBED HERE (TABLES CONSIDERED AS INPUT) IT IS        01250021
*           REUSABLE                                                    01260021
*                                                                       01270021
*NOTES    HEWLFINC CONTAINS THE MACROS CVT,DCBD,DCB,OPEN,               01280021
*            BLDL,FIND,CLOSE                                            01290021
********************                                                    01300021
HEWLFINC CSECT                                                          01310021
******** ERROR MSG **************************************************** 01410037
MSG      EQU   0                                                        01470037
IEW0432X EQU   X'222B'    ERR OPEN FAILED ON SPECIFIED LIBRARY          01530037
IEW0342X EQU   X'3222'    ERR.  MEMBER NOT FOUND ON SPECIFIED LIBRARY   01590037
IEW0532X EQU   X'2235'    ERR  SYSLIN BUFF SIZE EXCEEDED                01650037
IEW0512X EQU   X'2233'  L.E. CRD SYNTAX CONFLICTS WITH RECFM OF LIB     01710037
IEW0522X EQU   X'2234'  SPECIFIED DATA SET CONTAINS NON ACCEPTABLE RCFM 01770037
IEW0272X EQU   X'321B'     ERROR:'MODULE FROM SPECIFIED LIBRARY CANNOT  01830037
*                          BE PROCESSED BY LEVEL E LINKAGE EDITOR'      01890037
*                          MEMBER NAME AND DDNAME PRINTED               01950037
*********************************************************************** 02010037
FF       EQU   X'FF'       IMMEDIATE BYTE OF ALL ONES           YM4650  02070037
BLDSIZ   EQU   26      SIZE OF ENTRY IN BLDL LIST                       02130037
APT      EQU   2                                                        02190037
         EJECT                                                          02250037
         EXTRN  HEWLCEOD                                                02410021
         EXTRN HEWLCRO1                                                 02510021
         USING APTDSECT,APT                                             02610021
         USING BLDLMBRN,6                                               02710021
         USING  IHADCB,07                                               02810021
         ST    12,8(15)               SAVE BASE OF CALLER               02910021
         BC    15,12(15)                                                03010021
         DC    XL4'00000000'                                            03110021
         BALR  12,0                                                     03210021
         USING *,12                                                     03310021
         B     INCLU050                BRANCH AROUND MODULE IDENT       03410037
*********************************************************************** 03470037
         DC    C' HEWLFINC '                                            03490037
         DC    C'07/30/76 '                                             03510037
         DC    C'OZ12241 ',0H'0'                                        03530037
         EJECT                                                          03550037
INCLU050 STM   13,11,SAVAREA          SAVE OTHER REGISTERS OF CALLER    03610021
         L     07,SYSLIBAD   ADDR OF LIB DCB                            03710021
         NI    IND3,X'DF'   RESET 'AUTO LIB ' TO OFF                    03810021
**********                                                              03910021
*  CHOOSE IN THE INCLUDE CHAIN THE FIRST ITEM TO BE INCLUDED            04010037
*                                                                       04310021
INCLU100 L     09,CRRTINCL            INITIATE THE INCLUDE CHAIN BREA-  04410021
         TM    APT2,X'08'              HAS INCLUDE BEEN INITIATED       04510021
        BC    8,INCLU115              NO                                04610021
         TM    IND3,X'10'              IS SINGLE BLDL MODE IN OPERATION 04710021
         BC    1,INCLU115              YES                              04810021
INCLU110 TM    IND3,X'08'              WAS BLDL DONE ON LIST            04910021
        BC    1,GETNEXT1                                                05010021
INCLU115 OI    APT2,X'08'              SET INCLUDE PREVIOUSLY INITIATED 05110021
         CLI   13(9),X'D0'             IS THIS LINE INCL WITH POINTER   05210021
         BC    8,INCLU160              YES                              05310021
         OI    IND3,X'80'              SET PHSICAL SEQUENTIAL ON        05410021
         LR    8,9                                                      05510021
         BAL   14,LIBOP                TO OPEN LIBRARY                  05610021
         BAL   14,NULLINE              TO NULL LINE                     05710021
         ST    9,CRRTINCL              UPDATE CRRTINCL                  05810021
         ST    9,INCBRKPT              AND BREAK POINT                  05910021
         BC    15,INCLU155             TOWARDS INPUT                    06010021
INCLU160 NI    IND3,X'7F'              TURN OFF PHYSICAL SEQUENTIAL IND 06110021
         TM    IND3,X'10'              CHECK FOR SINGLE BLDL MODE       06210021
         BC    8,INCLU168              NO                               06310021
         LA    6,SINGBLDL              ADDRESS OF SINGLE BLDL LIST      06410021
         BC    15,INCLU250                                              06510021
INCLU168 MVC   PTRSAV(2),14(9)         SAVE DDNAME POINTER              06610021
INCLU170 CLI   NUMENT+1,X'00'          FIRST ENTRY IN LIST              06710021
         BC    7,INCLU172              NO                               06810021
         L     6,TABLSTRT              YES--GET START OF TABLE          06910021
         SH    6,ENTSIZ                MAKE IT ONE ENTRY PRIOR          07010021
         BC    15,INCLU180                                              07110021
INCLU172 LH    6,NUMENT                NUMBER OF ENTRIES                07210021
        MH    6,ENTSIZ                TIMES ENTRY SIZE                  07310021
         A     6,TABLSTRT              ADD START OF TABLE               07410021
INCLU171 SH    6,ENTSIZ                GO TO PREVIOUS ENTRY             07510021
         CLC   0(8,6),0(9)             COMPARE NEW ENTRY TO PREVIOUS    07610021
         BC    8,INCLU182              IF EQUAL IGNORE IT               07710021
         BC    4,INCLU180              IS HIGH PUT IT  IN TABLE         07810021
         MVC   BLDSIZ(10,6),0(6)       IF LOW MOVE PREVIOUS ENTRY DOWN  07910021
         C     6,TABLSTRT              CHECK IF END OF TABLE            08010021
         BC    7,INCLU171              NO                               08110021
         SH    6,ENTSIZ                TO MOVE INTO FIRST ENTRY         08210021
INCLU180 MVC   BLDSIZ(8,6),0(9)        MOVE NAME TO LIST                08310021
         LH    5,NUMENT                CURRENT ENTRY NUMBER             08410021
         LA    5,1(0,5)                UPDATE BY ONE                    08510021
         STH   5,NUMENT                SAVE NEW NUMBER                  08610021
         STH   5,BLDSIZ+8(0,6)         IS ALSO SEQUENCE NUMBER          08710021
         TM    IND3,X'20'              IS ENTRY FROM AUTOCALL           08810021
         BC    8,INCLU182              NO--LEAVE SEQUENCE NUMBER IN     08910021
         S     9,CHESD                 YES--SAVE ID INSTEAD             09010021
         SRL   9,4                                                      09110021
         STH   9,BLDSIZ+8(0,6)                                          09210021
INCLU182 TM    IND3,X'20'              IS ENTRY FROM AUTOCALL           09310021
         BC    1,TESTMAX               YES--BYPASS NULL,CHAIN CHECK     09410021
         BAL   14,NULLINE              GO NULL THE LINE                 09510021
         LTR   9,9                     IS THIS END OF CHAIN             09610021
         BC    8,INCLU185              YES                              09710021
TESTMAX  CH    5,MAXENTRY              IS TABLE FULL                    09810021
         BC    8,INCLU185              YES                              09910021
         TM    IND3,X'20'              IS ENTRY FROM AUTOCALL           10010021
         BCR   1,14                    YES--RETURN TO AUTOCALL          10110021
         CLI   13(9),X'D0'             IS NEXT ITEM INCLUE WITH PTR     10210021
         BC    7,INCLU185              NO                               10310021
         LH    5,14(9)                 YES--IS IT SAME POINTER          10410021
         CH    5,PTRSAV                                                 10510021
         BC    8,INCLU172              YES                              10610021
INCLU185 TM    IND3,X'20'              IS AUTO LIB IN OPERATION         10710021
         BC    1,INCLU186              YES                              10810021
         ST    9,CRRTINCL              UPDATE CRRTINCL                  10910021
         ST    9,INCBRKPT              AND BREAK POINT                  11010021
         LH    8,PTRSAV                DDNAME POINTER                   11110021
         SLL   8,4                     TIMES SIXTEEN                    11210021
         A     8,CHESD                 PLUS CESD ADDRESS                11310021
INCLU186 LH    5,NUMENT                MOVE SEQUENCE NUMBERS TO APPEND  11410021
         LA    10,APPEND                                                11510021
        LA    6,BLDLLST                                                 11610021
MOVESEQ  MVC   0(2,10),8(6)                                             11710021
         LA    10,2(0,10)              UPDATE POINTERS                  11810021
         LA    6,BLDSIZ(0,6)                                            11910021
         BCT   5,MOVESEQ               LOOP                             12010021
INCLU175 BAL   14,LIBOP                TO OPEN LIBRARY                  12110021
         TM    IND3,X'40'              ANY OPEN ERROR                   12210021
         BC    8,BUILDLST              NO--DO BLDL                      12310021
         BC    15,GETNEXT5             YES                              12410021
BUILDLST LA    13,REGSA                ADDRESS OF SAVE AREA             12510021
         BLDL  (7),NUMENT              ISSUE BLDL                       12610021
         STC   15,TEMP1                                                 12710021
         CLI   TEMP1,X'08'             CHECK FOR COMPLETION CODE = 8    12810021
         BC    7,BUILDOK               NO--IS OK                        12910021
         LH    5,NUMENT                IS 8 ENSURE ALL ENTRIES IGNORED  13010021
         LA    6,BLDLLST                                                13110021
BUILDBAD MVI   10(6),X'00'                                              13210021
         AH    6,ENTSIZ                                                 13310021
         BCT   5,BUILDBAD                                               13410021
BUILDOK  OI    IND3,X'08'              SET BLDL DONE ON LIST INDICATOR  13510021
         B     GETNEXT1                GO TO READ FIRST MODULE          13610021
GETNEXT  CLC   CURINCNO(1),NUMENT+1    ARE ALL ITEMS IN LIST DONE       13710021
         BC    7,INCLU200              NO                               13810021
GETNEXT5 NI    IND3,X'F7'              YES--TURN OFF BLDL DONE ON LIST  13910021
         MVI   CURINCNO,X'00'          INITIALIZE CURRENT INCLUDE NO    14010021
         MVI   NUMENT+1,X'00'          INITIALIZE NUMBER OF ENTRIES     14110021
         TM    IND3,X'20'              IS AUTO LIB IN OPERATION         14210021
         BC    8,INCLU155              NO--GO CHECK FOR MORE INCLUDES   14310021
         TM    IND3,X'40'              YES--WAS THERE AN ERROR          14410021
         BC    1,AUTOCL1               YES--RETURN TO AUTOCALL          14510021
         BC    15,INCLU201             NO--GO READ MODULE               14610021
GETNEXT1 LA    10,APPEND-2             ADDRESS OF APPENDAGE SEQ NUMBERS 14710021
         SR    6,6                                                      14810021
         IC    6,CURINCNO              UPDATE CURINCNO                  14910021
         LA    6,1(0,6)                                                 15010021
         STC   6,CURINCNO                                               15110021
         TM    IND3,X'20'              IS AUTOLIB IN OPERATION          15210021
         BC    8,GETNEXT9              NO                               15310021
         AR    10,6                    GET ADDRESS OF NEXT ID NUMBER    15410021
         AR    10,6                    REG10 + 2 * REG6                 15510021
         LH    10,0(0,10)              GET ID NUMBER                    15610021
         SLL   10,4                    CONVERT TO CESD ADDRESS          15710021
         A     10,CHESD                                                 15810021
         MVC   TEMP1(1),8(10)          GET TYPE                         15910021
         NI    TEMP1,X'0F'             AND OUT LEFT HALF                16010021
         CLI   TEMP1,X'02'             IS ITEM STILL UNRESOLVED         16110021
         BC    8,GETNEXT8              YES--GO TO READ IT               16210021
         OI    IND3,X'40'              INDICATE MODULE NOT FOUND        16310021
         BC    15,GETNEXT4             NO--GO CHECK FOR MORE IN LIST    16410021
GETNEXT9 SR    6,6                     FIND NEXT ITEM TO BE READ        16510021
GETNEXT2 LA    6,1(0,6)                                                 16610021
         LA    10,2(0,10)                                               16710021
         CLC   CURINCNO(1),1(10)       IS THIS NEXT ITEM TO BE READ     16810021
         BC    7,GETNEXT2              NO--TRY NEXT                     16910021
GETNEXT8 BCTR  6,0                                                      17010021
         MH    6,ENTSIZ                                                 17110021
         A     6,TABLSTRT              ADD START OF TABLE               17210021
         CLI   10(6),X'00'             WAS MODULE FOUND                 17310021
         BC    7,GETNEXT3              YES                              17410021
         LA    14,GETNEXT4             NO--GIVE ERROR MESSAGE           17510021
         ST    14,SAV14L1              PREPARE RETURN ADDRESS           17610021
         LA    8,LIBOPEN               ADDRESS OF DDNAME OPEN           17710021
         BC    15,INCLU615             GO PRINT ERROR MESSAGE           17810021
GETNEXT4 CLC   CURINCNO(1),NUMENT+1    ARE ALL ITEMS IN LIST DONE       17910021
         BC    8,GETNEXT5              YES                              18010021
         BC    15,GETNEXT1             NO--GO CHECK NEXT ONE            18110021
GETNEXT3 TM    IND3,X'20'              IS AUTOCALL ON                   18210021
         BC    8,GETNEXT7              NO                               18310021
         L     8,SAVAD  GET ADDRESS OF DDNAME FOR AUTOCALL OR LIB CALL  18410021
         BC    15,GETNEXT6                                              18510021
GETNEXT7 LH    8,PTRSAV                GET POINTER TO DDNAME            18610021
         SLL   8,4                     POINTER TIMES FOUR               18710021
         A     8,CHESD                 PLUS CESD ADDRESS                18810021
GETNEXT6 BAL   14,LIBOP                CHECK IF LIBRARY STILL OPEN      18910021
         TM    IND3,X'40'              ANY ERROR                        19010021
         BC    1,GETNEXT5              YES--SKIP REST OF LIST           19110021
         LA    14,GETNEXT              PREPARE ADDRESS OF EXIT          19210021
         ST    14,SAV14L1                                               19310021
         BC    15,INCLU602             TO FIND AND PREPARE TO READ      19410021
* AS HEWLCINC IS GIVEN CNTRL, THE CHAIN ADDR. IN THE LINE 'CRRTINCL'    19510021
* IS NECESSERALY NON NULL                                               19610021
NULLINE  MVI   8(9),X'07'              NULLIFY TYPE                     19710021
         MVI   7(09),C','   ALTER THE SYMBOL                            19810021
         MVC   12(4,09),FLCD       STICK NULL LINE TO HOLES CHAIN       19910021
         ST    09,FLCD             UPDATE FLCD                          20010021
         L     9,8(9)   LD CHAIN ADDR (AND TYPE)                        20110021
         LA    9,0(9)   (WIPE TYPE)                                     20210021
         LTR   9,9                     IS POINTER ZERO (END OF CHAIN)   20310021
         BCR   8,14                    YES--RETURN TO CALLER            20410021
         ST    9,CRRTINCL      UPDATE CRRTINCL                          20510021
         TM    IND3,X'20'              IS SINGLE BLDL MODE ON           20610021
         BCR   1,14                    YES--RETURN                      20710021
INCLU120 ST    09,INCBRKPT      INITIATE INCLUDE BREAK POINT            20810021
         BCR   15,14                   RETURN                           20910021
         OI   APT2,X'08'   SET 'INCLUDE PREVIOUSLY INITIATED'           21010021
**                                    ADDR.OF INCLUDE LINE NOW IN  9    21110021
**********                                                              21210021
*                                                                       21310021
*  DETERMINE IF THIS IS THE INCLUDING OF A MEMBER OF A PARTITIONED      21410021
*  DATA SET , OR A PHYSICAL SEQUENTIAL DATA SET                         21510021
*                                                                       21610021
*                                                                       21710021
         CLI   13(09),X'D0'         IS THIS LINE CNTRL.INCL WITH PTER   21810021
         BC    8,INCLU250            YES                                21910021
         OI    IND3,X'80'            SET 'PHYSICAL SEQUENTIAL' ON.      22010021
         LR    8,9             TAKE ADDR.OF THIS LINE AS ADDR.OF -      22110021
*                            - NEWDDNAME SYMBOL                         22210021
**        NEWDDNAME  POINTED TO BY REG. 8                               22310021
**********                                                              22410021
*                                                                       22510021
*  BRANCH TO THE SUBROUTINE LIBOP                                       22610021
*                                                                       22710021
INCLU150 BAL   14,LIBOP                                                 22810021
*                                                                       22910021
*                                                                       23010021
**********                                                              23110021
*                                                                       23210021
*                                                                       23310021
*  SET THE 'INCLUDE' BIT ON IN THE ALL PURPOSE TABLE, IN CASE MORE      23410021
*  INCLUDE WILL HAVE TO BE DONE AFTER THIS ONE .                        23510021
*  THE INPUT PROCESSOR WILL TEST THIS BIT AT THE END OF THE INCLUDED    23610021
*  DATA SET , TO DECIDE IF THE INCLUDE PROCESSOR HAS TO BE GIVEN        23710021
*  CONTROL AGAIN                                                        23810021
*                                                                       23910021
*                                                                       24010021
INCLU155 OC    CRRTINCL(4),CRRTINCL    IS CHAIN ADDRESS 0               24110021
         BC    8,INCLU300      YES                                      24210021
         OI    APT1,X'80'   SET INCLUDE BIT TO 1                        24310021
         TM    IND3,X'40'        WAS MODULE 'NOT FOUND'                 24410021
         BC    1,INCLU100        BR. IF NOT FOUND                       24510021
**********                                                              24610021
*                                                                       24710021
*                                                                       24810021
*  GO TO THE INPUT PROCESSOR                                            24910021
*                                                                       25010021
*                                                                       25110021
INCLU200 TM    IND3,X'08'              WAS BLDL DONE ON LIST            25210021
         BC    8,INCLU201              NO                               25310021
         TM    IND3,X'20'              YES--IS AUTOLIB IN OPERATION     25410021
         BC    1,INCLU201              YES--DON'T SET MORE INCLUDES     25510021
         OI    APT1,X'80'              NO--SET MORE INCLUDES TO COME    25610021
INCLU201 LA    15,INCLU050+8                                            25710021
         SH    15,FOURTEEN                                              25810021
         MVC   SAVAREA+60(4),0(15)                                      25910021
         MVC   SAVAREA+8(4),INPUTPRA                                    26010021
         LM    13,12,SAVAREA                                            26110021
         BCR  15,15                                                     26210021
*                                                                       26310021
*  MAKE DDNAME AND MEMBER NAME AVAILABLE FOR THE LIBOP SUBROUTINE       26410021
*                                                                       26510021
*                                                                       26610021
INCLU250 NI    IND3,X'7F'        RESET  'PHYSICAL SEQUENTIAL' TO 0      26710021
*                             LOOK FOR NEWDDNAME ADDR. :                26810021
         LH    8,14(09)       LOAD  CHAINED ID                          26910021
         SLL   8,4            MULTIPLY ID BY 16                         27010021
         A     8,CHESD             ADD CESD ADDR. MINUS 16              27110021
*          NEWDDNAME  POINTED TO BY REGISTER 8                          27210021
         MVC   BLDLMBRN(8),0(09)   MOVE MBRNAME INTO THE BLDL AREA      27310021
         BAL   14,NULLINE              TO NULL LINE AND UPDATE POINTER  27410021
         C     9,INCBRKPT              HAS BREAK POINT BEEN REACHED     27510021
         BC    7,INCLU150              NO--STAY IN SINGLE BLDL MODE     27610021
         NI    IND3,X'EF'              YES--TURN OFF SINGLE BLDL        27710021
         BC    15,INCLU150                                              27810021
INCLU300 NI    APT1,X'7F'          RESET INCLUDE BIT TO 0               27910021
         NI    APT2,X'F7'              TURN OFF INCLUDE INITIATED BIT   28010021
*                  (WHEN THIS MODULE WILL BE FINISHED, THE INPUT        28110021
*                   PROCESSOR MUST NOT BRANCH TO THE INCLUDE PROC.)     28210021
* (INPUT PROC. WILL HAVE THEN TO SWITCH LIBADRC  TO SYSLIN )            28310021
*  NULLIFICATION OF DDNAME LINE LAST USED                               28410021
*                                                                       28510021
* ONE CANNOT DESTRUCT THE LAST USED DDLINE HERE BECAUSE THIS DDLINE     28610021
* MIGHT BE THE BASE OF A LIBRAARY CHAIN                                 28710021
         TM    IND3,X'40'   WAS THERE A LIBOP FAILURE                   28810021
         BC   8,INCLU310        NO                                      28910021
         NI    APT1,X'DF'  RESET 'LOAD MODULE BIT ' TO 0                29010021
         LA    6,HEWLCRBN                                               29110021
         ST    6,HEWLCLAC         HEWLCLAC TO SYSLIN                    29210021
INCLU310 BC   15,INCLU200   TOWARDS INPUT PROCESSOR                     29310021
*****                                                                   29410021
*                                                                       29510021
*                                                                       29610021
*                                                                       29710021
* SUBROUTINE LIBOP  ,IS COMMON TO INCLUDE PROCESSOR AND ...             29810021
*  ..AUTOMATIC LIBRARY CALL PROCESSOR                                   29910021
*                                                                       30010021
*                                                                       30110021
*                                                                       30210021
* WHEN THE SUBROUTINE LIBOP GETS CONTROL, IT SUPPOSES THAT THE          30310021
* DDNAME IS POINTED TO BY REG. 8 . IF THE DATA SET IS A MEMBER TO FIND  30410021
* IN A LIBRARY , LIBOP ALSO SUPPOSES THE MEMBER NAME IS IN THE          30510021
* BLDL AREA (AT BLDLMBRN).                                              30610021
*   REGISTER  7  CONTAINS THE ADDRESS OF THE LIBRARY DCB                30710021
* LIBOP CHECKS IF THE DATA SET WOULD NOT BE ALREADY OPENED.             30810021
* LIBOP WORKS ON THE 'SYSLIB' DCB WHICH IS IN THE ALL PURPOSE           30910021
* TABLE(APT).THIS DCB CAN BE EITHER PARTIONED OR SEQUENTIAL             31010021
* LIBOP TESTS THE INDICATORS IND3 (OF THIS MODULE) AND APT3(OF THE APT) 31110021
*                                                                       31210021
*                                                                       31310021
LIBOP    ST    14,SAV14L1                                               31410021
*                             SET LIBADRC ON SYSLIB READ CONTROL BLOCK  31510021
         NI   IND3,X'BF'    RESET 'LIBOP FAILURE' TO 0                  31610021
         LA    14,HEWLCRBB             SET HEWLCLAC                     31710021
         ST    14,HEWLCLAC             TO SYSLIB READ BLOCK             31810021
         TM    APT3,X'01'          IS  SYSLIB OPENED ?                  31910021
         BC    8,INCLU350          NO                                   32010021
         TM    HEWLCRBB+24,X'80'   IS THERE AN UNCHECKED READ           32110021
         BC    1,LIBOPA                NO                               32210021
         OI    HEWLCRBB+24,X'88'   YES-INDICATE IGNORE EOF OR ERR       32310021
         L     1,HEWLCRBB          ADDRESS OF SYSLIB DECB               32410021
         LA    13,REGSA                ADDRESS OF SAVE AREA             32510021
         CHECK (1)                                                      32610021
         NI    HEWLCRBB+24,X'F7'   TURN OFF IGNORE BIT                  32710021
LIBOPA   TM    IND3,X'80'              IS PHYSICAL SEQUENTIAL ON        32810021
         BC    1,INCLU320   GO TO CLOSE                                 32910021
         CLC   0(8,8),LIBOPEN        COMPARE NEW DDNAME TO DDNAME OPEN  33010021
         BC   8,INCLU455   BR. IF EQUAL                                 33110021
INCLU320 LA    13,REGSA                ADDRESS OF SAVE AR%A             33210021
         CLOSE ((07))                                                   33310021
         NI   APT3,X'FE'   TURN 'SYSLIB OPENED' TO OFF                  33410021
INCLU350 MVC   0(SPLDCBLG,07),SPLEDCBP   LAY FRESH COPY OF AN           33510021
*                                            UNOPENED PO DCB (THIS      33610021
*                                  ZEROES WHAT NEED TO BE 0 BEFORE OPEN 33710021
         TM    IND3,X'80'           IS 'PHYSICAL SEQUENTIAL' ON         33810021
         BC    8,INCLU450           NO                                  33910021
INCLU400 MVI   DCBDSORG,X'40'       MAKE THE DCB TO BE A PHYS.SEQ. ONE  34010021
         MVC   DCBSYNAD+1(3),SYNADAD+1  MOVE IN SYNAD FOR BSAM          34110021
         NI    DCBMACR,FF-DCBMRPT1      TURN OFF POINT BIT IN   YM4650  34160002
*                                       MACRF FIELD             YM4650  34170002
INCLU450 MVC   DCBDDNAM(8),0(8)     SLOT NEWDDNAME INTO FIELD OF DCB    34210021
         MVC   LIBOPEN(8),0(8)         SAVE DDNAME                      34310021
         LA    13,REGSA        ADDR OF REG SAVE AREA FOR SYSTEM MACRO   34410021
         OPEN  ((07))                                                   34510021
         TM   DCBOFLGS,X'10'  IS OPEN FLG 'ON' IN SYSLIB DCB            34610021
         BC   1,INCLU453     YES                                        34710021
         LR    1,8            DDNAME ADDR.                              34810021
         LH    0,IEW0432      ERROR.  OPEN FAILED ON SPECIFIED LIBRARY  34910037
         L     15,ERDIG                                                 35010021
         BALR  14,15                                                    35110021
         NI    APT3,X'FE'   SET 'SYSLIB NOT OPENED'                     35210021
         OI   IND3,X'40'    SET 'LIBOP FAILURE'                         35310021
         BC   15,INCLU610   TO EXIT OF LIBOP                            35410021
INCLU453 OI   APT3,X'01'   SET 'SYSLIB OPENED'                          35510021
INCLU455 MVC  TEMP1(1),DCBRECFM                                         35610021
         NI    TEMP1,X'C0'    SAVE ONLY F OR U INDICATORS               35710021
         CLI   TEMP1,X'C0'    IS IT A  U FORMAT                         35810021
         BC    8,INCLU500      YES                                      35910021
         CLI   TEMP1,X'80'   IS IT A 'F' FORMAT                         36010021
         BC    8,INCLU460    YES                                        36110021
         LH    0,IEW0522  ERROR CODE INTO 0                             36210037
         LR    1,8                                                      36310021
         L     15,ERDIG                                                 36410021
         BALR  14,15                                                    36510021
         OI    IND3,X'40'    SET FAILURE BIT 'ON'                       36610021
         BC    15,INCLU610      EXIT OF LIBOP                           36710021
INCLU460 NI    APT1,X'DF'              RESET LOAD MOD BIT TO ZERO       36810021
         MVI   HEWLCRBB+19,X'01'   INDICATE TO PRIME BUFFERS            36910021
         OI    HEWLCRBB+24,X'80'                                        37010021
         TM    HEWLCRBB+24,X'04'   WAS BLOCK SIZE OK                    37110021
         BC    8,INCLU550              YES                              37210021
         LH    0,IEW0532               NO--GIVE ERROR MESSAGE           37310037
         BC    15,INCLU510                                              37390037
INCLU500 TM    IND3,X'80'  DOES CONTROL CARD ANNOUNCES PHYS.SEQ.        37470037
         BC    8,INCLU520     NO                                        37550037
         LH    0,IEW0512  ERR CODE,SEVERITY,DISPOSITION,INTO 1          37630037
INCLU510 LR    1,8      ADDR OF DDNAME INTO 1                           37710037
         L     15,ERDIG                                                 37790037
         BALR  14,15    BR TO ERR ROUTINE                               37870037
        CLOSE  ((7))    CLOSE D/S AFTER ERROR                  @ZA07584 37950037
         NI    APT3,X'FE'   TURN 'SYSLIB OPENED' TO OFF        @ZA07584 38030037
         OI    IND3,X'40'   SET LIBOP FAILURE                           38110021
         BC    15,INCLU610   TO EXIT OF LIBOP                           38210021
INCLU520 OI    APT1,X'20'  SET BIT 'LOAD MODULE'TO ONE                  38310021
INCLU550 EQU   *                                                        38410021
INCLU600 TM    IND3,X'80'         IS THE DATA SET PHYSICAL SEQUENTIAL   38510021
         BC    1,INCLU610         YES                                   38610021
         TM    IND3,X'10'              IS SINGLE BLDL MODE ON           38710021
         BC    8,INCLU610              NO--RETURN                       38810021
         LA    13,REGSA        ADDR OF REG SAVE AREA FOR SYSTEM MACRO   38910021
        BLDL  (7),BLDLDES1                                              39010021
         XI    *+1,X'FF'        ***DEBUG TOKEN ***                      39110021
         LTR   15,15              TEST RETURN CODE IN 15                39210021
         BC    7,INCLU615         BR.IF MODULE SEARCH NOT SUCCESSFUL    39310021
INCLU602 NI    IND3,X'BF'              RESET MODULE NOT FOUND BIT       39410021
         TM    APT1,X'20'                                               39510021
         BC    8,INCLU605                                               39610021
         TM    BLDLATT2,X'01'      IS INC MODULE REFRESHABLE            39710021
         BC    8,INCNREFR           NO                                  39810021
INCLU601 TM    APT1,X'20'          IS COMING MODULE A LOAD MODULE       39910021
         BC    8,INCLU605   NO                                          40010021
*            LOGIC  FOR  THE OUTPUT DIRECTORY                           40110021
         OI    BLDLATT1,X'3F'                                           40210021
         NC    PDSE7(1),BLDLATT1                                        40310021
         TM    BLDLATT2,X'08'   IS MODULE NOT EDIT ABLE                 40410021
         BC    8,INCLU605                                               40510021
INCLERNE LH    0,IEW0272  ERR CODE IN REG 0                             40610037
         LA    13,BLDLMBRN    ADDR. OF MBER NAME INTO 13                40710021
         BC    15,INCLU510    TO ERROR AND LIBOP FAILURE EXIT           40810021
INCNREFR NI    PDSE8,X'FE'         IF INC MODULE IS NOT REFRESHABLE     40910021
*                         THEN ENTIRE LOAD MODULE WILL NOT BE.        * 41010021
         B     INCLU601                                                 41110021
INCLU605 LA    13,REGSA       ADDR OF REG SAVE AREA FOR SYSTEM MACRO    41210021
         FIND  (7),BLDLTTR1,C                                           41310021
INCLU610 L     14,SAV14L1                                               41410021
         BCR   15,14             RETURN FROM THIS SUBROUTINE LIBOP      41510021
*                                                                       41610021
*****                                                                   41710021
INCLU615 OI    IND3,X'40'     SET 'MODULE NOT FOUND' BIT TO 1           41810021
         TM    IND3,X'20'    IS THIS AUTO LIB                           41910021
         BC    7,INCLU610       YES, TO EXIT OF LIBOP                   42010021
         LH    0,IEW0342                                                42110037
         LR    1,8                 DDNAME   ADDR                        42210021
         LA   13,BLDLMBRN      MEMBER NAME ADDR.                        42310021
         L     15,ERDIG                                                 42410021
         BALR  14,15                                                    42510021
         ST    10,SAVE10               SAVE CONTENTS OF REG 10          42610021
         L     10,RCCB                 ADDR OF CHNG/REPL CHAIN          42710021
         LTR   10,10                   DOES IT CONTAIN ZEROS?           42810021
         BZ    INCLU620                YES - BRANCH                     42910021
         LR    10,12                   SAVE BASE IN REG 10              43010021
         LA    13,REGSA                ADDR OF SAVE AREA                43110021
         L     15,ENDADDR              ADDR OF HEWLFEND                 43210021
         BALR  14,15                   GO TO DELETE CHNG/REPL           43310021
*                                      CHAIN FROM THE CESD              43410021
         LR    12,10                   RESTORE BASE REG                 43510021
INCLU620 L     10,SAVE10               RESTORE REG 10                   43610021
         BC    15,INCLU610    TOWARD RETURN FROM LIBOP                  43710021
         ENTRY HEWLCAUT                                                 43810021
         CNOP  0,4                                                      43910021
HEWLCAUT S    15,16(15)      SET 15 AT ADDRESS VALUE OF HEWLCINC        44010021
         ST    12,8(15)      PASS VALUE OF REG. 12                      44110021
          LA    12,14(15)   PUT IN 12 THE ADDRESS CORRESP. TO THE       44210021
*                      UNIQUE 'USING' STATEMENT OF THIS CSECT           44310021
         BC    15,*+8                                                   44410021
         DC    A(HEWLCAUT-HEWLFINC)                                     44510021
         STM   13,11,SAVAREA                                            44610021
         L     07,SYSLIBAD   ADDR OF LIBRARY DCB                        44710021
         OI    IND3,X'20'    SET 'AUTO LIB '  ON                        44810021
         TM    IND3,X'08'              WAS BLDL DONE ON LIST            44910021
         BC    1,GETNEXT1              YES--GO GET NEXT MODULE          45010021
         NI   IND3,X'7F'     SET PHYSICAL SEQUENTIAL TO 0               45110021
AUTOCL1  L     4,CHESD                                                  45210021
         LH    3,ENCDC             INITIALIZE COUNT FOR CESD SCAN       45310021
         LTR   3,3                                                      45410021
         BC    8,INCLU710              BRANCH IF NOTHING IN CESD        45510021
         TM    APT0,X'01'              WAS A LIBRARY CARD READ          45610021
          BC    8,INCLU670   NO                                         45710021
*                                                                       45810021
*                                                                       45910021
*   ESD SCANNING TO FIND DDNAMES WITH POINTER                           46010021
*                                                                       46110021
*                                                                       46210021
*                                                                       46310021
INCLU630 LA    4,16(4)                                                  46410021
         MVC   TEMP1(1),8(4)    TAKE TYPE FIELD OF THIS LINE            46510021
         NI    TEMP1,X'0F'      CLEAR INFORMATION OTHER THAN TYPE       46610021
         CLI   TEMP1,X'02'      IS TYPE  ER                             46710021
         BC    7,INCLU660       BR.IF NOT                               46810021
         CLI   13(4),X'B0'     IS SUBTYPE DDNAME                        46910021
         BC    7,INCLU660       BR.IF NOT                               47010021
         LH    15,14(4)         LOAD THE 2 BYTE PTER TO LIB.MBER        47110021
         LTR   15,15            IS IT NULL                              47210021
         BC    8,INCLU640       BR IF YES   GO TO NULLIFY THIS DDNAMLIN 47310021
INCLU635 SLL   15,4             MULTIPLY  THE PTER BY 16                47410021
         A     15,CHESD            ADD ADDR. OF CESD MINUS 16           47510021
         MVC   TBPTRSAV(2),14(15)  SAV.PTR.FOUND IN LINE JUST REACHED   47610021
         CLI   13(15),X'03'        IS THIS A MATCHED LIBR.MBR.          47710021
         BC    7,INCLU650      BR. IF NOT                               47810021
         TM    9(15),X'80'   HAS A BLDL ALREADY BEEN DONE ON THIS       47910021
*                                  MEMBER                               48010021
         BC    1,INCLU650          BR. IF YES                           48110021
         OI    9(15),X'80'   SET BIT 'BLDL ALREADY ATTEMPTED'           48210021
         LR    8,4    PTER TO DDNAME IN 8 FOR LIBOP SUBROUTINE          48310021
         ST    8,SAVAD                 SAVE DDNAME ADDRESS              48410021
         LR    9,15                    ADDRESS OF MEMBER NAME INTO 9    48510021
         BAL   14,INCLU170             GO PUT NAME IN LIST              48610021
         B     INCLU650                GO CHECK FOR END OF CESD         48710021
INCLU640 MVI   8(4),X'07'          MAKE TYPE'NULL'                      48810021
         XC    0(8,4),0(4)         MAKE SYMBOL BINARY ZEROS             48910021
         MVC   12(4,4),FLCD        STICK THIS LINE TO HOLES CHAIN       49010021
         ST    4,FLCD              UPDATE HOLES CHAIN BEGIN ADDR        49110021
         BC    15,INCLU660                                              49210021
INCLU650 LH    15,TBPTRSAV         IS THE SAVED TWO BYTES PTER =0       49310021
         LTR   15,15                                                    49410021
         BC    7,INCLU635          BR. IF NOT                           49510021
         CLI   NUMENT+1,X'00'          ANY ITEMS LEFT IN BLDL LIST      49610021
         BC    7,INCLU186              YES--GO PURGE THEM               49710021
INCLU660 BCT   3,INCLU630              LOOP TO TAKE NXT CESD LNE        49810021
* (THIS LINE WAS NOT PROPERLY CHANGED TO FIX A21451 FOR RELEASE 18)     49910021
*                                                                       50010021
*                                                                       50110021
* ESD SCANNING TO FIND PURE ER'S                                        50210021
*                                                                       50310021
*                                                                       50410021
INCLU670 L     4,CHESD             INITIATE SCAN FOR ...                50510021
         LH    3,ENCDC             STANDARD(SYSLIB) LIBRARY CALLS       50610021
         LA    8,LIBNAME           FIX SYSLIB AS NEW DDNAME             50710021
         ST    8,SAVAD                 SAVE DDNAME ADDRESS              50810021
INCLU680 LA    4,16(4)             SCAN CESD                            50910021
         MVC   TEMP1(1),8(4)       TAKE TYPE FIELD FROM THIS LINE       51010021
         NI    TEMP1,X'0F'         CLEAR INFORMATION OTHER THAN TYPE    51110021
         CLI   TEMP1,X'02'         IS TYPE ER                           51210021
         BC    7,INCLU700      BR. IF NOT                               51310021
         CLI   13(4),X'00'         IS SUBTYPE NULL (ONLY ONE TO BE CALL 51410021
*                                  FROM SYSLIB)                         51510021
         BC    7,INCLU690          BR.IF NOT                            51610021
         TM    9(4),X'80'         A BLDL PREVIOUSLY ATTEMPTD FOR MBER ? 51710021
         BC    1,INCLU700           BR.IF YES                           51810021
         MVI   9(4),X'80'           INDIC BLDL ISSUED           ZA01413 51910037
         LR    9,4                     ADDRESS OF MEMBER NAME INTO 9    52010021
         BAL   14,INCLU170             GO PUT NAME IN LIST              52110021
         BC    15,INCLU700             GO CHECK FOR END OD LIST         52210021
INCLU690 CLI   13(4),X'90'          IS SUBTYPE 'CONTROL OVERLAY'        52310021
         BC    7,INCLU700           BR.IF NOT                           52410021
         MVI  8(4),X'07'   NULLIFY THE LINE                             52510021
*TO ZEROE THE SYMBOL WOULD TAKE ME TIME. THE SYMB HAS FEW CHANCE TO BE  52610021
* MATCHED BY ESD PROC. IF IT IS,NULL TYPE WILL LEAD TO NO CONFUSION     52710021
         MVC   12(4,4),FLCD        STICK THIS LINE TO THE HOLE CHAIN    52810021
         ST    4,FLCD              UPDATE FLCD                          52910021
INCLU700 BCT   3,INCLU680          TAKE NXT ELT.OF THE CESD             53010021
         CLI   NUMENT+1,X'00'          ANY ITEMS LEFT IN BLDL LIST      53110021
         BC    7,INCLU186              YES--GO PURGE THEM               53210021
INCLU710 LA    6,HEWLCRBN                                               53310021
         ST    6,HEWLCLAC                                               53410021
* THE SYSLIN READ BLOCK                                                 53510021
         L     15,RATADD               GO TO TXT/RLD FOR PURGE          53610021
         OI    NEWSW,X'01'             INDICATE PURGE TO TXT/RLD        53710021
         BALR  14,15                                                    53810021
         USING *,15                    RETURNS ON 15                    53910021
         L     15,ADRASSEY                                              54010021
         DROP  15                                                       54110021
         BCR   15,15               GO TO  ADDRESS ASSIGNMENT            54210021
         DS    0F                                                       54310021
SAVAREA  DC    16F'0'                                                   54410021
SAV14L1  DC    F'0'                                                     54510021
SAVE10   DC    F'0'                                                     54610021
         EXTRN HEWLFLDB                                                 54710021
        EXTRN HEWLCADA                                                  54810021
         EXTRN APTEXLST                                                 54910021
INPUTPRA DC    V(HEWLFINP)                                              55010021
ENDADDR  DC    V(HEWLFEND)                                              55110021
SYSLIBAD DC    A(HEWLFLDB)                                              55210021
******** ERROR MSG **************************************************** 55310037
IEW0432  DC    AL2(IEW0432X)                                            55380037
IEW0342  DC    AL2(IEW0342X)                                            55450037
IEW0532  DC    AL2(IEW0532X)                                            55520037
IEW0512  DC    AL2(IEW0512X)                                            55590037
IEW0522  DC    AL2(IEW0522X)                                            55660037
IEW0272  DC    AL2(IEW0272X)                                            55730037
*********************************************************************** 55800037
FOURTEEN DC    X'000E'                                                  55910021
TBPTRSAV DC    X'0000'                                                  56010021
TEMP1    DC    X'00'                                                    56110021
IND3     DC    X'00'                   SWITCHES                         56210021
*              X'80'  PHYSICAL SEQUENTIAL                               56310021
*              X'40'  MODULE NOT FOUND                                  56410021
*              X'20'  AUTOLIB IN OPERATION                              56510021
*              X'10'  SINGLE BLDL IN OPERATION                          56610021
*              X'08'  BLDL DONE ON LIST                                 56710021
*              X'04'  BLDL LIST FULL                                    56810021
*  SAMPLE DCB FOR A PARTIONED ORGANIZATION TO BE READ                   56880037
         TITLE 'HEWLFINC INCLUDE DCB'                                   56950037
         DC    C'INCLUDE DCB'                                           57020037
         DC    0F'0'                                                    57090037
SPLEDCBP DCB   DSORG=PO,MACRF=(R),EODAD=HEWLCEOD,SYNAD=HEWLCRO2,       X57160037
               EXLST=APTEXLST,NCP=1                   @ZA02657,@ZA12241 57230037
DCBPNDM1 EQU   *                                                        57300037
SPLDCBLG EQU   DCBPNDM1-SPLEDCBP       LENGTH OF DCB                    57370037
         EXTRN HEWLCRO2                                                 57440037
SYNADAD  DC    A(HEWLCRO1)                                              57510021
ADRASSEY DC    V(HEWLFADA)             ADDRESS OF ADDRESS ASSIGNMENT    57610021
RATADD   DC    V(HEWLFRAT)             ADDRESS OF TXT/RLD PROCESSOR     57710021
NUMENT   DC    H'00'                   NUMBER OF ENTRIES IN LIST        57810021
ENTSIZ   DC    H'26'                                                    57910021
BLDLLST  DC    260C' '                                                  58010021
MAXENTRY DC    H'10'                   MAXINUM NUMBER OF ENTRIES        58110021
APPEND   DS    20C                                                      58210021
SAVAD    DS    1F                                                       58310021
TABLSTRT DC    A(BLDLLST)                                               58410021
PTRSAV   DC    H'0'                    SAVE POINTER TO DDNAME           58510021
CURINCNO DC    X'00'                   CURRENT ITEM BEING READ          58610021
         DS    0H                                                       58710021
BLDLDES1 DC    X'0001' 1ST BYTE OF LIST DESCRIPTION FIELD (NO OF ENTR.) 58810021
BLDLDES2 DC    X'0036' 2ND BYTE OF LIST DESCRIPTION FIELD (LGTH OFEACH) 58910021
SINGBLDL DC    26C' '                                                   59010021
*********************************************************************** 59110037
*        PATCH AREA                                                   * 59130037
*********************************************************************** 59150037
PATCH    DC    50F'0',C'PATCH AREA'    TEMPORARY PATCH AREA             59170037
DUMMY    DSECT                                                          59210021
BLDLMBRN DC    XL8'00'   MEMBER NAME                                    59310021
BLDLTTR1 DC    XL4'00'   TTR OF FIRST RECORD OF PDS & CONCAT.NO.        59410021
BLDLZEUS DC    XL2'00'   ZERO BYTE (JOB/LINK LIB.IND.) AND USER DESCR.  59510021
BLDLTTR2 DC    XL4'00'   TTR OF FIRST TEXT RECORD AND ZERO              59610021
BLDLTTR3 DC    XL3'00'   TTR OF NOTE LIST OR SCAT.TRANS.TBL.            59710021
BLDLN0NL DC    XL1'00'   NO OF ENTRIES IN NOTE LIST (OR ZERO)           59810021
BLDLATT1 DC    XL1'00'   FIRST BYTE OF ATTRIBUTES                       59910021
*                      BIT 0   , X'80'    REENTERABLE                   60010021
*                      BIT 1   , X'40'    REUSABLE                      60110021
*                      BIT 2   , X'20'    OVERLAY                       60210021
*                      BIT 3   , X'10'    IN TEST                       60310021
*                      BIT 4   , X'08'    ONLY LOADABLE                 60410021
*                      BIT 5   , X'04'    BLOCK-SCATTER (BLOCK=0)       60510021
*                      BIT 6   , X'02'    EXECUTABLE                    60610021
*                      BIT 7   , X'01'    MOD.CONTAINS 1 TXT RCD,NO RLD 60710021
BLDLATT2 DC    XL1'00'   SECOND BYTE OF ATTRIBUTES                      60810021
*                      BIT 0   , X'80'   NO DOWNWARD COMPATIBILITY IF=1 60910021
*                      BIT 1   , X'40'   ORIGIN OF 1ST TXT RCD IS ZERO  61010021
*                      BIT 2   , X'20'   LINK.EDIT.ASSIGND ENTR.PT.=0   61110021
*                      BIT 3   , X'10'   MOD.CONTAINS RLD ITEMS         61210021
*                      BIT 4   , X'08'   MOD.CAN BE REPROCESSED BY LKED 61310021
*                      BIT 5   , X'04'   MOD.DOES'NT CONTAIN SYM CARDS  61410021
BLDLE9   DC   XL3'00' TOTAL MAIN STORAGE REQUIREMENT OF THIS MODULE     61510021
BLDLE10  DC   XL2'00' LENGTH OF FIRST TXT RECORD                        61610021
BLDLE11  DC   XL3'00' ENTRY POINT ADDRESS                               61710021
BLDLE12  DC   XL3'00' ORIGIN OF FIRST TXT RECORD                        61810021
*                                                                       61910021
BLDLE13  DC    XL2'00'      NO. OF BYTES IN SCATTER LIST                62010021
BLDLE14  DC    XL2'00'      NO. OF BYTES IN THE TRANSLATION TBLE        62110021
BLDLE15  DC    XL2'00'      ESDID OF THE 1ST TXT RCD                    62210021
BLDLE16  DC    XL2'00'      ESDID OF THE CONTR.SECT.CONTAINING ENTRY PT 62310021
*                                                                       62410021
BLDLE17  DC    XL3'00'      ENTRY PT OF MAIN MBER NAME                  62510021
BLDLE18  DC    XL8'00'      MEMBER NAME OF MODULE                       62610021
         TITLE 'HEWLFINC APT'                                           62710037
         DC    0F'0'                                                    65710037
         HEWAPT                                                         68710037
         DCBD DSORG=(PS,PO)                                             71710037
         END                                                            74710037
