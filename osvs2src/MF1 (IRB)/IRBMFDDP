         TITLE '*/* IRBMFDDP - DEVICE INTERVAL MEASUREMENT GATHERING MO*00001000
               ODULE    '                                               00002000
IRBMFDDP CSECT ,                                                   0001 00003000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00004000
         BALR  @12,0                                               0001 00005000
@PSTART  DS    0H                                                  0001 00006000
         USING @PSTART,@12                                         0001 00007000
         L     @00,@SIZDATD                                        0001 00008000
         GETMAIN  R,LV=(0)                                              00009000
         LR    @11,@01                                             0001 00010000
         USING @DATD,@11                                           0001 00011000
         ST    @13,@SA00001+4                                      0001 00012000
         LM    @00,@01,20(@13)                                     0001 00013000
         ST    @11,8(,@13)                                         0001 00014000
         LR    @13,@11                                             0001 00015000
         MVC   @PC00001(36),0(@01)                                 0001 00016000
*   STSMSAVE=GPR13P;                                               0038 00017000
*                                                                  0038 00018000
         L     @10,@PC00001                                        0038 00019000
         L     @10,DDSMAPTR(,@10)                                  0038 00020000
         ST    GPR13P,STSMSAVE(,@10)                               0038 00021000
*   /*****************************************************************/ 00022000
*   /*                                                               */ 00023000
*   /* MACDATE Y-2 73018                                             */ 00024000
*   /*                                                               */ 00025000
*   /*****************************************************************/ 00026000
*                                                                  0039 00027000
*   RESPECIFY                                                      0039 00028000
*    (GPR13P) UNRESTRICTED;                                        0039 00029000
*                                                                  0040 00030000
*/* BEGIN MAINLINE PROCESSING.  THIS MODULE IS EXECUTED IN THREE   0040 00031000
*       SECTIONS: PROLOG, MOVE, AND EPILOG.  ALL PROLOG SECTIONS IN     00032000
*       ALL INTERVAL-DRIVEN MG ROUTINES ARE GIVEN CONTROL BY ESVC14     00033000
*       FIRST, THEN ALL MOVE SECTIONS GET CONTROL, ETC.  THIS      0040 00034000
*       NECESSITATES RETURN LINKAGE TO ESVC14 AFTER EACH SECTION     */ 00035000
*                                                                  0040 00036000
*   /*****************************************************************/ 00037000
*   /*                                                               */ 00038000
*   /* PROLOG. THIS SECTION OBTAINS AND FIXES INTERVAL DATA STORAGE. */ 00039000
*   /* IT ALSO FIXES THE MOVE SECTION AND ALL DATA WHICH THAT SECTION*/ 00040000
*   /* OF CODE REFERENCES.                                           */ 00041000
*   /*                                                               */ 00042000
*   /*****************************************************************/ 00043000
*                                                                  0040 00044000
*   DDDTAPTR=STSMIADD;              /* LAST WRAP VALUES TO OUTPUT  0040 00045000
*                                      POINTER                       */ 00046000
*                                                                  0040 00047000
         L     @10,STSMIADD(,@10)                                  0040 00048000
         ST    @10,DDDTAPTR                                        0040 00049000
*   /*****************************************************************/ 00050000
*   /*                                                               */ 00051000
*   /* FIX PROGRAM AND LOCAL STATIC DATA                             */ 00052000
*   /*                                                               */ 00053000
*   /*****************************************************************/ 00054000
*                                                                  0041 00055000
*   DDPAGECB=ECBRST;                /* RESET ECB                     */ 00056000
*                                                                  0041 00057000
         SLR   @10,@10                                             0041 00058000
         ST    @10,DDPAGECB                                        0041 00059000
*   /*****************************************************************/ 00060000
*   /*                                                               */ 00061000
*   /* MACDATE Y-2 73018                                             */ 00062000
*   /*                                                               */ 00063000
*   /*****************************************************************/ 00064000
*                                                                  0042 00065000
*   RESPECIFY                                                      0042 00066000
*    (GPR00P,                                                      0042 00067000
*     GPR01P,                                                      0042 00068000
*     GPR14P,                                                      0042 00069000
*     GPR15P) RESTRICTED;                                          0042 00070000
*   GENERATE SETS(DDPAGECB);                                       0043 00071000
*                                                                  0043 00072000
         LA    GPR00P,DDPAGECB      ECB ADDRESS                         00073000
DDPAGFX1 PGFIX R,A=IRBMFDDP,EA=@ENDDATA,ECB=(GPR00P),LONG=N,           X00074000
               RELATED=(MFDDPGFX,IRBMFDDP(DDPAGFX4),IRBMFTRM(TR0110))   00075000
         WAIT  ECB=DDPAGECB                                             00076000
*   /*****************************************************************/ 00077000
*   /*                                                               */ 00078000
*   /* MACDATE Y-2 73018                                             */ 00079000
*   /*                                                               */ 00080000
*   /*****************************************************************/ 00081000
*                                                                  0044 00082000
*   RESPECIFY                                                      0044 00083000
*    (GPR00P,                                                      0044 00084000
*     GPR01P,                                                      0044 00085000
*     GPR14P,                                                      0044 00086000
*     GPR15P) UNRESTRICTED;                                        0044 00087000
*                                                                  0044 00088000
*   /*****************************************************************/ 00089000
*   /*                                                               */ 00090000
*   /* FIX AUTOMATIC DATA STORAGE                                    */ 00091000
*   /*                                                               */ 00092000
*   /*****************************************************************/ 00093000
*                                                                  0045 00094000
*   DDPAGECB=ECBRST;                /* RESET ECB                     */ 00095000
*                                                                  0045 00096000
         SLR   @10,@10                                             0045 00097000
         ST    @10,DDPAGECB                                        0045 00098000
*   /*****************************************************************/ 00099000
*   /*                                                               */ 00100000
*   /* MACDATE Y-2 73018                                             */ 00101000
*   /*                                                               */ 00102000
*   /*****************************************************************/ 00103000
*                                                                  0046 00104000
*   RESPECIFY                                                      0046 00105000
*    (GPR00P,                                                      0046 00106000
*     GPR01P,                                                      0046 00107000
*     GPR14P,                                                      0046 00108000
*     GPR15P) RESTRICTED;                                          0046 00109000
*   GENERATE SETS(DDPAGECB);                                       0047 00110000
*                                                                  0047 00111000
         LA    GPR15P,@ENDDATD      END ADDRESS                         00112000
         LA    GPR00P,DDPAGECB      ECB ADDRESS                         00113000
         LA    GPR01P,@DATD         BEGINNING ADDRESS                   00114000
DDPAGFX2 PGFIX R,A=(GPR01P),EA=(GPR15P),ECB=(GPR00P),LONG=N,           X00115000
               RELATED=(MFDDATFX,IRBMFDDP(DDPAGFX5),IRBMFTRM(TR0210))   00116000
         WAIT  ECB=DDPAGECB                                             00117000
*   /*****************************************************************/ 00118000
*   /*                                                               */ 00119000
*   /* MACDATE Y-2 73018                                             */ 00120000
*   /*                                                               */ 00121000
*   /*****************************************************************/ 00122000
*                                                                  0048 00123000
*   RESPECIFY                                                      0048 00124000
*    (GPR00P,                                                      0048 00125000
*     GPR01P,                                                      0048 00126000
*     GPR14P,                                                      0048 00127000
*     GPR15P) UNRESTRICTED;                                        0048 00128000
*                                                                  0048 00129000
*   /*****************************************************************/ 00130000
*   /*                                                               */ 00131000
*   /* ADD ENTRY TO STORAGE RESOURCE TABLE FOR AUTOMATIC DATA MACDATE*/ 00132000
*   /* Y-2 73018                                                     */ 00133000
*   /*                                                               */ 00134000
*   /*****************************************************************/ 00135000
*                                                                  0049 00136000
*   RESPECIFY                                                      0049 00137000
*    (GPR00P,                                                      0049 00138000
*     GPR01P) RESTRICTED;                                          0049 00139000
*   GENERATE;                                                      0050 00140000
         L     GPR00P,@SIZDATD      SUBPOOL AND LENGTH                  00141000
         LA    GPR01P,@DATD         ADDRESS                             00142000
*   STSGFREE(STRVNSGT)=GPR00P;      /* SUBPOOL AND LENGTH            */ 00143000
         L     @10,@PC00001                                        0051 00144000
         L     @10,DDSMAPTR(,@10)                                  0051 00145000
         L     @06,STSMRVT(,@10)                                   0051 00146000
         L     @15,STRVNSGT(,@06)                                  0051 00147000
         LR    @14,@15                                             0051 00148000
         SLA   @14,3                                               0051 00149000
         L     @09,STRVSSGT(,@06)                                  0051 00150000
         LA    @08,0(@14,@09)                                      0051 00151000
         AL    @08,@CF00647                                        0051 00152000
         ST    GPR00P,STSGFREE(,@08)                               0051 00153000
*   STSGADD(STRVNSGT)=GPR01P;       /* ADDRESS                       */ 00154000
*                                                                  0052 00155000
         AL    @09,@CF00648                                        0052 00156000
         ST    GPR01P,STSGADD-4(@14,@09)                           0052 00157000
*   /*****************************************************************/ 00158000
*   /*                                                               */ 00159000
*   /* MACDATE Y-2 73018                                             */ 00160000
*   /*                                                               */ 00161000
*   /*****************************************************************/ 00162000
*                                                                  0053 00163000
*   RESPECIFY                                                      0053 00164000
*    (GPR00P,                                                      0053 00165000
*     GPR01P) UNRESTRICTED;                                        0053 00166000
*   STRVNSGT=STRVNSGT+1;            /* POINT TO NEXT SGT SLOT        */ 00167000
*                                                                  0054 00168000
         AL    @15,@CF00060                                        0054 00169000
         ST    @15,STRVNSGT(,@06)                                  0054 00170000
*   /*****************************************************************/ 00171000
*   /*                                                               */ 00172000
*   /* ALLOCATE STORAGE IN THE USERS KEY FOR A DEVICE VECTOR TABLE   */ 00173000
*   /* AND INTERVAL DATA MACDATE Y-2 73018                           */ 00174000
*   /*                                                               */ 00175000
*   /*****************************************************************/ 00176000
*                                                                  0055 00177000
*   RESPECIFY                                                      0055 00178000
*    (GPR00P,                                                      0055 00179000
*     GPR01P,                                                      0055 00180000
*     GPR14P,                                                      0055 00181000
*     GPR15P) RESTRICTED;                                          0055 00182000
*   GPR00P=STSMIGMC;                /* SET SUBPOOL AND LENGTH INTO 0056 00183000
*                                      REG                           */ 00184000
         L     GPR00P,STSMIGMC(,@10)                               0056 00185000
*   GENERATE;                                                      0057 00186000
DDGETMN1 GETMAIN R,LV=(0),RELATED=(MFDDISGM,IRBMFRGM(RGFREES1),        X00187000
               IRBMFTRM(TR0220),IRBMFDTA(DT200))                        00188000
*   STSMIADD=GPR01P+LENGTH(STSMIGMC);/* BEGINNING ADDRESS OF STORAGE */ 00189000
*                                                                  0058 00190000
         L     @10,@PC00001                                        0058 00191000
         L     @10,DDSMAPTR(,@10)                                  0058 00192000
         LA    @06,4                                               0058 00193000
         LR    @09,GPR01P                                          0058 00194000
         ALR   @09,@06                                             0058 00195000
         ST    @09,STSMIADD(,@10)                                  0058 00196000
*   /*****************************************************************/ 00197000
*   /*                                                               */ 00198000
*   /* MACDATE Y-2 73018                                             */ 00199000
*   /*                                                               */ 00200000
*   /*****************************************************************/ 00201000
*                                                                  0059 00202000
*   RESPECIFY                                                      0059 00203000
*    (GPR00P,                                                      0059 00204000
*     GPR01P,                                                      0059 00205000
*     GPR14P,                                                      0059 00206000
*     GPR15P) UNRESTRICTED;                                        0059 00207000
*   DDSMIADD=STSMIADD;              /* MOVE TO TEMPORARY STORAGE     */ 00208000
*                                                                  0060 00209000
         LR    DDSMIADD,@09                                        0060 00210000
*   /*****************************************************************/ 00211000
*   /*                                                               */ 00212000
*   /* FIX INTERVAL DATA STORAGE AREA MACDATE Y-2 73018              */ 00213000
*   /*                                                               */ 00214000
*   /*****************************************************************/ 00215000
*                                                                  0061 00216000
*   RESPECIFY                                                      0061 00217000
*    (GPR00P,                                                      0061 00218000
*     GPR01P,                                                      0061 00219000
*     GPR14P,                                                      0061 00220000
*     GPR15P) RESTRICTED;                                          0061 00221000
*   GPR01P=DDSMIADD-LENGTH(STSMIGMC);/* BEGINNING ADDRESS            */ 00222000
         LCR   @06,@06                                             0062 00223000
         ALR   @06,DDSMIADD                                        0062 00224000
         LR    GPR01P,@06                                          0062 00225000
*   GPR15P=GPR01P+STSMILEN;         /* DATA END ADDRESS+1            */ 00226000
         LR    GPR15P,GPR01P                                       0063 00227000
         L     @10,STSMILEN-1(,@10)                                0063 00228000
         LA    @10,0(,@10)                                         0063 00229000
         ALR   GPR15P,@10                                          0063 00230000
*   DDPAGECB=0;                     /* RESET ECB                     */ 00231000
         SLR   @10,@10                                             0064 00232000
         ST    @10,DDPAGECB                                        0064 00233000
*   GENERATE SETS(DDPAGECB);                                       0065 00234000
*                                                                  0065 00235000
         LA    GPR00P,DDPAGECB      ECB ADDRESS                         00236000
DDPAGFX3 PGFIX R,A=(GPR01P),EA=(GPR15P),ECB=(GPR00P),LONG=N,           X00237000
               RELATED=(MFDDISFX,IRBMFDDP(DDPAGFX6),IRBMFTRM(TR0210))   00238000
         WAIT  ECB=DDPAGECB                                             00239000
*   /*****************************************************************/ 00240000
*   /*                                                               */ 00241000
*   /* MACDATE Y-2 73018                                             */ 00242000
*   /*                                                               */ 00243000
*   /*****************************************************************/ 00244000
*                                                                  0066 00245000
*   RESPECIFY                                                      0066 00246000
*    (GPR00P,                                                      0066 00247000
*     GPR01P,                                                      0066 00248000
*     GPR14P,                                                      0066 00249000
*     GPR15P) UNRESTRICTED;                                        0066 00250000
*                                                                  0066 00251000
*   /*****************************************************************/ 00252000
*   /*                                                               */ 00253000
*   /* SET SUBPOOL AND LENGTH INTO FIRST WORD OF GOTTEN AREA         */ 00254000
*   /*                                                               */ 00255000
*   /*****************************************************************/ 00256000
*                                                                  0067 00257000
*   EVAL(DDSMIADD-LENGTH(STSMIGMC))->DDDTAGMC=STSMIGMC;            0067 00258000
*                                                                  0067 00259000
         LR    @10,DDSMIADD                                        0067 00260000
         SL    @10,@CF00175                                        0067 00261000
         L     @06,@PC00001                                        0067 00262000
         L     @06,DDSMAPTR(,@06)                                  0067 00263000
         MVC   DDDTAGMC(4,@10),STSMIGMC(@06)                       0067 00264000
*   /*****************************************************************/ 00265000
*   /*                                                               */ 00266000
*   /* RETURN TO CALLER BY SPECIAL RETURN SEQUENCE WHICH DOES NOT    */ 00267000
*   /* FREE AUTOMATIC DATA OR INVALIDATE ADDRESSABILITY. THE PURPOSE */ 00268000
*   /* IS TO ALLOW ALL PROLOGS TO EXECUTE TOGETHER. THEN ALL MOVES,  */ 00269000
*   /* ETC. THE EFFECT IN ANY ONE INTERVAL MG ROUTINE IS AS IF THE   */ 00270000
*   /* PROLOG, MOVE, AND EPILOG EXECUTED AS SEQUENTIAL CODE DDMOVE:  */ 00271000
*   /* IRBBREAK MACDATE Y-2 73018                                    */ 00272000
*   /*                                                               */ 00273000
*   /*****************************************************************/ 00274000
*                                                                  0068 00275000
*DDMOVE:                                                           0068 00276000
*                                                                  0068 00277000
*   /*****************************************************************/ 00278000
*   /*                                                               */ 00279000
*   /* INDICATE NEXT ROUTINE ADDRESS TO SVC MAINLINE FOR REENTRY     */ 00280000
*   /*                                                               */ 00281000
*   /*****************************************************************/ 00282000
*                                                                  0068 00283000
*   STSMENTR=ADDR(DDRT0021);                                       0068 00284000
DDMOVE   L     @10,@PC00001                                        0068 00285000
         L     @10,DDSMAPTR(,@10)                                  0068 00286000
         LA    @06,DDRT0021                                        0068 00287000
         ST    @06,STSMENTR(,@10)                                  0068 00288000
*   RESPECIFY                                                      0069 00289000
*    (GPR00P,                                                      0069 00290000
*     GPR01P,                                                      0069 00291000
*     GPR14P,                                                      0069 00292000
*     GPR15P) RESTRICTED;                                          0069 00293000
*   GENERATE;                                                      0070 00294000
         STM   @02,@12,28(@13)     SAVE REGISTERS FOR NEXT SEGMENT      00295000
         L     @13,4(,@13)         BACK CHAIN TO CALLERS SAVEAREA       00296000
         LM    @14,@12,12(@13)     RESTORE CALLERS REGISTERS            00297000
         BR    @14                 RETURN TO CALLER                     00298000
*                                                                  0071 00299000
*   /*****************************************************************/ 00300000
*   /*                                                               */ 00301000
*   /* REENTRY POINT FROM CALLER, IGX00014.                          */ 00302000
*   /*                                                               */ 00303000
*   /*****************************************************************/ 00304000
*                                                                  0071 00305000
*DDRT0021:                                                         0071 00306000
*   GENERATE;                                                      0071 00307000
DDRT0021 DS    0H                                                  0071 00308000
         STM   @14,@12,12(@13)     SAVE CALLERS REGISTERS               00309000
         L     @01,0(,@01)         GET ADDRESS OF SAVE AREA ADDRESS     00310000
         L     @01,0(,@01)         GET SAVE AREA ADDRESS                00311000
         LM    @02,@12,28(@01)     RELOAD REGISTERS                     00312000
         ST    @13,4(,@01)         BACK CHAIN NEW SAVEAREA TO OLD       00313000
         ST    @01,8(,@13)         FORWARD CHAIN FROM OLD TO NEW        00314000
         LR    @13,@01             R13 NOW POINTS TO NEW SAVEAREA       00315000
*   RESPECIFY                                                      0072 00316000
*    (GPR00P,                                                      0072 00317000
*     GPR01P,                                                      0072 00318000
*     GPR14P,                                                      0072 00319000
*     GPR15P) UNRESTRICTED;                                        0072 00320000
*                                                                  0072 00321000
*/* BEGIN MOVE SEGMENT.  THIS CODE IS ENTERED DISABLED AND EXECUTES     00322000
*       WITH NO PAGE FAULTS.  THE FUNCTION IS TO MOVE DATA INTO    0073 00323000
*       STORAGE OBTAINED BY THE PROLOG                               */ 00324000
*                                                                  0073 00325000
*   /*****************************************************************/ 00326000
*   /*                                                               */ 00327000
*   /* LOOP THROUGH DEVICE CLASSES AND MOVE DATA FROM EVENT DRIVEN   */ 00328000
*   /* DATA COLLECTION AREAS INTO TEMPORARILY FIXED INTERVAL DATA    */ 00329000
*   /* AREAS POINT TO POSITION OF FIRST SMF RECORD                   */ 00330000
*   /*                                                               */ 00331000
*   /*****************************************************************/ 00332000
*                                                                  0073 00333000
*   DDSMFPTR=DDSMIADD+LENGTH(DDDVADD)*DIM(DDDVADD);                0073 00334000
         LA    DDSMFPTR,24                                         0073 00335000
         ALR   DDSMFPTR,DDSMIADD                                   0073 00336000
*   DO DDDCDIDX=1 TO DIM(EDDCDT);   /* LOOP THROUGH DEVICE CLASSES   */ 00337000
         LA    DDDCDIDX,1                                          0074 00338000
@DL00074 DS    0H                                                  0075 00339000
*     IF EDDCDNUM(DDDCDIDX)=0 THEN  /* IF NO DATA EXISTS FOR THIS  0075 00340000
*                                      CLASS                         */ 00341000
         SLR   @10,@10                                             0075 00342000
         LR    @06,DDDCDIDX                                        0075 00343000
         SLA   @06,3                                               0075 00344000
         L     @05,@PC00001                                        0075 00345000
         L     @05,DDSMAPTR(,@05)                                  0075 00346000
         L     @05,STSMEDAD(,@05)                                  0075 00347000
         L     @05,EDDEDCDT(,@05)                                  0075 00348000
         AL    @05,@CF00648                                        0075 00349000
         CH    @10,EDDCDNUM-4(@06,@05)                             0075 00350000
         BNE   @RF00075                                            0075 00351000
*       DO;                                                        0076 00352000
*                                                                  0076 00353000
*         /***********************************************************/ 00354000
*         /*                                                         */ 00355000
*         /* INDICATE NO SMF RECORD BECAUSE NO DEVICES EXIST IN THIS */ 00356000
*         /* CLASS                                                   */ 00357000
*         /*                                                         */ 00358000
*         /***********************************************************/ 00359000
*                                                                  0077 00360000
*         DDSMIADD->DDDVADD(DDDCDIDX)=0;                           0077 00361000
         LR    @06,DDDCDIDX                                        0077 00362000
         SLA   @06,2                                               0077 00363000
         AL    @06,@CF00648                                        0077 00364000
         ST    @10,DDDVADD(@06,DDSMIADD)                           0077 00365000
*         GO TO DDLAB2;             /* CONTINUE LOOPING THROUGH    0078 00366000
*                                      CLASSES                       */ 00367000
         B     DDLAB2                                              0078 00368000
*       END;                                                       0079 00369000
*                                                                  0079 00370000
*     /***************************************************************/ 00371000
*     /*                                                             */ 00372000
*     /* POINT DVT ENTRY TO SMF RECORD                               */ 00373000
*     /*                                                             */ 00374000
*     /***************************************************************/ 00375000
*                                                                  0080 00376000
*     DDSMIADD->DDDVADD(DDDCDIDX)=DDSMFPTR;                        0080 00377000
*                                                                  0080 00378000
@RF00075 LR    @10,DDDCDIDX                                        0080 00379000
         SLA   @10,2                                               0080 00380000
         AL    @10,@CF00648                                        0080 00381000
         ST    DDSMFPTR,DDDVADD(@10,DDSMIADD)                      0080 00382000
*     /***************************************************************/ 00383000
*     /*                                                             */ 00384000
*     /* MOVE IN STANDARD SMF HEADER                                 */ 00385000
*     /*                                                             */ 00386000
*     /***************************************************************/ 00387000
*                                                                  0081 00388000
*     SMFRCD74=DDSMFHDR(1:LENGTH(SMFRCD74));                       0081 00389000
*                                                                  0081 00390000
         L     @10,@PC00001+16                                     0081 00391000
         MVC   SMFRCD74(48,DDSMFPTR),DDSMFHDR(@10)                 0081 00392000
*     /***************************************************************/ 00393000
*     /*                                                             */ 00394000
*     /* FILL IN UNSET FIELDS                                        */ 00395000
*     /*                                                             */ 00396000
*     /***************************************************************/ 00397000
*                                                                  0082 00398000
*     SMF74RTY=DDRCDTYP;            /* RECORD TYPE                   */ 00399000
         MVI   SMF74RTY(DDSMFPTR),X'4A'                            0082 00400000
*     SMF74SUB(2)=DDUCBTYP(DDDCDIDX);/* SET DEVICE CLASS BYTE        */ 00401000
         LA    @10,DDUCBTYP-1(DDDCDIDX)                            0083 00402000
         MVC   SMF74SUB+1(1,DDSMFPTR),0(@10)                       0083 00403000
*     SMF74SAM=EDDESAMP;            /* NUMBER OF SAMPLES             */ 00404000
         L     @10,@PC00001                                        0084 00405000
         L     @10,DDSMAPTR(,@10)                                  0084 00406000
         L     @10,STSMEDAD(,@10)                                  0084 00407000
         L     @06,EDDESAMP(,@10)                                  0084 00408000
         ST    @06,SMF74SAM(,DDSMFPTR)                             0084 00409000
*     SMF74A=SMF74A&&SMF74A;        /* ZERO DEVICE CONTROL AREA      */ 00410000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0085 00411000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0085 00412000
         XC    SMF74A(8,@06),SMF74A(@06)                           0085 00413000
*     SMF74SDC=LENGTH(SMF74A);      /* SIZE OF DEVICE CONTROL AREA   */ 00414000
         MVC   SMF74SDC(2,@06),@CH00056                            0086 00415000
*     SMF74SDD=LENGTH(SMF74B);      /* SIZE OF EACH DEVICE DATA AREA */ 00416000
*                                                                  0087 00417000
         LA    @05,28                                              0087 00418000
         STH   @05,SMF74SDD(,@06)                                  0087 00419000
*     /***************************************************************/ 00420000
*     /*                                                             */ 00421000
*     /* SET DEVICE COUNT AND RECORD LENGTH                          */ 00422000
*     /*                                                             */ 00423000
*     /***************************************************************/ 00424000
*                                                                  0088 00425000
*     SMF74DEV=EDDCDNUM(DDDCDIDX);                                 0088 00426000
         LR    @03,DDDCDIDX                                        0088 00427000
         SLA   @03,3                                               0088 00428000
         L     @10,EDDEDCDT(,@10)                                  0088 00429000
         AL    @10,@CF00648                                        0088 00430000
         LH    @10,EDDCDNUM-4(@03,@10)                             0088 00431000
         STH   @10,SMF74DEV(,@06)                                  0088 00432000
*     SMF74LEN=LENGTH(SMFRCD74)+LENGTH(SMF74A)+LENGTH(SMF74B)*SMF74DEV; 00433000
*                                                                  0089 00434000
         LR    @01,@10                                             0089 00435000
         MR    @00,@05                                             0089 00436000
         AL    @01,@CF00643                                        0089 00437000
         STH   @01,SMF74LEN(,DDSMFPTR)                             0089 00438000
*     /***************************************************************/ 00439000
*     /*                                                             */ 00440000
*     /* LOOP THROUGH ALL DDBS IN TABLE                              */ 00441000
*     /*                                                             */ 00442000
*     /***************************************************************/ 00443000
*                                                                  0090 00444000
*     DO DDDDBIDX=1 TO EDDCDNUM(DDDCDIDX);                         0090 00445000
*                                                                  0090 00446000
         LA    DDDDBIDX,1                                          0090 00447000
         B     @DE00090                                            0090 00448000
@DL00090 DS    0H                                                  0091 00449000
*       /*************************************************************/ 00450000
*       /*                                                           */ 00451000
*       /* ZERO STORAGE                                              */ 00452000
*       /*                                                           */ 00453000
*       /*************************************************************/ 00454000
*                                                                  0091 00455000
*       SMF74B(DDDDBIDX)=SMF74B(DDDDBIDX)&&SMF74B(DDDDBIDX);       0091 00456000
*                                                                  0091 00457000
         LR    @10,DDDDBIDX                                        0091 00458000
         MH    @10,@CH00642                                        0091 00459000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0091 00460000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0091 00461000
         LH    @05,SMF74SDC(,@06)                                  0091 00462000
         ALR   @05,@06                                             0091 00463000
         ST    @10,@TF00001                                        0091 00464000
         ALR   @10,@05                                             0091 00465000
         AL    @10,@CF00649                                        0091 00466000
         XC    SMF74B(28,@10),SMF74B(@10)                          0091 00467000
*       /*************************************************************/ 00468000
*       /*                                                           */ 00469000
*       /* ANTICIPATE AND INDICATE AN INVALID ENTRY                  */ 00470000
*       /*                                                           */ 00471000
*       /*************************************************************/ 00472000
*                                                                  0092 00473000
*       SMF74TYP(DDDDBIDX)=DDNOTVLD;                               0092 00474000
*                                                                  0092 00475000
         AL    @05,@TF00001                                        0092 00476000
         AL    @05,@CF00650                                        0092 00477000
         MVC   SMF74TYP-4(4,@05),@CB00607                          0092 00478000
*       /*************************************************************/ 00479000
*       /*                                                           */ 00480000
*       /* IF DEVICE ENTRY IS INVALID THEN SKIP PROCESSING           */ 00481000
*       /*                                                           */ 00482000
*       /*************************************************************/ 00483000
*                                                                  0093 00484000
*       IF EDDDVALD(DDDDBIDX)='0'B THEN                            0093 00485000
         LR    @10,DDDDBIDX                                        0093 00486000
         MH    @10,@CH00644                                        0093 00487000
         LR    @06,DDDCDIDX                                        0093 00488000
         SLA   @06,3                                               0093 00489000
         L     @05,@PC00001                                        0093 00490000
         L     @05,DDSMAPTR(,@05)                                  0093 00491000
         L     @05,STSMEDAD(,@05)                                  0093 00492000
         L     @05,EDDEDCDT(,@05)                                  0093 00493000
         AL    @05,@CF00647                                        0093 00494000
         L     @06,EDDCDDBQ(@06,@05)                               0093 00495000
         ST    @10,@TF00001                                        0093 00496000
         ALR   @10,@06                                             0093 00497000
         AL    @10,@CF00651                                        0093 00498000
         TM    EDDDVALD(@10),B'00000100'                           0093 00499000
         BZ    @RT00093                                            0093 00500000
*         GO TO DDLAB1;             /* MOVE PTR TO NEXT SMF SLOT     */ 00501000
*                                                                  0094 00502000
*       /*************************************************************/ 00503000
*       /*                                                           */ 00504000
*       /* USE COMPARE AND SWAP LOGIC IN THE FOLLOWING CODE MACDATE  */ 00505000
*       /* Y-2 73018                                                 */ 00506000
*       /*                                                           */ 00507000
*       /*************************************************************/ 00508000
*                                                                  0095 00509000
*       RESPECIFY                                                  0095 00510000
*        (GPR00P,                                                  0095 00511000
*         GPR05P) RESTRICTED;                                      0095 00512000
*       GPR05P=ADDR(EDDDFLGS(DDDDBIDX));                           0096 00513000
         L     GPR05P,@TF00001                                     0096 00514000
         AL    @06,@CF00651                                        0096 00515000
         LA    GPR05P,EDDDFLGS(GPR05P,@06)                         0096 00516000
*DDLAB0:                                                           0097 00517000
*                                                                  0097 00518000
*       /*************************************************************/ 00519000
*       /*                                                           */ 00520000
*       /* GET WORD CONTAINING FLAGS                                 */ 00521000
*       /*                                                           */ 00522000
*       /*************************************************************/ 00523000
*                                                                  0097 00524000
*       GENERATE(L  GPR00P,0(,GPR05P));                            0097 00525000
*                                                                  0097 00526000
DDLAB0   L  GPR00P,0(,GPR05P)                                           00527000
*       /*************************************************************/ 00528000
*       /*                                                           */ 00529000
*       /* TRANSLATE AND PACK UCB ADDRESS FROM EBCDIC INTO PACKED    */ 00530000
*       /* FORM HHHF WHERE H IS HEXIDECIMAL AND F IS A ZONE FIELD GET*/ 00531000
*       /* EBCDIC DEVICE ADDRESS. USE UNSET FIELD IN SMF RECORD FOR  */ 00532000
*       /* WORKING STORAGE                                           */ 00533000
*       /*                                                           */ 00534000
*       /*************************************************************/ 00535000
*                                                                  0098 00536000
*       SMF74IST(1:3)=EDDDADDR(DDDDBIDX);                          0098 00537000
         LR    @10,DDDDBIDX                                        0098 00538000
         MH    @10,@CH00644                                        0098 00539000
         LR    @06,DDDCDIDX                                        0098 00540000
         SLA   @06,3                                               0098 00541000
         L     @01,@PC00001                                        0098 00542000
         L     @01,DDSMAPTR(,@01)                                  0098 00543000
         L     @01,STSMEDAD(,@01)                                  0098 00544000
         L     @01,EDDEDCDT(,@01)                                  0098 00545000
         AL    @01,@CF00647                                        0098 00546000
         L     @06,EDDCDDBQ(@06,@01)                               0098 00547000
         ST    @10,@TF00001                                        0098 00548000
         ALR   @10,@06                                             0098 00549000
         AL    @10,@CF00652                                        0098 00550000
         MVC   SMF74IST(3,DDSMFPTR),EDDDADDR-1(@10)                0098 00551000
*       TR(SMF74IST(1:3),DDTRTAB);  /* TRANSLATE                     */ 00552000
*                                                                  0099 00553000
         TR    SMF74IST(3,DDSMFPTR),DDTRTAB                        0099 00554000
*       /*************************************************************/ 00555000
*       /*                                                           */ 00556000
*       /* PACK INTO PROPER POSITION IN SMF RECORD                   */ 00557000
*       /*                                                           */ 00558000
*       /*************************************************************/ 00559000
*                                                                  0100 00560000
*       PACK(SMF74ADD(DDDDBIDX),SMF74IST(1:3));                    0100 00561000
*                                                                  0100 00562000
         LR    @10,DDDDBIDX                                        0100 00563000
         MH    @10,@CH00642                                        0100 00564000
         LA    @01,SMF74SIZ(,DDSMFPTR)                             0100 00565000
         AH    @01,SMF74SIZ(,DDSMFPTR)                             0100 00566000
         LH    @15,SMF74SDC(,@01)                                  0100 00567000
         ALR   @15,@01                                             0100 00568000
         ST    @10,@TF00002                                        0100 00569000
         ALR   @10,@15                                             0100 00570000
         AL    @10,@CF00649                                        0100 00571000
         PACK  SMF74ADD(2,@10),SMF74IST(3,DDSMFPTR)                0100 00572000
*       /*************************************************************/ 00573000
*       /*                                                           */ 00574000
*       /* SET DEVICE TYPE INFORMATION                               */ 00575000
*       /*                                                           */ 00576000
*       /*************************************************************/ 00577000
*                                                                  0101 00578000
*       SMF74TYP(DDDDBIDX)=UCBTYP;                                 0101 00579000
*                                                                  0101 00580000
         LR    @10,@15                                             0101 00581000
         AL    @10,@TF00002                                        0101 00582000
         AL    @10,@CF00650                                        0101 00583000
         L     @01,@TF00001                                        0101 00584000
         AL    @01,@CF00653                                        0101 00585000
         LH    @01,EDDDUCBA-4(@01,@06)                             0101 00586000
         N     @01,@CF00654                                        0101 00587000
         MVC   SMF74TYP-4(4,@10),UCBTYP(@01)                       0101 00588000
*       /*************************************************************/ 00589000
*       /*                                                           */ 00590000
*       /* SET VOLUME SERIAL NUMBER IF DASD OR TAPE. OTHERWISE, BLANK*/ 00591000
*       /* OUT FIELD                                                 */ 00592000
*       /*                                                           */ 00593000
*       /*************************************************************/ 00594000
*                                                                  0102 00595000
*       IF(UCB3TAPE='1'B|UCB3DACC='1'B)&EDDDALIV(DDDDBIDX)='1'B THEN    00596000
         TM    UCB3TAPE(@01),B'10100000'                           0102 00597000
         BZ    @RF00102                                            0102 00598000
         AL    @06,@TF00001                                        0102 00599000
         AL    @06,@CF00651                                        0102 00600000
         TM    EDDDALIV(@06),B'00000001'                           0102 00601000
         BNO   @RF00102                                            0102 00602000
*         DO;                                                      0103 00603000
*           IF UCBMTPXP='0'B        /* IF NOT MULTIPLE EXPOSURE DEV  */ 00604000
*             THEN                  /* GET VOL SER FROM THIS UCB     */ 00605000
         TM    UCBMTPXP(@01),B'00001000'                           0104 00606000
         BNZ   @RF00104                                            0104 00607000
*             SMF74SER(DDDDBIDX)=UCBVOLI;                          0105 00608000
         AL    @15,@TF00002                                        0105 00609000
         AL    @15,@CF00651                                        0105 00610000
         MVC   SMF74SER-8(6,@15),UCBVOLI(@01)                      0105 00611000
*           ELSE                    /* GET VOL SER FROM BASE UCB     */ 00612000
*             SMF74SER(DDDDBIDX)=(UCBBASE+LENGTH(UCB))->UCBVOLI;   0106 00613000
         B     @RC00104                                            0106 00614000
@RF00104 LR    @10,DDDDBIDX                                        0106 00615000
         MH    @10,@CH00642                                        0106 00616000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0106 00617000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0106 00618000
         LH    @01,SMF74SDC(,@06)                                  0106 00619000
         ALR   @01,@06                                             0106 00620000
         ALR   @01,@10                                             0106 00621000
         AL    @01,@CF00651                                        0106 00622000
         LR    @10,DDDDBIDX                                        0106 00623000
         MH    @10,@CH00644                                        0106 00624000
         LR    @06,DDDCDIDX                                        0106 00625000
         SLA   @06,3                                               0106 00626000
         L     @15,@PC00001                                        0106 00627000
         L     @15,DDSMAPTR(,@15)                                  0106 00628000
         L     @15,STSMEDAD(,@15)                                  0106 00629000
         L     @15,EDDEDCDT(,@15)                                  0106 00630000
         AL    @15,@CF00647                                        0106 00631000
         L     @06,EDDCDDBQ(@06,@15)                               0106 00632000
         AL    @06,@CF00653                                        0106 00633000
         LH    @10,EDDDUCBA-4(@10,@06)                             0106 00634000
         N     @10,@CF00654                                        0106 00635000
         L     @10,UCBBASE(,@10)                                   0106 00636000
         MVC   SMF74SER-8(6,@01),UCBVOLI+512(@10)                  0106 00637000
*         END;                                                     0107 00638000
*       ELSE                                                       0108 00639000
*         SMF74SER(DDDDBIDX)=' ';                                  0108 00640000
*                                                                  0108 00641000
         B     @RC00102                                            0108 00642000
@RF00102 LR    @10,DDDDBIDX                                        0108 00643000
         MH    @10,@CH00642                                        0108 00644000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0108 00645000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0108 00646000
         LH    @01,SMF74SDC(,@06)                                  0108 00647000
         ALR   @01,@06                                             0108 00648000
         ALR   @01,@10                                             0108 00649000
         AL    @01,@CF00651                                        0108 00650000
         MVI   SMF74SER-7(@01),C' '                                0108 00651000
         MVC   SMF74SER-6(4,@01),SMF74SER-7(@01)                   0108 00652000
         MVI   SMF74SER-8(@01),C' '                                0108 00653000
*       /*************************************************************/ 00654000
*       /*                                                           */ 00655000
*       /* IF DEVICE IS ONLINE                                       */ 00656000
*       /*                                                           */ 00657000
*       /*************************************************************/ 00658000
*                                                                  0109 00659000
*       IF EDDDALIV(DDDDBIDX)='1'B THEN                            0109 00660000
@RC00102 LR    @10,DDDDBIDX                                        0109 00661000
         MH    @10,@CH00644                                        0109 00662000
         LR    @06,DDDCDIDX                                        0109 00663000
         SLA   @06,3                                               0109 00664000
         L     @01,@PC00001                                        0109 00665000
         L     @01,DDSMAPTR(,@01)                                  0109 00666000
         L     @01,STSMEDAD(,@01)                                  0109 00667000
         L     @01,EDDEDCDT(,@01)                                  0109 00668000
         AL    @01,@CF00647                                        0109 00669000
         L     @06,EDDCDDBQ(@06,@01)                               0109 00670000
         ST    @10,@TF00001                                        0109 00671000
         ALR   @10,@06                                             0109 00672000
         AL    @10,@CF00651                                        0109 00673000
         TM    EDDDALIV(@10),B'00000001'                           0109 00674000
         BNO   @RF00109                                            0109 00675000
*         DO;                       /* INSERT DATA (SIOS,BUSY      0110 00676000
*                                      SAMPLES, AND ENQUEUED SRB   0110 00677000
*                                      COUNT) AND INDICATE ONLINE    */ 00678000
*           SMF74CNT(DDDDBIDX)=EDDDSIOS(DDDDBIDX);                 0111 00679000
         LR    @10,DDDDBIDX                                        0111 00680000
         MH    @10,@CH00642                                        0111 00681000
         LA    @01,SMF74SIZ(,DDSMFPTR)                             0111 00682000
         AH    @01,SMF74SIZ(,DDSMFPTR)                             0111 00683000
         LH    @15,SMF74SDC(,@01)                                  0111 00684000
         ALR   @15,@01                                             0111 00685000
         L     @01,@TF00001                                        0111 00686000
         AL    @01,@CF00655                                        0111 00687000
         L     @01,EDDDSIOS-8(@01,@06)                             0111 00688000
         LA    @14,0(@10,@15)                                      0111 00689000
         AL    @14,@CF00655                                        0111 00690000
         ST    @01,SMF74CNT-16(,@14)                               0111 00691000
*           SMF74ACT(DDDDBIDX)=EDDDBUSY(DDDDBIDX);                 0112 00692000
         L     @01,@TF00001                                        0112 00693000
         AL    @01,@CF00647                                        0112 00694000
         L     @01,EDDDBUSY-12(@01,@06)                            0112 00695000
         LA    @14,0(@10,@15)                                      0112 00696000
         AL    @14,@CF00647                                        0112 00697000
         ST    @01,SMF74ACT-20(,@14)                               0112 00698000
*           SMF74QUE(DDDDBIDX)=EDDDNENQ(DDDDBIDX);                 0113 00699000
         L     @01,@TF00001                                        0113 00700000
         AL    @06,@CF00648                                        0113 00701000
         L     @06,EDDDNENQ-16(@01,@06)                            0113 00702000
         LA    @01,0(@10,@15)                                      0113 00703000
         AL    @01,@CF00648                                        0113 00704000
         ST    @06,SMF74QUE-24(,@01)                               0113 00705000
*           SMF74STA(DDDDBIDX)='1'B;                               0114 00706000
         ALR   @15,@10                                             0114 00707000
         AL    @15,@CF00656                                        0114 00708000
         OI    SMF74STA-3(@15),B'00000001'                         0114 00709000
*         END;                                                     0115 00710000
*       ELSE                        /* OFFLINE                       */ 00711000
*         DO;                       /* ZERO DATA AND INDICATE OFFLINE*/ 00712000
         B     @RC00109                                            0116 00713000
@RF00109 DS    0H                                                  0117 00714000
*           SMF74CNT(DDDDBIDX)=0;                                  0117 00715000
         SLR   @10,@10                                             0117 00716000
         LR    @06,DDDDBIDX                                        0117 00717000
         MH    @06,@CH00642                                        0117 00718000
         LA    @01,SMF74SIZ(,DDSMFPTR)                             0117 00719000
         AH    @01,SMF74SIZ(,DDSMFPTR)                             0117 00720000
         LH    @15,SMF74SDC(,@01)                                  0117 00721000
         ALR   @15,@01                                             0117 00722000
         LA    @01,0(@06,@15)                                      0117 00723000
         AL    @01,@CF00655                                        0117 00724000
         ST    @10,SMF74CNT-16(,@01)                               0117 00725000
*           SMF74ACT(DDDDBIDX)=0;                                  0118 00726000
         LA    @01,0(@06,@15)                                      0118 00727000
         AL    @01,@CF00647                                        0118 00728000
         ST    @10,SMF74ACT-20(,@01)                               0118 00729000
*           SMF74QUE(DDDDBIDX)=0;                                  0119 00730000
         LA    @01,0(@06,@15)                                      0119 00731000
         AL    @01,@CF00648                                        0119 00732000
         ST    @10,SMF74QUE-24(,@01)                               0119 00733000
*           SMF74STA(DDDDBIDX)='0'B;                               0120 00734000
         ALR   @15,@06                                             0120 00735000
         AL    @15,@CF00656                                        0120 00736000
         NI    SMF74STA-3(@15),B'11111110'                         0120 00737000
*         END;                                                     0121 00738000
*                                                                  0121 00739000
*       /*************************************************************/ 00740000
*       /*                                                           */ 00741000
*       /* SET CONFIGURATION CHANGED FLAG                            */ 00742000
*       /*                                                           */ 00743000
*       /*************************************************************/ 00744000
*                                                                  0122 00745000
*       IF EDDDCCHG(DDDDBIDX)='1'B THEN                            0122 00746000
@RC00109 LR    @10,DDDDBIDX                                        0122 00747000
         MH    @10,@CH00644                                        0122 00748000
         LR    @06,DDDCDIDX                                        0122 00749000
         SLA   @06,3                                               0122 00750000
         L     @01,@PC00001                                        0122 00751000
         L     @01,DDSMAPTR(,@01)                                  0122 00752000
         L     @01,STSMEDAD(,@01)                                  0122 00753000
         L     @01,EDDEDCDT(,@01)                                  0122 00754000
         AL    @01,@CF00647                                        0122 00755000
         L     @01,EDDCDDBQ(@06,@01)                               0122 00756000
         ALR   @01,@10                                             0122 00757000
         AL    @01,@CF00651                                        0122 00758000
         TM    EDDDCCHG(@01),B'00000010'                           0122 00759000
         BNO   @RF00122                                            0122 00760000
*         SMF74VAC(DDDDBIDX)='1'B;                                 0123 00761000
         LR    @10,DDDDBIDX                                        0123 00762000
         MH    @10,@CH00642                                        0123 00763000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0123 00764000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0123 00765000
         LH    @01,SMF74SDC(,@06)                                  0123 00766000
         ALR   @01,@06                                             0123 00767000
         ALR   @01,@10                                             0123 00768000
         AL    @01,@CF00656                                        0123 00769000
         OI    SMF74VAC-3(@01),B'00000010'                         0123 00770000
*       ELSE                                                       0124 00771000
*         SMF74VAC(DDDDBIDX)='0'B;                                 0124 00772000
*                                                                  0124 00773000
         B     @RC00122                                            0124 00774000
@RF00122 LR    @10,DDDDBIDX                                        0124 00775000
         MH    @10,@CH00642                                        0124 00776000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0124 00777000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0124 00778000
         LH    @01,SMF74SDC(,@06)                                  0124 00779000
         ALR   @01,@06                                             0124 00780000
         ALR   @01,@10                                             0124 00781000
         AL    @01,@CF00656                                        0124 00782000
         NI    SMF74VAC-3(@01),B'11111101'                         0124 00783000
*       /*************************************************************/ 00784000
*       /*                                                           */ 00785000
*       /* MACDATE Y-2 73018                                         */ 00786000
*       /*                                                           */ 00787000
*       /*************************************************************/ 00788000
*                                                                  0125 00789000
*       RESPECIFY                                                  0125 00790000
*        (GPR06P) RESTRICTED;                                      0125 00791000
@RC00122 DS    0H                                                  0126 00792000
*       GPR06P=GPR00P&EDDDCCOF;     /* TURN OFF CONFIGURATION CHANGED   00793000
*                                      FLAG                          */ 00794000
         LR    GPR06P,GPR00P                                       0126 00795000
         N     GPR06P,@CF00137                                     0126 00796000
*       GENERATE(CS GPR00P,GPR06P,0(GPR05P));                      0127 00797000
         CS GPR00P,GPR06P,0(GPR05P)                                     00798000
*       BC(7,DDLAB0);               /* TRY AGAIN IF UNSUCCESSFUL     */ 00799000
*                                                                  0128 00800000
         BC    7,DDLAB0                                            0128 00801000
*       /*************************************************************/ 00802000
*       /*                                                           */ 00803000
*       /* MACDATE Y-2 73018                                         */ 00804000
*       /*                                                           */ 00805000
*       /*************************************************************/ 00806000
*                                                                  0129 00807000
*       RESPECIFY                                                  0129 00808000
*        (GPR00P,                                                  0129 00809000
*         GPR06P,                                                  0129 00810000
*         GPR05P) UNRESTRICTED;                                    0129 00811000
*DDLAB1:                                                           0130 00812000
*     END;                          /* END OF A DEVICE CLASS CHECK   */ 00813000
*                                                                  0130 00814000
DDLAB1   AL    DDDDBIDX,@CF00060                                   0130 00815000
@DE00090 LR    @10,DDDCDIDX                                        0130 00816000
         SLA   @10,3                                               0130 00817000
         L     @06,@PC00001                                        0130 00818000
         L     @06,DDSMAPTR(,@06)                                  0130 00819000
         L     @06,STSMEDAD(,@06)                                  0130 00820000
         L     @06,EDDEDCDT(,@06)                                  0130 00821000
         AL    @06,@CF00648                                        0130 00822000
         CH    DDDDBIDX,EDDCDNUM-4(@10,@06)                        0130 00823000
         BNH   @DL00090                                            0130 00824000
*     /***************************************************************/ 00825000
*     /*                                                             */ 00826000
*     /* POINT TO NEXT SMF RECORD SLOT                               */ 00827000
*     /*                                                             */ 00828000
*     /***************************************************************/ 00829000
*                                                                  0131 00830000
*     DDSMFPTR=DDSMFPTR+SMF74LEN;                                  0131 00831000
         AH    DDSMFPTR,SMF74LEN(,DDSMFPTR)                        0131 00832000
*DDLAB2:                                                           0132 00833000
*   END;                            /* END OF A DEVICE CLASS CHECK   */ 00834000
*                                                                  0132 00835000
DDLAB2   AL    DDDCDIDX,@CF00060                                   0132 00836000
         C     DDDCDIDX,@CF00080                                   0132 00837000
         BNH   @DL00074                                            0132 00838000
*   /*****************************************************************/ 00839000
*   /*                                                               */ 00840000
*   /* DDEPILOG: IRBBREAK MACDATE Y-2 73018                          */ 00841000
*   /*                                                               */ 00842000
*   /*****************************************************************/ 00843000
*                                                                  0133 00844000
*DDEPILOG:                                                         0133 00845000
*                                                                  0133 00846000
*   /*****************************************************************/ 00847000
*   /*                                                               */ 00848000
*   /* INDICATE NEXT ROUTINE ADDRESS TO SVC MAINLINE FOR REENTRY     */ 00849000
*   /*                                                               */ 00850000
*   /*****************************************************************/ 00851000
*                                                                  0133 00852000
*   STSMENTR=ADDR(DDRT0025);                                       0133 00853000
DDEPILOG L     @10,@PC00001                                        0133 00854000
         L     @10,DDSMAPTR(,@10)                                  0133 00855000
         LA    @06,DDRT0025                                        0133 00856000
         ST    @06,STSMENTR(,@10)                                  0133 00857000
*   RESPECIFY                                                      0134 00858000
*    (GPR00P,                                                      0134 00859000
*     GPR01P,                                                      0134 00860000
*     GPR14P,                                                      0134 00861000
*     GPR15P) RESTRICTED;                                          0134 00862000
*   GENERATE;                                                      0135 00863000
         STM   @02,@12,28(@13)     SAVE REGISTERS FOR NEXT SEGMENT      00864000
         L     @13,4(,@13)         BACK CHAIN TO CALLERS SAVEAREA       00865000
         LM    @14,@12,12(@13)     RESTORE CALLERS REGISTERS            00866000
         BR    @14                 RETURN TO CALLER                     00867000
*                                                                  0136 00868000
*   /*****************************************************************/ 00869000
*   /*                                                               */ 00870000
*   /* REENTRY POINT FROM CALLER, IGX00014.                          */ 00871000
*   /*                                                               */ 00872000
*   /*****************************************************************/ 00873000
*                                                                  0136 00874000
*DDRT0025:                                                         0136 00875000
*   GENERATE;                                                      0136 00876000
DDRT0025 DS    0H                                                  0136 00877000
         STM   @14,@12,12(@13)     SAVE CALLERS REGISTERS               00878000
         L     @01,0(,@01)         GET ADDRESS OF SAVE AREA ADDRESS     00879000
         L     @01,0(,@01)         GET SAVE AREA ADDRESS                00880000
         LM    @02,@12,28(@01)     RELOAD REGISTERS                     00881000
         ST    @13,4(,@01)         BACK CHAIN NEW SAVEAREA TO OLD       00882000
         ST    @01,8(,@13)         FORWARD CHAIN FROM OLD TO NEW        00883000
         LR    @13,@01             R13 NOW POINTS TO NEW SAVEAREA       00884000
*   RESPECIFY                                                      0137 00885000
*    (GPR00P,                                                      0137 00886000
*     GPR01P,                                                      0137 00887000
*     GPR14P,                                                      0137 00888000
*     GPR15P) UNRESTRICTED;                                        0137 00889000
*                                                                  0137 00890000
*/* BEGIN EPILOG PROCESSING.  THIS CODE IS ENTERED ENABLED.  ITS   0138 00891000
*   FUNCTION IS TO FREE FIXED PROGRAMS AND DATA AND TO TRACE IF    0138 00892000
*   DESIRED                                                          */ 00893000
*                                                                  0138 00894000
*   /*****************************************************************/ 00895000
*   /*                                                               */ 00896000
*   /* FREE PROGRAM AND LOCAL STATIC DATA MACDATE Y-2 73018          */ 00897000
*   /*                                                               */ 00898000
*   /*****************************************************************/ 00899000
*                                                                  0138 00900000
*   RESPECIFY                                                      0138 00901000
*    (GPR00P,                                                      0138 00902000
*     GPR01P,                                                      0138 00903000
*     GPR14P,                                                      0138 00904000
*     GPR15P) RESTRICTED;                                          0138 00905000
*   GENERATE;                                                      0139 00906000
*                                                                  0139 00907000
DDPAGFX4 PGFREE  R,A=IRBMFDDP,EA=@ENDDATA,RELATED=(MFDDPGFX,           X00908000
               IRBMFDDP(DDPAGFX1))                                      00909000
*   /*****************************************************************/ 00910000
*   /*                                                               */ 00911000
*   /* MACDATE Y-2 73018                                             */ 00912000
*   /*                                                               */ 00913000
*   /*****************************************************************/ 00914000
*                                                                  0140 00915000
*   RESPECIFY                                                      0140 00916000
*    (GPR00P,                                                      0140 00917000
*     GPR01P,                                                      0140 00918000
*     GPR14P,                                                      0140 00919000
*     GPR15P) UNRESTRICTED;                                        0140 00920000
*                                                                  0140 00921000
*   /*****************************************************************/ 00922000
*   /*                                                               */ 00923000
*   /* FREE AUTOMATIC STORAGE MACDATE Y-2 73018                      */ 00924000
*   /*                                                               */ 00925000
*   /*****************************************************************/ 00926000
*                                                                  0141 00927000
*   RESPECIFY                                                      0141 00928000
*    (GPR00P,                                                      0141 00929000
*     GPR01P,                                                      0141 00930000
*     GPR14P,                                                      0141 00931000
*     GPR15P) RESTRICTED;                                          0141 00932000
*   GENERATE;                                                      0142 00933000
*                                                                  0142 00934000
         LA    GPR15P,@ENDDATD      END ADDRESS                         00935000
         LA    GPR01P,@DATD         BEGINNING ADDRESS                   00936000
DDPAGFX5 PGFREE R,A=(GPR01P),EA=(GPR15P),RELATED=(MFDDATFX,            X00937000
               IRBMFDDP(DDPAGFX2))                                      00938000
*   /*****************************************************************/ 00939000
*   /*                                                               */ 00940000
*   /* MACDATE Y-2 73018                                             */ 00941000
*   /*                                                               */ 00942000
*   /*****************************************************************/ 00943000
*                                                                  0143 00944000
*   RESPECIFY                                                      0143 00945000
*    (GPR00P,                                                      0143 00946000
*     GPR01P,                                                      0143 00947000
*     GPR14P,                                                      0143 00948000
*     GPR15P) UNRESTRICTED;                                        0143 00949000
*   STRVNSGT=STRVNSGT-1;            /* REMOVE ENTRY FOR AUTO STORAGE */ 00950000
*                                                                  0144 00951000
         L     @10,@PC00001                                        0144 00952000
         L     @10,DDSMAPTR(,@10)                                  0144 00953000
         L     @06,STSMRVT(,@10)                                   0144 00954000
         L     @15,STRVNSGT(,@06)                                  0144 00955000
         BCTR  @15,0                                               0144 00956000
         ST    @15,STRVNSGT(,@06)                                  0144 00957000
*   /*****************************************************************/ 00958000
*   /*                                                               */ 00959000
*   /* UNFIX INTERVAL DATA STORAGE MACDATE Y-2 73018                 */ 00960000
*   /*                                                               */ 00961000
*   /*****************************************************************/ 00962000
*                                                                  0145 00963000
*   RESPECIFY                                                      0145 00964000
*    (GPR00P,                                                      0145 00965000
*     GPR01P,                                                      0145 00966000
*     GPR14P,                                                      0145 00967000
*     GPR15P) RESTRICTED;                                          0145 00968000
*   GPR01P=DDSMIADD-LENGTH(STSMIGMC);/* BEGINNING ADDRESS            */ 00969000
         LR    GPR01P,DDSMIADD                                     0146 00970000
         SL    GPR01P,@CF00175                                     0146 00971000
*   GPR15P=GPR01P+STSMILEN;                                        0147 00972000
         LR    GPR15P,GPR01P                                       0147 00973000
         L     @10,STSMILEN-1(,@10)                                0147 00974000
         LA    @10,0(,@10)                                         0147 00975000
         ALR   GPR15P,@10                                          0147 00976000
*   GENERATE;                                                      0148 00977000
*                                                                  0148 00978000
DDPAGFX6 PGFREE  R,A=(GPR01P),EA=(GPR15P),RELATED=(MFDDISFX,           X00979000
               IRBMFDDP(DDPAGFX3))                                      00980000
*   /*****************************************************************/ 00981000
*   /*                                                               */ 00982000
*   /* MACDATE Y-2 73018                                             */ 00983000
*   /*                                                               */ 00984000
*   /*****************************************************************/ 00985000
*                                                                  0149 00986000
*   RESPECIFY                                                      0149 00987000
*    (GPR00P,                                                      0149 00988000
*     GPR01P,                                                      0149 00989000
*     GPR14P,                                                      0149 00990000
*     GPR15P) UNRESTRICTED;                                        0149 00991000
*   IF DDFSTCLL='1'B THEN           /* RETURN IF FIRST CALL, RETURN  */ 00992000
         L     @10,@PC00001+8                                      0150 00993000
         TM    DDFSTCLL(@10),B'10000000'                           0150 00994000
         BO    @RT00150                                            0150 00995000
*     RETURN;                       /* RETURN TO MFDATA SVC PROCESSOR*/ 00996000
*                                                                  0151 00997000
*   /*****************************************************************/ 00998000
*   /*                                                               */ 00999000
*   /* NOW HAVE TWO PARTIALLY COMPLETED SETS OF SMF RECORDS. EACH    */ 01000000
*   /* TIED TOGETHER WITH A DVT. ONE SET CONTAINS DATA FROM THE LAST */ 01001000
*   /* INTERVAL (POINTED TO BY DDDTAPTR). THE OTHER SET CONTAINS DATA*/ 01002000
*   /* COLLECTED AT THIS INTERVAL (POINTED TO BY DDSMIADD). COMPLETE */ 01003000
*   /* THE SMF RECORDS POINTED TO BY DDDTAPTR. PROVIDE DEFAULT       */ 01004000
*   /* ADDRESSABILITY TO THIS OF OUTPUT RECORDS. THE OTHER SET WILL  */ 01005000
*   /* BE EXPLICITLY POINTER QUALIFIED. LOOP THROUGH DEVICE CLASSES. */ 01006000
*   /*                                                               */ 01007000
*   /*****************************************************************/ 01008000
*                                                                  0152 01009000
*   DDSMFTOT=0;                     /* INITIALIZE ACTUAL TOTAL SMF 0152 01010000
*                                      RECORD LENGTH FOR ALL CLASSES */ 01011000
         SLR   @10,@10                                             0152 01012000
         ST    @10,DDSMFTOT                                        0152 01013000
*   DO DDDVTIDX=1 TO DIM(DDDVADD);                                 0153 01014000
         LA    @10,1                                               0153 01015000
         ST    @10,DDDVTIDX                                        0153 01016000
@DL00153 DS    0H                                                  0154 01017000
*     IF DDDVADD(DDDVTIDX)^=0 THEN  /* IF SMF RECORD EXISTS          */ 01018000
         SLA   @10,2                                               0154 01019000
         L     @06,DDDTAPTR                                        0154 01020000
         AL    @06,@CF00648                                        0154 01021000
         L     @06,DDDVADD(@10,@06)                                0154 01022000
         LTR   @06,@06                                             0154 01023000
         BZ    @RF00154                                            0154 01024000
*       DO;                                                        0155 01025000
*                                                                  0155 01026000
*         /***********************************************************/ 01027000
*         /*                                                         */ 01028000
*         /* ESTABLISH POINTER TO THIS RECORD SMF74B ARRAY           */ 01029000
*         /*                                                         */ 01030000
*         /***********************************************************/ 01031000
*                                                                  0156 01032000
*         RESPECIFY                                                0156 01033000
*           DDDVT BASED(DDSMIADD);                                 0156 01034000
*         RESPECIFY                                                0157 01035000
*           SMFRCD74 BASED(DDDVADD(DDDVTIDX));                     0157 01036000
*         DDSMFB=ADDR(SMF74B);                                     0158 01037000
*                                                                  0158 01038000
         AL    @10,@CF00648                                        0158 01039000
         L     @10,DDDVADD(@10,DDSMIADD)                           0158 01040000
         LA    DDSMFB,SMF74SIZ(,@10)                               0158 01041000
         AH    DDSMFB,SMF74SIZ(,@10)                               0158 01042000
         LH    @10,SMF74SDC(,DDSMFB)                               0158 01043000
         ALR   @10,DDSMFB                                          0158 01044000
         LR    DDSMFB,@10                                          0158 01045000
*         /***********************************************************/ 01046000
*         /*                                                         */ 01047000
*         /* REESTABLISH ADDRESSABILITY TO SUPERVISOR OUTPUT SET OF  */ 01048000
*         /* SMF DATA                                                */ 01049000
*         /*                                                         */ 01050000
*         /***********************************************************/ 01051000
*                                                                  0159 01052000
*         RESPECIFY                                                0159 01053000
*           DDDVT BASED(DDDTAPTR);                                 0159 01054000
*         RESPECIFY                                                0160 01055000
*           SMFRCD74 BASED(DDSMFPTR);                              0160 01056000
*                                                                  0160 01057000
*         /***********************************************************/ 01058000
*         /*                                                         */ 01059000
*         /* ESTABLISH ADDRESSABILITY TO OUTPUT SMF RECORD.          */ 01060000
*         /*                                                         */ 01061000
*         /***********************************************************/ 01062000
*                                                                  0161 01063000
*         DDSMFPTR=DDDVADD(DDDVTIDX);                              0161 01064000
*                                                                  0161 01065000
         LR    DDSMFPTR,@06                                        0161 01066000
*         /***********************************************************/ 01067000
*         /*                                                         */ 01068000
*         /* COMPLETE SMF RECORD                                     */ 01069000
*         /*                                                         */ 01070000
*         /***********************************************************/ 01071000
*                                                                  0162 01072000
*         SMF74IST=DDINTSRT;        /* INTERVAL START TIME           */ 01073000
         L     @10,@PC00001+24                                     0162 01074000
         MVC   SMF74IST(4,DDSMFPTR),DDINTSRT(@10)                  0162 01075000
*         SMF74DAT=DDINTDAT;        /* INTERVAL START DATE           */ 01076000
         L     @10,@PC00001+28                                     0163 01077000
         MVC   SMF74DAT(4,DDSMFPTR),DDINTDAT(@10)                  0163 01078000
*         SMF74INT=DDINTLEN;        /* INTERVAL DURATION             */ 01079000
         L     @10,@PC00001+32                                     0164 01080000
         MVC   SMF74INT(4,DDSMFPTR),DDINTLEN(@10)                  0164 01081000
*         DDDEVCNT=1;               /* COUNT OF VALID OUTPUT DEVICE     01082000
*                                      ENTRIES                       */ 01083000
*                                                                  0165 01084000
         LA    @10,1                                               0165 01085000
         LR    DDDEVCNT,@10                                        0165 01086000
*         /***********************************************************/ 01087000
*         /*                                                         */ 01088000
*         /* LOOP THROUGH DEVICES IN THIS CLASS                      */ 01089000
*         /*                                                         */ 01090000
*         /***********************************************************/ 01091000
*                                                                  0166 01092000
*         DO DDDEVIX1=1 TO SMF74DEV;                               0166 01093000
*                                                                  0166 01094000
         LR    DDDEVIX1,@10                                        0166 01095000
         B     @DE00166                                            0166 01096000
@DL00166 DS    0H                                                  0167 01097000
*           /*********************************************************/ 01098000
*           /*                                                       */ 01099000
*           /* IF THIS DEVICE IS VALID NOW                           */ 01100000
*           /*                                                       */ 01101000
*           /*********************************************************/ 01102000
*                                                                  0167 01103000
*           IF DDSMFB->SMF74TYP(DDDEVIX1)^=DDNOTVLD THEN           0167 01104000
         LR    @10,DDDEVIX1                                        0167 01105000
         MH    @10,@CH00642                                        0167 01106000
         ST    @10,@TF00001                                        0167 01107000
         ALR   @10,DDSMFB                                          0167 01108000
         AL    @10,@CF00650                                        0167 01109000
         CLC   SMF74TYP-4(4,@10),@CB00607                          0167 01110000
         BE    @RF00167                                            0167 01111000
*             DO;                                                  0168 01112000
*                                                                  0168 01113000
*               /*****************************************************/ 01114000
*               /*                                                   */ 01115000
*               /* AND IF IT WAS INVALID LAST INTERVAL               */ 01116000
*               /*                                                   */ 01117000
*               /*****************************************************/ 01118000
*                                                                  0169 01119000
*               IF SMF74TYP(DDDEVIX1)=DDNOTVLD THEN                0169 01120000
         LA    @10,SMF74SIZ(,DDSMFPTR)                             0169 01121000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0169 01122000
         LH    @09,SMF74SDC(,@10)                                  0169 01123000
         ALR   @09,@10                                             0169 01124000
         LR    @10,@09                                             0169 01125000
         AL    @10,@TF00001                                        0169 01126000
         AL    @10,@CF00650                                        0169 01127000
         CLC   SMF74TYP-4(4,@10),@CB00607                          0169 01128000
         BNE   @RF00169                                            0169 01129000
*                 DO;                                              0170 01130000
*                                                                  0170 01131000
*                   /*************************************************/ 01132000
*                   /*                                               */ 01133000
*                   /* MOVE ENTRY TO OUTPUT RECORD.                  */ 01134000
*                   /*                                               */ 01135000
*                   /*************************************************/ 01136000
*                                                                  0171 01137000
*                   SMF74B(DDDEVIX1)=DDSMFB->SMF74B(DDDEVIX1);     0171 01138000
*                                                                  0171 01139000
         LR    @10,@09                                             0171 01140000
         AL    @10,@TF00001                                        0171 01141000
         AL    @10,@CF00649                                        0171 01142000
         LR    @06,DDSMFB                                          0171 01143000
         AL    @06,@TF00001                                        0171 01144000
         AL    @06,@CF00649                                        0171 01145000
         MVC   SMF74B(28,@10),SMF74B(@06)                          0171 01146000
*                   /*************************************************/ 01147000
*                   /*                                               */ 01148000
*                   /* SET VARY ACTIVITY FLAG AND ZERO SIOS, BUSY    */ 01149000
*                   /* SAMPLES, AND ENQUEUED SRBS.                   */ 01150000
*                   /*                                               */ 01151000
*                   /*************************************************/ 01152000
*                                                                  0172 01153000
*                   SMF74VAC(DDDEVIX1)='1'B;                       0172 01154000
         LR    @10,@09                                             0172 01155000
         AL    @10,@TF00001                                        0172 01156000
         AL    @10,@CF00656                                        0172 01157000
         OI    SMF74VAC-3(@10),B'00000010'                         0172 01158000
*                   SMF74CNT(DDDEVIX1)=0;                          0173 01159000
         SLR   @10,@10                                             0173 01160000
         L     @06,@TF00001                                        0173 01161000
         AL    @06,@CF00655                                        0173 01162000
         ST    @10,SMF74CNT-16(@06,@09)                            0173 01163000
*                   SMF74ACT(DDDEVIX1)=0;                          0174 01164000
         L     @06,@TF00001                                        0174 01165000
         AL    @06,@CF00647                                        0174 01166000
         ST    @10,SMF74ACT-20(@06,@09)                            0174 01167000
*                   SMF74QUE(DDDEVIX1)=0;                          0175 01168000
         L     @06,@TF00001                                        0175 01169000
         AL    @09,@CF00648                                        0175 01170000
         ST    @10,SMF74QUE-24(@06,@09)                            0175 01171000
*                 END;                                             0176 01172000
*               ELSE                /* THIS DEVICE WAS VALID LAST  0177 01173000
*                                      INTERVAL ALSO.                */ 01174000
*                 DO;                                              0177 01175000
*                                                                  0177 01176000
         B     @RC00169                                            0177 01177000
@RF00169 DS    0H                                                  0178 01178000
*                   /*************************************************/ 01179000
*                   /*                                               */ 01180000
*                   /* MOVE OVER DEVICE ADDRESS AND VOLUME SERIAL    */ 01181000
*                   /* NUMBER                                        */ 01182000
*                   /*                                               */ 01183000
*                   /*************************************************/ 01184000
*                                                                  0178 01185000
*                   SMF74ADD(DDDEVIX1)=DDSMFB->SMF74ADD(DDDEVIX1); 0178 01186000
         LR    @10,DDDEVIX1                                        0178 01187000
         MH    @10,@CH00642                                        0178 01188000
         LA    @09,SMF74SIZ(,DDSMFPTR)                             0178 01189000
         AH    @09,SMF74SIZ(,DDSMFPTR)                             0178 01190000
         LH    @06,SMF74SDC(,@09)                                  0178 01191000
         ALR   @06,@09                                             0178 01192000
         ST    @10,@TF00001                                        0178 01193000
         ALR   @10,@06                                             0178 01194000
         AL    @10,@CF00649                                        0178 01195000
         LR    @09,DDSMFB                                          0178 01196000
         AL    @09,@TF00001                                        0178 01197000
         AL    @09,@CF00649                                        0178 01198000
         MVC   SMF74ADD(2,@10),SMF74ADD(@09)                       0178 01199000
*                   SMF74SER(DDDEVIX1)=DDSMFB->SMF74SER(DDDEVIX1); 0179 01200000
*                                                                  0179 01201000
         LR    @10,@06                                             0179 01202000
         AL    @10,@TF00001                                        0179 01203000
         AL    @10,@CF00651                                        0179 01204000
         LR    @09,DDSMFB                                          0179 01205000
         AL    @09,@TF00001                                        0179 01206000
         AL    @09,@CF00651                                        0179 01207000
         MVC   SMF74SER-8(6,@10),SMF74SER-8(@09)                   0179 01208000
*                   /*************************************************/ 01209000
*                   /*                                               */ 01210000
*                   /* MOVE OVER STATUS AND VARY FLAGS               */ 01211000
*                   /*                                               */ 01212000
*                   /*************************************************/ 01213000
*                                                                  0180 01214000
*                   IF DDSMFB->SMF74VAC(DDDEVIX1)='1'B THEN        0180 01215000
         LR    @10,DDSMFB                                          0180 01216000
         AL    @10,@TF00001                                        0180 01217000
         AL    @10,@CF00656                                        0180 01218000
         TM    SMF74VAC-3(@10),B'00000010'                         0180 01219000
         BNO   @RF00180                                            0180 01220000
*                     SMF74VAC(DDDEVIX1)='1'B;                     0181 01221000
         AL    @06,@TF00001                                        0181 01222000
         AL    @06,@CF00656                                        0181 01223000
         OI    SMF74VAC-3(@06),B'00000010'                         0181 01224000
*                   ELSE            /* NO VARY ACTIVITY              */ 01225000
*                     SMF74VAC(DDDEVIX1)='0'B;                     0182 01226000
         B     @RC00180                                            0182 01227000
@RF00180 LR    @10,DDDEVIX1                                        0182 01228000
         MH    @10,@CH00642                                        0182 01229000
         LA    @09,SMF74SIZ(,DDSMFPTR)                             0182 01230000
         AH    @09,SMF74SIZ(,DDSMFPTR)                             0182 01231000
         LH    @06,SMF74SDC(,@09)                                  0182 01232000
         ALR   @06,@09                                             0182 01233000
         ALR   @06,@10                                             0182 01234000
         AL    @06,@CF00656                                        0182 01235000
         NI    SMF74VAC-3(@06),B'11111101'                         0182 01236000
*                   IF DDSMFB->SMF74STA(DDDEVIX1)='1'B THEN/* DEVICE    01237000
*                                      ONLINE                        */ 01238000
@RC00180 LR    @10,DDDEVIX1                                        0183 01239000
         MH    @10,@CH00642                                        0183 01240000
         ST    @10,@TF00001                                        0183 01241000
         ALR   @10,DDSMFB                                          0183 01242000
         AL    @10,@CF00656                                        0183 01243000
         TM    SMF74STA-3(@10),B'00000001'                         0183 01244000
         BNO   @RF00183                                            0183 01245000
*                     SMF74STA(DDDEVIX1)='1'B;                     0184 01246000
         LA    @10,SMF74SIZ(,DDSMFPTR)                             0184 01247000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0184 01248000
         LH    @09,SMF74SDC(,@10)                                  0184 01249000
         ALR   @09,@10                                             0184 01250000
         AL    @09,@TF00001                                        0184 01251000
         AL    @09,@CF00656                                        0184 01252000
         OI    SMF74STA-3(@09),B'00000001'                         0184 01253000
*                   ELSE            /* OFFLINE                       */ 01254000
*                     SMF74STA(DDDEVIX1)='0'B;                     0185 01255000
*                                                                  0185 01256000
         B     @RC00183                                            0185 01257000
@RF00183 LR    @10,DDDEVIX1                                        0185 01258000
         MH    @10,@CH00642                                        0185 01259000
         LA    @09,SMF74SIZ(,DDSMFPTR)                             0185 01260000
         AH    @09,SMF74SIZ(,DDSMFPTR)                             0185 01261000
         LH    @06,SMF74SDC(,@09)                                  0185 01262000
         ALR   @06,@09                                             0185 01263000
         ALR   @06,@10                                             0185 01264000
         AL    @06,@CF00656                                        0185 01265000
         NI    SMF74STA-3(@06),B'11111110'                         0185 01266000
*                   /*************************************************/ 01267000
*                   /*                                               */ 01268000
*                   /* IF VARY ACTIVITY WAS DETECTED OR IF CHANNEL IS*/ 01269000
*                   /* OFFLINE, THEN ZERO DATA                       */ 01270000
*                   /*                                               */ 01271000
*                   /*************************************************/ 01272000
*                                                                  0186 01273000
*                   IF SMF74VAC(DDDEVIX1)='1'B|SMF74STA(DDDEVIX1)='0'B  01274000
*                     THEN                                         0186 01275000
@RC00183 LR    @10,DDDEVIX1                                        0186 01276000
         MH    @10,@CH00642                                        0186 01277000
         LA    @09,SMF74SIZ(,DDSMFPTR)                             0186 01278000
         AH    @09,SMF74SIZ(,DDSMFPTR)                             0186 01279000
         LH    @06,SMF74SDC(,@09)                                  0186 01280000
         ALR   @06,@09                                             0186 01281000
         ALR   @06,@10                                             0186 01282000
         AL    @06,@CF00656                                        0186 01283000
         TM    SMF74VAC-3(@06),B'00000010'                         0186 01284000
         BNZ   @RT00186                                            0186 01285000
         TM    SMF74STA-3(@06),B'00000001'                         0186 01286000
         BO    @RF00186                                            0186 01287000
@RT00186 DS    0H                                                  0187 01288000
*                     DO;                                          0187 01289000
*                       SMF74CNT(DDDEVIX1)=0;                      0188 01290000
         SLR   @10,@10                                             0188 01291000
         LR    @09,DDDEVIX1                                        0188 01292000
         MH    @09,@CH00642                                        0188 01293000
         LA    @06,SMF74SIZ(,DDSMFPTR)                             0188 01294000
         AH    @06,SMF74SIZ(,DDSMFPTR)                             0188 01295000
         LH    @05,SMF74SDC(,@06)                                  0188 01296000
         ALR   @05,@06                                             0188 01297000
         LA    @06,0(@09,@05)                                      0188 01298000
         AL    @06,@CF00655                                        0188 01299000
         ST    @10,SMF74CNT-16(,@06)                               0188 01300000
*                       SMF74ACT(DDDEVIX1)=0;                      0189 01301000
         LA    @06,0(@09,@05)                                      0189 01302000
         AL    @06,@CF00647                                        0189 01303000
         ST    @10,SMF74ACT-20(,@06)                               0189 01304000
*                       SMF74QUE(DDDEVIX1)=0;                      0190 01305000
         AL    @05,@CF00648                                        0190 01306000
         ST    @10,SMF74QUE-24(@09,@05)                            0190 01307000
*                     END;                                         0191 01308000
*                   ELSE            /* NO VARY ACTIVITY WAS DETECTED    01309000
*                                      AND CHANNEL IS ONLINE. MOVE 0192 01310000
*                                      DATA                          */ 01311000
*                     DO;                                          0192 01312000
*                                                                  0192 01313000
         B     @RC00186                                            0192 01314000
@RF00186 DS    0H                                                  0193 01315000
*                       /*********************************************/ 01316000
*                       /*                                           */ 01317000
*                       /* SIOS                                      */ 01318000
*                       /*                                           */ 01319000
*                       /*********************************************/ 01320000
*                                                                  0193 01321000
*                       SMF74CNT(DDDEVIX1)=DDSMFB->SMF74CNT(DDDEVIX1)-  01322000
*                           SMF74CNT(DDDEVIX1);                    0193 01323000
*                                                                  0193 01324000
         LR    @10,DDDEVIX1                                        0193 01325000
         MH    @10,@CH00642                                        0193 01326000
         LA    @09,SMF74SIZ(,DDSMFPTR)                             0193 01327000
         AH    @09,SMF74SIZ(,DDSMFPTR)                             0193 01328000
         LH    @06,SMF74SDC(,@09)                                  0193 01329000
         ALR   @06,@09                                             0193 01330000
         LR    @09,DDSMFB                                          0193 01331000
         AL    @09,@CF00655                                        0193 01332000
         L     @09,SMF74CNT-16(@10,@09)                            0193 01333000
         LA    @05,0(@10,@06)                                      0193 01334000
         AL    @05,@CF00655                                        0193 01335000
         SL    @09,SMF74CNT-16(,@05)                               0193 01336000
         LA    @05,0(@10,@06)                                      0193 01337000
         AL    @05,@CF00655                                        0193 01338000
         ST    @09,SMF74CNT-16(,@05)                               0193 01339000
*                       /*********************************************/ 01340000
*                       /*                                           */ 01341000
*                       /* BUSY SAMPLES                              */ 01342000
*                       /*                                           */ 01343000
*                       /*********************************************/ 01344000
*                                                                  0194 01345000
*                       SMF74ACT(DDDEVIX1)=DDSMFB->SMF74ACT(DDDEVIX1)-  01346000
*                           SMF74ACT(DDDEVIX1);                    0194 01347000
*                                                                  0194 01348000
         LR    @09,DDSMFB                                          0194 01349000
         AL    @09,@CF00647                                        0194 01350000
         L     @09,SMF74ACT-20(@10,@09)                            0194 01351000
         LA    @05,0(@10,@06)                                      0194 01352000
         AL    @05,@CF00647                                        0194 01353000
         SL    @09,SMF74ACT-20(,@05)                               0194 01354000
         LA    @05,0(@10,@06)                                      0194 01355000
         AL    @05,@CF00647                                        0194 01356000
         ST    @09,SMF74ACT-20(,@05)                               0194 01357000
*                       /*********************************************/ 01358000
*                       /*                                           */ 01359000
*                       /* CUMULATIVE ENQUEUED SRBS                  */ 01360000
*                       /*                                           */ 01361000
*                       /*********************************************/ 01362000
*                                                                  0195 01363000
*                       SMF74QUE(DDDEVIX1)=DDSMFB->SMF74QUE(DDDEVIX1)-  01364000
*                           SMF74QUE(DDDEVIX1);                    0195 01365000
         LR    @09,DDSMFB                                          0195 01366000
         AL    @09,@CF00648                                        0195 01367000
         L     @09,SMF74QUE-24(@10,@09)                            0195 01368000
         LA    @05,0(@10,@06)                                      0195 01369000
         AL    @05,@CF00648                                        0195 01370000
         SL    @09,SMF74QUE-24(,@05)                               0195 01371000
         AL    @06,@CF00648                                        0195 01372000
         ST    @09,SMF74QUE-24(@10,@06)                            0195 01373000
*                     END;                                         0196 01374000
*                 END;                                             0197 01375000
*                                                                  0197 01376000
@RC00186 DS    0H                                                  0198 01377000
*               /*****************************************************/ 01378000
*               /*                                                   */ 01379000
*               /* MOVE ENTRY INTO PROPER SLOT (IF NEEDED) AND       */ 01380000
*               /* INCREMENT SLOT COUNTER                            */ 01381000
*               /*                                                   */ 01382000
*               /*****************************************************/ 01383000
*                                                                  0198 01384000
*               IF DDDEVCNT^=DDDEVIX1 THEN                         0198 01385000
@RC00169 CR    DDDEVCNT,DDDEVIX1                                   0198 01386000
         BE    @RF00198                                            0198 01387000
*                 DO;                                              0199 01388000
*                   DDSMFPR1=ADDR(SMF74B(DDDEVCNT));               0200 01389000
         LA    @10,28                                              0200 01390000
         LR    @01,DDDEVCNT                                        0200 01391000
         MR    @00,@10                                             0200 01392000
         LA    DDSMFPR1,SMF74SIZ(,DDSMFPTR)                        0200 01393000
         AH    DDSMFPR1,SMF74SIZ(,DDSMFPTR)                        0200 01394000
         LH    @09,SMF74SDC(,DDSMFPR1)                             0200 01395000
         ALR   @09,DDSMFPR1                                        0200 01396000
         AL    @01,@CF00649                                        0200 01397000
         LA    DDSMFPR1,SMF74B(@01,@09)                            0200 01398000
*                   DDSMFPR2=ADDR(SMF74B(DDDEVIX1));               0201 01399000
         LR    @01,@10                                             0201 01400000
         MR    @00,DDDEVIX1                                        0201 01401000
         AL    @09,@CF00649                                        0201 01402000
         LA    DDSMFPR2,SMF74B(@01,@09)                            0201 01403000
*                   DDSMFPR1->DDSMF74B=DDSMFPR2->DDSMF74B;         0202 01404000
         MVC   DDSMF74B(28,DDSMFPR1),DDSMF74B(DDSMFPR2)            0202 01405000
*                 END;                                             0203 01406000
*               DDDEVCNT=DDDEVCNT+1;                               0204 01407000
@RF00198 AL    DDDEVCNT,@CF00060                                   0204 01408000
*             END;                                                 0205 01409000
*         END;                                                     0206 01410000
*                                                                  0206 01411000
@RF00167 AL    DDDEVIX1,@CF00060                                   0206 01412000
@DE00166 LA    @10,SMF74SIZ(,DDSMFPTR)                             0206 01413000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0206 01414000
         CH    DDDEVIX1,SMF74DEV(,@10)                             0206 01415000
         BNH   @DL00166                                            0206 01416000
*         /***********************************************************/ 01417000
*         /*                                                         */ 01418000
*         /* SET NUMBER OF DEVICE ENTRIES                            */ 01419000
*         /*                                                         */ 01420000
*         /***********************************************************/ 01421000
*                                                                  0207 01422000
*         SMF74DEV=DDDEVCNT-1;                                     0207 01423000
         LA    @10,SMF74SIZ(,DDSMFPTR)                             0207 01424000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0207 01425000
         LR    @09,DDDEVCNT                                        0207 01426000
         BCTR  @09,0                                               0207 01427000
         STH   @09,SMF74DEV(,@10)                                  0207 01428000
*         IF DDDEVCNT=1 THEN        /* NO VALID DEVICES IN CLASS     */ 01429000
         C     DDDEVCNT,@CF00060                                   0208 01430000
         BNE   @RF00208                                            0208 01431000
*           DO;                                                    0209 01432000
*             DDDVADD(DDDVTIDX)=0;  /* INDICATE NO SMF RECORD        */ 01433000
         L     @10,DDDVTIDX                                        0210 01434000
         SLA   @10,2                                               0210 01435000
         SLR   @06,@06                                             0210 01436000
         L     @01,DDDTAPTR                                        0210 01437000
         AL    @01,@CF00648                                        0210 01438000
         ST    @06,DDDVADD(@10,@01)                                0210 01439000
*             GO TO DDLAB5;         /* TRY NEXT DEVICE CLASS         */ 01440000
         B     DDLAB5                                              0211 01441000
*           END;                                                   0212 01442000
*                                                                  0212 01443000
*         /***********************************************************/ 01444000
*         /*                                                         */ 01445000
*         /* SET NUMBER OF SAMPLES                                   */ 01446000
*         /*                                                         */ 01447000
*         /***********************************************************/ 01448000
*                                                                  0213 01449000
*         SMF74SAM=DDSMFNOW->SMF74SAM-SMF74SAM;                    0213 01450000
*                                                                  0213 01451000
@RF00208 L     @10,DDDVTIDX                                        0213 01452000
         SLA   @10,2                                               0213 01453000
         AL    @10,@CF00648                                        0213 01454000
         LA    @10,DDDVADD(@10,DDSMIADD)                           0213 01455000
         L     @10,DDSMFNOW(,@10)                                  0213 01456000
         L     @10,SMF74SAM(,@10)                                  0213 01457000
         SL    @10,SMF74SAM(,DDSMFPTR)                             0213 01458000
         ST    @10,SMF74SAM(,DDSMFPTR)                             0213 01459000
*         /***********************************************************/ 01460000
*         /*                                                         */ 01461000
*         /* SET ACTUAL RECORD LENGTH                                */ 01462000
*         /*                                                         */ 01463000
*         /***********************************************************/ 01464000
*                                                                  0214 01465000
*         SMF74LEN=LENGTH(SMFRCD74)+LENGTH(SMF74A)+SMF74DEV*LENGTH(     01466000
*             SMF74B);                                             0214 01467000
*                                                                  0214 01468000
         LA    @10,SMF74SIZ(,DDSMFPTR)                             0214 01469000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0214 01470000
         LH    @10,SMF74DEV(,@10)                                  0214 01471000
         MH    @10,@CH00642                                        0214 01472000
         AL    @10,@CF00643                                        0214 01473000
         STH   @10,SMF74LEN(,DDSMFPTR)                             0214 01474000
*         /***********************************************************/ 01475000
*         /*                                                         */ 01476000
*         /* INCREMENT TOTAL SMF SPACE REQUIRED                      */ 01477000
*         /*                                                         */ 01478000
*         /***********************************************************/ 01479000
*                                                                  0215 01480000
*         DDSMFTOT=DDSMFTOT+SMF74LEN;                              0215 01481000
*                                                                  0215 01482000
         AL    @10,DDSMFTOT                                        0215 01483000
         ST    @10,DDSMFTOT                                        0215 01484000
*         /***********************************************************/ 01485000
*         /*                                                         */ 01486000
*         /* START OF SCAN INDEX LOOP                                */ 01487000
*         /*                                                         */ 01488000
*         /***********************************************************/ 01489000
*                                                                  0216 01490000
*         DO DDDEVIX1=1 TO SMF74DEV-1;                             0216 01491000
         LA    DDDEVIX1,1                                          0216 01492000
         B     @DE00216                                            0216 01493000
@DL00216 DS    0H                                                  0217 01494000
*           DDMINIDX=DDDEVIX1;      /* FIRST MINIMUM INDEX           */ 01495000
*                                                                  0217 01496000
         LR    DDMINIDX,DDDEVIX1                                   0217 01497000
*           /*********************************************************/ 01498000
*           /*                                                       */ 01499000
*           /* FIRST MINIMUM DEVICE ADDRESS                          */ 01500000
*           /*                                                       */ 01501000
*           /*********************************************************/ 01502000
*                                                                  0218 01503000
*           DDMINDEV=SMF74ADD(DDDEVIX1);                           0218 01504000
*                                                                  0218 01505000
         LR    @10,DDDEVIX1                                        0218 01506000
         MH    @10,@CH00642                                        0218 01507000
         LA    @04,SMF74SIZ(,DDSMFPTR)                             0218 01508000
         AH    @04,SMF74SIZ(,DDSMFPTR)                             0218 01509000
         LH    @15,SMF74SDC(,@04)                                  0218 01510000
         ALR   @15,@04                                             0218 01511000
         ALR   @15,@10                                             0218 01512000
         AL    @15,@CF00649                                        0218 01513000
         SLR   DDMINDEV,DDMINDEV                                   0218 01514000
         ICM   DDMINDEV,3,SMF74ADD(@15)                            0218 01515000
*           /*********************************************************/ 01516000
*           /*                                                       */ 01517000
*           /* SCAN FOR MINIMUM DEVICE ADDRESS                       */ 01518000
*           /*                                                       */ 01519000
*           /*********************************************************/ 01520000
*                                                                  0219 01521000
*           DO DDDEVIX2=DDDEVIX1+1 TO SMF74DEV;                    0219 01522000
         LA    DDDEVIX2,1                                          0219 01523000
         ALR   DDDEVIX2,DDDEVIX1                                   0219 01524000
         B     @DE00219                                            0219 01525000
@DL00219 DS    0H                                                  0220 01526000
*             IF SMF74ADD(DDDEVIX2)<DDMINDEV THEN                  0220 01527000
*                                                                  0220 01528000
         LR    @10,DDDEVIX2                                        0220 01529000
         MH    @10,@CH00642                                        0220 01530000
         LA    @15,SMF74SIZ(,DDSMFPTR)                             0220 01531000
         AH    @15,SMF74SIZ(,DDSMFPTR)                             0220 01532000
         LH    @14,SMF74SDC(,@15)                                  0220 01533000
         ALR   @14,@15                                             0220 01534000
         ALR   @14,@10                                             0220 01535000
         AL    @14,@CF00649                                        0220 01536000
         SLR   @10,@10                                             0220 01537000
         ICM   @10,3,SMF74ADD(@14)                                 0220 01538000
         CLR   @10,DDMINDEV                                        0220 01539000
         BNL   @RF00220                                            0220 01540000
*               /*****************************************************/ 01541000
*               /*                                                   */ 01542000
*               /* NEW MINIMUM FOUND                                 */ 01543000
*               /*                                                   */ 01544000
*               /*****************************************************/ 01545000
*                                                                  0221 01546000
*               DO;                                                0221 01547000
*                                                                  0221 01548000
*                 /***************************************************/ 01549000
*                 /*                                                 */ 01550000
*                 /* NEW MINIMUM INDEX                               */ 01551000
*                 /*                                                 */ 01552000
*                 /***************************************************/ 01553000
*                                                                  0222 01554000
*                 DDMINIDX=DDDEVIX2;                               0222 01555000
*                                                                  0222 01556000
         LR    DDMINIDX,DDDEVIX2                                   0222 01557000
*                 /***************************************************/ 01558000
*                 /*                                                 */ 01559000
*                 /* NEW MINIMUM DEVICE ADDRESS                      */ 01560000
*                 /*                                                 */ 01561000
*                 /***************************************************/ 01562000
*                                                                  0223 01563000
*                 DDMINDEV=SMF74ADD(DDDEVIX2);                     0223 01564000
         LR    DDMINDEV,@10                                        0223 01565000
*               END;                                               0224 01566000
*           END;                                                   0225 01567000
*                                                                  0225 01568000
@RF00220 AL    DDDEVIX2,@CF00060                                   0225 01569000
@DE00219 LA    @10,SMF74SIZ(,DDSMFPTR)                             0225 01570000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0225 01571000
         CH    DDDEVIX2,SMF74DEV(,@10)                             0225 01572000
         BNH   @DL00219                                            0225 01573000
*           /*********************************************************/ 01574000
*           /*                                                       */ 01575000
*           /* SWITCH FIRST AND MINIMUM ENTRIES. IF NEW MINIMUM WAS  */ 01576000
*           /* FOUND                                                 */ 01577000
*           /*                                                       */ 01578000
*           /*********************************************************/ 01579000
*                                                                  0226 01580000
*           IF DDMINIDX^=DDDEVIX1 THEN                             0226 01581000
*                                                                  0226 01582000
         CR    DDMINIDX,DDDEVIX1                                   0226 01583000
         BE    @RF00226                                            0226 01584000
*             /*******************************************************/ 01585000
*             /*                                                     */ 01586000
*             /* NEW MINIMUM WAS FOUND                               */ 01587000
*             /*                                                     */ 01588000
*             /*******************************************************/ 01589000
*                                                                  0227 01590000
*             DO;                                                  0227 01591000
*                                                                  0227 01592000
*               /*****************************************************/ 01593000
*               /*                                                   */ 01594000
*               /* EXCHANGE ENTRIES                                  */ 01595000
*               /*                                                   */ 01596000
*               /*****************************************************/ 01597000
*                                                                  0228 01598000
*               DDSMFPR1=ADDR(SMF74B(DDMINIDX));                   0228 01599000
         LA    @10,28                                              0228 01600000
         LR    @01,DDMINIDX                                        0228 01601000
         MR    @00,@10                                             0228 01602000
         LA    DDSMFPR1,SMF74SIZ(,DDSMFPTR)                        0228 01603000
         AH    DDSMFPR1,SMF74SIZ(,DDSMFPTR)                        0228 01604000
         LH    @04,SMF74SDC(,DDSMFPR1)                             0228 01605000
         ALR   @04,DDSMFPR1                                        0228 01606000
         AL    @01,@CF00649                                        0228 01607000
         LA    DDSMFPR1,SMF74B(@01,@04)                            0228 01608000
*               DDSMFPR2=ADDR(SMF74B(DDDEVIX1));                   0229 01609000
         LR    @01,@10                                             0229 01610000
         MR    @00,DDDEVIX1                                        0229 01611000
         AL    @04,@CF00649                                        0229 01612000
         LA    DDSMFPR2,SMF74B(@01,@04)                            0229 01613000
*               DDSMFPR1->DDSMF74B=DDSMFPR1->DDSMF74B&&DDSMFPR2->  0230 01614000
*                   DDSMF74B;                                      0230 01615000
         XC    DDSMF74B(28,DDSMFPR1),DDSMF74B(DDSMFPR2)            0230 01616000
*               DDSMFPR2->DDSMF74B=DDSMFPR1->DDSMF74B&&DDSMFPR2->  0231 01617000
*                   DDSMF74B;                                      0231 01618000
         XC    DDSMF74B(28,DDSMFPR2),DDSMF74B(DDSMFPR1)            0231 01619000
*               DDSMFPR1->DDSMF74B=DDSMFPR1->DDSMF74B&&DDSMFPR2->  0232 01620000
*                   DDSMF74B;                                      0232 01621000
         XC    DDSMF74B(28,DDSMFPR1),DDSMF74B(DDSMFPR2)            0232 01622000
*             END;                                                 0233 01623000
*         END;                                                     0234 01624000
@RF00226 AL    DDDEVIX1,@CF00060                                   0234 01625000
@DE00216 LA    @10,SMF74SIZ(,DDSMFPTR)                             0234 01626000
         AH    @10,SMF74SIZ(,DDSMFPTR)                             0234 01627000
         LH    @10,SMF74DEV(,@10)                                  0234 01628000
         BCTR  @10,0                                               0234 01629000
         CR    DDDEVIX1,@10                                        0234 01630000
         BNH   @DL00216                                            0234 01631000
*       END;                                                       0235 01632000
*DDLAB5:                            /* LOOP ON DEVICE CLASSES        */ 01633000
*   END;                                                           0236 01634000
*                                                                  0236 01635000
@RF00154 DS    0H                                                  0236 01636000
DDLAB5   LA    @10,1                                               0236 01637000
         AL    @10,DDDVTIDX                                        0236 01638000
         ST    @10,DDDVTIDX                                        0236 01639000
         C     @10,@CF00080                                        0236 01640000
         BNH   @DL00153                                            0236 01641000
*   /*****************************************************************/ 01642000
*   /*                                                               */ 01643000
*   /* TRACE TO SMF DATA SET IF DIRECTED TO DO SO                    */ 01644000
*   /*                                                               */ 01645000
*   /*****************************************************************/ 01646000
*                                                                  0237 01647000
*   IF DDTRACE='1'B THEN            /* IF TRACE IS DESIRED           */ 01648000
         L     @10,@PC00001+12                                     0237 01649000
         TM    DDTRACE(@10),B'10000000'                            0237 01650000
         BNO   @RF00237                                            0237 01651000
*     DO DDDVTIDX=1 TO DIM(DDDVADD);                               0238 01652000
         LA    @10,1                                               0238 01653000
         ST    @10,DDDVTIDX                                        0238 01654000
@DL00238 DS    0H                                                  0239 01655000
*       IF DDDVADD(DDDVTIDX)^=0 THEN                               0239 01656000
*                                                                  0239 01657000
         SLA   @10,2                                               0239 01658000
         L     @01,DDDTAPTR                                        0239 01659000
         AL    @01,@CF00648                                        0239 01660000
         L     @10,DDDVADD(@10,@01)                                0239 01661000
         LTR   @10,@10                                             0239 01662000
         BZ    @RF00239                                            0239 01663000
*         /***********************************************************/ 01664000
*         /*                                                         */ 01665000
*         /* SMF RECORD EXISTS                                       */ 01666000
*         /*                                                         */ 01667000
*         /***********************************************************/ 01668000
*                                                                  0240 01669000
*         DO;                                                      0240 01670000
*                                                                  0240 01671000
*           /*********************************************************/ 01672000
*           /*                                                       */ 01673000
*           /* SMF RECORD ADDRESS TO REGISTER MACDATE Y-2 73018      */ 01674000
*           /*                                                       */ 01675000
*           /*********************************************************/ 01676000
*                                                                  0241 01677000
*           RESPECIFY                                              0241 01678000
*            (GPR00P,                                              0241 01679000
*             GPR01P,                                              0241 01680000
*             GPR14P,                                              0241 01681000
*             GPR15P) RESTRICTED;                                  0241 01682000
*           GPR01P=DDDVADD(DDDVTIDX);                              0242 01683000
         LR    GPR01P,@10                                          0242 01684000
*           GENERATE(SMFWTM (GPR01P));                             0243 01685000
*                                                                  0243 01686000
         SMFWTM (GPR01P)                                                01687000
*           /*********************************************************/ 01688000
*           /*                                                       */ 01689000
*           /* MACDATE Y-2 73018                                     */ 01690000
*           /*                                                       */ 01691000
*           /*********************************************************/ 01692000
*                                                                  0244 01693000
*           RESPECIFY                                              0244 01694000
*            (GPR00P,                                              0244 01695000
*             GPR01P,                                              0244 01696000
*             GPR14P,                                              0244 01697000
*             GPR15P) UNRESTRICTED;                                0244 01698000
*         END;                                                     0245 01699000
*     END;                                                         0246 01700000
*                                                                  0246 01701000
@RF00239 LA    @10,1                                               0246 01702000
         AL    @10,DDDVTIDX                                        0246 01703000
         ST    @10,DDDVTIDX                                        0246 01704000
         C     @10,@CF00080                                        0246 01705000
         BNH   @DL00238                                            0246 01706000
*   /*****************************************************************/ 01707000
*   /*                                                               */ 01708000
*   /* GET USER STORAGE FOR THE RETURN SMF RECORD DATA, MOVE THE DATA*/ 01709000
*   /* IN AND FREE THE SUPERVISOR COPY. THE RETURN PARAMETER WILL    */ 01710000
*   /* POINT TO THE USER STORAGE SMF DATA AREA. THE SUBPOOL AND      */ 01711000
*   /* LENGTH WILL PREFIX THE DATA AREA. THIS STORAGE WILL BE FREED  */ 01712000
*   /* BY THE USER                                                   */ 01713000
*   /*                                                               */ 01714000
*   /*****************************************************************/ 01715000
*                                                                  0247 01716000
*   DDSMFSBP=STSMSSP;               /* SMF RECORD USER STORAGE SBPOOL*/ 01717000
@RF00237 L     @10,@PC00001                                        0247 01718000
         L     @10,DDSMAPTR(,@10)                                  0247 01719000
         IC    @15,STSMSSP(,@10)                                   0247 01720000
         STC   @15,DDSMFSBP                                        0247 01721000
*   DDSMFLEN=LENGTH(DDDVADD)*DIM(DDDVADD)+DDSMFTOT+LENGTH(DDSMFGMC);    01722000
         L     @10,DDSMFTOT                                        0248 01723000
         LA    @10,28(,@10)                                        0248 01724000
         STCM  @10,7,DDSMFLEN                                      0248 01725000
*                                   /* ACTUAL LENGTH OF RECORD PLUS     01726000
*                                      ROOM FOR SUBPOOL AND LENGTH   */ 01727000
*                                                                  0249 01728000
*   /*****************************************************************/ 01729000
*   /*                                                               */ 01730000
*   /* MACDATE Y-2 73018                                             */ 01731000
*   /*                                                               */ 01732000
*   /*****************************************************************/ 01733000
*                                                                  0249 01734000
*   RESPECIFY                                                      0249 01735000
*    (GPR00P,                                                      0249 01736000
*     GPR01P,                                                      0249 01737000
*     GPR14P,                                                      0249 01738000
*     GPR15P) RESTRICTED;                                          0249 01739000
*   GPR00P=DDSMFGMC;                /* GETMAIN CONTROL WORD TO REG   */ 01740000
         L     GPR00P,DDSMFGMC                                     0250 01741000
*   GENERATE(GETMAIN R,LV=(0));                                    0251 01742000
         GETMAIN R,LV=(0)                                               01743000
*   DDRETDTA=GPR01P+LENGTH(DDSMFGMC);/* POINT PARM TO RETURN RECORD  */ 01744000
*                                                                  0252 01745000
         L     @10,@PC00001+4                                      0252 01746000
         LA    @09,4                                               0252 01747000
         LR    @08,GPR01P                                          0252 01748000
         ALR   @08,@09                                             0252 01749000
         ST    @08,DDRETDTA(,@10)                                  0252 01750000
*   /*****************************************************************/ 01751000
*   /*                                                               */ 01752000
*   /* MACDATE Y-2 73018                                             */ 01753000
*   /*                                                               */ 01754000
*   /*****************************************************************/ 01755000
*                                                                  0253 01756000
*   RESPECIFY                                                      0253 01757000
*    (GPR00P,                                                      0253 01758000
*     GPR01P,                                                      0253 01759000
*     GPR14P,                                                      0253 01760000
*     GPR15P) UNRESTRICTED;                                        0253 01761000
*                                                                  0253 01762000
*   /*****************************************************************/ 01763000
*   /*                                                               */ 01764000
*   /* LOOP THROUGH DEVICE CLASSES AND MOVE ONLY PERTINENT SMF DATA  */ 01765000
*   /* INTO USER STORAGE MACDATE Y-2 73018                           */ 01766000
*   /*                                                               */ 01767000
*   /*****************************************************************/ 01768000
*                                                                  0254 01769000
*   RESPECIFY                                                      0254 01770000
*    (GPR00P,                                                      0254 01771000
*     GPR01P,                                                      0254 01772000
*     GPR05P,                                                      0254 01773000
*     GPR06P,                                                      0254 01774000
*     GPR07P,                                                      0254 01775000
*     GPR14P,                                                      0254 01776000
*     GPR15P) RESTRICTED;                                          0254 01777000
*   GPR05P=DDSMFGMC;                /* GETMAIN CONTROL WORD TO REG   */ 01778000
         L     GPR05P,DDSMFGMC                                     0255 01779000
*   GPR06P=DDRETDTA-LENGTH(DDSMFGMC);/* PREFIX ADDRESS               */ 01780000
         LCR   @09,@09                                             0256 01781000
         ALR   @09,@08                                             0256 01782000
         LR    GPR06P,@09                                          0256 01783000
*   GPR07P=DDRETDTA;                /* POINT TO OUTPUT DVT           */ 01784000
*                                                                  0257 01785000
         LR    GPR07P,@08                                          0257 01786000
*   /*****************************************************************/ 01787000
*   /*                                                               */ 01788000
*   /* POINT TO FIRST SMF RECORD SLOT                                */ 01789000
*   /*                                                               */ 01790000
*   /*****************************************************************/ 01791000
*                                                                  0258 01792000
*   GPR00P=GPR07P+LENGTH(DDDVADD)*DIM(DDDVADD);                    0258 01793000
         LA    GPR00P,24                                           0258 01794000
         ALR   GPR00P,GPR07P                                       0258 01795000
*   DO DDDVTIDX=1 TO DIM(DDDVADD);                                 0259 01796000
         LA    @10,1                                               0259 01797000
         ST    @10,DDDVTIDX                                        0259 01798000
@DL00259 DS    0H                                                  0260 01799000
*     GPR14P=DDDVADD(DDDVTIDX);     /* DVT ENTRY TO REGISTER         */ 01800000
         SLA   @10,2                                               0260 01801000
         L     @04,DDDTAPTR                                        0260 01802000
         AL    @04,@CF00648                                        0260 01803000
         L     GPR14P,DDDVADD(@10,@04)                             0260 01804000
*     IF GPR14P^=0 THEN             /* SMF RECORD EXISTS             */ 01805000
         LTR   GPR14P,GPR14P                                       0261 01806000
         BZ    @RF00261                                            0261 01807000
*       DO;                         /* SET UP LENGTHS                */ 01808000
*         GPR15P=GPR14P->SMF74LEN;                                 0263 01809000
         LH    GPR15P,SMF74LEN(,GPR14P)                            0263 01810000
*         GPR01P=GPR15P;                                           0264 01811000
         LR    GPR01P,GPR15P                                       0264 01812000
*       END;                                                       0265 01813000
*     ELSE                          /* NO RECORD EXISTS              */ 01814000
*       DO;                         /* ZERO LENGTHS                  */ 01815000
         B     @RC00261                                            0266 01816000
@RF00261 DS    0H                                                  0267 01817000
*         GPR15P=0;                                                0267 01818000
         SLR   GPR15P,GPR15P                                       0267 01819000
*         GPR01P=0;                                                0268 01820000
         SLR   GPR01P,GPR01P                                       0268 01821000
*       END;                                                       0269 01822000
*                                                                  0269 01823000
*     /***************************************************************/ 01824000
*     /*                                                             */ 01825000
*     /* CHANGE TO USERS KEY MACDATE Y-2 73018                       */ 01826000
*     /*                                                             */ 01827000
*     /***************************************************************/ 01828000
*                                                                  0270 01829000
*     RESPECIFY                                                    0270 01830000
*      (GPR02P,                                                    0270 01831000
*       GPR03P,                                                    0270 01832000
*       GPR04P) RESTRICTED;                                        0270 01833000
@RC00261 DS    0H                                                  0271 01834000
*     GPR03P=DDTCBADR;                                             0271 01835000
         L     @10,@PC00001+20                                     0271 01836000
         L     GPR03P,DDTCBADR(,@10)                               0271 01837000
*     GENERATE SETS(DDSAVKEY);                                     0272 01838000
*                                                                  0272 01839000
         USING TCB,GPR03P                                               01840000
DDMODES1 MODESET EXTKEY=TCB,SAVEKEY=DDSAVKEY,WORKREG=4,                X01841000
               RELATED=(MFDDUKEY,IRBMFDDP(DDMODES2))                    01842000
         DROP  GPR03P                                                   01843000
*     /***************************************************************/ 01844000
*     /*                                                             */ 01845000
*     /* MACDATE Y-2 73018                                           */ 01846000
*     /*                                                             */ 01847000
*     /***************************************************************/ 01848000
*                                                                  0273 01849000
*     RESPECIFY                                                    0273 01850000
*      (GPR02P,                                                    0273 01851000
*       GPR03P,                                                    0273 01852000
*       GPR04P) UNRESTRICTED;                                      0273 01853000
*     GENERATE;                                                    0274 01854000
*                                                                  0274 01855000
         LTR   GPR14P,GPR14P        TEST DVT ENTRY                      01856000
         BNZ   DDLAB3               BRANCH IF SMF RECORD EXISTS         01857000
         ST    GPR14P,0(,GPR07P)    ZERO OUTPUT DVT ENTRY               01858000
         B     DDLAB4               DONT MOVE ANY DATA                  01859000
DDLAB3   ST    GPR00P,0(,GPR07P)    ADDR OF RETURN SMF REC TO DVT       01860000
         MVCL  GPR00P,GPR14P        MOVE SMF RECORD TO USER STORAGE     01861000
DDLAB4   ST    GPR05P,0(,GPR06P)    STORE GETMAIN CONTROL WORD          01862000
*                                   INTO PREFIX                         01863000
*     /***************************************************************/ 01864000
*     /*                                                             */ 01865000
*     /* CHANGE BACK TO SYSTEM KEY MACDATE Y-2 73018                 */ 01866000
*     /*                                                             */ 01867000
*     /***************************************************************/ 01868000
*                                                                  0275 01869000
*     RESPECIFY                                                    0275 01870000
*      (GPR02P,                                                    0275 01871000
*       GPR04P) RESTRICTED;                                        0275 01872000
*     GENERATE REFS(DDSAVKEY);                                     0276 01873000
*                                                                  0276 01874000
DDMODES2 MODESET KEYADDR=DDSAVKEY,WORKREG=4,                           X01875000
               RELATED=(MFDDUKEY,IRBMFDDP(DDMODES1))                    01876000
*     /***************************************************************/ 01877000
*     /*                                                             */ 01878000
*     /* MACDATE Y-2 73018                                           */ 01879000
*     /*                                                             */ 01880000
*     /***************************************************************/ 01881000
*                                                                  0277 01882000
*     RESPECIFY                                                    0277 01883000
*      (GPR02P,                                                    0277 01884000
*       GPR04P) UNRESTRICTED;                                      0277 01885000
*                                                                  0277 01886000
*     /***************************************************************/ 01887000
*     /*                                                             */ 01888000
*     /* UPDATE POINTERS                                             */ 01889000
*     /*                                                             */ 01890000
*     /***************************************************************/ 01891000
*                                                                  0278 01892000
*     GPR07P=GPR07P+LENGTH(DDDVADD);/* POINT TO NEXT OUTPUT DVT SLOT */ 01893000
         AL    GPR07P,@CF00175                                     0278 01894000
*     GPR00P=GPR00P+GPR15P;         /* POINT TO NEXT SMF RECORD SLOT */ 01895000
         ALR   GPR00P,GPR15P                                       0279 01896000
*   END;                                                           0280 01897000
*                                                                  0280 01898000
         LA    @10,1                                               0280 01899000
         AL    @10,DDDVTIDX                                        0280 01900000
         ST    @10,DDDVTIDX                                        0280 01901000
         C     @10,@CF00080                                        0280 01902000
         BNH   @DL00259                                            0280 01903000
*   /*****************************************************************/ 01904000
*   /*                                                               */ 01905000
*   /* MACDATE Y-2 73018                                             */ 01906000
*   /*                                                               */ 01907000
*   /*****************************************************************/ 01908000
*                                                                  0281 01909000
*   RESPECIFY                                                      0281 01910000
*    (GPR00P,                                                      0281 01911000
*     GPR01P,                                                      0281 01912000
*     GPR05P,                                                      0281 01913000
*     GPR06P,                                                      0281 01914000
*     GPR07P,                                                      0281 01915000
*     GPR14P,                                                      0281 01916000
*     GPR15P) UNRESTRICTED;                                        0281 01917000
*                                                                  0281 01918000
*   /*****************************************************************/ 01919000
*   /*                                                               */ 01920000
*   /* NOW FREE SYSTEM SMF RECORD STORAGE MACDATE Y-2 73018          */ 01921000
*   /*                                                               */ 01922000
*   /*****************************************************************/ 01923000
*                                                                  0282 01924000
*   RESPECIFY                                                      0282 01925000
*    (GPR00P,                                                      0282 01926000
*     GPR01P,                                                      0282 01927000
*     GPR14P,                                                      0282 01928000
*     GPR15P) RESTRICTED;                                          0282 01929000
*   GPR00P=STSMIGMC;                /* GETMAIN CONTROL WORD TO REG   */ 01930000
         L     @10,@PC00001                                        0283 01931000
         L     @10,DDSMAPTR(,@10)                                  0283 01932000
         L     GPR00P,STSMIGMC(,@10)                               0283 01933000
*   GPR01P=DDDTAPTR-LENGTH(STSMIGMC);/* POINT TO BEGINNING OF STORAGE*/ 01934000
         L     GPR01P,DDDTAPTR                                     0284 01935000
         SL    GPR01P,@CF00175                                     0284 01936000
*   GENERATE;                                                      0285 01937000
*                                                                  0285 01938000
DDGETMN2 FREEMAIN R,LV=(0),A=(1),RELATED=(MFDDISGM,IRBMFDDP(DDGETMN1))  01939000
*   /*****************************************************************/ 01940000
*   /*                                                               */ 01941000
*   /* MACDATE Y-2 73018                                             */ 01942000
*   /*                                                               */ 01943000
*   /*****************************************************************/ 01944000
*                                                                  0286 01945000
*   RESPECIFY                                                      0286 01946000
*    (GPR00P,                                                      0286 01947000
*     GPR01P,                                                      0286 01948000
*     GPR14P,                                                      0286 01949000
*     GPR15P) UNRESTRICTED;                                        0286 01950000
*   RETURN;                         /* RETURN TO CALLER              */ 01951000
@EL00001 L     @13,4(,@13)                                         0287 01952000
@EF00001 L     @00,@SIZDATD                                        0287 01953000
         LR    @01,@11                                             0287 01954000
         FREEMAIN R,LV=(0),A=(1)                                        01955000
@ER00001 LM    @14,@12,12(@13)                                     0287 01956000
         BR    @14                                                 0287 01957000
*   END                                                            0288 01958000
*                                                                  0288 01959000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 01960000
*/*%INCLUDE SYSLIB  (IFASMFR )                                       */ 01961000
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                       */ 01962000
*                                                                  0288 01963000
*       ;                                                          0288 01964000
         B     @EL00001                                            0288 01965000
@DATA    DS    0H                                                       01966000
@CH00056 DC    H'8'                                                     01967000
@CH00644 DC    H'20'                                                    01968000
@CH00642 DC    H'28'                                                    01969000
@DATD    DSECT                                                          01970000
         DS    0F                                                       01971000
@SA00001 DS    18F                                                      01972000
@PC00001 DS    9F                                                       01973000
@TF00001 DS    F                                                        01974000
@TF00002 DS    F                                                        01975000
IRBMFDDP CSECT                                                          01976000
         DS    0F                                                       01977000
@CF00060 DC    F'1'                                                     01978000
@CF00175 DC    F'4'                                                     01979000
@CF00080 DC    F'6'                                                     01980000
@CF00643 DC    F'56'                                                    01981000
@CF00649 DC    F'-28'                                                   01982000
@CF00656 DC    F'-25'                                                   01983000
@CF00650 DC    F'-24'                                                   01984000
@CF00651 DC    F'-20'                                                   01985000
@CF00652 DC    F'-19'                                                   01986000
@CF00653 DC    F'-16'                                                   01987000
@CF00655 DC    F'-12'                                                   01988000
@CF00647 DC    F'-8'                                                    01989000
@CF00648 DC    F'-4'                                                    01990000
@CF00137 DC    XL4'FDFFFFFF'                                            01991000
@CF00654 DC    XL4'0000FFFF'                                            01992000
@DATD    DSECT                                                          01993000
         DS    0D                                                       01994000
DDDTAPTR DS    A                                                        01995000
DDSMFTOT DS    F                                                        01996000
DDDVTIDX DS    F                                                        01997000
DDPAGECB DS    F                                                        01998000
DDSAVKEY DS    CL1                                                      01999000
         DS    CL3                                                      02000000
DDSMFGMC DS    CL4                                                      02001000
         ORG   DDSMFGMC                                                 02002000
DDSMFSBP DS    FL1                                                      02003000
DDSMFLEN DS    FL3                                                      02004000
         ORG   DDSMFGMC+4                                               02005000
IRBMFDDP CSECT                                                          02006000
         DS    0F                                                       02007000
@SIZDATD DC    AL1(0)                                                   02008000
         DC    AL3(@ENDDATD-@DATD)                                      02009000
         DS    0D                                                       02010000
@CB00607 DC    X'FFFFFFFF'                                              02011000
DDUCBTYP DC    X'804020100804'                                          02012000
DDPATCH  DS    CL200                                                    02013000
IRBMFDDP CSECT                                                          02014000
         IKJTCB                                                         02015000
IRBMFDDP CSECT                                                          02016000
IRBMFDDP CSECT                                                          02017000
DDTRTAB  DS    0D                                                       02018000
         ORG   DDTRTAB+C'A'                                             02019000
         DC    X'FAFBFCFDFEFF'         HEX DATA FOR TRANSLATE TABLE     02020000
         ORG   DDTRTAB+C'0'                                             02021000
         DC    C'0123456789'           HEX DATA FOR TRANSLATE TABLE     02022000
         ORG   DDTRTAB+256                                              02023000
@DATD    DSECT                                                          02024000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                02025000
@ENDDATD EQU   *                                                        02026000
IRBMFDDP CSECT                                                          02027000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02028000
@01      EQU   01                                                       02029000
@02      EQU   02                                                       02030000
@03      EQU   03                                                       02031000
@04      EQU   04                                                       02032000
@05      EQU   05                                                       02033000
@06      EQU   06                                                       02034000
@07      EQU   07                                                       02035000
@08      EQU   08                                                       02036000
@09      EQU   09                                                       02037000
@10      EQU   10                                                       02038000
@11      EQU   11                                                       02039000
@12      EQU   12                                                       02040000
@13      EQU   13                                                       02041000
@14      EQU   14                                                       02042000
@15      EQU   15                                                       02043000
DDMINDEV EQU   @06                                                      02044000
DDMINIDX EQU   @05                                                      02045000
DDDEVIX2 EQU   @04                                                      02046000
DDDEVIX1 EQU   @03                                                      02047000
DDSMFPR2 EQU   @05                                                      02048000
DDSMFPR1 EQU   @06                                                      02049000
DDDEVCNT EQU   @08                                                      02050000
DDDDBIDX EQU   @03                                                      02051000
DDSMFPTR EQU   @02                                                      02052000
DDSMFB   EQU   @04                                                      02053000
DDSMIADD EQU   @07                                                      02054000
DDDCDIDX EQU   @04                                                      02055000
GPR00P   EQU   @00                                                      02056000
GPR01P   EQU   @01                                                      02057000
GPR14P   EQU   @14                                                      02058000
GPR15P   EQU   @15                                                      02059000
GPR13P   EQU   @13                                                      02060000
GPR02P   EQU   @02                                                      02061000
GPR03P   EQU   @03                                                      02062000
GPR04P   EQU   @04                                                      02063000
GPR05P   EQU   @05                                                      02064000
GPR06P   EQU   @06                                                      02065000
GPR07P   EQU   @07                                                      02066000
GPR00F   EQU   @00                                                      02067000
GPR01F   EQU   @01                                                      02068000
GPR14F   EQU   @14                                                      02069000
GPR15F   EQU   @15                                                      02070000
STSMA    EQU   0                                                        02071000
STSMOPT  EQU   STSMA                                                    02072000
STSMOFLG EQU   STSMOPT+3                                                02073000
STSMSAVE EQU   STSMA+24                                                 02074000
STSMENTR EQU   STSMA+28                                                 02075000
STSMEDAD EQU   STSMA+32                                                 02076000
STSMIGMC EQU   STSMA+36                                                 02077000
STSMILEN EQU   STSMIGMC+1                                               02078000
STSMIADD EQU   STSMA+40                                                 02079000
STSMRVT  EQU   STSMA+44                                                 02080000
STSMSSP  EQU   STSMA+52                                                 02081000
DDDVT    EQU   0                                                        02082000
EDDEDT   EQU   0                                                        02083000
EDDEDCDT EQU   EDDEDT                                                   02084000
EDDESAMP EQU   EDDEDT+8                                                 02085000
EDDCDT   EQU   0                                                        02086000
EDDCDDBQ EQU   EDDCDT                                                   02087000
EDDCDNUM EQU   EDDCDT+4                                                 02088000
EDDDB    EQU   0                                                        02089000
EDDDFLGS EQU   EDDDB                                                    02090000
EDDDVALD EQU   EDDDFLGS                                                 02091000
EDDDCCHG EQU   EDDDFLGS                                                 02092000
EDDDALIV EQU   EDDDFLGS                                                 02093000
EDDDADDR EQU   EDDDB+1                                                  02094000
EDDDUCBA EQU   EDDDB+4                                                  02095000
EDDDSIOS EQU   EDDDB+8                                                  02096000
EDDDBUSY EQU   EDDDB+12                                                 02097000
EDDDNENQ EQU   EDDDB+16                                                 02098000
STRVT    EQU   0                                                        02099000
STRVSSGT EQU   STRVT+8                                                  02100000
STRVNSGT EQU   STRVT+12                                                 02101000
STSGT    EQU   0                                                        02102000
STSGFREE EQU   STSGT                                                    02103000
STSGADD  EQU   STSGT+4                                                  02104000
SMFRCD74 EQU   0                                                        02105000
SMF74LEN EQU   SMFRCD74                                                 02106000
SMF74RTY EQU   SMFRCD74+5                                               02107000
SMF74SIZ EQU   SMFRCD74+18                                              02108000
SMF74IST EQU   SMFRCD74+20                                              02109000
SMF74DAT EQU   SMFRCD74+24                                              02110000
SMF74INT EQU   SMFRCD74+28                                              02111000
SMF74SUB EQU   SMFRCD74+34                                              02112000
SMF74SAM EQU   SMFRCD74+36                                              02113000
SMF74PTR EQU   0                                                        02114000
SMF74A   EQU   0                                                        02115000
SMF74SDC EQU   SMF74A                                                   02116000
SMF74DEV EQU   SMF74A+2                                                 02117000
SMF74SDD EQU   SMF74A+4                                                 02118000
SMF74B   EQU   0                                                        02119000
SMF74ADD EQU   SMF74B                                                   02120000
SMF74CNF EQU   SMF74B+3                                                 02121000
SMF74VAC EQU   SMF74CNF                                                 02122000
SMF74STA EQU   SMF74CNF                                                 02123000
SMF74TYP EQU   SMF74B+4                                                 02124000
SMF74SER EQU   SMF74B+8                                                 02125000
SMF74CNT EQU   SMF74B+16                                                02126000
SMF74ACT EQU   SMF74B+20                                                02127000
SMF74QUE EQU   SMF74B+24                                                02128000
UCB      EQU   0                                                        02129000
UCBPTR   EQU   0                                                        02130000
UCBOB    EQU   0                                                        02131000
UCBJBNR  EQU   UCBOB                                                    02132000
UCBFL5   EQU   UCBOB+1                                                  02133000
UCBAF    EQU   UCBFL5                                                   02134000
UCBSTAT  EQU   UCBOB+3                                                  02135000
UCBCHAN  EQU   UCBOB+4                                                  02136000
UCBSFLS  EQU   UCBOB+6                                                  02137000
UCBFLA   EQU   UCBSFLS                                                  02138000
UCBFL1   EQU   UCBFLA                                                   02139000
UCBBSY   EQU   UCBFL1                                                   02140000
UCBNRY   EQU   UCBFL1                                                   02141000
UCBPST   EQU   UCBFL1                                                   02142000
UCBCUB   EQU   UCBFL1                                                   02143000
UCBFLB   EQU   UCBSFLS+1                                                02144000
UCBCHM   EQU   UCBOB+8                                                  02145000
UCBCHM1  EQU   UCBCHM                                                   02146000
UCBPTH0  EQU   UCBCHM1                                                  02147000
UCBPTH1  EQU   UCBCHM1                                                  02148000
UCBWGT   EQU   UCBOB+12                                                 02149000
UCBMTPXP EQU   UCBWGT                                                   02150000
UCBTYP   EQU   UCBOB+16                                                 02151000
UCBTBYT1 EQU   UCBTYP                                                   02152000
UCB1FEA5 EQU   UCBTBYT1                                                 02153000
UCB1FEA6 EQU   UCBTBYT1                                                 02154000
UCBTBYT2 EQU   UCBTYP+1                                                 02155000
UCB2OPT2 EQU   UCBTBYT2                                                 02156000
UCBDUDN1 EQU   UCB2OPT2                                                 02157000
UCB2OPT3 EQU   UCBTBYT2                                                 02158000
UCBDUDN2 EQU   UCB2OPT3                                                 02159000
UCB2OPT4 EQU   UCBTBYT2                                                 02160000
UCBRWTAU EQU   UCB2OPT4                                                 02161000
UCB2OPT6 EQU   UCBTBYT2                                                 02162000
UCB2OPT7 EQU   UCBTBYT2                                                 02163000
UCBTBYT3 EQU   UCBTYP+2                                                 02164000
UCBDVCLS EQU   UCBTBYT3                                                 02165000
UCB3TAPE EQU   UCBDVCLS                                                 02166000
UCB3DACC EQU   UCBDVCLS                                                 02167000
UCBTBYT4 EQU   UCBTYP+3                                                 02168000
UCBEXTPT EQU   UCBOB+20                                                 02169000
UCBFLC   EQU   UCBEXTPT                                                 02170000
UCBDEV   EQU   UCBOB+24                                                 02171000
UCBCMEXT EQU   0                                                        02172000
UCBATI   EQU   UCBCMEXT+3                                               02173000
@NM00012 EQU   UCBATI                                                   02174000
UCBFLP1  EQU   UCBCMEXT+5                                               02175000
UCBMT    EQU   0                                                        02176000
UCBOCR   EQU   0                                                        02177000
UCB3540X EQU   0                                                        02178000
UCBDKBYT EQU   UCB3540X+6                                               02179000
UCBUCS   EQU   0                                                        02180000
UCBUCSOP EQU   UCBUCS+4                                                 02181000
UCBFCBOP EQU   UCBUCS+5                                                 02182000
DDSMFNOW EQU   0                                                        02183000
DDDTAGMC EQU   0                                                        02184000
DDSMF74B EQU   0                                                        02185000
IKEBC    EQU   0                                                        02186000
IKEBF15  EQU   0                                                        02187000
IKEBF31  EQU   0                                                        02188000
IKEBP15  EQU   0                                                        02189000
IKEBP31  EQU   0                                                        02190000
IKEBP8   EQU   0                                                        02191000
UCBBGN   EQU   0                                                        02192000
DDSMAPTR EQU   0                                                        02193000
DDRETDTA EQU   0                                                        02194000
DDFSTCLL EQU   0                                                        02195000
DDTRACE  EQU   0                                                        02196000
DDSMFHDR EQU   0                                                        02197000
DDTCBADR EQU   0                                                        02198000
DDINTSRT EQU   0                                                        02199000
DDINTDAT EQU   0                                                        02200000
DDINTLEN EQU   0                                                        02201000
STSMB    EQU   STSMOPT                                                  02202000
@NM00004 EQU   STSMB+3                                                  02203000
STSMDEVF EQU   @NM00004                                                 02204000
STSMC    EQU   STSMOPT                                                  02205000
@NM00006 EQU   STSMC+3                                                  02206000
DDDVADD  EQU   DDDVT                                                    02207000
UCBOBS01 EQU   UCBDEV                                                   02208000
UCBVOLI  EQU   UCBOBS01+4                                               02209000
UCBSTAB  EQU   UCBOBS01+10                                              02210000
UCBBSVL  EQU   UCBSTAB                                                  02211000
UCBPRSRS EQU   UCBSTAB                                                  02212000
UCBDMCT  EQU   UCBOBS01+11                                              02213000
UCBFL4   EQU   UCBOBS01+13                                              02214000
UCBBASE  EQU   UCBOBS01+16                                              02215000
UCBOBS02 EQU   UCBDEV                                                   02216000
UCBTFL1  EQU   UCBOBS02+19                                              02217000
UCBXTN   EQU   UCBOBS02+20                                              02218000
UCBVOPT  EQU   UCBXTN                                                   02219000
UCBOBS03 EQU   UCBDEV                                                   02220000
UCBXTADR EQU   UCBOBS03                                                 02221000
UCBOBS04 EQU   UCBDEV                                                   02222000
UCBBTA   EQU   UCBOBS04+12                                              02223000
UCBOBS06 EQU   UCBDEV                                                   02224000
UCBAOF   EQU   UCBOBS06                                                 02225000
UCBAOF1  EQU   UCBAOF                                                   02226000
UCBAOF2  EQU   UCBAOF+1                                                 02227000
@NM00011 EQU   UCBOBS06+3                                               02228000
UCBIRB   EQU   UCBOBS06+4                                               02229000
UCBGRAF  EQU   UCBIRB                                                   02230000
UCBLDNCA EQU   UCBOBS06+8                                               02231000
UCBRDYQ  EQU   UCBLDNCA                                                 02232000
UCBIRLN  EQU   UCBRDYQ                                                  02233000
UCBLDNCB EQU   UCBRDYQ+1                                                02234000
UCBCTLNK EQU   UCBOBS06+12                                              02235000
UCBOBS07 EQU   UCBDEV                                                   02236000
UCBOBS08 EQU   UCBDEV                                                   02237000
UCBOBS09 EQU   UCBDEV                                                   02238000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02239000
UCBRV066 EQU   UCBOBS09+4                                               02240000
UCBIOSBA EQU   UCBOBS09                                                 02241000
UCBRV042 EQU   UCBOBS08+5                                               02242000
UCBCTCF1 EQU   UCBOBS08+4                                               02243000
UCBCTCAD EQU   UCBOBS08                                                 02244000
UCBICNCB EQU   UCBOBS07+4                                               02245000
UCBRV040 EQU   UCBOBS07                                                 02246000
UCBCTLNA EQU   UCBCTLNK+1                                               02247000
UCBRLN   EQU   UCBCTLNK                                                 02248000
UCBRDYQA EQU   UCBLDNCB                                                 02249000
UCBINRLN EQU   UCBIRLN                                                  02250000
UCBIRBA  EQU   UCBIRB+1                                                 02251000
UCBRV039 EQU   UCBGRAF                                                  02252000
UCBDWNR  EQU   UCBGRAF                                                  02253000
UCBRPND  EQU   UCBGRAF                                                  02254000
UCBUPM   EQU   UCBGRAF                                                  02255000
UCBBTAM  EQU   UCBGRAF                                                  02256000
UCBDRNO  EQU   UCBGRAF                                                  02257000
UCBDRO   EQU   UCBGRAF                                                  02258000
UCBOIP   EQU   UCBGRAF                                                  02259000
UCBATRCD EQU   @NM00011                                                 02260000
UCBSKPFG EQU   @NM00011                                                 02261000
UCBRIPND EQU   @NM00011                                                 02262000
UCBRTIAC EQU   @NM00011                                                 02263000
UCBRSV79 EQU   @NM00011                                                 02264000
UCBRSV78 EQU   @NM00011                                                 02265000
UCBRSV77 EQU   @NM00011                                                 02266000
UCBOLTEP EQU   @NM00011                                                 02267000
UCBATNCT EQU   UCBOBS06+2                                               02268000
UCBRSV76 EQU   UCBAOF2                                                  02269000
UCBRSV75 EQU   UCBAOF2                                                  02270000
UCBRSV74 EQU   UCBAOF2                                                  02271000
UCBRSV73 EQU   UCBAOF2                                                  02272000
UCBRSV72 EQU   UCBAOF2                                                  02273000
UCBRSV71 EQU   UCBAOF2                                                  02274000
UCBRSV70 EQU   UCBAOF2                                                  02275000
UCBRSV69 EQU   UCBAOF2                                                  02276000
UCBRSV68 EQU   UCBAOF1                                                  02277000
UCBRSV67 EQU   UCBAOF1                                                  02278000
UCBRSV66 EQU   UCBAOF1                                                  02279000
UCBRSV65 EQU   UCBAOF1                                                  02280000
UCBRSV64 EQU   UCBAOF1                                                  02281000
UCBOFNL  EQU   UCBAOF1                                                  02282000
UCBOFSP  EQU   UCBAOF1                                                  02283000
UCBOFMCR EQU   UCBAOF1                                                  02284000
UCBBTB   EQU   UCBBTA+1                                                 02285000
UCBDI    EQU   UCBBTA                                                   02286000
UCBSNS   EQU   UCBOBS04+8                                               02287000
UCBTEB   EQU   UCBOBS04+4                                               02288000
UCBGCB   EQU   UCBOBS04+3                                               02289000
UCBOPEN  EQU   UCBOBS04+2                                               02290000
UCBSTART EQU   UCBOBS04                                                 02291000
UCBXTNB  EQU   UCBXTN+1                                                 02292000
UCBRSV22 EQU   UCBVOPT                                                  02293000
UCBRSV21 EQU   UCBVOPT                                                  02294000
UCBRSV20 EQU   UCBVOPT                                                  02295000
UCBESVE  EQU   UCBVOPT                                                  02296000
UCBERPC  EQU   UCBVOPT                                                  02297000
UCBESVC  EQU   UCBVOPT                                                  02298000
UCBEVA   EQU   UCBVOPT                                                  02299000
UCBESV   EQU   UCBVOPT                                                  02300000
UCBRV009 EQU   UCBTFL1                                                  02301000
UCBRV008 EQU   UCBTFL1                                                  02302000
UCBRV007 EQU   UCBTFL1                                                  02303000
UCBRV006 EQU   UCBTFL1                                                  02304000
UCBRV005 EQU   UCBTFL1                                                  02305000
UCBRV038 EQU   UCBTFL1                                                  02306000
UCBNSLTP EQU   UCBTFL1                                                  02307000
UCBNLTP  EQU   UCBTFL1                                                  02308000
UCBRES1B EQU   UCBOBS02+18                                              02309000
UCBFSER  EQU   UCBOBS02+12                                              02310000
@NM00010 EQU   UCBOBS02+4                                               02311000
UCBFSEQ  EQU   UCBOBS02+2                                               02312000
UCBFSCT  EQU   UCBOBS02                                                 02313000
UCBNEXP  EQU   UCBOBS01+20                                              02314000
UCBRES1A EQU   UCBOBS01+15                                              02315000
UCBUSER  EQU   UCBOBS01+14                                              02316000
UCBFL47  EQU   UCBFL4                                                   02317000
UCBFL46  EQU   UCBFL4                                                   02318000
UCBFL45  EQU   UCBFL4                                                   02319000
UCBRV065 EQU   UCBFL4                                                   02320000
UCBDSS   EQU   UCBFL4                                                   02321000
UCBRV028 EQU   UCBFL4                                                   02322000
UCBWDAV  EQU   UCBFL4                                                   02323000
UCBDAVV  EQU   UCBFL4                                                   02324000
UCBSQC   EQU   UCBOBS01+12                                              02325000
UCBDATP  EQU   UCBOBS01+12                                              02326000
UCBDMC   EQU   UCBDMCT                                                  02327000
UCBMOUNT EQU   UCBDMCT                                                  02328000
UCBBNUL  EQU   UCBSTAB                                                  02329000
UCBSHAR  EQU   UCBSTAB                                                  02330000
UCBBSTR  EQU   UCBSTAB                                                  02331000
UCBBPUB  EQU   UCBSTAB                                                  02332000
UCBBPRV  EQU   UCBSTAB                                                  02333000
UCBBALB  EQU   UCBPRSRS                                                 02334000
UCBPGFL  EQU   UCBSTAB                                                  02335000
UCBDVSHR EQU   UCBBSVL                                                  02336000
UCBVTOC  EQU   UCBOBS01                                                 02337000
STSMWKLD EQU   @NM00006                                                 02338000
@NM00007 EQU   @NM00006                                                 02339000
@NM00005 EQU   STSMC                                                    02340000
STSMCRDR EQU   STSMDEVF                                                 02341000
STSMUNIT EQU   STSMDEVF                                                 02342000
STSMGRAP EQU   STSMDEVF                                                 02343000
STSMDA   EQU   STSMDEVF                                                 02344000
STSMTP   EQU   STSMDEVF                                                 02345000
STSMTAPE EQU   STSMDEVF                                                 02346000
@NM00003 EQU   STSMB                                                    02347000
UCBERADR EQU   UCBUCS+12                                                02348000
UCBFCBID EQU   UCBUCS+8                                                 02349000
UCBERCNT EQU   UCBUCS+7                                                 02350000
UCBRSV51 EQU   UCBUCS+6                                                 02351000
UCBRSV50 EQU   UCBFCBOP                                                 02352000
UCBRSV49 EQU   UCBFCBOP                                                 02353000
UCBRSV48 EQU   UCBFCBOP                                                 02354000
UCBRSV47 EQU   UCBFCBOP                                                 02355000
UCBRSV46 EQU   UCBFCBOP                                                 02356000
UCBRSV45 EQU   UCBFCBOP                                                 02357000
UCBRSV44 EQU   UCBFCBOP                                                 02358000
UCBFCBO1 EQU   UCBFCBOP                                                 02359000
UCBUCSPE EQU   UCBUCSOP                                                 02360000
UCBRSV43 EQU   UCBUCSOP                                                 02361000
UCBRSV42 EQU   UCBUCSOP                                                 02362000
UCBRSV41 EQU   UCBUCSOP                                                 02363000
UCBRSV40 EQU   UCBUCSOP                                                 02364000
UCBRSV39 EQU   UCBUCSOP                                                 02365000
UCBUCSO2 EQU   UCBUCSOP                                                 02366000
UCBUCSO1 EQU   UCBUCSOP                                                 02367000
UCBUCSID EQU   UCBUCS                                                   02368000
UCBRV073 EQU   UCB3540X+7                                               02369000
UCBRV072 EQU   UCBDKBYT                                                 02370000
UCBRV071 EQU   UCBDKBYT                                                 02371000
UCBRV070 EQU   UCBDKBYT                                                 02372000
UCBRV069 EQU   UCBDKBYT                                                 02373000
UCBRV068 EQU   UCBDKBYT                                                 02374000
UCBRV067 EQU   UCBDKBYT                                                 02375000
UCBVLVER EQU   UCBDKBYT                                                 02376000
UCBDKAMX EQU   UCBDKBYT                                                 02377000
UCBVLSER EQU   UCB3540X                                                 02378000
UCBRDATA EQU   UCBOCR+4                                                 02379000
UCBFRID  EQU   UCBOCR                                                   02380000
UCBCLN   EQU   UCBMT+14                                                 02381000
UCBERG   EQU   UCBMT+12                                                 02382000
UCBMS    EQU   UCBMT+11                                                 02383000
UCBNB    EQU   UCBMT+10                                                 02384000
UCBPW    EQU   UCBMT+9                                                  02385000
UCBPR    EQU   UCBMT+8                                                  02386000
UCBSIO   EQU   UCBMT+6                                                  02387000
UCBTW    EQU   UCBMT+5                                                  02388000
UCBTR    EQU   UCBMT+4                                                  02389000
UCBTWT   EQU   UCBMT+3                                                  02390000
UCBTRT   EQU   UCBMT+2                                                  02391000
UCBCTD   EQU   UCBMT                                                    02392000
UCBWTOID EQU   UCBCMEXT+17                                              02393000
UCBRV043 EQU   UCBCMEXT+16                                              02394000
UCBASID  EQU   UCBCMEXT+14                                              02395000
UCBMFCNT EQU   UCBCMEXT+12                                              02396000
UCBPMSK  EQU   UCBCMEXT+10                                              02397000
UCBCCWOF EQU   UCBCMEXT+8                                               02398000
UCBRV041 EQU   UCBCMEXT+6                                               02399000
UCBRV036 EQU   UCBFLP1                                                  02400000
UCBRV035 EQU   UCBFLP1                                                  02401000
UCBRV034 EQU   UCBFLP1                                                  02402000
UCBRV033 EQU   UCBFLP1                                                  02403000
UCBRV032 EQU   UCBFLP1                                                  02404000
UCBRV031 EQU   UCBFLP1                                                  02405000
UCBSHRUP EQU   UCBFLP1                                                  02406000
UCBNSRCH EQU   UCBFLP1                                                  02407000
UCBSNSCT EQU   UCBCMEXT+4                                               02408000
UCBHPDV  EQU   @NM00012                                                 02409000
UCBHALI  EQU   @NM00012                                                 02410000
UCBRSV09 EQU   @NM00012                                                 02411000
UCBRSV08 EQU   @NM00012                                                 02412000
UCBRSV07 EQU   @NM00012                                                 02413000
UCBRSV06 EQU   @NM00012                                                 02414000
UCBRSV05 EQU   @NM00012                                                 02415000
UCBRSV04 EQU   @NM00012                                                 02416000
UCBDTI   EQU   UCBCMEXT+2                                               02417000
UCBSTI   EQU   UCBCMEXT+1                                               02418000
UCBETI   EQU   UCBCMEXT                                                 02419000
UCBEXTP  EQU   UCBEXTPT+1                                               02420000
UCBDDRSW EQU   UCBFLC                                                   02421000
UCBTICBT EQU   UCBFLC                                                   02422000
UCBIVRR  EQU   UCBFLC                                                   02423000
UCBIVRS  EQU   UCBFLC                                                   02424000
UCBITF   EQU   UCBFLC                                                   02425000
UCBUDE   EQU   UCBFLC                                                   02426000
UCBWAA   EQU   UCBFLC                                                   02427000
UCBATTP  EQU   UCBFLC                                                   02428000
UCBUNTYP EQU   UCBTBYT4                                                 02429000
UCBRSV11 EQU   UCBDVCLS                                                 02430000
UCBRSV10 EQU   UCBDVCLS                                                 02431000
UCB3CHAR EQU   UCBDVCLS                                                 02432000
UCB3UREC EQU   UCBDVCLS                                                 02433000
UCB3DISP EQU   UCBDVCLS                                                 02434000
UCB3COMM EQU   UCBDVCLS                                                 02435000
UCBDVPWR EQU   UCB2OPT7                                                 02436000
UCBVLPWR EQU   UCB2OPT6                                                 02437000
UCB2OPT5 EQU   UCBTBYT2                                                 02438000
UCBRVDEV EQU   UCBRWTAU                                                 02439000
UCBRPS   EQU   UCBDUDN2                                                 02440000
UCBRR    EQU   UCBDUDN1                                                 02441000
UCB2OPT1 EQU   UCBTBYT2                                                 02442000
UCB2OPT0 EQU   UCBTBYT2                                                 02443000
UCB1FEA7 EQU   UCBTBYT1                                                 02444000
UCBD6250 EQU   UCB1FEA6                                                 02445000
UCBD1600 EQU   UCB1FEA5                                                 02446000
UCB1FEA4 EQU   UCBTBYT1                                                 02447000
UCB1FEA3 EQU   UCBTBYT1                                                 02448000
UCB1FEA2 EQU   UCBTBYT1                                                 02449000
UCB1FEA1 EQU   UCBTBYT1                                                 02450000
UCB1FEA0 EQU   UCBTBYT1                                                 02451000
UCBNAME  EQU   UCBOB+13                                                 02452000
UCBRV029 EQU   UCBWGT                                                   02453000
UCBVHRSN EQU   UCBWGT                                                   02454000
UCBVORSN EQU   UCBWGT                                                   02455000
UCBREW   EQU   UCBWGT                                                   02456000
UCBPUB   EQU   UCBWGT                                                   02457000
UCBOUT   EQU   UCBWGT                                                   02458000
UCBIN    EQU   UCBWGT                                                   02459000
UCBCPU   EQU   UCBOB+11                                                 02460000
UCBLCI   EQU   UCBOB+10                                                 02461000
UCBCNT   EQU   UCBOB+9                                                  02462000
UCBRV017 EQU   UCBCHM1                                                  02463000
UCBRV016 EQU   UCBCHM1                                                  02464000
UCBRV015 EQU   UCBCHM1                                                  02465000
UCBRV014 EQU   UCBCHM1                                                  02466000
UCBSPB   EQU   UCBPTH1                                                  02467000
UCBPPB   EQU   UCBPTH1                                                  02468000
UCBSPA   EQU   UCBPTH0                                                  02469000
UCBPPA   EQU   UCBPTH0                                                  02470000
UCBFLB7  EQU   UCBFLB                                                   02471000
UCBFLB6  EQU   UCBFLB                                                   02472000
UCBCRHSN EQU   UCBFLB                                                   02473000
UCBCRHRV EQU   UCBFLB                                                   02474000
UCBRESVH EQU   UCBFLB                                                   02475000
UCBSPST  EQU   UCBFLB                                                   02476000
UCBASNS  EQU   UCBFLB                                                   02477000
UCBIORST EQU   UCBFLB                                                   02478000
UCBQISCE EQU   UCBFL1                                                   02479000
UCBACTV  EQU   UCBFL1                                                   02480000
UCBSAP   EQU   UCBFL1                                                   02481000
UCBNOTRC EQU   UCBCUB                                                   02482000
UCBPSNS  EQU   UCBFL1                                                   02483000
UCBUSING EQU   UCBPST                                                   02484000
UCBNOTRD EQU   UCBNRY                                                   02485000
UCBBUSYD EQU   UCBBSY                                                   02486000
UCBUA    EQU   UCBCHAN+1                                                02487000
UCBCHA   EQU   UCBCHAN                                                  02488000
UCBDADI  EQU   UCBSTAT                                                  02489000
UCBSYSR  EQU   UCBSTAT                                                  02490000
UCBPRES  EQU   UCBSTAT                                                  02491000
UCBALOC  EQU   UCBSTAT                                                  02492000
UCBUNLD  EQU   UCBSTAT                                                  02493000
UCBRESV  EQU   UCBSTAT                                                  02494000
UCBCHGS  EQU   UCBSTAT                                                  02495000
UCBONLI  EQU   UCBSTAT                                                  02496000
UCBID    EQU   UCBOB+2                                                  02497000
UCBALTPH EQU   UCBFL5                                                   02498000
UCBALTCU EQU   UCBFL5                                                   02499000
UCBNALOC EQU   UCBFL5                                                   02500000
UCBENVRD EQU   UCBFL5                                                   02501000
UCBVSDR  EQU   UCBFL5                                                   02502000
UCBSASK  EQU   UCBFL5                                                   02503000
UCBAMV   EQU   UCBAF                                                    02504000
UCBDCC   EQU   UCBFL5                                                   02505000
UCBMONT  EQU   UCBJBNR                                                  02506000
UCBRV011 EQU   UCBJBNR                                                  02507000
UCBRSV02 EQU   UCBJBNR                                                  02508000
UCBOLDSM EQU   UCBJBNR                                                  02509000
UCBRV003 EQU   UCBJBNR                                                  02510000
UCBRV002 EQU   UCBJBNR                                                  02511000
UCBJES3  EQU   UCBJBNR                                                  02512000
UCBVRDEV EQU   UCBJBNR                                                  02513000
UCBCMSEG EQU   UCBOB                                                    02514000
UCBPFXND EQU   UCB+512                                                  02515000
UCBIOQ   EQU   UCB+508                                                  02516000
UCBLOCK  EQU   UCB+504                                                  02517000
UCBPXST  EQU   UCB+504                                                  02518000
@NM00009 EQU   UCB                                                      02519000
SMF74RV4 EQU   SMF74B+14                                                02520000
@NM00008 EQU   SMF74CNF                                                 02521000
SMF74RV3 EQU   SMF74B+2                                                 02522000
SMF74RV2 EQU   SMF74A+6                                                 02523000
SMF74RLS EQU   SMFRCD74+44                                              02524000
SMF74RV1 EQU   SMFRCD74+42                                              02525000
SMF74MFV EQU   SMFRCD74+40                                              02526000
SMF74CYC EQU   SMFRCD74+32                                              02527000
SMF74SID EQU   SMFRCD74+14                                              02528000
SMF74DTE EQU   SMFRCD74+10                                              02529000
SMF74TME EQU   SMFRCD74+6                                               02530000
SMF74FLG EQU   SMFRCD74+4                                               02531000
SMF74SEG EQU   SMFRCD74+2                                               02532000
STSGLEN  EQU   STSGFREE+1                                               02533000
STSGSP   EQU   STSGFREE                                                 02534000
STRVNPRT EQU   STRVT+4                                                  02535000
STRVSPRT EQU   STRVT                                                    02536000
EDDDLSIO EQU   EDDDB+6                                                  02537000
EDDDRS01 EQU   EDDDFLGS                                                 02538000
EDDCRS01 EQU   EDDCDT+6                                                 02539000
EDDECCHK EQU   EDDEDT+12                                                02540000
EDDECLAS EQU   EDDEDT+7                                                 02541000
EDDERS01 EQU   EDDEDT+4                                                 02542000
DDDVCRDR EQU   DDDVT+20                                                 02543000
DDDVTAPE EQU   DDDVT+16                                                 02544000
DDDVTP   EQU   DDDVT+12                                                 02545000
DDDVDA   EQU   DDDVT+8                                                  02546000
DDDVGRAP EQU   DDDVT+4                                                  02547000
DDDVUNIT EQU   DDDVT                                                    02548000
STSMRSV1 EQU   STSMA+53                                                 02549000
STSMLCOM EQU   STSMA+48                                                 02550000
STSMISP  EQU   STSMIGMC                                                 02551000
STSMINTP EQU   STSMA+20                                                 02552000
STSMTERM EQU   STSMA+12                                                 02553000
STSMINIT EQU   STSMA+4                                                  02554000
STSMSTA  EQU   STSMOFLG                                                 02555000
@NM00002 EQU   STSMOFLG                                                 02556000
@NM00001 EQU   STSMOPT                                                  02557000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      02558000
@RT00093 EQU   DDLAB1                                                   02559000
@RC00104 EQU   @RC00102                                                 02560000
@RT00150 EQU   @EL00001                                                 02561000
@ENDDATA EQU   *                                                        02562000
         END   IRBMFDDP,(C'PLS0616',0700,74213)                         02563000
