 TITLE 'IEE4203D - UCME SCANNER FOR VARY ONLINE/OFFLINE/CONSOLE'        00110003
IEE4203D CSECT                                                          00120002
* A 121900,361400-362150,363500,477700                         @YM07231 00127002
* C 046984-046986,050993-051053,191400-191700,192084-192086,   @YM07231 00134002
* C 344700,344900,439200                                       @YM07231 00141002
* C 312700                                                     @ZM30481 00144003
* D 326980-327480                                              @ZM30481 00147003
*********************************************************************** 00150002
*                                                                       00200002
* MODULE NAME      = IEE4203D                                           00250002
*   CSECT NAME     = IEE4203D                                           00300002
*                                                                       00350002
* LOAD MODULE NAME = IEE3603D                                           00400002
*                                                                       00450002
* DESCRIPTIVE NAME = UCME SCANNER FOR VARY ONLINE/OFFLINE/CONSOLE       00500002
*                                                                       00550002
* COPYRIGHT        = MISSING                                            00600002
*                                                                       00650002
* STATUS           = OS/VS/2 RELEASE 3                         @Z30LPTJ 00700003
*                                                                       00750002
* FUNCTION         = TO CONTINUE SYNTAX VALIDATION OF THE COMMAND       00800002
*                                                                       00850002
* OPERATION        = CONSOLE KEYWORD:                                   00900002
*                       . VALIDATE THAT UNIT SPECIFIED HAS A UCME       00950002
*                       . VALIDATE THAT AN O-XXX STANDS FOR AN          01000002
*                            OUTPUT ONLY UNIT                           01050002
*                       . VALIDATE THAT A (I-XXX,O-XXX) IS A VALID      01100002
*                            COMPOSITE CONSOLE UNIT                     01150002
*                       . VALIDATE THAT A XXX UNIT HAS I/O              01200002
*                            CAPABILITIES                               01250002
*                       . CHECK TO SEE IF UNIT IS CURRENTLY BUSY        01300002
*                            CHANGING STATUS                            01350002
*                       . VALIDATE THAT THE COMMAND AUTHORITY OF THE    01400002
*                            ISSUER IS 3                                01450002
*                       .VALIDATE THAT IF THE ALTCONS PARAMETER         01500002
*                            WAS USED, THAN THE ALTERNATE UNIT IS NOT   01550002
*                            SAME AS THE CONSOLE ITSELF, OR THAT AN     01600002
*                            OUTPUT ONLY UNIT IS NOT AN ALTERNATE TO    01650002
*                            AN I/O CONSOLE.                            01700002
*                       .INDICATE IF ANY CONSOLES ARE GRAPHICS          01750002
*                    ONLINE/OFFLINE KEYWORDS:                           01800002
*                       . CHECK IF CONSOLE UNIT OR REGULAR UNIT         01850002
*                            IS BEING CHANGED. THIS IS DONE BY          01900002
*                            TRYING TO FIND A UCME FOR THE UNIT         01950002
*                       . VALIDATE THAT AN O-XXX STANDS FOR AN          02050002
*                            OUTPUT ONLY UNIT                           02052002
*                       . VALIDATE THAT A (I-XXX,O-XXX) IS A VALID      02060002
*                            COMPOSITE CONSOLE UNIT                     02070002
*                       . VALIDATE THAT A XXX UNIT HAS I/O              02080002
*                            CAPABILITIES                               02090002
*                       . CHECK TO SEE IF UNIT IS CURRENTLY BUSY        02092002
*                            CHANGING STATUS                            02094002
*                       . VALIDATE THE COMMAND AUTHORITY OF THE         02144002
*                            ISSUER:                                    02194002
*                                 IF UNIT HAS UCME - MUST BE 3 -        02244002
*                                 IF UNIT DOES NOT HAVE UCME -2-        02294002
*                       . MAKE SURE THE ONLINE/OFFLINE COMMAND IS       02344002
*                            NOT FOR THE MASTER CONSOLE OF THE          02394002
*                            HARDCPY DEVICE.                            02444002
*                                                                       02494002
* NOTES                                                                 02544002
*   DEPENDENCIES   = NONE                                               02594002
*   CHARACTER/CODE DEPENDENCIES                                         02644002
*                  = THIS MODULE CAN BE ASSEMBLED WITH ANY NEW          02694002
*                    CHARACTER/CODE SET                                 02744002
*                                                                       02794002
* RESTRICTIONS     = REG2 PTS TO THE DUMMY XSA ON INPUT AND ON OUTPUT   02844002
*   REGISTER CONVENTIONS                                                02894002
*                  = REGS ARE DEFINED AT LABEL: DEFREG                  02944002
*   PATCH LABEL    = PATCH                                              02994002
*                                                                       03044002
* MODULE TYPE      = CSECT                                              03094002
*   PROCESSOR      = ASSEMBLER                                          03144002
*   MODULE SIZE    = VS/2 = '4C6'                              @ZM30481 03194003
*   ATTRIBUTES     = REENTRANT, REUSABLE, REFRESHABLE, PAGED LPA,       03244002
*                    ZERO PSW PROTECT KEY                               03294002
*                                                                       03344002
* ENTRY POINT      = IEE4203D FROM IEE3303D OR IEE2303D OR IEE4403D     03394002
*   PURPOSE        = TO CONTINUE SCANNING THE VARY CONSOLE/ONLINE/      03444002
*                    OFFLINE COMMAND FOR ERRORS                         03494002
*   LINKAGE        = BRANCH                                             03544002
*   INPUT          = REG2 PTS TO THE DUMMY XSA                          03594002
*                    XAD HAS THE FLAGS DETERMINED BY 3303D SUCH AS      03644002
*                       WHETHER MULTIPLE UNITS OR A SINGLE UNIT         03694002
*                       ARE PRESENT IN THE COMMAND                      03744002
*                    XAD+2 CONTAINS THE ISSUER COMMAND AUTHORITY        03754002
*                    XAR CONTAINS THE SIZE OF THE COMMAND BUFFER        03794002
*                    XAL PTS TO THE COMMAND PARAMETERS                  03844002
*                    XAV HAS THE VERB (VARY)                            03894002
*                    XAU HAS THE UCMID OF THE ISSUER                    03894402
*                    SAVE AREA WORD 17 CONTAINS THE CSCB PTR            03900002
*   REGISTERS SAVED= ALL                                                03904002
*   REGISTER USAGE =    R0   WTO - CONSOLE ID                           03914002
*                       R2   DUMMY XSA PTR                              03934002
*                       R3   ADDRESSABILITY                             03936002
*                       R4   UCME PTR                                   03938002
*                       R5   UCME PTR                                   03940002
*                       R7   EOB REG                                    03942002
*                       R8   PROCESS BITS                               03942102
*                       R9   UNIT PTR                                   03942402
*                       R10  UCM REG                                    03942802
*                       R11  UCMPRFX REG                                03943202
*                       R12  PROCESS BITS REG                           03943602
*                       R13  SAVE AREA PTR                              03943702
*   REGISTERS RESTORED                                                  03943902
*                  = ALL                                                03962602
*                                                                       03972602
* EXITS - NORMAL-1-  = TO IEE4903D VIA BRANCH                           03982602
*   CONDITIONS     = VARY CONSOLE COMMAND                               03992602
*   OUTPUT         = REG2 PTS TO THE DUMMY XSA                          03994602
*                    XAD HAS THE SWITCHES SUCH AS:                      03996602
*                       MULTIPLE OR SINGLE UNIT IN COMMAND              03998602
*                    AND COMMAND AUTHORITY OF ISSUER                    03998702
*                    XAR HAS THE PROCESSING BITS SHOWING:               03999002
*                       ON - PROCESS THIS UNIT                          03999402
*                       OFF- DO NOT PROCESS THIS UNIT                   03999802
*                    REG4 HAS A GRAPHICS INDICATOR                      03999902
*                    REG 13 PTR TO THE SAVE AREA                        04009902
*   RETURN CODES   = NONE                                               04033202
*                                                                       04083202
* EXITS - NORMAL-2-  = TO IEE4603D VIA BRANCH                           04093202
*   CONDITIONS     = V ONLINE/OFFLINE OF CONSOLE UNITS                  04095202
*   OUTPUT         = REG2 PTS TO THE DUMMY XSA                          04097202
*                    XAD HAS SWITCHES SUCH AS:                          04099202
*                       MULTIPLE OF SINGLE UNIT IN COMMAND              04099602
*                       WHETHER A REGULAR (I/O) UNIT IS PRESENT         04099702
*                    XAR HAS THE PROCESSING BITS SHOWING:               04099802
*                       ON - PROCESS THIS UNIT                          04099902
*                       OFF- DO NOT PROCESS THIS UNIT                   04133202
*                    REG 13 PTR TO THE SAVE AREA                        04185202
*   RETURN CODES   = NONE                                               04193202
*                                                                       04195202
* EXITS - NORMAL-3-  = TO IEE3103D VIA BRANCH                           04197202
*   CONDITIONS     = ONLINE/OFFLINE FOR ONLY I/O UNITS                  04199202
*   OUTPUT         = REG2 PTS TO THE DUMMY XSA                          04199602
*                    XAD HAS THE SWITCHES SUCH AS:                      04199702
*                       MULTIPLE OR SINGLE UNIT IN COMMAND              04199802
*                       I/O UNITS PRESENT TO PROCESS                    04199902
*                    XAR HAS THE END OF BUFFER POINTER                  04233202
*                    REG13 PTS TO THE SAVE AREA                         04293602
*   RETURN CODES   = NONE                                               04295202
*                                                                       04297202
* EXIT - NORMAL-4- = RETURN TO CALLER VIA A BR 14                       04297602
*    CONDITIONS    = WHEN NO VALID UNITS ARE LEFT IN THE CMD.           04298002
*    OUTPUT        = COMMAND WAS REJECTED AND AN ERROR MSG              04298402
*                    WAS SENT TO THE OPERATOR.                          04298802
*                    THE CSCB IS FREED VIA AN MGCR MACRO AND            04298902
*                    DUMMY XSA GOTTEN BY 3603D AND THE SAVE             04299002
*                    AREA GOTTEN BY 3603D ARE FREED.                    04299102
*    RETURN CODES  = NONE                                               04299202
*                                                                       04299303
* EXIT - NORMAL-5- = TO IEECB904 VIA BRANCH                    @Z30LPTJ 04302303
*   CONDITIONS     = WHEN NO VALID UNITS ARE LEFT IN THE       @Z30LPTJ 04305303
*                    COMMAND AND VARY RANGE IS BEING PROCESSED @Z30LPTJ 04308303
*   OUTPUT         = REGISTER 2 POINTING TO THE XSA WHICH HAS  @Z30LPTJ 04311303
*                    THE XAL POINTING TO THE VARY RANGE WORK   @Z30LPTJ 04314303
*                    AREA                                      @Z30LPTJ 04317303
*   RETURN CODES   = NONE                                      @Z30LPTJ 04320303
*                                                                       04323303
* EXITS - ERROR    = NONE, ALL ERROR CONDITIONS ARE HANDLED             04333203
*                    INTERNALLY                                         04341203
*                                                                       04349203
* EXTERNAL REFERENCES                                                   04357203
*   ROUTINES       = IEE4903D                                           04365203
*                    IEE4603D                                           04373203
*                    IEE3103D                                           04383202
*                    IEECB904                                  @Z30LPTJ 04388203
*   DATA AREAS     = SEE OUTPUT - DATA                                  04393202
*                                                                       04395202
* CONTROL BLOCKS   = 1. DUMMY EXTENDED SAVE AREA (XSA)                  04397202
*                    2. CVT                                             04399202
*                       FIELDS TESTED  - CVTCUCB                        04399602
*                       FIELDS UPDATED - NONE                           04399702
*                    2. UNIT CONTROL MODULE (UCM)                       04399802
*                       FIELDS TESTED  - UCMATR - BIT= UCMIF            04399902
*                                                       UCMOF           04433202
*                                        UCMCOMPC                       04483202
*                                        UCMDISP - BIT=UCMDISPA         04493202
*                                                       UCMDISPB        04495202
*                                                       UCMDISPC        04497202
*                                                       UCMDISPD        04499202
*                                        UCMID                          04499602
*                                        UCMUCB                         04499702
*                                        UCMVEA                         04499802
*                                        UCMVEZ                         04499902
*                       FIELDS UPDATED - NONE                           04533202
*                    3. UNIT CONTROL BLOCK (UCB)                        04583202
*                       FIELDS TESTED  - SRTESTAT - BIT = SRTEDADI      04593202
*                                        UCBNAME                        04595202
*                                        UCBFL5    - BIT =UCBNALOC      04595602
*                       FIELDS UPDATED - NONE                           04597202
*                    4. COMMAND SCHEDULING CONTROL BLOCK (CSCB)         04597602
*                       FIELDS TESTED  - NONE                           04598002
*                       FIELDS UPDATED - CHSTS - BIT= CHFC              04598402
*                                                                       04599202
* TABLES           = NONE                                               04599602
*                                                                       04599702
* MACROS           = WTO,FREEMAIN,MGCR,DEQ                              04599802
*                                                                       04599902
* MAPPING MACROS   = IEEXSA                                             04633202
*                    IEECUCM                                            04683202
*                    IEFUCBOB                                           04693202
*                    CVT                                                04695202
*                    IEECHAIN                                           04695602
*   SERIALIZATION  = NO PROTECTION FROM COMM TASK IS REQUIRED HERE      04697202
*                    THEREFORE NO LOCKS WILL BEE GOTTEN IN THIS RTN     04697602
*                    THIS MODULE HOWEVER EXECUTES PROTECTED FROM        04698002
*                    VARY/UNLOAD, ALLOCATION, AND SYSTEM       @YM07231 04698402
*                    COMPONENT VIA AN ENQ ISSUED IN IEE3603D.  @YM07231 04698602
*                    IF THIS MODULE FINDS THAT THE TOTAL COMMAND MUST   04698902
*                    BE ABORTED DUE TO AN ERROR CONDITION, BEFORE       04699002
*                    IT EXITS , IT ISSUED A DEQ AT LOC: UDEQUE          04699102
*                                                                       04699202
* CHANGE LEVEL     = Y02669, Y02651, Z30LPTJ, ZM30455, ZM30481 @ZM30481 04699603
*                                                                       04699702
* CHANGE ACTIVITY  = N/A                                                04699802
*                                                                       04699902
* MESSAGES         = 'IEE313I UNIT REF. INVALID'                        04733202
*                       WHEN AN I-UNIT OF A COMPOSITE DOES NOT HAVE     04783202
*                       INPUT CAPABILITIES.                             04793202
*                       WHEN THE UCME OF AN INPUT UNIT OF A COMPOSITE   04795202
*                       DOES NOT HAVE AN OUTPUT UCME PTR.               04797202
*                       WHEN THE OUTPUT UNIT OF A COMPOSITE AS SPECI-   04799202
*                       FIED IN THE COMMAND DOES NOT MATCH WITH THE     04799602
*                       OUTPUT UNIT SPECIFIED IN THE UCME OF THE COMP.  04799702
*                       WHEN AN OUTPUT ONLY UNIT IS NOT REALLY AN       04799802
*                       OUTPUT ONLY AS SPECIFIED BY THE UCME.           04799902
*                       WHEN AN I/O CONSOLE UNIT DOES NOT HAVE INPUT/   04833202
*                       OUTPUT CAPABILITIES AS SHOWN BY ITS UCME.       04883202
*                       WHEN THE UNIT SPECIFIED HAS NO UCME BUT THE     04893202
*                       VARY COMMAND IS A VARY CONSOLE, OR THE          04895202
*                       UNIT SPECIFICATION IS A COMPOSITE OR AN         04897202
*                       OUTPUT ONLY SPECIFICATION.                      04899202
*                       WHEN A VARY ONLINE/OFFLINE COMES IN FOR         04899602
*                       THE MASTER CONSOLE UNIT.                        04899702
*                    'IEE345I AUTHORITY INVALID'                        04915803
*                       WHEN A VARY CONSOLE IS ISSUED FROM CONSOLE      04923803
*                       WHOSE AUTHORITY IS NOT 3                        04933202
*                       WHEN A VARY ONLINE/OFFLINE IS ISSUED FROM       04983202
*                       CONSOLE WHOSE AUTHORITY IS NOT 3 OR 2           04993202
*                    'IEE299I REQ'D FOR HARDCPY'                        04995202
*                       WHEN A VARY ONLINE/OFFLINE IS ISSUED FOR A      04997202
*                       DEVICE WHICH IS THE HARDCPY LOG.                04999202
*                    ' IEE300I INVALID ALTCON'                          04999602
*                       WHEN THE ALTERNATE CONSOLE SPECIFIED            04999702
*                       DOES NOT HAVE I/O CAPABILITIES BUT THE          04999902
*                       PRIMARY CONSOLE DOES.                           05000002
*                       WHEN THE ALTERNATE CONSOLE SPECIFIED            05033202
*                       IS THE SAME AS THE PRIMARY CONSOLE.             05083202
*                    'IEE339I CHANGING STATUS'                          05093202
*                       WHEN A VARY COMMAND HAS BEEN ISSUED BUT THE     05095202
*                       DEVICE IS CHANGING FROM ITS STATE TO SOME       05097202
*                       OTHER STATE AND CANNOT BE USED NOW.             05099202
*                    'IEE329I XXX IN USE BY A SYSTEM COMPONENT'@YM07231 05099302
*                       WHEN THE DEVICE TO BE VARIED IS IN USE @YM07231 05101302
*                       BY A SYSTEM COMPONENT AND CAN NOT      @YM07231 05103302
*                       CHANGE STATUS.                         @YM07231 05105302
*                                                                       05109502
* ABEND CODES      = NONE                                               05114502
*                                                                       05119502
* PACKAGING        = IEE4203D WILL BE PART OF LOAD MODULE               05124502
*                       IEE3603D                                        05133202
*                    THIS LOAD MODULE ALIASES ARE                       05183202
*                       NONE                                            05193202
*                    THIS LOAD MODULE ENTRY POINTS ARE                  05195202
*                       IEE3603D                                        05197202
*                    MODULE WILL RESIDE IN:  LPALIB                     05197602
*                                                                       05199202
* SYSGEN           = SUPPLIED BY SECTIONS:                              05199602
*                       LOAD MODULE NAME                                05199702
*                       PACKAGING                                       05199802
*                    THIS CSECT WILL BE INCLUDED AT SYSGEN FROM         05210902
*                    DLIB -AOSB3- BY MACRO -SGIEF441-                   05220902
*                                                                       05222102
* SYSTEM LIBRARIES = NONE                                               05233202
*                                                                       05300002
*********************************************************************** 08900019
         EJECT                                                          09000019
DEFREG   EQU   *           REGISTER EQUATES                      Y02669 09100002
R0       EQU   0                   WTO-CONSOLE ID                 19084 09200019
R1       EQU   1                   INPUT AND OUTPUT-XAD           19084 09300019
R2       EQU   2                   XSA                            19084 09400019
R3       EQU   3                   ADDRESS                        19084 09500019
R4       EQU   4                   UCME                          Y02669 09600002
R5       EQU   5                   UCME PTR                      Y02669 09700002
R6       EQU   6                                                  19084 09800019
R7       EQU   7                   EOB REG                        19084 09900019
R8       EQU   8                   PROCESS BITS                  Y02669 10000002
R9       EQU   9                   UNIT PTR                       19084 10100019
R10      EQU   10                  UCM REG                        19084 10200019
R11      EQU   11                  UCMPFX REG                     19084 10300019
R12      EQU   12                  PROCESS BITS                   19084 10400019
R13      EQU   13                  SAVE AREA PTR                 Y02669 10500002
R14      EQU   14                                                       10600002
R15      EQU   15                                                 19084 10700019
*                                                                 19084 10800019
         SPACE 5                                                  19084 10900019
ZERO     EQU   0                                                  19084 11000019
ONE      EQU   1                                                  19084 11100019
TWO      EQU   2                                                  19084 11200019
TRE      EQU   3                                                  19084 11300019
FOR      EQU   4                                                  19084 11400019
FIV      EQU   5                                                  19084 11500019
SIX      EQU   6                                                  19084 11600019
SVN      EQU   7                                                  19084 11700019
EIT      EQU   8                                                  19084 11800019
ELEV     EQU   11                                                 19084 11860019
SIXTN    EQU   16                                                Y02669 11910002
TWENTY   EQU   20                                                Y02669 11920002
TWENTY2  EQU   22                                                Y02669 12010002
TWENTY4  EQU   24                                                 19084 12100019
TWENTY8  EQU   28                                              @YM07231 12190002
THIRTY1  EQU   31                                                 19084 12280019
EASY     EQU   14                      BRANCH NOT ON              21002 12330001
D64      EQU   64                                                Y02669 12350002
D132     EQU   132                                               Y02669 12360002
*                                                                 19084 12370019
         SPACE 10                                                 19084 12460019
*        CHARACTER AND HEXADECIMAL CONSTANTS                      19084 12550019
URI      EQU   X'80'                                              19084 12640019
OUNCOMP  EQU   X'06'                                              19084 12820019
RTC2     EQU   X'40'                                              19084 12910019
CA2      EQU   X'40'                                              19084 13000019
CA3      EQU   X'20'                                              19084 13090019
*                                                                 19084 13180019
SLASH    EQU   C'/'                                               19084 13270019
COMMA    EQU   C','                                               19084 13360019
VARY     EQU   C'V'                                               19084 13450019
GRPX     EQU   X'FF'                   GRAPHICS INDICATOR         21002 13500001
         EJECT                                                          13540019
*********************************************************************** 13630019
****  UCME SCANNER FOR ONLINE - OFFLINE - CONSOLE                 19084 13720019
*********************************************************************** 13810019
*                                                                 19084 13900019
*                                                                 19084 13990019
*        ADDRESSABILITY AND HOUSEKEEPING                          19084 14080019
         BALR  R3,ZERO                                            19084 14170019
         USING *,R3                                               19084 14260019
         MODID BR=YES                                            Y01886 14310001
         USING XSA,R2                                             19084 14350019
*                                                                       14400002
         STM   R0,R15,ZERO(R13)                                  Y02669 14410002
         L     R9,XAL              PTR TO PARM                    19084 14530019
         LA    R9,ZERO(R9)         CLEAR HIGH ORDER BYTE          19084 14620019
         SR    R12,R12             ZERO OUT UNIT- REG             19084 14710019
         LA    R8,ONE              TURN UNIT DETERMINING ---     Y02669 14800002
         SLL   R8,THIRTY1          REGISTER                      Y02669 14890002
*                                                                 19084 14980019
*********************************************************************** 15070019
******** START SCAN                                               19084 15160019
*********************************************************************** 15250019
*                                                                 19084 15340019
         TM    XADUSWIT,XAXPAREN   MULTIPLE UNITS              @Z30LPTJ 15430003
         BZ    UCOMP2              NO,NO XTERIOR PARENS           19084 15520019
UCOMP    LA    R9,ONE(R9)          YES, INDEX TO UNIT             19084 15610019
UCOMP2   EQU   *                                                  19084 15700019
         USING UCMLIST,R5                                         19084 15790019
         L     R11,CVTPTR          CVT PTR                        19084 15880019
         USING UCVT,R11                                           19084 15970019
         L     R10,CVTCUCB         UCM PTR                        19084 16060019
         DROP  R11                                                19084 16150019
         USING UUCB,R11                                           19084 16240019
         USING UCM,R10            XAS HAS KEY SWITCHES FROM 3303DY02669 16330002
         NI    XADUSWIT,XAXPAREN+XAUDVC  LEAVE XPAREN AND IO   @Z30LPTJ*16420003
                                           SWITCHES            @Z30LPTJ 16460003
         SR    R4,R4               COMPSOTE/NOCOMP SWITCH         19084 16510019
         CLC   ZERO(TRE,R9),UIUNIT (I- FOR COMPOSITE              19084 16600019
         BNE   UOUSCAN             NO, CHECK IF O-UNIT SPECIFIED  19084 16690019
         LA    R9,TRE(R9)          YES, INDEX TO UNIT             19084 16780019
         OI    XADUSWIT,XAIOCOMP    TURN COMP SWITCH ON        @Z30LPTJ 16870003
         BAL   R15,UCMEFND         GO GET UCME                    19084 16960019
         TM    UCMATR,UCMIF        IS THIS AN I-UNIT              19084 17050019
         BZ    UREFINV             NO, UCME NOT FOR I-UNIT        19084 17140019
         L     R4,UCMCOMPC         GET PTR TO OUTPUT COMPOSITE    19084 17230019
         LTR   R4,R4               ANY                            19084 17320019
         BZ    UREFINV             NO, NO COMPOSITE               19084 17410019
         DROP  R5                                                 19084 17500019
         USING UCMLIST,R4                                         19084 17590019
         DROP  R11                                                19084 17680019
         L     R6,UCMUCB           GET PTR TO COMPOSITE'S UCB     19084 17770019
         USING UUCB,R6                                            19084 17860019
         CLC   SIX(TRE,R9),UCBNAME IS THIS THE LOGICAL COMPOSITE  19084 17950019
         BNE   UREFINV             NO, ERROR                      19084 18040019
         DROP  R4                                                 19084 18130019
         DROP  R6                                                 19084 18220019
         USING UCMLIST,R5          ADDR TO I-UNIT UCME            19084 18310019
         USING UUCB,R11                                           19084 18400019
*                                  R5 HAS PTR TO COMP UCME        19084 18490019
UACTVCK  EQU   *                                                  19084 18580019
*                                                                 19084 18670019
** UCB  *CHECK UCB BIT HERE TO SEE IF PENDING TO CHANGE STATUS-(UCHNG)  18760019
*        IF SO ISSUE -CHANGING STATUS MSG                         19084 18850019
*                    -LEAVE PROCESS-BIT OFF                       19084 18940019
         TM    SRTESTAT,SRTEDADI   IS DEVICE CHANGING STATUS      19084 19030019
         BO    UCHNG               YES,CHANGING STATUS MESSAGE    19084 19120002
         TM    UCBFL5,UCBNALOC    DEVICE IN USE BY A SYSTEM    @YM07231*19140002
                                   SYSTEM COMPONENT?           @YM07231 19150002
         BO    COMPMSG            YES, REJECT AND ISSUE MESSAGE@YM07231 19170002
         TM    XADUSWIT,XAIOCOMP   COMP SPECIFIED              @Z30LPTJ 19190003
         BZ    CONTTST            NOPE                           Y02651 19200002
         DROP  R11                                               Y02651 19202002
         USING UUCB,R6                                           Y02651 19204002
         TM    SRTESTAT,SRTEDADI  IS THE O UNIT CHANGING STATUS  Y02651 19206002
         BO    UCHNG              YEP, NO GOOD, MESSAGE ISSUED   Y02651 19208002
         TM    UCBFL5,UCBNALOC    IS THE O-UNIT IN USE BY A    @YM07231*19208402
                                   SYSTEM COMPONENT?           @YM07231 19208502
         BO    COMPMSG            YES, REJECT AND ISSUE MESSAGE@YM07231 19208602
         DROP  R6                                                Y02651 19209202
         USING UUCB,R11                                          Y02651 19209602
CONTTST  EQU   *                                                 Y02651 19209702
         SPACE 10                                                 19084 19210019
*        IF UCB DOES NOT SHOW IT IS CHANGING                      19084 19300019
*                                                                 19084 19390019
         TM    XACAHOLD,CA3       SINCE ITS CONSOLE,CA3 REQ    @Z30LPTJ 19480003
         BZ    UAUTHINV            AUTHORITY IS INVALID           19084 19570019
         TM    XASOPCOD,XACON      CONSOLE KEYWORD             @Z30LPTJ 19660003
         BZ    UOFON               NO,ONLINE OR OFFLINE           19084 19750019
*                                  YES, CONSOLE KEY               19084 19840019
*********************************************************************** 19930019
*                                                                 19084 20020019
******** CONSOLE KEYWORD                                          19084 20110019
*                                                                 19084 20200019
*********************************************************************** 20290019
         TM    XASWITCH,XALTCHG    ALTCONS TO BE CHANGED       @Z30LPTJ 20470003
         BZ    UBITON              NO,OMIT ALTCONS VALIDATION     19084 20560019
         TM    XASOPCOD,XALTCOM    IS ALT-IS-O-UNIT SWITCH ON  @Z30LPTJ 20650003
         BZ    UCKID               NO,GO CHECK IF ALT IS SAME AS CONSL  20740019
         TM    UCMDISP,UCMDISPD    IS THIS AN OUTPUT ONLY CONSOL  19084 20830019
         BZ    UINVALTC            INVALID ALTCONS MSG            19084 20920019
UCKID    EQU   *                   YES,OK,                        19084 21010019
         CLC   UCMID(ONE),XALTPTR  ARE THE CONS AND THE ALTC EQUAL19084 21100019
         BE    UINVALTC            NO GOOD,INVALID ALTCONS MSG    19084 21190019
*                                                                 19084 21280019
UBITON   EQU   *                                                  19084 21370019
         OR    R12,R8              TURN ON PROCESS FLAG          Y02669 21460002
MOVEONE  EQU   *                                               @Z30LPTJ 21500003
         SRL   R8,ONE              SET FOR NEXT UNIT             Y02669 21550002
*                                                                 19084 21640019
UENDCK   EQU   *                                                  19084 21730019
         TM    XADUSWIT,XAIOCOMP   COMPOSITE CONSOLE SPECIFIED @Z30LPTJ 21820003
         BZ    UPARENCK            NO, FOR DELIMITER              19084 21910019
         LA    R9,SVN(R9)                                         19084 22000019
UPARENCK EQU   *                                                  19084 22090019
         LA    R9,TRE(R9)          INDEX TO DELIMITER             19084 22180019
         TM    XADUSWIT,XAXPAREN   SINGLE UNIT                 @Z30LPTJ 22270003
         BZ    UKEYEXIT            YES,CHECK KEYWORD AND GO       19084 22360019
UCOMMA   EQU   *                                                  19084 22450019
         CLI   ZERO(R9),COMMA      ANY MORE UNITS                 19084 22540019
         BE    UCOMP               YES, START NEXT UNIT           19084 22630019
UKEYEXIT  EQU  *                                                  19084 22720019
         NI    XADUSWIT,XAXPAREN+XAUDVC   CLEAR ALL BUT        @Z30LPTJ*22750003
                                     EXTERIOR  PARENTHESIS     @Z30LPTJ*22770003
                                     AND I/O DEVICE SWITCHES   @Z30LPTJ 22790003
         LA    R9,ONE(R9)                                         19084 22810019
*                                                                 19084 22900019
         ST    R12,XAR             STORE PROCESS BITS IN XAR      19084 22990019
*        R9  PTS TO LOGICAL EOB, RIGHT AT END OF UNIT FLD         19084 23170019
*                                                                 19084 23260019
         TM    XASOPCOD,XACON      CONSOLE KEYWORD             @Z30LPTJ 23350003
         BO    U49EXT              YES,GOTO 4903D                 19084 23440019
         LTR   R12,R12             ANY PROCESS BITS ON            19084 23530019
         BNZ   U46EXT              YES,OK GOTO 4603D              19084 23620019
         TM    XADUSWIT,XAUDVC      ANY IO UNITS               @Z30LPTJ 23710003
         BZ    RETEXT              NO, RETURN                    Y02669 23800002
         B     U31EXT              YES,GO TO 310OD                19084 23890019
*                                                                 19084 23980019
U46EXT   MVC   XAX(FIV),ONOFFMOD                                 Y02669 24070002
         L     R15,VCON46          GET ADDRESS OF 4603D          Y02669 24120002
         LM    R0,R14,ZERO(R13)    RESTORE REGS                  Y02669 24130002
         BR    R15                                               Y02669 24160002
*                                                                 19084 24250019
******** OUNIT SCAN                                               19084 24340019
*                                                                 19084 24430019
UOUSCAN  EQU   *                                                  19084 24520019
         CLC   ZERO(TWO,R9),UOUNIT IS IT O-XXX                    19084 24610019
         BNE   UUSCAN              NO,MUST BE REGULAR UNIT OR DTCL19084 24700019
         LA    R9,TWO(R9)          INDEX TO UNIT                  19084 24790019
         OI    XADUSWIT,XAOUNIT                                @Z30LPTJ 24880003
         BAL   R15,UCMEFND         GO GET UCME                    19084 24970019
         TM    UCMDISP,UCMDISPD    OUTPUT ONLY FLAG               19084 25060019
         BO    UACTVCK             YES,GO CHECK VALIDITY          19084 25150019
         B     UREFINV             NO, OUNIT SPEC BUT DEV IS NOT O19084 25240019
*                                                                 19084 25330019
******** UNIT SCAN                                                19084 25420019
*                                                                 19084 25510019
UUSCAN   EQU   *                                                  19084 25600019
         BAL   R15,UCMEFND         NO,REGULAR UNIT,GO GET UCME    19084 25870019
         TM    UCMATR,UCMOF+UCMIF  IO SUPPORT PRESENT             19084 25960019
         BO    UACTVCK             GO CHECK ACTIVITY              19084 26050019
         B     UREFINV             UNIT REF INVALID               19084 26140019
*********************************************************************** 26500019
*                                                                 19084 26590019
******** ROUTINE TO EXTRACT UCME FOR UNIT                         19084 26680019
*                                                                 19084 26770019
UCMEFND  EQU   *                                                  19084 26860019
         LM    R5,R7,UCMVEA        R5 PTS TO FIRST UCME          Y02669 26950002
*                                  R6 HAS SIZE OF EACH UCME      Y02669 27040002
*                                  R7 PTS TO LAST UCME           Y02669 27130002
ULOOP    L     R11,UCMUCB          GET PTR TO UCB                 19084 27220019
         CLC   ZERO(TRE,R9),UCBNAME     IS UCBNAME EQUAL TO UNITNA19084 27310019
         BE    GRAHCK              YES, CK FOR GRPX               21002 27400001
*                                                                 19084 27490019
         BXLE  R5,R6,ULOOP         NO, GO CHECK NEXT UCME         19084 27580019
*                                                                 19084 27670019
******** UCME  NOT FOUND                                          19084 27760019
         TM    XASOPCOD,XACON      CONSOLE KEYWORD             @Z30LPTJ 27940003
         BO    UREFINV                                            19084 28030019
         TM    XADUSWIT,OUNCOMP     IS O-XXX OR COMP           @Z30LPTJ 28120003
         BC    SVN,UREFINV         YES,UNIT REF INVALID           19084 28210019
         TM    XACAHOLD,CA2         COMMAND AUTH SHOULD BE 2   @Z30LPTJ 28300003
         BZ    UAUTHINV            NO, INVALID AUTH              Y02669 28390002
         OI    XADUSWIT,XAUDVC     TURN ON I/O SWITCH FOR 3103 @Z30LPTJ 28480003
         SRL   R8,ONE              OMIT PROCESS SWITCH           Y02669 28570002
         LA    R9,TRE(R9)          INDEX TO NEXT UNIT             19084 28660019
         TM    XADUSWIT,XAXPAREN  ANY MORE UNITS               @Z30LPTJ 28750003
         BZ    U31EXT              NO, GO TO 3103D                19084 28840019
         B     UCOMMA        GO TO FIND WHERE TO GO               19084 28930019
         SPACE                                                          28980001
*********************************************************************** 28990001
* IF THIS CONSOLE IS GRAPHICS SET GRAPHICS INDICATOR IN XAX.  THIS21002 29000001
* IS USED BY IEE4903D AND IEE7303D WHEN BUILDING THE CONSOLE     21002* 29010001
* MESSAGE                                                        21002* 29012001
*********************************************************************** 29014001
         SPACE                                                          29016001
GRAHCK   EQU   *                                                  21002 29018001
         TM    UCMDISP,UCMDISPC        IS THIS CONSOLE GRAPHICS   21002 29018401
         BCR   EASY,R15                NO, DON'T SET GRPX ID      21002 29018801
         MVI   XAX,GRPX                SET GRAPHICS INDICATOR     21002 29019201
         BR    R15                     RETURN TO CALLER           21002 29019601
         SPACE                                                          29019701
U31EXT   EQU   *                                                  19084 29020019
         MVC   XAX(FIV),IODEVMOD                                 Y02669 29110002
         L     R15,VCON31          GET ADDRESS OF 3103D          Y02669 29160002
         ST    R9,XAR                                             19084 29200019
         LM    R0,R14,ZERO(R13)    RESTORE ALL BUT BRANCH REG    Y02669 29250002
*                                  3103 NEEDSPTR TO EOB,-PTRTO COM19084 29290002
         BR    R15                                               Y02669 29380002
*                                                                 19084 29470019
*                                                                 19084 29560019
******** EXIT ROUTINES                                            19084 29650019
*                                                                 19084 29740019
*                                                                 19084 29830019
U49EXT   EQU   *                                                  21002 29880001
         IC    R4,XAX                  INDICATOR OF GRAPHICS      21002 29890001
         MVC   XAX(FIV),CONSMOD                                  Y02669 29920002
         LTR   R12,R12             ANY PROCESS BITS ON            19084 30010019
         BE    RETEXT              NO, RETURN                    Y02669 30100002
         L     R15,VCON49          GET ADDRESS OF 4903D          Y02669 30150002
         ST    R4,SIXTN(R13)       STORE GFX INDIC               Y02669 30150402
         LM    R0,R14,ZERO(R13)    RESTORE ALL BUT BRANCH REG    Y02669 30152002
         BR    R15                                               Y02669 30160002
*                                                                 19084 30820019
*                                                                 19084 30910019
*                                                                 19084 31000019
UOFON    EQU   *                                                  19084 31090019
         TM    UCMDISP,UCMDISPA    IS THIS MASTE CONSOLE          19084 31180019
         BO    UREFINV             YES, UNIT REF INVALID       @ZM30481 31270003
         LTR   R4,R4               COMPOSITE THERE                19084 31360019
         BZ    UHCPYCK             NO, CHECK UCME                 19084 31450019
         LR    R5,R4               GET OUNITS UCME PTR FOR TST    19084 31540019
UHCPYCK  EQU   *                                                  19084 31630019
         TM    UCMDISP,UCMDISPB    IS THIS THE HCPY DEV           19084 31720019
         BO    UREQHCPY            YES,REQ'D FOR HCPY MSG         19084 31810019
         B     UBITON              GO SET PROCESS BIT             19084 31900019
         EJECT                                                    19084 31990019
RETEXT   EQU   *                                                 Y02651 32040002
         TM    XAAVRANG,XAARNG1    VARY RANGE BEING PROCESSED? @Z30LPTJ 32040303
         BNO   PROCEED             NO, PROCEED NORMALLY        @Z30LPTJ 32040603
         L     R15,VCON904         GET IEECB904 ADDRESS        @Z30LPTJ 32040903
         BR    R15                 GO TO VARY RANGE PROCESSOR  @Z30LPTJ 32041203
PROCEED  EQU   *                                               @Z30LPTJ 32041503
         SPACE 5                                                        32042003
***************************************************              Y02651 32044002
*                                                                Y02651 32044102
*  THIS IS A TERMINAL EXIT AND THEREFORE THE ENQ ISSUED IN       Y02651 32044202
*  IN IEE3603D MUST BE DEQUEUED OFF OF                           Y02651 32044302
*                                                                Y02651 32045202
         DEQ   MF=(E,IEFDEQUE)                                   Y02651 32045602
*                                                                Y02651 32046002
***************************************************              Y02651 32047102
         SPACE 5                                                        32048003
         L     R1,D64(R13)         GET CSCB PTR                  Y02669 32050002
         USING CHAIN1,R1                                         Y02669 32060002
         OI    CHSTS,CHFC          SET TO FREE CSCB              Y02669 32070002
         MGCR  (1),CHAIN                                         Y02669 32072002
         LM    R0,R15,ZERO(R13)    RESTORE REGS                  Y02669 32074002
         LR    R4,R14              SAVE RETURN ADDRESS           Y02669 32076002
*                                  FREE SVEAREA GOTTEN IN 3603D  Y02669 32079202
         LA    R0,D132             DUMMY XSA SIZE                Y02669 32079602
         LR    R1,R2               SUMMY XSA POINTER             Y02669 32079702
         FREEMAIN R,LV=(0),A=(1)                                 Y02669 32079802
*                                  FREE DUMMY XSA GOTTEN IN 3603DY02669 32079902
         LR    R14,R4              RESTORE BRANCH REG            Y02669 32109902
         BR    R14                 RETURN                        Y02669 32119902
         EJECT                                                          32129902
*                                                                 19084 32140002
*                                                                 19084 32170019
*                                                                 19084 32260019
*        MSG  SUBROUTINE                                          19084 32350019
*                                                                 19084 32440019
*                                                                 19084 32530019
         SPACE 10                                                 19084 32620019
        DS    0F                                                 Y02651 32670002
UREFINV  EQU   *                                               @Z30LPTJ 32678003
         BAL   R15,UMSGS           GO TO MESSAGE PROCESSOR     @Z30LPTJ 32768003
UA       DC    C'313'                  MSG ID FOR UNIT REF INVALID19084 32800019
UONE     DC    C'UNIT REF INVALID    '  REQ CONSOLE,UNIT - XXX - Y02651 32890002
*                                                                 19084 32980019
UAUTHINV BAL   R15,UMSGS               **                         19084 33070019
UB       DC    C'345'              ID FOR AUTHORITY  INVALID      19084 33160019
UTWO     DC    C'AUTHORITY INVALID   ' REQ CONSOL, UNIT -V XXX-  Y02651 33250002
*                                                                 19084 33340019
UREQHCPY BAL   R15,UMSGS               **                         19084 33430019
UC       DC    C'299'                  ID FOR REQ'D FOR HARDCPY   19084 33520019
UTRE     DC    C'REQ''D FOR HARDCPY   ' REQ CONS AND MSTR,UN -XXXY02651 33610002
*                                                                 19084 33700019
UINVALTC BAL   R15,UMSGS               **                         19084 33790019
UD       DC    C'300'                  ID FOR INVALID ALTCONS     19084 33880019
UFOR     DC    C'INVALID ALTCON      ' REQ CONS, UNIT -XXX/AAA-  Y02651 33970002
*                                                                 19084 34060019
UCHNG    BAL   R15,UMSGS               **                         19084 34150019
UE       DC    C'339'                  ID FOR CHANGING STATUS     19084 34240019
UFIVE    DC    C'CHANGING STATUS     ' REQ CONS,UNT-XXX-OR-COMPO Y02651 34330002
*                                                                 19084 34420019
COMPMSG  BAL   R15,UMSGS          SYSTEM COMPONENT MESSAGE     @YM07231 34470002
UF       DC    C'329'             ID                             Y02651 34480002
USIX     DC    C'IN USE BY A SYSTEM COMPONENT'                 @YM07231 34490002
*                                                                 19084 34510019
         EJECT                                                    19084 34600019
         DS    0F                                                Y02651 34650002
UMSGS    EQU   *                                                  19084 34690019
         DROP  R11                                                19084 34780019
         SRL   R8,ONE              OMIT UNIT,SET NO PROCESS BIT  Y02669 34870002
*                                                                 19084 34960019
         MVC   XAH(FOR),UINTRO     MOVE IN MCSFLAGS AND LENGTH    19084 35050019
         L     R7,XAD              STORE XAD                      19084 35140019
         LM    R4,R6,XAS           STORE XAS IN 4,5 AND XAU IN 6  19084 35230019
         LM    R10,R11,XAE         STORE XAEXAR AND XAN-XAL       19084 35320019
         SR    R0,R0                                              19084 35410019
         TM    XAU,URI             R/I COMMAND                    19084 35500019
         BO    URDR                YES, ISSUE MSG TO MSTR CONSOLE 19084 35590019
         IC    R0,XAU              NO, GET COMS ID IN REG0 FOR WTO19084 35680019
URDR     EQU   *                                                  19084 35770019
         MVC   XAI(EIT),UBASIC     MOVE IN MSG ID                 19084 35860019
         MVC   XAF(EIT),XAI+SVN    BLANK REST OF AREA             19084 35950019
         MVC   XAI+TRE(TRE),ZERO(R15)  FILL IN MSG NUMBERS        19084 36040002
         LA    R15,TRE(R15)        INDEX TO MSG TEST              19084 36130019
         CLC   XAI+TRE(TRE),UF     IN USE BY SYSTEM COMPONENT? @YM07231 36140002
         BNE   NOSYSCOM            NO, ISSUE DIFFERENT MESSAGE @YM07231 36150002
         MVC   XAT(TWENTY8),ZERO(R15) MOVE IN MESSAGE TEXT     @YM07231 36160002
         MVC   XAT+TWENTY8(FOR),UEND MOVE IN DESCRIPTOR AND    @YM07231*36170002
                                      ROUTING CODES            @YM07231 36180002
         MVC   XAH(TWO),UINTRO8    MOVE IN LENGTH              @YM07231 36200002
         B     AROUND                                          @YM07231 36210002
NOSYSCOM EQU   *                                               @YM07231 36215002
         MVC   XAT(TWENTY),ZERO(R15)    MOVE IT IN               Y02651 36220002
         MVC   XAT+TWENTY(FOR),UEND     MOVE IN DESC AND ROUTCDS Y02651 36310002
AROUND   EQU   *                                               @YM07231 36350002
         CLC   XAI+TRE(TRE),UB     AUTHORITY INVALID              19084 36400019
         BE    UAUTH               YES,GO PROCESS                 19084 36490019
*                                                                 19084 36580019
*        MOVE UNIT                                                19084 36670019
*                                                                 19084 36760019
         MVC  XAF(TRE),ZERO(R9)   MOVE IN UNIT                    19084 36850019
         CLC   XAI+TRE(TRE),UC     REQ'D FOR HCPY                 19084 36940019
         BNE   UCONT               NO CHECK FOR OTHER MSGS        19084 37030019
         MVI   XAT+TWENTY2,RTC2      YES,MOVE ROUTCODE OF TWO    Y02651 37120002
         LR    R1,R7               NEEDED SWITCHES INTO R1        19084 37720019
         SLL   R1,FIV              SHIFT THEM TO HIGH ORDER       19084 38320019
         LTR   R1,R1               IS IT ON                       19084 38920019
         BC    ELEV,UISSUE         NO IK PROCESS AS NORMAL        19084 39520019
         MVC   XAF(TRE),SIX(R9)    MOVE IN OUTPUT UNIT            19084 39620019
         B     UISSUE              GO TO MASTER CONSOLE ALSO      19084 39720019
*                                                                 19084 39820019
UAUTH    EQU   *                                                  19084 39920019
         MVI   XAF,VARY            AUTHORITY INVALID,MOVE IN      19084 40020019
         MVC   XAF+TWO(TRE),ZERO(R9)   VARY AND UNIT              19084 40120019
         B     UISSUE              FINISHED                       19084 40220019
*                                                                 19084 40320019
UCONT    EQU   *                                                  19084 40420019
        CLC   XAI+TRE(TRE),UA     UNIT REF INVALID                19084 40520019
         BE    UCOMINV             YES,SEE IF COMP                M0128 40620001
*                                                                 19084 40720019
        CLC   XAI+TRE(TRE),UD     INVALID ALTCON                  19084 40820019
         BNE   UCHGSTTS            NO, CHANGING STATUS            19084 40920019
*                                                                 19084 41020019
         MVI   XAF+TRE,SLASH       MOVE IN SLASH TO DELIMIT ALTC  19084 41120019
         SR    R15,R15                                            19084 41320019
         LR    R14,R4              GET XAS SWITCHES INTO R14      19084 41420019
        SRDL  R14,EIT             SHIFT ALTCON ID INTO REG15      19084 41520019
         SRL   R15,TWENTY4         ITS LOW ORDER BYTE             19084 41620019
         BCTR  R15,ZERO            MINUS 1                        19084 41720019
         L     R1,CVTPTR                                          19084 41820019
         USING UCVT,R1                                            19084 41920019
         L     R1,CVTCUCB                                         19084 42020019
         DROP  R1                                                 19084 42120019
         DROP  R10                                                19084 42220019
         USING UCM,R1                                                   42320002
         L     R14,UCMVEZ          GET SIZE OF EACH UCME          19084 42420019
         MR    R14,R14             MULTIPLY SIZE BY ID            19084 42520019
         A     R15,UCMVEA          PLUS ADDR OF FIRST UCME        19084 42620019
         DROP  R5                                                 19084 42720019
         DROP  R1                                                 19084 42820019
         USING UCMLIST,R15         ADDR TO UCME OF ALTERNATE      19084 42920019
         L     R15,UCMUCB          AND ITS UCB                    19084 43020019
         DROP  R15                                                19084 43120019
         USING UCMLIST,R5                                         19084 43220019
         USING UUCB,R15                                           19084 43320019
         MVC   XAF+FOR(TRE),UCBNAME    MOVE ALTCONS UNIT NAME     19084 43420019
         DROP  R15                                                19084 43520019
         B     UISSUE              GO ISSUE MSG                   19084 43720019
*                                                                 19084 43820019
UCOMINV  EQU   *                   UNIT REF INVALID OR            M0128 43870001
UCHGSTTS EQU   *                   SYSTEM COMPONENT MESSAGE OR @YM07231 43920002
         LR    R15,R7              CHANGING STATUS MSG            19084 44020019
*                                  XAD SWITCHES INTO REG15        19084 44120019
         SLL   R15,FIV             SHIFT TO GET IOCOMP IN HIGH ORD19084 44220019
         LTR   R15,R15             IS IT ON                       19084 44320019
         BNM   UISSUE              NO, GO ISSUE MSG               19084 44420019
        MVI   XAF+TRE,COMMA       YES,MOVE IN COMMA               19084 44520019
         MVC   XAF+FOR(TRE),SIX(R9)    AND OUNITS UNIT NAME       19084 44620019
*                                                                 19084 44720019
UISSUE   EQU   *                                                  19084 44820019
*                                                                 19084 44920019
         LR    R1,R2               PTR TO WTO BUFFER              19084 45020019
MSG      EQU   *                                                 Y02651 45112002
         WTO   MF=(E,(1))              ISSUE MSG                  19084 45120019
*                                                                 19084 45220019
*                                                                 19084 45320019
*        RESTORE XSA                                              19084 45420019
*                                                                 19084 45520019
*                                                                 19084 45620019
         ST    R7,XAD                                             19084 45720019
         STM   R4,R6,XAS                                          19084 45820019
         STM   R10,R11,XAE                                        19084 45920019
         MVC   XAV(EIT),OVARY                                    Y02669 45970002
         MVC   XAX(EIT),MODNAME                                  Y02669 45980002
         B     UENDCK             GO CHECK END OF CMD             19084 46020019
*                                                                 19084 46120019
*                                                                 19084 46220019
*                                                                 19084 46320019
         EJECT                                                    19084 46420019
***************************************************              Y02651 46430002
*                                                                Y02651 46432002
*  THE LIST FORM OF THE DEQ MACRO INSTRUCTION FOLLOWS:           Y02651 46434002
*                                                                Y02651 46436002
IEFDEQUE DEQ   (IEFSQCBS,IEFQ4QCB,TWO,SYSTEM,IEFSQCBS,IEFVQCBS,SVN,    *46438002
               SYSTEM),RET=HAVE,MF=L                           @YM5443P 46438102
IEFVQCBS DC    C'VARYDEV'                                               46444102
IEFSQCBS DC    C'SYSIEFSD'                                       Y02651 46450102
IEFQ4QCB DC    C'Q4'                                             Y02651 46456102
***************************************************              Y02651 46462102
         EJECT                                                    19084 46470002
*                                                                 19084 46520019
*        DECLARES                                                 19084 46620019
*                                                                 19084 46720019
UIUNIT   DC    C'(I-'                                             19084 46820019
UOUNIT   DC    C'O-'                                              19084 46920019
IODEVMOD DC    C'IEE31'                                          Y02669 47020002
ONOFFMOD DC    C'IEE46'                                          Y02669 47120002
CONSMOD  DC    C'IEE49'                                          Y02669 47220002
         DS    0F                                                       47270002
VCON31   DC    V(IEE3103D)                                              47280002
VCON46   DC    V(IEE4603D)                                              47290002
VCON49   DC    V(IEE4903D)                                              47300002
VCON904  DC    V(IEECB904)                                     @Z30LPTJ 47305003
OVARY    DC    C'VARY    '                                       Y02669 47310002
MODNAME  DC    C'IEE4203D'                                       Y02669 47312002
         SPACE 10                                                 19084 47320019
*        DECLARES FOR MSG ROUTINE                                 19084 47420019
*                                                                 19084 47520019
*                                                                 19084 47620019
UINTRO   DC    X'0028E000'             LENGTH AND MCSFLAGS        19084 47720002
UINTRO8  DC    X'0030'             LENGTH FOR SYSTEM COMPONENT @YM07231 47770002
UBASIC   DC    C'IEE   I '             MSG ID                     19084 47820019
UEND    DC    X'08000000'             DESC AND ROUT CODES         19084 47920019
*                                                                 19084 48020019
PATCH    DC    CL60'***IEE4203D***'                              Y02669 48070002
         EJECT                                                          48700019
UXSA     DSECT                                                          48800019
         IEEXSA                                                         48900019
         EJECT                                                          55200019
UCVT     DSECT                                                          55300019
         CVT                                                            55400019
         EJECT                                                          55500019
UUCM     DSECT                                                          55600019
         IEECUCM  FORMAT=NEW                                            55700002
         EJECT                                                          55800019
UUCB     DSECT                                                          55900019
         IEFUCBOB                                                       56000019
         EJECT                                                          56050002
CHAIN1   DSECT                                                          56052002
         IEECHAIN                                                       56060002
         END                                                            56100019
