         TITLE 'IEE5103D - STAE EXIT PROCESSOR'                         00050002
*********************************************************************** 00100020
* MODULE NAME   = IEE5103D                                            * 00200002
*                                                                     * 00250002
* DESCRIPTION   = STAE EXIT ROUTINE                                   * 00300002
*                                                                     * 00400002
* COPY RIGHT    = N/A                                                 * 00450002
*                                                                     * 00500002
* STATUS        = OS-VS/2-RELEASE 3.7 PTF UZ07650              @ZA15790 00510003
*                                                                     * 00550002
* FUNCTION      = THIS ROUTINE PROVIDES A COMPLETE STORAGE DUMP       * 00600002
*                 WHEN REQUIRED AND INFORMS THE OPERATOR              * 00602002
*                 OF THE ABEND OCCURRED AND THE RESULTS OF THE DUMP.  * 00604002
*                 THEN IT VALIDITY CHECKS THE CSCB ADDRESSES IN THE   * 00610002
*                 CSCB CHAIN, AND THE CIB ADDRESSES IN THE CIB CHAIN. * 00620002
*                 IF AN ERROR IS FOUND, THE CHAIN IS TRUNCATED        * 00630002
*                 AND THE SYSTEM OPERATOR INFORMED.                   * 00640002
*                                                                     * 00700002
* OPERATION     = ONCE ADDRESSABILITY HAS BEEN ESTABLISHED AND A      * 00750002
*                 FULL DIAGNOSTIC DUMP (UNDER CERTAIN CONDITIONS) HAS * 00760002
*                 BEEN TAKEN VIA MEANS OF SDUMP MACRO, THE OPERATOR/  * 00770002
*                 USER IS INFORMED OF THE ABEND AND DUMP STATUS.      * 00772002
*                 CHAINS ARE THEN SCANNED FOR VALIDITY.               * 00780002
*                 THE FIRST CSCB ELEMENT IS FOUND AND CHECKED         * 00790002
*                 TO INSURE THAT IT LIES WITHIN THE BOUNDS OF         * 00792002
*                 SQA, AND ON A DOUBLE WORD BOUNDRY.  IF THE          * 00794002
*                 CSCB ADDRESS IS VALID, THE CIB CHAIN OF THE         * 00796002
*                 CSCB JUST PROCESSED IS SCANNED FOR VALIDITY         * 00796402
*                 (THE SAME TESTS AS THE CSCB).  THIS PROCESS         * 00798002
*                 CONTINUES UNTIL ALL CSCB'S AND CIB'S HAVE           * 00798402
*                 BEEN VALIDITY CHECKED.                              * 00798802
*                 IF AN ERROR IS FOUND, THE PROPER CHAIN              * 00812102
*                 IS TRUNCATED AND THE OPERATOR IS INFORMED.          * 00822102
*                                                                     * 00824602
* NOTES:                                                              * 00824802
*  CHARACTER-                                                         * 00834802
*   CODE        = THIS MODULE MAY BE ASSEMBLED WITH ANY CODE SET      * 00836802
*  DEPENDENCIES = NONE                                                * 00837202
*  RESTRICTIONS = NONE                                                * 00837302
*  REGISTER-                                                          * 00841502
*   CONVENTIONS = NONE                                                * 00843502
*  PATCH LABEL  = PATCH                                               * 00845502
*                                                                     * 00845602
* MODULE TYPE:                                                        * 00845702
*  PROCESSOR    = ASSEMBLER                                           * 00859202
*  MODULE SIZE  = X'492'                                       @ZA15790 00864203
*  ATTRIBUTES   = REENTRANT, REUSEABLE, READ-ONLY, KEY-ZERO, PAGED LPA* 00871202
*                                                                     * 00871602
* ENTRY POINT   = IEE5103D                                            * 00872002
*  PURPOSE      = SVC 34 STAE EXIT ROUTINE                            * 00872402
*  LINKAGE      = SYNCH                                               * 00872802
*  INPUT        = WHEN REGISTER 0 IS EQUAL TO 'C'                     * 00872902
*                       (INDICATES INFORMATION IS IN REGISTERS)       * 00883802
*                      REGISTER 1 - ABEND CODE                        * 00887402
*                      REGISTER 2 - POINTER TO PARAMETER AREA         * 00888102
*                      REGISTER 14 - RETURN ADDRESS                   * 00888802
*                 WHEN REGISTER 0 IS NOT EQUAL TO 'C'                 * 00889502
*                       (INDICATES INFORMATION IS NOT IN REGISTERS)   * 00890202
*                      REGISTER 1 - POINTER TO SDWA                   * 00890902
*                      REGISTER 14 - RETURN ADDRESS                   * 00891602
*  INVOKER      = ABEND STAE INTERFACE ROUTINE                        * 00892802
* REGISTER USAGE:                                                     * 00894802
*  SAVED        = NONE                                                * 00898202
*  RESTORED     = NONE                                                * 00902202
* EXIT - NORMAL:  RETRY ADDRESS PASSED IN PARAMETER AREA              * 00906202
*  CONDITIONS   = ALL                                                 * 00910202
*  OUTPUT DATA  = DUMPS AND MESSAGES                                  * 00914202
* RETURN CODE   = EIGHT                                               * 00920402
* EXIT - ERROR:                                                       * 00926302
*  CONDITIONS   = NONE                                                * 00928302
*  OUTPUT DATA  = NONE                                                * 00930302
*  RETURN CODE  = NONE                                                * 00934202
* EXTERNAL:                                                           * 00938202
*  REFERENCES   = NONE                                                * 00948502
*  ROUTINES     = NONE                                                * 00958502
*  DATA AREAS   = INTERFACE WORK AREA                                 * 00958602
*  CONTROL BLOCK= ESTAE PARM AREA                               R,U   * 00958702
*                 COMMAND SCHEDULING CONTROL BLOCK (CSCB)       R     * 00962102
*                 STAE DIAGNOSTIC WORK AREA                     R,U   * 00964102
*                 MASTER SCHEDULER RESIDENT DATA AREA (BASEA)   R     * 00964502
*                 COMMUNICATION CONTROL TABLE (CVT)             R     * 00965302
*                 UNIT CONTROL MODULE (UCM)                     R     * 00965402
*                  KEY - R = REFERENCE                                * 00965502
*                        U = UPDATE                                   * 00967502
*                        G = GETMAIN                                  * 00969502
*                        F = FREEMIN                                  * 00969602
*  MACROS       = MODID    MODULE IDENTIFICATION                      * 00969902
*                 SDUMP    DIAGNOSTIC DUMP                            * 00971902
*                 ENQ      CSCB RESOURCE                              * 00973902
*                 DEQ      CSCB RESOURCE                              * 00974302
*                 SETRP    TO RETURN TO STAE                          * 00976302
*  TABLES       = NONE                                                * 00977902
*  ENQUEUED                                                           * 00979902
*   RESOURCES   = Q10 (CSCB)                                          * 00981902
*  LOCKS        = NONE                                                * 00983902
*  SYSGEN       = IN THE IEE0003D LOAD - NO ALIASES                   * 00985902
*  LIBRARIES    = NONE                                                * 00987902
*  CHANGE LEVEL = Y02653,ZA15790,ZA15793                       @ZA15790 00989003
* MESSAGES      = IEE480I CCCC COMMAND ABEND XXX, DUMPED, TERMINATED  * 01000002
*                 IEE480I SVC 34 ABEND XXX, DUMPED, TERMINATED        * 01010002
*                   CCCC = COMMAND NAME                               * 01050002
*                   XXX  = ABEND COMPLETION CODE                      * 01100002
*                   'DUMPED' WILL APPEAR ONLY IF A DUMP WAS TAKEN     * 01150002
*                 IEE513I COMMAND PROCESSING LIMITED                  * 01200002
*********************************************************************** 03600020
         EJECT                                                          03650020
*********************************************************************** 03750020
*        DSECTS                                                       * 03850002
*********************************************************************** 03950020
MRC      IEEBASEA                                                       05500020
         EJECT                                                          05550020
CVTSECT  DSECT                                                          06050020
         CVT                                                            06100020
         EJECT                                                          06150020
CSCB     DSECT                                                          06200002
         IEECHAIN                                                       06250020
         EJECT                                                          06300002
         IHASDWA                                                        06350002
         EJECT                                                          06400002
         IHAGDA                                                         06450002
         EJECT                                                          06500002
         IHASPQE                                                        06550002
         EJECT                                                          06600002
         IHADQE                                                         06650002
         EJECT                                                          06700002
IEE5103D CSECT                                                          07250020
* D STAE0010 APPROX 117000                                     @ZA15790 07258003
* C PATCH    APPROX 282747                                     @ZA15790 07266003
* A STAE0050 APPROX 146500                                     @ZA15793 07279003
* C DUMPPARM APPROX 282461                                     @ZA15793 07284003
* A EPARMS   APPROX 284718                                     @ZA15793 07289003
* C INSERT3  APPROX 281419                                     @ZA15793 07291003
* A MSGLEN3A APPROX 282891                                     @ZA15793 07293003
*********************************************************************** 07300002
*        REGISTER EQUATES                                             * 07400002
*********************************************************************** 07500002
R0       EQU   0             INPUT REGISTER WORK REGISTER        Y02653 07550002
R1       EQU   1             INPUT REGISTER WORK REGISTER        Y02653 07600002
R2       EQU   2             INPUT REGISTER PARAMETER AREA BASE  Y02653 07650002
R3       EQU   3             WORK REGISTER                       Y02653 07700002
R4       EQU   4             WORK REGISTER                       Y02653 07750002
R5       EQU   5             WORK REGISTER                       Y02653 07800002
R6       EQU   6             WORK REGISTER                       Y02653 07850002
R7       EQU   7             WORK REGISTER                       Y02653 07900002
R8       EQU   8             WORK REGISTER                       Y02653 07950002
R9       EQU   9             WORK REGISTER                       Y02653 07970003
R10      EQU   10            WORK REGISTER                       Y02653 08050002
R11      EQU   11            BASE OF STAE DIAGNOSTIC WORK AREA   Y02653 08100002
R12      EQU   12            PROGRAM BASE                        Y02653 08150002
R14      EQU   14            RETURN ADDRESS                      Y02653 08250002
R15      EQU   15            SAVE ADDRESS IN EACH SCAN           Y02653 08300002
*********************************************************************** 08350020
*        CHARACTER AND NUMERIC EQUATES                                * 08450020
*********************************************************************** 08550020
E0       EQU   0             CONSTANT 0F 0                       Y02653 09350002
E3       EQU   3             CONSTANT 0F 3                       Y02653 09410002
E4       EQU   4             CONSTANT 0F 4                       Y02653 09450002
E5       EQU   5             CONSTANT 0F 5                       Y02653 09452002
E8       EQU   8             CONSTANT 0F 8                       Y02653 09500002
E12      EQU   12            CONSTANT OF 12                      Y02653 09520002
E29      EQU   29            CONSTANT OF 29                      Y02653 09530002
E38      EQU   38            CONSTANT OF 38                      Y02653 09542002
ALLB     EQU   15            ICM ALL BYTES TO REGISTER           Y02653 09592002
TWOB     EQU   3             ICM LOW TWO BYTES TO REGISTER       Y02653 09642002
CIBDISP  EQU   CHCIBP-CHAIN  DISPLACEMENT TO CIB POINTER IN CSCB Y02653 09650002
BLNK     EQU   C' '          BLANK                               Y02653 10250002
COMA     EQU   C','          COMMA                               Y02653 10300002
X10      EQU   X'10'         MASK FOR DESCRIPTOR CODES           Y02653 10350002
         EJECT                                                          10500020
*********************************************************************** 10550002
*        BASE MODULE                                                  * 10650002
*********************************************************************** 10750002
         BALR  R12,R0        ESTABLISH PROGRAM ADDRESSABILITY    Y02653 10800002
         USING *,R12         SET THE BASE FOR IT                 Y02653 10850002
         MODID BRANCH=YES                                        Y01886 10900001
         EJECT                                                          10902002
*********************************************************************** 10910002
*        THE FOLLOWING CODE WILL DETERMINE THE TYPE ENTRY WAS SET UP  * 10920002
*        AS TO USE THE PROPER LINKAGE IN REENTERING THIS ROUTINE AS A * 10930002
*        RETRY ROUTINE AGAIN UNDER THE PROTECTION OF ESTAE.           * 10940002
*********************************************************************** 10942002
         C     R0,TWELVE     WAS WORK AREA PASSED?               Y02653 10950002
         BE    STAE0005      YES, REQUIRED INFO IS IN REGISTERS: Y02653*10970002
                            REGISTER 1 - ABEND CODE              Y02653*10990002
                            REGISTER 2 - PARAMETER AREA POINTER  Y02653 11010002
         LR    R11,R1        SET ESTAE PARMAREA ADDRESS          Y02653 11050002
         USING SDWA,R11      BASE FOR ABEND WORKAREA             Y02653 11100002
         USING EPARMS,R2     BASE FOR PARMAREA                   Y02653 11150002
         L     R2,SDWAPARM   ADDRESS OF PARMAREA                 Y02653 11200002
         L     R1,SDWAABCC   GET ABEND CODE                      Y02653 11250002
         ST    R2,SDWASR01   PASS PARM ADDRESS INTO ASIR         Y02653 11300002
         TM    SDWAERRC,SDWAPERC                                 Y02653*11460002
                             IS IT PERCOLATION?                  Y02653 11462002
         BO    STAE0010      YES, BYPASS DUMP INDICATOR          Y02653 11470002
         TM    SDWAERRA,SDWAMCHK                               @YM3502P*11477002
                             IS IT A MACHINE CHECK?            @YM3502P 11484002
         BO    STAE0010      YES, BYPASS DUMP INDICATOR        @YM3502P 11491002
STAE0005 EQU   *                                                 Y02653 11500002
         OI    PARMFLGS,PARMDUMP                                 Y02653*11550002
                             INDICATE DUMP REQUIRED              Y02653 11560002
         DROP  R11           RELEASE SDWA BASE                   Y02653 11600002
STAE0010 EQU   *                                                 Y02653 11650002
*        R14 USED TO BE SAVED IN PARMRETY WHICH CAUSED THE     @ZA15790 11660003
*        RETRY ADDR ESTABLISHED BY IEE0003D TO BE OVERLAID.    @ZA15790 11670003
*        CONTROL IS NOW RETURNED TO THE ADDR SPECIFIED IN      @ZA15790 11680003
*        PARMRETY INSTEAD OF THE ABEND STAE INTERFACE ROUTINE  @ZA15790 11690003
         ST    R1,PARMABND   STORE ABEND CODE IN AREA            Y02653 11750002
         ST    R12,PARMWORK  PASS BASE ADDRESS INTO ASIR         Y02653 11800002
         C     R0,TWELVE     WAS WORK AREA PASSED?               Y02653 11850002
         BE    STAE0015      YES, DO QUICK RETRY                 Y02653 11900002
         LR    R1,R11        SET SDWA ADDRESS FOR EXIT           Y02653 11950002
         SETRP RETADDR=STAE0020,RECORD=YES,RETREGS=YES,          Y02653*12000002
               RECPARM=LRECINF,RC=4,FRESDWA=YES,DUMP=NO        @YM3503P 12050002
         BR    R14           RETURN TO ASIR                      Y02653 12100002
STAE0015 EQU   *                                                 Y02653 12150002
         LA    R0,STAE0020   SET RETRY ADDRESS                   Y02653 12200002
         LA    R15,E4        INDICATE RETRY                      Y02653 12250002
         BR    R14           RETURN TO ASIR                      Y02653 12300002
         EJECT                                                          12302002
*********************************************************************** 12310002
*        THIS SECTION OF CODE IS THE ENTRY TO THE RETRY ROUTINE.      * 12312002
*        ITS FUNCTION IS TO RESET THE BASE ADDRESS AND TO FIND        * 12314002
*        AND HANDLE ABEND RECURSIONS BY PICKING UP THE PROCESS        * 12316002
*        CODE AND BRANCHING TO THE FUNCTION TO BE PERFORMED.          * 12318002
*********************************************************************** 12320002
STAE0020 EQU   *             ESTAE RETRY POINT                   Y02653 12350002
         LR    R2,R1         SET PARMAREA ADDRESS                Y02653 12400002
         L     R12,PARMWORK  SET BASE REGISTER                   Y02653 12450002
         LH    R4,PARMCODE   GET RECURSION CODE                  Y02653 12950002
         B     STAE0040(R4)  START STAE PROCESSING               Y02653 13400002
STAE0040 EQU   *                                                 Y02653 13450002
         B     STAE0050      DUMP SYSTEM                         Y02653 13500002
         B     STAE0070      INFORM OPERATOR                     Y02653 13550002
         B     STAE0120      INFORM TERMINAL USER                Y02653 13560002
         B     STAE0140      CLEAN UP CHAINS                     Y02653 13600002
         B     STAE0220      RETURN                              Y02653 13650002
         EJECT                                                          13750002
*********************************************************************** 13800002
*        THE FOLLOWING WILL BUMP THE PROCESS CODE AND THEN WILL       * 13900002
*        DETERMINE IF A DUMP IS NECESSARY.  IF ENTERED BECAUSE        * 13950002
*        OF A SYSTEM FAILURE, A PROGRAM CHECK, OR THE SYSTEM          * 14000002
*        RESTART KEY WAS DEPRESSED THEN A DUMP WILL BE TAKEN.         * 14050002
*********************************************************************** 14150002
STAE0050 EQU   *                                                 Y02653 14200002
         LA    R4,E4(R4)     BUMP PROCESS CODE                   Y02653 14250002
         STH   R4,PARMCODE   PUT IT IN PARAMETER AREA            Y02653 14300002
         TM    PARMFLGS,PARMDUMP                                 Y02653*14450002
                             DUMP REQUIRED?                      Y02653 14460002
         BNO   STAE0070      NO, BYPASS DUMP                     Y02653 14500002
         MVC   PARMMESG(DUMPL),DUMPPARM                          Y02653*14600002
                             MOVE IN LIST FORM OF DUMP           Y02653 14650002
         LA    R6,PARMMESG   SET UP ADDRESSABILITY TO          @ZA15793 14650703
         USING PARMDMP,R6    MESSAGE AREA                      @ZA15793 14651403
         LA    R10,PARMDTIT  ADDR OF DUMP TITLE                @ZA15793 14652103
         TM    PARMFLGS,PARMCOMD  WAS COMMAND ISSUED?          @ZA15793 14653003
         BNO   STAE0060      NO. LEAVE TITLE ALONE             @ZA15793 14655003
         MVC   PARMDVAR(MSGLEN3A),INSERT3  MOVE IN "COMMAND"   @ZA15793 14661003
         LH    R9,PARMLNCM   GET LENGTH OF COMMAND             @ZA15793 14663003
         BCTR  R9,0          DECREMENT FOR EXECUTE             @ZA15793 14665003
         LA    R6,PARMDCMD   ADDR OF WHERE CMD IS TO BE PLACED @ZA15793 14667003
         DROP  R6                                              @ZA15793 14680003
         EX    R9,COMMOVE    MOVE THE COMMAND TO TITLE         @ZA15793 14685003
STAE0060 EQU   *                                               @ZA15793 14690003
         LA    R1,PARMMESG   ADDRESS OF LIST FORM                Y02653 14700002
         SDUMP HDRAD=(R10),MF=(E,(1)) INVOKE DUMP              @ZA15793 14720003
         LR    R10,R15       SAVE RETURN CODE                    Y02653 14800002
         B     STAE0080      INFORM OPERATOR                     Y02653 14850002
STAE0070 EQU   *             RECURSIVE ABEND MESSAGE ENTRY       Y02653 14900002
         LA    R10,E4        INDICATE NO 'DUMPED,' MESSAGE       Y02653 14950002
         EJECT                                                          14952002
*********************************************************************** 14960002
*        THE FOLLOWING CODE WILL CONSTRUCT A MESSAGE TO INFORM        * 14962002
*        THE OPERATOR OF THE PROBLEM, THE STATUS OF THE DUMP,         * 14964002
*        AND THAT THE COMMAND IS BEING TERMINATED.                    * 14966002
*********************************************************************** 14970002
STAE0080 EQU   *             NORMAL MESSAGE ENTRY                Y02653 15000002
         LA    R4,E4(R4)     INDICATE MESSAGE ATTEMPTED          Y02653 15050002
         STH   R4,PARMCODE   PUT IT IN PARAMETER AREA            Y02653 15100002
         MVC   PARMMESG(MSGLEN5),ABMSG                           Y02653*15500002
                             MOVE IN BASE ABEND MESSAGE          Y02653 15502002
         LA    R5,PARMMESG   ADDRESS OF MESSAGE START            Y02653 15510002
         LR    R6,R5         ADDRESS OF MESSAGE START            Y02653 15520002
         AH    R6,MSGLEN     BUMP TO BUFFER STARTING POSITION    Y02653 15530002
         TM    PARMFLGS,PARMCOMD                                 Y02653*15532002
                             WAS A COMMAND ISSUED?               Y02653 15532402
         BNO   STAE0090      NO, THEN INDICATE SVC 34 FAILED     Y02653 15534002
         LH    R9,PARMLNCM   GET LENGTH OF COMMAND               Y02653 15540002
         BCTR  R9,R0         DECREMENT FOR EXECUTE               Y02653 15550002
         EX    R9,COMMOVE    MOVE THE COMMAND                    Y02653 15560002
         AH    R6,PARMLNCM   BUMP TO NEXT POSITION IN BUFFER     Y02653 15570002
         MVC   E0(MSGLEN3,R6),INSERT3                            Y02653*15570402
                             MOVE IN ABEND NAME                  Y02653 15570802
         LA    R6,MSGLEN3(R6)                                    Y02653*15571202
                             BUMP TO NEXT POSITION IN BUFFER     Y02653 15574602
         B     STAE0100      BYPASS SVC 34 FAILED PART           Y02653 15575702
STAE0090 EQU   *                                                 Y02653 15577102
         MVC   E0(MSGLEN2,R6),INSERT2                            Y02653*15578502
                             MOVE IN 'SVC 34 FAILED' MESSAGE     Y02563 15579902
         LA    R6,MSGLEN2(R6)                                    Y02653*15581302
                             BUMP TO NEXT POSITION IN BUFFER     Y02653 15581602
         EJECT                                                          15583202
*********************************************************************** 15585202
*        THE FOLLOWING WILL PUT THE ABEND CODE INTO THE               * 15585602
*        MESSAGE BEING BUILT.  THEN IT WILL ADD THE 'DUMPED' MESSAGE  * 15585702
*        PORTION TO THE MESSAGE, IF REQUIRED AND FINALLY IT           * 15585802
*        WILL ADD THE 'TERMINATED' MESSAGE PORTION AND ISSUE THE WTO. * 15596502
*********************************************************************** 15606502
STAE0100 EQU   *             ABEND CONVERSION CODE               Y02653 15607202
         USING PARMABN0,R6   SET BASE FOR ABEND CODE             Y02653 15617902
         L     R9,PARMABND   PICK UP ABEND CODE                  Y02653 15628602
         N     R9,MASK1      'AND' OFF DUMP BIT                  Y02653 15639302
         SRL   R9,E12        SHIFT TO LOW ORDER BYTES            Y02653 15650002
         STH   R9,PARMWORK   PUT IT IN WORKAREA                  Y02653 15700002
         UNPK  PARMABN1(E5),PARMWORK(E3)                         Y02653*15750002
                             UNPACK FOR TRANSLATE                Y02653 15800002
         TR    PARMABN2(E3),TABLE                                Y02653*15850002
                             TRANSLATE FOR MESSAGE OUTPUT        Y02653 15860002
         MVI   PARMABN1,BLNK BLANK FIRST PART                    Y02653 15900002
         MVI   PARMABN5,COMA ADD COMMA TO END                    Y02653 15950002
         LA    R6,E5(R6)     BUMP TO NEXT POSITION IN BUFFER     Y02653 15960002
         DROP  R6            RELEASE BASE                        Y02653 16000002
         LTR   R10,R10       DUMP SUCCESSFUL?                    Y02653 16200002
         BNZ   STAE0110      NO, BYPASS 'DUMPED,' PART           Y02653 16250002
         MVC   E0(MSGLEN0,R6),INSERT0                            Y02653*16300002
                             MOVE IN 'DUMPED,' MESSAGE           Y02653 16350002
         LA    R6,MSGLEN0(R6)                                    Y02653*16400002
                             BUMP TO NEXT POSITION IN BUFFER     Y02653 16410002
STAE0110 EQU   *                                                 Y02653 16450002
         MVC   E0(MSGLEN4,R6),INSERT4                            Y02653*16600002
                             MOVE IN 'TERMINATED' MESSAGE        Y02653 16650002
         LA    R6,MSGLEN4(R6)                                    Y02653*16700002
                             BUMP TO END OF BUFFER               Y02653 16710002
         MVC   E0(E4,R6),RETCDE5                                 Y02653*16750002
                             INSERT COMMAND STATUS ROUTING CODES Y02653 16760002
         TM    PARMFLGS,PARMCOMD                                 Y02653*16800002
                             IS IT COMMAND STATUS?               Y02653 16810002
         BO    STAE0111      YES, BRANCH                         Y02653 16850002
         MVC   E0(E4,R6),RETCDE4                                 Y02653*16930002
                             INSERT SYSTEM STATUS ROUTING CODES  Y02653 16930402
STAE0111 EQU   *                                                 Y02653 16932002
         SR    R6,R5         CALCULATE LENGTH OF MESSAGE         Y02653 16940002
         STH   R6,MSGLEN     PUT LENGTH IN MESSAGE               Y02653 16942002
         SR    R0,R0         CLEAR INSERTION REGISTER            Y02653 16942102
         ICM   R0,ALLB,PARMTYPE                                  Y02653*16942402
                             GET DESTINATION INFORMATION         Y02653 16942502
         BP    STAE0115      IF POSITIVE, CONTINUE CHECKING      Y02653 16942802
STAE0112 EQU   *             MESSAGE TO MASTER CONSOLE           Y02653 16942902
         SR    R0,R0         INDICATE MASTER CONSOLE             Y02653 16943202
         B     STAE0118      GO ISSUE WTO                        Y02653 16943602
STAE0115 EQU   *             EXAMINE FOR ASID OR CONSOLE ID      Y02653 16943702
         SR    R0,R0         ZERO INSERTION REGISTER             Y02653 16944002
         ICM   R0,TWOB,PARMTPUT                                  Y02653*16944902
                             PULL IN THE ID                      Y02653 16945002
         BM    STAE0112      TOP BIT ON THEN ASID/MASTER         Y02653 16945202
STAE0118 EQU   *                                                 Y02653 16945302
         LA    R1,PARMMESG   ADDRESS OF MESSAGE                  Y02653 16945502
         WTO   MF=(E,(1))    WRITE OUT MESSAGE                   Y02653 16946002
         EJECT                                                          16948002
*********************************************************************** 16948102
*        THE FOLLOWING SECTION OF CODE WILL DETERMINE IF THE          * 16948502
*        COMMAND WAS FROM A TERMINAL.  IF SO, IT WILL SEND THE        * 16948902
*        TERMINATION MESSAGE VIA TPUT TO THE TERMINAL THAT            * 16949002
*        ISSUED THE REQUEST.                                          * 16949102
*********************************************************************** 16949202
STAE0120 EQU   *                                                 Y02653 16949302
         LA    R4,E4(R4)     INDICATE TPUT ATTEMPTED             Y02653 16949502
         STH   R4,PARMCODE   PUT IT IN PARAMETER AREA            Y02653 16949902
         SR    R15,R15       CLEAR INSERTION REGISTER            Y02653 16954102
         ICM   R15,TWOB,PARMTPUT                                 Y02653*16955802
                             IS THERE AN ASID TO TPUT?           Y02653 16958002
         BNM   STAE0140      NO, BYPASS TPUT PROCESS             Y02653 16960202
         N     R15,MASK2     TURN OFF HIGH END BITS              Y02653 16962402
         LH    R5,MSGLEN     GET LENGTH OF WTO MESSAGE           Y02653 16964602
         LA    R6,E4         LENGTH OF UNWANTED INFORMATION      Y02653 16966802
         SR    R5,R6         SUBTRACT IT FROM WTO LENGTH         Y02653 16969002
         LA    R1,PARMPUTM   ADDRESS OF THE TPUT TEXT            Y02653 16971202
         TPUT  (1),(5),TJID=(15)                                 Y02653*16973402
                             TPUT THE MESSAGE                    Y02653 16975602
         EJECT                                                          16977802
*********************************************************************** 16980002
*        THE FOLLOWING WILL VERIFY THE VALIDITY OF THE CSCB'S TO      * 16982202
*        SEE IF IT IS WITHIN THE BOUNDS OF SQA AND ON A DOUBLE        * 16984402
*        WORD BOUNDRY.  IT WILL ALSO CHECK THE CIB'S OF EACH CSCB.    * 16986602
*********************************************************************** 16988802
STAE0140 EQU   *                                                 Y02653 16991002
         LA    R4,E4(R4)     INDICATE SCAN ATTEMPTED             Y02653 16993202
         STH   R4,PARMCODE   PUT IT IN PARAMETER AREA            Y02653 17003202
         SYSEVENT DONTSWAP   DON'T ALLOW SWAP UPDER ENQUEUE      Y02653 17013202
         MVC   PARMMESG(ENQLEN),LISTENQ                          Y02653*17016402
                             SET UP THE LIST FORM OF ENQUEUE     Y02653 17022102
         LA    R1,PARMMESG   SET ADDRESS OF ENQUEUE LIST         Y02653 17024902
         ENQ   MF=(E,(1))    ENQUEUE ON THE CSCB CHAIN           Y02653 17027702
STAE0145 EQU   *                                                 Y02653 17198302
         L     R6,CVTPTR     ADDRESS OF THE CVT                  Y02653 17199602
         USING CVTSECT,R6    BASE THE CVT                        Y02653 17200902
         L     R5,CVTMSER    RELOAD IEEBASEA POINTER             Y02653 17202202
         USING BASE,R5       BASE FOR IEEBASEA                   Y02653 17202602
         LR    R15,R5        GET ADDRESS OF BACHN                Y02653 17203502
         L     R1,BACHN      GET ADDRESS OF CSCB CHAIN           Y02653 17204802
         LR    R8,R1         SAVE CSCB ADDRESS                   Y02653 17206102
         SR    R4,R4         INSERT CSCB CODE OF 0 IN REGISTER 4 Y02653 17207402
         L     R6,CVTGDA     OBTAIN THE GDA ADDRESS              Y02653 17530002
         DROP  R6                                                Y02653 17532002
         USING GDA,R6        ESTABLISH GDA ADDRESSABILITY        Y02653 17540002
         L     R7,SQASPQEP   OBTAIN THE SPQE ADDRESS             Y02653 17550002
         USING SPQESECT,R7   ESTABLISH SPQE ADDRESSABILITY       Y02653 17560002
         DROP  R6                                                Y02653 17562002
         L     R9,SPDQEPTR   OBTAIN THE DQE ADDRESS              Y02653 17564002
STAE0148 EQU   *                                                 Y02653 17564802
         DROP  R5            RELEASE BASE REGISTER               Y02653 17565202
         USING DQESECT,R9    ESTABLISH DQE ADDRESSABILITY        Y02653 17566002
         LR    R5,R9         SAVE THE DQE ADDRESS                Y02653 17566402
         L     R6,DQEBLKAD   LOAD THE STARTING ADDRESS           Y02653 17568002
         LA    R6,E0(R6)     CLEAR THE HIGH ORDER BYTE           Y02653 17568402
         L     R7,DQELNTH    LOAD THE LENGTH OF THE AREA         Y02653 17568802
         AR    R7,R6         COMPUTE THE ENDING ADDRESS          Y02653 17569702
         EJECT                                                          17570002
*********************************************************************** 17600002
*        FIND THE CSCB ADDRESS AND SCAN THE CSCB CHAIN.               * 17700002
*        ALSO, SCAN THE CIB CHAIN OFF EACH CSCB.                      * 17750002
*********************************************************************** 17850002
STAE0150 EQU   *                                                 Y02653 18600002
         LA    R1,E0(R1)     CLEAR HIGH ORDER BYTE               Y02653 18650002
         LTR   R0,R1         IS THE ELEMENT LAST ON CHAIN?       Y02653 18700002
         BZ    STAE0180      YES, GO TO NEXT STEP                Y02653 18750002
STAE0155 EQU   *                                                 Y02653 18760002
         CR    R1,R6         IS THE ADDRESS BEFORE SQA?          Y02653 18800002
         BL    STAE0170      YES, BRANCH                         Y02653 18850002
         CR    R1,R7         IS THE ADDRESS AFTER SQA?           Y02653 18900002
         BNL   STAE0170      YES, BRANCH                         Y02653 18950002
         SLL   R0,E29        SHIFT OFF ALL BUT 3 LOW ORDER BITS  Y02653 19000002
         LTR   R0,R0         IS IT ON A DOUBLE WORD BOUNDARY?    Y02653 19050002
         BNZ   STAE0200      NO, BRANCH                          Y02653 19100002
         LTR   R4,R4         CSCB OR CIB?                        Y02653 19150002
         BZ    STAE0165      A CSCB, BRANCH                      Y02653 19200002
         LR    R15,R1        SAVE OLD CIB ADDRESS                Y02653 19350002
         L     R1,E0(R1)     GET ADDRESS OF NEXT CIB             Y02653 19400002
         B     STAE0148      CONTINUE SCANNING                   Y02653 19450002
STAE0165 EQU   *                                                 Y02653 19452002
         USING CHAIN,R1      BASE THE CSCB                     @YM6166P 19452302
         TM    CHSTS,CHAP    CSCB PROCESSING PENDING?          @YM6166P 19452602
         DROP  R1            TRLRSDR CSCB BASE                 @YM6166P 19452902
         BO    STAE0190      YES - NO CIB POINTER AVAILABLE    @YM6166P 19453202
         LA    R15,CIBDISP(R1)                                   Y02653*19454002
                             ADDRESS OF CIB POINTER              Y02653 19454402
         L     R1,E0(R15)    GET NEXT CIB ADDRESS                Y02653 19456002
         LA    R4,E8         INSERT CODE OF 8 FOR CSCBCIB        Y02653 19458002
         B     STAE0148      SCAN THE CHAIN                      Y02653 19458402
         EJECT                                                          19458802
*********************************************************************** 19459202
*        THE FOLLOWING WILL HANDLE THE MULTIPLE PQE'S OF              * 19459602
*        SQA AND WILL RESET BACK TO THE FIRST PQE PRIOR TO            * 19459702
*        GOING ON AND CHECKING THE NEXT CONTROL BLOCK.                * 19459802
*********************************************************************** 19459902
STAE0170 EQU   *                                                 Y02653 19460002
         DROP  R9                                                Y02653 19460402
         USING DQESECT,R5    ESTABLISH DQE ADDRESSABILITY        Y02653 19462002
         L     R5,DQEPTR     GET NEXT SQA SEGMENT DQE            Y02653 19470002
         LA    R5,E0(R5)     ZERO THE HIGH ORDER BYTE            Y02653 19480002
         LTR   R5,R5         ANY MORE SQA SEGMENTS?              Y02653 19490002
         BZ    STAE0200      NO MORE SQA SEGMENTS                Y02653 19492002
         L     R6,DQEBLKAD   GET THE START OF SQA SEGMENT        Y02653 19494002
         LA    R6,E0(R6)     ZERO THE HIGH ORDER BYTE            Y02653 19496002
         L     R7,DQELNTH    GET THE LENGTH OF SQA SEGMENT       Y02653 19498002
         AR    R7,R6         FIND THE NEW HIGH ADDRESS           Y02653 19498402
         B     STAE0155      RECHECK THE CURRENT CHAIN           Y02653 19498802
STAE0180 EQU   *                                                 Y02653 20350002
         LTR   R4,R4         ANY MORE CSCB'S TO PROCESS?         Y02653 20400002
         BZ    STAE0210      NO, END OF SCANNING                 Y02653 20500002
         SR    R4,R4         INDICATE CSCB CODE OF ZERO          Y02653 20700002
STAE0190 LR    R15,R8        SAVE THE CSCB ADDRESS             @YM6166P 20750002
         L     R8,E0(R15)    GET ADDRESS OF NEXT CSCB            Y02653 20800002
         LR    R1,R8         SAVE CSCB ADDRESS IN REGISTER 8     Y02653 20850002
         B     STAE0150      SCAN THE CHAIN                      Y02653 20900002
         EJECT                                                          20950002
*********************************************************************** 21000002
*        THIS CODE WILL TRUNCATE THE CSCB CHAIN AND INFORM            * 21050002
*        THE OPERATOR VIA MESSAGE IEE513I THAT THE CHAIN WAS          * 21100002
*        TRUNCATED.                                                   * 21150002
*********************************************************************** 21200002
STAE0200 EQU   *                                                 Y02653 22000002
         XC    E0(E4,R15),E0(R15)                                Y02653*22050002
                             TRUNCATE CHAIN                      Y02653 22060002
         OI    PARMFLGS,PARMCHOP                                 Y02653*22100002
                             INDICATE CHAIN WAS CHOPPED          Y02653 22110002
         LTR   R4,R4         CSCB OR CIB CHAIN?                  Y02653 22150002
         BZ    STAE0145      CONTINUE CIB ERROR CHECKING         Y02653 22350002
STAE0210 EQU   *                                                 Y02653 22750002
         MVC   PARMMESG(DEQLEN),LISTDEQ                          Y02653*22800002
                             SET UP THE LIST FORM OF ENQUEUE     Y02653 22850002
         LA    R1,PARMMESG   SET ADDRESS OF DEQUEUE LIST         Y02653 22900002
         DEQ   MF=(E,(1))    DEQUEUE OFF THE CSCB CHAIN          Y02653 22950002
         SYSEVENT OKSWAP     ALLOW SWAPPING AGAIN                Y02653 23000002
         TM    PARMFLGS,PARMCHOP                                 Y02653*23050002
                             IS MESSAGE REQUIRED?                Y02653 23060002
         BNO   STAE0220      BYPASS ERROR MESSAGE                Y02653 23100002
         MVC   PARMMESG(MSGLEN6),CSCBCHOP                        Y02653*23150002
                             MOVE MESSAGE TO BUFFER              Y02653 23200002
         SR    R0,R0         CLEAR INSERTION REGISTER            Y02653 23202002
         ICM   R0,ALLB,PARMTYPE                                  Y02653*23204002
                             GET DESTINATION INFORMATION         Y02653 23206002
         BP    STAE0215      IF POSTIVE, CONTINUE CHECKING       Y02653 23233402
STAE0212 EQU   *             MESSAGE TO MASTER CONSOLE           Y02653 23236702
         SR    R0,R0         INDICATE MASTER CONSOLE             Y02653 23240002
         B     STAE0218      GO ISSUE WTO                        Y02653 23242002
STAE0215 EQU   *             EXAMINE FOR ASID OR CONSOLE ID      Y02653 23244002
         SR    R0,R0         ZERO INSERTION REGISTER             Y02653 23246002
         ICM   R0,TWOB,PARMTPUT                                  Y02653*23248002
                             PULL IN THE ID                      Y02653 23248402
         BM    STAE0212      TOP BIT ON THEN ASID/MASTER         Y02653 23248802
STAE0218 EQU   *                                                 Y02653 23249202
         LA    R1,PARMMESG   ADDRESS OF BUFFER                   Y02653 23250002
         TM    PARMFLGS,PARMCOMD                                 Y02653*23260002
                             IS IT COMMAND STATUS?               Y02653 23270002
         BO    STAE0219      YES, BRANCH                         Y02653 23280002
         MVI   E38(R1),X10   INSERT SYSTEM STATUS ROUTING CODES  Y02653 23290002
STAE0219 EQU   *                                                 Y02653 23292002
         WTO   MF=(E,(1))    WRITE OUT MESSAGE                   Y02653 23300002
         SR    R15,R15       CLEAR INSERTION REGISTER            Y02653 23300402
         ICM   R15,TWOB,PARMTPUT                                 Y02653*23315602
                             IS THERE AN ASID TO TPUT?           Y02653 23316002
         BNM   STAE0220      NO, BYPASS TPUT PROCESS             Y02653 23316702
         N     R15,MASK2     TURN OFF HIGH END BITS              Y02653 23320402
         LA    R5,MSGLEN6    GET LENGTH OF WTO MESSAGE           Y02653 23324102
         LA    R6,E4         LENGTH OF UNWANTED INFORMATION      Y02653 23327802
         SR    R5,R6         SUBTRACT IT FROM WTO LENGTH         Y02653 23331502
         LA    R1,PARMMESG+E4                                    Y02653*23335202
                             ADDRESS OF THE TPUT TEXT            Y02653 23337202
         TPUT  (1),(5),TJID=(15)                                 Y02653*23338902
                             TPUT THE MESSAGE                    Y02653 23342602
         EJECT                                                          23346302
*********************************************************************** 23350002
*        THIS CODE WILL RETURN TO TO A COMMON EXIT POINT              * 23450002
*        WITH A RETURN CODE OF EIGHT.                                 * 23500002
*********************************************************************** 23600002
STAE0220 EQU   *                                                 Y02653 23650002
         LA    R15,E8        SET RETURN CODE                     Y02653 23750002
         L     R14,PARMRETY  GET THE RETURN ADDRESS              Y02653 23800002
         BR    R14           RETURN TO STAE                      Y02653 23850002
         EJECT                                                          28010002
*********************************************************************** 28020002
*        CONSTANTS FOR STAE                                           * 28040002
*********************************************************************** 28044002
         SPACE                                                          28046002
         DS    0F                                                Y02653 28048002
COMMOVE  MVC   E0(E0,R6),PARMCOMM MOVE COMMAND NAME TO BUFFER    Y02653 28048102
TWELVE   DC    F'12'              ESTAE WORKAREA COMPRAND        Y02653 28048402
RETCDE4  DC    X'10004000'        SYSTEM STATUS ROUTING CODES    Y02669 28048502
RETCDE5  DC    X'08004000'        COMMAND STATUS ROUTING CODES   Y02669 28048802
MASK1    DC    X'7FFFFFFF'        'AND' MASK                     Y02653 28049202
MASK2    DC    X'00007FFF'        ASID SETUP MASK                Y02653 28049302
LRECINF  DC    CL8'IGC0003D'      MODULE NAME FOR LOGREC         Y02653 28049602
         DC    CL8'IEE5103D'      CSECT NAME FOR LOGREC          Y02653 28049702
         DC    CL8'        '      PADDING FOR LOGREC WRITE       Y02653 28049802
TABLE    EQU   *-240              TRANSLATE TABLE                Y02653 28049902
         DC    C'0123456789ABCDEF'                               Y02653 28083202
         EJECT                                                          28093202
*********************************************************************** 28103202
*        MESSAGES FOR STAE                                            * 28115202
*********************************************************************** 28116002
         SPACE                                                          28116402
         DS    0F                                                Y02653 28116502
STRT0    EQU   *                                                 Y02653 28116602
INSERT0  DC    C' DUMPED,'        SUCESSFUL DUMP MESSAGE         Y02653 28127702
END0     EQU   *                                                 Y02653 28137702
STRT2    EQU   *                                                 Y02653 28140602
INSERT2  DC    C'SVC 34 ABEND'    SVC 34 ABEND                   Y02653 28140702
END2     EQU   *                                                 Y02653 28140802
STRT3    EQU   *                                                 Y02653 28141002
INSERT3  DC    C' COMMAND '       COMMAND                      @ZA15793 28141403
END3A    EQU   *                                               @ZA15793 28141903
         DC    C'ABEND'           ABEND                        @ZA15793 28142203
END3     EQU   *                                                 Y02653 28142802
STRT4    EQU   *                                                 Y02653 28143702
INSERT4  DC    C' TERMINATED'     INDICATE FAILED                Y02653 28144602
END4     EQU   *                                                 Y02653 28145502
         DS    0F                                                Y02653 28146402
STRT5    EQU   *                                                 Y02653 28147302
ABMSG    WTO   'IEE480I ',MF=L,ROUTCDE=(2),DESC=(4,5),           Y02653*28148202
               MCSFLAG=(RESP,REG0)                               Y02653 28148602
END5     EQU   *                                                 Y02653 28149102
         DS    0F                                                Y02653 28150002
STRT6    EQU   *                                                 Y02653 28196202
CSCBCHOP WTO   'IEE513I COMMAND PROCESSING LIMITED',             Y02653*28206202
               MF=L,ROUTCDE=(2),DESC=(5),MCSFLAG=(RESP,REG0)     Y02653 28216202
END6     EQU   *                                                 Y02653 28226202
         EJECT                                                          28236202
*********************************************************************** 28238202
*        MACRO LIST FORMS FOR STAE                                    * 28242202
*********************************************************************** 28244602
         DS    0F                                                Y02653 28245002
STRT11   EQU   *                                                 Y02653 28246002
DUMPPARM SDUMP HDR='IEE5103D - FAILURE IN SVC 34          ',   @ZA15793*28246103
               MF=L,SDATA=(SQA,PSA,NUC,LSQA,RGN,LPA,TRT,CSA)     Y02653*28251103
                                  DUMP OPTIONS FOR STAE DUMP     Y02653 28262802
END11    EQU   *                                                 Y02653 28272802
DEQST    EQU   *                  START OF DEQUEUE LIST          Y02653 28272902
LISTDEQ  DEQ   (MACSCB,MICSCB,3,SYSTEM),RET=HAVE,MF=L            Y02653 28273202
DEQEND   EQU   *                  END OF DEQUEUE LIST            Y02653 28273602
ENQST    EQU   *                  START OF ENQUEUE LIST          Y02653 28273702
LISTENQ  ENQ   (MACSCB,MICSCB,E,3,SYSTEM),RET=HAVE,MF=L          Y02653 28274002
ENQEND   EQU   *                  END OF DEQUEUE LIST            Y02653 28274402
MACSCB   DC    CL8'SYSIEFSD'      CSCB MAJOR NAME                Y02653 28274502
MICSCB   DC    CL8'Q10'           CSCB MINOR NAME                Y02653 28274602
PATCH    DS    0F                                              @ZA15790 28274703
         DC    CL50'*** IEE5103D PATCH AREA ***'               @ZA15790 28275003
         EJECT                                                          28276103
*********************************************************************** 28276802
*        LENGTH EQUATES                                               * 28279202
*********************************************************************** 28279402
MSGLEN0  EQU   END0-STRT0    LENGTH OF 'DUMPED,' MESSAGE         Y02653 28287002
MSGLEN2  EQU   END2-STRT2    LENGTH OF 'SVC 34 ABEND' MESSAGE    Y02653 28289002
MSGLEN3  EQU   END3-STRT3    LENGTH OF 'COMMAND ABEND' MESSAGE   Y02653 28289102
MSGLEN3A EQU   END3A-STRT3   LENGTH OF ' COMMAND ' MESSAGE     @ZA15793 28289203
MSGLEN4  EQU   END4-STRT4    LENGTH OF 'TERMINATED' MESSAGE      Y02653 28289402
MSGLEN5  EQU   END5-STRT5    LENGTH OF 'IEE480I' MESSAGE         Y02653 28289802
MSGLEN6  EQU   END6-STRT6    LENGTH OF 'IEE513I........' MESSAGE Y02653 28290202
DUMPL    EQU   END11-STRT11  LENGTH OF 'IEE5103D' ID FOR STAE    Y02653 28290402
ENQLEN   EQU   ENQEND-ENQST  LENGTH OF ENQUEUE LIST              Y02669 28290502
DEQLEN   EQU   DEQEND-DEQST  LENGTH OF DEQUEUE LIST              Y02669 28305302
         EJECT                                                          28319302
*********************************************************************** 28319702
*        DSECT FOR STAE WORKAREA                                      * 28320202
*********************************************************************** 28325202
EPARMS   DSECT                                                   Y02653 28329202
PARMCODE DS    F                  STAE RECURSION INDICATOR       Y02653 28329602
PARMABND DS    F                  ABEND CODE IF SUPPLIED         Y02653 28330002
PARMRETY DS    F                  RETURN ADDRESS                 Y02653 28330102
PARMWORK DS    F                  ROUTINE BASE ADDRESS           Y02653 28337202
PARMTYPE DS    H                  DESTINATION INFORMATION        Y02653 28337602
PARMTPUT DS    H                  ASID OR CONSOLE ID             Y02653 28338002
PARMFLGS DS    C                  INDICATOR BYTE                 Y02653 28339202
PARMDUMP EQU   X'80'              FAILURE ENTRY INDICATOR        Y02653 28339602
PARMCHOP EQU   X'40'              CHOPPED MESSAGE INDICATOR      Y02653 28339702
PARMCOMD EQU   X'20'              COMMAND ISSUED INDICATOR       Y02653 28339802
         DS    C                  RESERVED                       Y02653 28340002
PARMLNCM DS    H                  COMMAND LENGTH                 Y02653 28340102
PARMCOMM DS    CL8                COMMAND NAME                   Y02653 28352002
PARMMESG DS    0F                 MESSAGE BUFFER                 Y02653 28362002
MSGLEN   DS    H                  LENGTH OF MESSAGE              Y02653 28364002
MSGFLG   DS    H                  WTO FLAGS                      Y02653 28364102
PARMPUTM DS    CL60               FIRST PART OF MESSAGE          Y02653 28364202
         SPACE                                                          28366203
PARMABN0 DSECT                    FOR CONVERT OF ABEND CODE      Y02653 28368202
PARMABN1 DS    C                  FIRST BYTE OF ABEND CODE       Y02653 28370202
PARMABN2 DS    C                  SECCOND BYTE OF ABEND CODE     Y02653 28370602
PARMABN3 DS    C                  THIRD BYTE OF ABEND CODE       Y02653 28371002
PARMABN4 DS    C                  FOURTH BYTE OF ABEND CODE      Y02653 28371402
PARMABN5 DS    C                  LAST BYTE OF ABEND CODE        Y02653 28371802
         SPACE                                                          28421803
PARMDMP  DSECT                    MAPS SDUMP PARM LIST         @ZA15793 28471803
PARMDFLG DS    CL24               FLAGS AND ADDR'S FOR DUMP    @ZA15793 28521803
PARMDTIT DS    0CL40              DUMP TITLE                   @ZA15793 28621803
PARMDLEN DS    C                  LENGTH OF TITLE              @ZA15793 28631803
PARMDFIX DS    CL21               FIXED PART OF TITLE          @ZA15793 28671803
PARMDVAR DS    CL9                VARIABLE PART OF TITLE       @ZA15793 28721803
PARMDCMD DS    CL8                COMMAND NAME IF AVAILABLE    @ZA15793 28771803
         END                                                            30550020
