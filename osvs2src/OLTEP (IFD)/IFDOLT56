         TITLE ' RETAIN/370 TERMINATION IFDOLT56'                       00010000
         TITLE 'RETAIN/370 TERMINATION IFDOLT56'                        00020000
         LCLA  &T,&SPN                                            0002  00030000
.@001    ANOP                                                     0002  00040000
IFDOLT56 CSECT ,                                                  0002  00050000
         BC    15,24(0,@F)                                              00060000
         DC    C'IFDOLT56 23 JAN 74'                             0002  00070000
         STM   @E,@C,12(@D)                                       0002  00080000
         BALR  @B,0                                               0002  00090000
@PSTART  DS    0H                                                 0002  00100000
         USING @PSTART+00000,@B                                   0002  00110000
         ST    @D,@SAV001+4                                       0002  00120000
         LA    @F,@SAV001                                         0002  00130000
         ST    @F,8(0,@D)                                         0002  00140000
         LR    @D,@F                                              0002  00150000
*         GEN(USING CHASCT,2);                                          00160000
         USING CHASCT,2                                                 00170000
         DS    0H                                                       00180000
*         GENERATE DATA;                                                00190000
*  /******************************************************************* 00200000
*  /*     CNVRT MACRO CALLING SEQUENCE                                * 00210000
*  /******************************************************************* 00220000
*         GENERATE DATA;                                                00230000
*         GENERATE DATA;                                                00240000
*         DCL CCWDIS(2) FIXED GENERATED;                                00250000
*  /******************************************************************* 00260000
*  /* REGISTERS                                                       * 00270000
*  /******************************************************************* 00280000
*         DCL R0 REG(0) PTR;                                            00290000
*         DCL R1 REG(1) PTR;                                            00300000
*         DCL R2 REG(2) PTR;                                            00310000
*         DCL R3 REG(3);                                                00320000
*         DCL R4 REG(4);                                                00330000
*         DCL R5 REG(5);                                                00340000
*         DCL R6 REG(6);                                                00350000
*         DCL R7 REG(7);                                                00360000
*         DCL R8 REG(8);                                                00370000
*         DCL R9 REG(9);                                                00380000
*         DCL R10 REG(10);                                              00390000
*         DCL R11 REG(11);                                              00400000
*         DCL R12 REG(12);                                              00410000
*         DCL R13 REG(13);                                              00420000
*         DCL R14 REG(14);                                              00430000
*         DCL R15 REG(15);                                              00440000
*  /******************************************************************* 00450000
*  /*     REI IOB                                                     * 00460000
*  /******************************************************************* 00470000
*         DCL REIOBPTR PTR GENERATED;   /* POINTER TO REMOTE IOB      * 00480000
*         DCL 1 IOB CHAR(40) BASED(REIOBPTR),     /* IOB BREAK DOWN   * 00490000
*             2 IOB1 CHAR(32),          /* USED BY EXCP               * 00500000
*              3 FLAGS BIT(8),          /*                            * 00510000
*               5 DCH BIT(1),           /* DATA CHAINING              * 00520000
*               5 CCH BIT(1),           /* COMMAND CHAINING           * 00530000
*               5 * BIT(6),             /*                            * 00540000
*              3 * CHAR(1),                                             00550000
*              3 SENSE CHAR(2),         /* SENSE                      * 00560000
*              3 ECBC BIT(8),           /* ECB CODE                   * 00570000
*              3 ECBA PTR(24),          /* ECB ADDRESS                * 00580000
*              3 * CHAR(1),                                             00590000
*              3 CSW CHAR(7),           /* CSW                        * 00600000
*              3 * BIT(8),                                              00610000
*              3 CPA PTR(24),           /* CHANNEL PROGRAM ADDRESS    * 00620000
*              3 * BIT(8),              /*                            * 00630000
*              3 DCBA PTR(24),          /* DCB ADDRESS                * 00640000
*              3 * BIT(8),                                              00650000
*              3 * CHAR(8),                                             00660000
*             2 ERPWORK PTR(31);        /* PTR TO ERP WORKAREA        * 00670000
*  /******************************************************************* 00680000
*  /*     ERP'S WORKAREA                                              * 00690000
*  /******************************************************************* 00700000
*         DCL CCWWORK CHAR(48) BASED(ERPWORK); /* WORKAREA            * 00710000
*  /******************************************************************* 00720000
*  /* COMMON AREA REI SWITCHES                                        * 00730000
*  /******************************************************************* 00740000
*         DCL CESWTR CHAR(1) GENERATED; /* COMMON AREA SWITCHES       * 00750000
*        DCL 1 * BASED(ADDR(CESWTR)),    /*                           * 00760000
*              3 RETAINAC BIT(1),        /* REI ACTIVE SWITCH         * 00770000
*              3 REMERR BIT(1),          /* PERMANENT ERROR SWITCH    * 00780000
*              3 REMNOMSG BIT(1),       /* REMOTE NO MESSAGE SWITCH   * 00790000
*              3 * BIT(5);               /*                           * 00800000
*         DCL   CESWTR1 BIT(8) GENERATED; /*RETAIN SWITCHES           * 00810000
*         DCL 1 SWTR1 BIT(8) BASED(ADDR(CESWTR1)),                      00820000
*              3 * BIT(5),                                              00830000
*              3 REMANS BIT(1),     /*    REMOTE WILL ANSWER          * 00840000
*              3 * BIT(2);                                              00850000
*         DCL CESWTR2 BIT(8) GENERATED; /* RETAIN SWITCHES            * 00860000
*         DCL CHASCT CHAR(1) GENERATED; /* COMMON AREA SWITCHES       * 00870000
*        DCL 1 * BASED(ADDR(CHASCT)),                                   00880000
*             3 * (9) FIXED,             /*                           * 00890000
*             3 * FIXED,                 /*                           * 00900000
*               5 * BIT(2),              /*                           * 00910000
*               5 RETSWT BIT(1),         /* ANOTHER REI ACTIVE SWITCH * 00920000
*               5 * BIT(29);             /*                           * 00930000
*  /******************************************************************* 00940000
*  /* BUFFERS AND ASSOCIATED ECBS                                     * 00950000
*  /******************************************************************* 00960000
*         DCL REIECB GENERATED;         /* REMOTE ECB                 * 00970000
*         DCL 1 RECB BASED(ADDR(REIECB)),                               00980000
*               3 * CHAR(2),                                            00990000
*               3 * CHAR(1),                                            01000000
*                5 * BIT(7),                                            01010000
*                5 SELFPOST BIT(1),                                     01020000
*               3 * CHAR(1);                                            01030000
*  /*                                                                 * 01040000
*         DCL RINBUF PTR GENERATED;     /* INPUT BUFFER POINTER       * 01050000
*         DCL REIBUF CHAR(80) BASED(RINBUF);/* REI INPUT BUFFER       * 01060000
*  /*                                                                 * 01070000
*         DCL REIDCBPT PTR GENERATED;   /* POINTER TO REMOTE DCB      * 01080000
*         DCL 1 REIDCB CHAR(72) BASED(REIDCBPT),                        01090000
*               3 * CHAR(44),           /* NA                         * 01100000
*               3 RDCB44 PTR(31),       /* POINTER TO DEB             * 01110000
*                5 RDCB44C CHAR(1);     /* FLAGS                      * 01120000
*  /*                                                                 * 01130000
*         DCL TALKECB FIXED GENERATED;  /* TALK ECB                   * 01140000
*  /*                                                                 * 01150000
*         DCL REIUCB PTR(31) GENERATED; /* UCB ADDRESS                * 01160000
*  /* OLTEP PRINT BUFFER AND PRINT BUFFER SAVE AREA                   * 01170000
*                                       /*                       M4502* 01180000
*         DCL PRTBUFR CHAR(120) GENERATED;                              01190000
*                                       /*                       M4502* 01200000
*         DCL PRINTBUF CHAR(120) BASED(ADDR(PRTBUFR));                  01210000
*                                       /*                       M4502* 01220000
*         DCL PRINTSAV CHAR(120);                                       01230000
*                                       /*                       M4502* 01240000
*  /******************************************************************* 01250000
*  /* SVC 59 CALLING SEQUENCE AND PWTO INFORMATION                    * 01260000
*  /******************************************************************* 01270000
*         DCL IFDMSG56 LABEL NONLOCAL EXTERNAL;   /* MESSAGE MODULE   * 01280000
*         DCL MSGPTR PTR INIT(ADDR(IFDMSG56));                          01290000
*         DCL 1 * BASED(MSGPTR),                                        01300000
*              3 IFD169 PTR(31),        /* MESSAGE POINTERS           * 01310000
*               3 IFD121 PTR(31),                                       01320000
*               3 IFD167 PTR(31),                                       01330000
*              3 IFDXXX PTR(31),        /*                      S21051* 01340000
*              3 IFD137 PTR(31);        /*                      S21051* 01350000
*         DCL 1 * BASED(IFD121),        /* CANCELLED MESSAGE          * 01360000
*              3 * CHAR(12),                                            01370000
*              3 MID CHAR(2);           /* CANCELLED MESSAGE ID       * 01380000
*         DCL 1 WKWDID CHAR(4) BDY(WORD),                               01390000
*              3 * CHAR(2),                                             01400000
*              3 DUMID CHAR(2);                                         01410000
*         DCL WKSVC PTR GENERATED;      /* SVC WORK AREA              * 01420000
*         DCL ROPT CHAR(8) GENERATED;   /* SVC CALLING SEQUENCE       * 01430000
*         DCL 1 * BASED(ADDR(ROPT)),    /* BREAK DOWN                 * 01440000
*              3 ROPT4 PTR,             /* POINTER TO ECB             * 01450000
*              3 ROPT8 PTR;                                             01460000
*         DCL MODID BASED(ADDR(WKSVC));                                 01470000
*         DCL 1 CSWSNSMS CHAR(35) BASED(IFD137),  /*            S21051* 01480000
*              3 * CHAR(4),             /* USED BY PWTO         S21051* 01490000
*              3 * CHAR(14),            /*                      S21051* 01500000
*              3 MSGCSW CHAR(14),       /* CSW                        * 01510000
*              3 * CHAR(5),             /*                      S21051* 01520000
*              3 MSGSNS CHAR(2);        /* SENSE                      * 01530000
*         DCL 1 INBUF CHAR(18),          /* MACRO OUTPUT              * 01540000
*              3 SNSIN CHAR(4),          /* SENSE IN EBCDIC           * 01550000
*              3 CSWIN CHAR(14);        /* CSW INPUT                  * 01560000
*         DCL 1 OUTBUFR CHAR(9),        /* CNVRT MACRO OUTPUT         * 01570000
*              3 SNSOUT CHAR(2),        /* SENSE OUTPUT               * 01580000
*              3 CSWOUT CHAR(7);        /* CSW OUTPUT                 * 01590000
*         DCL CNVRT CHAR(14) GENERATED; /*CALLING SEQUENCE            * 01600000
*         DCL TAB28 PTR(31) GENERATED;  /* POINTER TO CONVERT MACRO   * 01610000
*  /******************************************************************* 01620000
*  /* STIMER MACRO CALLING SEQUENCE                                   * 01630000
*  /******************************************************************* 01640000
*         DCL TIMEOUT PTR GENERATED;                                    01650000
*         DCL SAVE2(18) FIXED;          /* TIMEOUT SAVEAREA           * 01660000
*         DCL TIME2 CHAR(8) BDY(DWORD)  /* TWO MINUTES ON WAIT        * 01670000
*           INIT('F0F0F0F2F0F0F0C0'X);                                  01680000
*  /******************************************************************* 01690000
*  /* PURGE READ INITIAL CHANNEL PROGRAM BEFORE DISABLING LINE        * 01700000
*  /******************************************************************* 01710000
*         GEN(TTIMER CANCEL);                                           01720000
         TTIMER CANCEL                                                  01730000
         DS    0H                                                       01740000
*         GEN(MVC  PRINTSAV(120),PRINTBUF);  /* SAVE PRINT BUFFER     * 01750000
         MVC  PRINTSAV(120),PRINTBUF                                    01760000
         DS    0H                                                       01770000
*                                       /*                       M4502* 01780000
*         REMNOMSG='1'B;                /* REMOTE NO MESSAGE          * 01790000
         OI    A00007,B'00100000'                                 0064  01800000
*         RETSWT='0'B;                  /* TURN OFF REI SWT SA51639   * 01810000
         NI    A00011+36,B'11011111'                              0065  01820000
*         RETSWT='0'B;                  /* TURN OFF RETAIN SW  SA56139* 01830000
*         IF REMERR^='1'B THEN GOTO PURGE;  /* PERMANENT ERROR ?      * 01840000
         TM    A00007,B'01000000'                                 0067  01850000
         BC    12,PURGE                                           0068  01860000
*         IF SELFPOST^='1'B THEN GOTO AA1;                              01870000
         TM    RECB+2,B'00000001'                                 0069  01880000
         BC    12,AA1                                             0070  01890000
*         R1=IFDXXX;                                                    01900000
         L     @1,MSGPTR                                          0071  01910000
         L     @1,12(0,@1)                                        0071  01920000
*         GEN(PWTO REG=(1));                                            01930000
         PWTO REG=(1)                                                   01940000
         DS    0H                                                       01950000
*         GOTO PURGE;                                                   01960000
         BC    15,PURGE                                           0073  01970000
*     AA1:SNSOUT=SENSE;                 /* GET SENSE BYTES            * 01980000
AA1      L     @1,REIOBPTR                                        0074  01990000
         MVC   OUTBUFR(2),2(@1)                                   0074  02000000
*         CSWOUT=CSW;                   /* GET CSW BYTES              * 02010000
         MVC   OUTBUFR+2(7),9(@1)                                 0075  02020000
*         R1=ADDR(CNVRT);               /* POINT TO CALLING SEQUENCE  * 02030000
         LA    @1,CNVRT                                           0076  02040000
*         R15=TAB28;                    /* POINT TO CONVERT MACRO     * 02050000
         L     @F,TAB28                                           0077  02060000
*         GEN(BALR R14,R15);            /* CONVERT SNS&CSW TO EBCDIC  * 02070000
         BALR R14,R15                                                   02080000
         DS    0H                                                       02090000
*         R1=IFD167;                    /* SET UP FOR PWTO            * 02100000
         L     @1,MSGPTR                                          0079  02110000
         L     @1,8(0,@1)                                         0079  02120000
*         GEN(PWTO REG=(1));            /*                      S21051* 02130000
         PWTO REG=(1)                                                   02140000
         DS    0H                                                       02150000
*         R1=IFD137;                    /*                      S21051* 02160000
         L     @1,MSGPTR                                          0081  02170000
         L     @1,16(0,@1)                                        0081  02180000
*         MSGSNS=SNSIN;                 /* PUT IN SENSE DATA          * 02190000
         L     @C,MSGPTR                                          0082  02200000
         L     @C,16(0,@C)         A00021                         0082  02210000
         MVC   37(2,@C),INBUF                                     0082  02220000
*         MSGCSW=CSWIN;                 /* PUT IN CSW DATA            * 02230000
         MVC   18(14,@C),INBUF+4                                  0083  02240000
*         GEN(PWTO REG=(1));            /* WRITE IT                   * 02250000
         PWTO REG=(1)                                                   02260000
         DS    0H                                                       02270000
*   PURGE:R1=REIUCB;                    /* GET UCB ADDRESS            * 02280000
PURGE    L     @1,REIUCB                                          0085  02290000
*         GEN;                          /* PURGE READ INITIAL CHAN PRG* 02300000
HIORDINT SVC   33                       * HIO ON READ INITIAL CHAN PRG  02310000
HIOWAIT  WAIT  ECB=RECB                * WAIT FOR HIO                   02320000
         DS    0H                                                       02330000
*  /******************************************************************* 02340000
*  /* IF NESSECARY FREE LOCAL COMMUNICATIONS ECB                      * 02350000
*  /******************************************************************* 02360000
*         WKSVC='F5F6'X;                /* MODULE ID                  * 02370000
         MVC   WKSVC(4),@X3                                       0087  02380000
*         R1='00'X;                     /* FLAGS               XA     * 02390000
         LA    @1,X'00'                                           0088  02400000
*         ROPT4=ADDR(TALKECB);          /* ADDRESS OF TALK ECB        * 02410000
         LA    @F,TALKECB                                         0089  02420000
         ST    @F,A00025                                          0089  02430000
*         R0=ADDR(ROPT);                /* ADDRESS OF CALLING SEQ     * 02440000
         LA    @0,ROPT                                            0090  02450000
*         GEN(SVC   59);                /* FREE ECB                   * 02460000
         SVC   59                                                       02470000
         DS    0H                                                       02480000
*         IF R1^=0                      /* SVC DID NOT FREE ECB X03008* 02490000
*          THEN                         /* THEREFORE DONT PRNT  X03008* 02500000
         LTR   @1,@1                                              0092  02510000
*           GO TO DISABL;               /* FREE MSG IFD121I     X03008* 02520000
         BC    07,DISABL                                          0093  02530000
*         WKWDID=R0;                    /* SAVE REG WITH MSG ID X03008* 02540000
         ST    @0,WKWDID                                          0094  02550000
*         MID=DUMID;                    /* ID INTO MESSAGE            * 02560000
         L     @1,MSGPTR                                          0095  02570000
         L     @1,4(0,@1)          A00021                         0095  02580000
         MVC   12(2,@1),WKWDID+2                                  0095  02590000
*         R1=IFD121;                    /* POINT TO MESSAGE           * 02600000
         L     @C,MSGPTR                                          0096  02610000
         L     @1,4(0,@C)                                         0096  02620000
*         REMNOMSG='1'B;                /* REMOTE NO MESSAGE          * 02630000
         OI    A00007,B'00100000'                                 0097  02640000
*         GEN(PWTO  REG=(1));           /* ISSUE MESSAGE              * 02650000
         PWTO  REG=(1)                                                  02660000
         DS    0H                                                       02670000
*         REMNOMSG='0'B;                /* RESET FLAG                 * 02680000
         NI    A00007,B'11011111'                                 0099  02690000
*  /******************************************************************* 02700000
*  /* DISABLE 2955 AND SET REI INACTIVE SWITCHES BEFORE RETURNING     * 02710000
*  /******************************************************************* 02720000
*  DISABL:IOB1=IOB1&&IOB1;              /* ZERO THE IOB               * 02730000
DISABL   L     @1,REIOBPTR                                        0100  02740000
         XC    0(32,@1),0(@1)                                     0100  02750000
*         FLAGS='02'X;                                                  02760000
         MVI   0(@1),X'02'                                        0101  02770000
*         RECB = 0;                     /* ZERO THE ECB               * 02780000
         MVC   RECB(4),@D1                                        0102  02790000
*         ECBA = ADDR(RECB);            /* ADDRESS OF ECB             * 02800000
         LA    @F,RECB                                            0103  02810000
         ST    @F,@TEMP4                                          0103  02820000
         MVC   5(3,@1),@TEMP4+1                                   0103  02830000
*         CPA = ADDR(CCWDIS);           /* CHANNEL PROGRAM ADDRESS    * 02840000
         LA    @F,CCWDIS                                          0104  02850000
         ST    @F,@TEMP4                                          0104  02860000
         MVC   17(3,@1),@TEMP4+1                                  0104  02870000
*         DCBA = REIDCBPT;                   /* DCB ADDRESS           * 02880000
         MVC   21(3,@1),REIDCBPT+1                                0105  02890000
*         R1=REIOBPTR;                  /* ADDRESS OF IOB FOR EXCP    * 02900000
         L     @1,REIOBPTR                                        0106  02910000
*         GEN;                          /*                            * 02920000
DISABLE  EXCP  (1)                      * DISABLE THE 2955              02930000
STRTCLCK STIMER REAL,TIMEOUT,DINTVL=TIME2                               02940000
WAITDIS  WAIT  ECB=REIECB                    * WAIT FOR COMPLETION      02950000
STOPCLCK TTIMER CANCEL                                                  02960000
         DS    0H                                                       02970000
*         IF SELFPOST^='1'B THEN GOTO BB1;                              02980000
         TM    RECB+2,B'00000001'                                 0108  02990000
         BC    12,BB1                                             0109  03000000
*         R1=IFDXXX;                                                    03010000
         L     @1,MSGPTR                                          0110  03020000
         L     @1,12(0,@1)                                        0110  03030000
*         GEN(PWTO REG=(1));                                            03040000
         PWTO REG=(1)                                                   03050000
         DS    0H                                                       03060000
*     BB1:IOB1=IOB1&&IOB1;              /* INITIALIZE IOB             * 03070000
BB1      L     @1,REIOBPTR                                        0112  03080000
         XC    0(32,@1),0(@1)                                     0112  03090000
*         FLAGS='02'X;                                                  03100000
         MVI   0(@1),X'02'                                        0113  03110000
*         RECB=0;                       /* INITIALIZE ECB             * 03120000
         MVC   RECB(4),@D1                                        0114  03130000
*         TALKECB=0;                    /* ZERO COMMUNICATIONS ECB    * 03140000
         SR    @F,@F                                              0115  03150000
         ST    @F,TALKECB                                         0115  03160000
*         R1=IFD169;                    /* POINT TO MESSAGE           * 03170000
         L     @C,MSGPTR                                          0116  03180000
         L     @1,0(0,@C)                                         0116  03190000
*         REMNOMSG='1'B;                /* REMOTE NO MESSAGE          * 03200000
         OI    A00007,B'00100000'                                 0117  03210000
*         GEN(PWTO  REG=(1));           /* ISSUE MESSAGE              * 03220000
         PWTO  REG=(1)                                                  03230000
         DS    0H                                                       03240000
*         GEN( NI    CESWTR,X'43');     /* INITIALIZE                 * 03250000
          NI    CESWTR,X'43'                                            03260000
         DS    0H                                                       03270000
*         CESWTR1='00'X;                /*          RETAIN            * 03280000
         MVI   CESWTR1,X'00'                                      0120  03290000
*         CESWTR2='00'X;                /*               SWITCHES     * 03300000
         MVI   CESWTR2,X'00'                                      0121  03310000
*         CCWWORK=CCWWORK&&CCWWORK;     /* ZERO ERP WORKAREA          * 03320000
         L     @1,REIOBPTR                                        0122  03330000
         MVC   @TEMP4(4),32(@1)                                   0122  03340000
         L     @1,@TEMP4           IOB                            0122  03350000
         XC    0(48,@1),0(@1)                                     0122  03360000
*         GEN(MVC  PRINTBUF(120),PRINTSAV);  /* RESTORE PRINT BUFFER  * 03370000
         MVC  PRINTBUF(120),PRINTSAV                                    03380000
         DS    0H                                                       03390000
*                                       /*                       M4502* 03400000
*         RETURN;                            /* RETURN TO DEVICE DEC. * 03410000
         BC    15,@EL01                                           0124  03420000
*  /******************************************************************* 03430000
*  /* STIMER EXIT ROUTINE-2 MINUTE INTERRUPT                          * 03440000
*  /******************************************************************* 03450000
*         GENERATE;                                                     03460000
TIMEOUT  STM   R14,R12,12(R13)         * SAVE CALLERS REGS              03470000
         BALR  R11,0                   * SET                            03480000
         LA    R15,TIMEOUT-IFDOLT56    *     UP                         03490000
         SR    R11,R15                 *        BASE REGISTER           03500000
         ST    R13,SAVE2+4             * SAVE @ OF CALLERS SAVEAREA     03510000
         LA    R15,SAVE2               * GET @ OF OWN SAVEAREA          03520000
         ST    R15,8(R13)              * SAVE IN CALLERS SAVEAREA       03530000
         LR    R13,R15                 * PUT IT IN SAVE REG (13)        03540000
POSTECB  POST  RECB,256                *POST 100 COMPLETION CODE        03550000
         DS    0H                                                       03560000
*         RETURN;                                                       03570000
*         END IFDOLT56;                                                 03580000
@EL01    L     @D,4(0,@D)                                         0127  03590000
         LM    @E,@C,12(@D)                                       0127  03600000
         BCR   15,@E                                              0127  03610000
@DATA1   EQU   *                                                        03620000
@0       EQU   00                  EQUATES FOR REGISTERS 0-15           03630000
@1       EQU   01                                                       03640000
@2       EQU   02                                                       03650000
@3       EQU   03                                                       03660000
@4       EQU   04                                                       03670000
@5       EQU   05                                                       03680000
@6       EQU   06                                                       03690000
@7       EQU   07                                                       03700000
@8       EQU   08                                                       03710000
@9       EQU   09                                                       03720000
@A       EQU   10                                                       03730000
@B       EQU   11                                                       03740000
@C       EQU   12                                                       03750000
@D       EQU   13                                                       03760000
@E       EQU   14                                                       03770000
@F       EQU   15                                                       03780000
@D1      DC    F'0'                                                     03790000
         DS    0F                                                       03800000
@X3      DC    X'0000F5F6'                                              03810000
         DS    0D                                                       03820000
@DATA    EQU   *                                                        03830000
@SAV001  EQU   @DATA+00000000      72 BYTE(S) ON WORD                   03840000
R0       EQU   00000000            FULLWORD POINTER REGISTER            03850000
R1       EQU   00000001            FULLWORD POINTER REGISTER            03860000
R2       EQU   00000002            FULLWORD POINTER REGISTER            03870000
R3       EQU   00000003            FULLWORD INTEGER REGISTER            03880000
R4       EQU   00000004            FULLWORD INTEGER REGISTER            03890000
R5       EQU   00000005            FULLWORD INTEGER REGISTER            03900000
R6       EQU   00000006            FULLWORD INTEGER REGISTER            03910000
R7       EQU   00000007            FULLWORD INTEGER REGISTER            03920000
R8       EQU   00000008            FULLWORD INTEGER REGISTER            03930000
R9       EQU   00000009            FULLWORD INTEGER REGISTER            03940000
R10      EQU   00000010            FULLWORD INTEGER REGISTER            03950000
R11      EQU   00000011            FULLWORD INTEGER REGISTER            03960000
R12      EQU   00000012            FULLWORD INTEGER REGISTER            03970000
R13      EQU   00000013            FULLWORD INTEGER REGISTER            03980000
R14      EQU   00000014            FULLWORD INTEGER REGISTER            03990000
R15      EQU   00000015            FULLWORD INTEGER REGISTER            04000000
IOB      EQU   00000000            40 BYTE(S)                           04010000
IOB1     EQU   IOB+00000000        32 BYTE(S)                           04020000
FLAGS    EQU   IOB+00000000        8 BIT(S)                             04030000
DCH      EQU   IOB+00000000        1 BIT(S)                             04040000
CCH      EQU   IOB+00000000        1 BIT(S)                             04050000
A00000   EQU   IOB+00000000        6 BIT(S)                             04060000
A00001   EQU   IOB+00000001        1 BYTE(S)                            04070000
SENSE    EQU   IOB+00000002        2 BYTE(S)                            04080000
ECBC     EQU   IOB+00000004        8 BIT(S)                             04090000
ECBA     EQU   IOB+00000005        3  BYTE  POINTER                     04100000
A00002   EQU   IOB+00000008        1 BYTE(S)                            04110000
CSW      EQU   IOB+00000009        7 BYTE(S)                            04120000
A00003   EQU   IOB+00000016        8 BIT(S)                             04130000
CPA      EQU   IOB+00000017        3  BYTE  POINTER                     04140000
A00004   EQU   IOB+00000020        8 BIT(S)                             04150000
DCBA     EQU   IOB+00000021        3  BYTE  POINTER                     04160000
A00005   EQU   IOB+00000024        8 BIT(S)                             04170000
A00006   EQU   IOB+00000025        8 BYTE(S)                            04180000
ERPWORK  EQU   IOB+00000032        4  BYTE  POINTER                     04190000
CCWWORK  EQU   00000000            48 BYTE(S)                           04200000
REIBUF   EQU   00000000            80 BYTE(S)                           04210000
REIDCB   EQU   00000000            72 BYTE(S)                           04220000
A00020   EQU   REIDCB+00000000     44 BYTE(S)                           04230000
RDCB44   EQU   REIDCB+00000044     4  BYTE  POINTER                     04240000
RDCB44C  EQU   REIDCB+00000044     1 BYTE(S)                            04250000
PRINTSAV EQU   @DATA+00000072      120 BYTE(S)                          04260000
         ORG   @DATA+00000192                                           04270000
MSGPTR   EQU   *                   FULLWORD POINTER                     04280000
         DC    VL4(IFDMSG56)                                            04290000
A00021   EQU   00000000            20 BYTE(S) ON WORD                   04300000
IFD169   EQU   A00021+00000000     FULLWORD POINTER                     04310000
IFD121   EQU   A00021+00000004     FULLWORD POINTER                     04320000
IFD167   EQU   A00021+00000008     FULLWORD POINTER                     04330000
IFDXXX   EQU   A00021+00000012     FULLWORD POINTER                     04340000
IFD137   EQU   A00021+00000016     FULLWORD POINTER                     04350000
A00022   EQU   00000000            14 BYTE(S) ON WORD                   04360000
A00023   EQU   A00022+00000000     12 BYTE(S)                           04370000
MID      EQU   A00022+00000012     2 BYTE(S)                            04380000
WKWDID   EQU   @DATA+00000196      4 BYTE(S) ON WORD                    04390000
A00024   EQU   WKWDID+00000000     2 BYTE(S)                            04400000
DUMID    EQU   WKWDID+00000002     2 BYTE(S)                            04410000
CSWSNSMS EQU   00000000            35 BYTE(S)                           04420000
A00026   EQU   CSWSNSMS+00000000   4 BYTE(S)                            04430000
A00027   EQU   CSWSNSMS+00000004   14 BYTE(S)                           04440000
MSGCSW   EQU   CSWSNSMS+00000018   14 BYTE(S)                           04450000
A00028   EQU   CSWSNSMS+00000032   5 BYTE(S)                            04460000
MSGSNS   EQU   CSWSNSMS+00000037   2 BYTE(S)                            04470000
INBUF    EQU   @DATA+00000200      18 BYTE(S)                           04480000
SNSIN    EQU   INBUF+00000000      4 BYTE(S)                            04490000
CSWIN    EQU   INBUF+00000004      14 BYTE(S)                           04500000
OUTBUFR  EQU   @DATA+00000218      9 BYTE(S)                            04510000
SNSOUT   EQU   OUTBUFR+00000000    2 BYTE(S)                            04520000
CSWOUT   EQU   OUTBUFR+00000002    7 BYTE(S)                            04530000
SAVE2    EQU   @DATA+00000228      18*FULLWORD INTEGER                  04540000
         ORG   @DATA+00000304                                           04550000
TIME2    EQU   *                   8 BYTE(S) ON DWORD                   04560000
         DC    X'F0F0F0F2F0F0F0C0'                                      04570000
         ORG   @DATA                                                    04580000
         DS    00000312C                                                04590000
@TEMPS   DS    0F                                                       04600000
@TEMP4   DC    F'0'                                                     04610000
CCWDIS   CCW   47,0,32,1                    * DISABLE                   04620000
CNVRT    DC    B'00000000'                                              04630000
         DC    AL1(2)                                                   04640000
         DC    CL2'41'                                                  04650000
         DC    A(OUTBUFR)                                               04660000
         DC    A(INBUF)                                                 04670000
         DC    AL2(9+32768)                                             04680000
RACTERM  IFDCOM                                                         04690000
A00007   EQU   CESWTR+00000000     1 BYTE(S) ON WORD                    04700000
RETAINAC EQU   A00007+00000000     1 BIT(S)                             04710000
REMERR   EQU   A00007+00000000     1 BIT(S)                             04720000
REMNOMSG EQU   A00007+00000000     1 BIT(S)                             04730000
A00008   EQU   A00007+00000000     5 BIT(S)                             04740000
SWTR1    EQU   CESWTR1+00000000    8 BIT(S) ON BYTE                     04750000
A00009   EQU   SWTR1+00000000      5 BIT(S)                             04760000
REMANS   EQU   SWTR1+00000000      1 BIT(S)                             04770000
A00010   EQU   SWTR1+00000000      2 BIT(S)                             04780000
A00011   EQU   CHASCT+00000000     40 BYTE(S) ON WORD                   04790000
A00012   EQU   A00011+00000000     9*FULLWORD INTEGER                   04800000
A00013   EQU   A00011+00000036     FULLWORD INTEGER                     04810000
A00014   EQU   A00011+00000036     2 BIT(S)                             04820000
RETSWT   EQU   A00011+00000036     1 BIT(S)                             04830000
A00015   EQU   A00011+00000036     29 BIT(S)                            04840000
RECB     EQU   REIECB+00000000     4 BYTE(S) ON WORD                    04850000
A00016   EQU   RECB+00000000       2 BYTE(S)                            04860000
A00017   EQU   RECB+00000002       1 BYTE(S)                            04870000
A00018   EQU   RECB+00000002       7 BIT(S)                             04880000
SELFPOST EQU   RECB+00000002       1 BIT(S)                             04890000
A00019   EQU   RECB+00000003       1 BYTE(S)                            04900000
PRINTBUF EQU   PRTBUFR+00000000    120 BYTE(S)                          04910000
A00025   EQU   ROPT+00000000       8 BYTE(S) ON WORD                    04920000
ROPT4    EQU   A00025+00000000     FULLWORD POINTER                     04930000
ROPT8    EQU   A00025+00000004     FULLWORD POINTER                     04940000
MODID    EQU   WKSVC+00000000      FULLWORD INTEGER                     04950000
@DATEND  EQU   *                                                        04960000
         END   IFDOLT56                                                 04970000
