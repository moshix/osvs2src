         TITLE 'IGC0G95B JFCB PROCESSOR - TABLE BUILD MODULE'           00080020
IGC0G95B CSECT                                                          00160020
*                                                                       00240020
*                                                                       00320020
*          RELEASE 23 DELETIONS/CHANGES                                 00400020
*          RELEASE 22 DELETIONS/CHANGES                                 00480020
*          RELEASE 21 DELETIONS/CHANGES                                 00560020
*0000                                                            S21940 00562000
*1066390600-391500                                               M0187  00570021
*1066526500,546300,621100-621200                                 A43757 00580021
*1066581400-584100,591300-592200                                 A41442 00600021
*          RELEASE 20 DELETIONS/CHANGES                                 00640020
*0000                                                            A33701 00680020
*          VS2-RELEASE3 CHANGES/ADDITIONS                               00690000
*559800-559900                                                 @ZA02507 00700000
* APAR OZ31484 HAS BEEN FLAGGED AS @ZSUT222                    @ZSUT222 00710037
*C148460,630000,634700,639600,666160                           @ZSUT222 00712037
*A639630-639660,657500                                         @ZSUT222 00714037
*                                                                M3408  00720020
*                                                                       00800020
* STATUS CHANGE LEVEL 002                                               00880021
*                                                                       00960020
*THIS MODULES IS A SPLIT OF IGC0G05B IN RELEASE 20.1                    01040020
*                                                                       01120020
*                                                                       01260020
*TITLE -       TABLE BUILD MODULE                                       01350020
*                                                                       01440020
*STATUS -      INITIAL CODE                                             01530020
*                                                                       01620020
*FUNCTION -    THIS MODULE IS THE SECOND HALF OF A SPLIT OF MODULE      01720020
*              IGC0G05B MADE FOR RELEASE 20.                            01820020
*                                                                       01920020
*              THE JFCB ASSOCIATED WITH EACH DATA SET IS READ INTO      01970002
*              THE I/O BUFFER PROVIDED FOR EACH 48 BYTE ENTRY. JFCB     02020002
*              INFORMATION ABOUT THE DATA SET IS USED AS A BASIS        02070002
*              FOR FILLING OUT THE TABLE ENTRY. SOME INFO ABOUT THE     02120002
*              DATA SET WHICH IS PLACED IN THE TABLE ENTRY CONSISTS     02170002
*              OF: DCB ADR,DEVICE TYPE,DATA SET ORGN,NUMBER OF          02220002
*              VOLUMES,LABEL INFO,FILE SEQ NUMBER. AN INDICATOR IS SET  02270002
*              IN THE TABLE ENTRY TO FLAG AN ISAM/VSAM CI DATA SET.     02320002
*              AN INDICATOR IS ALSO SET WHEN A VAM DATA SET IS          02370002
*              ENCOUNTERED SO THAT AN ENTRY WILL BE MADE TO MODULE      02470002
*              IGC0M05B TO PROCESS IT.                                  02520002
*                                                                       02880020
*              FOR DATA SETS OTHER THAN IS OR DA THE VOLUME SERIAL NO.  02970020
*              OF THE VOLUME TO BE MOUNTED IS MOVED TO THE FIRST VOLID  03060020
*              POSITION IN THE TABLE ENTRY. FOR IS AND DA, UP TO FIVE   03150020
*              VOLID'S ARE PLACED IN EACH TABLE ENTRY.  IF MORE THAN 5  03240020
*              VOLUMES ARE TO BE MOUNTED, A BIT IS SET IN THE ENTRY     03330020
*              TO INDICATE THAT A JFCB EXTENSION IS TO BE READ IN A     03420020
*              SUBSEQUENT MODULE.                                       03510020
*                                                                       03600020
*ENTRY POINT - IGC0G95B  CSECT                                          03690020
*                                                                       03780020
*INPUT -       REGISTER 1 - POINTER TO THE RESTART WORKAREA (RSTWA)     03870020
*                           SEE DSECT AT END OF MODULE                  03960020
*                                                                       04050020
*              REGISTER 8 - POINTER TO BEGINNING OF DATA SET INFO TAB   04080020
*                                                                       04110020
*OUTPUT -      REGISTER 8 - POINTER TO BEGINNING OF DATA SET INFO TABLE 04140020
*                                                                       04230020
*              REGISTER 1 - POINTER TO BEGINNING OF RSTWA WORKAREA      04320020
*                           (SEE DSECT AT END OF TABLE)                 04410020
*                                                                       04500020
*EXTERNAL RTN- RESIDENT CONVERT (TTR TO MBBCCHAR) ROUTINE VIA A BALR    04590020
*                                                                       04680020
*EXITS -       NORMAL TO IGC0I05B VIA XCTL                              04770020
*                                                                       04860020
*              ON ERROR CONDITION TO IGC0V05B VIA XCTL                  04950020
*                   RET CODE = 24 - ERROR WHILE PROCESSING JFCB         05130037
*                              82 - TCAM NOT ACTIVE AT RESTART          05220037
*TABLES/WORKAREAS                                                       05310020
*                                                                       05400020
*********************************************************************** 05490020
*                                                                     * 05580020
*    THE FOLLOWING IS A DESCRIPTION OF THE 48 BYTE TABLE ENTRY THAT   * 05670020
*    IS USED IN THE RESTART PORTION OF CHECKPOINT/RESTART.  EACH      * 05760020
*    ENTRY IN THE TABLE (ONE FOR EACH OPEN DATA SET AT CHECKPOINT)    * 05850020
*    IS 48 BYTES LONG.                                                * 05940020
*                                                                     * 06030020
*********************************************************************** 06120020
*                                                                       06210020
*        ------------------- 4 BYTES -----------------                  06300020
*                                                                       06390020
*      0 +++++++++++++++++++++++++++++++++++++++++++++                  06480020
*        +DATA SET  +           DCB                  +                  06570020
*        + ORGN.    +         ADDRESS                +                  06660020
*        +++++++++++++++++++++++++++++++++++++++++++++ 4                06750020
*        +FLAG BYTE +    WORKAREA SEGMENT            +                  06840020
*        + NO. 1    +         ADDRESS                +                  06930020
*      8 +++++++++++++++++++++++++++++++++++++++++++++                  07020020
*        +NUMBER    +         JFCB TTR               +                  07110020
*        + OF VOLS  +         ADDRESS                +                  07200020
*        +++++++++++++++++++++++++++++++++++++++++++++ 12               07290020
*                                                                       07380020
*     12 +++++++++++++++++++++++                                        07470020
*        +TAPE LABL + FILE SEQ +        DEVICE = TAPE                   07560020
*        +INFO BYTE + NUMBER   +                                        07650020
*        +++++++++++++++++++++++                                        07740020
*                                                                       07830020
*     12 +++++++++++++++++++++++                                        07920020
*        +    OLD   TIOT       +        DA AND UNIT RECORD              08010020
*        +      OFFSET         +                                        08100020
*        +++++++++++++++++++++++                                        08190020
*                                                                       08280020
*                              +++++++++++++++++++++++                  08370020
*                              +FLAG BYTE +FLAG BYTE +                  08460020
*                              +  NO. 2   +  NO. 3   +                  08550020
*     16 +++++++++++++++++++++++++++++++++++++++++++++                  08640020
*        +FLAG BYTE +FLAG BYTE +                     +                  08730020
*        + NO. 4    + NO. 5    +   VOLUME ID NO. 1   +                  08820020
*        +++++++++++++++++++++++                     + 20               08910020
*        +                                           +                  09000020
*        +                                           +                  09090020
*     24 +++++++++++++++++++++++++++++++++++++++++++++                  09180020
*        +                                           +                  09270020
*        +   VOLUME ID NO. 2                         +                  09360020
*        +                     +++++++++++++++++++++++ 28               09450020
*        +                     +                     +                  09540020
*        +                     +   VOLUME ID NO. 3   +                  09630020
*     32 +++++++++++++++++++++++                     +                  09720020
*        +                                           +                  09810020
*        +                                           +                  09900020
*        +++++++++++++++++++++++++++++++++++++++++++++ 36               09990020
*        +                                           +                  10080020
*        +   VOLUME ID NO. 4                         +                  10170020
*     40 +                     +++++++++++++++++++++++                  10260020
*        +                     +                     +                  10350020
*        +                     +                     +                  10440020
*        +++++++++++++++++++++++   VOLUME ID NO. 5   + 44               10530020
*        +                                           +                  10620020
*        +                                           +                  10710020
*        +++++++++++++++++++++++++++++++++++++++++++++ 48               10800020
*                                                                       10890020
*                                                                       10980020
*           A  DCBTABLE,                                                11070020
*                                                                       11160020
*           B  BUFFER AREA,                                             11250020
*                                                                       11340020
*           C  SEE DSECTS AT END OF LISTING.                            11430020
*                                                                       11520020
*ATTRIBUTES                                                             11610020
*                                                                       11700020
*          A RE-ENTRANT                                                 11790020
*          B RE-USABLE                                                  11880020
*          C ENABLED                                                    11970020
*          D PRIVIALEGED                                                12060020
*                                                                       12150020
*********************************************************************   12240020
*                                                                       12330020
*    REGISTER CONVENTION TO BE USED THRU-OUT REPI/O PHASE               12420020
*                                                                       12510020
*********************************************************************** 12600020
*                                                                       12690020
WRKR1    EQU   0                        WDRK/PARAMETER REGISTER         12780020
WRKR2    EQU   1                        WDRK/PARAMETER REGISTER         12870020
DCBR     EQU   2                        CURRENT DCB REGISTER            12960020
BASER    EQU   3                        BASE REGISTER                   13050020
DEBR     EQU   4                        CURRENT DEB REGISTER            13140020
UCBR     EQU   5                        CURRENT UCB REGISTER            13230020
TIOTR    EQU   6                        NEW TIOT REGISTER               13320020
TCBR     EQU   7                        TCB REGISTER                    13410020
TABLR    EQU   8                        BEGINNING TO DCB TABLE REG      13500020
CTABLR   EQU   9                        CURRENT ENTRY IN DCB TABLE      13590020
BUFR     EQU   10                       USER BUFFER AREA                13680020
DSCNTR   EQU   11                       WORK REGISTER                   13770020
WRKR3    EQU   12                       WORK REGISTER                   13860020
WRKR4    EQU   13                       WORK REGISTER                   13950020
WRKR5    EQU   14                       WORK/PARAMETER REGISTER         14040020
WRKR6    EQU   15                       WORK/PARAMETER REGISTER         14130020
*                                                                       14220020
*********************************************************************** 14310020
*                                                                       14400020
*    OFFSETS TO BE USED IN REPI/O PHASE                                 14490020
*                                                                       14580020
*********************************************************************** 14670020
*                                                                       14760020
IS       EQU   X'80'                    INDEXED SEQUENCIAL              14762020
PS       EQU   X'40'                    PHYSICAL SEQUENCIAL             14764020
DA       EQU   X'20'                    DIRECT ACCESS                   14766020
PO       EQU   X'02'                    PARTITIONED ORGANIZATION        14768020
DADEV    EQU   X'20'                    DA DEVICE                       14770002
LASTENT  EQU   X'08'                    LAST ENTRY                      14778020
AL       EQU   X'08'                    ASCII LABEL              S20038 14789020
GTR5VOL  EQU   X'80'                    GREATER THAN 5 VOLUMES          14796020
TABENT   EQU   48                       TABLE ENTRY LENGTH              14808020
PERMERR  EQU   X'7F'                    PERMANENT ERROR                 14842020
ERR024   EQU   24                       ERROR IN READING JFCB  @ZSUT222 14846037
TIOTBASE EQU   24                                                       15030020
BUSY     EQU   X'80'                                                    15210020
EXCHPGM  EQU   X'80'                    EXCP                            15230020
ISORDA   EQU   IS+DA                    IS OR DA                        15240020
RDBACK   EQU   X'03'                    READ BACKWARDS (DEBOPATB)       15250020
ZERO     EQU   0                        ZERO VALUE               A33701 15253020
BLANK    EQU   C' '                     BLANK CHAR               A33701 15256020
PSORPO   EQU   PS+PO                    PS OR PO                        15260020
TYTAPE   EQU   X'80'                    TAPE DEVICE (UCBTBYT3)          15270020
SYSINOUT EQU   X'20'                    SYSTEM INPUT OR OUTPUT          15280020
DEBID    EQU   X'0F'                    DEB IDENTIFICATION              15300020
MAXEXT   EQU   X'CA'                    MAXIMUM NO. OF EXTENT           15310020
UNRELCC  EQU   X'42'                    UNRELATED FLAG, COMMAND CHAIN   15320020
ASCII    EQU   X'40'                    ASCII LABEL BIT IN       S20038 15325020
*                                       JFCBLTYP                 S20038 15330020
NOT      EQU   X'FF'                    MASK TO TURN OFF BITS    S20038 15335020
ERREXIT  EQU   C'V'                     RESTART EXIT LOAD ID     A26097 15340020
COMMON   EQU   X'10'                    COMMON INTERFACE         YM5512 15360002
RSTCAM   EQU   X'04'                    MASTER TCAM FLAG                15374020
TCAMMODJ EQU   C'J'                     TCAM MODULE ID                  15381020
D0       EQU   0                        ZERO                     Y02076 15383002
D1       EQU   1                        ONE                      Y02076 15385002
D2       EQU   2                        TWO                      Y02076 15387002
D3       EQU   3                        THREE                    Y02076 15389002
D4       EQU   4                        FOUR                     Y02076 15389402
D5       EQU   5                        FIVE                     Y02076 15389802
D6       EQU   6                        SIX                      Y02076 15389902
D7       EQU   7                        SEVEN                    Y02076 15419902
D8       EQU   8                        EIGHT                    Y02076 15429902
D9       EQU   9                        NINE                     Y02076 15439902
D16      EQU   16                       SIXTEEN                  Y02076 15449902
D24      EQU   24                       TWENTY FOUR              Y02076 15459902
*                                                                       15470002
*********************************************************************** 15480020
*                                                                       15570020
         BALR  BASER,0                  ESTABLISH ADDRESSABILITY        15660020
         USING *,BASER                  ESTABLISH BASE REGISTER         15750020
         B     BEGIN               BRANCH AROUND EYE CATCHER     Y01909 15800000
         CNOP  0,8                 ALIGN TO A DBL WORD BOUNDARY  Y01909 15810000
         DC    CL8'IGC0G95B'       MODULE NAME                 @ZSUT222 15820037
         DC    CL8'&SYSDATE'       DATE LAST SHIPPED           @ZSUT222 15822037
         DC    CL8'@ZSUT222'       LAST CODE SHIPPED           @ZSUT222 15824037
BEGIN    EQU   *                                                 Y01909 15830000
*                                                                       15840020
         USING IHADCB,DCBR                                              15930020
         USING UCBOB,UCBR                                               16020020
         USING RSDSECT,TIOTR                                     Y02076 16110002
         USING DEBBASIC,DEBR                                     Y02076 16380002
         USING TCB,TCBR                                                 16470020
         USING TABL,CTABLR                                              16560020
         USING RSTWA,BUFR                                               16650020
*                                                                       16740020
         LR    BUFR,WRKR2               GET WORK AREA (RESTART) ADDR    16830020
*                                                                       16920020
         L     WRKR2,RSWAOFST           OFFSET TO REPI/O AREA           17010020
         LA    TABLR,0(WRKR2,BUFR)      POINT TO REPI/O AREA            17100020
*                                                                       17190020
         L     TCBR,RSTCBAD             GET USER TCB                    17370020
         LA    WRKR4,RSREGSAV           REG13 PTS TO SAVAREA     Y02076 17420002
*                                                                       17460020
         L     DEBR,RSINT               GET 1ST DEB ADDR         A28676 17550020
         MVC   RSPPM(8),NORMALXT        SET UP XCTL LIST         A26097 17590020
         USING CVTMAP,WRKR6             ADDRESS CVT              Y02076 17600002
         L     WRKR6,ADRCVT(D0,D0)      GET CVT PTR              Y02076 17610002
         L     WRKR6,CVTXAPG            GET ADR APPEND VEC TBL   Y02076 17620002
         DROP  WRKR6                                             Y02076 17630002
         ICM   WRKR6,HIORDER,EXTSCALE   SET EXTENT SCALE         Y02076 17632002
         LR    CTABLR,TABLR             LOAD TBL PTR REG         Y02076 17634002
         LR    WRKR5,WRKR3              GET NO. OF ENTRIES       Y02076 17636002
REPDCB09 EQU   *                        INIT. DEB/DCB/IOB        Y02076 17638002
         BCTR  DSCNTR,0                 REDUCE D/S COUNT BY 1    Y02076 17638402
         L     TIOTR,TABSEGAD-1         GET CURRENT BUFF SEG     Y02076 17638802
         ST    TCBR,RSDEBTCB            STORE TCB ADR            Y02076 17639202
         LA    WRKR1,RSDCBREP           GET DCB ADR              Y02076 17639602
         ST    WRKR1,RSDEBDCB           ST DCB ADR IN DEB        Y02076 17639702
         ST    WRKR1,RSIOBDCB           ST DCB ADR IN IOB        Y02076 17639802
         ST    WRKR6,RSDEBAPP           ST ADR APP VECT TBL      Y02076 17639902
         MVI   RSDEBID,DEBID            SET DEB ID               Y02076 17656602
         MVC   RSDEBNTR(2),MAXTRKNO     MAX NO. OF TRKS          Y02076 17666602
         MVI   RSDEBUSR,NUMEXTS         SET NO. EXTS=1           Y02076 17668602
         LA    WRKR1,RSDEB              GET DEB ADR              Y02076 17670602
         ST    WRKR1,RSDCBDEB           SET DEB ADR IN DCB       Y02076 17672602
         XC    RSIOBFG1(4),RSIOBFG1     CLEAR IOB 1ST WORD       Y02076 17672702
         MVI   RSIOBFG1,UNRELCC         SET UNRELATED FLG IN IOB Y02076 17673002
         LA    WRKR1,RSECBAD            GET ECB FOR IOB          Y02076 17673102
         ST    WRKR1,RSIOBECB           STORE IN IOB             Y02076 17673202
         LA    WRKR1,RSCCWLST           GET ADR OF CCWLIST       Y02076 17678802
         ST    WRKR1,RSIOBCPA           STORE IN IOB             Y02076 17680802
         LA    WRKR1,RSIOBDAD+3         GET ADR OF SRCH ARG      Y02076 17682802
         ST    WRKR1,RSCCW1             STORE IN SRCH CCW        Y02076 17683202
         LA    WRKR1,RSCCW1             GET ADR OF SRCH CCW      Y02076 17683602
         ST    WRKR1,RSCCW2             STORE IN TIC CCW         Y02076 17684002
         LA    WRKR1,RSBUFSEG           GET BUFF SEG ADR         Y02076 17684102
         ST    WRKR1,RSCCW3             STORE IN READ CCW        Y02076 17684202
         OC    RSCCWLST(24),CCWLIST     SET CONSTANTS IN CP      Y02076 17684302
         LA    CTABLR,TABENT(CTABLR)    INCREMENT TO NXT ENTRY   Y02076 17698202
         LTR   DSCNTR,DSCNTR            TEST FOR ZERO            Y02076 17708202
         BZ    REPDCB0A                 YES-BRANCH               Y02076 17710202
         BCT   WRKR5,REPDCB09           RETURN FOR NEXT ENTRY    Y02076 17710602
*********************************************************************** 17712202
*   GET SPACE REQUIRED FOR QMNGRIO PARAMETER LIST AND WORK AREA AND   * 17726102
*   INITIALIZE IT.  QMNGRIO IS USED FOR READING IN THE JFCB FROM      * 17740002
*   THE SCHEDULER WORK AREA (SWA) FOR EACH DATA SET.                  * 17790002
*********************************************************************** 17840002
REPDCB0A EQU   *                        SET UP FOR QMNGRIO       Y02076 17850002
         ICM   WRKR1,ADDRBYTS,QMNGWALN  WA + PRM LST LNGTH IN R0 Y02076 17890002
         ICM   WRKR1,HIORDER,SP253      SUBPOOL 253              Y02076 17940002
         GETMAIN  R,LV=(0)              ISSUE GETMAIN            Y02076 17990002
         USING QMIOP,WRKR2                                       Y02076 18040002
         XC    QMITCBAD(D24),QMITCBAD   CLEAR PARAMETER LIST     Y02076 18090002
         LA    WRKR1,QMWAOFST           GET OFFSET TO WRK AREA   Y02076 18140002
         AR    WRKR1,WRKR2              CALC ADR OF WRK AREA     Y02076 18190002
         ST    WRKR1,QMIWRKAD           STO WRK AREA ADR IN P.L  Y02076 18240002
         ST    TCBR,QMITCBAD            STORE TCB ADR IN P.LIST  Y02076 18340002
         LA    WRKR1,JFCBLNTH           GET JFCB LENGTH          Y02076 18390002
         STH   WRKR1,QMIRECL            STO RECORD LNGTH IN P.L  Y02076 18440002
         MVI   QMIFLAGS,QMIOREAD        SET READ FUNCTION        Y02076 18540002
         ST    WRKR2,QMNPRMWA           SAVE QMNGRIO P LST ADR   Y02076 18590002
*********************************************************************** 42390020
*                                                                       42480020
************        MAIN READ/PROCESS ROUTINE   *********************** 42570020
*                                                                       42660020
*********************************************************************** 42750020
*                                                                       42840020
*    THIS ROUTINE READS INTO THE PREASSIGNED WORKAREAS FOR EACH       * 42930020
*    DATA SET, THE JFCB ASSOCIATED WITH THE DATA SET.  PRIOR TO       * 43020020
*    THIS EACH DATA SET HAS BEEN ASSIGNED A SEGMENT OF BUFFER INTO    * 43110020
*    WHICH THE JFCB IS TO BE READ.                                    * 43200002
*     AFTER THE JFCB                                                  * 43290002
*    HAS BEEN READ THE INFORMATION WHICH IT CONTAINS IS PLACED IN     * 43380020
*    THE TABEL ENTRY WHICH CORRESPONDS TO IT.                         * 43470020
*                                                                       43560020
*********************************************************************** 43650020
*                                                                       43920020
         LR    CTABLR,TABLR             INIT. TO FIRST ENTRY            44010020
REPDCB10 EQU   *                                                        44280020
         TM    TABFLG1,TABSYS           IS THIS A SUB SYSTEM DS? YM7529 44330002
         BO    REPDCB48                 YES, BYPASS PROCESSING   YM7529 44380002
         L     TIOTR,TABSEGAD-D1        GET WORK AREA            Y02076 44460002
         LA    TIOTR,0(TIOTR)           CLEAR HI ORDER BYTE      Y02076 44510002
         L     WRKR2,QMNPRMWA           GET ADR OF QMNGR P.L.    Y02076 44520002
         LA    WRKR1,RSJFCB             GET JFCB READ IN ADDR    Y02076 44530002
         ST    WRKR1,QMIRECAD           STORE IN QMNGR PARM LIST Y02076 44624402
         L     WRKR1,TABJFCB-D1         GET TTR ADR OF JFCB      Y02076 44624602
         SLL   WRKR1,HIORDER            CLEAR LO ORDER BYTE      Y02076 44637602
         ST    WRKR1,QMIDSKAD           SVA ADR INTO P.L.        Y02076 44650802
         QMNGRIO                        ISSUE QMNGRIO-READ JFCB  Y02076 44664002
         LTR   WRKR6,WRKR6              TEST RETURN CODE         Y02076 44677202
         BNZ   REPDCB56                 BR TO SET ERR CODE       Y02076 44690402
*********************************************************************** 44703602
*   JFCB SUCCESSFULLY READ IN - MOVE APPROPRIATE FIELDS TO TABL ENTRY * 44716802
*********************************************************************** 44730002
         CLC   JFCBDSNM(8),NULLFILE     DUMMY DATA SET                  51210020
         BE    REPDCB44                 YES BRANCH                      51300020
*                                                                       51390020
         L     DCBR,TABDCBAD-1          GET ENTRY DCB                   51510020
         L     DEBR,DCBDEBAD       GET DEB ADDRESS               Y02049 51512002
         LR    WRKR3,DEBR          SAVE DEB ADDR FOR CALC        Y02049 51514002
         LA    WRKR2,DEBPRFLN      GET LENGTH OF DEB PREFIX      Y02049 51516002
         SR    WRKR3,WRKR2         POINT TO DEB PREFIX           Y02049 51516402
         USING DEBPREFX,WRKR3                                    Y02049 51516802
         L     WRKR2,DEBXTNP       GET POINTER TO DEB EXTENSION  Y02049 51517202
         USING DEBXTN,WRKR2                                      Y02049 51517602
         DROP  WRKR3                                             Y02049 51517702
         MVC   TABDSORG(1),DEBXDSO1     GET DSORG FROM DEB       Y02049 51518002
         TM    TABFLG1,TABTCAM          Q - TCAM D/S                    51526002
         BZ    REPDCB18                 NO, SKIP TCAM PROCESSING        51534020
         MVC   TABVLID1(8),JFCBDSNM     SAVE TCAM QNAME                 51542020
         B     REPDCB48                 BYPASS NONTCAM PROCESSING       51550020
REPDCB18 EQU   *                                                        51558020
         L     TCBR,RSTCBAD             GET TCB ADDR             YM7042 51608002
         L     TCBR,TCBTIO              GET NEW TIOT ADDR        YM7042 51658002
         AH    TCBR,DCBTIOT             POINT TO DD ENTRY        YM7042 51708002
         L     UCBR,TIOESTTB-TIOENTRY(,TCBR)                     YM7042 51718002
*                                 GET FIRST UCB FROM TIOT        YM7042 51728002
         LA    UCBR,D0(,UCBR)     ZERO OUT HI BYTE               YM7529 51738002
*                                                                       51750020
         TM    DEBXMCF1,DCBMRECP        EXCP USED?               Y02049 51770002
         BZ    REPDCB21                 NO, GO CHECK DSORG       A26097 51780020
         TM    DEBXMCF1,DCBMRCI         COMMON INTERFACE PRESENT Y02049 51790002
         BO    REPDCB21                 YES, GO CHECK DSORG      A26097 51800020
         MVC   TABDSORG(1),JFCDSORG     GET DSORG FROM JFCB      A26097 51810020
         DROP  WRKR2                                             Y02049 51812002
*                                                                       51820020
*********************************************************************** 51840020
*                                                                       51930020
******** NOTE THAT ISAM DATA SETS HAVE NON-STANDARD DEBS SO THEY        52020020
*        REQUIRE ADDING 16 BYTES TO GET THE UCB ADDRESS               * 52110020
*                                                                       52200020
*********************************************************************** 52290020
*                                                                       52380020
REPDCB21 EQU   *                                                 A26097 52420020
*                                                                       52460020
         TM    TABDSORG,IS              IS DSORG ISAM?           A26097 52500020
         BC    12,REPDCB27              NO - BRANCH                     52560020
*                                                                       52564020
* FOR AN ISAM DATA SET CHECK TO SEE IF OTHER THAN THE FIRST             52568020
* DD CARD (THREE POSSIBLE) HAVE BEEN SPECIFIED AS DUMMY.                52572020
*                                                                       52576020
         SR    WRKR2,WRKR2              CLEAR WORK REG           YM7042 52580002
REPDC23A EQU   *                                                 A33701 52596020
         IC    WRKR2,0(TCBR)            GET ENTRY LENGTH         YM7042 52600002
         AR    TCBR,WRKR2               POINT TO NEXT ENTRY      YM7042 52604002
         CLI   0(TCBR),ZERO             Q-END OF TIOT            A33701 52608020
         BE    REPDC25A                 IF YES, BR               A33701 52612020
         CLI   4(TCBR),BLANK            Q-BLANK DD NAME          A33701 52616020
         BNE   REPDC25A                 IF NOT, BR               A33701 52620020
         OC    16(4,TCBR),16(TCBR)      Q-DUMMY ENTRY            A33701 52624020
         BZ    REPDCB44                 IF YES, GO SET NULL IND  A33701 52628020
         B     REPDC23A                 LOOP BACK                A33701 52632020
REPDC25A EQU   *                                                 A33701 52636020
REPDCB27 EQU   *                                                        52920020
*                                                                       53010020
         TM    UCBTBYT3,TYTAPE          MAGNETIC TAPE DEVICE            53100020
         BO    REPDCB26                 YES BRANCH                      53190020
*                                                                       53280020
         TM    UCBTBYT3,DADEV           DIRECT ACCESS DEVICE            53370020
         BZ    REPDCB46                 NO BRANCH                       53460020
**********************************************************************  53510002
*   DETERMINE IF ENTRY IS FOR A VAM DATA SET - IF SO, SET FLAGS         53520002
*   FOR FORCING AN ENTRY TO IGC0M05B AND BYPASS UNNECESSARY             53530002
*   DA PROCESSING                                                Y02076 53540002
**********************************************************************  53544002
         LR    WRKR2,DEBR               CALC ADDR OF DEB PREFIX  Y02076 53546002
         LA    WRKR1,DEBPRFLN           GET LENGTH OF DEB PREFIX Y02076 53548002
         SR    WRKR2,WRKR1              WRKR2 PTS TO DEB PREFIX  Y02076 53548402
         USING DEBPREFX,WRKR2                                    Y02076 53548802
         L     WRKR2,DEBXTNP            GET DEB EXTENTION PTR    Y02076 53549202
         DROP  WRKR2                                             Y02076 53549602
         USING DEBXTN,WRKR2                                      Y02076 53549702
         L     WRKR2,DEBXDSAB           GET DSAB POINTER         Y02076 53549802
         DROP  WRKR2                                             Y02076 53549902
         USING DSAB,WRKR2                                        Y02076 53579902
         TM    DSABFLG3,DSABVAM         TEST FOR VAM             Y02076 53589902
         BZ    REPDC27A                 BRANCH IF NOT VAM        Y02076 53599902
         OI    TABFLG2,TABVIODS         SET VIO IN TABL ENTRY    Y02076 53609902
         DROP  WRKR2                                             Y02076 53623902
REPDC27A EQU   *                        INSTR MUST FOLLOW        Y02076 53629902
         OI    TABFLG1,TABDA            SET DA FLAG                     53820002
REPDC27B EQU   *                        INSTR MUST FOLLOW        Y02076 53870002
         LA    TCBR,1                   LOAD TCBR                       53910020
         TM    TABDSORG,PS              IS DSORG PS?             A26097 54000020
         BZ    REPDCB28                 NO - BRANCH                     54090020
*                                                                       54180020
         SR    WRKR2,WRKR2              CLEAR REG 1                     54270020
         IC    WRKR2,DEBNMEXT           GET NUMBER OF EXTENTS           54360020
         SLL   WRKR2,D4                 NUMBER X SIXTEEN                54540002
         LA    WRKR5,DEBBASND           ADR OF DEBBASIC END      Y02076 54590002
         AR    WRKR2,WRKR5              ADR OF ACCESS METH SECT  Y02076 54600002
         USING DEBACSMD,WRKR2                                    Y02076 54610002
         IC    TCBR,DEBVOLSQ+D1         GET VOLUME SEQ NUMBER    Y02076 54630002
         DROP  WRKR2                                             Y02076 54680002
         B     REPDCB28                 BRANCH TO GET VOL SER NUMBER    54720020
*                                                                       54810020
REPDCB26 EQU   *                                                        54900020
*                                                                       54990020
         OI    TABFLG1,TABTAPE          SET TAPE FLAG ON                55080002
         LA    WRKR5,DEBBASND           ADR OF DEBBASIC END      Y02076 55130002
         LA    WRKR5,D4(WRKR5)          INDEX PAST MAG TPE SECT  YM5980 55140002
         USING DEBACSMD,WRKR5                                    Y02076 55150002
         SR    TCBR,TCBR                CLEAR REGISTER           Y02076 55160002
         IC    TCBR,DEBVOLSQ+D1         TAPE VOLUME SEQ NUMBER   Y02076 55170002
         DROP  WRKR5                                             Y02076 55172002
*                                                                       55258502
         MVC   TABTPLBL(1),JFCBLTYP     SAVE LABEL INFORMATION          55264602
*                                                                       55270702
         NI    TABTPLBL,NOT-AL          TURN OFF BIT 4 OF        S20038 55276802
*                                       TABTPLBL IF              S20038 55282902
*                                            SUL IS SPECIFIED SO NOT TO 55289002
*                                            CONFUSE WITH AL BIT        55295102
         TM    JFCBLTYP,ASCII           IS ASCII LABEL SPECIFIED S20038 55301202
         BZ    REPDCB29                 BRANCH IF NO TO GET FILE S20038 55307302
*                                       SEQ N                    S20038 55313402
*                                                                       55319502
         MVI   TABTPLBL,AL              SET AL BIT ON IN TABLE   S20038 55325602
*                                                                       55331702
REPDCB29 EQU   *                                                 S20038 55337802
*                                                                       55343902
         MVC   TABFLG5(1),JFCBFLSQ+1    LOGICAL FILE SEQNO.     OX01653 55345902
         MVC   TABFSQNO(1),JFCBFSEQ     PHYS SEQ NO. ON REEL    OX01653 55350002
*                                                                       55440020
REPDCB28 EQU   *                                                        55530020
*                                                                       55620020
         MVC   TABVLID1(30),JFCBVOLS    5 POSSIBLE VOL SERIAL NUMBERS   55710020
         MVC   TABNVOLS(1),JFCBNVOL     TOTAL VOLUMES                   55890020
         TM    TABDSORG,ISORDA          TEST DATA SET TYPE       A43757 55930021
         BZ    REPDCB2A                 CONTINUE IF NOT IS OR DA A43757 55970021
         CLI   JFCBNVOL,D5              GREATER THAN 5 VOLS    @ZA02507 55980000
         BNH   REPDCB48                 BRANCH IF NOT          @ZA02507 55990000
         OC    JFCBEXAD,JFCBEXAD        TEST JFCBX ADDRESS       A43757 56010021
         BZ    REPDCB48            SKIP IF NO JFCBX              A43757 56050021
         EX    0,SAVEXTTR               SAVE EXTENSION TTR       A43757 56090021
         OI    TABFLG2,TABG5V           SET MORE-THAN-5-VOLS     A43757 56130002
*                                       FLAG                     A43757 56170021
         B     REPDCB48                 FINISHED THIS DATA SET   A43757 56210021
*                                                                       56250021
REPDCB2A EQU   *                                                 A43757 56290021
*                                                                       56340020
         CH    TCBR,FIVE                VOL SEQ NO. GT 5         A26097 56440020
         BH    REPDCB50                 YES BRANCH                      56610020
*                                                                       56700020
*********************************************************************** 56790020
*                                                                       56880020
*    AT THIS TIME FOR SEQ. DATA SETS CORRECT SERIAL IS IN FIRST FIVE    56970020
*    NUMBERS LISTED... MUST MOVE CORRECT SERIAL TO TOP OF LIST.......   57060020
*                                                                       57150020
*********************************************************************** 57240020
*                                                                       57330020
         LR    WRKR3,DEBR          GET DEB ADDRESS FOR CALC      Y02049 57380002
         LA    WRKR2,DEBPRFLN      GET LENGTH OF DEB PREFIX      Y02049 57430002
         SR    WRKR3,WRKR2         POINT TO DEB PREFIX           Y02049 57480002
         USING DEBPREFX,WRKR3                                    Y02049 57490002
         L     WRKR2,DEBXTNP       GET ADDR OF DEB EXTENSION     Y02049 57500002
         USING DEBXTN,WRKR2                                      Y02049 57502002
         DROP  WRKR3                                             Y02049 57504002
         TM    DEBXMCF1,DCBMRECP   EXCP USED?                    Y02049 57506002
         BO    REPDCB34                 YES BRANCH                      57510020
*                                                                       57600020
         TM    TABDSORG,PSORPO          SEQUENTIAL OR PO ORGN           57690020
         BZ    REPDCB48                 NO, BRANCH                      57780020
*                                                                       57870020
REPDCB34 EQU   *                                                        57960020
*                                                                       58050020
         BCTR  TCBR,0                   REDUCE VOL SEQ NO. FOR   A41442 58150021
*                                       OFFSET COMPUTATION              58250021
         MH    TCBR,SIX                 OFFSET TO SERIAL NUMBERS        58500020
         LA    TCBR,TABVLID1(TCBR)      CORRECT SERIAL PLUS SIX         58590020
*                                                                       59310020
*    AT THIS POINT TCBR SHOULD POINT TO CURRECT SERIAL NUMBER           59400020
*                                                                       59490020
         MVC   TABVLID1(6),0(TCBR)      CORRECT SERIAL TO TOP OF LIST   59580020
SAVVOL1  MVC   TABVLID3(6),JFCBVOLS     SAVE 1ST SER FOR UCB     A41442 59620021
         B     REPDCB48                 BRANCH TO GET NEXT ENTRY        59670020
*                                                                       59760020
REPDCB44 EQU   *                                                        60300020
*                                                                       60390020
         OI    TABFLG1,TABNULL          NULLFILE/NONPROCESS FLAG Y02076 60480002
*********************************************************************** 60530002
*   IF ISAM/VSAM(CI) DATA SET WAS MADE DUMMY AT RESTART - SET           60540002
*    TABFLG3 WITH X'20' BIT                                      Y02076 60550002
*********************************************************************** 60560002
         L     DCBR,TABDCBAD-D1         GET DUMMY DS DCB ADR     Y02076 60562002
         L     DEBR,DCBDEBAD            GET DUMMY DS DEB ADR     Y02076 60564002
         LR    WRKR2,DEBR               CALC ADR OF DEB PREFIX   Y02076 60566002
         LA    WRKR1,DEBPRFLN           GET DEB PREFIX LENGTH    Y02076 60568002
         SR    WRKR2,WRKR1              WRKR2 PTS TO PREFIX      Y02076 60568402
         USING DEBPREFX,WRKR2                                    Y02076 60568802
         CLI   DEBAMTYP,ISAMCODE        IS IT AN ISAM DATA SET   Y02076 60569202
         BNE   REPDCB48                 IF NOT-GET NEXT ENTRY    Y02076 60569602
         CLI   DEBEXSCL,SCALEQZO        IS DEBEXSCL=0            Y02076 60569702
         BNE   REPDCB48                 IF NOT-GET NEXT ENTRY    Y02076 60569802
         TM    DEBFLGS1,DEBCINDI        IS CI BIT ON             Y02076 60569902
         BZ    REPDCB48                 BRANCH IF NOT CI         Y02076 60599902
         OI    TABFLG2,TABCIDS          SET IS/VS CI DUMMY CODE  Y02076 60609902
         DROP  WRKR2                                             Y02076 60619902
         B     REPDCB48                 BRANCH TO GET NEXT ENTRY        60630002
*                                                                       60660020
REPDCB46 EQU   *                                                        60750020
*                                                                       60840020
         OI    TABFLG1,TABUR            UNIT RECORD OR OTHER FLAG BIT   60930002
*                                                                       61020020
REPDCB48 EQU   *                                                        61110020
*                                                                       61200020
         TM    D4(CTABLR),LASTENT       LAST ENTRY IN TBLE       Y02076 61250002
         BO    REPDCBNM                 BRANCH IF YES            Y02076 61260002
         LA    CTABLR,TABENT(CTABLR)    INCREMENT TO NEXT ENTRY         61290020
         B     REPDCB10                 BR TO PROCESS NEXT ENTRY Y02076 61340002
*                                                                       61560020
REPDCB50 EQU   *                                                        61650020
*                                                                       61740020
         OI    TABFLG2,TABG5V           SET ON VOL GREATER THAN 5 FLAG  61800002
         STH   TCBR,TABVLID5            SAVE ADJUSTED VOL SEQ NO        61870020
         EX    0,SAVVOL1                SAVE 1ST SER FOR UCB     A41442 61970021
*                                                                       62100020
         MVC   TABVLID5+3(3),TABJFCB    SAVE JFCB TTR IN TABVLID5       62130020
*                                                                       62140020
REPDCB54 EQU   *                                                        62190020
*                                                                       62280020
SAVEXTTR MVC   TABJFCB(3),JFCBEXAD MOVE IN JFCBX TTR             A33983 62370020
         B     REPDCB48                 BRANCH TO GET NEXT ENTRY        62460020
*                                                                       62550020
*     MUST TERMINATE REPI/O DUE TO UNRECOVERABLE ERRORS IN PROCESSING   62640020
*                                                                       62730020
REPDCB56 EQU   *                                                        62820020
*                                                                       62910020
         MVI   RSRETCOD+1,ERR024        SET JFCB READ ERROR    @ZSUT222 63000037
*                                                                       63270020
         MVI   RSPPM+4,ERREXIT     SET RESTART EXIT LOAD ID      A33983 63370020
         B     REPDCBER                 GO XCTL                @ZSUT222 63470037
REPDCBNM EQU   *                                                        63570020
         TM    RSFLAG2,RSTCAM           Q - ANY TCAM D/S'S              63670020
         BZ    REPDCBEX                 NO, GO XCTL TO IGC0I05B         63770020
         MVI   RSPPM+4,TCAMMODJ         SETUP TO XCTL TO IGC0J05B       63870020
         L    WRKR6,CVTPTR                                              63920000
         L    WRKR6,AVTCVTPT(WRKR6)     GET TAM ADDR            S21940  63930000
         LTR  WRKR6,WRKR6               IS TAM ACTIVE           S21940  63940000
         BNZ  REPDCBEX                  YES, BRANCH             S21940  63950000
         MVI  RSRETCOD+1,ERR082         NO, SET UP FOR ERR     @ZSUT222 63960037
         MVI  RSPPM+4,ERREXIT           TCAM NOT IN SYSTEM      S21940  63962000
REPDCBER EQU   *                                               @ZSUT222 63963037
         MVC   RSREGSAV(8),MODID        SAVE NAME OF MODULE    @ZSUT222 63964037
*                                       DETECTING ERROR        @ZSUT222 63965037
         STM   0,15,RSREGSAV+8          SAVE CURRENT REGISTERS @ZSUT222 63966037
REPDCBEX EQU   *                                                        63970020
         ICM   WRKR1,ADDRBYTS,QMNGWALN  SET UP FREEMAIN          Y02076 64020002
         ICM   WRKR1,HIORDER,SP253      SUBPOOL 253              Y02076 64070002
         L     WRKR2,QMNPRMWA           ADR OF P.L. + WA         Y02076 64120002
         FREEMAIN  R,LV=(0),A=(1)                                Y02076 64170002
         LA    WRKR6,RSPPM+8            SET UP FOR XCTL          A26097 64310020
*********************************************************************   64370020
         LR    WRKR2,BUFR               POINT REG 1 TO THE RESTART W/A  64390020
*********************************************************************   64410020
*                                                                       64440020
*********************************************************************** 64530020
*                                                                       64620020
         XCTL  EPLOC=RSPPM,SF=(E,(15))                           A26097 64820020
*                                                                       65070020
*********************************************************************   65160020
*                                                                       65250020
*     CONSTANTS USED IN REPI/O                                          65340020
*                                                                       65430020
NULLFILE DC    CL8'NULLFILE'            NULLFILE                        65610020
NORMALXT DC    C'IGC0I05B'              TABLE COMPLETION LOAD           65700020
MODID    DC    CL8'IGC0G95B'            MODULE ID              @ZSUT222 65750037
*                                                                       65970020
*     CHANNEL PROGRAM USED BY REPI/O                                    66060020
*                                                                       66150020
         DS    0H                                                A26097 66240020
CCWLIST  DC    X'3100000040000005'      SEARCH                          66330020
         DC    X'08'                    TIC                             66420020
CONSTANT DC    X'00000000067FFF'        SPACE-SAVING CONSTANTS   A26097 66510020
         DC    X'06000000000000B0'      READ                            66600020
QMNGWALN DC    AL3(280)                 256(WA) + 24(P.L.)       Y02076 66600402
SP253    DC    AL1(253)                 SUBPOOL 253              Y02076 66600802
EXTSCALE DC    X'04'                    EXTENT SCALE             Y02076 66600902
HIORDER  EQU   8                        GETMAIN PARAMS           Y02076 66601202
ADDRBYTS EQU   7                        LOW ORDER BYTES          Y02076 66601602
QMWAOFST EQU   24                       WORK AREA OFFSET         Y02076 66601702
JFCBLNTH EQU   176                      JFCB LENGTH              Y02076 66601802
SCALEQZO EQU   0                        FOR IS/VS(CI) DUMMY TST  Y02076 66602002
ISAMCODE EQU   X'80'                    ISAM CODE IN DEBAMTYP    Y02076 66606002
DEBPRFLN EQU   16                       DEB PREFIX LENGTH        Y02076 66608402
DADSFLG  EQU   X'80'                    DA DATA SET FLAG         Y02076 66609202
*                                                                       66610020
AVTCVTPT EQU    240                     OFFSET INTO CVT OF TCAM         66612000
*                                           AVT PTR                     66614000
ADRCVT   EQU   16                       ADDRES OF CVT            Y02076 66614402
NUMEXTS  EQU   X'01'                    NUMBER OF EXTENTS        Y02076 66614802
ERR082   EQU   82                       TCAM NOT IN SYSTEM     @ZSUT222 66616037
FIVE     EQU   CCWLIST+6                CONSTANT OF 5            A26097 66620020
SIX      EQU   CONSTANT+3               CONSTANT OF 6            A26097 66630020
MAXTRKNO EQU   CONSTANT+5               MAXIMUM NO. OF TRACKS    A26097 66640020
*                                                                     * 66650000
*        MAINTENANCE SPACE                                       Y01909 66660000
*                                                                     * 66670000
PATCH    DC    XL((*-IGC0G95B)/20)'00'   FIVE PERCENT SPACE      Y01909 66680000
*                                                                     * 66682000
         EJECT                                                          66690020
         IEEVRSWA VER=3                 USE AOS2 VERSION OF WA          66830000
QMNPRMWA EQU   RSERAS00                 SAVE ADR FOR QMNGRIO P.L Y02076 66840002
         EJECT                                                          66870020
RSDSECT  DSECT                                                          66880002
*                                                                       66890002
*    DATA EXTENT BLOCK                                                  66900002
*                                                                       66910002
RSDEB    DS    0CL48                                                    66912002
RSDEBTCB DC    X'00000000'              TCB ADDRESS                     66914002
RSDEBDEB DC    X'00000000'              DEB ADDRESS                     66916002
*                                                                       66918002
*    DATA CONTROL BLOCK                                                 66918402
*                                                                       66918802
RSDEBOFL DS    0CL1                                                     66919202
RSDEBIRB DC    X'00000000'              IRB ADDRESS                     66919602
RSDEBSYS DC    X'00000000'              1ST IOB ADDR IN SYS.PURGE CHAIN 66919702
RSDEBUSR DC    X'00000000'              1ST IOB ADDR IN USER PRGE CHAIN 66919802
RSDEBECB DC    X'00000000'              PARM.LIST ADDR TO PURGE ECB     66919902
RSDEBID  DS    0CL1                                                     66923202
RSDEBDCB DC    AL4(RSDCBREP)            DCB ADDR                        66925202
RSDEBAPP DS    CL4                      I/O APPENDAGE VECTOR TABLE      66925602
RSDEBMOD DS    0CL1                                                     66926002
RSDEBUCB DS    F                        UCB ADDRESS                     66926402
RSDEBBIN DS    H                        BIN NUMBER                      66926502
RSDEBSCC DS    H                        CYLINDER START ADDRESS          66926602
RSDEBSHH DS    H                        TRACK START ADDRESS             66929902
RSDEBECC DS    H                        CYLINDER END ADDRESS            66931902
RSDEBEHH DS    H                        TRACK END ADDRESS               66932302
RSDEBNTR DS    H                        NO. OF TRACKS IN THIS EXTENT    66932702
*                                                                       66933102
*    EVENT CONTROL BLOCK                                                66933202
*                                                                       66933302
RSECBAD  DS    CL4                      ECB ADDRESS                     66938602
RSDCBDEB DC    AL4(RSDEB)               DEB ADDRESS                     66948602
*                                                                       66949002
RSDCBREP EQU   RSDEB+8                  POINT TO RELATIVE BEGINNING DCB 66949102
*                                                                       66949202
*    INPUT OUTPUT BLOCK                                                 66949302
*                                                                       66969402
RSIOB    DS    0CL40                                                    66979402
RSIOBFG1 DC    X'00'                    I/O FLAGS BYTE 1                66989402
RSIOBFG2 DC    X'00'                    I/O FLAGS BYTE 2                66999402
RSIOBSN1 DS    CL1                      FIRST SENSE BYTE                67009402
RSIOBSN2 DS    CL1                      SECOND SENSE BYTE               67009502
RSIOBECB DC    AL4(RSECBAD)             ECB ADDRESS                     67009602
RSIOBCSW DS    D                        LAST CSW                        67009702
RSIOBCPA DS    AL4(RSCCW1)              CHANNEL PROGRAM ADDRESS         67016402
RSIOBDCB DS    AL4(RSDCBREP)            DCB ADDRESS                     67018402
RSIOBRCP DS    CL4                      RESTART ADDRESS FOR IOS         67020402
RSIOBINC DS    H                        INCREMENT BLOCK COUNT           67022402
RSIOBECT DS    H                        NO. OF ERROR ENTRIES            67022802
RSIOBDAD DS    D                        SEEK ADDRESS FOR DA             67022902
*                                                                       67023002
*    CHANNEL PROGRAM                                                    67023102
*                                                                       67029802
RSCCWLST DS    0CL24                                                    67031802
RSCCW1   DS    D                        CCW1                            67033802
RSCCW2   DS    D                        CCW2                            67035802
RSCCW3   DS    D                        CCW3                            67036202
*                                                                       67036302
*    BUFFER SEGMENT FOR EXTERNAL BLOCKS                                 67036402
*                                                                       67036502
RSBUFSEG DS    0CL176                                                   67057202
RSJFCB   EQU   RSBUFSEG                                                 67067202
         EJECT                                                          67077202
         IEFJFCBN                                                Y02076 67098602
         EJECT                                                          67108602
         IEFQMIOP                                                Y02076 67119302
         EJECT                                                          67129302
         IEFJESCT                                                Y02076 67140002
         EJECT                                                          82710020
CVT      DSECT                                                          82800020
         CVT                                                            82890020
         EJECT                                                          82980020
*                                                                       83070020
*                                                                       83160020
*   TASK CONTROL BLOCK                                                  83250020
*                                                                       83340020
*                                                                       83430020
         CNOP  0,4                                                      83520020
TCB      DSECT                                                          83610020
TCBRBP   DS    F                       POINTER TO EXECUTING RB          83700020
TCBPIE   DS    F                       POINTER TO PROG. INTERRUPT EL.   83790020
TCBDEB   DS    F                       POINTER TO DEB QUEUE             83880020
TCBTIO   DS    F                       POINTER TO TIOT                  83970020
TCBCMP   DS    F                       TASK COMPLETION CODE             84060020
TCBTRN   DS    F                       TESTRAN FIELD                    84150020
TCBMSS   DS    F                       DATA BLOCK QUEUE ELEMENT POINTER 84240020
TCBPRTK  DS    CL1                     PROTECTION TAG                   84330020
TCBFLGS  DS    FL5                     FLAG BYTES                       84420020
TCBLMP   DS    CL1                     LIMIT PRIORITY                   84510020
TCBDSP   DS    CL1                     DISPATCHING PRIORITY             84600020
TCBLLS   DS    F                       POINTER TO LOAD LIST             84690020
TCBJLB   DS    F                       POINTER TO JOBLIB DCB            84780020
TCBJSE   DS    F                       LIST OF INACTIVE PROGRAMS ADDR.  84870020
TCBGRS   DS    CL64                    GENERAL REGISTER SAVE AREA       84960020
TCBIDF   DS    CL1                     TCB IDENTIFIER FIELD             85050020
TCBFSA   DS    CL3                     POINTER TO 1ST PROB.PROG.SAVEAR  85140020
TCBTCB   DS    F                       NEXT TCB ON READY QUEUE POINTER  85230020
TCBTME   DS    F                       POINTER TO TIMER ELEMENT         85320020
         EJECT                                                          85410020
         DCBD  DSORG=PS                                                 85500020
         EJECT                                                          85590020
*                                                                       85680020
*                                                                       85770020
*   DATA EXTENT BLOCK                                                   85860002
         IEZDEB                                                  Y02076 85910002
         EJECT                                                          85960002
         IHADSAB                                                 Y02076 86010002
         EJECT                                                          89190020
         IHJDSTAB                                               Y02076  89240002
         EJECT                                                          92880020
TIOT     DSECT                                                          92970020
         IEFTIOT1                                                       93060020
         EJECT                                                          93150020
SRT      DSECT                                                          93240020
         IEFUCBOB                                                       93330020
*                                                                       93420020
*                                                                       93510020
*                                                                       93600020
         END                                                            93690020
