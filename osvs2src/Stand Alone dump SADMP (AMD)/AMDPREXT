         TITLE 'AMDPREXT - EDIT USER EXIT INTERFACE MODULE             *00001000
                        '                                               00002000
AMDPREXT CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(16)                                             0001 00007000
         DC    C'AMDPREXT  75.049'                                 0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00010000
         BALR  @11,0                                               0001 00011000
@PSTART  DS    0H                                                  0001 00012000
         USING @PSTART,@11                                         0001 00013000
         ST    @13,@SA00001+4                                      0001 00014000
         LA    @14,@SA00001                                        0001 00015000
         ST    @14,8(,@13)                                         0001 00016000
         LR    @13,@14                                             0001 00017000
         EQUATES                        AMDPRDMP EQU MACRO              00018000
         COMMON                         EXPANDS TO AMDPRCOM TABLE       00019000
         USING COMMON,COMBASE           SET UP DSECT FOR AMDPRCOM       00020000
         SYNEPS                         EP MAP OF AMDPRSYN              00021000
AMDPREXT CSECT                          RE-ESTABLISH AMDPREXT CSECT     00022000
         USING SYNTAX,R15               ESTABLISH SYNEPS ADDRESSING     00023000
*   AEDITCBR=AEDITCB;               /* SET BASE FOR AMDPRTAB         */ 00024000
         L     AEDITCBR,AEDITCB                                    0054 00025000
*   REXT='1'B;                      /* INDICATE AMDPREXT NOW       0055 00026000
*                                      PROCESSING                    */ 00027000
         OI    REXT(AEDITCBR),B'00000001'                          0055 00028000
*   SPIESAVE=SVAREA;                /* FOR SPIE RECOVERY             */ 00029000
         L     @14,@CA00211                                        0056 00030000
         L     @10,SVAREA(,AREAPTR)                                0056 00031000
         ST    @10,SPIESAVE-SPIESAVE(,@14)                         0056 00032000
*   NSISAVE=COMPTR;                 /* SAVE ADDRS OF AMDPRCOM        */ 00033000
         L     @14,@CA00212                                        0057 00034000
         ST    COMPTR,NSISAVE-NSISAVE(,@14)                        0057 00035000
*   PARMREG=ADDR(USEREXIT);         /* COMPLIMENT ADDRS OF USER EXIT    00036000
*                                      NAME                          */ 00037000
         LA    PARMREG,USEREXIT(,AEDITCBR)                         0058 00038000
*   PARMREG=PARMREG|'80000000'X;    /* TURN ON HIGH ORDER BIT        */ 00039000
         O     PARMREG,@CF00262                                    0059 00040000
*   CALL AMDPRSEG;                  /* ATTEMPT TO HAVE USER EXIT   0060 00041000
*                                      LOADED                        */ 00042000
         L     @15,ALOADER                                         0060 00043000
         BALR  @14,@15                                             0060 00044000
*   CODESAVE=RCREG;                 /* SAVE RETURN CODE FROM SEG     */ 00045000
         ST    RCREG,CODESAVE                                      0061 00046000
*   IF CODESAVE=4 THEN                                             0062 00047000
         L     @14,CODESAVE                                        0062 00048000
         C     @14,@CF00097                                        0062 00049000
         BNE   @RF00062                                            0062 00050000
*     DO;                           /* SEG - NOT 10 K AVAILIBLE      */ 00051000
*       SYNMSGA=ADDR(AMDPRE12);     /* ADDR OF MSG AMD229I           */ 00052000
         L     @14,AFMG(,AEDITCBR)                                 0064 00053000
         LA    @14,AMDPRE12(,@14)                                  0064 00054000
         ST    @14,SYNMSGA                                         0064 00055000
*       ERRBUF(20:27)=USEREXIT;     /* MOVE IN RTN NAME              */ 00056000
         L     @14,MSGADDR(,@14)                                   0065 00057000
         MVC   ERRBUF+19(8,@14),USEREXIT(AEDITCBR)                 0065 00058000
*       GEN(OI SWD,NOSTDMG);        /* TURN ON NO STND MSG BIT       */ 00059000
         OI SWD,NOSTDMG                                                 00060000
*       RCREG=ASYNTAX;              /* POINT TO MSG WRITER -SYN      */ 00061000
         L     RCREG,ASYNTAX                                       0067 00062000
*       CALL SYNTAXA;               /* OUTPUT 10 K MSG               */ 00063000
         BAL   @14,SYNTAXA                                         0068 00064000
*     END;                                                         0069 00065000
*   SYNMSGA=ADDR(AMDPRE03);         /* INIT MESSAGE POINTER - SET UP    00066000
*                                      AFTER CALL TO SEG WILL CLOBBER   00067000
*                                      SYNMSGA                       */ 00068000
@RF00062 L     @14,AFMG(,AEDITCBR)                                 0070 00069000
         LA    @14,AMDPRE03(,@14)                                  0070 00070000
         ST    @14,SYNMSGA                                         0070 00071000
*   IF CODESAVE^=0 THEN             /* UNSUCCESSFUL LOAD- BRANCH     */ 00072000
         L     @14,CODESAVE                                        0071 00073000
         LTR   @14,@14                                             0071 00074000
         BNZ   @RT00071                                            0071 00075000
*     GOTO AMDEXT01;                /* TO TERMINATION ROUTINE        */ 00076000
*/********************************************************************/ 00077000
*/*                                                                  */ 00078000
*/* USER EXIT SUCCESSFULLY LOADED OR ALREADY IN CORE                 */ 00079000
*/*                                                                  */ 00080000
*/********************************************************************/ 00081000
*                                                                  0073 00082000
*   EXITADDR=PARMREG;               /* SAVE USER EXIT ENTRY POINT  0073 00083000
*                                      ADDRESS                       */ 00084000
         ST    PARMREG,EXITADDR(,AEDITCBR)                         0073 00085000
*   EXITNM=USEREXIT;                /* SAVE USER EXIT NAME           */ 00086000
         MVC   EXITNM(8,AEDITCBR),USEREXIT(AEDITCBR)               0074 00087000
*AMDPNLOD:                                                         0075 00088000
*   IF EOFINPRO='1'B THEN           /* EOF IN PROCESS          Y02014*/ 00089000
AMDPNLOD TM    EOFINPRO(AEDITCBR),B'01000000'                      0075 00090000
         BNO   @RF00075                                            0075 00091000
*     DO;                           /* YES                     Y02014*/ 00092000
*       RECPTR=0;                   /* NO INPUT RECORD         Y02014*/ 00093000
         SLR   @14,@14                                             0077 00094000
         ST    @14,RECPTR                                          0077 00095000
*       BUFPTR=CURBUF+1;            /* ADDR OUTPUT BUFF        Y02014*/ 00096000
         LA    @10,1                                               0078 00097000
         AL    @10,CURBUF                                          0078 00098000
         ST    @10,BUFPTR                                          0078 00099000
*       GTFOPTR=0;                  /* ADDR GTF OPT WD         Y02014*/ 00100000
         ST    @14,GTFOPTR                                         0079 00101000
*       EIDPTR=0;                   /* NO EID PTR              Y02014*/ 00102000
         ST    @14,EIDPTR                                          0080 00103000
*       DATAPTR=0;                  /* NO DATA PTR             Y02014*/ 00104000
         ST    @14,DATAPTR                                         0081 00105000
*       GO TO AMDPCAL;              /* GO CALL USER            Y02014*/ 00106000
         B     AMDPCAL                                             0082 00107000
*     END;                          /* END OF DO               Y02014*/ 00108000
*   TEMPREC(1:256)='';              /* CLEAR TEMPORARY BUF     Y02014*/ 00109000
@RF00075 MVI   TEMPREC,C' '                                        0084 00110000
         MVC   TEMPREC+1(255),TEMPREC                              0084 00111000
*   TEMPREC(257:284)='';            /* CLEAR REMAINDER         Y02014*/ 00112000
         MVI   TEMPREC+256,C' '                                    0085 00113000
         MVC   TEMPREC+257(27),TEMPREC+256                         0085 00114000
*   IF RECDLL<=256 THEN             /* NEED 2 MOVES            Y02014*/ 00115000
         L     @14,RECDLL-1(,AEDITCBR)                             0086 00116000
         LA    @14,0(,@14)                                         0086 00117000
         C     @14,@CF00119                                        0086 00118000
         BH    @RF00086                                            0086 00119000
*     TEMPREC(1:RECDLL)=RECBASE(1:RECDLL);/* NO                Y02014*/ 00120000
         BCTR  @14,0                                               0087 00121000
         L     @10,CURREC(,AEDITCBR)                               0087 00122000
         EX    @14,@SM00313                                        0087 00123000
*   ELSE                                                           0088 00124000
*     DO;                           /* YES                     Y02014*/ 00125000
         B     @RC00086                                            0088 00126000
@RF00086 DS    0H                                                  0089 00127000
*       TEMPREC(1:256)=RECBASE(1:256);/* MOVE IN 256 BYTES     Y02014*/ 00128000
         L     @14,CURREC(,AEDITCBR)                               0089 00129000
         MVC   TEMPREC(256),RECBASE(@14)                           0089 00130000
*       TEMPREC(257:RECDLL)=RECBASE(257:RECDLL);/* MOVE REMAINDER    */ 00131000
         L     @10,RECDLL-1(,AEDITCBR)                             0090 00132000
         LA    @10,0(,@10)                                         0090 00133000
         SL    @10,@CF00270                                        0090 00134000
         EX    @10,@SM00315                                        0090 00135000
*     END;                          /*                         Y02014*/ 00136000
*/********************************************************************/ 00137000
*/*                                                                  */ 00138000
*/* CONSTRUCT PARAMETER LIST                                         */ 00139000
*/*                                                                  */ 00140000
*/********************************************************************/ 00141000
*                                                                  0092 00142000
*   RECPTR=ADDR(TEMPREC);           /* WORD 1- ADDRS INPUT REC       */ 00143000
@RC00086 LA    @14,TEMPREC                                         0092 00144000
         ST    @14,RECPTR                                          0092 00145000
*   BUFPTR=CURBUF+1;                /* WORD 2- ADDRS OUTPUT BUF      */ 00146000
         LA    @10,1                                               0093 00147000
         AL    @10,CURBUF                                          0093 00148000
         ST    @10,BUFPTR                                          0093 00149000
*   GTFOPTR=GTFWDPTR;               /* WORD 3- ADDRS GTF OPTIONS   0094 00150000
*                                                              Y02014*/ 00151000
         L     @10,GTFWDPTR(,AEDITCBR)                             0094 00152000
         ST    @10,GTFOPTR                                         0094 00153000
*   EIDPTR=RECPTR+OFSTEID-1;        /* WORD 4- ADDRS EID INP REC     */ 00154000
         LH    @10,OFSTEID(,AEDITCBR)                              0095 00155000
         LR    @08,@14                                             0095 00156000
         ALR   @08,@10                                             0095 00157000
         BCTR  @08,0                                               0095 00158000
         ST    @08,EIDPTR                                          0095 00159000
*   IF(INREC(OFSTEID)&'F0'X)='E0'X THEN/*                    @YM07434*/ 00160000
         L     @08,CURREC(,AEDITCBR)                               0096 00161000
         ALR   @08,@10                                             0096 00162000
         AL    @08,@CF00317                                        0096 00163000
         MVC   @TS00001(1),INREC(@08)                              0096 00164000
         NI    @TS00001,X'F0'                                      0096 00165000
         CLI   @TS00001,X'E0'                                      0096 00166000
         BNE   @RF00096                                            0096 00167000
*     DATAPTR=RECPTR+OFSTDATA+11;   /* WORD 5-ADDRS DATA INP REC   0097 00168000
*                                                            @YM07434*/ 00169000
         AH    @14,OFSTDATA(,AEDITCBR)                             0097 00170000
         AL    @14,@CF00273                                        0097 00171000
         ST    @14,DATAPTR                                         0097 00172000
*   ELSE                                                           0098 00173000
*     DATAPTR=RECPTR+OFSTDATA-1;    /* WORD 5 DATA @ INP REC @ZA02752*/ 00174000
         B     @RC00096                                            0098 00175000
@RF00096 LH    @14,OFSTDATA(,AEDITCBR)                             0098 00176000
         AL    @14,RECPTR                                          0098 00177000
         BCTR  @14,0                                               0098 00178000
         ST    @14,DATAPTR                                         0098 00179000
*/********************************************************************/ 00180000
*/*                                                                  */ 00181000
*/* PREPARE TO CALL USER EXIT                                        */ 00182000
*/*                                                                  */ 00183000
*/********************************************************************/ 00184000
*                                                                  0099 00185000
*AMDPCAL:                                                          0099 00186000
*   IF EDITER^=3 THEN                                              0099 00187000
@RC00096 DS    0H                                                  0099 00188000
AMDPCAL  CLI   EDITER,3                                            0099 00189000
         BE    @RF00099                                            0099 00190000
*     DO;                           /* ISSUE INCLUSIVE SPIE TO MASK     00191000
*                                      OUT USER PROGRAM CHECKS       */ 00192000
*       WREG2=ASPI;                 /* ADDRS OF AMDPRSPI             */ 00193000
         L     @14,AFRMAD(,AEDITCBR)                               0101 00194000
         L     WREG2,ASPI(,@14)                                    0101 00195000
*       GEN(SPIE  (R2),((1,15)));   /* SPIE FOR ALL PROG CHECKS      */ 00196000
         SPIE  (R2),((1,15))                                            00197000
*       PICASAVE=PARMREG;           /* SAVE ADDRS OF PREV PICA       */ 00198000
         L     @14,@CA00214                                        0103 00199000
         ST    PARMREG,PICASAVE-PICASAVE(,@14)                     0103 00200000
*     END;                                                         0104 00201000
*   IF EOFINPRO='1'B THEN           /* EOF IN PROCESS          Y02014*/ 00202000
@RF00099 TM    EOFINPRO(AEDITCBR),B'01000000'                      0105 00203000
         BNO   @RF00105                                            0105 00204000
*     WREG2=4;                      /* INDICATE EOF            Y02014*/ 00205000
         LA    WREG2,4                                             0106 00206000
*   ELSE                                                           0107 00207000
*     WREG2=0;                      /* INDICATE NO EOF         Y02014*/ 00208000
         B     @RC00105                                            0107 00209000
@RF00105 SLR   WREG2,WREG2                                         0107 00210000
*   PARMREG=ADDR(PARMLIST);         /* REG1 POINTS TO PARMLIST       */ 00211000
@RC00105 LA    PARMREG,PARMLIST                                    0108 00212000
*   GEN(STM R0,R14,LOCAREA);        /* SAVE OWN REGISTERS            */ 00213000
         STM R0,R14,LOCAREA                                             00214000
*   CALL EXITRTN;                   /* CALL USER EXIT                */ 00215000
         L     @15,EXITADDR(,AEDITCBR)                             0110 00216000
         BALR  @14,@15                                             0110 00217000
*/********************************************************************/ 00218000
*/*                                                                  */ 00219000
*/* RETURN FROM USER EXIT- ANALYZE RESULTS                           */ 00220000
*/*                                                                  */ 00221000
*/********************************************************************/ 00222000
*                                                                  0111 00223000
*   GEN;                                                           0111 00224000
         BALR  R2,R0                    ESTABLISH TEMP ADDRESSABILITY   00225000
         USING *,R2                     IN CASE USEREXIT DESTROYED REGS 00226000
         LM    R0,R14,LOCAREA           RESTORE REGS                    00227000
         DROP  R2                       RE-ESTABLISH ORIG BASE REG      00228000
*   WREG2=RCREG;                    /* SAVE EXIT RETURN CODE         */ 00229000
         LR    WREG2,RCREG                                         0112 00230000
*   IF EDITER^=3 THEN               /* ISSUED SPIE             Y02014*/ 00231000
         CLI   EDITER,3                                            0113 00232000
         BE    @RF00113                                            0113 00233000
*     DO;                           /* YES                     Y02014*/ 00234000
*       PARMREG=PICASAVE;           /* PREVIOUS PICA ADDRESS         */ 00235000
         L     @14,@CA00214                                        0115 00236000
         L     PARMREG,PICASAVE-PICASAVE(,@14)                     0115 00237000
*       GEN(SPIE  MF=(E,(R1)));     /* RESTORE PREVIOUS PICA         */ 00238000
         SPIE  MF=(E,(R1))                                              00239000
*     END;                                                         0117 00240000
*   CODESAVE=WREG2;                 /* SAVE FOR FUTURE USE           */ 00241000
@RF00113 ST    WREG2,CODESAVE                                      0118 00242000
*/********************************************************************/ 00243000
*/*                                                                  */ 00244000
*/* CHECK FOR VALID EXIT RETURN CODE AND SERVICE REQUEST             */ 00245000
*/*                                                                  */ 00246000
*/********************************************************************/ 00247000
*                                                                  0119 00248000
*   IF WREG2>28 THEN                /* RETURN CODE INVALID-          */ 00249000
         C     WREG2,@CF00275                                      0119 00250000
         BH    @RT00119                                            0119 00251000
*     GOTO AMDPRCIV;                /* ISSUE DIAGNOSTIC              */ 00252000
*   WREG3=WREG2//4;                 /* A VALID RETURN CODE     SHOULD*/ 00253000
         LR    @04,WREG2                                           0121 00254000
         SRDA  @04,32                                              0121 00255000
         D     @04,@CF00097                                        0121 00256000
         LR    WREG3,@04                                           0121 00257000
*   IF WREG3^=0 THEN                /* BE DIVISIBLE BY FOUR          */ 00258000
         SLR   @14,@14                                             0122 00259000
         CR    WREG3,@14                                           0122 00260000
         BNE   @RT00122                                            0122 00261000
*     GOTO AMDPRCIV;                /* INVALID RETURN CODE           */ 00262000
*   IF EOFINPRO='1'B THEN           /* EOF IN PROCESS          Y02014*/ 00263000
         TM    EOFINPRO(AEDITCBR),B'01000000'                      0124 00264000
         BNO   @RF00124                                            0124 00265000
*     DO;                           /* YES                     Y02014*/ 00266000
*       IF WREG2^=0&WREG2^=4&WREG2^=8 THEN/* RC=0 OR 4 OR 8    Y02014*/ 00267000
         CR    WREG2,@14                                           0126 00268000
         BE    @RF00126                                            0126 00269000
         C     WREG2,@CF00097                                      0126 00270000
         BE    @RF00126                                            0126 00271000
         C     WREG2,@CF00041                                      0126 00272000
         BNE   @RT00126                                            0126 00273000
*         GO TO AMDPRCIV;           /* NO                      Y02014*/ 00274000
*       IF WREG2=8 THEN             /* RC=8                    Y02014*/ 00275000
@RF00126 C     WREG2,@CF00041                                      0128 00276000
         BNE   @RF00128                                            0128 00277000
*         WREG2=12;                 /* CONVERT RC FOR CODE     Y02014*/ 00278000
         LA    WREG2,12                                            0129 00279000
*       IF(FIRSTME='0'B)&(WREG2=0|WREG2=4) THEN                    0130 00280000
@RF00128 TM    FIRSTME,B'10000000'                                 0130 00281000
         BNZ   @RF00130                                            0130 00282000
         LTR   WREG2,WREG2                                         0130 00283000
         BZ    @RT00130                                            0130 00284000
         C     WREG2,@CF00097                                      0130 00285000
         BNE   @RF00130                                            0130 00286000
@RT00130 DS    0H                                                  0131 00287000
*         DO;                       /* NEED TO SKIP PAGE       Y02014*/ 00288000
*           GEN(BRWRITE SKIP);      /* SKIP PAGE               Y02014*/ 00289000
         BRWRITE SKIP                                                   00290000
*           FIRSTME='1'B;           /* INDICATE PAGE SKIPED    Y02014*/ 00291000
         OI    FIRSTME,B'10000000'                                 0133 00292000
*         END;                                                     0134 00293000
*     END;                                                         0135 00294000
*                                                                  0135 00295000
@RF00130 DS    0H                                                  0136 00296000
*/* RETURN CODE IS VALID- SERVICE REQUEST                            */ 00297000
*                                                                  0136 00298000
*   GENERATE;                                                      0136 00299000
*                                                                  0136 00300000
@RF00124 DS    0H                                                  0136 00301000
AMDPCOD  B     BRTAB(R2)                SELECT APPROPRIATE BRANCH       00302000
BRTAB    B     AMDPRC0                  RETURN CODE = 0                 00303000
         B     AMDPRC4                  RETURN CODE = 4                 00304000
         B     AMDPRC8                  RETURN CODE = 8                 00305000
         B     AMDPRC12                 RETURN CODE = 12                00306000
         B     AMDPRC16                 RETURN CODE = 16                00307000
         B     AMDPRC20                 RETURN CODE = 20                00308000
         B     AMDPRC24                 RETURN CODE = 24                00309000
         B     AMDPRC28                 RETURN CODE = 28                00310000
*/********************************************************************/ 00311000
*/*                                                                  */ 00312000
*/* FOLLOWING ROUTINES SERVICE USER REQUESTS UPON RETURN FROM        */ 00313000
*/* USER EXIT ROUTINE                                                */ 00314000
*/*                                                                  */ 00315000
*/********************************************************************/ 00316000
*                                                                  0137 00317000
*AMDPRC0:                           /* RETURN CODE 0 ROUTINE         */ 00318000
*   CALL AMDTMCHK;                  /* OUTPUT TIME STMP, IF NEC      */ 00319000
AMDPRC0  BAL   @14,AMDTMCHK                                        0137 00320000
*   GEN(BRWRITE 1);                 /* PRINT OUTPUT BUFFER           */ 00321000
         BRWRITE 1                                                      00322000
*   BUFPTR=CURBUF+1;                /* UPDATE CURRENT OUTPUT BUFFER     00323000
*                                      IN PARM LIST                  */ 00324000
         LA    @14,1                                               0139 00325000
         AL    @14,CURBUF                                          0139 00326000
         ST    @14,BUFPTR                                          0139 00327000
*   GOTO AMDPCAL;                   /* RE-CALL USER EXIT             */ 00328000
         B     AMDPCAL                                             0140 00329000
*AMDPRC4:                           /* RETURN CODE 4 ROUTINE         */ 00330000
*   CALL AMDTMCHK;                  /* OUTPUT TIME STMP, IF NEC      */ 00331000
AMDPRC4  BAL   @14,AMDTMCHK                                        0141 00332000
*   GEN(BRWRITE 1);                 /* PRINT OUTPUT BUFFER           */ 00333000
         BRWRITE 1                                                      00334000
*AMDPRC12:                          /* RETURN CODE 12 ROUTINE        */ 00335000
*   OUTBUF=' ';                     /* CLEAR OUTPUT BUFFER IN CASE 0143 00336000
*                                      EXIT HAS ENTERED DATA WHICH 0143 00337000
*                                      HAS NOT BEEN PRINTED          */ 00338000
AMDPRC12 L     @14,CURBUF                                          0143 00339000
         MVI   OUTBUF+1(@14),C' '                                  0143 00340000
         MVC   OUTBUF+2(118,@14),OUTBUF+1(@14)                     0143 00341000
         MVI   OUTBUF(@14),C' '                                    0143 00342000
*   REXT='0'B;                      /* INDICATE EXT TERMINATION      */ 00343000
         NI    REXT(AEDITCBR),B'11111110'                          0144 00344000
*   RETURN;                         /* RETURN TO CALLER              */ 00345000
@EL00001 L     @13,4(,@13)                                         0145 00346000
@EF00001 DS    0H                                                  0145 00347000
@ER00001 LM    @14,@12,12(@13)                                     0145 00348000
         BR    @14                                                 0145 00349000
*AMDPRC8:                           /* RETURN CODE 8 ROUTINE         */ 00350000
*   FMT='1'B;                       /* INDICATE FORMAT REQUIRED      */ 00351000
AMDPRC8  OI    FMT(AEDITCBR),B'00010000'                           0146 00352000
*   GOTO AMDPRC12;                  /* RETURN PROCEDURES             */ 00353000
         B     AMDPRC12                                            0147 00354000
*AMDPRC16:                          /* RETURN CODE 16 ROUTINE        */ 00355000
*   CALL AMDTMCHK;                  /* OUTPUT TIME STMP, IF NEC      */ 00356000
AMDPRC16 BAL   @14,AMDTMCHK                                        0148 00357000
*   GEN(BRWRITE 1);                 /* PRINT OUTPUT BUFFER           */ 00358000
         BRWRITE 1                                                      00359000
*AMDPR16A:                                                         0150 00360000
*   USEREXIT=' ';                   /* DELETE USER EXIT              */ 00361000
AMDPR16A MVI   USEREXIT+1(AEDITCBR),C' '                           0150 00362000
         MVC   USEREXIT+2(6,AEDITCBR),USEREXIT+1(AEDITCBR)         0150 00363000
         MVI   USEREXIT(AEDITCBR),C' '                             0150 00364000
*   OUTBUF(1:33)=UNUMMSG2;          /* EXIT DELETED MSG INTO OUTPUT     00365000
*                                      BUFFER                        */ 00366000
         L     @14,CURBUF                                          0151 00367000
         MVC   OUTBUF(33,@14),UNUMMSG2                             0151 00368000
*   GEN(BRWRITE 1);                 /* PRINT MESSAGE                 */ 00369000
         BRWRITE 1                                                      00370000
*   GOTO AMDPRC12;                  /* RETURN PROCEDURES             */ 00371000
         B     AMDPRC12                                            0153 00372000
*AMDPRC20:                          /* RETURN CODE 20 ROUTINE        */ 00373000
*   FMT='1'B;                       /* INDICATE FORMAT REQUIRED      */ 00374000
AMDPRC20 OI    FMT(AEDITCBR),B'00010000'                           0154 00375000
*   GOTO AMDPR16A;                  /* DELETE EXIT AND RETURN        */ 00376000
         B     AMDPR16A                                            0155 00377000
*AMDPRC24:                          /* RETURN CODE 24 ROUTINE        */ 00378000
*   OUTBUF(1:36)=UNUMMSG1;          /* EDIT TERMINATED MSG INTO    0156 00379000
*                                      OUTPUT BUFFER                 */ 00380000
AMDPRC24 L     @14,CURBUF                                          0156 00381000
         MVC   OUTBUF(36,@14),UNUMMSG1                             0156 00382000
*   GEN(BRWRITE 1);                 /* PRINT MESSAGE                 */ 00383000
         BRWRITE 1                                                      00384000
*   GOTO AMDEX01A;                  /* TERMINATE EDIT                */ 00385000
         B     AMDEX01A                                            0158 00386000
*AMDPRC28:                          /* RETURN CODE 28, EXIT WANTS  0159 00387000
*                                      TRACE RECORD FORMATED       0159 00388000
*                                      REGARDLESS OF SELECTIVITY     */ 00389000
*   DMDFMT='1'B;                    /* SET DEMAND FORMAT SW          */ 00390000
AMDPRC28 OI    DMDFMT(AEDITCBR),B'00000001'                        0159 00391000
*   GOTO AMDPRC12;                  /* GO RETURN TO APP              */ 00392000
         B     AMDPRC12                                            0160 00393000
*AMDEXT01:                                                         0161 00394000
*   GEN(OI    SWD,NOSTDMG);         /* SET NO STANDARD MESSAGE SW    */ 00395000
AMDEXT01 OI    SWD,NOSTDMG                                              00396000
*   RCREG=ASYNTAX;                  /* POINT TO MSG WRITER - SYN     */ 00397000
         L     RCREG,ASYNTAX                                       0162 00398000
*   CALL SYNTAXC;                   /* ISSUE EDIT TERM MESSAGE       */ 00399000
         BAL   @14,SYNTAXC                                         0163 00400000
*AMDEX01A:                                                         0164 00401000
*   IF EOFINPRO^='1'B THEN          /* EOF IN PROCESS          Y02014*/ 00402000
AMDEX01A TM    EOFINPRO(AEDITCBR),B'01000000'                      0164 00403000
         BO    @RF00164                                            0164 00404000
*     TERM='1'B;                    /* TERMINATE EDIT                */ 00405000
         OI    TERM(AEDITCBR),B'01000000'                          0165 00406000
*   GOTO AMDPRC12;                  /* RETURN PROCEDURES             */ 00407000
         B     AMDPRC12                                            0166 00408000
*AMDPRCIV:                                                         0167 00409000
*   OUTBUF=' ';                     /* BLANK OUTPUT BUFFER           */ 00410000
AMDPRCIV L     @14,CURBUF                                          0167 00411000
         MVI   OUTBUF+1(@14),C' '                                  0167 00412000
         MVC   OUTBUF+2(118,@14),OUTBUF+1(@14)                     0167 00413000
         MVI   OUTBUF(@14),C' '                                    0167 00414000
*   GEN(BRWRITE SKIP);              /* SKIP TO NEW PAGE              */ 00415000
         BRWRITE SKIP                                                   00416000
*   WREG2=ADDR(CODESAVE);           /* REG 2 POINTS TO EXIT RC       */ 00417000
         LA    WREG2,CODESAVE                                      0169 00418000
*   WREG3=ADDR(M212COD);            /* REG 3 POINTS TO MESSAGE CODE     00419000
*                                      FIELD                         */ 00420000
         L     @14,SYNMSGA                                         0170 00421000
         L     WREG3,MSGPTR1(,@14)                                 0170 00422000
         LA    WREG3,M212COD(,WREG3)                               0170 00423000
*   GEN(HEXCNVT (3),(2),4);         /* RET CODE TO PRINTABLE HEX     */ 00424000
         HEXCNVT (3),(2),4                                              00425000
*   M212MOD=USEREXIT;               /* EXIT NAME TO MESSAGE FIELD    */ 00426000
         L     @14,SYNMSGA                                         0172 00427000
         L     @14,MSGPTR1(,@14)                                   0172 00428000
         MVC   M212MOD(8,@14),USEREXIT(AEDITCBR)                   0172 00429000
*   M212PAG=PAGENO;                 /* MOVE IN PAGE NO FROM COM      */ 00430000
         MVC   M212PAG(4,@14),PAGENO                               0173 00431000
*   GEN(OI    SWD,NOSTDMG);         /* INDICATE MSG AMD165I NOT    0174 00432000
*                                      REQUIRED                      */ 00433000
         OI    SWD,NOSTDMG                                              00434000
*   RCREG=ASYNTAX;                  /* POINT TO MSG WRITER - SYN     */ 00435000
         L     RCREG,ASYNTAX                                       0175 00436000
*   CALL SYNTAXA;                   /* ISSUE BAD RET CODE MESSAGE    */ 00437000
         BAL   @14,SYNTAXA                                         0176 00438000
*   IF EOFINPRO='1'B THEN           /* EOF IN PROCESS          Y02014*/ 00439000
         TM    EOFINPRO(AEDITCBR),B'01000000'                      0177 00440000
         BO    @RT00177                                            0177 00441000
*     GO TO AMDPRC12;               /* RETURN PROCEDURE        Y02014*/ 00442000
*   IF EDITER=0|EDITER=1            /* TERMINATION REQUIRED?         */ 00443000
*     THEN                                                         0179 00444000
         CLI   EDITER,0                                            0179 00445000
         BE    @RT00179                                            0179 00446000
         CLI   EDITER,1                                            0179 00447000
         BE    @RT00179                                            0179 00448000
*     GOTO AMDEXT02;                /* NOT TO BE TERMINATED          */ 00449000
*/* TERMINATE EDIT DUE TO INVALID RETURN CODE FROM EXIT ROUTINE      */ 00450000
*                                                                  0181 00451000
*   GEN(OI    SWD,NOSTDMG);         /* SET NO STANDARD MESSAGE SW    */ 00452000
         OI    SWD,NOSTDMG                                              00453000
*   RCREG=ASYNTAX;                  /* POINT TO MSG WRITER - SYN     */ 00454000
         L     RCREG,ASYNTAX                                       0182 00455000
*   CALL SYNTAXC;                   /* ISSUE EDIT TERM MESSAGE       */ 00456000
         BAL   @14,SYNTAXC                                         0183 00457000
*   TERM='1'B;                      /* EDIT TERMINATION SW           */ 00458000
         OI    TERM(AEDITCBR),B'01000000'                          0184 00459000
*   GOTO AMDEX02A;                  /* TO RETURN PROCEDURES          */ 00460000
         B     AMDEX02A                                            0185 00461000
*AMDEXT02:                                                         0186 00462000
*   M213MOD=USEREXIT;               /* EXIT NAME TO MESSAGE FIELD    */ 00463000
AMDEXT02 L     @14,SYNMSGA                                         0186 00464000
         L     @14,MSGPTR2(,@14)                                   0186 00465000
         MVC   M213MOD(8,@14),USEREXIT(AEDITCBR)                   0186 00466000
*   GEN(OI    SWD,NOSTDMG);         /* SET NO STANDARD MESSAGE SW    */ 00467000
         OI    SWD,NOSTDMG                                              00468000
*   RCREG=ASYNTAX;                  /* POINT TO MSG WRITER - SYN     */ 00469000
         L     RCREG,ASYNTAX                                       0188 00470000
*   CALL SYNTAXB;                   /* ISSUE INTERFACE IGNORED     0189 00471000
*                                      MESSAGE                       */ 00472000
         BAL   @14,SYNTAXB                                         0189 00473000
*AMDEX02A:                                                         0190 00474000
*   USEREXIT=' ';                   /* DELETE USER EXIT              */ 00475000
AMDEX02A MVI   USEREXIT+1(AEDITCBR),C' '                           0190 00476000
         MVC   USEREXIT+2(6,AEDITCBR),USEREXIT+1(AEDITCBR)         0190 00477000
         MVI   USEREXIT(AEDITCBR),C' '                             0190 00478000
*   CALL PRHEX;                     /* DUMP CURRENT TRACE RECORD     */ 00479000
         L     @10,AFRMAD(,AEDITCBR)                               0191 00480000
         L     @15,AHEX(,@10)                                      0191 00481000
         BALR  @14,@15                                             0191 00482000
*   OUTBUF=' ';                     /* BLANK OUTPUT BUFFER           */ 00483000
         L     @14,CURBUF                                          0192 00484000
         MVI   OUTBUF+1(@14),C' '                                  0192 00485000
         MVC   OUTBUF+2(118,@14),OUTBUF+1(@14)                     0192 00486000
         MVI   OUTBUF(@14),C' '                                    0192 00487000
*   GEN(BRWRITE SKIP);              /* SKIP TO NEW PAGE              */ 00488000
         BRWRITE SKIP                                                   00489000
*   GOTO AMDPRC12;                  /* RETURN PROCEDURES             */ 00490000
         B     AMDPRC12                                            0194 00491000
*/****************************************************************** */ 00492000
*/*    DETERMINES IF A TIME STAMP RECORD IS TO BE OUTPUTTED          */ 00493000
*/*    BEFORE THE CURRENT TRACE RECORD.IF SO THE CURRENT OUTPUT      */ 00494000
*/*    BUFFER POINTER MUST BE MODIFIED TO ADDRESS                    */ 00495000
*/*    THE TIME STAMP BUFFER (THIS ADDRESS IS CONTAINED IN ADTSBUF)  */ 00496000
*/*    THE TIME STAMP NEEDED SWITCH IS TURNED OFF BEFORE RETURN.     */ 00497000
*/********************************************************************/ 00498000
*                                                                  0195 00499000
*AMDTMCHK:                                                         0195 00500000
*   PROC;                                                          0195 00501000
AMDTMCHK STM   @14,@12,@SA00002                                    0195 00502000
*   DCL                                                            0196 00503000
*     TEMPBUF REG(2) PTR(31);       /* T S RECORD BUFFER       Y02014*/ 00504000
*   IF EOFINPRO='1'B THEN           /* EOF IN PROCESS          Y02014*/ 00505000
         TM    EOFINPRO(AEDITCBR),B'01000000'                      0197 00506000
         BO    @RT00197                                            0197 00507000
*     RETURN;                       /* YES RETURN              Y02014*/ 00508000
*   IF TS='0'B THEN                 /* NO TS RECORD TO PRNT    Y02014*/ 00509000
         TM    TS(AEDITCBR),B'10000000'                            0199 00510000
         BZ    @RT00199                                            0199 00511000
*     GOTO AMDEND;                  /* RETURN TO CALLER        Y02014*/ 00512000
*   GEN(BRWRITE 2,IMM);             /* 2 BLNK LINES NEEDED     Y02014*/ 00513000
         BRWRITE 2,IMM                                                  00514000
*   TEMPBUF=CURBUF;                 /* SAVE CURBUF PTR         Y02014*/ 00515000
         L     TEMPBUF,CURBUF                                      0202 00516000
*   CURBUF=ADTSBUF;                 /* PTR TO TS BUFFER        Y02014*/ 00517000
         L     @14,ADTSBUF(,AEDITCBR)                              0203 00518000
         ST    @14,CURBUF                                          0203 00519000
*   GEN(BRWRITE 2);                 /* OUTPUT TS AND SPACE     Y02014*/ 00520000
         BRWRITE 2                                                      00521000
*   TS='0'B;                        /* TS PENDING SWITCH OFF   Y02014*/ 00522000
         NI    TS(AEDITCBR),B'01111111'                            0205 00523000
*   CURBUF=TEMPBUF;                 /* REINIT CURBUF           Y02014*/ 00524000
         ST    TEMPBUF,CURBUF                                      0206 00525000
*AMDEND:                                                           0207 00526000
*   RETURN;                         /* RETURN TO CALLER        Y02014*/ 00527000
@EL00002 DS    0H                                                  0207 00528000
@EF00002 DS    0H                                                  0207 00529000
@ER00002 LM    @14,@12,@SA00002                                    0207 00530000
         BR    @14                                                 0207 00531000
*   END;                                                           0208 00532000
         B     @EL00002                                            0208 00533000
*   END AMDPREXT                                                   0209 00534000
*                                                                  0209 00535000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 00536000
*/*%INCLUDE SYSLIB  (AMDPRTAB)                                       */ 00537000
*                                                                  0209 00538000
*       ;                                                          0209 00539000
@DATA    DS    0H                                                       00540000
@SM00313 MVC   TEMPREC(0),RECBASE(@10)                                  00541000
@SM00315 MVC   TEMPREC+256(0),RECBASE+256(@14)                          00542000
         DS    0F                                                       00543000
@SA00001 DS    18F                                                      00544000
@SA00002 DS    15F                                                      00545000
         DS    0F                                                       00546000
@CF00097 DC    F'4'                                                     00547000
@CF00041 DC    F'8'                                                     00548000
@CF00273 DC    F'11'                                                    00549000
@CF00275 DC    F'28'                                                    00550000
@CF00119 DC    F'256'                                                   00551000
@CF00270 DC    F'257'                                                   00552000
@CF00317 DC    F'-1'                                                    00553000
@CF00262 DC    XL4'80000000'                                            00554000
@CA00211 DC    A(SPIESAVE)                                              00555000
@CA00212 DC    A(NSISAVE)                                               00556000
@CA00214 DC    A(PICASAVE)                                              00557000
         DS    0D                                                       00558000
CODESAVE DS    F                                                        00559000
@TS00001 DS    CL1                                                      00560000
         DS    CL3                                                      00561000
PARMLIST DS    CL20                                                     00562000
         ORG   PARMLIST                                                 00563000
RECPTR   DS    AL4                                                      00564000
BUFPTR   DS    AL4                                                      00565000
GTFOPTR  DS    AL4                                                      00566000
EIDPTR   DS    AL4                                                      00567000
DATAPTR  DS    AL4                                                      00568000
         ORG   PARMLIST+20                                              00569000
TEMPREC  DS    CL284                                                    00570000
UNUMMSG1 DC    CL36'EDIT TERMINATED UPON USER''S REQUEST'               00571000
UNUMMSG2 DC    CL33'EXIT DELETED UPON USER''S REQUEST'                  00572000
EXTSWITS DC    B'00000000'                                              00573000
         ORG   EXTSWITS                                                 00574000
FIRSTME  DS    BL1                                                      00575000
@NM00002 EQU   EXTSWITS+0                                               00576000
         ORG   EXTSWITS+1                                               00577000
EXTPTCH  DC    CL100'EXTPTCH'                                           00578000
         DS    CL6                                                      00579000
DECAREA  DS    CL8                                                      00580000
LOCAREA  DS    CL64                                                     00581000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       00582000
@01      EQU   01                                                       00583000
@02      EQU   02                                                       00584000
@03      EQU   03                                                       00585000
@04      EQU   04                                                       00586000
@05      EQU   05                                                       00587000
@06      EQU   06                                                       00588000
@07      EQU   07                                                       00589000
@08      EQU   08                                                       00590000
@09      EQU   09                                                       00591000
@10      EQU   10                                                       00592000
@11      EQU   11                                                       00593000
@12      EQU   12                                                       00594000
@13      EQU   13                                                       00595000
@14      EQU   14                                                       00596000
@15      EQU   15                                                       00597000
AEDITCBR EQU   @09                                                      00598000
PARMREG  EQU   @01                                                      00599000
WREG2    EQU   @02                                                      00600000
WREG3    EQU   @03                                                      00601000
COMPTR   EQU   @12                                                      00602000
AREAPTR  EQU   @13                                                      00603000
RCREG    EQU   @15                                                      00604000
TEMPBUF  EQU   @02                                                      00605000
         ENTRY EXTPTCH                                                  00606000
         EXTRN SPIESAVE                                                 00607000
         EXTRN NSISAVE                                                  00608000
         EXTRN PICASAVE                                                 00609000
AMDPRTAB EQU   0                                                        00610000
AFMG     EQU   AMDPRTAB                                                 00611000
CURREC   EQU   AMDPRTAB+4                                               00612000
DEBGFLGS EQU   AMDPRTAB+8                                               00613000
PTHFLGS1 EQU   DEBGFLGS                                                 00614000
REXT     EQU   PTHFLGS1                                                 00615000
PTHFLGS2 EQU   DEBGFLGS+1                                               00616000
INRFCFGS EQU   DEBGFLGS+2                                               00617000
TERM     EQU   INRFCFGS                                                 00618000
FMT      EQU   INRFCFGS                                                 00619000
DMDFMT   EQU   INRFCFGS                                                 00620000
IOFLGS   EQU   DEBGFLGS+3                                               00621000
GTFWDPTR EQU   AMDPRTAB+20                                              00622000
USEREXIT EQU   AMDPRTAB+24                                              00623000
STARTIME EQU   AMDPRTAB+40                                              00624000
STOPTIME EQU   AMDPRTAB+52                                              00625000
NAMES    EQU   AMDPRTAB+64                                              00626000
ADS      EQU   AMDPRTAB+104                                             00627000
AADS     EQU   ADS                                                      00628000
SIF      EQU   AMDPRTAB+124                                             00629000
SIOFLGS  EQU   SIF                                                      00630000
DVADS1   EQU   AMDPRTAB+128                                             00631000
IO       EQU   AMDPRTAB+228                                             00632000
IOFLGS2  EQU   IO                                                       00633000
DVADS2   EQU   AMDPRTAB+232                                             00634000
VCF      EQU   AMDPRTAB+332                                             00635000
SVCFLGS  EQU   VCF                                                      00636000
USR      EQU   AMDPRTAB+368                                             00637000
USRFLGS  EQU   USR                                                      00638000
USRTAB   EQU   AMDPRTAB+372                                             00639000
PI       EQU   AMDPRTAB+452                                             00640000
PIFLGS   EQU   PI                                                       00641000
PGMNGEN  EQU   AMDPRTAB+456                                             00642000
GENFLAGS EQU   PGMNGEN+3                                                00643000
GENFLGS1 EQU   AMDPRTAB+460                                             00644000
TS       EQU   GENFLGS1                                                 00645000
EOFINPRO EQU   GENFLGS1                                                 00646000
RECDLL   EQU   AMDPRTAB+461                                             00647000
EXITNM   EQU   AMDPRTAB+464                                             00648000
EXITADDR EQU   AMDPRTAB+472                                             00649000
AFRMAD   EQU   AMDPRTAB+488                                             00650000
OFSTEID  EQU   AMDPRTAB+492                                             00651000
OFSTDATA EQU   AMDPRTAB+494                                             00652000
ADTSBUF  EQU   AMDPRTAB+496                                             00653000
ESTARTME EQU   AMDPRTAB+500                                             00654000
ESTOPTME EQU   AMDPRTAB+509                                             00655000
FRMATAB  EQU   0                                                        00656000
AGET     EQU   FRMATAB                                                  00657000
AHEX     EQU   FRMATAB+4                                                00658000
ASPI     EQU   FRMATAB+28                                               00659000
PRHEX    EQU   0                                                        00660000
AMDPRSEG EQU   0                                                        00661000
EXITRTN  EQU   0                                                        00662000
SVAREA   EQU   4                                                        00663000
MSGADDR  EQU   0                                                        00664000
ERRBUF   EQU   0                                                        00665000
AMDPRE12 EQU   56                                                       00666000
AMDPRE03 EQU   32                                                       00667000
MSGPTR1  EQU   0                                                        00668000
MSGPTR2  EQU   4                                                        00669000
M212MOD  EQU   63                                                       00670000
M212COD  EQU   39                                                       00671000
M212PAG  EQU   23                                                       00672000
M213MOD  EQU   53                                                       00673000
RECBASE  EQU   0                                                        00674000
OUTBUF   EQU   1                                                        00675000
INREC    EQU   0                                                        00676000
PRGET    EQU   0                                                        00677000
PRSPI    EQU   0                                                        00678000
PAGENO   EQU   TITLEPGE+5                                               00679000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    00680000
FRMRES1  EQU   FRMATAB+36                                               00681000
ATME     EQU   FRMATAB+32                                               00682000
APRFMG   EQU   FRMATAB+24                                               00683000
AEXT     EQU   FRMATAB+20                                               00684000
AAPP     EQU   FRMATAB+16                                               00685000
AFLT     EQU   FRMATAB+12                                               00686000
ACON     EQU   FRMATAB+8                                                00687000
RESERVED EQU   AMDPRTAB+522                                             00688000
CVTTZONE EQU   AMDPRTAB+518                                             00689000
ESPSEC   EQU   ESTOPTME+7                                               00690000
ESPMIN   EQU   ESTOPTME+5                                               00691000
ESPHR    EQU   ESTOPTME+3                                               00692000
ESPDAY   EQU   ESTOPTME                                                 00693000
ESSEC    EQU   ESTARTME+7                                               00694000
ESMIN    EQU   ESTARTME+5                                               00695000
ESHR     EQU   ESTARTME+3                                               00696000
ESDAY    EQU   ESTARTME                                                 00697000
REENTWKA EQU   AMDPRTAB+484                                             00698000
PRFMTADD EQU   AMDPRTAB+480                                             00699000
AEIOCT   EQU   AMDPRTAB+476                                             00700000
@NM00001 EQU   GENFLGS1                                                 00701000
FIRSTHSW EQU   GENFLGS1                                                 00702000
TSFOUND  EQU   GENFLGS1                                                 00703000
EOF      EQU   GENFLAGS                                                 00704000
RR       EQU   GENFLAGS                                                 00705000
SRM      EQU   GENFLAGS                                                 00706000
RNIO     EQU   GENFLAGS                                                 00707000
SYSM     EQU   GENFLAGS                                                 00708000
SYS      EQU   GENFLAGS                                                 00709000
DSP      EQU   GENFLAGS                                                 00710000
EXT      EQU   GENFLAGS                                                 00711000
PICODEA  EQU   PGMNGEN+2                                                00712000
PICODES  EQU   PGMNGEN                                                  00713000
Q        EQU   PI+1                                                     00714000
P01R     EQU   PIFLGS                                                   00715000
SELP     EQU   PIFLGS                                                   00716000
ALLP     EQU   PIFLGS                                                   00717000
USRNGTAB EQU   USRTAB                                                   00718000
O        EQU   USR+1                                                    00719000
N01R     EQU   USRFLGS                                                  00720000
SELU     EQU   USRFLGS                                                  00721000
ALLU     EQU   USRFLGS                                                  00722000
SVCNUMS  EQU   AMDPRTAB+336                                             00723000
M        EQU   VCF+1                                                    00724000
L        EQU   SVCFLGS                                                  00725000
SELV     EQU   SVCFLGS                                                  00726000
ALLV     EQU   SVCFLGS                                                  00727000
IODVADS  EQU   DVADS2                                                   00728000
K01RES   EQU   IO+1                                                     00729000
JJ       EQU   IOFLGS2                                                  00730000
SELI     EQU   IOFLGS2                                                  00731000
ALLI     EQU   IOFLGS2                                                  00732000
SIODVADS EQU   DVADS1                                                   00733000
II       EQU   SIF+1                                                    00734000
H        EQU   SIOFLGS                                                  00735000
NOEQU    EQU   SIOFLGS                                                  00736000
EQUIV    EQU   SIOFLGS                                                  00737000
SELS     EQU   SIOFLGS                                                  00738000
ALLS     EQU   SIOFLGS                                                  00739000
ASCBADDR EQU   AADS                                                     00740000
JOBNAMES EQU   NAMES                                                    00741000
DAY2     EQU   STOPTIME+10                                              00742000
F        EQU   STOPTIME+8                                               00743000
TIME2    EQU   STOPTIME                                                 00744000
DAY      EQU   STARTIME+10                                              00745000
D        EQU   STARTIME+8                                               00746000
TIME     EQU   STARTIME                                                 00747000
DDNAME   EQU   AMDPRTAB+32                                              00748000
C        EQU   DEBGFLGS+4                                               00749000
B        EQU   IOFLGS                                                   00750000
GETEOF   EQU   IOFLGS                                                   00751000
EDITSTOP EQU   INRFCFGS                                                 00752000
EXTTRC   EQU   INRFCFGS                                                 00753000
RET      EQU   INRFCFGS                                                 00754000
SPIE     EQU   INRFCFGS                                                 00755000
FLMODE   EQU   INRFCFGS                                                 00756000
REMAIN   EQU   PTHFLGS2                                                 00757000
APP      EQU   PTHFLGS2                                                 00758000
FRM      EQU   PTHFLGS1                                                 00759000
FLT      EQU   PTHFLGS1                                                 00760000
HEX      EQU   PTHFLGS1                                                 00761000
CON      EQU   PTHFLGS1                                                 00762000
GET      EQU   PTHFLGS1                                                 00763000
SCN      EQU   PTHFLGS1                                                 00764000
ROOT     EQU   PTHFLGS1                                                 00765000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      00766000
@RT00071 EQU   AMDEXT01                                                 00767000
@RT00119 EQU   AMDPRCIV                                                 00768000
@RT00122 EQU   AMDPRCIV                                                 00769000
@RT00126 EQU   AMDPRCIV                                                 00770000
@RF00164 EQU   AMDPRC12                                                 00771000
@RT00177 EQU   AMDPRC12                                                 00772000
@RT00179 EQU   AMDEXT02                                                 00773000
@RT00197 EQU   @EL00002                                                 00774000
AMDEND   EQU   @EL00002                                                 00775000
@RT00199 EQU   AMDEND                                                   00776000
@ENDDATA EQU   *                                                        00777000
         END   AMDPREXT,(C'PLS1249',0603,75049)                         00778000
