         TITLE 'AMDPRPMS - PRINT STORAGE EXECUTOR                      *00001000
                        '                                               00002000
AMDPRPMS CSECT ,                                                01S0001 00003000
@MAINENT DS    0H                                               01S0001 00004000
         USING *,@15                                            01S0001 00005000
         B     @PROLOG                                          01S0001 00006000
         DC    AL1(16)                                          01S0001 00007000
         DC    C'AMDPRPMS  76.133'                              01S0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                  01S0001 00010000
         BALR  @11,0                                            01S0001 00011000
@PSTART  LA    @10,4095(,@11)                                   01S0001 00012000
         USING @PSTART,@11                                      01S0001 00013000
         USING @PSTART+4095,@10                                 01S0001 00014000
         ST    @13,@SA00001+4                                   01S0001 00015000
         LA    @14,@SA00001                                     01S0001 00016000
         ST    @14,8(,@13)                                      01S0001 00017000
         LR    @13,@14                                          01S0001 00018000
*                                                               01S0045 00019000
*/*------------------------------------------------------------------*/ 00020000
*/* OVERALL LOGIC FOR PRINT STORAGE AND PRINT REAL                   */ 00021000
*/*------------------------------------------------------------------*/ 00022000
*                                                               01S0045 00023000
*                                                               02S0045 00024000
*/*------------------------------------------------------------------*/ 00025000
*/* ESTABLISH ERROR ROUTINE ADDRESSES AND INIT SWITCHES              */ 00026000
*/*------------------------------------------------------------------*/ 00027000
*                                                               02S0045 00028000
*   DO;                                                         02S0045 00029000
*     GEN(USING AMDPRPMX,R9);                                   02S0046 00030000
         USING AMDPRPMX,R9                                              00031000
*     STOPSAVE=STOPEXIT;            /* SAVE PREVIOUS STOP ERROR RTN  */ 00032000
         MVC   STOPSAVE(4),STOPEXIT(COMBASE)                    02S0047 00033000
*     STOPEXIT=ADDR(PMSSTOP);       /* ADDR OF PMS STOP ERROR RTN    */ 00034000
         LA    @00,PMSSTOP                                      02S0048 00035000
         ST    @00,STOPEXIT(,COMBASE)                           02S0048 00036000
*     RESPECIFY                                                 02S0049 00037000
*       R13 RESTRICTED;                                         02S0049 00038000
*     PMSSAVE=R13;                  /* SAVE AREA ADDR FOR ASYNC RTNS */ 00039000
         ST    R13,PMSSAVE                                      02S0050 00040000
*     RESPECIFY                                                 02S0051 00041000
*       R13 UNRESTRICTED;                                       02S0051 00042000
*     STATUS=GOOD;                  /* INIT SYNTAX ERROR SWITCH      */ 00043000
         MVI   STATUS,X'00'                                     02S0052 00044000
*     GPRSFND=OFF;                  /* INIT TO NO REGISTERS          */ 00045000
         NI    GPRSFND(COMBASE),B'11111101'                     02S0053 00046000
*     BLNK(123)='18'X;              /* ADD COLON TO TRT TABLE        */ 00047000
         MVI   BLNK+122(COMBASE),X'18'                          02S0054 00048000
*     A1NUC=OFF;                    /* INITIALIZE TO OFF OZ09684     */ 00049000
         NI    A1NUC,B'01111111'                                02S0055 00050000
*     NUMASID=0;                    /* INITIALIZE ALL TABLES         */ 00051000
         SLR   @15,@15                                          02S0056 00052000
         ST    @15,NUMASID                                      02S0056 00053000
*     NUMPAIRS=0;                                               02S0057 00054000
         ST    @15,NUMPAIRS                                     02S0057 00055000
*     A1COM=OFF;                    /* INITIALIZE TO OFF OZ09684     */ 00056000
         NI    A1COM,B'01111111'                                02S0058 00057000
*     NUMMID=0;                                                 02S0059 00058000
         ST    @15,NUMMID                                       02S0059 00059000
*     NUMLOW=0;                                                 02S0060 00060000
         ST    @15,NUMLOW                                       02S0060 00061000
*     NUMHI=0;                                                  02S0061 00062000
         ST    @15,NUMHI                                        02S0061 00063000
*     PCBPL=PCBPL&&PCBPL;           /* ZERO OUT PCB PARM LIST        */ 00064000
         XC    PCBPL(12),PCBPL                                  02S0062 00065000
*   END;                                                        02S0063 00066000
*   IF FLSHMODE=ON                  /* ONLY DO SYNTAX SCAN           */ 00067000
*       |(PRNTRL=ON&REALMAP=0)      /* CANT DO PRINT REAL            */ 00068000
*       |(REALMAP=0&ASIDNDX=0) THEN /* NO INPUT DUMP                 */ 00069000
         TM    FLSHMODE(COMBASE),B'10000000'                    01S0064 00070000
         BO    @RT00064                                         01S0064 00071000
         TM    PRNTRL(COMBASE),B'00001000'                      01S0064 00072000
         BNO   @GL00001                                         01S0064 00073000
         C     @15,REALMAP(,COMBASE)                            01S0064 00074000
         BE    @RT00064                                         01S0064 00075000
@GL00001 SLR   @15,@15                                          01S0064 00076000
         C     @15,REALMAP(,COMBASE)                            01S0064 00077000
         BNE   @RF00064                                         01S0064 00078000
         C     @15,ASIDNDX(,COMBASE)                            01S0064 00079000
         BNE   @RF00064                                         01S0064 00080000
@RT00064 DS    0H                                               01S0065 00081000
*     ENVIRON=ON;                   /* INDICATE THAT ONLY A SYNTAX      00082000
*                                      CHECK SHOULD BE MADE          */ 00083000
         OI    ENVIRON,B'10000000'                              01S0065 00084000
*   ELSE                                                        01S0066 00085000
*     ENVIRON=OFF;                                              01S0066 00086000
         B     @RC00064                                         01S0066 00087000
@RF00064 NI    ENVIRON,B'01111111'                              01S0066 00088000
*   IF PRNTRL=OFF THEN              /* PRINT STORAGE WAS VERB        */ 00089000
@RC00064 TM    PRNTRL(COMBASE),B'00001000'                      01S0067 00090000
         BNZ   @RF00067                                         01S0067 00091000
*     DO;                                                       01S0068 00092000
*       DEFLTMAX=VIRTMAX;                                       01S0069 00093000
         L     DEFLTMAX,@CF00465                                01S0069 00094000
*                                                               02S0070 00095000
*/*------------------------------------------------------------------*/ 00096000
*/* THE BEGINNING AND ENDING ADDRESSES FOR THE PRIVATE AREA ARE      */ 00097000
*/* OBTAINED FROM THE COMMON                                         */ 00098000
*/*------------------------------------------------------------------*/ 00099000
*                                                               02S0070 00100000
*       DO;                                                     02S0070 00101000
*         HIBOUND=CSADDR;                                       02S0071 00102000
         L     HIBOUND,CSADDR(,COMBASE)                         02S0071 00103000
*         LOWBOUND=NUCTOP;                                      02S0072 00104000
         L     LOWBOUND,NUCTOP(,COMBASE)                        02S0072 00105000
*       END;                                                    02S0073 00106000
*       IF DELIMCD=BLANK            /* ONLY VERB -- NO OPERANDS      */ 00107000
*           |DELIMCD=COMA THEN      /* NO OPERANDS ON THIS VERB      */ 00108000
         L     @02,DELIMCD(,COMBASE)                            01S0074 00109000
         CH    @02,@CH00240                                     01S0074 00110000
         BE    @RT00074                                         01S0074 00111000
         CH    @02,@CH00156                                     01S0074 00112000
         BNE   @RF00074                                         01S0074 00113000
@RT00074 DS    0H                                               01S0075 00114000
*         DO;                                                   01S0075 00115000
*                                                               02S0076 00116000
*/*------------------------------------------------------------------*/ 00117000
*/* USE THE STORAGE ASSOCIATED WITH THE CURRENT ASID IN THE DUMP     */ 00118000
*/*------------------------------------------------------------------*/ 00119000
*                                                               02S0076 00120000
*           DO;                                                 02S0076 00121000
*             NUMASID=1;                                        02S0077 00122000
         LA    @02,1                                            02S0077 00123000
         ST    @02,NUMASID                                      02S0077 00124000
*             STASID(1)=QASID;      /* USE CURRENT ASID              */ 00125000
         MVC   STASID(2),QASID(COMBASE)                         02S0078 00126000
*             ENDASID(1)=QASID;                                 02S0079 00127000
         MVC   ENDASID(2),QASID(COMBASE)                        02S0079 00128000
*           END;                                                02S0080 00129000
*                                                               02S0081 00130000
*/*------------------------------------------------------------------*/ 00131000
*/* INDICATE THAT ALL OF STORAGE IS TO PRINTED                       */ 00132000
*/*------------------------------------------------------------------*/ 00133000
*                                                               02S0081 00134000
*           DO;                                                 02S0081 00135000
*             NUMPAIRS=1;           /* INDICATE ONLY ONE ENTRY       */ 00136000
         ST    @02,NUMPAIRS                                     02S0082 00137000
*             LOWAD(1)=0;           /* START AT THE BEGINNING        */ 00138000
         SLR   @02,@02                                          02S0083 00139000
         ST    @02,LOWAD                                        02S0083 00140000
*             HIAD(1)=DEFLTMAX;     /* AND GO TO THE END             */ 00141000
         ST    DEFLTMAX,HIAD                                    02S0084 00142000
*             GPRSFND=ON;           /* REQUEST REGISTERS             */ 00143000
         OI    GPRSFND(COMBASE),B'00000010'                     02S0085 00144000
*           END;                                                02S0086 00145000
*         END;                                                  01S0087 00146000
*       ELSE                        /* THERE ARE STORAGE SUBFIELDS   */ 00147000
*         IF DELIMCD=EQUAL THEN     /* ONLY VALID DELIMITER AT THIS     00148000
*                                      PNT                           */ 00149000
         B     @RC00074                                         01S0088 00150000
@RF00074 CLC   DELIMCD(4,COMBASE),@CF00043                      01S0088 00151000
         BNE   @RF00088                                         01S0088 00152000
*           DO;                                                 01S0089 00153000
*             CALL DELIMSCN;        /* GET NEXT DELIMITER            */ 00154000
         BAL   @14,DELIMSCN                                     01S0090 00155000
*             IF DELIMCD=LPAREN THEN/* ONLY VALID DELIM HERE         */ 00156000
         CLC   DELIMCD(4,COMBASE),@CF00183                      01S0091 00157000
         BNE   @RF00091                                         01S0091 00158000
*               DO;                                             01S0092 00159000
*                 IF OPSIZE=4&OPERAND(1:4)='ASID' THEN/* GET ASIDS   */ 00160000
         CH    OPSIZE,@CH00156                                  01S0093 00161000
         BNE   @RF00093                                         01S0093 00162000
         L     @04,KYWDBGN(,COMBASE)                            01S0093 00163000
         CLC   OPERAND(4,@04),@CC00460                          01S0093 00164000
         BNE   @RF00093                                         01S0093 00165000
*                                                               02S0094 00166000
*/*------------------------------------------------------------------*/ 00167000
*/* SCAN OFF ALL OF THE ASIDS FROM THE INPUT AND VALIDITY CHECK THEM */ 00168000
*/* IF THEY ARE OK THEN PUT THEM IN A TABLE.                         */ 00169000
*/*------------------------------------------------------------------*/ 00170000
*                                                               02S0094 00171000
*                   DO;                                         02S0094 00172000
*                     ASIDSCN=ON;                               02S0095 00173000
         OI    ASIDSCN,B'00100000'                              02S0095 00174000
*                     DO WHILE ASIDSCN=ON;/* GET ALL ASIDS           */ 00175000
         B     @DE00096                                         02S0096 00176000
@DL00096 DS    0H                                               02S0097 00177000
*                       CALL DELIMSCN;/* GET NEXT DELIMITER          */ 00178000
         BAL   @14,DELIMSCN                                     02S0097 00179000
*                       IF DELIMCD=COLON THEN/* ASID RANGE SPECIFIED */ 00180000
         CLC   DELIMCD(4,COMBASE),@CF00222                      02S0098 00181000
         BNE   @RF00098                                         02S0098 00182000
*                         DO;                                   02S0099 00183000
*                           CALL ASIDCHK;/* CHECK ASID SYNTAX        */ 00184000
         BAL   @14,ASIDCHK                                      02S0100 00185000
*                           IF STATUS=GOOD&/* NO ERROR FOUND YET AND    00186000
*                                      OZ09684                       */ 00187000
*                               OPSIZE=5 THEN/* COLON FOLLOWS NONUC     00188000
*                                      OZ09684                       */ 00189000
         CLI   STATUS,X'00'                                     02S0101 00190000
         BNE   @RF00101                                         02S0101 00191000
         CH    OPSIZE,@CH00154                                  02S0101 00192000
         BNE   @RF00101                                         02S0101 00193000
*                             STATUS=ASIDMISS;/* INDICATE ASID NOT      00194000
*                                      BEFORE COLON OZ09684          */ 00195000
         MVI   STATUS,X'05'                                     02S0102 00196000
*                           ELSE    /* OZ09684                       */ 00197000
*                             IF STATUS=GOOD THEN               02S0103 00198000
         B     @RC00101                                         02S0103 00199000
@RF00101 CLI   STATUS,X'00'                                     02S0103 00200000
         BNE   @RF00103                                         02S0103 00201000
*                               DO;                             02S0104 00202000
*                                 NUMASID=NUMASID+1;/* ADD AN ENTRY     00203000
*                                      TO ASID TABLE                 */ 00204000
         LA    @04,1                                            02S0105 00205000
         AL    @04,NUMASID                                      02S0105 00206000
         ST    @04,NUMASID                                      02S0105 00207000
*                                 STASID(NUMASID)=THISASID;     02S0106 00208000
         SLA   @04,2                                            02S0106 00209000
         LA    @02,STASID-4(@04)                                02S0106 00210000
         MVC   0(2,@02),THISASID                                02S0106 00211000
*                                 CALL DELIMSCN;                02S0107 00212000
         BAL   @14,DELIMSCN                                     02S0107 00213000
*                                 IF DELIMCD=COMA/* MORE ASIDS TO       00214000
*                                      COME                          */ 00215000
*                                     |DELIMCD=RPAREN THEN/* END OF     00216000
*                                      ASIDS                         */ 00217000
         L     @04,DELIMCD(,COMBASE)                            02S0108 00218000
         CH    @04,@CH00156                                     02S0108 00219000
         BE    @RT00108                                         02S0108 00220000
         CH    @04,@CH00213                                     02S0108 00221000
         BNE   @RF00108                                         02S0108 00222000
@RT00108 DS    0H                                               02S0109 00223000
*                                   DO;                         02S0109 00224000
*                                    CALL ASIDCHK;/* VALIDITY CHECK     00225000
*                                      ASID                          */ 00226000
         BAL   @14,ASIDCHK                                      02S0110 00227000
*                                    IF OPSIZE=5&/* LNTH IS 5 AND       00228000
*                                      OZ09684                       */ 00229000
*                                        STATUS=GOOD THEN/* NO ERRORS   00230000
*                                      MEANS OZ09684                 */ 00231000
         CH    OPSIZE,@CH00154                                  02S0111 00232000
         BNE   @RF00111                                         02S0111 00233000
         CLI   STATUS,X'00'                                     02S0111 00234000
         BNE   @RF00111                                         02S0111 00235000
*                                     STATUS=ASIDMISS;/* NONUC OR       00236000
*                                      NOCOM FOLLOWS COLON OZ09684   */ 00237000
         MVI   STATUS,X'05'                                     02S0112 00238000
*                                    IF STATUS=GOOD THEN        02S0113 00239000
@RF00111 CLI   STATUS,X'00'                                     02S0113 00240000
         BNE   @RF00113                                         02S0113 00241000
*                                     IF THISASID>=STASID(NUMASID) THEN 00242000
         L     @02,NUMASID                                      02S0114 00243000
         SLA   @02,2                                            02S0114 00244000
         LA    @15,STASID-4(@02)                                02S0114 00245000
         CLC   THISASID(2),0(@15)                               02S0114 00246000
         BL    @RF00114                                         02S0114 00247000
*                                      ENDASID(NUMASID)=THISASID;/*     00248000
*                                      END OF RANGE                  */ 00249000
         LA    @15,ENDASID-4(@02)                               02S0115 00250000
         MVC   0(2,@15),THISASID                                02S0115 00251000
*                                     ELSE/* INVALID ASID RANGE 02S0116 00252000
*                                      SPECIFIED                     */ 00253000
*                                      DO;                      02S0116 00254000
         B     @RC00114                                         02S0116 00255000
@RF00114 DS    0H                                               02S0117 00256000
*                                       STATUS=BADARNGE;        02S0117 00257000
         MVI   STATUS,X'04'                                     02S0117 00258000
*                                       ASIDSCN=OFF;/* STOP SCAN     */ 00259000
         NI    ASIDSCN,B'11011111'                              02S0118 00260000
*                                      END;                     02S0119 00261000
*                                    IF DELIMCD=RPAREN THEN     02S0120 00262000
@RC00114 DS    0H                                               02S0120 00263000
@RF00113 CLC   DELIMCD(4,COMBASE),@CF00213                      02S0120 00264000
         BNE   @RF00120                                         02S0120 00265000
*                                     ASIDSCN=OFF;              02S0121 00266000
         NI    ASIDSCN,B'11011111'                              02S0121 00267000
*                                   END;                        02S0122 00268000
*                               END;                            02S0123 00269000
*                         END;                                  02S0124 00270000
*                       ELSE        /* ONLY ONE ASID SPECIFIED       */ 00271000
*                         IF DELIMCD=COMA/* MORE ASIDS FOLLOW        */ 00272000
*                             |DELIMCD=RPAREN THEN/* END OF ASIDS    */ 00273000
         B     @RC00098                                         02S0125 00274000
@RF00098 L     @04,DELIMCD(,COMBASE)                            02S0125 00275000
         CH    @04,@CH00156                                     02S0125 00276000
         BE    @RT00125                                         02S0125 00277000
         CH    @04,@CH00213                                     02S0125 00278000
         BNE   @RF00125                                         02S0125 00279000
@RT00125 DS    0H                                               02S0126 00280000
*                           DO;                                 02S0126 00281000
*                             CALL ASIDCHK;/* VALIDITY CHECK ASID    */ 00282000
         BAL   @14,ASIDCHK                                      02S0127 00283000
*                             IF STATUS=GOOD&/* PASSED ASID CHECK       00284000
*                                      OZ09684                       */ 00285000
*                                 OPSIZE^=5 THEN/* NOT NONUC OR NOCOM   00286000
*                                      OZ09684                       */ 00287000
         CLI   STATUS,X'00'                                     02S0128 00288000
         BNE   @RF00128                                         02S0128 00289000
         CH    OPSIZE,@CH00154                                  02S0128 00290000
         BE    @RF00128                                         02S0128 00291000
*                               DO;                             02S0129 00292000
*                                 NUMASID=NUMASID+1;/* ADD TO TABLE  */ 00293000
         LA    @02,1                                            02S0130 00294000
         AL    @02,NUMASID                                      02S0130 00295000
         ST    @02,NUMASID                                      02S0130 00296000
*                                 STASID(NUMASID)=THISASID;     02S0131 00297000
         SLA   @02,2                                            02S0131 00298000
         LA    @15,STASID-4(@02)                                02S0131 00299000
         MVC   0(2,@15),THISASID                                02S0131 00300000
*                                 ENDASID(NUMASID)=THISASID;    02S0132 00301000
         LA    @15,ENDASID-4(@02)                               02S0132 00302000
         MVC   0(2,@15),THISASID                                02S0132 00303000
*                               END;                            02S0133 00304000
*                             IF DELIMCD=RPAREN THEN/* ALL DONE WITH    00305000
*                                      ASIDS                         */ 00306000
@RF00128 CLC   DELIMCD(4,COMBASE),@CF00213                      02S0134 00307000
         BNE   @RF00134                                         02S0134 00308000
*                               ASIDSCN=OFF;                    02S0135 00309000
         NI    ASIDSCN,B'11011111'                              02S0135 00310000
*                           END;                                02S0136 00311000
*                         ELSE      /* INVALID DELIMITER SPECIFIED   */ 00312000
*                           STATUS=INVALDLM;                    02S0137 00313000
         B     @RC00125                                         02S0137 00314000
@RF00125 MVI   STATUS,X'01'                                     02S0137 00315000
*                     END;          /* END OF ASID SCANNING LOOP     */ 00316000
@RC00125 DS    0H                                               02S0138 00317000
@RC00098 DS    0H                                               02S0138 00318000
@DE00096 TM    ASIDSCN,B'00100000'                              02S0138 00319000
         BO    @DL00096                                         02S0138 00320000
*                     IF STATUS=GOOD&/* NO ERRORS FOUND AND OZ09684  */ 00321000
*                         NUMASID=0 THEN/* NO ASIDS ENTERED OZ09684  */ 00322000
         CLI   STATUS,X'00'                                     02S0139 00323000
         BNE   @RF00139                                         02S0139 00324000
         ICM   @02,15,NUMASID                                   02S0139 00325000
         BNZ   @RF00139                                         02S0139 00326000
*                       STATUS=ASIDMISS;/* INDICATE NO ASIDS OZ09684 */ 00327000
         MVI   STATUS,X'05'                                     02S0140 00328000
*                     IF STATUS=GOOD THEN                       02S0141 00329000
@RF00139 CLI   STATUS,X'00'                                     02S0141 00330000
         BNE   @RF00141                                         02S0141 00331000
*                                                               03S0142 00332000
*/*------------------------------------------------------------------*/ 00333000
*/* CHECK FOR THE NEXT DELIMITER FOLLOWING THE ASIDS.                */ 00334000
*/* BLANK INDICATES ALL STORAGE --  =(  INDICATES ADDRS              */ 00335000
*/*------------------------------------------------------------------*/ 00336000
*                                                               03S0142 00337000
*                       DO;                                     03S0142 00338000
*                         CALL DELIMSCN;/* GET NEXT DELIMITER        */ 00339000
         BAL   @14,DELIMSCN                                     03S0143 00340000
*                         IF DELIMCD=BLANK|DELIMCD=COMA THEN/* ALL      00341000
*                                      STORAGE WANTED                */ 00342000
         L     @04,DELIMCD(,COMBASE)                            03S0144 00343000
         CH    @04,@CH00240                                     03S0144 00344000
         BE    @RT00144                                         03S0144 00345000
         CH    @04,@CH00156                                     03S0144 00346000
         BNE   @RF00144                                         03S0144 00347000
@RT00144 DS    0H                                               03S0145 00348000
*                           DO;                                 03S0145 00349000
*                                                               04S0146 00350000
*/*------------------------------------------------------------------*/ 00351000
*/* INDICATE THAT ALL OF STORAGE IS TO PRINTED                       */ 00352000
*/*------------------------------------------------------------------*/ 00353000
*                                                               04S0146 00354000
*                             DO;                               04S0146 00355000
*                               NUMPAIRS=1;/* INDICATE ONLY ONE ENTRY*/ 00356000
         MVC   NUMPAIRS(4),@CF00076                             04S0147 00357000
*                               LOWAD(1)=0;/* START AT THE BEGINNING */ 00358000
         SLR   @02,@02                                          04S0148 00359000
         ST    @02,LOWAD                                        04S0148 00360000
*                               HIAD(1)=DEFLTMAX;/* AND GO TO THE END*/ 00361000
         ST    DEFLTMAX,HIAD                                    04S0149 00362000
*                               GPRSFND=ON;/* REQUEST REGISTERS      */ 00363000
         OI    GPRSFND(COMBASE),B'00000010'                     04S0150 00364000
*                             END;                              04S0151 00365000
*                             OPSCAN=OFF;/* DONT SCAN FOR STORAGE       00366000
*                                      OPERANDS                      */ 00367000
         NI    OPSCAN,B'10111111'                               03S0152 00368000
*                           END;                                03S0153 00369000
*                         ELSE                                  03S0154 00370000
*                           IF DELIMCD=EQUAL&OPSIZE=0 THEN/* ONLY       00371000
*                                      VALID SITUATION               */ 00372000
         B     @RC00144                                         03S0154 00373000
@RF00144 CLC   DELIMCD(4,COMBASE),@CF00043                      03S0154 00374000
         BNE   @RF00154                                         03S0154 00375000
         LTR   OPSIZE,OPSIZE                                    03S0154 00376000
         BNZ   @RF00154                                         03S0154 00377000
*                             DO;                               03S0155 00378000
*                               CALL DELIMSCN;                  03S0156 00379000
         BAL   @14,DELIMSCN                                     03S0156 00380000
*                               IF DELIMCD=LPAREN&OPSIZE=0 THEN/*       00381000
*                                      ONLY VALID SITUATION          */ 00382000
         CLC   DELIMCD(4,COMBASE),@CF00183                      03S0157 00383000
         BNE   @RF00157                                         03S0157 00384000
         LTR   OPSIZE,OPSIZE                                    03S0157 00385000
         BNZ   @RF00157                                         03S0157 00386000
*                                 OPSCAN=ON;/* ALL SET TO GET   03S0158 00387000
*                                      ADDRESSES                     */ 00388000
         OI    OPSCAN,B'01000000'                               03S0158 00389000
*                               ELSE/* INVALID DELIMITER             */ 00390000
*                                 STATUS=INVALDLM;              03S0159 00391000
         B     @RC00157                                         03S0159 00392000
@RF00157 MVI   STATUS,X'01'                                     03S0159 00393000
*                             END;                              03S0160 00394000
*                       END;                                    03S0161 00395000
*                   END;                                        02S0162 00396000
*                 ELSE                                          01S0163 00397000
*                   IF OPSIZE=0 THEN                            01S0163 00398000
         B     @RC00093                                         01S0163 00399000
@RF00093 LTR   OPSIZE,OPSIZE                                    01S0163 00400000
         BNZ   @RF00163                                         01S0163 00401000
*                     DO;                                       01S0164 00402000
*                                                               02S0165 00403000
*/*------------------------------------------------------------------*/ 00404000
*/* USE THE STORAGE ASSOCIATED WITH THE CURRENT ASID IN THE DUMP     */ 00405000
*/*------------------------------------------------------------------*/ 00406000
*                                                               02S0165 00407000
*                       DO;                                     02S0165 00408000
*                         NUMASID=1;                            02S0166 00409000
         MVC   NUMASID(4),@CF00076                              02S0166 00410000
*                         STASID(1)=QASID;/* USE CURRENT ASID        */ 00411000
         MVC   STASID(2),QASID(COMBASE)                         02S0167 00412000
*                         ENDASID(1)=QASID;                     02S0168 00413000
         MVC   ENDASID(2),QASID(COMBASE)                        02S0168 00414000
*                       END;                                    02S0169 00415000
*                       OPSCAN=ON;  /* GET ADDRESSES                 */ 00416000
         OI    OPSCAN,B'01000000'                               01S0170 00417000
*                     END;                                      01S0171 00418000
*                   ELSE                                        01S0172 00419000
*                     STATUS=INVALDLM;                          01S0172 00420000
         B     @RC00163                                         01S0172 00421000
@RF00163 MVI   STATUS,X'01'                                     01S0172 00422000
*                 IF STATUS=GOOD    /* NO ERRORS THUS FAR            */ 00423000
*                     &OPSCAN=ON THEN/* PRINT WAS NOT FOR ALL STORAGE   00424000
*                                      FOR SPECIFIED ASIDS           */ 00425000
@RC00163 DS    0H                                               01S0173 00426000
@RC00093 CLI   STATUS,X'00'                                     01S0173 00427000
         BNE   @RF00173                                         01S0173 00428000
         TM    OPSCAN,B'01000000'                               01S0173 00429000
         BNO   @RF00173                                         01S0173 00430000
*                   CALL STORSCAN;  /* GET STORAGE RANGES            */ 00431000
         BAL   @14,STORSCAN                                     01S0174 00432000
*               END;                                            01S0175 00433000
*             ELSE                  /* DELIMITER WAS NOT A LEFT PAREN*/ 00434000
*               STATUS=INVALDLM;                                01S0176 00435000
         B     @RC00091                                         01S0176 00436000
@RF00091 MVI   STATUS,X'01'                                     01S0176 00437000
*           END;                                                01S0177 00438000
*         ELSE                      /* DELIM WAS NOT EQUAL SIGN      */ 00439000
*           STATUS=INVALDLM;                                    01S0178 00440000
         B     @RC00088                                         01S0178 00441000
@RF00088 MVI   STATUS,X'01'                                     01S0178 00442000
*       IF STATUS=GOOD              /* NO SYNTAX ERRORS              */ 00443000
*           &ENVIRON=OFF THEN       /* IT IS OK TO PROCESS           */ 00444000
@RC00088 DS    0H                                               01S0179 00445000
@RC00074 CLI   STATUS,X'00'                                     01S0179 00446000
         BNE   @RF00179                                         01S0179 00447000
         TM    ENVIRON,B'10000000'                              01S0179 00448000
         BNZ   @RF00179                                         01S0179 00449000
*         DO;                                                   01S0180 00450000
*                                                               02S0181 00451000
*/*------------------------------------------------------------------*/ 00452000
*/* VIRTUAL STORAGE IS PRINTED IN THREE STAGES - NUCLEUS, PRIVATE    */ 00453000
*/* AREA, AND COMMON AREA (HI CORE). THE TABLE OF STORAGE ADDRESSES  */ 00454000
*/* WHICH WAS BUILT IN STORSCAN IS SEPARATED INTO THESE THREE        */ 00455000
*/* CATAGORIES                                                       */ 00456000
*/*------------------------------------------------------------------*/ 00457000
*                                                               02S0181 00458000
*           DO;                                                 02S0181 00459000
*             DO BRK=1 TO NUMPAIRS;                             02S0182 00460000
         LA    BRK,1                                            02S0182 00461000
         B     @DE00182                                         02S0182 00462000
@DL00182 DS    0H                                               02S0183 00463000
*               IF LOWAD(BRK)<LOWBOUND THEN/* STARTING ADDRESS IS IN    00464000
*                                      NUCLEUS                       */ 00465000
         LR    @03,BRK                                          02S0183 00466000
         SLA   @03,3                                            02S0183 00467000
         L     @15,LOWAD-8(@03)                                 02S0183 00468000
         CR    @15,LOWBOUND                                     02S0183 00469000
         BNL   @RF00183                                         02S0183 00470000
*                 DO;                                           02S0184 00471000
*                   NUMLOW=NUMLOW+1;/* PUT STARTING ADDR IN NUCLEUS     00472000
*                                      TABLE                         */ 00473000
         LA    @00,1                                            02S0185 00474000
         AL    @00,NUMLOW                                       02S0185 00475000
         ST    @00,NUMLOW                                       02S0185 00476000
*                   LOSTART(NUMLOW)=LOWAD(BRK);                 02S0186 00477000
         SLA   @00,3                                            02S0186 00478000
         LR    @14,@00                                          02S0186 00479000
         ST    @15,LOSTART-8(@14)                               02S0186 00480000
*                   IF HIAD(BRK)<LOWBOUND THEN/* BOTH ADDRS IN LOW      00481000
*                                      RANGE                         */ 00482000
         L     @03,HIAD-8(@03)                                  02S0187 00483000
         CR    @03,LOWBOUND                                     02S0187 00484000
         BNL   @RF00187                                         02S0187 00485000
*                     LOEND(NUMLOW)=HIAD(BRK);                  02S0188 00486000
         LR    @15,@00                                          02S0188 00487000
         ST    @03,LOEND-8(@15)                                 02S0188 00488000
*                   ELSE            /* ADDR RANGE SPANS TABLES       */ 00489000
*                     DO;                                       02S0189 00490000
         B     @RC00187                                         02S0189 00491000
@RF00187 DS    0H                                               02S0190 00492000
*                       LOEND(NUMLOW)=LOWBOUND;/* USE DEFAULT FOR       00493000
*                                      ENDING                        */ 00494000
         L     @03,NUMLOW                                       02S0190 00495000
         SLA   @03,3                                            02S0190 00496000
         ST    LOWBOUND,LOEND-8(@03)                            02S0190 00497000
*                       LOWAD(BRK)=LOWBOUND;/* DROP LOW END OF RANGE */ 00498000
         LR    @03,BRK                                          02S0191 00499000
         SLA   @03,3                                            02S0191 00500000
         ST    LOWBOUND,LOWAD-8(@03)                            02S0191 00501000
*                     END;                                      02S0192 00502000
*                 END;                                          02S0193 00503000
@RC00187 DS    0H                                               02S0194 00504000
*               IF LOWAD(BRK)>=LOWBOUND&LOWAD(BRK)<HIBOUND THEN/*       00505000
*                                      STARTING IS IN PRIVATE AREA   */ 00506000
@RF00183 LR    @03,BRK                                          02S0194 00507000
         SLA   @03,3                                            02S0194 00508000
         L     @15,LOWAD-8(@03)                                 02S0194 00509000
         CR    @15,LOWBOUND                                     02S0194 00510000
         BL    @RF00194                                         02S0194 00511000
         CR    @15,HIBOUND                                      02S0194 00512000
         BNL   @RF00194                                         02S0194 00513000
*                 DO;                                           02S0195 00514000
*                   NUMMID=NUMMID+1;/* PUT ADDR IN PRIVATE AREA TABLE*/ 00515000
         LA    @00,1                                            02S0196 00516000
         AL    @00,NUMMID                                       02S0196 00517000
         ST    @00,NUMMID                                       02S0196 00518000
*                   MIDSTART(NUMMID)=LOWAD(BRK);                02S0197 00519000
         SLA   @00,3                                            02S0197 00520000
         LR    @14,@00                                          02S0197 00521000
         ST    @15,MIDSTART-8(@14)                              02S0197 00522000
*                   IF HIAD(BRK)<HIBOUND THEN/* BOTH ADDRS IN MID       00523000
*                                      RANGE                         */ 00524000
         L     @03,HIAD-8(@03)                                  02S0198 00525000
         CR    @03,HIBOUND                                      02S0198 00526000
         BNL   @RF00198                                         02S0198 00527000
*                     MIDEND(NUMMID)=HIAD(BRK);                 02S0199 00528000
         LR    @15,@00                                          02S0199 00529000
         ST    @03,MIDEND-8(@15)                                02S0199 00530000
*                   ELSE            /* ADDR PAIR SPANS TABLES        */ 00531000
*                     DO;                                       02S0200 00532000
         B     @RC00198                                         02S0200 00533000
@RF00198 DS    0H                                               02S0201 00534000
*                       MIDEND(NUMMID)=HIBOUND;/* USE DEFAULT ENDING */ 00535000
         L     @03,NUMMID                                       02S0201 00536000
         SLA   @03,3                                            02S0201 00537000
         ST    HIBOUND,MIDEND-8(@03)                            02S0201 00538000
*                       LOWAD(BRK)=HIBOUND;/* DROP OFF LOW END OF       00539000
*                                      RANGE                         */ 00540000
         LR    @03,BRK                                          02S0202 00541000
         SLA   @03,3                                            02S0202 00542000
         ST    HIBOUND,LOWAD-8(@03)                             02S0202 00543000
*                     END;                                      02S0203 00544000
*                 END;                                          02S0204 00545000
@RC00198 DS    0H                                               02S0205 00546000
*               IF LOWAD(BRK)>=HIBOUND THEN/* ADDRESS RANGE IS IN HI    00547000
*                                      CORE                          */ 00548000
@RF00194 LR    @03,BRK                                          02S0205 00549000
         SLA   @03,3                                            02S0205 00550000
         L     @15,LOWAD-8(@03)                                 02S0205 00551000
         CR    @15,HIBOUND                                      02S0205 00552000
         BL    @RF00205                                         02S0205 00553000
*                 DO;                                           02S0206 00554000
*                   NUMHI=NUMHI+1;  /* PUT BOTH ADDRS IN HI CORE        00555000
*                                      TABLE                         */ 00556000
         LA    @00,1                                            02S0207 00557000
         AL    @00,NUMHI                                        02S0207 00558000
         ST    @00,NUMHI                                        02S0207 00559000
*                   HISTART(NUMHI)=LOWAD(BRK);                  02S0208 00560000
         SLA   @00,3                                            02S0208 00561000
         LR    @14,@00                                          02S0208 00562000
         ST    @15,HISTART-8(@14)                               02S0208 00563000
*                   HIEND(NUMHI)=HIAD(BRK);                     02S0209 00564000
         L     @03,HIAD-8(@03)                                  02S0209 00565000
         LR    @15,@00                                          02S0209 00566000
         ST    @03,HIEND-8(@15)                                 02S0209 00567000
*                 END;                                          02S0210 00568000
*             END;                                              02S0211 00569000
@RF00205 AH    BRK,@CH00076                                     02S0211 00570000
@DE00182 C     BRK,NUMPAIRS                                     02S0211 00571000
         BNH   @DL00182                                         02S0211 00572000
*           END;                                                02S0212 00573000
*                                                               02S0213 00574000
*/*------------------------------------------------------------------*/ 00575000
*/* THIS SEGMENT ENQUEUES PCBS FOR ALL OF THE ADDRESS RANGES         */ 00576000
*/* SPECIFIED IN EACH OF THE THREE TABLES.                           */ 00577000
*/*------------------------------------------------------------------*/ 00578000
*                                                               02S0213 00579000
*           DO;                                                 02S0213 00580000
*             R1=ADDR(PCBPL);                                   02S0214 00581000
         LA    R1,PCBPL                                         02S0214 00582000
*             TITLSW=OFF;           /* TITLE NEEDS TO BE PRINTED     */ 00583000
         NI    TITLSW,B'11101111'                               02S0215 00584000
*             PCBPVIRT=ON;          /* INDICATE VIRTUAL STORAGE      */ 00585000
         OI    PCBPVIRT,B'10000000'                             02S0216 00586000
*             PCBPFUNC=PCBPENQ;                                 02S0217 00587000
*                                                               02S0217 00588000
         NI    PCBPFUNC,B'01111111'                             02S0217 00589000
*/*  ----------------------------------------------------------------*/ 00590000
*/*            NUCLEUS                                               */ 00591000
*/*  ----------------------------------------------------------------*/ 00592000
*                                                               02S0218 00593000
*             IF A1NUC=OFF THEN     /* OZ09684                       */ 00594000
         TM    A1NUC,B'10000000'                                02S0218 00595000
         BNZ   @RF00218                                         02S0218 00596000
*               DO;                 /* NONUC NOT SPECIFIED OZ09684   */ 00597000
*                 DO LOW=1 TO NUMLOW;/* ENQ ALL NUCLEUS ADDRS (IF       00598000
*                                      ANY)                          */ 00599000
         LA    LOW,1                                            02S0220 00600000
         B     @DE00220                                         02S0220 00601000
@DL00220 DS    0H                                               02S0221 00602000
*                   PCBPBGN=LOSTART(LOW);                       02S0221 00603000
         LR    @03,LOW                                          02S0221 00604000
         SLA   @03,3                                            02S0221 00605000
         L     @00,LOSTART-8(@03)                               02S0221 00606000
         ST    @00,PCBPBGN                                      02S0221 00607000
*                   PCBPEND=LOEND(LOW);                         02S0222 00608000
         L     @03,LOEND-8(@03)                                 02S0222 00609000
         ST    @03,PCBPEND                                      02S0222 00610000
*                   IF STASID(1)='FFFD'X|STASID(1)='FFFE'X THEN/*       00611000
*                                      THESE TWO ASIDS INDICATE SADMP   00612000
*                                      ERROR RECORDS                 */ 00613000
         CLC   STASID(2),@CB00644                               02S0223 00614000
         BE    @RT00223                                         02S0223 00615000
         CLC   STASID(2),@CB00645                               02S0223 00616000
         BNE   @RF00223                                         02S0223 00617000
@RT00223 DS    0H                                               02S0224 00618000
*                     PCBPASID=STASID(1);                       02S0224 00619000
         MVC   PCBPASID(2),STASID                               02S0224 00620000
*                   ELSE            /* USE CURRENT ASID FOR NUCLEUS  */ 00621000
*                     PCBPASID=QASID;                           02S0225 00622000
         B     @RC00223                                         02S0225 00623000
@RF00223 MVC   PCBPASID(2),QASID(COMBASE)                       02S0225 00624000
*                   CALL AMDPRPCB;                              02S0226 00625000
@RC00223 L     @15,APCBENQ(,COMBASE)                            02S0226 00626000
         BALR  @14,@15                                          02S0226 00627000
*                 END;                                          02S0227 00628000
         AH    LOW,@CH00076                                     02S0227 00629000
@DE00220 C     LOW,NUMLOW                                       02S0227 00630000
         BNH   @DL00220                                         02S0227 00631000
*                 IF PCBPTR^=0 THEN /* SOME NUCLEUS TO BE PRINTED    */ 00632000
         ICM   @00,15,PCBPTR(COMBASE)                           02S0228 00633000
         BZ    @RF00228                                         02S0228 00634000
*                   DO;                                         02S0229 00635000
*                     GEN(BRWRITE SKIP)/* SKIP TO NEW PAGE           */ 00636000
*                     REFS(AWRITE) FLOWS(PMSSTOP);              02S0230 00637000
         BRWRITE SKIP                                                   00638000
*                     TITLVPLC=PMSVTITL;                        02S0231 00639000
         L     @15,CURBUF(,COMBASE)                             02S0231 00640000
         MVC   TITLVPLC+32(57,@15),PMSVTITL                     02S0231 00641000
*                     GEN(BRWRITE 2);/* PRINT TITLE                  */ 00642000
         BRWRITE 2                                                      00643000
*                     TOPICHDR=NUCLEUS;                         02S0233 00644000
         MVI   TOPICHDR+7(COMBASE),C' '                         02S0233 00645000
         MVC   TOPICHDR+8(2,COMBASE),TOPICHDR+7(COMBASE)        02S0233 00646000
         MVC   TOPICHDR(7,COMBASE),NUCLEUS                      02S0233 00647000
*                     TOPICPLC=NUCLEUS;                         02S0234 00648000
         L     @15,CURBUF(,COMBASE)                             02S0234 00649000
         MVI   TOPICPLC+63(@15),C' '                            02S0234 00650000
         MVC   TOPICPLC+64(2,@15),TOPICPLC+63(@15)              02S0234 00651000
         MVC   TOPICPLC+56(7,@15),NUCLEUS                       02S0234 00652000
*                     GEN(BRWRITE 2);/* PRINT TOPIC                  */ 00653000
         BRWRITE 2                                                      00654000
*                     TITLSW=ON;    /* DONT PUT OUT TITLE AGAIN      */ 00655000
         OI    TITLSW,B'00010000'                               02S0236 00656000
*                     CALL AMDPRDPS;/* PRINT STORAGE                 */ 00657000
         L     @15,APRTSTG(,COMBASE)                            02S0237 00658000
         BALR  @14,@15                                          02S0237 00659000
*                   END;                                        02S0238 00660000
*               END;                /* NONUC NOT SPECIFIED OZ09684   */ 00661000
@RF00228 DS    0H                                               02S0240 00662000
*/*  ----------------------------------------------------------------*/ 00663000
*/*            PRIVATE AREAS                                         */ 00664000
*/*  ----------------------------------------------------------------*/ 00665000
*                                                               02S0240 00666000
*             R1=ADDR(PCBPL);       /* RESTORE R1                    */ 00667000
@RF00218 LA    R1,PCBPL                                         02S0240 00668000
*             TOPICHDR='';                                      02S0241 00669000
         MVI   TOPICHDR(COMBASE),C' '                           02S0241 00670000
         MVC   TOPICHDR+1(9,COMBASE),TOPICHDR(COMBASE)          02S0241 00671000
*             ASIDFND=OFF;                                      02S0242 00672000
*             ASIDNOTF=OFF;                                     02S0243 00673000
         NI    ASIDFND,B'11111001'                              02S0243 00674000
*             PCBPTOPC=ON;          /* ASK DPS TO UPDATE TOPICHDR    */ 00675000
         OI    PCBPTOPC,B'00010000'                             02S0244 00676000
*             DO ANTRY=1 TO NUMASID;/* STEP THRU ASID TABLE          */ 00677000
         LA    ANTRY,1                                          02S0245 00678000
         B     @DE00245                                         02S0245 00679000
@DL00245 DS    0H                                               02S0246 00680000
*               DO ASID=STASID(ANTRY) TO ENDASID(ANTRY);        02S0246 00681000
         LR    @02,ANTRY                                        02S0246 00682000
         SLA   @02,2                                            02S0246 00683000
         LA    @15,STASID-4(@02)                                02S0246 00684000
         SLR   @02,@02                                          02S0246 00685000
         ICM   @02,3,0(@15)                                     02S0246 00686000
         B     @DE00246                                         02S0246 00687000
@DL00246 DS    0H                                               02S0247 00688000
*                                                               03S0247 00689000
*/*------------------------------------------------------------------*/ 00690000
*/* CHECK TO SEE IF THE PRESENT ASID IS IN THE DUMP                  */ 00691000
*/*------------------------------------------------------------------*/ 00692000
*                                                               03S0247 00693000
*                 DO;                                           03S0247 00694000
*                   ASIDSRCH=ON;    /* INITIALIZE LOOP CONTROL       */ 00695000
         OI    ASIDSRCH,B'00000001'                             03S0248 00696000
*                   INDXADDR=ASIDNDX;/* POINT TO FIRST MAP ENTRY     */ 00697000
         L     INDXADDR,ASIDNDX(,COMBASE)                       03S0249 00698000
*                   ASIDTHER=OFF;   /* TURNED ON IF ASID IS FOUND    */ 00699000
         NI    ASIDTHER,B'11110111'                             03S0250 00700000
*                   IF ASID=QASID THEN/* CURRENT ASID                */ 00701000
         CLC   ASID(2),QASID(COMBASE)                           03S0251 00702000
         BNE   @RF00251                                         03S0251 00703000
*                     ASIDTHER=ON;  /* THIS ASID IS FOUND            */ 00704000
         OI    ASIDTHER,B'00001000'                             03S0252 00705000
*                   ELSE                                        03S0253 00706000
*                     IF ASIDNDX^=0 THEN/* SOME VIRTUAL BLOCKS WERE     00707000
*                                      DUMPED                        */ 00708000
         B     @RC00251                                         03S0253 00709000
@RF00251 ICM   @00,15,ASIDNDX(COMBASE)                          03S0253 00710000
         BZ    @RF00253                                         03S0253 00711000
*                       DO WHILE ASIDSRCH=ON;                   03S0254 00712000
         B     @DE00254                                         03S0254 00713000
@DL00254 DS    0H                                               03S0255 00714000
*                         DO SRCH=1 TO ASIDCNT WHILE ASIDTHER=OFF;      00715000
         LA    SRCH,1                                           03S0255 00716000
@DL00255 TM    ASIDTHER,B'00001000'                             03S0255 00717000
         BNZ   @DC00255                                         03S0255 00718000
*                           IF ASID=ASDXASID(SRCH) THEN         03S0256 00719000
         LR    @04,SRCH                                         03S0256 00720000
         ALR   @04,@04                                          03S0256 00721000
         ALR   @04,INDXADDR                                     03S0256 00722000
         CLC   ASID(2),ASDXASID-2(@04)                          03S0256 00723000
         BNE   @RF00256                                         03S0256 00724000
*                             DO;                               03S0257 00725000
*                               ASIDTHER=ON;/* ASID HAS BEEN FOUND   */ 00726000
*                               ASIDSRCH=OFF;/* STOP LOOP            */ 00727000
         OI    ASIDTHER,B'00001000'                             03S0259 00728000
         NI    ASIDSRCH,B'11111110'                             03S0259 00729000
*                             END;                              03S0260 00730000
*                         END;                                  03S0261 00731000
@RF00256 AH    SRCH,@CH00076                                    03S0261 00732000
         CH    SRCH,@CH00366                                    03S0261 00733000
         BNH   @DL00255                                         03S0261 00734000
@DC00255 DS    0H                                               03S0262 00735000
*                         IF ASDXLNK^=0 THEN/* THERE IS ANOTHER ASID    00736000
*                                      MAP                           */ 00737000
         L     @15,ASDXLNK(,INDXADDR)                           03S0262 00738000
         LTR   @15,@15                                          03S0262 00739000
         BZ    @RF00262                                         03S0262 00740000
*                           INDXADDR=ASDXLNK;                   03S0263 00741000
         LR    INDXADDR,@15                                     03S0263 00742000
*                         ELSE      /* NO MORE VIRTUAL MAPS          */ 00743000
*                           ASIDSRCH=OFF;/* TERMINATE SCAN           */ 00744000
         B     @RC00262                                         03S0264 00745000
@RF00262 NI    ASIDSRCH,B'11111110'                             03S0264 00746000
*                       END;                                    03S0265 00747000
@RC00262 DS    0H                                               03S0265 00748000
@DE00254 TM    ASIDSRCH,B'00000001'                             03S0265 00749000
         BO    @DL00254                                         03S0265 00750000
*                   IF ASIDTHER=OFF THEN/* SEARCH ASCBMAP            */ 00751000
@RF00253 DS    0H                                               03S0266 00752000
@RC00251 TM    ASIDTHER,B'00001000'                             03S0266 00753000
         BNZ   @RF00266                                         03S0266 00754000
*                     DO;                                       03S0267 00755000
*                       ASMAPPTR=ASCBMAP+LENGTH(ASCBPREF);      03S0268 00756000
         LA    ASMAPPTR,16                                      03S0268 00757000
         AL    ASMAPPTR,ASCBMAP(,COMBASE)                       03S0268 00758000
*                       DO SRCH=1 TO ASCBNUM WHILE ASIDTHER=OFF;        00759000
         LA    SRCH,1                                           03S0269 00760000
         B     @DE00269                                         03S0269 00761000
@DL00269 TM    ASIDTHER,B'00001000'                             03S0269 00762000
         BNZ   @DC00269                                         03S0269 00763000
*                         IF ASID=MAPASID THEN                  03S0270 00764000
         CLC   ASID(2),MAPASID(ASMAPPTR)                        03S0270 00765000
         BNE   @RF00270                                         03S0270 00766000
*                           ASIDTHER=ON;/* ASID HAS BEEN FOUND       */ 00767000
         OI    ASIDTHER,B'00001000'                             03S0271 00768000
*                         ASMAPPTR=ASMAPPTR+LENGTH(ASMAPENT);   03S0272 00769000
@RF00270 AH    ASMAPPTR,@CH00057                                03S0272 00770000
*                       END;                                    03S0273 00771000
         AH    SRCH,@CH00076                                    03S0273 00772000
@DE00269 L     @04,ASCBMAP(,COMBASE)                            03S0273 00773000
         CH    SRCH,ASCBNUM(,@04)                               03S0273 00774000
         BNH   @DL00269                                         03S0273 00775000
@DC00269 DS    0H                                               03S0274 00776000
*                     END;                                      03S0274 00777000
*                   IF ASIDTHER=ON&ASIDFND=OFF THEN             03S0275 00778000
@RF00266 TM    ASIDTHER,B'00001000'                             03S0275 00779000
         BNO   @RF00275                                         03S0275 00780000
         TM    ASIDFND,B'00000100'                              03S0275 00781000
         BNZ   @RF00275                                         03S0275 00782000
*                     ASIDFND=ON;                               03S0276 00783000
         OI    ASIDFND,B'00000100'                              03S0276 00784000
*                 END;                                          03S0277 00785000
@RF00275 DS    0H                                               03S0278 00786000
*                 IF ASIDTHER=ON THEN/* ASID IS IN THE DUMP          */ 00787000
         TM    ASIDTHER,B'00001000'                             02S0278 00788000
         BNO   @RF00278                                         02S0278 00789000
*                   DO MID=1 TO NUMMID;/* ENQ STORAGE FOR THIS ASID  */ 00790000
         LA    MID,1                                            02S0279 00791000
         B     @DE00279                                         02S0279 00792000
@DL00279 DS    0H                                               02S0280 00793000
*                     PCBPBGN=MIDSTART(MID);                    02S0280 00794000
         LR    @15,MID                                          02S0280 00795000
         SLA   @15,3                                            02S0280 00796000
         L     @00,MIDSTART-8(@15)                              02S0280 00797000
         ST    @00,PCBPBGN                                      02S0280 00798000
*                     PCBPEND=MIDEND(MID);                      02S0281 00799000
         L     @00,MIDEND-8(@15)                                02S0281 00800000
         ST    @00,PCBPEND                                      02S0281 00801000
*                     PCBPASID=ASID;                            02S0282 00802000
         MVC   PCBPASID(2),ASID                                 02S0282 00803000
*                     CALL AMDPRPCB;                            02S0283 00804000
         L     @15,APCBENQ(,COMBASE)                            02S0283 00805000
         BALR  @14,@15                                          02S0283 00806000
*                   END;                                        02S0284 00807000
         AH    MID,@CH00076                                     02S0284 00808000
@DE00279 C     MID,NUMMID                                       02S0284 00809000
         BNH   @DL00279                                         02S0284 00810000
*                 ELSE                                          02S0285 00811000
*                   ASIDNOTF=ON;    /* SOME ASID(S) NOT FOUND        */ 00812000
         B     @RC00278                                         02S0285 00813000
@RF00278 OI    ASIDNOTF,B'00000010'                             02S0285 00814000
*               END;                                            02S0286 00815000
@RC00278 LA    @02,1                                            02S0286 00816000
         SLR   @00,@00                                          02S0286 00817000
         ICM   @00,3,ASID                                       02S0286 00818000
         ALR   @02,@00                                          02S0286 00819000
@DE00246 STH   @02,ASID                                         02S0286 00820000
         LR    @15,ANTRY                                        02S0286 00821000
         SLA   @15,2                                            02S0286 00822000
         LA    @14,ENDASID-4(@15)                               02S0286 00823000
         SLR   @00,@00                                          02S0286 00824000
         ICM   @00,3,0(@14)                                     02S0286 00825000
         CR    @02,@00                                          02S0286 00826000
         BNH   @DL00246                                         02S0286 00827000
*             END;                                              02S0287 00828000
         AH    ANTRY,@CH00076                                   02S0287 00829000
@DE00245 C     ANTRY,NUMASID                                    02S0287 00830000
         BNH   @DL00245                                         02S0287 00831000
*             IF ASIDNOTF=ON THEN                               02S0288 00832000
         TM    ASIDNOTF,B'00000010'                             02S0288 00833000
         BNO   @RF00288                                         02S0288 00834000
*                                                               03S0289 00835000
*/*------------------------------------------------------------------*/ 00836000
*/* ISSUE AN ERROR MESSAGE IF SOME OR ALL OF THE ASIDS WERE NOT IN   */ 00837000
*/* THE DUMP                                                         */ 00838000
*/*------------------------------------------------------------------*/ 00839000
*                                                               03S0289 00840000
*               DO;                                             03S0289 00841000
*                 RESPECIFY                                     03S0290 00842000
*                  (R9,                                         03S0290 00843000
*                   R2) RESTRICTED;                             03S0290 00844000
*                 R9=APMX;          /* GET ADDRESSABILITY TO MSG        00845000
*                                      CSECT                         */ 00846000
         L     R9,APMX                                          03S0291 00847000
*                 IF ASIDFND=ON THEN/* SOME ASIDS WERE FOUND         */ 00848000
         TM    ASIDFND,B'00000100'                              03S0292 00849000
         BNO   @RF00292                                         03S0292 00850000
*                   DO;                                         03S0293 00851000
*                     R2=M282ILGT-4;/* LGT OF MSG TEXT               */ 00852000
         LA    @08,4                                            03S0294 00853000
         LH    R2,M282ILGT                                      03S0294 00854000
         SLR   R2,@08                                           03S0294 00855000
*                     R1=ADDR(AMD282I)+4;/* ADDR OF MSG TEXT         */ 00856000
         LA    R1,AMD282I                                       03S0295 00857000
         ALR   R1,@08                                           03S0295 00858000
*                     CALL PRTMSG;  /* ISSUE MSG TO SYSPRINT         */ 00859000
         L     @15,APRTMSG(,COMBASE)                            03S0296 00860000
         BALR  @14,@15                                          03S0296 00861000
*                     IF RDRSW=OFF THEN/* TELL OPERATOR ALSO         */ 00862000
         TM    RDRSW(COMBASE),B'00000001'                       03S0297 00863000
         BNZ   @RF00297                                         03S0297 00864000
*                       DO;         /* WTOP MF(E,AMD282I)            */ 00865000
*                         RFY                                   03S0299 00866000
*                           GPR01P RSTD;/* RESTRICT REG 1            */ 00867000
*                         GPR01P=ADDR(AMD282I);/* ADDRESS CONTROL       00868000
*                                      PROGRAM LIST                  */ 00869000
         LA    GPR01P,AMD282I                                   03S0300 00870000
*                         SVC(35);  /* ISSUE WTO SVC                 */ 00871000
         SVC   35                                               03S0301 00872000
*                         RFY                                   03S0302 00873000
*                           GPR01P UNRSTD;/* RELEASE REG 1           */ 00874000
*                       END;        /* WTOP MF(E,AMD282I)            */ 00875000
*                   END;                                        03S0304 00876000
*                 ELSE              /* NO ASIDS WERE FOUND           */ 00877000
*                   DO;                                         03S0305 00878000
         B     @RC00292                                         03S0305 00879000
@RF00292 DS    0H                                               03S0306 00880000
*                     R2=M295ILGT-4;/* LENGTH OF MESSAGE TEXT        */ 00881000
         LA    @08,4                                            03S0306 00882000
         LH    R2,M295ILGT                                      03S0306 00883000
         SLR   R2,@08                                           03S0306 00884000
*                     R1=ADDR(AMD295I)+4;/* ADDRESS OF MESSAGE TEXT  */ 00885000
         LA    R1,AMD295I                                       03S0307 00886000
         ALR   R1,@08                                           03S0307 00887000
*                     CALL PRTMSG;  /* ISSUE MSG TO SYSPRINT         */ 00888000
         L     @15,APRTMSG(,COMBASE)                            03S0308 00889000
         BALR  @14,@15                                          03S0308 00890000
*                     IF RDRSW=OFF THEN/* TELL OPERATOR ALSO         */ 00891000
         TM    RDRSW(COMBASE),B'00000001'                       03S0309 00892000
         BNZ   @RF00309                                         03S0309 00893000
*                       DO;         /* WTOP MF(E,AMD295I)            */ 00894000
*                         RFY                                   03S0311 00895000
*                           GPR01P RSTD;/* RESTRICT REG 1            */ 00896000
*                         GPR01P=ADDR(AMD295I);/* ADDRESS CONTROL       00897000
*                                      PROGRAM LIST                  */ 00898000
         LA    GPR01P,AMD295I                                   03S0312 00899000
*                         SVC(35);  /* ISSUE WTO SVC                 */ 00900000
         SVC   35                                               03S0313 00901000
*                         RFY                                   03S0314 00902000
*                           GPR01P UNRSTD;/* RELEASE REG 1           */ 00903000
*                       END;        /* WTOP MF(E,AMD295I)            */ 00904000
*                   END;                                        03S0316 00905000
@RF00309 DS    0H                                               03S0317 00906000
*                 RESPECIFY                                     03S0317 00907000
*                  (R9,                                         03S0317 00908000
*                   R2) UNRESTRICTED;                           03S0317 00909000
@RC00292 DS    0H                                               03S0318 00910000
*               END;                                            03S0318 00911000
*             IF PCBPTR^=0 THEN     /* SOMETHING WAS ENQUEUED        */ 00912000
@RF00288 ICM   @00,15,PCBPTR(COMBASE)                           02S0319 00913000
         BZ    @RF00319                                         02S0319 00914000
*               DO;                                             02S0320 00915000
*                 GEN(BRWRITE SKIP);/* SKIP TO NEW PAGE              */ 00916000
         BRWRITE SKIP                                                   00917000
*                                                               03S0322 00918000
*/*------------------------------------------------------------------*/ 00919000
*/* PRINT THE PRESENT ASID AS A SUBTITLE                             */ 00920000
*/*------------------------------------------------------------------*/ 00921000
*                                                               03S0322 00922000
*                 DO;                                           03S0322 00923000
*                   R1=ADDR(PCBPL);                             03S0323 00924000
         LA    R1,PCBPL                                         03S0323 00925000
*                   PCBPFUNC=PCBPDEQ;                           03S0324 00926000
         OI    PCBPFUNC,B'10000000'                             03S0324 00927000
*                   CALL AMDPRPCB;  /* GET THE FIRST PCB ON QUEUE    */ 00928000
         L     @15,APCBENQ(,COMBASE)                            03S0325 00929000
         BALR  @14,@15                                          03S0325 00930000
*                   HDRSAVE(1:4)=ASIDCHAR;                      03S0326 00931000
         MVC   HDRSAVE(4),ASIDCHAR                              03S0326 00932000
*                   UNPK(ASIDPLC,FRSTIDH);                      03S0327 00933000
         UNPK  ASIDPLC(5),FRSTIDH(3)                            03S0327 00934000
*                   TR(ASIDPLC,EBCTABL);                        03S0328 00935000
         TR    ASIDPLC(5),EBCTABL(COMBASE)                      03S0328 00936000
*                   ASIDPLC(LENGTH(ASIDPLC))=' ';               03S0329 00937000
         MVI   ASIDPLC+4,C' '                                   03S0329 00938000
*                   IF TITLSW=OFF THEN/* NEED TO PUT OUT TITLE       */ 00939000
         TM    TITLSW,B'00010000'                               03S0330 00940000
         BNZ   @RF00330                                         03S0330 00941000
*                     DO;                                       03S0331 00942000
*                       TOPICHDR='';                            03S0332 00943000
         MVI   TOPICHDR(COMBASE),C' '                           03S0332 00944000
         MVC   TOPICHDR+1(9,COMBASE),TOPICHDR(COMBASE)          03S0332 00945000
*                       TITLVPLC=PMSVTITL;                      03S0333 00946000
         L     @15,CURBUF(,COMBASE)                             03S0333 00947000
         MVC   TITLVPLC+32(57,@15),PMSVTITL                     03S0333 00948000
*                       GEN(BRWRITE 2);/* PRINT TITLE                */ 00949000
         BRWRITE 2                                                      00950000
*                       TOPICPLC=HDRSAVE;                       03S0335 00951000
         L     @15,CURBUF(,COMBASE)                             03S0335 00952000
         MVC   TOPICPLC+56(10,@15),HDRSAVE                      03S0335 00953000
*                       GEN(BRWRITE 2);/* PRINT TOPIC                */ 00954000
         BRWRITE 2                                                      00955000
*                       TITLSW=ON;  /* ONLY PRINT TITLE ONCE         */ 00956000
         OI    TITLSW,B'00010000'                               03S0337 00957000
*                       PCBPTOPC=OFF;/* DONT SKIP ON FIRST PCB (DPS) */ 00958000
         NI    PCBPTOPC,B'11101111'                             03S0338 00959000
*                     END;                                      03S0339 00960000
*                   R1=ADDR(PCBPL); /* RESTORE R1                    */ 00961000
@RF00330 LA    R1,PCBPL                                         03S0340 00962000
*                   PCBPFUNC=PCBPENQ;                           03S0341 00963000
         NI    PCBPFUNC,B'01111111'                             03S0341 00964000
*                   CALL AMDPRPCB;  /* PUT FIRST PCB BACK ON QUEUE   */ 00965000
         L     @15,APCBENQ(,COMBASE)                            03S0342 00966000
         BALR  @14,@15                                          03S0342 00967000
*                 END;                                          03S0343 00968000
*                 TOPICHDR=HDRSAVE;                             02S0344 00969000
         MVC   TOPICHDR(10,COMBASE),HDRSAVE                     02S0344 00970000
*                 CALL AMDPRDPS;    /* PRINT MIDDLE RANGES           */ 00971000
         L     @15,APRTSTG(,COMBASE)                            02S0345 00972000
         BALR  @14,@15                                          02S0345 00973000
*               END;                                            02S0346 00974000
*                                                               02S0346 00975000
*/*  ----------------------------------------------------------------*/ 00976000
*/*            COMMON                                                */ 00977000
*/*  ----------------------------------------------------------------*/ 00978000
*                                                               02S0347 00979000
*             IF A1COM=OFF THEN     /* OZ09684                       */ 00980000
@RF00319 TM    A1COM,B'10000000'                                02S0347 00981000
         BNZ   @RF00347                                         02S0347 00982000
*               DO;                 /* NOCOM NOT SPECIFIED OZ09684   */ 00983000
*                 R1=ADDR(PCBPL);   /*                        @Z09684*/ 00984000
         LA    R1,PCBPL                                         02S0349 00985000
*                 PCBPTOPC=OFF;     /* TURN OFF DPS TOPIC UPDATING   */ 00986000
         NI    PCBPTOPC,B'11101111'                             02S0350 00987000
*                 DO HI=1 TO NUMHI; /* ENQ HI STORAGE RANGES         */ 00988000
         LA    HI,1                                             02S0351 00989000
         B     @DE00351                                         02S0351 00990000
@DL00351 DS    0H                                               02S0352 00991000
*                   PCBPBGN=HISTART(HI);                        02S0352 00992000
         LR    @03,HI                                           02S0352 00993000
         SLA   @03,3                                            02S0352 00994000
         L     @00,HISTART-8(@03)                               02S0352 00995000
         ST    @00,PCBPBGN                                      02S0352 00996000
*                   PCBPEND=HIEND(HI);                          02S0353 00997000
         L     @03,HIEND-8(@03)                                 02S0353 00998000
         ST    @03,PCBPEND                                      02S0353 00999000
*                   IF STASID(1)='FFFD'X|STASID(1)='FFFE'X THEN/*       01000000
*                                      THESE TWO ASIDS INDICATE SADMP   01001000
*                                      ERROR RECORDS                 */ 01002000
         CLC   STASID(2),@CB00644                               02S0354 01003000
         BE    @RT00354                                         02S0354 01004000
         CLC   STASID(2),@CB00645                               02S0354 01005000
         BNE   @RF00354                                         02S0354 01006000
@RT00354 DS    0H                                               02S0355 01007000
*                     PCBPASID=STASID(1);                       02S0355 01008000
         MVC   PCBPASID(2),STASID                               02S0355 01009000
*                   ELSE            /* USE CURRENT ASID FOR COMMON   */ 01010000
*                     PCBPASID=QASID;                           02S0356 01011000
         B     @RC00354                                         02S0356 01012000
@RF00354 MVC   PCBPASID(2),QASID(COMBASE)                       02S0356 01013000
*                   CALL AMDPRPCB;                              02S0357 01014000
@RC00354 L     @15,APCBENQ(,COMBASE)                            02S0357 01015000
         BALR  @14,@15                                          02S0357 01016000
*                 END;                                          02S0358 01017000
         AH    HI,@CH00076                                      02S0358 01018000
@DE00351 C     HI,NUMHI                                         02S0358 01019000
         BNH   @DL00351                                         02S0358 01020000
*                 IF PCBPTR^=0 THEN /* SOMETHING WAS ENQUEUED        */ 01021000
         ICM   @00,15,PCBPTR(COMBASE)                           02S0359 01022000
         BZ    @RF00359                                         02S0359 01023000
*                   DO;                                         02S0360 01024000
*                     GEN(BRWRITE SKIP);/* SKIP TO NEW PAGE          */ 01025000
         BRWRITE SKIP                                                   01026000
*                     TOPICHDR='';                              02S0362 01027000
         MVI   TOPICHDR(COMBASE),C' '                           02S0362 01028000
         MVC   TOPICHDR+1(9,COMBASE),TOPICHDR(COMBASE)          02S0362 01029000
*                     IF TITLSW=OFF THEN/* NEED TO PUT OUT TITLE     */ 01030000
         TM    TITLSW,B'00010000'                               02S0363 01031000
         BNZ   @RF00363                                         02S0363 01032000
*                       DO;                                     02S0364 01033000
*                         TITLVPLC=PMSVTITL;                    02S0365 01034000
         L     @15,CURBUF(,COMBASE)                             02S0365 01035000
         MVC   TITLVPLC+32(57,@15),PMSVTITL                     02S0365 01036000
*                         GEN(BRWRITE 2);/* PRINT TITLE              */ 01037000
         BRWRITE 2                                                      01038000
*                         TOPICPLC=COMMN;                       02S0367 01039000
         L     @15,CURBUF(,COMBASE)                             02S0367 01040000
         MVI   TOPICPLC+62(@15),C' '                            02S0367 01041000
         MVC   TOPICPLC+63(3,@15),TOPICPLC+62(@15)              02S0367 01042000
         MVC   TOPICPLC+56(6,@15),COMMN                         02S0367 01043000
*                         GEN(BRWRITE 2);/* PRINT TOPIC              */ 01044000
         BRWRITE 2                                                      01045000
*                       END;                                    02S0369 01046000
*                     TOPICHDR=COMMN;                           02S0370 01047000
@RF00363 MVI   TOPICHDR+6(COMBASE),C' '                         02S0370 01048000
         MVC   TOPICHDR+7(3,COMBASE),TOPICHDR+6(COMBASE)        02S0370 01049000
         MVC   TOPICHDR(6,COMBASE),COMMN                        02S0370 01050000
*                     CALL AMDPRDPS;/* PRINT STORAGE - HI ADDRESSES  */ 01051000
         L     @15,APRTSTG(,COMBASE)                            02S0371 01052000
         BALR  @14,@15                                          02S0371 01053000
*                   END;                                        02S0372 01054000
*               END;                /* NOCOM NOT SPECIFIED OZ09684   */ 01055000
@RF00359 DS    0H                                               02S0374 01056000
*             A1NUC=OFF;            /* OZ09684                       */ 01057000
@RF00347 NI    A1NUC,B'01111111'                                02S0374 01058000
*             A1COM=OFF;            /* OZ09684                       */ 01059000
         NI    A1COM,B'01111111'                                02S0375 01060000
*           END;                                                02S0376 01061000
*         END;                                                  01S0377 01062000
*       IF STATUS^=GOOD THEN        /* SYNTAX ERROR WAS FOUND        */ 01063000
@RF00179 CLI   STATUS,X'00'                                     01S0378 01064000
         BE    @RF00378                                         01S0378 01065000
*                                                               02S0379 01066000
*/*------------------------------------------------------------------*/ 01067000
*/* PRINT A SYNTAX ERROR MESSAGE                                     */ 01068000
*/*------------------------------------------------------------------*/ 01069000
*                                                               02S0379 01070000
*         DO;                                                   02S0379 01071000
*           RESPECIFY                                           02S0380 01072000
*             R15 RESTRICTED;                                   02S0380 01073000
*           DELIMCD=0;              /* SET INVALID TO TERMINATE SCAN    01074000
*                                      OF CURRENT CONTROL CARD       */ 01075000
         SLR   @14,@14                                          02S0381 01076000
         ST    @14,DELIMCD(,COMBASE)                            02S0381 01077000
*           GEN(USING SYNEPS,R15);                              02S0382 01078000
         USING SYNEPS,R15                                               01079000
*           R15=ASYNTAX;                                        02S0383 01080000
         L     R15,ASYNTAX(,COMBASE)                            02S0383 01081000
*           IF STATUS=INVALDLM THEN                             02S0384 01082000
         CLI   STATUS,X'01'                                     02S0384 01083000
         BNE   @RF00384                                         02S0384 01084000
*             MSGADDR=ADDR(DELIMS);                             02S0385 01085000
         LA    @14,DELIMS                                       02S0385 01086000
         ST    @14,MSGADDR                                      02S0385 01087000
*           ELSE                                                02S0386 01088000
*             IF STATUS=OPOMIT THEN                             02S0386 01089000
         B     @RC00384                                         02S0386 01090000
@RF00384 CLI   STATUS,X'02'                                     02S0386 01091000
         BNE   @RF00386                                         02S0386 01092000
*               MSGADDR=ADDR(OPMISS);                           02S0387 01093000
         LA    @14,OPMISS                                       02S0387 01094000
         ST    @14,MSGADDR                                      02S0387 01095000
*             ELSE                                              02S0388 01096000
*               IF STATUS=OPTOBIG THEN                          02S0388 01097000
         B     @RC00386                                         02S0388 01098000
@RF00386 CLI   STATUS,X'03'                                     02S0388 01099000
         BNE   @RF00388                                         02S0388 01100000
*                 MSGADDR=ADDR(TOBIGS);                         02S0389 01101000
         LA    @14,TOBIGS                                       02S0389 01102000
         ST    @14,MSGADDR                                      02S0389 01103000
*               ELSE                                            02S0390 01104000
*                 IF STATUS=BADARNGE THEN                       02S0390 01105000
         B     @RC00388                                         02S0390 01106000
@RF00388 CLI   STATUS,X'04'                                     02S0390 01107000
         BNE   @RF00390                                         02S0390 01108000
*                   MSGADDR=ADDR(ARNGE);                        02S0391 01109000
         LA    @14,ARNGE                                        02S0391 01110000
         ST    @14,MSGADDR                                      02S0391 01111000
*                 ELSE                                          02S0392 01112000
*                   IF STATUS=ASIDMISS THEN                     02S0392 01113000
         B     @RC00390                                         02S0392 01114000
@RF00390 CLI   STATUS,X'05'                                     02S0392 01115000
         BNE   @RF00392                                         02S0392 01116000
*                     MSGADDR=ADDR(ASMISS);                     02S0393 01117000
         LA    @14,ASMISS                                       02S0393 01118000
         ST    @14,MSGADDR                                      02S0393 01119000
*                   ELSE                                        02S0394 01120000
*                     IF STATUS=ASIDBIG THEN                    02S0394 01121000
         B     @RC00392                                         02S0394 01122000
@RF00392 CLI   STATUS,X'06'                                     02S0394 01123000
         BNE   @RF00394                                         02S0394 01124000
*                       MSGADDR=ADDR(BGASID);                   02S0395 01125000
         LA    @14,BGASID                                       02S0395 01126000
         ST    @14,MSGADDR                                      02S0395 01127000
*                     ELSE                                      02S0396 01128000
*                       IF STATUS=ASIDNOTL THEN                 02S0396 01129000
         B     @RC00394                                         02S0396 01130000
@RF00394 CLI   STATUS,X'07'                                     02S0396 01131000
         BNE   @RF00396                                         02S0396 01132000
*                         MSGADDR=ADDR(ASNOTL);                 02S0397 01133000
         LA    @14,ASNOTL                                       02S0397 01134000
         ST    @14,MSGADDR                                      02S0397 01135000
*                       ELSE                                    02S0398 01136000
*                         IF STATUS=INVALNUM THEN               02S0398 01137000
         B     @RC00396                                         02S0398 01138000
@RF00396 CLI   STATUS,X'08'                                     02S0398 01139000
         BNE   @RF00398                                         02S0398 01140000
*                           MSGADDR=ADDR(BADNMS);               02S0399 01141000
         LA    @14,BADNMS                                       02S0399 01142000
         ST    @14,MSGADDR                                      02S0399 01143000
*                         ELSE                                  02S0400 01144000
*                           MSGADDR=ADDR(SRNGE);                02S0400 01145000
         B     @RC00398                                         02S0400 01146000
@RF00398 LA    @14,SRNGE                                        02S0400 01147000
         ST    @14,MSGADDR                                      02S0400 01148000
*           SYNMSGA=ADDR(MSGADDR);                              02S0401 01149000
@RC00398 DS    0H                                               02S0401 01150000
@RC00396 DS    0H                                               02S0401 01151000
@RC00394 DS    0H                                               02S0401 01152000
@RC00392 DS    0H                                               02S0401 01153000
@RC00390 DS    0H                                               02S0401 01154000
@RC00388 DS    0H                                               02S0401 01155000
@RC00386 DS    0H                                               02S0401 01156000
@RC00384 LA    @14,MSGADDR                                      02S0401 01157000
         ST    @14,SYNMSGA(,COMBASE)                            02S0401 01158000
*           IF STATUS=BADLAST THEN                              02S0402 01159000
         CLI   STATUS,X'0A'                                     02S0402 01160000
         BNE   @RF00402                                         02S0402 01161000
*             CALL SYNTAX;                                      02S0403 01162000
         BAL   @14,SYNTAX                                       02S0403 01163000
*           ELSE                                                02S0404 01164000
*             CALL SYNTAXA;                                     02S0404 01165000
         B     @RC00402                                         02S0404 01166000
@RF00402 BAL   @14,SYNTAXA                                      02S0404 01167000
*           RESPECIFY                                           02S0405 01168000
*             R15 UNRESTRICTED;                                 02S0405 01169000
@RC00402 DS    0H                                               02S0406 01170000
*         END;                                                  02S0406 01171000
*     END;                          /* END PRINT STORAGE CODE        */ 01172000
*   ELSE                            /* PRINT REAL WAS SPECIFIED      */ 01173000
*                                                               02S0408 01174000
*/*------------------------------------------------------------------*/ 01175000
*/* PRINT ALL OF THE REAL ADDRESS RANGES SPECIFIED                   */ 01176000
*/*------------------------------------------------------------------*/ 01177000
*                                                               02S0408 01178000
*     DO;                                                       02S0408 01179000
         B     @RC00067                                         02S0408 01180000
@RF00067 DS    0H                                               02S0409 01181000
*       DEFLTMAX=REALMAX;                                       02S0409 01182000
         L     DEFLTMAX,REALMAX(,COMBASE)                       02S0409 01183000
*       IF DELIMCD=BLANK|DELIMCD=COMA THEN/* PRINT ALL REAL STORAGE  */ 01184000
         L     @02,DELIMCD(,COMBASE)                            02S0410 01185000
         CH    @02,@CH00240                                     02S0410 01186000
         BE    @RT00410                                         02S0410 01187000
         CH    @02,@CH00156                                     02S0410 01188000
         BNE   @RF00410                                         02S0410 01189000
@RT00410 DS    0H                                               02S0411 01190000
*                                                               03S0411 01191000
*/*------------------------------------------------------------------*/ 01192000
*/* INDICATE THAT ALL OF STORAGE IS TO PRINTED                       */ 01193000
*/*------------------------------------------------------------------*/ 01194000
*                                                               03S0411 01195000
*         DO;                                                   03S0411 01196000
*           NUMPAIRS=1;             /* INDICATE ONLY ONE ENTRY       */ 01197000
         MVC   NUMPAIRS(4),@CF00076                             03S0412 01198000
*           LOWAD(1)=0;             /* START AT THE BEGINNING        */ 01199000
         SLR   @02,@02                                          03S0413 01200000
         ST    @02,LOWAD                                        03S0413 01201000
*           HIAD(1)=DEFLTMAX;       /* AND GO TO THE END             */ 01202000
         ST    DEFLTMAX,HIAD                                    03S0414 01203000
*           GPRSFND=ON;             /* REQUEST REGISTERS             */ 01204000
         OI    GPRSFND(COMBASE),B'00000010'                     03S0415 01205000
*         END;                                                  03S0416 01206000
*       ELSE                                                    02S0417 01207000
*         IF DELIMCD=EQUAL THEN     /* ADDRESSES FOLLOW              */ 01208000
         B     @RC00410                                         02S0417 01209000
@RF00410 CLC   DELIMCD(4,COMBASE),@CF00043                      02S0417 01210000
         BNE   @RF00417                                         02S0417 01211000
*           DO;                                                 02S0418 01212000
*             CALL DELIMSCN;        /* GET NEXT DELIMITER            */ 01213000
         BAL   @14,DELIMSCN                                     02S0419 01214000
*             IF DELIMCD=LPAREN THEN/* ONLY VALID DELIMITER HERE     */ 01215000
         CLC   DELIMCD(4,COMBASE),@CF00183                      02S0420 01216000
         BNE   @RF00420                                         02S0420 01217000
*               CALL STORSCAN;      /* BUILD TABLE OF ADDRESS PAIRS  */ 01218000
         BAL   @14,STORSCAN                                     02S0421 01219000
*             ELSE                                              02S0422 01220000
*               STATUS=INVALDLM;                                02S0422 01221000
         B     @RC00420                                         02S0422 01222000
@RF00420 MVI   STATUS,X'01'                                     02S0422 01223000
*           END;                                                02S0423 01224000
*         ELSE                                                  02S0424 01225000
*           STATUS=INVALDLM;                                    02S0424 01226000
         B     @RC00417                                         02S0424 01227000
@RF00417 MVI   STATUS,X'01'                                     02S0424 01228000
*       IF STATUS=GOOD&ENVIRON=OFF THEN                         02S0425 01229000
@RC00417 DS    0H                                               02S0425 01230000
@RC00410 CLI   STATUS,X'00'                                     02S0425 01231000
         BNE   @RF00425                                         02S0425 01232000
         TM    ENVIRON,B'10000000'                              02S0425 01233000
         BNZ   @RF00425                                         02S0425 01234000
*         DO;                                                   02S0426 01235000
*           R1=ADDR(PCBPL);                                     02S0427 01236000
         LA    R1,PCBPL                                         02S0427 01237000
*           PCBPREAL=ON;            /* INDICATE REAL READS           */ 01238000
         OI    PCBPREAL,B'01000000'                             02S0428 01239000
*           PCBPFUNC=PCBPENQ;                                   02S0429 01240000
         NI    PCBPFUNC,B'01111111'                             02S0429 01241000
*           DO REAL=1 TO NUMPAIRS;  /* ENQ ALL ADDRESS PAIRS         */ 01242000
         LA    REAL,1                                           02S0430 01243000
         B     @DE00430                                         02S0430 01244000
@DL00430 DS    0H                                               02S0431 01245000
*             PCBPBGN=LOWAD(REAL);                              02S0431 01246000
         LR    @03,REAL                                         02S0431 01247000
         SLA   @03,3                                            02S0431 01248000
         L     @00,LOWAD-8(@03)                                 02S0431 01249000
         ST    @00,PCBPBGN                                      02S0431 01250000
*             PCBPEND=HIAD(REAL);                               02S0432 01251000
         L     @03,HIAD-8(@03)                                  02S0432 01252000
         ST    @03,PCBPEND                                      02S0432 01253000
*             CALL AMDPRPCB;                                    02S0433 01254000
         L     @15,APCBENQ(,COMBASE)                            02S0433 01255000
         BALR  @14,@15                                          02S0433 01256000
*           END;                                                02S0434 01257000
         AH    REAL,@CH00076                                    02S0434 01258000
@DE00430 C     REAL,NUMPAIRS                                    02S0434 01259000
         BNH   @DL00430                                         02S0434 01260000
*           GEN(BRWRITE SKIP);      /* SKIP TO NEW PAGE              */ 01261000
         BRWRITE SKIP                                                   01262000
*           TITLRPLC=PMSRTITL;                                  02S0436 01263000
         L     @15,CURBUF(,COMBASE)                             02S0436 01264000
         MVC   TITLRPLC+34(52,@15),PMSRTITL                     02S0436 01265000
*           GEN(BRWRITE 2);         /* PRINT TITLE                   */ 01266000
         BRWRITE 2                                                      01267000
*           CALL AMDPRDPS;          /* PRINT REQUESTED STORAGE       */ 01268000
         L     @15,APRTSTG(,COMBASE)                            02S0438 01269000
         BALR  @14,@15                                          02S0438 01270000
*         END;                                                  02S0439 01271000
*       IF STATUS^=GOOD THEN                                    02S0440 01272000
@RF00425 CLI   STATUS,X'00'                                     02S0440 01273000
         BE    @RF00440                                         02S0440 01274000
*                                                               03S0441 01275000
*/*------------------------------------------------------------------*/ 01276000
*/* PRINT A SYNTAX ERROR MESSAGE                                     */ 01277000
*/*------------------------------------------------------------------*/ 01278000
*                                                               03S0441 01279000
*         DO;                                                   03S0441 01280000
*           RESPECIFY                                           03S0442 01281000
*             R15 RESTRICTED;                                   03S0442 01282000
*           DELIMCD=0;              /* SET INVALID TO TERMINATE SCAN    01283000
*                                      OF CURRENT CONTROL CARD       */ 01284000
         SLR   @14,@14                                          03S0443 01285000
         ST    @14,DELIMCD(,COMBASE)                            03S0443 01286000
*           GEN(USING SYNEPS,R15);                              03S0444 01287000
         USING SYNEPS,R15                                               01288000
*           R15=ASYNTAX;                                        03S0445 01289000
         L     R15,ASYNTAX(,COMBASE)                            03S0445 01290000
*           IF STATUS=INVALDLM THEN                             03S0446 01291000
         CLI   STATUS,X'01'                                     03S0446 01292000
         BNE   @RF00446                                         03S0446 01293000
*             MSGADDR=ADDR(DELIMR);                             03S0447 01294000
         LA    @14,DELIMR                                       03S0447 01295000
         ST    @14,MSGADDR                                      03S0447 01296000
*           ELSE                                                03S0448 01297000
*             IF STATUS=OPOMIT THEN                             03S0448 01298000
         B     @RC00446                                         03S0448 01299000
@RF00446 CLI   STATUS,X'02'                                     03S0448 01300000
         BNE   @RF00448                                         03S0448 01301000
*               MSGADDR=ADDR(OPMISR);                           03S0449 01302000
         LA    @14,OPMISR                                       03S0449 01303000
         ST    @14,MSGADDR                                      03S0449 01304000
*             ELSE                                              03S0450 01305000
*               IF STATUS=OPTOBIG THEN                          03S0450 01306000
         B     @RC00448                                         03S0450 01307000
@RF00448 CLI   STATUS,X'03'                                     03S0450 01308000
         BNE   @RF00450                                         03S0450 01309000
*                 MSGADDR=ADDR(TOBIGR);                         03S0451 01310000
         LA    @14,TOBIGR                                       03S0451 01311000
         ST    @14,MSGADDR                                      03S0451 01312000
*               ELSE                                            03S0452 01313000
*                 IF STATUS=INVALNUM THEN                       03S0452 01314000
         B     @RC00450                                         03S0452 01315000
@RF00450 CLI   STATUS,X'08'                                     03S0452 01316000
         BNE   @RF00452                                         03S0452 01317000
*                   MSGADDR=ADDR(BADNMR);                       03S0453 01318000
         LA    @14,BADNMR                                       03S0453 01319000
         ST    @14,MSGADDR                                      03S0453 01320000
*                 ELSE                                          03S0454 01321000
*                   MSGADDR=ADDR(SRNGE);                        03S0454 01322000
         B     @RC00452                                         03S0454 01323000
@RF00452 LA    @14,SRNGE                                        03S0454 01324000
         ST    @14,MSGADDR                                      03S0454 01325000
*           SYNMSGA=ADDR(MSGADDR);                              03S0455 01326000
@RC00452 DS    0H                                               03S0455 01327000
@RC00450 DS    0H                                               03S0455 01328000
@RC00448 DS    0H                                               03S0455 01329000
@RC00446 LA    @14,MSGADDR                                      03S0455 01330000
         ST    @14,SYNMSGA(,COMBASE)                            03S0455 01331000
*           IF STATUS=BADLAST THEN                              03S0456 01332000
         CLI   STATUS,X'0A'                                     03S0456 01333000
         BNE   @RF00456                                         03S0456 01334000
*             CALL SYNTAX;                                      03S0457 01335000
         BAL   @14,SYNTAX                                       03S0457 01336000
*           ELSE                                                03S0458 01337000
*             CALL SYNTAXA;                                     03S0458 01338000
         B     @RC00456                                         03S0458 01339000
@RF00456 BAL   @14,SYNTAXA                                      03S0458 01340000
*           RESPECIFY                                           03S0459 01341000
*             R15 UNRESTRICTED;                                 03S0459 01342000
@RC00456 DS    0H                                               03S0460 01343000
*         END;                                                  03S0460 01344000
*     END;                                                      02S0461 01345000
@RF00440 DS    0H                                               02S0462 01346000
*                                                               02S0462 01347000
*/*------------------------------------------------------------------*/ 01348000
*/* RESTORE ERROR ROUTINE ADDRESSES, ETC AND EXIT                    */ 01349000
*/*------------------------------------------------------------------*/ 01350000
*                                                               02S0462 01351000
*   DO;                                                         02S0462 01352000
@RC00067 DS    0H                                               02S0463 01353000
*     IF ENVIRON=ON THEN                                        02S0463 01354000
         TM    ENVIRON,B'10000000'                              02S0463 01355000
         BNO   @RF00463                                         02S0463 01356000
*                                                               03S0464 01357000
*/*------------------------------------------------------------------*/ 01358000
*/* ISSUE A MESSAGE IF THERE WAS SOMETHING WRONG WITH THE DUMP INPUT */ 01359000
*/*------------------------------------------------------------------*/ 01360000
*                                                               03S0464 01361000
*       DO;                                                     03S0464 01362000
*         RESPECIFY                                             03S0465 01363000
*          (R9,                                                 03S0465 01364000
*           R2) RESTRICTED;                                     03S0465 01365000
*         R9=APMX;                  /* GET ADDRESSABILITY TO MSG        01366000
*                                      CSECT                         */ 01367000
         L     R9,APMX                                          03S0466 01368000
*         IF PRNTRL=ON&REALMAP=0 THEN/* REAL VERB AND NO REAL INPUT  */ 01369000
         TM    PRNTRL(COMBASE),B'00001000'                      03S0467 01370000
         BNO   @RF00467                                         03S0467 01371000
         ICM   @08,15,REALMAP(COMBASE)                          03S0467 01372000
         BNZ   @RF00467                                         03S0467 01373000
*           DO;                                                 03S0468 01374000
*             R2=M252ILGT-4;                                    03S0469 01375000
         LA    @08,4                                            03S0469 01376000
         LH    R2,M252ILGT                                      03S0469 01377000
         SLR   R2,@08                                           03S0469 01378000
*             R1=ADDR(AMD252I)+4;                               03S0470 01379000
         LA    R1,AMD252I                                       03S0470 01380000
         ALR   R1,@08                                           03S0470 01381000
*             CALL PRTMSG;          /* ISSUE MSG TO SYSPRINT         */ 01382000
         L     @15,APRTMSG(,COMBASE)                            03S0471 01383000
         BALR  @14,@15                                          03S0471 01384000
*             IF RDRSW=OFF THEN     /* TELL OPERATOR                 */ 01385000
         TM    RDRSW(COMBASE),B'00000001'                       03S0472 01386000
         BNZ   @RF00472                                         03S0472 01387000
*               DO;                 /* WTOP MF(E,AMD252I)            */ 01388000
*                 RFY                                           03S0474 01389000
*                   GPR01P RSTD;    /* RESTRICT REG 1                */ 01390000
*                 GPR01P=ADDR(AMD252I);/* ADDRESS CONTROL PROGRAM       01391000
*                                      LIST                          */ 01392000
         LA    GPR01P,AMD252I                                   03S0475 01393000
*                 SVC(35);          /* ISSUE WTO SVC                 */ 01394000
         SVC   35                                               03S0476 01395000
*                 RFY                                           03S0477 01396000
*                   GPR01P UNRSTD;  /* RELEASE REG 1                 */ 01397000
*               END;                /* WTOP MF(E,AMD252I)            */ 01398000
*           END;                                                03S0479 01399000
*         ELSE                                                  03S0480 01400000
*           IF REALMAP=0&ASIDNDX=0 THEN/* NO DUMP INPUT              */ 01401000
         B     @RC00467                                         03S0480 01402000
@RF00467 SLR   @08,@08                                          03S0480 01403000
         C     @08,REALMAP(,COMBASE)                            03S0480 01404000
         BNE   @RF00480                                         03S0480 01405000
         C     @08,ASIDNDX(,COMBASE)                            03S0480 01406000
         BNE   @RF00480                                         03S0480 01407000
*             DO;                                               03S0481 01408000
*               R2=M251ILGT-4;                                  03S0482 01409000
         LA    @08,4                                            03S0482 01410000
         LH    R2,M251ILGT                                      03S0482 01411000
         SLR   R2,@08                                           03S0482 01412000
*               R1=ADDR(AMD251I)+4;                             03S0483 01413000
         LA    R1,AMD251I                                       03S0483 01414000
         ALR   R1,@08                                           03S0483 01415000
*               CALL PRTMSG;        /* ISSUE MSG TO SYSPRINT         */ 01416000
         L     @15,APRTMSG(,COMBASE)                            03S0484 01417000
         BALR  @14,@15                                          03S0484 01418000
*               IF RDRSW=OFF THEN   /* TELL OPERATOR                 */ 01419000
         TM    RDRSW(COMBASE),B'00000001'                       03S0485 01420000
         BNZ   @RF00485                                         03S0485 01421000
*                 DO;               /* WTOP MF(E,AMD251I)            */ 01422000
*                   RFY                                         03S0487 01423000
*                     GPR01P RSTD;  /* RESTRICT REG 1                */ 01424000
*                   GPR01P=ADDR(AMD251I);/* ADDRESS CONTROL PROGRAM     01425000
*                                      LIST                          */ 01426000
         LA    GPR01P,AMD251I                                   03S0488 01427000
*                   SVC(35);        /* ISSUE WTO SVC                 */ 01428000
         SVC   35                                               03S0489 01429000
*                   RFY                                         03S0490 01430000
*                     GPR01P UNRSTD;/* RELEASE REG 1                 */ 01431000
*                 END;              /* WTOP MF(E,AMD251I)            */ 01432000
*             END;                                              03S0492 01433000
@RF00485 DS    0H                                               03S0493 01434000
*         RESPECIFY                                             03S0493 01435000
*          (R9,                                                 03S0493 01436000
*           R2) UNRESTRICTED;                                   03S0493 01437000
@RF00480 DS    0H                                               03S0493 01438000
@RC00467 DS    0H                                               03S0494 01439000
*       END;                                                    03S0494 01440000
*     BLNK(123)='00'X;              /* RESTORE TRT TABLE             */ 01441000
@RF00463 MVI   BLNK+122(COMBASE),X'00'                          02S0495 01442000
*     TOPICHDR='';                  /* RESTORE FOR NEXT VERB         */ 01443000
         MVI   TOPICHDR(COMBASE),C' '                           02S0496 01444000
         MVC   TOPICHDR+1(9,COMBASE),TOPICHDR(COMBASE)          02S0496 01445000
*     STOPEXIT=STOPSAVE;                                        02S0497 01446000
         MVC   STOPEXIT(4,COMBASE),STOPSAVE                     02S0497 01447000
*     RETURN;                                                   02S0498 01448000
@EL00001 L     @13,4(,@13)                                      02S0498 01449000
@EF00001 DS    0H                                               02S0498 01450000
@ER00001 LM    @14,@12,12(@13)                                  02S0498 01451000
         BR    @14                                              02S0498 01452000
*   END;                                                        02S0499 01453000
*                                                               01S0500 01454000
*/*------------------------------------------------------------------*/ 01455000
*/* INTERNAL PROCEDURES                                              */ 01456000
*/*------------------------------------------------------------------*/ 01457000
*                                                               01S0500 01458000
*                                                               02S0500 01459000
*/*------------------------------------------------------------------*/ 01460000
*/* GET THE ADDRESS RANGES SPECIFIED AND PUT THEM IN A TABLE         */ 01461000
*/*------------------------------------------------------------------*/ 01462000
*                                                               02S0500 01463000
*STORSCAN:                                                      02S0500 01464000
*   PROCEDURE;                                                  02S0500 01465000
STORSCAN STM   @14,@12,@SA00002                                 02S0500 01466000
*   OPSCAN=ON;                                                  02S0501 01467000
         OI    OPSCAN,B'01000000'                               02S0501 01468000
*   DO STOR=1 TO 15 WHILE OPSCAN=ON;                            02S0502 01469000
         LA    STOR,1                                           02S0502 01470000
@DL00502 TM    OPSCAN,B'01000000'                               02S0502 01471000
         BNO   @DC00502                                         02S0502 01472000
*     CALL DELIMSCN;                /* GET NEXT OPERAND              */ 01473000
         BAL   @14,DELIMSCN                                     02S0503 01474000
*     IF DELIMCD=COMA               /* MORE OPERANDS TO COME         */ 01475000
*         |DELIMCD=RPAREN THEN      /* END OF STORAGE LIST           */ 01476000
         L     @04,DELIMCD(,COMBASE)                            02S0504 01477000
         CH    @04,@CH00156                                     02S0504 01478000
         BE    @RT00504                                         02S0504 01479000
         CH    @04,@CH00213                                     02S0504 01480000
         BNE   @RF00504                                         02S0504 01481000
@RT00504 DS    0H                                               02S0505 01482000
*       DO;                                                     02S0505 01483000
*         IF OPSIZE=0 THEN          /* OPERAND WAS OMITTED           */ 01484000
         LTR   OPSIZE,OPSIZE                                    02S0506 01485000
         BNZ   @RF00506                                         02S0506 01486000
*           DO;                                                 02S0507 01487000
*             STATUS=OPOMIT;                                    02S0508 01488000
         MVI   STATUS,X'02'                                     02S0508 01489000
*             OPSCAN=OFF;           /* TERMINATE SCANNING            */ 01490000
         NI    OPSCAN,B'10111111'                               02S0509 01491000
*           END;                                                02S0510 01492000
*         ELSE                                                  02S0511 01493000
*           IF OPSIZE>6 THEN        /* OPERAND IS TO LONG            */ 01494000
         B     @RC00506                                         02S0511 01495000
@RF00506 CH    OPSIZE,@CH00405                                  02S0511 01496000
         BNH   @RF00511                                         02S0511 01497000
*             DO;                                               02S0512 01498000
*               STATUS=OPTOBIG;                                 02S0513 01499000
         MVI   STATUS,X'03'                                     02S0513 01500000
*               OPSCAN=OFF;         /* TERMINATE SCAN                */ 01501000
         NI    OPSCAN,B'10111111'                               02S0514 01502000
*             END;                                              02S0515 01503000
*           ELSE                                                02S0516 01504000
*             DO;                                               02S0516 01505000
         B     @RC00511                                         02S0516 01506000
@RF00511 DS    0H                                               02S0517 01507000
*               CALL NUMCHECK;      /* VALIDITY CHECK FOR NUMBER     */ 01508000
         BAL   @14,NUMCHECK                                     02S0517 01509000
*               IF STATUS=GOOD THEN /* OPERAND IS OK                 */ 01510000
         CLI   STATUS,X'00'                                     02S0518 01511000
         BNE   @RF00518                                         02S0518 01512000
*                 DO;                                           02S0519 01513000
*                   NUMPAIRS=STOR;                              02S0520 01514000
         ST    STOR,NUMPAIRS                                    02S0520 01515000
*                   LOWAD(STOR)=GOODNUM;                        02S0521 01516000
         LR    @15,STOR                                         02S0521 01517000
         SLA   @15,3                                            02S0521 01518000
         L     @00,GOODNUM                                      02S0521 01519000
         ST    @00,LOWAD-8(@15)                                 02S0521 01520000
*                   IF DELIMCD=RPAREN THEN                      02S0522 01521000
         CLC   DELIMCD(4,COMBASE),@CF00213                      02S0522 01522000
         BNE   @RF00522                                         02S0522 01523000
*                     DO;                                       02S0523 01524000
*                       HIAD(STOR)=DEFLTMAX;                    02S0524 01525000
         ST    DEFLTMAX,HIAD-8(@15)                             02S0524 01526000
*                       OPSCAN=OFF; /* TERMINATE SCAN                */ 01527000
         NI    OPSCAN,B'10111111'                               02S0525 01528000
*                     END;                                      02S0526 01529000
*                 END;                                          02S0527 01530000
*               ELSE                /* INVALID NUMERIC               */ 01531000
*                 OPSCAN=OFF;                                   02S0528 01532000
         B     @RC00518                                         02S0528 01533000
@RF00518 NI    OPSCAN,B'10111111'                               02S0528 01534000
*             END;                                              02S0529 01535000
*       END;                                                    02S0530 01536000
*     ELSE                          /* INVALID DELIMITER             */ 01537000
*       DO;                                                     02S0531 01538000
         B     @RC00504                                         02S0531 01539000
@RF00504 DS    0H                                               02S0532 01540000
*         STATUS=INVALDLM;                                      02S0532 01541000
         MVI   STATUS,X'01'                                     02S0532 01542000
*         OPSCAN=OFF;                                           02S0533 01543000
         NI    OPSCAN,B'10111111'                               02S0533 01544000
*       END;                                                    02S0534 01545000
*     IF OPSCAN=ON THEN             /* GET SECOND HALF OF PAIR       */ 01546000
@RC00504 TM    OPSCAN,B'01000000'                               02S0535 01547000
         BNO   @RF00535                                         02S0535 01548000
*       DO;                                                     02S0536 01549000
*         CALL DELIMSCN;                                        02S0537 01550000
         BAL   @14,DELIMSCN                                     02S0537 01551000
*         IF DELIMCD=COMA           /* MORE OPERANDS TO FOLLOW       */ 01552000
*             |DELIMCD=RPAREN THEN  /* END OF OPERANDS               */ 01553000
         L     @04,DELIMCD(,COMBASE)                            02S0538 01554000
         CH    @04,@CH00156                                     02S0538 01555000
         BE    @RT00538                                         02S0538 01556000
         CH    @04,@CH00213                                     02S0538 01557000
         BNE   @RF00538                                         02S0538 01558000
@RT00538 DS    0H                                               02S0539 01559000
*           DO;                                                 02S0539 01560000
*             IF OPSIZE=0 THEN                                  02S0540 01561000
         LTR   OPSIZE,OPSIZE                                    02S0540 01562000
         BNZ   @RF00540                                         02S0540 01563000
*               HIAD(STOR)=DEFLTMAX;                            02S0541 01564000
         LR    @15,STOR                                         02S0541 01565000
         SLA   @15,3                                            02S0541 01566000
         ST    DEFLTMAX,HIAD-8(@15)                             02S0541 01567000
*             ELSE                                              02S0542 01568000
*               IF OPSIZE>6 THEN    /* OPERAND IS TOO BIG            */ 01569000
         B     @RC00540                                         02S0542 01570000
@RF00540 CH    OPSIZE,@CH00405                                  02S0542 01571000
         BNH   @RF00542                                         02S0542 01572000
*                 DO;                                           02S0543 01573000
*                   STATUS=OPTOBIG;                             02S0544 01574000
         MVI   STATUS,X'03'                                     02S0544 01575000
*                   OPSCAN=OFF;     /* TERMINATE SCAN                */ 01576000
         NI    OPSCAN,B'10111111'                               02S0545 01577000
*                 END;                                          02S0546 01578000
*               ELSE                                            02S0547 01579000
*                 DO;                                           02S0547 01580000
         B     @RC00542                                         02S0547 01581000
@RF00542 DS    0H                                               02S0548 01582000
*                   CALL NUMCHECK;  /* VALIDITY CHECK NUMBER         */ 01583000
         BAL   @14,NUMCHECK                                     02S0548 01584000
*                   IF STATUS=GOOD THEN                         02S0549 01585000
         CLI   STATUS,X'00'                                     02S0549 01586000
         BNE   @RF00549                                         02S0549 01587000
*                     DO;                                       02S0550 01588000
*                       HIAD(STOR)=GOODNUM;                     02S0551 01589000
         LR    @15,STOR                                         02S0551 01590000
         SLA   @15,3                                            02S0551 01591000
         L     @00,GOODNUM                                      02S0551 01592000
         ST    @00,HIAD-8(@15)                                  02S0551 01593000
*                     END;                                      02S0552 01594000
*                   ELSE                                        02S0553 01595000
*                     OPSCAN=OFF;                               02S0553 01596000
         B     @RC00549                                         02S0553 01597000
@RF00549 NI    OPSCAN,B'10111111'                               02S0553 01598000
*                 END;                                          02S0554 01599000
@RC00549 DS    0H                                               02S0555 01600000
*             IF DELIMCD=RPAREN THEN                            02S0555 01601000
@RC00542 DS    0H                                               02S0555 01602000
@RC00540 CLC   DELIMCD(4,COMBASE),@CF00213                      02S0555 01603000
         BNE   @RF00555                                         02S0555 01604000
*               OPSCAN=OFF;         /* ALL DONE                      */ 01605000
         NI    OPSCAN,B'10111111'                               02S0556 01606000
*           END;                                                02S0557 01607000
*         ELSE                                                  02S0558 01608000
*           STATUS=INVALDLM;                                    02S0558 01609000
         B     @RC00538                                         02S0558 01610000
@RF00538 MVI   STATUS,X'01'                                     02S0558 01611000
*       END;                                                    02S0559 01612000
@RC00538 DS    0H                                               02S0560 01613000
*     IF STATUS=GOOD&HIAD(STOR)^>LOWAD(STOR) THEN               02S0560 01614000
@RF00535 CLI   STATUS,X'00'                                     02S0560 01615000
         BNE   @RF00560                                         02S0560 01616000
         LR    @15,STOR                                         02S0560 01617000
         SLA   @15,3                                            02S0560 01618000
         L     @00,HIAD-8(@15)                                  02S0560 01619000
         C     @00,LOWAD-8(@15)                                 02S0560 01620000
         BH    @RF00560                                         02S0560 01621000
*       DO;                                                     02S0561 01622000
*         STATUS=BADSRNGE;          /* INVALID RANGE SPECIFIED       */ 01623000
         MVI   STATUS,X'09'                                     02S0562 01624000
*         OPSCAN=OFF;               /* TERMINATE SCAN                */ 01625000
         NI    OPSCAN,B'10111111'                               02S0563 01626000
*       END;                                                    02S0564 01627000
*   END;                                                        02S0565 01628000
@RF00560 AH    STOR,@CH00076                                    02S0565 01629000
         CH    STOR,@CH00055                                    02S0565 01630000
         BNH   @DL00502                                         02S0565 01631000
@DC00502 DS    0H                                               02S0566 01632000
*   IF STATUS=GOOD THEN             /* CHECK LAST DELIMITER          */ 01633000
         CLI   STATUS,X'00'                                     02S0566 01634000
         BNE   @RF00566                                         02S0566 01635000
*     DO;                                                       02S0567 01636000
*       CALL DELIMSCN;                                          02S0568 01637000
         BAL   @14,DELIMSCN                                     02S0568 01638000
*       IF DELIMCD^=BLANK&DELIMCD^=COMA THEN/* INVALID DELIMITER     */ 01639000
         L     @04,DELIMCD(,COMBASE)                            02S0569 01640000
         CH    @04,@CH00240                                     02S0569 01641000
         BE    @RF00569                                         02S0569 01642000
         CH    @04,@CH00156                                     02S0569 01643000
         BE    @RF00569                                         02S0569 01644000
*         STATUS=BADLAST;                                       02S0570 01645000
         MVI   STATUS,X'0A'                                     02S0570 01646000
*       ELSE                        /* DELIMITER IS OK               */ 01647000
*         IF OPSIZE^=0 THEN         /* DELIMITER DOES NOT FOLLOW        01648000
*                                      RPAREN                        */ 01649000
         B     @RC00569                                         02S0571 01650000
@RF00569 LTR   OPSIZE,OPSIZE                                    02S0571 01651000
         BZ    @RF00571                                         02S0571 01652000
*           STATUS=BADLAST;                                     02S0572 01653000
         MVI   STATUS,X'0A'                                     02S0572 01654000
*     END;                                                      02S0573 01655000
*   END STORSCAN;                                               02S0574 01656000
@EL00002 DS    0H                                               02S0574 01657000
@EF00002 DS    0H                                               02S0574 01658000
@ER00002 LM    @14,@12,@SA00002                                 02S0574 01659000
         BR    @14                                              02S0574 01660000
*                                                               02S0575 01661000
*/*------------------------------------------------------------------*/ 01662000
*/* CHECK TO SEE IF ASID IS IN THE PROPER FORMAT                     */ 01663000
*/*------------------------------------------------------------------*/ 01664000
*                                                               02S0575 01665000
*ASIDCHK:                                                       02S0575 01666000
*   PROCEDURE;                                                  02S0575 01667000
ASIDCHK  STM   @14,@12,@SA00003                                 02S0575 01668000
*   IF OPSIZE=0 THEN                /* ASID WAS OMITTED              */ 01669000
         LTR   OPSIZE,OPSIZE                                    02S0576 01670000
         BNZ   @RF00576                                         02S0576 01671000
*     STATUS=ASIDMISS;                                          02S0577 01672000
         MVI   STATUS,X'05'                                     02S0577 01673000
*   ELSE                            /* OZ09684                       */ 01674000
*     IF OPERAND(1:5)='NONUC'|      /* NONUC ENTERED OR OZ09684      */ 01675000
*         OPERAND(1:5)='NOCOM' THEN /* NOCOM ENTERED OZ09684         */ 01676000
         B     @RC00576                                         02S0578 01677000
@RF00576 L     @04,KYWDBGN(,COMBASE)                            02S0578 01678000
         CLC   OPERAND(5,@04),@CC00659                          02S0578 01679000
         BE    @RT00578                                         02S0578 01680000
         CLC   OPERAND(5,@04),@CC00660                          02S0578 01681000
         BNE   @RF00578                                         02S0578 01682000
@RT00578 DS    0H                                               02S0579 01683000
*       DO;                         /* OZ09684                       */ 01684000
*         IF OPSIZE^=5 THEN         /* FIELD NOT 5 IT MUST BE OZ09684*/ 01685000
         CH    OPSIZE,@CH00154                                  02S0580 01686000
         BE    @RF00580                                         02S0580 01687000
*           STATUS=INVALNUM;        /* INVALID OZ09684               */ 01688000
         MVI   STATUS,X'08'                                     02S0581 01689000
*         ELSE                      /* OZ09684                       */ 01690000
*           DO;                     /* OMIT VERB ENTERED OZ09684     */ 01691000
         B     @RC00580                                         02S0582 01692000
@RF00580 DS    0H                                               02S0583 01693000
*             IF OPERAND(1:5)='NONUC' THEN/* NONUC ENTERED OZ09684   */ 01694000
         L     @04,KYWDBGN(,COMBASE)                            02S0583 01695000
         CLC   OPERAND(5,@04),@CC00659                          02S0583 01696000
         BNE   @RF00583                                         02S0583 01697000
*               A1NUC=ON;           /* INDICATE OMIT NUCLEUS OZ09684 */ 01698000
         OI    A1NUC,B'10000000'                                02S0584 01699000
*             ELSE                  /* OZ09684                       */ 01700000
*               IF OPERAND(1:5)='NOCOM' THEN/* NOCOM ENTERED OZ09684 */ 01701000
         B     @RC00583                                         02S0585 01702000
@RF00583 L     @04,KYWDBGN(,COMBASE)                            02S0585 01703000
         CLC   OPERAND(5,@04),@CC00660                          02S0585 01704000
         BNE   @RF00585                                         02S0585 01705000
*                 A1COM=ON;         /* INDICATE OMIT COMMON AREA        01706000
*                                      OZ09684                       */ 01707000
         OI    A1COM,B'10000000'                                02S0586 01708000
*           END;                    /* OMIT VERB ENTERED OZ09684     */ 01709000
*       END;                        /* OZ09684                       */ 01710000
*     ELSE                          /* OZ09684                       */ 01711000
*       IF OPSIZE>ASIDLGT THEN      /* ASID IS TOO LONG              */ 01712000
         B     @RC00578                                         02S0589 01713000
@RF00578 CH    OPSIZE,@CH00156                                  02S0589 01714000
         BNH   @RF00589                                         02S0589 01715000
*         STATUS=ASIDBIG;                                       02S0590 01716000
         MVI   STATUS,X'06'                                     02S0590 01717000
*       ELSE                                                    02S0591 01718000
*         DO;                                                   02S0591 01719000
         B     @RC00589                                         02S0591 01720000
@RF00589 DS    0H                                               02S0592 01721000
*           CALL NUMCHECK;                                      02S0592 01722000
         BAL   @14,NUMCHECK                                     02S0592 01723000
*           IF STATUS=GOOD THEN                                 02S0593 01724000
         CLI   STATUS,X'00'                                     02S0593 01725000
         BNE   @RF00593                                         02S0593 01726000
*             DO;                                               02S0594 01727000
*               THISASID=GOODNUM;                               02S0595 01728000
         L     @04,GOODNUM                                      02S0595 01729000
         STH   @04,THISASID                                     02S0595 01730000
*               IF THISASID=0|THISASID=ASIDFFFF THEN            02S0596 01731000
         LTR   @04,@04                                          02S0596 01732000
         BZ    @RT00596                                         02S0596 01733000
         CLC   THISASID(2),@CB00467                             02S0596 01734000
         BNE   @RF00596                                         02S0596 01735000
@RT00596 DS    0H                                               02S0597 01736000
*                 STATUS=ASIDNOTL;                              02S0597 01737000
         MVI   STATUS,X'07'                                     02S0597 01738000
*             END;                                              02S0598 01739000
*         END;                                                  02S0599 01740000
*   END ASIDCHK;                                                02S0600 01741000
@EL00003 DS    0H                                               02S0600 01742000
@EF00003 DS    0H                                               02S0600 01743000
@ER00003 LM    @14,@12,@SA00003                                 02S0600 01744000
         BR    @14                                              02S0600 01745000
*                                                               02S0601 01746000
*/*------------------------------------------------------------------*/ 01747000
*/* THIS ROUTINE CHECKS TO SEE IF AN ADDRESS OR AN ASID IS A VALID   */ 01748000
*/* NUMBER.                                                          */ 01749000
*/*------------------------------------------------------------------*/ 01750000
*                                                               02S0601 01751000
*NUMCHECK:                                                      02S0601 01752000
*   PROCEDURE;                                                  02S0601 01753000
NUMCHECK STM   @14,@12,12(@13)                                  02S0601 01754000
*   DO NUM=1 TO OPSIZE WHILE STATUS=GOOD;/* CHECK EACH DIGIT         */ 01755000
         LA    NUM,1                                            02S0602 01756000
         B     @DE00602                                         02S0602 01757000
@DL00602 CLI   STATUS,X'00'                                     02S0602 01758000
         BNE   @DC00602                                         02S0602 01759000
*     IF OPERAND(NUM)>='0'&OPERAND(NUM)<='9'|OPERAND(NUM)>='A'&OPERAND( 01760000
*         NUM)<='F' THEN                                        02S0603 01761000
         L     @04,KYWDBGN(,COMBASE)                            02S0603 01762000
         LR    @03,@04                                          02S0603 01763000
         ALR   @03,NUM                                          02S0603 01764000
         AL    @03,@CF00705                                     02S0603 01765000
         CLI   OPERAND(@03),C'0'                                02S0603 01766000
         BL    @GL00031                                         02S0603 01767000
         ALR   @04,NUM                                          02S0603 01768000
         AL    @04,@CF00705                                     02S0603 01769000
         CLI   OPERAND(@04),C'9'                                02S0603 01770000
         BNH   @RT00603                                         02S0603 01771000
@GL00031 L     @04,KYWDBGN(,COMBASE)                            02S0603 01772000
         LR    @03,@04                                          02S0603 01773000
         ALR   @03,NUM                                          02S0603 01774000
         AL    @03,@CF00705                                     02S0603 01775000
         CLI   OPERAND(@03),C'A'                                02S0603 01776000
         BL    @RF00603                                         02S0603 01777000
         ALR   @04,NUM                                          02S0603 01778000
         AL    @04,@CF00705                                     02S0603 01779000
         CLI   OPERAND(@04),C'F'                                02S0603 01780000
         BNH   @RT00603                                         02S0603 01781000
*       ;                           /* GOOD NUMBER                   */ 01782000
*     ELSE                          /* INPUT IS NOT NUMERIC          */ 01783000
*       STATUS=INVALNUM;                                        02S0605 01784000
@RF00603 MVI   STATUS,X'08'                                     02S0605 01785000
*   END;                                                        02S0606 01786000
@RT00603 AH    NUM,@CH00076                                     02S0606 01787000
@DE00602 CR    NUM,OPSIZE                                       02S0606 01788000
         BNH   @DL00602                                         02S0606 01789000
@DC00602 DS    0H                                               02S0607 01790000
*   IF STATUS=GOOD THEN             /* CONVERT NUMBER TO BINARY      */ 01791000
         CLI   STATUS,X'00'                                     02S0607 01792000
         BNE   @RF00607                                         02S0607 01793000
*     DO;                                                       02S0608 01794000
*       TR(OPERAND(1:OPSIZE),HEXTABL);                          02S0609 01795000
         L     @04,KYWDBGN(,COMBASE)                            02S0609 01796000
         LR    @15,OPSIZE                                       02S0609 01797000
         BCTR  @15,0                                            02S0609 01798000
         EX    @15,@SB00706                                     02S0609 01799000
*       CHARWORK='      ';                                      02S0610 01800000
         MVC   CHARWORK(6),@CC00668                             02S0610 01801000
*       CHARWORK((7-OPSIZE):6)=OPERAND(1:OPSIZE);               02S0611 01802000
         LA    @15,7                                            02S0611 01803000
         SLR   @15,OPSIZE                                       02S0611 01804000
         LA    @14,CHARWORK-1(@15)                              02S0611 01805000
         LCR   @15,@15                                          02S0611 01806000
         AH    @15,@CH00405                                     02S0611 01807000
         EX    @15,@SM00708                                     02S0611 01808000
*       PACK(THISNUM2,CHARWORK);                                02S0612 01809000
         PACK  THISNUM2(4),CHARWORK(6)                          02S0612 01810000
*       MVO(THISNUM3,THISNUM2);                                 02S0613 01811000
         MVO   THISNUM3(5),THISNUM2(4)                          02S0613 01812000
*     END;                                                      02S0614 01813000
*   END NUMCHECK;                                               02S0615 01814000
@EL00004 DS    0H                                               02S0615 01815000
@EF00004 DS    0H                                               02S0615 01816000
@ER00004 LM    @14,@12,12(@13)                                  02S0615 01817000
         BR    @14                                              02S0615 01818000
*                                                               02S0616 01819000
*/*------------------------------------------------------------------*/ 01820000
*/* ROUTINE TO SCAN FOR THE NEXT DELIMITER AND RETURN THE SIZE       */ 01821000
*/* AND ADDRESS OF THE OPERAND                                       */ 01822000
*/*------------------------------------------------------------------*/ 01823000
*                                                               02S0616 01824000
*DELIMSCN:                                                      02S0616 01825000
*   PROCEDURE;                                                  02S0616 01826000
DELIMSCN STM   @14,@04,12(@13)                                  02S0616 01827000
         STM   @06,@12,44(@13)                                  02S0616 01828000
*   RESPECIFY                                                   02S0617 01829000
*    (R2,                                                       02S0617 01830000
*     R0) RESTRICTED;                                           02S0617 01831000
*   KYWDBGN=KYWDEND+1;              /* START WITH CHAR AFTER LAST       01832000
*                                      DELIM                         */ 01833000
         LA    @04,1                                            02S0618 01834000
         AL    @04,KYWDEND(,COMBASE)                            02S0618 01835000
         ST    @04,KYWDBGN(,COMBASE)                            02S0618 01836000
*   R1=0;                                                       02S0619 01837000
         SLR   @04,@04                                          02S0619 01838000
         LR    R1,@04                                           02S0619 01839000
*   R2=0;                                                       02S0620 01840000
         LR    R2,@04                                           02S0620 01841000
*   TRT(OPERAND,BLNK);              /* SCAN FOR DELIMITER            */ 01842000
         L     @03,KYWDBGN(,COMBASE)                            02S0621 01843000
         TRT   OPERAND(68,@03),BLNK(COMBASE)                    02S0621 01844000
*   KYWDEND=R1;                     /* ADDRESS OF DELIMITER          */ 01845000
         ST    R1,KYWDEND(,COMBASE)                             02S0622 01846000
*   DELIMCD=R2;                     /* DELIMITER CODE NUMBER         */ 01847000
         ST    R2,DELIMCD(,COMBASE)                             02S0623 01848000
*   OPSIZE=KYWDEND-KYWDBGN;         /* SIZE OF THE OPERAND           */ 01849000
         L     @03,KYWDEND(,COMBASE)                            02S0624 01850000
         SL    @03,KYWDBGN(,COMBASE)                            02S0624 01851000
         LR    OPSIZE,@03                                       02S0624 01852000
*   RESPECIFY                                                   02S0625 01853000
*    (R2,                                                       02S0625 01854000
*     R0) UNRESTRICTED;                                         02S0625 01855000
*   RETURN;                                                     02S0626 01856000
@EL00005 DS    0H                                               02S0626 01857000
@EF00005 DS    0H                                               02S0626 01858000
@ER00005 LM    @14,@04,12(@13)                                  02S0626 01859000
         LM    @06,@12,44(@13)                                  02S0626 01860000
         BR    @14                                              02S0626 01861000
*   END DELIMSCN;                                               02S0627 01862000
*                                                               02S0628 01863000
*/*------------------------------------------------------------------*/ 01864000
*/* PMSSTOP IS ENTERED ASYNCHRONOUSLY AFTER A BRWRITE IF THE OPER    */ 01865000
*/* REQUESTED THAT PRDMP STOP PROCESSING                             */ 01866000
*/*------------------------------------------------------------------*/ 01867000
*                                                               02S0628 01868000
*PMSSTOP:                                                       02S0628 01869000
*   GENERATE REFS(PMSSAVE);                                     02S0628 01870000
PMSSTOP  DS    0H                                               02S0628 01871000
              USING *,R15         SET UP ADDRESSABILITY                 01872000
              L     R13,PMSSAVE                                         01873000
              LM    R14,R12,12(R13)                                     01874000
              DROP R15                                                  01875000
*   DO WHILE PCBPTR^=0;             /* PURGE THE PCB QUEUE           */ 01876000
         B     @DE00629                                         02S0629 01877000
@DL00629 DS    0H                                               02S0630 01878000
*     R1=ADDR(PCBPL);                                           02S0630 01879000
         LA    R1,PCBPL                                         02S0630 01880000
*     PCBPFUNC=PCBPDEQ;                                         02S0631 01881000
         OI    PCBPFUNC,B'10000000'                             02S0631 01882000
*     CALL AMDPRPCB;                                            02S0632 01883000
         L     @15,APCBENQ(,COMBASE)                            02S0632 01884000
         BALR  @14,@15                                          02S0632 01885000
*   END;                                                        02S0633 01886000
@DE00629 ICM   @00,15,PCBPTR(COMBASE)                           02S0633 01887000
         BNZ   @DL00629                                         02S0633 01888000
*   STOPEXIT=STOPSAVE;              /* RESTORE PREVIOUS STOP RTN     */ 01889000
         L     @15,STOPSAVE                                     02S0634 01890000
         ST    @15,STOPEXIT(,COMBASE)                           02S0634 01891000
*   RESPECIFY                                                   02S0635 01892000
*     R15 RESTRICTED;                                           02S0635 01893000
*   R15=STOPSAVE;                   /* ADDRESS OF PREVIOUS STOP EXIT */ 01894000
         L     @14,STOPSAVE                                     02S0636 01895000
         LR    R15,@14                                          02S0636 01896000
*   GO TO R15;                      /* PERCOLATE TO PREVIOUS STOP       01897000
*                                      EXIT                          */ 01898000
         BR    R15                                              02S0637 01899000
*   RESPECIFY                                                   02S0638 01900000
*     R15 UNRESTRICTED;                                         02S0638 01901000
*                                                               01S0639 01902000
*/*------------------------------------------------------------------*/ 01903000
*/* THE FOLLOWING DECLARES ARE GENERATED BY THE EPILOG MACRO AND     */ 01904000
*/* ARE USED BY ANY PLS VERSIONS OF SYSTEM MACROS                    */ 01905000
*/*------------------------------------------------------------------*/ 01906000
*                                                               01S0639 01907000
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */ 01908000
*     GPR01P PTR(31) REG(1);                                    01S0639 01909000
*   DECLARE                         /* COMMON VARIABLES              */ 01910000
*     I256C CHAR(256) BASED,                                    01S0640 01911000
*     I031F FIXED(31) BASED,                                    01S0640 01912000
*     I031P PTR(31) BASED,                                      01S0640 01913000
*     I015F FIXED(15) BASED,                                    01S0640 01914000
*     I015P PTR(15) BASED,                                      01S0640 01915000
*     I008P PTR(8) BASED,                                       01S0640 01916000
*     I001C CHAR(1) BASED;                                      01S0640 01917000
*   END AMDPRPMS                                                01S0641 01918000
*                                                               01S0641 01919000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 01920000
*/*%INCLUDE SYSUT5  (PROLOG  )                                       */ 01921000
*/*%INCLUDE SYSUT5  (DECLARES)                                       */ 01922000
*/*%INCLUDE SYSLIB  (COMMON  )                                       */ 01923000
*/*%INCLUDE SYSLIB  (AMDPCBPL)                                       */ 01924000
*/*%INCLUDE SYSUT5  (INIT    )                                       */ 01925000
*/*%INCLUDE SYSUT5  (GETBNDS )                                       */ 01926000
*/*%INCLUDE SYSUT5  (DEFALTID)                                       */ 01927000
*/*%INCLUDE SYSUT5  (DEFALTID)                                       */ 01928000
*/*%INCLUDE SYSUT5  (ALLSTOR )                                       */ 01929000
*/*%INCLUDE SYSUT5  (ALLSTOR )                                       */ 01930000
*/*%INCLUDE SYSUT5  (ALLSTOR )                                       */ 01931000
*/*%INCLUDE SYSUT5  (GETASIDS)                                       */ 01932000
*/*%INCLUDE SYSUT5  (ASIDEND )                                       */ 01933000
*/*%INCLUDE SYSUT5  (BREAKOUT)                                       */ 01934000
*/*%INCLUDE SYSUT5  (PRNTSTOR)                                       */ 01935000
*/*%INCLUDE SYSUT5  (IDINDUMP)                                       */ 01936000
*/*%INCLUDE SYSUT5  (ASIDMSG )                                       */ 01937000
*/*%INCLUDE SYSUT5  (ASIDHDR )                                       */ 01938000
*/*%INCLUDE SYSUT5  (VIRTERR )                                       */ 01939000
*/*%INCLUDE SYSUT5  (PRNTREAL)                                       */ 01940000
*/*%INCLUDE SYSUT5  (REALERR )                                       */ 01941000
*/*%INCLUDE SYSUT5  (CLEANUP )                                       */ 01942000
*/*%INCLUDE SYSUT5  (ENVIRONM)                                       */ 01943000
*/*%INCLUDE SYSUT5  (STORSCAN)                                       */ 01944000
*/*%INCLUDE SYSUT5  (ASIDCHK )                                       */ 01945000
*/*%INCLUDE SYSUT5  (NUMCHECK)                                       */ 01946000
*/*%INCLUDE SYSUT5  (DELIMSCN)                                       */ 01947000
*/*%INCLUDE SYSUT5  (PMSSTOP )                                       */ 01948000
*                                                               01S0641 01949000
*       ;                                                       01S0641 01950000
@DATA    DS    0H                                                       01951000
@CH00057 DC    H'2'                                                     01952000
@CH00156 DC    H'4'                                                     01953000
@CH00154 DC    H'5'                                                     01954000
@CH00405 DC    H'6'                                                     01955000
@CH00240 DC    H'12'                                                    01956000
@CH00055 DC    H'15'                                                    01957000
@CH00366 DC    H'18'                                                    01958000
@SB00706 TR    OPERAND(0,@04),HEXTABL(COMBASE)                          01959000
@SM00708 MVC   0(0,@14),OPERAND(@04)                                    01960000
         DS    0F                                                       01961000
@SA00001 DS    18F                                                      01962000
@SA00003 DS    15F                                                      01963000
@SA00002 DS    15F                                                      01964000
         DS    0F                                                       01965000
@CF00076 DC    F'1'                                                     01966000
@CH00076 EQU   @CF00076+2                                               01967000
@CF00043 DC    F'8'                                                     01968000
@CF00183 DC    F'16'                                                    01969000
@CF00213 DC    F'20'                                                    01970000
@CH00213 EQU   @CF00213+2                                               01971000
@CF00222 DC    F'24'                                                    01972000
@CF00705 DC    F'-1'                                                    01973000
@CF00465 DC    XL4'00FFFFFF'                                            01974000
         DS    0D                                                       01975000
GOODNUM  DS    AL4                                                      01976000
         ORG   GOODNUM                                                  01977000
THISNUM3 DS    CL5                                                      01978000
         ORG   GOODNUM+5                                                01979000
         DS    CL3                                                      01980000
PMSSAVE  DS    A                                                        01981000
STOPSAVE DS    A                                                        01982000
MSGADDR  DS    A                                                        01983000
@CC00668 DC    C'      '                                                01984000
@CC00659 DC    C'NONUC'                                                 01985000
@CC00660 DC    C'NOCOM'                                                 01986000
@CC00460 DC    C'ASID'                                                  01987000
@CB00467 DC    X'FFFF'                                                  01988000
@CB00644 DC    X'FFFD'                                                  01989000
@CB00645 DC    X'FFFE'                                                  01990000
         DS    CL2                                                      01991000
PCBPL    DS    CL12                                                     01992000
         ORG   PCBPL                                                    01993000
PCBPBGN  DS    AL4                                                      01994000
PCBPEND  DS    AL4                                                      01995000
PCBPASID DS    BL2                                                      01996000
PCBPFLG1 DS    CL1                                                      01997000
         ORG   PCBPFLG1                                                 01998000
PCBPVIRT DS    BL1                                                      01999000
PCBPREAL EQU   PCBPFLG1+0                                               02000000
PCBPLOWC EQU   PCBPFLG1+0                                               02001000
PCBPTOPC EQU   PCBPFLG1+0                                               02002000
@NM00049 EQU   PCBPFLG1+0                                               02003000
         ORG   PCBPL+11                                                 02004000
PCBPFLG2 DS    CL1                                                      02005000
         ORG   PCBPFLG2                                                 02006000
PCBPFUNC DS    BL1                                                      02007000
@NM00050 EQU   PCBPFLG2+0                                               02008000
         ORG   PCBPL+12                                                 02009000
STATUS   DS    CL1                                                      02010000
SWITCHES DS    CL1                                                      02011000
         ORG   SWITCHES                                                 02012000
ENVIRON  DS    BL1                                                      02013000
OPSCAN   EQU   SWITCHES+0                                               02014000
ASIDSCN  EQU   SWITCHES+0                                               02015000
TITLSW   EQU   SWITCHES+0                                               02016000
ASIDTHER EQU   SWITCHES+0                                               02017000
ASIDFND  EQU   SWITCHES+0                                               02018000
ASIDNOTF EQU   SWITCHES+0                                               02019000
ASIDSRCH EQU   SWITCHES+0                                               02020000
         ORG   SWITCHES+1                                               02021000
PMSVTITL DC    CL57'* * * *  V I R T U A L  S T O R A G E  P R I N T  *C02022000
                * * *'                                                  02023000
PMSRTITL DC    CL52'* * * *  R E A L  S T O R A G E  P R I N T  * * * *C02024000
               '                                                        02025000
HDRSAVE  DC    CL10' '                                                  02026000
         DS    CL3                                                      02027000
TABLASID DS    CL124                                                    02028000
         ORG   TABLASID                                                 02029000
NUMASID  DS    FL4                                                      02030000
@NM00052 DS    CL4                                                      02031000
         ORG   @NM00052+0                                               02032000
STASID   DS    BL2                                                      02033000
ENDASID  DS    BL2                                                      02034000
         ORG   TABLASID+124                                             02035000
TABLADS  DS    CL124                                                    02036000
         ORG   TABLADS                                                  02037000
NUMPAIRS DS    FL4                                                      02038000
@NM00053 DS    CL8                                                      02039000
         ORG   @NM00053+0                                               02040000
LOWAD    DS    AL4                                                      02041000
HIAD     DS    AL4                                                      02042000
         ORG   TABLADS+124                                              02043000
TABLLOW  DS    CL124                                                    02044000
         ORG   TABLLOW                                                  02045000
NUMLOW   DS    FL4                                                      02046000
@NM00054 DS    CL8                                                      02047000
         ORG   @NM00054+0                                               02048000
LOSTART  DS    AL4                                                      02049000
LOEND    DS    AL4                                                      02050000
         ORG   TABLLOW+124                                              02051000
TABLMID  DS    CL84                                                     02052000
         ORG   TABLMID                                                  02053000
NUMMID   DS    FL4                                                      02054000
@NM00055 DS    CL8                                                      02055000
         ORG   @NM00055+0                                               02056000
MIDSTART DS    AL4                                                      02057000
MIDEND   DS    AL4                                                      02058000
         ORG   TABLMID+84                                               02059000
TABLHI   DS    CL84                                                     02060000
         ORG   TABLHI                                                   02061000
NUMHI    DS    FL4                                                      02062000
@NM00056 DS    CL8                                                      02063000
         ORG   @NM00056+0                                               02064000
HISTART  DS    AL4                                                      02065000
HIEND    DS    AL4                                                      02066000
         ORG   TABLHI+84                                                02067000
ASID     DS    BL2                                                      02068000
NUCLEUS  DC    CL7'NUCLEUS'                                             02069000
ASIDCHAR DC    CL4'ASID'                                                02070000
COMMN    DC    CL6'COMMON'                                              02071000
         DS    CL1                                                      02072000
THISASID DS    BL2                                                      02073000
CHARWORK DS    CL6                                                      02074000
THISNUM2 DS    CL4                                                      02075000
DELIMR   DS    CL47                                                     02076000
         ORG   DELIMR                                                   02077000
DELIMR01 DC    H'43'                                                    02078000
DELIMR02 DC    B'1000000000000000'                                      02079000
DELIMR03 DC    CL39'        DELIMITER ERROR IN REAL OPERAND'            02080000
DELIMR04 DC    B'0000001000000000'                                      02081000
DELIMR05 DC    B'0100000000000000'                                      02082000
         ORG   DELIMR+47                                                02083000
         DS    CL1                                                      02084000
DELIMS   DS    CL50                                                     02085000
         ORG   DELIMS                                                   02086000
DELIMS01 DC    H'46'                                                    02087000
DELIMS02 DC    B'1000000000000000'                                      02088000
DELIMS03 DC    CL42'        DELIMITER ERROR IN STORAGE OPERAND'         02089000
DELIMS04 DC    B'0000001000000000'                                      02090000
DELIMS05 DC    B'0100000000000000'                                      02091000
         ORG   DELIMS+50                                                02092000
         DS    CL2                                                      02093000
TOBIGS   DS    CL56                                                     02094000
         ORG   TOBIGS                                                   02095000
TOBIGS01 DC    H'52'                                                    02096000
TOBIGS02 DC    B'1000000000000000'                                      02097000
TOBIGS03 DC    CL48'        LENGTH OF STORAGE ADDRESS GREATER THAN 6'   02098000
TOBIGS04 DC    B'0000001000000000'                                      02099000
TOBIGS05 DC    B'0100000000000000'                                      02100000
         ORG   TOBIGS+56                                                02101000
TOBIGR   DS    CL53                                                     02102000
         ORG   TOBIGR                                                   02103000
TOBIGR01 DC    H'49'                                                    02104000
TOBIGR02 DC    B'1000000000000000'                                      02105000
TOBIGR03 DC    CL45'        LENGTH OF REAL ADDRESS GREATER THAN 6'      02106000
TOBIGR04 DC    B'0000001000000000'                                      02107000
TOBIGR05 DC    B'0100000000000000'                                      02108000
         ORG   TOBIGR+53                                                02109000
         DS    CL3                                                      02110000
OPMISS   DS    CL51                                                     02111000
         ORG   OPMISS                                                   02112000
OPMISS01 DC    H'47'                                                    02113000
OPMISS02 DC    B'1000000000000000'                                      02114000
OPMISS03 DC    CL43'        STARTING OMITTED IN STORAGE OPERAND'        02115000
OPMISS04 DC    B'0000001000000000'                                      02116000
OPMISS05 DC    B'0100000000000000'                                      02117000
         ORG   OPMISS+51                                                02118000
         DS    CL1                                                      02119000
OPMISR   DS    CL48                                                     02120000
         ORG   OPMISR                                                   02121000
OPMISR01 DC    H'44'                                                    02122000
OPMISR02 DC    B'1000000000000000'                                      02123000
OPMISR03 DC    CL40'        STARTING OMITTED IN REAL OPERAND'           02124000
OPMISR04 DC    B'0000001000000000'                                      02125000
OPMISR05 DC    B'0100000000000000'                                      02126000
         ORG   OPMISR+48                                                02127000
BADNMR   DS    CL47                                                     02128000
         ORG   BADNMR                                                   02129000
BADNMR01 DC    H'43'                                                    02130000
BADNMR02 DC    B'1000000000000000'                                      02131000
BADNMR03 DC    CL39'        INVALID NUMERIC IN REAL OPERAND'            02132000
BADNMR04 DC    B'0000001000000000'                                      02133000
BADNMR05 DC    B'0100000000000000'                                      02134000
         ORG   BADNMR+47                                                02135000
         DS    CL1                                                      02136000
BADNMS   DS    CL50                                                     02137000
         ORG   BADNMS                                                   02138000
BADNMS01 DC    H'46'                                                    02139000
BADNMS02 DC    B'1000000000000000'                                      02140000
BADNMS03 DC    CL42'        INVALID NUMERIC IN STORAGE OPERAND'         02141000
BADNMS04 DC    B'0000001000000000'                                      02142000
BADNMS05 DC    B'0100000000000000'                                      02143000
         ORG   BADNMS+50                                                02144000
         DS    CL2                                                      02145000
SRNGE    DS    CL64                                                     02146000
         ORG   SRNGE                                                    02147000
SRNGE01  DC    H'60'                                                    02148000
SRNGE02  DC    B'1000000000000000'                                      02149000
SRNGE03  DC    CL56'        STARTING ADDRESS IS NOT LESS THAN ENDING ADC02150000
               DRESS'                                                   02151000
SRNGE04  DC    B'0000001000000000'                                      02152000
SRNGE05  DC    B'0100000000000000'                                      02153000
         ORG   SRNGE+64                                                 02154000
ASNOTL   DS    CL45                                                     02155000
         ORG   ASNOTL                                                   02156000
ASNOTL01 DC    H'41'                                                    02157000
ASNOTL02 DC    B'1000000000000000'                                      02158000
ASNOTL03 DC    CL37'        ASID 0 OR FFFF IS NOT ALLOWED'              02159000
ASNOTL04 DC    B'0000001000000000'                                      02160000
ASNOTL05 DC    B'0100000000000000'                                      02161000
         ORG   ASNOTL+45                                                02162000
         DS    CL3                                                      02163000
BGASID   DS    CL48                                                     02164000
         ORG   BGASID                                                   02165000
BGASID01 DC    H'44'                                                    02166000
BGASID02 DC    B'1000000000000000'                                      02167000
BGASID03 DC    CL40'        LENGTH OF ASID IS GREATER THAN 4'           02168000
BGASID04 DC    B'0000001000000000'                                      02169000
BGASID05 DC    B'0100000000000000'                                      02170000
         ORG   BGASID+48                                                02171000
ARNGE    DS    CL70                                                     02172000
         ORG   ARNGE                                                    02173000
ARNGE01  DC    H'66'                                                    02174000
ARNGE02  DC    B'1000000000000000'                                      02175000
ARNGE03  DC    CL62'        STARTING ASID IS NOT LESS THAN OR EQUAL TO C02176000
               ENDING ASID'                                             02177000
ARNGE04  DC    B'0000001000000000'                                      02178000
ARNGE05  DC    B'0100000000000000'                                      02179000
         ORG   ARNGE+70                                                 02180000
         DS    CL2                                                      02181000
ASMISS   DS    CL38                                                     02182000
         ORG   ASMISS                                                   02183000
ASMISS01 DC    H'34'                                                    02184000
ASMISS02 DC    B'1000000000000000'                                      02185000
ASMISS03 DC    CL30'        ASID OMITTED FROM LIST'                     02186000
ASMISS04 DC    B'0000001000000000'                                      02187000
ASMISS05 DC    B'0100000000000000'                                      02188000
         ORG   ASMISS+38                                                02189000
A1NUC    DC    B'00000000'                                              02190000
A1COM    DC    B'00000000'                                              02191000
PATCH    DC    70F'0'                                                   02192000
AMDPRPMS CSECT                                                          02193000
*                                                                       02194000
DTAE     EQU   32                  DATA EBCDIC BIT                      02195000
DTAC     EQU   16                  DATA IN CORE BIT                     02196000
DTAP     EQU   8                   DATA PTR BIT                         02197000
DTA      EQU   4                   DATA INCLUDED BIT                    02198000
LBLP     EQU   2                   LABEL PTR BIT                        02199000
LBL      EQU   1                   LABEL INCLUDED BIT                   02200000
AMDPRPMS CSECT                                                          02201000
         SYNEPS                                                         02202000
AMDPRPMS CSECT                                                          02203000
APMX     DC   V(AMDPRPMX)                                               02204000
AMDPRPMX CSECT                                                          02205000
AMD251I  WTO   'AMD251I INPUT FILE DOES NOT CONTAIN A REAL OR VIRTUAL DX02206000
               UMP',MF=L,ROUTCDE=(2),DESC=7                             02207000
AMD252I  WTO   'AMD252I INPUT FILE DOES NOT CONTAIN A REAL DUMP',MF=L, X02208000
               ROUTCDE=(2),DESC=7                                       02209000
AMD282I  WTO   'AMD282I SOME ASIDS COULD NOT BE FOUND',MF=L,           *02210000
               ROUTCDE=(2),DESC=7                                       02211000
AMD295I  WTO   'AMD295I NONE OF THE SPECIFIED ASIDS COULD BE FOUND',   *02212000
               MF=L,ROUTCDE=(2),DESC=7                                  02213000
AMDPRPMS CSECT                                                          02214000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02215000
@01      EQU   01                                                       02216000
@02      EQU   02                                                       02217000
@03      EQU   03                                                       02218000
@04      EQU   04                                                       02219000
@05      EQU   05                                                       02220000
@06      EQU   06                                                       02221000
@07      EQU   07                                                       02222000
@08      EQU   08                                                       02223000
@09      EQU   09                                                       02224000
@10      EQU   10                                                       02225000
@11      EQU   11                                                       02226000
@12      EQU   12                                                       02227000
@13      EQU   13                                                       02228000
@14      EQU   14                                                       02229000
@15      EQU   15                                                       02230000
DEFLTMAX EQU   @03                                                      02231000
REAL     EQU   @02                                                      02232000
SRCH     EQU   @05                                                      02233000
STOR     EQU   @02                                                      02234000
BRK      EQU   @02                                                      02235000
NUM      EQU   @02                                                      02236000
ANTRY    EQU   @03                                                      02237000
HI       EQU   @02                                                      02238000
MID      EQU   @02                                                      02239000
LOW      EQU   @02                                                      02240000
LOWBOUND EQU   @07                                                      02241000
HIBOUND  EQU   @06                                                      02242000
OPSIZE   EQU   @05                                                      02243000
ASMAPPTR EQU   @02                                                      02244000
INDXADDR EQU   @02                                                      02245000
BASE1    EQU   @11                                                      02246000
BASE2    EQU   @10                                                      02247000
R0       EQU   @00                                                      02248000
R1       EQU   @01                                                      02249000
R2       EQU   @02                                                      02250000
R9       EQU   @09                                                      02251000
R13      EQU   @13                                                      02252000
R15      EQU   @15                                                      02253000
COMBASE  EQU   @12                                                      02254000
GPR01P   EQU   @01                                                      02255000
BASE3    EQU   @09                                                      02256000
BUFREG   EQU   @06                                                      02257000
CNTREG   EQU   @03                                                      02258000
LINEREG  EQU   @08                                                      02259000
PREG     EQU   @01                                                      02260000
R10      EQU   @10                                                      02261000
R11      EQU   @11                                                      02262000
R12      EQU   @12                                                      02263000
R14      EQU   @14                                                      02264000
R3       EQU   @03                                                      02265000
R4       EQU   @04                                                      02266000
R5       EQU   @05                                                      02267000
R6       EQU   @06                                                      02268000
R7       EQU   @07                                                      02269000
R8       EQU   @08                                                      02270000
STOPBASE EQU   @05                                                      02271000
COMMON   EQU   0                                                        02272000
KYWDBGN  EQU   COMMON+12                                                02273000
KYWDEND  EQU   COMMON+16                                                02274000
DELIMCD  EQU   COMMON+20                                                02275000
NUCTOP   EQU   COMMON+32                                                02276000
CURBUF   EQU   COMMON+48                                                02277000
PCBPTR   EQU   COMMON+60                                                02278000
SWA      EQU   COMMON+122                                               02279000
RDRSW    EQU   SWA                                                      02280000
SWB      EQU   COMMON+123                                               02281000
SWC      EQU   COMMON+124                                               02282000
SWD      EQU   COMMON+125                                               02283000
FLSHMODE EQU   SWD                                                      02284000
GPRSFND  EQU   SWD                                                      02285000
SWE      EQU   COMMON+126                                               02286000
SWF      EQU   COMMON+127                                               02287000
BUFSW    EQU   COMMON+128                                               02288000
PRSW     EQU   COMMON+129                                               02289000
PRNTRL   EQU   PRSW                                                     02290000
TABLE    EQU   COMMON+659                                               02291000
HEXTABL  EQU   TABLE+63                                                 02292000
EBCTABL  EQU   HEXTABL+10                                               02293000
BLNK     EQU   COMMON+988                                               02294000
AWRITE   EQU   COMMON+1500                                              02295000
APRTMSG  EQU   COMMON+1504                                              02296000
ASYNTAX  EQU   COMMON+1508                                              02297000
STOPEXIT EQU   COMMON+1528                                              02298000
SYNMSGA  EQU   COMMON+1532                                              02299000
APCBENQ  EQU   COMMON+1560                                              02300000
APRTSTG  EQU   COMMON+1572                                              02301000
DCBADDRS EQU   COMMON+1608                                              02302000
@NM00042 EQU   DCBADDRS+16                                              02303000
@NM00043 EQU   @NM00042                                                 02304000
REALMAP  EQU   COMMON+1644                                              02305000
REALMAX  EQU   COMMON+1652                                              02306000
QASID    EQU   COMMON+1664                                              02307000
ASIDNDX  EQU   COMMON+1968                                              02308000
ASCBMAP  EQU   COMMON+1976                                              02309000
TOPICHDR EQU   COMMON+2060                                              02310000
CSADDR   EQU   COMMON+2072                                              02311000
ASIDLIST EQU   0                                                        02312000
ASDXLNK  EQU   ASIDLIST                                                 02313000
ASDXASID EQU   ASIDLIST+4                                               02314000
ASCBPREF EQU   0                                                        02315000
ASCBNUM  EQU   ASCBPREF+4                                               02316000
ASMAPENT EQU   0                                                        02317000
MAPASID  EQU   ASMAPENT                                                 02318000
TITLVPLC EQU   0                                                        02319000
TITLRPLC EQU   0                                                        02320000
TOPICPLC EQU   0                                                        02321000
OPERAND  EQU   0                                                        02322000
AMDPRDPS EQU   0                                                        02323000
PRTMSG   EQU   0                                                        02324000
AMDPRPCB EQU   0                                                        02325000
I001C    EQU   0                                                        02326000
I008P    EQU   0                                                        02327000
I015F    EQU   0                                                        02328000
I015P    EQU   0                                                        02329000
I031F    EQU   0                                                        02330000
I031P    EQU   0                                                        02331000
I256C    EQU   0                                                        02332000
LASTDLM  EQU   0                                                        02333000
ASIDPLC  EQU   HDRSAVE+5                                                02334000
FRSTIDH  EQU   PCBPASID                                                 02335000
M251ILGT EQU   AMD251I                                                  02336000
M252ILGT EQU   AMD252I                                                  02337000
M282ILGT EQU   AMD282I                                                  02338000
M295ILGT EQU   AMD295I                                                  02339000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02340000
@NM00051 EQU   ASCBPREF+6                                               02341000
ASCBTAB  EQU   ASCBPREF                                                 02342000
ASDXMAP  EQU   ASIDLIST+40                                              02343000
@NM00048 EQU   COMMON+2070                                              02344000
DFLTCSA  EQU   COMMON+2056                                              02345000
LPAMAX   EQU   COMMON+2052                                              02346000
DNUCTOP  EQU   COMMON+2048                                              02347000
XLMAX    EQU   COMMON+2044                                              02348000
DQEMAX   EQU   COMMON+2042                                              02349000
ASCBMAX  EQU   COMMON+2040                                              02350000
TCBMAX   EQU   COMMON+2038                                              02351000
SRBMAX   EQU   COMMON+2036                                              02352000
DDMAX    EQU   COMMON+2034                                              02353000
DEBMAX   EQU   COMMON+2032                                              02354000
JPQMAX   EQU   COMMON+2030                                              02355000
LLEMAX   EQU   COMMON+2028                                              02356000
PQEMAX   EQU   COMMON+2026                                              02357000
RBMAX    EQU   COMMON+2024                                              02358000
@NM00047 EQU   COMMON+2023                                              02359000
EXITFLAG EQU   COMMON+2022                                              02360000
AUSRASID EQU   COMMON+2020                                              02361000
AUSRTCBA EQU   COMMON+2016                                              02362000
AUSRDEL  EQU   COMMON+2012                                              02363000
AUSREXIT EQU   COMMON+2008                                              02364000
AUSRINIT EQU   COMMON+2004                                              02365000
ASRBFMT  EQU   COMMON+2000                                              02366000
AASCBFMT EQU   COMMON+1996                                              02367000
BRRDADJ  EQU   COMMON+1992                                              02368000
BRRDINIT EQU   COMMON+1988                                              02369000
BRRDDATA EQU   COMMON+1984                                              02370000
BUFERMAP EQU   COMMON+1980                                              02371000
CPUMAP   EQU   COMMON+1972                                              02372000
@NM00046 EQU   COMMON+1964                                              02373000
HDRTITLE EQU   COMMON+1864                                              02374000
HDRREGS  EQU   COMMON+1696                                              02375000
SACSWCAW EQU   COMMON+1684                                              02376000
ASVTADDR EQU   COMMON+1680                                              02377000
PREFXRGV EQU   COMMON+1676                                              02378000
PREFXRGR EQU   COMMON+1672                                              02379000
CURASCB  EQU   COMMON+1668                                              02380000
IPLCPU   EQU   COMMON+1666                                              02381000
QAPFT    EQU   COMMON+1660                                              02382000
@NM00045 EQU   COMMON+1656                                              02383000
SEGTABOR EQU   COMMON+1648                                              02384000
@NM00044 EQU   COMMON+1641                                              02385000
EDITER   EQU   COMMON+1640                                              02386000
AROOT    EQU   COMMON+1636                                              02387000
AEDITCB  EQU   COMMON+1632                                              02388000
TRCCOUNT EQU   COMMON+1628                                              02389000
ASYSUDCB EQU   @NM00042+1                                               02390000
ENDLIST  EQU   @NM00043                                                 02391000
AINDCB   EQU   DCBADDRS+12                                              02392000
ARDRDCB  EQU   DCBADDRS+8                                               02393000
APTRDCB  EQU   DCBADDRS+4                                               02394000
AOUTDCB  EQU   DCBADDRS                                                 02395000
ATCBSMRY EQU   COMMON+1604                                              02396000
ATCBSMFR EQU   COMMON+1600                                              02397000
ONGOPTR  EQU   COMMON+1596                                              02398000
AEND     EQU   COMMON+1592                                              02399000
AERRMSGA EQU   COMMON+1584                                              02400000
BUFREINT EQU   COMMON+1580                                              02401000
BUFSUM   EQU   COMMON+1576                                              02402000
AFORMAT  EQU   COMMON+1568                                              02403000
ASTPROUT EQU   COMMON+1564                                              02404000
ATCBRTRV EQU   COMMON+1556                                              02405000
ATCBREMV EQU   COMMON+1552                                              02406000
ATCBSAVE EQU   COMMON+1548                                              02407000
QATMERTN EQU   COMMON+1544                                              02408000
ALOADER  EQU   COMMON+1540                                              02409000
AEREXIT  EQU   COMMON+1536                                              02410000
ARGNBND  EQU   COMMON+1524                                              02411000
AWRDCNVT EQU   COMMON+1520                                              02412000
AADRCNVT EQU   COMMON+1516                                              02413000
AFMTLINE EQU   COMMON+1512                                              02414000
NONBLNK  EQU   COMMON+1244                                              02415000
@NM00041 EQU   COMMON+972                                               02416000
@NM00040 EQU   COMMON+915                                               02417000
@NM00039 EQU   HEXTABL                                                  02418000
@NM00038 EQU   TABLE                                                    02419000
CAPTABL  EQU   COMMON+403                                               02420000
TITLEPGE EQU   COMMON+394                                               02421000
@NM00037 EQU   COMMON+392                                               02422000
TITLETME EQU   COMMON+379                                               02423000
@NM00036 EQU   COMMON+377                                               02424000
TITLEDTE EQU   COMMON+364                                               02425000
@NM00035 EQU   COMMON+362                                               02426000
TITLEMOD EQU   COMMON+347                                               02427000
TITLEMSG EQU   COMMON+283                                               02428000
MSG2     EQU   COMMON+257                                               02429000
MSG1     EQU   COMMON+231                                               02430000
STOP     EQU   COMMON+227                                               02431000
TITLE    EQU   COMMON+222                                               02432000
BLANKS   EQU   COMMON+214                                               02433000
WTORMSG  EQU   COMMON+133                                               02434000
@NM00034 EQU   COMMON+130                                               02435000
@NM00033 EQU   PRSW                                                     02436000
@NM00032 EQU   PRSW                                                     02437000
PRNTREAL EQU   PRSW                                                     02438000
TTLSW    EQU   PRSW                                                     02439000
@NM00031 EQU   PRSW                                                     02440000
QSEGTBSW EQU   PRSW                                                     02441000
@NM00030 EQU   PRSW                                                     02442000
@NM00029 EQU   BUFSW                                                    02443000
PREFM    EQU   BUFSW                                                    02444000
@NM00028 EQU   BUFSW                                                    02445000
@NM00027 EQU   BUFSW                                                    02446000
@NM00026 EQU   BUFSW                                                    02447000
@NM00025 EQU   BUFSW                                                    02448000
@NM00024 EQU   BUFSW                                                    02449000
@NM00023 EQU   BUFSW                                                    02450000
@NM00022 EQU   SWF                                                      02451000
QUT1LOD  EQU   SWF                                                      02452000
@NM00021 EQU   SWF                                                      02453000
PAGEOK   EQU   SWF                                                      02454000
DMPIC    EQU   SWF                                                      02455000
QSADMP   EQU   SWF                                                      02456000
NUCTFRMC EQU   SWF                                                      02457000
QPRDINIT EQU   SWF                                                      02458000
@NM00020 EQU   SWE                                                      02459000
@NM00019 EQU   SWE                                                      02460000
@NM00018 EQU   SWE                                                      02461000
BUILDMAP EQU   SWE                                                      02462000
TITLESW  EQU   SWE                                                      02463000
RESPC    EQU   SWE                                                      02464000
@NM00017 EQU   SWE                                                      02465000
STOPSW   EQU   SWE                                                      02466000
@NM00016 EQU   SWD                                                      02467000
CONTSW   EQU   SWD                                                      02468000
NOLOADSW EQU   SWD                                                      02469000
NOSTDMG  EQU   SWD                                                      02470000
@NM00015 EQU   SWD                                                      02471000
@NM00014 EQU   SWD                                                      02472000
@NM00013 EQU   SWC                                                      02473000
@NM00012 EQU   SWC                                                      02474000
@NM00011 EQU   SWC                                                      02475000
EDITSW   EQU   SWC                                                      02476000
TREADIN  EQU   SWC                                                      02477000
POSITSW  EQU   SWC                                                      02478000
SETFLSH  EQU   SWC                                                      02479000
MSTRSW   EQU   SWC                                                      02480000
@NM00010 EQU   SWB                                                      02481000
@NM00009 EQU   SWB                                                      02482000
QSYSUT2  EQU   SWB                                                      02483000
ENDSW    EQU   SWB                                                      02484000
@NM00008 EQU   SWB                                                      02485000
@NM00007 EQU   SWB                                                      02486000
FMTERR   EQU   SWB                                                      02487000
IOERR    EQU   SWB                                                      02488000
SETCVTSW EQU   SWA                                                      02489000
@NM00006 EQU   SWA                                                      02490000
GOSW     EQU   SWA                                                      02491000
@NM00005 EQU   SWA                                                      02492000
@NM00004 EQU   SWA                                                      02493000
@NM00003 EQU   SWA                                                      02494000
@NM00002 EQU   SWA                                                      02495000
LINENUM  EQU   COMMON+120                                               02496000
LINENUMB EQU   COMMON+118                                               02497000
SIXTEEN  EQU   COMMON+116                                               02498000
TWELVE   EQU   COMMON+114                                               02499000
ELEVEN   EQU   COMMON+112                                               02500000
HTEN     EQU   COMMON+110                                               02501000
EIGHT    EQU   COMMON+108                                               02502000
SEVEN    EQU   COMMON+106                                               02503000
FIVE     EQU   COMMON+104                                               02504000
FOUR     EQU   COMMON+102                                               02505000
THREE    EQU   COMMON+100                                               02506000
TWO      EQU   COMMON+98                                                02507000
ONEA     EQU   COMMON+96                                                02508000
READTM   EQU   COMMON+92                                                02509000
RDERCNT  EQU   COMMON+88                                                02510000
READNO   EQU   COMMON+84                                                02511000
RDENTRY  EQU   COMMON+80                                                02512000
@NM00001 EQU   COMMON+78                                                02513000
FILESEQ  EQU   COMMON+76                                                02514000
INDD     EQU   COMMON+68                                                02515000
STORSIZE EQU   COMMON+64                                                02516000
CVTADDR  EQU   COMMON+56                                                02517000
TCBLIST  EQU   COMMON+52                                                02518000
PAGENUMB EQU   COMMON+44                                                02519000
LINECNT  EQU   COMMON+40                                                02520000
SIX      EQU   COMMON+36                                                02521000
WORK1    EQU   COMMON+24                                                02522000
VERBEND  EQU   COMMON+8                                                 02523000
VERBGN   EQU   COMMON+4                                                 02524000
ERRADDR  EQU   COMMON                                                   02525000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      02526000
@RF00103 EQU   @RC00098                                                 02527000
@RC00101 EQU   @RC00098                                                 02528000
@RF00108 EQU   @RC00098                                                 02529000
@RF00120 EQU   @RC00098                                                 02530000
@RF00134 EQU   @RC00125                                                 02531000
@RF00141 EQU   @RC00093                                                 02532000
@RF00154 EQU   @RC00093                                                 02533000
@RC00144 EQU   @RC00093                                                 02534000
@RC00157 EQU   @RC00093                                                 02535000
@RC00091 EQU   @RC00088                                                 02536000
@RF00297 EQU   @RC00292                                                 02537000
@RF00378 EQU   @RC00067                                                 02538000
@RC00420 EQU   @RC00417                                                 02539000
@RF00472 EQU   @RC00467                                                 02540000
@RC00511 EQU   @RC00504                                                 02541000
@RC00506 EQU   @RC00504                                                 02542000
@RC00518 EQU   @RC00504                                                 02543000
@RF00555 EQU   @RC00538                                                 02544000
@RF00566 EQU   @EL00002                                                 02545000
@RF00571 EQU   @EL00002                                                 02546000
@RC00569 EQU   @EL00002                                                 02547000
@RC00589 EQU   @EL00003                                                 02548000
@RC00578 EQU   @EL00003                                                 02549000
@RC00576 EQU   @EL00003                                                 02550000
@RF00593 EQU   @EL00003                                                 02551000
@RF00596 EQU   @EL00003                                                 02552000
@RF00607 EQU   @EL00004                                                 02553000
@RF00173 EQU   @RC00091                                                 02554000
@RF00522 EQU   @RC00518                                                 02555000
@RC00580 EQU   @RC00578                                                 02556000
@RF00585 EQU   @RC00578                                                 02557000
@RC00583 EQU   @RC00578                                                 02558000
@ENDDATA EQU   *                                                        02559000
         END   AMDPRPMS,(C'PLS2014',0603,76133)                         02560000
