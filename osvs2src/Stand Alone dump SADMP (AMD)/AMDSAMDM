         TITLE 'AMDSAMDM   LOCAL MEMORY DUMP ROUTINE                   *00001000
                        '                                               00002000
AMDSAMDM CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL2(@EP00001-@MAINENT)                                   00007000
         DC    AL1(16)                                             0001 00008000
         DC    C'AMDSAMDM  74.329'                                 0001 00009000
AMDSASPQ DS    0H                                                  0001 00010000
         USING *,@15                                               0001 00011000
         B     @PROLOG                                             0001 00012000
         DC    AL2(@EP00338-AMDSASPQ)                                   00013000
         ENTRY AMDSASPQ                                                 00014000
         DROP  @15                                                      00015000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00016000
         BALR  @11,0                                               0001 00017000
@PSTART  DS    0H                                                  0001 00018000
         USING @PSTART,@11                                         0001 00019000
         ST    @13,@SA00001+4                                      0001 00020000
         LA    @14,@SA00001                                        0001 00021000
         ST    @14,8(,@13)                                         0001 00022000
         LR    @13,@14                                             0001 00023000
         AH    @15,4(,@15)                                         0001 00024000
         BR    @15                                                 0001 00025000
@EP00001 DS    0H                                                  0002 00026000
*   SAVEFORM(1:4) = 'LMDM';         /* MODULE ID TO SAVE AREA        */ 00027000
         MVC   SAVEFORM(4,R13),@CC01305                            0210 00028000
*   RCBNEXT = VCTRCB;               /* PICK UP CURRENT RCB CHAIN     */ 00029000
         LA    @10,MDMRCB                                          0211 00030000
         MVC   RCBNEXT(4,@10),VCTRCB(VCCTREG)                      0211 00031000
*   RCBSAVE = R13;                  /* SAVE AREA PTR TO RCB          */ 00032000
         ST    R13,RCBSAVE(,@10)                                   0212 00033000
*   RCBEXIT = ADDR(MDMEXIT);        /* SET UP EXIT ADDRESS           */ 00034000
         LA    @09,MDMEXIT                                         0213 00035000
         ST    @09,RCBEXIT(,@10)                                   0213 00036000
*   RCBBASE = BASEREG;              /* BASE REGISTER VALUE TO RCB    */ 00037000
         ST    BASEREG,RCBBASE(,@10)                               0214 00038000
*   GENERATE REFS(R1) SETS(MDMSTOR) (STCTL R1,R1,MDMSTOR); /* SEGMENT   00039000
*                                      TABLE ORIGIN TO RCB           */ 00040000
         STCTL R1,R1,MDMSTOR                                            00041000
*   VCTRCB = ADDR(MDMRCB);          /* MAKE RCB ACTIVE               */ 00042000
         LA    @10,MDMRCB                                          0216 00043000
         ST    @10,VCTRCB(,VCCTREG)                                0216 00044000
*   SAVEBACK -> SAVER15 = 0;        /* SET UP 0 RETURN CODE          */ 00045000
         SLR   @10,@10                                             0217 00046000
         L     @09,SAVEBACK(,R13)                                  0217 00047000
         ST    @10,SAVER15(,@09)                                   0217 00048000
*   MDMBUFTP = CTBUFTYP;            /* SAVE ORIGINAL BUFFER REQUEST  */ 00049000
         L     @15,VCTCCTV(,VCCTREG)                               0218 00050000
         SLR   MDMBUFTP,MDMBUFTP                                   0218 00051000
         IC    MDMBUFTP,CTBUFTYP(,@15)                             0218 00052000
*   CTBUFTYP = OFF;                 /* RESET BUFFER REQUEST FLAGS    */ 00053000
         MVI   CTBUFTYP(@15),B'00000000'                           0219 00054000
*   CTLSQA = ON;                    /* INDICATE LSQA BUFFERS         */ 00055000
         OI    CTLSQA(@15),B'00001000'                             0220 00056000
*   MDMBINA = ADDR(ERRORAD) + 1;    /* SET UP ERROR ADDR FOR MSG     */ 00057000
         LA    @09,ERRORAD                                         0221 00058000
         AH    @09,@CH00074                                        0221 00059000
         ST    @09,MDMBINA                                         0221 00060000
*                                                                  0222 00061000
*   /*****************************************************************/ 00062000
*   /*                                                               */ 00063000
*   /* CHECK IF MEMORY WAS SWAPPED OUT. IF SO, DUMP THE LSQA. GET THE*/ 00064000
*   /* SPQE CHAIN FOR LSQA FROM THE LDA, POINTED TO BY THE ASCB. NOTE*/ 00065000
*   /* THAT THE PAGE TABLES WILL HAVE ALREADY BEEN DUMPED BY         */ 00066000
*   /* AMDSASIN.                                                     */ 00067000
*   /*                                                               */ 00068000
*   /*****************************************************************/ 00069000
*                                                                  0222 00070000
*/* D (YES,,NO,MDMLOCAL) VCTMEMIN OFF                                */ 00071000
*/* N MEMORY WAS SWAPPED OUT. DUMP LSQA.                             */ 00072000
*/* P INITIALIZE MESSAGE AMD022I FOR LSQA                            */ 00073000
*/* N THIS REQUIRES SETTING LNG22I AND DMP22I                        */ 00074000
*/* P GET LDA ADDRESS FROM ASCBLDA                                   */ 00075000
*/* P GET LSQAPTR (SPQE CHAIN FOR LSQA) FROM LDA                     */ 00076000
*/* P PLACE CONTENTS OF LSQAPTR IN REG 1                             */ 00077000
*/* D (NO,,YES,MDMLOCAL) LSQAPTR = 0                                 */ 00078000
*/* S SPQESRCH:  SEARCH LSQA SPQE CHAIN                              */ 00079000
*/* D (YES,MDMLOCAL,NO,) RC  =  0                                    */ 00080000
*/* L  AMDSACON:  ISSUE MESSAGE AMD022I                              */ 00081000
*   IF VCTMEMIN = OFF THEN          /* WAS MEMORY SWAPPED OUT        */ 00082000
         TM    VCTMEMIN(VCCTREG),B'01000000'                       0222 00083000
         BNZ   @RF00222                                            0222 00084000
*     DO;                           /* YES - DUMP LSQA               */ 00085000
*       VDMP22I(1:LENGTH(CHARLSQA)) = CHARLSQA; /* INITIALIZE ERROR     00086000
*                                      MESSAGE FOR LSQA DUMP         */ 00087000
         L     @09,@CA01235                                        0224 00088000
         L     @14,VCTLPA(,VCCTREG)                                0224 00089000
         ALR   @09,@14                                             0224 00090000
         MVC   VDMP22I(4,@09),CHARLSQA                             0224 00091000
*       VLNG22I = LENGTH(CHARLSQA); /* INITIALIZE SECONDARY LENGTH   */ 00092000
         L     @09,@CA01229                                        0225 00093000
         ALR   @09,@14                                             0225 00094000
         MVI   VLNG22I(@09),X'04'                                  0225 00095000
*       CTLSQA = ON;                /* REQUEST LSQA BUFFER           */ 00096000
         OI    CTLSQA(@15),B'00001000'                             0226 00097000
*       RESPECIFY ASCB BASED(VCTASCB);                             0227 00098000
*       RESPECIFY LDA BASED(ASCBLDA);                              0228 00099000
*       RESPECIFY (R1,RETCODE) RESTRICTED;                         0229 00100000
*       R1 = LSQAPTR;               /* GET LSQA SPQE CHAIN FROM LDA  */ 00101000
         L     @14,VCTASCB(,VCCTREG)                               0230 00102000
         L     @14,ASCBLDA(,@14)                                   0230 00103000
         L     R1,LSQAPTR(,@14)                                    0230 00104000
*       IF R1 ^= 0 THEN             /* ANY SPQE CHAIN                */ 00105000
         CR    R1,@10                                              0231 00106000
         BE    @RF00231                                            0231 00107000
*         DO;                       /* YES - PROCESS IT              */ 00108000
*           CALL SPQESRCH;          /* CALL SPQESRCH SUBROUTINE TO 0233 00109000
*                                      SEARCH SPQE CHAIN             */ 00110000
         BAL   @14,SPQESRCH                                        0233 00111000
*           IF RETCODE ^= 0 THEN    /* ERROR SEARCHING SPQE CHAIN    */ 00112000
         LTR   RETCODE,RETCODE                                     0234 00113000
         BZ    @RF00234                                            0234 00114000
*             DO;                                                  0235 00115000
*               R1 = AMD022I;       /* REQUEST MESSAGE AMD022I       */ 00116000
         LA    R1,22                                               0236 00117000
*               SVC(CONSVC);        /* CALL AMDSACON TO ISSUE MESSAGE*/ 00118000
         SVC   3                                                   0237 00119000
*             END;                                                 0238 00120000
*         END;                                                     0239 00121000
@RF00234 DS    0H                                                  0240 00122000
*       RESPECIFY (R1,RETCODE) UNRESTRICTED;                       0240 00123000
@RF00231 DS    0H                                                  0241 00124000
*     END;                                                         0241 00125000
*                                                                  0242 00126000
*   /*****************************************************************/ 00127000
*   /*                                                               */ 00128000
*   /* VALIDITY CHECK THE ASXB. GET THE TCB CHAIN FROM THE ASXB AND  */ 00129000
*   /* SET UP DIRECTION OF TCB CHAIN SEARCH.                         */ 00130000
*   /*                                                               */ 00131000
*   /*****************************************************************/ 00132000
*                                                                  0242 00133000
*/*MDMLOCAL: P INITIALIZE MESSAGE AMD022I FOR MEMORY                 */ 00134000
*/* N THIS REQUIRES SETTING LNG22I AND DMP22I                        */ 00135000
*/* P GET ASXB ADDRESS FROM ASCBASXB                                 */ 00136000
*/* P SET VCTCBADR TO ASCBASXB                                       */ 00137000
*/* P SET VCTCBID TO ASXB ID                                         */ 00138000
*/* L  AMDSAVCK:  VALIDITY CHECK ASXB                                */ 00139000
*/* D (YES,,NO,MDMEXIT) RC  =  0                                     */ 00140000
*/* P GET TCB COUNT FROM ASXBTCBS                                    */ 00141000
*/* D (NO,%MDMLO1,YES,%MDMLO0) TCB COUNT = 0                         */ 00142000
*/*%MDMLO0: P (,%MDMLO1) SET DEFAULT TCB COUNT OF 256                */ 00143000
*/*%MDMLO1: P INDICATE FORWARD TCB SEARCH                            */ 00144000
*/* P SET LAST VALID TCB ADDRESS TO 0                                */ 00145000
*/* D (NO,%MDMTCB,YES,%MDMFS1) ASXBFTCB = 0                          */ 00146000
*/*%MDMFS1: D (NO,%MDMBS1,YES,%MDMRC0) ASXBTCBS = 0                  */ 00147000
*/*%MDMBS1: P INDICATE BACKWARD TCB SEARCH                           */ 00148000
*/* D (NO,%MDMTCB,YES,%MDMRC0) ASXBLTCB = 0                          */ 00149000
*/*%MDMTCB: P GET TCB ADDRESS                                        */ 00150000
*   VDMP22I(1:LENGTH(LCLMEMRY)) = LCLMEMRY; /* INITIALIZE ERROR    0242 00151000
*                                      MESSAGE FOR LOCAL MEMORY    0242 00152000
*                                      SEARCH                        */ 00153000
@RF00222 L     @10,@CA01235                                        0242 00154000
         L     @09,VCTLPA(,VCCTREG)                                0242 00155000
         ALR   @10,@09                                             0242 00156000
         MVC   VDMP22I(12,@10),LCLMEMRY                            0242 00157000
*   VLNG22I = LENGTH(LCLMEMRY);     /* INITIALIZE SECONDARY LENGTH   */ 00158000
         L     @10,@CA01229                                        0243 00159000
         ALR   @10,@09                                             0243 00160000
         MVI   VLNG22I(@10),X'0C'                                  0243 00161000
*   RESPECIFY ASXB BASED(ASCBASXB);                                0244 00162000
*   VCTCBADR = ASCBASXB;            /* GET ASXB ADDRESS FOR VALIDITY    00163000
*                                      CHECK                         */ 00164000
         L     @10,VCTASCB(,VCCTREG)                               0245 00165000
         MVC   VCTCBADR(4,VCCTREG),ASCBASXB(@10)                   0245 00166000
*   VCTCBIDN = VASXBID;             /* SET ASXB CONTROL BLOCK ID     */ 00167000
         MVI   VCTCBIDN(VCCTREG),X'03'                             0246 00168000
*   SVC(VCKSVC);                    /* CALL AMDSAVCK TO VALIDITY   0247 00169000
*                                      CHECK THE ASXB                */ 00170000
         SVC   25                                                  0247 00171000
*   RESPECIFY RETCODE RESTRICTED;                                  0248 00172000
*   IF RETCODE ^= 0 THEN            /* IS THE ASXB VALID             */ 00173000
         SLR   @14,@14                                             0249 00174000
         CR    RETCODE,@14                                         0249 00175000
         BNE   @RT00249                                            0249 00176000
*     GO TO MDMEXIT;                /* NO - EXIT                     */ 00177000
*   RESPECIFY RETCODE UNRESTRICTED;                                0251 00178000
*   MDMTCBCT = ASXBTCBS;            /* PICK UP COUNT OF TCBS         */ 00179000
         L     @10,VCTASCB(,VCCTREG)                               0252 00180000
         L     @10,ASCBASXB(,@10)                                  0252 00181000
         LH    MDMTCBCT,ASXBTCBS(,@10)                             0252 00182000
*   IF MDMTCBCT = 0 THEN            /* ANY TCBS ON TCB CHAIN         */ 00183000
         CR    MDMTCBCT,@14                                        0253 00184000
         BNE   @RF00253                                            0253 00185000
*     MDMTCBCT = TCBDEFLT;          /* NO - SET DEFAULT COUNT IN CASE   00186000
*                                      ACTUAL COUNT WAS OVERLAID     */ 00187000
         LA    MDMTCBCT,256                                        0254 00188000
*   MDMBKDSR = OFF;                 /* INDICATE FORWARD TCB SEARCH   */ 00189000
@RF00253 NI    MDMBKDSR,B'01111111'                                0255 00190000
*   LASTTCB = 0;                    /* RESET LAST TCB ADDRESS        */ 00191000
         SLR   @10,@10                                             0256 00192000
         LR    LASTTCB,@10                                         0256 00193000
*   TCBPTR = ASXBFTCB;              /* GET FORWARD CHAIN ADDRESS     */ 00194000
         L     @09,VCTASCB(,VCCTREG)                               0257 00195000
         L     @09,ASCBASXB(,@09)                                  0257 00196000
         L     @15,ASXBFTCB(,@09)                                  0257 00197000
         LR    TCBPTR,@15                                          0257 00198000
*   IF ASXBFTCB = 0 THEN            /* ANY FORWARD CHAIN             */ 00199000
         CR    @15,@10                                             0258 00200000
         BNE   @RF00258                                            0258 00201000
*     IF ASXBTCBS = 0 THEN          /* NO - ANY TCBS                 */ 00202000
         CH    @10,ASXBTCBS(,@09)                                  0259 00203000
         BE    @RT00259                                            0259 00204000
*       GO TO MDMRET;               /* NO - NOTHING TO DUMP          */ 00205000
*     ELSE                          /* YES - CHECK BACK CHAIN        */ 00206000
*                                                                  0261 00207000
*MDMBS1:                                                           0261 00208000
*       DO;                                                        0261 00209000
MDMBS1   DS    0H                                                  0262 00210000
*         MDMBKDSR = ON;            /* INDICATE TCB SEARCH IN BACK 0262 00211000
*                                      DIRECTION                     */ 00212000
         OI    MDMBKDSR,B'10000000'                                0262 00213000
*         IF ASXBLTCB = 0 THEN      /* ANY BACKWARD CHAIN            */ 00214000
         L     @10,VCTASCB(,VCCTREG)                               0263 00215000
         L     @10,ASCBASXB(,@10)                                  0263 00216000
         L     @10,ASXBLTCB(,@10)                                  0263 00217000
         LTR   @10,@10                                             0263 00218000
         BZ    @RT00263                                            0263 00219000
*           GO TO MDMRET;           /* NO - RETURN                   */ 00220000
*         TCBPTR = ASXBLTCB;        /* GET BACKWARD CHAIN ADDRESS    */ 00221000
         LR    TCBPTR,@10                                          0265 00222000
*       END;                                                       0266 00223000
*                                                                  0267 00224000
*   /*****************************************************************/ 00225000
*   /*                                                               */ 00226000
*   /* SEARCH TCB CHAIN. VALIDITY CHECK EACH TCB. IF INVALID, GO     */ 00227000
*   /* DOWN BACKWARD TCB CHAIN.                                      */ 00228000
*   /*                                                               */ 00229000
*   /*****************************************************************/ 00230000
*                                                                  0267 00231000
*/*%MDMTCB1: P SET VCTCBADR TO CURRENT TCB ADDRESS                   */ 00232000
*/* P SET VCTCBID TO TCB ID                                          */ 00233000
*/* L  AMDSAVCK:  VALIDITY CHECK TCB                                 */ 00234000
*/* D (YES,%MDMTCB2,NO,%MDMTCBE) RC  =  0                            */ 00235000
*/*%MDMTCBE: P INCREMENT TCB ERROR COUNT                             */ 00236000
*/* D (NO,,YES,%MDMTCBN) TCB ERROR COUNT < 3                         */ 00237000
*/* D (YES,%MDMBS1,NO,%MDMRC4) FORWARD TCB SEARCH                    */ 00238000
*   DO MDMTCBCT = MDMTCBCT TO 1 BY -1; /* SEARCH NUMBER OF TCBS GIVEN   00239000
*                                      BY COUNT                      */ 00240000
@RF00258 B     @DE00267                                            0267 00241000
@DL00267 DS    0H                                                  0268 00242000
*     VCTCBADR = TCBPTR;            /* SET TCB ADDR FOR VALIDITY   0268 00243000
*                                      CHECK                         */ 00244000
         ST    TCBPTR,VCTCBADR(,VCCTREG)                           0268 00245000
*     VCTCBIDN = VTCBID;            /* SET TCB CONTROL BLOCK ID      */ 00246000
         MVI   VCTCBIDN(VCCTREG),X'12'                             0269 00247000
*     SVC(VCKSVC);                  /* CALL AMDSAVCK TO VALIDITY   0270 00248000
*                                      CHECK THE TCB                 */ 00249000
         SVC   25                                                  0270 00250000
*     RESPECIFY RETCODE RESTRICTED;                                0271 00251000
*     IF RETCODE ^= 0 THEN          /* IS TCB VALID                  */ 00252000
         LTR   RETCODE,RETCODE                                     0272 00253000
         BZ    @RF00272                                            0272 00254000
*       DO;                         /* NO -                          */ 00255000
*         IF MDMBKDSR = ON THEN     /* SEARCHING CHAIN IN BACKWARD 0274 00256000
*                                      DIRECTION                     */ 00257000
         TM    MDMBKDSR,B'10000000'                                0274 00258000
         BO    @RT00274                                            0274 00259000
*           GO TO MDMRC4;           /* YES - TERMINATE SEARCH        */ 00260000
*         GO TO MDMBS1;             /* BEGIN SEARCH IN BACKWARD    0276 00261000
*                                      DIRECTION                     */ 00262000
         B     MDMBS1                                              0276 00263000
*         RESPECIFY RETCODE UNRESTRICTED;                          0277 00264000
*       END;                                                       0278 00265000
*                                                                  0279 00266000
*   /*****************************************************************/ 00267000
*   /*                                                               */ 00268000
*   /* SET UP TCB ADDRESS FOR MESSAGE AMD022I.                       */ 00269000
*   /*                                                               */ 00270000
*   /*****************************************************************/ 00271000
*                                                                  0279 00272000
*   MDMEBCA = ADDR(TCBADDR);        /* SET UP EBCDIC ADDRESS         */ 00273000
@RF00272 LA    @10,TCBADDR                                         0279 00274000
         ST    @10,MDMEBCA                                         0279 00275000
*   ERRORAD = TCBPTR;               /* GET TCB ADDRESS               */ 00276000
         ST    TCBPTR,ERRORAD                                      0280 00277000
*   RESPECIFY R1 RESTRICTED;                                       0281 00278000
*   R1 = ADDR(MDMBINL);             /* POINT TO CONVERT PARM LIST    */ 00279000
         LA    R1,MDMBINL                                          0282 00280000
*   SVC (BINSVC);                   /* CONVERT TCB ADDRESS TO EBCDIC */ 00281000
         SVC   28                                                  0283 00282000
*   MDMEBCA = ADDR(ADDR18I) + VCTLPA; /* INITIALIZE VIRTUAL ADDRESS     00283000
*                                      FOR MESSAGE OUTPUT            */ 00284000
         L     @10,@CA01251                                        0284 00285000
         AL    @10,VCTLPA(,VCCTREG)                                0284 00286000
         ST    @10,MDMEBCA                                         0284 00287000
*   RESPECIFY R1 UNRESTRICTED;                                     0285 00288000
*                                                                  0285 00289000
*   /*****************************************************************/ 00290000
*   /*                                                               */ 00291000
*   /* TCB IS VALID.  SET UP AND DUMP SWA.                           */ 00292000
*   /* ISSUE MESSAGE AMD022I IS ERROR OCCURS.                        */ 00293000
*   /*                                                               */ 00294000
*   /*****************************************************************/ 00295000
*                                                                  0286 00296000
*/*%MDMTCB2: D (YES,,NO,%MDMLAST) FORWARD TCB SEARCH                 */ 00297000
*/* P SAVE TCB ADDRESS AS LAST VALID                                 */ 00298000
*/*%MDMLAST: P INITIALIZE MESSAGE AMD022I FOR SWA                    */ 00299000
*/* N THIS REQUIRES SETTING LNG22I AND DMP22I                        */ 00300000
*/* P PLACE TCBSWA IN REGISTER 1                                     */ 00301000
*/* N SPQESRCH: SEARCH SWA SPQE CHAIN                                */ 00302000
*/* D (YES,%MDMTCBM,NO,MDM22ISW) RC  =  0                            */ 00303000
*/*MDM22ISW: L  AMDSACON:  ISSUE MESSAGE AMD022I                     */ 00304000
*/* P (,%MDMTCBM) SET RETURN CODE = 4                                */ 00305000
*     IF MDMBKDSR = OFF THEN        /* FORWARD TCB SEARCH            */ 00306000
         TM    MDMBKDSR,B'10000000'                                0286 00307000
         BNZ   @RF00286                                            0286 00308000
*       LASTTCB = TCBPTR;           /* YES - SAVE TCB ADDRESS AS LAST   00309000
*                                      VALID                         */ 00310000
         LR    LASTTCB,TCBPTR                                      0287 00311000
*     VDMP22I(1:LENGTH(CHARSWA)) = CHARSWA; /* INITIALIZE MESSAGE FOR   00312000
*                                      ERROR DUMPING SWA             */ 00313000
@RF00286 L     @10,@CA01235                                        0288 00314000
         L     @09,VCTLPA(,VCCTREG)                                0288 00315000
         ALR   @10,@09                                             0288 00316000
         MVC   VDMP22I(3,@10),CHARSWA                              0288 00317000
*     VDMP22I(1+LENGTH(CHARSWA):LENGTH(CHARSWA)+LENGTH(TCBMG))=TCBMG;   00318000
         MVC   VDMP22I+3(15,@10),TCBMG                             0289 00319000
*                                   /* MOVE TCB ADDRESS TO MESSAGE   */ 00320000
*     VLNG22I = LENGTH(CHARSWA)+LENGTH(TCBMG); /* SET UP SECONDARY 0290 00321000
*                                      MESSAGE LENGTH                */ 00322000
         L     @10,@CA01229                                        0290 00323000
         ALR   @10,@09                                             0290 00324000
         MVI   VLNG22I(@10),X'12'                                  0290 00325000
*     RESPECIFY (R1,RETCODE) RESTRICTED;                           0291 00326000
*     R1 = TCBSWA;                  /* GET ADDRESS OF SPQE CHAIN FOR    00327000
*                                      SWA                           */ 00328000
         L     R1,TCBSWA(,TCBPTR)                                  0292 00329000
*     CALL SPQESRCH;                /* CALL SPQESRCH SUBROUTINE TO 0293 00330000
*                                      SEARCH SPQE CHAIN             */ 00331000
         BAL   @14,SPQESRCH                                        0293 00332000
*     IF RETCODE ^= 0 THEN          /* ERROR DURING SPQE SEARCH      */ 00333000
         LTR   RETCODE,RETCODE                                     0294 00334000
         BZ    @RF00294                                            0294 00335000
*       DO;                         /* YES - ISSUE AMD022I           */ 00336000
*         R1 = AMD022I;             /* REQUEST MESSAGE AMD022I       */ 00337000
         LA    R1,22                                               0296 00338000
*         SVC(CONSVC);              /* CALL AMDSACON TO ISSUE AMD022I*/ 00339000
         SVC   3                                                   0297 00340000
*         SAVEBACK -> SAVER15 = 4;  /* SET UP RETURN CODE 4          */ 00341000
         L     @14,SAVEBACK(,R13)                                  0298 00342000
         MVC   SAVER15(4,@14),@CF00038                             0298 00343000
*       END;                                                       0299 00344000
*                                                                  0300 00345000
*   /*****************************************************************/ 00346000
*   /*                                                               */ 00347000
*   /* DUMP REMAINING SUBPOOLS ON SUBPOOL DUMP LIST (SDL) BY GETTING */ 00348000
*   /* THE SPQE CHAIN POINTED TO BY TCBUKYSP. ISSUE MESSAGE AMD022I  */ 00349000
*   /* IF AN ERROR OCCURS.                                           */ 00350000
*   /*                                                               */ 00351000
*   /*****************************************************************/ 00352000
*                                                                  0300 00353000
*/*%MDMTCBM: P INITIALIZE MESSAGE AMD022I FOR LOCAL SUBPOOLS         */ 00354000
*/* N THIS REQUIRES SETTING LNG22I AND DMP22I                        */ 00355000
*/* P PLACE TCBUKYSP IN REGISTER 1                                   */ 00356000
*/* S SPQESRCH:  SEARCH SPQE CHAIN FOR LOCAL SUBPOOLS                */ 00357000
*/* D (YES,%MDMTCBN,NO,MDM22IMS) RC  =  0                            */ 00358000
*/*MDM22IMS: L  AMDSACON:  ISSUE MESSAGE AMD022I                     */ 00359000
*/* P (,%MDMTCBN) SET RETURN CODE = 4                                */ 00360000
*     VDMP22I(1:LENGTH(LCLSUBPL)) = LCLSUBPL; /* INITIALIZE MESSAGE     00361000
*                                      FOR ERROR DUMPING LOCAL     0300 00362000
*                                      SUBPOOLS                      */ 00363000
@RF00294 L     @14,@CA01235                                        0300 00364000
         L     @10,VCTLPA(,VCCTREG)                                0300 00365000
         ALR   @14,@10                                             0300 00366000
         MVC   VDMP22I(14,@14),LCLSUBPL                            0300 00367000
*     VDMP22I(1+LENGTH(LCLSUBPL):LENGTH(LCLSUBPL)+LENGTH(TCBMG))=TCBMG; 00368000
         MVC   VDMP22I+14(15,@14),TCBMG                            0301 00369000
*     VLNG22I = LENGTH(LCLSUBPL)+LENGTH(TCBMG); /* SET UP SECONDARY     00370000
*                                      MESSAGE LENGTH                */ 00371000
         L     @14,@CA01229                                        0302 00372000
         ALR   @14,@10                                             0302 00373000
         MVI   VLNG22I(@14),X'1D'                                  0302 00374000
*     R1 = TCBUKYSP;                /* GET SPQE CHAIN FOR SP 229,230 */ 00375000
         L     R1,TCBUKYSP(,TCBPTR)                                0303 00376000
*     CALL SPQESRCH;                /* CALL SPQESRCH SUBROUTINE TO 0304 00377000
*                                      SEARCH SPQE CHAIN             */ 00378000
         BAL   @14,SPQESRCH                                        0304 00379000
*     IF RETCODE ^= 0 THEN          /* ERROR SEARCHING SPQE CHAIN    */ 00380000
         LTR   RETCODE,RETCODE                                     0305 00381000
         BZ    @RF00305                                            0305 00382000
*       DO;                         /* YES - ISSUE MESSAGE AMD022I   */ 00383000
*         R1 = AMD022I;             /* REQUEST MESSAGE AMD022I       */ 00384000
         LA    R1,22                                               0307 00385000
*         SVC(CONSVC);              /* CALL AMDSACON TO ISSUE AMD022I*/ 00386000
         SVC   3                                                   0308 00387000
*       END;                                                       0309 00388000
*                                                                  0310 00389000
*   /*****************************************************************/ 00390000
*   /*                                                               */ 00391000
*   /* GET NEXT TCB PROCEEDING IN CURRENT DIRECTION OF SEARCH.       */ 00392000
*   /*                                                               */ 00393000
*   /*****************************************************************/ 00394000
*                                                                  0310 00395000
*/*%MDMTCBN: P DECREMENT TCB COUNT                                   */ 00396000
*/* D (YES,,NO,%MDMBS2) FORWARD TCB SEARCH                           */ 00397000
*/* P (,%MDMTCB3) GET NEXT TCB ADDR FROM TCBTCB                      */ 00398000
*/*%MDMBS2: P GET NEXT TCB ADDR FROM TCBBACK                         */ 00399000
*/* D (YES,,NO,%MDMTCB3) IS THIS SAVED TCB ADDR                      */ 00400000
*/* N (,%MDMRC0) ALREADY PROCESSED THIS TCB                          */ 00401000
*/*%MDMTCB3: D (NO,,YES,%MDMRC0) CURRENT TCB ADDR = 0                */ 00402000
*                                                                  0310 00403000
*MDMTCBN:                                                          0310 00404000
*     IF MDMBKDSR = OFF THEN        /* SEARCHING TCB CHAIN IN FORWARD   00405000
*                                      DIRECTION                     */ 00406000
@RF00305 DS    0H                                                  0310 00407000
MDMTCBN  TM    MDMBKDSR,B'10000000'                                0310 00408000
         BNZ   @RF00310                                            0310 00409000
*       TCBPTR = TCBTCB;            /* YES - GET FORWARD CHAIN     0311 00410000
*                                      POINTER                       */ 00411000
         L     TCBPTR,TCBTCB(,TCBPTR)                              0311 00412000
*     ELSE                                                         0312 00413000
*       DO;                                                        0312 00414000
         B     @RC00310                                            0312 00415000
@RF00310 DS    0H                                                  0313 00416000
*         TCBPTR = TCBBACK;         /* PICK UP BACK CHAIN POINTER    */ 00417000
         L     TCBPTR,TCBBACK(,TCBPTR)                             0313 00418000
*         IF TCBPTR = LASTTCB THEN  /* ALREADY PROCESSED THIS TCB    */ 00419000
         CR    TCBPTR,LASTTCB                                      0314 00420000
         BE    @RT00314                                            0314 00421000
*           GO TO MDMRET;           /* YES - DONE                    */ 00422000
*       END;                                                       0316 00423000
*     IF TCBPTR = 0 THEN            /* END OF TCB CHAIN              */ 00424000
@RC00310 LTR   TCBPTR,TCBPTR                                       0317 00425000
         BZ    @RT00317                                            0317 00426000
*       GO TO MDMRET;               /* YES - DONE                    */ 00427000
*     RESPECIFY (R1,RETCODE) UNRESTRICTED;                         0319 00428000
*   END;                            /* CONTINUE DOWN TCB CHAIN       */ 00429000
         BCTR  MDMTCBCT,0                                          0320 00430000
@DE00267 LTR   MDMTCBCT,MDMTCBCT                                   0320 00431000
         BP    @DL00267                                            0320 00432000
*                                                                  0321 00433000
*   /*****************************************************************/ 00434000
*   /*                                                               */ 00435000
*   /* REACH HERE ONLY IF TCB COUNT REACHES 0 BUT THE END OF THE TCB */ 00436000
*   /* CHAIN HAS NOT BEEN REACHED. THIS COULD BE A POSSIBLE LOOP.    */ 00437000
*   /* ISSUE MESSAGE AMD018I TO INDICATE THIS.                       */ 00438000
*   /*                                                               */ 00439000
*   /*****************************************************************/ 00440000
*                                                                  0321 00441000
*/* D (NO,%MDMTCB1,YES,%MDMLOOP) TCB COUNT = 0                       */ 00442000
*/*%MDMLOOP: L  AMDSABIN:  CONVERT TCB ADDRESS TO EBCDIC             */ 00443000
*/* P INITIALIZE MESSAGE AMD018I FOR TCB LOOP                        */ 00444000
*/* N THIS REQUIRES SETTING CBN18I, CBER18I, AND ADDR18I             */ 00445000
*/* L (,%MDMRC4)  AMDSACON:  ISSUE MESSAGE AMD018I                   */ 00446000
*   RESPECIFY R1 RESTRICTED;                                       0321 00447000
*   ERRORAD = TCBPTR;               /* GET TCB ADDRESS               */ 00448000
         ST    TCBPTR,ERRORAD                                      0322 00449000
*   R1 = ADDR(MDMBINL);             /* POINT TO CONVERT PARAMETER  0323 00450000
*                                      LIST                          */ 00451000
         LA    R1,MDMBINL                                          0323 00452000
*   SVC(BINSVC);                    /* CALL AMDSABIN TO CONVERT TO 0324 00453000
*                                      EBCDIC                        */ 00454000
         SVC   28                                                  0324 00455000
*   VCBN18I = 'TCB     ';           /* MOVE CONTROL BLOCK NAME TO  0325 00456000
*                                      MESSAGE                       */ 00457000
         L     @10,@CA01249                                        0325 00458000
         L     @09,VCTLPA(,VCCTREG)                                0325 00459000
         ALR   @10,@09                                             0325 00460000
         MVC   VCBN18I(8,@10),@CC01319                             0325 00461000
*   VCBER18I = LOOPMSG;             /* MOVE LOOP INDICATOR TO MESSAGE*/ 00462000
         L     @10,@CA01250                                        0326 00463000
         ALR   @10,@09                                             0326 00464000
         MVC   VCBER18I(7,@10),LOOPMSG                             0326 00465000
*   R1 = AMD018I;                   /* REQUEST MESSAGE AMD018I BE  0327 00466000
*                                      ISSUED                        */ 00467000
         LA    R1,18                                               0327 00468000
*   SVC(CONSVC);                    /* CALL AMDSACON TO ISSUE MESSAGE*/ 00469000
         SVC   3                                                   0328 00470000
*                                                                  0329 00471000
*   /*****************************************************************/ 00472000
*   /*                                                               */ 00473000
*   /* SET UP RETURN CODE OF 4 AND EXIT                              */ 00474000
*   /*                                                               */ 00475000
*   /*****************************************************************/ 00476000
*                                                                  0329 00477000
*/*%MDMRC4: P (,MDMRET) SET RETURN CODE = 4                          */ 00478000
*                                                                  0329 00479000
*MDMRC4:                                                           0329 00480000
*   SAVEBACK -> SAVER15 = 4;        /* SET RETURN CODE 4             */ 00481000
MDMRC4   L     @10,SAVEBACK(,R13)                                  0329 00482000
         MVC   SAVER15(4,@10),@CF00038                             0329 00483000
*                                                                  0330 00484000
*   /*****************************************************************/ 00485000
*   /*                                                               */ 00486000
*   /* DUMP REMAINING ARBS.                                          */ 00487000
*   /*                                                               */ 00488000
*   /*****************************************************************/ 00489000
*                                                                  0330 00490000
*/*%MDMRC0: P SET RETURN CODE = 0                                    */ 00491000
*/*MDMRET: P SET REGISTER 1 TO 0                                     */ 00492000
*/* L  AMDSAARD:  DUMP REMAINING ARBS                                */ 00493000
*/* P DEQUEUE RCB                                                    */ 00494000
*/* P RESTORE REGISTERS                                              */ 00495000
*/* R RETURN TO CALLER                                               */ 00496000
*                                                                  0330 00497000
*MDMRET:                                                           0330 00498000
*   R1 = 0;                         /* REQUEST DUMPING OF ARBS       */ 00499000
MDMRET   SLR   R1,R1                                               0330 00500000
*   SVC(ARDSVC);                    /* CALL AMDSAARD TO DUMP ARBS    */ 00501000
         SVC   16                                                  0331 00502000
*   CTBUFTYP = MDMBUFTP;            /* RESTORE ORIGINAL BUFFER     0332 00503000
*                                      REQUEST                       */ 00504000
         L     @10,VCTCCTV(,VCCTREG)                               0332 00505000
         STC   MDMBUFTP,CTBUFTYP(,@10)                             0332 00506000
*   VCTRCB = RCBNEXT;               /* DEQUEUE RCB FROM RCB CHAIN    */ 00507000
         LA    @10,MDMRCB                                          0333 00508000
         MVC   VCTRCB(4,VCCTREG),RCBNEXT(@10)                      0333 00509000
*   RETURN;                         /* RETURN TO CALLER              */ 00510000
@EL00001 L     @13,4(,@13)                                         0334 00511000
@EF00001 DS    0H                                                  0334 00512000
@ER00001 LM    @14,@12,12(@13)                                     0334 00513000
         BR    @14                                                 0334 00514000
*                                                                  0335 00515000
*   /*****************************************************************/ 00516000
*   /*                                                               */ 00517000
*   /* RCB EXIT - ISSUE MESSAGE AMD022I AND EXIT.                    */ 00518000
*   /*                                                               */ 00519000
*   /*****************************************************************/ 00520000
*                                                                  0335 00521000
*/*MDMEXIT: L  AMDSACON:  ISSUE MESSAGE AMD022I                      */ 00522000
*/* P RESET CTLSQA                                                   */ 00523000
*/* P (,MDMRET) SET RETURN CODE = 4                                  */ 00524000
*                                                                  0335 00525000
*MDMEXIT:                                                          0335 00526000
*   R1 = AMD022I;                   /* REQUEST MESSAGE AMD022I BE  0335 00527000
*                                      ISSUED                        */ 00528000
MDMEXIT  LA    R1,22                                               0335 00529000
*   SVC(CONSVC);                    /* CALL AMDSACON TO ISSUE MESSAGE*/ 00530000
         SVC   3                                                   0336 00531000
*   GO TO MDMRC4;                   /* SET UP RETURN CODE OF 4 AND 0337 00532000
*                                      EXIT                          */ 00533000
         B     MDMRC4                                              0337 00534000
*                                                                  0338 00535000
*   /*****************************************************************/ 00536000
*   /*                                                               */ 00537000
*   /* THIS IS THE EXTERNAL ENTRY TO THE SPQE SEARCH SUBROUTINE.     */ 00538000
*   /*                                                               */ 00539000
*   /*****************************************************************/ 00540000
*                                                                  0338 00541000
*/*AMDSASPQ: E AMDSASPQ                                              */ 00542000
*/* N ENTRY TO SPQE SEARCH ROUTINE                                   */ 00543000
*/* N REGISTER 1 CONTAINS FIRST SPQE ADDRESS                         */ 00544000
*/* P OBSERVE STANDARD LINKAGE CONVENTIONS                           */ 00545000
*/* L  SPQESRCH:  SEARCH SPQE CHAIN                                  */ 00546000
*/* R RETURN TO CALLER                                               */ 00547000
*                                                                  0338 00548000
*AMDSASPQ:                                                         0338 00549000
*   ENTRY;                                                         0338 00550000
@EP00338 DS    0H                                                  0339 00551000
*   RESPECIFY (R1,R13,RETCODE) RESTRICTED;                         0339 00552000
*   SAVEFORM(1:4) = 'LMDS';         /* MODULE ID TO SAVE AREA        */ 00553000
         MVC   SAVEFORM(4,R13),@CC01326                            0340 00554000
*   CALL SPQESRCH;                  /* CALL SPQE SEARCH SUBROUTINE   */ 00555000
         BAL   @14,SPQESRCH                                        0341 00556000
*   SAVEBACK -> SAVER15 = RETCODE;  /* SET UP RETURN CODE            */ 00557000
         L     @14,SAVEBACK(,R13)                                  0342 00558000
         ST    RETCODE,SAVER15(,@14)                               0342 00559000
*   RETURN;                         /* RETURN TO CALLER              */ 00560000
         B     @EL00001                                            0343 00561000
*   RESPECIFY (R1,R13,RETCODE) UNRESTRICTED;                       0344 00562000
*                                                                  0345 00563000
*   /*****************************************************************/ 00564000
*   /*                                                               */ 00565000
*   /* SPQE SEARCH SUBROUTINE - THIS ROUTINE SEARCHES THE SPQE CHAIN */ 00566000
*   /* WHOSE ADDRESS IS PASSED IN REGISTER 1. IF THE SPQE IS VALID,  */ 00567000
*   /* THE CORRESPONDING DQE IS OBTAINED AND THE STORAGE RANGE IS    */ 00568000
*   /* ENQUEUED FOR DUMPING.                                         */ 00569000
*   /*                                                               */ 00570000
*   /*****************************************************************/ 00571000
*                                                                  0345 00572000
*                                                                  0345 00573000
*SPQESRCH:                                                         0345 00574000
*   PROC OPTIONS(SAVEAREA);                                        0345 00575000
*                                                                  0345 00576000
SPQESRCH STM   @14,@12,12(@13)                                     0345 00577000
         ST    @13,@SA00002+4                                      0345 00578000
         LA    @14,@SA00002                                        0345 00579000
         ST    @14,8(,@13)                                         0345 00580000
         LR    @13,@14                                             0345 00581000
*   /*****************************************************************/ 00582000
*   /*                                                               */ 00583000
*   /* RCB FOR ERROR RECOVERY IN SPQE SEARCH                         */ 00584000
*   /*                                                               */ 00585000
*   /*****************************************************************/ 00586000
*                                                                  0346 00587000
*   DCL                                                            0346 00588000
*         1 SPQRCB BDY(WORD) CHAR(LENGTH(RCB)),                    0346 00589000
*             3 * PTR(31),                                         0346 00590000
*             3 SPQSTOR PTR(31),                                   0346 00591000
*             3 * PTR(31),                                         0346 00592000
*             3 * PTR(31),                                         0346 00593000
*             3 * PTR(31);                                         0346 00594000
*                                                                  0346 00595000
*   /*****************************************************************/ 00596000
*   /*                                                               */ 00597000
*   /* LOCAL CONSTANTS AND VARIABLES                                 */ 00598000
*   /*                                                               */ 00599000
*   /*****************************************************************/ 00600000
*                                                                  0347 00601000
*   DCL                                                            0347 00602000
*         SPQECNTR FIXED(31);       /* SPQE LOOP COUNTER             */ 00603000
*   DCL                                                            0348 00604000
*         SPQESDLI FIXED(31);       /* SUBPOOL DUMP LIST (SDL)     0348 00605000
*                                      COUNTER                       */ 00606000
*   DCL                                                            0349 00607000
*         SDLPTR PTR(31);           /* SDL ENTRY POINTER             */ 00608000
*   DCL                                                            0350 00609000
*         NUMSPQE FIXED(31) CONSTANT(256); /* MAXIMUM NUMBER OF SPQES*/ 00610000
*                                                                  0351 00611000
*   /*****************************************************************/ 00612000
*   /*                                                               */ 00613000
*   /* INITIALIZE RCB FOR ERROR RECOVERY. INITIALIZE COUNTERS.       */ 00614000
*   /*                                                               */ 00615000
*   /*****************************************************************/ 00616000
*                                                                  0351 00617000
*/*SPQESRCH: E SPQESRCH                                              */ 00618000
*/* N SPQE SEARCH ROUTINE                                            */ 00619000
*/* N REGISTER 1 CONTAINS FIRST SPQE ADDRESS                         */ 00620000
*/* P OBSERVE STANDARD LINKAGE CONVENTIONS                           */ 00621000
*/* P (NORM,,RCB,SPQEXIT) ESTABLISH RCB FOR ERROR RECOVERY (VCTRCB)  */ 00622000
*/* P INITIALIZE SPQE COUNTER TO 256                                 */ 00623000
*/* P SET UP RETURN CODE OF 0                                        */ 00624000
*   RESPECIFY (R1,R13) RESTRICTED;                                 0351 00625000
*   RESPECIFY RCB BASED(ADDR(SPQRCB));                             0352 00626000
*   SPQESPTR = R1;                  /* PICK UP SPQE ADDRESS PASSED BY   00627000
*                                      CALLER                        */ 00628000
         LR    SPQESPTR,R1                                         0353 00629000
*   SAVEFORM(1:4) = 'LSPQ';         /* MODULE ID TO SAVE AREA        */ 00630000
         MVC   SAVEFORM(4,R13),@CC01342                            0354 00631000
*   RCBNEXT = VCTRCB;               /* PICK UP CURRENT RCB CHAIN     */ 00632000
         LA    @10,SPQRCB                                          0355 00633000
         MVC   RCBNEXT(4,@10),VCTRCB(VCCTREG)                      0355 00634000
*   RCBEXIT = ADDR(SPQEXIT);        /* SET UP EXIT ADDRESS           */ 00635000
         LA    @04,SPQEXIT                                         0356 00636000
         ST    @04,RCBEXIT(,@10)                                   0356 00637000
*   RCBSAVE = R13;                  /* SAVE AREA POINTER TO RCB      */ 00638000
         ST    R13,RCBSAVE(,@10)                                   0357 00639000
*   RCBBASE = BASEREG;              /* BASE REGISTER VALUE TO RCB    */ 00640000
         ST    BASEREG,RCBBASE(,@10)                               0358 00641000
*   GENERATE REFS(R1) SETS(SPQSTOR) FLOWS(SPQEXIT)                 0359 00642000
*         (STCTL R1,R1,SPQSTOR);    /* SEGMENT TABLE ORIGIN TO RCB   */ 00643000
         STCTL R1,R1,SPQSTOR                                            00644000
*   VCTRCB = ADDR(SPQRCB);          /* MAKE RCB ACTIVE               */ 00645000
         LA    @10,SPQRCB                                          0360 00646000
         ST    @10,VCTRCB(,VCCTREG)                                0360 00647000
*   SAVEBACK -> SAVER15 = 0;        /* SET UP RETURN CODE 0          */ 00648000
         SLR   @10,@10                                             0361 00649000
         L     @04,SAVEBACK(,R13)                                  0361 00650000
         ST    @10,SAVER15(,@04)                                   0361 00651000
*   IF SPQESPTR = 0 THEN            /* SPQE ADDRESS OF 0             */ 00652000
         CR    SPQESPTR,@10                                        0362 00653000
         BE    @RT00362                                            0362 00654000
*     GO TO SPQRET;                 /* YES - RETURN                  */ 00655000
*   RESPECIFY R1 UNRESTRICTED;                                     0364 00656000
*                                                                  0365 00657000
*   /*****************************************************************/ 00658000
*   /*                                                               */ 00659000
*   /* SEARCH THE SPQE CHAIN. VALIDITY CHECK EACH SPQE. IF AN SPQE IS*/ 00660000
*   /* INVALID, TERMINATE THE SEARCH.                                */ 00661000
*   /*                                                               */ 00662000
*   /*****************************************************************/ 00663000
*                                                                  0365 00664000
*/*SPQVLD1: P SET VCTCBADR TO SPQE ADDRESS                           */ 00665000
*/* P SET VCTCBID TO SPQE ID                                         */ 00666000
*/* L  AMDSAVCK:  VALIDITY CHECK SPQE                                */ 00667000
*/* D (YES,%SPQOK,NO,SPQEXIT) RC  =  0                               */ 00668000
*   DO SPQECNTR = NUMSPQE TO 1 BY -1; /* SEARCH ALL SPQES            */ 00669000
         LA    SPQECNTR,256                                        0365 00670000
@DL00365 DS    0H                                                  0366 00671000
*     VCTCBADR = SPQESPTR;          /* SPQE ADDRESS FOR VALIDITY   0366 00672000
*                                      CHECK                         */ 00673000
         ST    SPQESPTR,VCTCBADR(,VCCTREG)                         0366 00674000
*     VCTCBIDN = VSPQEID;           /* SPQE CONTROL BLOCK ID         */ 00675000
         MVI   VCTCBIDN(VCCTREG),X'0B'                             0367 00676000
*     SVC(VCKSVC);                  /* CALL AMDSAVCK TO VALIDITY   0368 00677000
*                                      CHECK THE SPQE                */ 00678000
         SVC   25                                                  0368 00679000
*     RESPECIFY RETCODE RESTRICTED;                                0369 00680000
*     IF RETCODE ^= 0 THEN          /* SPQE VALID                    */ 00681000
         LTR   RETCODE,RETCODE                                     0370 00682000
         BNZ   @RT00370                                            0370 00683000
*       GO TO SPQEXIT;              /* YES - EXIT                    */ 00684000
*       RESPECIFY RETCODE UNRESTRICTED;                            0372 00685000
*                                                                  0373 00686000
*   /*****************************************************************/ 00687000
*   /*                                                               */ 00688000
*   /* SPQE IS VALID. CHECK IF THE SUBPOOL                           */ 00689000
*   /* SHOULD BE DUMPED.                                             */ 00690000
*   /*                                                               */ 00691000
*   /*****************************************************************/ 00692000
*                                                                  0373 00693000
*/*%SPQOK: D (YES,%SPQEON,NO,SPQENEXT) SPQEID ON SDL                 */ 00694000
*     RESPECIFY SDL BASED(SDLPTR);                                 0373 00695000
*     SDLPTR = VCTSUBPL + 4 + VCTLPA; /* GET VIRTUAL ADDRESS OF SDL,    00696000
*                                      SKIPPING THE ACRONYM          */ 00697000
         LA    SDLPTR,4                                            0374 00698000
         AL    SDLPTR,VCTSUBPL(,VCCTREG)                           0374 00699000
         AL    SDLPTR,VCTLPA(,VCCTREG)                             0374 00700000
*     SPQESDLI = SDLNUM;            /* GET NUMBER OF ENTRIES ON SDL  */ 00701000
         SLR   SPQESDLI,SPQESDLI                                   0375 00702000
         IC    SPQESDLI,SDLNUM(,SDLPTR)                            0375 00703000
*     DO SPQESDLI = SPQESDLI TO 1 BY -1; /* SEARCH THE SDL           */ 00704000
         B     @DE00376                                            0376 00705000
@DL00376 DS    0H                                                  0377 00706000
*       IF SPQEID = SDLSPN THEN     /* IS SUBPOOL ON SDL             */ 00707000
         CLC   SPQEID(1,SPQESPTR),SDLSPN(SDLPTR)                   0377 00708000
         BE    @RT00377                                            0377 00709000
*         GO TO SPQEON;             /* YES - CONTINUE                */ 00710000
*       SDLPTR = SDLPTR + LENGTH(SDLSPN); /* POINT TO NEXT ENTRY ON     00711000
*                                      SDL                           */ 00712000
         AH    SDLPTR,@CH00074                                     0379 00713000
*     END;                          /* CONTINUE SDL SEARCH           */ 00714000
         BCTR  SPQESDLI,0                                          0380 00715000
@DE00376 LTR   SPQESDLI,SPQESDLI                                   0380 00716000
         BP    @DL00376                                            0380 00717000
*     GO TO SPQENEXT;               /* SUBPOOL NOT ON SDL            */ 00718000
         B     SPQENEXT                                            0381 00719000
*                                                                  0382 00720000
*   /*****************************************************************/ 00721000
*   /*                                                               */ 00722000
*   /* SPQE IS ON SDL. IF IT IS OWNED, SEARCH THE DQE CHAIN TO BUILD */ 00723000
*   /* ARBS FOR THE STORAGE RANGES IN THE SUBPOOL.                   */ 00724000
*   /*                                                               */ 00725000
*   /*****************************************************************/ 00726000
*                                                                  0382 00727000
*/*%SPQEON: D (NO,,YES,SPQENEXT) SPSHARE BIT ON                      */ 00728000
*/* N SUBPOOL IS OWNED                                               */ 00729000
*/* P PLACE SPDQEPTR IN REGISTER 1                                   */ 00730000
*/* S AMDSADQE: SEARCH DQE CHAIN                                     */ 00731000
*                                                                  0382 00732000
*SPQEON:                                                           0382 00733000
*     IF SPSHARE = OFF THEN         /* IS SUBPOOL OWNED BY THIS TASK */ 00734000
SPQEON   TM    SPSHARE(SPQESPTR),B'10000000'                       0382 00735000
         BNZ   @RF00382                                            0382 00736000
*       DO;                         /* YES - DUMP SUBPOOL            */ 00737000
*         RESPECIFY (R1,RETCODE) RESTRICTED;                       0384 00738000
*         R1 = SPDQEPTR;            /* GET DQE ADDRESS               */ 00739000
         L     R1,SPDQEPTR(,SPQESPTR)                              0385 00740000
*         CALL AMDSADQE;            /* SEARCH DQE CHAIN              */ 00741000
         BAL   @14,AMDSADQE                                        0386 00742000
*         IF RETCODE ^= 0 THEN      /* ERROR IN DQE SEARCH           */ 00743000
         LTR   RETCODE,RETCODE                                     0387 00744000
         BZ    @RF00387                                            0387 00745000
*           SAVEBACK -> SAVER15 = RETCODE; /* INDICATE ERROR         */ 00746000
         L     @14,SAVEBACK(,R13)                                  0388 00747000
         ST    RETCODE,SAVER15(,@14)                               0388 00748000
*         RESPECIFY (R1,RETCODE) UNRESTRICTED;                     0389 00749000
@RF00387 DS    0H                                                  0390 00750000
*       END;                                                       0390 00751000
*                                                                  0391 00752000
*   /*****************************************************************/ 00753000
*   /*                                                               */ 00754000
*   /* CHECK IF END OF SPQE CHAIN HAS BEEN REACHED. IF SO, EXIT. IF  */ 00755000
*   /* NOT, CONTINUE DOWN THE SPQE CHAIN.                            */ 00756000
*   /*                                                               */ 00757000
*   /*****************************************************************/ 00758000
*                                                                  0391 00759000
*/*SPQENEXT: P DECREMENT SPQE COUNTER                                */ 00760000
*/* D (YES,SPQRET,NO,%SPQLP) SPQEAD = 0                              */ 00761000
*/*%SPQLP: D (NO,,YES,%SPQ18I) SPQE COUNTER = 0                      */ 00762000
*/* D (NO,,YES,SPQRET) LASTSPQE BIT ON                               */ 00763000
*/* P (,SPQVLD1) MAKE NEXT SPQE CURRENT                              */ 00764000
*                                                                  0391 00765000
*SPQENEXT:                                                         0391 00766000
*     IF SPQEAD = 0 | LASTSPQE = ON THEN /* IS THIS THE LAST SPQE    */ 00767000
@RF00382 DS    0H                                                  0391 00768000
SPQENEXT L     @10,SPQEAD(,SPQESPTR)                               0391 00769000
         LTR   @10,@10                                             0391 00770000
         BZ    @RT00391                                            0391 00771000
         TM    LASTSPQE(SPQESPTR),B'01000000'                      0391 00772000
         BO    @RT00391                                            0391 00773000
*       GO TO SPQRET;               /* YES - DONE                    */ 00774000
*     SPQESPTR = SPQEAD;            /* GET ADDRESS OF NEXT SPQE      */ 00775000
         LR    SPQESPTR,@10                                        0393 00776000
*   END;                            /* CONTINUE SPQE SEARCH          */ 00777000
         BCTR  SPQECNTR,0                                          0394 00778000
         LTR   SPQECNTR,SPQECNTR                                   0394 00779000
         BP    @DL00365                                            0394 00780000
*                                                                  0395 00781000
*   /*****************************************************************/ 00782000
*   /*                                                               */ 00783000
*   /* IF WE ENTER HERE, MORE THAN 256 SPQES EXIST ON THE CHAIN, I.E.*/ 00784000
*   /* THE LASTSPQE BIT IS ALWAYS OFF AND THE LINK FIELD IS ALWAYS   */ 00785000
*   /* NON-ZERO. THIS IS A PROBABLE LOOP.                            */ 00786000
*   /*                                                               */ 00787000
*   /*****************************************************************/ 00788000
*                                                                  0395 00789000
*/*%SPQ18I: P INITIALIZE MESSAGE AMD018I FOR SPQE LOOP               */ 00790000
*/* N THIS REQUIRES SETTING CBER18I                                  */ 00791000
*   VCBER18I = LOOPMSG;             /* SET UP FOR LOOP MESSAGE       */ 00792000
*                                                                  0395 00793000
         L     @10,@CA01250                                        0395 00794000
         AL    @10,VCTLPA(,VCCTREG)                                0395 00795000
         MVC   VCBER18I(7,@10),LOOPMSG                             0395 00796000
*   /*****************************************************************/ 00797000
*   /*                                                               */ 00798000
*   /* CONVERT CURRENT SPQE ADDRESS TO EBCDIC AND ISSUE MESSAGE      */ 00799000
*   /* AMD018I.                                                      */ 00800000
*   /*                                                               */ 00801000
*   /*****************************************************************/ 00802000
*                                                                  0396 00803000
*/* L  AMDSABIN:  CONVERT SPQE ADDRESS TO EBCDIC                     */ 00804000
*/* P INITIALIZE MESSAGE AMD018I WITH ADDRESS AND NAME               */ 00805000
*/* N THIS REQUIRES SETTING CBN18I, AND ADDR18I                      */ 00806000
*/* L (,SPQEXIT)  AMDSACON:  ISSUE MESSAGE AMD018I                   */ 00807000
*                                                                  0396 00808000
*SPQMSG18:                                                         0396 00809000
*   ERRORAD = SPQESPTR;             /* SET UP CURRENT SPQE ADDRESS   */ 00810000
SPQMSG18 ST    SPQESPTR,ERRORAD                                    0396 00811000
*   RESPECIFY R1 RESTRICTED;                                       0397 00812000
*   R1 = ADDR(MDMBINL);             /* POINT TO CONVERT PARAMETER  0398 00813000
*                                      LIST                          */ 00814000
         LA    R1,MDMBINL                                          0398 00815000
*   SVC(BINSVC);                    /* CALL AMDSABIN TO CONVERT ADDR    00816000
*                                      TO EBCDIC                     */ 00817000
         SVC   28                                                  0399 00818000
*   VCBN18I = 'SPQE    ';           /* SET UP CONTROL BLOCK NAME     */ 00819000
         L     @10,@CA01249                                        0400 00820000
         AL    @10,VCTLPA(,VCCTREG)                                0400 00821000
         MVC   VCBN18I(8,@10),@CC01353                             0400 00822000
*   R1 = AMD018I;                   /* REQUEST MESSAGE AMD018I BE  0401 00823000
*                                      ISSUED                        */ 00824000
         LA    R1,18                                               0401 00825000
*   SVC(CONSVC);                    /* CALL AMDSACON TO ISSUE MESSAGE*/ 00826000
*                                                                  0402 00827000
         SVC   3                                                   0402 00828000
*   /*****************************************************************/ 00829000
*   /*                                                               */ 00830000
*   /* SPQE ERROR EXIT - SET UP RETURN CODE OF 4 AND EXIT.           */ 00831000
*   /*                                                               */ 00832000
*   /*****************************************************************/ 00833000
*                                                                  0403 00834000
*/*SPQEXIT: P (,SPQRET) SET UP RETURN CODE OF 4                      */ 00835000
*                                                                  0403 00836000
*SPQEXIT:                                                          0403 00837000
*   SAVEBACK -> SAVER15 = 4;        /* SET UP ERROR RETURN CODE      */ 00838000
SPQEXIT  L     @10,SAVEBACK(,R13)                                  0403 00839000
         MVC   SAVER15(4,@10),@CF00038                             0403 00840000
*   RESPECIFY R1 UNRESTRICTED;                                     0404 00841000
*                                                                  0405 00842000
*   /*****************************************************************/ 00843000
*   /*                                                               */ 00844000
*   /* COMMON RETURN PATH - DEQUEUE THE RCB AND RETURN TO CALLER.    */ 00845000
*   /*                                                               */ 00846000
*   /*****************************************************************/ 00847000
*                                                                  0405 00848000
*/*SPQRET: P DEQUEUE RCB                                             */ 00849000
*/* P PLACE RETURN CODE IN REGISTER 15                               */ 00850000
*/* P RESTORE REGISTERS                                              */ 00851000
*/* R RETURN TO CALLER                                               */ 00852000
*                                                                  0405 00853000
*SPQRET:                                                           0405 00854000
*   VCTRCB = RCBNEXT;               /* DEQUEUE RCB                   */ 00855000
SPQRET   LA    @10,SPQRCB                                          0405 00856000
         MVC   VCTRCB(4,VCCTREG),RCBNEXT(@10)                      0405 00857000
*   RETURN;                         /* RETURN TO CALLER              */ 00858000
@EL00002 L     @13,4(,@13)                                         0406 00859000
@EF00002 DS    0H                                                  0406 00860000
@ER00002 LM    @14,@12,12(@13)                                     0406 00861000
         BR    @14                                                 0406 00862000
*   END SPQESRCH;                                                  0407 00863000
*                                                                  0408 00864000
*   /*****************************************************************/ 00865000
*   /*                                                               */ 00866000
*   /* DQE SEARCH ROUTINE - THIS ROUTINE SEARCHES THE DQE CHAIN,     */ 00867000
*   /* CALLING AMDSAARD TO ENQUEUE THE STORAGE RANGES FOR DUMPING.   */ 00868000
*   /* INPUT IS THE ADDRESS OF THE DQE CHAIN IN REGISTER 1.          */ 00869000
*   /*                                                               */ 00870000
*   /*****************************************************************/ 00871000
*                                                                  0408 00872000
*                                                                  0408 00873000
*AMDSADQE:                                                         0408 00874000
*   PROC OPTIONS(SAVEAREA);                                        0408 00875000
*                                                                  0408 00876000
AMDSADQE STM   @14,@12,12(@13)                                     0408 00877000
         ST    @13,@SA00003+4                                      0408 00878000
         LA    @14,@SA00003                                        0408 00879000
         ST    @14,8(,@13)                                         0408 00880000
         LR    @13,@14                                             0408 00881000
*   /*****************************************************************/ 00882000
*   /*                                                               */ 00883000
*   /* INTERNAL CONSTANTS AND VARIABLES                              */ 00884000
*   /*                                                               */ 00885000
*   /*****************************************************************/ 00886000
*                                                                  0409 00887000
*   DCL                                                            0409 00888000
*         NUMDQE FIXED(31) CONSTANT(1024); /* MAXIMUM NUMBER OF DQES    00889000
*                                      THAT WILL BE EXAMINED - THIS     00890000
*                                      NUMBER REPRESENTS AT LEAST 8     00891000
*                                      MEGABYTES OF STORAGE          */ 00892000
*   DCL                                                            0410 00893000
*         DQERRCNT FIXED(31);       /* DQE ERROR COUNTER             */ 00894000
*   DCL                                                            0411 00895000
*         DQECNTR FIXED(31);        /* DQE LOOP COUNTER              */ 00896000
*                                                                  0412 00897000
*   /*****************************************************************/ 00898000
*   /*                                                               */ 00899000
*   /* INITIALIZE COUNTERS                                           */ 00900000
*   /*                                                               */ 00901000
*   /*****************************************************************/ 00902000
*                                                                  0412 00903000
*/*AMDSADQE: E AMDSADQE                                              */ 00904000
*/* N SEARCH DQES AND BUILD ARBS                                     */ 00905000
*/* N DQE ADDRESS IN REGISTER 1                                      */ 00906000
*/* P OBSERVE STANDARD LINKAGE CONVENTIONS                           */ 00907000
*/* P SET DQE COUNTER TO 1024                                        */ 00908000
*/* P SET DQE ERROR COUNT TO 0                                       */ 00909000
*   RESPECIFY R1 RESTRICTED;                                       0412 00910000
*   SAVEFORM(1:4) = 'LSPQ';         /* SET UP MODULE ID              */ 00911000
         MVC   SAVEFORM(4,R13),@CC01342                            0413 00912000
*   DQERRCNT = 0;                   /* RESET DQE ERROR COUNTER       */ 00913000
         SLR   @10,@10                                             0414 00914000
         LR    DQERRCNT,@10                                        0414 00915000
*   DQESEPTR = R1;                  /* PICK UP DQE CHAIN ADDR PASSED    00916000
*                                      BY CALLER                     */ 00917000
         LR    DQESEPTR,R1                                         0415 00918000
*   IF DQESEPTR = 0 THEN            /* DQE ADDRESS OF 0              */ 00919000
         CR    DQESEPTR,@10                                        0416 00920000
         BE    @RT00416                                            0416 00921000
*     GO TO DQERET;                 /* YES - RETURN                  */ 00922000
*   RESPECIFY R1 UNRESTRICTED;                                     0418 00923000
*                                                                  0418 00924000
*   /*****************************************************************/ 00925000
*   /*                                                               */ 00926000
*   /* SEARCH DQE CHAIN. VALIDITY CHECK EACH DQE. IF INVALID,        */ 00927000
*   /* INCREMENT THE ERROR COUNT.                                    */ 00928000
*   /*                                                               */ 00929000
*   /*****************************************************************/ 00930000
*                                                                  0419 00931000
*/*DQEVLD: P SET VCTCBADR TO DQE ADDRESS                             */ 00932000
*/* P SET VCTCBID TO DQE ID                                          */ 00933000
*/* L  AMDSAVCK:  VALIDITY CHECK DQE                                 */ 00934000
*/* D (YES,%DQEOK,NO,%DQERC4) RC  =  0                               */ 00935000
*   DO DQECNTR = NUMDQE TO 1 BY -1; /* SEARCH DQE CHAIN              */ 00936000
         LA    DQECNTR,1024                                        0419 00937000
@DL00419 DS    0H                                                  0420 00938000
*     VCTCBADR = DQESEPTR;          /* DQE ADDRESS FOR VALIDITY CHECK*/ 00939000
         ST    DQESEPTR,VCTCBADR(,VCCTREG)                         0420 00940000
*     VCTCBIDN = VDQEID;            /* DQE CONTROL BLOCK ID          */ 00941000
         MVI   VCTCBIDN(VCCTREG),X'07'                             0421 00942000
*     SVC(VCKSVC);                  /* CALL AMDSAVCK TO VALIDITY   0422 00943000
*                                      CHECK THE DQE                 */ 00944000
         SVC   25                                                  0422 00945000
*     RESPECIFY RETCODE RESTRICTED;                                0423 00946000
*     IF RETCODE ^= 0 THEN          /* DQE VALID                     */ 00947000
         LTR   RETCODE,RETCODE                                     0424 00948000
         BZ    @RF00424                                            0424 00949000
*       DO;                         /* NO -                          */ 00950000
*         DQERRCNT = 1;             /* IINDICATE DQE ERROR           */ 00951000
         LA    DQERRCNT,1                                          0426 00952000
*         GO TO DQERET;             /* EXIT                          */ 00953000
         B     DQERET                                              0427 00954000
*       END;                                                       0428 00955000
*     RESPECIFY RETCODE UNRESTRICTED;                              0429 00956000
@RF00424 DS    0H                                                  0430 00957000
*                                                                  0430 00958000
*   /*****************************************************************/ 00959000
*   /*                                                               */ 00960000
*   /* DQE IS VALID. CALL AMDSAARD TO ENQUEUE STORAGE RANGE FOR      */ 00961000
*   /* DUMPING.                                                      */ 00962000
*   /*                                                               */ 00963000
*   /*****************************************************************/ 00964000
*                                                                  0430 00965000
*/*%DQEOK: P PLACE DQEBLKAD IN REGISTER 1                            */ 00966000
*/* P PLACE DQELNTH IN REGISTER 0                                    */ 00967000
*/* D (YES,,NO,DQENEXT) R0 AND R1 NON-ZERO                           */ 00968000
*/* L  AMDSAARD:  BUILD ARB FOR ADDRESS RANGE                        */ 00969000
*     RESPECIFY (R0,R1) RESTRICTED;                                0430 00970000
*     R1 = DQEBLKAD;                /* STORAGE ADDRESS FOR DUMPING   */ 00971000
         L     R1,DQEBLKAD(,DQESEPTR)                              0431 00972000
*     R0 = DQELNTH;                 /* STORAGE LENGTH FOR DUMPING    */ 00973000
         L     R0,DQELNTH(,DQESEPTR)                               0432 00974000
*     IF (R1 ^= 0) & (R0 ^= 0) THEN /* ADDRESS AND LENGTH NON-ZERO   */ 00975000
         SLR   @10,@10                                             0433 00976000
         CR    R1,@10                                              0433 00977000
         BE    @RF00433                                            0433 00978000
         CR    R0,@10                                              0433 00979000
         BE    @RF00433                                            0433 00980000
*       SVC(ARDSVC);                /* YES-CALL AMDSAARD TO BUILD ARBS  00981000
*                                      FOR DUMPING                   */ 00982000
         SVC   16                                                  0434 00983000
*     RESPECIFY (R0,R1) UNRESTRICTED;                              0435 00984000
*                                                                  0435 00985000
@RF00433 DS    0H                                                  0436 00986000
*   /*****************************************************************/ 00987000
*   /*                                                               */ 00988000
*   /* CONTINUE DOWN THE DQE CHAIN.                                  */ 00989000
*   /*                                                               */ 00990000
*   /*****************************************************************/ 00991000
*                                                                  0436 00992000
*/*DQENEXT: P DECREMENT DQE COUNTER                                  */ 00993000
*/* D (NO,,YES,%DQERC0) DQEPTR = 0                                   */ 00994000
*/* D (NO,,YES,%DQE18I) DQE COUNTER = 0                              */ 00995000
*/* P (,DQEVLD) MAKE NEXT DQE CURRENT                                */ 00996000
*                                                                  0436 00997000
*DQENEXT:                                                          0436 00998000
*     IF DQEPTR = 0 THEN            /* END OF CHAIN                  */ 00999000
DQENEXT  L     @10,DQEPTR(,DQESEPTR)                               0436 01000000
         LTR   @10,@10                                             0436 01001000
         BZ    @RT00436                                            0436 01002000
*       GO TO DQERET;               /* YES - RETURN                  */ 01003000
*     DQESEPTR = DQEPTR;            /* GET NEXT DQE                  */ 01004000
         LR    DQESEPTR,@10                                        0438 01005000
*   END;                            /* CONTINUE DONE DQE CHAIN       */ 01006000
         BCTR  DQECNTR,0                                           0439 01007000
         LTR   DQECNTR,DQECNTR                                     0439 01008000
         BP    @DL00419                                            0439 01009000
*                                                                  0440 01010000
*   /*****************************************************************/ 01011000
*   /*                                                               */ 01012000
*   /* IF WE ENTER HERE, THE END OF THE DQE CHAIN WAS NOT REACHED    */ 01013000
*   /* AFTER INSPECTING 1024 DQES. THIS IS A PROBABLE LOOP.          */ 01014000
*   /*                                                               */ 01015000
*   /*****************************************************************/ 01016000
*                                                                  0440 01017000
*/*%DQE18I: L  AMDSABIN: CONVERT DQE ADDRESS TO EBCDIC               */ 01018000
*/* P INITIALIZE MESSAGE AMD018I FOR DQE LOOP                        */ 01019000
*/* N THIS REQUIRES SETTING CBN18I, CBER18I, AND ADDR18I             */ 01020000
*/* L  AMDSACON:  ISSUE MESSAGE AMD018I                              */ 01021000
*   RESPECIFY R1 RESTRICTED;                                       0440 01022000
*   ERRORAD = DQESEPTR;             /* SET UP DQE ADDRESS FOR ERROR  */ 01023000
         ST    DQESEPTR,ERRORAD                                    0441 01024000
*   R1 = ADDR(MDMBINL);             /* POINT TO CONVERT PARAMETER  0442 01025000
*                                      LIST                          */ 01026000
         LA    R1,MDMBINL                                          0442 01027000
*   SVC(BINSVC);                    /* CALL AMDSABIN TO CONVERT ADDR    01028000
*                                      TO EBCDIC                     */ 01029000
         SVC   28                                                  0443 01030000
*   VCBN18I = VCTCBID;              /* CONTROL BLOCK NAME TO MESSAGE */ 01031000
         L     @10,@CA01249                                        0444 01032000
         L     @04,VCTLPA(,VCCTREG)                                0444 01033000
         ALR   @10,@04                                             0444 01034000
         MVC   VCBN18I(8,@10),VCTCBID(VCCTREG)                     0444 01035000
*   VCBER18I = LOOPMSG;             /* LOOP ERROR INDICATOR TO     0445 01036000
*                                      MESSAGE                       */ 01037000
         L     @10,@CA01250                                        0445 01038000
         ALR   @10,@04                                             0445 01039000
         MVC   VCBER18I(7,@10),LOOPMSG                             0445 01040000
*   R1 = AMD018I;                   /* REQUEST MESSAGE AMD018I BE  0446 01041000
*                                      ISSUED                        */ 01042000
         LA    R1,18                                               0446 01043000
*   SVC(CONSVC);                    /* CALL AMDSACON TO ISSUE MESSAGE*/ 01044000
         SVC   3                                                   0447 01045000
*   DQERRCNT = 1;                   /* INDICATE ERROR OCCURRED       */ 01046000
         LA    DQERRCNT,1                                          0448 01047000
*   RESPECIFY R1 UNRESTRICTED;                                     0449 01048000
*                                                                  0450 01049000
*   /*****************************************************************/ 01050000
*   /*                                                               */ 01051000
*   /* SET UP RETURN CODE AND RETURN TO CALLER.                      */ 01052000
*   /*                                                               */ 01053000
*   /*****************************************************************/ 01054000
*                                                                  0450 01055000
*/*%DQERC4: P (,DQERET) SET UP RETURN CODE OF 4                      */ 01056000
*/*%DQERC0: P SET UP RETURN CODE OF 0                                */ 01057000
*/*DQERET: P RESTORE REGISTERS AND RETURN CODE                       */ 01058000
*/* R RETURN TO CALLER                                               */ 01059000
*                                                                  0450 01060000
*DQERET:                                                           0450 01061000
*   RESPECIFY RETCODE RESTRICTED;                                  0450 01062000
DQERET   DS    0H                                                  0451 01063000
*   RETCODE = 0;                    /* SET UP RETURN CODE 0          */ 01064000
         SLR   @10,@10                                             0451 01065000
         LR    RETCODE,@10                                         0451 01066000
*   IF DQERRCNT ^= 0 THEN           /* DID ANY ERRORS OCCUR          */ 01067000
         CR    DQERRCNT,@10                                        0452 01068000
         BE    @RF00452                                            0452 01069000
*     RETCODE = 4;                  /* YES - SET ERROR RETURN CODE   */ 01070000
         LA    RETCODE,4                                           0453 01071000
*   RETURN CODE(RETCODE);           /* RETURN TO CALLER              */ 01072000
@RF00452 L     @13,4(,@13)                                         0454 01073000
         L     @14,12(,@13)                                        0454 01074000
         LM    @00,@12,20(@13)                                     0454 01075000
         BR    @14                                                 0454 01076000
*   RESPECIFY RETCODE UNRESTRICTED;                                0455 01077000
*   END AMDSADQE;                                                  0456 01078000
*   END AMDSAMDM                                                   0457 01079000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      * 01080000
*/*%INCLUDE SYSLIB  (IHAASCB )                                        * 01081000
*/*%INCLUDE SYSLIB  (IHAASXB )                                        * 01082000
*/*%INCLUDE SYSLIB  (IHADQE  )                                        * 01083000
*/*%INCLUDE SYSLIB  (IHALDA  )                                        * 01084000
*/*%INCLUDE SYSLIB  (IHASPQE )                                        * 01085000
*/*%INCLUDE SYSLIB  (IKJTCB  )                                        * 01086000
*/*%INCLUDE SYSLIB  (AMDSARMK)                                        * 01087000
*;                                                                 0457 01088000
@DATA    DS    0H                                                       01089000
@CH00074 DC    H'1'                                                     01090000
         DS    0F                                                       01091000
@SA00001 DS    18F                                                      01092000
@SA00002 DS    18F                                                      01093000
@SA00003 DS    18F                                                      01094000
         DS    0F                                                       01095000
@CF00038 DC    F'4'                                                     01096000
@CA01229 DC    A(LNG22I)                                                01097000
@CA01235 DC    A(DMP22I)                                                01098000
@CA01249 DC    A(CBN18I)                                                01099000
@CA01250 DC    A(CBER18I)                                               01100000
@CA01251 DC    A(ADDR18I)                                               01101000
         DS    0D                                                       01102000
ERRORAD  DC    A(0)                                                     01103000
I        DS    F                                                        01104000
@CC01319 DC    C'TCB     '                                              01105000
@CC01353 DC    C'SPQE    '                                              01106000
@CC01305 DC    C'LMDM'                                                  01107000
@CC01326 DC    C'LMDS'                                                  01108000
@CC01342 DC    C'LSPQ'                                                  01109000
MDMRCB   DS    CL20                                                     01110000
         ORG   MDMRCB                                                   01111000
@NM00036 DS    AL4                                                      01112000
MDMSTOR  DS    AL4                                                      01113000
@NM00037 DS    AL4                                                      01114000
@NM00038 DS    AL4                                                      01115000
@NM00039 DS    AL4                                                      01116000
         ORG   MDMRCB+20                                                01117000
LCLSUBPL DC    CL14'LOCAL SUBPOOLS'                                     01118000
TCBMG    DS    CL15                                                     01119000
         ORG   TCBMG                                                    01120000
@NM00042 DC    CL9' FOR TCB='                                           01121000
TCBADDR  DC    CL6' '                                                   01122000
         ORG   TCBMG+15                                                 01123000
LCLMEMRY DC    CL12'LOCAL MEMORY'                                       01124000
CHARSWA  DC    CL3'SWA'                                                 01125000
CHARLSQA DC    CL4'LSQA'                                                01126000
LOOPMSG  DC    CL7'LOOP IN'                                             01127000
MDMSWTCH DC    X'00'                                                    01128000
         ORG   MDMSWTCH                                                 01129000
MDMBKDSR DS    BL1                                                      01130000
         ORG   MDMSWTCH+1                                               01131000
MDMBINL  DS    CL10                                                     01132000
         ORG   MDMBINL                                                  01133000
MDMBINA  DS    AL4                                                      01134000
MDMEBCA  DS    AL4                                                      01135000
MDMBLEN  DC    AL2(4-1)                                                 01136000
         ORG   MDMBINL+10                                               01137000
         DS    CL2                                                      01138000
SDLH     DS    CL20                                                     01139000
         ORG   SDLH                                                     01140000
@NM00043 DC    CL4'SDL '                                                01141000
SDLHCNT  DC    AL1(8)                                                   01142000
@NM00044 DC    AL1(229)                                                 01143000
@NM00045 DC    AL1(230)                                                 01144000
@NM00046 DC    AL1(231)                                                 01145000
@NM00047 DC    AL1(236)                                                 01146000
@NM00048 DC    AL1(237)                                                 01147000
@NM00049 DC    AL1(239)                                                 01148000
@NM00050 DC    AL1(241)                                                 01149000
@NM00051 DC    AL1(255)                                                 01150000
@NM00052 DC    AL1(0)                                                   01151000
@NM00053 DC    AL1(0)                                                   01152000
@NM00054 DC    AL1(0)                                                   01153000
@NM00055 DC    AL1(0)                                                   01154000
@NM00056 DC    AL1(0)                                                   01155000
@NM00057 DC    AL1(0)                                                   01156000
@NM00058 DC    AL1(0)                                                   01157000
         ORG   SDLH+20                                                  01158000
SPQRCB   DS    CL20                                                     01159000
         ORG   SPQRCB                                                   01160000
@NM00059 DS    AL4                                                      01161000
SPQSTOR  DS    AL4                                                      01162000
@NM00060 DS    AL4                                                      01163000
@NM00061 DS    AL4                                                      01164000
@NM00062 DS    AL4                                                      01165000
         ORG   SPQRCB+20                                                01166000
MDMPATCH DC    25F'0'                                                   01167000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       01168000
@01      EQU   01                                                       01169000
@02      EQU   02                                                       01170000
@03      EQU   03                                                       01171000
@04      EQU   04                                                       01172000
@05      EQU   05                                                       01173000
@06      EQU   06                                                       01174000
@07      EQU   07                                                       01175000
@08      EQU   08                                                       01176000
@09      EQU   09                                                       01177000
@10      EQU   10                                                       01178000
@11      EQU   11                                                       01179000
@12      EQU   12                                                       01180000
@13      EQU   13                                                       01181000
@14      EQU   14                                                       01182000
@15      EQU   15                                                       01183000
DQECNTR  EQU   @06                                                      01184000
DQERRCNT EQU   @05                                                      01185000
SDLPTR   EQU   @02                                                      01186000
SPQESDLI EQU   @03                                                      01187000
SPQECNTR EQU   @06                                                      01188000
MDMTCBCT EQU   @06                                                      01189000
LASTTCB  EQU   @07                                                      01190000
MDMBUFTP EQU   @08                                                      01191000
TCBPTR   EQU   @05                                                      01192000
SPQESPTR EQU   @05                                                      01193000
DQESEPTR EQU   @03                                                      01194000
VCCTREG  EQU   @12                                                      01195000
RETCODE  EQU   @15                                                      01196000
BASEREG  EQU   @11                                                      01197000
R0       EQU   @00                                                      01198000
R1       EQU   @01                                                      01199000
R13      EQU   @13                                                      01200000
RETREG   EQU   @14                                                      01201000
R10      EQU   @10                                                      01202000
R11      EQU   @11                                                      01203000
R12      EQU   @12                                                      01204000
R14      EQU   @14                                                      01205000
R15      EQU   @15                                                      01206000
R2       EQU   @02                                                      01207000
R3       EQU   @03                                                      01208000
R4       EQU   @04                                                      01209000
R5       EQU   @05                                                      01210000
R6       EQU   @06                                                      01211000
R7       EQU   @07                                                      01212000
R8       EQU   @08                                                      01213000
R9       EQU   @09                                                      01214000
         ENTRY SDLH                                                     01215000
         EXTRN LNG22I                                                   01216000
         EXTRN DMP22I                                                   01217000
         EXTRN CBN18I                                                   01218000
         EXTRN CBER18I                                                  01219000
         EXTRN ADDR18I                                                  01220000
SADMPLSD EQU   3312                                                     01221000
ASCB     EQU   0                                                        01222000
ASCBLDA  EQU   ASCB+48                                                  01223000
ASCBFW1  EQU   ASCB+100                                                 01224000
ASCBRCTF EQU   ASCBFW1+2                                                01225000
ASCBFLG1 EQU   ASCBFW1+3                                                01226000
ASCBASXB EQU   ASCB+108                                                 01227000
ASCBDSP1 EQU   ASCB+114                                                 01228000
ASCBFLG2 EQU   ASCB+115                                                 01229000
ASCBPTR  EQU   0                                                        01230000
ASXB     EQU   0                                                        01231000
ASXBFTCB EQU   ASXB+4                                                   01232000
ASXBLTCB EQU   ASXB+8                                                   01233000
ASXBTCBS EQU   ASXB+12                                                  01234000
ASXBAEQ  EQU   ASXB+168                                                 01235000
ASXBPTR  EQU   0                                                        01236000
DQESECT  EQU   0                                                        01237000
DQEPTR   EQU   DQESECT+4                                                01238000
DQEBLKAD EQU   DQESECT+8                                                01239000
DQELNTH  EQU   DQESECT+12                                               01240000
LDA      EQU   0                                                        01241000
LVSMFLAG EQU   LDA                                                      01242000
LSQAPTR  EQU   LDA+1464                                                 01243000
LDAPTR   EQU   0                                                        01244000
SPQESECT EQU   0                                                        01245000
SPQEAD   EQU   SPQESECT                                                 01246000
SPDQEPTR EQU   SPQESECT+4                                               01247000
SPQEFLGS EQU   SPQESECT+8                                               01248000
SPSHARE  EQU   SPQEFLGS                                                 01249000
LASTSPQE EQU   SPQEFLGS                                                 01250000
SPQEID   EQU   SPQESECT+10                                              01251000
TCBFIX   EQU   0                                                        01252000
TCBFRS   EQU   TCBFIX                                                   01253000
TCB      EQU   0                                                        01254000
TCBPIE   EQU   TCB+4                                                    01255000
TCBPMASK EQU   TCBPIE                                                   01256000
TCBCMP   EQU   TCB+16                                                   01257000
TCBCMPF  EQU   TCBCMP                                                   01258000
TCBCPP   EQU   TCBCMPF                                                  01259000
TCBSTCC  EQU   TCBCMPF                                                  01260000
TCBCDBL  EQU   TCBCMPF                                                  01261000
TCBCWTO  EQU   TCBCMPF                                                  01262000
TCBCIND  EQU   TCBCMPF                                                  01263000
TCBCMSG  EQU   TCBCMPF                                                  01264000
TCBTRN   EQU   TCB+20                                                   01265000
TCBABF   EQU   TCBTRN                                                   01266000
TCBMSS   EQU   TCB+24                                                   01267000
TCBPKF   EQU   TCB+28                                                   01268000
TCBFLGS  EQU   TCB+29                                                   01269000
TCBFLGS1 EQU   TCBFLGS                                                  01270000
TCBFLGS2 EQU   TCBFLGS+1                                                01271000
TCBFLGS3 EQU   TCBFLGS+2                                                01272000
TCBFLGS4 EQU   TCBFLGS+3                                                01273000
TCBFLGS5 EQU   TCBFLGS+4                                                01274000
TCBABWF  EQU   TCBFLGS5                                                 01275000
TCBJPQ   EQU   TCB+44                                                   01276000
TCBPURGE EQU   TCBJPQ                                                   01277000
TCBGRS   EQU   TCB+48                                                   01278000
TCBFSA   EQU   TCB+112                                                  01279000
TCBTCB   EQU   TCB+116                                                  01280000
TCBTME   EQU   TCB+120                                                  01281000
TCBJSTCB EQU   TCB+124                                                  01282000
TCBTSFLG EQU   TCB+148                                                  01283000
TCBTSTSK EQU   TCBTSFLG                                                 01284000
TCBSTAB  EQU   TCB+160                                                  01285000
TCBNSTAE EQU   TCBSTAB                                                  01286000
TCBTCT   EQU   TCB+164                                                  01287000
TCBTCTGF EQU   TCBTCT                                                   01288000
TCBSCNDY EQU   TCB+172                                                  01289000
TCBNDSP  EQU   TCBSCNDY                                                 01290000
TCBNDSP1 EQU   TCBNDSP+1                                                01291000
TCBNDSP2 EQU   TCBNDSP+2                                                01292000
TCBNDSP3 EQU   TCBNDSP+3                                                01293000
TCBJSCB  EQU   TCB+180                                                  01294000
TCBRECDE EQU   TCBJSCB                                                  01295000
TCBEXT1  EQU   TCB+196                                                  01296000
TCBBITS  EQU   TCB+200                                                  01297000
TCBNDSP4 EQU   TCBBITS                                                  01298000
TCBNDSP5 EQU   TCBBITS+1                                                01299000
TCBFLGS6 EQU   TCBBITS+2                                                01300000
TCBFLGS7 EQU   TCBBITS+3                                                01301000
TCBDAR   EQU   TCB+204                                                  01302000
TCBDARC  EQU   TCBDAR                                                   01303000
TCBEXT2  EQU   TCB+208                                                  01304000
TCBBACK  EQU   TCB+220                                                  01305000
TCBFOE   EQU   TCB+244                                                  01306000
TCBSWA   EQU   TCB+248                                                  01307000
TCBESTAE EQU   TCB+264                                                  01308000
TCBESTRM EQU   TCBESTAE+1                                               01309000
TCBUKYSP EQU   TCB+268                                                  01310000
TCBFBYT1 EQU   TCB+276                                                  01311000
TCBFBYT2 EQU   TCB+277                                                  01312000
TCBRV124 EQU   TCB+278                                                  01313000
TCBRV133 EQU   TCB+279                                                  01314000
TCBXTNT2 EQU   0                                                        01315000
TCBGTF   EQU   TCBXTNT2                                                 01316000
TCBTFLG  EQU   TCBGTF                                                   01317000
TCBRV146 EQU   TCBXTNT2+28                                              01318000
TCBRV155 EQU   TCBXTNT2+29                                              01319000
TCBRV164 EQU   TCBXTNT2+30                                              01320000
TCBRV173 EQU   TCBXTNT2+31                                              01321000
ARB      EQU   0                                                        01322000
BCTH     EQU   0                                                        01323000
BCT      EQU   0                                                        01324000
BCTLPID  EQU   BCT+28                                                   01325000
BCTFLGT  EQU   BCT+44                                                   01326000
BCTFLGI  EQU   BCT+45                                                   01327000
CCT      EQU   0                                                        01328000
CTFLG1   EQU   CCT+1                                                    01329000
CTFLG2   EQU   CCT+2                                                    01330000
CTLOWFLG EQU   CCT+48                                                   01331000
CTDMPTYP EQU   CCT+52                                                   01332000
CTIOTYPE EQU   CTDMPTYP                                                 01333000
CTCONFLG EQU   CTDMPTYP+2                                               01334000
CTBUFTYP EQU   CTDMPTYP+3                                               01335000
CTLSQA   EQU   CTBUFTYP                                                 01336000
CTPRMT1  EQU   CTDMPTYP+24                                              01337000
CTPRMT2  EQU   CTDMPTYP+26                                              01338000
CCW      EQU   0                                                        01339000
CCWFLAGS EQU   CCW+4                                                    01340000
CSW      EQU   0                                                        01341000
CSWKEY00 EQU   CSW                                                      01342000
CSWUSTAT EQU   CSW+4                                                    01343000
CSWCSTAT EQU   CSW+5                                                    01344000
DSCE     EQU   0                                                        01345000
IODB     EQU   0                                                        01346000
IODBFLAG EQU   IODB+8                                                   01347000
IODBCCHH EQU   IODB+32                                                  01348000
IODBSRCH EQU   IODBCCHH+3                                               01349000
MDCE     EQU   0                                                        01350000
MDCB     EQU   0                                                        01351000
MDCBGRS  EQU   MDCB+16                                                  01352000
MDCBFLGS EQU   MDCB+86                                                  01353000
PSW      EQU   0                                                        01354000
PSWSM    EQU   PSW                                                      01355000
@NM00028 EQU   PSW+1                                                    01356000
PSWCCPM  EQU   PSW+2                                                    01357000
@NM00031 EQU   PSW+3                                                    01358000
PTRT     EQU   0                                                        01359000
PTRTRSA  EQU   0                                                        01360000
RCB      EQU   0                                                        01361000
RCBNEXT  EQU   RCB                                                      01362000
RCBSAVE  EQU   RCB+8                                                    01363000
RCBEXIT  EQU   RCB+12                                                   01364000
RCBBASE  EQU   RCB+16                                                   01365000
VCCT     EQU   0                                                        01366000
VCTRCB   EQU   VCCT+4                                                   01367000
VCTRECSN EQU   VCCT+8                                                   01368000
VCTFLGS  EQU   VCCT+9                                                   01369000
VCTMEMIN EQU   VCTFLGS                                                  01370000
VCTMDCE  EQU   VCCT+12                                                  01371000
VCTDSCE  EQU   VCCT+20                                                  01372000
VCTBCTH  EQU   VCCT+24                                                  01373000
VCTSUBPL EQU   VCCT+40                                                  01374000
VCTASCB  EQU   VCCT+48                                                  01375000
VCTCBID  EQU   VCCT+64                                                  01376000
VCTCBIDN EQU   VCTCBID+7                                                01377000
VCTCBADR EQU   VCCT+80                                                  01378000
VCTLPA   EQU   VCCT+84                                                  01379000
VCTCCTV  EQU   VCCT+104                                                 01380000
SDL      EQU   0                                                        01381000
SDLNUM   EQU   SDL                                                      01382000
SDLSPN   EQU   SDL+1                                                    01383000
REGLOCAL EQU   0                                                        01384000
SAVEFORM EQU   0                                                        01385000
SAVEBACK EQU   SAVEFORM+4                                               01386000
SAVER15  EQU   SAVEFORM+16                                              01387000
DUMMYLNG EQU   0                                                        01388000
VLNG22I  EQU   0                                                        01389000
VDMP22I  EQU   0                                                        01390000
VCBN18I  EQU   0                                                        01391000
VCBER18I EQU   0                                                        01392000
PTRTVSA  EQU   0                                                        01393000
CTLOWDMP EQU   CTDMPTYP                                                 01394000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    01395000
CTADDRE  EQU   CTLOWDMP+4                                               01396000
CTADDRS  EQU   CTLOWDMP                                                 01397000
@NM00041 EQU   DUMMYLNG+14                                              01398000
@NM00040 EQU   DUMMYLNG                                                 01399000
SAVER12  EQU   SAVEFORM+68                                              01400000
SAVER11  EQU   SAVEFORM+64                                              01401000
SAVER10  EQU   SAVEFORM+60                                              01402000
SAVER9   EQU   SAVEFORM+56                                              01403000
SAVER8   EQU   SAVEFORM+52                                              01404000
SAVER7   EQU   SAVEFORM+48                                              01405000
SAVER6   EQU   SAVEFORM+44                                              01406000
SAVER5   EQU   SAVEFORM+40                                              01407000
SAVER4   EQU   SAVEFORM+36                                              01408000
SAVER3   EQU   SAVEFORM+32                                              01409000
SAVER2   EQU   SAVEFORM+28                                              01410000
SAVER1   EQU   SAVEFORM+24                                              01411000
SAVER0   EQU   SAVEFORM+20                                              01412000
SAVER14  EQU   SAVEFORM+12                                              01413000
SAVENEXT EQU   SAVEFORM+8                                               01414000
SAVENAME EQU   SAVEFORM+1                                               01415000
SAVEID   EQU   SAVEFORM                                                 01416000
REGL15   EQU   REGLOCAL+60                                              01417000
REGL14   EQU   REGLOCAL+56                                              01418000
REGL13   EQU   REGLOCAL+52                                              01419000
REGL12   EQU   REGLOCAL+48                                              01420000
REGL11   EQU   REGLOCAL+44                                              01421000
REGL10   EQU   REGLOCAL+40                                              01422000
REGL9    EQU   REGLOCAL+36                                              01423000
REGL8    EQU   REGLOCAL+32                                              01424000
REGL7    EQU   REGLOCAL+28                                              01425000
REGL6    EQU   REGLOCAL+24                                              01426000
REGL5    EQU   REGLOCAL+20                                              01427000
REGL4    EQU   REGLOCAL+16                                              01428000
REGL3    EQU   REGLOCAL+12                                              01429000
REGL2    EQU   REGLOCAL+8                                               01430000
REGL1    EQU   REGLOCAL+4                                               01431000
REGL0    EQU   REGLOCAL                                                 01432000
VCTVCCTV EQU   VCCT+108                                                 01433000
@NM00035 EQU   VCCT+102                                                 01434000
VCTEXTRA EQU   VCCT+100                                                 01435000
VCTCPOUT EQU   VCCT+96                                                  01436000
VCTSVCTB EQU   VCCT+92                                                  01437000
VCTPGT   EQU   VCCT+88                                                  01438000
VCTJBNME EQU   VCCT+72                                                  01439000
@NM00034 EQU   VCTCBID                                                  01440000
VCTAUDIT EQU   VCCT+62                                                  01441000
VCTASID  EQU   VCCT+60                                                  01442000
VCTPTRT  EQU   VCCT+56                                                  01443000
VCTMASCB EQU   VCCT+52                                                  01444000
VCTCPUC  EQU   VCCT+46                                                  01445000
VCTWKC   EQU   VCCT+45                                                  01446000
VCTWKHI  EQU   VCCT+44                                                  01447000
VCTARB   EQU   VCCT+36                                                  01448000
VCTIODB  EQU   VCCT+32                                                  01449000
VCTBCTC  EQU   VCCT+28                                                  01450000
VCTSTOR  EQU   VCCT+16                                                  01451000
VCTRECVA EQU   VCCT+10                                                  01452000
@NM00033 EQU   VCTFLGS                                                  01453000
VCTNOI22 EQU   VCTFLGS                                                  01454000
VCTLRCLM EQU   VCTFLGS                                                  01455000
VCTARCLM EQU   VCTFLGS                                                  01456000
VCTASMIC EQU   VCTFLGS                                                  01457000
VCTSADMP EQU   VCTFLGS                                                  01458000
@NM00032 EQU   VCTRECSN                                                 01459000
VCTRSMR  EQU   VCTRECSN                                                 01460000
VCTEXIR  EQU   VCTRECSN                                                 01461000
VCTUPDR  EQU   VCTRECSN                                                 01462000
VCTPGIR  EQU   VCTRECSN                                                 01463000
VCTVCT   EQU   VCCT                                                     01464000
RCBSTOR  EQU   RCB+4                                                    01465000
PTRTVS   EQU   PTRT+1032                                                01466000
PTRTRS   EQU   PTRT+8                                                   01467000
PTRTLGID EQU   PTRT+4                                                   01468000
PTRTPTRT EQU   PTRT                                                     01469000
PSWEND   EQU   PSW+8                                                    01470000
PSWIA    EQU   PSW+4                                                    01471000
PSWSP    EQU   @NM00031                                                 01472000
PSWSIG   EQU   PSWCCPM                                                  01473000
PSWEU    EQU   PSWCCPM                                                  01474000
PSWDO    EQU   PSWCCPM                                                  01475000
PSWFPO   EQU   PSWCCPM                                                  01476000
@NM00030 EQU   PSWCCPM                                                  01477000
@NM00029 EQU   PSWCCPM                                                  01478000
PSWPRBLM EQU   @NM00028                                                 01479000
PSWAIT   EQU   @NM00028                                                 01480000
PSWMCH   EQU   @NM00028                                                 01481000
PSWMODE  EQU   @NM00028                                                 01482000
PSWKEY   EQU   @NM00028                                                 01483000
PSWXTRNL EQU   PSWSM                                                    01484000
PSWIO    EQU   PSWSM                                                    01485000
PSWDAT   EQU   PSWSM                                                    01486000
@NM00027 EQU   PSWSM                                                    01487000
@NM00026 EQU   PSWSM                                                    01488000
@NM00025 EQU   PSWSM                                                    01489000
PSWPER   EQU   PSWSM                                                    01490000
@NM00024 EQU   PSWSM                                                    01491000
@NM00023 EQU   MDCB+87                                                  01492000
@NM00022 EQU   MDCBFLGS                                                 01493000
MDCBDUMP EQU   MDCBFLGS                                                 01494000
MDCBASMI EQU   MDCBFLGS                                                 01495000
MDCBPI   EQU   MDCB+84                                                  01496000
MDCBSTOR EQU   MDCB+80                                                  01497000
MDCBGR15 EQU   MDCBGRS+60                                               01498000
MDCBGR14 EQU   MDCBGRS+56                                               01499000
MDCBGR13 EQU   MDCBGRS+52                                               01500000
MDCBGR12 EQU   MDCBGRS+48                                               01501000
MDCBGR11 EQU   MDCBGRS+44                                               01502000
MDCBGR10 EQU   MDCBGRS+40                                               01503000
MDCBGR9  EQU   MDCBGRS+36                                               01504000
MDCBGR8  EQU   MDCBGRS+32                                               01505000
MDCBGR7  EQU   MDCBGRS+28                                               01506000
MDCBGR6  EQU   MDCBGRS+24                                               01507000
MDCBGR5  EQU   MDCBGRS+20                                               01508000
MDCBGR4  EQU   MDCBGRS+16                                               01509000
MDCBGR3  EQU   MDCBGRS+12                                               01510000
MDCBGR2  EQU   MDCBGRS+8                                                01511000
MDCBGR1  EQU   MDCBGRS+4                                                01512000
MDCBGR0  EQU   MDCBGRS                                                  01513000
MDCBPSW  EQU   MDCB+8                                                   01514000
MDCBNEXT EQU   MDCB+4                                                   01515000
MDCBMDCB EQU   MDCB                                                     01516000
MDCEAVIL EQU   MDCE+8                                                   01517000
MDCEACTV EQU   MDCE+4                                                   01518000
MDCEMDCE EQU   MDCE                                                     01519000
IODBSENS EQU   IODB+40                                                  01520000
IODBR    EQU   IODBCCHH+7                                               01521000
IODBHH   EQU   IODBSRCH+2                                               01522000
IODBCC   EQU   IODBSRCH                                                 01523000
IODBSEEK EQU   IODBCCHH+1                                               01524000
IODBM    EQU   IODBCCHH                                                 01525000
IODBCSW  EQU   IODB+24                                                  01526000
IODBCAW  EQU   IODB+20                                                  01527000
IODBBCT  EQU   IODB+16                                                  01528000
IODBCPU  EQU   IODB+14                                                  01529000
IODBTYPE EQU   IODB+13                                                  01530000
IODBCLAS EQU   IODB+12                                                  01531000
IODBDEV  EQU   IODB+10                                                  01532000
@NM00021 EQU   IODBFLAG+1                                               01533000
IODBSTRT EQU   IODBFLAG                                                 01534000
IODBCONW EQU   IODBFLAG                                                 01535000
IODBACTV EQU   IODBFLAG                                                 01536000
IODBHALT EQU   IODBFLAG                                                 01537000
IODBIOC  EQU   IODBFLAG                                                 01538000
IODBINT  EQU   IODBFLAG                                                 01539000
IODBPTRM EQU   IODBFLAG                                                 01540000
IODBTERM EQU   IODBFLAG                                                 01541000
IODBIDEN EQU   IODB+4                                                   01542000
IODBIODB EQU   IODB                                                     01543000
DSCETEND EQU   DSCE+20                                                  01544000
DSCETCUR EQU   DSCE+16                                                  01545000
DSCETBEG EQU   DSCE+12                                                  01546000
DSCENEXT EQU   DSCE+8                                                   01547000
DSCEBEGN EQU   DSCE+4                                                   01548000
DSCEDSCE EQU   DSCE                                                     01549000
CSWCNT   EQU   CSW+6                                                    01550000
CSWCHC   EQU   CSWCSTAT                                                 01551000
CSWICC   EQU   CSWCSTAT                                                 01552000
CSWCCC   EQU   CSWCSTAT                                                 01553000
CSWCDC   EQU   CSWCSTAT                                                 01554000
CSWPTC   EQU   CSWCSTAT                                                 01555000
CSWPGC   EQU   CSWCSTAT                                                 01556000
CSWIL    EQU   CSWCSTAT                                                 01557000
CSWPCI   EQU   CSWCSTAT                                                 01558000
CSWUE    EQU   CSWUSTAT                                                 01559000
CSWUC    EQU   CSWUSTAT                                                 01560000
CSWDE    EQU   CSWUSTAT                                                 01561000
CSWCE    EQU   CSWUSTAT                                                 01562000
CSWBUSY  EQU   CSWUSTAT                                                 01563000
CSWCUE   EQU   CSWUSTAT                                                 01564000
CSWSTMOD EQU   CSWUSTAT                                                 01565000
CSWATTN  EQU   CSWUSTAT                                                 01566000
CSWCADDR EQU   CSW+1                                                    01567000
@NM00020 EQU   CSWKEY00                                                 01568000
CSWKEY   EQU   CSWKEY00                                                 01569000
CCWCNT   EQU   CCW+6                                                    01570000
@NM00019 EQU   CCW+5                                                    01571000
@NM00018 EQU   CCWFLAGS                                                 01572000
CCWIDA   EQU   CCWFLAGS                                                 01573000
CCWPCI   EQU   CCWFLAGS                                                 01574000
CCWSKIP  EQU   CCWFLAGS                                                 01575000
CCWSLI   EQU   CCWFLAGS                                                 01576000
CCWCC    EQU   CCWFLAGS                                                 01577000
CCWDC    EQU   CCWFLAGS                                                 01578000
CCWDADDR EQU   CCW+1                                                    01579000
CCWCMD   EQU   CCW                                                      01580000
CTHWMAX  EQU   CTDMPTYP+29                                              01581000
CTHWM    EQU   CTDMPTYP+28                                              01582000
CTPRMT2X EQU   CTPRMT2+1                                                01583000
CTPRMT2Y EQU   CTPRMT2                                                  01584000
CTPRMT1X EQU   CTPRMT1+1                                                01585000
CTPRMT1Y EQU   CTPRMT1                                                  01586000
CTVCCT   EQU   CTDMPTYP+20                                              01587000
CTEOR    EQU   CTDMPTYP+16                                              01588000
CTCOMMIO EQU   CTDMPTYP+12                                              01589000
CTLWKAD  EQU   CTDMPTYP+8                                               01590000
CTCONSOL EQU   CTDMPTYP+4                                               01591000
@NM00017 EQU   CTBUFTYP                                                 01592000
CTDUMP   EQU   CTBUFTYP                                                 01593000
CTASM    EQU   CTBUFTYP                                                 01594000
CTPGT    EQU   CTBUFTYP                                                 01595000
CTWKFLE  EQU   CTBUFTYP                                                 01596000
@NM00016 EQU   CTBUFTYP                                                 01597000
@NM00015 EQU   CTCONFLG                                                 01598000
CTREAD   EQU   CTCONFLG                                                 01599000
CTMSGOUT EQU   CTCONFLG                                                 01600000
@NM00014 EQU   CTDMPTYP+1                                               01601000
@NM00013 EQU   CTIOTYPE                                                 01602000
CTIORSET EQU   CTIOTYPE                                                 01603000
CTIOINT  EQU   CTIOTYPE                                                 01604000
CTIOCON  EQU   CTIOTYPE                                                 01605000
CTIOWK   EQU   CTIOTYPE                                                 01606000
CTIODA   EQU   CTIOTYPE                                                 01607000
CTIOOUT  EQU   CTIOTYPE                                                 01608000
CTIOTERM EQU   CTIOTYPE                                                 01609000
CTEBCOPR EQU   CCT+49                                                   01610000
@NM00012 EQU   CTLOWFLG                                                 01611000
CTWKSTUS EQU   CTLOWFLG                                                 01612000
CTINIT   EQU   CTLOWFLG                                                 01613000
CTFP     EQU   CTLOWFLG                                                 01614000
CTVIRTD  EQU   CTLOWFLG                                                 01615000
CTEBCOPD EQU   CCT+45                                                   01616000
CTCONTYP EQU   CCT+44                                                   01617000
CTOUTAD  EQU   CCT+42                                                   01618000
CTCPUI   EQU   CCT+40                                                   01619000
CTERBCON EQU   CCT+36                                                   01620000
CTERBTPE EQU   CCT+32                                                   01621000
CTERBDA  EQU   CCT+28                                                   01622000
CTCCHHW  EQU   CCT+24                                                   01623000
CTCCHHE  EQU   CCT+20                                                   01624000
CTCCHHS  EQU   CCT+16                                                   01625000
CTPGECNT EQU   CCT+15                                                   01626000
CTCCHHR  EQU   CCT+8                                                    01627000
CTINADDR EQU   CCT+6                                                    01628000
CTSENSE  EQU   CCT+4                                                    01629000
CTDEVTYP EQU   CCT+3                                                    01630000
@NM00011 EQU   CTFLG2                                                   01631000
CTALTCON EQU   CTFLG2                                                   01632000
CTWKDONE EQU   CTFLG2                                                   01633000
CTVIRTR  EQU   CTFLG2                                                   01634000
CTNOSTAT EQU   CTFLG2                                                   01635000
CTPGEFLT EQU   CTFLG2                                                   01636000
CTSTOR   EQU   CTFLG2                                                   01637000
CTDUPSW  EQU   CTFLG2                                                   01638000
CTERREC  EQU   CTFLG1                                                   01639000
CTMP     EQU   CTFLG1                                                   01640000
@NM00010 EQU   CTFLG1                                                   01641000
CTDEFO   EQU   CTFLG1                                                   01642000
CTWORK   EQU   CTFLG1                                                   01643000
CTMORTPE EQU   CTFLG1                                                   01644000
CTDEVICE EQU   CTFLG1                                                   01645000
CTERROR  EQU   CTFLG1                                                   01646000
CTWAIT   EQU   CCT                                                      01647000
@NM00009 EQU   BCT+46                                                   01648000
BCTRECLM EQU   BCTFLGI                                                  01649000
BCTIOERR EQU   BCTFLGI                                                  01650000
BCTALLOC EQU   BCTFLGI                                                  01651000
BCTCOMP  EQU   BCTFLGI                                                  01652000
@NM00008 EQU   BCTFLGT                                                  01653000
BCTPGTF  EQU   BCTFLGT                                                  01654000
BCTDUMP  EQU   BCTFLGT                                                  01655000
BCTLSQA  EQU   BCTFLGT                                                  01656000
BCTASM   EQU   BCTFLGT                                                  01657000
BCTPGT   EQU   BCTFLGT                                                  01658000
BCTWKFLE EQU   BCTFLGT                                                  01659000
@NM00007 EQU   BCTFLGT                                                  01660000
BCTRBA   EQU   BCT+40                                                   01661000
BCTAMB   EQU   BCT+36                                                   01662000
@NM00006 EQU   BCTLPID+4                                                01663000
BCTLGN   EQU   BCTLPID                                                  01664000
BCTMDCB  EQU   BCT+24                                                   01665000
BCTPGTE  EQU   BCT+20                                                   01666000
BCTRADDR EQU   BCT+16                                                   01667000
BCTVADDR EQU   BCT+12                                                   01668000
BCTASID  EQU   BCT+10                                                   01669000
BCTKEY2  EQU   BCT+9                                                    01670000
BCTKEY1  EQU   BCT+8                                                    01671000
BCTNEXT  EQU   BCT+4                                                    01672000
BCTBCT   EQU   BCT                                                      01673000
BCTHLAST EQU   BCTH+8                                                   01674000
BCTHFRST EQU   BCTH+4                                                   01675000
BCTHBCTH EQU   BCTH                                                     01676000
ARBADDRE EQU   ARB+4                                                    01677000
ARBADDRB EQU   ARB                                                      01678000
@NM00005 EQU   TCBXTNT2+32                                              01679000
TCBRV181 EQU   TCBRV173                                                 01680000
TCBRV180 EQU   TCBRV173                                                 01681000
TCBRV179 EQU   TCBRV173                                                 01682000
TCBRV178 EQU   TCBRV173                                                 01683000
TCBRV177 EQU   TCBRV173                                                 01684000
TCBRV176 EQU   TCBRV173                                                 01685000
TCBRV175 EQU   TCBRV173                                                 01686000
TCBRV174 EQU   TCBRV173                                                 01687000
TCBRV172 EQU   TCBRV164                                                 01688000
TCBRV171 EQU   TCBRV164                                                 01689000
TCBRV170 EQU   TCBRV164                                                 01690000
TCBRV169 EQU   TCBRV164                                                 01691000
TCBRV168 EQU   TCBRV164                                                 01692000
TCBRV167 EQU   TCBRV164                                                 01693000
TCBRV166 EQU   TCBRV164                                                 01694000
TCBRV165 EQU   TCBRV164                                                 01695000
TCBRV163 EQU   TCBRV155                                                 01696000
TCBRV162 EQU   TCBRV155                                                 01697000
TCBRV161 EQU   TCBRV155                                                 01698000
TCBRV160 EQU   TCBRV155                                                 01699000
TCBRV159 EQU   TCBRV155                                                 01700000
TCBRV158 EQU   TCBRV155                                                 01701000
TCBRV157 EQU   TCBRV155                                                 01702000
TCBRV156 EQU   TCBRV155                                                 01703000
TCBRV154 EQU   TCBRV146                                                 01704000
TCBRV153 EQU   TCBRV146                                                 01705000
TCBRV152 EQU   TCBRV146                                                 01706000
TCBRV151 EQU   TCBRV146                                                 01707000
TCBRV150 EQU   TCBRV146                                                 01708000
TCBRV149 EQU   TCBRV146                                                 01709000
TCBRV148 EQU   TCBRV146                                                 01710000
TCBRV147 EQU   TCBRV146                                                 01711000
TCBRV145 EQU   TCBXTNT2+26                                              01712000
TCBRV144 EQU   TCBXTNT2+24                                              01713000
TCBRV143 EQU   TCBXTNT2+20                                              01714000
TCBRV142 EQU   TCBXTNT2+16                                              01715000
TCBRSV49 EQU   TCBXTNT2+12                                              01716000
TCBEVENT EQU   TCBXTNT2+8                                               01717000
TCBRCMP  EQU   TCBXTNT2+5                                               01718000
TCBRSVAB EQU   TCBXTNT2+4                                               01719000
TCBGTFA  EQU   TCBGTF+1                                                 01720000
TCBRSV47 EQU   TCBTFLG                                                  01721000
TCBRSV46 EQU   TCBTFLG                                                  01722000
TCBRSV45 EQU   TCBTFLG                                                  01723000
TCBRSV44 EQU   TCBTFLG                                                  01724000
TCBRSV43 EQU   TCBTFLG                                                  01725000
TCBDSPIT EQU   TCBTFLG                                                  01726000
TCBERRTN EQU   TCBTFLG                                                  01727000
TCBASYNC EQU   TCBTFLG                                                  01728000
@NM00004 EQU   TCB+296                                                  01729000
TCBRV185 EQU   TCB+292                                                  01730000
TCBSWASA EQU   TCB+288                                                  01731000
TCBDBTB  EQU   TCB+284                                                  01732000
TCBRPT   EQU   TCB+280                                                  01733000
TCBRV141 EQU   TCBRV133                                                 01734000
TCBRV140 EQU   TCBRV133                                                 01735000
TCBRV139 EQU   TCBRV133                                                 01736000
TCBRV138 EQU   TCBRV133                                                 01737000
TCBRV137 EQU   TCBRV133                                                 01738000
TCBRV136 EQU   TCBRV133                                                 01739000
TCBRV135 EQU   TCBRV133                                                 01740000
TCBRV134 EQU   TCBRV133                                                 01741000
TCBRV132 EQU   TCBRV124                                                 01742000
TCBRV131 EQU   TCBRV124                                                 01743000
TCBRV130 EQU   TCBRV124                                                 01744000
TCBRV129 EQU   TCBRV124                                                 01745000
TCBRV128 EQU   TCBRV124                                                 01746000
TCBRV127 EQU   TCBRV124                                                 01747000
TCBRV126 EQU   TCBRV124                                                 01748000
TCBRV125 EQU   TCBRV124                                                 01749000
TCBRV123 EQU   TCBFBYT2                                                 01750000
TCBRV122 EQU   TCBFBYT2                                                 01751000
TCBECBNV EQU   TCBFBYT2                                                 01752000
TCBSSSYN EQU   TCBFBYT2                                                 01753000
TCBFPRAP EQU   TCBFBYT2                                                 01754000
TCBFDW   EQU   TCBFBYT2                                                 01755000
TCBFMW   EQU   TCBFBYT2                                                 01756000
TCBCNCB  EQU   TCBFBYT2                                                 01757000
TCBLLH   EQU   TCBFBYT1                                                 01758000
TCBRV113 EQU   TCBFBYT1                                                 01759000
TCBEOT   EQU   TCBFBYT1                                                 01760000
TCBRTM2  EQU   TCBFBYT1                                                 01761000
TCBPGNLY EQU   TCBFBYT1                                                 01762000
TCBNDIOS EQU   TCBFBYT1                                                 01763000
TCBACTIV EQU   TCBFBYT1                                                 01764000
TCBEOTFM EQU   TCBFBYT1                                                 01765000
TCBAFFN  EQU   TCB+274                                                  01766000
TCBCCPVI EQU   TCB+272                                                  01767000
TCBMODE  EQU   TCBESTAE+3                                               01768000
TCBERTYP EQU   TCBESTAE+2                                               01769000
TCBRV314 EQU   TCBESTRM                                                 01770000
TCBRV313 EQU   TCBESTRM                                                 01771000
TCBRV312 EQU   TCBESTRM                                                 01772000
TCBRV311 EQU   TCBESTRM                                                 01773000
TCBRV310 EQU   TCBESTRM                                                 01774000
TCBRV309 EQU   TCBESTRM                                                 01775000
TCBRV308 EQU   TCBESTRM                                                 01776000
TCBETERM EQU   TCBESTRM                                                 01777000
TCBSCBKY EQU   TCBESTAE                                                 01778000
TCBRTM12 EQU   TCB+260                                                  01779000
TCBTCBID EQU   TCB+256                                                  01780000
TCBRSV96 EQU   TCB+252                                                  01781000
TCBFOEA  EQU   TCBFOE+1                                                 01782000
TCBRSV42 EQU   TCBFOE                                                   01783000
TCBRV306 EQU   TCB+240                                                  01784000
TCBRSV41 EQU   TCB+239                                                  01785000
TCBTID   EQU   TCB+238                                                  01786000
TCBRSVAA EQU   TCB+237                                                  01787000
TCBABCUR EQU   TCB+236                                                  01788000
TCBTMSAV EQU   TCB+232                                                  01789000
TCBIOTIM EQU   TCB+228                                                  01790000
TCBRTWA  EQU   TCB+224                                                  01791000
TCBTIRB  EQU   TCB+216                                                  01792000
TCBAECB  EQU   TCB+212                                                  01793000
TCBEXT2A EQU   TCBEXT2+1                                                01794000
TCBRSV39 EQU   TCBEXT2                                                  01795000
TCBSTMCT EQU   TCB+207                                                  01796000
TCBSYSCT EQU   TCB+206                                                  01797000
TCBRSV37 EQU   TCB+205                                                  01798000
TCBEXSVC EQU   TCBDAR                                                   01799000
TCBRSV36 EQU   TCBDAR                                                   01800000
TCBDARWT EQU   TCBDAR                                                   01801000
TCBDARO  EQU   TCBDAR                                                   01802000
TCBDARMC EQU   TCBDARC                                                  01803000
TCBDARD  EQU   TCBDAR                                                   01804000
TCBDARS  EQU   TCBDAR                                                   01805000
TCBDARP  EQU   TCBDAR                                                   01806000
TCBGTOFM EQU   TCBFLGS7                                                 01807000
TCBADMP  EQU   TCBFLGS7                                                 01808000
TCBRSTSK EQU   TCBFLGS7                                                 01809000
TCBRSV35 EQU   TCBFLGS7                                                 01810000
TCBSTACK EQU   TCBFLGS7                                                 01811000
TCBRSV34 EQU   TCBFLGS7                                                 01812000
TCBRSV33 EQU   TCBFLGS7                                                 01813000
TCBGPECB EQU   TCBFLGS7                                                 01814000
TCBNTJS  EQU   TCBFLGS6                                                 01815000
TCBAPG   EQU   TCBFLGS6                                                 01816000
TCBMIGR  EQU   TCBFLGS6                                                 01817000
TCBRV303 EQU   TCBFLGS6                                                 01818000
TCBSPVLK EQU   TCBFLGS6                                                 01819000
TCBCPU   EQU   TCBFLGS6                                                 01820000
TCBPIE17 EQU   TCBFLGS6                                                 01821000
TCBRV    EQU   TCBFLGS6                                                 01822000
TCBRSV79 EQU   TCBNDSP5                                                 01823000
TCBRSV78 EQU   TCBNDSP5                                                 01824000
TCBRSV77 EQU   TCBNDSP5                                                 01825000
TCBRSV76 EQU   TCBNDSP5                                                 01826000
TCBRSV75 EQU   TCBNDSP5                                                 01827000
TCBRSV74 EQU   TCBNDSP5                                                 01828000
TCBRSV95 EQU   TCBNDSP5                                                 01829000
TCBRSV94 EQU   TCBNDSP5                                                 01830000
TCBRSV93 EQU   TCBNDSP4                                                 01831000
TCBRSV92 EQU   TCBNDSP4                                                 01832000
TCBRSV91 EQU   TCBNDSP4                                                 01833000
TCBRSV90 EQU   TCBNDSP4                                                 01834000
TCBRSV89 EQU   TCBNDSP4                                                 01835000
TCBRSV88 EQU   TCBNDSP4                                                 01836000
TCBRSV87 EQU   TCBNDSP4                                                 01837000
TCBRSV86 EQU   TCBNDSP4                                                 01838000
TCBEXT1A EQU   TCBEXT1+1                                                01839000
TCBRSV32 EQU   TCBEXT1                                                  01840000
TCBEXCPD EQU   TCB+192                                                  01841000
TCBIOBRC EQU   TCB+188                                                  01842000
TCBDDWTC EQU   TCB+186                                                  01843000
TCBDDEXC EQU   TCB+184                                                  01844000
TCBJSCBB EQU   TCBJSCB+1                                                01845000
@NM00003 EQU   TCBRECDE                                                 01846000
TCBREC   EQU   TCBRECDE                                                 01847000
TCBMDIDS EQU   TCB+176                                                  01848000
TCBNDINT EQU   TCBNDSP3                                                 01849000
TCBRSV27 EQU   TCBNDSP3                                                 01850000
TCBRSV26 EQU   TCBNDSP3                                                 01851000
TCBRSV25 EQU   TCBNDSP3                                                 01852000
TCBRSV24 EQU   TCBNDSP3                                                 01853000
TCBSRBND EQU   TCBNDSP3                                                 01854000
TCBRV302 EQU   TCBNDSP3                                                 01855000
TCBLJSND EQU   TCBNDSP3                                                 01856000
TCBABE   EQU   TCBNDSP2                                                 01857000
TCBDSS   EQU   TCBNDSP2                                                 01858000
TCBOWAIT EQU   TCBNDSP2                                                 01859000
TCBIWAIT EQU   TCBNDSP2                                                 01860000
TCBNDTS  EQU   TCBNDSP2                                                 01861000
TCBNDSVC EQU   TCBNDSP2                                                 01862000
TCBSTPP  EQU   TCBNDSP2                                                 01863000
TCBABD   EQU   TCBNDSP2                                                 01864000
TCBRSV22 EQU   TCBNDSP1                                                 01865000
TCBPIEND EQU   TCBNDSP1                                                 01866000
TCBTPSP  EQU   TCBNDSP1                                                 01867000
TCBDDRND EQU   TCBNDSP1                                                 01868000
TCBRSPND EQU   TCBNDSP1                                                 01869000
TCBRSTND EQU   TCBNDSP1                                                 01870000
TCBDARPN EQU   TCBNDSP1                                                 01871000
TCBDARTN EQU   TCBNDSP1                                                 01872000
TCBNDSP0 EQU   TCBNDSP                                                  01873000
TCBUSER  EQU   TCB+168                                                  01874000
TCBTCTB  EQU   TCBTCT+1                                                 01875000
TCBRSV9C EQU   TCBTCTGF                                                 01876000
TCBRSV9B EQU   TCBTCTGF                                                 01877000
TCBRSV9A EQU   TCBTCTGF                                                 01878000
TCBRSV99 EQU   TCBTCTGF                                                 01879000
TCBRSV98 EQU   TCBTCTGF                                                 01880000
TCBRSV97 EQU   TCBTCTGF                                                 01881000
TCBRSV20 EQU   TCBTCTGF                                                 01882000
TCBSMFGF EQU   TCBTCTGF                                                 01883000
TCBSTABB EQU   TCBSTAB+1                                                01884000
TCBSTCUR EQU   TCBNSTAE                                                 01885000
TCBRV301 EQU   TCBNSTAE                                                 01886000
TCBSYNCH EQU   TCBNSTAE                                                 01887000
TCBHALT  EQU   TCBNSTAE                                                 01888000
TCBPPSUP EQU   TCBNSTAE                                                 01889000
TCB33E   EQU   TCBNSTAE                                                 01890000
TCBQUIES EQU   TCBNSTAE                                                 01891000
TCBSTABE EQU   TCBNSTAE                                                 01892000
TCBAQE   EQU   TCB+156                                                  01893000
TCBPQE   EQU   TCB+152                                                  01894000
TCBTSDP  EQU   TCB+151                                                  01895000
TCBTSLP  EQU   TCB+150                                                  01896000
TCBSTPCT EQU   TCB+149                                                  01897000
TCBCPUBN EQU   TCBTSFLG                                                 01898000
TCBDYDSP EQU   TCBTSFLG                                                 01899000
TCBRSV18 EQU   TCBTSFLG                                                 01900000
TCBRSV17 EQU   TCBTSFLG                                                 01901000
TCBTIOTG EQU   TCBTSFLG                                                 01902000
TCBATT   EQU   TCBTSFLG                                                 01903000
TCBSTPPR EQU   TCBTSFLG                                                 01904000
TCBRV300 EQU   TCBTSTSK                                                 01905000
TCBECB   EQU   TCB+144                                                  01906000
TCBIQE   EQU   TCB+140                                                  01907000
TCBLTC   EQU   TCB+136                                                  01908000
TCBOTC   EQU   TCB+132                                                  01909000
TCBNTC   EQU   TCB+128                                                  01910000
TCBJSTCA EQU   TCBJSTCB+1                                               01911000
TCBRSV16 EQU   TCBJSTCB                                                 01912000
TCBTQET  EQU   TCBTME                                                   01913000
TCBFSAB  EQU   TCBFSA+1                                                 01914000
TCBQEL   EQU   TCBFSA                                                   01915000
TCBGRS15 EQU   TCBGRS+60                                                01916000
TCBGRS14 EQU   TCBGRS+56                                                01917000
TCBGRS13 EQU   TCBGRS+52                                                01918000
TCBGRS12 EQU   TCBGRS+48                                                01919000
TCBGRS11 EQU   TCBGRS+44                                                01920000
TCBGRS10 EQU   TCBGRS+40                                                01921000
TCBGRS9  EQU   TCBGRS+36                                                01922000
TCBGRS8  EQU   TCBGRS+32                                                01923000
TCBGRS7  EQU   TCBGRS+28                                                01924000
TCBGRS6  EQU   TCBGRS+24                                                01925000
TCBGRS5  EQU   TCBGRS+20                                                01926000
TCBGRS4  EQU   TCBGRS+16                                                01927000
TCBGRS3  EQU   TCBGRS+12                                                01928000
TCBGRS2  EQU   TCBGRS+8                                                 01929000
TCBGRS1  EQU   TCBGRS+4                                                 01930000
TCBGRS0  EQU   TCBGRS                                                   01931000
TCBJPQB  EQU   TCBJPQ+1                                                 01932000
TCBRSV15 EQU   TCBPURGE                                                 01933000
TCBRSV14 EQU   TCBPURGE                                                 01934000
TCBRSV13 EQU   TCBPURGE                                                 01935000
TCBRSV12 EQU   TCBPURGE                                                 01936000
TCBRSV11 EQU   TCBPURGE                                                 01937000
TCBRSV10 EQU   TCBPURGE                                                 01938000
TCBRSV09 EQU   TCBPURGE                                                 01939000
TCBJPQF  EQU   TCBPURGE                                                 01940000
TCBJLB   EQU   TCB+40                                                   01941000
TCBLLS   EQU   TCB+36                                                   01942000
TCBDSP   EQU   TCB+35                                                   01943000
TCBLMP   EQU   TCB+34                                                   01944000
TCBPNDSP EQU   TCBFLGS5                                                 01945000
TCBFCD1  EQU   TCBFLGS5                                                 01946000
TCBSTP   EQU   TCBFLGS5                                                 01947000
TCBSYS   EQU   TCBFLGS5                                                 01948000
TCBANDSP EQU   TCBFLGS5                                                 01949000
TCBPAGE  EQU   TCBFLGS5                                                 01950000
TCBUXNDF EQU   TCBABWF                                                  01951000
TCBFC    EQU   TCBFLGS5                                                 01952000
TCBONDSP EQU   TCBFLGS4                                                 01953000
TCBMPCND EQU   TCBFLGS4                                                 01954000
TCBMPCVQ EQU   TCBFLGS4                                                 01955000
TCBUXNDV EQU   TCBFLGS4                                                 01956000
TCBHNDSP EQU   TCBFLGS4                                                 01957000
TCBRQENA EQU   TCBFLGS4                                                 01958000
TCBSER   EQU   TCBFLGS4                                                 01959000
TCBNDUMP EQU   TCBFLGS4                                                 01960000
TCBDWSTA EQU   TCBFLGS3                                                 01961000
TCBRSV08 EQU   TCBFLGS3                                                 01962000
TCBRSV07 EQU   TCBFLGS3                                                 01963000
TCBRSV06 EQU   TCBFLGS3                                                 01964000
TCBABGM  EQU   TCBFLGS3                                                 01965000
TCBABTRM EQU   TCBFLGS3                                                 01966000
TCBADINP EQU   TCBFLGS3                                                 01967000
TCBFSM   EQU   TCBFLGS3                                                 01968000
TCBFTS   EQU   TCBFLGS2                                                 01969000
TCBFETXR EQU   TCBFLGS2                                                 01970000
TCBFDSOP EQU   TCBFLGS2                                                 01971000
TCBFJMC  EQU   TCBFLGS2                                                 01972000
TCBFSMC  EQU   TCBFLGS2                                                 01973000
TCBFABOP EQU   TCBFLGS2                                                 01974000
TCBFSTI  EQU   TCBFLGS2                                                 01975000
TCBFOINP EQU   TCBFLGS2                                                 01976000
TCBFX    EQU   TCBFLGS1                                                 01977000
TCBFS    EQU   TCBFLGS1                                                 01978000
TCBFT    EQU   TCBFLGS1                                                 01979000
TCBPDUMP EQU   TCBFLGS1                                                 01980000
TCBRSV04 EQU   TCBFLGS1                                                 01981000
TCBFERA  EQU   TCBFLGS1                                                 01982000
TCBFE    EQU   TCBFLGS1                                                 01983000
TCBFA    EQU   TCBFLGS1                                                 01984000
TCBZERO  EQU   TCBPKF                                                   01985000
TCBFLAG  EQU   TCBPKF                                                   01986000
TCBMSSB  EQU   TCBMSS+1                                                 01987000
TCBRSV03 EQU   TCBMSS                                                   01988000
TCBTRNB  EQU   TCBTRN+1                                                 01989000
TCBRSV02 EQU   TCBABF                                                   01990000
TCBOLTEP EQU   TCBABF                                                   01991000
TCBTCP   EQU   TCBABF                                                   01992000
TCBTCPP  EQU   TCBABF                                                   01993000
TCBRSV01 EQU   TCBABF                                                   01994000
TCBGRPH  EQU   TCBABF                                                   01995000
TCBNOCHK EQU   TCBABF                                                   01996000
TCBMOD91 EQU   TCBABF                                                   01997000
TCBCMPC  EQU   TCBCMP+1                                                 01998000
TCBRV318 EQU   TCBCMSG                                                  01999000
TCBRV317 EQU   TCBCIND                                                  02000000
TCBRV316 EQU   TCBCWTO                                                  02001000
TCBCASID EQU   TCBCDBL                                                  02002000
TCBNOCC  EQU   TCBSTCC                                                  02003000
TCBDMPO  EQU   TCBCPP                                                   02004000
TCBCSTEP EQU   TCBCMPF                                                  02005000
TCBCREQ  EQU   TCBCMPF                                                  02006000
TCBTIO   EQU   TCB+12                                                   02007000
TCBDEB   EQU   TCB+8                                                    02008000
TCBPIEA  EQU   TCBPIE+1                                                 02009000
TCBPM    EQU   TCBPMASK                                                 02010000
@NM00002 EQU   TCBPMASK                                                 02011000
TCBRBP   EQU   TCB                                                      02012000
TCBFRS6  EQU   TCBFRS+24                                                02013000
TCBFRS4  EQU   TCBFRS+16                                                02014000
TCBFRS2  EQU   TCBFRS+8                                                 02015000
TCBFRS0  EQU   TCBFRS                                                   02016000
SPQERES2 EQU   SPQESECT+12                                              02017000
SPQEKEY  EQU   SPQESECT+11                                              02018000
SPQERES1 EQU   SPQESECT+9                                               02019000
SPQEOWN  EQU   SPQEFLGS                                                 02020000
SPDQEAD  EQU   SPDQEPTR                                                 02021000
SPQEPTR  EQU   SPQEAD                                                   02022000
LDAEND   EQU   LDA+1496                                                 02023000
LCLCELCT EQU   LDA+1492                                                 02024000
LCLCELL  EQU   LDA+1488                                                 02025000
LDALIMIT EQU   LDA+1484                                                 02026000
LDARSVPT EQU   LDA+1480                                                 02027000
LDASRPQE EQU   LDA+1476                                                 02028000
CURRGNTP EQU   LDA+1472                                                 02029000
VVREGSZ  EQU   LDA+1468                                                 02030000
CFAPWKAR EQU   LDA+1164                                                 02031000
CSAVE    EQU   LDA+1100                                                 02032000
OBFRSAVE EQU   LDA+1036                                                 02033000
GFRESAVE EQU   LDA+972                                                  02034000
GMREPSAV EQU   LDA+908                                                  02035000
FBQSAVE  EQU   LDA+844                                                  02036000
G4KSAVE  EQU   LDA+780                                                  02037000
FSAVE    EQU   LDA+716                                                  02038000
BSAVE    EQU   LDA+652                                                  02039000
SAVEREG2 EQU   LDA+588                                                  02040000
BRANCHSV EQU   LDA+524                                                  02041000
GMFMWKAR EQU   LDA+24                                                   02042000
LDARES2  EQU   LDA+21                                                   02043000
LDACBSP  EQU   LDA+20                                                   02044000
LDARQSTA EQU   LDA+16                                                   02045000
LDATCB   EQU   LDA+12                                                   02046000
ASDPQE   EQU   LDA+8                                                    02047000
PASCBSV  EQU   LDA+4                                                    02048000
@NM00001 EQU   LVSMFLAG+1                                               02049000
LDABRSW  EQU   LVSMFLAG                                                 02050000
LDAFLAGS EQU   LVSMFLAG                                                 02051000
LDASTART EQU   LDA                                                      02052000
DQEHRID  EQU   DQEBLKAD                                                 02053000
DQFQEPTR EQU   DQESECT                                                  02054000
ASXBEND  EQU   ASXB+232                                                 02055000
ASXBRV25 EQU   ASXB+228                                                 02056000
ASXBRV24 EQU   ASXB+224                                                 02057000
ASXBRV23 EQU   ASXB+220                                                 02058000
ASXBRV22 EQU   ASXB+216                                                 02059000
ASXBRV21 EQU   ASXB+212                                                 02060000
ASXBRV20 EQU   ASXB+208                                                 02061000
ASXBRV19 EQU   ASXB+204                                                 02062000
ASXBRV18 EQU   ASXB+200                                                 02063000
ASXBRV17 EQU   ASXB+196                                                 02064000
ASXBRV16 EQU   ASXB+192                                                 02065000
ASXBLSRB EQU   ASXBAEQ+20                                               02066000
ASXBFSRB EQU   ASXBAEQ+16                                               02067000
ASXBLRQE EQU   ASXBAEQ+12                                               02068000
ASXBFRQE EQU   ASXBAEQ+8                                                02069000
ASXBLIQE EQU   ASXBAEQ+4                                                02070000
ASXBFIQE EQU   ASXBAEQ                                                  02071000
ASXBETSK EQU   ASXB+164                                                 02072000
ASXBSIRB EQU   ASXB+160                                                 02073000
ASXBPSWD EQU   ASXB+152                                                 02074000
ASXBPRG  EQU   ASXB+136                                                 02075000
ASXBRV26 EQU   ASXB+132                                                 02076000
ASXBOUSB EQU   ASXB+128                                                 02077000
ASXBDDR  EQU   ASXB+124                                                 02078000
ASXBRCTD EQU   ASXB+120                                                 02079000
ASXBRSMD EQU   ASXB+116                                                 02080000
ASXBSPSA EQU   ASXB+112                                                 02081000
ASXBFRWA EQU   ASXB+108                                                 02082000
ASXBFLSA EQU   ASXB+36                                                  02083000
ASXBIHSA EQU   ASXB+32                                                  02084000
ASXBRV15 EQU   ASXB+28                                                  02085000
ASXBRV14 EQU   ASXB+24                                                  02086000
ASXBLWA  EQU   ASXB+20                                                  02087000
ASXBMPST EQU   ASXB+16                                                  02088000
ASXBRS00 EQU   ASXB+14                                                  02089000
ASXBASXB EQU   ASXB                                                     02090000
ASXBEGIN EQU   ASXB                                                     02091000
ASCBEND  EQU   ASCB+208                                                 02092000
ASCBSRBT EQU   ASCB+200                                                 02093000
ASCBSWTL EQU   ASCB+196                                                 02094000
ASCBRS14 EQU   ASCB+195                                                 02095000
ASCBSMCT EQU   ASCB+194                                                 02096000
ASCBRS12 EQU   ASCB+192                                                 02097000
ASCBPCTT EQU   ASCB+188                                                 02098000
ASCBVGTT EQU   ASCB+184                                                 02099000
ASCBLGCB EQU   ASCB+180                                                 02100000
ASCBJBNS EQU   ASCB+176                                                 02101000
ASCBJBNI EQU   ASCB+172                                                 02102000
ASCBMCC  EQU   ASCB+168                                                 02103000
ASCBRTWA EQU   ASCB+164                                                 02104000
ASCBIQEA EQU   ASCB+160                                                 02105000
ASCBXMPQ EQU   ASCB+156                                                 02106000
ASCBRS01 EQU   ASCB+154                                                 02107000
ASCBFMCT EQU   ASCB+152                                                 02108000
ASCBOUXB EQU   ASCB+148                                                 02109000
ASCBOUCB EQU   ASCB+144                                                 02110000
ASCBMECB EQU   ASCB+140                                                 02111000
ASCBQECB EQU   ASCB+136                                                 02112000
ASCBCMSB EQU   ASCB+132                                                 02113000
ASCBCMSF EQU   ASCB+128                                                 02114000
ASCBTCBS EQU   ASCB+124                                                 02115000
ASCBNVSC EQU   ASCB+122                                                 02116000
ASCBVSC  EQU   ASCB+120                                                 02117000
ASCBSRBS EQU   ASCB+118                                                 02118000
ASCBSSRB EQU   ASCB+116                                                 02119000
ASCBRV06 EQU   ASCBFLG2                                                 02120000
ASCBRV05 EQU   ASCBFLG2                                                 02121000
ASCBRV04 EQU   ASCBFLG2                                                 02122000
ASCBSNQS EQU   ASCBFLG2                                                 02123000
ASCBS2S  EQU   ASCBFLG2                                                 02124000
ASCBCEXT EQU   ASCBFLG2                                                 02125000
ASCBPXMT EQU   ASCBFLG2                                                 02126000
ASCBXMPT EQU   ASCBFLG2                                                 02127000
ASCBRF07 EQU   ASCBDSP1                                                 02128000
ASCBRF06 EQU   ASCBDSP1                                                 02129000
ASCBRF05 EQU   ASCBDSP1                                                 02130000
ASCBRF04 EQU   ASCBDSP1                                                 02131000
ASCBRF03 EQU   ASCBDSP1                                                 02132000
ASCBRF02 EQU   ASCBDSP1                                                 02133000
ASCBFAIL EQU   ASCBDSP1                                                 02134000
ASCBNOQ  EQU   ASCBDSP1                                                 02135000
ASCBSWCT EQU   ASCB+112                                                 02136000
ASCBTMCH EQU   ASCB+104                                                 02137000
ASCBNSWP EQU   ASCBFLG1                                                 02138000
ASCBTYP1 EQU   ASCBFLG1                                                 02139000
ASCBSTND EQU   ASCBFLG1                                                 02140000
ASCBABNT EQU   ASCBFLG1                                                 02141000
ASCBTERM EQU   ASCBFLG1                                                 02142000
ASCBS3S  EQU   ASCBFLG1                                                 02143000
ASCBCMSH EQU   ASCBFLG1                                                 02144000
ASCBTOFF EQU   ASCBFLG1                                                 02145000
ASCBRF01 EQU   ASCBRCTF                                                 02146000
ASCBTMLW EQU   ASCBRCTF                                                 02147000
ASCBOUT  EQU   ASCBRCTF                                                 02148000
ASCBWAIT EQU   ASCBRCTF                                                 02149000
ASCBRV08 EQU   ASCBRCTF                                                 02150000
ASCBFQU  EQU   ASCBRCTF                                                 02151000
ASCBFRS  EQU   ASCBRCTF                                                 02152000
ASCBTMNO EQU   ASCBRCTF                                                 02153000
ASCBAFFN EQU   ASCBFW1                                                  02154000
ASCBDUMP EQU   ASCB+96                                                  02155000
ASCBQSVC EQU   ASCB+92                                                  02156000
ASCBUBET EQU   ASCB+88                                                  02157000
ASCBECB  EQU   ASCB+84                                                  02158000
ASCBJSTL EQU   ASCB+80                                                  02159000
ASCBEWST EQU   ASCB+72                                                  02160000
ASCBEJST EQU   ASCB+64                                                  02161000
ASCBTSB  EQU   ASCB+60                                                  02162000
ASCBCSCB EQU   ASCB+56                                                  02163000
ASCBRSM  EQU   ASCB+52                                                  02164000
ASCBSTOR EQU   ASCB+44                                                  02165000
ASCBDP   EQU   ASCB+43                                                  02166000
ASCBRV07 EQU   ASCB+42                                                  02167000
ASCBIOSM EQU   ASCB+40                                                  02168000
ASCBSEQN EQU   ASCB+38                                                  02169000
ASCBASID EQU   ASCB+36                                                  02170000
ASCBCPUS EQU   ASCB+32                                                  02171000
ASCBSPL  EQU   ASCB+28                                                  02172000
ASCBLSLQ EQU   ASCB+24                                                  02173000
ASCBFSLQ EQU   ASCB+20                                                  02174000
ASCBIOSP EQU   ASCB+16                                                  02175000
ASCBLOCK EQU   ASCB+12                                                  02176000
ASCBBWDP EQU   ASCB+8                                                   02177000
ASCBFWDP EQU   ASCB+4                                                   02178000
ASCBASCB EQU   ASCB                                                     02179000
ASCBEGIN EQU   ASCB                                                     02180000
GTMSAVE  EQU   SADMPLSD+684                                             02181000
GTMNAME  EQU   SADMPLSD+680                                             02182000
FRMSAVE  EQU   SADMPLSD+580                                             02183000
FRMNAME  EQU   SADMPLSD+576                                             02184000
AUDSAVE  EQU   SADMPLSD+476                                             02185000
AUDNAME  EQU   SADMPLSD+472                                             02186000
IOISAVE  EQU   SADMPLSD+372                                             02187000
IOINAME  EQU   SADMPLSD+368                                             02188000
PGISAVE  EQU   SADMPLSD+268                                             02189000
PGINAME  EQU   SADMPLSD+264                                             02190000
SVISAVE  EQU   SADMPLSD+164                                             02191000
SVINAME  EQU   SADMPLSD+160                                             02192000
LOWCRS   EQU   SADMPLSD+96                                              02193000
LOWGRS   EQU   SADMPLSD+32                                              02194000
SAVEDUMP EQU   SADMPLSD+24                                              02195000
AUDPSW   EQU   SADMPLSD+16                                              02196000
SVIRPSW  EQU   SADMPLSD+8                                               02197000
PSWSADMP EQU   SADMPLSD                                                 02198000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      02199000
@RT00249 EQU   MDMEXIT                                                  02200000
@RT00259 EQU   MDMRET                                                   02201000
@RT00263 EQU   MDMRET                                                   02202000
@RT00274 EQU   MDMRC4                                                   02203000
@RT00314 EQU   MDMRET                                                   02204000
@RT00317 EQU   MDMRET                                                   02205000
@RT00362 EQU   SPQRET                                                   02206000
@RT00370 EQU   SPQEXIT                                                  02207000
@RT00377 EQU   SPQEON                                                   02208000
@RT00391 EQU   SPQRET                                                   02209000
@RT00416 EQU   DQERET                                                   02210000
@RT00436 EQU   DQERET                                                   02211000
@ENDDATA EQU   *                                                        02212000
         END   AMDSAMDM,(C'PLS2044',0603,74329)                         02213000
