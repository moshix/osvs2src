         TITLE 'AMDSYS00 - EDIT FORMATTING ROUTINE, SIO-IO RECORDS     *00001000
                        '                                               00002000
AMDSYS00 CSECT ,                                                01S0001 00003000
@MAINENT DS    0H                                               01S0001 00004000
         USING *,@15                                            01S0001 00005000
         B     @PROLOG                                          01S0001 00006000
         DC    AL1(16)                                          01S0001 00007000
         DC    C'AMDSYS00  76.153'                              01S0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                  01S0001 00010000
         BALR  @10,0                                            01S0001 00011000
@PSTART  DS    0H                                               01S0001 00012000
         USING @PSTART,@10                                      01S0001 00013000
*/********************************************************************/ 00014000
*/*                                                                  */ 00015000
*/*                             AMDSYS00                             */ 00016000
*/*                                                                  */ 00017000
*/********************************************************************/ 00018000
* R11=R1;                          /* MOVE PARM ADDRESS TO R11       */ 00019000
         LR    R11,R1                                           01S0039 00020000
* R12=WKAREADD;                    /* R12 IS BASE FOR 200 BYTE WORK  */ 00021000
         L     R12,WKAREADD(,R11)                               01S0040 00022000
*                                  /* AREA USED FOR DSECT            */ 00023000
* GEN SETS(R13,R15);               /* SET UP USING, SAVE AREA REG    */ 00024000
         USING @DATD,R12                                                00025000
         ST    R13,@SA00001+4                                           00026000
         LA    R15,@SA00001                                             00027000
         ST    R15,8(R13)                                               00028000
         LR    R13,R15                                                  00029000
*/********************************************************************/ 00030000
*/*                                                                  */ 00031000
*/*  THIS SEGMENT CHECKS THE INPUT RECORD TO SEE IF IT SHOULD BE     */ 00032000
*/*  PRINTED OR NOT, AND IF SO, WHETHER THE RECORD IS TO BE DUMPED   */ 00033000
*/*  IN HEX, FORMATTED IN 2 LINES, OR FORMATTED IN 1 LINE. THE       */ 00034000
*/*  APPROPRIATE RETURN CODE IS SET UP FOR EACH CASE.                */ 00035000
*/*                                                                  */ 00036000
*/********************************************************************/ 00037000
* IF RECERR='EEEE'X THEN           /* IF RECORD WAS IN ERROR,        */ 00038000
         L     @14,DATAPTR(,R11)                                02S0042 00039000
         CLC   RECERR(2,@14),@CB00622                           02S0042 00040000
         BNE   @RF00042                                         02S0042 00041000
*   RC=HEXDUMP;                    /* DUMP IT IN HEX                 */ 00042000
         LA    RC,12                                            02S0043 00043000
* ELSE                                                          02S0044 00044000
*   DO;                                                         02S0044 00045000
         B     @RC00042                                         02S0044 00046000
@RF00042 DS    0H                                               02S0045 00047000
*     IF TIME2SW=ON | RECEID=IMDMIO1 THEN /* IF 2ND TIME THRU, OR    */ 00048000
         TM    TIME2SW,B'10000000'                              02S0045 00049000
         BO    @RT00045                                         02S0045 00050000
         L     @14,EIDPTR(,R11)                                 02S0045 00051000
         CLC   RECEID(2,@14),@CB00208                           02S0045 00052000
         BNE   @RF00045                                         02S0045 00053000
@RT00045 DS    0H                                               02S0046 00054000
*                                  /* IF UIO RECORD, THEN ONLY       */ 00055000
*       RC=PRNTLAST;               /* 1 LINE NEEDED                  */ 00056000
         LA    RC,4                                             02S0046 00057000
*     ELSE                                                      02S0047 00058000
*       DO;                                                     02S0047 00059000
         B     @RC00045                                         02S0047 00060000
@RF00045 DS    0H                                               02S0048 00061000
*         DO CTR=1 TO DIM(MYEIDTAB) WHILE LOOPDONE=OFF;         02S0048 00062000
         LA    CTR,1                                            02S0048 00063000
@DL00048 TM    LOOPDONE,B'01000000'                             02S0048 00064000
         BNZ   @DC00048                                         02S0048 00065000
*           IF RECEID=MYEIDTAB(CTR) THEN /* IF 2 LINE EID FOUND,     */ 00066000
         L     @14,EIDPTR(,R11)                                 02S0049 00067000
         LR    @08,CTR                                          02S0049 00068000
         ALR   @08,@08                                          02S0049 00069000
         LA    @07,MYEIDTAB-2(@08)                              02S0049 00070000
         CLC   RECEID(2,@14),0(@07)                             02S0049 00071000
         BNE   @RF00049                                         02S0049 00072000
*             LOOPDONE=ON;         /* FORCE LOOP EXIT                */ 00073000
         OI    LOOPDONE,B'01000000'                             02S0050 00074000
*         END;                                                  02S0051 00075000
@RF00049 AL    CTR,@CF00044                                     02S0051 00076000
         C     CTR,@CF00098                                     02S0051 00077000
         BNH   @DL00048                                         02S0051 00078000
@DC00048 DS    0H                                               02S0052 00079000
*         IF LOOPDONE=ON THEN      /* IF EXIT WAS FORCED, THEN       */ 00080000
         TM    LOOPDONE,B'01000000'                             02S0052 00081000
         BNO   @RF00052                                         02S0052 00082000
*           DO;                    /* EID WAS FOUND                  */ 00083000
*             LOOPDONE=OFF;        /* RESET SWITCH, AND INDICATE     */ 00084000
         NI    LOOPDONE,B'10111111'                             02S0054 00085000
*             RC=PRNTFRST;         /* LINE 1 OF 2 TO BE PROCESSED    */ 00086000
         SLR   RC,RC                                            02S0055 00087000
*           END;                                                02S0056 00088000
*         ELSE                     /* NO EID FOUND,                  */ 00089000
*           RC=RECSKIP;            /* SKIP RECORD                    */ 00090000
         B     @RC00052                                         02S0057 00091000
@RF00052 LA    RC,8                                             02S0057 00092000
*       END;                                                    02S0058 00093000
@RC00052 DS    0H                                               02S0059 00094000
*   END;                                                        02S0059 00095000
@RC00045 DS    0H                                               02S0060 00096000
* IF RC=PRNTFRST | RC=PRNTLAST THEN  /* IF RECORD IS FORMATTED BY    */ 00097000
@RC00042 LTR   RC,RC                                            01S0060 00098000
         BZ    @RT00060                                         01S0060 00099000
         C     RC,@CF00098                                      01S0060 00100000
         BNE   @RF00060                                         01S0060 00101000
@RT00060 DS    0H                                               01S0061 00102000
*                                  /* THIS ROUTINE,                  */ 00103000
*   DO;                            /* THEN FORMAT IT                 */ 00104000
*/********************************************************************/ 00105000
*/*                                                                  */ 00106000
*/*  THIS SEGMENT FORMATS THE INPUT RECORD AFTER DECIDING WHICH      */ 00107000
*/*  FORMAT TO USE.                                                  */ 00108000
*/*                                                                  */ 00109000
*/********************************************************************/ 00110000
* R4=SNAPPARM->ADPLBUF;            /* LOAD ADDR OF LOCAL BUFFER      */ 00111000
         L     @14,SNAPPARM(,R11)                               02S0062 00112000
         L     R4,ADPLBUF(,@14)                                 02S0062 00113000
* IF RECEID=IMDMIO1 THEN           /* IF UIO RECORD, FORMAT IT       */ 00114000
         L     @14,EIDPTR(,R11)                                 02S0063 00115000
         CLC   RECEID(2,@14),@CB00208                           02S0063 00116000
         BNE   @RF00063                                         02S0063 00117000
*   DO;                                                         02S0064 00118000
*/********************************************************************/ 00119000
*/*                                                                  */ 00120000
*/*  THIS SEGMENT FORMATS THE UIO RECORD INTO 1 OUTPUT LINE.         */ 00121000
*/*                                                                  */ 00122000
*/********************************************************************/ 00123000
* CALL CHECKDEV (UIODEV,IO);       /* SEE IF DEVICE IS BEING TRACED  */ 00124000
         L     @14,DATAPTR(,R11)                                03S0065 00125000
         LA    @14,UIODEV(,@14)                                 03S0065 00126000
         ST    @14,@AL00001                                     03S0065 00127000
         LA    @14,IO(,AEDITCBR)                                03S0065 00128000
         ST    @14,@AL00001+4                                   03S0065 00129000
         LA    @01,@AL00001                                     03S0065 00130000
         BAL   @14,CHECKDEV                                     03S0065 00131000
* IF R15=0 THEN                    /* IF DEVICE IS BEING TRACED,     */ 00132000
         LTR   R15,R15                                          03S0066 00133000
         BNZ   @RF00066                                         03S0066 00134000
*   DO;                            /* FORMAT THE RECORD              */ 00135000
*     R0=ADDR(UIOPTRN);            /* SET UP PATTERN ADDRESS         */ 00136000
         LA    R0,UIOPTRN                                       03S0068 00137000
*     R1=SNAPPARM;                 /* POINT TO PARM FOR FORMAT       */ 00138000
         L     R1,SNAPPARM(,R11)                                03S0069 00139000
*     ADPLFMT1=ADDR(UIOLBLS);      /* INITIALIZE LABEL POINTER       */ 00140000
         LA    @14,UIOLBLS                                      03S0070 00141000
         ST    @14,ADPLFMT1(,R1)                                03S0070 00142000
*     ADPLFMT2=DATAPTR;            /* INITIALIZE DATA POINTER        */ 00143000
         L     @14,DATAPTR(,R11)                                03S0071 00144000
         ST    @14,ADPLFMT2(,R1)                                03S0071 00145000
*     CALL FRMT;                   /* FORMAT THE LINE                */ 00146000
         L     @15,FRMADDR(,R11)                                03S0072 00147000
         BALR  @14,@15                                          03S0072 00148000
*   END;                                                        03S0073 00149000
* ELSE                             /* DEVICE IS NOT BEING TRACED     */ 00150000
*   RC=RECSKIP;                    /* SKIP RECORD                    */ 00151000
         B     @RC00066                                         03S0074 00152000
@RF00066 LA    RC,8                                             03S0074 00153000
*   END;                                                        02S0075 00154000
* ELSE                                                          02S0076 00155000
*   DO;                                                         02S0076 00156000
         B     @RC00063                                         02S0076 00157000
@RF00063 DS    0H                                               02S0077 00158000
*     IF RECEID=IMDMSIO THEN       /* IF SIO RECORD, FORMAT 1 LINE   */ 00159000
         L     @14,EIDPTR(,R11)                                 02S0077 00160000
         CLC   RECEID(2,@14),@CB00212                           02S0077 00161000
         BNE   @RF00077                                         02S0077 00162000
*       DO;                                                     02S0078 00163000
*/********************************************************************/ 00164000
*/*                                                                  */ 00165000
*/*  THIS SEGMENT FORMATS A LINE OF THE SIO RECORD.                  */ 00166000
*/*                                                                  */ 00167000
*/********************************************************************/ 00168000
* IF TIME2SW=OFF THEN              /* IF THIS IS THE FIRST TIME FOR  */ 00169000
         TM    TIME2SW,B'10000000'                              03S0079 00170000
         BNZ   @RF00079                                         03S0079 00171000
*                                  /* THIS RECORD,                   */ 00172000
*   DO;                            /* FORMAT THE FIRST LINE          */ 00173000
*     CALL CHECKDEV (SIODEV,SIF);  /* ARE WE FORMATTING THIS DEVICE  */ 00174000
         L     @14,DATAPTR(,R11)                                03S0081 00175000
         LA    @14,SIODEV(,@14)                                 03S0081 00176000
         ST    @14,@AL00001                                     03S0081 00177000
         LA    @14,SIF(,AEDITCBR)                               03S0081 00178000
         ST    @14,@AL00001+4                                   03S0081 00179000
         LA    @01,@AL00001                                     03S0081 00180000
         BAL   @14,CHECKDEV                                     03S0081 00181000
*     IF R15=0 THEN                                             03S0082 00182000
         LTR   R15,R15                                          03S0082 00183000
         BNZ   @RF00082                                         03S0082 00184000
*       DO;                        /* YES, FORMAT LINE ONE           */ 00185000
*         R1=SNAPPARM;             /* SET UP PARM FOR FORMAT         */ 00186000
         L     R1,SNAPPARM(,R11)                                03S0084 00187000
*         R0=ADDR(SIOPTRN1);       /* POINT TO FIRST PATTERN         */ 00188000
         LA    R0,SIOPTRN1                                      03S0085 00189000
*         ADPLFMT1=ADDR(SIOLBLS);  /* INITIALIZE LABEL POINTER       */ 00190000
         LA    @14,SIOLBLS                                      03S0086 00191000
         ST    @14,ADPLFMT1(,R1)                                03S0086 00192000
*         ADPLFMT2=DATAPTR;        /* INITIALIZE DATA POINTER        */ 00193000
         L     @14,DATAPTR(,R11)                                03S0087 00194000
         ST    @14,ADPLFMT2(,R1)                                03S0087 00195000
*         CALL FRMT;               /* FORMAT PART OF LINE            */ 00196000
         L     @15,FRMADDR(,R11)                                03S0088 00197000
         BALR  @14,@15                                          03S0088 00198000
*         R0=ADDR(SIOPTRN2);       /* SET UP 2ND PATTERN             */ 00199000
         LA    R0,SIOPTRN2                                      03S0089 00200000
*         ADPLFMT2=ADDR(SIODEV);   /* POINT TO REST OF DATA          */ 00201000
         L     @14,DATAPTR(,R11)                                03S0090 00202000
         LA    @14,SIODEV(,@14)                                 03S0090 00203000
         ST    @14,ADPLFMT2(,R1)                                03S0090 00204000
*         CALL FRMT;               /* FORMAT REST OF LINE            */ 00205000
         L     @15,FRMADDR(,R11)                                03S0091 00206000
         BALR  @14,@15                                          03S0091 00207000
*/********************************************************************/ 00208000
*/*                                                                  */ 00209000
*/*  THIS SEGMENT CHECKS CERTAIN FIELDS IN THE SIO RECORD FOR        */ 00210000
*/*  'U/A' OR ASTERISKS. IF THE FIELD CONTAINS EITHER INDICATOR, THE */ 00211000
*/*  FORMATTED LINE IN THE OUTPUT BUFFER IS MODIFIED TO REFLECT THE  */ 00212000
*/*  INDICATION.                                                     */ 00213000
*/*                                                                  */ 00214000
*/********************************************************************/ 00215000
* IF SIOASCB=UA(1:LENGTH(SIOASCB)) THEN  /* CHECK ASCB FIELD         */ 00216000
         L     @14,DATAPTR(,R11)                                04S0092 00217000
         CLC   SIOASCB(4,@14),UA                                04S0092 00218000
         BNE   @RF00092                                         04S0092 00219000
*   BUFFER(16:23)=UA;                                           04S0093 00220000
         MVC   BUFFER+15(8,R4),UA                               04S0093 00221000
* ELSE                                                          04S0094 00222000
*   IF SIOASCB=ASTER(1:LENGTH(SIOASCB)) THEN                    04S0094 00223000
         B     @RC00092                                         04S0094 00224000
@RF00092 L     @14,DATAPTR(,R11)                                04S0094 00225000
         CLC   SIOASCB(4,@14),ASTER                             04S0094 00226000
         BNE   @RF00094                                         04S0094 00227000
*     BUFFER(16:23)=ASTER;                                      04S0095 00228000
         MVC   BUFFER+15(8,R4),ASTER                            04S0095 00229000
* IF SIOCPA=UA THEN                /* CHECK CPA FIELD                */ 00230000
@RF00094 DS    0H                                               04S0096 00231000
@RC00092 L     @14,DATAPTR(,R11)                                04S0096 00232000
         CLC   SIOCPA(8,@14),UA                                 04S0096 00233000
         BNE   @RF00096                                         04S0096 00234000
*   DO;                                                         04S0097 00235000
*     BUFFER(59:66)=UA;                                         04S0098 00236000
         MVC   BUFFER+58(8,R4),UA                               04S0098 00237000
*     BUFFER(68:75)='';                                         04S0099 00238000
         MVI   BUFFER+67(R4),C' '                               04S0099 00239000
         MVC   BUFFER+68(7,R4),BUFFER+67(R4)                    04S0099 00240000
*   END;                                                        04S0100 00241000
* ELSE                                                          04S0101 00242000
*   IF SIOCPA=ASTER THEN                                        04S0101 00243000
         B     @RC00096                                         04S0101 00244000
@RF00096 L     @14,DATAPTR(,R11)                                04S0101 00245000
         CLC   SIOCPA(8,@14),ASTER                              04S0101 00246000
         BNE   @RF00101                                         04S0101 00247000
*     DO;                                                       04S0102 00248000
*       BUFFER(59:66)=ASTER;                                    04S0103 00249000
         MVC   BUFFER+58(8,R4),ASTER                            04S0103 00250000
*       BUFFER(68:75)=ASTER;                                    04S0104 00251000
         MVC   BUFFER+67(8,R4),ASTER                            04S0104 00252000
*     END;                                                      04S0105 00253000
* IF SIODSID=UA(1:LENGTH(SIODSID)) THEN  /* CHECK DSID FIELD         */ 00254000
@RF00101 DS    0H                                               04S0106 00255000
@RC00096 L     @14,DATAPTR(,R11)                                04S0106 00256000
         CLC   SIODSID(4,@14),UA                                04S0106 00257000
         BNE   @RF00106                                         04S0106 00258000
*   BUFFER(97:104)=UA;                                          04S0107 00259000
         MVC   BUFFER+96(8,R4),UA                               04S0107 00260000
* ELSE                                                          04S0108 00261000
*   IF SIODSID=ASTER(1:LENGTH(SIODSID)) THEN                    04S0108 00262000
         B     @RC00106                                         04S0108 00263000
@RF00106 L     @14,DATAPTR(,R11)                                04S0108 00264000
         CLC   SIODSID(4,@14),ASTER                             04S0108 00265000
         BNE   @RF00108                                         04S0108 00266000
*     BUFFER(97:104)=ASTER;                                     04S0109 00267000
         MVC   BUFFER+96(8,R4),ASTER                            04S0109 00268000
*         TIME2SW=ON;              /* SET SWITCH TO FORMAT LINE 2    */ 00269000
@RF00108 DS    0H                                               03S0110 00270000
@RC00106 OI    TIME2SW,B'10000000'                              03S0110 00271000
*       END;                                                    03S0111 00272000
*     ELSE                         /* IF DEVICE IS NOT BEING DONE,   */ 00273000
*       RC=RECSKIP;                /* SKIP THE RECORD                */ 00274000
         B     @RC00082                                         03S0112 00275000
@RF00082 LA    RC,8                                             03S0112 00276000
*   END;                                                        03S0113 00277000
* ELSE                             /* IF THIS IS THE 2ND TIME FOR    */ 00278000
*                                  /* THIS RECORD,                   */ 00279000
*   DO;                            /* FORMAT THE SECOND LINE         */ 00280000
         B     @RC00079                                         03S0114 00281000
@RF00079 DS    0H                                               03S0115 00282000
*     R1=SNAPPARM;                 /* SET UP PARM FOR FORMAT         */ 00283000
         L     R1,SNAPPARM(,R11)                                03S0115 00284000
*     R0=ADDR(SIOPTRN3);           /* SET UP 3RD PATTERN     @ZA09664*/ 00285000
         LA    R0,SIOPTRN3                                      03S0116 00286000
*     SIOCC=SIOCC&'30'X;           /*  CONDITION CODE        @ZA09664*/ 00287000
         L     @14,DATAPTR(,R11)                                03S0117 00288000
         NI    SIOCC(@14),X'30'                                 03S0117 00289000
*     ADPLFMT2=ADDR(SIOCC);        /* POINT TO DATA                  */ 00290000
         LA    @14,SIOCC(,@14)                                  03S0118 00291000
         ST    @14,ADPLFMT2(,R1)                                03S0118 00292000
*     CALL FRMT;                   /* FORMAT PART OF LINE 2          */ 00293000
         L     @15,FRMADDR(,R11)                                03S0119 00294000
         BALR  @14,@15                                          03S0119 00295000
*     BLNKCC=' ';               /* BLANK OUT SECOND BYTE CC  @YM09151*/ 00296000
         MVI   BLNKCC(R4),C' '                                  03S0120 00297000
*     R0=ADDR(SIOPTRN4);           /* SET UP 4TH PATTERN             */ 00298000
         LA    R0,SIOPTRN4                                      03S0121 00299000
*     ADPLFMT2=ADDR(SIOSTS);       /* DATA FOR LAST PATTERN          */ 00300000
         L     @14,DATAPTR(,R11)                                03S0122 00301000
         LA    @14,SIOSTS(,@14)                                 03S0122 00302000
         ST    @14,ADPLFMT2(,R1)                                03S0122 00303000
*     CALL FRMT;                   /* FORMAT REST OF RECORD          */ 00304000
         L     @15,FRMADDR(,R11)                                03S0123 00305000
         BALR  @14,@15                                          03S0123 00306000
*/********************************************************************/ 00307000
*/*                                                                  */ 00308000
*/*  THIS SEGMENT CHECKS CERTAIN FIELDS IN THE SIO RECORD FOR        */ 00309000
*/*  'U/A' OR ASTERISKS. IF THE FIELD CONTAINS EITHER INDICATOR, THE */ 00310000
*/*  FORMATTED LINE IN THE OUTPUT BUFFER IS MODIFIED TO REFLECT THE  */ 00311000
*/*  INDICATION.                                                     */ 00312000
*/*                                                                  */ 00313000
*/********************************************************************/ 00314000
* IF SIOFLAGS=UA(1:LENGTH(SIOFLAGS)) THEN  /* CHECK FLAGS FIELD      */ 00315000
         L     @14,DATAPTR(,R11)                                04S0124 00316000
         CLC   SIOFLAGS(6,@14),UA                               04S0124 00317000
         BNE   @RF00124                                         04S0124 00318000
*   DO;                                                         04S0125 00319000
*     BUFFER(16:23)=UA;                                         04S0126 00320000
         MVC   BUFFER+15(8,R4),UA                               04S0126 00321000
*     BUFFER(25:28)='';                                         04S0127 00322000
         MVI   BUFFER+24(R4),C' '                               04S0127 00323000
         MVC   BUFFER+25(3,R4),BUFFER+24(R4)                    04S0127 00324000
*   END;                                                        04S0128 00325000
* ELSE                                                          04S0129 00326000
*   IF SIOFLAGS=ASTER(1:LENGTH(SIOFLAGS)) THEN                  04S0129 00327000
         B     @RC00124                                         04S0129 00328000
@RF00124 L     @14,DATAPTR(,R11)                                04S0129 00329000
         CLC   SIOFLAGS(6,@14),ASTER                            04S0129 00330000
         BNE   @RF00129                                         04S0129 00331000
*     DO;                                                       04S0130 00332000
*       BUFFER(16:23)=ASTER;                                    04S0131 00333000
         MVC   BUFFER+15(8,R4),ASTER                            04S0131 00334000
*       BUFFER(25:28)=ASTER(1:4);                               04S0132 00335000
         MVC   BUFFER+24(4,R4),ASTER                            04S0132 00336000
*     END;                                                      04S0133 00337000
* IF SIOSEEK=UA THEN               /* CHECK FLAGS FIELD              */ 00338000
@RF00129 DS    0H                                               04S0134 00339000
@RC00124 L     @14,DATAPTR(,R11)                                04S0134 00340000
         CLC   SIOSEEK(8,@14),UA                                04S0134 00341000
         BNE   @RF00134                                         04S0134 00342000
*   DO;                                                         04S0135 00343000
*     BUFFER(59:66)=UA;                                         04S0136 00344000
         MVC   BUFFER+58(8,R4),UA                               04S0136 00345000
*     BUFFER(68:75)='';                                         04S0137 00346000
         MVI   BUFFER+67(R4),C' '                               04S0137 00347000
         MVC   BUFFER+68(7,R4),BUFFER+67(R4)                    04S0137 00348000
*   END;                                                        04S0138 00349000
* ELSE                                                          04S0139 00350000
*   IF SIOSEEK=ASTER THEN                                       04S0139 00351000
         B     @RC00134                                         04S0139 00352000
@RF00134 L     @14,DATAPTR(,R11)                                04S0139 00353000
         CLC   SIOSEEK(8,@14),ASTER                             04S0139 00354000
         BNE   @RF00139                                         04S0139 00355000
*     DO;                                                       04S0140 00356000
*       BUFFER(59:66)=ASTER;                                    04S0141 00357000
         MVC   BUFFER+58(8,R4),ASTER                            04S0141 00358000
*       BUFFER(68:75)=ASTER;                                    04S0142 00359000
         MVC   BUFFER+67(8,R4),ASTER                            04S0142 00360000
*     END;                                                      04S0143 00361000
* IF SIOCC=UA(1) THEN              /* CHECK CC FIELD                 */ 00362000
@RF00139 DS    0H                                               04S0144 00363000
@RC00134 L     @14,DATAPTR(,R11)                                04S0144 00364000
         CLC   SIOCC(1,@14),UA                                  04S0144 00365000
         BNE   @RF00144                                         04S0144 00366000
*   BUFFER(81:83)=UA(1:3);    /*                             @YM09151*/ 00367000
         MVC   BUFFER+80(3,R4),UA                               04S0145 00368000
* ELSE                                                          04S0146 00369000
*   IF SIOCC=ASTER(1) THEN                                      04S0146 00370000
         B     @RC00144                                         04S0146 00371000
@RF00144 L     @14,DATAPTR(,R11)                                04S0146 00372000
         CLC   SIOCC(1,@14),ASTER                               04S0146 00373000
         BNE   @RF00146                                         04S0146 00374000
*     BUFFER(81:82)=ASTER(1:2);       /*                     @YM09151*/ 00375000
         MVC   BUFFER+80(2,R4),ASTER                            04S0147 00376000
*     TIME2SW=OFF;                 /* RESET SECOND TIME SWITCH       */ 00377000
@RF00146 DS    0H                                               03S0148 00378000
@RC00144 NI    TIME2SW,B'01111111'                              03S0148 00379000
*   END;                                                        03S0149 00380000
*       END;                                                    02S0150 00381000
*     ELSE                                                      02S0151 00382000
*       DO;                                                     02S0151 00383000
         B     @RC00077                                         02S0151 00384000
@RF00077 DS    0H                                               02S0152 00385000
*         IF RECEID=IMDMIO2 |      /* IF IO RECORD OR                */ 00386000
*            RECEID=IMDMPCI |      /* PCI RECORD OR                  */ 00387000
*            RECEID=IMDMEOS THEN   /* EOS RECORD, FORMAT 1 LINE      */ 00388000
         L     @14,EIDPTR(,R11)                                 02S0152 00389000
         CLC   RECEID(2,@14),@CB00210                           02S0152 00390000
         BE    @RT00152                                         02S0152 00391000
         CLC   RECEID(2,@14),@CB00202                           02S0152 00392000
         BE    @RT00152                                         02S0152 00393000
         CLC   RECEID(2,@14),@CB00224                           02S0152 00394000
         BNE   @RF00152                                         02S0152 00395000
@RT00152 DS    0H                                               02S0153 00396000
*           DO;                                                 02S0153 00397000
*/********************************************************************/ 00398000
*/*                                                                  */ 00399000
*/*  THIS SEGMENT FORMATS A LINE OF THE IO, PCI, AND EOS RECORDS.    */ 00400000
*/*                                                                  */ 00401000
*/********************************************************************/ 00402000
* IF TIME2SW=OFF THEN              /* IF THIS IS THE FIRST TIME FOR  */ 00403000
         TM    TIME2SW,B'10000000'                              03S0154 00404000
         BNZ   @RF00154                                         03S0154 00405000
*                                  /* THIS RECORD,                   */ 00406000
*   DO;                            /* FORMAT THE FIRST LINE          */ 00407000
*     CALL CHECKDEV (IODEV,IO);    /* ARE WE FORMATTING THIS DEVICE  */ 00408000
         L     @14,DATAPTR(,R11)                                03S0156 00409000
         LA    @14,IODEV(,@14)                                  03S0156 00410000
         ST    @14,@AL00001                                     03S0156 00411000
         LA    @14,IO(,AEDITCBR)                                03S0156 00412000
         ST    @14,@AL00001+4                                   03S0156 00413000
         LA    @01,@AL00001                                     03S0156 00414000
         BAL   @14,CHECKDEV                                     03S0156 00415000
*     IF R15=0 THEN                                             03S0157 00416000
         LTR   R15,R15                                          03S0157 00417000
         BNZ   @RF00157                                         03S0157 00418000
*       DO;                        /* YES, FORMAT LINE ONE           */ 00419000
*         IF RECEID=IMDMIO2 THEN   /* CHECK FOR IO RECORD            */ 00420000
         L     @14,EIDPTR(,R11)                                 03S0159 00421000
         CLC   RECEID(2,@14),@CB00210                           03S0159 00422000
         BNE   @RF00159                                         03S0159 00423000
*           BUFFER(1:3)='IO ';     /* PUT RECORD TYPE IN LINE        */ 00424000
         MVC   BUFFER(3,R4),@CC00637                            03S0160 00425000
*         IF RECEID=IMDMPCI THEN   /* CHECK FOR PCI RECORD           */ 00426000
@RF00159 L     @14,EIDPTR(,R11)                                 03S0161 00427000
         CLC   RECEID(2,@14),@CB00202                           03S0161 00428000
         BNE   @RF00161                                         03S0161 00429000
*           BUFFER(1:3)='PCI';     /* PUT RECORD TYPE IN LINE        */ 00430000
         MVC   BUFFER(3,R4),@CC00638                            03S0162 00431000
*         IF RECEID=IMDMEOS THEN   /* CHECK FOR EOS RECORD           */ 00432000
@RF00161 L     @14,EIDPTR(,R11)                                 03S0163 00433000
         CLC   RECEID(2,@14),@CB00224                           03S0163 00434000
         BNE   @RF00163                                         03S0163 00435000
*           BUFFER(1:3)='EOS';     /* PUT RECORD TYPE IN LINE        */ 00436000
         MVC   BUFFER(3,R4),@CC00639                            03S0164 00437000
*         R1=SNAPPARM;             /* SET UP PARM FOR FORMAT         */ 00438000
@RF00163 L     R1,SNAPPARM(,R11)                                03S0165 00439000
*         R0=ADDR(IOPTRN1);        /* POINT TO FIRST PATTERN         */ 00440000
         LA    R0,IOPTRN1                                       03S0166 00441000
*         ADPLFMT1=ADDR(IOLBLS);   /* INITIALIZE LABEL POINTER       */ 00442000
         LA    @14,IOLBLS                                       03S0167 00443000
         ST    @14,ADPLFMT1(,R1)                                03S0167 00444000
*         ADPLFMT2=DATAPTR;        /* INITIALIZE DATA POINTER        */ 00445000
         L     @14,DATAPTR(,R11)                                03S0168 00446000
         ST    @14,ADPLFMT2(,R1)                                03S0168 00447000
*         CALL FRMT;               /* FORMAT PART OF LINE            */ 00448000
         L     @15,FRMADDR(,R11)                                03S0169 00449000
         BALR  @14,@15                                          03S0169 00450000
*         R0=ADDR(IOPTRN2);        /* SET UP 2ND PATTERN             */ 00451000
         LA    R0,IOPTRN2                                       03S0170 00452000
*         ADPLFMT2=ADDR(IODEV);    /* POINT TO REST OF DATA          */ 00453000
         L     @14,DATAPTR(,R11)                                03S0171 00454000
         LA    @14,IODEV(,@14)                                  03S0171 00455000
         ST    @14,ADPLFMT2(,R1)                                03S0171 00456000
*         CALL FRMT;               /* FORMAT REST OF LINE            */ 00457000
         L     @15,FRMADDR(,R11)                                03S0172 00458000
         BALR  @14,@15                                          03S0172 00459000
*/********************************************************************/ 00460000
*/*                                                                  */ 00461000
*/*  THIS SEGMENT CHECKS CERTAIN FIELDS IN THE IO RECORD FOR 'N/A',  */ 00462000
*/*  'U/A' OR ASTERISKS. IF THE FIELD CONTAINS ANY INDICATOR, THE    */ 00463000
*/*  FORMATTED LINE IN THE OUTPUT BUFFER IS MODIFIED TO REFLECT THE  */ 00464000
*/*  INDICATION.                                                     */ 00465000
*/*                                                                  */ 00466000
*/********************************************************************/ 00467000
* IF IOASCB=UA(1:LENGTH(IOASCB)) THEN  /* CHECK ASCB FIELD           */ 00468000
         L     @14,DATAPTR(,R11)                                04S0173 00469000
         CLC   IOASCB(4,@14),UA                                 04S0173 00470000
         BNE   @RF00173                                         04S0173 00471000
*   BUFFER(16:23)=UA;                                           04S0174 00472000
         MVC   BUFFER+15(8,R4),UA                               04S0174 00473000
* ELSE                                                          04S0175 00474000
*   IF IOASCB=ASTER(1:LENGTH(IOASCB)) THEN                      04S0175 00475000
         B     @RC00173                                         04S0175 00476000
@RF00173 L     @14,DATAPTR(,R11)                                04S0175 00477000
         CLC   IOASCB(4,@14),ASTER                              04S0175 00478000
         BNE   @RF00175                                         04S0175 00479000
*     BUFFER(16:23)=ASTER;                                      04S0176 00480000
         MVC   BUFFER+15(8,R4),ASTER                            04S0176 00481000
* IF IOTCB=UA(1:LENGTH(IOTCB)) THEN  /* CHECK TCB FIELD              */ 00482000
@RF00175 DS    0H                                               04S0177 00483000
@RC00173 L     @14,DATAPTR(,R11)                                04S0177 00484000
         CLC   IOTCB(4,@14),UA                                  04S0177 00485000
         BNE   @RF00177                                         04S0177 00486000
*   BUFFER(82:89)=UA;                                           04S0178 00487000
         MVC   BUFFER+81(8,R4),UA                               04S0178 00488000
* ELSE                                                          04S0179 00489000
*   IF IOTCB=ASTER(1:LENGTH(IOTCB)) THEN                        04S0179 00490000
         B     @RC00177                                         04S0179 00491000
@RF00177 L     @14,DATAPTR(,R11)                                04S0179 00492000
         CLC   IOTCB(4,@14),ASTER                               04S0179 00493000
         BNE   @RF00179                                         04S0179 00494000
*     BUFFER(82:89)=ASTER;                                      04S0180 00495000
         MVC   BUFFER+81(8,R4),ASTER                            04S0180 00496000
*   ELSE                                                        04S0181 00497000
*     IF IOTCB=NA(1:LENGTH(IOTCB)) THEN                         04S0181 00498000
         B     @RC00179                                         04S0181 00499000
@RF00179 L     @14,DATAPTR(,R11)                                04S0181 00500000
         CLC   IOTCB(4,@14),NA                                  04S0181 00501000
         BNE   @RF00181                                         04S0181 00502000
*       BUFFER(82:89)=NA;                                       04S0182 00503000
         MVC   BUFFER+81(8,R4),NA                               04S0182 00504000
* IF IODSID=UA(1:LENGTH(IODSID)) THEN  /* CHECK DSID FIELD           */ 00505000
@RF00181 DS    0H                                               04S0183 00506000
@RC00179 DS    0H                                               04S0183 00507000
@RC00177 L     @14,DATAPTR(,R11)                                04S0183 00508000
         CLC   IODSID(4,@14),UA                                 04S0183 00509000
         BNE   @RF00183                                         04S0183 00510000
*   BUFFER(97:104)=UA;                                          04S0184 00511000
         MVC   BUFFER+96(8,R4),UA                               04S0184 00512000
* ELSE                                                          04S0185 00513000
*   IF IODSID=ASTER(1:LENGTH(IODSID)) THEN                      04S0185 00514000
         B     @RC00183                                         04S0185 00515000
@RF00183 L     @14,DATAPTR(,R11)                                04S0185 00516000
         CLC   IODSID(4,@14),ASTER                              04S0185 00517000
         BNE   @RF00185                                         04S0185 00518000
*     BUFFER(97:104)=ASTER;                                     04S0186 00519000
         MVC   BUFFER+96(8,R4),ASTER                            04S0186 00520000
*         TIME2SW=ON;              /* SET SWITCH TO FORMAT LINE 2    */ 00521000
@RF00185 DS    0H                                               03S0187 00522000
@RC00183 OI    TIME2SW,B'10000000'                              03S0187 00523000
*       END;                                                    03S0188 00524000
*     ELSE                         /* IF DEVICE IS NOT BEING DONE,   */ 00525000
*       RC=RECSKIP;                /* SKIP THE RECORD                */ 00526000
         B     @RC00157                                         03S0189 00527000
@RF00157 LA    RC,8                                             03S0189 00528000
*   END;                                                        03S0190 00529000
* ELSE                             /* IF THIS IS THE 2ND TIME FOR    */ 00530000
*                                  /* THIS RECORD,                   */ 00531000
*   DO;                            /* FORMAT THE SECOND LINE         */ 00532000
         B     @RC00154                                         03S0191 00533000
@RF00154 DS    0H                                               03S0192 00534000
*     R1=SNAPPARM;                 /* SET UP PARM FOR FORMAT         */ 00535000
         L     R1,SNAPPARM(,R11)                                03S0192 00536000
*     R0=ADDR(IOPTRN3);            /* SET UP 3RD PATTERN             */ 00537000
         LA    R0,IOPTRN3                                       03S0193 00538000
*     ADPLFMT2=ADDR(IOCSW);        /* POINT TO DATA                  */ 00539000
         L     @14,DATAPTR(,R11)                                03S0194 00540000
         LA    @14,IOCSW(,@14)                                  03S0194 00541000
         ST    @14,ADPLFMT2(,R1)                                03S0194 00542000
*     CALL FRMT;                   /* FORMAT PART OF LINE 2          */ 00543000
         L     @15,FRMADDR(,R11)                                03S0195 00544000
         BALR  @14,@15                                          03S0195 00545000
*     R0=ADDR(IOPTRN4);            /* SET UP 4TH PATTERN             */ 00546000
         LA    R0,IOPTRN4                                       03S0196 00547000
*     ADPLFMT2=ADDR(IOFLA);        /* DATA FOR LAST PATTERN          */ 00548000
         L     @14,DATAPTR(,R11)                                03S0197 00549000
         LA    @14,IOFLA(,@14)                                  03S0197 00550000
         ST    @14,ADPLFMT2(,R1)                                03S0197 00551000
*     CALL FRMT;                   /* FORMAT REST OF RECORD          */ 00552000
         L     @15,FRMADDR(,R11)                                03S0198 00553000
         BALR  @14,@15                                          03S0198 00554000
*/********************************************************************/ 00555000
*/*                                                                  */ 00556000
*/*  THIS SEGMENT CHECKS CERTAIN FIELDS IN THE IO RECORD FOR 'N/A',  */ 00557000
*/*  'U/A' OR ASTERISKS. IF THE FIELD CONTAINS ANY INDICATOR, THE    */ 00558000
*/*  FORMATTED LINE IN THE OUTPUT BUFFER IS MODIFIED TO REFLECT THE  */ 00559000
*/*  INDICATION.                                                     */ 00560000
*/*                                                                  */ 00561000
*/********************************************************************/ 00562000
* IF IOSNS=UA(1:LENGTH(IOSNS)) THEN  /* CHECK SNS FIELD              */ 00563000
         L     @14,DATAPTR(,R11)                                04S0199 00564000
         CLC   IOSNS(2,@14),UA                                  04S0199 00565000
         BNE   @RF00199                                         04S0199 00566000
*   BUFFER(41:44)=UA(1:4);                                      04S0200 00567000
         MVC   BUFFER+40(4,R4),UA                               04S0200 00568000
* ELSE                                                          04S0201 00569000
*   IF IOSNS=ASTER(1:LENGTH(IOSNS)) THEN                        04S0201 00570000
         B     @RC00199                                         04S0201 00571000
@RF00199 L     @14,DATAPTR(,R11)                                04S0201 00572000
         CLC   IOSNS(2,@14),ASTER                               04S0201 00573000
         BNE   @RF00201                                         04S0201 00574000
*     BUFFER(41:44)=ASTER(1:4);                                 04S0202 00575000
         MVC   BUFFER+40(4,R4),ASTER                            04S0202 00576000
*   ELSE                                                        04S0203 00577000
*     IF IOSNS=NA(1:LENGTH(IOSNS)) THEN                         04S0203 00578000
         B     @RC00201                                         04S0203 00579000
@RF00201 L     @14,DATAPTR(,R11)                                04S0203 00580000
         CLC   IOSNS(2,@14),NA                                  04S0203 00581000
         BNE   @RF00203                                         04S0203 00582000
*       BUFFER(41:44)=NA(1:4);                                  04S0204 00583000
         MVC   BUFFER+40(4,R4),NA                               04S0204 00584000
* IF IOCPA=UA THEN                 /* CHECK CPA FIELD                */ 00585000
@RF00203 DS    0H                                               04S0205 00586000
@RC00201 DS    0H                                               04S0205 00587000
@RC00199 L     @14,DATAPTR(,R11)                                04S0205 00588000
         CLC   IOCPA(8,@14),UA                                  04S0205 00589000
         BNE   @RF00205                                         04S0205 00590000
*   DO;                                                         04S0206 00591000
*     BUFFER(59:66)=UA;                                         04S0207 00592000
         MVC   BUFFER+58(8,R4),UA                               04S0207 00593000
*     BUFFER(68:75)='';                                         04S0208 00594000
         MVI   BUFFER+67(R4),C' '                               04S0208 00595000
         MVC   BUFFER+68(7,R4),BUFFER+67(R4)                    04S0208 00596000
*   END;                                                        04S0209 00597000
* ELSE                                                          04S0210 00598000
*   IF IOCPA=ASTER THEN                                         04S0210 00599000
         B     @RC00205                                         04S0210 00600000
@RF00205 L     @14,DATAPTR(,R11)                                04S0210 00601000
         CLC   IOCPA(8,@14),ASTER                               04S0210 00602000
         BNE   @RF00210                                         04S0210 00603000
*     DO;                                                       04S0211 00604000
*       BUFFER(59:66)=ASTER;                                    04S0212 00605000
         MVC   BUFFER+58(8,R4),ASTER                            04S0212 00606000
*       BUFFER(68:75)=ASTER;                                    04S0213 00607000
         MVC   BUFFER+67(8,R4),ASTER                            04S0213 00608000
*     END;                                                      04S0214 00609000
* IF IOFLAGS(1:4)=UA(1:4) THEN     /* CHECK 1ST PART OF FLAGS FIELD  */ 00610000
@RF00210 DS    0H                                               04S0215 00611000
@RC00205 L     @14,DATAPTR(,R11)                                04S0215 00612000
         CLC   IOFLAGS(4,@14),UA                                04S0215 00613000
         BNE   @RF00215                                         04S0215 00614000
*   BUFFER(82:89)=UA;                                           04S0216 00615000
         MVC   BUFFER+81(8,R4),UA                               04S0216 00616000
* ELSE                                                          04S0217 00617000
*   IF IOFLAGS(1:4)=ASTER(1:4) THEN                             04S0217 00618000
         B     @RC00215                                         04S0217 00619000
@RF00215 L     @14,DATAPTR(,R11)                                04S0217 00620000
         CLC   IOFLAGS(4,@14),ASTER                             04S0217 00621000
         BNE   @RF00217                                         04S0217 00622000
*     BUFFER(82:89)=ASTER;                                      04S0218 00623000
         MVC   BUFFER+81(8,R4),ASTER                            04S0218 00624000
* IF IOFLAGS(5:9)=ASTER(1:5) THEN  /* CHECK 2ND PART OF FLAGS FIELD  */ 00625000
@RF00217 DS    0H                                               04S0219 00626000
@RC00215 L     @14,DATAPTR(,R11)                                04S0219 00627000
         CLC   IOFLAGS+4(5,@14),ASTER                           04S0219 00628000
         BNE   @RF00219                                         04S0219 00629000
*   DO;                                                         04S0220 00630000
*     BUFFER(92:99)=ASTER;                                      04S0221 00631000
         MVC   BUFFER+91(8,R4),ASTER                            04S0221 00632000
*     BUFFER(101:102)=ASTER(1:2);                               04S0222 00633000
         MVC   BUFFER+100(2,R4),ASTER                           04S0222 00634000
*   END;                                                        04S0223 00635000
*     TIME2SW=OFF;                 /* RESET SECOND TIME SWITCH       */ 00636000
@RF00219 NI    TIME2SW,B'01111111'                              03S0224 00637000
*   END;                                                        03S0225 00638000
*           END;                                                02S0226 00639000
@RC00154 DS    0H                                               02S0227 00640000
*       END;                                                    02S0227 00641000
@RF00152 DS    0H                                               02S0228 00642000
*   END;                                                        02S0228 00643000
@RC00077 DS    0H                                               02S0229 00644000
*   END;                                                        01S0229 00645000
@RC00063 DS    0H                                               01S0230 00646000
* RETURN CODE(RC);                 /* RETURN CODE HAS BEEN SET UP    */ 00647000
@RF00060 LR    @15,RC                                           01S0230 00648000
         L     @13,4(,@13)                                      01S0230 00649000
         L     @14,12(,@13)                                     01S0230 00650000
         LM    @00,@12,20(@13)                                  01S0230 00651000
         BR    @14                                              01S0230 00652000
*/********************************************************************/ 00653000
*/*                                                                  */ 00654000
*/*  THIS SUBROUTINE DETERMINES WHETHER THE DEVICE IN THE TRACE      */ 00655000
*/*  RECORD IS TO BE TRACED OR NOT, AND PASSES A RETURN CODE BACK    */ 00656000
*/*  IN REGISTER 15.                                                 */ 00657000
*/*                                                                  */ 00658000
*/********************************************************************/ 00659000
*CHECKDEV:                                                      02S0231 00660000
* PROC (DEV,TABL);                                              02S0231 00661000
CHECKDEV STM   @14,@12,12(@13)                                  02S0231 00662000
         MVC   @PC00002(8),0(@01)                               02S0231 00663000
* DCL DEV CHAR(2);                 /* DEVICE TO BE CHECKED           */ 00664000
* DCL 1 TABL,                      /* TABLE TO CHECK WITH            */ 00665000
*       3 * BIT(32),                                            02S0233 00666000
*         5 ALL BIT(1),            /* ALL DEVICES ACCEPTABLE         */ 00667000
*         5 SEL BIT(1),            /* DEVICES IN LIST ACCEPTABLE     */ 00668000
*       3 DVCS(50) CHAR(2);        /* LIST OF ACCEPTABLE DEVICES     */ 00669000
* DCL DELIM CHAR(2) CONSTANT('  '); /* LIST DELIMITER                */ 00670000
* IF ALL=ON THEN                   /* IF ALL DEVICES ARE OK,         */ 00671000
         L     @14,@PC00002+4                                   02S0235 00672000
         TM    ALL(@14),B'10000000'                             02S0235 00673000
         BNO   @RF00235                                         02S0235 00674000
*   R15=0;                         /* SET GOOD RETURN CODE           */ 00675000
         SLR   R15,R15                                          02S0236 00676000
* ELSE                             /* IF ALL ARE NOT OK,             */ 00677000
*   DO;                            /* CHECK FOR SOME OK              */ 00678000
         B     @RC00235                                         02S0237 00679000
@RF00235 DS    0H                                               02S0238 00680000
*     IF SEL=ON THEN               /* IF SOME DEVICES ARE OK,        */ 00681000
         L     @14,@PC00002+4                                   02S0238 00682000
         TM    SEL(@14),B'01000000'                             02S0238 00683000
         BNO   @RF00238                                         02S0238 00684000
*       DO;                        /* CHECK FOR SPECIFIC DEVICE      */ 00685000
*         DO CTR=1 TO DIM(DVCS) WHILE DEVFOUND=OFF;             02S0240 00686000
         LA    CTR,1                                            02S0240 00687000
@DL00240 TM    DEVFOUND,B'00100000'                             02S0240 00688000
         BNZ   @DC00240                                         02S0240 00689000
*           IF DVCS(CTR)=DEV THEN  /* IF DEVICE MATCH FOUND,         */ 00690000
         LR    @14,CTR                                          02S0241 00691000
         ALR   @14,@14                                          02S0241 00692000
         L     @08,@PC00002+4                                   02S0241 00693000
         L     @07,@PC00002                                     02S0241 00694000
         ALR   @08,@14                                          02S0241 00695000
         CLC   DVCS-2(2,@08),DEV(@07)                           02S0241 00696000
         BNE   @RF00241                                         02S0241 00697000
*             DEVFOUND=ON;         /* INDICATE SO                    */ 00698000
         OI    DEVFOUND,B'00100000'                             02S0242 00699000
*           ELSE                                                02S0243 00700000
*             IF DVCS(CTR)=DELIM THEN /* IF DELIMITER REACHED,       */ 00701000
         B     @RC00241                                         02S0243 00702000
@RF00241 LR    @14,CTR                                          02S0243 00703000
         ALR   @14,@14                                          02S0243 00704000
         L     @08,@PC00002+4                                   02S0243 00705000
         ALR   @08,@14                                          02S0243 00706000
         CLC   DVCS-2(2,@08),@CC00658                           02S0243 00707000
         BNE   @RF00243                                         02S0243 00708000
*               CTR=DIM(DVCS);     /* SET CTR TO LEAVE LOOP          */ 00709000
         LA    CTR,50                                           02S0244 00710000
*         END;                                                  02S0245 00711000
@RF00243 DS    0H                                               02S0245 00712000
@RC00241 AL    CTR,@CF00044                                     02S0245 00713000
         C     CTR,@CF00103                                     02S0245 00714000
         BNH   @DL00240                                         02S0245 00715000
@DC00240 DS    0H                                               02S0246 00716000
*         IF DEVFOUND=ON THEN      /* IF DEVICE WAS OK TO TRACE,     */ 00717000
         TM    DEVFOUND,B'00100000'                             02S0246 00718000
         BNO   @RF00246                                         02S0246 00719000
*           DO;                    /* RESET SWITCH, SET RETURN CODE  */ 00720000
*             DEVFOUND=OFF;                                     02S0248 00721000
         NI    DEVFOUND,B'11011111'                             02S0248 00722000
*             R15=0;                                            02S0249 00723000
         SLR   R15,R15                                          02S0249 00724000
*           END;                                                02S0250 00725000
*         ELSE                     /* IF DEVICE MATCH NOT FOUND,     */ 00726000
*           R15=4;                 /* SET BAD RETURN CODE            */ 00727000
         B     @RC00246                                         02S0251 00728000
@RF00246 LA    R15,4                                            02S0251 00729000
*       END;                                                    02S0252 00730000
*     ELSE                         /* IF NO DEVICES ARE BEING TRACED, * 00731000
*       R15=4;                     /* SET BAD RETURN CODE            */ 00732000
         B     @RC00238                                         02S0253 00733000
@RF00238 LA    R15,4                                            02S0253 00734000
*   END;                                                        02S0254 00735000
@RC00238 DS    0H                                               02S0255 00736000
* RETURN CODE(R15);                                             02S0255 00737000
@RC00235 L     @14,12(,@13)                                     02S0255 00738000
         LM    @00,@12,20(@13)                                  02S0255 00739000
         BR    @14                                              02S0255 00740000
* END CHECKDEV;                                                 02S0256 00741000
* END AMDSYS00                                                  01S0257 00742000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      * 00743000
*/*%INCLUDE SYSUT5  (SYSPROLG)                                        * 00744000
*/*%INCLUDE SYSUT5  (MACROS  )                                        * 00745000
*/*%INCLUDE SYSUT5  (DECLARES)                                        * 00746000
*/*%INCLUDE SYSLIB  (AMDPRTAB)                                        * 00747000
*/*%INCLUDE SYSLIB  (IHAABDPL)                                        * 00748000
*/*%INCLUDE SYSLIB  (IMDMEDIT)                                        * 00749000
*/*%INCLUDE SYSUT5  (CHECKREC)                                        * 00750000
*/*%INCLUDE SYSUT5  (FMTREC  )                                        * 00751000
*/*%INCLUDE SYSUT5  (FMTUIO  )                                        * 00752000
*/*%INCLUDE SYSUT5  (FMTSIO  )                                        * 00753000
*/*%INCLUDE SYSUT5  (CKSIOL1 )                                        * 00754000
*/*%INCLUDE SYSUT5  (CKSIOL2 )                                        * 00755000
*/*%INCLUDE SYSUT5  (FMTIO   )                                        * 00756000
*/*%INCLUDE SYSUT5  (CKIOL1  )                                        * 00757000
*/*%INCLUDE SYSUT5  (CKIOL2  )                                        * 00758000
*/*%INCLUDE SYSUT5  (CHECKDEV)                                        * 00759000
*;                                                              01S0257 00760000
@DATA    DS    0H                                                       00761000
@DATD    DSECT                                                          00762000
         DS    0F                                                       00763000
@SA00001 DS    18F                                                      00764000
@PC00002 DS    2F                                                       00765000
@AL00001 DS    2A                                                       00766000
AMDSYS00 CSECT                                                          00767000
         DS    0F                                                       00768000
@CF00044 DC    F'1'                                                     00769000
@CF00098 DC    F'4'                                                     00770000
@CF00103 DC    F'50'                                                    00771000
@DATD    DSECT                                                          00772000
         DS    0D                                                       00773000
SWITCHES DS    BL1                                                      00774000
         ORG   SWITCHES                                                 00775000
TIME2SW  DS    BL1                                                      00776000
LOOPDONE EQU   SWITCHES+0                                               00777000
DEVFOUND EQU   SWITCHES+0                                               00778000
@NM00003 EQU   SWITCHES+0                                               00779000
         ORG   SWITCHES+1                                               00780000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                00781000
@ENDDATD EQU   *                                                        00782000
AMDSYS00 CSECT                                                          00783000
         NOPR  ((@ENDDATD-@DATD)/201*16)                                00784000
         DS    0F                                                       00785000
@SIZDATD DC    AL1(0)                                                   00786000
         DC    AL3(@ENDDATD-@DATD)                                      00787000
         DS    0D                                                       00788000
@CC00637 DC    C'IO '                                                   00789000
@CC00638 DC    C'PCI'                                                   00790000
@CC00639 DC    C'EOS'                                                   00791000
@CC00658 DC    C'  '                                                    00792000
@CB00202 DC    X'2100'                                                  00793000
@CB00208 DC    X'5201'                                                  00794000
@CB00210 DC    X'5200'                                                  00795000
@CB00212 DC    X'5100'                                                  00796000
@CB00224 DC    X'5101'                                                  00797000
@CB00622 DC    X'EEEE'                                                  00798000
UA       DC    CL8'U/A'                                                 00799000
NA       DC    CL8'N/A'                                                 00800000
ASTER    DC    CL8'********'                                            00801000
         DS    CL1                                                      00802000
UIOPTRN  DS    CL37                                                     00803000
         ORG   UIOPTRN                                                  00804000
@NM00004 DC    AL1(55)                                                  00805000
@NM00005 DC    AL1(51)                                                  00806000
@NM00006 DC    AL1(10)                                                  00807000
@NM00007 DC    AL1(15)                                                  00808000
@NM00008 DC    AL4(UIOLBLS)                                             00809000
@NM00009 DC    AL1(21)                                                  00810000
@NM00010 DC    AL1(33)                                                  00811000
@NM00011 DC    AL1(25)                                                  00812000
@NM00012 DC    AL1(29)                                                  00813000
@NM00013 DC    AL1(53)                                                  00814000
@NM00014 DC    AL1(55)                                                  00815000
@NM00015 DC    AL1(35)                                                  00816000
@NM00016 DC    AL1(40)                                                  00817000
@NM00017 DC    AL1(21)                                                  00818000
@NM00018 DC    AL1(99)                                                  00819000
@NM00019 DC    AL1(50)                                                  00820000
@NM00020 DC    AL1(58)                                                  00821000
@NM00021 DC    AL1(20)                                                  00822000
@NM00022 DC    AL1(3)                                                   00823000
@NM00023 DC    AL1(0)                                                   00824000
@NM00024 DC    AL1(67)                                                  00825000
@NM00025 DC    AL1(21)                                                  00826000
@NM00026 DC    AL1(35)                                                  00827000
@NM00027 DC    AL1(77)                                                  00828000
@NM00028 DC    AL1(81)                                                  00829000
@NM00029 DC    AL1(20)                                                  00830000
@NM00030 DC    AL1(3)                                                   00831000
@NM00031 DC    AL1(0)                                                   00832000
@NM00032 DC    AL1(90)                                                  00833000
@NM00033 DC    AL1(21)                                                  00834000
@NM00034 DC    AL1(33)                                                  00835000
@NM00035 DC    AL1(0)                                                   00836000
@NM00036 DC    AL1(5)                                                   00837000
@NM00037 DC    AL1(0)                                                   00838000
         ORG   UIOPTRN+37                                               00839000
UIOLBLS  DC    CL24'ASCBCPUJOBNOLD PSWCSWUIO'                           00840000
         DS    CL3                                                      00841000
SIOPTRN1 DS    CL29                                                     00842000
         ORG   SIOPTRN1                                                 00843000
@NM00038 DC    AL1(23)                                                  00844000
@NM00039 DC    AL1(51)                                                  00845000
@NM00040 DC    AL1(10)                                                  00846000
@NM00041 DC    AL1(15)                                                  00847000
@NM00042 DC    AL4(SIOLBLS)                                             00848000
@NM00043 DC    AL1(21)                                                  00849000
@NM00044 DC    AL1(33)                                                  00850000
@NM00045 DC    AL1(25)                                                  00851000
@NM00046 DC    AL1(29)                                                  00852000
@NM00047 DC    AL1(53)                                                  00853000
@NM00048 DC    AL1(55)                                                  00854000
@NM00049 DC    AL1(35)                                                  00855000
@NM00050 DC    AL1(40)                                                  00856000
@NM00051 DC    AL1(21)                                                  00857000
@NM00052 DC    AL1(99)                                                  00858000
@NM00053 DC    AL1(50)                                                  00859000
@NM00054 DC    AL1(58)                                                  00860000
@NM00055 DC    AL1(20)                                                  00861000
@NM00056 DC    AL1(3)                                                   00862000
@NM00057 DC    AL1(0)                                                   00863000
@NM00058 DC    AL1(67)                                                  00864000
@NM00059 DC    AL1(21)                                                  00865000
@NM00060 DC    AL1(51)                                                  00866000
@NM00061 DC    AL1(91)                                                  00867000
@NM00062 DC    AL1(96)                                                  00868000
@NM00063 DC    AL1(0)                                                   00869000
         ORG   SIOPTRN1+29                                              00870000
SIOLBLS  DS    CL45                                                     00871000
         ORG   SIOLBLS                                                  00872000
@NM00099 DC    CL22'ASCBCPUJOBNR/V CPADSID'                             00873000
@NM00100 DC    CL6'SIOCAW'                                              00874000
@NM00101 DC    CL2'CC'                                                  00875000
@NM00102 DC    CL15'STATSK ADDRFLGS'                                    00876000
         ORG   SIOLBLS+45                                               00877000
         DS    CL2                                                      00878000
SIOPTRN2 DS    CL9                                                      00879000
         ORG   SIOPTRN2                                                 00880000
@NM00064 DC    AL1(21)                                                  00881000
@NM00065 DC    AL1(33)                                                  00882000
@NM00066 DC    AL1(0)                                                   00883000
@NM00067 DC    AL1(5)                                                   00884000
@NM00068 DC    AL1(21)                                                  00885000
@NM00069 DC    AL1(35)                                                  00886000
@NM00070 DC    AL1(77)                                                  00887000
@NM00071 DC    AL1(81)                                                  00888000
@NM00072 DC    AL1(0)                                                   00889000
         ORG   SIOPTRN2+9                                               00890000
         DS    CL3                                                      00891000
SIOPTRN3 DS    CL5                                                      00892000
         ORG   SIOPTRN3                                                 00893000
@NM00073 DC    AL1(21)                                                  00894000
@NM00074 DC    AL1(16)                                                  00895000
@NM00075 DC    AL1(77)                                                  00896000
@NM00076 DC    AL1(80)                                                  00897000
@NM00077 DC    AL1(0)                                                   00898000
         ORG   SIOPTRN3+5                                               00899000
         DS    CL3                                                      00900000
SIOPTRN4 DS    CL21                                                     00901000
         ORG   SIOPTRN4                                                 00902000
@NM00078 DC    AL1(21)                                                  00903000
@NM00079 DC    AL1(49)                                                  00904000
@NM00080 DC    AL1(35)                                                  00905000
@NM00081 DC    AL1(40)                                                  00906000
@NM00082 DC    AL1(21)                                                  00907000
@NM00083 DC    AL1(99)                                                  00908000
@NM00084 DC    AL1(50)                                                  00909000
@NM00085 DC    AL1(58)                                                  00910000
@NM00086 DC    AL1(20)                                                  00911000
@NM00087 DC    AL1(3)                                                   00912000
@NM00088 DC    AL1(0)                                                   00913000
@NM00089 DC    AL1(67)                                                  00914000
@NM00090 DC    AL1(21)                                                  00915000
@NM00091 DC    AL1(51)                                                  00916000
@NM00092 DC    AL1(10)                                                  00917000
@NM00093 DC    AL1(15)                                                  00918000
@NM00094 DC    AL1(20)                                                  00919000
@NM00095 DC    AL1(1)                                                   00920000
@NM00096 DC    AL1(0)                                                   00921000
@NM00097 DC    AL1(24)                                                  00922000
@NM00098 DC    AL1(0)                                                   00923000
         ORG   SIOPTRN4+21                                              00924000
         DS    CL3                                                      00925000
IOPTRN1  DS    CL29                                                     00926000
         ORG   IOPTRN1                                                  00927000
@NM00103 DC    AL1(23)                                                  00928000
@NM00104 DC    AL1(51)                                                  00929000
@NM00105 DC    AL1(10)                                                  00930000
@NM00106 DC    AL1(15)                                                  00931000
@NM00107 DC    AL4(IOLBLS)                                              00932000
@NM00108 DC    AL1(21)                                                  00933000
@NM00109 DC    AL1(33)                                                  00934000
@NM00110 DC    AL1(25)                                                  00935000
@NM00111 DC    AL1(29)                                                  00936000
@NM00112 DC    AL1(53)                                                  00937000
@NM00113 DC    AL1(55)                                                  00938000
@NM00114 DC    AL1(35)                                                  00939000
@NM00115 DC    AL1(40)                                                  00940000
@NM00116 DC    AL1(21)                                                  00941000
@NM00117 DC    AL1(99)                                                  00942000
@NM00118 DC    AL1(50)                                                  00943000
@NM00119 DC    AL1(58)                                                  00944000
@NM00120 DC    AL1(20)                                                  00945000
@NM00121 DC    AL1(3)                                                   00946000
@NM00122 DC    AL1(0)                                                   00947000
@NM00123 DC    AL1(67)                                                  00948000
@NM00124 DC    AL1(21)                                                  00949000
@NM00125 DC    AL1(35)                                                  00950000
@NM00126 DC    AL1(77)                                                  00951000
@NM00127 DC    AL1(81)                                                  00952000
@NM00128 DC    AL1(0)                                                   00953000
         ORG   IOPTRN1+29                                               00954000
IOLBLS   DS    CL41                                                     00955000
         ORG   IOLBLS                                                   00956000
@NM00176 DC    CL21'ASCBCPUJOBNOLD PSWTCB'                              00957000
@NM00177 DC    CL4'DSID'                                                00958000
@NM00178 DC    CL13'CSWR/V CPASNS'                                      00959000
@NM00179 DC    CL3'FLG'                                                 00960000
         ORG   IOLBLS+41                                                00961000
         DS    CL2                                                      00962000
IOPTRN2  DS    CL9                                                      00963000
         ORG   IOPTRN2                                                  00964000
@NM00129 DC    AL1(20)                                                  00965000
@NM00130 DC    AL1(1)                                                   00966000
@NM00131 DC    AL1(0)                                                   00967000
@NM00132 DC    AL1(5)                                                   00968000
@NM00133 DC    AL1(21)                                                  00969000
@NM00134 DC    AL1(51)                                                  00970000
@NM00135 DC    AL1(91)                                                  00971000
@NM00136 DC    AL1(96)                                                  00972000
@NM00137 DC    AL1(0)                                                   00973000
         ORG   IOPTRN2+9                                                00974000
         DS    CL3                                                      00975000
IOPTRN3  DS    CL21                                                     00976000
         ORG   IOPTRN3                                                  00977000
@NM00138 DC    AL1(21)                                                  00978000
@NM00139 DC    AL1(35)                                                  00979000
@NM00140 DC    AL1(10)                                                  00980000
@NM00141 DC    AL1(15)                                                  00981000
@NM00142 DC    AL1(20)                                                  00982000
@NM00143 DC    AL1(3)                                                   00983000
@NM00144 DC    AL1(0)                                                   00984000
@NM00145 DC    AL1(24)                                                  00985000
@NM00146 DC    AL1(21)                                                  00986000
@NM00147 DC    AL1(99)                                                  00987000
@NM00148 DC    AL1(50)                                                  00988000
@NM00149 DC    AL1(58)                                                  00989000
@NM00150 DC    AL1(20)                                                  00990000
@NM00151 DC    AL1(3)                                                   00991000
@NM00152 DC    AL1(0)                                                   00992000
@NM00153 DC    AL1(67)                                                  00993000
@NM00154 DC    AL1(21)                                                  00994000
@NM00155 DC    AL1(33)                                                  00995000
@NM00156 DC    AL1(35)                                                  00996000
@NM00157 DC    AL1(40)                                                  00997000
@NM00158 DC    AL1(0)                                                   00998000
         ORG   IOPTRN3+21                                               00999000
         DS    CL3                                                      01000000
IOPTRN4  DS    CL17                                                     01001000
         ORG   IOPTRN4                                                  01002000
@NM00159 DC    AL1(21)                                                  01003000
@NM00160 DC    AL1(35)                                                  01004000
@NM00161 DC    AL1(77)                                                  01005000
@NM00162 DC    AL1(81)                                                  01006000
@NM00163 DC    AL1(20)                                                  01007000
@NM00164 DC    AL1(1)                                                   01008000
@NM00165 DC    AL1(0)                                                   01009000
@NM00166 DC    AL1(91)                                                  01010000
@NM00167 DC    AL1(20)                                                  01011000
@NM00168 DC    AL1(0)                                                   01012000
@NM00169 DC    AL1(0)                                                   01013000
@NM00170 DC    AL1(100)                                                 01014000
@NM00171 DC    AL1(20)                                                  01015000
@NM00172 DC    AL1(1)                                                   01016000
@NM00173 DC    AL1(0)                                                   01017000
@NM00174 DC    AL1(95)                                                  01018000
@NM00175 DC    AL1(0)                                                   01019000
         ORG   IOPTRN4+17                                               01020000
MYEIDTAB DC    X'2100'                                                  01021000
         DC    X'5200'                                                  01022000
         DC    X'5100'                                                  01023000
         DC    X'5101'                                                  01024000
         DS    CL3                                                      01025000
SYS00PCH DC    25F'0'                                                   01026000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       01027000
@01      EQU   01                                                       01028000
@02      EQU   02                                                       01029000
@03      EQU   03                                                       01030000
@04      EQU   04                                                       01031000
@05      EQU   05                                                       01032000
@06      EQU   06                                                       01033000
@07      EQU   07                                                       01034000
@08      EQU   08                                                       01035000
@09      EQU   09                                                       01036000
@10      EQU   10                                                       01037000
@11      EQU   11                                                       01038000
@12      EQU   12                                                       01039000
@13      EQU   13                                                       01040000
@14      EQU   14                                                       01041000
@15      EQU   15                                                       01042000
CTR      EQU   @06                                                      01043000
RC       EQU   @06                                                      01044000
AEDITCBR EQU   @09                                                      01045000
R0       EQU   @00                                                      01046000
R1       EQU   @01                                                      01047000
R4       EQU   @04                                                      01048000
R11      EQU   @11                                                      01049000
R12      EQU   @12                                                      01050000
R13      EQU   @13                                                      01051000
R15      EQU   @15                                                      01052000
R10      EQU   @10                                                      01053000
R14      EQU   @14                                                      01054000
R2       EQU   @02                                                      01055000
R3       EQU   @03                                                      01056000
R5       EQU   @05                                                      01057000
R6       EQU   @06                                                      01058000
R7       EQU   @07                                                      01059000
R8       EQU   @08                                                      01060000
R9       EQU   @09                                                      01061000
AMDPRTAB EQU   0                                                        01062000
DEBGFLGS EQU   AMDPRTAB+8                                               01063000
PTHFLGS1 EQU   DEBGFLGS                                                 01064000
PTHFLGS2 EQU   DEBGFLGS+1                                               01065000
INRFCFGS EQU   DEBGFLGS+2                                               01066000
IOFLGS   EQU   DEBGFLGS+3                                               01067000
STARTIME EQU   AMDPRTAB+40                                              01068000
STOPTIME EQU   AMDPRTAB+52                                              01069000
NAMES    EQU   AMDPRTAB+64                                              01070000
ADS      EQU   AMDPRTAB+104                                             01071000
AADS     EQU   ADS                                                      01072000
SIF      EQU   AMDPRTAB+124                                             01073000
SIOFLGS  EQU   SIF                                                      01074000
DVADS1   EQU   AMDPRTAB+128                                             01075000
IO       EQU   AMDPRTAB+228                                             01076000
IOFLGS2  EQU   IO                                                       01077000
DVADS2   EQU   AMDPRTAB+232                                             01078000
VCF      EQU   AMDPRTAB+332                                             01079000
SVCFLGS  EQU   VCF                                                      01080000
USR      EQU   AMDPRTAB+368                                             01081000
USRFLGS  EQU   USR                                                      01082000
USRTAB   EQU   AMDPRTAB+372                                             01083000
PI       EQU   AMDPRTAB+452                                             01084000
PIFLGS   EQU   PI                                                       01085000
PGMNGEN  EQU   AMDPRTAB+456                                             01086000
GENFLAGS EQU   PGMNGEN+3                                                01087000
GENFLGS1 EQU   AMDPRTAB+460                                             01088000
ESTARTME EQU   AMDPRTAB+500                                             01089000
ESTOPTME EQU   AMDPRTAB+509                                             01090000
ABDPL    EQU   0                                                        01091000
ADPLFLAG EQU   ABDPL+7                                                  01092000
ADPLBUF  EQU   ABDPL+8                                                  01093000
ADPLFMT1 EQU   ABDPL+44                                                 01094000
ADPLFMT2 EQU   ABDPL+48                                                 01095000
PARMLIST EQU   0                                                        01096000
EIDPTR   EQU   PARMLIST+12                                              01097000
DATAPTR  EQU   PARMLIST+16                                              01098000
FRMADDR  EQU   PARMLIST+20                                              01099000
WKAREADD EQU   PARMLIST+24                                              01100000
SNAPPARM EQU   PARMLIST+28                                              01101000
RECEID   EQU   0                                                        01102000
BUFFER   EQU   0                                                        01103000
FRMT     EQU   0                                                        01104000
DATAREC  EQU   0                                                        01105000
ASCBPTR  EQU   DATAREC                                                  01106000
RECERR   EQU   ASCBPTR                                                  01107000
SIOREC   EQU   0                                                        01108000
SIOASCB  EQU   SIOREC                                                   01109000
SIOCPA   EQU   SIOREC+14                                                01110000
SIODSID  EQU   SIOREC+22                                                01111000
SIOCC    EQU   SIOREC+26                                                01112000
SIODEV   EQU   SIOREC+27                                                01113000
SIOSTS   EQU   SIOREC+33                                                01114000
SIOSEEK  EQU   SIOREC+35                                                01115000
SIOFLAGS EQU   SIOREC+43                                                01116000
IOREC    EQU   0                                                        01117000
IOASCB   EQU   IOREC                                                    01118000
IOTCB    EQU   IOREC+22                                                 01119000
IOCSW    EQU   IOREC+26                                                 01120000
IOCPA    EQU   IOREC+34                                                 01121000
IOSNS    EQU   IOREC+42                                                 01122000
IODEV    EQU   IOREC+44                                                 01123000
IODSID   EQU   IOREC+46                                                 01124000
IOFLAGS  EQU   IOREC+50                                                 01125000
IOFLA    EQU   IOFLAGS                                                  01126000
UIOREC   EQU   0                                                        01127000
UIODEV   EQU   UIOREC+30                                                01128000
DEV      EQU   0                                                        01129000
TABL     EQU   0                                                        01130000
@NM00180 EQU   TABL                                                     01131000
ALL      EQU   @NM00180                                                 01132000
SEL      EQU   @NM00180                                                 01133000
DVCS     EQU   TABL+4                                                   01134000
ABDPLPTR EQU   SNAPPARM                                                 01135000
BLNKCC   EQU   BUFFER+81                                                01136000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    01137000
UIOCSW   EQU   UIOREC+22                                                01138000
UIOPSW   EQU   UIOREC+14                                                01139000
UIOJOBN  EQU   UIOREC+6                                                 01140000
UIOCPUID EQU   UIOREC+4                                                 01141000
UIOASCB  EQU   UIOREC                                                   01142000
IOCHAN   EQU   IOFLAGS+7                                                01143000
IOCPU    EQU   IOFLAGS+6                                                01144000
IOSFLS   EQU   IOFLAGS+4                                                01145000
IODVRID  EQU   IOFLAGS+3                                                01146000
IOFMSK   EQU   IOFLAGS+2                                                01147000
IOOPT    EQU   IOFLAGS+1                                                01148000
IOPSW    EQU   IOREC+14                                                 01149000
IOJOBN   EQU   IOREC+6                                                  01150000
IOCPUID  EQU   IOREC+4                                                  01151000
SIODVRID EQU   SIOFLAGS+5                                               01152000
SIOFMSK  EQU   SIOFLAGS+4                                               01153000
SIOOPT   EQU   SIOFLAGS+3                                               01154000
SIOPATH  EQU   SIOFLAGS+1                                               01155000
SIOAFF   EQU   SIOFLAGS                                                 01156000
SIOCAW   EQU   SIOREC+29                                                01157000
SIOJOBN  EQU   SIOREC+6                                                 01158000
SIOCPUID EQU   SIOREC+4                                                 01159000
JOBNAME  EQU   DATAREC+6                                                01160000
CPUID    EQU   DATAREC+4                                                01161000
GTFOPTR  EQU   PARMLIST+8                                               01162000
BUFPTR   EQU   PARMLIST+4                                               01163000
RECPTR   EQU   PARMLIST                                                 01164000
ADPLEXT  EQU   ABDPL+52                                                 01165000
ADPLCOM4 EQU   ABDPL+40                                                 01166000
ADPLCOM3 EQU   ABDPL+36                                                 01167000
ADPLCOM2 EQU   ABDPL+32                                                 01168000
ADPLCOM1 EQU   ABDPL+28                                                 01169000
ADPLFRMT EQU   ABDPL+24                                                 01170000
ADPLMEMA EQU   ABDPL+20                                                 01171000
ADPLCVT  EQU   ABDPL+16                                                 01172000
ADPLPRNT EQU   ABDPL+12                                                 01173000
@NM00002 EQU   ADPLFLAG                                                 01174000
ADPLSYTM EQU   ADPLFLAG                                                 01175000
ADPLSNPR EQU   ADPLFLAG                                                 01176000
ADPLSBPL EQU   ABDPL+6                                                  01177000
ADPLASID EQU   ABDPL+4                                                  01178000
ADPLTCB  EQU   ABDPL                                                    01179000
RESERVED EQU   AMDPRTAB+522                                             01180000
CVTTZONE EQU   AMDPRTAB+518                                             01181000
ESPSEC   EQU   ESTOPTME+7                                               01182000
ESPMIN   EQU   ESTOPTME+5                                               01183000
ESPHR    EQU   ESTOPTME+3                                               01184000
ESPDAY   EQU   ESTOPTME                                                 01185000
ESSEC    EQU   ESTARTME+7                                               01186000
ESMIN    EQU   ESTARTME+5                                               01187000
ESHR     EQU   ESTARTME+3                                               01188000
ESDAY    EQU   ESTARTME                                                 01189000
ADTSBUF  EQU   AMDPRTAB+496                                             01190000
OFSTDATA EQU   AMDPRTAB+494                                             01191000
OFSTEID  EQU   AMDPRTAB+492                                             01192000
AFRMAD   EQU   AMDPRTAB+488                                             01193000
REENTWKA EQU   AMDPRTAB+484                                             01194000
PRFMTADD EQU   AMDPRTAB+480                                             01195000
AEIOCT   EQU   AMDPRTAB+476                                             01196000
EXITADDR EQU   AMDPRTAB+472                                             01197000
EXITNM   EQU   AMDPRTAB+464                                             01198000
RECDLL   EQU   AMDPRTAB+461                                             01199000
@NM00001 EQU   GENFLGS1                                                 01200000
FIRSTHSW EQU   GENFLGS1                                                 01201000
TSFOUND  EQU   GENFLGS1                                                 01202000
EOFINPRO EQU   GENFLGS1                                                 01203000
TS       EQU   GENFLGS1                                                 01204000
EOF      EQU   GENFLAGS                                                 01205000
RR       EQU   GENFLAGS                                                 01206000
SRM      EQU   GENFLAGS                                                 01207000
RNIO     EQU   GENFLAGS                                                 01208000
SYSM     EQU   GENFLAGS                                                 01209000
SYS      EQU   GENFLAGS                                                 01210000
DSP      EQU   GENFLAGS                                                 01211000
EXT      EQU   GENFLAGS                                                 01212000
PICODEA  EQU   PGMNGEN+2                                                01213000
PICODES  EQU   PGMNGEN                                                  01214000
Q        EQU   PI+1                                                     01215000
P01R     EQU   PIFLGS                                                   01216000
SELP     EQU   PIFLGS                                                   01217000
ALLP     EQU   PIFLGS                                                   01218000
USRNGTAB EQU   USRTAB                                                   01219000
O        EQU   USR+1                                                    01220000
N01R     EQU   USRFLGS                                                  01221000
SELU     EQU   USRFLGS                                                  01222000
ALLU     EQU   USRFLGS                                                  01223000
SVCNUMS  EQU   AMDPRTAB+336                                             01224000
M        EQU   VCF+1                                                    01225000
L        EQU   SVCFLGS                                                  01226000
SELV     EQU   SVCFLGS                                                  01227000
ALLV     EQU   SVCFLGS                                                  01228000
IODVADS  EQU   DVADS2                                                   01229000
K01RES   EQU   IO+1                                                     01230000
JJ       EQU   IOFLGS2                                                  01231000
SELI     EQU   IOFLGS2                                                  01232000
ALLI     EQU   IOFLGS2                                                  01233000
SIODVADS EQU   DVADS1                                                   01234000
II       EQU   SIF+1                                                    01235000
H        EQU   SIOFLGS                                                  01236000
NOEQU    EQU   SIOFLGS                                                  01237000
EQUIV    EQU   SIOFLGS                                                  01238000
SELS     EQU   SIOFLGS                                                  01239000
ALLS     EQU   SIOFLGS                                                  01240000
ASCBADDR EQU   AADS                                                     01241000
JOBNAMES EQU   NAMES                                                    01242000
DAY2     EQU   STOPTIME+10                                              01243000
F        EQU   STOPTIME+8                                               01244000
TIME2    EQU   STOPTIME                                                 01245000
DAY      EQU   STARTIME+10                                              01246000
D        EQU   STARTIME+8                                               01247000
TIME     EQU   STARTIME                                                 01248000
DDNAME   EQU   AMDPRTAB+32                                              01249000
USEREXIT EQU   AMDPRTAB+24                                              01250000
GTFWDPTR EQU   AMDPRTAB+20                                              01251000
C        EQU   DEBGFLGS+4                                               01252000
B        EQU   IOFLGS                                                   01253000
GETEOF   EQU   IOFLGS                                                   01254000
DMDFMT   EQU   INRFCFGS                                                 01255000
EDITSTOP EQU   INRFCFGS                                                 01256000
EXTTRC   EQU   INRFCFGS                                                 01257000
RET      EQU   INRFCFGS                                                 01258000
FMT      EQU   INRFCFGS                                                 01259000
SPIE     EQU   INRFCFGS                                                 01260000
TERM     EQU   INRFCFGS                                                 01261000
FLMODE   EQU   INRFCFGS                                                 01262000
REMAIN   EQU   PTHFLGS2                                                 01263000
APP      EQU   PTHFLGS2                                                 01264000
REXT     EQU   PTHFLGS1                                                 01265000
FRM      EQU   PTHFLGS1                                                 01266000
FLT      EQU   PTHFLGS1                                                 01267000
HEX      EQU   PTHFLGS1                                                 01268000
CON      EQU   PTHFLGS1                                                 01269000
GET      EQU   PTHFLGS1                                                 01270000
SCN      EQU   PTHFLGS1                                                 01271000
ROOT     EQU   PTHFLGS1                                                 01272000
CURREC   EQU   AMDPRTAB+4                                               01273000
AFMG     EQU   AMDPRTAB                                                 01274000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      01275000
@RC00066 EQU   @RC00063                                                 01276000
@RC00079 EQU   @RC00077                                                 01277000
@RC00157 EQU   @RC00154                                                 01278000
@RC00246 EQU   @RC00238                                                 01279000
@RC00082 EQU   @RC00079                                                 01280000
@ENDDATA EQU   *                                                        01281000
         END   AMDSYS00,(C'PLS2309',0603,76153)                         01282000
