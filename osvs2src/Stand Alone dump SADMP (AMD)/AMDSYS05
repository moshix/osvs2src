         TITLE 'AMDSYS05 - FORMAT APPENDAGE FOR AHLTEXT                *00001000
                        '                                               00002000
AMDSYS05 CSECT ,                                                01S0001 00003000
@MAINENT DS    0H                                               01S0001 00004000
         USING *,@15                                            01S0001 00005000
         B     @PROLOG                                          01S0001 00006000
         DC    AL1(16)                                          01S0001 00007000
         DC    C'AMDSYS05  73.285'                              01S0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                  01S0001 00010000
         BALR  @12,0                                            01S0001 00011000
@PSTART  DS    0H                                               01S0001 00012000
         USING @PSTART,@12                                      01S0001 00013000
*   R3PLPTR=R1PLPTR;                /* SETUP ADDRESSABILITY TO OUR      00014000
*                                      PLIST                         */ 00015000
         LR    R3PLPTR,R1PLPTR                                  01S0024 00016000
*   R4GTMPTR=GTMPTR;                /* SETUP ADDRESSABILITY TO  01S0025 00017000
*                                      GETMAINED AREA                */ 00018000
         L     R4GTMPTR,GTMPTR(,R3PLPTR)                        01S0025 00019000
*   RFY                                                         01S0026 00020000
*     R14RTN UNRSTD;                                            01S0026 00021000
*   BACKPTR=R13SAPTR;               /* SAVE CALLERS SAVE AREA ADDRESS   00022000
*                                                            @YM03672*/ 00023000
         ST    R13SAPTR,BACKPTR(,R4GTMPTR)                      01S0027 00024000
*   R13SAPTR=ADDR(REGSAV);          /* SETUP A SAVE AREA FOR THE        00025000
*                                      FORMATTING TO USE             */ 00026000
         LR    R13SAPTR,R4GTMPTR                                01S0028 00027000
*   R5RECPTR=DTAPTR;                /* SETUP ADDRESSABILITY TO THE      00028000
*                                      RECORD                        */ 00029000
         L     R5RECPTR,DTAPTR(,R3PLPTR)                        01S0029 00030000
*   R1PLPTR=FPLPTR;                 /* PLIST ADDR IN FPLPTR          */ 00031000
         L     R1PLPTR,FPLPTR(,R3PLPTR)                         01S0030 00032000
*/********************************************************************/ 00033000
*/*                                                                  */ 00034000
*/*      DETERMINE IF THIS IS FIRST OR SECOND ENTRY FOR THE RECORD   */ 00035000
*/*                                                                  */ 00036000
*/********************************************************************/ 00037000
*                                                               01S0031 00038000
*   IF SECENTRY^=FIRST THEN         /* CHECK TO SEE IF THIS IS A        00039000
*                                      SECOND ENTRY                  */ 00040000
         ICM   @08,3,SECENTRY(R4GTMPTR)                         01S0031 00041000
         BZ    @RF00031                                         01S0031 00042000
*     DO;                                                       01S0032 00043000
*       IF SECENTRY=ETCC THEN       /* IS THIS CLOCK COMP 2ND LINE   */ 00044000
         CLC   SECENTRY(2,R4GTMPTR),@CH00381                    01S0033 00045000
         BNE   @RF00033                                         01S0033 00046000
*         DO;                                                   01S0034 00047000
*                                                               01S0034 00048000
*/********************************************************************/ 00049000
*/*                                                                  */ 00050000
*/*      FOR CLOCK COMPARATOR SECOND LINE, SET UP FOR FORMATTING     */ 00051000
*/*      THE FOLLOWING FIELDS --                                     */ 00052000
*/*            -- TQEFLGS                                            */ 00053000
*/*            -- TQEEXIT                                            */ 00054000
*/*            -- TQEASCB@                                           */ 00055000
*/*            -- TQETCB@                                            */ 00056000
*/*      THERE ARE ONLY TWO POSSIBILITIES FOR THE FORMAT OF THIS     */ 00057000
*/*      DATA.  EITHER ALL FIELDS ARE GOOD AND ALL FIELDS ARE OUTPUT */ 00058000
*/*      OR ALL FIELDS CONTAIN EBCDIC INFORMATION.                   */ 00059000
*/*                                                                  */ 00060000
*/********************************************************************/ 00061000
*                                                               01S0035 00062000
*           ADPLFMT2=ADDR(EXTSUFCC);/* SETUP THE ADDRESS OF THE DATA    00063000
*                                      TO BE FORMATTED               */ 00064000
         LA    @08,EXTSUFCC(,R5RECPTR)                          01S0035 00065000
         ST    @08,ADPLFMT2(,ABDPLPTR)                          01S0035 00066000
*           IF EXTSUFCC=ERRIND|EXTCFLGS=UNAVS THEN/* IF SUFFIX IS       00067000
*                                      EBCDIC                        */ 00068000
         CLC   EXTSUFCC(14,R5RECPTR),ERRIND                     01S0036 00069000
         BE    @RT00036                                         01S0036 00070000
         CLC   EXTCFLGS(2,R5RECPTR),@CC00371                    01S0036 00071000
         BNE   @RF00036                                         01S0036 00072000
@RT00036 DS    0H                                               01S0037 00073000
*             R0FMTPTR=ADDR(CCF02); /* POINT TO EBCDIC FORMAT        */ 00074000
         LA    R0FMTPTR,CCF02                                   01S0037 00075000
*           ELSE                    /* OTHERWISE,                    */ 00076000
*             R0FMTPTR=ADDR(CCF01); /* USE GOOD FORMAT               */ 00077000
         B     @RC00036                                         01S0038 00078000
@RF00036 LA    R0FMTPTR,CCF01                                   01S0038 00079000
*         END;                      /* END OF CLOCK COMP 2ND LINE    */ 00080000
*       ELSE                                                    01S0040 00081000
*         IF SECENTRY=ETCT THEN     /* IS THIS CPU TIMER 2ND LINE    */ 00082000
         B     @RC00033                                         01S0040 00083000
@RF00033 CLC   SECENTRY(2,R4GTMPTR),@CH00383                    01S0040 00084000
         BNE   @RF00040                                         01S0040 00085000
*           DO;                                                 01S0041 00086000
*                                                               01S0041 00087000
*/********************************************************************/ 00088000
*/*                                                                  */ 00089000
*/*      FOR CPU TIMER SECOND LINE, SET UP FOR FORMATTING THE        */ 00090000
*/*      FOLLOWING FIELDS ---                                        */ 00091000
*/*            -- TQEFLGS                                            */ 00092000
*/*            -- TQEEXIT                                            */ 00093000
*/*      THERE ARE ONLY TWO POSSIBILITIES FOR THE FORMAT OF THIS     */ 00094000
*/*      DATA.  EITHER ALL FIELDS ARE GOOD AND ALL FIELDS ARE        */ 00095000
*/*      OUTPUT OR ALL FIELDS ARE IN ERROR AND ASTERISKS ARE OUTPUT  */ 00096000
*/*                                                                  */ 00097000
*/********************************************************************/ 00098000
*                                                               01S0042 00099000
*             ADPLFMT2=ADDR(EXTSUFCT);/* SETUP THE ADDRESS OF DATA TO   00100000
*                                      BE FORMATTED                  */ 00101000
         LA    @08,EXTSUFCT(,R5RECPTR)                          01S0042 00102000
         ST    @08,ADPLFMT2(,ABDPLPTR)                          01S0042 00103000
*             IF EXTSUFCT=ERRIND(1:6) THEN/* IF SIFFIX INDICATES        00104000
*                                      ERRORS                        */ 00105000
         CLC   EXTSUFCT(6,R5RECPTR),ERRIND                      01S0043 00106000
         BNE   @RF00043                                         01S0043 00107000
*               R0FMTPTR=ADDR(CPUF02);/* POINT TO ERROR FORMAT       */ 00108000
         LA    R0FMTPTR,CPUF02                                  01S0044 00109000
*             ELSE                  /* OTHERWISE                     */ 00110000
*               R0FMTPTR=ADDR(CPUF01);/* USE GOOD FORMAT.            */ 00111000
         B     @RC00043                                         01S0045 00112000
@RF00043 LA    R0FMTPTR,CPUF01                                  01S0045 00113000
*           END;                                                01S0046 00114000
*         ELSE                      /* MUST BE SOME KIND OF ERROR    */ 00115000
*           DO;                     /* SO SET RC TO IGNORE THIS REC. */ 00116000
         B     @RC00040                                         01S0047 00117000
@RF00040 DS    0H                                               01S0048 00118000
*/********************************************************************/ 00119000
*/*                                                                  */ 00120000
*/*      WHEN SECOND LINE INDICATOR INDICATES NEITHER CLOCK          */ 00121000
*/*      COMPARATOR NOR CPU TIMER, SET RETURN CODE TO IGNORE         */ 00122000
*/*      THIS RECORD AND RETURN TO THE CALLER.                       */ 00123000
*/*                                                                  */ 00124000
*/********************************************************************/ 00125000
*                                                               01S0048 00126000
*             R15RC=RCIGNORE;                                   01S0048 00127000
         L     @08,BACKPTR(,R4GTMPTR)                           01S0048 00128000
         MVC   R15RC(4,@08),@CF00041                            01S0048 00129000
*             GO TO S05END;                                     01S0049 00130000
         B     S05END                                           01S0049 00131000
*           END;                                                01S0050 00132000
*                                                               01S0050 00133000
*/********************************************************************/ 00134000
*/*                                                                  */ 00135000
*/*      CALL THE FORMATTING ROUTINE FOR THE SECOND LINE.            */ 00136000
*/*      RESET THE SECOND ENTRY INDICATOR.                           */ 00137000
*/*      RETURN TO CALLER.                                           */ 00138000
*/*                                                                  */ 00139000
*/********************************************************************/ 00140000
*                                                               01S0051 00141000
*       CALL AMDPRFMT;              /* CALL THE FORMATTING ROUTINE   */ 00142000
@RC00040 DS    0H                                               01S0051 00143000
@RC00033 L     @15,FMTPTR(,R3PLPTR)                             01S0051 00144000
         BALR  @14,@15                                          01S0051 00145000
*       SECENTRY=FIRST;             /* RESET THE SECOND ENTRY IND    */ 00146000
         SLR   @08,@08                                          01S0052 00147000
         STH   @08,SECENTRY(,R4GTMPTR)                          01S0052 00148000
*       R15RC=RCNEWREC;             /* SET RC TO PUT OUT THIS RECORD    00149000
*                                      AND GET NEW ONE               */ 00150000
         L     @08,BACKPTR(,R4GTMPTR)                           01S0053 00151000
         MVC   R15RC(4,@08),@CF00097                            01S0053 00152000
*     END;                                                      01S0054 00153000
*   ELSE                                                        01S0055 00154000
*                                                               01S0055 00155000
*/********************************************************************/ 00156000
*/*                                                                  */ 00157000
*/*      FOR FIRST ENTRY FOR A RECORD, DO THE FOLLOWING --           */ 00158000
*/*            --- DETERMINE IF ERROR RECORD, AND IF SO,             */ 00159000
*/*                SET RC TO DUMP RECORD IN HEX                      */ 00160000
*/*            --- IF NOT, FORMAT PREFIX OF EXT RECORD               */ 00161000
*/*            --- FOR SIG P, FORMAT SUFFIX                          */ 00162000
*/*            --- SET RC AND RETURN TO CALLER                       */ 00163000
*/*                                                                  */ 00164000
*/********************************************************************/ 00165000
*                                                               01S0055 00166000
*     IF ERRASCB=CATERIND THEN      /* CHECK TO SEE IF THIS IS AN       00167000
*                                      ERROR RECORD                  */ 00168000
         B     @RC00031                                         01S0055 00169000
@RF00031 CLC   ERRASCB(2,R5RECPTR),@CH00367                     01S0055 00170000
         BNE   @RF00055                                         01S0055 00171000
*       DO;                                                     01S0056 00172000
*         R15RC=RCHEXDMP;           /* SET RC TO TAKE A HEX DUMP     */ 00173000
         L     @08,BACKPTR(,R4GTMPTR)                           01S0057 00174000
         MVC   R15RC(4,@08),@CF00073                            01S0057 00175000
*       END;                                                    01S0058 00176000
*     ELSE                          /* THIS RECORD IS OKAY, SO SET UP   00177000
*                                      FORMAT OF RECORD PREFIX       */ 00178000
*       IF SYS=ON|EXT=ON THEN       /* IF ALLS RECORDS DESIRED OR EXT   00179000
*                                      SPECIFICALLY -- CONTINUE      */ 00180000
         B     @RC00055                                         01S0059 00181000
@RF00055 TM    SYS(AEDITCBR),B'10100000'                        01S0059 00182000
         BZ    @RF00059                                         01S0059 00183000
*         DO;                                                   01S0060 00184000
*           RFY                                                 01S0061 00185000
*             R6OUTPTR RSTD;                                    01S0061 00186000
*           R6OUTPTR=ADPLBUF;       /* GET ADDRESS OF OUTPUT BUFFER  */ 00187000
         L     R6OUTPTR,ADPLBUF(,ABDPLPTR)                      01S0062 00188000
*           GEN REFS(EXTOPIT) NODEFS SETS(INTCODE,CVWORK) SEQFLOW;      00189000
         MVO  CVWORK(3,R4GTMPTR),EXTOPIT(2,R5RECPTR)  MOVE INT TYPE     00190000
         UNPK INTCODE(4,R6OUTPTR),CVWORK(3,R4GTMPTR)  UNPACK INT TYPE   00191000
         OI   INTCODE+3(R6OUTPTR),X'F0' SET LAST ZONE BITS              00192000
*           RFY                                                 01S0064 00193000
*             R6OUTPTR UNRSTD;                                  01S0064 00194000
*           ADPLFMT2=ADDR(EXTREC);  /* GET ADDR OF DATA TO BE   01S0065 00195000
*                                      FORMATTED                     */ 00196000
         ST    R5RECPTR,ADPLFMT2(,ABDPLPTR)                     01S0065 00197000
*           IF EXTITTCB=NOTAPP THEN /* IF TCB@ = N/A                 */ 00198000
         CLC   EXTITTCB(4,R5RECPTR),@CC00394                    01S0066 00199000
         BNE   @RF00066                                         01S0066 00200000
*             R0FMTPTR=ADDR(PREF02);/* POINT TO TCB EBCDIC FORMAT    */ 00201000
         LA    R0FMTPTR,PREF02                                  01S0067 00202000
*           ELSE                    /* OTHERWISE                     */ 00203000
*             R0FMTPTR=ADDR(PREF01);/* USE ALL NORMAL PREFIX FORMAT  */ 00204000
         B     @RC00066                                         01S0068 00205000
@RF00066 LA    R0FMTPTR,PREF01                                  01S0068 00206000
*           CALL AMDPRFMT;                                      01S0069 00207000
*                                                               01S0069 00208000
@RC00066 L     @15,FMTPTR(,R3PLPTR)                             01S0069 00209000
         BALR  @14,@15                                          01S0069 00210000
*/********************************************************************/ 00211000
*/*                                                                  */ 00212000
*/*      HAVING FORMATTED THE PREFIX, DETERMINE THE INTERRUPT TYPE   */ 00213000
*/*      AND CONTINUE AS FOLLOWS ---                                 */ 00214000
*/*            SIG P -- SET UP SPECIAL FORMAT FOR INCLUSION ON       */ 00215000
*/*                     THIS LINE, THEN CALL AMDPRFMT AND SET RC     */ 00216000
*/*                     TO GET A NEW RECORD                          */ 00217000
*/*            CPU TIMER AND CLOCK COMPARATOR -- SET RC TO RETURN    */ 00218000
*/*                     AFTER PUTTING OUT THIS RECORD                */ 00219000
*/*            ALL OTHERS -- SET RC TO GET NEW RECORD                */ 00220000
*/*                                                                  */ 00221000
*/********************************************************************/ 00222000
*                                                               01S0070 00223000
*           IF EXTOPIT=ETCC|EXTOPIT=ETCT THEN/* FOR CPU TIMER AND    */ 00224000
         CLC   EXTOPIT(2,R5RECPTR),@CB00381                     01S0070 00225000
         BE    @RT00070                                         01S0070 00226000
         CLC   EXTOPIT(2,R5RECPTR),@CB00383                     01S0070 00227000
         BNE   @RF00070                                         01S0070 00228000
@RT00070 DS    0H                                               01S0071 00229000
*             DO;                   /* CLOCK COMPARATOR              */ 00230000
*               SECENTRY=EXTOPIT;   /* SET 2ND ENTRY INDICATOR       */ 00231000
         MVC   SECENTRY(2,R4GTMPTR),EXTOPIT(R5RECPTR)           01S0072 00232000
*               R15RC=RCRETURN;     /* SET RC TO RETURN              */ 00233000
         L     @08,BACKPTR(,R4GTMPTR)                           01S0073 00234000
         SLR   @15,@15                                          01S0073 00235000
         ST    @15,R15RC(,@08)                                  01S0073 00236000
*             END;                                              01S0074 00237000
*           ELSE                                                01S0075 00238000
*             IF EXTOPIT(1:1)=ETSP0 THEN                        01S0075 00239000
         B     @RC00070                                         01S0075 00240000
@RF00070 CLI   EXTOPIT(R5RECPTR),X'12'                          01S0075 00241000
         BNE   @RF00075                                         01S0075 00242000
*               DO;                                             01S0076 00243000
*                                                               01S0076 00244000
*/********************************************************************/ 00245000
*/*                                                                  */ 00246000
*/*      FORMAT SUFFIX OF SIG P RECORD                               */ 00247000
*/*                                                                  */ 00248000
*/********************************************************************/ 00249000
*                                                               01S0077 00250000
*                 ADPLFMT2=ADDR(EXTSUFSP);/* GET ADDRESS OF DATA TO     00251000
*                                      BE FORMATTED                  */ 00252000
         LA    @08,EXTSUFSP(,R5RECPTR)                          01S0077 00253000
         ST    @08,ADPLFMT2(,ABDPLPTR)                          01S0077 00254000
*                 IF EXTSUFSP=ERRIND(1:6) THEN/* IF SIG P SUFFIX IN     00255000
*                                      ERROR                         */ 00256000
         CLC   EXTSUFSP(6,R5RECPTR),ERRIND                      01S0078 00257000
         BNE   @RF00078                                         01S0078 00258000
*                   R0FMTPTR=ADDR(SIGPF02);/* POINT TO ERROR SUFFIX  */ 00259000
         LA    R0FMTPTR,SIGPF02                                 01S0079 00260000
*                 ELSE              /* OTHERWISE                     */ 00261000
*                   R0FMTPTR=ADDR(SIGPF01);/* POINT TO GOOD SUFFIX   */ 00262000
         B     @RC00078                                         01S0080 00263000
@RF00078 LA    R0FMTPTR,SIGPF01                                 01S0080 00264000
*                 CALL AMDPRFMT;    /* CALL FORMATTING ROUTINE       */ 00265000
@RC00078 L     @15,FMTPTR(,R3PLPTR)                             01S0081 00266000
         BALR  @14,@15                                          01S0081 00267000
*                 R15RC=RCNEWREC;   /* SET RC TO GET NEW RECORD      */ 00268000
         L     @08,BACKPTR(,R4GTMPTR)                           01S0082 00269000
         MVC   R15RC(4,@08),@CF00097                            01S0082 00270000
*               END;                                            01S0083 00271000
*             ELSE                                              01S0084 00272000
*               R15RC=RCNEWREC;     /* SET RC TO GET NEW RECORD      */ 00273000
         B     @RC00075                                         01S0084 00274000
@RF00075 L     @08,BACKPTR(,R4GTMPTR)                           01S0084 00275000
         MVC   R15RC(4,@08),@CF00097                            01S0084 00276000
*         END;                                                  01S0085 00277000
*       ELSE                                                    01S0086 00278000
*         R15RC=RCIGNORE;           /* EXT RECORDS NOT BEING    01S0086 00279000
*                                      FORMATTED SO SET RC TO IGNORE    00280000
*                                      THIS REC                      */ 00281000
         B     @RC00059                                         01S0086 00282000
@RF00059 L     @08,BACKPTR(,R4GTMPTR)                           01S0086 00283000
         MVC   R15RC(4,@08),@CF00041                            01S0086 00284000
*S05END:                                                        01S0087 00285000
*   R13SAPTR=BACKPTR;               /* RESTORE HIS SAVE AREA @YM03672*/ 00286000
@RC00059 DS    0H                                               01S0087 00287000
@RC00055 DS    0H                                               01S0087 00288000
@RC00031 DS    0H                                               01S0087 00289000
S05END   L     R13SAPTR,BACKPTR(,R4GTMPTR)                      01S0087 00290000
*   END AMDSYS05                    /* THIS WILL RETURN US TO CALLER    00291000
*                                                                    */ 00292000
*                                                               01S0088 00293000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 00294000
*/*%INCLUDE SYSUT5  (SYS05PRO)                                       */ 00295000
*/*%INCLUDE SYSUT5  (SYS05DCL)                                       */ 00296000
*/*%INCLUDE SYSLIB  (AMDPRTAB)                                       */ 00297000
*/*%INCLUDE SYSLIB  (IHAABDPL)                                       */ 00298000
*/*%INCLUDE SYSLIB  (IMDMEDIT)                                       */ 00299000
*/*%INCLUDE SYSUT5  (SYS05MAN)                                       */ 00300000
*                                                               01S0088 00301000
*       ;                                                       01S0088 00302000
@EL00001 DS    0H                                               01S0088 00303000
@EF00001 DS    0H                                               01S0088 00304000
@ER00001 LM    @14,@12,12(@13)                                  01S0088 00305000
         BR    @14                                              01S0088 00306000
@DATA    DS    0H                                                       00307000
@CH00367 DC    XL2'EEEE'                                                00308000
@CH00381 DC    XL2'1004'                                                00309000
@CH00383 DC    XL2'1005'                                                00310000
@DATD    DSECT                                                          00311000
         DS    0F                                                       00312000
AMDSYS05 CSECT                                                          00313000
         DS    0F                                                       00314000
@CF00097 DC    F'4'                                                     00315000
@CF00041 DC    F'8'                                                     00316000
@CF00073 DC    F'12'                                                    00317000
@DATD    DSECT                                                          00318000
         DS    0D                                                       00319000
AMDSYS05 CSECT                                                          00320000
         DS    0F                                                       00321000
@SIZDATD DC    AL1(0)                                                   00322000
         DC    AL3(@ENDDATD-@DATD)                                      00323000
         DS    0D                                                       00324000
@CC00371 DC    C'UA'                                                    00325000
@CC00394 DC    C'N/A '                                                  00326000
@CB00381 DC    X'1004'                                                  00327000
@CB00383 DC    X'1005'                                                  00328000
UNAV     DC    CL8'U/A'                                                 00329000
ERRIND   DC    CL14'**************'                                     00330000
PRELBL1  DC    CL24'EXTASCBCPUJOBNOLD PSWTCB'                           00331000
SIGPLBL1 DC    CL11'PARMSIG CPU'                                        00332000
CPULBL1  DC    CL21'TQE FIELDS:FLG/EXITCB'                              00333000
CCLBL1   DC    CL25'TQE FIELDS:FLG/EXIASCBTCB'                          00334000
@DATD    DSECT                                                          00335000
         EQUATES                                                        00336000
AMDSYS05 CSECT                                                          00337000
*********************************************************************** 00338000
*                                                                     * 00339000
*        RECORD PREFIX -- ALL FIELDS NORMAL                           * 00340000
*                                                                     * 00341000
*********************************************************************** 00342000
PREF01   FMTPTRN (LBL,LBLP),3,,0,,PRELBL1,,       HEADER                00343000
         FMTPTRN (LBL,DTA,DTAC),4,4,10,15,,,      ASCB                  00344000
         FMTPTRN (LBL,DTA,DTAC),3,2,25,29,,,      CPU                   00345000
         FMTPTRN (LBL,DTA,DTAC,DTAE),4,8,35,40,,, JOB NAME              00346000
         FMTPTRN (LBL,DTA,DTAC),7,4,50,58,,,      PSW1                  00347000
         FMTPTRN (DTA,DTAC),,4,,67,,,             PSW2                  00348000
         FMTPTRN (LBL,DTA,DTAC),3,4,77,81,,,LAST  TCB                   00349000
*********************************************************************** 00350000
*                                                                     * 00351000
*        RECORD PREFIX -- TCB FIELD = N/A                             * 00352000
*                                                                     * 00353000
*********************************************************************** 00354000
PREF02   FMTPTRN (LBL,LBLP),3,,0,,PRELBL1,,       HEADER                00355000
         FMTPTRN (LBL,DTA,DTAC),4,4,10,15,,,      ASCB                  00356000
         FMTPTRN (LBL,DTA,DTAC),3,2,25,29,,,      CPU                   00357000
         FMTPTRN (LBL,DTA,DTAC,DTAE),4,8,35,40,,, JOB NAME              00358000
         FMTPTRN (LBL,DTA,DTAC),7,4,50,58,,,      PSW1                  00359000
         FMTPTRN (DTA,DTAC),,4,,67,,,             PSW2                  00360000
         FMTPTRN (LBL,DTA,DTAC,DTAE),3,4,77,81,,,LAST  TCB              00361000
*********************************************************************** 00362000
*                                                                     * 00363000
*        RECORD SUFFIX--SIG P--ALL FIELDS NORMAL                      * 00364000
*                                                                     * 00365000
*********************************************************************** 00366000
SIGPF01  FMTPTRN (LBL,DTA,DTAC,LBLP),4,4,91,96,SIGPLBL1,,  PARM         00367000
         FMTPTRN (LBL,DTA,DTAC),7,2,106,114,,,LAST         SIG-CPU      00368000
*********************************************************************** 00369000
*                                                                     * 00370000
*        RECORD SUFFIX--SIG P--ERROR INDICATORS                       * 00371000
*                                                                     * 00372000
*********************************************************************** 00373000
SIGPF02  FMTPTRN (LBL,DTA,DTAC,LBLP,DTAE),4,4,91,96,SIGPLBL1,, PARM     00374000
         FMTPTRN (LBL,DTA,DTAC,DTAE),7,2,106,114,,,LAST    SIG-CPU      00375000
*********************************************************************** 00376000
*                                                                     * 00377000
*        RECORD SUFFIX--SECOND LINE--CPU TIMER--ALL FIELDS OK         * 00378000
*                                                                     * 00379000
*********************************************************************** 00380000
CPUF01   FMTPTRN (LBL,LBLP),11,,22,,CPULBL1,,     HEADER                00381000
         FMTPTRN (LBL,DTA,DTAC),7,2,50,58,,,      FLAGS                 00382000
         FMTPTRN (DTA,DTAC),,4,,67,,              EXIT ADDRESS          00383000
         FMTPTRN (LBL,DTA,DTAC),3,4,77,81,,,LAST  TCB                   00384000
*********************************************************************** 00385000
*                                                                     * 00386000
*        RECORD SUFFIX--SECOND LINE--CPU TIMER--ALL FIELDS BAD        * 00387000
*                                                                     * 00388000
*********************************************************************** 00389000
CPUF02   FMTPTRN (LBL,LBLP),11,,22,,CPULBL1,,     HEADER                00390000
         FMTPTRN (LBL,DTA,DTAC,DTAE),7,2,50,58,,, FLAGS                 00391000
         FMTPTRN (DTA,DTAC,DTAE),,4,,67,,         EXIT ADDRESS          00392000
         FMTPTRN (LBL,DTA,DTAC,DTAE),3,4,77,81,,,LAST TCB               00393000
*********************************************************************** 00394000
*                                                                     * 00395000
*        RECORD SUFFIX--SECOND LINE--CLOCK COMP--ALL FIELDS OK        * 00396000
*                                                                     * 00397000
*********************************************************************** 00398000
CCF01    FMTPTRN (LBL,LBLP),11,,22,,CCLBL1,,      HEADER                00399000
         FMTPTRN (LBL,DTA,DTAC),7,2,50,58,,,      FLAGS                 00400000
         FMTPTRN (DTA,DTAC),,4,,67,,              EXIT ADDRESS          00401000
         FMTPTRN (LBL,DTA,DTAC),4,4,35,40,,,      ASCB                  00402000
         FMTPTRN (LBL,DTA,DTAC),3,4,77,81,,,LAST  TCB                   00403000
*********************************************************************** 00404000
*                                                                     * 00405000
*        RECORD SUFFIX--SECOND LINE--CLOCK COMP--ALL FIELDS BAD       * 00406000
*                                                                     * 00407000
*********************************************************************** 00408000
CCF02    FMTPTRN (LBL,LBLP),11,,22,,CCLBL1,,      HEADER                00409000
         FMTPTRN (LBL,DTA,DTAC,DTAE),7,2,50,58,,, FLAGS                 00410000
         FMTPTRN (DTA,DTAC,DTAE),,4,,67,,         EXIT ADDRESS          00411000
         FMTPTRN (LBL,DTA,DTAC,DTAE),4,4,35,40,,, ASCB                  00412000
         FMTPTRN (LBL,DTA,DTAC,DTAE),3,4,77,81,,,LAST TCB               00413000
@DATD    DSECT                                                          00414000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                00415000
@ENDDATD EQU   *                                                        00416000
AMDSYS05 CSECT                                                          00417000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       00418000
@01      EQU   01                                                       00419000
@02      EQU   02                                                       00420000
@03      EQU   03                                                       00421000
@04      EQU   04                                                       00422000
@05      EQU   05                                                       00423000
@06      EQU   06                                                       00424000
@07      EQU   07                                                       00425000
@08      EQU   08                                                       00426000
@09      EQU   09                                                       00427000
@10      EQU   10                                                       00428000
@11      EQU   11                                                       00429000
@12      EQU   12                                                       00430000
@13      EQU   13                                                       00431000
@14      EQU   14                                                       00432000
@15      EQU   15                                                       00433000
AEDITCBR EQU   @09                                                      00434000
ABDPLPTR EQU   @01                                                      00435000
R0FMTPTR EQU   @00                                                      00436000
R1PLPTR  EQU   @01                                                      00437000
R2WORK   EQU   @02                                                      00438000
R3PLPTR  EQU   @03                                                      00439000
R4GTMPTR EQU   @04                                                      00440000
R5RECPTR EQU   @05                                                      00441000
R6OUTPTR EQU   @06                                                      00442000
R13SAPTR EQU   @13                                                      00443000
R14RTN   EQU   @14                                                      00444000
R7WORK   EQU   @07                                                      00445000
AMDPRTAB EQU   0                                                        00446000
DEBGFLGS EQU   AMDPRTAB+8                                               00447000
PTHFLGS1 EQU   DEBGFLGS                                                 00448000
PTHFLGS2 EQU   DEBGFLGS+1                                               00449000
INRFCFGS EQU   DEBGFLGS+2                                               00450000
IOFLGS   EQU   DEBGFLGS+3                                               00451000
STARTIME EQU   AMDPRTAB+40                                              00452000
STOPTIME EQU   AMDPRTAB+52                                              00453000
NAMES    EQU   AMDPRTAB+64                                              00454000
ADS      EQU   AMDPRTAB+104                                             00455000
AADS     EQU   ADS                                                      00456000
SIF      EQU   AMDPRTAB+124                                             00457000
SIOFLGS  EQU   SIF                                                      00458000
DVADS1   EQU   AMDPRTAB+128                                             00459000
IO       EQU   AMDPRTAB+228                                             00460000
IOFLGS2  EQU   IO                                                       00461000
DVADS2   EQU   AMDPRTAB+232                                             00462000
VCF      EQU   AMDPRTAB+332                                             00463000
SVCFLGS  EQU   VCF                                                      00464000
USR      EQU   AMDPRTAB+368                                             00465000
USRFLGS  EQU   USR                                                      00466000
USRTAB   EQU   AMDPRTAB+372                                             00467000
PI       EQU   AMDPRTAB+452                                             00468000
PIFLGS   EQU   PI                                                       00469000
PGMNGEN  EQU   AMDPRTAB+456                                             00470000
GENFLAGS EQU   PGMNGEN+3                                                00471000
EXT      EQU   GENFLAGS                                                 00472000
SYS      EQU   GENFLAGS                                                 00473000
GENFLGS1 EQU   AMDPRTAB+460                                             00474000
ESTARTME EQU   AMDPRTAB+500                                             00475000
ESTOPTME EQU   AMDPRTAB+509                                             00476000
ABDPL    EQU   0                                                        00477000
ADPLFLAG EQU   ABDPL+7                                                  00478000
ADPLBUF  EQU   ABDPL+8                                                  00479000
ADPLFMT2 EQU   ABDPL+48                                                 00480000
OURPLIST EQU   0                                                        00481000
EIDPTR   EQU   OURPLIST+12                                              00482000
DTAPTR   EQU   OURPLIST+16                                              00483000
FMTPTR   EQU   OURPLIST+20                                              00484000
GTMPTR   EQU   OURPLIST+24                                              00485000
FPLPTR   EQU   OURPLIST+28                                              00486000
GMAREA   EQU   0                                                        00487000
REGSAV   EQU   GMAREA                                                   00488000
BACKPTR  EQU   REGSAV+4                                                 00489000
CVWORK   EQU   GMAREA+72                                                00490000
SECENTRY EQU   GMAREA+80                                                00491000
OUTBUF   EQU   0                                                        00492000
INTCODE  EQU   OUTBUF+5                                                 00493000
HISSAV   EQU   0                                                        00494000
R15RC    EQU   HISSAV+16                                                00495000
EXTREC   EQU   0                                                        00496000
EXTPREF  EQU   EXTREC                                                   00497000
EXTOPSW  EQU   EXTPREF+14                                               00498000
EXTOPIT  EQU   EXTOPSW+2                                                00499000
EXTITTCB EQU   EXTPREF+22                                               00500000
EXTSUF   EQU   EXTREC+26                                                00501000
AMDPRFMT EQU   0                                                        00502000
ERRASCB  EQU   0                                                        00503000
EID      EQU   0                                                        00504000
EXTSUFCC EQU   EXTSUF                                                   00505000
EXTCFLGS EQU   EXTSUFCC                                                 00506000
EXTSUFCT EQU   EXTSUF                                                   00507000
EXTTFLGS EQU   EXTSUFCT                                                 00508000
EXTSUFSP EQU   EXTSUF                                                   00509000
*                                      START UNREFERENCED COMPONENTS    00510000
EXTSPROC EQU   EXTSUFSP+4                                               00511000
EXTSPARM EQU   EXTSUFSP                                                 00512000
EXTTEXIT EQU   EXTSUFCT+2                                               00513000
EXTTQFL2 EQU   EXTTFLGS+1                                               00514000
EXTTQFL  EQU   EXTTFLGS                                                 00515000
EXTCTCB  EQU   EXTSUFCC+10                                              00516000
EXTCASCB EQU   EXTSUFCC+6                                               00517000
EXTCEXIT EQU   EXTSUFCC+2                                               00518000
EXTCQFL2 EQU   EXTCFLGS+1                                               00519000
EXTCQFL  EQU   EXTCFLGS                                                 00520000
@NM00009 EQU   EXTOPSW+4                                                00521000
@NM00008 EQU   EXTOPSW                                                  00522000
EXTJBN   EQU   EXTPREF+6                                                00523000
EXTCPUID EQU   EXTPREF+4                                                00524000
EXTASCB  EQU   EXTPREF                                                  00525000
@NM00007 EQU   HISSAV                                                   00526000
@NM00006 EQU   OUTBUF+9                                                 00527000
@NM00005 EQU   OUTBUF                                                   00528000
SVR14NRM EQU   GMAREA+76                                                00529000
@NM00004 EQU   GMAREA+75                                                00530000
@NM00003 EQU   REGSAV                                                   00531000
OPTPTR   EQU   OURPLIST+8                                               00532000
BUFPTR   EQU   OURPLIST+4                                               00533000
RECPTR   EQU   OURPLIST                                                 00534000
ADPLEXT  EQU   ABDPL+52                                                 00535000
ADPLFMT1 EQU   ABDPL+44                                                 00536000
ADPLCOM4 EQU   ABDPL+40                                                 00537000
ADPLCOM3 EQU   ABDPL+36                                                 00538000
ADPLCOM2 EQU   ABDPL+32                                                 00539000
ADPLCOM1 EQU   ABDPL+28                                                 00540000
ADPLFRMT EQU   ABDPL+24                                                 00541000
ADPLMEMA EQU   ABDPL+20                                                 00542000
ADPLCVT  EQU   ABDPL+16                                                 00543000
ADPLPRNT EQU   ABDPL+12                                                 00544000
@NM00002 EQU   ADPLFLAG                                                 00545000
ADPLSYTM EQU   ADPLFLAG                                                 00546000
ADPLSNPR EQU   ADPLFLAG                                                 00547000
ADPLSBPL EQU   ABDPL+6                                                  00548000
ADPLASID EQU   ABDPL+4                                                  00549000
ADPLTCB  EQU   ABDPL                                                    00550000
RESERVED EQU   AMDPRTAB+522                                             00551000
CVTTZONE EQU   AMDPRTAB+518                                             00552000
ESPSEC   EQU   ESTOPTME+7                                               00553000
ESPMIN   EQU   ESTOPTME+5                                               00554000
ESPHR    EQU   ESTOPTME+3                                               00555000
ESPDAY   EQU   ESTOPTME                                                 00556000
ESSEC    EQU   ESTARTME+7                                               00557000
ESMIN    EQU   ESTARTME+5                                               00558000
ESHR     EQU   ESTARTME+3                                               00559000
ESDAY    EQU   ESTARTME                                                 00560000
ADTSBUF  EQU   AMDPRTAB+496                                             00561000
OFSTDATA EQU   AMDPRTAB+494                                             00562000
OFSTEID  EQU   AMDPRTAB+492                                             00563000
AFRMAD   EQU   AMDPRTAB+488                                             00564000
REENTWKA EQU   AMDPRTAB+484                                             00565000
PRFMTADD EQU   AMDPRTAB+480                                             00566000
AEIOCT   EQU   AMDPRTAB+476                                             00567000
EXITADDR EQU   AMDPRTAB+472                                             00568000
EXITNM   EQU   AMDPRTAB+464                                             00569000
RECDLL   EQU   AMDPRTAB+461                                             00570000
@NM00001 EQU   GENFLGS1                                                 00571000
FIRSTHSW EQU   GENFLGS1                                                 00572000
TSFOUND  EQU   GENFLGS1                                                 00573000
EOFINPRO EQU   GENFLGS1                                                 00574000
TS       EQU   GENFLGS1                                                 00575000
EOF      EQU   GENFLAGS                                                 00576000
RR       EQU   GENFLAGS                                                 00577000
SRM      EQU   GENFLAGS                                                 00578000
RNIO     EQU   GENFLAGS                                                 00579000
SYSM     EQU   GENFLAGS                                                 00580000
DSP      EQU   GENFLAGS                                                 00581000
PICODEA  EQU   PGMNGEN+2                                                00582000
PICODES  EQU   PGMNGEN                                                  00583000
Q        EQU   PI+1                                                     00584000
P01R     EQU   PIFLGS                                                   00585000
SELP     EQU   PIFLGS                                                   00586000
ALLP     EQU   PIFLGS                                                   00587000
USRNGTAB EQU   USRTAB                                                   00588000
O        EQU   USR+1                                                    00589000
N01R     EQU   USRFLGS                                                  00590000
SELU     EQU   USRFLGS                                                  00591000
ALLU     EQU   USRFLGS                                                  00592000
SVCNUMS  EQU   AMDPRTAB+336                                             00593000
M        EQU   VCF+1                                                    00594000
L        EQU   SVCFLGS                                                  00595000
SELV     EQU   SVCFLGS                                                  00596000
ALLV     EQU   SVCFLGS                                                  00597000
IODVADS  EQU   DVADS2                                                   00598000
K01RES   EQU   IO+1                                                     00599000
JJ       EQU   IOFLGS2                                                  00600000
SELI     EQU   IOFLGS2                                                  00601000
ALLI     EQU   IOFLGS2                                                  00602000
SIODVADS EQU   DVADS1                                                   00603000
II       EQU   SIF+1                                                    00604000
H        EQU   SIOFLGS                                                  00605000
NOEQU    EQU   SIOFLGS                                                  00606000
EQUIV    EQU   SIOFLGS                                                  00607000
SELS     EQU   SIOFLGS                                                  00608000
ALLS     EQU   SIOFLGS                                                  00609000
ASCBADDR EQU   AADS                                                     00610000
JOBNAMES EQU   NAMES                                                    00611000
DAY2     EQU   STOPTIME+10                                              00612000
F        EQU   STOPTIME+8                                               00613000
TIME2    EQU   STOPTIME                                                 00614000
DAY      EQU   STARTIME+10                                              00615000
D        EQU   STARTIME+8                                               00616000
TIME     EQU   STARTIME                                                 00617000
DDNAME   EQU   AMDPRTAB+32                                              00618000
USEREXIT EQU   AMDPRTAB+24                                              00619000
GTFWDPTR EQU   AMDPRTAB+20                                              00620000
C        EQU   DEBGFLGS+4                                               00621000
B        EQU   IOFLGS                                                   00622000
GETEOF   EQU   IOFLGS                                                   00623000
DMDFMT   EQU   INRFCFGS                                                 00624000
EDITSTOP EQU   INRFCFGS                                                 00625000
EXTTRC   EQU   INRFCFGS                                                 00626000
RET      EQU   INRFCFGS                                                 00627000
FMT      EQU   INRFCFGS                                                 00628000
SPIE     EQU   INRFCFGS                                                 00629000
TERM     EQU   INRFCFGS                                                 00630000
FLMODE   EQU   INRFCFGS                                                 00631000
REMAIN   EQU   PTHFLGS2                                                 00632000
APP      EQU   PTHFLGS2                                                 00633000
REXT     EQU   PTHFLGS1                                                 00634000
FRM      EQU   PTHFLGS1                                                 00635000
FLT      EQU   PTHFLGS1                                                 00636000
HEX      EQU   PTHFLGS1                                                 00637000
CON      EQU   PTHFLGS1                                                 00638000
GET      EQU   PTHFLGS1                                                 00639000
SCN      EQU   PTHFLGS1                                                 00640000
ROOT     EQU   PTHFLGS1                                                 00641000
CURREC   EQU   AMDPRTAB+4                                               00642000
AFMG     EQU   AMDPRTAB                                                 00643000
*                                      END UNREFERENCED COMPONENTS      00644000
@RC00036 EQU   @RC00033                                                 00645000
@RC00043 EQU   @RC00040                                                 00646000
@RC00075 EQU   @RC00059                                                 00647000
@RC00070 EQU   @RC00059                                                 00648000
@ENDDATA EQU   *                                                        00649000
         END   AMDSYS05                                                 00650000
