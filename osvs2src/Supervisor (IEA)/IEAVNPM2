         TITLE 'IEAVNPM2 - NIPWTO/R SERVICE ROUTINES                   *00001000
                        '                                               00002000
         MACRO                                                          00003000
         NPM2ENTR   &SAVE,&ADDR                                         00004000
         BALR  RENTRY,0                                                 00005000
         DROP  @11,@12                                                  00006000
         USING *,RENTRY                                                 00007000
         STM   2,1,&SAVE                                                00008000
         L     RBASE,&ADDR                                              00009000
         LA    RBASE2,4095(0,RBASE)                                     00010000
         B    &ADDR+4                                                   00011000
&ADDR    DC    A(@PSTART)                                               00012000
         DROP  RENTRY                                                   00013000
         USING @PSTART,@11                                              00014000
         USING @PSTART+4095,@12                                         00015000
         MEND                                                           00016000
         MACRO                                                          00017000
         NPM2APPE   &SAVE,&ADDR                                         00018000
         BALR  RENTRY,0                                                 00019000
         DROP  @11,@12                                                  00020000
         USING *,RENTRY                                                 00021000
         STM   2,1,&SAVE                                                00022000
         L    RBASE,&ADDR                                               00023000
         LA   RBASE2,4095(0,RBASE)                                      00024000
         B    &ADDR+4                                                   00025000
&ADDR    DC    A(@PSTART)                                               00026000
         DROP  RENTRY                                                   00027000
         USING @PSTART,@11                                              00028000
         USING @PSTART+4095,@12                                         00029000
         MEND                                                           00030000
IEAVNPM2 CSECT ,                                                   0029 00031000
@MAINENT DS    0H                                                  0029 00032000
         USING *,@15                                               0029 00033000
         B     @PROLOG                                             0029 00034000
         DC    AL1(16)                                             0029 00035000
         DC    C'IEAVNPM2  74.112'                                 0029 00036000
         DROP  @15                                                      00037000
@PROLOG  BALR  @11,0                                               0029 00038000
@PSTART  LA    @12,4095(,@11)                                      0029 00039000
         USING @PSTART,@11                                         0029 00040000
         USING @PSTART+4095,@12                                    0029 00041000
         ENTRY  NIPWTO,NIPWTOR,NIPWTOR2     SERVICE ROUTINE ENTRIES     00042000
         ENTRY  NIPDCBIC,NIPDCBOC           I/O CONSOLES DCBS           00043000
*                                                                       00044000
** REFS ARE GENERATED FOR NVT FIELDS THAT CONTAIN ADDRESSES OF          00045000
** NIP SERVICE ROUTINES, SO IEAPMNIP MACRO CALLS TO THESE ROUTINES      00046000
** WILL ASSEMBLE PROPERLY.                                              00047000
@EL00001 DS    0H                                                  0307 00048000
@EF00001 DS    0H                                                  0307 00049000
@ER00001 BR    @14                                                 0307 00050000
@PB00001 DS    0H                                                  0307 00051000
NIPWTO   DS    0H                                                  0308 00052000
         DS  0H                                                         00053000
*                                                                  0312 00054000
         NPM2ENTR WTOLVL2,WTOBASE                                       00055000
*   /*****************************************************************/ 00056000
*   /*                                                               */ 00057000
*   /* ON ENTRY, TEST NVT ACTIVE CONSOLE FLAG. IF OFF, RETURN        */ 00058000
*   /* IMMEDIATELY                                                   */ 00059000
*   /*                                                               */ 00060000
*   /*****************************************************************/ 00061000
*                                                                  0313 00062000
*   IF NVTFLAC='0'B                 /* ACTIVE MASTER CONSOLE ?       */ 00063000
*     THEN                          /* IF NOT -                      */ 00064000
         TM    NVTFLAC(RNVT),B'10000000'                           0313 00065000
         BNZ   @RF00313                                            0313 00066000
*     DO;                           /* PREPARE TO RETURN             */ 00067000
*       GEN(LM  2,1,WTOLVL2);       /* RESTORE CALLERS REGS          */ 00068000
         LM  2,1,WTOLVL2                                                00069000
*       GEN(BR  14);                /* RETURN TO CALLER              */ 00070000
         BR  14                                                         00071000
*     END;                                                         0317 00072000
*                                                                  0317 00073000
*   /*****************************************************************/ 00074000
*   /*                                                               */ 00075000
*   /* TEST FOR LEVEL 1 (NONRECURSIVE) ENTRY                         */ 00076000
*   /*                                                               */ 00077000
*   /*****************************************************************/ 00078000
*                                                                  0318 00079000
*   IF NPWTOSV1='0'B                /* IF THIS IS AN INITIAL         */ 00080000
*     THEN                          /* ENTRY INDICATE BY:            */ 00081000
@RF00313 TM    NPWTOSV1,B'10000000'                                0318 00082000
         BNZ   @RF00318                                            0318 00083000
*     DO;                           /* SET SWITCH & MOVE REGS        */ 00084000
*       NPWTOSV1='1'B;              /* SET SAVE-LEVEL 1 SWITCH       */ 00085000
         OI    NPWTOSV1,B'10000000'                                0320 00086000
*       WTOLVL1=WTOLVL2;            /* MOVE REGS TO SAVE LEVEL 1     */ 00087000
         MVC   WTOLVL1(64),WTOLVL2                                 0321 00088000
*     END;                                                         0322 00089000
*   ELSE                            /* ELSE, THIS IS LEVEL 2 ENTRY   */ 00090000
*     DO;                           /* INDICATE AND SAVE WRITAREA    */ 00091000
         B     @RC00318                                            0323 00092000
@RF00318 DS    0H                                                  0324 00093000
*       NPWTOSV2='1'B;              /* INDICATE LEVEL 2 IN USE       */ 00094000
         OI    NPWTOSV2,B'01000000'                                0324 00095000
*       NPMWASAV=WRITAREA;          /* SAVE WRITAREA                 */ 00096000
         MVC   NPMWASAV(132),WRITAREA                              0325 00097000
*     END;                                                         0326 00098000
*   NPMWHDR=RPARM->NWTOHDR;         /* PUT HEADER IN WRITE AREA      */ 00099000
*                                                                  0327 00100000
@RC00318 MVC   NPMWHDR(4),NWTOHDR(RPARM)                           0327 00101000
*   /*****************************************************************/ 00102000
*   /*                                                               */ 00103000
*   /* CALCULATE LENGTH OF MESSAGE TEXT                              */ 00104000
*   /*                                                               */ 00105000
*   /*****************************************************************/ 00106000
*                                                                  0328 00107000
*   N=RPARM->NWTOLNG-LENGTH(NWTOHDR);                              0328 00108000
         LA    @10,4                                               0328 00109000
         LH    @05,NWTOLNG(,RPARM)                                 0328 00110000
         SLR   @05,@10                                             0328 00111000
         ST    @05,N                                               0328 00112000
*   RBUFC=ADDR(NPMWAREA);           /* LOAD BUFFER ADDRESS           */ 00113000
*                                                                  0329 00114000
         LA    RBUFC,NPMWAREA                                      0329 00115000
*   /*****************************************************************/ 00116000
*   /*                                                               */ 00117000
*   /* LOAD MESSAGE BEGINNING ADDRESS                                */ 00118000
*   /*                                                               */ 00119000
*   /*****************************************************************/ 00120000
*                                                                  0330 00121000
*   RSCANC=RPARM+LENGTH(NWTOHDR);                                  0330 00122000
         ALR   @10,RPARM                                           0330 00123000
         LR    RSCANC,@10                                          0330 00124000
*   NPMSCANE=RSCANC+N-1;            /* POINT TO LAST MSG CHAR        */ 00125000
*                                                                  0331 00126000
         ALR   @05,RSCANC                                          0331 00127000
         BCTR  @05,0                                               0331 00128000
         ST    @05,NPMSCANE                                        0331 00129000
*   /*****************************************************************/ 00130000
*   /*                                                               */ 00131000
*   /* PACK FROM THE PARAMETER MESSAGE TO THE WRITE AREA OMITTING ALL*/ 00132000
*   /* DOUBLE BLANKS                                                 */ 00133000
*   /*                                                               */ 00134000
*   /*****************************************************************/ 00135000
*                                                                  0332 00136000
*NPMPKLP:                                                          0332 00137000
*                                                                  0332 00138000
*   /*****************************************************************/ 00139000
*   /*                                                               */ 00140000
*   /* IF THE NEXT TWO CHARACTERS ARE NOT 2 BLANKS, OR THE 'NO       */ 00141000
*   /* COMPRESS' FLAG IS ON IN MESSAGE HEADER, MOVE ONE CHARACTER. IF*/ 00142000
*   /* NOT, SCAN PAST FISRT BLANK AND CONTINUE                       */ 00143000
*   /*                                                               */ 00144000
*   /*****************************************************************/ 00145000
*                                                                  0332 00146000
*   IF SCAN(1:2)^='  '|             /* 2 BLANKS OR -                 */ 00147000
*       RPARM->NWTOFLNC='1'B        /* DONT COMPRESS ?               */ 00148000
*     THEN                          /* IF EITHER THEN -              */ 00149000
NPMPKLP  CLC   SCAN(2,RSCANC),@CC02777                             0332 00150000
         BNE   @RT00332                                            0332 00151000
         TM    NWTOFLNC(RPARM),B'01000000'                         0332 00152000
         BNO   @RF00332                                            0332 00153000
@RT00332 DS    0H                                                  0333 00154000
*     DO;                           /* MOVE A CHARACTER              */ 00155000
*                                                                  0333 00156000
*       /*************************************************************/ 00157000
*       /*                                                           */ 00158000
*       /* MOVE CHARACTER TO WRITE AREA                              */ 00159000
*       /*                                                           */ 00160000
*       /*************************************************************/ 00161000
*                                                                  0334 00162000
*       BUFPACK(1)=SCAN(1);                                        0334 00163000
*                                                                  0334 00164000
         MVC   BUFPACK(1,RBUFC),SCAN(RSCANC)                       0334 00165000
*       /*************************************************************/ 00166000
*       /*                                                           */ 00167000
*       /* UPDATE WRITE AREA BASE                                    */ 00168000
*       /*                                                           */ 00169000
*       /*************************************************************/ 00170000
*                                                                  0335 00171000
*       RBUFC=RBUFC+1;                                             0335 00172000
         AH    RBUFC,@CH00109                                      0335 00173000
*     END;                                                         0336 00174000
*   RSCANC=RSCANC+1;                /* UPDATE BUFPACK BASE           */ 00175000
*                                                                  0337 00176000
@RF00332 AH    RSCANC,@CH00109                                     0337 00177000
*   /*****************************************************************/ 00178000
*   /*                                                               */ 00179000
*   /* IS THIS THE END OF THE PARAMETER MESSAGE                      */ 00180000
*   /*                                                               */ 00181000
*   /*****************************************************************/ 00182000
*                                                                  0338 00183000
*   IF RSCANC^>NPMSCANE THEN        /* NOT THE END                   */ 00184000
         C     RSCANC,NPMSCANE                                     0338 00185000
         BNH   @RT00338                                            0338 00186000
*     GO TO NPMPKLP;                /* CONTINUE LOOP                 */ 00187000
*                                                                  0339 00188000
*   /*****************************************************************/ 00189000
*   /*                                                               */ 00190000
*   /* SUBSTITUTE PACKED WRITE AREA FOR INPUT PARMETER               */ 00191000
*   /*                                                               */ 00192000
*   /*****************************************************************/ 00193000
*                                                                  0340 00194000
*   RPARM=ADDR(WRITAREA);                                          0340 00195000
*                                                                  0340 00196000
         LA    RPARM,WRITAREA                                      0340 00197000
*   /*****************************************************************/ 00198000
*   /*                                                               */ 00199000
*   /* LENGTH OF HEADER AND PACKED WRITE AREA                        */ 00200000
*   /*                                                               */ 00201000
*   /*****************************************************************/ 00202000
*                                                                  0341 00203000
*   RPARM->NWTOLNG=RBUFC-RPARM;                                    0341 00204000
         LR    @10,RBUFC                                           0341 00205000
         SLR   @10,RPARM                                           0341 00206000
         STH   @10,NWTOLNG(,RPARM)                                 0341 00207000
*   CALL NPMHDCPY;                  /* BRANCH TO HARDCOPY ROUTINE    */ 00208000
         BAL   @14,NPMHDCPY                                        0342 00209000
*   N=RPARM->NWTOLNG;               /* OBTAIN MESSAGE LENGTH         */ 00210000
         LH    @10,NWTOLNG(,RPARM)                                 0343 00211000
         ST    @10,N                                               0343 00212000
*   N=N-LENGTH(NWTOHDR);            /* CALCULATE MESSAGE LENGTH      */ 00213000
*                                                                  0344 00214000
         SH    @10,@CH00101                                        0344 00215000
         ST    @10,N                                               0344 00216000
*   /*****************************************************************/ 00217000
*   /*                                                               */ 00218000
*   /* TEST NVT COMPOSITE CONSOLE FLAG TO DETERMINE SOURCE OF UCB    */ 00219000
*   /* ADDRESS                                                       */ 00220000
*   /*                                                               */ 00221000
*   /*****************************************************************/ 00222000
*                                                                  0345 00223000
*   IF NVTFLIOC='1'B                /* IF COMPOSITE FLAG IS ON -     */ 00224000
*     THEN                          /* OBTAIN UCB ADDRESS            */ 00225000
         TM    NVTFLIOC(RNVT),B'01000000'                          0345 00226000
         BNO   @RF00345                                            0345 00227000
*     RUCB=NPBOUCBA;                /* FROM OUTPUT DEB               */ 00228000
         SLR   RUCB,RUCB                                           0346 00229000
         ICM   RUCB,7,NPBOUCBA                                     0346 00230000
*   ELSE                            /* ELSE, OBTAIN UCB ADDRESS      */ 00231000
*     RUCB=NPBIUCBA;                /* FROM INPUT DEB                */ 00232000
*                                                                  0347 00233000
         B     @RC00345                                            0347 00234000
@RF00345 SLR   RUCB,RUCB                                           0347 00235000
         ICM   RUCB,7,NPBIUCBA                                     0347 00236000
*   /*****************************************************************/ 00237000
*   /*                                                               */ 00238000
*   /* DETERMINE DEVICE TYPE. CHECK FOR UNIT RECORD                  */ 00239000
*   /*                                                               */ 00240000
*   /*****************************************************************/ 00241000
*                                                                  0348 00242000
*   IF UCB3UREC='1'B                /* IF DEVICE IS UNIT RECORD      */ 00243000
*     THEN                          /* EXECUTE HERE -                */ 00244000
@RC00345 TM    UCB3UREC(UCBPTR),B'00001000'                        0348 00245000
         BNO   @RF00348                                            0348 00246000
*     DO;                           /* SET UP FOR EXCP               */ 00247000
*       NPMWCCWL=N;                 /* SET MSG LENGTH IN CCW         */ 00248000
         MVC   NPMWCCWL(2),N+2                                     0350 00249000
*       RPARM=ADDR(NPMWUCCW);       /* SET CCW ADDR PARAMETER        */ 00250000
         LA    RPARM,NPMWUCCW                                      0351 00251000
*       CALL NPMEXCPC;              /* CALL EXECUTE-CHANNEL-PROG     */ 00252000
         BAL   @14,NPMEXCPC                                        0352 00253000
*       GO TO NPMWTORG;             /* BRANCH TO RESTORE REGISTER    */ 00254000
         B     NPMWTORG                                            0353 00255000
*     END;                                                         0354 00256000
*                                                                  0354 00257000
*   /*****************************************************************/ 00258000
*   /*                                                               */ 00259000
*   /* DETERMINE DEVICE TYPE. CHECK FOR COMMUNICATION CLASS          */ 00260000
*   /*                                                               */ 00261000
*   /*****************************************************************/ 00262000
*                                                                  0355 00263000
*   IF UCB3COMM='1'B                /* IF DEVICE IS COMMUNICATION    */ 00264000
*     THEN                          /* EXECUTE HERE -                */ 00265000
@RF00348 TM    UCB3COMM(UCBPTR),B'01000000'                        0355 00266000
         BNO   @RF00355                                            0355 00267000
*     DO;                           /* PREPARE FOR EXCP              */ 00268000
*       RPARM=N;                    /* SET LENGTH FOR TRANSLATE      */ 00269000
*                                                                  0357 00270000
         L     RPARM,N                                             0357 00271000
*       /*************************************************************/ 00272000
*       /*                                                           */ 00273000
*       /* TRANSLATE EBCDIC TO TP CODE                               */ 00274000
*       /*                                                           */ 00275000
*       /*************************************************************/ 00276000
*                                                                  0358 00277000
*       GEN( EX  RPARM,NPMTRETT);                                  0358 00278000
          EX  RPARM,NPMTRETT                                            00279000
*       N=N+2;                      /* UPDATE MESSAGE LENGTH         */ 00280000
*                                                                  0359 00281000
         LA    @10,2                                               0359 00282000
         AL    @10,N                                               0359 00283000
         ST    @10,N                                               0359 00284000
*       /*************************************************************/ 00285000
*       /*                                                           */ 00286000
*       /* APPEND CARRAIGE RETURN AND EOB TO MESSAGE                 */ 00287000
*       /*                                                           */ 00288000
*       /*************************************************************/ 00289000
*                                                                  0360 00290000
*       NPMWAREA(N-1:N)='5B3D'X;                                   0360 00291000
         LA    @05,NPMWAREA-2(@10)                                 0360 00292000
         MVC   0(2,@05),@CB02780                                   0360 00293000
*       NPMWTBUF='00'X;             /* CLEAR RESPONSE BUFFER         */ 00294000
         MVI   NPMWTBUF,X'00'                                      0361 00295000
*       NPMWTCWL=N;                 /* SET MSG LEN IN CCW CHAIN      */ 00296000
         STH   @10,NPMWTCWL                                        0362 00297000
*       RPARM=ADDR(NPMWTCCW);       /* SET CCW ADDR PARAMETER        */ 00298000
         LA    RPARM,NPMWTCCW                                      0363 00299000
*       CALL NPMEXCPC;              /* CALL EXCP ROUTINE             */ 00300000
*                                                                  0364 00301000
         BAL   @14,NPMEXCPC                                        0364 00302000
*       /*************************************************************/ 00303000
*       /*                                                           */ 00304000
*       /* CALL NIPTIME FOR CURRENT TIME                             */ 00305000
*       /*                                                           */ 00306000
*       /*************************************************************/ 00307000
*                                                                  0365 00308000
*       GEN(IEAPMNIP TYPE=TIME,PARAM=BIN)                          0365 00309000
*       REFS(NVTTIME);                                             0365 00310000
         IEAPMNIP TYPE=TIME,PARAM=BIN                                   00311000
*       WTOTIME=RPARM+2600;         /* SET ELAPSED TIME LIMIT        */ 00312000
         LA    @10,2600                                            0366 00313000
         ALR   @10,RPARM                                           0366 00314000
         ST    @10,WTOTIME                                         0366 00315000
*       GO TO WTOLOOP;              /* BRANCH TO TIMING LOOP         */ 00316000
         B     WTOLOOP                                             0367 00317000
*     END;                                                         0368 00318000
*                                                                  0368 00319000
*   /*****************************************************************/ 00320000
*   /*                                                               */ 00321000
*   /* CONSOLE MUST BE GRAPHICS DEVICE                               */ 00322000
*   /*                                                               */ 00323000
*   /*****************************************************************/ 00324000
*                                                                  0369 00325000
*   NPMWRTSW='1'B;                  /* INDICATE WRITE                */ 00326000
@RF00355 OI    NPMWRTSW,B'00000010'                                0369 00327000
*   UCMBASPT=CVTCUCB;               /* SET UP UCM BASE POINTER       */ 00328000
         MVC   UCMBASPT(4),CVTCUCB(CVTPTR)                         0370 00329000
*   CALL NPMUPSCR;                  /* UPDATE GRAPHICS SCREEN        */ 00330000
         BAL   @14,NPMUPSCR                                        0371 00331000
*   GO TO NPMWTORG;                 /* PREPARE TO EXIT               */ 00332000
         B     NPMWTORG                                            0372 00333000
*WTOLOOP:                           /* TP TIMING LOOP                */ 00334000
*                                                                  0373 00335000
*   /*****************************************************************/ 00336000
*   /*                                                               */ 00337000
*   /* TP TIMING LOOP - CONTINUE LOOP UNTIL RESPONSE IS RECIEVED OR A*/ 00338000
*   /* TIMEOUT OCCURS. TEST FOR CIRCLE Y.                            */ 00339000
*   /*                                                               */ 00340000
*   /*****************************************************************/ 00341000
*                                                                  0373 00342000
*   IF NPMWTBUF='F6'X               /* RESPONSE OF 'F6'X OR          */ 00343000
*       |NPMWTBUF='76'X             /* '76'X = CIRCLE Y -            */ 00344000
*     THEN                          /* SUCCESSFUL WRITE              */ 00345000
WTOLOOP  CLI   NPMWTBUF,X'F6'                                      0373 00346000
         BE    @RT00373                                            0373 00347000
         CLI   NPMWTBUF,X'76'                                      0373 00348000
         BE    @RT00373                                            0373 00349000
*     GO TO NPMWTORG;               /* BRANCH TO RESTORE REGS        */ 00350000
*                                                                  0374 00351000
*   /*****************************************************************/ 00352000
*   /*                                                               */ 00353000
*   /* NOT CIRCLE Y. TEST FOR CIRCLE N RESPONSE.                     */ 00354000
*   /*                                                               */ 00355000
*   /*****************************************************************/ 00356000
*                                                                  0375 00357000
*   IF NPMWTBUF='C0'X               /* RESPONSE OF 'C0'X OR          */ 00358000
*       |NPMWTBUF='40'X             /* '40'X = CIRCLE N -            */ 00359000
*     THEN                          /* UNSUCCESSFUL WRITE            */ 00360000
         CLI   NPMWTBUF,X'C0'                                      0375 00361000
         BE    @RT00375                                            0375 00362000
         CLI   NPMWTBUF,X'40'                                      0375 00363000
         BE    @RT00375                                            0375 00364000
*     GO TO NPMWEXIT;               /* BRANCH TO WAIT-STATE-EXIT     */ 00365000
*                                                                  0376 00366000
*   /*****************************************************************/ 00367000
*   /*                                                               */ 00368000
*   /* CALL NIPTIME ROUTINE FOR CURRENT TIME                         */ 00369000
*   /*                                                               */ 00370000
*   /*****************************************************************/ 00371000
*                                                                  0377 00372000
*   GEN(IEAPMNIP TYPE=TIME,PARAM=BIN)                              0377 00373000
*   REFS(NVTTIME);                                                 0377 00374000
*                                                                  0377 00375000
         IEAPMNIP TYPE=TIME,PARAM=BIN                                   00376000
*   /*****************************************************************/ 00377000
*   /*                                                               */ 00378000
*   /* COMPARE CURRENT TIME WITH LOOP TIME LIMIT                     */ 00379000
*   /*                                                               */ 00380000
*   /*****************************************************************/ 00381000
*                                                                  0378 00382000
*   IF RPARM<WTOTIME                /* CURRENT LESS THAN LIMIT ?     */ 00383000
*     THEN                          /* IF SO, CONTINUE LOOP -        */ 00384000
         C     RPARM,WTOTIME                                       0378 00385000
         BL    @RT00378                                            0378 00386000
*     GO TO WTOLOOP;                /* BRANCH TO CHECK RESPONSE      */ 00387000
*NPMWEXIT:                          /* ENTERED ON CIRCLE N RESPONSE     00388000
*                                      OR LOOP TIME OUT              */ 00389000
*   CALL NPMCWAIT;                  /* BRANCH FOR CONSOLE ERROR      */ 00390000
NPMWEXIT BAL   @14,NPMCWAIT                                        0380 00391000
*NPMWTORG:                          /* RESTORE REGS AND RETURN       */ 00392000
*                                                                  0381 00393000
*   /*****************************************************************/ 00394000
*   /*                                                               */ 00395000
*   /* TEST FOR LEVEL 2 SAVEAREA IN USE                              */ 00396000
*   /*                                                               */ 00397000
*   /*****************************************************************/ 00398000
*                                                                  0381 00399000
*   IF NPWTOSV2='0'B                /* SAVE LEVEL 2 NOT IN USE ?     */ 00400000
*     THEN                          /* IF NOT -                      */ 00401000
NPMWTORG TM    NPWTOSV2,B'01000000'                                0381 00402000
         BZ    @RT00381                                            0381 00403000
*     GO TO LVL1LM;                 /* RESTORE FROM LEVEL 1          */ 00404000
*   NPWTOSV2='0'B;                  /* SAVE LEVEL 2 NOT IN USE       */ 00405000
         NI    NPWTOSV2,B'10111111'                                0383 00406000
*   WRITAREA=NPMWASAV;              /* RESTORE WRITAREA              */ 00407000
         MVI   WRITAREA+132,C' '                                   0384 00408000
         MVC   WRITAREA+133(3),WRITAREA+132                        0384 00409000
         MVC   WRITAREA(132),NPMWASAV                              0384 00410000
*   GEN(LM  2,1,WTOLVL2);           /* RESTORE REGS FROM LVL 2       */ 00411000
         LM  2,1,WTOLVL2                                                00412000
*   GEN(BR   REXIT);                /* RETURN TO CALLER              */ 00413000
         BR   REXIT                                                     00414000
*LVL1LM:                            /* RESTORE FROM LEVEL 1          */ 00415000
*   NPWTOSV1='0'B;                  /* TURN OFF LEVEL 1 FLAG         */ 00416000
LVL1LM   NI    NPWTOSV1,B'01111111'                                0387 00417000
*   GEN(LM  2,1,WTOLVL1);           /* RESTORE REGS FROM LVL1        */ 00418000
         LM  2,1,WTOLVL1                                                00419000
*   GEN(BR   REXIT);                /* RETURN TO CALLING PROGRAM     */ 00420000
         BR   REXIT                                                     00421000
*   GENERATE;                                                      0390 00422000
*                                                                  0390 00423000
*                                      /* GENERATE NIPWTO SAVEAREAS  */ 00424000
WTOLVL1    DS   16F                       NIPWTO SAVEAREA1              00425000
WTOLVL2    DS   16F                       NIPWTO SAVEAREA2              00426000
*   /*****************************************************************/ 00427000
*   /*                                                               */ 00428000
*   /* RELEASE REGISTERS USED - NIPWTO ROUTINE                       */ 00429000
*   /*                                                               */ 00430000
*   /*****************************************************************/ 00431000
*                                                                  0391 00432000
*   RESPECIFY                                                      0391 00433000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 00434000
*     RNVT,                         /* NVT BASE REGISTER             */ 00435000
*     RUCB,                         /* UCB BASE REGISTER             */ 00436000
*     CVTPTR,                       /* CVT BASE REGISTER             */ 00437000
*     RBUFC,                        /* WRITEAREA POINTER             */ 00438000
*     RSCANC) UNRESTRICTED;         /* MESSAGE SCAN POINTER          */ 00439000
*   GEN(EJECT);                     /* GENERATE ASSEMBLER EJECT      */ 00440000
         EJECT                                                          00441000
*   END NIPWTO;                     /* END - NIPWTO ROUTINE        0393 00442000
*                                                                    */ 00443000
@EL00002 DS    0H                                                  0393 00444000
@EF00002 DS    0H                                                  0393 00445000
@ER00002 BR    @14                                                 0393 00446000
*NIPWTOR:                           /* WTOR SERVICE ROUTINE          */ 00447000
*                                                                  0394 00448000
*   /*****************************************************************/ 00449000
*   /*                                                               */ 00450000
*   /* THIS ROUTINE IS ENTERED TO WRITE NIP MESSAGES TO THE MASTER   */ 00451000
*   /* CONSOLE, TO INITIATE THE READ I/O FOR THE RELATED OPERATOR'S  */ 00452000
*   /* REPLY, AND, OPTIONALLY, ENTER THE NIPWTOR2 ROUTINE TO AWAIT   */ 00453000
*   /* COMPLETION OF THE OPERATOR'S REPLY. NIPWTOR REQUIRES, AS      */ 00454000
*   /* INPUT, A POINTER IN REGISTER RPARM TO THE NIPWTOR PARAMETER   */ 00455000
*   /* LIST.                                                         */ 00456000
*   /*                                                               */ 00457000
*   /*****************************************************************/ 00458000
*                                                                  0394 00459000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROCEDURE STATEMENT         */ 00460000
*                                                                  0394 00461000
NIPWTOR  DS    0H                                                  0395 00462000
*   /*****************************************************************/ 00463000
*   /*                                                               */ 00464000
*   /* RESTRICT REGISTERS USED BY NIPWTOR ROUTINE                    */ 00465000
*   /*                                                               */ 00466000
*   /*****************************************************************/ 00467000
*                                                                  0395 00468000
*   RESPECIFY                                                      0395 00469000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 00470000
*     RNVT,                         /* NVT BASE REGISTER             */ 00471000
*     RUCB,                         /* UCB BASE REGISTER             */ 00472000
*     CVTPTR) RESTRICTED;           /* CVT BASE REGISTER             */ 00473000
*   DCL                                                            0396 00474000
*     WTORLVL1 CHAR(60) GENERATED;  /* NIPWTOR SAVEAREA 1            */ 00475000
*   DCL                                                            0397 00476000
*     LVL1REG1 PTR(31) GENERATED;   /* NIPWTOR SAVE REG 1            */ 00477000
*   DCL                                                            0398 00478000
*     WTORLVL2 CHAR(60) GENERATED;  /* NIPWTOR SAVEAREA 2            */ 00479000
*   DCL                                                            0399 00480000
*     LVL2REG1 PTR(31) GENERATED;   /* NIPWTOR SAVE REG 1            */ 00481000
*   GEN(DS  0H);                    /* STATEMENT FOR LABEL           */ 00482000
         DS  0H                                                         00483000
*   GEN(NPM2ENTR WTORLVL2,WTORBASE);/* GENERATE ENTRY CODE           */ 00484000
*                                                                  0401 00485000
         NPM2ENTR WTORLVL2,WTORBASE                                     00486000
*   /*****************************************************************/ 00487000
*   /*                                                               */ 00488000
*   /* DETERMINE IF LEVEL 1 SAVEAREA IS IN USE                       */ 00489000
*   /*                                                               */ 00490000
*   /*****************************************************************/ 00491000
*                                                                  0402 00492000
*   IF NPWORSV1='0'B                /* LEVEL 1 IN USE ?              */ 00493000
*     THEN                          /* IF NOT -                      */ 00494000
         TM    NPWORSV1,B'00100000'                                0402 00495000
         BNZ   @RF00402                                            0402 00496000
*     DO;                           /* USE LEVEL 1                   */ 00497000
*       WTORLVL1=WTORLVL2;          /* MOVE REGISTERS TO LEVEL 1     */ 00498000
         MVC   WTORLVL1(60),WTORLVL2                               0404 00499000
*       LVL1REG1=LVL2REG1;          /* MOVE REG 1 TO LEVEL 1         */ 00500000
         MVC   LVL1REG1(4),LVL2REG1                                0405 00501000
*       NPWORSV1='1'B;              /* INDICATE LEVEL 1 IN USE       */ 00502000
         OI    NPWORSV1,B'00100000'                                0406 00503000
*     END;                                                         0407 00504000
*   ELSE                            /* LEVEL 1 ALREADY IN USE        */ 00505000
*     NPWORSV2='1'B;                /* INDICATE LEVEL 2 IN USE       */ 00506000
*                                                                  0408 00507000
         B     @RC00402                                            0408 00508000
@RF00402 OI    NPWORSV2,B'00010000'                                0408 00509000
*   /*****************************************************************/ 00510000
*   /*                                                               */ 00511000
*   /* CHECK EXISTENCE OF MASTER CONSOLE. IF NONE, LOAD WAIT         */ 00512000
*   /*                                                               */ 00513000
*   /*****************************************************************/ 00514000
*                                                                  0409 00515000
*   IF NVTFLAC='0'B                 /* ACTIVE MASTER CONSOLE ?       */ 00516000
*     THEN                          /* IF NO, SET WAIT PSW AND       */ 00517000
@RC00402 TM    NVTFLAC(RNVT),B'10000000'                           0409 00518000
         BNZ   @RF00409                                            0409 00519000
*     DO;                           /* CALL LOAD WAIT ROUTINE        */ 00520000
*CALLSWT:                           /* CALL NIPSWAIT ROUTINE         */ 00521000
*       NVTFLWSC=NVTFLWSE;          /* SET WAIT STATE CODE IN NVT    */ 00522000
CALLSWT  MVI   NVTFLWSC(RNVT),X'3F'                                0411 00523000
*       NVTIDPSW=NVTIDPSW&'F000'X;  /* CLEAR NVT PSW CODE            */ 00524000
*                                                                  0412 00525000
         NC    NVTIDPSW(2,RNVT),@CB02802                           0412 00526000
*       /*************************************************************/ 00527000
*       /*                                                           */ 00528000
*       /* REPLACE PSW ID CODE WITH NIP PROG ERROR CODE              */ 00529000
*       /*                                                           */ 00530000
*       /*************************************************************/ 00531000
*                                                                  0413 00532000
*       NVTIDPSW=NVTIDPSW|'0001'X;                                 0413 00533000
         OC    NVTIDPSW(2,RNVT),@CB02491                           0413 00534000
*       GEN(IEAPMNIP TYPE=SWAIT)    /* EXIT TO NIPSWAIT RTN          */ 00535000
*       REFS(NVTSWAIT);                                            0414 00536000
         IEAPMNIP TYPE=SWAIT                                            00537000
*     END;                                                         0415 00538000
*                                                                  0415 00539000
*   /*****************************************************************/ 00540000
*   /*                                                               */ 00541000
*   /* IF THERE IS CURRENTLY A READ OUTSTANDING, THIS IS ALSO A      */ 00542000
*   /* PROGRAM ERROR. BRANCH TO LOAD DISABLED WAIT STATE.            */ 00543000
*   /*                                                               */ 00544000
*   /*****************************************************************/ 00545000
*                                                                  0416 00546000
*   IF NVTFLRAC='1'B                /* READ OUTSTANDING ?            */ 00547000
*     THEN                          /* IF SO -                       */ 00548000
@RF00409 TM    NVTFLRAC(RNVT),B'00000010'                          0416 00549000
         BO    @RT00416                                            0416 00550000
*     GO TO CALLSWT;                /* BRANCH TO LOAD WAIT           */ 00551000
*   RPARM=RPARM->NWTORMSG;          /* LOAD MESSAGE ADDRESS FROM WTOR   00552000
*                                      PARAMETER LIST                */ 00553000
*                                                                  0418 00554000
         L     RPARM,NWTORMSG(,RPARM)                              0418 00555000
*   /*****************************************************************/ 00556000
*   /*                                                               */ 00557000
*   /* IF RPARM INDICATES AN ASSOCIATED MESSAGE, CALL NIPWTO ROUTINE */ 00558000
*   /* TO WRITE THE MESSAGE TO THE MASTER CONSOLE                    */ 00559000
*   /*                                                               */ 00560000
*   /*****************************************************************/ 00561000
*                                                                  0419 00562000
*   IF RPARM^=0                     /* RPARM NOT ZERO ?              */ 00563000
*     THEN                          /* IF NOT, WRITE MESSAGE         */ 00564000
         LTR   RPARM,RPARM                                         0419 00565000
         BZ    @RF00419                                            0419 00566000
*     CALL NIPWTO;                  /* CALL NIPWTO ROUTINE           */ 00567000
*                                                                  0420 00568000
         BAL   @14,NIPWTO                                          0420 00569000
*   /*****************************************************************/ 00570000
*   /*                                                               */ 00571000
*   /* FIND AND RESTORE CALLERS REG 1 (PARMLIST POINTER)             */ 00572000
*   /*                                                               */ 00573000
*   /*****************************************************************/ 00574000
*                                                                  0421 00575000
*   IF NPWORSV2='0'B                /* IF LEVEL 2 NOT IN USE         */ 00576000
*     THEN                          /* FIND REG 1 IN LEVEL 1         */ 00577000
@RF00419 TM    NPWORSV2,B'00010000'                                0421 00578000
         BNZ   @RF00421                                            0421 00579000
*     RPARM=LVL1REG1;               /* RESTORE PARMLIST ADDRESS      */ 00580000
         L     RPARM,LVL1REG1                                      0422 00581000
*   ELSE                            /* ELSE, FIND REG1 IN LEVEL2     */ 00582000
*     RPARM=LVL2REG1;               /* RESTORE PARMLIST ADDRESS      */ 00583000
         B     @RC00421                                            0423 00584000
@RF00421 L     RPARM,LVL2REG1                                      0423 00585000
*/*        INITIALIZE REPLY AREA TO BLANKS.                   YM2488 */ 00586000
*                                                                  0424 00587000
*   NPMRAREA=BLANKS;                                               0424 00588000
@RC00421 MVC   NPMRAREA(83),BLANKS                                 0424 00589000
*   RUCB=NPBIUCBA;                  /* LOAD UCB ADDR FROM DEB        */ 00590000
*                                                                  0425 00591000
         SLR   RUCB,RUCB                                           0425 00592000
         ICM   RUCB,7,NPBIUCBA                                     0425 00593000
*   /*****************************************************************/ 00594000
*   /*                                                               */ 00595000
*   /* DETERMINE DEVICE TYPE. CHECK FOR UNIT RECORD.                 */ 00596000
*   /*                                                               */ 00597000
*   /*****************************************************************/ 00598000
*                                                                  0426 00599000
*   IF UCB3UREC='1'B                /* UNIT RECORD DEVICE TYPE ?     */ 00600000
*     THEN                          /* IF SO -                       */ 00601000
         TM    UCB3UREC(UCBPTR),B'00001000'                        0426 00602000
         BNO   @RF00426                                            0426 00603000
*     DO;                           /* CHECK FOR INQUIRY TYPE        */ 00604000
*                                                                  0427 00605000
*       /*************************************************************/ 00606000
*       /*                                                           */ 00607000
*       /* TEST FOR INQUIRY TYPE DEVICE                              */ 00608000
*       /*                                                           */ 00609000
*       /*************************************************************/ 00610000
*                                                                  0428 00611000
*       IF UCBTBYT4>'1F'X           /* INPUT CONSOLE IS INQUIRY ? IF    00612000
*                                      SO -                  @YM06937*/ 00613000
*         THEN                                                     0428 00614000
         CLI   UCBTBYT4(UCBPTR),X'1F'                              0428 00615000
         BNH   @RF00428                                            0428 00616000
*         RPARM=ADDR(NPMRQCCW);     /* PICK READ-INQUIRY CCW         */ 00617000
         LA    RPARM,NPMRQCCW                                      0429 00618000
*       ELSE                        /* IF NOT INQUIRY - SELECT       */ 00619000
*         RPARM=ADDR(NPMRFCCW);     /* READ, FEED, SS CCW            */ 00620000
         B     @RC00428                                            0430 00621000
@RF00428 LA    RPARM,NPMRFCCW                                      0430 00622000
*       RNIPM=ADDR(READAREA);       /* LOAD MSG HEADER ADDRESS       */ 00623000
@RC00428 LA    RNIPM,READAREA                                      0431 00624000
*       NPMRLNG=80;                 /* SET U-R REPLY LENGTH          */ 00625000
         MVC   NPMRLNG(2,RNIPM),@CH02765                           0432 00626000
*       GO TO NPMCOMP;              /* BRANCH TO ISSUE EXCP          */ 00627000
         B     NPMCOMP                                             0433 00628000
*     END;                                                         0434 00629000
*   ELSE                                                           0435 00630000
*     ;                                                            0435 00631000
*                                                                  0435 00632000
@RF00426 DS    0H                                                  0436 00633000
*   /*****************************************************************/ 00634000
*   /*                                                               */ 00635000
*   /* IS DEVICE OF THE COMMUNICATIONS CLASS ?                       */ 00636000
*   /*                                                               */ 00637000
*   /*****************************************************************/ 00638000
*                                                                  0436 00639000
*   IF UCB3COMM='1'B                /* COMM. CLASS DEVICE ?          */ 00640000
*     THEN                          /* IF SO -                       */ 00641000
         TM    UCB3COMM(UCBPTR),B'01000000'                        0436 00642000
         BNO   @RF00436                                            0436 00643000
*     DO;                           /* SET UP COMM CLASS I/O         */ 00644000
*       RPARM=ADDR(NPMRTCCW);       /* SELECT TP READ CCW CHAIN      */ 00645000
         LA    RPARM,NPMRTCCW                                      0438 00646000
*       RNIPM=ADDR(READAREA);       /* LOAD HEADER ADDRESS           */ 00647000
         LA    RNIPM,READAREA                                      0439 00648000
*       NPMRLNG=83;                 /* PUT TP REPLY LENGTH IN HDR    */ 00649000
         MVC   NPMRLNG(2,RNIPM),@CH02685                           0440 00650000
*       GO TO NPMCOMP;              /* BRANCH TO COMPLEMENT RPARM    */ 00651000
         B     NPMCOMP                                             0441 00652000
*     END;                                                         0442 00653000
*                                                                  0442 00654000
*   /*****************************************************************/ 00655000
*   /*                                                               */ 00656000
*   /* DEVICE TYPE IS GRAPHICS BY DEFAULT                            */ 00657000
*   /*                                                               */ 00658000
*   /*****************************************************************/ 00659000
*                                                                  0443 00660000
*   UCMBASPT=CVTCUCB;               /* SET UP UCM BASE               */ 00661000
@RF00436 L     @10,CVTCUCB(,CVTPTR)                                0443 00662000
         ST    @10,UCMBASPT                                        0443 00663000
*   UCMAECB=UCMAECB&&UCMAECB;       /* ZERO UCM ECB                  */ 00664000
         L     @05,UCMAECB(,@10)                                   0444 00665000
         LR    @00,@05                                             0444 00666000
         XR    @00,@05                                             0444 00667000
         ST    @00,UCMAECB(,@10)                                   0444 00668000
*   RNIPM=ADDR(READAREA);           /* LOAD MESSAGE HEADER ADDR      */ 00669000
         LA    RNIPM,READAREA                                      0445 00670000
*   NPMRLNG=80;                     /* SET GRAPHICS REPLY LENGTH IN     00671000
*                                      REPLY AREA MSG HEADER         */ 00672000
         MVC   NPMRLNG(2,RNIPM),@CH02765                           0446 00673000
*   GO TO SETNVT;                   /* PREPARE TO EXIT               */ 00674000
         B     SETNVT                                              0447 00675000
*NPMCOMP:                           /* COMPLEMENT PARAMETER AND    0448 00676000
*                                      INITIATE I/O                  */ 00677000
*   GEN(LCR  RPARM,RPARM);          /* COMPLEMENT REG TO INDICATE I/O   00678000
*                                      READ REQUEST                  */ 00679000
NPMCOMP  LCR  RPARM,RPARM                                               00680000
*   CALL NPMEXCPC;                  /* CALL RTN TO INITIATE I/O TO 0449 00681000
*                                      READ REPLY                    */ 00682000
         BAL   @14,NPMEXCPC                                        0449 00683000
*SETNVT:                                                           0450 00684000
*   NVTFLRAC='1'B;                  /* SET WTOR-OUTSTANDING FLAG     */ 00685000
*                                                                  0450 00686000
SETNVT   OI    NVTFLRAC(RNVT),B'00000010'                          0450 00687000
*   /*****************************************************************/ 00688000
*   /*                                                               */ 00689000
*   /* DETERMINE SAVE LEVEL WITH THIS ENTRY'S REGISTERS              */ 00690000
*   /*                                                               */ 00691000
*   /*****************************************************************/ 00692000
*                                                                  0451 00693000
*   IF NPWORSV2='0'B                /* SAVE LEVEL 2 UNUSED ?         */ 00694000
*     THEN                          /* IF SO, RESTORE RPARM          */ 00695000
         TM    NPWORSV2,B'00010000'                                0451 00696000
         BNZ   @RF00451                                            0451 00697000
*     RPARM=LVL1REG1;               /* FROM SAVE LEVEL 1             */ 00698000
         L     RPARM,LVL1REG1                                      0452 00699000
*   ELSE                            /* ELSE, RESTORE RPARM           */ 00700000
*     RPARM=LVL2REG1;               /* FROM SAVE LEVEL 2             */ 00701000
*                                                                  0453 00702000
         B     @RC00451                                            0453 00703000
@RF00451 L     RPARM,LVL2REG1                                      0453 00704000
*   /*****************************************************************/ 00705000
*   /*                                                               */ 00706000
*   /* CHECK FOR ASYNCHRONOUS REQUEST                                */ 00707000
*   /*                                                               */ 00708000
*   /*****************************************************************/ 00709000
*                                                                  0454 00710000
*   IF RPARM->NWTORFLA='1'B         /* REQUEST ASYNCHRONOUS ?        */ 00711000
*     THEN                          /* IF SO -                       */ 00712000
@RC00451 TM    NWTORFLA(RPARM),B'10000000'                         0454 00713000
         BNO   @RF00454                                            0454 00714000
*     DO;                           /* PUT ECB ADDRESS IN LIST       */ 00715000
*                                                                  0455 00716000
*       /*************************************************************/ 00717000
*       /*                                                           */ 00718000
*       /* IS THIS A GRAPHICS CONSOLE                                */ 00719000
*       /*                                                           */ 00720000
*       /*************************************************************/ 00721000
*                                                                  0456 00722000
*       IF NPMGRAPH='1'B            /* GRAPHICS CONSOLE ?            */ 00723000
*         THEN                      /* YES -                         */ 00724000
         TM    NPMGRAPH,B'00000100'                                0456 00725000
         BNO   @RF00456                                            0456 00726000
*         RPARM->NWTORECB=ADDR(UCMAECB);/* PUT UCM ECB ADDR IN LIST  */ 00727000
         L     @10,UCMBASPT                                        0457 00728000
         LA    @10,UCMAECB(,@10)                                   0457 00729000
         ST    @10,NWTORECB(,RPARM)                                0457 00730000
*       ELSE                        /* NOT GRAPHICS CONSOLE -        */ 00731000
*         RPARM->NWTORECB=ADDR(NIPECBIC);/* PUT INPUT ECB ADDR IN  0458 00732000
*                                      LIST                          */ 00733000
         B     @RC00456                                            0458 00734000
@RF00456 LA    @10,NIPECBIC                                        0458 00735000
         ST    @10,NWTORECB(,RPARM)                                0458 00736000
*     END;                                                         0459 00737000
*   ELSE                            /* NOT ASYNCHRONOUS REQUEST      */ 00738000
*     CALL NIPWTOR2;                /* CALL WAIT-FOR-REPLY RTN       */ 00739000
*                                                                  0460 00740000
         B     @RC00454                                            0460 00741000
@RF00454 BAL   @14,NIPWTOR2                                        0460 00742000
*   /*****************************************************************/ 00743000
*   /*                                                               */ 00744000
*   /* DETERMINE WHICH SAVE LEVEL CONTAINS CALLER'S REGISTERS        */ 00745000
*   /*                                                               */ 00746000
*   /*****************************************************************/ 00747000
*                                                                  0461 00748000
*   IF NPWORSV2='0'B                /* LEVEL 2 NOT IN USE ?          */ 00749000
*     THEN                          /* IF NOT -                      */ 00750000
@RC00454 TM    NPWORSV2,B'00010000'                                0461 00751000
         BZ    @RT00461                                            0461 00752000
*     GO TO LVL1RSTR;               /* RESTORE FROM LEVEL 1          */ 00753000
*   NPWORSV2='0'B;                  /* TURN SAVELEVEL 2 FLAG OFF     */ 00754000
         NI    NPWORSV2,B'11101111'                                0463 00755000
*   GEN(LM  2,0,WTORLVL2);          /* RESTORE FROM LEVEL 2          */ 00756000
         LM  2,0,WTORLVL2                                               00757000
*   GEN(BR  REXIT);                 /* RETURN TO CALLER              */ 00758000
         BR  REXIT                                                      00759000
*LVL1RSTR:                          /* ONLY LEVEL 1 IS IN USE        */ 00760000
*   NPWORSV1='0'B;                  /* RESET LVL1 NOT IN USE         */ 00761000
LVL1RSTR NI    NPWORSV1,B'11011111'                                0466 00762000
*   GEN(LM  2,0,WTORLVL1);          /* RESTORE REGS FROM LEVEL 1     */ 00763000
         LM  2,0,WTORLVL1                                               00764000
*   GEN(BR REXIT);                  /* RETURN TO CALLING PROGRAM     */ 00765000
         BR REXIT                                                       00766000
*   GENERATE;                                                      0469 00767000
*                                                                  0469 00768000
*                                      /* GENERATE SAVEAREAS         */ 00769000
WTORLVL1 DS  15F                          NIPWTOR SAVEAREA              00770000
LVL1REG1 DS  1F                           REG 1 SAVEAREA                00771000
WTORLVL2 DS  15F                          NIPWTOR SAVEAREA              00772000
LVL2REG1 DS  1F                           REG 1 SAVEAREA                00773000
*   /*****************************************************************/ 00774000
*   /*                                                               */ 00775000
*   /* RELEASE REGISTERS USED BY NIPWTOR ROUTINE                     */ 00776000
*   /*                                                               */ 00777000
*   /*****************************************************************/ 00778000
*                                                                  0470 00779000
*   RESPECIFY                                                      0470 00780000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 00781000
*     RNVT,                         /* NVT BASE REGISTER             */ 00782000
*     RUCB,                         /* UCB BASE REGISTER             */ 00783000
*     CVTPTR) UNRESTRICTED;         /* CVT BASE REGISTER             */ 00784000
*   GEN(EJECT);                     /* GEN ASSEMBLER EJECT           */ 00785000
         EJECT                                                          00786000
*   END NIPWTOR;                    /* END - NIPWTOR PROCEDURE     0472 00787000
*                                                                    */ 00788000
@EL00003 DS    0H                                                  0472 00789000
@EF00003 DS    0H                                                  0472 00790000
@ER00003 BR    @14                                                 0472 00791000
*NIPWTOR2:                          /* WTOR WAIT ROUTINE             */ 00792000
*                                                                  0473 00793000
*   /*****************************************************************/ 00794000
*   /*                                                               */ 00795000
*   /* THIS ROUTINE IS ENTERED TO WAIT FOR THE COMPLETION OF AN      */ 00796000
*   /* OPERATOR'S REPLY ASSOCIATED WITH AN EARLIER NIPWTOR REQUEST OR*/ 00797000
*   /* TO FREE AN SQA BUFFER AND IS CALLED EITHER BY NIPWTOR         */ 00798000
*   /* (SYNCHRONOUS REQUEST) OF BY A NIP PROCESSOR WHICH PREVIOUSLY  */ 00799000
*   /* INVOKED NIPWTOR. THE NIPWTOR2 ROUTINE REQUIRES, AS INPUT, A   */ 00800000
*   /* POINTER IN REGISTER RPARM TO THE ASSOCIATED NIPWTOR PARAMETER */ 00801000
*   /* LIST, OR THE ADDRESS IN TWO'S COMPLEMENT FORM OF THE SQA REPLY*/ 00802000
*   /* BUFFER.                                                       */ 00803000
*   /*                                                               */ 00804000
*   /*****************************************************************/ 00805000
*                                                                  0473 00806000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROCEDURE STATEMENT         */ 00807000
*                                                                  0473 00808000
NIPWTOR2 DS    0H                                                  0474 00809000
*   /*****************************************************************/ 00810000
*   /*                                                               */ 00811000
*   /* RESTRICT REGISTERS USED - NIPWTOR2 ROUTINE                    */ 00812000
*   /*                                                               */ 00813000
*   /*****************************************************************/ 00814000
*                                                                  0474 00815000
*   RESPECIFY                                                      0474 00816000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 00817000
*     RNVT,                         /* NVT BASE REGISTER             */ 00818000
*     RIOB,                         /* IOB BASE REGISTER             */ 00819000
*     RNIPM,                        /* ROUTINE WORK REGISTER         */ 00820000
*     CVTPTR) RESTRICTED;           /* CVT BASE REGISTER             */ 00821000
*   DCL                                                            0475 00822000
*     WTR2REG1 PTR(31) GENERATED;   /* PARAM LIST ADDRESS            */ 00823000
*   GEN(DS  0H);                    /* STATEMENT FOR LABEL           */ 00824000
         DS  0H                                                         00825000
*   GEN(NPM2ENTR WTOR2SAV,WTOR2BAS);/* GENERATE ENTRY CODE           */ 00826000
*                                                                  0477 00827000
         NPM2ENTR WTOR2SAV,WTOR2BAS                                     00828000
*   /*****************************************************************/ 00829000
*   /*                                                               */ 00830000
*   /* CHECK PARAMETER REGISTER. IF LESS THAN ZERO, THIS IS A FREE   */ 00831000
*   /* SQA REPLY BUFFER REQUEST.                                     */ 00832000
*   /*                                                               */ 00833000
*   /*****************************************************************/ 00834000
*                                                                  0478 00835000
*   IF RPRM1<0                      /* PARM REG LESS THAN 0 ?        */ 00836000
*     THEN                          /* IF SO -                       */ 00837000
         LTR   RPRM1,RPRM1                                         0478 00838000
         BNM   @RF00478                                            0478 00839000
*     DO;                           /* FREE SQA BUFFER               */ 00840000
*       GEN(LCR RPARM,RPARM);       /* COMPLEMDNT TO FORM ADDR       */ 00841000
         LCR RPARM,RPARM                                                00842000
*       RPARM=RPARM-4;              /* POINT TO BUFFER HEADER        */ 00843000
*                                                                  0481 00844000
         SH    RPARM,@CH00101                                      0481 00845000
*       /*************************************************************/ 00846000
*       /*                                                           */ 00847000
*       /* CHECK AQUIRED FLAG IN REPLY BUFFER                        */ 00848000
*       /*                                                           */ 00849000
*       /*************************************************************/ 00850000
*                                                                  0482 00851000
*       IF RPARM->NPMRFLNH='FFFF'X  /* FLAG VALID ?                  */ 00852000
*         THEN                      /* IF SO -                       */ 00853000
         CLC   NPMRFLNH(2,RPARM),@CB02814                          0482 00854000
         BNE   @RF00482                                            0482 00855000
*         DO;                       /* THEN RELEASE BUFFER           */ 00856000
*           RZERO=RPARM->NPMRLNG;   /* LOAD BUFFER SIZE              */ 00857000
*                                                                  0484 00858000
         LH    RZERO,NPMRLNG(,RPARM)                               0484 00859000
*           /*********************************************************/ 00860000
*           /*                                                       */ 00861000
*           /* OR SUBPOOL NO. (255) INTO REGISTER 0                  */ 00862000
*           /*                                                       */ 00863000
*           /*********************************************************/ 00864000
*                                                                  0485 00865000
*           RZERO=RZERO|'FF000000'X;                               0485 00866000
*                                                                  0485 00867000
         O     RZERO,@CF02815                                      0485 00868000
*           /*********************************************************/ 00869000
*           /*                                                       */ 00870000
*           /* GENERATE FREEMAIN TO RELEASE REPLY BUFFER             */ 00871000
*           /*                                                       */ 00872000
*           /*********************************************************/ 00873000
*                                                                  0486 00874000
*           GEN(FREEMAIN  R,LV=(0),A=(1));                         0486 00875000
         FREEMAIN  R,LV=(0),A=(1)                                       00876000
*         END;                                                     0487 00877000
*       RPARM=WTR2REG1;             /* RESTORE CALLERS REG 1         */ 00878000
@RF00482 L     RPARM,WTR2REG1                                      0488 00879000
*       GO TO NPMTOR2R;             /* BRANCH TO RESTORE REGS        */ 00880000
         B     NPMTOR2R                                            0489 00881000
*     END;                                                         0490 00882000
*                                                                  0490 00883000
*   /*****************************************************************/ 00884000
*   /*                                                               */ 00885000
*   /* CHECK VALIDITY OF WAIT REQUEST                                */ 00886000
*   /*                                                               */ 00887000
*   /*****************************************************************/ 00888000
*                                                                  0491 00889000
*   IF NVTFLRAC='0'B                /* CONSOLE READ OUTSTANDING ?    */ 00890000
*     THEN                          /* IF NOT -                      */ 00891000
@RF00478 TM    NVTFLRAC(RNVT),B'00000010'                          0491 00892000
         BNZ   @RF00491                                            0491 00893000
*     DO;                           /* REQUEST IS INVALID            */ 00894000
*       NVTFLWSC=NVTFLWSE;          /* SET NVT WAIT STATE CODE       */ 00895000
         MVI   NVTFLWSC(RNVT),X'3F'                                0493 00896000
*       NVTIDPSW=NVTIDPSW&'F000'X;  /* CLEAR NVT ID PSW              */ 00897000
         NC    NVTIDPSW(2,RNVT),@CB02802                           0494 00898000
*       NVTIDPSW=NVTIDPSW|'0001'X;  /* SET NVT PSW ID                */ 00899000
         OC    NVTIDPSW(2,RNVT),@CB02491                           0495 00900000
*       GEN(IEAPMNIP TYPE=SWAIT)    /* LOAD DISABLED WAIT            */ 00901000
*       REFS(NVTSWAIT);                                            0496 00902000
         IEAPMNIP TYPE=SWAIT                                            00903000
*     END;                                                         0497 00904000
*NPMGRCK:                           /* IS THIS A GRAPHICS CONSOLE ?  */ 00905000
*   IF NPMGRAPH='1'B                /* GRAPHICS ?                    */ 00906000
*     THEN                          /* YES -                         */ 00907000
@RF00491 DS    0H                                                  0498 00908000
NPMGRCK  TM    NPMGRAPH,B'00000100'                                0498 00909000
         BNO   @RF00498                                            0498 00910000
*     DO;                           /* WAIT ON RELPY COMPLETION      */ 00911000
*NPMUCMWT:                          /* WAIT ON UCM ECB               */ 00912000
*       UECB=ADDR(UCMAECB);         /* GET ADDR OF UCM ECB           */ 00913000
NPMUCMWT L     UECB,UCMBASPT                                       0500 00914000
         LA    UECB,UCMAECB(,UECB)                                 0500 00915000
*       GEN(WAIT ECB=(1));          /* WAIT ON UCM ECB               */ 00916000
         WAIT ECB=(1)                                                   00917000
*       UCMAECB=UCMAECB&&UCMAECB;   /* ZERO UCM ECB                  */ 00918000
         L     @10,UCMBASPT                                        0502 00919000
         L     @15,UCMAECB(,@10)                                   0502 00920000
         LR    @00,@15                                             0502 00921000
         XR    @00,@15                                             0502 00922000
         ST    @00,UCMAECB(,@10)                                   0502 00923000
*       RIOB=ADDR(NIPIOBIC);        /* GET IOB ADDRESS               */ 00924000
         LA    RIOB,NIPIOBIC                                       0503 00925000
*       GO TO NPMIOBFG;             /* CONTINUE PROCESSING           */ 00926000
         B     NPMIOBFG                                            0504 00927000
*     END;                                                         0505 00928000
*NPMW2WAI:                          /* WAIT FOR REPLY FROM OPERATOR  */ 00929000
*   GEN(WAIT  1,ECB=NIPECBIC);      /* WAIT FOR REQUEST COMPLETION   */ 00930000
@RF00498 DS    0H                                                  0506 00931000
NPMW2WAI WAIT  1,ECB=NIPECBIC                                           00932000
*   RIOB=ADDR(NIPIOBIC);            /* GET IOB ADDRESS               */ 00933000
*                                                                  0507 00934000
         LA    RIOB,NIPIOBIC                                       0507 00935000
*   /*****************************************************************/ 00936000
*   /*                                                               */ 00937000
*   /* TEST ECB COMPLETION CODE ON RETURN FROM WAIT                  */ 00938000
*   /*                                                               */ 00939000
*   /*****************************************************************/ 00940000
*                                                                  0508 00941000
*   IF NPBICPCD^='7F'X              /* I/O NOT SUCCESSFUL ?          */ 00942000
*     THEN                          /* IF NOT -                      */ 00943000
         CLI   NPBICPCD,X'7F'                                      0508 00944000
         BE    @RF00508                                            0508 00945000
*     CALL NPMCWAIT;                /* CALL CONSOLE ERROR RTN        */ 00946000
         BAL   @14,NPMCWAIT                                        0509 00947000
*NPMIOBFG:                          /* I/O COMPLETE - CONTINUE       */ 00948000
*   IOBFLAG='00'X;                  /* FLAG IOB FREE                 */ 00949000
@RF00508 DS    0H                                                  0510 00950000
NPMIOBFG LR    @10,RIOB                                            0510 00951000
         AL    @10,@CF02854                                        0510 00952000
         MVI   IOBFLAG(@10),X'00'                                  0510 00953000
*   RUCB=NPBIUCBA;                  /* GET INPUT UCB ADDR            */ 00954000
*                                                                  0511 00955000
         SLR   RUCB,RUCB                                           0511 00956000
         ICM   RUCB,7,NPBIUCBA                                     0511 00957000
*   /*****************************************************************/ 00958000
*   /*                                                               */ 00959000
*   /* CHECK DEVICE TYPE AND EOB RESPONSE. FIRST CHECK FOR UNIT      */ 00960000
*   /* RECORD DEVICE.                                                */ 00961000
*   /*                                                               */ 00962000
*   /*****************************************************************/ 00963000
*                                                                  0512 00964000
*   IF UCB3UREC='1'B                /* UNIT RECORD DEVICE ?          */ 00965000
*     THEN                          /* IF SO - -                     */ 00966000
*                                                                  0512 00967000
         TM    UCB3UREC(UCBPTR),B'00001000'                        0512 00968000
         BNO   @RF00512                                            0512 00969000
*     /***************************************************************/ 00970000
*     /*                                                             */ 00971000
*     /* CHECK RESIDUAL COUNT. IF READ LENGTH, EOB. IF NOT, REPLY WAS*/ 00972000
*     /* NOT EOB.                                                    */ 00973000
*     /*                                                             */ 00974000
*     /***************************************************************/ 00975000
*                                                                  0513 00976000
*     IF CSWRCT^=80                 /* COUNT = READ LENGTH ?         */ 00977000
*       THEN                        /* IF NOT, NOT EOB               */ 00978000
         CLC   CSWRCT(2,IOBSTPTR),@CH02765                         0513 00979000
         BNE   @RT00513                                            0513 00980000
*       GO TO NPMW2UNE;             /* BRANCH TO CHECK REPLY         */ 00981000
*     ELSE                          /* IF SO, REPLY OF EOB           */ 00982000
*       GO TO SETEOB;               /* BRANCH TO EOB PROCESSING      */ 00983000
*                                                                  0515 00984000
         B     SETEOB                                              0515 00985000
*   /*****************************************************************/ 00986000
*   /*                                                               */ 00987000
*   /* DEVICE NOT UNIT RECORD. CHECK FOR COMMUNICATIONS CLASS        */ 00988000
*   /*                                                               */ 00989000
*   /*****************************************************************/ 00990000
*                                                                  0516 00991000
*   IF UCB3COMM='1'B                /* COMM. CLASS DEVICE ?          */ 00992000
*     THEN                          /* IF SO, CHECK FOR EOB          */ 00993000
*                                                                  0516 00994000
@RF00512 TM    UCB3COMM(UCBPTR),B'01000000'                        0516 00995000
         BNO   @RF00516                                            0516 00996000
*     /***************************************************************/ 00997000
*     /*                                                             */ 00998000
*     /* CHECK FIRST REPLY CHARACTER FOR EOB.                        */ 00999000
*     /*                                                             */ 01000000
*     /***************************************************************/ 01001000
*                                                                  0517 01002000
*     IF NPMRAREA(1)^='5B'X         /* FIRST CHARACTER EOB ?         */ 01003000
*       THEN                        /* IF NOT - -                    */ 01004000
         CLI   NPMRAREA,X'5B'                                      0517 01005000
         BNE   @RT00517                                            0517 01006000
*       GO TO NPMW2CNE;             /* BRANCH TO PROCESS REPLY       */ 01007000
*     ELSE                          /* IF SO - -                     */ 01008000
*       GO TO SETEOB;               /* PUT EOB IN REPLY AREA         */ 01009000
*                                                                  0519 01010000
         B     SETEOB                                              0519 01011000
*   /*****************************************************************/ 01012000
*   /*                                                               */ 01013000
*   /* CHECK FOR GRAPHICS DEVICE TYPE                                */ 01014000
*   /*                                                               */ 01015000
*   /*****************************************************************/ 01016000
*                                                                  0520 01017000
*   IF UCB3DISP='1'B                /* GRAPHICS DEVICE TYPE ?        */ 01018000
*     THEN                          /* IF SO -                       */ 01019000
@RF00516 TM    UCB3DISP(UCBPTR),B'00010000'                        0520 01020000
         BO    @RT00520                                            0520 01021000
*     GO TO NPMW2GPH;               /* BRANCH TO GRAPHICS ROUTINE    */ 01022000
*SETEOB:                            /* EOB REPLY - SET REPLY AREA    */ 01023000
*   NPMRAREA(1:2)=' ''';            /* PLACE EOB ID IN REPLY AREA    */ 01024000
SETEOB   MVC   NPMRAREA(2),@CC02830                                0522 01025000
*   RNIPM=ADDR(READAREA);           /* SET POINTER FOR HEADER        */ 01026000
         LA    RNIPM,READAREA                                      0523 01027000
*   NPMRLNG=2;                      /* SET REPLY LENGTH TO EOB LEN   */ 01028000
         MVC   NPMRLNG(2,RNIPM),@CH00120                           0524 01029000
*   N=1;                            /* OFFSET TO REPLY BEGINNING     */ 01030000
         MVC   N(4),@CF00109                                       0525 01031000
*   GO TO NPMW2BM;                  /* BRANCH TO BUFFER MESSAGE      */ 01032000
         B     NPMW2BM                                             0526 01033000
*NPMW2GPH:                          /* PROCESS REPLY FROM GRAPHICS 0527 01034000
*                                      DEVICE ----                   */ 01035000
*                                                                  0527 01036000
*   /*****************************************************************/ 01037000
*   /*                                                               */ 01038000
*   /* TEST FOR MASTER CONSOLE ATTENTION PENDING                     */ 01039000
*   /*                                                               */ 01040000
*   /*****************************************************************/ 01041000
*                                                                  0527 01042000
*   IF UCMAF^='1'B                  /* ATTENTION ON MASTER ?         */ 01043000
*     THEN                          /* NO -                          */ 01044000
NPMW2GPH L     @10,UCMDVEPT                                        0527 01045000
         TM    UCMAF(@10),B'10000000'                              0527 01046000
         BNO   @RT00527                                            0527 01047000
*     GO TO NPMGRCK;                /* CHECK FOR GRAPHICS CONSOLE    */ 01048000
*   UCMAF='0'B;                     /* CLEAR ATTENTION PENDING       */ 01049000
*                                                                  0529 01050000
         NI    UCMAF(@10),B'01111111'                              0529 01051000
*   /*****************************************************************/ 01052000
*   /*                                                               */ 01053000
*   /* DETERMINE CONSOLE DEVICE TYPE AND SELECT APPROPRIATE READ CCW */ 01054000
*   /* CHAIN. IS CONSOLE A 2250                                      */ 01055000
*   /*                                                               */ 01056000
*   /*****************************************************************/ 01057000
*                                                                  0530 01058000
*   IF UCBTBYT4='02'X THEN          /* YES -                         */ 01059000
         CLI   UCBTBYT4(UCBPTR),X'02'                              0530 01060000
         BNE   @RF00530                                            0530 01061000
*     DO;                           /* SELECT CHAIN AND BRANCH       */ 01062000
*       RPARM=ADDR(RCCW2250);       /* SELECT 2250 READ CCW          */ 01063000
         LA    RPARM,RCCW2250                                      0532 01064000
*       GO TO NPMREAD;              /* BRANCH FOR READ               */ 01065000
         B     NPMREAD                                             0533 01066000
*     END;                                                         0534 01067000
*                                                                  0534 01068000
*   /*****************************************************************/ 01069000
*   /*                                                               */ 01070000
*   /* IS CONSOLE A 2260                                             */ 01071000
*   /*                                                               */ 01072000
*   /*****************************************************************/ 01073000
*                                                                  0535 01074000
*   IF UCBTBYT4='03'X THEN          /* YES -                         */ 01075000
@RF00530 CLI   UCBTBYT4(UCBPTR),X'03'                              0535 01076000
         BNE   @RF00535                                            0535 01077000
*     DO;                           /* SELECT CHAIN AND BRANCH       */ 01078000
*       RPARM=ADDR(RCCW2260);       /* SELECT 2260 READ CCW          */ 01079000
         LA    RPARM,RCCW2260                                      0537 01080000
*       GO TO NPMREAD;              /* BRANCH FOR READ               */ 01081000
         B     NPMREAD                                             0538 01082000
*     END;                                                         0539 01083000
*                                                                  0539 01084000
*   /*****************************************************************/ 01085000
*   /*                                                               */ 01086000
*   /* IS CONSOLE A 3066                                             */ 01087000
*   /*                                                               */ 01088000
*   /*****************************************************************/ 01089000
*                                                                  0540 01090000
*   IF UCBTBYT4='08'X THEN          /* YES -                         */ 01091000
@RF00535 CLI   UCBTBYT4(UCBPTR),X'08'                              0540 01092000
         BNE   @RF00540                                            0540 01093000
*     DO;                           /* SELECT CHAIN AND BRANCH       */ 01094000
*       RPARM=ADDR(RCCW3066);       /* SELECT 3066 READ CCW          */ 01095000
         LA    RPARM,RCCW3066                                      0542 01096000
*       GO TO NPMREAD;              /* BRANCH FOR READ               */ 01097000
         B     NPMREAD                                             0543 01098000
*     END;                                                         0544 01099000
*                                                                  0544 01100000
*   /*****************************************************************/ 01101000
*   /*                                                               */ 01102000
*   /* MUST BE 3277 OR 3155 CONSOLE                                  */ 01103000
*   /*                                                               */ 01104000
*   /*****************************************************************/ 01105000
*                                                                  0545 01106000
*   RPARM=ADDR(RCCW3277);           /* SELECT 3277 READ CCW          */ 01107000
@RF00540 LA    RPARM,RCCW3277                                      0545 01108000
*NPMREAD:                           /* ISSUE CONSOLE READ AND WAIT   */ 01109000
*   GEN(LCR RPARM,RPARM);           /* COMPLEMENT - INDICATE READ    */ 01110000
NPMREAD  LCR RPARM,RPARM                                                01111000
*   NPMRAREA=BLANKS;                /* BLANK REPLY AREA      @YM06937*/ 01112000
         MVC   NPMRAREA(83),BLANKS                                 0547 01113000
*   CALL NPMEXCPC;                  /* READ REPLY                    */ 01114000
         BAL   @14,NPMEXCPC                                        0548 01115000
*   GEN(WAIT 1,ECB=NIPECBIC);       /* ISSUE WAIT FOR INPUT ECB      */ 01116000
         WAIT 1,ECB=NIPECBIC                                            01117000
*   RIOB=ADDR(NIPIOBIC);            /* LOAD IOB ADDRESS              */ 01118000
*                                                                  0550 01119000
         LA    RIOB,NIPIOBIC                                       0550 01120000
*   /*****************************************************************/ 01121000
*   /*                                                               */ 01122000
*   /* TEST ECB COMPLETION CODE ON RETURN FROM WAIT                  */ 01123000
*   /*                                                               */ 01124000
*   /*****************************************************************/ 01125000
*                                                                  0551 01126000
*   IF ECBCC^='7F'X                 /* SUCCESSFUL COMPLETION ?       */ 01127000
*     THEN                          /* IF NOT -                      */ 01128000
         L     @10,ECBPTR                                          0551 01129000
         CLI   ECBCC(@10),X'7F'                                    0551 01130000
         BE    @RF00551                                            0551 01131000
*     DO;                           /* CONSOLE ERROR                 */ 01132000
*       CALL NPMCWAIT;              /* CALL CONSOLE ERROR RTN        */ 01133000
         BAL   @14,NPMCWAIT                                        0553 01134000
*     END;                                                         0554 01135000
*   IOBFLAG='00'X;                  /* FLAG IOB AS FREE              */ 01136000
*                                                                  0555 01137000
@RF00551 LR    @10,RIOB                                            0555 01138000
         AL    @10,@CF02854                                        0555 01139000
         MVI   IOBFLAG(@10),X'00'                                  0555 01140000
*   /*****************************************************************/ 01141000
*   /*                                                               */ 01142000
*   /* PROCESSING FOR 2250 CONSOLE. TEST FOR 2250.                   */ 01143000
*   /*                                                               */ 01144000
*   /*****************************************************************/ 01145000
*                                                                  0556 01146000
*   IF UCBTBYT4='02'X               /* 2250 ?                        */ 01147000
*     THEN                          /* IF SO -                       */ 01148000
         CLI   UCBTBYT4(UCBPTR),X'02'                              0556 01149000
         BNE   @RF00556                                            0556 01150000
*     DO;                           /* TEST FOR 2250 ENTER           */ 01151000
*                                                                  0557 01152000
*       /*************************************************************/ 01153000
*       /*                                                           */ 01154000
*       /* 2250 ENTER?                                               */ 01155000
*       /*                                                           */ 01156000
*       /*************************************************************/ 01157000
*                                                                  0558 01158000
*       IF RMIAREA2='101'B|RMIAREA2='111'B THEN/* IF SO -            */ 01159000
         TM    RMIAREA2,B'10100000'                                0558 01160000
         BNO   @GL00004                                            0558 01161000
         TM    RMIAREA2,B'01000000'                                0558 01162000
         BZ    @RT00558                                            0558 01163000
@GL00004 TM    RMIAREA2,B'11100000'                                0558 01164000
         BO    @RT00558                                            0558 01165000
*         GO TO NPMRESET;           /* UPDATE SCREEN                 */ 01166000
*       ELSE                        /* IF NOT -                      */ 01167000
*         GO TO NPMUCMWT;           /* WAIT ON UCM ECB               */ 01168000
         B     NPMUCMWT                                            0560 01169000
*     END;                                                         0561 01170000
*                                                                  0561 01171000
*   /*****************************************************************/ 01172000
*   /*                                                               */ 01173000
*   /* IS CONSOLE A 2260                                             */ 01174000
*   /*                                                               */ 01175000
*   /*****************************************************************/ 01176000
*                                                                  0562 01177000
*   IF UCBTBYT4='03'X THEN          /* YES - ENTER ASSUMED ON ANY  0562 01178000
*                                      ATTENTION INTERRUPT           */ 01179000
@RF00556 CLI   UCBTBYT4(UCBPTR),X'03'                              0562 01180000
         BE    @RT00562                                            0562 01181000
*     GO TO NPMRESET;               /* UPDATE SCREEN                 */ 01182000
*                                                                  0563 01183000
*   /*****************************************************************/ 01184000
*   /*                                                               */ 01185000
*   /* IS CONSOLE A 3066                                             */ 01186000
*   /*                                                               */ 01187000
*   /*****************************************************************/ 01188000
*                                                                  0564 01189000
*   IF UCBTBYT4='08'X THEN          /* IF SO -                       */ 01190000
         CLI   UCBTBYT4(UCBPTR),X'08'                              0564 01191000
         BNE   @RF00564                                            0564 01192000
*     DO;                           /* TEST FOR 3066 ENTER           */ 01193000
*                                                                  0565 01194000
*       /*************************************************************/ 01195000
*       /*                                                           */ 01196000
*       /* 3066 ENTER?                                               */ 01197000
*       /*                                                           */ 01198000
*       /*************************************************************/ 01199000
*                                                                  0566 01200000
*       IF RMIAREA3='101'B|RMIAREA3='111'B THEN/* IF SO -            */ 01201000
         TM    RMIAREA3,B'10100000'                                0566 01202000
         BNO   @GL00005                                            0566 01203000
         TM    RMIAREA3,B'01000000'                                0566 01204000
         BZ    @RT00566                                            0566 01205000
@GL00005 TM    RMIAREA3,B'11100000'                                0566 01206000
         BO    @RT00566                                            0566 01207000
*         GO TO NPMRESET;           /* UPDATE SCREEN                 */ 01208000
*       ELSE                        /* IF NOT -                      */ 01209000
*         GO TO NPMUCMWT;           /* WAIT ON UCM ECB               */ 01210000
         B     NPMUCMWT                                            0568 01211000
*     END;                                                         0569 01212000
*                                                                  0569 01213000
*   /*****************************************************************/ 01214000
*   /*                                                               */ 01215000
*   /* MUST BE 3277 CONSOLE. TEST FOR 3277 ENTER.                    */ 01216000
*   /*                                                               */ 01217000
*   /*****************************************************************/ 01218000
*                                                                  0570 01219000
*   IF RMIAREA1='7D'X               /* 3277 ENTER ?                  */ 01220000
*     THEN                          /* IF SO -                       */ 01221000
@RF00564 CLI   RMIAREA1,X'7D'                                      0570 01222000
         BE    @RT00570                                            0570 01223000
*     GO TO NPMRESET;               /* UPDATE SCREEN                 */ 01224000
*   ELSE                            /* IF NOT -                      */ 01225000
*     GO TO NPMUCMWT;               /* WAIT ON UCM ECB               */ 01226000
         B     NPMUCMWT                                            0572 01227000
*NPMRESET:                                                         0573 01228000
*   NPMWRTSW='0'B;                  /* RESET WRITE SWITCH            */ 01229000
NPMRESET NI    NPMWRTSW,B'11111101'                                0573 01230000
*   CALL NPMUPSCR;                  /* UPDATE GRAPHICS SCREEN        */ 01231000
*                                                                  0574 01232000
         BAL   @14,NPMUPSCR                                        0574 01233000
*   /*****************************************************************/ 01234000
*   /*                                                               */ 01235000
*   /* DETERMINE WHETHER NPMUPSCR DETECTED EXCESSIVE LENGTH  @YM06937*/ 01236000
*   /*                                                               */ 01237000
*   /*****************************************************************/ 01238000
*                                                                  0575 01239000
*   IF NPMILEN='1'B THEN                                           0575 01240000
         TM    NPMILEN,B'00100000'                                 0575 01241000
         BO    @RT00575                                            0575 01242000
*     GOTO NPMW2IRF;                /* INVALID REPLY - RESPECIFY   0576 01243000
*                                                            @YM06937*/ 01244000
*                                                                  0576 01245000
*   /*****************************************************************/ 01246000
*   /*                                                               */ 01247000
*   /* ON RETURN TEST FOR EOB                                        */ 01248000
*   /*                                                               */ 01249000
*   /*****************************************************************/ 01250000
*                                                                  0577 01251000
*   IF NPMEOBSW='1'B                /* END OF BLOCK ?                */ 01252000
*     THEN                          /* IF SO -                       */ 01253000
         TM    NPMEOBSW,B'00000001'                                0577 01254000
         BO    @RT00577                                            0577 01255000
*     GO TO SETEOB;                 /* SET EOB ID                    */ 01256000
*   ELSE                            /* IF NOT -                      */ 01257000
*     GO TO NPMW2UNE;               /* CONTINUE REPLY PROCESSING     */ 01258000
         B     NPMW2UNE                                            0579 01259000
*   RESPECIFY                                                      0580 01260000
*     REVEN RESTRICTED;             /* RESTRICT TRANSLATE REG        */ 01261000
*NPMW2CNE:                          /* NON-EOB FOR COMM. CLASS       */ 01262000
*                                                                  0581 01263000
*   /*****************************************************************/ 01264000
*   /*                                                               */ 01265000
*   /* PROCESS REPLY FROM COMMUNICATIONS DEVICE - TRANSLATE TP CODE  */ 01266000
*   /* TO EBCDIC                                                     */ 01267000
*   /*                                                               */ 01268000
*   /*****************************************************************/ 01269000
*                                                                  0581 01270000
*   RNIPM=ADDR(READAREA);           /* SET POINTER FOR HEADER        */ 01271000
NPMW2CNE LA    RNIPM,READAREA                                      0581 01272000
*   REVEN=NPMRLNG;                  /* LOAD REPLY LENGTH             */ 01273000
         LH    REVEN,NPMRLNG(,RNIPM)                               0582 01274000
*   GEN(EX  REVEN,NPMTRTTE);        /* TRANSLATE TP CODE OF MESSAGE     01275000
*                                      TO EBCDIC                     */ 01276000
         EX  REVEN,NPMTRTTE                                             01277000
*   RESPECIFY                                                      0584 01278000
*     REVEN UNRESTRICTED;           /* RELEASE TRANSLATE REG         */ 01279000
*NPMW2UNE:                          /* DEVICE INDEPENDENT REPLY    0585 01280000
*                                      PROCESSING                    */ 01281000
*                                                                  0585 01282000
*   /*****************************************************************/ 01283000
*   /*                                                               */ 01284000
*   /* PROCESS BACKSPACE CHARACTERS                                  */ 01285000
*   /*                                                               */ 01286000
*   /*****************************************************************/ 01287000
*                                                                  0585 01288000
*   RNIPM=ADDR(READAREA);           /* SET POINTER FOR HEADER        */ 01289000
NPMW2UNE LA    RNIPM,READAREA                                      0585 01290000
*   N=NPMRLNG;                      /* SET REPLY LENGTH VARIABLE     */ 01291000
*                                                                  0586 01292000
         LH    @10,NPMRLNG(,RNIPM)                                 0586 01293000
         ST    @10,N                                               0586 01294000
*   /*****************************************************************/ 01295000
*   /*                                                               */ 01296000
*   /* CHECK EACH CHARACTER FOR BACK-SPACE CORRECTIONS               */ 01297000
*   /*                                                               */ 01298000
*   /*****************************************************************/ 01299000
*                                                                  0587 01300000
*   DO I=1 TO N;                                                   0587 01301000
*                                                                  0587 01302000
         LA    @10,1                                               0587 01303000
         B     @DE00587                                            0587 01304000
@DL00587 DS    0H                                                  0588 01305000
*     /***************************************************************/ 01306000
*     /*                                                             */ 01307000
*     /* IS THIS REPLY CHARACTER A BACK-SPACE                        */ 01308000
*     /*                                                             */ 01309000
*     /***************************************************************/ 01310000
*                                                                  0588 01311000
*     IF NPMRAREA(I)='16'X          /* BACK-SPACE CHARACTER ?        */ 01312000
*       THEN                        /* YES -                         */ 01313000
         LA    @15,NPMRAREA-1(@10)                                 0588 01314000
         CLI   0(@15),X'16'                                        0588 01315000
         BNE   @RF00588                                            0588 01316000
*       DO;                         /* PROCESS BACKSPACE             */ 01317000
*         J=I-1;                    /* POINT TO PREVIOUS CHARACTER   */ 01318000
*                                                                  0590 01319000
         LR    @00,@10                                             0590 01320000
         BCTR  @00,0                                               0590 01321000
         ST    @00,J                                               0590 01322000
*         /***********************************************************/ 01323000
*         /*                                                         */ 01324000
*         /* IF THIS BACKSPACES PTR PAST REPLY BEGINNING, BRANCH TO  */ 01325000
*         /* INVALID REPLY FORMAT ROUTINE.                           */ 01326000
*         /*                                                         */ 01327000
*         /***********************************************************/ 01328000
*                                                                  0591 01329000
*         IF J^>0                   /* POINTS PAST BEGINNING ?       */ 01330000
*           THEN                    /* IF SO -                       */ 01331000
         LTR   @00,@00                                             0591 01332000
         BNP   @RT00591                                            0591 01333000
*           GO TO NPMW2IRF;         /* GO TO 'INVALID' ROUTINE       */ 01334000
*                                                                  0592 01335000
*         /***********************************************************/ 01336000
*         /*                                                         */ 01337000
*         /* SHIFT REST OF REPLY BACK 2 SPACES TO OVERLAY CORRECTION */ 01338000
*         /*                                                         */ 01339000
*         /***********************************************************/ 01340000
*                                                                  0593 01341000
*         NPMRAREA(J:N-2)=NPMRAREA(I+1:N);                         0593 01342000
         LR    @15,@00                                             0593 01343000
         LA    @14,NPMRAREA-1(@15)                                 0593 01344000
         LA    @15,2                                               0593 01345000
         L     @09,N                                               0593 01346000
         LCR   @00,@00                                             0593 01347000
         ALR   @00,@09                                             0593 01348000
         SLR   @00,@15                                             0593 01349000
         LA    @08,NPMRAREA(@10)                                   0593 01350000
         MVC   @TS00001(83),0(@08)                                 0593 01351000
         LR    @08,@00                                             0593 01352000
         EX    @08,@SM02980                                        0593 01353000
*         I=I-2;                    /* DECREMENT COUNT               */ 01354000
         SLR   @10,@15                                             0594 01355000
         ST    @10,I                                               0594 01356000
*         N=N-2;                    /* DECREMENT REPLY LENGTH        */ 01357000
         SLR   @09,@15                                             0595 01358000
         ST    @09,N                                               0595 01359000
*         NPMRLNG=NPMRLNG-2;        /* REDUCE HEADER LENGTH          */ 01360000
         LCR   @15,@15                                             0596 01361000
         AH    @15,NPMRLNG(,RNIPM)                                 0596 01362000
         STH   @15,NPMRLNG(,RNIPM)                                 0596 01363000
*       END;                                                       0597 01364000
*   END;                            /* END OF DO LOOP                */ 01365000
@RF00588 LA    @10,1                                               0598 01366000
         AL    @10,I                                               0598 01367000
@DE00587 ST    @10,I                                               0598 01368000
         C     @10,N                                               0598 01369000
         BNH   @DL00587                                            0598 01370000
*   RNIPM=ADDR(READAREA);           /* SET POINTER FOR HEADER        */ 01371000
         LA    RNIPM,READAREA                                      0599 01372000
*   NPMRLNG=NPMRLNG-CSWRCT;         /* SUBTRACT CSW RESIDUAL COUNT 0600 01373000
*                                      FROM HEADER LENGTH            */ 01374000
*                                                                  0600 01375000
         LH    @10,NPMRLNG(,RNIPM)                                 0600 01376000
         SH    @10,CSWRCT(,IOBSTPTR)                               0600 01377000
         STH   @10,NPMRLNG(,RNIPM)                                 0600 01378000
*   /*****************************************************************/ 01379000
*   /*                                                               */ 01380000
*   /* FOLD REPLY CHARACTERS TO UPPER CASE                           */ 01381000
*   /*                                                               */ 01382000
*   /*****************************************************************/ 01383000
*                                                                  0601 01384000
*   DO I=1 TO NPMRLNG;              /* FOLD THE REPLY                */ 01385000
         LA    @10,1                                               0601 01386000
         B     @DE00601                                            0601 01387000
@DL00601 DS    0H                                                  0602 01388000
*     NPMRAREA(I)=NPMRAREA(I)|'40'X;/* FOLD A BYTE                   */ 01389000
         LA    @15,NPMRAREA-1(@10)                                 0602 01390000
         OI    0(@15),X'40'                                        0602 01391000
*   END;                            /* END OF FOLDING LOOP           */ 01392000
*                                                                  0603 01393000
         AH    @10,@CH00109                                        0603 01394000
@DE00601 ST    @10,I                                               0603 01395000
         CH    @10,NPMRLNG(,RNIPM)                                 0603 01396000
         BNH   @DL00601                                            0603 01397000
*   /*****************************************************************/ 01398000
*   /*                                                               */ 01399000
*   /* CHECK OPERATOR'S REPLY PREFIX. FIRST CHECK FOR THE CHARACTERS */ 01400000
*   /* 'REPLY 0'.                                                    */ 01401000
*   /*                                                               */ 01402000
*   /*****************************************************************/ 01403000
*                                                                  0604 01404000
*CHKRPLY:                                                          0604 01405000
*   IF NPMRAREA(1:7)='REPLY 0'      /* PREFIX OF 'REPLY 0' ?         */ 01406000
*     THEN                          /* IF SO, VALID SO FAR -         */ 01407000
CHKRPLY  CLC   NPMRAREA(7),@CC02847                                0604 01408000
         BNE   @RF00604                                            0604 01409000
*     N=8;                          /* SET N TO NEXT CHARACTER       */ 01410000
         MVC   N(4),@CF00107                                       0605 01411000
*   ELSE                            /* NOT 'REPLY 0' -               */ 01412000
*                                                                  0606 01413000
*     /***************************************************************/ 01414000
*     /*                                                             */ 01415000
*     /* CHECK PREFIX FOR CHARACTERS 'R 0'                           */ 01416000
*     /*                                                             */ 01417000
*     /***************************************************************/ 01418000
*                                                                  0606 01419000
*     IF NPMRAREA(1:3)='R 0'        /* PREFIX OF 'R 0' ?             */ 01420000
*       THEN                        /* IF SO, VALID SO FAR -         */ 01421000
         B     @RC00604                                            0606 01422000
@RF00604 CLC   NPMRAREA(3),@CC02849                                0606 01423000
         BNE   @RF00606                                            0606 01424000
*       N=4;                        /* SET N TO NEXT CHARACTER       */ 01425000
         MVC   N(4),@CF00101                                       0607 01426000
*     ELSE                          /* NOT R 0', PREFIX INVALID -    */ 01427000
*       GO TO NPMW2IRF;             /* GO TO INVALID REPLY FORMAT    */ 01428000
*                                                                  0608 01429000
*   /*****************************************************************/ 01430000
*   /*                                                               */ 01431000
*   /* CHECK FOR SECOND ZERO IN REPLY PREFIX. IF THERE, SET POINTER  */ 01432000
*   /* TO NEXT CHARACTER.                                            */ 01433000
*   /*                                                               */ 01434000
*   /*****************************************************************/ 01435000
*                                                                  0609 01436000
*   IF NPMRAREA(N)='0'              /* NEXT CHARACTER A ZERO ?       */ 01437000
*     THEN                          /* IF SO, STILL VALID PREFIX-    */ 01438000
@RC00604 L     @10,N                                               0609 01439000
         LA    @15,NPMRAREA-1(@10)                                 0609 01440000
         CLI   0(@15),C'0'                                         0609 01441000
         BNE   @RF00609                                            0609 01442000
*     N=N+1;                        /* POINT TO NEXT CHARACTER       */ 01443000
*                                                                  0610 01444000
         AH    @10,@CH00109                                        0610 01445000
         ST    @10,N                                               0610 01446000
*   /*****************************************************************/ 01447000
*   /*                                                               */ 01448000
*   /* IF NEXT CHARACTER PAST LAST '0' IS A BLANK, TREAT AS END OF   */ 01449000
*   /* BLOCK.                                                        */ 01450000
*   /*                                                               */ 01451000
*   /*****************************************************************/ 01452000
*                                                                  0611 01453000
*   IF NPMRAREA(N)=' '              /* NEXT CHARACTER A BLANK ?      */ 01454000
*     THEN                          /* IF SO -                       */ 01455000
@RF00609 L     @10,N                                               0611 01456000
         LA    @15,NPMRAREA-1(@10)                                 0611 01457000
         CLI   0(@15),C' '                                         0611 01458000
         BE    @RT00611                                            0611 01459000
*     GO TO SETEOB;                 /* SET EOB IN REPLY AREA         */ 01460000
*                                                                  0612 01461000
*   /*****************************************************************/ 01462000
*   /*                                                               */ 01463000
*   /* CHECK FOR NEXT CHARACTERS OF ','''. IF THERE, REPLY IS        */ 01464000
*   /* ENCLOSED IN QUOTES. SCAN TO END.                              */ 01465000
*   /*                                                               */ 01466000
*   /*****************************************************************/ 01467000
*                                                                  0613 01468000
*   IF NPMRAREA(N:N+1)=','''        /* COMMA-QUOTE FOUND ?           */ 01469000
*     THEN                                                         0613 01470000
         LA    @15,NPMRAREA-1(@10)                                 0613 01471000
         CLC   0(2,@15),@CC02851                                   0613 01472000
         BNE   @RF00613                                            0613 01473000
*     DO;                                                          0614 01474000
*       N=N+2;                      /* POINT PAST COMMA-QUOTE        */ 01475000
*                                                                  0615 01476000
         AH    @10,@CH00120                                        0615 01477000
         ST    @10,N                                               0615 01478000
*       /*************************************************************/ 01479000
*       /*                                                           */ 01480000
*       /* SCAN REMAINDER OF REPLY FOR TRAILING QUOTE                */ 01481000
*       /*                                                           */ 01482000
*       /*************************************************************/ 01483000
*                                                                  0616 01484000
*       DO I=N TO NPMRLNG;          /* SCAN REMAINDER                */ 01485000
*                                                                  0616 01486000
         B     @DE00616                                            0616 01487000
@DL00616 DS    0H                                                  0617 01488000
*         /***********************************************************/ 01489000
*         /*                                                         */ 01490000
*         /* CHECK EACH CHARACTER FOR BEING TRAILING QUOTE           */ 01491000
*         /*                                                         */ 01492000
*         /***********************************************************/ 01493000
*                                                                  0617 01494000
*         IF NPMRAREA(I)=''''       /* CHARACTER A QUOTE ?           */ 01495000
*           THEN                    /* IF SO, VALID REPLY -          */ 01496000
         LA    @15,NPMRAREA-1(@10)                                 0617 01497000
         CLI   0(@15),C''''                                        0617 01498000
         BE    @RT00617                                            0617 01499000
*           GO TO NPMW2BM;          /* GO TO PLACE MSG IN BUFFER     */ 01500000
*       END;                        /* END OF QUOTE SCAN DO LOOP     */ 01501000
         AH    @10,@CH00109                                        0619 01502000
@DE00616 ST    @10,I                                               0619 01503000
         CH    @10,NPMRLNG(,RNIPM)                                 0619 01504000
         BNH   @DL00616                                            0619 01505000
*       GO TO NPMW2IRF;             /* NO QUOTE FOUND - INVALID      */ 01506000
         B     NPMW2IRF                                            0620 01507000
*     END;                                                         0621 01508000
*                                                                  0621 01509000
*   /*****************************************************************/ 01510000
*   /*                                                               */ 01511000
*   /* NEXT CHARACTER MUST BE COMMA FOR VALID REPLY. IF SO, SCAN FROM*/ 01512000
*   /* END OF REPLY TO LAST NONBLANK CHARACTER AND ADD A QUOTE TO    */ 01513000
*   /* DELIMIT THE REPLY.                                            */ 01514000
*   /*                                                               */ 01515000
*   /*****************************************************************/ 01516000
*                                                                  0622 01517000
*   IF NPMRAREA(N)=','              /* NEXT REPLY CHAR = COMMA ?     */ 01518000
*     THEN                          /* IF SO -                       */ 01519000
*                                                                  0622 01520000
@RF00613 L     @10,N                                               0622 01521000
         LA    @15,NPMRAREA-1(@10)                                 0622 01522000
         CLI   0(@15),C','                                         0622 01523000
         BNE   @RF00622                                            0622 01524000
*     /***************************************************************/ 01525000
*     /*                                                             */ 01526000
*     /* SCAN BACK FROM MESSAGE END FOR FIRST NONBLANK CHARACTER     */ 01527000
*     /* (REPLY TEXT END).                                           */ 01528000
*     /*                                                             */ 01529000
*     /***************************************************************/ 01530000
*                                                                  0623 01531000
*     DO I=NPMRLNG BY-1;                                           0623 01532000
*                                                                  0623 01533000
         LH    @10,NPMRLNG(,RNIPM)                                 0623 01534000
         ST    @10,I                                               0623 01535000
@DL00623 DS    0H                                                  0624 01536000
*       /*************************************************************/ 01537000
*       /*                                                           */ 01538000
*       /* CHECK EACH CHARACTER FOR NONBLANK (END OF TRAILING        */ 01539000
*       /* BLANKS).                                                  */ 01540000
*       /*                                                           */ 01541000
*       /*************************************************************/ 01542000
*                                                                  0624 01543000
*       IF NPMRAREA(I)^=' '         /* CHARACTER NONBLANK ?          */ 01544000
*         THEN                      /* IF SO, AT REPLY END           */ 01545000
         LA    @15,NPMRAREA-1(@10)                                 0624 01546000
         CLI   0(@15),C' '                                         0624 01547000
         BE    @RF00624                                            0624 01548000
*         DO;                       /* DELIMIT REPLY AND PROCEED     */ 01549000
*           NPMRAREA(I+1)='''';     /* PLACE QUOTE AT END            */ 01550000
         LA    @15,NPMRAREA(@10)                                   0626 01551000
         MVI   0(@15),C''''                                        0626 01552000
*           NPMRLNG=I+1;            /* SET REPLY LENGTH              */ 01553000
         LA    @15,1                                               0627 01554000
         ALR   @10,@15                                             0627 01555000
         STH   @10,NPMRLNG(,RNIPM)                                 0627 01556000
*           N=N+1;                  /* SET OFFSET TO REPLY BEGIN     */ 01557000
         AL    @15,N                                               0628 01558000
         ST    @15,N                                               0628 01559000
*           GO TO NPMW2BM;          /* PLACE MESSAGE IN BUFFER       */ 01560000
         B     NPMW2BM                                             0629 01561000
*         END;                                                     0630 01562000
*     END;                          /* END-TRAILING BLANK DO LOOP    */ 01563000
@RF00624 SLR   @10,@10                                             0631 01564000
         BCTR  @10,0                                               0631 01565000
         AL    @10,I                                               0631 01566000
         ST    @10,I                                               0631 01567000
         B     @DL00623                                            0631 01568000
*NPMW2IRF:                          /* ISSUE INVALID FORMAT MESSAGE     01569000
*                                      TO OPERATOR                   */ 01570000
*   NVTFLRAC='0'B;                  /* RESET READ-OUTSTANDING FLAG   */ 01571000
@RF00622 DS    0H                                                  0632 01572000
NPMW2IRF NI    NVTFLRAC(RNVT),B'11111101'                          0632 01573000
*   RPARM=ADDR(IEA305A);            /* GET ADDR OF MSG FLAG BYTE     */ 01574000
         LA    RPARM,IEA305A                                       0633 01575000
*   RPARM->NWTOFLNH='1'B;           /* INDICATE NO HARDCOPY          */ 01576000
         OI    NWTOFLNH(RPARM),B'10000000'                         0634 01577000
*   RPARM=ADDR(PLSTXX7I);           /* GET PARM LIST ADDRESS         */ 01578000
         LA    RPARM,PLSTXX7I                                      0635 01579000
*   CALL NIPWTOR;                   /* GO TO WTOR ROUTINE            */ 01580000
         BAL   @14,NIPWTOR                                         0636 01581000
*   GEN(L  RPARM,WTR2REG1);         /* RESTORE PARM LIST ADDRESS     */ 01582000
         L  RPARM,WTR2REG1                                              01583000
*   GO TO NPMW2WAI;                 /* BRANCH TO WAIT-FOR-REPLY      */ 01584000
         B     NPMW2WAI                                            0638 01585000
*NPMW2BM:                           /* PLACE MESSAGE IN BUFFER       */ 01586000
*   NPMW2OPR=N-1;                   /* SET REPLY PREFIX LENGTH       */ 01587000
NPMW2BM  L     @10,N                                               0639 01588000
         BCTR  @10,0                                               0639 01589000
         STH   @10,NPMW2OPR                                        0639 01590000
*   RPARM=ADDR(READAREA);           /* SET PTR TO REPLY HEADER       */ 01591000
         LA    RPARM,READAREA                                      0640 01592000
*   NPMRLNG=NPMRLNG+4;              /* ADD HDR LENGTH FOR HDCPY      */ 01593000
*                                                                  0641 01594000
         LA    @10,4                                               0641 01595000
         AH    @10,NPMRLNG(,RNIPM)                                 0641 01596000
         STH   @10,NPMRLNG(,RNIPM)                                 0641 01597000
*   /*****************************************************************/ 01598000
*   /*                                                               */ 01599000
*   /* CHECK WHETHER CALLER REQUESTS WTOR2 PROVIDE BUFFER            */ 01600000
*   /*                                                               */ 01601000
*   /*****************************************************************/ 01602000
*                                                                  0642 01603000
*   IF WTR2REG1->NWTORFLB='0'B      /* IF PROVIDE-SQA-BUFFER FLAG    */ 01604000
*     THEN                          /* IS NOT ON IN PARAMETER LIST   */ 01605000
         L     @10,WTR2REG1                                        0642 01606000
         TM    NWTORFLB(@10),B'00001000'                           0642 01607000
         BNZ   @RF00642                                            0642 01608000
*     DO;                           /* BUFFER IN CALLER'S AREA       */ 01609000
*                                                                  0643 01610000
*       /*************************************************************/ 01611000
*       /*                                                           */ 01612000
*       /* CALL HARDCOPY ROUTINE TO ENTER MSG IN NIP BUFFER          */ 01613000
*       /*                                                           */ 01614000
*       /*************************************************************/ 01615000
*                                                                  0644 01616000
*       CALL NPMHDCPY;                                             0644 01617000
         BAL   @14,NPMHDCPY                                        0644 01618000
*       RPARM=WTR2REG1->NWTORRPA;   /* OBTAIN CALLER'S BUFFER ADDRESS   01619000
*                                      FROM PARMLIST                 */ 01620000
         L     @10,WTR2REG1                                        0645 01621000
         L     RPARM,NWTORRPA(,@10)                                0645 01622000
*       N=NPMRLNG-NPMW2OPR-4;       /* SUBTRACT PREFIX LENGTH AND  0646 01623000
*                                      HEADER LENGTH FROM MESSAGE  0646 01624000
*                                      LENGTH                        */ 01625000
*                                                                  0646 01626000
         LH    @10,NPMW2OPR                                        0646 01627000
         LH    @00,NPMRLNG(,RNIPM)                                 0646 01628000
         SLR   @00,@10                                             0646 01629000
         SH    @00,@CH00101                                        0646 01630000
         ST    @00,N                                               0646 01631000
*       /*************************************************************/ 01632000
*       /*                                                           */ 01633000
*       /* MOVE REPLY TO CALLER'S REPLY BUFFER                       */ 01634000
*       /*                                                           */ 01635000
*       /*************************************************************/ 01636000
*                                                                  0647 01637000
*       REPLYBUF(1:N)=NPMRAREA(NPMW2OPR+1:NPMW2OPR+N);             0647 01638000
         BCTR  @00,0                                               0647 01639000
         LA    @15,NPMRAREA(@10)                                   0647 01640000
         LR    @10,@00                                             0647 01641000
         EX    @10,@SM02982                                        0647 01642000
*       GO TO NPMW2PR;              /* GO TO PREPARE-TO-RETURN       */ 01643000
         B     NPMW2PR                                             0648 01644000
*     END;                                                         0649 01645000
*   GEN(LCR  RPARM,RPARM);          /* COMPLEMENT REG TO ADDR OF   0650 01646000
*                                      HARDCOPY BUFFER BE RETURNED   */ 01647000
*                                                                  0650 01648000
@RF00642 DS    0H                                                  0650 01649000
         LCR  RPARM,RPARM                                               01650000
*   /*****************************************************************/ 01651000
*   /*                                                               */ 01652000
*   /* CALL HARDCOPY ROUTINE TO ENTER MSG IN NIP BUFFER              */ 01653000
*   /*                                                               */ 01654000
*   /*****************************************************************/ 01655000
*                                                                  0651 01656000
*   CALL NPMHDCPY;                                                 0651 01657000
*                                                                  0651 01658000
         BAL   @14,NPMHDCPY                                        0651 01659000
*   /*****************************************************************/ 01660000
*   /*                                                               */ 01661000
*   /* CHECK FOR MESSAGE SUCCESSFULLY BUFFERED BY HARDCOPY           */ 01662000
*   /*                                                               */ 01663000
*   /*****************************************************************/ 01664000
*                                                                  0652 01665000
*   IF RPARM>0                      /* PARM REG POSITIVE ?           */ 01666000
*     THEN                          /* IF SO -                       */ 01667000
         LTR   RPARM,RPARM                                         0652 01668000
         BNP   @RF00652                                            0652 01669000
*     DO;                           /* HARDCOPY SUCCESSFUL           */ 01670000
*       RPARM=RPARM+NPMW2OPR;       /* SET PARAMETER PTR TO MESSAGE     01671000
*                                      (PAST PREFIX)                 */ 01672000
         AH    RPARM,NPMW2OPR                                      0654 01673000
*       GO TO NPMW2PR;              /* GO TO PREPARE-T0-RETURN RTN   */ 01674000
         B     NPMW2PR                                             0655 01675000
*     END;                                                         0656 01676000
*                                                                  0656 01677000
*   /*****************************************************************/ 01678000
*   /*                                                               */ 01679000
*   /* MESSAGE NOT BUFFERED - ACQUIRE ADDITIONAL SQA BUFFER          */ 01680000
*   /*                                                               */ 01681000
*   /*****************************************************************/ 01682000
*                                                                  0657 01683000
*   RZERO=NPMRLNG-NPMW2OPR;         /* SUBTRACT PREFIX LENGTH FROM 0657 01684000
*                                      MESSAGE LENGTH                */ 01685000
@RF00652 LH    RZERO,NPMRLNG(,RNIPM)                               0657 01686000
         SH    RZERO,NPMW2OPR                                      0657 01687000
*   N=RZERO;                        /* STORE MESSAGE LENGTH          */ 01688000
         ST    RZERO,N                                             0658 01689000
*   RZERO=RZERO|'FF000000'X;        /* 'OR' SUBPOOL NUMBER (255) INTO   01690000
*                                      HIGH-ORDER BYTE               */ 01691000
         O     RZERO,@CF02815                                      0659 01692000
*   GEN(GETMAIN  R,LV=(0));         /* ACQUIRE BUFFER FROM SP 255    */ 01693000
         GETMAIN  R,LV=(0)                                              01694000
*   RPARM->NPMRLNG=N;               /* SET MSG LENGTH IN HEADER      */ 01695000
         L     @10,N                                               0661 01696000
         STH   @10,NPMRLNG(,RPARM)                                 0661 01697000
*   RPARM->NPMRFLNH='FFFF'X;        /* SET ACQUIRED-BUFFER FLAG      */ 01698000
         MVC   NPMRFLNH(2,RPARM),@CB02814                          0662 01699000
*   RPARM=RPARM+4;                  /* SET BUFFER PTR TO MSG START   */ 01700000
*                                                                  0663 01701000
         AH    RPARM,@CH00101                                      0663 01702000
*   /*****************************************************************/ 01703000
*   /*                                                               */ 01704000
*   /* MOVE REPLY WITHOUT PREFIX TO BUFFER                           */ 01705000
*   /*                                                               */ 01706000
*   /*****************************************************************/ 01707000
*                                                                  0664 01708000
*   REPLYBUF(1:N-4)=NPMRAREA(NPMW2OPR+1:NPMW2OPR+N-4);             0664 01709000
         SH    @10,@CH01182                                        0664 01710000
         LH    @15,NPMW2OPR                                        0664 01711000
         LA    @14,NPMRAREA(@15)                                   0664 01712000
         EX    @10,@SM02984                                        0664 01713000
*NPMW2PR:                           /* PREPARE TO RETURN TO CALLER   */ 01714000
*   NVTFLRAC='0'B;                  /* RESET READ-OUTSTANDING FLAG   */ 01715000
NPMW2PR  NI    NVTFLRAC(RNVT),B'11111101'                          0665 01716000
*NPMTOR2R:                          /* RESTORE CALLER'S REGISTERS  0666 01717000
*                                      LEAVING BUFFER ADDR IN REG1   */ 01718000
*   GEN(LM  2,0,WTOR2SAV);          /* RESTORE CALLER'S REGISTERS    */ 01719000
NPMTOR2R LM  2,0,WTOR2SAV                                               01720000
*   GEN(BR 14);                     /* RETURN TO CALLER              */ 01721000
         BR 14                                                          01722000
*   GENERATE;                                                      0668 01723000
*                                                                  0668 01724000
*                                      /* GEN ROUTINE SAVEAREAS      */ 01725000
WTOR2SAV DS   15F                         NIPWTOR2 SAVEAREA             01726000
WTR2REG1 DS   1F                          REG 1 SAVEAREA                01727000
*   /*****************************************************************/ 01728000
*   /*                                                               */ 01729000
*   /* RELEASE REGISTERS USED - NIPWTOR2 ROUTINE                     */ 01730000
*   /*                                                               */ 01731000
*   /*****************************************************************/ 01732000
*                                                                  0669 01733000
*   RESPECIFY                                                      0669 01734000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 01735000
*     RNVT,                         /* NVT BASE REGISTER             */ 01736000
*     RIOB,                         /* IOB BASE REGISTER             */ 01737000
*     RNIPM,                        /* ROUTINE WORK REGISTER         */ 01738000
*     CVTPTR) UNRESTRICTED;         /* CVT BASE REGISTER             */ 01739000
*   GEN(EJECT);                     /* GEN ASSEMBLER EJECT           */ 01740000
         EJECT                                                          01741000
*   END NIPWTOR2;                   /* END OF WTOR2 ROUTINE        0671 01742000
*                                                                    */ 01743000
@EL00004 DS    0H                                                  0671 01744000
@EF00004 DS    0H                                                  0671 01745000
@ER00004 BR    @14                                                 0671 01746000
*NPMHDCPY:                          /* NIP HARDCOPY ROUTINE          */ 01747000
*                                                                  0672 01748000
*   /*****************************************************************/ 01749000
*   /*                                                               */ 01750000
*   /* THE NPMHDCPY ROUTINE IS ENTERED FROM OTHER IEAVNIPM ROUTINES  */ 01751000
*   /* TO ENTER NIP MESSAGES AND ANY ASSOCIATED REPLIES IN THE NIP   */ 01752000
*   /* MESSAGE HARDCOPY BUFFER IN SQA. NPMHDCPY IS USED BY THE NIPWTO*/ 01753000
*   /* AND WTOR ROUTINES IN IEAVNIPM. THE NPMHDCPY ROUTINE REQUIRES, */ 01754000
*   /* AS INPUT, A POINTER TO THE MESSAGE HEADER IN REGISTER RPARM.  */ 01755000
*   /*                                                               */ 01756000
*   /*****************************************************************/ 01757000
*                                                                  0672 01758000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROC STATEMENT              */ 01759000
*                                                                  0672 01760000
NPMHDCPY DS    0H                                                  0673 01761000
*   /*****************************************************************/ 01762000
*   /*                                                               */ 01763000
*   /* RESTRICT REGISTERS FOR NPMHDCPY ROUTINE                       */ 01764000
*   /*                                                               */ 01765000
*   /*****************************************************************/ 01766000
*                                                                  0673 01767000
*   RESPECIFY                                                      0673 01768000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 01769000
*     RNVT,                         /* NVT BASE REGISTER             */ 01770000
*     CVTPTR) RESTRICTED;           /* CVT BASE REGISTER             */ 01771000
*   DCL                                                            0674 01772000
*     HDCPREG1 PTR(31) GENERATED;   /* PARAMETER REGISTER            */ 01773000
*   GENERATE;                                                      0675 01774000
*                                                                  0675 01775000
*                                      /* GEN ENTRY TEST                01776000
         LTR    RPARM,RPARM               IS BUFFER REQUESTED ?         01777000
         BM     HDCPY                     IF YES HDCPY IS REQUIRED      01778000
*   /*****************************************************************/ 01779000
*   /*                                                               */ 01780000
*   /* TEST HARDCOPY NOT REQUIRED FLAG IN MESSAGE HEADER. IF ON,     */ 01781000
*   /* RETURN TO CALLER.                                             */ 01782000
*   /*                                                               */ 01783000
*   /*****************************************************************/ 01784000
*                                                                  0676 01785000
*   IF RPARM->NWTOFLNH='1'B         /* HARDCOPY REQUIRED?            */ 01786000
*     THEN                          /* IF NOT -                      */ 01787000
         TM    NWTOFLNH(RPARM),B'10000000'                         0676 01788000
         BNO   @RF00676                                            0676 01789000
*     DO;                           /* RETURN                        */ 01790000
*       GEN(BR   REXIT);            /* RETURN TO CALLER              */ 01791000
         BR   REXIT                                                     01792000
*     END;                                                         0679 01793000
*   GENERATE;                                                      0680 01794000
*                                                                  0680 01795000
@RF00676 DS    0H                                                  0680 01796000
*                                      /* GEN ENTRY LINKAGE          */ 01797000
HDCPY    EQU     *                        HARDCOPY ENTRY                01798000
         STM   2,1,HDCPYSAV               SAVE CALLERS REGS             01799000
*   /*****************************************************************/ 01800000
*   /*                                                               */ 01801000
*   /* TEST FOR NEGATIVE RPARM - INDICATING CALLER'S REQUEST FOR THE */ 01802000
*   /* HARDCOPIED MESSAGE ADDRESS. COMPLEMENT RPARM.                 */ 01803000
*   /*                                                               */ 01804000
*   /*****************************************************************/ 01805000
*                                                                  0681 01806000
*   IF RPRM1<0                      /* RPARM NEGATIVE ?              */ 01807000
*     THEN                          /* IF SO, COMPLEMENT             */ 01808000
         LTR   RPRM1,RPRM1                                         0681 01809000
         BNM   @RF00681                                            0681 01810000
*     RPARM=-RPARM;                 /* FOR MSG ADDRESS               */ 01811000
         LCR   RPARM,RPARM                                         0682 01812000
*   MSGAD=RPARM;                    /* SAVE MESSAGE ADDRESS          */ 01813000
*                                                                  0683 01814000
@RF00681 ST    RPARM,MSGAD                                         0683 01815000
*   /*****************************************************************/ 01816000
*   /*                                                               */ 01817000
*   /* CHECK FOR MESSAGE BUFFER ADDRESS INITIALIZED                  */ 01818000
*   /*                                                               */ 01819000
*   /*****************************************************************/ 01820000
*                                                                  0684 01821000
*   IF NVTMBUF=0                    /* BUFFER ADDR INITIALIZED ?     */ 01822000
*     THEN                          /* IF NOT, BRANCH                */ 01823000
         SLR   @10,@10                                             0684 01824000
         C     @10,NVTMBUF(,RNVT)                                  0684 01825000
         BE    @RT00684                                            0684 01826000
*     GO TO NPMHCRSR;               /* TO RESTORE-AND-RETURN         */ 01827000
*                                                                  0685 01828000
*   /*****************************************************************/ 01829000
*   /*                                                               */ 01830000
*   /* CHECK FOR HARDCOPY DISCOUNTINUED                              */ 01831000
*   /*                                                               */ 01832000
*   /*****************************************************************/ 01833000
*                                                                  0686 01834000
*   IF NVTFLNHC='1'B                /* HARDCOPY DISCONTINUED ?       */ 01835000
*     THEN                          /* IF SO, BRANCH                 */ 01836000
         TM    NVTFLNHC(RNVT),B'00001000'                          0686 01837000
         BO    @RT00686                                            0686 01838000
*     GO TO NPMHCRSR;               /* TO RESTORE-AND-RETURN         */ 01839000
*   N=RPARM->NWTOLNG+12;            /* SET VARIABLE TO MESSAGE LENGTH   01840000
*                                      PLUS NIP MESSAGE PREFIX LENGTH   01841000
*                                      LESS LENGTH OF INPUT MESSAGE     01842000
*                                      HEADER                        */ 01843000
         LA    @00,12                                              0688 01844000
         AH    @00,NWTOLNG(,RPARM)                                 0688 01845000
         ST    @00,N                                               0688 01846000
*   J=N//4;                         /* COMPUTE REMAINDER OF LENGTH 0689 01847000
*                                      DIVIDED INTO FULLWORDS        */ 01848000
*                                                                  0689 01849000
         LR    @04,@00                                             0689 01850000
         SRDA  @04,32                                              0689 01851000
         D     @04,@CF00101                                        0689 01852000
         ST    @04,J                                               0689 01853000
*   /*****************************************************************/ 01854000
*   /*                                                               */ 01855000
*   /* ROUND MESSAGE LENGTH UP TO FULLWORD MULTIPLE                  */ 01856000
*   /*                                                               */ 01857000
*   /*****************************************************************/ 01858000
*                                                                  0690 01859000
*   IF J^=0                         /* IF REMAINDER IS NOT ZERO      */ 01860000
*     THEN                          /* ADD PADDING TO MAKE LENGTH    */ 01861000
         CR    @04,@10                                             0690 01862000
         BE    @RF00690                                            0690 01863000
*     DO;                           /* A FULLWORD MULTIPLE:          */ 01864000
*       J=4-J;                      /* COMPUTE PADDING NECESSARY     */ 01865000
         LCR   @04,@04                                             0692 01866000
         AH    @04,@CH00101                                        0692 01867000
         ST    @04,J                                               0692 01868000
*       N=N+J;                      /* ADD PAD TO MESSAGE LENGTH     */ 01869000
         ALR   @00,@04                                             0693 01870000
         ST    @00,N                                               0693 01871000
*     END;                                                         0694 01872000
*                                                                  0694 01873000
*   /*****************************************************************/ 01874000
*   /*                                                               */ 01875000
*   /* CHECK THAT MESSAGE WILL FIT IN NIP MESSAGE BUFFER             */ 01876000
*   /*                                                               */ 01877000
*   /*****************************************************************/ 01878000
*                                                                  0695 01879000
*   IF NVTMBEND-NVTMBUF^>N          /* IF MESSAGE SIZE IS GREATER    */ 01880000
*     THEN                          /* THAN REMAINING BUFFER -       */ 01881000
@RF00690 L     @10,NVTMBEND(,RNVT)                                 0695 01882000
         SL    @10,NVTMBUF(,RNVT)                                  0695 01883000
         C     @10,N                                               0695 01884000
         BH    @RF00695                                            0695 01885000
*     DO;                           /* DISCONTINUE HARDCOPY          */ 01886000
*       RPARM=ADDR(IEA154I);        /* SET PTR TO HDCPY MESSAGE      */ 01887000
         LA    RPARM,IEA154I                                       0697 01888000
*       RPARM->NWTOFLNH='1'B;       /* SET NO-HARDCOPY FLAG          */ 01889000
         OI    NWTOFLNH(RPARM),B'10000000'                         0698 01890000
*       CALL NIPWTO;                /* CALL WTO TO WRITE HARDCOPY  0699 01891000
*                                      DISCONTINUED MESSAGE          */ 01892000
         BAL   @14,NIPWTO                                          0699 01893000
*       NVTFLNHC='1'B;              /* SET NVT HARDCOPY DISCONTINUED    01894000
*                                      FLAG                          */ 01895000
         OI    NVTFLNHC(RNVT),B'00001000'                          0700 01896000
*       GO TO NPMHCRSR;             /* RESTORE REGS AND RETURN       */ 01897000
         B     NPMHCRSR                                            0701 01898000
*     END;                                                         0702 01899000
*   NIPMBLL=N;                      /* MOVE LENGTH TO MSG/HDR        */ 01900000
@RF00695 L     @10,NVTMBUF(,RNVT)                                  0703 01901000
         MVC   NIPMBLL(2,@10),N+2                                  0703 01902000
*   NIPMBB0='0000'X;                /* ZERO RESERVED FIELD           */ 01903000
*                                                                  0704 01904000
         SLR   @00,@00                                             0704 01905000
         STH   @00,NIPMBB0(,@10)                                   0704 01906000
*   /*****************************************************************/ 01907000
*   /*                                                               */ 01908000
*   /* REQUEST BINARY TIME FOR HEADER TIME STAMP                     */ 01909000
*   /*                                                               */ 01910000
*   /*****************************************************************/ 01911000
*                                                                  0705 01912000
*   GEN(IEAPMNIP TYPE=TIME,PARAM=DEC)                              0705 01913000
*   REFS(NVTTIME);                                                 0705 01914000
         IEAPMNIP TYPE=TIME,PARAM=DEC                                   01915000
*   NIPMBTS=RPARM;                  /* MOVE TIME TO TIME STAMP       */ 01916000
*                                                                  0706 01917000
         L     @10,NVTMBUF(,RNVT)                                  0706 01918000
         ST    RPARM,NIPMBTS(,@10)                                 0706 01919000
*   /*****************************************************************/ 01920000
*   /*                                                               */ 01921000
*   /* CONVERT TIME FROM PACKED TO UNPACKED DECIMAL                  */ 01922000
*   /*                                                               */ 01923000
*   /*****************************************************************/ 01924000
*                                                                  0707 01925000
*   RPARM=NVTMBUF;                  /* PROVIDE BASE FOR UNPACK       */ 01926000
         LR    RPARM,@10                                           0707 01927000
*   GEN(UNPK  NIPMBTIM(7,RPARM),NIPMBTS(4,RPARM));/* UNPACK          */ 01928000
         UNPK  NIPMBTIM(7,RPARM),NIPMBTS(4,RPARM)                       01929000
*   NIPMBB1=HDRMASK;                /* PUT BLANKS AND ROUTING CODE IN   01930000
*                                      MESSAGE HEADER                */ 01931000
         L     @10,NVTMBUF(,RNVT)                                  0709 01932000
         MVC   NIPMBB1(6,@10),HDRMASK                              0709 01933000
*   RPARM=MSGAD;                    /* RESTORE CALLERS RPARM         */ 01934000
         L     RPARM,MSGAD                                         0710 01935000
*   N=RPARM->NWTOLNG-4;             /* DETERMINE MESSAGE LENGTH      */ 01936000
         LH    @00,NWTOLNG(,RPARM)                                 0711 01937000
         SH    @00,@CH00101                                        0711 01938000
         ST    @00,N                                               0711 01939000
*   NIPMBMTX(1:N)=REPLYBUF(5:N+4);  /* MOVE MESSAGE TEXT             */ 01940000
*                                                                  0712 01941000
         BCTR  @00,0                                               0712 01942000
         LR    @15,@00                                             0712 01943000
         EX    @15,@SM02987                                        0712 01944000
*   /*****************************************************************/ 01945000
*   /*                                                               */ 01946000
*   /* CHECK FOR BUFFER ADDRESS REQUESTED                            */ 01947000
*   /*                                                               */ 01948000
*   /*****************************************************************/ 01949000
*                                                                  0713 01950000
*   IF HDCPREG1<CZERO               /* IF PARAMETER IS IN TWO'S      */ 01951000
*     THEN                          /* COMPLEMENT FORM -             */ 01952000
         L     @00,HDCPREG1                                        0713 01953000
         C     @00,CZERO                                           0713 01954000
         BNL   @RF00713                                            0713 01955000
*     RPARM=ADDR(NIPMBMTX);         /* SET RPARM TO BUFFER ADDR      */ 01956000
*                                                                  0714 01957000
         LA    RPARM,NIPMBMTX(,@10)                                0714 01958000
*   /*****************************************************************/ 01959000
*   /*                                                               */ 01960000
*   /* CHECK FOR PADDING REQUIRED TO ROUND MESSAGE TO FULLWORD       */ 01961000
*   /*                                                               */ 01962000
*   /*****************************************************************/ 01963000
*                                                                  0715 01964000
*   IF J^=0                         /* IF PADDING WAS REQUIRED       */ 01965000
*     THEN                          /* PAD WITH BLANKS               */ 01966000
*                                                                  0715 01967000
@RF00713 ICM   @10,15,J                                            0715 01968000
         BZ    @RF00715                                            0715 01969000
*     /***************************************************************/ 01970000
*     /*                                                             */ 01971000
*     /* PAD MESSAGE TO WORD BOUNDARY WITH BLANKS                    */ 01972000
*     /*                                                             */ 01973000
*     /***************************************************************/ 01974000
*                                                                  0716 01975000
*     DO I=1 TO J;                  /* LOOP FOR NUMBER REQUIRED      */ 01976000
         LA    @10,1                                               0716 01977000
         B     @DE00716                                            0716 01978000
@DL00716 DS    0H                                                  0717 01979000
*       NIPMBMTX(N+I)=' ';          /* EXTENT MESSAGE WITH BLANKS    */ 01980000
         L     @15,N                                               0717 01981000
         ALR   @15,@10                                             0717 01982000
         L     @14,NVTMBUF(,RNVT)                                  0717 01983000
         ALR   @14,@15                                             0717 01984000
         MVI   NIPMBMTX-1(@14),C' '                                0717 01985000
*     END;                          /* END OF DO LOOP                */ 01986000
         AH    @10,@CH00109                                        0718 01987000
@DE00716 ST    @10,I                                               0718 01988000
         C     @10,J                                               0718 01989000
         BNH   @DL00716                                            0718 01990000
*   NIPMBMTX(N+J+1)='7B'X;          /* SET END-OF-BUFFER INDICATOR   */ 01991000
@RF00715 L     @10,N                                               0719 01992000
         L     @15,J                                               0719 01993000
         LR    @14,@10                                             0719 01994000
         ALR   @14,@15                                             0719 01995000
         L     @09,NVTMBUF(,RNVT)                                  0719 01996000
         ALR   @14,@09                                             0719 01997000
         MVI   NIPMBMTX(@14),X'7B'                                 0719 01998000
*   NVTMBUF=NVTMBUF+16+N+J;         /* UPDATE ADDRESS OF NEXT      0720 01999000
*                                      AVAILABLE BUFFER SPACE        */ 02000000
         AH    @09,@CH01185                                        0720 02001000
         ALR   @09,@10                                             0720 02002000
         ALR   @09,@15                                             0720 02003000
         ST    @09,NVTMBUF(,RNVT)                                  0720 02004000
*   GO TO NPMHCRR;                  /* RESTORE REGS AND RETURN       */ 02005000
         B     NPMHCRR                                             0721 02006000
*NPMHCRSR:                          /* RESTORE ALL REGS AND RETURN   */ 02007000
*   RPARM=HDCPREG1;                 /* RESTORE REGISTER RPARM        */ 02008000
*                                                                  0722 02009000
NPMHCRSR L     RPARM,HDCPREG1                                      0722 02010000
*   /*****************************************************************/ 02011000
*   /*                                                               */ 02012000
*   /* IF RPARM NEG BUFFER REQUESTED BUT NOT AVAILABLE IF RPARM POS  */ 02013000
*   /* BUFFER NOT REQUIRED.                                          */ 02014000
*   /*                                                               */ 02015000
*   /*****************************************************************/ 02016000
*                                                                  0723 02017000
*NPMHCRR:                           /* RESTORE REGISTERS 2-0 AND   0723 02018000
*                                      RETURN TO CALLER              */ 02019000
*   GEN(LM  2,0,HDCPYSAV);          /* RESTORE REGISTERS 2-0         */ 02020000
NPMHCRR  LM  2,0,HDCPYSAV                                               02021000
*   GEN(BR  REXIT);                 /* RETURN TO CALLER              */ 02022000
         BR  REXIT                                                      02023000
*   GENERATE;                                                      0725 02024000
*                                                                  0725 02025000
*                                      /* GEN NPMHDCPY SAVEAREA      */ 02026000
HDCPYSAV DS   15F                         NIPMHDCPY SAVEAREA            02027000
HDCPREG1 DS   1F                          REG 1 SAVE AREA               02028000
*   /*****************************************************************/ 02029000
*   /*                                                               */ 02030000
*   /* RELEASE REGISTERS FOR NPMHDCPY ROUTINE                        */ 02031000
*   /*                                                               */ 02032000
*   /*****************************************************************/ 02033000
*                                                                  0726 02034000
*   RESPECIFY                                                      0726 02035000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 02036000
*     RNVT,                         /* NVT BASE REGISTER             */ 02037000
*     CVTPTR) UNRESTRICTED;         /* CVT BASE REGISTER             */ 02038000
*   GEN(EJECT);                     /* GEN ASSEMBLER EJECT           */ 02039000
         EJECT                                                          02040000
*   END NPMHDCPY;                   /* END - NPMHDCPY PROCEDURE    0728 02041000
*                                                                    */ 02042000
@EL00005 DS    0H                                                  0728 02043000
@EF00005 DS    0H                                                  0728 02044000
@ER00005 BR    @14                                                 0728 02045000
*NPMCWAIT:                          /* CONSOLE ERROR WAIT ROUTINE    */ 02046000
*                                                                  0729 02047000
*   /*****************************************************************/ 02048000
*   /*                                                               */ 02049000
*   /* THIS ROUTINE PROVIDES A CENTRALIZED INTERFACE FOR HANDLING A  */ 02050000
*   /* PERMANENT CONSOLE ERROR. INPUT PARAMETER IS REGISTER RIOB     */ 02051000
*   /* CONTAINING THE ADDRESS OF THE IOB USED IN THE FAILING I/O     */ 02052000
*   /* OPERATION.                                                    */ 02053000
*   /*                                                               */ 02054000
*   /*****************************************************************/ 02055000
*                                                                  0729 02056000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROC STATEMENT              */ 02057000
*                                                                  0729 02058000
NPMCWAIT DS    0H                                                  0730 02059000
*   /*****************************************************************/ 02060000
*   /*                                                               */ 02061000
*   /* RESTRICT REGISTERS USED IN NPMCWAIT ROUTINE                   */ 02062000
*   /*                                                               */ 02063000
*   /*****************************************************************/ 02064000
*                                                                  0730 02065000
*   RESPECIFY                                                      0730 02066000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 02067000
*     RNVT,                         /* NVT BASE REGISTER             */ 02068000
*     RIOB,                         /* IOB BASE REGISTER             */ 02069000
*     RNIPM) RESTRICTED;            /* ROUTINE WORK REGISTER         */ 02070000
*   NVTFLAC='0'B;                   /* SET ACTIVE-MASTER-CONSOLE FLAG   02071000
*                                      OFF TO PREVENT FURTHER CONSOLE   02072000
*                                      I/O                           */ 02073000
         NI    NVTFLAC(RNVT),B'01111111'                           0731 02074000
*   NVTFLWSC=NVTFLWIE;              /* SET NVT WAIT STATE CODE       */ 02075000
         MVI   NVTFLWSC(RNVT),X'21'                                0732 02076000
*   RPARM=RIOB;                     /* SET IOB ADDR AS PARAMETER     */ 02077000
*                                                                  0733 02078000
         LR    RPARM,RIOB                                          0733 02079000
*   /*****************************************************************/ 02080000
*   /*                                                               */ 02081000
*   /* OBTAIN ADDRESS OF THE UCB FOR THE UNIT                        */ 02082000
*   /*                                                               */ 02083000
*   /*****************************************************************/ 02084000
*                                                                  0734 02085000
*   RNIPM=RIOB->IOBDCBPT->DCBDEBAD->DEBSUCBB;                      0734 02086000
         L     @10,IOBDCBPT(,RIOB)                                 0734 02087000
         SLR   @03,@03                                             0734 02088000
         ICM   @03,7,DCBDEBAD(@10)                                 0734 02089000
         SLR   RNIPM,RNIPM                                         0734 02090000
         ICM   RNIPM,7,DEBSUCBB(@03)                               0734 02091000
*   UA=RNIPM->UCBUA;                /* STORE UCB UNIT ADDRESS        */ 02092000
         MVC   UA(1),UCBUA(RNIPM)                                  0735 02093000
*   CHA=RNIPM->UCBCHA;              /* STORE UCB'S CHANNEL ADDR      */ 02094000
         MVC   CHA(1),UCBCHA(RNIPM)                                0736 02095000
*   RCUA=CWAITCUA;                  /* LOAD RELATED DEVICE ADDR      */ 02096000
         L     RCUA,CWAITCUA                                       0737 02097000
*   GEN(IEAPMNIP TYPE=SWAIT)        /* LOAD WAIT STATE               */ 02098000
*   REFS(NVTSWAIT);                                                0738 02099000
         IEAPMNIP TYPE=SWAIT                                            02100000
*   GEN(EJECT);                     /* GEN ASSEMBLER EJECT           */ 02101000
*                                                                  0739 02102000
         EJECT                                                          02103000
*   /*****************************************************************/ 02104000
*   /*                                                               */ 02105000
*   /* RELEASE REGISTERS USED IN NPMCWAIT ROUTINE                    */ 02106000
*   /*                                                               */ 02107000
*   /*****************************************************************/ 02108000
*                                                                  0740 02109000
*   RESPECIFY                                                      0740 02110000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 02111000
*     RNVT,                         /* NVT BASE REGISTER             */ 02112000
*     RIOB,                         /* IOB BASE REGISTER             */ 02113000
*     RNIPM) UNRESTRICTED;          /* ROUTINE WORK REGISTER         */ 02114000
*   END NPMCWAIT;                   /* END - NPMCWAIT PROCEDURE    0741 02115000
*                                                                    */ 02116000
@EL00006 DS    0H                                                  0741 02117000
@EF00006 DS    0H                                                  0741 02118000
@ER00006 BR    @14                                                 0741 02119000
*NPMEXCPC:                          /* CONSOLE EXCP ROUTINE          */ 02120000
*                                                                  0742 02121000
*   /*****************************************************************/ 02122000
*   /*                                                               */ 02123000
*   /* THIS ROUTINE PROVIDES A CENTRALIZED IEAVNIPM SERVICE FOR      */ 02124000
*   /* SCHEDULING CONSOLE I/O REQUESTS. ALL ACCESS IS TO THE MASTER  */ 02125000
*   /* OPERATOR'S CONSOLE AND IS SCHEDULED AT THE EXCP LEVEL.        */ 02126000
*   /*                                                               */ 02127000
*   /*****************************************************************/ 02128000
*                                                                  0742 02129000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROC STATEMENT              */ 02130000
*                                                                  0742 02131000
NPMEXCPC DS    0H                                                  0743 02132000
*   /*****************************************************************/ 02133000
*   /*                                                               */ 02134000
*   /* RESTRCIT REGISTERS USED IN NPMEXCPC ROUTINE                   */ 02135000
*   /*                                                               */ 02136000
*   /*****************************************************************/ 02137000
*                                                                  0743 02138000
*   RESPECIFY                                                      0743 02139000
*    (RPARM,                        /* PARAMETER INTERFACE REGISTER  */ 02140000
*     RNVT,                         /* NVT BASE REGISTER             */ 02141000
*     RIOB) RESTRICTED;             /* IOB BASE REGISTER             */ 02142000
*   DCL                                                            0744 02143000
*     EXCPREG1 FIXED(31) GENERATED; /* PARAMETER REGISTER            */ 02144000
*   GEN(DS  0H);                    /* STATEMENT FOR LABEL           */ 02145000
         DS  0H                                                         02146000
*   GEN(NPM2ENTR EXCPSAV,EXCPBASE); /* GEN ENTRY LINKAGE             */ 02147000
         NPM2ENTR EXCPSAV,EXCPBASE                                      02148000
*   NPMXCONI='0'B;                  /* RESET INPUT-CONSOLE SWITCH (     02149000
*                                      THIS SWITCH IS NECESSARY, TO     02150000
*                                      DETERMINE THE NAME OF THE ECB    02151000
*                                      ASSOCIATED WITH THE IOB IN  0747 02152000
*                                      USE, FOR ISSUING THE WAIT   0747 02153000
*                                      MACRO SENSE NO REGISTER FORMAT   02154000
*                                      IS AVAILABLE )                */ 02155000
*                                                                  0747 02156000
         NI    NPMXCONI,B'11110111'                                0747 02157000
*   /*****************************************************************/ 02158000
*   /*                                                               */ 02159000
*   /* CHECK FOR COMPOSITE MASTER OUTPUT (WRITE) REQUEST             */ 02160000
*   /*                                                               */ 02161000
*   /*****************************************************************/ 02162000
*                                                                  0748 02163000
*   IF RPARM>0                      /* IF THIS IS A WRITE REQUEST  0748 02164000
*                                      (CCW                          */ 02165000
*     THEN                          /* ADDR NOT IN COMPLEMENT FORM)  */ 02166000
*                                                                  0748 02167000
         LTR   RPARM,RPARM                                         0748 02168000
         BNP   @RF00748                                            0748 02169000
*     /***************************************************************/ 02170000
*     /*                                                             */ 02171000
*     /* CHECK NVT COMPOSITE MASTER FLAG                             */ 02172000
*     /*                                                             */ 02173000
*     /***************************************************************/ 02174000
*                                                                  0749 02175000
*     IF NVTFLIOC='1'B              /* IF COMPOSITE MASTER FLAG IS ON*/ 02176000
*       THEN                        /* THEN:                         */ 02177000
         TM    NVTFLIOC(RNVT),B'01000000'                          0749 02178000
         BNO   @RF00749                                            0749 02179000
*       DO;                         /* SELECT NIP OUTPUT CONSOLE IOB */ 02180000
*         RIOB=ADDR(NIPIOBOC);      /* FOR SCHEDULING I/O            */ 02181000
         LA    RIOB,NIPIOBOC                                       0751 02182000
*         GO TO NPMXCPB;            /* BRANCH TO CHECK-IOB ROUTINE   */ 02183000
         B     NPMXCPB                                             0752 02184000
*       END;                                                       0753 02185000
*                                                                  0753 02186000
*   /*****************************************************************/ 02187000
*   /*                                                               */ 02188000
*   /* NOT WRITE REQUEST: SELECT NIP INPUT CONSOLE                   */ 02189000
*   /*                                                               */ 02190000
*   /*****************************************************************/ 02191000
*                                                                  0754 02192000
*   RIOB=ADDR(NIPIOBIC);            /* IOB FOR SCHEDULING I/O        */ 02193000
@RF00749 DS    0H                                                  0754 02194000
@RF00748 LA    RIOB,NIPIOBIC                                       0754 02195000
*   NPMXCONI='1'B;                  /* SET INPUT CONSOLE SWITCH      */ 02196000
         OI    NPMXCONI,B'00001000'                                0755 02197000
*NPMXCPB:                                                          0756 02198000
*   ECBPTR=IOBECBPT;                /* LOAD ECB ADDRESS FROM IOB     */ 02199000
*                                                                  0756 02200000
NPMXCPB  MVC   ECBPTR(4),IOBECBPT(IOBSTPTR)                        0756 02201000
*   /*****************************************************************/ 02202000
*   /*                                                               */ 02203000
*   /* CHECK THAT IOB SELECTED IS FLAGGED AS FREE                    */ 02204000
*   /*                                                               */ 02205000
*   /*****************************************************************/ 02206000
*                                                                  0757 02207000
*   IF IOBFLAG='00'X                /* IOB IS FLAGGED FREE ?         */ 02208000
*     THEN                          /* IF SO -                       */ 02209000
         LR    @10,RIOB                                            0757 02210000
         AL    @10,@CF02854                                        0757 02211000
         CLI   IOBFLAG(@10),X'00'                                  0757 02212000
         BE    @RT00757                                            0757 02213000
*     GO TO NPMXCPCE;               /* BRANCH TO CLEAR-ECB RTN       */ 02214000
*/* IOB NOT FREE - CHECK FOR I/O REQUEST POSTED COMPLETE             */ 02215000
*                                                                  0759 02216000
*ECBRTRY:                           /*                       @YM06937*/ 02217000
*   THOLD=ECBRB;                    /* SAVE ECBRB VALUE FOR COMPARE     02218000
*                                      AND SWAP              @YM06937*/ 02219000
*                                                                  0759 02220000
ECBRTRY  L     @10,ECBPTR                                          0759 02221000
         L     @04,ECBRB(,@10)                                     0759 02222000
         ST    @04,THOLD                                           0759 02223000
*   /*****************************************************************/ 02224000
*   /*                                                               */ 02225000
*   /* DETERMINE WHETHER THE ECB WAS POSTED                  @YM06937*/ 02226000
*   /*                                                               */ 02227000
*   /*****************************************************************/ 02228000
*                                                                  0760 02229000
*   IF ECBPOSTB^='1'B               /* ECB POST FLAG NOT SET (TO     */ 02230000
*     THEN                          /* INDICATE I/O COMPLETE) ?      */ 02231000
         TM    ECBPOSTB(@10),B'01000000'                           0760 02232000
         BO    @RF00760                                            0760 02233000
*     DO;                           /* IF NOT -                      */ 02234000
*       CS(THOLD,NULLS,ECBRB);      /* ZERO ECB              @YM06937*/ 02235000
         L     @03,NULLS                                           0762 02236000
         CS    @04,@03,ECBRB(@10)                                  0762 02237000
         BZ    @BC00762                                            0762 02238000
         ST    @04,THOLD                                           0762 02239000
@BC00762 DS    0H                                                  0763 02240000
*       BC(7,ECBRTRY);              /* RETRY IF ECB JUST POSTED    0763 02241000
*                                                            @YM06937*/ 02242000
*                                                                  0763 02243000
         BC    7,ECBRTRY                                           0763 02244000
*       /*************************************************************/ 02245000
*       /*                                                           */ 02246000
*       /* CHECK FOR INPUT CONSOLE IOB IN USE                        */ 02247000
*       /*                                                           */ 02248000
*       /*************************************************************/ 02249000
*                                                                  0764 02250000
*       IF NPMXCONI='1'B            /* INPUT CONSOLE IN USE ?        */ 02251000
*         THEN                      /* IF IN USE -                   */ 02252000
         TM    NPMXCONI,B'00001000'                                0764 02253000
         BNO   @RF00764                                            0764 02254000
*         GEN(WAIT 1,ECB=NIPECBIC); /* WAIT USING INPUT              */ 02255000
         WAIT 1,ECB=NIPECBIC                                            02256000
*       ELSE                        /* IF NOT IN USE -               */ 02257000
*         GEN(WAIT 1,ECB=NIPECBOC); /* WAIT USING OUTPUT             */ 02258000
         B     @RC00764                                            0766 02259000
@RF00764 DS    0H                                                  0766 02260000
         WAIT 1,ECB=NIPECBOC                                            02261000
*       RPARM=EXCPREG1;             /* RESTORE CALLER'S REG 1        */ 02262000
@RC00764 L     RPARM,EXCPREG1                                      0767 02263000
*     END;                                                         0768 02264000
*                                                                  0768 02265000
*   /*****************************************************************/ 02266000
*   /*                                                               */ 02267000
*   /* CHECK FOR CONSOLE READ IN PROGRESS                            */ 02268000
*   /*                                                               */ 02269000
*   /*****************************************************************/ 02270000
*                                                                  0769 02271000
*   IF NVTFLRAC='1'B                /* IF READ PENDING               */ 02272000
*     THEN                          /* THEN A PROGRAM ERROR OCCURRED */ 02273000
@RF00760 TM    NVTFLRAC(RNVT),B'00000010'                          0769 02274000
         BNO   @RF00769                                            0769 02275000
*     DO;                           /* LOAD PROG ERROR WAIT STATE    */ 02276000
*       NVTFLWSC=NVTFLWSE;          /* SET NVT WAIT STATE CODE       */ 02277000
         MVI   NVTFLWSC(RNVT),X'3F'                                0771 02278000
*       NVTIDPSW=NVTIDPSW&'F000'X;  /* CLEAR NVT ID PSW              */ 02279000
         NC    NVTIDPSW(2,RNVT),@CB02802                           0772 02280000
*       NVTIDPSW=NVTIDPSW|'0001'X;  /* SET NEW PSW CODE              */ 02281000
         OC    NVTIDPSW(2,RNVT),@CB02491                           0773 02282000
*       GEN(IEAPMNIP TYPE=SWAIT)    /* LOAD WAIT STATE               */ 02283000
*       REFS(NVTSWAIT);                                            0774 02284000
         IEAPMNIP TYPE=SWAIT                                            02285000
*     END;                                                         0775 02286000
*NPMXCPCE:                          /* PREPARE TO INITIATE I/O     0776 02287000
*                                      REQUEST                       */ 02288000
*   ECB='00000000'X;                /* CLEAR ECB                     */ 02289000
@RF00769 DS    0H                                                  0776 02290000
NPMXCPCE L     @10,ECBPTR                                          0776 02291000
         MVC   ECB(4,@10),@CB02883                                 0776 02292000
*   IOBFLAG='FF'X;                  /* FLAG IOB AS ACTIVE            */ 02293000
*                                                                  0777 02294000
         LR    @10,RIOB                                            0777 02295000
         AL    @10,@CF02854                                        0777 02296000
         MVI   IOBFLAG(@10),X'FF'                                  0777 02297000
*   /*****************************************************************/ 02298000
*   /*                                                               */ 02299000
*   /* CHECK FOR TYPE OF I/O REQUEST                                 */ 02300000
*   /*                                                               */ 02301000
*   /*****************************************************************/ 02302000
*                                                                  0778 02303000
*   IF RPRM1<0                      /* PARAMETER IN COMPLEMENT FORM? */ 02304000
*     THEN                          /* IF SO -                       */ 02305000
         LTR   RPRM1,RPRM1                                         0778 02306000
         BNM   @RF00778                                            0778 02307000
*     DO;                           /* THIS IS A READ REQUEST        */ 02308000
*       RPARM=-RPARM;               /* COMPLEMENT THE PARAMETER      */ 02309000
*                                                                  0780 02310000
         LCR   RPARM,RPARM                                         0780 02311000
*       /*************************************************************/ 02312000
*       /*                                                           */ 02313000
*       /* PLACE INPUT APPENDAGE VECTOR TABLE ADDR IN DEB            */ 02314000
*       /*                                                           */ 02315000
*       /*************************************************************/ 02316000
*                                                                  0781 02317000
*       IOBDCBPT->DCBDEBAD->DEBAPPB=ADDR(NPMAVTIC);                0781 02318000
         L     @10,IOBDCBPT(,IOBSTPTR)                             0781 02319000
         SLR   @04,@04                                             0781 02320000
         ICM   @04,7,DCBDEBAD(@10)                                 0781 02321000
         LA    @10,NPMAVTIC                                        0781 02322000
         STCM  @10,7,DEBAPPB(@04)                                  0781 02323000
*     END;                                                         0782 02324000
*   ELSE                            /* THIS IS A WRITE REQUEST       */ 02325000
*                                                                  0783 02326000
*     /***************************************************************/ 02327000
*     /*                                                             */ 02328000
*     /* PLACE OUTPUT APPENDAGE VECTOR TABLE ADDR IN DEB             */ 02329000
*     /*                                                             */ 02330000
*     /***************************************************************/ 02331000
*                                                                  0783 02332000
*     IOBDCBPT->DCBDEBAD->DEBAPPB=ADDR(NPMAVTOC);                  0783 02333000
         B     @RC00778                                            0783 02334000
@RF00778 L     @10,IOBDCBPT(,IOBSTPTR)                             0783 02335000
         SLR   @04,@04                                             0783 02336000
         ICM   @04,7,DCBDEBAD(@10)                                 0783 02337000
         LA    @10,NPMAVTOC                                        0783 02338000
         STCM  @10,7,DEBAPPB(@04)                                  0783 02339000
*   IOBSTART=RPARM;                 /* PUT PARAMETER (CCW ADDR) IN 0784 02340000
*                                      IOB                           */ 02341000
@RC00778 ST    RPARM,IOBSTART(,IOBSTPTR)                           0784 02342000
*   GEN(EXCP (RIOB));               /* EXECUTE CHANNEL PGM   @YM05078*/ 02343000
*                                                                  0785 02344000
         EXCP (RIOB)                                                    02345000
*   /*****************************************************************/ 02346000
*   /*                                                               */ 02347000
*   /* CHECK FOR READ IN EXECUTION                                   */ 02348000
*   /*                                                               */ 02349000
*   /*****************************************************************/ 02350000
*                                                                  0786 02351000
*   IF EXCPREG1<0                   /* IF THE REQUEST WAS FOR A      */ 02352000
*     THEN                          /* CONSOLE READ THEN             */ 02353000
         ICM   @10,15,EXCPREG1                                     0786 02354000
         BM    @RT00786                                            0786 02355000
*     GO TO NPMXCPRS;               /* BRANCH TO RESTORE-REGISTER RTN*/ 02356000
*                                                                  0787 02357000
*   /*****************************************************************/ 02358000
*   /*                                                               */ 02359000
*   /* DETERMINE WHICH ECB IS IN USE AND WAIT                        */ 02360000
*   /*                                                               */ 02361000
*   /*****************************************************************/ 02362000
*                                                                  0788 02363000
*   IF NPMXCONI='1'B                /* INPUT CONSOLE SWITCH ON ?     */ 02364000
*     THEN                          /* SWITCH IS ON -                */ 02365000
         TM    NPMXCONI,B'00001000'                                0788 02366000
         BNO   @RF00788                                            0788 02367000
*     GEN(WAIT 1,ECB=NIPECBIC);     /* ISSUE WAIT FOR INPUT ECB      */ 02368000
         WAIT 1,ECB=NIPECBIC                                            02369000
*   ELSE                            /* SWITCH IS OFF -               */ 02370000
*     GEN(WAIT 1,ECB=NIPECBOC);     /* ISSUE WAIT FOR OUTPUT ECB     */ 02371000
*                                                                  0790 02372000
         B     @RC00788                                            0790 02373000
@RF00788 DS    0H                                                  0790 02374000
         WAIT 1,ECB=NIPECBOC                                            02375000
*   /*****************************************************************/ 02376000
*   /*                                                               */ 02377000
*   /* CHECK FOR SUCCESSFUL I/O COMPLETION                           */ 02378000
*   /*                                                               */ 02379000
*   /*****************************************************************/ 02380000
*                                                                  0791 02381000
*   IF ECBCC='7F'X                  /* IF ECB COMPLETION CODE      0791 02382000
*                                      INDICATE                      */ 02383000
*     THEN                          /* SUCCESSFUL I/O -              */ 02384000
@RC00788 L     @10,ECBPTR                                          0791 02385000
         CLI   ECBCC(@10),X'7F'                                    0791 02386000
         BNE   @RF00791                                            0791 02387000
*     DO;                           /* FINISH UP AND EXIT            */ 02388000
*       IOBFLAG='00'X;              /* FLAG IOB FREE                 */ 02389000
         LR    @10,RIOB                                            0793 02390000
         AL    @10,@CF02854                                        0793 02391000
         MVI   IOBFLAG(@10),X'00'                                  0793 02392000
*       GO TO NPMXCPRS;             /* BRANCH TO RESTORE-REGISTERS 0794 02393000
*                                      RTN                           */ 02394000
         B     NPMXCPRS                                            0794 02395000
*     END;                                                         0795 02396000
*                                                                  0795 02397000
*   /*****************************************************************/ 02398000
*   /*                                                               */ 02399000
*   /* I/O NOT SUCCESSFUL - BRANCH TO CONSOLE ERROR ROUTINE          */ 02400000
*   /*                                                               */ 02401000
*   /*****************************************************************/ 02402000
*                                                                  0796 02403000
*NPCIOFL:                                                          0796 02404000
*   CALL NPMCWAIT;                  /* CALL CONSOLE-ERROR RTN      0796 02405000
*                                                            @YM05078*/ 02406000
@RF00791 DS    0H                                                  0796 02407000
NPCIOFL  BAL   @14,NPMCWAIT                                        0796 02408000
*NPMXCPRS:                          /* RESTORE REGISTERS AND RETURN     02409000
*                                      TO CALLER                     */ 02410000
*   GEN(LM  2,1,EXCPSAV);           /* RESTORE REGISTERS             */ 02411000
NPMXCPRS LM  2,1,EXCPSAV                                                02412000
*   GEN(BR  REXIT);                 /* RETURN TO CALLER              */ 02413000
         BR  REXIT                                                      02414000
*   GENERATE;                                                      0799 02415000
*                                                                  0799 02416000
*                                  /* GEN ROUTINE REG SAVEAREA       */ 02417000
EXCPSAV  DS   15F                     NPMEXCP SAVEAREA                  02418000
EXCPREG1 DS   1F                      REG 1 SAVEAREA                    02419000
*   /*****************************************************************/ 02420000
*   /*                                                               */ 02421000
*   /* RELEASE REGISTERS USED IN NPMEXCPC ROUTINE                    */ 02422000
*   /*                                                               */ 02423000
*   /*****************************************************************/ 02424000
*                                                                  0800 02425000
*   RESPECIFY                                                      0800 02426000
*    (RPARM,                        /* PARAMETER INTERFACE REGISTER  */ 02427000
*     RNVT,                         /* NVT BASE REGISTER             */ 02428000
*     RIOB) UNRESTRICTED;           /* IOB BASE REGISTER             */ 02429000
*   GEN(EJECT);                     /* GEN ASSEMBLER EJECT           */ 02430000
         EJECT                                                          02431000
*   END NPMEXCPC;                   /* END - NPMEXCPC PROCEDURE    0802 02432000
*                                                                    */ 02433000
@EL00007 DS    0H                                                  0802 02434000
@EF00007 DS    0H                                                  0802 02435000
@ER00007 BR    @14                                                 0802 02436000
*NPMICEAP:                          /* INPUT CHANNEL END APPENDAGE   */ 02437000
*                                                                  0803 02438000
*   /*****************************************************************/ 02439000
*   /*                                                               */ 02440000
*   /* THIS ROUTINE INTERCEPTS CHANNEL END FOR ALL CONSOLE INPUT     */ 02441000
*   /* REQUESTS. REGISTER 2 HAS THE ADDRESS OF THE IOB AND REGISTER 7*/ 02442000
*   /* HAS THE ADDRESS OF THE UCB.                                   */ 02443000
*   /*                                                               */ 02444000
*   /*****************************************************************/ 02445000
*                                                                  0803 02446000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROC STATEMENT              */ 02447000
*                                                                  0803 02448000
NPMICEAP DS    0H                                                  0804 02449000
*   /*****************************************************************/ 02450000
*   /*                                                               */ 02451000
*   /* RESTRICT REGISTERS FOR INPUT CHANNEL END APPENDAGE            */ 02452000
*   /*                                                               */ 02453000
*   /*****************************************************************/ 02454000
*                                                                  0804 02455000
*   RESPECIFY                                                      0804 02456000
*    (RIOBAPP,                      /* IOB ADDR PASSED TO APPENDAGE  */ 02457000
*     RUCBAPP,                      /* UCB ADDR PASSED TO APPENDAGE  */ 02458000
*     RUCB,                         /* ROUTINE UCB BASE REGISTER     */ 02459000
*     RIOB) RESTRICTED;             /* ROUTINE IOB BASE REGISTER     */ 02460000
*   DCL                                                            0805 02461000
*     ICEAPRG2 PTR(31) GENERATED;   /* ADDR OF IOB FROM IOS          */ 02462000
*   GEN(DS  0H);                    /* STATEMENT FOR LABEL           */ 02463000
         DS  0H                                                         02464000
*   GEN(NPM2APPE ICEAPSAV,APPBASE1);/* GEN ENTRY LINKAGE             */ 02465000
         NPM2APPE ICEAPSAV,APPBASE1                                     02466000
*   RUCB=RUCBAPP;                   /* LOAD UCB ADDRESS              */ 02467000
         LR    RUCB,RUCBAPP                                        0808 02468000
*   RIOB=ICEAPRG2;                  /* LOAD IOB ADDRESS              */ 02469000
*                                                                  0809 02470000
         L     RIOB,ICEAPRG2                                       0809 02471000
*   /*****************************************************************/ 02472000
*   /*                                                               */ 02473000
*   /* CHECK DEVICE TYPE FIELD OF UNIT CONTROL BLOCK                 */ 02474000
*   /*                                                               */ 02475000
*   /*****************************************************************/ 02476000
*                                                                  0810 02477000
*   IF UCB3UREC='0'B                /* UNIT RECORD DEVICE ?          */ 02478000
*     THEN                          /* IF NOT -                      */ 02479000
         TM    UCB3UREC(UCBPTR),B'00001000'                        0810 02480000
         BZ    @RT00810                                            0810 02481000
*     GO TO NPMICCK;                /* BRANCH TO COMMUNICATIONS CHECK*/ 02482000
*                                                                  0811 02483000
*   /*****************************************************************/ 02484000
*   /*                                                               */ 02485000
*   /* CHECK FOR INQUIRY TYPE DEVICE                                 */ 02486000
*   /*                                                               */ 02487000
*   /*****************************************************************/ 02488000
*                                                                  0812 02489000
*   IF UCBTBYT4<'20'X               /* INQUIRY TYPE DEVICE ?         */ 02490000
*     THEN                          /* IF NOT -                      */ 02491000
         CLI   UCBTBYT4(UCBPTR),X'20'                              0812 02492000
         BL    @RT00812                                            0812 02493000
*     GO TO NPMICRR;                /* BRANCH TO NORMAL-I/O-POST     */ 02494000
*                                                                  0813 02495000
*   /*****************************************************************/ 02496000
*   /*                                                               */ 02497000
*   /* CHECK FOR CHANNEL END                                         */ 02498000
*   /*                                                               */ 02499000
*   /*****************************************************************/ 02500000
*                                                                  0814 02501000
*   IF CSWCE='0'B                   /* ENTERED ON CHANNEL END ?      */ 02502000
*     THEN                          /* IF NOT -                      */ 02503000
         TM    CSWCE(IOBSTPTR),B'00001000'                         0814 02504000
         BZ    @RT00814                                            0814 02505000
*     GO TO NPMICRR;                /* BRANCH TO NORMAL-I/O-POST     */ 02506000
*                                                                  0815 02507000
*   /*****************************************************************/ 02508000
*   /*                                                               */ 02509000
*   /* CHECK FOR UNIT EXCEPTION WITH CHANNEL END                     */ 02510000
*   /*                                                               */ 02511000
*   /*****************************************************************/ 02512000
*                                                                  0816 02513000
*   IF CSWUE='0'B                   /* UNIT EXCEPTION ?              */ 02514000
*     THEN                          /* IF NOT -                      */ 02515000
         TM    CSWUE(IOBSTPTR),B'00000001'                         0816 02516000
         BZ    @RT00816                                            0816 02517000
*     GO TO NPMICRR;                /* BRANCH TO NORMAL-I/O-POST     */ 02518000
*NPMICRS:                           /* CLEAR IOB, RESTORE REGISTERS     02519000
*                                      AND BRANCH TO I/O RESTART     */ 02520000
*   IOBFLAG1='42'X;                 /* RESET IOB FLAG1 (BITS 1,6) ON */ 02521000
NPMICRS  MVI   IOBFLAG1(IOBSTPTR),X'42'                            0818 02522000
*   IOBFLAG2='00'X;                 /* CLEAR IOB FLAG BYTE 2         */ 02523000
         MVI   IOBFLAG2(IOBSTPTR),X'00'                            0819 02524000
*   IOBFLAG3='00'X;                 /* CLEAR IOB FLAG BYTE 3         */ 02525000
         MVI   IOBFLAG3(IOBSTPTR),X'00'                            0820 02526000
*   IOBSENS0='00'X;                 /* CLEAR IOB SENSE BYTE 1        */ 02527000
         MVI   IOBSENS0(IOBSTPTR),X'00'                            0821 02528000
*   IOBSENS1='00'X;                 /* CLEAR IOB SENSE BYTE 2        */ 02529000
         MVI   IOBSENS1(IOBSTPTR),X'00'                            0822 02530000
*   IOBCSW='00000000000000'X;       /* CLEAR IOB CSW FIELDS          */ 02531000
         MVC   IOBCSW(7,IOBSTPTR),@CB02329                         0823 02532000
*   IOBERRCT=0;                     /* CLEAR ERROR COUNTS            */ 02533000
         SLR   @10,@10                                             0824 02534000
         STH   @10,IOBERRCT(,IOBSTPTR)                             0824 02535000
*   GENERATE;                                                      0825 02536000
*                                  /* GEN EXIT TO IOS                */ 02537000
          LM    2,1,ICEAPSAV          RESTORE CALLERS REGISTERS         02538000
          B     8(REXIT)              BRANCH TO RE-TRY I/O (EXCP)       02539000
*NPMICCK:                           /* CHECK FOR DEVICE TYPE OTHER 0826 02540000
*                                      THAN COMMUNICATIONS           */ 02541000
*   IF UCB3COMM='0'B                /* IF DEVICE IS NOT            0826 02542000
*                                      COMMUNICATIONS                */ 02543000
*     THEN                          /* THEN -                        */ 02544000
NPMICCK  TM    UCB3COMM(UCBPTR),B'01000000'                        0826 02545000
         BZ    @RT00826                                            0826 02546000
*     GO TO NPMICRR;                /* BRANCH TO NORMAL-I/O-POST RTN */ 02547000
*                                                                  0827 02548000
*   /*****************************************************************/ 02549000
*   /*                                                               */ 02550000
*   /* CHECK FOR UNIT EXCEPTION FLAG IN IOBFLAG1FIELD OF IOB         */ 02551000
*   /*                                                               */ 02552000
*   /*****************************************************************/ 02553000
*                                                                  0828 02554000
*   IF IOBIOERR='1'B                /* IF UNIT EXCEPTION FLAG IS ON  */ 02555000
*     THEN                          /* THEN - ROUTE TO ABNORMAL-END  */ 02556000
         TM    IOBIOERR(IOBSTPTR),B'00000100'                      0828 02557000
         BO    @RT00828                                            0828 02558000
*     GO TO NPMICRR;                /* BY BRANCH TO NORMAL-I/O-POST  */ 02559000
*                                                                  0829 02560000
*   /*****************************************************************/ 02561000
*   /*                                                               */ 02562000
*   /* SCAN REPLY AREA FOR CANCEL CHARACTERS(BACKSPACE-RETURN)       */ 02563000
*   /*                                                               */ 02564000
*   /*****************************************************************/ 02565000
*                                                                  0830 02566000
*   DO I=2 TO 83;                   /* CHECK EACH PAIR OF CHARACTERS */ 02567000
         LA    @10,2                                               0830 02568000
         ST    @10,I                                               0830 02569000
@DL00830 DS    0H                                                  0831 02570000
*     IF NPMRAREA(I-1:I)='5D5B'X    /* IF BACKSPACE-RETURN           */ 02571000
*       THEN                        /* THEN LINE IS CANCELED         */ 02572000
         LA    @06,NPMRAREA-2(@10)                                 0831 02573000
         CLC   0(2,@06),@CB02900                                   0831 02574000
         BE    @RT00831                                            0831 02575000
*       GO TO NPMICRS;              /* BRANCH TO CLEAR-FOR-RESTART   */ 02576000
*   END;                                                           0833 02577000
         AH    @10,@CH00109                                        0833 02578000
         ST    @10,I                                               0833 02579000
         CH    @10,@CH02685                                        0833 02580000
         BNH   @DL00830                                            0833 02581000
*NPMICRR:                           /* RESTORE REGISTERS FOR NORMAL     02582000
*                                      RETURN                        */ 02583000
*   GEN(LM  2,1,ICEAPSAV);          /* RESTORE CALLER'S REGISTERS    */ 02584000
NPMICRR  LM  2,1,ICEAPSAV                                               02585000
*NPMICRN:                           /* RETURN VIA BRANCH ON REGISTER    02586000
*                                      14 FOR NORMAL I/O POST        */ 02587000
*   GEN(BR  REXIT);                 /* RETURN TO CALLER              */ 02588000
*                                                                  0835 02589000
NPMICRN  BR  REXIT                                                      02590000
*   /*****************************************************************/ 02591000
*   /*                                                               */ 02592000
*   /* END INPUT CONSOLE CHANNEL END APPENDAGE                       */ 02593000
*   /*                                                               */ 02594000
*   /*****************************************************************/ 02595000
*                                                                  0836 02596000
*NPMOAEAP:                                                         0836 02597000
*   ENTRY;                          /* OUTPUT ABNORMAL END APPENDAGE */ 02598000
*                                                                  0836 02599000
         B     @EC00836                                            0836 02600000
NPMOAEAP DS    0H                                                  0836 02601000
@EC00836 DS    0H                                                  0837 02602000
*   /*****************************************************************/ 02603000
*   /*                                                               */ 02604000
*   /* THIS ROUTINE INTERCEPTS ABNORMAL END FOR ALL CONSOLE OUTPUT   */ 02605000
*   /* (WRITE) REQUESTS.                                             */ 02606000
*   /*                                                               */ 02607000
*   /*****************************************************************/ 02608000
*                                                                  0837 02609000
*   GEN(NPM2APPE ICEAPSAV,APPBASE2);/* GEN ENTRY LINKAGE             */ 02610000
*                                                                  0837 02611000
         NPM2APPE ICEAPSAV,APPBASE2                                     02612000
*   /*****************************************************************/ 02613000
*   /*                                                               */ 02614000
*   /* CHECK FOR UNIT CHECK FLAG IN IOB CSW                          */ 02615000
*   /*                                                               */ 02616000
*   /*****************************************************************/ 02617000
*                                                                  0838 02618000
*   IF RIOBAPP->CSWUC='0'B          /* END WITH UNIT CHECK ?         */ 02619000
*     THEN                          /* IF NOT -                      */ 02620000
         TM    CSWUC(RIOBAPP),B'00000010'                          0838 02621000
         BZ    @RT00838                                            0838 02622000
*     GO TO NPMICRR;                /* BRANCH TO NORMAL-RETURN       */ 02623000
*   RUCB=RUCBAPP;                   /* TRANSFER UCB ADDRESS          */ 02624000
         LR    RUCB,RUCBAPP                                        0840 02625000
*   RIOB=ICEAPRG2;                  /* TRANSFER IOB ADDRESS          */ 02626000
*                                                                  0841 02627000
         L     RIOB,ICEAPRG2                                       0841 02628000
*   /*****************************************************************/ 02629000
*   /*                                                               */ 02630000
*   /* CHECK FOR UNIT RECORD DEVICE TYPE                             */ 02631000
*   /*                                                               */ 02632000
*   /*****************************************************************/ 02633000
*                                                                  0842 02634000
*   IF UCB3UREC='0'B                /* UNIT RECORD DEVICE ?          */ 02635000
*     THEN                          /* IF NOT -                      */ 02636000
         TM    UCB3UREC(UCBPTR),B'00001000'                        0842 02637000
         BZ    @RT00842                                            0842 02638000
*     GO TO NPMICRR;                /* BRANCH TO RESTORE REGISTERS   */ 02639000
*                                                                  0843 02640000
*   /*****************************************************************/ 02641000
*   /*                                                               */ 02642000
*   /* CHECK FOR FOLLOWING DEVICES: 1404, 1443, OR 3211              */ 02643000
*   /*                                                               */ 02644000
*   /*****************************************************************/ 02645000
*                                                                  0844 02646000
*   IF UCBTBYT4='08'X|              /* IS UNIT A 1403 PRINTER OR -   */ 02647000
*       UCBTBYT4='0A'X|             /* IS UNIT A 1443 PRINTER OR -   */ 02648000
*       UCBTBYT4='09'X              /* IS UNIT A 3211 ?              */ 02649000
*     THEN                          /* IF ANY OF THESE -             */ 02650000
         CLI   UCBTBYT4(UCBPTR),X'08'                              0844 02651000
         BE    @RT00844                                            0844 02652000
         CLI   UCBTBYT4(UCBPTR),X'0A'                              0844 02653000
         BE    @RT00844                                            0844 02654000
         CLI   UCBTBYT4(UCBPTR),X'09'                              0844 02655000
         BE    @RT00844                                            0844 02656000
*     GO TO NPMOASC;                /* BRANCH TO SET-IOB-CODES       */ 02657000
*   GO TO NPMICRR;                  /* ELSE, BRANCH TO RESTORE REGS  */ 02658000
         B     NPMICRR                                             0846 02659000
*NPMOASC:                           /* CHECK FOR CHANNEL 9 BIT IN IOB   02660000
*                                      SENSE BYTE 0                  */ 02661000
*   IF IOBSNSC9='0'B                /* IS CHANNEL 9 BIT ON ?         */ 02662000
*     THEN                          /* IF NOT -                      */ 02663000
NPMOASC  TM    IOBSNSC9(IOBSTPTR),B'00000001'                      0847 02664000
         BZ    @RT00847                                            0847 02665000
*     GO TO NPMICRR;                /* BRANCH TO RESTORE REGISTERS   */ 02666000
*   IOBECBCC='7F'X;                 /* SET IOB ECB COMPLETION CODE   */ 02667000
         MVI   IOBECBCC(IOBSTPTR),X'7F'                            0849 02668000
*   IOBIOERR='0'B;                  /* RESET IOB EXCEPTION FLAG      */ 02669000
         NI    IOBIOERR(IOBSTPTR),B'11111011'                      0850 02670000
*   GO TO NPMICRR;                  /* BRANCH TO RESTORE-REGISTERS   */ 02671000
*                                                                  0851 02672000
         B     NPMICRR                                             0851 02673000
*   /*****************************************************************/ 02674000
*   /*                                                               */ 02675000
*   /* END OF OUTPUT CONSOLE ABNORMAL END APPENDAGE                  */ 02676000
*   /*                                                               */ 02677000
*   /*****************************************************************/ 02678000
*                                                                  0852 02679000
*   GEN(EJECT);                     /* GEN ASSEMBLER EJECT           */ 02680000
         EJECT                                                          02681000
*NPMOCEAP:                                                         0853 02682000
*   ENTRY;                          /* OUTPUT CHANNEL END APPENDAGE  */ 02683000
*                                                                  0853 02684000
         B     @EC00853                                            0853 02685000
NPMOCEAP DS    0H                                                  0853 02686000
@EC00853 DS    0H                                                  0854 02687000
*   /*****************************************************************/ 02688000
*   /*                                                               */ 02689000
*   /* THIS ROUTINE INTERCEPTS CHANNEL END FOR ALL CONSOLE OUTPUT    */ 02690000
*   /* REQUESTS AND HANDLES A UNIT EXCEPTION CONDITION FOR UNIT      */ 02691000
*   /* RECORDS DEVICE TYPES: 1403, 1443, AND 3211.                   */ 02692000
*   /*                                                               */ 02693000
*   /*****************************************************************/ 02694000
*                                                                  0854 02695000
*   GEN(NPM2APPE ICEAPSAV,APPBASE3);/* GEN ENTRY LINKAGE             */ 02696000
*                                                                  0854 02697000
         NPM2APPE ICEAPSAV,APPBASE3                                     02698000
*   /*****************************************************************/ 02699000
*   /*                                                               */ 02700000
*   /* CHECK FOR UNIT EXCEPTION INDICATED IN IOB CSW                 */ 02701000
*   /*                                                               */ 02702000
*   /*****************************************************************/ 02703000
*                                                                  0855 02704000
*   IF RIOBAPP->CSWUE='0'B          /* ENTERED ON UNIT EXCEPTION ?   */ 02705000
*     THEN                          /* IF NOT -                      */ 02706000
         TM    CSWUE(RIOBAPP),B'00000001'                          0855 02707000
         BZ    @RT00855                                            0855 02708000
*     GO TO NPMICRR;                /* BRANCH TO NORMAL-RETURN-EXIT  */ 02709000
*   RIOB=ICEAPRG2;                  /* TRANSFER IOB ADDRESS          */ 02710000
         L     RIOB,ICEAPRG2                                       0857 02711000
*   RUCB=RUCBAPP;                   /* TRANSFER UCB ADDRESS          */ 02712000
*                                                                  0858 02713000
         LR    RUCB,RUCBAPP                                        0858 02714000
*   /*****************************************************************/ 02715000
*   /*                                                               */ 02716000
*   /* CHECK FOR UNIT RECORD DEVICE TYPE                             */ 02717000
*   /*                                                               */ 02718000
*   /*****************************************************************/ 02719000
*                                                                  0859 02720000
*   IF UCB3UREC='0'B                /* UNIT RECORD DEVICE ?          */ 02721000
*     THEN                          /* IF NOT -                      */ 02722000
         TM    UCB3UREC(UCBPTR),B'00001000'                        0859 02723000
         BZ    @RT00859                                            0859 02724000
*     GO TO NPMICRR;                /* BRANCH TO RESTORE REGISTERS   */ 02725000
*                                                                  0860 02726000
*   /*****************************************************************/ 02727000
*   /*                                                               */ 02728000
*   /* CHECK FOR FOLLOWING DEVICES: 1403, 1443, AND 3211             */ 02729000
*   /*                                                               */ 02730000
*   /*****************************************************************/ 02731000
*                                                                  0861 02732000
*   IF UCBTBYT4='08'X|              /* IS UNIT A 1403 PRINTER OR -   */ 02733000
*       UCBTBYT4='0A'X|             /* IS UNIT A 1443 PRINTER OR -   */ 02734000
*       UCBTBYT4='09'X              /* IS UNIT A 3211 PRINTER ?      */ 02735000
*     THEN                          /* IF ANY OF THESE -             */ 02736000
         CLI   UCBTBYT4(UCBPTR),X'08'                              0861 02737000
         BE    @RT00861                                            0861 02738000
         CLI   UCBTBYT4(UCBPTR),X'0A'                              0861 02739000
         BE    @RT00861                                            0861 02740000
         CLI   UCBTBYT4(UCBPTR),X'09'                              0861 02741000
         BE    @RT00861                                            0861 02742000
*     GO TO NPMOCSC;                /* BRANCH TO SKIP-CCW-CHECK      */ 02743000
*   GO TO NPMICRR;                  /* ELSE, BRANCH TO RESTORE-REGS  */ 02744000
         B     NPMICRR                                             0863 02745000
*NPMOCSC:                           /* CHECK FOR A SKIP TO LINE 1  0864 02746000
*                                      BEFORE UNIT EXCEPTION         */ 02747000
*   RNIPM=IOBSTART-8;               /* OBTAIN PTR TO LAST CCW        */ 02748000
*                                                                  0864 02749000
NPMOCSC  L     RNIPM,IOBSTART(,IOBSTPTR)                           0864 02750000
         SH    RNIPM,@CH00107                                      0864 02751000
*   /*****************************************************************/ 02752000
*   /*                                                               */ 02753000
*   /* CHECK LAST CCW COMMAND CODE                                   */ 02754000
*   /*                                                               */ 02755000
*   /*****************************************************************/ 02756000
*                                                                  0865 02757000
*   IF RNIPM->CCWCOMCD='8B'X        /* IF PREVIOUS COMMAND CODE      */ 02758000
*     THEN                          /* WAS A SKIP TO LINE 1          */ 02759000
         CLI   CCWCOMCD(RNIPM),X'8B'                               0865 02760000
         BE    @RT00865                                            0865 02761000
*     GO TO NPMICRR;                /* BRANCH TO RESTORE REGS        */ 02762000
*   IOBSTART=ADDR(NPMSKCCW);        /* PUT ADDR OF SKIP CCW IN IOB   */ 02763000
         LA    @10,NPMSKCCW                                        0867 02764000
         ST    @10,IOBSTART(,IOBSTPTR)                             0867 02765000
*   GO TO NPMICRS;                  /* BRANCH TO I/O-RESTART-EXIT    */ 02766000
*                                                                  0868 02767000
         B     NPMICRS                                             0868 02768000
*   /*****************************************************************/ 02769000
*   /*                                                               */ 02770000
*   /* END OF OUTPUT CONSOLE ABNORMAL END APPENDAGE                  */ 02771000
*   /*                                                               */ 02772000
*   /*****************************************************************/ 02773000
*                                                                  0869 02774000
*NPMIBRAP:                                                         0869 02775000
*   ENTRY;                          /* DUMMY CONSOLE APPENDAGE       */ 02776000
*                                                                  0869 02777000
NPMIBRAP DS    0H                                                  0870 02778000
*   /*****************************************************************/ 02779000
*   /*                                                               */ 02780000
*   /* THIS IS A DUMMY ROUTINE TO INTERCEPT APPENDAGE EXITS NOT      */ 02781000
*   /* HANDLED BY THE ABOVE ROUTINES.                                */ 02782000
*   /*                                                               */ 02783000
*   /*****************************************************************/ 02784000
*                                                                  0870 02785000
*   GEN(BR  REXIT);                 /* IMMEDIATE RETURN TO IOS       */ 02786000
         BR  REXIT                                                      02787000
*   GENERATE;                                                      0871 02788000
*                                                                  0871 02789000
*                                  /* GEN APPENDAGE SAVEAREAS        */ 02790000
ICEAPSAV  EQU   *                     APPENDAGE REG SAVE AREA           02791000
ICEAPRG2  DS    F                     REG 2  (IOB ADDR)                 02792000
          DS    15F                                                     02793000
*   /*****************************************************************/ 02794000
*   /*                                                               */ 02795000
*   /* RELEASE APPENDAGE REGISTERS                                   */ 02796000
*   /*                                                               */ 02797000
*   /*****************************************************************/ 02798000
*                                                                  0872 02799000
*   RESPECIFY                                                      0872 02800000
*    (RIOBAPP,                      /* IOB ADDR PASSED TO APPENDAGE  */ 02801000
*     RUCBAPP,                      /* UCB ADDR PASSED TO APPENDAGE  */ 02802000
*     RUCB,                         /* ROUTINE UCB BASE REGISTER     */ 02803000
*     RIOB) UNRESTRICTED;           /* ROUTINE IOB BASE REG          */ 02804000
*   END NPMICEAP;                   /* END - CONSOLE APPENDAGES    0873 02805000
*                                                                    */ 02806000
@EL00008 DS    0H                                                  0873 02807000
@EF00008 DS    0H                                                  0873 02808000
@ER00008 BR    @14                                                 0873 02809000
*NPMUPSCR:                          /*                               */ 02810000
*                                                                  0874 02811000
*   /*****************************************************************/ 02812000
*   /*                                                               */ 02813000
*   /* ROUTINE TO UPDATE GRAPHICS SCREEN IMAGE                       */ 02814000
*   /*                                                               */ 02815000
*   /*****************************************************************/ 02816000
*                                                                  0874 02817000
*   PROC OPTIONS(DONTSAVE,NOSAVEAREA);/* PROC STATEMENT              */ 02818000
NPMUPSCR DS    0H                                                  0875 02819000
*   DCL                                                            0875 02820000
*     UPSCRSAV CHAR(64) GENERATED;  /* ROUTINE SAVEAREA              */ 02821000
*   DCL                                                            0876 02822000
*     NPMGINIT LABEL INTERNAL;      /* CONSOLE INIT ROUTINE          */ 02823000
*   DCL                                                            0877 02824000
*     NPMROLL LABEL INTERNAL;       /* SCREEN ROLL ROUTINE           */ 02825000
*                                                                  0877 02826000
*   /*****************************************************************/ 02827000
*   /*                                                               */ 02828000
*   /* RESTRICT REGISTERS FOR UPDATE GRAPHICS SCREEN ROUTINE         */ 02829000
*   /*                                                               */ 02830000
*   /*****************************************************************/ 02831000
*                                                                  0878 02832000
*   RESPECIFY                                                      0878 02833000
*    (RPARM,                        /* PARAMETER INTERFACE REG       */ 02834000
*     RNVT,                         /* NVT BASE REGISTER             */ 02835000
*     DCMTSPTR,                     /* DCM BASE REGISTER      YA00835*/ 02836000
*     UCBPTR,                       /* UCB BASE REGISTER             */ 02837000
*     BUFPTR,                       /* DCM AREA ADDRESS              */ 02838000
*     LINAD) RESTRICTED;            /* CURRENT LINE ADDRESS          */ 02839000
*   GEN(STM 2,1,UPSCRSAV);          /* SAVE CALLER'S REGS            */ 02840000
         STM 2,1,UPSCRSAV                                               02841000
*   UCMMCSPT=UCMPRFXP;              /* GET ADDR OF UCM PREFIX        */ 02842000
         L     @10,UCMBASPT                                        0880 02843000
         AL    @10,@CF02991                                        0880 02844000
         L     @10,UCMPRFXP(,@10)                                  0880 02845000
         ST    @10,UCMMCSPT                                        0880 02846000
*   UCMDVEPT=UCMMCENT;              /* GET MASTER CONSOLE UCM @      */ 02847000
         L     @10,UCMMCENT(,@10)                                  0881 02848000
         ST    @10,UCMDVEPT                                        0881 02849000
*   DCMTSPTR=UCMXB;                 /* GET ADDR OF DCM        YA00835*/ 02850000
*                                                                  0882 02851000
         L     DCMTSPTR,UCMXB(,@10)                                0882 02852000
*   /*****************************************************************/ 02853000
*   /*                                                               */ 02854000
*   /* IS THIS FIRST ENTRY TO ROUTINE                                */ 02855000
*   /*                                                               */ 02856000
*   /*****************************************************************/ 02857000
*                                                                  0883 02858000
*   IF DCMNIPP^='1'B                /* FIRST ENTRY ?                 */ 02859000
*     THEN                          /* YES -                         */ 02860000
         TM    DCMNIPP(DCMTSPTR),B'00001000'                       0883 02861000
         BO    @RF00883                                            0883 02862000
*     CALL NPMGINIT;                /* INIT.FOR GRAPHICS CONSOLE     */ 02863000
*                                                                  0884 02864000
         BAL   @14,NPMGINIT                                        0884 02865000
*   /*****************************************************************/ 02866000
*   /*                                                               */ 02867000
*   /* IS WRITE SWITCH SET                                           */ 02868000
*   /*                                                               */ 02869000
*   /*****************************************************************/ 02870000
*                                                                  0885 02871000
*   IF NPMWRTSW='1'B                /* WRITE SWITCH SET ?            */ 02872000
*     THEN                          /* YES -                         */ 02873000
@RF00883 TM    NPMWRTSW,B'00000010'                                0885 02874000
         BNO   @RF00885                                            0885 02875000
*     DO;                           /* PREPARE TO WRITE              */ 02876000
*       TOTLN=N;                    /* GET MESSAGE LENGTH            */ 02877000
         MVC   TOTLN(2),N+2                                        0887 02878000
*       LINAD=ADDR(NPMWAREA);       /* POINT TO WRITE AREA           */ 02879000
         LA    LINAD,NPMWAREA                                      0888 02880000
*       GO TO NPMSCT;               /* CHECK SCREEN STATUS           */ 02881000
         B     NPMSCT                                              0889 02882000
*     END;                                                         0890 02883000
*   N=80;                           /* TOTAL LENGTH = 80 BYTES       */ 02884000
*                                                                  0891 02885000
@RF00885 MVC   N(4),@CF02765                                       0891 02886000
*   /*****************************************************************/ 02887000
*   /*                                                               */ 02888000
*   /* DETERMINE WHETHER 81ST CHAR WAS OVERLAYED             @YM06937*/ 02889000
*   /*                                                               */ 02890000
*   /*****************************************************************/ 02891000
*                                                                  0892 02892000
*   IF NPMRAREA(81)^=' ' THEN                                      0892 02893000
         CLI   NPMRAREA+80,C' '                                    0892 02894000
         BE    @RF00892                                            0892 02895000
*     NPMILEN='1'B;                 /* SET EXCESSIVE LENGTH FLAG ON     02896000
*                                                            @YM06937*/ 02897000
         OI    NPMILEN,B'00100000'                                 0893 02898000
*   ELSE                                                           0894 02899000
*     NPMILEN='0'B;                 /* SET EXCESSIVE LENGTH FLAG OFF    02900000
*                                                            @YM06937*/ 02901000
         B     @RC00892                                            0894 02902000
@RF00892 NI    NPMILEN,B'11011111'                                 0894 02903000
*NPMSCANC:                          /* SCAN REPLY AREA BACKWARDS FOR    02904000
*                                      TRAILING BLANKS               */ 02905000
*   IF NPMRAREA(N)=' '              /* IS CHARACTER A BLANK ?        */ 02906000
*     THEN                          /* YES -                         */ 02907000
@RC00892 DS    0H                                                  0895 02908000
NPMSCANC L     @10,N                                               0895 02909000
         LA    @08,NPMRAREA-1(@10)                                 0895 02910000
         CLI   0(@08),C' '                                         0895 02911000
         BNE   @RF00895                                            0895 02912000
*     DO;                           /* CHECK FOR MESSAGE END         */ 02913000
*                                                                  0896 02914000
*       /*************************************************************/ 02915000
*       /*                                                           */ 02916000
*       /* WERE ALL 80 CHARACTERS BLANK                              */ 02917000
*       /*                                                           */ 02918000
*       /*************************************************************/ 02919000
*                                                                  0897 02920000
*       IF N=1                      /* SCANNED ENTIRE MESSAGE ?      */ 02921000
*         THEN                      /* YES -                         */ 02922000
         CH    @10,@CH00109                                        0897 02923000
         BNE   @RF00897                                            0897 02924000
*         DO;                       /* TREAT AS EOB -                */ 02925000
*           NPMEOBSW='1'B;          /* INDICATE EOB                  */ 02926000
         OI    NPMEOBSW,B'00000001'                                0899 02927000
*           TOTLN=2;                /* TOTAL LENGTH = 2              */ 02928000
         MVC   TOTLN(2),@CH00120                                   0900 02929000
*           GO TO NPMMSGLN;         /* MOVE MESSAGE TO BUFFER        */ 02930000
         B     NPMMSGLN                                            0901 02931000
*         END;                                                     0902 02932000
*       ELSE                        /* NO - NOT MESSAGE END          */ 02933000
*         DO;                       /* SCAN REST OF MESSAGE          */ 02934000
@RF00897 DS    0H                                                  0904 02935000
*           N=N-1;                  /* DECREMENT COUNT               */ 02936000
         L     @10,N                                               0904 02937000
         BCTR  @10,0                                               0904 02938000
         ST    @10,N                                               0904 02939000
*           GO TO NPMSCANC;         /* CONTINUE SCAN                 */ 02940000
         B     NPMSCANC                                            0905 02941000
*         END;                                                     0906 02942000
*     END;                                                         0907 02943000
*   ELSE                            /* NO - NOT BLANK CHARACTER      */ 02944000
*     DO;                           /* END SCAN LOOP                 */ 02945000
@RF00895 DS    0H                                                  0909 02946000
*       NPMEOBSW='0'B;              /* CLEAR EOB SWITCH              */ 02947000
         NI    NPMEOBSW,B'11111110'                                0909 02948000
*       TOTLN=N;                    /* GET REPLY LENGTH              */ 02949000
         MVC   TOTLN(2),N+2                                        0910 02950000
*     END;                                                         0911 02951000
*NPMMSGLN:                          /* SET UP TO MOVE MESSAGE TO   0912 02952000
*                                      GRAPHICS BUFFER               */ 02953000
*   RNIPM=ADDR(READAREA);           /* GET ADDR OF REPLY AREA        */ 02954000
NPMMSGLN LA    RNIPM,READAREA                                      0912 02955000
*   NPMRLNG=TOTLN;                  /* HDR LENGTH = TOTAL LENGTH     */ 02956000
         MVC   NPMRLNG(2,RNIPM),TOTLN                              0913 02957000
*   GEN(L  UCBPTR,UPSCRSAV+8);      /* RESTORE UCB POINTER           */ 02958000
         L  UCBPTR,UPSCRSAV+8                                           02959000
*   LINAD=ADDR(NPMRAREA);           /* POINT TO READ AREA            */ 02960000
         LA    LINAD,NPMRAREA                                      0915 02961000
*NPMSCT:                            /* CHECK STATUS OF SCREEN        */ 02962000
*                                                                  0916 02963000
*   /*****************************************************************/ 02964000
*   /*                                                               */ 02965000
*   /* CHECK FOR FULL SCREEN (8 LINES)                               */ 02966000
*   /*                                                               */ 02967000
*   /*****************************************************************/ 02968000
*                                                                  0916 02969000
*   IF NEXTSCT>SCTENDAD             /* IS SCREEN FULL ?              */ 02970000
*     THEN                          /* YES -                         */ 02971000
NPMSCT   L     @10,DCMMSGSV(,DCMTSPTR)                             0916 02972000
         CLC   NEXTSCT(4),SCTENDAD(@10)                            0916 02973000
         BNH   @RF00916                                            0916 02974000
*     CALL NPMROLL;                 /* ROLL SCREEN UP ONE LINE       */ 02975000
*                                                                  0917 02976000
         BAL   @14,NPMROLL                                         0917 02977000
*   /*****************************************************************/ 02978000
*   /*                                                               */ 02979000
*   /* DOES THIS MESSAGE FIT ON ONE LINE                             */ 02980000
*   /*                                                               */ 02981000
*   /*****************************************************************/ 02982000
*                                                                  0918 02983000
*   IF TOTLN<=LINDATLN              /* MSG SHORTER THAN LINE ?       */ 02984000
*     THEN                          /* YES -                         */ 02985000
@RF00916 LH    @10,TOTLN                                           0918 02986000
         CH    @10,LINDATLN                                        0918 02987000
         BH    @RF00918                                            0918 02988000
*     DO;                           /* PREPARE TO WRITE              */ 02989000
*       SCTINUSE='1'B;              /* FLAG SCT AS IN USE            */ 02990000
*       SCTAUTOD='1'B;              /* AND AUTODELETABLE             */ 02991000
*                                                                  0921 02992000
         L     @08,NEXTSCT                                         0921 02993000
         OI    SCTINUSE(@08),B'11000000'                           0921 02994000
*       /*************************************************************/ 02995000
*       /*                                                           */ 02996000
*       /* GET MESSAGE ADDRESS + SCT INDEX * LINE LENGTH             */ 02997000
*       /*                                                           */ 02998000
*       /*************************************************************/ 02999000
*                                                                  0922 03000000
*       BUFPTR=MSGSTAD+((NEXTSCT-SCTBEGAD)/2)*LINLN;               0922 03001000
         L     @06,DCMMSGSV(,DCMTSPTR)                             0922 03002000
         LA    @05,2                                               0922 03003000
         LR    @14,@08                                             0922 03004000
         SL    @14,SCTBEGAD(,@06)                                  0922 03005000
         SRDA  @14,32                                              0922 03006000
         DR    @14,@05                                             0922 03007000
         SLR   BUFPTR,BUFPTR                                       0922 03008000
         ICM   BUFPTR,3,LINLN                                      0922 03009000
         MR    @14,BUFPTR                                          0922 03010000
         AL    @15,MSGSTAD(,@06)                                   0922 03011000
         LR    BUFPTR,@15                                          0922 03012000
*       TOTLN=TOTLN+4;              /* SKIP AUTODELETABLE CHARS      */ 03013000
         LA    @06,4                                               0923 03014000
         ALR   @10,@06                                             0923 03015000
         STH   @10,TOTLN                                           0923 03016000
*       BUFLINE(5:TOTLN)=ANSRAREA;  /* MOVE MESSAGE TO BUF           */ 03017000
         LR    @15,@10                                             0924 03018000
         SH    @15,@CH01182                                        0924 03019000
         EX    @15,@SM02994                                        0924 03020000
*       BUFLINE(1:4)=AUTDELSC;      /* FLAG LINE AS AUTODELET        */ 03021000
         MVC   BUFLINE(4,BUFPTR),AUTDELSC                          0925 03022000
*       TOTLN=TOTLN-4;              /* GET ACTUAL LENGTH BACK        */ 03023000
         SLR   @10,@06                                             0926 03024000
         STH   @10,TOTLN                                           0926 03025000
*       NEXTSCT=NEXTSCT+LENGTH(SCTENTRY);/* POINT TO NEXT SCT        */ 03026000
         ALR   @08,@05                                             0927 03027000
         ST    @08,NEXTSCT                                         0927 03028000
*       GO TO NPMGRCCW;             /* SELECT CHANNEL PROGRAM        */ 03029000
         B     NPMGRCCW                                            0928 03030000
*     END;                                                         0929 03031000
*                                                                  0929 03032000
*   /*****************************************************************/ 03033000
*   /*                                                               */ 03034000
*   /* MESSAGE CANNOT FIT ON ONE LINE --- IS ONLY ONE LINE FREE?     */ 03035000
*   /*                                                               */ 03036000
*   /*****************************************************************/ 03037000
*                                                                  0930 03038000
*   IF NEXTSCT=SCTENDAD             /* THIS LAST LINE ?              */ 03039000
*     THEN                          /* YES -                         */ 03040000
@RF00918 L     @10,DCMMSGSV(,DCMTSPTR)                             0930 03041000
         CLC   NEXTSCT(4),SCTENDAD(@10)                            0930 03042000
         BNE   @RF00930                                            0930 03043000
*     DO;                           /* ROLL THE SCREEN               */ 03044000
*       CALL NPMROLL;               /* ROLL SCREEN IMAGE UP ONE LINE */ 03045000
         BAL   @14,NPMROLL                                         0932 03046000
*       NEXTSCT=NEXTSCT-2;          /* DECREMENT ADDR OF SCT         */ 03047000
         L     @10,NEXTSCT                                         0933 03048000
         BCTR  @10,0                                               0933 03049000
         BCTR  @10,0                                               0933 03050000
         ST    @10,NEXTSCT                                         0933 03051000
*       SCTENTRY=SCTENTRY&&SCTENTRY;/* ZERO SCT ENTRY                */ 03052000
         XC    SCTENTRY(2,@10),SCTENTRY(@10)                       0934 03053000
*     END;                                                         0935 03054000
*   RESPECIFY                                                      0936 03055000
*     SCANREG RESTRICTED;           /* RESTRICT SCAN REGISTER        */ 03056000
@RF00930 DS    0H                                                  0937 03057000
*   SCANREG=ADDR(ANSRAREA)+LINDATLN;/* GET ADDR OF WHERE LINE IS TO     03058000
*                                      BE SPLIT                      */ 03059000
         LH    @10,LINDATLN                                        0937 03060000
         LR    SCANREG,LINAD                                       0937 03061000
         ALR   SCANREG,@10                                         0937 03062000
*   N=LINDATLN;                     /* GET LENGTH TO SEARCH          */ 03063000
         ST    @10,N                                               0938 03064000
*NPMCOMBL:                          /* SEARCH BACK FROM SPLIT LOOKING   03065000
*                                      FOR COMMA OR BLANK            */ 03066000
*                                                                  0939 03067000
*   /*****************************************************************/ 03068000
*   /*                                                               */ 03069000
*   /* IS THIS CHARACTER A COMMA OR A BLANK                          */ 03070000
*   /*                                                               */ 03071000
*   /*****************************************************************/ 03072000
*                                                                  0939 03073000
*   IF ANSRAREA(N)=','|             /* CHARACTER A COMMA OR -        */ 03074000
*       ANSRAREA(N)=' '             /* A BLANK ?                     */ 03075000
*     THEN                          /* YES -                         */ 03076000
NPMCOMBL L     @10,N                                               0939 03077000
         ALR   @10,LINAD                                           0939 03078000
         AL    @10,@CF02854                                        0939 03079000
         CLI   ANSRAREA(@10),C','                                  0939 03080000
         BE    @RT00939                                            0939 03081000
         L     @10,N                                               0939 03082000
         ALR   @10,LINAD                                           0939 03083000
         AL    @10,@CF02854                                        0939 03084000
         CLI   ANSRAREA(@10),C' '                                  0939 03085000
         BE    @RT00939                                            0939 03086000
*     GO TO NPMNXSCT;               /* WE HAVE THE TWO LINES         */ 03087000
*                                                                  0940 03088000
*   /*****************************************************************/ 03089000
*   /*                                                               */ 03090000
*   /* NOT COMMA OR BLANK                                            */ 03091000
*   /*                                                               */ 03092000
*   /*****************************************************************/ 03093000
*                                                                  0941 03094000
*   SCANREG=SCANREG-1;              /* DECREMENT SPLIT ADDR          */ 03095000
         BCTR  SCANREG,0                                           0941 03096000
*   N=N-1;                          /* DECREMENT COUNT               */ 03097000
*                                                                  0942 03098000
         L     @10,N                                               0942 03099000
         BCTR  @10,0                                               0942 03100000
         ST    @10,N                                               0942 03101000
*   /*****************************************************************/ 03102000
*   /*                                                               */ 03103000
*   /* HAS WHOLE LINE BEEN SEARCHED                                  */ 03104000
*   /*                                                               */ 03105000
*   /*****************************************************************/ 03106000
*                                                                  0943 03107000
*   IF N=0                          /* AT LINE BEGIN ?               */ 03108000
*     THEN                          /* YES -                         */ 03109000
         LTR   @10,@10                                             0943 03110000
         BNZ   @RF00943                                            0943 03111000
*     SCANREG=ADDR(ANSRAREA)+LINDATLN;/* NO COMMA OR BLANK FOUND- GET   03112000
*                                      ORIGINAL SPLIT ADDRESS        */ 03113000
         LR    SCANREG,LINAD                                       0944 03114000
         AH    SCANREG,LINDATLN                                    0944 03115000
*   ELSE                            /* NO - NOT AT BEGINNING         */ 03116000
*     GO TO NPMCOMBL;               /* CONTINUE LINE SCAN            */ 03117000
*NPMNXSCT:                          /* SET FLAGS IN NEXT TWO SCT   0946 03118000
*                                      ENTRIES                       */ 03119000
*   SCTINUSE='1'B;                  /* SET SCT TO IN USE             */ 03120000
NPMNXSCT DS    0H                                                  0947 03121000
*   SCTAUTOD='1'B;                  /* AND AUTODELETABLE             */ 03122000
         L     @10,NEXTSCT                                         0947 03123000
         OI    SCTINUSE(@10),B'11000000'                           0947 03124000
*   NEXTSCT=NEXTSCT+LENGTH(SCTENTRY);/* POINT TO NEXT SCT            */ 03125000
         LA    @06,2                                               0948 03126000
         ALR   @10,@06                                             0948 03127000
         ST    @10,NEXTSCT                                         0948 03128000
*   SCTINUSE='1'B;                  /* SET SCT TO IN USE             */ 03129000
*   SCTAUTOD='1'B;                  /* AND AUTODELETABLE             */ 03130000
         OI    SCTINUSE(@10),B'11000000'                           0950 03131000
*   NEXTSCT=NEXTSCT-LENGTH(SCTENTRY);/* POINT BACK TO ORIGINAL SCT   */ 03132000
         SLR   @10,@06                                             0951 03133000
         ST    @10,NEXTSCT                                         0951 03134000
*   RESPECIFY                                                      0952 03135000
*     SPLENTH1 RESTRICTED;          /* RESTRICT SPLIT LINE LENGTH  0952 03136000
*                                      REGISTER                      */ 03137000
*                                                                  0952 03138000
*   /*****************************************************************/ 03139000
*   /*                                                               */ 03140000
*   /* GET MESSAGE START ADDRESS + SCT INDEX * LINE LENGTH           */ 03141000
*   /*                                                               */ 03142000
*   /*****************************************************************/ 03143000
*                                                                  0953 03144000
*   BUFPTR=NEXTSCT-SCTBEGAD;        /* FIND SCT OFFSET               */ 03145000
         L     @06,DCMMSGSV(,DCMTSPTR)                             0953 03146000
         LR    BUFPTR,@10                                          0953 03147000
         SL    BUFPTR,SCTBEGAD(,@06)                               0953 03148000
*   BUFPTR=BUFPTR/2;                /* FIND SCT INDEX                */ 03149000
         SRL   BUFPTR,1                                            0954 03150000
*   BUFPTR=MSGSTAD+BUFPTR*LINLN;    /* PERFORM CALCULATION           */ 03151000
*                                                                  0955 03152000
         SLR   @15,@15                                             0955 03153000
         ICM   @15,3,LINLN                                         0955 03154000
         ST    @15,@TF00001                                        0955 03155000
         LR    @15,BUFPTR                                          0955 03156000
         M     @14,@TF00001                                        0955 03157000
         AL    @15,MSGSTAD(,@06)                                   0955 03158000
         LR    BUFPTR,@15                                          0955 03159000
*   /*****************************************************************/ 03160000
*   /*                                                               */ 03161000
*   /* GET LENGTH OF FIRST PART SKIPPING OVER AUTODEL AREA           */ 03162000
*   /*                                                               */ 03163000
*   /*****************************************************************/ 03164000
*                                                                  0956 03165000
*   SPLENTH1=SCANREG-ADDR(ANSRAREA)+4;                             0956 03166000
         LA    @06,4                                               0956 03167000
         LR    SPLENTH1,SCANREG                                    0956 03168000
         SLR   SPLENTH1,LINAD                                      0956 03169000
         ALR   SPLENTH1,@06                                        0956 03170000
*   BUFLINE(5:SPLENTH1)=ANSRAREA;   /* MOVE FIRST PART               */ 03171000
         LR    @15,SPLENTH1                                        0957 03172000
         SH    @15,@CH01182                                        0957 03173000
         EX    @15,@SM02994                                        0957 03174000
*   BUFLINE(1:4)=AUTDELSC;          /* FLAG AUTODELETABLE            */ 03175000
         MVC   BUFLINE(4,BUFPTR),AUTDELSC                          0958 03176000
*   BUFPTR=BUFPTR+LINLN;            /* POINT TO NEXT BUFFER LINE     */ 03177000
         AL    BUFPTR,@TF00001                                     0959 03178000
*   RESPECIFY                                                      0960 03179000
*     SCANREG UNRESTRICTED;         /* RELEASE SCAN REGISTER         */ 03180000
*   RESPECIFY                                                      0961 03181000
*     SPLENTH2 RESTRICTED;          /* RESTRICT SPLIT LINE LENGTH  0961 03182000
*                                      REGISTER                      */ 03183000
*   SPLENTH2=TOTLN-SPLENTH1+9;      /* GET LENGTH OF SECOND PART TO     03184000
*                                      BE MOVED                      */ 03185000
         LH    SPLENTH2,TOTLN                                      0962 03186000
         SLR   SPLENTH2,SPLENTH1                                   0962 03187000
         AH    SPLENTH2,@CH01096                                   0962 03188000
*   SPLENTH1=SPLENTH1-3;            /* BACK UP TO 1ST CHARACTER IN 0963 03189000
*                                      SECOND PART                   */ 03190000
         SH    SPLENTH1,@CH00327                                   0963 03191000
*   BUFLINE(6:SPLENTH2)=ANSRAREA(SPLENTH1:TOTLN);/* MOVE SECOND PART */ 03192000
         LR    @08,SPLENTH2                                        0964 03193000
         SH    @08,@CH01076                                        0964 03194000
         LR    @15,LINAD                                           0964 03195000
         ALR   @15,SPLENTH1                                        0964 03196000
         AL    @15,@CF02854                                        0964 03197000
         EX    @08,@SM02996                                        0964 03198000
*   BUFLINE(1:4)=AUTDELSC;          /* FLAG AUTODELETABLE            */ 03199000
         MVC   BUFLINE(4,BUFPTR),AUTDELSC                          0965 03200000
*   NEXTSCT=NEXTSCT+2*LENGTH(SCTENTRY);/* UPDATE SCT POINTER         */ 03201000
         LA    @08,4                                               0966 03202000
         ALR   @10,@08                                             0966 03203000
         ST    @10,NEXTSCT                                         0966 03204000
*   RESPECIFY                                                      0967 03205000
*     SPLENTH2 UNRESTRICTED;        /* RELEASE SPLIT LINE            */ 03206000
*   RESPECIFY                                                      0968 03207000
*     SPLENTH1 UNRESTRICTED;        /* LENGTH REGISTERS              */ 03208000
*   RESPECIFY                                                      0969 03209000
*     LINAD UNRESTRICTED;           /* RELEASE CURRENT LINE PTR      */ 03210000
*NPMGRCCW:                          /* SELECT DEVICE DEPENDENT CCW 0970 03211000
*                                      STRING                        */ 03212000
*                                                                  0970 03213000
*   /*****************************************************************/ 03214000
*   /*                                                               */ 03215000
*   /* IS CONSOLE A 2250                                             */ 03216000
*   /*                                                               */ 03217000
*   /*****************************************************************/ 03218000
*                                                                  0970 03219000
*   IF UCBTBYT4='02'X               /* 2250 ?                        */ 03220000
*     THEN                          /* IF SO -                       */ 03221000
NPMGRCCW CLI   UCBTBYT4(UCBPTR),X'02'                              0970 03222000
         BNE   @RF00970                                            0970 03223000
*     DO;                           /* SETUP FOR 2250 WRITE          */ 03224000
*       RPARM=ADDR(WCCW2250);       /* SELECT 2250 WRITE CCWS        */ 03225000
         LA    RPARM,WCCW2250                                      0972 03226000
*       GO TO NPMGRWRT;             /* WRITE TO SCREEN               */ 03227000
         B     NPMGRWRT                                            0973 03228000
*     END;                                                         0974 03229000
*                                                                  0974 03230000
*   /*****************************************************************/ 03231000
*   /*                                                               */ 03232000
*   /* IS CONSOLE A 2260                                             */ 03233000
*   /*                                                               */ 03234000
*   /*****************************************************************/ 03235000
*                                                                  0975 03236000
*   IF UCBTBYT4='03'X               /* 2260 ?                        */ 03237000
*     THEN                          /* IF SO -                       */ 03238000
@RF00970 CLI   UCBTBYT4(UCBPTR),X'03'                              0975 03239000
         BNE   @RF00975                                            0975 03240000
*     DO;                           /* PREPARE FOR 2260 WRITE        */ 03241000
*       RPARM=ADDR(WCCW2260);       /* SELECT 2260 WRITE CCWS        */ 03242000
         LA    RPARM,WCCW2260                                      0977 03243000
*       GO TO NPMGRWRT;             /* WRITE TO SCREEN               */ 03244000
         B     NPMGRWRT                                            0978 03245000
*     END;                                                         0979 03246000
*                                                                  0979 03247000
*   /*****************************************************************/ 03248000
*   /*                                                               */ 03249000
*   /* IS CONSOLE A 3277 OR 3155 ?                                   */ 03250000
*   /*                                                               */ 03251000
*   /*****************************************************************/ 03252000
*                                                                  0980 03253000
*   IF NPMANRD='1'B                 /* 3277 OR 3155 ?          Y01122*/ 03254000
*     THEN                          /* IF SO -                       */ 03255000
@RF00975 TM    NPMANRD,B'10000000'                                 0980 03256000
         BNO   @RF00980                                            0980 03257000
*     DO;                           /* PREPARE FOR 3277 WRITE        */ 03258000
*       RPARM=ADDR(WCCW3277);       /* SELECT 3277 WRITE CCWS        */ 03259000
         LA    RPARM,WCCW3277                                      0982 03260000
*       GO TO NPMGRWRT;             /* WRITE TO SCREEN               */ 03261000
         B     NPMGRWRT                                            0983 03262000
*     END;                                                         0984 03263000
*                                                                  0984 03264000
*   /*****************************************************************/ 03265000
*   /*                                                               */ 03266000
*   /* MUST BE 3066 CONSOLE                                          */ 03267000
*   /*                                                               */ 03268000
*   /*****************************************************************/ 03269000
*                                                                  0985 03270000
*   RPARM=ADDR(WCCW3066);           /* SELECT 3066 WRITE CCWS        */ 03271000
@RF00980 LA    RPARM,WCCW3066                                      0985 03272000
*NPMGRWRT:                          /* WRITE TO GRAPHICS SCREEN      */ 03273000
*   CALL NPMEXCPC;                  /* CALL EXCP ROUTINE             */ 03274000
*                                                                  0986 03275000
NPMGRWRT BAL   @14,NPMEXCPC                                        0986 03276000
*   /*****************************************************************/ 03277000
*   /*                                                               */ 03278000
*   /* IS CONSOLE A 2250                                             */ 03279000
*   /*                                                               */ 03280000
*   /*****************************************************************/ 03281000
*                                                                  0987 03282000
*   IF UCBTBYT4='02'X               /* 2250 ?                        */ 03283000
*     THEN                          /* IF SO -                       */ 03284000
         CLI   UCBTBYT4(UCBPTR),X'02'                              0987 03285000
         BNE   @RF00987                                            0987 03286000
*     DO;                           /* CHANGE DATA LENGTH            */ 03287000
*       W2250DAT='025A'X;           /* CHANGE DATA LENGTH IN 2250  0989 03288000
*                                      WRITE CCW TO 602              */ 03289000
         MVC   W2250DAT(2),@CB02940                                0989 03290000
*       GO TO NPMUPEX;              /* BRANCH TO EXIT                */ 03291000
         B     NPMUPEX                                             0990 03292000
*     END;                                                         0991 03293000
*                                                                  0991 03294000
*   /*****************************************************************/ 03295000
*   /*                                                               */ 03296000
*   /* IS CONSOLE A 3277 OR 3155 ?                                   */ 03297000
*   /*                                                               */ 03298000
*   /*****************************************************************/ 03299000
*                                                                  0992 03300000
*   IF NPMANRD='1'B                 /* 3277 OR 3155 ?          Y01122*/ 03301000
*     THEN                          /* YES -                         */ 03302000
@RF00987 TM    NPMANRD,B'10000000'                                 0992 03303000
         BNO   @RF00992                                            0992 03304000
*     W3277FLG='0020'X;             /* SET FOR NO COMMAND CHAIN      */ 03305000
         MVC   W3277FLG(2),@CB02942                                0993 03306000
*NPMUPEX:                           /* PREPARE TO EXIT               */ 03307000
*   GENERATE;                                                      0994 03308000
@RF00992 DS    0H                                                  0994 03309000
NPMUPEX  DS    0H                                                  0994 03310000
*                                       /* GENERATE EXIT LINKAGE     */ 03311000
         LM 2,1,UPSCRSAV                   RESTORE CALLERS REGS         03312000
         BR 14                             RETURN TO CALLER             03313000
UPSCRSAV DS 16F                            REGISTER SAVE AREA           03314000
*                                                                  0995 03315000
*   /*****************************************************************/ 03316000
*   /*                                                               */ 03317000
*   /* SUBROUTINE TO INITIALIZE FOR A GRAPHICS CONSOLE               */ 03318000
*   /*                                                               */ 03319000
*   /*****************************************************************/ 03320000
*                                                                  0995 03321000
*NPMGINIT:                                                         0995 03322000
*   GEN(STM 2,1,INITSAV);           /* SAVE CALLER'S REGS            */ 03323000
NPMGINIT STM 2,1,INITSAV                                                03324000
*   UCBATI='04'X;                   /* CHANGE ATTN TABLE INDEX TO  0996 03325000
*                                      CONSOLE ATTN ROUTINE          */ 03326000
         L     @10,UCBEXTPT(,UCBPTR)                               0996 03327000
         MVI   UCBATI(@10),X'04'                                   0996 03328000
*   NPMGRAPH='1'B;                  /* INDICATE GRAPHICS CONSOLE     */ 03329000
*                                                                  0997 03330000
         OI    NPMGRAPH,B'00000100'                                0997 03331000
*   /*****************************************************************/ 03332000
*   /*                                                               */ 03333000
*   /* IS CONSOLE A 2250                                             */ 03334000
*   /*                                                               */ 03335000
*   /*****************************************************************/ 03336000
*                                                                  0998 03337000
*   IF UCBTBYT4='02'X               /* 2250 CONSOLE ?                */ 03338000
*     THEN                          /* IF SO -                       */ 03339000
         CLI   UCBTBYT4(UCBPTR),X'02'                              0998 03340000
         BNE   @RF00998                                            0998 03341000
*     DO;                           /* FIND 2250 DCM LENGTH          */ 03342000
*       DEVDEPLN=853;               /* GET DEVICE DEPENDENT LEN      */ 03343000
         MVC   DEVDEPLN(3),@CF02946+1                              1000 03344000
*       GO TO NPMDCMSZ;             /* BRANCH TO GET DCM             */ 03345000
         B     NPMDCMSZ                                            1001 03346000
*     END;                                                         1002 03347000
*                                                                  1002 03348000
*   /*****************************************************************/ 03349000
*   /*                                                               */ 03350000
*   /* IS CONSOLE A 2260                                             */ 03351000
*   /*                                                               */ 03352000
*   /*****************************************************************/ 03353000
*                                                                  1003 03354000
*   IF UCBTBYT4='03'X               /* 2260 CONSOLE ?                */ 03355000
*     THEN                          /* IF SO -                       */ 03356000
@RF00998 CLI   UCBTBYT4(UCBPTR),X'03'                              1003 03357000
         BNE   @RF01003                                            1003 03358000
*     DO;                           /* FIND 2260 DCM LENGTH          */ 03359000
*       DEVDEPLN=897;               /* GET DEVICE DEPENDENT LEN      */ 03360000
         MVC   DEVDEPLN(3),@CF02948+1                              1005 03361000
*       GO TO NPMDCMSZ;             /* BRANCH TO GET DCM             */ 03362000
         B     NPMDCMSZ                                            1006 03363000
*     END;                                                         1007 03364000
*                                                                  1007 03365000
*   /*****************************************************************/ 03366000
*   /*                                                               */ 03367000
*   /* IS CONSOLE A 3066                                             */ 03368000
*   /*                                                               */ 03369000
*   /*****************************************************************/ 03370000
*                                                                  1008 03371000
*   IF UCBTBYT4='08'X               /* 3066 CONSOLE ?                */ 03372000
*     THEN                          /* IF SO -                       */ 03373000
@RF01003 CLI   UCBTBYT4(UCBPTR),X'08'                              1008 03374000
         BNE   @RF01008                                            1008 03375000
*     DO;                           /* FIND 3066 DCM LENGTH          */ 03376000
*       DEVDEPLN=897;               /* GET DEVICE DEPENDENT LEN      */ 03377000
         MVC   DEVDEPLN(3),@CF02948+1                              1010 03378000
*       GO TO NPMDCMSZ;             /* BRANCH TO GET DCM             */ 03379000
         B     NPMDCMSZ                                            1011 03380000
*     END;                                                         1012 03381000
*                                                                  1012 03382000
*   /*****************************************************************/ 03383000
*   /*                                                               */ 03384000
*   /* MUST BE 3277 OR 3155 CONSOLE                                  */ 03385000
*   /*                                                               */ 03386000
*   /*****************************************************************/ 03387000
*                                                                  1013 03388000
*   NPMANRD='1'B;                   /* SET 3270-LIKE MASTER CONSOLE     03389000
*                                      FLAG                    Y01122*/ 03390000
@RF01008 OI    NPMANRD,B'10000000'                                 1013 03391000
*   DEVDEPLN=919;                   /* GET DEVICE DEPENDENT LENGTH   */ 03392000
         MVC   DEVDEPLN(3),@CF02949+1                              1014 03393000
*NPMDCMSZ:                          /* GET BUFFER FOR DCM            */ 03394000
*   DEVDEPLN=DEVDEPLN+24;           /* FIND TOTAL DCM SIZE           */ 03395000
NPMDCMSZ LA    @10,24                                              1015 03396000
         SLR   @06,@06                                             1015 03397000
         ICM   @06,7,DEVDEPLN                                      1015 03398000
         ALR   @10,@06                                             1015 03399000
         STCM  @10,7,DEVDEPLN                                      1015 03400000
*   GENERATE;                                                      1016 03401000
*                                      /* GEN GETMAIN FOR DCM        */ 03402000
           L 0,DCMSIZE                    REG 0 = DCM SIZE              03403000
           GETMAIN R,LV=(0)               GET BUFFER                    03404000
*   BUFPTR=RPARM;                   /* GET ADDR OF AREA              */ 03405000
         LR    BUFPTR,RPARM                                        1017 03406000
*   DCMMSGSV=BUFPTR;                /* SAVE ADDRESS OF DCM AREA      */ 03407000
         ST    BUFPTR,DCMMSGSV(,DCMTSPTR)                          1018 03408000
*   DCMNIPP='1'B;                   /* INDICATE DCM IN USE BY NIP    */ 03409000
         OI    DCMNIPP(DCMTSPTR),B'00001000'                       1019 03410000
*   BUFPTR=BUFPTR+24;               /* GET ADDRESS OF FIRST BYTE TO     03411000
*                                      BE WRITTEN                    */ 03412000
         AH    BUFPTR,@CH00042                                     1020 03413000
*   ST2250AD=BUFPTR;                /* SAVE ADDRESS OF 1ST BYTE      */ 03414000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1021 03415000
         ST    BUFPTR,ST2250AD(,@10)                               1021 03416000
*   RESPECIFY                                                      1022 03417000
*     REALAD RESTRICTED;            /* RESTRICT REAL ADDR REG        */ 03418000
*                                                                  1022 03419000
*   /*****************************************************************/ 03420000
*   /*                                                               */ 03421000
*   /* IS CONSOLE A 2250                                             */ 03422000
*   /*                                                               */ 03423000
*   /*****************************************************************/ 03424000
*                                                                  1023 03425000
*   IF UCBTBYT4='02'X               /* 2250 CONSOLE ?                */ 03426000
*     THEN                          /* IF SO -                       */ 03427000
         CLI   UCBTBYT4(UCBPTR),X'02'                              1023 03428000
         BNE   @RF01023                                            1023 03429000
*     DO;                           /* INITIALIZE FOR 2250           */ 03430000
*       GEN(LRA REALAD,0(BUFPTR));  /* GET REAL BUFFER ADDR          */ 03431000
         LRA REALAD,0(BUFPTR)                                           03432000
*       W2250BUF=REALAD;            /* PUT BUFFER POINTER INTO 2250     03433000
*                                      WRITE CCW                     */ 03434000
         STCM  REALAD,7,W2250BUF                                   1026 03435000
*       LINDATLN=70;                /* SET LINE DATA LENGTH          */ 03436000
         MVC   LINDATLN(2),@CH02951                                1027 03437000
*       ST2250=ST2250OR;            /* FILL IN STARTING ORDERS       */ 03438000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1028 03439000
         L     @10,ST2250AD(,@10)                                  1028 03440000
         MVC   ST2250(10,@10),ST2250OR                             1028 03441000
*       BUFPTR=BUFPTR+10;           /* INCREMENT BUFFER POINTER      */ 03442000
         AH    BUFPTR,@CH02648                                     1029 03443000
*       GO TO NPMSAVPT;             /* BRANCH TO INITIALIZE DCM      */ 03444000
         B     NPMSAVPT                                            1030 03445000
*     END;                                                         1031 03446000
*                                                                  1031 03447000
*   /*****************************************************************/ 03448000
*   /*                                                               */ 03449000
*   /* IS CONSOLE A 2260                                             */ 03450000
*   /*                                                               */ 03451000
*   /*****************************************************************/ 03452000
*                                                                  1032 03453000
*   IF UCBTBYT4='03'X               /* 2260 CONSOLE ?                */ 03454000
*     THEN                          /* IF SO -                       */ 03455000
@RF01023 CLI   UCBTBYT4(UCBPTR),X'03'                              1032 03456000
         BNE   @RF01032                                            1032 03457000
*     DO;                           /* INITIALIZE FOR 2260           */ 03458000
*       GEN(LRA REALAD,0(BUFPTR));  /* GET REAL BUFFER ADDR          */ 03459000
         LRA REALAD,0(BUFPTR)                                           03460000
*       W2260BUF=REALAD;            /* PUT BUFFER POINTER INTO 2260     03461000
*                                      WRITE CCW                     */ 03462000
         STCM  REALAD,7,W2260BUF                                   1035 03463000
*       LINDATLN=76;                /* SET LINE DATA LENGTH          */ 03464000
         MVC   LINDATLN(2),@CH02953                                1036 03465000
*       GO TO NPMSAVPT;             /* BRANCH TO INITIALIZE DCM      */ 03466000
         B     NPMSAVPT                                            1037 03467000
*     END;                                                         1038 03468000
*                                                                  1038 03469000
*   /*****************************************************************/ 03470000
*   /*                                                               */ 03471000
*   /* IS CONSOLE A 3066                                             */ 03472000
*   /*                                                               */ 03473000
*   /*****************************************************************/ 03474000
*                                                                  1039 03475000
*   IF UCBTBYT4='08'X               /* 3066 CONSOLE ?                */ 03476000
*     THEN                          /* IF SO -                       */ 03477000
@RF01032 CLI   UCBTBYT4(UCBPTR),X'08'                              1039 03478000
         BNE   @RF01039                                            1039 03479000
*     DO;                           /* INITIALIZE FOR 3066           */ 03480000
*       GEN(LRA REALAD,0(BUFPTR));  /* GET REAL BUFFER ADDR          */ 03481000
         LRA REALAD,0(BUFPTR)                                           03482000
*       W3066BUF=REALAD;            /* PUT BUFFER POINTER INTO 3066     03483000
*                                      WRITE CCW                     */ 03484000
         STCM  REALAD,7,W3066BUF                                   1042 03485000
*       LINDATLN=76;                /* SET LINE DATA LENGTH          */ 03486000
         MVC   LINDATLN(2),@CH02953                                1043 03487000
*       GO TO NPMSAVPT;             /* BRANCH TO INITIALIZE DCM      */ 03488000
         B     NPMSAVPT                                            1044 03489000
*     END;                                                         1045 03490000
*                                                                  1045 03491000
*   /*****************************************************************/ 03492000
*   /*                                                               */ 03493000
*   /* MUST BE 3277 OR 3155 CONSOLE                                  */ 03494000
*   /*                                                               */ 03495000
*   /*****************************************************************/ 03496000
*                                                                  1046 03497000
*   GEN(LRA REALAD,0(BUFPTR));      /* GET REAL ADDR OF BUFFER       */ 03498000
@RF01039 DS    0H                                                  1046 03499000
         LRA REALAD,0(BUFPTR)                                           03500000
*   W3277BUF=REALAD;                /* PUT BUFFER POINTER INTO 3277     03501000
*                                      WRITE CCW                     */ 03502000
         STCM  REALAD,7,W3277BUF                                   1047 03503000
*   LINDATLN=74;                    /* SET LINE DATA LENGTH          */ 03504000
         MVC   LINDATLN(2),@CH02954                                1048 03505000
*   ST3277=ST3277OR;                /* FILL IN STARTING ORDERS       */ 03506000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1049 03507000
         L     @10,ST2250AD(,@10)                                  1049 03508000
         MVC   ST3277(6,@10),ST3277OR                              1049 03509000
*   BUFPTR=BUFPTR+6;                /* INCREMENT BUFFER POINTER      */ 03510000
         AH    BUFPTR,@CH01076                                     1050 03511000
*NPMSAVPT:                          /* INITIALIZE DCM DEPENDING ON 1051 03512000
*                                      DEVICE TYPE                   */ 03513000
*   MSGSTAD=BUFPTR;                 /* SAVE MESSAGE START ADDRESS    */ 03514000
NPMSAVPT L     @10,DCMMSGSV(,DCMTSPTR)                             1051 03515000
         ST    BUFPTR,MSGSTAD(,@10)                                1051 03516000
*   LINLN=LINDATLN+4;               /* GET LINE LENGTH               */ 03517000
*                                                                  1052 03518000
         LA    @10,4                                               1052 03519000
         AH    @10,LINDATLN                                        1052 03520000
         STH   @10,LINLN                                           1052 03521000
*   /*****************************************************************/ 03522000
*   /*                                                               */ 03523000
*   /* IS CONSOLE A 3277 OR 3155                                     */ 03524000
*   /*                                                               */ 03525000
*   /*****************************************************************/ 03526000
*                                                                  1053 03527000
*   IF NPMANRD='1'B                 /* 3277 OR 3155 ?          Y01122*/ 03528000
*     THEN                          /* IF SO -                       */ 03529000
         TM    NPMANRD,B'10000000'                                 1053 03530000
         BNO   @RF01053                                            1053 03531000
*     LINLN=LINLN+2;                /* INCREMENT LINE LENGTH BY 2    */ 03532000
         AH    @10,@CH00120                                        1054 03533000
         STH   @10,LINLN                                           1054 03534000
*   BUFPTR=BUFPTR+LINLN*7;          /* SKIP OVER MESSAGE AREA        */ 03535000
@RF01053 SLR   @10,@10                                             1055 03536000
         ICM   @10,3,LINLN                                         1055 03537000
         LR    @06,@10                                             1055 03538000
         MH    @06,@CH01042                                        1055 03539000
         ALR   BUFPTR,@06                                          1055 03540000
*   MSGENDAD=BUFPTR;                /* SAVE MESSAGE END ADDRESS      */ 03541000
         L     @06,DCMMSGSV(,DCMTSPTR)                             1056 03542000
         ST    BUFPTR,MSGENDAD(,@06)                               1056 03543000
*   BUFPTR=BUFPTR+LINLN;            /* POINT TO END OF MSG AREA      */ 03544000
*                                                                  1057 03545000
         ALR   BUFPTR,@10                                          1057 03546000
*   /*****************************************************************/ 03547000
*   /*                                                               */ 03548000
*   /* IS CONSOLE A 3277 OR 3155                                     */ 03549000
*   /*                                                               */ 03550000
*   /*****************************************************************/ 03551000
*                                                                  1058 03552000
*   IF NPMANRD='1'B                 /* 3277 OR 3155 ?          Y01122*/ 03553000
*     THEN                          /* IF SO -                       */ 03554000
         TM    NPMANRD,B'10000000'                                 1058 03555000
         BNO   @RF01058                                            1058 03556000
*     DO;                           /* SET BLANKING CONTROL          */ 03557000
*       BL3277=BL3277CH;            /* FILL IN 3277 BLANKING CHARS   */ 03558000
         MVC   BL3277(4,BUFPTR),BL3277CH                           1060 03559000
*       BUFPTR=BUFPTR+4;            /* INCREMENT BUFFER POINTER      */ 03560000
         AH    BUFPTR,@CH00101                                     1061 03561000
*     END;                                                         1062 03562000
*   BUFPTR=BUFPTR+LINLN;            /* SKIP A LINE                   */ 03563000
*                                                                  1063 03564000
@RF01058 SLR   @10,@10                                             1063 03565000
         ICM   @10,3,LINLN                                         1063 03566000
         ALR   BUFPTR,@10                                          1063 03567000
*   /*****************************************************************/ 03568000
*   /*                                                               */ 03569000
*   /* IS CONSOLE A 2250                                             */ 03570000
*   /*                                                               */ 03571000
*   /*****************************************************************/ 03572000
*                                                                  1064 03573000
*   IF UCBTBYT4='02'X               /* 2250 CONSOLE ?                */ 03574000
*     THEN                          /* IF SO -                       */ 03575000
         CLI   UCBTBYT4(UCBPTR),X'02'                              1064 03576000
         BNE   @RF01064                                            1064 03577000
*     DO;                           /* SET ENDING ORDERS             */ 03578000
*       EN2250=EN2250OR;            /* FILL IN 2250 ENDING ORDERS    */ 03579000
         MVC   EN2250(8,BUFPTR),EN2250OR                           1066 03580000
*       BUFPTR=BUFPTR+8;            /* INCREMENT BUFFER POINTER      */ 03581000
         AH    BUFPTR,@CH00107                                     1067 03582000
*     END;                                                         1068 03583000
*   ENTAREAD=BUFPTR;                /* SAVE ADDRESS OF ENTRY AREA    */ 03584000
@RF01064 L     @10,DCMMSGSV(,DCMTSPTR)                             1069 03585000
         ST    BUFPTR,ENTAREAD(,@10)                               1069 03586000
*   BUFPTR=BUFPTR+LINLN*2;          /* SKIP OVER ENTRY AREA          */ 03587000
*                                                                  1070 03588000
         SLR   @10,@10                                             1070 03589000
         ICM   @10,3,LINLN                                         1070 03590000
         ALR   @10,@10                                             1070 03591000
         ALR   BUFPTR,@10                                          1070 03592000
*   /*****************************************************************/ 03593000
*   /*                                                               */ 03594000
*   /* IS CONSOLE A 2250                                             */ 03595000
*   /*                                                               */ 03596000
*   /*****************************************************************/ 03597000
*                                                                  1071 03598000
*   IF UCBTBYT4='02'X               /* 2250 CONSOLE ?                */ 03599000
*     THEN                          /* IF SO -                       */ 03600000
         CLI   UCBTBYT4(UCBPTR),X'02'                              1071 03601000
         BNE   @RF01071                                            1071 03602000
*     DO;                           /* SET ENDING ORDERS             */ 03603000
*       END2250=END2250R;           /* FILL IN 2250 ENDING ORDERS    */ 03604000
         MVC   END2250(4,BUFPTR),END2250R                          1073 03605000
*       BUFPTR=BUFPTR+4;            /* INCREMENT BUFFER POINTER      */ 03606000
         AH    BUFPTR,@CH00101                                     1074 03607000
*       GO TO NPMSTSCT;             /* BRANCH TO INITIALIZE SCT      */ 03608000
         B     NPMSTSCT                                            1075 03609000
*     END;                                                         1076 03610000
*                                                                  1076 03611000
*   /*****************************************************************/ 03612000
*   /*                                                               */ 03613000
*   /* IS CONSOLE A 3277 OR 3155                                     */ 03614000
*   /*                                                               */ 03615000
*   /*****************************************************************/ 03616000
*                                                                  1077 03617000
*   IF NPMANRD='1'B                 /* 3277 OR 3155 ?          Y01122*/ 03618000
*     THEN                          /* IF SO -                       */ 03619000
@RF01071 TM    NPMANRD,B'10000000'                                 1077 03620000
         BNO   @RF01077                                            1077 03621000
*     DO;                           /* SET READ CONTROL              */ 03622000
*       RD3277=RD3277CH;            /* FILL IN 3277 READ CHARS       */ 03623000
         MVC   RD3277(11,BUFPTR),RD3277CH                          1079 03624000
*       GEN(LRA REALAD,0(BUFPTR));  /* GET REAL BUFFER ADDR          */ 03625000
         LRA REALAD,0(BUFPTR)                                           03626000
*       R3277BF1=REALAD;            /* PUT BUFFER POINTER INTO 3277     03627000
*                                      READ CCW'S                    */ 03628000
         STCM  REALAD,7,R3277BF1                                   1081 03629000
*       R3277BF2=REALAD;            /* (WRITE CONTROL ADRESSES)      */ 03630000
         STCM  REALAD,7,R3277BF2                                   1082 03631000
*       BUFPTR=BUFPTR+12;           /* INCREMENT BUFFER POINTER      */ 03632000
         AH    BUFPTR,@CH00033                                     1083 03633000
*     END;                                                         1084 03634000
*   RESPECIFY                                                      1085 03635000
*     REALAD UNRESTRICTED;          /* RELEASE REAL ADDR REG         */ 03636000
@RF01077 DS    0H                                                  1086 03637000
*NPMSTSCT:                          /* INIT. SCAN CONTROL TABLE      */ 03638000
*   SCTBEGAD=BUFPTR;                /* SAVE SCT BEGINNING ADDRESS    */ 03639000
NPMSTSCT L     @10,DCMMSGSV(,DCMTSPTR)                             1086 03640000
         ST    BUFPTR,SCTBEGAD(,@10)                               1086 03641000
*   SCTENDAD=SCTBEGAD+14;           /* GET SCAN CONTROL TABLE END    */ 03642000
         L     @06,DCMMSGSV(,DCMTSPTR)                             1087 03643000
         L     @06,SCTBEGAD(,@06)                                  1087 03644000
         AH    @06,@CH01833                                        1087 03645000
         ST    @06,SCTENDAD(,@10)                                  1087 03646000
*   RESPECIFY                                                      1088 03647000
*     BLKLINE RESTRICTED;           /* RESTRICT LINE COUNTER         */ 03648000
*                                                                  1088 03649000
*   /*****************************************************************/ 03650000
*   /*                                                               */ 03651000
*   /* IS CONSOLE A 3277 OR 3155                                     */ 03652000
*   /*                                                               */ 03653000
*   /*****************************************************************/ 03654000
*                                                                  1089 03655000
*   IF NPMANRD='1'B                 /* 3277 OR 3155 ?          Y01122*/ 03656000
*     THEN                          /* IF SO -                       */ 03657000
         TM    NPMANRD,B'10000000'                                 1089 03658000
         BNO   @RF01089                                            1089 03659000
*     BLKLINE=8;                    /* SET NUMBER OF LINES = 8       */ 03660000
         LA    BLKLINE,8                                           1090 03661000
*   ELSE                            /* IF NOT 3277 OR 3155 -         */ 03662000
*     BLKLINE=9;                    /* SET NUMBER OF LINES = 9       */ 03663000
         B     @RC01089                                            1091 03664000
@RF01089 LA    BLKLINE,9                                           1091 03665000
*   RESPECIFY                                                      1092 03666000
*     MSGADR RESTRICTED;            /* RESTRICT MESSAGE POINTER      */ 03667000
@RC01089 DS    0H                                                  1093 03668000
*   RESPECIFY                                                      1093 03669000
*     MSGST BASED(MSGADR);          /* BASE MESSAGE ON POINTER       */ 03670000
*   MSGADR=MSGSTAD;                 /* POINT TO MESSAGE AREA START   */ 03671000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1094 03672000
         L     MSGADR,MSGSTAD(,@10)                                1094 03673000
*NPMBLKMG:                          /* BLANK OUT MESSAGE AREA        */ 03674000
*   MSGST(1:LINLN1)=BLANKS;         /* MOVE BLANKS INTO LINE         */ 03675000
NPMBLKMG L     @10,LINLN1                                          1095 03676000
         BCTR  @10,0                                               1095 03677000
         EX    @10,@SM02999                                        1095 03678000
*   MSGADR=MSGADR+LINLN;            /* POINT TO NEXT LINE            */ 03679000
         SLR   @10,@10                                             1096 03680000
         ICM   @10,3,LINLN                                         1096 03681000
         ALR   MSGADR,@10                                          1096 03682000
*   BLKLINE=BLKLINE-1;              /* DECREMENT LINE COUNT          */ 03683000
*                                                                  1097 03684000
         BCTR  BLKLINE,0                                           1097 03685000
*   /*****************************************************************/ 03686000
*   /*                                                               */ 03687000
*   /* HAVE ALL LINES BEEN BLANKED                                   */ 03688000
*   /*                                                               */ 03689000
*   /*****************************************************************/ 03690000
*                                                                  1098 03691000
*   IF BLKLINE^=0                   /* LINE COUNT OF ZERO ?          */ 03692000
*     THEN                          /* IF NOT -                      */ 03693000
         LTR   BLKLINE,BLKLINE                                     1098 03694000
         BNZ   @RT01098                                            1098 03695000
*     GO TO NPMBLKMG;               /* BLANK NEXT LINE               */ 03696000
*                                                                  1099 03697000
*   /*****************************************************************/ 03698000
*   /*                                                               */ 03699000
*   /* HAS ENTRY AREA BEEN BLANKED OUT                               */ 03700000
*   /*                                                               */ 03701000
*   /*****************************************************************/ 03702000
*                                                                  1100 03703000
*   IF MSGADR>ENTAREAD              /* BLANKED PAST ENTRY AREA ?     */ 03704000
*     THEN                          /* IF SO -                       */ 03705000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1100 03706000
         L     @10,ENTAREAD(,@10)                                  1100 03707000
         CR    MSGADR,@10                                          1100 03708000
         BH    @RT01100                                            1100 03709000
*     GO TO NPMSCT0;                /* BRANCH TO ZERO SCT            */ 03710000
*   RESPECIFY                                                      1102 03711000
*     MSGST BASED(MSGSTAD);         /* RESPECIFY MSG START           */ 03712000
*   RESPECIFY                                                      1103 03713000
*     ENTAREA BASED(MSGAD);         /* RESPECIFY ENTRY AREA          */ 03714000
*                                                                  1103 03715000
*   /*****************************************************************/ 03716000
*   /*                                                               */ 03717000
*   /* BLANK OUT ENTRY AREA                                          */ 03718000
*   /*                                                               */ 03719000
*   /*****************************************************************/ 03720000
*                                                                  1104 03721000
*   MSGADR=ENTAREAD;                /* GET ADDR OF ENTRY AREA        */ 03722000
         LR    MSGADR,@10                                          1104 03723000
*   BLKLINE=2;                      /* GET NO. OF LINES TO BLANK     */ 03724000
         LA    BLKLINE,2                                           1105 03725000
*   GO TO NPMBLKMG;                 /* BLANK ENTRY AREA              */ 03726000
         B     NPMBLKMG                                            1106 03727000
*   RESPECIFY                                                      1107 03728000
*     ENTAREA BASED(ENTAREAD);      /* RESPECIFY ENTRY AREA          */ 03729000
*NPMSCT0:                           /* PREPARE SCT FOR EXIT          */ 03730000
*   SCT=SCT&&SCT;                   /* ZERO SCT                      */ 03731000
NPMSCT0  L     @10,DCMMSGSV(,DCMTSPTR)                             1108 03732000
         L     @10,SCTBEGAD(,@10)                                  1108 03733000
         XC    SCT(17,@10),SCT(@10)                                1108 03734000
*   STOPPER='01'X;                  /* PUT STOPPER IN LAST BYTE      */ 03735000
         MVI   STOPPER(@10),X'01'                                  1109 03736000
*   NEXTSCT=SCTBEGAD;               /* GET ADDR OF NEXT SCT ENTRY    */ 03737000
         ST    @10,NEXTSCT                                         1110 03738000
*   GENERATE;                                                      1111 03739000
*                                      /* RETURN TO CALLER           */ 03740000
        LM 2,1,INITSAV                    RESTORE CALLERS REGS          03741000
        BR REXIT                          RETURN TO CALLER              03742000
*                                                                  1112 03743000
*   /*****************************************************************/ 03744000
*   /*                                                               */ 03745000
*   /* ROUTINE TO ROLL GRAPHICS SCREEN IMAGE UP ONE LINE             */ 03746000
*   /*                                                               */ 03747000
*   /*****************************************************************/ 03748000
*                                                                  1112 03749000
*   RESPECIFY                                                      1112 03750000
*     LOOPCNT RESTRICTED;           /* RESTRICT LINE COUNTER         */ 03751000
*NPMROLL:                                                          1113 03752000
*   GEN(STM 2,1,ROLLSAV);           /* SAVE CALLER'S REGS            */ 03753000
NPMROLL  STM 2,1,ROLLSAV                                                03754000
*   LOOPCNT=7;                      /* NO. OF LINES TO MOVE = 7      */ 03755000
         LA    LOOPCNT,7                                           1114 03756000
*   BUFPTR=MSGSTAD;                 /* GET ADDR OF MESSAGE START     */ 03757000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1115 03758000
         L     BUFPTR,MSGSTAD(,@10)                                1115 03759000
*NPMNXTLN:                          /* MOVE ALL LINES UP ONE         */ 03760000
*   NEXTLINE=BUFPTR+LINLN;          /* GET ADDR OF NEXT LINE         */ 03761000
NPMNXTLN LR    @10,BUFPTR                                          1116 03762000
         SLR   @06,@06                                             1116 03763000
         ICM   @06,3,LINLN                                         1116 03764000
         ALR   @10,@06                                             1116 03765000
         ST    @10,NEXTLINE                                        1116 03766000
*   BUFLINE(1:LINLN1)=NXTBUFLN;     /* MOVE LINE UP                  */ 03767000
         L     @06,LINLN1                                          1117 03768000
         BCTR  @06,0                                               1117 03769000
         EX    @06,@SM03001                                        1117 03770000
*   BUFPTR=NEXTLINE;                /* POINT TO NEXT LINE            */ 03771000
         LR    BUFPTR,@10                                          1118 03772000
*   LOOPCNT=LOOPCNT-1;              /* DECREMENT COUNT               */ 03773000
*                                                                  1119 03774000
         BCTR  LOOPCNT,0                                           1119 03775000
*   /*****************************************************************/ 03776000
*   /*                                                               */ 03777000
*   /* ALL LINES MOVED UP?                                           */ 03778000
*   /*                                                               */ 03779000
*   /*****************************************************************/ 03780000
*                                                                  1120 03781000
*   IF LOOPCNT^=0                   /* AT END OF MOVE LOOP ?         */ 03782000
*     THEN                          /* IF NOT -                      */ 03783000
         LTR   LOOPCNT,LOOPCNT                                     1120 03784000
         BNZ   @RT01120                                            1120 03785000
*     GO TO NPMNXTLN;               /* MOVE NEXT LINE                */ 03786000
*   BUFLINE(1:LINLN1)=BLANKS;       /* BLANK OUT LAST LINE           */ 03787000
         EX    @06,@SM03003                                        1122 03788000
*   NEXTSCT=SCTENDAD;               /* GET ADDR OF LAST SCT ENTRY    */ 03789000
         L     @10,DCMMSGSV(,DCMTSPTR)                             1123 03790000
         L     @10,SCTENDAD(,@10)                                  1123 03791000
         ST    @10,NEXTSCT                                         1123 03792000
*   SCTINUSE='0'B;                  /* SET LAST SCT TO NOT IN USE    */ 03793000
         NI    SCTINUSE(@10),B'01111111'                           1124 03794000
*   GENERATE;                                                      1125 03795000
*                                      /* GEN RETURN TO CALLER       */ 03796000
         LM 2,1,ROLLSAV                   RESTORE CALLERS REGS          03797000
         BR REXIT                         RETURN TO CALLER              03798000
*   END NPMUPSCR;                   /* END - NPMUPSCR PROCEDURE      */ 03799000
@EL00009 DS    0H                                                  1126 03800000
@EF00009 DS    0H                                                  1126 03801000
@ER00009 BR    @14                                                 1126 03802000
*   END IEAVNPM2                    /* END - IEAVNPM2              1127 03803000
*                                                                    */ 03804000
*                                                                  1127 03805000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 03806000
*/*%INCLUDE SYSLIB  (CVT     )                                       */ 03807000
*/*%INCLUDE SYSLIB  (IEERDCM )                                       */ 03808000
*/*%INCLUDE SYSLIB  (IEZDEB  )                                       */ 03809000
*/*%INCLUDE SYSLIB  (IHAECB  )                                       */ 03810000
*/*%INCLUDE SYSLIB  (IEZIOB  )                                       */ 03811000
*/*%INCLUDE SYSLIB  (IEFUCBOB)                                       */ 03812000
*/*%INCLUDE SYSLIB  (IEECUCM )                                       */ 03813000
*/*%INCLUDE SYSLIB  (IHANVT  )                                       */ 03814000
*/*%INCLUDE SYSLIB  (IEAPMNIP)                                       */ 03815000
*/*%INCLUDE SYSLIB  (IEAPNPB )                                       */ 03816000
*                                                                  1127 03817000
*       ;                                                          1127 03818000
@DATA    DS    0H                                                       03819000
@CH00120 DC    H'2'                                                     03820000
@CH00327 DC    H'3'                                                     03821000
@CH01182 DC    H'5'                                                     03822000
@CH01076 DC    H'6'                                                     03823000
@CH01042 DC    H'7'                                                     03824000
@CH01096 DC    H'9'                                                     03825000
@CH02648 DC    H'10'                                                    03826000
@CH00033 DC    H'12'                                                    03827000
@CH01833 DC    H'14'                                                    03828000
@CH01185 DC    H'16'                                                    03829000
@CH00042 DC    H'24'                                                    03830000
@CH02951 DC    H'70'                                                    03831000
@CH02954 DC    H'74'                                                    03832000
@CH02953 DC    H'76'                                                    03833000
@CH02685 DC    H'83'                                                    03834000
@SM02980 MVC   0(0,@14),@TS00001                                        03835000
@SM02982 MVC   REPLYBUF(0,RPARM),0(@15)                                 03836000
@SM02984 MVC   REPLYBUF(0,RPARM),0(@14)                                 03837000
@SM02987 MVC   NIPMBMTX(0,@10),REPLYBUF+4(RPARM)                        03838000
@SM02994 MVC   BUFLINE+4(0,BUFPTR),ANSRAREA(LINAD)                      03839000
@SM02996 MVC   BUFLINE+5(0,BUFPTR),ANSRAREA(@15)                        03840000
@SM02999 MVC   MSGST(0,MSGADR),BLANKS                                   03841000
@SM03001 MVC   BUFLINE(0,BUFPTR),NXTBUFLN(@10)                          03842000
@SM03003 MVC   BUFLINE(0,BUFPTR),BLANKS                                 03843000
         DS    0F                                                       03844000
@TF00001 DS    F                                                        03845000
         DS    0F                                                       03846000
@CF00109 DC    F'1'                                                     03847000
@CH00109 EQU   @CF00109+2                                               03848000
@CF00101 DC    F'4'                                                     03849000
@CH00101 EQU   @CF00101+2                                               03850000
@CF00107 DC    F'8'                                                     03851000
@CH00107 EQU   @CF00107+2                                               03852000
@CF02765 DC    F'80'                                                    03853000
@CH02765 EQU   @CF02765+2                                               03854000
@CF02946 DC    F'853'                                                   03855000
@CF02948 DC    F'897'                                                   03856000
@CF02949 DC    F'919'                                                   03857000
@CF02991 DC    F'-4'                                                    03858000
@CF02854 DC    F'-1'                                                    03859000
@CF02815 DC    XL4'FF000000'                                            03860000
         DS    0D                                                       03861000
ECBPTR   DS    A                                                        03862000
UCMBASPT DS    A                                                        03863000
UCMMCSPT DS    A                                                        03864000
UCMDVEPT DS    A                                                        03865000
SACBPTR  DS    A                                                        03866000
I        DS    F                                                        03867000
J        DS    F                                                        03868000
N        DS    F                                                        03869000
WTOTIME  DS    F                                                        03870000
CZERO    DC    F'0'                                                     03871000
NPMSCANE DS    F                                                        03872000
LINLN1   DS    F                                                        03873000
NEXTSCT  DS    A                                                        03874000
NEXTLINE DS    A                                                        03875000
THOLD    DC    F'0'                                                     03876000
NULLS    DC    F'0'                                                     03877000
MSGAD    DS    A                                                        03878000
HILOWAD  DS    A                                                        03879000
TOTLN    DS    H                                                        03880000
LINDATLN DS    H                                                        03881000
NPMW2OPR DS    H                                                        03882000
@TS00001 DS    CL83                                                     03883000
@CC02777 DC    C'  '                                                    03884000
@CC02830 DC    C' '''                                                   03885000
@CC02851 DC    C','''                                                   03886000
@CC02849 DC    C'R 0'                                                   03887000
@CC02847 DC    C'REPLY 0'                                               03888000
@CB02491 DC    X'0001'                                                  03889000
@CB02780 DC    X'5B3D'                                                  03890000
@CB02802 DC    X'F000'                                                  03891000
@CB02814 DC    X'FFFF'                                                  03892000
@CB02900 DC    X'5D5B'                                                  03893000
@CB02940 DC    X'025A'                                                  03894000
@CB02942 DC    X'0020'                                                  03895000
@CB02883 DC    X'00000000'                                              03896000
@CB02329 DC    X'00000000000000'                                        03897000
         DS    CL2                                                      03898000
@NM00083 DS    CL36                                                     03899000
         ORG   @NM00083                                                 03900000
NPBIIOBF DS    CL4                                                      03901000
         ORG   NPBIIOBF                                                 03902000
NPBIRSV1 DC    X'0000'                                                  03903000
NPBIIFB1 DC    X'00'                                                    03904000
NPBIIFB2 DC    X'00'                                                    03905000
         ORG   @NM00083+4                                               03906000
NIPIOBIC DS    CL32                                                     03907000
         ORG   NIPIOBIC                                                 03908000
NPBIIOB  DS    CL32                                                     03909000
         ORG   NPBIIOB                                                  03910000
NPBIFGSN DC    X'42000000'                                              03911000
NPBIECBA DC    AL4(NPBIECB)                                             03912000
NPBIIOB1 DC    X'0000000000000000'                                      03913000
NPBICPAD DC    A(0)                                                     03914000
NPBIDCBP DC    AL4(NPBIDCB1-40)                                         03915000
NPBIREST DC    X'0000000000000000'                                      03916000
         ORG   @NM00083+36                                              03917000
NIPECBIC DS    CL4                                                      03918000
         ORG   NIPECBIC                                                 03919000
NPBIECB  DS    CL4                                                      03920000
         ORG   NPBIECB                                                  03921000
NPBICPCD DC    X'00'                                                    03922000
NPBIRBAD DC    AL3(0)                                                   03923000
         ORG   NIPECBIC+4                                               03924000
@NM00084 DS    CL52                                                     03925000
         ORG   @NM00084                                                 03926000
NPBILNTH DC    X'06'                                                    03927000
NPBIRSVD DC    AL3(0)                                                   03928000
NIPDEBIC DS    CL48                                                     03929000
         ORG   NIPDEBIC                                                 03930000
NPBIDEB  DS    CL48                                                     03931000
         ORG   NPBIDEB                                                  03932000
NPBIDEB1 DC    A(0)                                                     03933000
NPBIAMLN DC    X'00'                                                    03934000
NPBIDEB2 DC    AL3(0)                                                   03935000
NPBIOFLG DC    X'00'                                                    03936000
NPBIDEB3 DC    X'00000000000000'                                        03937000
NPBINMXT DC    X'00'                                                    03938000
NPBIDEB4 DC    AL3(0)                                                   03939000
NPBIPRTY DC    X'00'                                                    03940000
NPBIDEB5 DC    AL3(0)                                                   03941000
NPBIKYID DC    X'0F'                                                    03942000
NPBIDCBA DC    AL3(NPBIDCB1-40)                                         03943000
NPBIXSCL DC    X'00'                                                    03944000
NPBIAPAD DC    AL3(0)                                                   03945000
NPBIDVMD DC    X'00'                                                    03946000
NPBIUCBA DC    AL3(0)                                                   03947000
NPBIDCB1 DS    CL12                                                     03948000
         ORG   NPBIDCB1                                                 03949000
NPBIMACR DC    X'00008000'                                              03950000
NPBIIFGS DC    X'0C'                                                    03951000
NPBIDEBA DC    AL3(NPBIDEB)                                             03952000
NPBIOFGS DC    X'12000000'                                              03953000
         ORG   @NM00084+52                                              03954000
@NM00085 DS    CL36                                                     03955000
         ORG   @NM00085                                                 03956000
NPBOIOBF DS    CL4                                                      03957000
         ORG   NPBOIOBF                                                 03958000
NPBORSV1 DC    X'0000'                                                  03959000
NPBOIFB1 DC    X'00'                                                    03960000
NPBOIFB2 DC    X'00'                                                    03961000
         ORG   @NM00085+4                                               03962000
NIPIOBOC DS    CL32                                                     03963000
         ORG   NIPIOBOC                                                 03964000
NPBOIOB  DS    CL32                                                     03965000
         ORG   NPBOIOB                                                  03966000
NPBOFGSN DC    X'42000000'                                              03967000
NPBOECBA DC    AL4(NPBOECB)                                             03968000
NPBOIOB1 DC    X'0000000000000000'                                      03969000
NPBOCPAD DC    A(0)                                                     03970000
NPBODCBP DC    AL4(NPBODCB1-40)                                         03971000
NPBOREST DC    X'0000000000000000'                                      03972000
         ORG   @NM00085+36                                              03973000
NIPECBOC DS    CL4                                                      03974000
         ORG   NIPECBOC                                                 03975000
NPBOECB  DS    CL4                                                      03976000
         ORG   NPBOECB                                                  03977000
NPBOCPCD DC    X'00'                                                    03978000
NPBORBAD DC    AL3(0)                                                   03979000
         ORG   NIPECBOC+4                                               03980000
         DS    CL4                                                      03981000
@NM00086 DS    CL52                                                     03982000
         ORG   @NM00086                                                 03983000
NPBOLNTH DC    X'06'                                                    03984000
NPBORSVD DC    AL3(0)                                                   03985000
NIPDEBOC DS    CL48                                                     03986000
         ORG   NIPDEBOC                                                 03987000
NPBODEB  DS    CL48                                                     03988000
         ORG   NPBODEB                                                  03989000
NPBODEB1 DC    A(0)                                                     03990000
NPBOAMLN DC    X'00'                                                    03991000
NPBODEB2 DC    AL3(0)                                                   03992000
NPBOOFLG DC    X'00'                                                    03993000
NPBODEB3 DC    X'00000000000000'                                        03994000
NPBONMXT DC    X'00'                                                    03995000
NPBODEB4 DC    AL3(0)                                                   03996000
NPBOPRTY DC    X'00'                                                    03997000
NPBODEB5 DC    AL3(0)                                                   03998000
NPBOKYID DC    X'0F'                                                    03999000
NPBODCBA DC    AL3(NPBODCB1-40)                                         04000000
NPBOXSCL DC    X'00'                                                    04001000
NPBOAPAD DC    AL3(0)                                                   04002000
NPBODVMD DC    X'00'                                                    04003000
NPBOUCBA DC    AL3(0)                                                   04004000
NPBODCB1 DS    CL12                                                     04005000
         ORG   NPBODCB1                                                 04006000
NPBOMACR DC    X'00008000'                                              04007000
NPBOIFGS DC    X'0C'                                                    04008000
NPBODEBA DC    AL3(NPBODEB)                                             04009000
NPBOOFGS DC    X'12000000'                                              04010000
         ORG   @NM00086+52                                              04011000
RCCW2250 DS    CL64                                                     04012000
         ORG   RCCW2250                                                 04013000
@NM00091 DC    X'0E'                                                    04014000
@NM00092 DC    AL3(RMIAREA)                                             04015000
@NM00093 DC    X'6000'                                                  04016000
@NM00094 DC    X'0003'                                                  04017000
@NM00095 DC    X'07'                                                    04018000
@NM00096 DC    AL3(K2250ENT)                                            04019000
@NM00097 DC    X'6000'                                                  04020000
@NM00098 DC    X'0002'                                                  04021000
@NM00099 DC    X'02'                                                    04022000
@NM00100 DC    AL3(NPMRAREA)                                            04023000
@NM00101 DC    X'6000'                                                  04024000
@NM00102 DC    X'0051'                                                  04025000
@NM00103 DC    X'07'                                                    04026000
@NM00104 DC    AL3(K2250ENT)                                            04027000
@NM00105 DC    X'6000'                                                  04028000
@NM00106 DC    X'0002'                                                  04029000
@NM00107 DC    X'01'                                                    04030000
@NM00108 DC    AL3(BLANKS)                                              04031000
@NM00109 DC    X'6000'                                                  04032000
@NM00110 DC    X'0051'                                                  04033000
@NM00111 DC    X'07'                                                    04034000
@NM00112 DC    AL3(K2250ENT)                                            04035000
@NM00113 DC    X'6000'                                                  04036000
@NM00114 DC    X'0002'                                                  04037000
@NM00115 DC    X'0F'                                                    04038000
@NM00116 DC    XL3'000000'                                              04039000
@NM00117 DC    X'6000'                                                  04040000
@NM00118 DC    X'0002'                                                  04041000
@NM00119 DC    X'27'                                                    04042000
@NM00120 DC    AL3(ZEROS)                                               04043000
@NM00121 DC    X'2000'                                                  04044000
@NM00122 DC    X'0002'                                                  04045000
         ORG   RCCW2250+64                                              04046000
RMIAREA  DS    CL3                                                      04047000
         ORG   RMIAREA                                                  04048000
RMIAREA1 DS    CL1                                                      04049000
         ORG   RMIAREA1                                                 04050000
RMIAREA2 DS    BL1                                                      04051000
@NM00234 EQU   RMIAREA1+0                                               04052000
         ORG   RMIAREA+1                                                04053000
@NM00235 DS    CL1                                                      04054000
RMIAREA3 DS    BL1                                                      04055000
@NM00236 EQU   RMIAREA+2                                                04056000
         ORG   RMIAREA+3                                                04057000
K2250ENT DC    X'02AC'                                                  04058000
BLANKS   DC    CL240' '                                                 04059000
ZEROS    DC    X'0000'                                                  04060000
         DS    CL1                                                      04061000
WCCW2250 DS    CL40                                                     04062000
         ORG   WCCW2250                                                 04063000
@NM00123 DC    X'07'                                                    04064000
@NM00124 DC    AL3(ZEROS)                                               04065000
@NM00125 DC    X'6000'                                                  04066000
@NM00126 DC    X'0002'                                                  04067000
@NM00127 DC    X'01'                                                    04068000
W2250BUF DC    AL3(0)                                                   04069000
@NM00128 DC    X'6000'                                                  04070000
W2250DAT DC    X'0344'                                                  04071000
@NM00129 DC    X'07'                                                    04072000
@NM00130 DC    AL3(K2250ENT)                                            04073000
@NM00131 DC    X'6000'                                                  04074000
@NM00132 DC    X'0002'                                                  04075000
@NM00133 DC    X'0F'                                                    04076000
@NM00134 DC    AL3(0)                                                   04077000
@NM00135 DC    X'6000'                                                  04078000
@NM00136 DC    X'0002'                                                  04079000
@NM00137 DC    X'27'                                                    04080000
@NM00138 DC    AL3(ZEROS)                                               04081000
@NM00139 DC    X'2000'                                                  04082000
@NM00140 DC    X'0002'                                                  04083000
         ORG   WCCW2250+40                                              04084000
RCCW2260 DS    CL32                                                     04085000
         ORG   RCCW2260                                                 04086000
@NM00141 DC    X'0A'                                                    04087000
@NM00142 DC    AL3(NPMRAREA)                                            04088000
@NM00143 DC    X'6000'                                                  04089000
@NM00144 DC    X'0051'                                                  04090000
@NM00145 DC    X'05'                                                    04091000
@NM00146 DC    AL3(K2260BUF)                                            04092000
@NM00147 DC    X'A000'                                                  04093000
@NM00148 DC    X'0001'                                                  04094000
@NM00149 DC    X'05'                                                    04095000
@NM00150 DC    AL3(BLANKS)                                              04096000
@NM00151 DC    X'6000'                                                  04097000
@NM00152 DC    X'0051'                                                  04098000
@NM00153 DC    X'05'                                                    04099000
@NM00154 DC    AL3(K2260ENT)                                            04100000
@NM00155 DC    X'2000'                                                  04101000
@NM00156 DC    X'0002'                                                  04102000
         ORG   RCCW2260+32                                              04103000
K2260ENT DC    X'094A'                                                  04104000
         ORG   K2260ENT                                                 04105000
K2260BUF DS    CL1                                                      04106000
         ORG   K2260ENT+2                                               04107000
         DS    CL6                                                      04108000
WCCW2260 DS    CL24                                                     04109000
         ORG   WCCW2260                                                 04110000
@NM00157 DC    X'05'                                                    04111000
@NM00158 DC    AL3(ZEROS)                                               04112000
@NM00159 DC    X'6000'                                                  04113000
@NM00160 DC    X'0001'                                                  04114000
@NM00161 DC    X'01'                                                    04115000
W2260BUF DC    AL3(0)                                                   04116000
@NM00162 DC    X'6000'                                                  04117000
@NM00163 DC    X'0280'                                                  04118000
@NM00164 DC    X'05'                                                    04119000
@NM00165 DC    AL3(K2260ENT)                                            04120000
@NM00166 DC    X'2000'                                                  04121000
@NM00167 DC    X'0002'                                                  04122000
         ORG   WCCW2260+24                                              04123000
WCCW3277 DS    CL8                                                      04124000
         ORG   WCCW3277                                                 04125000
@NM00168 DC    X'01'                                                    04126000
W3277BUF DC    AL3(0)                                                   04127000
W3277FLG DC    X'6000'                                                  04128000
@NM00169 DC    X'028A'                                                  04129000
         ORG   WCCW3277+8                                               04130000
RCCW3277 DS    CL40                                                     04131000
         ORG   RCCW3277                                                 04132000
@NM00170 DC    X'06'                                                    04133000
@NM00171 DC    AL3(RMIAREA)                                             04134000
@NM00172 DC    X'6000'                                                  04135000
@NM00173 DC    X'0001'                                                  04136000
@NM00174 DC    X'01'                                                    04137000
R3277BF1 DC    AL3(0)                                                   04138000
@NM00175 DC    X'6000'                                                  04139000
@NM00176 DC    X'0004'                                                  04140000
@NM00177 DC    X'02'                                                    04141000
@NM00178 DC    AL3(0)                                                   04142000
@NM00179 DC    X'9000'                                                  04143000
@NM00180 DC    X'0005'                                                  04144000
@NM00181 DC    X'02'                                                    04145000
@NM00182 DC    AL3(NPMRAREA)                                            04146000
@NM00183 DC    X'6000'                                                  04147000
@NM00184 DC    X'0051'                                                  04148000
@NM00185 DC    X'01'                                                    04149000
R3277BF2 DC    AL3(0)                                                   04150000
@NM00186 DC    X'0000'                                                  04151000
@NM00187 DC    X'000B'                                                  04152000
         ORG   RCCW3277+40                                              04153000
RCCW3066 DS    CL48                                                     04154000
         ORG   RCCW3066                                                 04155000
@NM00188 DC    X'0E'                                                    04156000
@NM00189 DC    AL3(RMIAREA)                                             04157000
@NM00190 DC    X'6000'                                                  04158000
@NM00191 DC    X'0003'                                                  04159000
@NM00192 DC    X'0F'                                                    04160000
@NM00193 DC    AL3(K3066BUF)                                            04161000
@NM00194 DC    X'6000'                                                  04162000
@NM00195 DC    X'0002'                                                  04163000
@NM00196 DC    X'27'                                                    04164000
@NM00197 DC    AL3(K3066BUF)                                            04165000
@NM00198 DC    X'6000'                                                  04166000
@NM00199 DC    X'0002'                                                  04167000
@NM00200 DC    X'06'                                                    04168000
@NM00201 DC    AL3(NPMRAREA)                                            04169000
@NM00202 DC    X'6000'                                                  04170000
@NM00203 DC    X'0051'                                                  04171000
@NM00204 DC    X'27'                                                    04172000
@NM00205 DC    AL3(K3066BUF)                                            04173000
@NM00206 DC    X'6000'                                                  04174000
@NM00207 DC    X'0002'                                                  04175000
@NM00208 DC    X'01'                                                    04176000
@NM00209 DC    AL3(BLANKS)                                              04177000
@NM00210 DC    X'2000'                                                  04178000
@NM00211 DC    X'00F0'                                                  04179000
         ORG   RCCW3066+48                                              04180000
K3066BUF DC    X'2000'                                                  04181000
         DS    CL6                                                      04182000
WCCW3066 DS    CL24                                                     04183000
         ORG   WCCW3066                                                 04184000
@NM00212 DC    X'27'                                                    04185000
@NM00213 DC    AL3(ZEROS)                                               04186000
@NM00214 DC    X'6000'                                                  04187000
@NM00215 DC    X'0002'                                                  04188000
@NM00216 DC    X'01'                                                    04189000
W3066BUF DC    AL3(0)                                                   04190000
@NM00217 DC    X'6000'                                                  04191000
@NM00218 DC    X'0280'                                                  04192000
@NM00219 DC    X'0F'                                                    04193000
@NM00220 DC    AL3(K3066BUF)                                            04194000
@NM00221 DC    X'2000'                                                  04195000
@NM00222 DC    X'0002'                                                  04196000
         ORG   WCCW3066+24                                              04197000
HDRMASK  DC    CL6' NIP  '                                              04198000
         DS    CL2                                                      04199000
CWAITCUA DS    CL4                                                      04200000
         ORG   CWAITCUA                                                 04201000
@NM00223 DC    H'0'                                                     04202000
CHA      DS    CL1                                                      04203000
UA       DS    CL1                                                      04204000
         ORG   CWAITCUA+4                                               04205000
NPMAVTIC DS    CL20                                                     04206000
         ORG   NPMAVTIC                                                 04207000
@NM00224 DC    AL4(NPMIBRAP)                                            04208000
@NM00225 DC    AL4(NPMIBRAP)                                            04209000
@NM00226 DC    AL4(NPMIBRAP)                                            04210000
@NM00227 DC    AL4(NPMICEAP)                                            04211000
@NM00228 DC    AL4(NPMIBRAP)                                            04212000
         ORG   NPMAVTIC+20                                              04213000
NPMAVTOC DS    CL20                                                     04214000
         ORG   NPMAVTOC                                                 04215000
@NM00229 DC    AL4(NPMIBRAP)                                            04216000
@NM00230 DC    AL4(NPMIBRAP)                                            04217000
@NM00231 DC    AL4(NPMIBRAP)                                            04218000
@NM00232 DC    AL4(NPMOCEAP)                                            04219000
@NM00233 DC    AL4(NPMOAEAP)                                            04220000
         ORG   NPMAVTOC+20                                              04221000
DCMSIZE  DS    CL4                                                      04222000
         ORG   DCMSIZE                                                  04223000
SP       DC    X'FF'                                                    04224000
DEVDEPLN DS    AL3                                                      04225000
         ORG   DCMSIZE+4                                                04226000
ST2250OR DC    X'2A822A0240000FFF2A44'                                  04227000
EN2250OR DC    X'2A02400000A02A40'                                      04228000
END2250R DC    X'2AFF0000'                                              04229000
ST3277OR DC    X'40115D7F1D60'                                          04230000
BL3277CH DC    X'3C5AD140'                                              04231000
RD3277CH DC    X'C3115AD11D40133C5D7F40'                                04232000
AUTDELSC DC    CL4'  | '                                                04233000
NPMWTBUF DS    CL1                                                      04234000
CIRCLED  DS    CL16                                                     04235000
         ORG   CIRCLED                                                  04236000
D        DC    X'16'                                                    04237000
IDLES    DC    15X'5E'                                                  04238000
         ORG   CIRCLED+16                                               04239000
RESET    DC    X'1F1F1F'                                                04240000
DRESET   DC    X'161F1F1F'                                              04241000
READAREA DS    CL87                                                     04242000
         ORG   READAREA                                                 04243000
@NM00237 DS    CL4                                                      04244000
NPMRAREA DS    CL83                                                     04245000
         ORG   READAREA+87                                              04246000
WRITAREA DS    CL136                                                    04247000
         ORG   WRITAREA                                                 04248000
NPMWHDR  DS    CL4                                                      04249000
NPMWAREA DS    CL132                                                    04250000
         ORG   WRITAREA+136                                             04251000
NPMWASAV DS    CL132                                                    04252000
NIPMSWS  DC    X'0000'                                                  04253000
         ORG   NIPMSWS                                                  04254000
NPWTOSV1 DS    BL1                                                      04255000
NPWTOSV2 EQU   NIPMSWS+0                                                04256000
NPWORSV1 EQU   NIPMSWS+0                                                04257000
NPWORSV2 EQU   NIPMSWS+0                                                04258000
NPMXCONI EQU   NIPMSWS+0                                                04259000
NPMGRAPH EQU   NIPMSWS+0                                                04260000
NPMWRTSW EQU   NIPMSWS+0                                                04261000
NPMEOBSW EQU   NIPMSWS+0                                                04262000
NPMANRD  DS    BL1                                                      04263000
RD3066   EQU   NIPMSWS+1                                                04264000
NPMILEN  EQU   NIPMSWS+1                                                04265000
@NM00238 EQU   NIPMSWS+1                                                04266000
         ORG   NIPMSWS+2                                                04267000
INITSAV  DS    16F                                                      04268000
ROLLSAV  DS    16F                                                      04269000
IEAVNPM2 CSECT                                                          04270000
*                                      /* GEN MSGS AND PARMLISTS     */ 04271000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04272000
*      MESSAGES ISSUED BY IEAVNPM2 AND PARAMETER LIST FOR IEA305A     * 04273000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04274000
* *                                                                     04275000
IEA154I  DS    0F                         MESSAGE IEA154I               04276000
         IEAPMNIP  TYPE=HEADER,MSGST=IEA154I,MSGEND=END154I             04277000
         DC    CL20'IEA154I HARDCOPY OF ' MESSAGE TEXT                  04278000
         DC    CL23'INITIALIZATION MESSAGES' MESSAGE TEXT               04279000
         DC    CL13' DISCONTINUED'        MESSAGE TEXT                  04280000
END154I  EQU   *                          END OF MESSAGE                04281000
* *                                                                     04282000
* *                                                                     04283000
IEA305A  DS    0F                         MESSAGE IEA305A               04284000
         IEAPMNIP  TYPE=HEADER,MSGST=IEA305A,MSGEND=END305A             04285000
         DC    CL21'IEA305A INVALID REPLY' MESSAGE TEXT                 04286000
         DC    CL19' FORMAT - RESPECIFY'  MESSAGE TEXT                  04287000
END305A  EQU   *                          END OF MESSAGE                04288000
* *                                                                     04289000
* *                                                                     04290000
PLSTXX7I DS    0F                                                       04291000
         IEAPMNIP  TYPE=PLIST,RMSGST=NPMRAREA,RMSGL=83,MSGST=IEA305A,  *04292000
               ASYNCH=YES                                               04293000
         EJECT ;                                                        04294000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04295000
*       CHANNEL COMMAND WORDS USED BY IEAVNIPM ROUTINES               * 04296000
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04297000
*                                                                     * 04298000
*      CCW TO SKIP TO LINE 1 ON PRINTER                               * 04299000
NPMSKCCW  DC    X'8B'                  SKIP CODE                        04300000
          DC    AL3(0)                 NO DATA AREA                     04301000
          DC    X'2000'                NO CHAINING                      04302000
          DC    H'1'                   LENGTH                           04303000
*    CCW CHAIN TO WRITE MESSAGE ON TP DEVICE                          * 04304000
NPMWTCCW  CCW   1,CIRCLED,X'A0',16     WRITE CIRCLE D AND 15 IDLES      04305000
          DC    X'01'                  TP DEVICE CCW WRITE CODE         04306000
          DC    AL3(NPMWAREA)           ADDRESS DATA AREA               04307000
          DC    X'6000'                 CHAINING                        04308000
NPMWTCWL  DS    H                       MESSAGE LENGTH                  04309000
          CCW   2,NPMWTBUF,X'60',1     READ REPLY FROM TP DEVICE        04310000
          CCW   1,RESET,X'20',3        RESET TERMINAL                   04311000
*    CCW TO WRITE MESSAGE ON UNIT RECORD DEVICE                       * 04312000
NPMWUCCW  DC    X'09'                  UNIT RECORD CCW WRITE CODE       04313000
          DC    AL3(NPMWAREA)           ADDRESS OF DATA AREA            04314000
          DC    X'2000'                 NO CHAINING                     04315000
NPMWCCWL  DS    H                       MESSAGE LENGTH                  04316000
*     CCW TO READ REPLY FROM UNIT RECORD INQUIRY DEVICE               * 04317000
NPMRQCCW  CCW   10,NPMRAREA,X'20',80   UNIT RECORD INQUIRY DEVICE READ  04318000
*    CCW TO READ REPLY FROM UNIT RECORD NON-INQUIRY DEVICE            * 04319000
NPMRFCCW  CCW   2,NPMRAREA,X'20',80    UNIT RECORD READ, FEED, SS CCW   04320000
*    CCW CHAIN TO READ REPLY FROM TP DEVICE                           * 04321000
NPMRTCCW  CCW   6,0,X'60',1            COMMUNICATION CLASS - PREPARE    04322000
          CCW   2,NPMRAREA,X'60',83      READ                           04323000
          CCW   1,DRESET,X'20',4         RESET                          04324000
          EJECT ;                                                       04325000
*        TRANSLATE INSTRUCTIONS AND TABLES                            * 04326000
*                                                                     * 04327000
NPMTRTTE  TR    NPMRAREA(0),NPMRCODE      TRANSLATE TP TO EBCDIC        04328000
NPMRCODE  EQU   *      TRANSLATE TABLE - TP TO EBCDIC                   04329000
*                  0 1 2 3 4 5 6 7 8 9 A B C D E F                    * 04330000
          DC    X'3F40F13FF23F3FF3F43F3FF53FF6F73F' 0                   04331000
          DC    X'F83F3FF93FF07B3F3F3F353F363F3F37' 1                   04332000
          DC    X'7C3F3F613FA2A33F3FA4A53FA63F3FA7' 2                   04333000
          DC    X'3FA8A93F3F3F3F6B3F3F3F253F403F3F' 3                   04334000
          DC    X'603F3F913F92933F3F94953F963F3F97' 4                   04335000
          DC    X'3F98993F3F3F3F5B3F3F3F403F16173F' 5                   04336000
          DC    X'3F50813F823F3F83843F3F853F86873F' 6                   04337000
          DC    X'883F3F893F3F4B3F3F3F053F063F3F07' 7                   04338000
          DC    X'3F407E3F4C3F3F5E7A3F3F6C3F7D6E3F' 8                   04339000
          DC    X'5C3F3F4D3F5D7F3F3F3F353F363F3F3F' 9                   04340000
          DC    X'4A3F3F6F3FE2E33F3FE4E53FE63F3FE7' A                   04341000
          DC    X'3FE8E93F3F3F3F4F3F3F3F253F263F3F' B                   04342000
          DC    X'6D3F3FD13FD2D33F3FD4D53FD63F3FD7' C                   04343000
          DC    X'3FD8D93F3F3F3F5A3F3F3F153F16173F' D                   04344000
          DC    X'3F4EC13FC23F3FC3C43F3FC53FC6C73F' E                   04345000
          DC    X'C83F3FC93F3F5F3F3F3F053F063F3F07' F                   04346000
*                                                                     * 04347000
NPMTRETT  TR    NPMWAREA(0),NPMWCODE      TRANSLATE EBCDIC TO TP        04348000
NPMWCODE  EQU   *      TRANSLATE TABLE - EBCDIC TO TP CODE              04349000
*                  0 1 2 3 4 5 6 7 8 9 A B C D E F                    * 04350000
          DC    X'5E37163D887A7C7F88888888885B8888' 0                   04351000
          DC    X'88888888885B5D5E8888888888888888' 1                   04352000
          DC    X'88888888883B3D888888888888888888' 2                   04353000
          DC    X'88885E8888881C1F8888888888888888' 3                   04354000
          DC    X'01888888888888888888A0768493E1B7' 4                   04355000
          DC    X'61888888888888888888D757909587F6' 5                   04356000
          DC    X'4023888888888888888888378BC08EA3' 6                   04357000
          DC    X'888888888888888888888816208D8296' 7                   04358000
          DC    X'88626467686B6D6E7073888888888888' 8                   04359000
          DC    X'88434546494A4C4F5152888888888888' 9                   04360000
          DC    X'88882526292A2C2F3132888888888888' A                   04361000
          DC    X'88888888888888888888888888888888' B                   04362000
          DC    X'88E2E4E7E8EBEDEEF0F3888888888888' C                   04363000
          DC    X'88C3C5C6C9CACCCFD1D2888888888888' D                   04364000
          DC    X'8888A5A6A9AAACAFB1B2888888888888' E                   04365000
          DC    X'15020407080B0D0E1013888888888888' F                   04366000
NIPSTART  DC    A(@PSTART)                                              04367000
IEAVNPM2 CSECT                                                          04368000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       04369000
@01      EQU   01                                                       04370000
@02      EQU   02                                                       04371000
@03      EQU   03                                                       04372000
@04      EQU   04                                                       04373000
@05      EQU   05                                                       04374000
@06      EQU   06                                                       04375000
@07      EQU   07                                                       04376000
@08      EQU   08                                                       04377000
@09      EQU   09                                                       04378000
@10      EQU   10                                                       04379000
@11      EQU   11                                                       04380000
@12      EQU   12                                                       04381000
@13      EQU   13                                                       04382000
@14      EQU   14                                                       04383000
@15      EQU   15                                                       04384000
RZERO    EQU   @00                                                      04385000
RPARM    EQU   @01                                                      04386000
RPRM1    EQU   @01                                                      04387000
UECB     EQU   @01                                                      04388000
RIOBAPP  EQU   @02                                                      04389000
BUFPTR   EQU   @03                                                      04390000
CVTPTR   EQU   @03                                                      04391000
RNIPM    EQU   @04                                                      04392000
UCBPTR   EQU   @04                                                      04393000
RUCB     EQU   @04                                                      04394000
RIOB     EQU   @05                                                      04395000
IOBPRPTR EQU   @05                                                      04396000
IOBSTPTR EQU   @05                                                      04397000
RBUFC    EQU   @06                                                      04398000
RSCANC   EQU   @07                                                      04399000
REALAD   EQU   @05                                                      04400000
SPLENTH1 EQU   @05                                                      04401000
SPLENTH2 EQU   @06                                                      04402000
RUCBAPP  EQU   @07                                                      04403000
DCMTSPTR EQU   @07                                                      04404000
SCANREG  EQU   @08                                                      04405000
BLKLINE  EQU   @08                                                      04406000
LOOPCNT  EQU   @08                                                      04407000
REVEN    EQU   @08                                                      04408000
MSGADR   EQU   @09                                                      04409000
LINAD    EQU   @09                                                      04410000
RCUA     EQU   @10                                                      04411000
DEBPTR   EQU   @04                                                      04412000
DEBDAPTR EQU   @04                                                      04413000
DEBEXPTR EQU   @04                                                      04414000
DEBSBPTR EQU   @04                                                      04415000
UCMEXTPT EQU   @04                                                      04416000
UCMEILPT EQU   @04                                                      04417000
UCMUEWPT EQU   @04                                                      04418000
RNVT     EQU   @02                                                      04419000
BUFPTR1  EQU   @03                                                      04420000
DCBPTR   EQU   @07                                                      04421000
NAMEPTR  EQU   @09                                                      04422000
RBASE    EQU   @11                                                      04423000
RBASE2   EQU   @12                                                      04424000
RCVT     EQU   @03                                                      04425000
REG15    EQU   @15                                                      04426000
RENTRY   EQU   @15                                                      04427000
REXIT    EQU   @14                                                      04428000
RODD     EQU   @09                                                      04429000
RSAVE    EQU   @13                                                      04430000
TCBPTR   EQU   @04                                                      04431000
UCBDCPTR EQU   @04                                                      04432000
CVTMAP   EQU   0                                                        04433000
CVTDAR   EQU   CVTMAP+72                                                04434000
CVTFLGS1 EQU   CVTDAR                                                   04435000
CVTCUCB  EQU   CVTMAP+100                                               04436000
CVTDCB   EQU   CVTMAP+116                                               04437000
CVTIERLC EQU   CVTMAP+144                                               04438000
CVTOPTA  EQU   CVTMAP+182                                               04439000
CVTOPTB  EQU   CVTMAP+183                                               04440000
CVTGTF   EQU   CVTMAP+236                                               04441000
CVTGTFST EQU   CVTGTF                                                   04442000
CVTGTFS  EQU   CVTGTFST                                                 04443000
CVTSTATE EQU   CVTGTFST                                                 04444000
CVTTMODE EQU   CVTGTFST                                                 04445000
CVTFORM  EQU   CVTGTFST                                                 04446000
CVTUSR   EQU   CVTGTFST                                                 04447000
CVTAQAVT EQU   CVTMAP+240                                               04448000
CVTTCMFG EQU   CVTAQAVT                                                 04449000
CVTVOLM2 EQU   CVTMAP+244                                               04450000
CVTTATA  EQU   CVTVOLM2                                                 04451000
CVTTSKS  EQU   CVTTATA                                                  04452000
CVTVOLF2 EQU   CVTTSKS                                                  04453000
CVTTAT   EQU   CVTTATA+1                                                04454000
CVTATER  EQU   CVTMAP+248                                               04455000
CVTEXT1  EQU   CVTMAP+252                                               04456000
CVTPURG  EQU   CVTMAP+260                                               04457000
CVTQMSG  EQU   CVTMAP+268                                               04458000
CVTDMSR  EQU   CVTMAP+272                                               04459000
CVTERPV  EQU   CVTMAP+316                                               04460000
CVTINTLA EQU   CVTMAP+320                                               04461000
CVTAPF   EQU   CVTMAP+324                                               04462000
CVTEXT2  EQU   CVTMAP+328                                               04463000
CVTHJES  EQU   CVTMAP+332                                               04464000
CVTPGSIA EQU   CVTMAP+348                                               04465000
CVTA1F1  EQU   CVTMAP+356                                               04466000
CVTSYSK  EQU   CVTMAP+357                                               04467000
CVTVOLM1 EQU   CVTMAP+380                                               04468000
CVTVOLF1 EQU   CVTVOLM1                                                 04469000
CVTATMCT EQU   CVTMAP+388                                               04470000
CVTXTNT1 EQU   0                                                        04471000
CVTXTNT2 EQU   0                                                        04472000
CVTDSSV  EQU   CVTXTNT2                                                 04473000
CVTRSV90 EQU   CVTXTNT2+5                                               04474000
CVTQID   EQU   CVTXTNT2+24                                              04475000
CVTRV400 EQU   CVTXTNT2+52                                              04476000
CVTRV409 EQU   CVTXTNT2+53                                              04477000
CVTATCVT EQU   CVTXTNT2+64                                              04478000
CVTRV429 EQU   CVTXTNT2+84                                              04479000
CVTRV438 EQU   CVTXTNT2+85                                              04480000
CVTRV457 EQU   CVTXTNT2+112                                             04481000
CVTRV466 EQU   CVTXTNT2+113                                             04482000
CVTFIX   EQU   0                                                        04483000
CVTRELNO EQU   CVTFIX+252                                               04484000
DCMTSRT  EQU   0                                                        04485000
DCMRFLGS EQU   DCMTSRT+5                                                04486000
DCMNIPP  EQU   DCMRFLGS                                                 04487000
@NM00010 EQU   DCMTSRT+14                                               04488000
DCMDEVTY EQU   DCMTSRT+15                                               04489000
DCMR2FLG EQU   DCMTSRT+44                                               04490000
DCMR3FLG EQU   DCMTSRT+45                                               04491000
DCMMSGSV EQU   DCMTSRT+56                                               04492000
DCMPACB  EQU   DCMTSRT+60                                               04493000
DCMACB   EQU   0                                                        04494000
DCMASACB EQU   DCMACB+5                                                 04495000
DCMACLR  EQU   DCMACB+9                                                 04496000
DCMAFLG1 EQU   DCMACLR+17                                               04497000
DCMAFLG2 EQU   DCMACLR+18                                               04498000
DCMATFLG EQU   DCMACLR+19                                               04499000
DCMADFLG EQU   DCMATFLG                                                 04500000
DCMATRCK EQU   DCMATFLG+1                                               04501000
DEBBASIC EQU   0                                                        04502000
DEBTCBAD EQU   DEBBASIC                                                 04503000
DEBDEBAD EQU   DEBBASIC+4                                               04504000
DEBIRBAD EQU   DEBBASIC+8                                               04505000
DEBOFLGS EQU   DEBIRBAD                                                 04506000
DEBOPATB EQU   DEBBASIC+12                                              04507000
DEBFLGS1 EQU   DEBBASIC+14                                              04508000
DEBUSRPG EQU   DEBBASIC+16                                              04509000
DEBRRQ   EQU   DEBBASIC+20                                              04510000
DEBECBAD EQU   DEBRRQ                                                   04511000
DEBDCBAD EQU   DEBBASIC+24                                              04512000
DEBPROTG EQU   DEBDCBAD                                                 04513000
DEBAPPAD EQU   DEBBASIC+28                                              04514000
DEBAPPB  EQU   DEBAPPAD+1                                               04515000
DEBBASND EQU   DEBBASIC+32                                              04516000
DEBDASD  EQU   0                                                        04517000
DEBUCBAD EQU   DEBDASD                                                  04518000
DEBACSMD EQU   0                                                        04519000
DEBVOLSQ EQU   DEBACSMD                                                 04520000
DEBVOLBT EQU   DEBVOLSQ                                                 04521000
DEBDSNM  EQU   DEBACSMD+4                                               04522000
DEBUTSAA EQU   DEBDSNM                                                  04523000
DEBACS01 EQU   0                                                        04524000
DEBDSNAM EQU   DEBACS01                                                 04525000
DEBACS02 EQU   0                                                        04526000
DEBDBLK  EQU   DEBACS02                                                 04527000
DEBACS03 EQU   0                                                        04528000
DEBACS04 EQU   0                                                        04529000
DEBTBFRA EQU   DEBACS04                                                 04530000
DEBTCCWA EQU   DEBACS04+4                                               04531000
DEBACS05 EQU   0                                                        04532000
DEBFUCBA EQU   DEBACS05                                                 04533000
DEBLUCBA EQU   DEBACS05+4                                               04534000
DEBACS06 EQU   0                                                        04535000
DEBACS07 EQU   0                                                        04536000
DEBACS08 EQU   0                                                        04537000
DEBSUBNM EQU   0                                                        04538000
DEB      EQU   0                                                        04539000
DEBAVT   EQU   DEB                                                      04540000
DEBEOEA  EQU   DEBAVT                                                   04541000
DEBEOEAB EQU   DEBEOEA                                                  04542000
DEBSIOA  EQU   DEBAVT+4                                                 04543000
DEBSIOAB EQU   DEBSIOA                                                  04544000
DEBPCIA  EQU   DEBAVT+8                                                 04545000
DEBPCIAB EQU   DEBPCIA                                                  04546000
DEBCEA   EQU   DEBAVT+12                                                04547000
DEBCEAB  EQU   DEBCEA                                                   04548000
DEBXCEA  EQU   DEBAVT+16                                                04549000
DEBXCEAB EQU   DEBXCEA                                                  04550000
DEBPREFX EQU   DEB+20                                                   04551000
DEBXTNP  EQU   DEBPREFX+8                                               04552000
DEBXTN   EQU   0                                                        04553000
DEBXFLG1 EQU   DEBXTN+2                                                 04554000
ECB      EQU   0                                                        04555000
ECBRB    EQU   ECB                                                      04556000
ECBCC    EQU   ECBRB                                                    04557000
ECBPOSTB EQU   ECBCC                                                    04558000
ECBCCCNT EQU   ECBRB+1                                                  04559000
IOBPREFX EQU   0                                                        04560000
IOBCFLG1 EQU   IOBPREFX                                                 04561000
IOBSTDRD EQU   0                                                        04562000
IOBFLAG1 EQU   IOBSTDRD                                                 04563000
IOBCYCCK EQU   IOBFLAG1                                                 04564000
IOBIOERR EQU   IOBFLAG1                                                 04565000
IOBRSTRT EQU   IOBFLAG1                                                 04566000
IOBFLAG2 EQU   IOBSTDRD+1                                               04567000
IOBPURGE EQU   IOBFLAG2                                                 04568000
IOBRDHA0 EQU   IOBFLAG2                                                 04569000
IOBSENS0 EQU   IOBSTDRD+2                                               04570000
IOBS0B7  EQU   IOBSENS0                                                 04571000
IOBSNSC9 EQU   IOBS0B7                                                  04572000
IOBSENS1 EQU   IOBSTDRD+3                                               04573000
IOBECBPT EQU   IOBSTDRD+4                                               04574000
IOBECBCC EQU   IOBECBPT                                                 04575000
IOBFLAG3 EQU   IOBSTDRD+8                                               04576000
IOBFL3   EQU   IOBFLAG3                                                 04577000
IOBCSW   EQU   IOBSTDRD+9                                               04578000
IOBIOCSW EQU   IOBCSW                                                   04579000
IOBSTART EQU   IOBSTDRD+16                                              04580000
IOBDCBPT EQU   IOBSTDRD+20                                              04581000
IOBFLAG4 EQU   IOBDCBPT                                                 04582000
IOBRESTR EQU   IOBSTDRD+24                                              04583000
IOBINCAM EQU   IOBSTDRD+28                                              04584000
IOBBTAMF EQU   IOBINCAM                                                 04585000
IOBERRCT EQU   IOBSTDRD+30                                              04586000
UCB      EQU   0                                                        04587000
UCBOB    EQU   0                                                        04588000
UCBJBNR  EQU   UCBOB                                                    04589000
UCBFL5   EQU   UCBOB+1                                                  04590000
UCBAF    EQU   UCBFL5                                                   04591000
UCBSTAT  EQU   UCBOB+3                                                  04592000
UCBCHAN  EQU   UCBOB+4                                                  04593000
UCBCHA   EQU   UCBCHAN                                                  04594000
UCBUA    EQU   UCBCHAN+1                                                04595000
UCBSFLS  EQU   UCBOB+6                                                  04596000
UCBFLA   EQU   UCBSFLS                                                  04597000
UCBFL1   EQU   UCBFLA                                                   04598000
UCBBSY   EQU   UCBFL1                                                   04599000
UCBNRY   EQU   UCBFL1                                                   04600000
UCBPST   EQU   UCBFL1                                                   04601000
UCBCUB   EQU   UCBFL1                                                   04602000
UCBFLB   EQU   UCBSFLS+1                                                04603000
UCBCHM   EQU   UCBOB+8                                                  04604000
UCBCHM1  EQU   UCBCHM                                                   04605000
UCBPTH0  EQU   UCBCHM1                                                  04606000
UCBPTH1  EQU   UCBCHM1                                                  04607000
UCBWGT   EQU   UCBOB+12                                                 04608000
UCBTYP   EQU   UCBOB+16                                                 04609000
UCBTBYT1 EQU   UCBTYP                                                   04610000
UCB1FEA5 EQU   UCBTBYT1                                                 04611000
UCB1FEA6 EQU   UCBTBYT1                                                 04612000
UCBTBYT2 EQU   UCBTYP+1                                                 04613000
UCB2OPT2 EQU   UCBTBYT2                                                 04614000
UCBDUDN1 EQU   UCB2OPT2                                                 04615000
UCB2OPT3 EQU   UCBTBYT2                                                 04616000
UCBDUDN2 EQU   UCB2OPT3                                                 04617000
UCB2OPT4 EQU   UCBTBYT2                                                 04618000
UCB2OPT6 EQU   UCBTBYT2                                                 04619000
UCB2OPT7 EQU   UCBTBYT2                                                 04620000
UCBTBYT3 EQU   UCBTYP+2                                                 04621000
UCBDVCLS EQU   UCBTBYT3                                                 04622000
UCB3COMM EQU   UCBDVCLS                                                 04623000
UCB3DISP EQU   UCBDVCLS                                                 04624000
UCB3UREC EQU   UCBDVCLS                                                 04625000
UCBTBYT4 EQU   UCBTYP+3                                                 04626000
UCBEXTPT EQU   UCBOB+20                                                 04627000
UCBFLC   EQU   UCBEXTPT                                                 04628000
UCBDEV   EQU   UCBOB+24                                                 04629000
UCBCMEXT EQU   0                                                        04630000
UCBATI   EQU   UCBCMEXT+3                                               04631000
@NM00055 EQU   UCBATI                                                   04632000
UCBFLP1  EQU   UCBCMEXT+5                                               04633000
UCBMT    EQU   0                                                        04634000
UCBOCR   EQU   0                                                        04635000
UCBUCS   EQU   0                                                        04636000
UCBUCSOP EQU   UCBUCS+4                                                 04637000
UCBFCBOP EQU   UCBUCS+5                                                 04638000
UCM2EXT  EQU   0                                                        04639000
UCM2STA  EQU   UCM2EXT+8                                                04640000
UCM2SFLG EQU   UCM2STA                                                  04641000
UCMPRFX  EQU   0                                                        04642000
UCMMCENT EQU   UCMPRFX                                                  04643000
UCMSAVE0 EQU   UCMPRFX+4                                                04644000
UCMSFLGS EQU   UCMPRFX+84                                               04645000
UCMSFLG1 EQU   UCMSFLGS                                                 04646000
UCMSFLG2 EQU   UCMSFLGS+1                                               04647000
UCMXSA   EQU   UCMPRFX+104                                              04648000
UCMSDS1  EQU   UCMPRFX+156                                              04649000
UCMPRFXP EQU   0                                                        04650000
UCM      EQU   0                                                        04651000
UCMAECB  EQU   UCM+4                                                    04652000
UCMDECB  EQU   UCM+12                                                   04653000
UCMRPYI  EQU   UCM+32                                                   04654000
UCMPXB   EQU   UCM+68                                                   04655000
UCMMODE  EQU   UCMPXB                                                   04656000
UCMVDATA EQU   UCM+72                                                   04657000
UCMRSV42 EQU   UCM+300                                                  04658000
UCMRSV51 EQU   UCM+301                                                  04659000
UCMEIL   EQU   0                                                        04660000
UCMRECBA EQU   UCMEIL+24                                                04661000
UCMEXIT  EQU   0                                                        04662000
UCMLIST  EQU   0                                                        04663000
UCMSTS   EQU   UCMLIST+24                                               04664000
UCMAF    EQU   UCMSTS                                                   04665000
UCMATR   EQU   UCMLIST+25                                               04666000
UCMXA    EQU   UCMLIST+26                                               04667000
UCMXB    EQU   UCMLIST+28                                               04668000
UCMAUTH  EQU   UCMLIST+40                                               04669000
UCMAUTHA EQU   UCMAUTH                                                  04670000
UCMDISP  EQU   UCMLIST+42                                               04671000
UCMDISP1 EQU   UCMDISP                                                  04672000
UCMDISP2 EQU   UCMDISP+1                                                04673000
UCMMSG   EQU   UCMLIST+60                                               04674000
UCMMSG1  EQU   UCMMSG                                                   04675000
UCMDEVC  EQU   UCMLIST+63                                               04676000
UCMRCT   EQU   UCMLIST+68                                               04677000
UCMSDS5  EQU   UCMRCT                                                   04678000
NVT      EQU   0                                                        04679000
NVTNPATR EQU   NVT+54                                                   04680000
NVTNPREN EQU   NVTNPATR                                                 04681000
NVTFLLB  EQU   NVT+55                                                   04682000
NVTABSAV EQU   NVT+140                                                  04683000
NVTFLCN  EQU   NVT+211                                                  04684000
NVTFLAC  EQU   NVTFLCN                                                  04685000
NVTFLIOC EQU   NVTFLCN                                                  04686000
NVTFLNHC EQU   NVTFLCN                                                  04687000
NVTFLRAC EQU   NVTFLCN                                                  04688000
NVTWTPSW EQU   NVT+224                                                  04689000
NVTWPSW2 EQU   NVTWTPSW+4                                               04690000
NVTIDPSW EQU   NVTWPSW2                                                 04691000
NVTFLWSC EQU   NVTWPSW2+3                                               04692000
NVTLOAD  EQU   NVT+232                                                  04693000
NVTSENSE EQU   NVT+236                                                  04694000
NVTSWAIT EQU   NVT+240                                                  04695000
NVTTIME  EQU   NVT+244                                                  04696000
NVTUCBFN EQU   NVT+248                                                  04697000
NVTWTO   EQU   NVT+252                                                  04698000
NVTWTOR  EQU   NVT+256                                                  04699000
NVTWTOR2 EQU   NVT+260                                                  04700000
NVTOPEN  EQU   NVT+264                                                  04701000
NVTMOUNT EQU   NVT+268                                                  04702000
NVTVIRT  EQU   NVT+276                                                  04703000
NVTREAL  EQU   NVT+280                                                  04704000
NVTSCHED EQU   NVT+284                                                  04705000
NVTOPIO  EQU   NVT+288                                                  04706000
NVTMBUF  EQU   NVT+336                                                  04707000
NVTMBEND EQU   NVT+340                                                  04708000
NVTXCTL  EQU   NVT+428                                                  04709000
NVTLOCAT EQU   NVT+436                                                  04710000
NVTFLPO  EQU   NVT+528                                                  04711000
NWTOHDR  EQU   0                                                        04712000
NWTOLNG  EQU   NWTOHDR                                                  04713000
NWTOFL   EQU   NWTOHDR+2                                                04714000
NWTOFLNH EQU   NWTOFL                                                   04715000
NWTOFLNC EQU   NWTOFL                                                   04716000
NWTORLST EQU   0                                                        04717000
NWTORRPA EQU   NWTORLST                                                 04718000
NWTORECB EQU   NWTORLST+4                                               04719000
NWTORFL  EQU   NWTORLST+10                                              04720000
NWTORFLA EQU   NWTORFL                                                  04721000
NWTORFLB EQU   NWTORFL                                                  04722000
NWTORMSG EQU   NWTORLST+12                                              04723000
NIPSPE   EQU   0                                                        04724000
NIPMNTPL EQU   0                                                        04725000
NMNTDS   EQU   NIPMNTPL                                                 04726000
NMNTVS   EQU   NIPMNTPL+12                                              04727000
NMNTFL   EQU   NIPMNTPL+20                                              04728000
NIPOPNPL EQU   0                                                        04729000
NOPNDS   EQU   NIPOPNPL                                                 04730000
NOPNFL   EQU   NIPOPNPL+20                                              04731000
NIPSCHDL EQU   0                                                        04732000
DUMMYDCB EQU   0                                                        04733000
DCBDEBAD EQU   DUMMYDCB+45                                              04734000
REPLYBUF EQU   0                                                        04735000
IOBFLAG  EQU   0                                                        04736000
NPMRHDR  EQU   0                                                        04737000
NPMRLNG  EQU   NPMRHDR                                                  04738000
NPMRFLNH EQU   NPMRHDR+2                                                04739000
CCWCOMCD EQU   0                                                        04740000
NIPMBUF  EQU   0                                                        04741000
NIPMBHDR EQU   NIPMBUF                                                  04742000
NIPMBLL  EQU   NIPMBHDR                                                 04743000
NIPMBB0  EQU   NIPMBHDR+2                                               04744000
NIPMBTIM EQU   NIPMBHDR+4                                               04745000
NIPMBTS  EQU   NIPMBTIM                                                 04746000
NIPMBB1  EQU   NIPMBTIM+6                                               04747000
NIPMBMTX EQU   NIPMBUF+16                                               04748000
GRBUF    EQU   0                                                        04749000
ST2250AD EQU   GRBUF                                                    04750000
MSGSTAD  EQU   GRBUF+4                                                  04751000
MSGENDAD EQU   GRBUF+8                                                  04752000
ENTAREAD EQU   GRBUF+12                                                 04753000
SCTBEGAD EQU   GRBUF+16                                                 04754000
SCTENDAD EQU   GRBUF+20                                                 04755000
ST2250   EQU   0                                                        04756000
ST3277   EQU   0                                                        04757000
MSGST    EQU   0                                                        04758000
BL3277   EQU   0                                                        04759000
EN2250   EQU   0                                                        04760000
END2250  EQU   0                                                        04761000
RD3277   EQU   0                                                        04762000
SCT      EQU   0                                                        04763000
STOPPER  EQU   SCT+16                                                   04764000
ENTAREA  EQU   0                                                        04765000
SCTENTRY EQU   0                                                        04766000
SCTINUSE EQU   SCTENTRY                                                 04767000
SCTAUTOD EQU   SCTENTRY                                                 04768000
BUFLINE  EQU   0                                                        04769000
NXTBUFLN EQU   0                                                        04770000
ANSRAREA EQU   0                                                        04771000
SCAN     EQU   0                                                        04772000
BUFPACK  EQU   0                                                        04773000
DCMREND  EQU   0                                                        04774000
UCBADDR  EQU   0                                                        04775000
UCBBGN   EQU   0                                                        04776000
UCM2PTR  EQU   0                                                        04777000
XCTLEP   EQU   29                                                       04778000
CVTS01   EQU   CVTPGSIA                                                 04779000
CVTLPDIA EQU   CVTS01+12                                                04780000
CVTDIRST EQU   CVTLPDIA                                                 04781000
CVTSLIDA EQU   CVTS01+24                                                04782000
CVTCTLFG EQU   CVTS01+50                                                04783000
CVTRV210 EQU   CVTS01+424                                               04784000
CVTRV219 EQU   CVTS01+425                                               04785000
CVTRV228 EQU   CVTS01+426                                               04786000
CVTRV237 EQU   CVTS01+427                                               04787000
CVTMFRTR EQU   CVTS01+452                                               04788000
CVTRV262 EQU   CVTS01+468                                               04789000
CVTRV271 EQU   CVTS01+469                                               04790000
CVTRV280 EQU   CVTS01+470                                               04791000
CVTRV289 EQU   CVTS01+471                                               04792000
CVTGSDA  EQU   CVTS01+600                                               04793000
DEBBAS02 EQU   DEBBASND                                                 04794000
DEBDDS1  EQU   DEBBAS02                                                 04795000
DEBSUCBA EQU   DEBDDS1                                                  04796000
DEBSUCBB EQU   DEBSUCBA+1                                               04797000
DEBRDCB  EQU   DEBDDS1+4                                                04798000
DEBPDCB  EQU   DEBDDS1+8                                                04799000
DEBWDCB  EQU   DEBDDS1+12                                               04800000
DEBBAS01 EQU   DEBBASND                                                 04801000
DEBISAM  EQU   DEBBAS01                                                 04802000
DEBFIEAD EQU   DEBISAM                                                  04803000
DEBFPEAD EQU   DEBISAM+4                                                04804000
DEBFOEAD EQU   DEBISAM+8                                                04805000
DEBEXPT  EQU   DEBISAM+12                                               04806000
DEBRPSID EQU   DEBEXPT                                                  04807000
IOBORG01 EQU   IOBPREFX+8                                               04808000
IOBNIOBA EQU   IOBORG01                                                 04809000
IOBNFLG1 EQU   IOBNIOBA                                                 04810000
IOBORG02 EQU   IOBPREFX+8                                               04811000
IOBDQADA EQU   IOBORG02                                                 04812000
IOBDEQIN EQU   IOBDQADA                                                 04813000
IOBORG03 EQU   IOBPREFX+12                                              04814000
IOBORG04 EQU   IOBINCAM                                                 04815000
IOBORG12 EQU   IOBINCAM                                                 04816000
IOBFL4   EQU   IOBORG12                                                 04817000
IOBEXTEN EQU   IOBSTDRD+32                                              04818000
IOBSEEK  EQU   IOBEXTEN                                                 04819000
IOBBB    EQU   IOBSEEK+1                                                04820000
IOBCC    EQU   IOBSEEK+3                                                04821000
IOBHH    EQU   IOBSEEK+5                                                04822000
IOBORG05 EQU   IOBEXTEN                                                 04823000
IOBORG06 EQU   IOBEXTEN                                                 04824000
IOBNXTPT EQU   IOBORG06+4                                               04825000
IOBSTATA EQU   IOBNXTPT                                                 04826000
IOBORG07 EQU   IOBEXTEN+8                                               04827000
W1IEXTEN EQU   IOBORG07                                                 04828000
IOBORG08 EQU   IOBEXTEN+8                                               04829000
IOBINDCT EQU   IOBORG08+4                                               04830000
IOBUNSQR EQU   IOBORG08+5                                               04831000
IOBFCHAD EQU   IOBORG08+8                                               04832000
IOBORG09 EQU   IOBEXTEN+8                                               04833000
IOBDPLAD EQU   IOBORG09+4                                               04834000
IOBDTYPE EQU   IOBORG09+8                                               04835000
IOBDTYP2 EQU   IOBORG09+9                                               04836000
IOBDSTAT EQU   IOBORG09+10                                              04837000
IOBSTAT1 EQU   IOBDSTAT                                                 04838000
IOBORG10 EQU   IOBEXTEN+8                                               04839000
IOBSEEK2 EQU   IOBORG10                                                 04840000
IOBORG11 EQU   IOBEXTEN                                                 04841000
IOBERCT  EQU   IOBORG11                                                 04842000
IOBUCBXV EQU   IOBERCT                                                  04843000
IOBNAME  EQU   IOBORG11+4                                               04844000
UCBOBS01 EQU   UCBDEV                                                   04845000
UCBSTAB  EQU   UCBOBS01+10                                              04846000
UCBBSVL  EQU   UCBSTAB                                                  04847000
UCBPRSRS EQU   UCBSTAB                                                  04848000
UCBDMCT  EQU   UCBOBS01+11                                              04849000
UCBFL4   EQU   UCBOBS01+13                                              04850000
UCBOBS02 EQU   UCBDEV                                                   04851000
UCBTFL1  EQU   UCBOBS02+19                                              04852000
UCBXTN   EQU   UCBOBS02+20                                              04853000
UCBVOPT  EQU   UCBXTN                                                   04854000
UCBOBS03 EQU   UCBDEV                                                   04855000
UCBXTADR EQU   UCBOBS03                                                 04856000
UCBOBS04 EQU   UCBDEV                                                   04857000
UCBBTA   EQU   UCBOBS04+12                                              04858000
UCBOBS06 EQU   UCBDEV                                                   04859000
UCBAOF   EQU   UCBOBS06                                                 04860000
UCBAOF1  EQU   UCBAOF                                                   04861000
UCBAOF2  EQU   UCBAOF+1                                                 04862000
@NM00054 EQU   UCBOBS06+3                                               04863000
UCBIRB   EQU   UCBOBS06+4                                               04864000
UCBGRAF  EQU   UCBIRB                                                   04865000
UCBLDNCA EQU   UCBOBS06+8                                               04866000
UCBRDYQ  EQU   UCBLDNCA                                                 04867000
UCBIRLN  EQU   UCBRDYQ                                                  04868000
UCBLDNCB EQU   UCBRDYQ+1                                                04869000
UCBCTLNK EQU   UCBOBS06+12                                              04870000
UCBOBS07 EQU   UCBDEV                                                   04871000
UCBOBS08 EQU   UCBDEV                                                   04872000
UCMIECBA EQU   UCMRECBA+4                                               04873000
NIPDCBIC EQU   NPBILNTH                                                 04874000
NIPDCBOC EQU   NPBOLNTH                                                 04875000
CSW      EQU   IOBCSW                                                   04876000
CSWSTAT  EQU   CSW+3                                                    04877000
CSWCE    EQU   CSWSTAT                                                  04878000
CSWUC    EQU   CSWSTAT                                                  04879000
CSWUE    EQU   CSWSTAT                                                  04880000
CSWRCT   EQU   CSW+5                                                    04881000
LINLN    EQU   LINLN1+2                                                 04882000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    04883000
@NM00089 EQU   CSWSTAT+1                                                04884000
@NM00088 EQU   CSWSTAT                                                  04885000
@NM00087 EQU   CSWSTAT                                                  04886000
CSWCCWAD EQU   CSW                                                      04887000
NPBODCB  EQU   NIPDCBOC                                                 04888000
NPBIDCB  EQU   NIPDCBIC                                                 04889000
UCMIECBP EQU   UCMIECBA+1                                               04890000
UCMIECBF EQU   UCMIECBA                                                 04891000
UCBRV042 EQU   UCBOBS08+5                                               04892000
UCBCTCF1 EQU   UCBOBS08+4                                               04893000
UCBCTCAD EQU   UCBOBS08                                                 04894000
UCBICNCB EQU   UCBOBS07+4                                               04895000
UCBRV040 EQU   UCBOBS07                                                 04896000
UCBCTLNA EQU   UCBCTLNK+1                                               04897000
UCBRLN   EQU   UCBCTLNK                                                 04898000
UCBRDYQA EQU   UCBLDNCB                                                 04899000
UCBINRLN EQU   UCBIRLN                                                  04900000
UCBIRBA  EQU   UCBIRB+1                                                 04901000
UCBRV039 EQU   UCBGRAF                                                  04902000
UCBDWNR  EQU   UCBGRAF                                                  04903000
UCBRPND  EQU   UCBGRAF                                                  04904000
UCBUPM   EQU   UCBGRAF                                                  04905000
UCBBTAM  EQU   UCBGRAF                                                  04906000
UCBDRNO  EQU   UCBGRAF                                                  04907000
UCBDRO   EQU   UCBGRAF                                                  04908000
UCBOIP   EQU   UCBGRAF                                                  04909000
UCBATRCD EQU   @NM00054                                                 04910000
UCBSKPFG EQU   @NM00054                                                 04911000
UCBRIPND EQU   @NM00054                                                 04912000
UCBRTIAC EQU   @NM00054                                                 04913000
UCBRSV79 EQU   @NM00054                                                 04914000
UCBRSV78 EQU   @NM00054                                                 04915000
UCBRSV77 EQU   @NM00054                                                 04916000
UCBOLTEP EQU   @NM00054                                                 04917000
UCBATNCT EQU   UCBOBS06+2                                               04918000
UCBRSV76 EQU   UCBAOF2                                                  04919000
UCBRSV75 EQU   UCBAOF2                                                  04920000
UCBRSV74 EQU   UCBAOF2                                                  04921000
UCBRSV73 EQU   UCBAOF2                                                  04922000
UCBRSV72 EQU   UCBAOF2                                                  04923000
UCBRSV71 EQU   UCBAOF2                                                  04924000
UCBRSV70 EQU   UCBAOF2                                                  04925000
UCBRSV69 EQU   UCBAOF2                                                  04926000
UCBRSV68 EQU   UCBAOF1                                                  04927000
UCBRSV67 EQU   UCBAOF1                                                  04928000
UCBRSV66 EQU   UCBAOF1                                                  04929000
UCBRSV65 EQU   UCBAOF1                                                  04930000
UCBRSV64 EQU   UCBAOF1                                                  04931000
UCBOFNL  EQU   UCBAOF1                                                  04932000
UCBOFSP  EQU   UCBAOF1                                                  04933000
UCBOFMCR EQU   UCBAOF1                                                  04934000
UCBBTB   EQU   UCBBTA+1                                                 04935000
UCBDI    EQU   UCBBTA                                                   04936000
UCBSNS   EQU   UCBOBS04+8                                               04937000
UCBTEB   EQU   UCBOBS04+4                                               04938000
UCBGCB   EQU   UCBOBS04+3                                               04939000
UCBOPEN  EQU   UCBOBS04+2                                               04940000
UCBSTART EQU   UCBOBS04                                                 04941000
UCBXTNB  EQU   UCBXTN+1                                                 04942000
UCBRSV22 EQU   UCBVOPT                                                  04943000
UCBRSV21 EQU   UCBVOPT                                                  04944000
UCBRSV20 EQU   UCBVOPT                                                  04945000
UCBESVE  EQU   UCBVOPT                                                  04946000
UCBERPC  EQU   UCBVOPT                                                  04947000
UCBESVC  EQU   UCBVOPT                                                  04948000
UCBEVA   EQU   UCBVOPT                                                  04949000
UCBESV   EQU   UCBVOPT                                                  04950000
UCBRV009 EQU   UCBTFL1                                                  04951000
UCBRV008 EQU   UCBTFL1                                                  04952000
UCBRV007 EQU   UCBTFL1                                                  04953000
UCBRV006 EQU   UCBTFL1                                                  04954000
UCBRV005 EQU   UCBTFL1                                                  04955000
UCBRV038 EQU   UCBTFL1                                                  04956000
UCBNSLTP EQU   UCBTFL1                                                  04957000
UCBNLTP  EQU   UCBTFL1                                                  04958000
UCBRES1B EQU   UCBOBS02+18                                              04959000
UCBFSER  EQU   UCBOBS02+12                                              04960000
@NM00053 EQU   UCBOBS02+4                                               04961000
UCBFSEQ  EQU   UCBOBS02+2                                               04962000
UCBFSCT  EQU   UCBOBS02                                                 04963000
UCBNEXP  EQU   UCBOBS01+20                                              04964000
UCBBASE  EQU   UCBOBS01+16                                              04965000
UCBRES1A EQU   UCBOBS01+15                                              04966000
UCBUSER  EQU   UCBOBS01+14                                              04967000
UCBFL47  EQU   UCBFL4                                                   04968000
UCBFL46  EQU   UCBFL4                                                   04969000
UCBFL45  EQU   UCBFL4                                                   04970000
UCBFL44  EQU   UCBFL4                                                   04971000
UCBDSS   EQU   UCBFL4                                                   04972000
UCBRV028 EQU   UCBFL4                                                   04973000
UCBWDAV  EQU   UCBFL4                                                   04974000
UCBDAVV  EQU   UCBFL4                                                   04975000
UCBSQC   EQU   UCBOBS01+12                                              04976000
UCBDATP  EQU   UCBOBS01+12                                              04977000
UCBDMC   EQU   UCBDMCT                                                  04978000
UCBMOUNT EQU   UCBDMCT                                                  04979000
UCBBNUL  EQU   UCBSTAB                                                  04980000
UCBSHAR  EQU   UCBSTAB                                                  04981000
UCBBSTR  EQU   UCBSTAB                                                  04982000
UCBBPUB  EQU   UCBSTAB                                                  04983000
UCBBPRV  EQU   UCBSTAB                                                  04984000
UCBBALB  EQU   UCBPRSRS                                                 04985000
UCBPGFL  EQU   UCBSTAB                                                  04986000
UCBDVSHR EQU   UCBBSVL                                                  04987000
UCBVOLI  EQU   UCBOBS01+4                                               04988000
UCBVTOC  EQU   UCBOBS01                                                 04989000
IOBCSWSV EQU   IOBORG11+17                                              04990000
IOBSENSV EQU   IOBORG11+16                                              04991000
IOBRCD   EQU   IOBORG11+12                                              04992000
IOBMDREC EQU   IOBORG11+8                                               04993000
IOBNAMEA EQU   IOBNAME+1                                                04994000
IOBNAMSZ EQU   IOBNAME                                                  04995000
IOBERCTA EQU   IOBERCT+1                                                04996000
IOBRTYPE EQU   IOBUCBXV                                                 04997000
IOBRDCHP EQU   IOBORG10+20                                              04998000
IOBNEXTA EQU   IOBORG10+16                                              04999000
IOBREADA EQU   IOBORG10+12                                              05000000
IOBBUFC  EQU   IOBORG10+8                                               05001000
IOBSK2R  EQU   IOBSEEK2+7                                               05002000
IOBSK2HH EQU   IOBSEEK2+5                                               05003000
IOBSK2CC EQU   IOBSEEK2+3                                               05004000
IOBSK2BB EQU   IOBSEEK2+1                                               05005000
IOBSK2M  EQU   IOBSEEK2                                                 05006000
IOBCHNPR EQU   IOBORG09+40                                              05007000
IOBDNCRF EQU   IOBORG09+32                                              05008000
IOBRSV35 EQU   IOBORG09+24                                              05009000
IOBDQPTR EQU   IOBORG09+20                                              05010000
IOBRSV34 EQU   IOBORG09+18                                              05011000
IOBDBYTN EQU   IOBORG09+16                                              05012000
IOBDCPND EQU   IOBORG09+12                                              05013000
IOBSTAT2 EQU   IOBDSTAT+1                                               05014000
IOBSIORT EQU   IOBSTAT1                                                 05015000
IOBADDVU EQU   IOBSTAT1                                                 05016000
IOBBUFF  EQU   IOBSTAT1                                                 05017000
IOBENQUE EQU   IOBSTAT1                                                 05018000
IOBPASS2 EQU   IOBSTAT1                                                 05019000
IOBSYNCH EQU   IOBSTAT1                                                 05020000
IOBNEWVL EQU   IOBSTAT1                                                 05021000
IOBABNRM EQU   IOBSTAT1                                                 05022000
IOBRELEX EQU   IOBDTYP2                                                 05023000
IOBADDTY EQU   IOBDTYP2                                                 05024000
IOBTYPE  EQU   IOBDTYP2                                                 05025000
IOBRQUST EQU   IOBDTYP2                                                 05026000
IOBSUFFX EQU   IOBDTYP2                                                 05027000
IOBSBLKL EQU   IOBDTYP2                                                 05028000
IOBSKEY  EQU   IOBDTYP2                                                 05029000
IOBRELBL EQU   IOBDTYPE                                                 05030000
IOBRDEXC EQU   IOBDTYPE                                                 05031000
IOBDYNBF EQU   IOBDTYPE                                                 05032000
IOBACTAD EQU   IOBDTYPE                                                 05033000
IOBFDBCK EQU   IOBDTYPE                                                 05034000
IOBEXTSC EQU   IOBDTYPE                                                 05035000
IOBOVFLO EQU   IOBDTYPE                                                 05036000
IOBVERFY EQU   IOBDTYPE                                                 05037000
IOBDPLB  EQU   IOBDPLAD+1                                               05038000
IOBDAYLI EQU   IOBDPLAD                                                 05039000
IOBDIOBS EQU   IOBORG09+2                                               05040000
IOBDBYTR EQU   IOBORG09                                                 05041000
IOBBCHAD EQU   IOBORG08+12                                              05042000
IOBFCHNB EQU   IOBFCHAD+1                                               05043000
IOBCOUNT EQU   IOBFCHAD                                                 05044000
IOBASYN  EQU   IOBORG08+7                                               05045000
IOBAPP   EQU   IOBORG08+6                                               05046000
IOBRSV32 EQU   IOBUNSQR                                                 05047000
IOBRSV31 EQU   IOBUNSQR                                                 05048000
IOBRSV30 EQU   IOBUNSQR                                                 05049000
IOBKNRWR EQU   IOBUNSQR                                                 05050000
IOBKNWR  EQU   IOBUNSQR                                                 05051000
IOBNTAV2 EQU   IOBUNSQR                                                 05052000
IOBNTAV1 EQU   IOBUNSQR                                                 05053000
IOBCPBSY EQU   IOBUNSQR                                                 05054000
IOBCHNNL EQU   IOBINDCT                                                 05055000
IOBRSV29 EQU   IOBINDCT                                                 05056000
IOBRSV28 EQU   IOBINDCT                                                 05057000
IOBRSV27 EQU   IOBINDCT                                                 05058000
IOBKEYAD EQU   IOBINDCT                                                 05059000
IOBOVPTR EQU   IOBINDCT                                                 05060000
IOBUNSCH EQU   IOBINDCT                                                 05061000
IOBDEQCP EQU   IOBINDCT                                                 05062000
IOBCCWAD EQU   IOBORG08                                                 05063000
W1OEXTEN EQU   W1IEXTEN                                                 05064000
IOBCCW   EQU   IOBORG06+8                                               05065000
IOBNXTPB EQU   IOBNXTPT+1                                               05066000
IOBRSV26 EQU   IOBSTATA                                                 05067000
IOBRSV25 EQU   IOBSTATA                                                 05068000
IOBRSV24 EQU   IOBSTATA                                                 05069000
IOBRSV23 EQU   IOBSTATA                                                 05070000
IOBRSV22 EQU   IOBSTATA                                                 05071000
IOBRSV21 EQU   IOBSTATA                                                 05072000
IOBRSV20 EQU   IOBSTATA                                                 05073000
IOBAVLFL EQU   IOBSTATA                                                 05074000
IOBRSV37 EQU   IOBORG06+1                                               05075000
IOBUCBXG EQU   IOBORG06                                                 05076000
IOBCPA   EQU   IOBORG05+32                                              05077000
IOBERINF EQU   IOBORG05+16                                              05078000
IOBERCCW EQU   IOBORG05+8                                               05079000
IOBSNDPT EQU   IOBORG05+7                                               05080000
IOBRCVPT EQU   IOBORG05+6                                               05081000
IOBWORK  EQU   IOBORG05+1                                               05082000
IOBUCBX  EQU   IOBORG05                                                 05083000
IOBR     EQU   IOBSEEK+7                                                05084000
IOBHH2   EQU   IOBHH+1                                                  05085000
IOBHH1   EQU   IOBHH                                                    05086000
IOBCC2   EQU   IOBCC+1                                                  05087000
IOBCC1   EQU   IOBCC                                                    05088000
IOBBB2   EQU   IOBBB+1                                                  05089000
IOBBB1   EQU   IOBBB                                                    05090000
IOBM     EQU   IOBSEEK                                                  05091000
IOBRSV46 EQU   IOBFL4                                                   05092000
IOBRSV47 EQU   IOBFL4                                                   05093000
IOBENT   EQU   IOBFL4                                                   05094000
IOBEQP   EQU   IOBFL4                                                   05095000
IOBBUS   EQU   IOBFL4                                                   05096000
IOBDCK   EQU   IOBFL4                                                   05097000
IOBREJ   EQU   IOBFL4                                                   05098000
IOBOVR   EQU   IOBFL4                                                   05099000
IOBCRILC EQU   IOBORG04+1                                               05100000
IOBCRDCC EQU   IOBORG04                                                 05101000
IOBGQECB EQU   IOBORG03                                                 05102000
IOBSWAP  EQU   IOBORG02+4                                               05103000
IOBDQADB EQU   IOBDQADA+1                                               05104000
IOBRSV13 EQU   IOBDEQIN                                                 05105000
IOBRSV12 EQU   IOBDEQIN                                                 05106000
IOBRSV11 EQU   IOBDEQIN                                                 05107000
IOBRSV10 EQU   IOBDEQIN                                                 05108000
IOBRSV09 EQU   IOBDEQIN                                                 05109000
IOBRSV08 EQU   IOBDEQIN                                                 05110000
IOBRSV07 EQU   IOBDEQIN                                                 05111000
IOBDEQ   EQU   IOBDEQIN                                                 05112000
IOBNECB  EQU   IOBORG01+4                                               05113000
IOBNIOBB EQU   IOBNIOBA+1                                               05114000
IOBFIRST EQU   IOBNFLG1                                                 05115000
IOBUPERR EQU   IOBNFLG1                                                 05116000
IOBSPAN  EQU   IOBNFLG1                                                 05117000
IOBBKSPC EQU   IOBNFLG1                                                 05118000
IOBUPDAT EQU   IOBNFLG1                                                 05119000
IOBREAD  EQU   IOBNFLG1                                                 05120000
IOBWRITE EQU   IOBNFLG1                                                 05121000
IOBPRTOV EQU   IOBNFLG1                                                 05122000
DEBEXPTA EQU   DEBEXPT+1                                                05123000
DEBRSV12 EQU   DEBRPSID                                                 05124000
DEBRSV11 EQU   DEBRPSID                                                 05125000
DEBRSV10 EQU   DEBRPSID                                                 05126000
DEBRSV09 EQU   DEBRPSID                                                 05127000
DEBRPSAP EQU   DEBRPSID                                                 05128000
DEBRPSO  EQU   DEBRPSID                                                 05129000
DEBRPSI  EQU   DEBRPSID                                                 05130000
DEBRPSP  EQU   DEBRPSID                                                 05131000
DEBFOEB  EQU   DEBFOEAD+1                                               05132000
DEBNOEE  EQU   DEBFOEAD                                                 05133000
DEBFPEB  EQU   DEBFPEAD+1                                               05134000
DEBNPEE  EQU   DEBFPEAD                                                 05135000
DEBFIEB  EQU   DEBFIEAD+1                                               05136000
DEBNIEE  EQU   DEBFIEAD                                                 05137000
DEBWDCBA EQU   DEBWDCB+1                                                05138000
DEBRSV08 EQU   DEBWDCB                                                  05139000
DEBPDCBA EQU   DEBPDCB+1                                                05140000
DEBRSV07 EQU   DEBPDCB                                                  05141000
DEBRDCBA EQU   DEBRDCB+1                                                05142000
DEBRSV06 EQU   DEBRDCB                                                  05143000
DEBSDVM  EQU   DEBSUCBA                                                 05144000
CVTTPIO  EQU   CVTS01+608                                               05145000
CVTADV   EQU   CVTS01+604                                               05146000
CVTGSDAB EQU   CVTGSDA                                                  05147000
CVTQV3   EQU   CVTS01+596                                               05148000
CVTQV2   EQU   CVTS01+592                                               05149000
CVTQV1   EQU   CVTS01+588                                               05150000
CVTRPT   EQU   CVTS01+584                                               05151000
CVTSSRB  EQU   CVTS01+580                                               05152000
CVTCSDRL EQU   CVTS01+576                                               05153000
CVTEXP1  EQU   CVTS01+572                                               05154000
CVTRMPMT EQU   CVTS01+568                                               05155000
CVTRMPTT EQU   CVTS01+564                                               05156000
CVTVPSA  EQU   CVTS01+560                                               05157000
CVTVSTOP EQU   CVTS01+556                                               05158000
CVTGTFR8 EQU   CVTS01+552                                               05159000
CVTQUIT  EQU   CVTS01+548                                               05160000
CVTVACR  EQU   CVTS01+544                                               05161000
CVTWTCB  EQU   CVTS01+540                                               05162000
CVTSTPRS EQU   CVTS01+536                                               05163000
CVT0PT02 EQU   CVTS01+532                                               05164000
CVTDARCM EQU   CVTS01+528                                               05165000
CVTIRECM EQU   CVTS01+524                                               05166000
CVTJRECM EQU   CVTS01+520                                               05167000
CVTVEMS0 EQU   CVTS01+516                                               05168000
CVTSPFRR EQU   CVTS01+512                                               05169000
CVTRLSTG EQU   CVTS01+508                                               05170000
CVT0TC0A EQU   CVTS01+504                                               05171000
CVTGMBR  EQU   CVTS01+500                                               05172000
CVTLFRM  EQU   CVTS01+496                                               05173000
CVTRMBR  EQU   CVTS01+492                                               05174000
CVTVIOP  EQU   CVTS01+488                                               05175000
CVTRV307 EQU   CVTS01+486                                               05176000
CVTRV306 EQU   CVTS01+484                                               05177000
CVTRV305 EQU   CVTS01+482                                               05178000
CVTRV304 EQU   CVTS01+480                                               05179000
CVTRV303 EQU   CVTS01+478                                               05180000
CVTRV302 EQU   CVTS01+476                                               05181000
CVTRV301 EQU   CVTS01+475                                               05182000
CVTRV300 EQU   CVTS01+474                                               05183000
CVTRV299 EQU   CVTS01+473                                               05184000
CVTRV298 EQU   CVTS01+472                                               05185000
CVTRV297 EQU   CVTRV289                                                 05186000
CVTRV296 EQU   CVTRV289                                                 05187000
CVTRV295 EQU   CVTRV289                                                 05188000
CVTRV294 EQU   CVTRV289                                                 05189000
CVTRV293 EQU   CVTRV289                                                 05190000
CVTRV292 EQU   CVTRV289                                                 05191000
CVTRV291 EQU   CVTRV289                                                 05192000
CVTRV290 EQU   CVTRV289                                                 05193000
CVTRV288 EQU   CVTRV280                                                 05194000
CVTRV287 EQU   CVTRV280                                                 05195000
CVTRV286 EQU   CVTRV280                                                 05196000
CVTRV285 EQU   CVTRV280                                                 05197000
CVTRV284 EQU   CVTRV280                                                 05198000
CVTRV283 EQU   CVTRV280                                                 05199000
CVTRV282 EQU   CVTRV280                                                 05200000
CVTRV281 EQU   CVTRV280                                                 05201000
CVTRV279 EQU   CVTRV271                                                 05202000
CVTRV278 EQU   CVTRV271                                                 05203000
CVTRV277 EQU   CVTRV271                                                 05204000
CVTRV276 EQU   CVTRV271                                                 05205000
CVTRV275 EQU   CVTRV271                                                 05206000
CVTRV274 EQU   CVTRV271                                                 05207000
CVTRV273 EQU   CVTRV271                                                 05208000
CVTRV272 EQU   CVTRV271                                                 05209000
CVTRV270 EQU   CVTRV262                                                 05210000
CVTRV269 EQU   CVTRV262                                                 05211000
CVTRV268 EQU   CVTRV262                                                 05212000
CVTRV267 EQU   CVTRV262                                                 05213000
CVTRV266 EQU   CVTRV262                                                 05214000
CVTRV265 EQU   CVTRV262                                                 05215000
CVTRV264 EQU   CVTRV262                                                 05216000
CVTRV263 EQU   CVTRV262                                                 05217000
CVTVFP   EQU   CVTS01+464                                               05218000
CVTVSI   EQU   CVTS01+460                                               05219000
CVTVPSIB EQU   CVTS01+456                                               05220000
CVTMFACT EQU   CVTMFRTR                                                 05221000
CVTMFCTL EQU   CVTS01+448                                               05222000
CVTPVBP  EQU   CVTS01+444                                               05223000
CVTPWI   EQU   CVTS01+440                                               05224000
CVTRV254 EQU   CVTS01+438                                               05225000
CVTRV253 EQU   CVTS01+436                                               05226000
CVTRV252 EQU   CVTS01+434                                               05227000
CVTRV251 EQU   CVTS01+433                                               05228000
CVTRV250 EQU   CVTS01+432                                               05229000
CVTRV249 EQU   CVTS01+431                                               05230000
CVTRV248 EQU   CVTS01+430                                               05231000
CVTRV247 EQU   CVTS01+429                                               05232000
CVTRV246 EQU   CVTS01+428                                               05233000
CVTRV245 EQU   CVTRV237                                                 05234000
CVTRV244 EQU   CVTRV237                                                 05235000
CVTRV243 EQU   CVTRV237                                                 05236000
CVTRV242 EQU   CVTRV237                                                 05237000
CVTRV241 EQU   CVTRV237                                                 05238000
CVTRV240 EQU   CVTRV237                                                 05239000
CVTRV239 EQU   CVTRV237                                                 05240000
CVTRV238 EQU   CVTRV237                                                 05241000
CVTRV236 EQU   CVTRV228                                                 05242000
CVTRV235 EQU   CVTRV228                                                 05243000
CVTRV234 EQU   CVTRV228                                                 05244000
CVTRV233 EQU   CVTRV228                                                 05245000
CVTRV232 EQU   CVTRV228                                                 05246000
CVTRV231 EQU   CVTRV228                                                 05247000
CVTRV230 EQU   CVTRV228                                                 05248000
CVTRV229 EQU   CVTRV228                                                 05249000
CVTRV227 EQU   CVTRV219                                                 05250000
CVTRV226 EQU   CVTRV219                                                 05251000
CVTRV225 EQU   CVTRV219                                                 05252000
CVTRV224 EQU   CVTRV219                                                 05253000
CVTRV223 EQU   CVTRV219                                                 05254000
CVTRV222 EQU   CVTRV219                                                 05255000
CVTRV221 EQU   CVTRV219                                                 05256000
CVTRV220 EQU   CVTRV219                                                 05257000
CVTRV218 EQU   CVTRV210                                                 05258000
CVTRV217 EQU   CVTRV210                                                 05259000
CVTRV216 EQU   CVTRV210                                                 05260000
CVTRV215 EQU   CVTRV210                                                 05261000
CVTRV214 EQU   CVTRV210                                                 05262000
CVTRV213 EQU   CVTRV210                                                 05263000
CVTRV212 EQU   CVTRV210                                                 05264000
CVTRV211 EQU   CVTRV210                                                 05265000
CVTLCCAT EQU   CVTS01+420                                               05266000
CVTPCCAT EQU   CVTS01+416                                               05267000
CVTIPCRP EQU   CVTS01+412                                               05268000
CVTIPCRI EQU   CVTS01+408                                               05269000
CVTIPCDS EQU   CVTS01+404                                               05270000
CVTAIDVT EQU   CVTS01+400                                               05271000
CVTSSAP  EQU   CVTS01+396                                               05272000
CVTEHCIR EQU   CVTS01+392                                               05273000
CVTEHDEF EQU   CVTS01+388                                               05274000
CVTDAIR  EQU   CVTS01+384                                               05275000
CVTPERFM EQU   CVTS01+380                                               05276000
CVT044R2 EQU   CVTS01+376                                               05277000
CVTFETCH EQU   CVTS01+372                                               05278000
CVTRSTWD EQU   CVTS01+368                                               05279000
CVTSPOST EQU   CVTS01+364                                               05280000
CVTIOBP  EQU   CVTS01+360                                               05281000
CVTASMVT EQU   CVTS01+356                                               05282000
CVTRECRQ EQU   CVTS01+352                                               05283000
CVTWSAC  EQU   CVTS01+348                                               05284000
CVTRV149 EQU   CVTS01+344                                               05285000
CVTWSAL  EQU   CVTS01+340                                               05286000
CVTSPSA  EQU   CVTS01+336                                               05287000
CVTGLMN  EQU   CVTS01+332                                               05288000
CVTVEAC0 EQU   CVTS01+328                                               05289000
CVT062R1 EQU   CVTS01+324                                               05290000
CVTRPOST EQU   CVTS01+320                                               05291000
CVTDQIQE EQU   CVTS01+316                                               05292000
CVTCSD   EQU   CVTS01+312                                               05293000
CVTLKRMA EQU   CVTS01+308                                               05294000
CVTRSPIE EQU   CVTS01+304                                               05295000
CVTRENQ  EQU   CVTS01+300                                               05296000
CVTLQCB  EQU   CVTS01+296                                               05297000
CVTFQCB  EQU   CVTS01+292                                               05298000
CVTQCS01 EQU   CVTS01+288                                               05299000
CVTAPFT  EQU   CVTS01+284                                               05300000
CVTPARRL EQU   CVTS01+280                                               05301000
CVTVWAIT EQU   CVTS01+276                                               05302000
CVTGSPL  EQU   CVTS01+272                                               05303000
CVTLSMQ  EQU   CVTS01+268                                               05304000
CVTGSMQ  EQU   CVTS01+264                                               05305000
CVTEXPRO EQU   CVTS01+260                                               05306000
CVTOPCTP EQU   CVTS01+256                                               05307000
CVTSIC   EQU   CVTS01+252                                               05308000
CVTTPIOS EQU   CVTS01+248                                               05309000
CVTRTMS  EQU   CVTS01+244                                               05310000
CVTSDBF  EQU   CVTS01+240                                               05311000
CVTSCBP  EQU   CVTS01+236                                               05312000
CVTSDMP  EQU   CVTS01+232                                               05313000
CVTSV60  EQU   CVTS01+228                                               05314000
CVTRTMCT EQU   CVTS01+224                                               05315000
CVTASCBL EQU   CVTS01+220                                               05316000
CVTASCBH EQU   CVTS01+216                                               05317000
CVTGDA   EQU   CVTS01+212                                               05318000
CVTASVT  EQU   CVTS01+208                                               05319000
CVTVVMDI EQU   CVTS01+204                                               05320000
CVTAQTOP EQU   CVTS01+200                                               05321000
CVTIOSCS EQU   CVTS01+196                                               05322000
CVTSDRM  EQU   CVTS01+192                                               05323000
CVTOPTE  EQU   CVTS01+188                                               05324000
CVTSTXU  EQU   CVTS01+184                                               05325000
CVTQUIS  EQU   CVTS01+180                                               05326000
CVTPARS  EQU   CVTS01+176                                               05327000
CVTS1EE  EQU   CVTS01+172                                               05328000
CVTFRAS  EQU   CVTS01+168                                               05329000
CVTQSAS  EQU   CVTS01+164                                               05330000
CVTCRAS  EQU   CVTS01+160                                               05331000
CVTCRMN  EQU   CVTS01+156                                               05332000
CVTDELCP EQU   CVTS01+152                                               05333000
CVTFRECL EQU   CVTS01+148                                               05334000
CVTGETCL EQU   CVTS01+144                                               05335000
CVTBLDCP EQU   CVTS01+140                                               05336000
CVTAUTHL EQU   CVTS01+136                                               05337000
CVTSCAN  EQU   CVTS01+132                                               05338000
CVTRV144 EQU   CVTS01+130                                               05339000
CVTMAXMP EQU   CVTS01+128                                               05340000
CVTSTCK  EQU   CVTS01+124                                               05341000
CVTRV139 EQU   CVTS01+123                                               05342000
CVTDSSAC EQU   CVTS01+122                                               05343000
CVTRV513 EQU   CVTS01+121                                               05344000
CVTIOSPL EQU   CVTS01+120                                               05345000
CVTPTGT  EQU   CVTS01+116                                               05346000
CVTCSPIE EQU   CVTS01+112                                               05347000
CVTSMFEX EQU   CVTS01+108                                               05348000
CVTOLT0A EQU   CVTS01+104                                               05349000
CVTSRBRT EQU   CVTS01+100                                               05350000
CVTPUTL  EQU   CVTS01+96                                                05351000
CVTRV519 EQU   CVTS01+92                                                05352000
CVTRV327 EQU   CVTS01+88                                                05353000
CVTRV326 EQU   CVTS01+84                                                05354000
CVTRV325 EQU   CVTS01+80                                                05355000
CVTRV324 EQU   CVTS01+76                                                05356000
CVT0VL01 EQU   CVTS01+72                                                05357000
CVTSHRVM EQU   CVTS01+68                                                05358000
CVTRV332 EQU   CVTS01+64                                                05359000
CVTTAS   EQU   CVTS01+60                                                05360000
CVTRSCN  EQU   CVTS01+56                                                05361000
CVTTRAC2 EQU   CVTS01+54                                                05362000
CVTTRACE EQU   CVTS01+52                                                05363000
CVTAPG   EQU   CVTS01+51                                                05364000
CVTSDTRC EQU   CVTCTLFG                                                 05365000
CVTGTRCE EQU   CVTCTLFG                                                 05366000
CVTNOMP  EQU   CVTCTLFG                                                 05367000
CVTRSV79 EQU   CVTCTLFG                                                 05368000
CVTDSTAT EQU   CVTCTLFG                                                 05369000
CVTRSV78 EQU   CVTCTLFG                                                 05370000
CVTRV333 EQU   CVTCTLFG                                                 05371000
CVTRV323 EQU   CVTCTLFG                                                 05372000
CVTSPVLK EQU   CVTS01+49                                                05373000
CVTRSV77 EQU   CVTS01+48                                                05374000
CVTRV331 EQU   CVTS01+44                                                05375000
CVTRV330 EQU   CVTS01+40                                                05376000
CVTRV329 EQU   CVTS01+36                                                05377000
CVTRV328 EQU   CVTS01+32                                                05378000
CVTRV322 EQU   CVTS01+28                                                05379000
CVTSLID  EQU   CVTSLIDA+1                                               05380000
CVTSYLK  EQU   CVTSLIDA                                                 05381000
CVTRV321 EQU   CVTS01+20                                                05382000
CVTRV320 EQU   CVTS01+16                                                05383000
CVTLPDIR EQU   CVTLPDIA+1                                               05384000
CVTRSV69 EQU   CVTDIRST                                                 05385000
CVTRSV68 EQU   CVTDIRST                                                 05386000
CVTRSV67 EQU   CVTDIRST                                                 05387000
CVTRSV66 EQU   CVTDIRST                                                 05388000
CVTRSV65 EQU   CVTDIRST                                                 05389000
CVTRSV64 EQU   CVTDIRST                                                 05390000
CVTRSV63 EQU   CVTDIRST                                                 05391000
CVTDICOM EQU   CVTDIRST                                                 05392000
CVTPVTP  EQU   CVTS01+8                                                 05393000
CVTLPDSR EQU   CVTS01+4                                                 05394000
CVTGETL  EQU   CVTS01                                                   05395000
@NM00242 EQU   SCTENTRY+1                                               05396000
@NM00241 EQU   SCTENTRY                                                 05397000
@NM00240 EQU   SCT                                                      05398000
NIPMBB2  EQU   NIPMBHDR+15                                              05399000
NIPMBRTC EQU   NIPMBHDR+11                                              05400000
@NM00239 EQU   NIPMBTIM+4                                               05401000
@NM00090 EQU   DUMMYDCB                                                 05402000
NSCHDCPU EQU   NIPSCHDL+8                                               05403000
NSCHDPRM EQU   NIPSCHDL+4                                               05404000
NSCHDPTR EQU   NIPSCHDL                                                 05405000
@NM00082 EQU   NIPOPNPL+22                                              05406000
NOPNRC   EQU   NIPOPNPL+21                                              05407000
NOPNFLSX EQU   NOPNFL                                                   05408000
NOPNFLLC EQU   NOPNFL                                                   05409000
NOPNFLLB EQU   NOPNFL                                                   05410000
NOPNFLNB EQU   NOPNFL                                                   05411000
NOPNFLI  EQU   NOPNFL                                                   05412000
NOPNFLM  EQU   NOPNFL                                                   05413000
NOPNFAU  EQU   NOPNFL                                                   05414000
NOPNFRS  EQU   NOPNFL                                                   05415000
NOPNUCB  EQU   NIPOPNPL+16                                              05416000
NOPNDCB  EQU   NIPOPNPL+12                                              05417000
NOPNDSA  EQU   NOPNDS                                                   05418000
@NM00081 EQU   NIPMNTPL+21                                              05419000
NMNTFLB  EQU   NMNTFL                                                   05420000
NMNTFLC  EQU   NMNTFL                                                   05421000
NMNTFLI  EQU   NMNTFL                                                   05422000
NMNTFUS  EQU   NMNTFL                                                   05423000
@NM00080 EQU   NMNTFL                                                   05424000
NMNTDT   EQU   NIPMNTPL+18                                              05425000
NMNTUCB  EQU   NMNTVS                                                   05426000
NMNTDSA  EQU   NMNTDS                                                   05427000
NIPSPEA  EQU   NIPSPE+4                                                 05428000
NIPSPEQ  EQU   NIPSPE                                                   05429000
@NM00079 EQU   NWTORLST+11                                              05430000
@NM00078 EQU   NWTORFL                                                  05431000
@NM00077 EQU   NWTORFL                                                  05432000
NMTORRDL EQU   NWTORLST+8                                               05433000
@NM00076 EQU   NWTOFL                                                   05434000
NVTRMSG  EQU   NVT+540                                                  05435000
NVTRLOCK EQU   NVT+536                                                  05436000
NVTRCODE EQU   NVT+532                                                  05437000
@NM00075 EQU   NVT+529                                                  05438000
@NM00074 EQU   NVTFLPO                                                  05439000
NVTFLWS  EQU   NVTFLPO                                                  05440000
NVTFLQS  EQU   NVTFLPO                                                  05441000
@NM00073 EQU   NVTFLPO                                                  05442000
NVTSYSP  EQU   NVTFLPO                                                  05443000
NVTFLLST EQU   NVTFLPO                                                  05444000
NVTAPQE  EQU   NVT+524                                                  05445000
NVTFBQE2 EQU   NVT+520                                                  05446000
NVTFBQE1 EQU   NVT+516                                                  05447000
@NM00072 EQU   NVT+512                                                  05448000
NVTREALR EQU   NVT+508                                                  05449000
NVTFASVT EQU   NVT+504                                                  05450000
NVTLPALG EQU   NVT+496                                                  05451000
NVTVRLNG EQU   NVT+492                                                  05452000
NVTVRREG EQU   NVT+488                                                  05453000
NVTLVIRT EQU   NVT+484                                                  05454000
NVTDIRA  EQU   NVT+480                                                  05455000
NVTLPAND EQU   NVT+476                                                  05456000
NVTRMSS  EQU   NVT+472                                                  05457000
NVTRPQE  EQU   NVT+468                                                  05458000
NVTRLLE  EQU   NVT+464                                                  05459000
NVTRJPQ  EQU   NVT+460                                                  05460000
NVTVMSS  EQU   NVT+456                                                  05461000
NVTVPQE  EQU   NVT+452                                                  05462000
NVTVLLE  EQU   NVT+448                                                  05463000
NVTVJPQ  EQU   NVT+444                                                  05464000
NVTLSEC  EQU   NVTLOCAT+4                                               05465000
NVTLFST  EQU   NVTLOCAT                                                 05466000
NVTXSEC  EQU   NVTXCTL+4                                                05467000
NVTXFST  EQU   NVTXCTL                                                  05468000
@NM00071 EQU   NVT+425                                                  05469000
NVTLPACT EQU   NVT+424                                                  05470000
NVTCSLPG EQU   NVT+420                                                  05471000
NVTCSIOB EQU   NVT+416                                                  05472000
NVTCSLNM EQU   NVT+412                                                  05473000
NVTCSLIB EQU   NVT+408                                                  05474000
NVTBLDL  EQU   NVT+404                                                  05475000
NVTVRBLD EQU   NVT+400                                                  05476000
@NM00070 EQU   NVT+392                                                  05477000
NVTVRTCB EQU   NVT+388                                                  05478000
NVTVVTCB EQU   NVT+384                                                  05479000
NVTSPUCB EQU   NVT+382                                                  05480000
NVTQSCNT EQU   NVT+380                                                  05481000
NVTQSBUF EQU   NVT+376                                                  05482000
NVTPTAB  EQU   NVT+372                                                  05483000
NVTPAREA EQU   NVT+368                                                  05484000
NVTRPAGE EQU   NVT+364                                                  05485000
@NM00069 EQU   NVT+363                                                  05486000
NVTABWS1 EQU   NVT+362                                                  05487000
NVTABCD1 EQU   NVT+360                                                  05488000
@NM00068 EQU   NVT+358                                                  05489000
NVTCPUAD EQU   NVT+356                                                  05490000
NVTTOD   EQU   NVT+352                                                  05491000
NVTSPE   EQU   NVT+344                                                  05492000
NVTDCBSN EQU   NVT+332                                                  05493000
NVTDCBOC EQU   NVT+328                                                  05494000
NVTDCBIC EQU   NVT+324                                                  05495000
@NM00067 EQU   NVT+308                                                  05496000
NVTNMBLD EQU   NVT+304                                                  05497000
NVTNIPM  EQU   NVT+292                                                  05498000
NVTPRMPT EQU   NVT+272                                                  05499000
NVTIX    EQU   NVTFLWSC                                                 05500000
NVTFLWS1 EQU   NVTWPSW2+2                                               05501000
NVTWPSW1 EQU   NVTWTPSW                                                 05502000
NVTMCPSW EQU   NVT+216                                                  05503000
@NM00066 EQU   NVT+212                                                  05504000
@NM00065 EQU   NVTFLCN                                                  05505000
NVTFLNCK EQU   NVTFLCN                                                  05506000
NVTFLASM EQU   NVTFLCN                                                  05507000
NVTMP    EQU   NVTFLCN                                                  05508000
NVTFLSG  EQU   NVT+210                                                  05509000
NVTTRACE EQU   NVT+208                                                  05510000
NVTNXPTR EQU   NVT+204                                                  05511000
NVTNXSIZ EQU   NVT+202                                                  05512000
@NM00064 EQU   NVT+200                                                  05513000
NVTSGPSA EQU   NVT+196                                                  05514000
NVTN0MSG EQU   NVT+192                                                  05515000
NVTVVPG1 EQU   NVT+188                                                  05516000
NVTNBFND EQU   NVT+184                                                  05517000
NVTNUCND EQU   NVT+180                                                  05518000
NVTSTMAP EQU   NVT+176                                                  05519000
NVTRTMSA EQU   NVT+172                                                  05520000
NVTMFASA EQU   NVT+168                                                  05521000
NVTLSPQE EQU   NVT+164                                                  05522000
NVTALSQA EQU   NVT+160                                                  05523000
NVTPQSAV EQU   NVT+156                                                  05524000
NVTSVC60 EQU   NVT+148                                                  05525000
NVTABSEC EQU   NVTABSAV+4                                               05526000
NVTABFST EQU   NVTABSAV                                                 05527000
NVTNVSQA EQU   NVT+138                                                  05528000
NVTRSVMN EQU   NVT+136                                                  05529000
NVTNBMIN EQU   NVT+134                                                  05530000
NVTRGNAV EQU   NVT+132                                                  05531000
NVTLSQNO EQU   NVT+130                                                  05532000
NVTSQANO EQU   NVT+128                                                  05533000
NVTLSQAS EQU   NVT+124                                                  05534000
NVTLNGFX EQU   NVT+120                                                  05535000
@NM00063 EQU   NVT+112                                                  05536000
NVTASMAD EQU   NVT+108                                                  05537000
NVTNVRSZ EQU   NVT+104                                                  05538000
NVTMFA   EQU   NVT+100                                                  05539000
NVTDSSNG EQU   NVT+96                                                   05540000
NVTMSLNK EQU   NVT+92                                                   05541000
NVTVVMDI EQU   NVT+88                                                   05542000
NVTIGCER EQU   NVT+84                                                   05543000
NVTVBLDL EQU   NVT+80                                                   05544000
NVTSVCTB EQU   NVT+76                                                   05545000
NVTASTCB EQU   NVT+72                                                   05546000
NVTAASCB EQU   NVT+68                                                   05547000
NVTMASCB EQU   NVT+64                                                   05548000
NVTCMTCB EQU   NVT+60                                                   05549000
NVTMSTCB EQU   NVT+56                                                   05550000
@NM00062 EQU   NVTFLLB                                                  05551000
NVTFLSLB EQU   NVTFLLB                                                  05552000
@NM00061 EQU   NVTNPATR                                                 05553000
NVTNPREU EQU   NVTNPREN                                                 05554000
@NM00060 EQU   NVTNPREN                                                 05555000
NVTNPSFX EQU   NVT+53                                                   05556000
@NM00059 EQU   NVT+50                                                   05557000
NVTNPSUF EQU   NVT                                                      05558000
UCMRCTA  EQU   UCMRCT+1                                                 05559000
UCMRSV31 EQU   UCMSDS5                                                  05560000
UCMSDS5G EQU   UCMSDS5                                                  05561000
UCMSDS5F EQU   UCMSDS5                                                  05562000
UCMRSV30 EQU   UCMSDS5                                                  05563000
UCMRSV29 EQU   UCMSDS5                                                  05564000
UCMSDS5C EQU   UCMSDS5                                                  05565000
UCMSDS5B EQU   UCMSDS5                                                  05566000
UCMSDS5A EQU   UCMSDS5                                                  05567000
UCMMLAST EQU   UCMLIST+64                                               05568000
UCMVHRSN EQU   UCMDEVC                                                  05569000
UCMDEVG  EQU   UCMDEVC                                                  05570000
UCMDEVF  EQU   UCMDEVC                                                  05571000
UCMDEVE  EQU   UCMDEVC                                                  05572000
UCMDEVD  EQU   UCMDEVC                                                  05573000
UCMDEVCC EQU   UCMDEVC                                                  05574000
UCMDEVB  EQU   UCMDEVC                                                  05575000
UCMDEVA  EQU   UCMDEVC                                                  05576000
UCMXOR   EQU   UCMLIST+62                                               05577000
UCMMSG2  EQU   UCMMSG+1                                                 05578000
UCMRSV27 EQU   UCMMSG1                                                  05579000
UCMRSV26 EQU   UCMMSG1                                                  05580000
UCMMSGF  EQU   UCMMSG1                                                  05581000
UCMMSGE  EQU   UCMMSG1                                                  05582000
UCMMSGD  EQU   UCMMSG1                                                  05583000
UCMMSGC  EQU   UCMMSG1                                                  05584000
UCMMSGB  EQU   UCMMSG1                                                  05585000
UCMMSGA  EQU   UCMMSG1                                                  05586000
UCMCOMPC EQU   UCMLIST+56                                               05587000
UCMWLAST EQU   UCMLIST+52                                               05588000
UCMOAOEN EQU   UCMLIST+48                                               05589000
UCMALTEN EQU   UCMLIST+44                                               05590000
UCMRV007 EQU   UCMDISP2                                                 05591000
UCMRV006 EQU   UCMDISP2                                                 05592000
UCMRV005 EQU   UCMDISP2                                                 05593000
UCMRV004 EQU   UCMDISP2                                                 05594000
UCMRV003 EQU   UCMDISP2                                                 05595000
UCMRV002 EQU   UCMDISP2                                                 05596000
UCMDISPJ EQU   UCMDISP2                                                 05597000
UCMDISPI EQU   UCMDISP2                                                 05598000
UCMDISPH EQU   UCMDISP1                                                 05599000
UCMDISPG EQU   UCMDISP1                                                 05600000
UCMDISPF EQU   UCMDISP1                                                 05601000
UCMDISPE EQU   UCMDISP1                                                 05602000
UCMDISPD EQU   UCMDISP1                                                 05603000
UCMDISPC EQU   UCMDISP1                                                 05604000
UCMDISPB EQU   UCMDISP1                                                 05605000
UCMDISPA EQU   UCMDISP1                                                 05606000
UCMAUTHB EQU   UCMAUTH+1                                                05607000
UCMRSV23 EQU   UCMAUTHA                                                 05608000
UCMRSV22 EQU   UCMAUTHA                                                 05609000
UCMRSV21 EQU   UCMAUTHA                                                 05610000
UCMRSV20 EQU   UCMAUTHA                                                 05611000
UCMRSV19 EQU   UCMAUTHA                                                 05612000
UCMAUTH3 EQU   UCMAUTHA                                                 05613000
UCMAUTH2 EQU   UCMAUTHA                                                 05614000
UCMAUTH1 EQU   UCMAUTHA                                                 05615000
UCMOUTQ  EQU   UCMLIST+36                                               05616000
UCMRSV18 EQU   UCMLIST+34                                               05617000
UCMRTCD  EQU   UCMLIST+32                                               05618000
@NM00058 EQU   UCMXA+1                                                  05619000
UCMID    EQU   UCMXA                                                    05620000
UCMRSV17 EQU   UCMATR                                                   05621000
UCMRSV16 EQU   UCMATR                                                   05622000
UCMAT04  EQU   UCMATR                                                   05623000
UCMLF    EQU   UCMATR                                                   05624000
UCMUF    EQU   UCMATR                                                   05625000
UCMXF    EQU   UCMATR                                                   05626000
UCMIF    EQU   UCMATR                                                   05627000
UCMOF    EQU   UCMATR                                                   05628000
UCMTC    EQU   UCMSTS                                                   05629000
UCMTD    EQU   UCMSTS                                                   05630000
UCMTB    EQU   UCMSTS                                                   05631000
UCMTA    EQU   UCMSTS                                                   05632000
UCMCF    EQU   UCMSTS                                                   05633000
UCMBF    EQU   UCMSTS                                                   05634000
UCMPF    EQU   UCMSTS                                                   05635000
UCMNAME  EQU   UCMLIST+16                                               05636000
UCMUCB   EQU   UCMLIST+12                                               05637000
UCMDCB   EQU   UCMLIST+8                                                05638000
UCMSBR   EQU   UCMLIST+4                                                05639000
UCMECB   EQU   UCMLIST                                                  05640000
UCMTPSAV EQU   UCMEXIT+208                                              05641000
UCMXTSAV EQU   UCMEXIT+136                                              05642000
UCMDESCD EQU   UCMEXIT+132                                              05643000
UCMROUTC EQU   UCMEXIT+128                                              05644000
UCMMSTXT EQU   UCMEXIT                                                  05645000
UCMDECBA EQU   UCMEIL+20                                                05646000
UCMOECBA EQU   UCMEIL+16                                                05647000
UCMAECBA EQU   UCMEIL+12                                                05648000
UCMXECBA EQU   UCMEIL+8                                                 05649000
UCMNIPTR EQU   UCMEIL+4                                                 05650000
UCMRSV15 EQU   UCMEIL+3                                                 05651000
UCMRTCT  EQU   UCMEIL+2                                                 05652000
UCMRPYL  EQU   UCMEIL+1                                                 05653000
@NM00057 EQU   UCMEIL                                                   05654000
UCMRSV60 EQU   UCM+302                                                  05655000
UCMRSV59 EQU   UCMRSV51                                                 05656000
UCMRSV58 EQU   UCMRSV51                                                 05657000
UCMRSV57 EQU   UCMRSV51                                                 05658000
UCMRSV56 EQU   UCMRSV51                                                 05659000
UCMRSV55 EQU   UCMRSV51                                                 05660000
UCMRSV54 EQU   UCMRSV51                                                 05661000
UCMRSV53 EQU   UCMRSV51                                                 05662000
UCMRSV52 EQU   UCMRSV51                                                 05663000
UCMRSV50 EQU   UCMRSV42                                                 05664000
UCMRSV49 EQU   UCMRSV42                                                 05665000
UCMRSV48 EQU   UCMRSV42                                                 05666000
UCMRSV47 EQU   UCMRSV42                                                 05667000
UCMRSV46 EQU   UCMRSV42                                                 05668000
UCMRSV45 EQU   UCMRSV42                                                 05669000
UCMRSV44 EQU   UCMRSV42                                                 05670000
UCMRSV43 EQU   UCMRSV42                                                 05671000
UCMRSV41 EQU   UCM+296                                                  05672000
UCMWAKUP EQU   UCM+292                                                  05673000
UCMFRRAD EQU   UCM+288                                                  05674000
UCMSWCH  EQU   UCM+284                                                  05675000
UCMASCB  EQU   UCM+280                                                  05676000
UCMWQECP EQU   UCM+276                                                  05677000
UCMORECP EQU   UCM+272                                                  05678000
UCMOECBT EQU   UCM+268                                                  05679000
UCMOECBH EQU   UCM+264                                                  05680000
UCMWECBT EQU   UCM+260                                                  05681000
UCMWECBH EQU   UCM+256                                                  05682000
UCMMBEND EQU   UCM+252                                                  05683000
UCMCTID  EQU   UCM+250                                                  05684000
UCMRSV61 EQU   UCM+248                                                  05685000
UCMRP2AD EQU   UCM+244                                                  05686000
UCMCRAAD EQU   UCM+240                                                  05687000
UCMWQLM1 EQU   UCM+238                                                  05688000
UCMRV001 EQU   UCM+237                                                  05689000
UCMRQLM1 EQU   UCM+236                                                  05690000
UCMMBPTR EQU   UCM+232                                                  05691000
UCMMQNXT EQU   UCM+228                                                  05692000
UCMMQEND EQU   UCM+224                                                  05693000
UCMMQPTR EQU   UCM+220                                                  05694000
UCMTRECB EQU   UCM+216                                                  05695000
UCMMNECB EQU   UCM+212                                                  05696000
UCMMNTR  EQU   UCM+208                                                  05697000
UCMR9SV  EQU   UCM+204                                                  05698000
UCMSAVE4 EQU   UCM+140                                                  05699000
UCMSAVE3 EQU   UCM+84                                                   05700000
UCMVEL   EQU   UCMVDATA+8                                               05701000
UCMVEZ   EQU   UCMVDATA+4                                               05702000
UCMVEA   EQU   UCMVDATA                                                 05703000
UCMINCR  EQU   UCM+71                                                   05704000
UCMMODEL EQU   UCM+70                                                   05705000
UCMCORE  EQU   UCM+69                                                   05706000
UCMFIX   EQU   UCMMODE                                                  05707000
UCMMCS   EQU   UCMMODE                                                  05708000
UCMOGCE  EQU   UCMMODE                                                  05709000
UCMAMFA  EQU   UCMMODE                                                  05710000
UCMRSV14 EQU   UCMMODE                                                  05711000
UCMTPUTA EQU   UCMMODE                                                  05712000
UCMNOCON EQU   UCMMODE                                                  05713000
UCMRSV11 EQU   UCMMODE                                                  05714000
UCMPXA   EQU   UCM+64                                                   05715000
UCMWQEND EQU   UCM+60                                                   05716000
UCMWQNR  EQU   UCM+58                                                   05717000
UCMRQNR  EQU   UCM+56                                                   05718000
UCMWQECB EQU   UCM+52                                                   05719000
UCMRQECB EQU   UCM+48                                                   05720000
UCMWQLM  EQU   UCM+46                                                   05721000
UCMRQLM  EQU   UCM+45                                                   05722000
@NM00056 EQU   UCMRPYI                                                  05723000
UCMRPYQ  EQU   UCM+28                                                   05724000
UCMWTOQ  EQU   UCM+24                                                   05725000
UCMLSTP  EQU   UCM+20                                                   05726000
UCMARECB EQU   UCM+16                                                   05727000
UCMLECB  EQU   UCMDECB                                                  05728000
UCMOECB  EQU   UCM+8                                                    05729000
UCMXECB  EQU   UCM                                                      05730000
UCMGMCNT EQU   UCMPRFX+158                                              05731000
UCMSDS2  EQU   UCMPRFX+157                                              05732000
UCMRSV09 EQU   UCMSDS1                                                  05733000
UCMRSV08 EQU   UCMSDS1                                                  05734000
UCMRSV07 EQU   UCMSDS1                                                  05735000
UCMRSV06 EQU   UCMSDS1                                                  05736000
UCMRSV05 EQU   UCMSDS1                                                  05737000
UCMRSV04 EQU   UCMSDS1                                                  05738000
UCMSDS1B EQU   UCMSDS1                                                  05739000
UCMSDS1A EQU   UCMSDS1                                                  05740000
UCMDTINT EQU   UCMPRFX+152                                              05741000
UCMLOGAD EQU   UCMPRFX+148                                              05742000
UCMNPECB EQU   UCMPRFX+144                                              05743000
UCMTPPTR EQU   UCMPRFX+140                                              05744000
UCMDOMRT EQU   UCMPRFX+136                                              05745000
UCMRUTCK EQU   UCMPRFX+132                                              05746000
UCMQRTN  EQU   UCMPRFX+128                                              05747000
UCM6WD   EQU   UCMXSA+20                                                05748000
UCM5WD   EQU   UCMXSA+16                                                05749000
UCM4WD   EQU   UCMXSA+12                                                05750000
UCM3WD   EQU   UCMXSA+8                                                 05751000
UCM2WD   EQU   UCMXSA+4                                                 05752000
UCM1WD   EQU   UCMXSA                                                   05753000
UCMRSV03 EQU   UCMPRFX+102                                              05754000
UCMHRDRT EQU   UCMPRFX+100                                              05755000
UCMUEXIT EQU   UCMPRFX+97                                               05756000
UCMXCT   EQU   UCMPRFX+96                                               05757000
UCMHCUCM EQU   UCMPRFX+92                                               05758000
UCMCMID  EQU   UCMPRFX+88                                               05759000
UCMOWTOR EQU   UCMPRFX+86                                               05760000
UCMRSV02 EQU   UCMSFLG2                                                 05761000
UCMSYSO  EQU   UCMSFLG2                                                 05762000
UCMSYSN  EQU   UCMSFLG2                                                 05763000
UCMSYSM  EQU   UCMSFLG2                                                 05764000
UCMSYSL  EQU   UCMSFLG2                                                 05765000
UCMSYSK  EQU   UCMSFLG2                                                 05766000
UCMSYSJ  EQU   UCMSFLG2                                                 05767000
UCMSYSI  EQU   UCMSFLG2                                                 05768000
UCMRSV35 EQU   UCMSFLG1                                                 05769000
UCMSYSG  EQU   UCMSFLG1                                                 05770000
UCMSYSF  EQU   UCMSFLG1                                                 05771000
UCMSYSE  EQU   UCMSFLG1                                                 05772000
UCMSYSD  EQU   UCMSFLG1                                                 05773000
UCMSYSC  EQU   UCMSFLG1                                                 05774000
UCMSYSB  EQU   UCMSFLG1                                                 05775000
UCMRSV01 EQU   UCMSFLG1                                                 05776000
UCMWTOX  EQU   UCMPRFX+80                                               05777000
UCMDOME  EQU   UCMPRFX+76                                               05778000
UCMSVR0  EQU   UCMSAVE0+68                                              05779000
UCMSVQ0  EQU   UCMSAVE0+64                                              05780000
UCMSVP0  EQU   UCMSAVE0+60                                              05781000
UCMSVO0  EQU   UCMSAVE0+56                                              05782000
UCMSVN0  EQU   UCMSAVE0+52                                              05783000
UCMSVM0  EQU   UCMSAVE0+48                                              05784000
UCMSVL0  EQU   UCMSAVE0+44                                              05785000
UCMSVK0  EQU   UCMSAVE0+40                                              05786000
UCMSVJ0  EQU   UCMSAVE0+36                                              05787000
UCMSVI0  EQU   UCMSAVE0+32                                              05788000
UCMSVH0  EQU   UCMSAVE0+28                                              05789000
UCMSVG0  EQU   UCMSAVE0+24                                              05790000
UCMSVF0  EQU   UCMSAVE0+20                                              05791000
UCMSVE0  EQU   UCMSAVE0+16                                              05792000
UCMSVD0  EQU   UCMSAVE0+12                                              05793000
UCMSVC0  EQU   UCMSAVE0+8                                               05794000
UCMSVB0  EQU   UCMSAVE0+4                                               05795000
UCMSVA0  EQU   UCMSAVE0                                                 05796000
UCM2PAD  EQU   UCM2EXT+12                                               05797000
UCM2STAA EQU   UCM2STA+1                                                05798000
UCMRV008 EQU   UCM2SFLG                                                 05799000
UCMRSV34 EQU   UCM2SFLG                                                 05800000
UCMRSV33 EQU   UCM2SFLG                                                 05801000
UCMRSV32 EQU   UCM2SFLG                                                 05802000
UCM2DSTR EQU   UCM2SFLG                                                 05803000
UCM2DTAK EQU   UCM2SFLG                                                 05804000
UCM2SENT EQU   UCM2SFLG                                                 05805000
UCM2SDWA EQU   UCM2SFLG                                                 05806000
UCM2PST  EQU   UCM2EXT+4                                                05807000
UCM2RID  EQU   UCM2EXT+2                                                05808000
UCM2WID  EQU   UCM2EXT                                                  05809000
UCBERADR EQU   UCBUCS+12                                                05810000
UCBFCBID EQU   UCBUCS+8                                                 05811000
UCBERCNT EQU   UCBUCS+7                                                 05812000
UCBRSV51 EQU   UCBUCS+6                                                 05813000
UCBRSV50 EQU   UCBFCBOP                                                 05814000
UCBRSV49 EQU   UCBFCBOP                                                 05815000
UCBRSV48 EQU   UCBFCBOP                                                 05816000
UCBRSV47 EQU   UCBFCBOP                                                 05817000
UCBRSV46 EQU   UCBFCBOP                                                 05818000
UCBRSV45 EQU   UCBFCBOP                                                 05819000
UCBRSV44 EQU   UCBFCBOP                                                 05820000
UCBFCBO1 EQU   UCBFCBOP                                                 05821000
UCBUCSPE EQU   UCBUCSOP                                                 05822000
UCBRSV43 EQU   UCBUCSOP                                                 05823000
UCBRSV42 EQU   UCBUCSOP                                                 05824000
UCBRSV41 EQU   UCBUCSOP                                                 05825000
UCBRSV40 EQU   UCBUCSOP                                                 05826000
UCBRSV39 EQU   UCBUCSOP                                                 05827000
UCBUCSO2 EQU   UCBUCSOP                                                 05828000
UCBUCSO1 EQU   UCBUCSOP                                                 05829000
UCBUCSID EQU   UCBUCS                                                   05830000
UCBRDATA EQU   UCBOCR+4                                                 05831000
UCBFRID  EQU   UCBOCR                                                   05832000
UCBCLN   EQU   UCBMT+14                                                 05833000
UCBERG   EQU   UCBMT+12                                                 05834000
UCBMS    EQU   UCBMT+11                                                 05835000
UCBNB    EQU   UCBMT+10                                                 05836000
UCBPW    EQU   UCBMT+9                                                  05837000
UCBPR    EQU   UCBMT+8                                                  05838000
UCBSIO   EQU   UCBMT+6                                                  05839000
UCBTW    EQU   UCBMT+5                                                  05840000
UCBTR    EQU   UCBMT+4                                                  05841000
UCBTWT   EQU   UCBMT+3                                                  05842000
UCBTRT   EQU   UCBMT+2                                                  05843000
UCBCTD   EQU   UCBMT                                                    05844000
UCBWTOID EQU   UCBCMEXT+17                                              05845000
UCBRV043 EQU   UCBCMEXT+16                                              05846000
UCBASID  EQU   UCBCMEXT+14                                              05847000
UCBMFCNT EQU   UCBCMEXT+12                                              05848000
UCBPMSK  EQU   UCBCMEXT+10                                              05849000
UCBCCWOF EQU   UCBCMEXT+8                                               05850000
UCBRV041 EQU   UCBCMEXT+6                                               05851000
UCBRV036 EQU   UCBFLP1                                                  05852000
UCBRV035 EQU   UCBFLP1                                                  05853000
UCBRV034 EQU   UCBFLP1                                                  05854000
UCBRV033 EQU   UCBFLP1                                                  05855000
UCBRV032 EQU   UCBFLP1                                                  05856000
UCBRV031 EQU   UCBFLP1                                                  05857000
UCBRV030 EQU   UCBFLP1                                                  05858000
UCBNSRCH EQU   UCBFLP1                                                  05859000
UCBSNSCT EQU   UCBCMEXT+4                                               05860000
UCBHPDV  EQU   @NM00055                                                 05861000
UCBHALI  EQU   @NM00055                                                 05862000
UCBRSV09 EQU   @NM00055                                                 05863000
UCBRSV08 EQU   @NM00055                                                 05864000
UCBRSV07 EQU   @NM00055                                                 05865000
UCBRSV06 EQU   @NM00055                                                 05866000
UCBRSV05 EQU   @NM00055                                                 05867000
UCBRSV04 EQU   @NM00055                                                 05868000
UCBDTI   EQU   UCBCMEXT+2                                               05869000
UCBSTI   EQU   UCBCMEXT+1                                               05870000
UCBETI   EQU   UCBCMEXT                                                 05871000
UCBEXTP  EQU   UCBEXTPT+1                                               05872000
UCBDDRSW EQU   UCBFLC                                                   05873000
UCBTICBT EQU   UCBFLC                                                   05874000
UCBIVRR  EQU   UCBFLC                                                   05875000
UCBIVRS  EQU   UCBFLC                                                   05876000
UCBITF   EQU   UCBFLC                                                   05877000
UCBUDE   EQU   UCBFLC                                                   05878000
UCBWAA   EQU   UCBFLC                                                   05879000
UCBATTP  EQU   UCBFLC                                                   05880000
UCBUNTYP EQU   UCBTBYT4                                                 05881000
UCBRSV11 EQU   UCBDVCLS                                                 05882000
UCBRSV10 EQU   UCBDVCLS                                                 05883000
UCB3CHAR EQU   UCBDVCLS                                                 05884000
UCB3DACC EQU   UCBDVCLS                                                 05885000
UCB3TAPE EQU   UCBDVCLS                                                 05886000
UCBDVPWR EQU   UCB2OPT7                                                 05887000
UCBVLPWR EQU   UCB2OPT6                                                 05888000
UCB2OPT5 EQU   UCBTBYT2                                                 05889000
UCBRWTAU EQU   UCB2OPT4                                                 05890000
UCBRPS   EQU   UCBDUDN2                                                 05891000
UCBRR    EQU   UCBDUDN1                                                 05892000
UCB2OPT1 EQU   UCBTBYT2                                                 05893000
UCB2OPT0 EQU   UCBTBYT2                                                 05894000
UCB1FEA7 EQU   UCBTBYT1                                                 05895000
UCBD6250 EQU   UCB1FEA6                                                 05896000
UCBD1600 EQU   UCB1FEA5                                                 05897000
UCB1FEA4 EQU   UCBTBYT1                                                 05898000
UCB1FEA3 EQU   UCBTBYT1                                                 05899000
UCB1FEA2 EQU   UCBTBYT1                                                 05900000
UCB1FEA1 EQU   UCBTBYT1                                                 05901000
UCB1FEA0 EQU   UCBTBYT1                                                 05902000
UCBNAME  EQU   UCBOB+13                                                 05903000
UCBRV029 EQU   UCBWGT                                                   05904000
UCBVHRSN EQU   UCBWGT                                                   05905000
UCBVORSN EQU   UCBWGT                                                   05906000
UCBMTPXP EQU   UCBWGT                                                   05907000
UCBREW   EQU   UCBWGT                                                   05908000
UCBPUB   EQU   UCBWGT                                                   05909000
UCBOUT   EQU   UCBWGT                                                   05910000
UCBIN    EQU   UCBWGT                                                   05911000
UCBCPU   EQU   UCBOB+11                                                 05912000
UCBLCI   EQU   UCBOB+10                                                 05913000
UCBCNT   EQU   UCBOB+9                                                  05914000
UCBRV017 EQU   UCBCHM1                                                  05915000
UCBRV016 EQU   UCBCHM1                                                  05916000
UCBRV015 EQU   UCBCHM1                                                  05917000
UCBRV014 EQU   UCBCHM1                                                  05918000
UCBSPB   EQU   UCBPTH1                                                  05919000
UCBPPB   EQU   UCBPTH1                                                  05920000
UCBSPA   EQU   UCBPTH0                                                  05921000
UCBPPA   EQU   UCBPTH0                                                  05922000
UCBFLB7  EQU   UCBFLB                                                   05923000
UCBFLB6  EQU   UCBFLB                                                   05924000
UCBFLB5  EQU   UCBFLB                                                   05925000
UCBFLB4  EQU   UCBFLB                                                   05926000
UCBRESVH EQU   UCBFLB                                                   05927000
UCBSPST  EQU   UCBFLB                                                   05928000
UCBASNS  EQU   UCBFLB                                                   05929000
UCBIORST EQU   UCBFLB                                                   05930000
UCBQISCE EQU   UCBFL1                                                   05931000
UCBACTV  EQU   UCBFL1                                                   05932000
UCBSAP   EQU   UCBFL1                                                   05933000
UCBNOTRC EQU   UCBCUB                                                   05934000
UCBPSNS  EQU   UCBFL1                                                   05935000
UCBUSING EQU   UCBPST                                                   05936000
UCBNOTRD EQU   UCBNRY                                                   05937000
UCBBUSYD EQU   UCBBSY                                                   05938000
UCBDADI  EQU   UCBSTAT                                                  05939000
UCBSYSR  EQU   UCBSTAT                                                  05940000
UCBPRES  EQU   UCBSTAT                                                  05941000
UCBALOC  EQU   UCBSTAT                                                  05942000
UCBUNLD  EQU   UCBSTAT                                                  05943000
UCBRESV  EQU   UCBSTAT                                                  05944000
UCBCHGS  EQU   UCBSTAT                                                  05945000
UCBONLI  EQU   UCBSTAT                                                  05946000
UCBID    EQU   UCBOB+2                                                  05947000
UCBALTPH EQU   UCBFL5                                                   05948000
UCBALTCU EQU   UCBFL5                                                   05949000
UCBNALOC EQU   UCBFL5                                                   05950000
UCBENVRD EQU   UCBFL5                                                   05951000
UCBVSDR  EQU   UCBFL5                                                   05952000
UCBSASK  EQU   UCBFL5                                                   05953000
UCBAMV   EQU   UCBAF                                                    05954000
UCBDCC   EQU   UCBFL5                                                   05955000
UCBMONT  EQU   UCBJBNR                                                  05956000
UCBRV011 EQU   UCBJBNR                                                  05957000
UCBRSV02 EQU   UCBJBNR                                                  05958000
UCBRSV01 EQU   UCBJBNR                                                  05959000
UCBRV003 EQU   UCBJBNR                                                  05960000
UCBRV002 EQU   UCBJBNR                                                  05961000
UCBJES3  EQU   UCBJBNR                                                  05962000
UCBVRDEV EQU   UCBJBNR                                                  05963000
UCBCMSEG EQU   UCBOB                                                    05964000
UCBPFXND EQU   UCB+512                                                  05965000
UCBIOQ   EQU   UCB+508                                                  05966000
UCBLOCK  EQU   UCB+504                                                  05967000
UCBPXST  EQU   UCB+504                                                  05968000
@NM00052 EQU   UCB                                                      05969000
IOBRSV19 EQU   IOBINCAM+1                                               05970000
IOBOLTST EQU   IOBBTAMF                                                 05971000
IOBRFTMG EQU   IOBBTAMF                                                 05972000
IOBRSV17 EQU   IOBBTAMF                                                 05973000
IOBRSV16 EQU   IOBBTAMF                                                 05974000
IOBRSV15 EQU   IOBBTAMF                                                 05975000
IOBRSV14 EQU   IOBBTAMF                                                 05976000
IOBINUSE EQU   IOBBTAMF                                                 05977000
IOBPRMER EQU   IOBBTAMF                                                 05978000
IOBRSTRB EQU   IOBRESTR+1                                               05979000
IOBREPOS EQU   IOBRESTR                                                 05980000
IOBDCBPB EQU   IOBDCBPT+1                                               05981000
IOBRSV44 EQU   IOBFLAG4                                                 05982000
IOBRSV43 EQU   IOBFLAG4                                                 05983000
IOBRSV42 EQU   IOBFLAG4                                                 05984000
IOBRSV41 EQU   IOBFLAG4                                                 05985000
IOBRSV40 EQU   IOBFLAG4                                                 05986000
IOBRSV39 EQU   IOBFLAG4                                                 05987000
IOBRSV38 EQU   IOBFLAG4                                                 05988000
IOBGDPOL EQU   IOBFLAG4                                                 05989000
IOBSTRTB EQU   IOBSTART+1                                               05990000
IOBSIOCC EQU   IOBSTART                                                 05991000
IOBSTBYT EQU   IOBIOCSW+3                                               05992000
IOBCMDA  EQU   IOBIOCSW                                                 05993000
IOBLOG   EQU   IOBFL3                                                   05994000
IOBICL   EQU   IOBFL3                                                   05995000
IOBMSG   EQU   IOBFL3                                                   05996000
IOBCNC   EQU   IOBFL3                                                   05997000
IOBACU   EQU   IOBFL3                                                   05998000
IOBCDC   EQU   IOBFL3                                                   05999000
IOBICC   EQU   IOBFL3                                                   06000000
IOBCCC   EQU   IOBFL3                                                   06001000
IOBECBPB EQU   IOBECBPT+1                                               06002000
IOBS1B7  EQU   IOBSENS1                                                 06003000
IOBS1B6  EQU   IOBSENS1                                                 06004000
IOBS1B5  EQU   IOBSENS1                                                 06005000
IOBS1B4  EQU   IOBSENS1                                                 06006000
IOBS1B3  EQU   IOBSENS1                                                 06007000
IOBS1B2  EQU   IOBSENS1                                                 06008000
IOBS1B1  EQU   IOBSENS1                                                 06009000
IOBS1B0  EQU   IOBSENS1                                                 06010000
IOBS0B6  EQU   IOBSENS0                                                 06011000
IOBS0B5  EQU   IOBSENS0                                                 06012000
IOBS0B4  EQU   IOBSENS0                                                 06013000
IOBS0B3  EQU   IOBSENS0                                                 06014000
IOBS0B2  EQU   IOBSENS0                                                 06015000
IOBS0B1  EQU   IOBSENS0                                                 06016000
IOBS0B0  EQU   IOBSENS0                                                 06017000
IOBPNCH  EQU   IOBFLAG2                                                 06018000
IOBSTATO EQU   IOBFLAG2                                                 06019000
IOBSKUPD EQU   IOBFLAG2                                                 06020000
IOBALTTR EQU   IOBFLAG2                                                 06021000
IOBRRT2  EQU   IOBRDHA0                                                 06022000
IOBRRT3  EQU   IOBPURGE                                                 06023000
IOBSENSE EQU   IOBFLAG2                                                 06024000
IOBHALT  EQU   IOBFLAG2                                                 06025000
IOBSPSVC EQU   IOBRSTRT                                                 06026000
IOBUNREL EQU   IOBFLAG1                                                 06027000
IOBFCREX EQU   IOBCYCCK                                                 06028000
IOBRPSTN EQU   IOBFLAG1                                                 06029000
IOBERRTN EQU   IOBFLAG1                                                 06030000
IOBCMDCH EQU   IOBFLAG1                                                 06031000
IOBDATCH EQU   IOBFLAG1                                                 06032000
IOBCNOPA EQU   IOBPREFX+12                                              06033000
IOBCICB  EQU   IOBPREFX+8                                               06034000
IOBCECB  EQU   IOBPREFX+4                                               06035000
IOBCONOP EQU   IOBPREFX+3                                               06036000
IOBCINOP EQU   IOBPREFX+2                                               06037000
IOBRSV05 EQU   IOBPREFX+1                                               06038000
IOBPCI   EQU   IOBCFLG1                                                 06039000
IOBRSTCH EQU   IOBCFLG1                                                 06040000
IOBABAPP EQU   IOBCFLG1                                                 06041000
IOBPTST  EQU   IOBCFLG1                                                 06042000
IOBRSV04 EQU   IOBCFLG1                                                 06043000
IOBRSV03 EQU   IOBCFLG1                                                 06044000
IOBRSV02 EQU   IOBCFLG1                                                 06045000
IOBRSV01 EQU   IOBCFLG1                                                 06046000
ECBRBA   EQU   ECBCCCNT                                                 06047000
@NM00051 EQU   ECBCC                                                    06048000
ECBWAITB EQU   ECBCC                                                    06049000
DEBXRV40 EQU   DEBXTN+28                                                06050000
DEBXRV39 EQU   DEBXTN+24                                                06051000
DEBXXARG EQU   DEBXTN+20                                                06052000
DEBXMCF2 EQU   DEBXTN+19                                                06053000
DEBXMCF1 EQU   DEBXTN+18                                                06054000
DEBXDSO2 EQU   DEBXTN+17                                                06055000
DEBXDSO1 EQU   DEBXTN+16                                                06056000
DEBXDBPR EQU   DEBXTN+12                                                06057000
DEBXDCBM EQU   DEBXTN+8                                                 06058000
DEBXDSAB EQU   DEBXTN+4                                                 06059000
DEBXRV48 EQU   DEBXTN+3                                                 06060000
DEBXRV47 EQU   DEBXFLG1                                                 06061000
DEBXRV46 EQU   DEBXFLG1                                                 06062000
DEBXRV45 EQU   DEBXFLG1                                                 06063000
DEBXRV44 EQU   DEBXFLG1                                                 06064000
DEBXRV43 EQU   DEBXFLG1                                                 06065000
DEBXRV42 EQU   DEBXFLG1                                                 06066000
DEBXTSKC EQU   DEBXFLG1                                                 06067000
DEBXCDCB EQU   DEBXFLG1                                                 06068000
DEBXLNGH EQU   DEBXTN                                                   06069000
DEBTBLOF EQU   DEBPREFX+14                                              06070000
DEBAMTYP EQU   DEBPREFX+13                                              06071000
DEBLNGTH EQU   DEBPREFX+12                                              06072000
DEBDCBMK EQU   DEBXTNP                                                  06073000
DEBDSCBA EQU   DEBPREFX+1                                               06074000
DEBWKARA EQU   DEBPREFX                                                 06075000
DEBXCEAD EQU   DEBXCEA+1                                                06076000
DEBXCENP EQU   DEBXCEAB                                                 06077000
DEBRSV35 EQU   DEBXCEAB                                                 06078000
DEBRSV34 EQU   DEBXCEAB                                                 06079000
DEBRSV33 EQU   DEBXCEAB                                                 06080000
DEBRSV32 EQU   DEBXCEAB                                                 06081000
DEBCEAD  EQU   DEBCEA+1                                                 06082000
DEBCENP  EQU   DEBCEAB                                                  06083000
DEBRSV31 EQU   DEBCEAB                                                  06084000
DEBRSV30 EQU   DEBCEAB                                                  06085000
DEBRSV29 EQU   DEBCEAB                                                  06086000
DEBRSV28 EQU   DEBCEAB                                                  06087000
DEBPCIAD EQU   DEBPCIA+1                                                06088000
DEBPCINP EQU   DEBPCIAB                                                 06089000
DEBRSV27 EQU   DEBPCIAB                                                 06090000
DEBRSV26 EQU   DEBPCIAB                                                 06091000
DEBRSV25 EQU   DEBPCIAB                                                 06092000
DEBRSV24 EQU   DEBPCIAB                                                 06093000
DEBSIOAD EQU   DEBSIOA+1                                                06094000
DEBSIONP EQU   DEBSIOAB                                                 06095000
DEBFIX   EQU   DEBSIOAB                                                 06096000
DEBIOVR  EQU   DEBSIOAB                                                 06097000
DEBSIOX  EQU   DEBSIOAB                                                 06098000
DEBPGFX  EQU   DEBSIOAB                                                 06099000
DEBEOEAD EQU   DEBEOEA+1                                                06100000
DEBEOENP EQU   DEBEOEAB                                                 06101000
DEBRSV22 EQU   DEBEOEAB                                                 06102000
DEBRSV21 EQU   DEBEOEAB                                                 06103000
DEBRSV20 EQU   DEBEOEAB                                                 06104000
DEBRSV19 EQU   DEBEOEAB                                                 06105000
DEBSUBID EQU   DEBSUBNM                                                 06106000
DEBSIOA2 EQU   DEBACS08+24                                              06107000
DEBRPSIO EQU   DEBACS08+20                                              06108000
DEBFREED EQU   DEBACS08+16                                              06109000
@NM00050 EQU   DEBACS08+12                                              06110000
@NM00049 EQU   DEBACS08+8                                               06111000
DEBDISAD EQU   DEBACS08+4                                               06112000
@NM00048 EQU   DEBACS08                                                 06113000
DEBRPSST EQU   DEBACS07+64                                              06114000
DEBARECK EQU   DEBACS07+60                                              06115000
DEBAREWT EQU   DEBACS07+56                                              06116000
DEBACHK  EQU   DEBACS07+52                                              06117000
DEBAWRIT EQU   DEBACS07+48                                              06118000
DEBASETL EQU   DEBACS07+44                                              06119000
DEBAREAD EQU   DEBACS07+40                                              06120000
DEBCRECK EQU   DEBACS07+36                                              06121000
DEBCREWT EQU   DEBACS07+32                                              06122000
DEBCCHK  EQU   DEBACS07+28                                              06123000
DEBCWRIT EQU   DEBACS07+24                                              06124000
DEBCSETL EQU   DEBACS07+20                                              06125000
DEBCREAD EQU   DEBACS07+16                                              06126000
DEBWKPT5 EQU   DEBACS07+12                                              06127000
DEBWKPT4 EQU   DEBACS07+8                                               06128000
DEBGET   EQU   DEBACS07+4                                               06129000
@NM00047 EQU   DEBACS07                                                 06130000
DEBPUT   EQU   DEBACS06+4                                               06131000
DEBDCBFA EQU   DEBACS06                                                 06132000
DEBLUCBB EQU   DEBLUCBA+1                                               06133000
DEBRSV18 EQU   DEBLUCBA                                                 06134000
DEBFUCBB EQU   DEBFUCBA+1                                               06135000
DEBRSV17 EQU   DEBFUCBA                                                 06136000
DEBTCCWB EQU   DEBTCCWA+1                                               06137000
DEBRSV16 EQU   DEBTCCWA                                                 06138000
DEBTBFRB EQU   DEBTBFRA+1                                               06139000
DEBRSV15 EQU   DEBTBFRA                                                 06140000
DEBDBPEF EQU   DEBACS03+8                                               06141000
DEBDBPP  EQU   DEBACS03+4                                               06142000
DEBDTPP  EQU   DEBACS03                                                 06143000
DEBDBPE  EQU   DEBDBLK+1                                                06144000
DEBDBPT  EQU   DEBDBLK                                                  06145000
DEBEXTNM EQU   DEBDSNAM                                                 06146000
DEBRSV14 EQU   DEBDSNM+4                                                06147000
DEBUTSAB EQU   DEBUTSAA+1                                               06148000
DEBRSV13 EQU   DEBUTSAA                                                 06149000
DEBVOLNM EQU   DEBACSMD+2                                               06150000
DEBVLSEQ EQU   DEBVOLSQ+1                                               06151000
DEBRSV42 EQU   DEBVOLBT                                                 06152000
DEBRSV41 EQU   DEBVOLBT                                                 06153000
DEBRSV40 EQU   DEBVOLBT                                                 06154000
DEBRSV39 EQU   DEBVOLBT                                                 06155000
DEBRSV38 EQU   DEBVOLBT                                                 06156000
DEBRSV37 EQU   DEBVOLBT                                                 06157000
DEBRSV36 EQU   DEBVOLBT                                                 06158000
DEBEXFUL EQU   DEBVOLBT                                                 06159000
DEBNMTRK EQU   DEBDASD+14                                               06160000
DEBENDHH EQU   DEBDASD+12                                               06161000
DEBENDCC EQU   DEBDASD+10                                               06162000
DEBSTRHH EQU   DEBDASD+8                                                06163000
DEBSTRCC EQU   DEBDASD+6                                                06164000
DEBBINUM EQU   DEBDASD+4                                                06165000
DEBUCBA  EQU   DEBUCBAD+1                                               06166000
DEBDVMOD EQU   DEBUCBAD                                                 06167000
DEBEXSCL EQU   DEBAPPAD                                                 06168000
DEBDCBB  EQU   DEBDCBAD+1                                               06169000
DEBDEBID EQU   DEBPROTG                                                 06170000
DEBECBB  EQU   DEBECBAD+1                                               06171000
DEBPRIOR EQU   DEBECBAD                                                 06172000
DEBUSRPB EQU   DEBUSRPG+1                                               06173000
DEBNMEXT EQU   DEBUSRPG                                                 06174000
DEBRSV05 EQU   DEBBASIC+15                                              06175000
DEBXTNIN EQU   DEBFLGS1                                                 06176000
DEBAPFIN EQU   DEBFLGS1                                                 06177000
DEBF1CEV EQU   DEBFLGS1                                                 06178000
DEBCINDI EQU   DEBFLGS1                                                 06179000
DEBRSV02 EQU   DEBFLGS1                                                 06180000
DEBRSV01 EQU   DEBFLGS1                                                 06181000
DEBEOFDF EQU   DEBFLGS1                                                 06182000
DEBPWCKD EQU   DEBFLGS1                                                 06183000
DEBQSCNT EQU   DEBBASIC+13                                              06184000
DEBACCS  EQU   DEBOPATB                                                 06185000
DEBPOSIT EQU   DEBOPATB                                                 06186000
DEBZERO  EQU   DEBOPATB                                                 06187000
DEBABEND EQU   DEBOPATB                                                 06188000
DEBIRBB  EQU   DEBIRBAD+1                                               06189000
DEBRERR  EQU   DEBOFLGS                                                 06190000
DEBLABEL EQU   DEBOFLGS                                                 06191000
DEBSPLIT EQU   DEBOFLGS                                                 06192000
DEBDCB   EQU   DEBOFLGS                                                 06193000
DEBRLSE  EQU   DEBOFLGS                                                 06194000
DEBEOF   EQU   DEBOFLGS                                                 06195000
DEBDISP  EQU   DEBOFLGS                                                 06196000
DEBDEBB  EQU   DEBDEBAD+1                                               06197000
DEBAMLNG EQU   DEBDEBAD                                                 06198000
DEBTCBB  EQU   DEBTCBAD+1                                               06199000
DEBNMSUB EQU   DEBTCBAD                                                 06200000
DCMACBND EQU   DCMACB+40                                                06201000
DCMAPAD  EQU   DCMACLR+27                                               06202000
DCMATECB EQU   DCMACLR+23                                               06203000
DCMAUTME EQU   DCMATFLG+2                                               06204000
@NM00046 EQU   DCMATRCK                                                 06205000
@NM00045 EQU   DCMATRCK                                                 06206000
DCMATTSL EQU   DCMATRCK                                                 06207000
DCMATTS  EQU   DCMATRCK                                                 06208000
@NM00044 EQU   DCMATRCK                                                 06209000
@NM00043 EQU   DCMATRCK                                                 06210000
DCMATJBL EQU   DCMATRCK                                                 06211000
DCMATJOB EQU   DCMATRCK                                                 06212000
@NM00042 EQU   DCMADFLG                                                 06213000
@NM00041 EQU   DCMADFLG                                                 06214000
@NM00040 EQU   DCMADFLG                                                 06215000
@NM00039 EQU   DCMADFLG                                                 06216000
@NM00038 EQU   DCMADFLG                                                 06217000
DCMACSIB EQU   DCMADFLG                                                 06218000
DCMAHOLD EQU   DCMADFLG                                                 06219000
DCMADD   EQU   DCMADFLG                                                 06220000
@NM00037 EQU   DCMAFLG2                                                 06221000
@NM00036 EQU   DCMAFLG2                                                 06222000
@NM00035 EQU   DCMAFLG2                                                 06223000
@NM00034 EQU   DCMAFLG2                                                 06224000
DCMAMJFR EQU   DCMAFLG2                                                 06225000
DCMARCON EQU   DCMAFLG2                                                 06226000
DCMAWCON EQU   DCMAFLG2                                                 06227000
DCMALMIN EQU   DCMAFLG2                                                 06228000
@NM00033 EQU   DCMAFLG1                                                 06229000
@NM00032 EQU   DCMAFLG1                                                 06230000
DCMABL   EQU   DCMAFLG1                                                 06231000
DCMAFULL EQU   DCMAFLG1                                                 06232000
DCMAFRPR EQU   DCMAFLG1                                                 06233000
DCMADEND EQU   DCMAFLG1                                                 06234000
DCMADISP EQU   DCMAFLG1                                                 06235000
@NM00031 EQU   DCMAFLG1                                                 06236000
DCMAMT   EQU   DCMACLR+15                                               06237000
DCMATIME EQU   DCMACLR+11                                               06238000
DCMAMIN  EQU   DCMACLR+7                                                06239000
DCMAMJWQ EQU   DCMACLR+3                                                06240000
DCMAFR   EQU   DCMACLR+1                                                06241000
DCMAROW  EQU   DCMACLR                                                  06242000
DCMATOP  EQU   DCMACB+8                                                 06243000
DCMALN   EQU   DCMACB+6                                                 06244000
DCMAGM   EQU   DCMASACB                                                 06245000
DCMAUSE  EQU   DCMASACB                                                 06246000
DCMAID   EQU   DCMACB+4                                                 06247000
DCMACBNX EQU   DCMACB                                                   06248000
DCMPLNPR EQU   DCMPACB+2                                                06249000
DCMPLN   EQU   DCMPACB                                                  06250000
@NM00030 EQU   DCMTSRT+52                                               06251000
DCMRQDEL EQU   DCMTSRT+48                                               06252000
@NM00029 EQU   DCMTSRT+46                                               06253000
@NM00028 EQU   DCMR3FLG                                                 06254000
@NM00027 EQU   DCMR3FLG                                                 06255000
DCMRXHMT EQU   DCMR3FLG                                                 06256000
DCMR3PKA EQU   DCMR3FLG                                                 06257000
DCMRXSCN EQU   DCMR3FLG                                                 06258000
DCMCLPR  EQU   DCMR3FLG                                                 06259000
DCMKVIP  EQU   DCMR3FLG                                                 06260000
DCMSTSWT EQU   DCMR3FLG                                                 06261000
@NM00026 EQU   DCMR2FLG                                                 06262000
DCMRXTIM EQU   DCMR2FLG                                                 06263000
@NM00025 EQU   DCMR2FLG                                                 06264000
DCMRXDEL EQU   DCMR2FLG                                                 06265000
DCMRXRLL EQU   DCMR2FLG                                                 06266000
DCMRXTMR EQU   DCMR2FLG                                                 06267000
DCMRXUNV EQU   DCMR2FLG                                                 06268000
DCMRXSFL EQU   DCMR2FLG                                                 06269000
DCMTMCTR EQU   DCMTSRT+42                                               06270000
DCMINTVL EQU   DCMTSRT+40                                               06271000
DCMADPFK EQU   DCMTSRT+36                                               06272000
DCMSUBAD EQU   DCMTSRT+32                                               06273000
DCMDOMKY EQU   DCMTSRT+30                                               06274000
DCMRMSAL EQU   DCMTSRT+28                                               06275000
DCMWLAST EQU   DCMTSRT+24                                               06276000
DCMADRMS EQU   DCMTSRT+21                                               06277000
DCMRMS   EQU   DCMTSRT+20                                               06278000
DCMADSDS EQU   DCMTSRT+16                                               06279000
@NM00024 EQU   DCMDEVTY                                                 06280000
@NM00023 EQU   DCMDEVTY                                                 06281000
@NM00022 EQU   DCMDEVTY                                                 06282000
@NM00021 EQU   DCMDEVTY                                                 06283000
@NM00020 EQU   DCMDEVTY                                                 06284000
@NM00019 EQU   DCMDEVTY                                                 06285000
DCMTY50  EQU   DCMDEVTY                                                 06286000
DCMTY60  EQU   DCMDEVTY                                                 06287000
@NM00018 EQU   @NM00010                                                 06288000
@NM00017 EQU   @NM00010                                                 06289000
@NM00016 EQU   @NM00010                                                 06290000
@NM00015 EQU   @NM00010                                                 06291000
@NM00014 EQU   @NM00010                                                 06292000
@NM00013 EQU   @NM00010                                                 06293000
@NM00012 EQU   @NM00010                                                 06294000
@NM00011 EQU   @NM00010                                                 06295000
DCMTOPDS EQU   DCMTSRT+13                                               06296000
DCMTOPAR EQU   DCMTSRT+12                                               06297000
DCMADKP  EQU   DCMTSRT+8                                                06298000
DCMLEN   EQU   DCMTSRT+6                                                06299000
@NM00009 EQU   DCMRFLGS                                                 06300000
@NM00008 EQU   DCMRFLGS                                                 06301000
@NM00007 EQU   DCMRFLGS                                                 06302000
DCMDOM   EQU   DCMRFLGS                                                 06303000
@NM00006 EQU   DCMRFLGS                                                 06304000
@NM00005 EQU   DCMRFLGS                                                 06305000
@NM00004 EQU   DCMRFLGS                                                 06306000
@NM00003 EQU   DCMTSRT+4                                                06307000
DCMADTRN EQU   DCMTSRT                                                  06308000
CVTLEVL  EQU   CVTRELNO+2                                               06309000
CVTNUMB  EQU   CVTRELNO                                                 06310000
CVTMDL   EQU   CVTFIX+250                                               06311000
@NM00002 EQU   CVTFIX+248                                               06312000
@NM00001 EQU   CVTFIX                                                   06313000
CVTRV482 EQU   CVTXTNT2+128                                             06314000
CVTRV481 EQU   CVTXTNT2+124                                             06315000
CVTRV480 EQU   CVTXTNT2+120                                             06316000
CVTRV479 EQU   CVTXTNT2+118                                             06317000
CVTRV478 EQU   CVTXTNT2+117                                             06318000
CVTRV477 EQU   CVTXTNT2+116                                             06319000
CVTRV476 EQU   CVTXTNT2+115                                             06320000
CVTRV475 EQU   CVTXTNT2+114                                             06321000
CVTRV474 EQU   CVTRV466                                                 06322000
CVTRV473 EQU   CVTRV466                                                 06323000
CVTRV472 EQU   CVTRV466                                                 06324000
CVTRV471 EQU   CVTRV466                                                 06325000
CVTRV470 EQU   CVTRV466                                                 06326000
CVTRV469 EQU   CVTRV466                                                 06327000
CVTRV468 EQU   CVTRV466                                                 06328000
CVTRV467 EQU   CVTRV466                                                 06329000
CVTRV465 EQU   CVTRV457                                                 06330000
CVTRV464 EQU   CVTRV457                                                 06331000
CVTRV463 EQU   CVTRV457                                                 06332000
CVTRV462 EQU   CVTRV457                                                 06333000
CVTRV461 EQU   CVTRV457                                                 06334000
CVTRV460 EQU   CVTRV457                                                 06335000
CVTRV459 EQU   CVTRV457                                                 06336000
CVTRV458 EQU   CVTRV457                                                 06337000
CVTRV456 EQU   CVTXTNT2+108                                             06338000
CVTRV455 EQU   CVTXTNT2+104                                             06339000
CVTRV454 EQU   CVTXTNT2+100                                             06340000
CVTRV453 EQU   CVTXTNT2+96                                              06341000
CVTRV452 EQU   CVTXTNT2+94                                              06342000
CVTRV451 EQU   CVTXTNT2+92                                              06343000
CVTRV450 EQU   CVTXTNT2+90                                              06344000
CVTRV449 EQU   CVTXTNT2+88                                              06345000
CVTRV448 EQU   CVTXTNT2+87                                              06346000
CVTRV447 EQU   CVTXTNT2+86                                              06347000
CVTRV446 EQU   CVTRV438                                                 06348000
CVTRV445 EQU   CVTRV438                                                 06349000
CVTRV444 EQU   CVTRV438                                                 06350000
CVTRV443 EQU   CVTRV438                                                 06351000
CVTRV442 EQU   CVTRV438                                                 06352000
CVTRV441 EQU   CVTRV438                                                 06353000
CVTRV440 EQU   CVTRV438                                                 06354000
CVTRV439 EQU   CVTRV438                                                 06355000
CVTRV437 EQU   CVTRV429                                                 06356000
CVTRV436 EQU   CVTRV429                                                 06357000
CVTRV435 EQU   CVTRV429                                                 06358000
CVTRV434 EQU   CVTRV429                                                 06359000
CVTRV433 EQU   CVTRV429                                                 06360000
CVTRV432 EQU   CVTRV429                                                 06361000
CVTRV431 EQU   CVTRV429                                                 06362000
CVTRV430 EQU   CVTRV429                                                 06363000
CVTRV428 EQU   CVTXTNT2+80                                              06364000
CVTRV427 EQU   CVTXTNT2+76                                              06365000
CVTRV426 EQU   CVTXTNT2+72                                              06366000
CVTRV425 EQU   CVTXTNT2+68                                              06367000
CVTATACT EQU   CVTATCVT                                                 06368000
CVTRV423 EQU   CVTXTNT2+62                                              06369000
CVTRV422 EQU   CVTXTNT2+60                                              06370000
CVTRV421 EQU   CVTXTNT2+58                                              06371000
CVTRV420 EQU   CVTXTNT2+56                                              06372000
CVTRV419 EQU   CVTXTNT2+55                                              06373000
CVTRV418 EQU   CVTXTNT2+54                                              06374000
CVTRV417 EQU   CVTRV409                                                 06375000
CVTRV416 EQU   CVTRV409                                                 06376000
CVTRV415 EQU   CVTRV409                                                 06377000
CVTRV414 EQU   CVTRV409                                                 06378000
CVTRV413 EQU   CVTRV409                                                 06379000
CVTRV412 EQU   CVTRV409                                                 06380000
CVTRV411 EQU   CVTRV409                                                 06381000
CVTRV410 EQU   CVTRV409                                                 06382000
CVTRV408 EQU   CVTRV400                                                 06383000
CVTRV407 EQU   CVTRV400                                                 06384000
CVTRV406 EQU   CVTRV400                                                 06385000
CVTRV405 EQU   CVTRV400                                                 06386000
CVTRV404 EQU   CVTRV400                                                 06387000
CVTRV403 EQU   CVTRV400                                                 06388000
CVTRV402 EQU   CVTRV400                                                 06389000
CVTRV401 EQU   CVTRV400                                                 06390000
CVTRSVA1 EQU   CVTXTNT2+48                                              06391000
CVTRSVA0 EQU   CVTXTNT2+44                                              06392000
CVTRSV99 EQU   CVTXTNT2+40                                              06393000
CVTRSV98 EQU   CVTXTNT2+36                                              06394000
CVTRSV97 EQU   CVTXTNT2+34                                              06395000
CVTRSV96 EQU   CVTXTNT2+32                                              06396000
CVTOLTEP EQU   CVTXTNT2+28                                              06397000
CVTQIDA  EQU   CVTQID+1                                                 06398000
CVTRSV95 EQU   CVTQID                                                   06399000
CVTRSV94 EQU   CVTXTNT2+20                                              06400000
CVTRSV93 EQU   CVTXTNT2+16                                              06401000
CVTRSV92 EQU   CVTXTNT2+12                                              06402000
CVTDEBVR EQU   CVTXTNT2+8                                               06403000
CVTRSV91 EQU   CVTXTNT2+6                                               06404000
CVTRSV9H EQU   CVTRSV90                                                 06405000
CVTRSV9G EQU   CVTRSV90                                                 06406000
CVTRSV9F EQU   CVTRSV90                                                 06407000
CVTRSV9E EQU   CVTRSV90                                                 06408000
CVTRSV9D EQU   CVTRSV90                                                 06409000
CVTRSV9C EQU   CVTRSV90                                                 06410000
CVTRSV9B EQU   CVTRSV90                                                 06411000
CVTRSV9A EQU   CVTRSV90                                                 06412000
CVTNUCLS EQU   CVTXTNT2+4                                               06413000
CVTDSSVA EQU   CVTDSSV+1                                                06414000
CVTRSV89 EQU   CVTDSSV                                                  06415000
CVTRSV88 EQU   CVTXTNT1+8                                               06416000
CVTRSV87 EQU   CVTXTNT1+4                                               06417000
CVTFACHN EQU   CVTXTNT1                                                 06418000
CVTRV488 EQU   CVTMAP+412                                               06419000
CVTRV487 EQU   CVTMAP+408                                               06420000
CVTRV486 EQU   CVTMAP+404                                               06421000
CVTRV485 EQU   CVTMAP+400                                               06422000
CVTRV484 EQU   CVTMAP+396                                               06423000
CVTAUTH  EQU   CVTMAP+392                                               06424000
CVTATMCA EQU   CVTATMCT+1                                               06425000
CVTATMST EQU   CVTATMCT                                                 06426000
CVTRSV61 EQU   CVTMAP+384                                               06427000
CVTVOLT1 EQU   CVTVOLM1+1                                               06428000
CVTVOLI1 EQU   CVTVOLF1                                                 06429000
CVTSTOA  EQU   CVTMAP+376                                               06430000
CVTRSV58 EQU   CVTMAP+374                                               06431000
CVTRSV57 EQU   CVTMAP+372                                               06432000
CVTDDCE  EQU   CVTMAP+368                                               06433000
CVTPNWFR EQU   CVTMAP+364                                               06434000
CVTSMF   EQU   CVTMAP+360                                               06435000
CVTSULK  EQU   CVTMAP+358                                               06436000
CVTSLKO  EQU   CVTSYSK                                                  06437000
CVTSLKP  EQU   CVTSYSK                                                  06438000
CVTSLKQ  EQU   CVTSYSK                                                  06439000
CVTSLKR  EQU   CVTSYSK                                                  06440000
CVTRSV56 EQU   CVTSYSK                                                  06441000
CVTRSV55 EQU   CVTSYSK                                                  06442000
CVTRSV54 EQU   CVTSYSK                                                  06443000
CVTRSV53 EQU   CVTSYSK                                                  06444000
CVTRSV52 EQU   CVTA1F1                                                  06445000
CVTRSV51 EQU   CVTA1F1                                                  06446000
CVTRSV50 EQU   CVTA1F1                                                  06447000
CVTRSV49 EQU   CVTA1F1                                                  06448000
CVTRSV48 EQU   CVTA1F1                                                  06449000
CVTRSV47 EQU   CVTA1F1                                                  06450000
CVTSRSW  EQU   CVTA1F1                                                  06451000
CVTPFSW  EQU   CVTA1F1                                                  06452000
CVTPCVT  EQU   CVTMAP+352                                               06453000
CVTRSV46 EQU   CVTMAP+344                                               06454000
CVTRSV45 EQU   CVTMAP+340                                               06455000
CVTRSV44 EQU   CVTMAP+338                                               06456000
CVTRSV43 EQU   CVTMAP+336                                               06457000
CVTHJESA EQU   CVTHJES+1                                                06458000
CVTRSV42 EQU   CVTHJES                                                  06459000
CVTEXT2A EQU   CVTEXT2+1                                                06460000
CVTRSV41 EQU   CVTEXT2                                                  06461000
CVTAPFA  EQU   CVTAPF+1                                                 06462000
CVTRSV40 EQU   CVTAPF                                                   06463000
CVTRV518 EQU   CVTINTLA                                                 06464000
CVTRV517 EQU   CVTERPV                                                  06465000
CVTEORM  EQU   CVTMAP+312                                               06466000
CVTMCHPR EQU   CVTMAP+308                                               06467000
CVTTZ    EQU   CVTMAP+304                                               06468000
CVTJEPS  EQU   CVTMAP+300                                               06469000
CVTJESCT EQU   CVTMAP+296                                               06470000
CVTMODE  EQU   CVTMAP+292                                               06471000
CVTPTRV  EQU   CVTMAP+288                                               06472000
CVTREAL  EQU   CVTMAP+284                                               06473000
CVTRSV39 EQU   CVTMAP+280                                               06474000
CVTRSV38 EQU   CVTMAP+276                                               06475000
CVTDMSRA EQU   CVTDMSR+1                                                06476000
CVTRSV37 EQU   CVTDMSR                                                  06477000
CVTQMSGA EQU   CVTQMSG+1                                                06478000
CVTRSV36 EQU   CVTQMSG                                                  06479000
CVTAMFF  EQU   CVTMAP+264                                               06480000
CVTPURGA EQU   CVTPURG+1                                                06481000
CVTRSV35 EQU   CVTPURG                                                  06482000
CVTCBSP  EQU   CVTMAP+256                                               06483000
CVTATERA EQU   CVTATER+1                                                06484000
CVTSYST  EQU   CVTATER                                                  06485000
CVTVOLT2 EQU   CVTTAT                                                   06486000
CVTVOLI2 EQU   CVTVOLF2                                                 06487000
CVTAQAVB EQU   CVTAQAVT+1                                               06488000
CVTRSV34 EQU   CVTTCMFG                                                 06489000
CVTRSV33 EQU   CVTTCMFG                                                 06490000
CVTRSV32 EQU   CVTTCMFG                                                 06491000
CVTRSV31 EQU   CVTTCMFG                                                 06492000
CVTRSV30 EQU   CVTTCMFG                                                 06493000
CVTRSV29 EQU   CVTTCMFG                                                 06494000
CVTRSV28 EQU   CVTTCMFG                                                 06495000
CVTTCRDY EQU   CVTTCMFG                                                 06496000
CVTGTFA  EQU   CVTGTF+1                                                 06497000
CVTRSV27 EQU   CVTGTFST                                                 06498000
CVTRNIO  EQU   CVTGTFST                                                 06499000
CVTRV319 EQU   CVTUSR                                                   06500000
CVTRV318 EQU   CVTFORM                                                  06501000
CVTRV317 EQU   CVTTMODE                                                 06502000
CVTRV316 EQU   CVTSTATE                                                 06503000
CVTRV315 EQU   CVTGTFS                                                  06504000
CVTGTFAV EQU   CVTGTFS                                                  06505000
CVT0SCR1 EQU   CVTMAP+232                                               06506000
CVTRV515 EQU   CVTMAP+228                                               06507000
CVTRMS   EQU   CVTMAP+224                                               06508000
CVTPATCH EQU   CVTMAP+220                                               06509000
CVTTSCE  EQU   CVTMAP+216                                               06510000
CVTLNKSC EQU   CVTMAP+214                                               06511000
CVTQABST EQU   CVTMAP+212                                               06512000
CVTMDLDS EQU   CVTMAP+208                                               06513000
CVTUSER  EQU   CVTMAP+204                                               06514000
CVTABEND EQU   CVTMAP+200                                               06515000
CVTSMCA  EQU   CVTMAP+196                                               06516000
CVTRSV18 EQU   CVTMAP+192                                               06517000
CVTQLPAQ EQU   CVTMAP+188                                               06518000
CVTQCDSR EQU   CVTMAP+184                                               06519000
CVTRSV17 EQU   CVTOPTB                                                  06520000
CVTRSV16 EQU   CVTOPTB                                                  06521000
CVTFP    EQU   CVTOPTB                                                  06522000
CVTAPTHR EQU   CVTOPTB                                                  06523000
CVTNLOG  EQU   CVTOPTB                                                  06524000
CVTTOD   EQU   CVTOPTB                                                  06525000
CVTCTIMS EQU   CVTOPTB                                                  06526000
CVTPROT  EQU   CVTOPTB                                                  06527000
CVTXPFP  EQU   CVTOPTA                                                  06528000
CVTASCII EQU   CVTOPTA                                                  06529000
CVTRSV13 EQU   CVTOPTA                                                  06530000
CVTRSV12 EQU   CVTOPTA                                                  06531000
CVTNIP   EQU   CVTOPTA                                                  06532000
CVTDDR   EQU   CVTOPTA                                                  06533000
CVTAPR   EQU   CVTOPTA                                                  06534000
CVTCCH   EQU   CVTOPTA                                                  06535000
CVTSNCTR EQU   CVTMAP+180                                               06536000
CVTQMWR  EQU   CVTMAP+176                                               06537000
CVTQOCR  EQU   CVTMAP+172                                               06538000
CVT1EF00 EQU   CVTMAP+168                                               06539000
CVTMZ00  EQU   CVTMAP+164                                               06540000
CVTHEAD  EQU   CVTMAP+160                                               06541000
CVTRSV11 EQU   CVTMAP+156                                               06542000
CVT0PT01 EQU   CVTMAP+152                                               06543000
CVTMSER  EQU   CVTMAP+148                                               06544000
CVTRV516 EQU   CVTIERLC                                                 06545000
CVTILCH  EQU   CVTMAP+140                                               06546000
CVT0DS   EQU   CVTMAP+136                                               06547000
CVTFBOSV EQU   CVTMAP+132                                               06548000
CVTNUCB  EQU   CVTMAP+128                                               06549000
CVTIXAVL EQU   CVTMAP+124                                               06550000
CVTIOQET EQU   CVTMAP+120                                               06551000
CVTDCBA  EQU   CVTMAP+117                                               06552000
CVTMVS2  EQU   CVTDCB                                                   06553000
CVT6DAT  EQU   CVTDCB                                                   06554000
CVT4MPS  EQU   CVTDCB                                                   06555000
CVTRSV09 EQU   CVTDCB                                                   06556000
CVT4MS1  EQU   CVTDCB                                                   06557000
CVT2SPS  EQU   CVTDCB                                                   06558000
CVT1SSS  EQU   CVTDCB                                                   06559000
CVTRSV08 EQU   CVTDCB                                                   06560000
CVTSTB   EQU   CVTMAP+112                                               06561000
CVTQTD00 EQU   CVTMAP+108                                               06562000
CVTQTE00 EQU   CVTMAP+104                                               06563000
CVTSJQ   EQU   CVTMAP+96                                                06564000
CVTPBLDL EQU   CVTMAP+92                                                06565000
CVTTPC   EQU   CVTMAP+88                                                06566000
CVTSVDCB EQU   CVTMAP+84                                                06567000
CVTBRET  EQU   CVTMAP+82                                                06568000
CVTEXIT  EQU   CVTMAP+80                                                06569000
CVT0FN00 EQU   CVTMAP+76                                                06570000
CVTDARA  EQU   CVTDAR+1                                                 06571000
CVTRSV07 EQU   CVTFLGS1                                                 06572000
CVTRSV06 EQU   CVTFLGS1                                                 06573000
CVTRSV05 EQU   CVTFLGS1                                                 06574000
CVTRSV04 EQU   CVTFLGS1                                                 06575000
CVTRSV03 EQU   CVTFLGS1                                                 06576000
CVTRSV02 EQU   CVTFLGS1                                                 06577000
CVTRSV01 EQU   CVTFLGS1                                                 06578000
CVTDMPLK EQU   CVTFLGS1                                                 06579000
CVTXITP  EQU   CVTMAP+68                                                06580000
CVTZDTAB EQU   CVTMAP+64                                                06581000
CVTMSLT  EQU   CVTMAP+60                                                06582000
CVTDATE  EQU   CVTMAP+56                                                06583000
CVTBTERM EQU   CVTMAP+52                                                06584000
CVTSYSAD EQU   CVTMAP+48                                                06585000
CVTXTLER EQU   CVTMAP+44                                                06586000
CVTILK2  EQU   CVTMAP+40                                                06587000
CVTILK1  EQU   CVTMAP+36                                                06588000
CVTPRLTV EQU   CVTMAP+32                                                06589000
CVTPCNVT EQU   CVTMAP+28                                                06590000
CVT0VL00 EQU   CVTMAP+24                                                06591000
CVTXAPG  EQU   CVTMAP+20                                                06592000
CVTBUF   EQU   CVTMAP+16                                                06593000
CVTJOB   EQU   CVTMAP+12                                                06594000
CVTLINK  EQU   CVTMAP+8                                                 06595000
CVT0EF00 EQU   CVTMAP+4                                                 06596000
CVTTCBP  EQU   CVTMAP                                                   06597000
CVT      EQU   CVTMAP                                                   06598000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      06599000
@RT00338 EQU   NPMPKLP                                                  06600000
@RT00373 EQU   NPMWTORG                                                 06601000
@RT00375 EQU   NPMWEXIT                                                 06602000
@RT00378 EQU   WTOLOOP                                                  06603000
@RT00381 EQU   LVL1LM                                                   06604000
@RT00416 EQU   CALLSWT                                                  06605000
@RC00456 EQU   @RC00454                                                 06606000
@RT00461 EQU   LVL1RSTR                                                 06607000
@RT00513 EQU   NPMW2UNE                                                 06608000
@RF00513 EQU   SETEOB                                                   06609000
@RT00517 EQU   NPMW2CNE                                                 06610000
@RF00517 EQU   SETEOB                                                   06611000
@RT00520 EQU   NPMW2GPH                                                 06612000
@RT00527 EQU   NPMGRCK                                                  06613000
@RT00558 EQU   NPMRESET                                                 06614000
@RF00558 EQU   NPMUCMWT                                                 06615000
@RT00562 EQU   NPMRESET                                                 06616000
@RT00566 EQU   NPMRESET                                                 06617000
@RF00566 EQU   NPMUCMWT                                                 06618000
@RT00570 EQU   NPMRESET                                                 06619000
@RF00570 EQU   NPMUCMWT                                                 06620000
@RT00575 EQU   NPMW2IRF                                                 06621000
@RT00577 EQU   SETEOB                                                   06622000
@RF00577 EQU   NPMW2UNE                                                 06623000
@RT00591 EQU   NPMW2IRF                                                 06624000
@RF00606 EQU   NPMW2IRF                                                 06625000
@RT00611 EQU   SETEOB                                                   06626000
@RT00617 EQU   NPMW2BM                                                  06627000
@RT00684 EQU   NPMHCRSR                                                 06628000
@RT00686 EQU   NPMHCRSR                                                 06629000
@RT00757 EQU   NPMXCPCE                                                 06630000
@RT00786 EQU   NPMXCPRS                                                 06631000
@RT00810 EQU   NPMICCK                                                  06632000
@RT00812 EQU   NPMICRR                                                  06633000
@RT00814 EQU   NPMICRR                                                  06634000
@RT00816 EQU   NPMICRR                                                  06635000
@RT00826 EQU   NPMICRR                                                  06636000
@RT00828 EQU   NPMICRR                                                  06637000
@RT00831 EQU   NPMICRS                                                  06638000
@RT00838 EQU   NPMICRR                                                  06639000
@RT00842 EQU   NPMICRR                                                  06640000
@RT00844 EQU   NPMOASC                                                  06641000
@RT00847 EQU   NPMICRR                                                  06642000
@RT00855 EQU   NPMICRR                                                  06643000
@RT00859 EQU   NPMICRR                                                  06644000
@RT00861 EQU   NPMOCSC                                                  06645000
@RT00865 EQU   NPMICRR                                                  06646000
@RT00939 EQU   NPMNXSCT                                                 06647000
@RF00943 EQU   NPMCOMBL                                                 06648000
@RT01098 EQU   NPMBLKMG                                                 06649000
@RT01100 EQU   NPMSCT0                                                  06650000
@RT01120 EQU   NPMNXTLN                                                 06651000
@PB00009 EQU   @EL00001                                                 06652000
@PB00008 EQU   @PB00009                                                 06653000
@PB00007 EQU   @PB00008                                                 06654000
@PB00006 EQU   @PB00007                                                 06655000
@PB00005 EQU   @PB00006                                                 06656000
@PB00004 EQU   @PB00005                                                 06657000
@PB00003 EQU   @PB00004                                                 06658000
@PB00002 EQU   @PB00003                                                 06659000
@ENDDATA EQU   *                                                        06660000
         END   IEAVNPM2                                                 06661000
