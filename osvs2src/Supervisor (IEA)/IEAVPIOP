         TITLE 'IEAVPIOP: PAGE I/O POST                                *00001000
                        '                                               00002000
IEAVPIOP CSECT                                                          00003000
         USING *,R15                                                    00004000
         MODID                                                          00005000
IEAVPIO2 DS    0H                                                       00006000
         ENTRY IEAVPIO2                                                 00007000
         L     R15,CVTPTR         GET CVT ADDRESS            @Z40WPYD   00008000
         L     R15,CVTPVTP(R15)   GET PVT ADDRESS            @Z40WPYD   00009000
         STM   R1,R14,PVTWSA10+12(R15) SAVE CALLERS REGS     @Z40WPYD   00010000
         DROP  R15                                                      00011000
BASE1    BALR  BASEREG,0          GET BASE REG VALUE                    00012000
         USING BASE1+2,BASEREG                                          00013000
*   PVTPTR=CVTPVTP;                 /* GET ADDRESS OF PVT            */ 00014000
         L     @15,CVTPTR                                          0080 00015000
         L     PVTPTR,CVTPVTP(,@15)                                0080 00016000
*   R13=ADDR(PVTWSA10);             /* ADDRESS SAVE AREA WITH REG 13    00017000
*                                                            @Z40WPYD*/ 00018000
*                                                                  0081 00019000
         LA    R13,PVTWSA10(,PVTPTR)                               0081 00020000
*   /*****************************************************************/ 00021000
*   /*                                                               */ 00022000
*   /* SET FRR                                                       */ 00023000
*   /*                                                               */ 00024000
*   /*****************************************************************/ 00025000
*                                                                  0082 00026000
*DOFRR:                                                            0082 00027000
*   GENERATE NODEFS REFS(R3,PVTPRCV,PSACSTK,FRRSCURR,FRRSLAST,FRRSELEN, 00028000
*       FRRSENTR,FRRSFRRA,FRRSPARM) SETS(R4,R5,R8) NOFLOWS;        0082 00029000
DOFRR    DS    0H                                                  0082 00030000
       SETFRR A,FRRAD=PVTPRCV(R3),PARMAD=(R8),WRKREGS=(R4,R5),        **00031000
               RELATED=(RSM,IEAVPIOP(RETNASM))                          00032000
*   RCACSECT=RCACPOST;              /* SET CSECT ID FOR PIOP         */ 00033000
         MVI   RCACSECT(RCAPTR),X'13'                              0083 00034000
*   RCAPIOP='1'B;                   /* SET MODULE ENTERED BIT        */ 00035000
         OI    RCAPIOP(RCAPTR),B'00000001'                         0084 00036000
*   PVTPRCA=R8;                     /* STORE ADDRESS OF RCA          */ 00037000
         ST    R8,PVTPRCA(,PVTPTR)                                 0085 00038000
*   RCARETAD=ADDR(ENTFRR);          /* SET ADDRESS TO WHICH THE FRR     00039000
*                                      WILL GIVE CONTROL             */ 00040000
         LA    @15,ENTFRR                                          0086 00041000
         ST    @15,RCARETAD(,RCAPTR)                               0086 00042000
*                                                                  0087 00043000
*/********************************************************************/ 00044000
*/* THIS SECTION WILL PROCESS ONE AIA AT A TIME UNTIL ALL AIA'S      */ 00045000
*/* ON THE AIA CHAIN HAVE BEEN PROCESSED. THIS ROUTINE WILL          */ 00046000
*/* CALCULATE THE ADDRESS OF THE PCB FOR THE AIA.                    */ 00047000
*/* IT WILL THEN CHECK THE INPUT PCB TO INSURE IT WAS NOT            */ 00048000
*/* ALREADY PROCESSED. IF IT WAS PREVIOUSLY MARKED COMPLETE, THIS    */ 00049000
*/* IS AN ERROR SITUATION, THEREFORE THE ERROR IS RECORDED. IF       */ 00050000
*/* THE PCB WAS NOT ALREADY PROCESSED THIS ROUTINE WILL DETERMINE IF */ 00051000
*/* I/O COMPLETED SUCCESSFULLY. IF IT DID NOT OR THERE IS AN ERROR   */ 00052000
*/* IN THE AIA FLAGS, SET THE I/O ERROR FLAG ON IN THE QUEUED PCB.   */ 00053000
*/* IF THERE IS AN ERROR IN THE AIA FLAGS OR THERE WAS AN LPID       */ 00054000
*/* ERROR, RECORD THE ERROR AND ASSUME THERE WAS A NORMAL            */ 00055000
*/* I/O ERROR.                                                       */ 00056000
*/********************************************************************/ 00057000
*                                                                  0087 00058000
*MOREAIAS:                                                         0087 00059000
*   R4=AIAPTR-(LENGTH(PCB)-LENGTH(AIA));/* GET ADDRESS OF PCB      0087 00060000
*                                                            @Z40WPYD*/ 00061000
MOREAIAS LR    R4,AIAPTR                                           0087 00062000
         SL    R4,@CF01878                                         0087 00063000
*   NXTAIAAD=AIANXAIA;              /* SAVE ADDRESS OF NEXT AIA      */ 00064000
         L     @15,AIANXAIA(,AIAPTR)                               0088 00065000
         ST    @15,NXTAIAAD(,R13)                                  0088 00066000
*   IF PCBIOCMP='1'B THEN           /* WAS THE I/O ALREADY MARKED  0089 00067000
*                                      COMPLETE              @Z40WPYD*/ 00068000
         TM    PCBIOCMP(PCBPTR),B'00000001'                        0089 00069000
         BNO   @RF00089                                            0089 00070000
*     DO;                           /* YES - PROCESS ERROR   @Z40WPYD*/ 00071000
*       RCARCRD='1D'X;              /* INDICATE DUPLICATE PCB      0091 00072000
*                                                            @Z40WPYD*/ 00073000
         MVI   RCARCRD(RCAPTR),X'1D'                               0091 00074000
*       CALL DOABEND;               /* RECORD THE ERROR      @Z40WPYD*/ 00075000
         BAL   @14,DOABEND                                         0092 00076000
*       GOTO NEXTAIA;               /* PROCESS NEXT AIA      @Z40WPYD*/ 00077000
         B     NEXTAIA                                             0093 00078000
*     END;                          /* END DUPLICATE AIA     @Z40WPYD*/ 00079000
*   ELSE                                                           0095 00080000
*     ;                             /* NO - PROCESS THE AIA  @Z40WPYD*/ 00081000
@RF00089 DS    0H                                                  0096 00082000
*   PCBIOCMP='1'B;                  /* SET I/O COMP ON IN PCB        */ 00083000
*                                                                  0096 00084000
         OI    PCBIOCMP(PCBPTR),B'00000001'                        0096 00085000
*   /*****************************************************************/ 00086000
*   /*                                                               */ 00087000
*   /* WHEN THE PCB TRACE IS ACTIVE, THE BRANCH INSTRUCTION BELOW    */ 00088000
*   /* MUST BE ZAPPED TO A NOP                               @Z40WPYD*/ 00089000
*   /*                                                               */ 00090000
*   /*****************************************************************/ 00091000
*                                                                  0097 00092000
*TRACEZO1:                                                         0097 00093000
*   GENERATE REFS(PCBPTR) SETS(R8);                                0097 00094000
TRACEZO1 DS    0H                                                  0097 00095000
         B     TRACEZO1+16                                              00096000
         L     R7,64(PCBPTR)                                            00097000
*   R7=R7+MYID;                                                    0098 00098000
         AL    R7,@CF01725                                         0098 00099000
*   GENERATE;                                                      0099 00100000
         ST    R7,64(PCBPTR)                                            00101000
*   IF AIAPRIER='1'B|AIAERROR='1'B|AIABADID='1'B|AIATERMR='1'B THEN     00102000
         TM    AIAPRIER(AIAPTR),B'01001011'                        0100 00103000
         BZ    @RF00100                                            0100 00104000
*     DO;                           /* AN ERROR OCCURRED     @Z40WPYD*/ 00105000
*       IF AIAPRIER='1'B|AIAERROR='1'B|AIABADID='1'B THEN/* IF ERROR    00106000
*                                      IS OTHER THAN AN ASID PURGE 0102 00107000
*                                                            @Z40WPYD*/ 00108000
         TM    AIAPRIER(AIAPTR),B'00001011'                        0102 00109000
         BZ    @RF00102                                            0102 00110000
*         DO;                       /* PROCESS ERROR         @Z40WPYD*/ 00111000
*           PCBIOERR='1'B;          /* INDICATE AN ERROR OCCURRED ON    00112000
*                                      A PAGING OPERATION            */ 00113000
*                                                                  0104 00114000
         OI    PCBIOERR(PCBPTR),B'00100000'                        0104 00115000
*           /*********************************************************/ 00116000
*           /*                                                       */ 00117000
*           /* DETERMINE IF IT IS A SOFTWARE ERROR. IF IT IS THE     */ 00118000
*           /* ERROR MUST BE RECORDED                                */ 00119000
*           /*                                                       */ 00120000
*           /*********************************************************/ 00121000
*                                                                  0105 00122000
*           IF AIAERROR='1'B|AIABADID='1'B|(AIAPRIER='1'B&PCBIOI='1'B)  00123000
*             THEN                                                 0105 00124000
*                                                                  0105 00125000
         TM    AIAERROR(AIAPTR),B'00000011'                        0105 00126000
         BNZ   @RT00105                                            0105 00127000
         TM    AIAPRIER(AIAPTR),B'00001000'                        0105 00128000
         BNO   @RF00105                                            0105 00129000
         TM    PCBIOI(PCBPTR),B'00000010'                          0105 00130000
         BNO   @RF00105                                            0105 00131000
@RT00105 DS    0H                                                  0106 00132000
*             /*******************************************************/ 00133000
*             /*                                                     */ 00134000
*             /* SOFTWARE OR PAGEOUT HARDWARE ERROR OCCUR    @Z40WPYD*/ 00135000
*             /*                                                     */ 00136000
*             /*******************************************************/ 00137000
*                                                                  0106 00138000
*             DO;                   /* YES - SECOND ERROR    @Z40WPYD*/ 00139000
*               CURRTAIA=AIAPTR;    /* SAVE THE CURRENT AIAPTR ACROSS   00140000
*                                      COD                   @Z40WPYD*/ 00141000
         ST    AIAPTR,CURRTAIA(,R13)                               0107 00142000
*               RCARCRD='1E'X;      /* INDICATE SOFTWARE ERROR     0108 00143000
*                                                            @Z40WPYD*/ 00144000
         MVI   RCARCRD(RCAPTR),X'1E'                               0108 00145000
*               CALL DOABEND;       /* RECORD THE ERROR              */ 00146000
         BAL   @14,DOABEND                                         0109 00147000
*               AIAPTR=CURRTAIA;    /* RESTORE THE AIA POINTER     0110 00148000
*                                                            @Z40WPYD*/ 00149000
         L     AIAPTR,CURRTAIA(,R13)                               0110 00150000
*             END;                  /* END ERROR PROCESSING  @Z40WPYD*/ 00151000
*           ELSE                                                   0112 00152000
*             ;                     /* NOT SOFTWARE ERROR    @Z40WPYD*/ 00153000
@RF00105 DS    0H                                                  0113 00154000
*         END;                      /* END OF ERROR PROCESSING     0113 00155000
*                                                            @Z40WPYD*/ 00156000
*       ELSE                                                       0114 00157000
*         ;                         /* ASID PURGE (AIATERMR=1) AND NO   00158000
*                                      ERROR INDICATORS SET  @Z40WPYD*/ 00159000
@RF00102 DS    0H                                                  0115 00160000
*       IF AIAWRITE='1'B&AIALSQA='1'B THEN/* IF SWAPOUT OF AN LSQA 0115 00161000
*                                      PAGE THEN FORCE ERROR       0115 00162000
*                                      PROCESSING IN POUTPROC      0115 00163000
*                                                            @Z40WPYD*/ 00164000
         TM    AIAWRITE(AIAPTR),B'10001000'                        0115 00165000
         BNO   @RF00115                                            0115 00166000
*         PCBIOERR='1'B;            /* INDICATE ERROR        @Z40WPYD*/ 00167000
         OI    PCBIOERR(PCBPTR),B'00100000'                        0116 00168000
*       ELSE                                                       0117 00169000
*         ;                                                        0117 00170000
@RF00115 DS    0H                                                  0118 00171000
*     END;                                                         0118 00172000
*                                                                  0118 00173000
*   /*****************************************************************/ 00174000
*   /*                                                               */ 00175000
*   /* COPY COMPLETION INFORMATION INTO ALL PCBS RELATED TO A PAGE IN*/ 00176000
*   /* PCB.                                                          */ 00177000
*   /*                                                               */ 00178000
*   /*****************************************************************/ 00179000
*                                                                  0119 00180000
*   R5=PCBRLPA;                     /* GET RELATED POINTER           */ 00181000
@RF00100 L     R5,PCBRLPA-1(,PCBPTR)                               0119 00182000
         LA    R5,0(,R5)                                           0119 00183000
*   DO WHILE(R5^=0);                                               0120 00184000
         B     @DE00120                                            0120 00185000
@DL00120 DS    0H                                                  0121 00186000
*     R5->PCBIOCMP='1'B;            /* I/O COMPLETE FLAG ON IN     0121 00187000
*                                      RELATED                       */ 00188000
*                                                                  0121 00189000
         OI    PCBIOCMP(R5),B'00000001'                            0121 00190000
*     /***************************************************************/ 00191000
*     /*                                                             */ 00192000
*     /* IF QUEUED PCB IS PAGE OUT DO NOT TURN ON I/O ERROR FLAG IN  */ 00193000
*     /* RELATED AS PAGE OUT MAY BE CHANGED TO PAGE IN AND IOCP      */ 00194000
*     /* SHOULD NOT SEE IT AS AN I/O ERROR.                          */ 00195000
*     /*                                                             */ 00196000
*     /***************************************************************/ 00197000
*                                                                  0122 00198000
*     IF R4->PCBIOERR='1'B&R4->PCBIOI='0'B THEN                    0122 00199000
         TM    PCBIOERR(R4),B'00100000'                            0122 00200000
         BNO   @RF00122                                            0122 00201000
         TM    PCBIOI(R4),B'00000010'                              0122 00202000
         BNZ   @RF00122                                            0122 00203000
*       R5->PCBIOERR='1'B;          /* SET I/O ERROR FLAG ON IN    0123 00204000
*                                      RELATED IF ON IN QUEUED       */ 00205000
         OI    PCBIOERR(R5),B'00100000'                            0123 00206000
*     R5=R5->PCBRLPA;               /* GET ADDR OF NEXT RLT          */ 00207000
@RF00122 L     @15,PCBRLPA-1(,R5)                                  0124 00208000
         LA    @15,0(,@15)                                         0124 00209000
         LR    R5,@15                                              0124 00210000
*   END;                                                           0125 00211000
*                                                                  0125 00212000
@DE00120 LTR   R5,R5                                               0125 00213000
         BNZ   @DL00120                                            0125 00214000
*   /*****************************************************************/ 00215000
*   /*                                                               */ 00216000
*   /* LOAD R6 WITH THE PFTE ADDRESS AND DETERMINE WHAT KIND OF PCB  */ 00217000
*   /* IT IS. CALL THE APPROPRIATE PROCESSOR.                        */ 00218000
*   /*                                                               */ 00219000
*   /*****************************************************************/ 00220000
*                                                                  0126 00221000
*   R6=PVTPFTP+PCBRBN;              /* GET ADDRESS OF PFTE FOR THIS     00222000
*                                      QUEUED PCB AND ALL ITS RELATED   00223000
*                                      PCB'S                         */ 00224000
         LH    R6,PCBRBN(,PCBPTR)                                  0126 00225000
         N     R6,@CF01890                                         0126 00226000
         AL    R6,PVTPFTP(,PVTPTR)                                 0126 00227000
*   IF PCBIOI='1'B THEN             /* IS PCB A PAGE OUT PCB         */ 00228000
         TM    PCBIOI(PCBPTR),B'00000010'                          0127 00229000
         BNO   @RF00127                                            0127 00230000
*     CALL POUTPROC;                /* PROCESS PAGE OUT PCB          */ 00231000
         BAL   @14,POUTPROC                                        0128 00232000
*   ELSE                            /* IT IS A PAGE IN               */ 00233000
*     IF PCBSWPS1='1'B THEN         /* IS IT A STAGE 1 SWAP          */ 00234000
         B     @RC00127                                            0129 00235000
@RF00127 TM    PCBSWPS1(PCBPTR),B'00100000'                        0129 00236000
         BNO   @RF00129                                            0129 00237000
*       CALL STAG1PRC;              /* PROCESS STAGE 1 SWAP IN PCB   */ 00238000
         BAL   @14,STAG1PRC                                        0130 00239000
*     ELSE                          /* IT IS NOT STAGE 1             */ 00240000
*       CALL PINPROC;               /* PROCESS PAGE IN PCB           */ 00241000
*                                                                  0131 00242000
         B     @RC00129                                            0131 00243000
@RF00129 BAL   @14,PINPROC                                         0131 00244000
*   /*****************************************************************/ 00245000
*   /*                                                               */ 00246000
*   /* IS THERE ANOTHER AIA ON THE AIA CHAIN                         */ 00247000
*   /*                                                               */ 00248000
*   /*****************************************************************/ 00249000
*                                                                  0132 00250000
*NEXTAIA:                                                          0132 00251000
*   R1=NXTAIAAD;                    /* GET ADDRESS OF NEXT AIA       */ 00252000
@RC00129 DS    0H                                                  0132 00253000
@RC00127 DS    0H                                                  0132 00254000
NEXTAIA  L     R1,NXTAIAAD(,R13)                                   0132 00255000
*   IF R1^=0 THEN                   /* IS THERE ANOTHER AIA          */ 00256000
         LTR   R1,R1                                               0133 00257000
         BNZ   @RT00133                                            0133 00258000
*     GO TO MOREAIAS;               /* GO DO ANOTHER AIA             */ 00259000
*                                                                  0134 00260000
*   /*****************************************************************/ 00261000
*   /*                                                               */ 00262000
*   /* DELETE THE FRR                                                */ 00263000
*   /*                                                               */ 00264000
*   /*****************************************************************/ 00265000
*                                                                  0135 00266000
*RETNASM:                                                          0135 00267000
*   GENERATE NODEFS REFS(PSACSTK,FRRSCURR,FRRSEMP,FRRSELEN,FRRS) SETS(  00268000
*       R4,R5) NOFLOWS;                                            0135 00269000
*                                                                  0135 00270000
RETNASM  DS    0H                                                  0135 00271000
         SETFRR D,WRKREGS=(R4,R5),RELATED=(RSM,IEAVPIOP(DOFRR))         00272000
*   /*****************************************************************/ 00273000
*   /*                                                               */ 00274000
*   /* RESTORE REGISTERS AND RETURN TO CALLER OF IEAVPIOP            */ 00275000
*   /*                                                               */ 00276000
*   /*****************************************************************/ 00277000
*                                                                  0136 00278000
*   GENERATE NODEFS REFS(R13,R14,PVTWSA10,PVTPTR) NOSETS NOFLOWS   0136 00279000
*       NOSEQFLOW EXIT;                                            0136 00280000
         LM    R1,R14,PVTWSA10+12(PVTPTR) RESTORE CALLER'S REGS         00281000
         BR    R14                RETURN TO CALLER                      00282000
*                                                                  0137 00283000
*   /*****************************************************************/ 00284000
*   /*                                                               */ 00285000
*   /* THIS LOCATION RECEIVES CONTROL FROM THE FUNCTIONAL RECOVERY   */ 00286000
*   /* ROUTINE (FRR) IN THE EVENT THAT A PROGRAM INTERRUPT OCCURS    */ 00287000
*   /* WHILE THE FRR THAT IEAVPIOP SET IS IN EFFECT. INPUT IS ALL    */ 00288000
*   /* REGISTERS RESTORED TO THEIR VALUE AT THE TIME OF THE INTERRUPT*/ 00289000
*   /* EXCEPT R0 CONTAINS RCAPARM0, R1 CONTAINS RCAPARM1 AND R3 HAS  */ 00290000
*   /* BEEN SET TO THE ADDRESS OF THE PVT.                           */ 00291000
*   /*                                                               */ 00292000
*   /*****************************************************************/ 00293000
*                                                                  0137 00294000
*ENTFRR:                                                           0137 00295000
*   ;                                                              0137 00296000
ENTFRR   DS    0H                                                  0138 00297000
*   GENERATE CODE DEFS(BASE3) REFS(BASEREG,R9) SETS(BASEREG,R9) NOFLOWS 00298000
*       ;                                                          0138 00299000
BASE3    BALR  BASEREG,0             REGENERATE THE                     00300000
         LA    R9,BASE3-BASE1        BASE REGISTER                      00301000
         SR    BASEREG,R9            FOR IEAVPIOP                       00302000
*   R8=PVTPRCA;                     /* PUT THE RCA ADDRESS WHERE THE    00303000
*                                      EXIT CODE REQUIRES IT         */ 00304000
         L     R8,PVTPRCA(,PVTPTR)                                 0139 00305000
*   GO TO RETNASM;                  /* GO FREE THE FRR, AND EXIT TO     00306000
*                                      ASM. WORK REMAINING ON THE AIA   00307000
*                                      CHAIN IS NOT PROCESSED.     0140 00308000
*                                                            @Z40WPYD*/ 00309000
         B     RETNASM                                             0140 00310000
*                                                                  0141 00311000
*/********************************************************************/ 00312000
*/*     BRANCH ENTRY POINT (IEAVOPBR) TO MODULE IEAVPIOP             */ 00313000
*/*                                                                  */ 00314000
*/* THIS ENTRY POINT IS FOR THE PURPOSE OF CALLING THE               */ 00315000
*/* IEAVIOCP SCHEDULE SUBROUTINE OF IEAVPIOP.                        */ 00316000
*/********************************************************************/ 00317000
*                                                                  0141 00318000
*   GENERATE DEFS(IEAVOPBR,BASE2) REFS(PVTPTR) SETS(PVTWSA9,BASEREG,R13 00319000
*       ) NOFLOWS;                                                 0141 00320000
         ENTRY IEAVOPBR                                                 00321000
IEAVOPBR DS    0H                                                       00322000
         USING PVT,PVTPTR                                               00323000
         STM   R0,R15,PVTWSA9      SAVE CALLERS REGISTERS               00324000
         LA    R13,PVTWSA9              GET SAVE AREA ADDRESS           00325000
         DROP  PVTPTR                                                   00326000
BASE2    BALR  BASEREG,0               GET CURRENT LOCATION             00327000
         LA    R9,BASE2-BASE1          GET AMOUNT TO ADJUST BY          00328000
         SR    BASEREG,R9              ADJUST BASE REG VALUE            00329000
*   R8=PVTPRCA;                     /* GET RCA ADDRESS WHERE PIOCPSCH   00330000
*                                      EXPECTS IT                    */ 00331000
         L     R8,PVTPRCA(,PVTPTR)                                 0142 00332000
*   RCAOPBR='1'B;                   /* SET MODULE ENTERED BIT        */ 00333000
         OI    RCAOPBR(RCAPTR),B'00001000'                         0143 00334000
*/********************************************************************/ 00335000
*                                                                  0144 00336000
*   CALL PIOCPSCH;                  /* CALL SCHEDULE SUBROUTINE      */ 00337000
         BAL   @14,PIOCPSCH                                        0144 00338000
*/********************************************************************/ 00339000
*                                                                  0145 00340000
*   RCAOPBR='0'B;                   /* RESET ENTRY POINT BIT         */ 00341000
*                                                                  0145 00342000
         NI    RCAOPBR(RCAPTR),B'11110111'                         0145 00343000
*   /*****************************************************************/ 00344000
*   /*                                                               */ 00345000
*   /* RETURN TO THE CALLER                                          */ 00346000
*   /*                                                               */ 00347000
*   /*****************************************************************/ 00348000
*                                                                  0146 00349000
*SCHRTN:                                                           0146 00350000
*   GENERATE NODEFS REFS(PVTWSA9,PVTPTR,R14) NOSETS NOFLOWS EXIT   0146 00351000
*       NOSEQFLOW;                                                 0146 00352000
SCHRTN   DS    0H                                                  0146 00353000
        USING PVT,PVTPTR                                                00354000
        LM    R0,R15,PVTWSA9                                            00355000
        BR    R14                    RETURN TO CALLER                   00356000
        DROP  PVTPTR                                                    00357000
*                                                                  0147 00358000
*/********************************************************************/ 00359000
*/*                                                                  */ 00360000
*/*                      PAGE IN PROCESSOR                           */ 00361000
*/*                                                                  */ 00362000
*/* THIS ROUTINE RECEIVES CONTROL FROM THE MAINLINE WHEN I/O HAS     */ 00363000
*/* COMPLETED FOR A PAGE IN PCB. THE PCB MAY BE FOR THE COMMON AREA  */ 00364000
*/* OR THE PRIVATE AREA AND MAY OR MAY NOT HAVE  PAGE IN PCB'S       */ 00365000
*/* RELATED TO IT.                                                   */ 00366000
*/*                                                                  */ 00367000
*/* INPUT                                                            */ 00368000
*/*                                                                  */ 00369000
*/* R0-R2        WORK REGISTERS                                      */ 00370000
*/* R3           PVT ADDRESS                                         */ 00371000
*/* R4           ADDRESS OF A QUEUED INPUT PCB                       */ 00372000
*/* R5           IGNORED                                             */ 00373000
*/* R6           PFTE ADDRESS                                        */ 00374000
*/* R7           WORK REGISTER                                       */ 00375000
*/* R8           RCA ADDRESS                                         */ 00376000
*/* R9           WORK                                                */ 00377000
*/* R10          BASE REGISTER                                       */ 00378000
*/* R11-R12      WORK REGISTERS                                      */ 00379000
*/* R13          ADDRESS OF MAINLINE SAVE AREA                       */ 00380000
*/* R14          RETURN ADDRESS                                      */ 00381000
*/* R15          WORK REGISTER                                       */ 00382000
*/*                                                                  */ 00383000
*/*                                                                  */ 00384000
*/********************************************************************/ 00385000
*                                                                  0147 00386000
*PINPROC:                                                          0147 00387000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0147 00388000
PINPROC  DS    0H                                                  0148 00389000
*   RTNLEV1=R14;                    /* SAVE RETURN ADDRESS           */ 00390000
*                                                                  0148 00391000
         ST    R14,RTNLEV1(,PVTPTR)                                0148 00392000
*   /*****************************************************************/ 00393000
*   /*                                                               */ 00394000
*   /* WAS THERE AN I/O ERROR ON THE PAGE IN                         */ 00395000
*   /*                                                               */ 00396000
*   /*****************************************************************/ 00397000
*                                                                  0149 00398000
*   IF PCBIOERR='0'B THEN                                          0149 00399000
         TM    PCBIOERR(PCBPTR),B'00100000'                        0149 00400000
         BNZ   @RF00149                                            0149 00401000
*NOERRLP:                                                          0150 00402000
*     DO;                           /* BEGIN COMMON AREA PCB LOOP    */ 00403000
NOERRLP  DS    0H                                                  0151 00404000
*       IF PCBCQN=PCBCIOQN THEN     /* IS PCB ON COMMON Q            */ 00405000
         CLI   PCBCQN(PCBPTR),32                                   0151 00406000
         BNE   @RF00151                                            0151 00407000
*         DO;                                                      0152 00408000
*COMMONCB:                                                         0153 00409000
*           IF PCBRLPA^=0 THEN      /* ARE THERE RELATEDS            */ 00410000
COMMONCB L     @15,PCBRLPA-1(,PCBPTR)                              0153 00411000
         LA    @15,0(,@15)                                         0153 00412000
         LTR   @15,@15                                             0153 00413000
         BZ    @RF00153                                            0153 00414000
*             CALL CARLTDPR;        /* DO COMMON AREA RELATED PCBS   */ 00415000
*                                                                  0154 00416000
         BAL   @14,CARLTDPR                                        0154 00417000
*           /*********************************************************/ 00418000
*           /*                                                       */ 00419000
*           /* IF THE FRAME WAS NOT VALIDATED AS A RESULT OF ONE OF  */ 00420000
*           /* THE RELATED PCBS REQUIRING USE OF THE FRAME, DOES THE */ 00421000
*           /* QUEUED PCB REQUIRE USE OF THE FRAME. IF IT DOES,      */ 00422000
*           /* VALIDATE THE FRAME. IF IT DOES NOT FREE THE FRAME.    */ 00423000
*           /*                                                       */ 00424000
*           /*********************************************************/ 00425000
*                                                                  0155 00426000
*           PFTPCBSI='0'B;          /* TURN OFF PCB DEFINED FLAG     */ 00427000
@RF00153 NI    PFTPCBSI(PFTEPTR),B'11110111'                       0155 00428000
*           IF PGTPVM='1'B THEN     /* DETERMINE WHAT TO DO WITH THE    00429000
*                                      REAL FRAME                    */ 00430000
         L     @15,PTEPTR-1(,PCBPTR)                               0156 00431000
         TM    PGTPVM(@15),B'00001000'                             0156 00432000
         BNO   @RF00156                                            0156 00433000
*             IF PCBFREAL='1'B THEN /* IS FRAME TO BE FREED          */ 00434000
         TM    PCBFREAL(PCBPTR),B'10000000'                        0157 00435000
         BNO   @RF00157                                            0157 00436000
*               CALL FREEFRA;       /* FRAME TO FRONT OF AFQ, PCB  0158 00437000
*                                      DEFINED BIT GETS TURNED OFF 0158 00438000
*                                      TWICE ON THIS PATH            */ 00439000
         BAL   @14,FREEFRA                                         0158 00440000
*             ELSE                  /* DO NOT FREE FRAME             */ 00441000
*               CALL VALIT;         /* VALIDATE REAL FRAME           */ 00442000
*                                                                  0159 00443000
         B     @RC00157                                            0159 00444000
@RF00157 BAL   @14,VALIT                                           0159 00445000
*           /*********************************************************/ 00446000
*           /*                                                       */ 00447000
*           /* THE DISPOSITION OF THE REAL FRAME HAS BEEN DETERMINED,*/ 00448000
*           /* NOW DETERMINE THE DISPOSITION OF THE QUEUED PCB       */ 00449000
*           /*                                                       */ 00450000
*           /*********************************************************/ 00451000
*                                                                  0160 00452000
*CKRES:                                                            0160 00453000
*           IF PCBRESET='0'B THEN                                  0160 00454000
@RC00157 DS    0H                                                  0160 00455000
@RF00156 DS    0H                                                  0160 00456000
CKRES    TM    PCBRESET(PCBPTR),B'00010000'                        0160 00457000
         BNZ   @RF00160                                            0160 00458000
*             DO;                   /* IF THERE IS A ROOT AND THE  0161 00459000
*                                      ROOT COUNT DOES NOT GO TO ZERO   00460000
*                                      DECREMENT THE ROOT COUNT AND     00461000
*                                      FREE THE PCB, IF THE COUNT  0161 00462000
*                                      DOES GO TO ZERO SCHEDULE IOCP */ 00463000
*               IF PCBROOT='1'B THEN/* IS THERE A ROOT               */ 00464000
         TM    PCBROOT(PCBPTR),B'00000100'                         0162 00465000
         BNO   @RF00162                                            0162 00466000
*                 DO;                                              0163 00467000
*                   IF PCBRCNT-1=0 THEN/* DID COUNT GO TO ZERO       */ 00468000
         L     @15,PCBRPTR-1(,PCBPTR)                              0164 00469000
         LA    @15,0(,@15)                                         0164 00470000
         LH    @12,PCBRCNT(,@15)                                   0164 00471000
         BCTR  @12,0                                               0164 00472000
         LTR   @12,@12                                             0164 00473000
         BZ    @RT00164                                            0164 00474000
*                     GO TO FREALOFF;/* ROOT COUNT WENT TO ZERO, CAN    00475000
*                                      NOT CALL ROOT EXIT FROM PIOP     00476000
*                                      SO SCHEDULE IOCP              */ 00477000
*                   PCBRCNT=PCBRCNT-1;/* DECREMENT ROOT COUNT        */ 00478000
         STH   @12,PCBRCNT(,@15)                                   0166 00479000
*                 END;                                             0167 00480000
*               GO TO FREEACB;      /* GO FREE PCB AS NO FUTHER    0168 00481000
*                                      NOTIFICATION IS REQUIRED.     */ 00482000
         B     FREEACB                                             0168 00483000
*             END;                                                 0169 00484000
*                                                                  0169 00485000
*           /*********************************************************/ 00486000
*           /*                                                       */ 00487000
*           /* IOCP MUST BE SCHEDULED FOR THE QUEUED PCB EITHER TO   */ 00488000
*           /* CALL RESET OR TO CALL ROOT EXIT ROUTINE. VBN MUST BE  */ 00489000
*           /* ZERO AND FREAL MUST BE OFF BECAUSE PCB DEFINED BIT IS */ 00490000
*           /* OFF AND DISPOSITION OF FRAME HAS ALREADY BEEN         */ 00491000
*           /* DETERMINED AND WE WOULD NOT WANT GFA TO RELATE ANY PCB*/ 00492000
*           /* TO THIS PCB BEFORE IOCP HAS A CHANCE TO DISPOSE OF IT.*/ 00493000
*           /*                                                       */ 00494000
*           /*********************************************************/ 00495000
*                                                                  0170 00496000
*FREALOFF:                                                         0170 00497000
*           PCBVBN=0;               /* ZERO VBN TO LEAVE PCB ON QUEUE*/ 00498000
@RF00160 DS    0H                                                  0170 00499000
FREALOFF SLR   @15,@15                                             0170 00500000
         STH   @15,PCBVBN(,PCBPTR)                                 0170 00501000
*           PCBFREAL='0'B;          /* FREAL MUST BE OFF WHEN IOCP 0171 00502000
*                                      SEES PCB                      */ 00503000
         NI    PCBFREAL(PCBPTR),B'01111111'                        0171 00504000
*           GO TO SCHEDCP;          /* SCHEDULE IOCP FOR QUEUED PCB  */ 00505000
         B     SCHEDCP                                             0172 00506000
*         END;                      /* END OF COMMON AREA PCB LOOP   */ 00507000
*       ELSE                        /* PCB IS ON LOCAL Q             */ 00508000
*         DO;                                                      0174 00509000
*                                                                  0174 00510000
@RF00151 DS    0H                                                  0175 00511000
*           /*********************************************************/ 00512000
*           /*                                                       */ 00513000
*           /* PCB IS NOT ON COMMON QUEUE. IF IEAVTERM WAS CALLED TO */ 00514000
*           /* TERMINATE THIS ADDRESS SPACE THERE WILL BE NO PCB'S   */ 00515000
*           /* RELATED TO THIS PRIVATE AREA PCB. IF THE PAGE IN WAS  */ 00516000
*           /* CANCELED (FREAL =1) AND NO NOTIFICATION IS TO BE DONE */ 00517000
*           /* AND THERE ARE NO RELATEDS WE CAN DISPOSE OF THE QUEUED*/ 00518000
*           /* PCB AND THE REAL FRAME.                               */ 00519000
*           /*                                                       */ 00520000
*           /*********************************************************/ 00521000
*                                                                  0175 00522000
*NOPARLT:                                                          0175 00523000
*           IF PCBRESET='1'B|PCBFREAL='0'B|PCBROOT='1'B|PCBRLPA^=0 THEN 00524000
NOPARLT  TM    PCBRESET(PCBPTR),B'00010000'                        0175 00525000
         BNZ   @RT00175                                            0175 00526000
         TM    PCBFREAL(PCBPTR),B'10000000'                        0175 00527000
         BNO   @RT00175                                            0175 00528000
         TM    PCBROOT(PCBPTR),B'00000100'                         0175 00529000
         BO    @RT00175                                            0175 00530000
         L     @15,PCBRLPA-1(,PCBPTR)                              0175 00531000
         LA    @15,0(,@15)                                         0175 00532000
         LTR   @15,@15                                             0175 00533000
         BNZ   @RT00175                                            0175 00534000
*             GO TO SCHEDCP;        /* SCHEDULE IEAVIOCP             */ 00535000
*           CALL FREEFRA;           /* FREE A FRAME ON THE LOCAL   0177 00536000
*                                      FRAME QUEUE                   */ 00537000
         BAL   @14,FREEFRA                                         0177 00538000
*           GO TO FREEACB;          /* FREE THE PCB                  */ 00539000
         B     FREEACB                                             0178 00540000
*         END;                      /* END OF NO I/O ERROR AND LOCAL    00541000
*                                      QUEUE LOOP                    */ 00542000
*     END NOERRLP;                  /* END OF NO I/O ERROR LOOP      */ 00543000
*                                                                  0181 00544000
*   /*****************************************************************/ 00545000
*   /*                                                               */ 00546000
*   /* AN I/O ERROR OCCURED ON A PAGE IN PCB. THE ERROR RELATED      */ 00547000
*   /* PROCESSOR IS CALLED TO PROCESS ANY RELATED PCB'S. IF ANY      */ 00548000
*   /* COMMON AREA PCBS FOR ZERO TCB PGFIXES ARE FOUND, THEY ARE     */ 00549000
*   /* MOVED TO THE END OF THE RELATED CHAIN AND ERRLTDPR RETURNS THE*/ 00550000
*   /* ADDRESS OF THE PCB JUST PRECEDING THIS TYPE OF PCB ON THE     */ 00551000
*   /* RELATED CHAIN. IF THE QUEUED PCB REQUIRES NO NOTIFICATION AND */ 00552000
*   /* THERE ARE NO RELATEDS LEFT, FREE THE FRAME AND THE PCB. IF    */ 00553000
*   /* THERE ARE RELATEDS, OR ANY NOTIFICATION IS REQUIRED SCHEDULE  */ 00554000
*   /* IOCP FOR EITHER THE QUEUED OR RELATED PCB. IF THE QUEUED PCB  */ 00555000
*   /* IS FOR A ZERO TCB PGFIX REQUEST IN THE COMMON AREA AND THE    */ 00556000
*   /* FIRST RELATED PCB IS NOT FOR THIS TYPE OF REQUEST, IT IS      */ 00557000
*   /* DEQUEUED AND PLACED AFTER THE PCB RETURNED BY ERRLTDPR IN THE */ 00558000
*   /* RELATED CHAIN AND THE FIRST RELATED PCB ENQUEUED TO THE COMMON*/ 00559000
*   /* I/O QUEUE.                                                    */ 00560000
*   /*                                                               */ 00561000
*   /*****************************************************************/ 00562000
*                                                                  0181 00563000
*   RESPECIFY                                                      0181 00564000
*     R7 RESTRICTED;                /* THIS IS RETURN REG PARM       */ 00565000
@RF00149 DS    0H                                                  0182 00566000
*   CALL ERRLTDPR;                  /* GET ANY RELATEDS PROCESSED    */ 00567000
         BAL   @14,ERRLTDPR                                        0182 00568000
*   IF PCBRESET='0'B THEN           /* IS RESET TO BE DONE           */ 00569000
         TM    PCBRESET(PCBPTR),B'00010000'                        0183 00570000
         BNZ   @RF00183                                            0183 00571000
*     DO;                                                          0184 00572000
*       IF PCBROOT='0'B THEN        /* IS THERE A ROOT               */ 00573000
         TM    PCBROOT(PCBPTR),B'00000100'                         0185 00574000
         BNZ   @RF00185                                            0185 00575000
*         DO;                       /* NO NOTIFICATION IS REQUIRED BY   00576000
*                                      THE QUEUED PCB, SO FREE IT  0186 00577000
*                                      AFTER ENQUEUING ANY RELATEDS  */ 00578000
*           IF PCBRLPA=0 THEN       /* ARE THERE ANY RELATED PCBS    */ 00579000
         L     @15,PCBRLPA-1(,PCBPTR)                              0187 00580000
         LA    @15,0(,@15)                                         0187 00581000
         LTR   @15,@15                                             0187 00582000
         BNZ   @RF00187                                            0187 00583000
*             DO;                   /* NO RELATEDS, SO FREE FRAME    */ 00584000
*               PFTPGID=0;          /* PREVENT RECLAIM               */ 00585000
         SLR   @15,@15                                             0189 00586000
         ST    @15,PFTPGID(,PFTEPTR)                               0189 00587000
*               CALL FREEFRA;       /* SUBRTN. DOES THE WORK         */ 00588000
         BAL   @14,FREEFRA                                         0190 00589000
*             END;                                                 0191 00590000
*           ELSE                    /* THERE ARE RELATEDS            */ 00591000
*             DO;                   /* ENQUEUE FIRST RELATED PCB AND    00592000
*                                      SCHEDULE IOCP.                */ 00593000
         B     @RC00187                                            0192 00594000
@RF00187 DS    0H                                                  0193 00595000
*               PCBVBN=0;           /* QUEUED PCBVBN IS ZERO SO DON'T   00596000
*                                      VIOLATE RSM RULE OF VBN'S     */ 00597000
         SLR   @15,@15                                             0193 00598000
         STH   @15,PCBVBN(,PCBPTR)                                 0193 00599000
*               R1=PCBRLPA;                                        0194 00600000
         L     R1,PCBRLPA-1(,PCBPTR)                               0194 00601000
         LA    R1,0(,R1)                                           0194 00602000
*               R0=PCBCQN;          /* PCB GOES TO SAME Q AS QUEUED  */ 00603000
         SLR   R0,R0                                               0195 00604000
         IC    R0,PCBCQN(,PCBPTR)                                  0195 00605000
*               R2=R1->PCBASCB->ASCBRSM;/* SET R2 WITH RSMHD ADDR    */ 00606000
         L     @15,PCBASCB(,R1)                                    0196 00607000
         L     R2,ASCBRSM(,@15)                                    0196 00608000
*               CALL IEAVPCB;       /* CALL PCB MANAGER              */ 00609000
         L     @15,PVTPCB(,PVTPTR)                                 0197 00610000
         BALR  @14,@15                                             0197 00611000
*               CALL PIOCPSCH;      /* SCHEDULE SRB FOR IEAVIOCP     */ 00612000
         BAL   @14,PIOCPSCH                                        0198 00613000
*             END;                                                 0199 00614000
*                                                                  0199 00615000
*           /*********************************************************/ 00616000
*           /*                                                       */ 00617000
*           /* FREE THE QUEUED PCB AND RETURN TO MAINLINE            */ 00618000
*           /*                                                       */ 00619000
*           /*********************************************************/ 00620000
*                                                                  0200 00621000
*FREEACB:                                                          0200 00622000
*           R2=ASCBRSM;             /* GET RSMHD ADDRESS             */ 00623000
@RC00187 DS    0H                                                  0200 00624000
FREEACB  L     @15,ASCBPTR(,PCBPTR)                                0200 00625000
         L     R2,ASCBRSM(,@15)                                    0200 00626000
*           R0=PCBFREQN;            /* SEND PCB TO FREE QUEUE        */ 00627000
         LA    R0,16                                               0201 00628000
*           R1=R4;                  /* SET ADDR OF PCB               */ 00629000
         LR    R1,R4                                               0202 00630000
*           CALL IEAVPCB;           /* PCB TO FREE QUQUE             */ 00631000
         L     @15,PVTPCB(,PVTPTR)                                 0203 00632000
         BALR  @14,@15                                             0203 00633000
*           GOTO RTNMAIN;           /* EXIT TO THE CALLER            */ 00634000
         B     RTNMAIN                                             0204 00635000
*         END;                                                     0205 00636000
*                                                                  0205 00637000
*       /*************************************************************/ 00638000
*       /*                                                           */ 00639000
*       /* IF QUEUED PCB HAS A ROOT, ALL OF THE FOLLOWING CONDITIONS */ 00640000
*       /* MUST BE MET OR THE QUEUED PCB IS LEFT ON THE Q AND        */ 00641000
*       /* IEAVIOCP SCHEDULED FOR IT                                 */ 00642000
*       /*                                                           */ 00643000
*       /*************************************************************/ 00644000
*                                                                  0206 00645000
*       ELSE                                                       0206 00646000
*         DO;                                                      0206 00647000
@RF00185 DS    0H                                                  0207 00648000
*           IF PCBCQN=PCBCIOQN&PCBRLPA^=0&PCBFXC^=0&PCBRTCBA=0&R4^=R7   00649000
*             THEN                  /* ALL CONDITIONS MET, SO REMOVE    00650000
*                                      PCB FROM Q AND INSERT IN    0207 00651000
*                                      RELATED CHAIN AFTER LAST NON     00652000
*                                      ZERO-TCB PGFIX PCB            */ 00653000
         CLI   PCBCQN(PCBPTR),32                                   0207 00654000
         BNE   @RF00207                                            0207 00655000
         L     @15,PCBRLPA-1(,PCBPTR)                              0207 00656000
         LA    @15,0(,@15)                                         0207 00657000
         LTR   @15,@15                                             0207 00658000
         BZ    @RF00207                                            0207 00659000
         CLI   PCBFXC(PCBPTR),0                                    0207 00660000
         BE    @RF00207                                            0207 00661000
         L     @15,PCBRPTR-1(,PCBPTR)                              0207 00662000
         L     @15,PCBRTCBA-1(,@15)                                0207 00663000
         LA    @15,0(,@15)                                         0207 00664000
         LTR   @15,@15                                             0207 00665000
         BNZ   @RF00207                                            0207 00666000
         CR    R4,R7                                               0207 00667000
         BE    @RF00207                                            0207 00668000
*             DO;                                                  0208 00669000
*               R1=R4;                                             0209 00670000
         LR    R1,R4                                               0209 00671000
*               R0=PCBDEQN;                                        0210 00672000
         LA    R0,255                                              0210 00673000
*               R2=ASCBRSM;                                        0211 00674000
         L     @15,ASCBPTR(,PCBPTR)                                0211 00675000
         L     R2,ASCBRSM(,@15)                                    0211 00676000
*               CALL IEAVPCB;       /* PCB MANAGER CALLED WITH     0212 00677000
*                                      CORRECT RSMHD ADDR IN REG 2   */ 00678000
         L     @15,PVTPCB(,PVTPTR)                                 0212 00679000
         BALR  @14,@15                                             0212 00680000
*               R1=PCBRLPA;         /* SAVE ADDR OF FIRST RELATED PCB*/ 00681000
         L     R1,PCBRLPA-1(,PCBPTR)                               0213 00682000
         LA    R1,0(,R1)                                           0213 00683000
*               PCBRLPA=R7->PCBRLPA;/* INSERT PCB IN RELATED CHAIN   */ 00684000
         MVC   PCBRLPA(3,PCBPTR),PCBRLPA(R7)                       0214 00685000
*               R7->PCBRLPA=R4;                                    0215 00686000
         STCM  R4,7,PCBRLPA(R7)                                    0215 00687000
*               RESPECIFY                                          0216 00688000
*                 R7 UNRESTRICTED;  /* DON'T NEED REG 7 ANYMORE      */ 00689000
*               R0=PCBCIOQN;        /* SET INPUT PARM FOR COMMON Q   */ 00690000
         LA    R0,32                                               0217 00691000
*               R2=R1->PCBASCB->ASCBRSM;/* GET RIGHT RSMHD ADDR      */ 00692000
         L     @15,PCBASCB(,R1)                                    0218 00693000
         L     R2,ASCBRSM(,@15)                                    0218 00694000
*               CALL IEAVPCB;       /* ENQ FIRST RELATED TO COMMON Q */ 00695000
         L     @15,PVTPCB(,PVTPTR)                                 0219 00696000
         BALR  @14,@15                                             0219 00697000
*               GOTO SCHEDCPA;      /* GET IOCP SCHEDULED FOR PCB    */ 00698000
         B     SCHEDCPA                                            0220 00699000
*             END;                                                 0221 00700000
*           ELSE                                                   0222 00701000
*             ;                     /* IF CONDITIONS ARE NOT MET,  0222 00702000
*                                      SCHEDULE IOCP FOR QUEUED PCB  */ 00703000
@RF00207 DS    0H                                                  0223 00704000
*         END;                      /* END ROOT = 1 PROCESSING       */ 00705000
*     END;                          /* END RESET = 0 PROCESSING      */ 00706000
*   ELSE                                                           0225 00707000
*     ;                             /* IF RESET = 1, SCHEDULE IOCP 0225 00708000
*                                      FOR THE QUEUED PCB.           */ 00709000
*                                                                  0225 00710000
@RF00183 DS    0H                                                  0226 00711000
*   /*****************************************************************/ 00712000
*   /*                                                               */ 00713000
*   /* SCHEDULE IOCP AND RETURN TO MAINLINE                          */ 00714000
*   /*                                                               */ 00715000
*   /*****************************************************************/ 00716000
*                                                                  0226 00717000
*SCHEDCP:                                                          0226 00718000
*   R1=R4;                          /* ADDRESS OF THE PCB TO SCHEDULE   00719000
*                                      FOR                           */ 00720000
SCHEDCP  LR    R1,R4                                               0226 00721000
*SCHEDCPA:                                                         0227 00722000
*   CALL PIOCPSCH;                  /* GET IOCP SCHEDULED            */ 00723000
SCHEDCPA BAL   @14,PIOCPSCH                                        0227 00724000
*RTNMAIN:                                                          0228 00725000
*   R14=RTNLEV1;                    /* GET SAVED RETURN ADDRESS      */ 00726000
RTNMAIN  L     R14,RTNLEV1(,PVTPTR)                                0228 00727000
*   END PINPROC;                                                   0229 00728000
@EL00002 DS    0H                                                  0229 00729000
@EF00002 DS    0H                                                  0229 00730000
@ER00002 BR    @14                                                 0229 00731000
*                                                                  0230 00732000
*/********************************************************************/ 00733000
*/*                                                                  */ 00734000
*/*            COMMON AREA RELATED PCB PROCESSOR                     */ 00735000
*/*                                                                  */ 00736000
*/* THIS ROUTINE WILL PROCESS ALL RELATED PCB'S RELATED TO A COMMON  */ 00737000
*/* AREA PCB. THE REAL FRAME MUST BE GOOD IN STORAGE AS IT MAY BE    */ 00738000
*/* VALIDATED. ALL PCB'S WILL BE REMOVED FROM THE RELATED CHAIN.     */ 00739000
*/* RELATED PCB'S WHICH REQUIRE NO NOTIFICATION TO BE DONE, (RESET = */ 00740000
*/* 0 AND NO ROOT) WILL BE FREED. RELATED PCB'S WHICH REQUIRE        */ 00741000
*/* NOTIFICATION WILL HAVE THE VBN AND RELATED POINTER SET TO ZERO   */ 00742000
*/* AND THE FREAL FLAG SET TO OFF. THEY WILL BE ENQUED TO THE        */ 00743000
*/* COMMON I/O ACTIVE QUEUE AND IOCP WILL BE SCHEDULED TO PROCESS    */ 00744000
*/* THEM.                                                            */ 00745000
*/*                                                                  */ 00746000
*/* INPUT                                                            */ 00747000
*/*                                                                  */ 00748000
*/*  R0-R2         WORK REGISTERS                                    */ 00749000
*/*  R3            PVT                                               */ 00750000
*/*  R4            ADDRESS OF A QUEDED PCB ON THE COMMON I/O ACTIVE  */ 00751000
*/*                QUEUE WITH PCB'S RELATED TO IT                    */ 00752000
*/*  R5            WORK REGISTER                                     */ 00753000
*/*  R6            PFTE ADDRESS                                      */ 00754000
*/*  R7            WORK REGISTERS                                    */ 00755000
*/*  R8            RCA ADDRESS                                       */ 00756000
*/*  R9            WORK REGISTER                                     */ 00757000
*/*  R10           CODE REG                                          */ 00758000
*/*  R11-R12       WORK REG                                          */ 00759000
*/*  R13           ADDRESS OF MAINLINE SAVE AREA                     */ 00760000
*/*  R14           RETURN ADDRESS                                    */ 00761000
*/*  R15           WORK REG                                          */ 00762000
*/*                                                                  */ 00763000
*/********************************************************************/ 00764000
*                                                                  0230 00765000
*CARLTDPR:                                                         0230 00766000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0230 00767000
CARLTDPR DS    0H                                                  0231 00768000
*   RTNLEV2=R14;                    /* SAVE RETURN ADDRESS           */ 00769000
*                                                                  0231 00770000
         ST    R14,RTNLEV2(,PVTPTR)                                0231 00771000
*   /*****************************************************************/ 00772000
*   /*                                                               */ 00773000
*   /* FOR THIS ROUTINE THE PCB IS BASED ON R5. DO THIS ROUTINE AS   */ 00774000
*   /* LONG AS RELATED POINTER IN QUEUED PCB IS NOT ZERO             */ 00775000
*   /*                                                               */ 00776000
*   /*****************************************************************/ 00777000
*                                                                  0232 00778000
*   R5=PCBRLPA;                     /* INITIALIZE LOOP POINTER       */ 00779000
         L     R5,PCBRLPA-1(,PCBPTR)                               0232 00780000
         LA    R5,0(,R5)                                           0232 00781000
*   DO WHILE(R5^=0);                /* DO WHILE QUEUED PCB'S RELATED    00782000
*                                      POINTER IS NOT ZERO           */ 00783000
         B     @DE00233                                            0233 00784000
@DL00233 DS    0H                                                  0234 00785000
*     RFY                                                          0234 00786000
*       PCB BASED(R5);                                             0234 00787000
*                                                                  0234 00788000
*     /***************************************************************/ 00789000
*     /*                                                             */ 00790000
*     /* IF FREAL FLAG IS NOT ON VALIDATE FRAME, IF IT IS NOT ALREADY*/ 00791000
*     /* VALID. IF RESET IS TO BE DONE REMOVE PCB FROM RELATED CHAIN */ 00792000
*     /* AND ENQ IF TO COMMON I/O ACTIVE QUEUE, ZERO ITS VBN AND     */ 00793000
*     /* FREAL FLAG AND SCHEDULE IOCP TO DO RESET.                   */ 00794000
*     /*                                                             */ 00795000
*     /***************************************************************/ 00796000
*                                                                  0235 00797000
*     IF PCBFREAL='0'B&PGTPVM='1'B THEN                            0235 00798000
         TM    PCBFREAL(R5),B'10000000'                            0235 00799000
         BNZ   @RF00235                                            0235 00800000
         L     @15,PTEPTR-1(,R5)                                   0235 00801000
         TM    PGTPVM(@15),B'00001000'                             0235 00802000
         BNO   @RF00235                                            0235 00803000
*       DO;                                                        0236 00804000
*         RFY                                                      0237 00805000
*          (R12) RSTD;                                             0237 00806000
*         R12=R4;                   /* SAVE R4                       */ 00807000
         LR    R12,R4                                              0238 00808000
*         R4=R5;                    /* PCB ADDR FOR VALIT            */ 00809000
         LR    R4,R5                                               0239 00810000
*         CALL VALIT;               /* VALIDATE FRAME                */ 00811000
         BAL   @14,VALIT                                           0240 00812000
*         R4=R12;                   /* RESTORE R4                    */ 00813000
         LR    R4,R12                                              0241 00814000
*         RFY                                                      0242 00815000
*          (R12) UNRSTD;                                           0242 00816000
*       END;                                                       0243 00817000
*     IF PCBRESET='1'B THEN         /* IS RESET TO BE DONE           */ 00818000
@RF00235 TM    PCBRESET(R5),B'00010000'                            0244 00819000
         BO    @RT00244                                            0244 00820000
*       GO TO REMOVE;               /* REMOVE PCB FROM RELATED CHAIN */ 00821000
*                                                                  0245 00822000
*     /***************************************************************/ 00823000
*     /*                                                             */ 00824000
*     /* IF THERE IS A ROOT PCB AND IT IS STAGE 1 DECREMENT RT COUNT */ 00825000
*     /* AND CALL ROOT EXIT IF COUNT IS ZERO. IF ROOT IS NOT STAGE 1 */ 00826000
*     /* IT IS A FIX/LOAD ROOT. FIX LOAD ROOT EXIT CAN NOT BE CALLED */ 00827000
*     /* FROM PIOP AS PIOP IS NOT IN THE CORRECT ADDRESS SPACE. (NEED*/ 00828000
*     /* THE LL TO POST USER) SCHEDULE IOCP TO CALL ROOT EXIT ROUTINE*/ 00829000
*     /* IF COUNT GOES TO ZERO. IF CT DOES NOT GO TO ZERO DECREMENT  */ 00830000
*     /* COUNT AND FREE PCB                                          */ 00831000
*     /*                                                             */ 00832000
*     /***************************************************************/ 00833000
*                                                                  0246 00834000
*     IF PCBROOT='1'B THEN                                         0246 00835000
         TM    PCBROOT(R5),B'00000100'                             0246 00836000
         BNO   @RF00246                                            0246 00837000
*       DO;                                                        0247 00838000
*         IF PCBSWPS1='1'B THEN     /* IS PCB FOR STAGE 1 SWAP IN    */ 00839000
         TM    PCBSWPS1(R5),B'00100000'                            0248 00840000
         BNO   @RF00248                                            0248 00841000
*           DO;                                                    0249 00842000
*             RFY                                                  0250 00843000
*              (R7) RSTD;                                          0250 00844000
*             R7=R5;                /* ADDRESS OF PCB FOR DOAROOT    */ 00845000
         LR    R7,R5                                               0251 00846000
*             CALL DOAROOT;         /* DO STAGE 1 ROOT               */ 00847000
         BAL   @14,DOAROOT                                         0252 00848000
*             RFY                                                  0253 00849000
*              (R7) UNRSTD;                                        0253 00850000
*             GO TO FREERLT;        /* GO FREE THE RELATED PCB       */ 00851000
         B     FREERLT                                             0254 00852000
*           END;                                                   0255 00853000
*         IF PCBRCNT-1=0 THEN       /* IS ROOT COUNT ABOUT TO GO TO     00854000
*                                      ZERO                          */ 00855000
@RF00248 L     @15,PCBRPTR-1(,R5)                                  0256 00856000
         LA    @15,0(,@15)                                         0256 00857000
         LH    @12,PCBRCNT(,@15)                                   0256 00858000
         BCTR  @12,0                                               0256 00859000
         LTR   @12,@12                                             0256 00860000
         BZ    @RT00256                                            0256 00861000
*           GO TO REMOVE;           /* REMOVE PCB FROM RELATED CHAIN */ 00862000
*         PCBRCNT=PCBRCNT-1;        /* DECREMENT ROOT COUNT          */ 00863000
         STH   @12,PCBRCNT(,@15)                                   0258 00864000
*       END;                                                       0259 00865000
*                                                                  0259 00866000
*     /***************************************************************/ 00867000
*     /*                                                             */ 00868000
*     /* FREE A RELATED PCB                                          */ 00869000
*     /*                                                             */ 00870000
*     /***************************************************************/ 00871000
*                                                                  0260 00872000
*FREERLT:                                                          0260 00873000
*     R4->PCBRLPA=R5->PCBRLPA;      /* MOVE POINTER TO NEXT RELATED     00874000
*                                      PCB INTO THE QUEUED PCB       */ 00875000
@RF00246 DS    0H                                                  0260 00876000
FREERLT  MVC   PCBRLPA(3,R4),PCBRLPA(R5)                           0260 00877000
*     R0=PCBFREQN;                  /* THIS RELATED PCB GOES TO THE     00878000
*                                      FREE Q                        */ 00879000
         LA    R0,16                                               0261 00880000
*     PCBFQPA=0;                    /* ASSURE FORWARD PTR IS ZERO    */ 00881000
         SLR   @15,@15                                             0262 00882000
         STCM  @15,7,PCBFQPA(R5)                                   0262 00883000
*     GO TO MOVRLTP;                /* GO FREE PCB                   */ 00884000
*                                                                  0263 00885000
         B     MOVRLTP                                             0263 00886000
*     /***************************************************************/ 00887000
*     /*                                                             */ 00888000
*     /* RELATED PCB IS TO GO TO I/O ACTIVE Q AND IOCP IS TO BE      */ 00889000
*     /* SCHEDULED TO PROCESS IT.                                    */ 00890000
*     /*                                                             */ 00891000
*     /***************************************************************/ 00892000
*                                                                  0264 00893000
*REMOVE:                                                           0264 00894000
*     R4->PCBRLPA=R5->PCBRLPA;      /* ADDRESS OF NEXT RELATED PCB 0264 00895000
*                                      INTO QUEUED PCB               */ 00896000
REMOVE   MVC   PCBRLPA(3,R4),PCBRLPA(R5)                           0264 00897000
*     PCBVBN=0;                     /* STILL VBN = 0 SO NO PCBS WILL    00898000
*                                      BE RELATED TO THIS PCB        */ 00899000
         SLR   @15,@15                                             0265 00900000
         STH   @15,PCBVBN(,R5)                                     0265 00901000
*     PCBFREAL='0'B;                                               0266 00902000
         NI    PCBFREAL(R5),B'01111111'                            0266 00903000
*     PCBRLPA=0;                    /* ZERO RELATED PTR BEFORE CALL     00904000
*                                      TO SCHEDULE AS RELATED CHAIN     00905000
*                                      WILL BE COMPLETLY BROKEN UP   */ 00906000
         STCM  @15,7,PCBRLPA(R5)                                   0267 00907000
*     R1=R5;                        /* ADDRESS OF PCB                */ 00908000
         LR    R1,R5                                               0268 00909000
*     CALL PIOCPSCH;                /* SCHEDULE CP FOR PCB TO BE   0269 00910000
*                                      ENQUED                        */ 00911000
         BAL   @14,PIOCPSCH                                        0269 00912000
*     R0=PCBCIOQN;                  /* SEND PCB TO COMMON I/O Q      */ 00913000
*                                                                  0270 00914000
         LA    R0,32                                               0270 00915000
*     /***************************************************************/ 00916000
*     /*                                                             */ 00917000
*     /* MOVE RELATED PCB TO QUEUE ALREADY SET IN R0                 */ 00918000
*     /*                                                             */ 00919000
*     /***************************************************************/ 00920000
*                                                                  0271 00921000
*MOVRLTP:                                                          0271 00922000
*     R1=R5;                        /* ADDRESS OF PCB                */ 00923000
MOVRLTP  LR    R1,R5                                               0271 00924000
*     R2=ASCBRSM;                   /* SET RSMHD ADDRESS IN R2       */ 00925000
         L     @15,ASCBPTR(,R5)                                    0272 00926000
         L     R2,ASCBRSM(,@15)                                    0272 00927000
*     PCBRLPA=0;                    /* SET RELATED PTR TO ZERO       */ 00928000
         SLR   @15,@15                                             0273 00929000
         STCM  @15,7,PCBRLPA(R5)                                   0273 00930000
*     CALL IEAVPCB;                 /* MOVE PCB                      */ 00931000
*                                                                  0274 00932000
         L     @15,PVTPCB(,PVTPTR)                                 0274 00933000
         BALR  @14,@15                                             0274 00934000
*     /***************************************************************/ 00935000
*     /*                                                             */ 00936000
*     /* IS THERE ANOTHER RELATED PCB                                */ 00937000
*     /*                                                             */ 00938000
*     /***************************************************************/ 00939000
*                                                                  0275 00940000
*     RFY                                                          0275 00941000
*       PCB BASED(R4);              /* SET BASE OF PCB BACK TO     0275 00942000
*                                      REGISTER 4 SO WE CAN DO THE 0275 00943000
*                                      INCREMENTING AT THE END OF THE   00944000
*                                      LOOP.                         */ 00945000
*     R5=PCBRLPA;                   /* ADJUST LOOP CONTROL VARIABLE  */ 00946000
         L     R5,PCBRLPA-1(,R4)                                   0276 00947000
         LA    R5,0(,R5)                                           0276 00948000
*   END;                                                           0277 00949000
@DE00233 LTR   R5,R5                                               0277 00950000
         BNZ   @DL00233                                            0277 00951000
*   R14=RTNLEV2;                    /* GET RETURN ADDRESS            */ 00952000
         L     R14,RTNLEV2(,PVTPTR)                                0278 00953000
*   END CARLTDPR;                                                  0279 00954000
@EL00003 DS    0H                                                  0279 00955000
@EF00003 DS    0H                                                  0279 00956000
@ER00003 BR    @14                                                 0279 00957000
*                                                                  0280 00958000
*/********************************************************************/ 00959000
*/*                                                                  */ 00960000
*/*          PAGE OUT PCB PROCESSOR                                  */ 00961000
*/*                                                                  */ 00962000
*/* THIS ROUTINE RECEIVES CONTROL FROM THE MAINLINE WHEN I/O HAS     */ 00963000
*/* COMPLETED FOR A PAGE OUT PCB. THE PCB MAY BE FOR THE COMMON AREA */ 00964000
*/* OR THE PRIVATE AREA AND MAY OR MAY NOT HAVE  PAGE IN PCB'S       */ 00965000
*/* RELATED TO IT.                                                   */ 00966000
*/*                                                                  */ 00967000
*/* THIS ROUTINE HANDLES ORDINARY PAGE OUT PCB'S (NO RELATEDS AND    */ 00968000
*/* NO I/O ERROR) BY FREEING THE REAL FRAME AND THE PCB. IF THE PAGE */ 00969000
*/* OUT SUFFERED AN I/O ERROR OR THE PCB FREAL FLAG IN THE PCB IS    */ 00970000
*/* OFF, THEN THE REAL FRAME IS KEPT. IF THE VBN IS COMMON AREA      */ 00971000
*/* THE FRAME IS VALIDATED BY PIOP AND THE PCB IS FREEDED.           */ 00972000
*/* IF THE VBN IS PRIVATE AREA THE PCB IS CHANGED TO A PAGE IN       */ 00973000
*/* PCB AND IOCP SCHEDULED TO PROCESS IT                             */ 00974000
*/*                                                                  */ 00975000
*/* INPUT                                                            */ 00976000
*/*                                                                  */ 00977000
*/*  R0-R2         WORK REGISTERS                                    */ 00978000
*/*  R3            PVT ADDRESS                                       */ 00979000
*/*  R4            ADDRESS OF A QUEUED PCB WITH A PAGE OUT FLAG ON   */ 00980000
*/*  R5            WORK REGISTER                                     */ 00981000
*/*  R6            PFTE ADDRESS                                      */ 00982000
*/*  R7            WORK REGISTER                                     */ 00983000
*/*  R8            RCA ADDRESS                                       */ 00984000
*/*  R9            WORK REGISTER                                     */ 00985000
*/*  R10           CODE REGISTER                                     */ 00986000
*/*  R11-R12       WORK REG                                          */ 00987000
*/*  R13           ADDRESS OF MAINLINE SAVE AREA                     */ 00988000
*/*  R14           RETURN ADDR                                       */ 00989000
*/*  R15           WORK REG                                          */ 00990000
*/********************************************************************/ 00991000
*                                                                  0280 00992000
*POUTPROC:                                                         0280 00993000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0280 00994000
POUTPROC DS    0H                                                  0281 00995000
*   RTNLEV1=R14;                    /* SAVE RETURN ADDRESS           */ 00996000
         ST    R14,RTNLEV1(,PVTPTR)                                0281 00997000
*   IF PCBSUPRS='1'B THEN           /* IS FRMAE PROCESSING SUPPRESSED*/ 00998000
         TM    PCBSUPRS(R4),B'00001000'                            0282 00999000
         BO    @RT00282                                            0282 01000000
*     GOTO FREEQDD;                 /* IF FRAME PROCESSING HAS     0283 01001000
*                                      ALREADY BEEN DONE, JUST FREE     01002000
*                                      THE PCB               @YM01687*/ 01003000
*                                                                  0283 01004000
*   /*****************************************************************/ 01005000
*   /*                                                               */ 01006000
*   /* FRAME PROCESSING IS SUPPRESSED BY GFA WHEN IT DETERMINES THAT */ 01007000
*   /* A PAGEOUT IS IN PROCESS FOR A PAGEIN REQUEST. IN THIS CASE THE*/ 01008000
*   /* PCBVBN AND PCBFREAL ARE ZEROED. THE PCBSUPRS IS SET TO TELL   */ 01009000
*   /* PIOP NOT TO ZERO PFTPCBSI SO FRAME IS USED FOR PAGEIN REQUEST.*/ 01010000
*   /*                                                               */ 01011000
*   /*****************************************************************/ 01012000
*                                                                  0284 01013000
*   IF PCBIOERR='1'B THEN                                          0284 01014000
         TM    PCBIOERR(R4),B'00100000'                            0284 01015000
         BNO   @RF00284                                            0284 01016000
*     DO;                                                          0285 01017000
*                                                                  0285 01018000
*       /*************************************************************/ 01019000
*       /*                                                           */ 01020000
*       /* IS IT A SWAPOUT PCB                                       */ 01021000
*       /*                                                           */ 01022000
*       /*************************************************************/ 01023000
*                                                                  0286 01024000
*       IF PCBSWPOT='1'B THEN                                      0286 01025000
         TM    PCBSWPOT(R4),B'10000000'                            0286 01026000
         BNO   @RF00286                                            0286 01027000
*         DO;                                                      0287 01028000
*                                                                  0287 01029000
*           /*********************************************************/ 01030000
*           /*                                                       */ 01031000
*           /* AN I/O ERROR OCCURED TO A SWAP OUT PCB. THE PCB AND   */ 01032000
*           /* THE FRAME ARE FREED. THE QUEUED PCB CAN NOT HAVE      */ 01033000
*           /* RELATED PCB'S AS THE ADDRESS SPACE WAS STOPPED PRIOR  */ 01034000
*           /* TO SWAP OUT.                                          */ 01035000
*           /*                                                       */ 01036000
*           /*********************************************************/ 01037000
*                                                                  0288 01038000
*           IF PCBVBN=(PVTLCSA-10) THEN/* IF SWAPOUT, AND THIS IS THE   01039000
*                                      LSQA PAGE CONTAINING THE    0288 01040000
*                                      SEGMENT TABLE FOR THIS ADDRESS   01041000
*                                      SPACE THEN            @Z40WPYD*/ 01042000
         LH    @15,PVTLCSA(,PVTPTR)                                0288 01043000
         N     @15,@CF01890                                        0288 01044000
         SL    @15,@CF00032                                        0288 01045000
         LH    @12,PCBVBN(,R4)                                     0288 01046000
         N     @12,@CF01890                                        0288 01047000
         CR    @15,@12                                             0288 01048000
         BNE   @RF00288                                            0288 01049000
*             DO;                   /* MUST PURGE THE TLB'S AS THIS     01050000
*                                      IS NORMALLY DONE IN IEAVSWPC.    01051000
*                                      THE PTLB MUST BE DONE AS THE     01052000
*                                      REAL FRAME CONTAINING THE   0289 01053000
*                                      SEGMENT TABLE AND UNDERGOING     01054000
*                                      TERMINATION COULD BE        0289 01055000
*                                      REASSIGNED FOR A NEW MEMORY 0289 01056000
*                                      THAT IS BEING CREATED. SINCE     01057000
*                                      THE STO ENTRIES HAVE NOT BEEN    01058000
*                                      PURGED, THE NEWLY CREATED   0289 01059000
*                                      ADDRESS SPACE, WHEN         0289 01060000
*                                      DISPATCHED, WOULD RECEIVE THE    01061000
*                                      OLD ADDRESS SPACES STO ENTRY     01062000
*                                      AND EVENTUALLY ADDRESS      0289 01063000
*                                      NON-EXISTANT DATA     @Z40WPYD*/ 01064000
*               R1=0;               /* TELL IEAVINV TO PTLB. PVTPTR     01065000
*                                      IS ALREADY SETUP      @Z40WPYD*/ 01066000
         SLR   R1,R1                                               0290 01067000
*               CALL IEAVINV;       /* PURGE THE TLB'S       @Z40WPYD*/ 01068000
         L     @15,@CV01726                                        0291 01069000
         BALR  @14,@15                                             0291 01070000
*             END;                  /* END OF SWAPOUT PTLB   @Z40WPYD*/ 01071000
*           ELSE                                                   0293 01072000
*             ;                     /* NO PTLB REQUIRED      @Z40WPYD*/ 01073000
@RF00288 DS    0H                                                  0294 01074000
*           CALL FREEFRA;           /* FREE FRAME WHICH SUFFERED I/O    01075000
*                                      ERROR ON SWAP OUT             */ 01076000
         BAL   @14,FREEFRA                                         0294 01077000
*           R0=PCBFREQN;            /* PCB GOES TO FREE QUEUE        */ 01078000
         LA    R0,16                                               0295 01079000
*           R1=R4;                  /* ADDR OF PCB                   */ 01080000
         LR    R1,R4                                               0296 01081000
*           R2=ASCBRSM;             /* GET RSMHDR ADDRESS            */ 01082000
         L     @15,ASCBPTR(,R4)                                    0297 01083000
         L     R2,ASCBRSM(,@15)                                    0297 01084000
*           CALL IEAVPCB;           /* MOVE PCB TO FREE Q            */ 01085000
         L     @15,PVTPCB(,PVTPTR)                                 0298 01086000
         BALR  @14,@15                                             0298 01087000
*           R14=RTNLEV1;            /* GET RETURN ADDRESS            */ 01088000
         L     R14,RTNLEV1(,PVTPTR)                                0299 01089000
*           RETURN;                 /* RETURN TO CALLER              */ 01090000
@EL00004 DS    0H                                                  0300 01091000
@EF00004 DS    0H                                                  0300 01092000
@ER00004 BR    @14                                                 0300 01093000
*         END;                                                     0301 01094000
*                                                                  0301 01095000
*       /*************************************************************/ 01096000
*       /*                                                           */ 01097000
*       /* AN I/O ERROR OCCURED TO A NON-SWAP OUT PCB, SAVE THE REAL */ 01098000
*       /* FRAME FOR NORMAL PAGE-OUTS AND PAGE-OUTS OF A VIO         */ 01099000
*       /* IRREGULAR FRAME. PURGED PAGE-OUTS AND VIO MOVE-OUT WITH   */ 01100000
*       /* FRAME DISCONNECTION HAVE VBN'S OF ZERO, THE PFTIRRG FLAG  */ 01101000
*       /* OFF AND PCBFREAL FLAG ON. THESE FRAMES WILL NOT BE SAVED  */ 01102000
*       /* AS A RESULT OF AN I/O ERROR.                              */ 01103000
*       /*                                                           */ 01104000
*       /*************************************************************/ 01105000
*                                                                  0302 01106000
*       IF PCBVBN^=0|PFTIRRG='1'B THEN                             0302 01107000
@RF00286 LH    @15,PCBVBN(,R4)                                     0302 01108000
         N     @15,@CF01890                                        0302 01109000
         LTR   @15,@15                                             0302 01110000
         BNZ   @RT00302                                            0302 01111000
         TM    PFTIRRG(PFTEPTR),B'00010000'                        0302 01112000
         BNO   @RF00302                                            0302 01113000
@RT00302 DS    0H                                                  0303 01114000
*         PCBFREAL='0'B;            /* TURN FREAL FLAG OFF SO FRAME     01115000
*                                      WILL BE SAVED                 */ 01116000
         NI    PCBFREAL(R4),B'01111111'                            0303 01117000
*     END;                                                         0304 01118000
@RF00302 DS    0H                                                  0305 01119000
*                                                                  0305 01120000
*   /*****************************************************************/ 01121000
*   /*                                                               */ 01122000
*   /* PROCESSING CONTINUES HERE AS IF NO I/O ERROR HAS OCCURED. IF  */ 01123000
*   /* THERE ARE ANY RELATED PCB'S ON THE QUEUED PAGE OUT PCB FIRST  */ 01124000
*   /* DETERMINE IF IT IS THE COMMON QUEUE.                          */ 01125000
*   /*                                                               */ 01126000
*   /*****************************************************************/ 01127000
*                                                                  0305 01128000
*   IF PCBRLPA^=0 THEN                                             0305 01129000
@RF00284 L     @15,PCBRLPA-1(,R4)                                  0305 01130000
         LA    @15,0(,@15)                                         0305 01131000
         LTR   @15,@15                                             0305 01132000
         BZ    @RF00305                                            0305 01133000
*     DO;                                                          0306 01134000
*                                                                  0306 01135000
*       /*************************************************************/ 01136000
*       /*                                                           */ 01137000
*       /* THERE ARE RELATED PCB'S. IF THE QUEUED PCB IS ON THE LOCAL*/ 01138000
*       /* QUEUE, AND THE FREAL FLAG IS ON, REMOVE THE RELATED CHAIN */ 01139000
*       /* FROM THE QUEUED PCB, ENQ IT TO LOCAL I/O ACTIVE QUEUE,    */ 01140000
*       /* SCHEDULE IOCP AND FREE THE QUEUED PCB. IF THE FREAL FLAG  */ 01141000
*       /* IS OFF CHANGE PCB TO A PAGE IN PCB AND SCHEDULE IOCP.     */ 01142000
*       /*                                                           */ 01143000
*       /*************************************************************/ 01144000
*                                                                  0307 01145000
*       IF PCBCQN=PCBLIOQN THEN                                    0307 01146000
         CLI   PCBCQN(R4),136                                      0307 01147000
         BNE   @RF00307                                            0307 01148000
*         DO;                                                      0308 01149000
*           IF PCBFREAL='1'B THEN   /* IS FRAME TO BE FREED          */ 01150000
         TM    PCBFREAL(R4),B'10000000'                            0309 01151000
         BNO   @RF00309                                            0309 01152000
*             DO;                                                  0310 01153000
*               R1=PCBRLPA;         /* GET RELATED ADDRESS           */ 01154000
         LR    R1,@15                                              0311 01155000
*               PCBRLPA=0;          /* ZERO RELATED PTR OF QUEUED    */ 01156000
         SLR   @15,@15                                             0312 01157000
         STCM  @15,7,PCBRLPA(R4)                                   0312 01158000
*               R0=PCBLIOQN;        /* RELTD TO LOCAL I/O ACT Q      */ 01159000
         LA    R0,136                                              0313 01160000
*               R2=ASCBRSM;                                        0314 01161000
         L     @15,ASCBPTR(,R4)                                    0314 01162000
         L     R2,ASCBRSM(,@15)                                    0314 01163000
*               CALL IEAVPCB;       /* ENQ RELATED CHAIN TO LOCAL Q,    01164000
*                                      PCB MANAGER DOES NOT DESTROY     01165000
*                                      R1                            */ 01166000
         L     @15,PVTPCB(,PVTPTR)                                 0315 01167000
         BALR  @14,@15                                             0315 01168000
*               CALL PIOCPSCH;      /* SCHEDULE FOR NEWLY QUEUE PCB  */ 01169000
         BAL   @14,PIOCPSCH                                        0316 01170000
*               GO TO FREEQDD;      /* GO FREE QUEUED PCB            */ 01171000
         B     FREEQDD                                             0317 01172000
*             END;                                                 0318 01173000
*           GO TO CPWORK;           /* CHANGE PCB TO A PAGE IN PCB 0319 01174000
*                                      WITH ERROR FLAG OFF AND     0319 01175000
*                                      SCHEDULE IOCP FOR THE QUEUED     01176000
*                                      PCB. AN I/O ERROR OCCURRED TO    01177000
*                                      A NON-SWAPOUT PCB OR A PGOUT     01178000
*                                      KEEPREL OPTION WAS SPECIFIED     01179000
*                                                            @Z40WPYD*/ 01180000
         B     CPWORK                                              0319 01181000
*         END;                                                     0320 01182000
*                                                                  0320 01183000
*       /*************************************************************/ 01184000
*       /*                                                           */ 01185000
*       /* DO COMMON AREA RELATED PCB'S. THESE ARE PAGE IN PCB'S     */ 01186000
*       /* RELATED TO A PAGE OUT PCB. IF THE REAL FRAME IS NOT       */ 01187000
*       /* VALIDATED FOR ONE OF THE RELATED PCB'S, DETERMINE IF IT   */ 01188000
*       /* SHOULD BE VALIDATED FOR THE QUEUED PCB. IF NO, GO         */ 01189000
*       /* DECREMENT THE FRAME COUNT AND FREE THE FRAME AND THE PCB. */ 01190000
*       /*                                                           */ 01191000
*       /*************************************************************/ 01192000
*                                                                  0321 01193000
*       CALL CARLTDPR;              /* PROCESS COMMON AREA RELATEDS  */ 01194000
@RF00307 BAL   @14,CARLTDPR                                        0321 01195000
*       IF PGTPVM='1'B THEN         /* IS PGTE INVALID               */ 01196000
         L     @15,PTEPTR-1(,R4)                                   0322 01197000
         TM    PGTPVM(@15),B'00001000'                             0322 01198000
         BNO   @RF00322                                            0322 01199000
*         DO;                                                      0323 01200000
*           IF PCBFREAL='1'B THEN   /* IS FRAME TO BE FREE           */ 01201000
         TM    PCBFREAL(R4),B'10000000'                            0324 01202000
         BO    @RT00324                                            0324 01203000
*             GO TO DECFRAME;       /* DECREMENT FRAME COUNT AND FREE   01204000
*                                      FRAME                         */ 01205000
*           CALL VALIT;             /* VALIDATE FRAME, SET REF AND 0326 01206000
*                                      CHANGE BITS                   */ 01207000
         BAL   @14,VALIT                                           0326 01208000
*         END;                                                     0327 01209000
*       GO TO AFTERVAL;             /* THE FRAME HAS BEEN VALIDATED,    01210000
*                                      PCB DEFINED OFF AND FREE    0328 01211000
*                                      QUEUED PCB                    */ 01212000
         B     AFTERVAL                                            0328 01213000
*     END;                                                         0329 01214000
*                                                                  0330 01215000
*   /*****************************************************************/ 01216000
*   /*                                                               */ 01217000
*   /* THERE ARE NO RELATED PCB'S ON THE PAGE OUT PCB. DETERMINE IF  */ 01218000
*   /* REAL FRAME IS TO BE KEPT. IF YES, AND PCB IS COMMON AREA,     */ 01219000
*   /* VALIDATE THE REAL FRAME. IF PCB IS FOR THE PRIVATE AREA CHANGE*/ 01220000
*   /* PCB TO A PAGE IN AND SCHEDULE IEAVIOCP.                       */ 01221000
*   /*                                                               */ 01222000
*   /*****************************************************************/ 01223000
*                                                                  0330 01224000
*   IF PCBFREAL='0'B THEN                                          0330 01225000
@RF00305 TM    PCBFREAL(R4),B'10000000'                            0330 01226000
         BNZ   @RF00330                                            0330 01227000
*     DO;                                                          0331 01228000
*                                                                  0331 01229000
*       /*************************************************************/ 01230000
*       /*                                                           */ 01231000
*       /* IF PCBVBN IS ZERO PAGE MUST NOT BE VALIDATED. A VIO MOVE  */ 01232000
*       /* OUT OF AN IRREGULAR FRAME WILL HAVE A VBN OF ZERO AND THE */ 01233000
*       /* FREAL FLAG OFF. THE FRAME WILL NEITHER BE VALIDATED NOR   */ 01234000
*       /* FREED.                                                    */ 01235000
*       /*                                                           */ 01236000
*       /*************************************************************/ 01237000
*                                                                  0332 01238000
*       IF PCBVBN=0 THEN                                           0332 01239000
         LH    @15,PCBVBN(,R4)                                     0332 01240000
         N     @15,@CF01890                                        0332 01241000
         LTR   @15,@15                                             0332 01242000
         BZ    @RT00332                                            0332 01243000
*         GO TO AFTERVAL;           /* PCB DEFINED OFF AND FREE PCB  */ 01244000
*                                                                  0333 01245000
*       /*************************************************************/ 01246000
*       /*                                                           */ 01247000
*       /* IS PCB ON COMMON QUEUE, IF YES, VALIDATE IT, SET PCB      */ 01248000
*       /* DEFINED OFF AND FREE PCB.                                 */ 01249000
*       /*                                                           */ 01250000
*       /*************************************************************/ 01251000
*                                                                  0334 01252000
*       IF PCBCQN=PCBCIOQN THEN                                    0334 01253000
         CLI   PCBCQN(R4),32                                       0334 01254000
         BNE   @RF00334                                            0334 01255000
*         DO;                                                      0335 01256000
*           CALL VALIT;             /* GO VALIDATE FRAME             */ 01257000
         BAL   @14,VALIT                                           0336 01258000
*           GO TO AFTERVAL;         /* PCB DEFND OFF,FREE PCB        */ 01259000
         B     AFTERVAL                                            0337 01260000
*         END;                                                     0338 01261000
*       GO TO CPWORK;               /* CHANGE PCB TO A PAGE IN PCB 0339 01262000
*                                      ERROR FLAG OFF                */ 01263000
         B     CPWORK                                              0339 01264000
*     END;                                                         0340 01265000
*                                                                  0340 01266000
*   /*****************************************************************/ 01267000
*   /*                                                               */ 01268000
*   /* QUEUED PCB IS PAGE OUT AND FRAME IS TO BE FREED. ROOT         */ 01269000
*   /* PROCESSING IS NOT REQUIRED SINCE TO REACH THIS POINT PCB MUST */ 01270000
*   /* REPRESENT A NORMAL PGOUT OR A PRIVATE AREA SWAPOUT PAGE.      */ 01271000
*   /*                                                       @Z40WPYD*/ 01272000
*   /*                                                               */ 01273000
*   /*****************************************************************/ 01274000
*                                                                  0341 01275000
*DECFRAME:                                                         0341 01276000
*                                                                  0341 01277000
*   /*****************************************************************/ 01278000
*   /*                                                               */ 01279000
*   /* REAL FRAME IS TO BE FREED SET UP PARAMATERS FOR CALL TO       */ 01280000
*   /* IEAVPFTE AND DETERMINE WHICH END OF THE AFQ THE REAL FRAME    */ 01281000
*   /* GOES ON. IF FRAME WAS SWAP OUT, INCREMENT PAGE SWAPPED OUT    */ 01282000
*   /* COUNT.                                                        */ 01283000
*   /*                                                               */ 01284000
*   /*****************************************************************/ 01285000
*                                                                  0341 01286000
*   PFTPCBSI='0'B;                  /* PCB DEFINED OFF               */ 01287000
@RF00330 DS    0H                                                  0341 01288000
DECFRAME NI    PFTPCBSI(PFTEPTR),B'11110111'                       0341 01289000
*   TQID=PFTAFQN;                   /* SET PARAMETERS TO CALL PFTE   */ 01290000
         MVI   TQID(R13),X'00'                                     0342 01291000
*   FRAMERBN=PCBRBN;                                               0343 01292000
         LH    @15,PCBRBN(,R4)                                     0343 01293000
         N     @15,@CF01890                                        0343 01294000
         STH   @15,FRAMERBN(,R13)                                  0343 01295000
*   R1=PCBASCB;                     /* GET ASCB ADDR FOR PFTE CALL   */ 01296000
         L     R1,PCBASCB(,R4)                                     0344 01297000
*   R2=R1->ASCBRSM;                                                0345 01298000
         L     R2,ASCBRSM(,R1)                                     0345 01299000
*   FLAGPFTE=BACKFLG;               /* FRAME TO END OF AFQ           */ 01300000
         MVI   FLAGPFTE(R13),X'00'                                 0346 01301000
*   IF PCBSWPOT='1'B THEN           /* IS PCB FOR A SWAP-OUT         */ 01302000
         TM    PCBSWPOT(R4),B'10000000'                            0347 01303000
         BNO   @RF00347                                            0347 01304000
*     DO;                                                          0348 01305000
*       GO TO FREPFT;               /* GO FREE PFTE                  */ 01306000
         B     FREPFT                                              0349 01307000
*     END;                                                         0350 01308000
*   IF PCBVBN=0&PFTIRRG='0'B THEN   /* FRAME TO FRONT OF AFQ IF THIS    01309000
*                                      PAGE OUT WAS CANCELED BY AN 0351 01310000
*                                      ASID PURGE                    */ 01311000
@RF00347 LH    @15,PCBVBN(,R4)                                     0351 01312000
         N     @15,@CF01890                                        0351 01313000
         LTR   @15,@15                                             0351 01314000
         BNZ   @RF00351                                            0351 01315000
         TM    PFTIRRG(PFTEPTR),B'00010000'                        0351 01316000
         BNZ   @RF00351                                            0351 01317000
*     FLAGPFTE=FRONTFLG;                                           0352 01318000
         MVI   FLAGPFTE(R13),X'80'                                 0352 01319000
*FREPFT:                                                           0353 01320000
*   R0=WORK2;                       /* GET PARAMATERS FOR PFTE       */ 01321000
@RF00351 DS    0H                                                  0353 01322000
FREPFT   L     R0,WORK2(,R13)                                      0353 01323000
*   CALL IEAVPFTE;                  /* FREE PFTE                     */ 01324000
         L     @15,PVTPFTE(,PVTPTR)                                0354 01325000
         BALR  @14,@15                                             0354 01326000
*   GO TO FREEQDD;                  /* SKIP PCB DEFINE OFF           */ 01327000
*                                                                  0355 01328000
         B     FREEQDD                                             0355 01329000
*   /*****************************************************************/ 01330000
*   /*                                                               */ 01331000
*   /* TURN PCB DEFINED BIT OFF IF FRAME WAS VALIDATED AND FREE THE  */ 01332000
*   /* QUEUED PCB                                                    */ 01333000
*   /*                                                               */ 01334000
*   /*****************************************************************/ 01335000
*                                                                  0356 01336000
*AFTERVAL:                                                         0356 01337000
*   PFTPCBSI='0'B;                  /* PCB DEFINED OFF               */ 01338000
AFTERVAL NI    PFTPCBSI(PFTEPTR),B'11110111'                       0356 01339000
*FREEQDD:                                                          0357 01340000
*   R0=PCBFREQN;                    /* PCB TO FREE QUEUE             */ 01341000
FREEQDD  LA    R0,16                                               0357 01342000
*   R1=R4;                          /* PCB ADDRESS                   */ 01343000
         LR    R1,R4                                               0358 01344000
*   R2=ASCBRSM;                     /* GET RSMHDR ADDRESS            */ 01345000
         L     @15,ASCBPTR(,R4)                                    0359 01346000
         L     R2,ASCBRSM(,@15)                                    0359 01347000
*   CALL IEAVPCB;                   /* QUEUED PCB TO FREE Q          */ 01348000
         L     @15,PVTPCB(,PVTPTR)                                 0360 01349000
         BALR  @14,@15                                             0360 01350000
*POUTRTN:                                                          0361 01351000
*   R14=RTNLEV1;                    /* RESTORE RETURN ADDRESS        */ 01352000
POUTRTN  L     R14,RTNLEV1(,PVTPTR)                                0361 01353000
*   RETURN;                         /* RETURN TO MAINLINE            */ 01354000
*                                                                  0362 01355000
         B     @EL00004                                            0362 01356000
*   /*****************************************************************/ 01357000
*   /*                                                               */ 01358000
*   /* CHANGE PCB TO A PAGE IN PCB AND SCHEDULE IOCP FOR THE QUEUED  */ 01359000
*   /* PCB AND RETURN ENTERED HERE WHEN AN I/O ERROR HAS OCCURRED TO */ 01360000
*   /* A NON-SWAPOUT PCB OR A PGOUT WITH THE KEEP REAL OPTION HAS    */ 01361000
*   /* BEEN SPECIFIED                                        @Z40WPYD*/ 01362000
*   /*                                                               */ 01363000
*   /*****************************************************************/ 01364000
*                                                                  0363 01365000
*CPWORK:                                                           0363 01366000
*   R1=R4;                          /* PUT PCB ADDRESS WHERE PIOCPSCH   01367000
*                                      EXPECTS TO FIND IT            */ 01368000
CPWORK   LR    R1,R4                                               0363 01369000
*   PCBIOI='0'B;                    /* CHANGE PCB TO PAGE IN         */ 01370000
         NI    PCBIOI(R4),B'11111101'                              0364 01371000
*   PCBIOERR='0'B;                  /* I/O ERROR FLAG OFF IN QUEUED  */ 01372000
         NI    PCBIOERR(R4),B'11011111'                            0365 01373000
*   CALL PIOCPSCH;                  /* GO SCHEDULE IEAVIOCP          */ 01374000
         BAL   @14,PIOCPSCH                                        0366 01375000
*   R14=RTNLEV1;                    /* GET RETURN ADDRESS            */ 01376000
         L     R14,RTNLEV1(,PVTPTR)                                0367 01377000
*   END POUTPROC;                                                  0368 01378000
         B     @EL00004                                            0368 01379000
*                                                                  0369 01380000
*/********************************************************************/ 01381000
*/*                                                                  */ 01382000
*/*           STAGE 1 SWAP IN PCB PROCESSOR                          */ 01383000
*/*                                                                  */ 01384000
*/* THIS PROCESSOR HANDLES PAGE IN PCB'S WITH THE STAGE 1 FLAG ON    */ 01385000
*/* AND WITH OR WITHOUT RELATEDS.                                    */ 01386000
*/*                                                                  */ 01387000
*/* INPUT                                                            */ 01388000
*/*                                                                  */ 01389000
*/*  R0-R2        WORK REGISTERS                                     */ 01390000
*/*  R3           PVT ADDRESS                                        */ 01391000
*/*  R4           ADDRESS OF A QUEUED PCB WITH STAGE 1 FLAG ON       */ 01392000
*/*               NOTE THAT THE  ASCB PTR IS OBTAINED FROM           */ 01393000
*/*               THE  INPUT PCB                                     */ 01394000
*/*  R5           WORK REGISTER                                      */ 01395000
*/*  R6           PFTE ADDRESS                                       */ 01396000
*/*  R7           WORK REGISTER                                      */ 01397000
*/*  R8           RCA ADDRESS                                        */ 01398000
*/*  R9           WORK REGISTER                                      */ 01399000
*/*  R10          CODE REG                                           */ 01400000
*/*  R11-R12      WORK REG                                           */ 01401000
*/*  R13          ADDRESS OF MAINLINE SAVE AREA                      */ 01402000
*/*  R14          RETURN ADDRESS                                     */ 01403000
*/*  R15          WORK REG                                           */ 01404000
*/********************************************************************/ 01405000
*                                                                  0369 01406000
*STAG1PRC:                                                         0369 01407000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0369 01408000
STAG1PRC DS    0H                                                  0370 01409000
*   RTNLEV1=R14;                                                   0370 01410000
*                                                                  0370 01411000
         ST    R14,RTNLEV1(,PVTPTR)                                0370 01412000
*   /*****************************************************************/ 01413000
*   /*                                                               */ 01414000
*   /* IF AN I/O ERROR OCCURED SET ROOT FAIL BIT                     */ 01415000
*   /*                                                               */ 01416000
*   /*****************************************************************/ 01417000
*                                                                  0371 01418000
*   IF PCBIOERR='1'B THEN                                          0371 01419000
         TM    PCBIOERR(R4),B'00100000'                            0371 01420000
         BNO   @RF00371                                            0371 01421000
*     DO;                                                          0372 01422000
*       IF PCBSWPLS='1'B THEN       /* LSQA SWAPIN           @Z40WPYD*/ 01423000
         TM    PCBSWPLS(R4),B'00010000'                            0373 01424000
         BNO   @RF00373                                            0373 01425000
*         ASCBRSM->RSMFAIL='1'B;    /* INDICATE LSQA NOT VALID     0374 01426000
*                                                            @Z40WPYD*/ 01427000
         L     @15,ASCBPTR(,R4)                                    0374 01428000
         L     @15,ASCBRSM(,@15)                                   0374 01429000
         OI    RSMFAIL(@15),B'00000010'                            0374 01430000
*       ELSE                                                       0375 01431000
*         ;                         /* STAGE1 FIXED PAGE     @Z40WPYD*/ 01432000
@RF00373 DS    0H                                                  0376 01433000
*       PCBRFAIL='1'B;              /* SET ROOT FAIL BIT             */ 01434000
*       PCBRPB='1'B;                /* SET SPECIAL FLAG ON           */ 01435000
         L     @15,PCBRPTR-1(,R4)                                  0377 01436000
         OI    PCBRFAIL(@15),B'00101000'                           0377 01437000
*     END;                                                         0378 01438000
*   IF PCBSWPIN='1'B THEN           /* PCB IS A STAGE 1 SWAP IN OF 0379 01439000
*                                      LSQA OR PRIVATE AREA FIXED  0379 01440000
*                                      PAGE. REMOVE PCB FROM I/O   0379 01441000
*                                      ACTIVE Q AND ENQ IT TO THE  0379 01442000
*                                      ROOT PCB                      */ 01443000
@RF00371 TM    PCBSWPIN(R4),B'01000000'                            0379 01444000
         BNO   @RF00379                                            0379 01445000
*     DO;                                                          0380 01446000
*       PFTPCBSI='0'B;              /* TURN OFF PCB DEFINE BIT       */ 01447000
         NI    PFTPCBSI(PFTEPTR),B'11110111'                       0381 01448000
*       R0=PCBDEQN;                 /* SET TO QUEUE ID               */ 01449000
         LA    R0,255                                              0382 01450000
*       R1=R4;                      /* SET ADDR OF PCB WHERE IEAVPCB    01451000
*                                      EXPECTS IT                    */ 01452000
         LR    R1,R4                                               0383 01453000
*       R2=ASCBRSM;                 /* GET HEADER ADDRESS            */ 01454000
         L     @15,ASCBPTR(,R4)                                    0384 01455000
         L     R2,ASCBRSM(,@15)                                    0384 01456000
*       CALL IEAVPCB;               /* DEQ PCB                       */ 01457000
         L     @15,PVTPCB(,PVTPTR)                                 0385 01458000
         BALR  @14,@15                                             0385 01459000
*       PCBBQPA=PCBRWRK2;           /* COPY OLD LAST PTR             */ 01460000
         L     @15,PCBRPTR-1(,R4)                                  0386 01461000
         LA    @15,0(,@15)                                         0386 01462000
         L     @12,PCBRWRK2(,@15)                                  0386 01463000
         ST    @12,PCBBQPA(,R4)                                    0386 01464000
*       PCBRWRK2=R4;                /* PUT NEW PCB ON END            */ 01465000
         ST    R4,PCBRWRK2(,@15)                                   0387 01466000
*       IF PCBBQPA=0 THEN           /* ANY PCBS ON QUEUE             */ 01467000
         LTR   @12,@12                                             0388 01468000
         BNZ   @RF00388                                            0388 01469000
*         PCBRWRK1=R4;              /* FIRST AND ONLY ONE ON Q       */ 01470000
         ST    R4,PCBRWRK1(,@15)                                   0389 01471000
*       ELSE                        /* PCBS ALREADY ON QUEUE         */ 01472000
*         PCBBQPA->PCBFQPA=R4;      /* UPDATE FORWARD PTR OF PREVIOUS   01473000
*                                      LAST PCB ON QUEUE             */ 01474000
         B     @RC00388                                            0390 01475000
@RF00388 L     @15,PCBBQPA(,R4)                                    0390 01476000
         STCM  R4,7,PCBFQPA(@15)                                   0390 01477000
*       RFY                                                        0391 01478000
*        (R7) RSTD;                                                0391 01479000
@RC00388 DS    0H                                                  0392 01480000
*       R7=R4;                      /* ADDRESS OF PCB FOR DOAROOT    */ 01481000
         LR    R7,R4                                               0392 01482000
*       CALL DOAROOT;               /* DO ROOT PROCESSING            */ 01483000
         BAL   @14,DOAROOT                                         0393 01484000
*       RFY                                                        0394 01485000
*        (R7) UNRSTD;                                              0394 01486000
*       R14=RTNLEV1;                                               0395 01487000
         L     R14,RTNLEV1(,PVTPTR)                                0395 01488000
*       RETURN;                     /* RETURN TO CALLER              */ 01489000
@EL00005 DS    0H                                                  0396 01490000
@EF00005 DS    0H                                                  0396 01491000
@ER00005 BR    @14                                                 0396 01492000
*     END;                          /* END OF PCBSWPIN FLAG TEST     */ 01493000
*                                                                  0398 01494000
*   /*****************************************************************/ 01495000
*   /*                                                               */ 01496000
*   /* PCB IS COMMON AREA SWAP IN. IF NO I/O ERROR OCCURED, AND      */ 01497000
*   /* PAGING OPERATION WAS NOT PURGED, VALIDATE FRAME               */ 01498000
*   /*                                                               */ 01499000
*   /*****************************************************************/ 01500000
*                                                                  0398 01501000
*   IF PCBIOERR='0'B&PCBFREAL='0'B THEN                            0398 01502000
@RF00379 TM    PCBIOERR(R4),B'10100000'                            0398 01503000
         BNZ   @RF00398                                            0398 01504000
*     CALL VALIT;                   /* IF NO I/O ERR VALIDATE FRAME     01505000
*                                      AND SET PROTECT KEY           */ 01506000
*                                                                  0399 01507000
         BAL   @14,VALIT                                           0399 01508000
*   /*****************************************************************/ 01509000
*   /*                                                               */ 01510000
*   /* THE ONLY ROOT THAT CAN BE CALLED AT THIS POINT IS THE SWAP IN */ 01511000
*   /* ROOT EXIT AND A STAGE 1 PCB MUST HAVE A ROOT.                 */ 01512000
*   /*                                                               */ 01513000
*   /*****************************************************************/ 01514000
*                                                                  0400 01515000
*   RFY                                                            0400 01516000
*    (R7) RSTD;                                                    0400 01517000
@RF00398 DS    0H                                                  0401 01518000
*   R7=R4;                          /* ADDRESS OF PCB FOR DOAROOT    */ 01519000
         LR    R7,R4                                               0401 01520000
*   CALL DOAROOT;                   /* THE ROOT FAIL BIT IS ALREADY     01521000
*                                      SET IF AN I/O ERROR OCCURED   */ 01522000
         BAL   @14,DOAROOT                                         0402 01523000
*   RFY                                                            0403 01524000
*    (R7) UNRSTD;                                                  0403 01525000
*                                                                  0403 01526000
*   /*****************************************************************/ 01527000
*   /*                                                               */ 01528000
*   /* IF THERE ARE RELATED PCB'S THEY WILL BE FOR ADDRESS SPACES    */ 01529000
*   /* OTHER THEN THE ONE BEING SWAPPED IN. IF NO I/O ERROR OCCURED  */ 01530000
*   /* CALL COMMON AREA RELATED PROCESSOR. IF AN I/O ERROR OCCURED,  */ 01531000
*   /* CALL ERROR RELATED PROCESSOR AND PASS ANY RELATED PCB's that  */ 01532000
*   /* remain after this call to iocp.                               */ 01533000
*   /*                                                               */ 01534000
*   /*****************************************************************/ 01535000
*                                                                  0404 01536000
*   IF PCBRLPA^=0 THEN                                             0404 01537000
         L     @15,PCBRLPA-1(,R4)                                  0404 01538000
         LA    @15,0(,@15)                                         0404 01539000
         LTR   @15,@15                                             0404 01540000
         BZ    @RF00404                                            0404 01541000
*     DO;                                                          0405 01542000
*       IF PCBIOERR='1'B THEN       /* IF AN I/O ERROR OCCURED, PUT     01543000
*                                      THE RELATED CHAIN ON THE    0406 01544000
*                                      COMMON I/O ACTIVE QUEUE AND 0406 01545000
*                                      SCHEDULE IOCP IF NOTIFICATION    01546000
*                                      IS REQUIRED FOR ANY RELATED 0406 01547000
*                                      PCBS.                         */ 01548000
         TM    PCBIOERR(R4),B'00100000'                            0406 01549000
         BNO   @RF00406                                            0406 01550000
*         DO;                                                      0407 01551000
*           CALL ERRLTDPR;          /* PROCESS THE RELATED PCBS      */ 01552000
         BAL   @14,ERRLTDPR                                        0408 01553000
*           IF PCBRLPA^=0 THEN      /* ANY RELATEDS LEFT             */ 01554000
         L     @15,PCBRLPA-1(,R4)                                  0409 01555000
         LA    @15,0(,@15)                                         0409 01556000
         LTR   @15,@15                                             0409 01557000
         BZ    @RF00409                                            0409 01558000
*             DO;                   /* PROCESS ANY REMAINING RELATEDS*/ 01559000
*               R1=PCBRLPA;         /* GET ADDRESS OF FIRST PCB ON 0411 01560000
*                                      RELATED CHAIN                 */ 01561000
         LR    R1,@15                                              0411 01562000
*               R0=PCBCIOQN;        /* TO COMMON I/O ACTIVE QUEUE    */ 01563000
         LA    R0,32                                               0412 01564000
*               R2=R1->PCBASCB->ASCBRSM;/* GET RSMHD ADDR            */ 01565000
         L     @15,PCBASCB(,R1)                                    0413 01566000
         L     R2,ASCBRSM(,@15)                                    0413 01567000
*               CALL IEAVPCB;       /* R1 IS NOT DESTROYED BY THIS 0414 01568000
*                                      CALL TO PCB MANAGER           */ 01569000
         L     @15,PVTPCB(,PVTPTR)                                 0414 01570000
         BALR  @14,@15                                             0414 01571000
*               CALL PIOCPSCH;      /* SCHEDULE IOCP FOR NEWLY ENQUED   01572000
*                                      PCB                           */ 01573000
         BAL   @14,PIOCPSCH                                        0415 01574000
*               GO TO NOSWINRL;     /* GO FREE PCB                   */ 01575000
         B     NOSWINRL                                            0416 01576000
*             END;                                                 0417 01577000
*           ELSE                                                   0418 01578000
*             ;                     /* ALL RELATEDS PROCESSED        */ 01579000
@RF00409 DS    0H                                                  0419 01580000
*         END;                                                     0419 01581000
*                                                                  0419 01582000
*       /*************************************************************/ 01583000
*       /*                                                           */ 01584000
*       /* FRAME IS ALREADY VALID, DETERMINE DISPOSITION OF ALL      */ 01585000
*       /* COMMON AREA RELATED PCB'S                                 */ 01586000
*       /*                                                           */ 01587000
*       /*************************************************************/ 01588000
*                                                                  0420 01589000
*       ELSE                                                       0420 01590000
*         CALL CARLTDPR;            /* DO COMMON AREA RELATED PCB'S  */ 01591000
         B     @RC00406                                            0420 01592000
@RF00406 BAL   @14,CARLTDPR                                        0420 01593000
*     END;                                                         0421 01594000
*                                                                  0421 01595000
@RC00406 DS    0H                                                  0422 01596000
*   /*****************************************************************/ 01597000
*   /*                                                               */ 01598000
*   /* IF THERE WAS NO I/O ERROR AND THE PAGING OPERATION WAS NOT    */ 01599000
*   /* INTERCEPTED, THE FRAME WAS VALIDATED AND PCB DEFINED SHOULD BE*/ 01600000
*   /* TURNED OFF. IF THERE WAS AN I/O ERROR OR THE PAGING OPERATION */ 01601000
*   /* WAS PURGED, PCB DEFINED SHOULD BE TURNED OFF, THE FRAME FREED */ 01602000
*   /* AND THE FRAME COUNT DECREMENTED. IN ADDITION, THE ASID, VBN   */ 01603000
*   /* FIELDS IN THE PFTE ARE ZEROED TO PREVENT RECLAIM.             */ 01604000
*   /*                                                               */ 01605000
*   /*****************************************************************/ 01606000
*                                                                  0422 01607000
*   IF PCBIOERR='1'B THEN           /* WAS THERE AN I/O ERROR        */ 01608000
@RF00404 TM    PCBIOERR(R4),B'00100000'                            0422 01609000
         BNO   @RF00422                                            0422 01610000
*     PFTPGID=0;                    /* PREVENT RECLAIM               */ 01611000
         SLR   @15,@15                                             0423 01612000
         ST    @15,PFTPGID(,PFTEPTR)                               0423 01613000
*   ELSE                                                           0424 01614000
*     IF PCBFREAL='0'B|PGTPVM='0'B THEN/* PCB DEFINED OFF, PAGE VALID*/ 01615000
         B     @RC00422                                            0424 01616000
@RF00422 TM    PCBFREAL(R4),B'10000000'                            0424 01617000
         BZ    @RT00424                                            0424 01618000
         L     @15,PTEPTR-1(,R4)                                   0424 01619000
         TM    PGTPVM(@15),B'00001000'                             0424 01620000
         BNZ   @RF00424                                            0424 01621000
@RT00424 DS    0H                                                  0425 01622000
*       DO;                                                        0425 01623000
*         PFTPCBSI='0'B;                                           0426 01624000
         NI    PFTPCBSI(PFTEPTR),B'11110111'                       0426 01625000
*         GOTO NOSWINRL;            /* GO FREE INPUT PCB             */ 01626000
         B     NOSWINRL                                            0427 01627000
*       END;                                                       0428 01628000
*   CALL FREEFRA;                   /* FREE THE FRAME FOR I/O ERROR     01629000
*                                      OR INTERCEPTED CASES          */ 01630000
@RF00424 DS    0H                                                  0429 01631000
@RC00422 BAL   @14,FREEFRA                                         0429 01632000
*NOSWINRL:                                                         0430 01633000
*   R0=PCBFREQN;                    /* PCB TO FREE QUEUE             */ 01634000
NOSWINRL LA    R0,16                                               0430 01635000
*   R2=ASCBRSM;                     /* GET HEADER ADDRESS JUST IN  0431 01636000
*                                      CASE                          */ 01637000
         L     @15,ASCBPTR(,R4)                                    0431 01638000
         L     R2,ASCBRSM(,@15)                                    0431 01639000
*   R1=R4;                          /* ADDR OF QUEUED PCB            */ 01640000
         LR    R1,R4                                               0432 01641000
*   CALL IEAVPCB;                   /* MOVE PCB FO FREE Q            */ 01642000
         L     @15,PVTPCB(,PVTPTR)                                 0433 01643000
         BALR  @14,@15                                             0433 01644000
*   R14=RTNLEV1;                    /* GET RETURN ADDRESS            */ 01645000
         L     R14,RTNLEV1(,PVTPTR)                                0434 01646000
*   END STAG1PRC;                                                  0435 01647000
         B     @EL00005                                            0435 01648000
*                                                                  0436 01649000
*/********************************************************************/ 01650000
*/* PROCEDURE TO SET PROTECTION KEY, REF AND CHANGE BITS AND TO      */ 01651000
*/* VALIDATE PAGE TABLE ENTRY                                        */ 01652000
*/*                                                                  */ 01653000
*/* INPUT                                                            */ 01654000
*/*                                                                  */ 01655000
*/*  R0-R2         WORK REGISTERS                                    */ 01656000
*/*  R3            PVTADDR                                           */ 01657000
*/*  R4            ADDRESS OF A PCB                                  */ 01658000
*/*  R5            NOT USED                                          */ 01659000
*/*  R6            NOT USED                                          */ 01660000
*/*  R7            WORK REGISTERS                                    */ 01661000
*/*  R8            RCA ADDRESS                                       */ 01662000
*/*  R9            WORK REGISTER                                     */ 01663000
*/*  R10           CODE REG                                          */ 01664000
*/*  R11           WORK REG                                          */ 01665000
*/*  R12           NOT USED                                          */ 01666000
*/*  R13           ADDRESS OF MAINLINE SAVE AREA                     */ 01667000
*/*  R14           RETURN ADDRESS                                    */ 01668000
*/*  R15           WORK REG                                          */ 01669000
*/*                                                                  */ 01670000
*/********************************************************************/ 01671000
*                                                                  0436 01672000
*VALIT:                                                            0436 01673000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0436 01674000
VALIT    DS    0H                                                  0437 01675000
*   RFY                                                            0437 01676000
*    (R11) RSTD;                                                   0437 01677000
*   R11=PCBXPTA;                    /* GET ADDRESS OF XPTE           */ 01678000
         L     R11,PCBXPTA-1(,R4)                                  0438 01679000
         LA    R11,0(,R11)                                         0438 01680000
*   R0=R11->XPTPROT;                /* GET PROTECT KEY, REFERENCE AND   01681000
*                                      CHANGE BITS ASSUMED TO BE OFF */ 01682000
         SLR   R0,R0                                               0439 01683000
         IC    R0,XPTPROT(,R11)                                    0439 01684000
*   R1=PCBRBN;                                                     0440 01685000
         LH    R1,PCBRBN(,R4)                                      0440 01686000
         N     R1,@CF01890                                         0440 01687000
*   GEN(SLL R1,8);                  /* MOVE RBN TO CORRECT POSITION     01688000
*                                      TO BE AN ADDRESS              */ 01689000
         SLL R1,8                                                       01690000
*   GEN(SSK R0,R1);                 /* SET KEY FOR FIRST 2K          */ 01691000
         SSK R0,R1                                                      01692000
*   GEN(LA R1,2048(R1));            /* SET TO SECOND 2K              */ 01693000
         LA R1,2048(R1)                                                 01694000
*   GEN(SSK R0,R1);                 /* SET KEY FOR SECOND 2K         */ 01695000
         SSK R0,R1                                                      01696000
*   R11=PCBPGTA;                    /* GET PGTE ADDRESS              */ 01697000
         L     R11,PCBPGTA-1(,R4)                                  0445 01698000
         LA    R11,0(,R11)                                         0445 01699000
*   R11->PGTPVM='0'B;               /* VALIDATE FRAME                */ 01700000
         NI    PGTPVM(R11),B'11110111'                             0446 01701000
*   RFY                                                            0447 01702000
*    (R11) UNRSTD;                                                 0447 01703000
*   END VALIT;                                                     0448 01704000
@EL00006 DS    0H                                                  0448 01705000
@EF00006 DS    0H                                                  0448 01706000
@ER00006 BR    @14                                                 0448 01707000
*                                                                  0449 01708000
*/********************************************************************/ 01709000
*/*                                                                  */ 01710000
*/*   SUBROUTINE TO DO ROOT PCB PROCESSING                           */ 01711000
*/*                                                                  */ 01712000
*/*                                                                  */ 01713000
*/*                                                                  */ 01714000
*/* INPUT                                                            */ 01715000
*/*                                                                  */ 01716000
*/*  R0-R2        WORK REGISTERS                                     */ 01717000
*/*  R3           PVTADDR                                            */ 01718000
*/*  R4-R6        NOT USED                                           */ 01719000
*/*  R7           ADDRESS OF PCB WITH A ROOT                         */ 01720000
*/*  R8           RCA ADDRESS                                        */ 01721000
*/*  R9           WORK REGISTER                                      */ 01722000
*/*  R10          CODE REG                                           */ 01723000
*/*  R11-R12      IGNORED                                            */ 01724000
*/*  R13          MAINLINE SAVEAREA                                  */ 01725000
*/*  R14          RETURN ADDRESS                                     */ 01726000
*/*  R15          WORK REG                                           */ 01727000
*/*                                                                  */ 01728000
*/********************************************************************/ 01729000
*                                                                  0449 01730000
*DOAROOT:                                                          0449 01731000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0449 01732000
DOAROOT  DS    0H                                                  0450 01733000
*   RFY                                                            0450 01734000
*    (R7,                                                          0450 01735000
*     R9) RSTD;                                                    0450 01736000
*   RFY                                                            0451 01737000
*     PCB BASED(R7);                /* CHANGE BASE FOR THIS ROUTINE  */ 01738000
*   PCBRCNT=PCBRCNT-1;              /* DECREMENT ROOT COUNT          */ 01739000
         L     @15,PCBRPTR-1(,R7)                                  0452 01740000
         LA    @15,0(,@15)                                         0452 01741000
         LH    @12,PCBRCNT(,@15)                                   0452 01742000
         BCTR  @12,0                                               0452 01743000
         STH   @12,PCBRCNT(,@15)                                   0452 01744000
*   IF PCBRCNT=0 THEN               /* IS ROOT COUNT ZERO            */ 01745000
         LTR   @12,@12                                             0453 01746000
         BNZ   @RF00453                                            0453 01747000
*     DO;                                                          0454 01748000
*       R1=PCBRTPA;                 /* ADDRESS OF ROOT FOR ROOT EXIT */ 01749000
         L     R1,PCBRTPA-1(,R7)                                   0455 01750000
         LA    R1,0(,R1)                                           0455 01751000
*       R2=ASCBRSM;                 /* GET PROPER RSMHD ADDR         */ 01752000
         L     @12,ASCBPTR(,R7)                                    0456 01753000
         L     R2,ASCBRSM(,@12)                                    0456 01754000
*       R9=R14;                     /* SAVE R14                      */ 01755000
         LR    R9,R14                                              0457 01756000
*       CALL ROOTEXIT;              /* CALL ROOT EXIT ROUTINE        */ 01757000
         L     @15,PCBRGOTO(,@15)                                  0458 01758000
         BALR  @14,@15                                             0458 01759000
*       R14=R9;                     /* RESTORE R14                   */ 01760000
         LR    R14,R9                                              0459 01761000
*       RCACSECT=RCACPOST;          /* RESET CSECT ID AFTER CALL TO     01762000
*                                      ROOT EXIT ROUTINE             */ 01763000
         MVI   RCACSECT(RCAPTR),X'13'                              0460 01764000
*     END;                                                         0461 01765000
*   RFY                                                            0462 01766000
*     PCB BASED(R4);                /* RESTORE BASE TO NORMAL        */ 01767000
*   RFY                                                            0463 01768000
*    (R7,                                                          0463 01769000
*     R9) UNRSTD;                                                  0463 01770000
*   END DOAROOT;                                                   0464 01771000
@EL00007 DS    0H                                                  0464 01772000
@EF00007 DS    0H                                                  0464 01773000
@ER00007 BR    @14                                                 0464 01774000
*                                                                  0465 01775000
*/********************************************************************/ 01776000
*/* PROCEDURE TO FREE A FRAME ON A FRAME QUEUE, SET PCB DEFINED      */ 01777000
*/* OFF.  PLACE THE FRAME ON THE FRONT OF THE AFQ.                   */ 01778000
*/*                                                                  */ 01779000
*/*                                                                  */ 01780000
*/* INPUT                                                            */ 01781000
*/*                                                                  */ 01782000
*/*  R0-R2               WORK REGISTERS                              */ 01783000
*/*  R3                  PVT ADDRESS                                 */ 01784000
*/*  R4                  ADDRESS OF A PCB                            */ 01785000
*/*  R5                  NOT USED                                    */ 01786000
*/*  R6                  PFTE ADDRESS                                */ 01787000
*/*  R7                  WORK REGISTER                               */ 01788000
*/*  R8                  RCA ADDRESS                                 */ 01789000
*/*  R9                  WORK REGISTER                               */ 01790000
*/*  R10                 BASE REGISTER                               */ 01791000
*/*  R11-R12             WORK REGISTER                               */ 01792000
*/*  R13                 ADDRESS OF MAINLINE SAVE AREA               */ 01793000
*/*  R14                 RETURN ADDRESS                              */ 01794000
*/*  R15                 WORK REGISTER                               */ 01795000
*/*                                                                  */ 01796000
*/********************************************************************/ 01797000
*                                                                  0465 01798000
*FREEFRA:                                                          0465 01799000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0465 01800000
FREEFRA  DS    0H                                                  0466 01801000
*   PFTPCBSI='0'B;                  /* PCB DEFINED OFF               */ 01802000
         NI    PFTPCBSI(PFTEPTR),B'11110111'                       0466 01803000
*   FRAMERBN=PCBRBN;                /* RBN OF FRAME TO FREE          */ 01804000
         LH    @15,PCBRBN(,R4)                                     0467 01805000
         N     @15,@CF01890                                        0467 01806000
         STH   @15,FRAMERBN(,R13)                                  0467 01807000
*   FLAGPFTE=FRONTFLG;              /* FRAME TO FRONT OF AFQ         */ 01808000
         MVI   FLAGPFTE(R13),X'80'                                 0468 01809000
*   TQID=PFTAFQN;                   /* FRAME TO AFQ                  */ 01810000
         MVI   TQID(R13),X'00'                                     0469 01811000
*   R0=WORK2;                       /* LOAD PARAMETERS INTO R0       */ 01812000
         L     R0,WORK2(,R13)                                      0470 01813000
*   R2=ASCBRSM;                     /* GET RSMHDR ADDRESS OF WHERE 0471 01814000
*                                      FRAME LIVES, NOT NECESSARY IF    01815000
*                                      FRAME IS ON COMMON Q          */ 01816000
         L     @15,ASCBPTR(,R4)                                    0471 01817000
         L     R2,ASCBRSM(,@15)                                    0471 01818000
*   RFY                                                            0472 01819000
*    (R11) RSTD;                                                   0472 01820000
*   R11=R14;                        /* SAVE RETURN ADDRESS           */ 01821000
         LR    R11,R14                                             0473 01822000
*   CALL IEAVPFTE;                  /* FREE THE FRAME                */ 01823000
         L     @15,PVTPFTE(,PVTPTR)                                0474 01824000
         BALR  @14,@15                                             0474 01825000
*   R14=R11;                        /* RESTORE RETURN ADDRESS        */ 01826000
         LR    R14,R11                                             0475 01827000
*   RFY                                                            0476 01828000
*    (R11) UNRSTD;                                                 0476 01829000
*   END FREEFRA;                                                   0477 01830000
@EL00008 DS    0H                                                  0477 01831000
@EF00008 DS    0H                                                  0477 01832000
@ER00008 BR    @14                                                 0477 01833000
*                                                                  0478 01834000
*/********************************************************************/ 01835000
*/*    ROUTINE TO CALL ABEND                                         */ 01836000
*/*                                                                  */ 01837000
*/*                                                                  */ 01838000
*/* INPUT                                                            */ 01839000
*/*                                                                  */ 01840000
*/*  R0            WORK                                              */ 01841000
*/*  R1            DESTROYED                                         */ 01842000
*/*  R2            NOT USED                                          */ 01843000
*/*  R3-R7         NOT USED                                          */ 01844000
*/*  R8            RCA ADDRESS                                       */ 01845000
*/*  R9            NOT USED                                          */ 01846000
*/*  R10           CODE REG                                          */ 01847000
*/*  R11-R12       NOT USED                                          */ 01848000
*/*  R13           ADDRESS OF MAINLINE SAVE AREA                     */ 01849000
*/*  R14           RETURN ADDRESS                                    */ 01850000
*/*  R15           NOT USED                                          */ 01851000
*/*                                                                  */ 01852000
*/********************************************************************/ 01853000
*                                                                  0478 01854000
*DOABEND:                                                          0478 01855000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0478 01856000
DOABEND  DS    0H                                                  0479 01857000
*   RCAPARM1=PCBPTR;                /* SAVE ADDRESS OF PCB/AIA IN  0479 01858000
*                                      ERROR                 @Z40WPYD*/ 01859000
         ST    PCBPTR,RCAPARM1(,RCAPTR)                            0479 01860000
*   GENERATE NODEFS SETS(R1) NOREFS NOFLOWS;                       0480 01861000
    ABEND X'C0D',,,SYSTEM                                               01862000
*   END DOABEND;                                                   0481 01863000
@EL00009 DS    0H                                                  0481 01864000
@EF00009 DS    0H                                                  0481 01865000
@ER00009 BR    @14                                                 0481 01866000
*                                                                  0482 01867000
*/********************************************************************/ 01868000
*/*                                                                  */ 01869000
*/*    ROUTINE TO SCHEDULE IEAVIOCP IN THE CORRECT ADDRESS SPACE     */ 01870000
*/*    AND WITH THE CORRECT REQUEST FOR THE LOCAL LOCK FOR THE       */ 01871000
*/*    INPUT PAGE IN PCB AND ANY PCB'S RELATED TO IT.                */ 01872000
*/*                                                                  */ 01873000
*/*                                                                  */ 01874000
*/* INPUT                                                            */ 01875000
*/*                                                                  */ 01876000
*/*  R0            WORK REG                                          */ 01877000
*/*  R1            ADDRESS OF A PCB WITH OR WITHOUT RELATEDS         */ 01878000
*/*                (R1 IS DESTROYED)                                 */ 01879000
*/*  R2            WORK REG                                          */ 01880000
*/*  R3            PVT ADDRESS                                       */ 01881000
*/*  R4            NOT USED                                          */ 01882000
*/*  R5            NOT USED                                          */ 01883000
*/*  R6            NOT USED                                          */ 01884000
*/*  R7            WORK REGISTER                                     */ 01885000
*/*  R8            RCA ADDRESS                                       */ 01886000
*/*  R9            WORK REGISTER                                     */ 01887000
*/*  R10           CODE REG                                          */ 01888000
*/*  R11-R12       WORK REGS                                         */ 01889000
*/*  R13           ADDRESS OF CALLERS SAVE AREA                      */ 01890000
*/*  R14           RETURN ADDRESS                                    */ 01891000
*/*  R15           WORK REG                                          */ 01892000
*/********************************************************************/ 01893000
*                                                                  0482 01894000
*PIOCPSCH:                                                         0482 01895000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0482 01896000
PIOCPSCH DS    0H                                                  0483 01897000
*   R2=R1->PCBASCB->ASCBRSM;        /* GET HEADER ADDRESS            */ 01898000
         L     @15,PCBASCB(,R1)                                    0483 01899000
         L     R2,ASCBRSM(,@15)                                    0483 01900000
*   IF RSMIOCPU='1'B&RSMIOCPC='1'B THEN/* IS IEAVIOCP ALREADY      0484 01901000
*                                      SCHEDULED BOTH TO REQUEST THE    01902000
*                                      LOCAL LOCK AND TO NOT REQUEST    01903000
*                                      THE LOCAL LOCK                */ 01904000
         TM    RSMIOCPU(RSMHDPTR),B'11000000'                      0484 01905000
         BO    @RT00484                                            0484 01906000
*     RETURN;                       /* RETURN TO THE CALLER          */ 01907000
*   RFY                                                            0486 01908000
*    (R7,                                                          0486 01909000
*     R12) RSTD;                                                   0486 01910000
*   R12=0;                          /* WHEN R12 IS ZERO NO REQ OF  0487 01911000
*                                      LOCAL LOCK BY IEAVIOCP IS   0487 01912000
*                                      DESIRED                       */ 01913000
         SLR   R12,R12                                             0487 01914000
*   R7=R1;                          /* INITIALIZE R7 FOR SCAN OF   0488 01915000
*                                      PCB'S                         */ 01916000
*                                                                  0488 01917000
         LR    R7,R1                                               0488 01918000
*   /*****************************************************************/ 01919000
*   /*                                                               */ 01920000
*   /* IF LL IS HELD, PCB MUST BE FOR A PAGE FAULT                   */ 01921000
*   /*                                                               */ 01922000
*   /*****************************************************************/ 01923000
*                                                                  0489 01924000
*CKLLHLD:                                                          0489 01925000
*   IF R7->PCBLLHLD='1'B THEN                                      0489 01926000
CKLLHLD  TM    PCBLLHLD(R7),B'00010000'                            0489 01927000
         BNO   @RF00489                                            0489 01928000
*     DO;                           /* IF ONE PCB HOLDS LL DO NOT  0490 01929000
*                                      REQUEST IT                    */ 01930000
*       IF RSMIOCPC='0'B THEN       /* IS IOCP SCHEDULED TO NOT REQ     01931000
*                                      LL                            */ 01932000
         TM    RSMIOCPC(RSMHDPTR),B'01000000'                      0491 01933000
         BNZ   @RF00491                                            0491 01934000
*         DO;                                                      0492 01935000
*           R12=0;                  /* SET TO NOT REQUEST LL         */ 01936000
         SLR   R12,R12                                             0493 01937000
*           GO TO SCHSRB;           /* GO SCHEDULE SRB               */ 01938000
         B     SCHSRB                                              0494 01939000
*         END;                                                     0495 01940000
*       ELSE                        /* IF LOCAL LOCK IS HELD AND IOCP   01941000
*                                      IS ALREADY SCHEDULED TO     0496 01942000
*                                      REQUEST THE LOCK RETURN TO THE   01943000
*                                      CALLER                        */ 01944000
*         RETURN;                   /* RETURN TO CALLER              */ 01945000
*     END;                                                         0497 01946000
*   ELSE                            /* LOCAL LOCK WAS NOT HELD       */ 01947000
*     DO;                                                          0498 01948000
*                                                                  0498 01949000
@RF00489 DS    0H                                                  0499 01950000
*       /*************************************************************/ 01951000
*       /*                                                           */ 01952000
*       /* IS THERE A ROOT. IF THERE IS, IT MUST BE EITHER A FIX/LOAD*/ 01953000
*       /* ROOT OR A SWAP IN ROOT. SWAP OUT PCB'S, WHICH ALSO HAVE   */ 01954000
*       /* THE ROOT FLAG ON, CAN NOT BE IN A RELATED POSITION.       */ 01955000
*       /* SCHEDULE AN UNCONDITIONAL REQUEST FOR THE LOCAL LOCK FOR A*/ 01956000
*       /* FIXED/LOAD ROOT.                                          */ 01957000
*       /*                                                           */ 01958000
*       /*************************************************************/ 01959000
*                                                                  0499 01960000
*       IF R7->PCBROOT='1'B&R7->PCBSWPS1='0'B THEN                 0499 01961000
         TM    PCBROOT(R7),B'00000100'                             0499 01962000
         BNO   @RF00499                                            0499 01963000
         TM    PCBSWPS1(R7),B'00100000'                            0499 01964000
         BNZ   @RF00499                                            0499 01965000
*         R12=1;                                                   0500 01966000
*                                                                  0500 01967000
         LA    R12,1                                               0500 01968000
*       /*************************************************************/ 01969000
*       /*                                                           */ 01970000
*       /* IF PCB IS FOR A PAGE FAULT WHICH IS NOT FOR AN SRB, IT    */ 01971000
*       /* MUST BE FOR A TCB                                         */ 01972000
*       /*                                                           */ 01973000
*       /*************************************************************/ 01974000
*                                                                  0501 01975000
*       ELSE                                                       0501 01976000
*         IF R7->PCBRESET='1'B&R7->PCBSRBMD='0'B THEN/* IS IT A PAGE    01977000
*                                      FAULT BY A TCB                */ 01978000
         B     @RC00499                                            0501 01979000
@RF00499 TM    PCBRESET(R7),B'00010000'                            0501 01980000
         BNO   @RF00501                                            0501 01981000
         TM    PCBSRBMD(R7),B'00100000'                            0501 01982000
         BNZ   @RF00501                                            0501 01983000
*           R12=1;                  /* AN UNCOND REQ OF THE LL IS  0502 01984000
*                                      DESIRED FOR UNLOCKED TCB      */ 01985000
         LA    R12,1                                               0502 01986000
*     END;                                                         0503 01987000
@RF00501 DS    0H                                                  0503 01988000
@RC00499 DS    0H                                                  0504 01989000
*   R7=R7->PCBRLPA;                 /* INITIALIZE LOOP VARIABLE      */ 01990000
         L     @15,PCBRLPA-1(,R7)                                  0504 01991000
         LA    @15,0(,@15)                                         0504 01992000
         LR    R7,@15                                              0504 01993000
*   DO WHILE(R7^=0);                                               0505 01994000
         B     @DE00505                                            0505 01995000
@DL00505 DS    0H                                                  0506 01996000
*     IF R1->PCBASCB=R7->PCBASCB THEN/* IS PCB FOR THIS ASCB         */ 01997000
         CLC   PCBASCB(4,R1),PCBASCB(R7)                           0506 01998000
         BE    @RT00506                                            0506 01999000
*       GO TO CKLLHLD;              /* SET TO NEXT RELATED           */ 02000000
*     R7=R7->PCBRLPA;               /* UPDATE LOOP VARIABLE          */ 02001000
         L     @15,PCBRLPA-1(,R7)                                  0508 02002000
         LA    @15,0(,@15)                                         0508 02003000
         LR    R7,@15                                              0508 02004000
*   END;                                                           0509 02005000
*                                                                  0509 02006000
@DE00505 LTR   R7,R7                                               0509 02007000
         BNZ   @DL00505                                            0509 02008000
*   /*****************************************************************/ 02009000
*   /*                                                               */ 02010000
*   /* ARRIVE HERE WHEN ALL RELATED PCB'S HAVE BEEN PROCESSED.       */ 02011000
*   /* DETERMINE HOW IEAVIOCP IS TO REQUEST THE LOCAL LOCK.          */ 02012000
*   /*                                                               */ 02013000
*   /*****************************************************************/ 02014000
*                                                                  0510 02015000
*ENRLT:                                                            0510 02016000
*   IF R12=0 THEN                                                  0510 02017000
ENRLT    LTR   R12,R12                                             0510 02018000
         BNZ   @RF00510                                            0510 02019000
*     DO;                                                          0511 02020000
*                                                                  0511 02021000
*       /*************************************************************/ 02022000
*       /*                                                           */ 02023000
*       /* IF IOCP IS ALREADY SCHED TO NOT REQ LL, RETURN            */ 02024000
*       /*                                                           */ 02025000
*       /*************************************************************/ 02026000
*                                                                  0512 02027000
*       IF RSMIOCPC='1'B THEN                                      0512 02028000
         TM    RSMIOCPC(RSMHDPTR),B'01000000'                      0512 02029000
         BO    @RT00512                                            0512 02030000
*         RETURN;                   /* RETURN TO CALLER              */ 02031000
*     END;                                                         0514 02032000
*   ELSE                                                           0515 02033000
*                                                                  0515 02034000
*     /***************************************************************/ 02035000
*     /*                                                             */ 02036000
*     /* IF IOCP IS ALREADY SCHED TO REQ LL UNCOND, RETURN           */ 02037000
*     /*                                                             */ 02038000
*     /***************************************************************/ 02039000
*                                                                  0515 02040000
*     IF RSMIOCPU='1'B THEN                                        0515 02041000
         B     @RC00510                                            0515 02042000
@RF00510 TM    RSMIOCPU(RSMHDPTR),B'10000000'                      0515 02043000
         BO    @RT00515                                            0515 02044000
*       RETURN;                     /* RETURN TO THE CALLER          */ 02045000
*                                                                  0516 02046000
*   /*****************************************************************/ 02047000
*   /*                                                               */ 02048000
*   /* ACQUIRE AN SRB AND INITIALIZE IT TO SCHEDULE IEAVIOCP         */ 02049000
*   /*                                                               */ 02050000
*   /*****************************************************************/ 02051000
*                                                                  0517 02052000
*SCHSRB:                                                           0517 02053000
*   R0=PVTSRBID;                    /* GET CELL POOL ID FOR GETCELL  */ 02054000
@RC00510 DS    0H                                                  0517 02055000
SCHSRB   L     R0,PVTSRBID(,PVTPTR)                                0517 02056000
*   R7=R13;                         /* SAVE R13 IN R7 OVER GETCELL   */ 02057000
         LR    R7,R13                                              0518 02058000
*   RFY                                                            0519 02059000
*    (R9,                                                          0519 02060000
*     R11,                                                         0519 02061000
*     R15) RSTD;                                                   0519 02062000
*   R11=R1->PCBASCB;                /* GET ASCB ADDR FOR SRB         */ 02063000
         L     R11,PCBASCB(,R1)                                    0520 02064000
*   R9=R14;                         /* SAVE R14 OVER GETCELL AND   0521 02065000
*                                      INITSRB RTN                   */ 02066000
         LR    R9,R14                                              0521 02067000
*   R13=ADDR(PVTSAVE);              /* GET ADDR OF SAVE AREA         */ 02068000
         LA    R13,PVTSAVE(,PVTPTR)                                0522 02069000
*   GENERATE REFS(CVTGETCL,R0,R13,CVTPTR) SETS(R1,R14,R15);        0523 02070000
      GETCELL CPID=(0),BRANCH=YES,SAVE=YES                              02071000
*   R13=R7;                         /* RESTORE R13                   */ 02072000
         LR    R13,R7                                              0524 02073000
*   RESPECIFY                                                      0525 02074000
*    (R7) UNRESTRICTED;             /*                       @Z30GNYC*/ 02075000
*   IF R15^=0 THEN                  /* DID GETCELL FAIL              */ 02076000
         SLR   @07,@07                                             0526 02077000
         CR    R15,@07                                             0526 02078000
         BE    @RF00526                                            0526 02079000
*     DO;                                                          0527 02080000
*       RESPECIFY                                                  0528 02081000
*        (R15) UNRESTRICTED;        /*                       @Z30GNYC*/ 02082000
*       IF R12^=0 THEN              /* SHOULD IEAVIOCP BE SCHED TO 0529 02083000
*                                      REQUEST THE LOCAL LOCK      0529 02084000
*                                                            @Z30GNYC*/ 02085000
         CR    R12,@07                                             0529 02086000
         BE    @RF00529                                            0529 02087000
*         RSMCPNU='1'B;             /* YES - INDICATE SO     @Z30GNYC*/ 02088000
         OI    RSMCPNU(RSMHDPTR),B'00010000'                       0530 02089000
*       ELSE                        /* NO                    @Z30GNYC*/ 02090000
*         RSMCPNC='1'B;             /* INDICT SCHED WITHOUT LL     0531 02091000
*                                                            @Z30GNYC*/ 02092000
         B     @RC00529                                            0531 02093000
@RF00529 OI    RSMCPNC(RSMHDPTR),B'00001000'                       0531 02094000
*       IF PVTSRBIU='0'B THEN       /* REPLENISH SRB IN USE  @Z30GNYC*/ 02095000
@RC00529 TM    PVTSRBIU(PVTPTR),B'00100000'                        0532 02096000
         BNZ   @RF00532                                            0532 02097000
*         DO;                       /* NO - SETUP FOR IEAVREP1     0533 02098000
*                                                            @Z30GNYC*/ 02099000
*                                                                  0533 02100000
*           /*********************************************************/ 02101000
*           /*                                                       */ 02102000
*           /* SET UP PARAMETERS FOR INITSRB                         */ 02103000
*           /*                                                       */ 02104000
*           /*********************************************************/ 02105000
*                                                                  0534 02106000
*           RESPECIFY                                              0534 02107000
*            (R0) RESTRICTED;                                      0534 02108000
*           PVTSRBIU='1'B;          /* INDICATE SRB IN USE   @Z30GNYC*/ 02109000
         OI    PVTSRBIU(PVTPTR),B'00100000'                        0535 02110000
*           SRBPTR=ADDR(PVTRSRB);   /* SET ADDRESS OF SRB    @Z30GNYC*/ 02111000
         LA    SRBPTR,PVTRSRB(,PVTPTR)                             0536 02112000
*           R11=CVTASVT->ASVTENTY(1);/* MASTER'S ADDR SPACE  @Z40WPYD*/ 02113000
         L     @15,CVTPTR                                          0537 02114000
         L     @15,CVTASVT(,@15)                                   0537 02115000
         L     R11,ASVTENTY(,@15)                                  0537 02116000
*           R0=ADDR(IEAVREP1);      /* ADDR OF SRB REPLNSH RTN     0538 02117000
*                                                            @Z30GNYC*/ 02118000
         L     R0,@CV01757                                         0538 02119000
         LR    @15,R0                                              0538 02120000
         LR    R0,@15                                              0538 02121000
*           CALL INITSRB;           /* INIT AND SCHED THE SRB      0539 02122000
*                                                            @Z30GNYC*/ 02123000
         BAL   @14,INITSRB                                         0539 02124000
*         END;                      /* END OF PARAMETER INIT @Z30GNYC*/ 02125000
*       ELSE                                                       0541 02126000
*         ;                         /* REPLENISH ALREADY SCHED     0541 02127000
*                                                            @Z30GNYC*/ 02128000
@RF00532 DS    0H                                                  0542 02129000
*       R14=R9;                     /* RESTORE RETURN ADDR   @Z30GNYC*/ 02130000
         LR    R14,R9                                              0542 02131000
*       RETURN;                     /* RETURN TO CALLER      @Z30GNYC*/ 02132000
@EL00010 DS    0H                                                  0543 02133000
@EF00010 DS    0H                                                  0543 02134000
@ER00010 BR    @14                                                 0543 02135000
*     END;                                                         0544 02136000
*   ELSE                                                           0545 02137000
*     ;                             /* GETCELL SUCCESSFUL    @Z30GNYC*/ 02138000
@RF00526 DS    0H                                                  0546 02139000
*/*   SETUP PARAMETERS FOR INITSRB                                   */ 02140000
*                                                                  0546 02141000
*   R0=PVTPIOCP;                    /* SET ADDR OF IEAVPIOP  @Z30GNYC*/ 02142000
         L     R0,PVTPIOCP(,PVTPTR)                                0546 02143000
*   CALL INITSRB;                   /* INIT AND SCHED THE SRB      0547 02144000
*                                                            @Z30GNYC*/ 02145000
         BAL   @14,INITSRB                                         0547 02146000
*/*   INDICATE HOW IEAVIOCP WAS SCHEDULED                            */ 02147000
*                                                                  0548 02148000
*   IF R12=0 THEN                                                  0548 02149000
         LTR   R12,R12                                             0548 02150000
         BNZ   @RF00548                                            0548 02151000
*     RSMIOCPC='1'B;                /* IOCP WAS SCHED NOT TO REQ LL  */ 02152000
         OI    RSMIOCPC(RSMHDPTR),B'01000000'                      0549 02153000
*   ELSE                                                           0550 02154000
*     RSMIOCPU='1'B;                /* IOCP WAS SCHED TO REQ LL      */ 02155000
         B     @RC00548                                            0550 02156000
@RF00548 OI    RSMIOCPU(RSMHDPTR),B'10000000'                      0550 02157000
*   R14=R9;                         /* RESTORE RETURN ADDRESS      0551 02158000
*                                                            @Z30GNYC*/ 02159000
@RC00548 LR    R14,R9                                              0551 02160000
*   RETURN;                         /* RETURN TO CALLER      @Z30GNYC*/ 02161000
         B     @EL00010                                            0552 02162000
*   END PIOCPSCH;                                                  0553 02163000
         B     @EL00010                                            0553 02164000
*   RFY                                                            0554 02165000
*    (R7,                                                          0554 02166000
*     R11,                                                         0554 02167000
*     R12) UNRSTD;                  /*                       @Z30GNYC*/ 02168000
*                                                                  0555 02169000
*/********************************************************************/ 02170000
*/* THE I/O ERROR RELATED PROCESSOR GETS CONTROL FROM EITHER THE     */ 02171000
*/* PINPROC OR STAG1PRC SUBROUTINES. THE FOLLOWING IS DONE TO THE    */ 02172000
*/* RELATED CHAIN OF A QUEUED PCB.                                   */ 02173000
*/*     1)  PCB'S WITHOUT RESET OR ROOT FLAGS SET ARE REMOVED FROM   */ 02174000
*/*         THE CHAIN AND FREED.                                     */ 02175000
*/*     2)  PCB'S FOR ZERO-TCB PGFIX REQUESTS ARE SORTED TO THE END  */ 02176000
*/*         OF THE RELATED CHAIN BECAUSE THEY MIGHT BE FOR A SWAPPED */ 02177000
*/*         OUT ADDRESS SPACE.                                       */ 02178000
*/*     3)  PCB'S WITH RESET OR ROOT FLAGS SET ARE LEFT AS RELATED.  */ 02179000
*/*                                                                  */ 02180000
*/* INPUT                                                            */ 02181000
*/*                                                                  */ 02182000
*/*  R0-R2         WORK REGISTERS                                    */ 02183000
*/*  R3            PVTADDR                                           */ 02184000
*/*  R4            ADDRESS OF A PCB                                  */ 02185000
*/*  R5-R6         IGNORED                                           */ 02186000
*/*  R7            WORK REGISTER - CURRENT RELATED PTR               */ 02187000
*/*  R8            RCA ADDRESS                                       */ 02188000
*/*  R9            WORK REGISTER - SAVE REG FOR ZERO-TCB PCBS        */ 02189000
*/*  R10           CODE REG                                          */ 02190000
*/*  R11           WORK REG                                          */ 02191000
*/*  R12           NOT USED                                          */ 02192000
*/*  R13           ADDRESS OF MAINLINE SAVE AREA                     */ 02193000
*/*  R14           RETURN ADDRESS                                    */ 02194000
*/*  R15           WORK REG                                          */ 02195000
*/*                                                                  */ 02196000
*/* OUTPUT                                                           */ 02197000
*/*                                                                  */ 02198000
*/*  R7            ADDR OF PCB PRECEDING FIRST ZERO-TCB PCB IN CHAIN */ 02199000
*/*                                                                  */ 02200000
*/********************************************************************/ 02201000
*                                                                  0555 02202000
*ERRLTDPR:                                                         0555 02203000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0555 02204000
ERRLTDPR DS    0H                                                  0556 02205000
*   RTNLEV2=R14;                    /* SAVE RETURN ADDRESS           */ 02206000
         ST    R14,RTNLEV2(,PVTPTR)                                0556 02207000
*   WORK2=R4;                       /* SAVE ADDR OF QUEUED PCB       */ 02208000
         ST    R4,WORK2(,R13)                                      0557 02209000
*   RESPECIFY                                                      0558 02210000
*    (R7,                                                          0558 02211000
*     R9) RESTRICTED;               /* THESE WILL BE WORK REGS       */ 02212000
*   R9=0;                           /* SET ZERO-TCB PCB PTR TO ZERO  */ 02213000
         SLR   R9,R9                                               0559 02214000
*   R7=PCBRLPA;                     /* GET ADDR OF FIRST RELATED     */ 02215000
         L     R7,PCBRLPA-1(,R4)                                   0560 02216000
         LA    R7,0(,R7)                                           0560 02217000
*   RESPECIFY                                                      0561 02218000
*     PCB BASED(R7);                /* NEW BASE REG FOR PCB          */ 02219000
*   DO WHILE R7^=0;                 /* EACH RELATED PCB WILL BE    0562 02220000
*                                      PROCESSED ONCE                */ 02221000
         B     @DE00562                                            0562 02222000
@DL00562 DS    0H                                                  0563 02223000
*     IF PCBRESET='0'B THEN         /* IS PCB FOR A PAGE FAULT       */ 02224000
         TM    PCBRESET(R7),B'00010000'                            0563 02225000
         BNZ   @RF00563                                            0563 02226000
*       DO;                                                        0564 02227000
*         IF PCBROOT='0'B THEN      /* DOES PCB HAVE A ROOT          */ 02228000
         TM    PCBROOT(R7),B'00000100'                             0565 02229000
         BNZ   @RF00565                                            0565 02230000
*           DO;                     /* IF NO NOTIFICATION IS       0566 02231000
*                                      REQUIRED, REMOVE PCB FROM   0566 02232000
*                                      CHAIN AND FREE                */ 02233000
*             R4->PCBRLPA=PCBRLPA;                                 0567 02234000
         MVC   PCBRLPA(3,R4),PCBRLPA(R7)                           0567 02235000
*             R1=R7;                                               0568 02236000
         LR    R1,R7                                               0568 02237000
*             R0=PCBFREQN;                                         0569 02238000
         LA    R0,16                                               0569 02239000
*             R2=ASCBRSM;           /* SET PROPER RSMHD ADDR         */ 02240000
         L     @15,ASCBPTR(,R7)                                    0570 02241000
         L     R2,ASCBRSM(,@15)                                    0570 02242000
*             CALL IEAVPCB;         /* SEND PCB TO FREE Q            */ 02243000
         L     @15,PVTPCB(,PVTPTR)                                 0571 02244000
         BALR  @14,@15                                             0571 02245000
*           END;                                                   0572 02246000
*                                                                  0572 02247000
*         /***********************************************************/ 02248000
*         /*                                                         */ 02249000
*         /* IF THE PCB HAS A ROOT, ALL OF THE FOLLOWING CONDITIONS  */ 02250000
*         /* ARE MET, THE PCB IS REMOVED FROM THE RELATED CHAIN AND  */ 02251000
*         /* SAVED UNTIL ALL RELATED PCBS HAVE BEEN PROCESSED. THIS  */ 02252000
*         /* TYPE OF PCB IS ONE FOR A COMMON AREA PAGE ASKED TO BE   */ 02253000
*         /* PGFIXED WITH A ZERO TCB ADDRESS. THEY ARE NOT QUIESCED  */ 02254000
*         /* BY SWAP-OUT, SO THEY ARE PUT ON THE END OF THE RELATED  */ 02255000
*         /* CHAIN SO THAT ANY OTHER ROUTINES WAITING ON THE FAILING */ 02256000
*         /* I/O MAY KNOW ABOUT THE FAILURE WITHOUT THE OTHER ADDRESS*/ 02257000
*         /* SPACE BEING SWAPPED IN                                  */ 02258000
*         /*                                                         */ 02259000
*         /***********************************************************/ 02260000
*                                                                  0573 02261000
*         ELSE                                                     0573 02262000
*           DO;                                                    0573 02263000
         B     @RC00565                                            0573 02264000
@RF00565 DS    0H                                                  0574 02265000
*             IF PCBSWPS1='0'B&PCBVBN>=PVTLCSA&PCBFXC^=0&PCBRTCBA=0     02266000
*               THEN                /* IS IT A ZERO TCB FIX PCB      */ 02267000
         TM    PCBSWPS1(R7),B'00100000'                            0574 02268000
         BNZ   @RF00574                                            0574 02269000
         CLC   PCBVBN(2,R7),PVTLCSA(PVTPTR)                        0574 02270000
         BL    @RF00574                                            0574 02271000
         CLI   PCBFXC(R7),0                                        0574 02272000
         BE    @RF00574                                            0574 02273000
         L     @15,PCBRPTR-1(,R7)                                  0574 02274000
         L     @15,PCBRTCBA-1(,@15)                                0574 02275000
         LA    @15,0(,@15)                                         0574 02276000
         LTR   @15,@15                                             0574 02277000
         BNZ   @RF00574                                            0574 02278000
*               DO;                                                0575 02279000
*                 R4->PCBRLPA=PCBRLPA;                             0576 02280000
         MVC   PCBRLPA(3,R4),PCBRLPA(R7)                           0576 02281000
*                 IF R9=0 THEN      /* IS QUEUE EMPTY                */ 02282000
         SLR   @15,@15                                             0577 02283000
         CR    R9,@15                                              0577 02284000
         BNE   @RF00577                                            0577 02285000
*                   DO;                                            0578 02286000
*                     R9=R7;        /* THIS IS FIRST SPECIAL PCB     */ 02287000
         LR    R9,R7                                               0579 02288000
*                     PCBRLPA=0;                                   0580 02289000
         STCM  @15,7,PCBRLPA(R7)                                   0580 02290000
*                   END;                                           0581 02291000
*                 ELSE              /* NOT THE FIRST PCB             */ 02292000
*                   DO;             /* ANOTHER SPECIAL PCB EXISTS, 0582 02293000
*                                      ADD NEW ONE TO RELATED CHAIN  */ 02294000
         B     @RC00577                                            0582 02295000
@RF00577 DS    0H                                                  0583 02296000
*                     PCBRLPA=R9->PCBRLPA;                         0583 02297000
         MVC   PCBRLPA(3,R7),PCBRLPA(R9)                           0583 02298000
*                     R9->PCBRLPA=R7;                              0584 02299000
         STCM  R7,7,PCBRLPA(R9)                                    0584 02300000
*                   END;                                           0585 02301000
*               END;                                               0586 02302000
*             ELSE                  /* NOT A SPECIAL PCB             */ 02303000
*               R4=R7;              /* PCB BEING KEPT, UPDATE BASE 0587 02304000
*                                      PCB ADDR TO THIS PCB ADDR     */ 02305000
         B     @RC00574                                            0587 02306000
@RF00574 LR    R4,R7                                               0587 02307000
*           END;                                                   0588 02308000
*       END;                        /* END RESET = 0 PROCESSING      */ 02309000
*     ELSE                          /* PCB IS FOR PAGE FAULT         */ 02310000
*       R4=R7;                      /* PCB BEING KEPT, UPDATE BASE 0590 02311000
*                                      PCB ADDR TO THIS PCB ADDR     */ 02312000
         B     @RC00563                                            0590 02313000
@RF00563 LR    R4,R7                                               0590 02314000
*     R7=R4->PCBRLPA;               /* GET ADDR OF NEXT PCB ON THE 0591 02315000
*                                      RELATED CHAIN                 */ 02316000
@RC00563 L     R7,PCBRLPA-1(,R4)                                   0591 02317000
         LA    R7,0(,R7)                                           0591 02318000
*   END;                            /* END DO WHILE                  */ 02319000
@DE00562 LTR   R7,R7                                               0592 02320000
         BNZ   @DL00562                                            0592 02321000
*   R4->PCBRLPA=R9;                 /* R4 POINTS TO LAST PCB ON THE     02322000
*                                      RELATED CHAIN OR THE QUEUED 0593 02323000
*                                      PCB. ADD ANY SPECIAL PCBS TO     02324000
*                                      THE RELATED CHAIN.            */ 02325000
         STCM  R9,7,PCBRLPA(R4)                                    0593 02326000
*   R7=R4;                          /* SAVE ADDR OF LAST NORMAL PCB  */ 02327000
         LR    R7,R4                                               0594 02328000
*   RESPECIFY                                                      0595 02329000
*    (R7,                                                          0595 02330000
*     R9) UNRESTRICTED;             /* WORK REGS NO LONGER NEEDED    */ 02331000
*   RESPECIFY                                                      0596 02332000
*     PCB BASED(R4);                /* R4 IS AGAIN PCB BASE REG      */ 02333000
*   R4=WORK2;                       /* RESTORE ADDR OF QUEUED PCB    */ 02334000
         L     R4,WORK2(,R13)                                      0597 02335000
*   R14=RTNLEV2;                    /* RESTORE RETURN ADDR           */ 02336000
         L     R14,RTNLEV2(,PVTPTR)                                0598 02337000
*   END ERRLTDPR;                   /* END INTERNAL PROCEDURE        */ 02338000
@EL00011 DS    0H                                                  0599 02339000
@EF00011 DS    0H                                                  0599 02340000
@ER00011 BR    @14                                                 0599 02341000
*INITSRB:                                                          0600 02342000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);/*                       @Z30GNYC*/ 02343000
INITSRB  DS    0H                                                  0601 02344000
*   RESPECIFY                                                      0601 02345000
*    (R1,                                                          0601 02346000
*     R0,                                                          0601 02347000
*     R11,                                                         0601 02348000
*     R12) RESTRICTED;              /*                       @Z30GNYC*/ 02349000
*/****************************************************************** */ 02350000
*/*                                                                  */ 02351000
*/*  SUBROUTINE - INITSRB                                            */ 02352000
*/*                                                                  */ 02353000
*/*  FUNCTION - INITIALIZE AND SCHEDULE AN SRB FOR CALLER            */ 02354000
*/*                                                                  */ 02355000
*/*  INPUT -    R1: ADDRESS OF THE SRB                               */ 02356000
*/*             R0: ENTRY POINT OF ROUTINE TO BE SCHEDULE'D          */ 02357000
*/*             R11: ADDRESS SPACE THE SRB SHOULD BE SCHEDULE'D TO   */ 02358000
*/*             R12: VALUE FOR SRBPARM                               */ 02359000
*/*                                                                  */ 02360000
*/*  OUTPUT -   SRB INITIALIZE AND SCHEDULE'D AS REQUESTED           */ 02361000
*/*                                                                  */ 02362000
*/********************************************************************/ 02363000
*                                                                  0602 02364000
*   SRB=SRB&&SRB;                   /* CLEAR SRB                     */ 02365000
         XC    SRB(44,SRBPTR),SRB(SRBPTR)                          0602 02366000
*   SRBASCB=R11;                    /* ADDRESS SPACE SRB IS TO RUN IN   02367000
*                                                            @Z30GNYC*/ 02368000
         ST    R11,SRBASCB(,SRBPTR)                                0603 02369000
*   SRBEP=R0;                       /* SRB ENTRY POINT       @Z30GNYC*/ 02370000
         ST    R0,SRBEP(,SRBPTR)                                   0604 02371000
*   SRBPASID=R11->ASCBASID;         /* GET ASID FOR SRB              */ 02372000
         LH    @15,ASCBASID(,R11)                                  0605 02373000
         N     @15,@CF01890                                        0605 02374000
         STH   @15,SRBPASID(,SRBPTR)                               0605 02375000
*   SRBID='SRB ';                   /* SET ID                        */ 02376000
         MVC   SRBID(4,SRBPTR),@CC01877                            0606 02377000
*   SRBPRIOR=4;                     /* SET PRIORITY                  */ 02378000
         MVI   SRBPRIOR(SRBPTR),X'04'                              0607 02379000
*   SRBPARM=R12;                    /* SET PARM, 0 FOR NO LL REQ, 1     02380000
*                                      FOR LL REQ UNCOND             */ 02381000
         ST    R12,SRBPARM(,SRBPTR)                                0608 02382000
*   SRBRMTR=PVTPSRBP;               /* PURGE ROUTINE ENTRY POINT     */ 02383000
*                                                                  0609 02384000
         L     @15,PVTPSRBP(,PVTPTR)                               0609 02385000
         ST    @15,SRBRMTR(,SRBPTR)                                0609 02386000
*   /*****************************************************************/ 02387000
*   /*                                                               */ 02388000
*   /* SCHEDULE SRB                                                  */ 02389000
*   /*                                                               */ 02390000
*   /*****************************************************************/ 02391000
*                                                                  0610 02392000
*   GENERATE NODEFS REFS(R1,CVTGSMQ,SRBFLNK) SETS(R0,R15) NOFLOWS; 0610 02393000
          SCHEDULE SRB=(1),SCOPE=LOCAL                                  02394000
*   RESPECIFY                                                      0611 02395000
*    (R11,                                                         0611 02396000
*     R12) UNRESTRICTED;            /*                       @Z30GNYC*/ 02397000
*   RETURN;                         /* RETURN TO CALLER      @Z30GNYC*/ 02398000
@EL00012 DS    0H                                                  0612 02399000
@EF00012 DS    0H                                                  0612 02400000
@ER00012 BR    @14                                                 0612 02401000
*   END INITSRB;                    /* END OF SUBROUTINE     @Z30GNYC*/ 02402000
*   END IEAVPIOP                    /* END THE EXTERNAL PROCEDURE    */ 02403000
*                                                                  0614 02404000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 02405000
*/*%INCLUDE SYSLIB  (ILRAIA  )                                       */ 02406000
*/*%INCLUDE SYSLIB  (IHAASCB )                                       */ 02407000
*/*%INCLUDE SYSLIB  (IHAFRRS )                                       */ 02408000
*/*%INCLUDE SYSLIB  (IHAPCB  )                                       */ 02409000
*/*%INCLUDE SYSLIB  (IHAPCBR )                                       */ 02410000
*/*%INCLUDE SYSLIB  (IHAPFTE )                                       */ 02411000
*/*%INCLUDE SYSLIB  (IHAPGTE )                                       */ 02412000
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */ 02413000
*/*%INCLUDE SYSLIB  (IHAPVT  )                                       */ 02414000
*/*%INCLUDE SYSLIB  (IHARCA  )                                       */ 02415000
*/*%INCLUDE SYSLIB  (IHAASVT )                                       */ 02416000
*/*%INCLUDE SYSLIB  (IHARSMHD)                                       */ 02417000
*/*%INCLUDE SYSLIB  (IHASRB  )                                       */ 02418000
*/*%INCLUDE SYSLIB  (IHAXPTE )                                       */ 02419000
*/*%INCLUDE SYSLIB  (CVT     )                                       */ 02420000
*                                                                  0614 02421000
*       ;                                                          0614 02422000
@DATA    DS    0H                                                       02423000
@DATD    DSECT                                                          02424000
         DS    0F                                                       02425000
IEAVPIOP CSECT                                                          02426000
         DS    0F                                                       02427000
@CF00032 DC    F'10'                                                    02428000
@CF01878 DC    F'36'                                                    02429000
@CF01725 DC    XL4'00000100'                                            02430000
@CF01890 DC    XL4'0000FFFF'                                            02431000
@DATD    DSECT                                                          02432000
         DS    0D                                                       02433000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                02434000
@ENDDATD EQU   *                                                        02435000
IEAVPIOP CSECT                                                          02436000
         DS    0F                                                       02437000
@SIZDATD DC    AL1(0)                                                   02438000
         DC    AL3(@ENDDATD-@DATD)                                      02439000
@CV01726 DC    V(IEAVINV)                                               02440000
@CV01757 DC    V(IEAVREP1)                                              02441000
         DS    0D                                                       02442000
@CC01877 DC    C'SRB '                                                  02443000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02444000
@01      EQU   01                                                       02445000
@02      EQU   02                                                       02446000
@03      EQU   03                                                       02447000
@04      EQU   04                                                       02448000
@05      EQU   05                                                       02449000
@06      EQU   06                                                       02450000
@07      EQU   07                                                       02451000
@08      EQU   08                                                       02452000
@09      EQU   09                                                       02453000
@10      EQU   10                                                       02454000
@11      EQU   11                                                       02455000
@12      EQU   12                                                       02456000
@13      EQU   13                                                       02457000
@14      EQU   14                                                       02458000
@15      EQU   15                                                       02459000
AIAPTR   EQU   @01                                                      02460000
PCBPTR   EQU   @04                                                      02461000
PFTEPTR  EQU   @06                                                      02462000
PVTPTR   EQU   @03                                                      02463000
RCAPTR   EQU   @08                                                      02464000
RSMHDPTR EQU   @02                                                      02465000
SRBPTR   EQU   @01                                                      02466000
R0       EQU   @00                                                      02467000
R1       EQU   @01                                                      02468000
R2       EQU   @02                                                      02469000
R3       EQU   @03                                                      02470000
R4       EQU   @04                                                      02471000
R5       EQU   @05                                                      02472000
R6       EQU   @06                                                      02473000
R7       EQU   @07                                                      02474000
R8       EQU   @08                                                      02475000
R9       EQU   @09                                                      02476000
R11      EQU   @11                                                      02477000
R12      EQU   @12                                                      02478000
R13      EQU   @13                                                      02479000
R14      EQU   @14                                                      02480000
R15      EQU   @15                                                      02481000
BASEREG  EQU   @10                                                      02482000
R10      EQU   @10                                                      02483000
PSA      EQU   0                                                        02484000
FLCRNPSW EQU   PSA                                                      02485000
FLCROPSW EQU   PSA+8                                                    02486000
FLCICCW2 EQU   PSA+16                                                   02487000
FLCCVT   EQU   FLCICCW2                                                 02488000
PSAEEPSW EQU   PSA+132                                                  02489000
PSAESPSW EQU   PSA+136                                                  02490000
FLCSVILC EQU   PSAESPSW+1                                               02491000
PSAEPPSW EQU   PSA+140                                                  02492000
FLCPIILC EQU   PSAEPPSW+1                                               02493000
FLCPICOD EQU   PSAEPPSW+2                                               02494000
PSAPICOD EQU   FLCPICOD+1                                               02495000
FLCTEA   EQU   PSAEPPSW+4                                               02496000
FLCPER   EQU   PSA+152                                                  02497000
FLCMCLA  EQU   PSA+168                                                  02498000
FLCIOEL  EQU   FLCMCLA+4                                                02499000
FLCIOA   EQU   FLCMCLA+16                                               02500000
FLCFSA   EQU   FLCMCLA+80                                               02501000
PSASUPER EQU   PSA+552                                                  02502000
PSASUP1  EQU   PSASUPER                                                 02503000
PSASUP2  EQU   PSASUPER+1                                               02504000
PSASUP3  EQU   PSASUPER+2                                               02505000
PSASUP4  EQU   PSASUPER+3                                               02506000
PSACLHT  EQU   PSA+640                                                  02507000
PSALKSA  EQU   PSA+696                                                  02508000
PSAHLHI  EQU   PSA+760                                                  02509000
PSADSSFL EQU   PSA+836                                                  02510000
PSADSSF1 EQU   PSADSSFL                                                 02511000
PSADSSF3 EQU   PSADSSFL+2                                               02512000
PSADSSF4 EQU   PSADSSFL+3                                               02513000
PSARSVT  EQU   PSA+896                                                  02514000
AIA      EQU   0                                                        02515000
AIAFLG1  EQU   AIA+9                                                    02516000
AIAWRITE EQU   AIAFLG1                                                  02517000
AIALSQA  EQU   AIAFLG1                                                  02518000
AIAFLG2  EQU   AIA+10                                                   02519000
AIATERMR EQU   AIAFLG2                                                  02520000
AIAPRIER EQU   AIAFLG2                                                  02521000
AIAERROR EQU   AIAFLG2                                                  02522000
AIABADID EQU   AIAFLG2                                                  02523000
AIAFLG3  EQU   AIA+11                                                   02524000
AIANXAIA EQU   AIA+12                                                   02525000
AIAID    EQU   AIA+16                                                   02526000
AIALPID  EQU   AIAID                                                    02527000
AIALGID  EQU   AIALPID                                                  02528000
AIALSID  EQU   AIALGID                                                  02529000
AIASSID  EQU   AIALSID+1                                                02530000
AIARPN   EQU   AIALPID+4                                                02531000
AIALSID2 EQU   AIARPN                                                   02532000
AIALPMEP EQU   AIALSID2                                                 02533000
AIAGRPSZ EQU   AIA+24                                                   02534000
AIALGE   EQU   AIAGRPSZ                                                 02535000
ASCB     EQU   0                                                        02536000
ASCBSUPC EQU   ASCB+16                                                  02537000
ASCBASID EQU   ASCB+36                                                  02538000
ASCBRSM  EQU   ASCB+52                                                  02539000
ASCBFW1  EQU   ASCB+100                                                 02540000
ASCBRCTF EQU   ASCBFW1+2                                                02541000
ASCBFLG1 EQU   ASCBFW1+3                                                02542000
ASCBDSP1 EQU   ASCB+114                                                 02543000
ASCBFLG2 EQU   ASCB+115                                                 02544000
ASCBLKGP EQU   ASCB+128                                                 02545000
ASCBSRQ  EQU   ASCB+180                                                 02546000
ASCBSRQ1 EQU   ASCBSRQ                                                  02547000
ASCBSRQ2 EQU   ASCBSRQ+1                                                02548000
ASCBSRQ3 EQU   ASCBSRQ+2                                                02549000
ASCBSRQ4 EQU   ASCBSRQ+3                                                02550000
FRRS     EQU   0                                                        02551000
FRRSHEAD EQU   FRRS                                                     02552000
FRRSEMP  EQU   FRRSHEAD                                                 02553000
FRRSLAST EQU   FRRSHEAD+4                                               02554000
FRRSELEN EQU   FRRSHEAD+8                                               02555000
FRRSCURR EQU   FRRSHEAD+12                                              02556000
FRRSENTR EQU   0                                                        02557000
FRRSFRRA EQU   FRRSENTR                                                 02558000
FRRSFLGS EQU   FRRSENTR+4                                               02559000
FRRSFLG1 EQU   FRRSFLGS                                                 02560000
FRRSPARM EQU   FRRSENTR+8                                               02561000
FRREPTR  EQU   0                                                        02562000
PCB      EQU   0                                                        02563000
PCBFQP   EQU   PCB                                                      02564000
PCBCQN   EQU   PCBFQP                                                   02565000
PCBFQPA  EQU   PCBFQP+1                                                 02566000
PCBBQP   EQU   PCB+4                                                    02567000
PCBBQPA  EQU   PCBBQP                                                   02568000
PCBRTP   EQU   PCB+8                                                    02569000
PCBFL1   EQU   PCBRTP                                                   02570000
PCBSRBMD EQU   PCBFL1                                                   02571000
PCBLLHLD EQU   PCBFL1                                                   02572000
PCBROOT  EQU   PCBFL1                                                   02573000
PCBIOI   EQU   PCBFL1                                                   02574000
PCBIOCMP EQU   PCBFL1                                                   02575000
PCBRTPA  EQU   PCBRTP+1                                                 02576000
PCBRLP   EQU   PCB+12                                                   02577000
PCBFXC   EQU   PCBRLP                                                   02578000
PCBRLPA  EQU   PCBRLP+1                                                 02579000
PCBXPT   EQU   PCB+16                                                   02580000
PCBFL2   EQU   PCBXPT                                                   02581000
PCBFREAL EQU   PCBFL2                                                   02582000
PCBIOERR EQU   PCBFL2                                                   02583000
PCBRESET EQU   PCBFL2                                                   02584000
PCBSUPRS EQU   PCBFL2                                                   02585000
PCBXPTA  EQU   PCBXPT+1                                                 02586000
PCBPGT   EQU   PCB+20                                                   02587000
PCBFL3   EQU   PCBPGT                                                   02588000
PCBSWPOT EQU   PCBFL3                                                   02589000
PCBSWPIN EQU   PCBFL3                                                   02590000
PCBSWPS1 EQU   PCBFL3                                                   02591000
PCBSWPLS EQU   PCBFL3                                                   02592000
PCBPGTA  EQU   PCBPGT+1                                                 02593000
PCBRBN   EQU   PCB+24                                                   02594000
PCBVBN   EQU   PCB+26                                                   02595000
PCBBLOCK EQU   PCB+28                                                   02596000
PCBSRB   EQU   PCBBLOCK                                                 02597000
PCBRB    EQU   PCBSRB                                                   02598000
PCBASCB  EQU   PCB+32                                                   02599000
PCBR     EQU   0                                                        02600000
PCBRTCB  EQU   PCBR                                                     02601000
PCBRFLAG EQU   PCBRTCB                                                  02602000
PCBRPB   EQU   PCBRFLAG                                                 02603000
PCBRFAIL EQU   PCBRFLAG                                                 02604000
PCBRTCBA EQU   PCBRTCB+1                                                02605000
PCBRGOTO EQU   PCBR+4                                                   02606000
PCBRCNT  EQU   PCBR+16                                                  02607000
PCBRWRK1 EQU   PCBR+20                                                  02608000
PCBRWRK2 EQU   PCBR+24                                                  02609000
PFTE     EQU   0                                                        02610000
PFTPGID  EQU   PFTE                                                     02611000
PFTQPTRS EQU   PFTE+4                                                   02612000
PFTFLAG1 EQU   PFTE+12                                                  02613000
PFTPCBSI EQU   PFTFLAG1                                                 02614000
PFTFLAG2 EQU   PFTE+13                                                  02615000
PFTIRRG  EQU   PFTFLAG2                                                 02616000
PGTPTE   EQU   0                                                        02617000
PGTRSA   EQU   PGTPTE                                                   02618000
PGTBITS  EQU   PGTRSA+1                                                 02619000
PGTPVM   EQU   PGTBITS                                                  02620000
PVT      EQU   0                                                        02621000
PVTFLAG1 EQU   PVT                                                      02622000
PVTSRBIU EQU   PVTFLAG1                                                 02623000
PVTPFTP  EQU   PVT+12                                                   02624000
PVTLCSA  EQU   PVT+26                                                   02625000
PVTPRCA  EQU   PVT+52                                                   02626000
PVTSRBID EQU   PVT+68                                                   02627000
PVTPIOCP EQU   PVT+96                                                   02628000
PVTPCB   EQU   PVT+104                                                  02629000
PVTPFTE  EQU   PVT+108                                                  02630000
PVTPRCV  EQU   PVT+156                                                  02631000
PVTPSRBP EQU   PVT+188                                                  02632000
PVTQS    EQU   PVT+304                                                  02633000
PVTWSAX  EQU   PVT+344                                                  02634000
PVTWSA9  EQU   PVTWSAX+592                                              02635000
PVTWSA10 EQU   PVTWSAX+672                                              02636000
PVTSAVE  EQU   PVTWSAX+1328                                             02637000
PVTRSRB  EQU   PVT+1776                                                 02638000
RCA      EQU   0                                                        02639000
RCAPARM1 EQU   RCA+4                                                    02640000
RCACSECT EQU   RCA+9                                                    02641000
RCAFLAGS EQU   RCA+10                                                   02642000
RCARCRD  EQU   RCA+11                                                   02643000
RCANAMES EQU   RCA+12                                                   02644000
RCANAME1 EQU   RCANAMES                                                 02645000
RCANAME2 EQU   RCANAMES+1                                               02646000
RCAPIOP  EQU   RCANAME2                                                 02647000
RCANAME3 EQU   RCANAMES+2                                               02648000
RCANAME4 EQU   RCANAMES+3                                               02649000
RCANAME5 EQU   RCANAMES+4                                               02650000
RCAOPBR  EQU   RCANAME5                                                 02651000
RCANAME6 EQU   RCANAMES+5                                               02652000
RCARETAD EQU   RCA+20                                                   02653000
ASVT     EQU   0                                                        02654000
ASVTFRST EQU   ASVT+524                                                 02655000
ASVTENTY EQU   ASVT+528                                                 02656000
ASVTPTR  EQU   0                                                        02657000
RSMHD    EQU   0                                                        02658000
RSMFLG1  EQU   RSMHD+12                                                 02659000
RSMIOCPU EQU   RSMFLG1                                                  02660000
RSMIOCPC EQU   RSMFLG1                                                  02661000
RSMCPNU  EQU   RSMFLG1                                                  02662000
RSMCPNC  EQU   RSMFLG1                                                  02663000
RSMFAIL  EQU   RSMFLG1                                                  02664000
RSMQS    EQU   RSMHD+20                                                 02665000
RSMLFQ   EQU   RSMQS                                                    02666000
RSMLSQA  EQU   RSMQS+4                                                  02667000
RSMLIOQ  EQU   RSMQS+8                                                  02668000
SRBSECT  EQU   0                                                        02669000
SRB      EQU   SRBSECT                                                  02670000
SRBID    EQU   SRB                                                      02671000
SRBFLNK  EQU   SRB+4                                                    02672000
SRBASCB  EQU   SRB+8                                                    02673000
SRBFLC   EQU   SRB+12                                                   02674000
SRBPASID EQU   SRBFLC+2                                                 02675000
SRBEP    EQU   SRB+20                                                   02676000
SRBRMTR  EQU   SRB+24                                                   02677000
SRBPARM  EQU   SRB+28                                                   02678000
SRBPRIOR EQU   SRB+37                                                   02679000
XPTE     EQU   0                                                        02680000
XPTPROT  EQU   XPTE                                                     02681000
XPTFLAGS EQU   XPTE+2                                                   02682000
XPTFLAG2 EQU   XPTE+3                                                   02683000
XPTLPID  EQU   XPTE+4                                                   02684000
XPTLGN   EQU   XPTLPID                                                  02685000
XPTLPN   EQU   XPTLPID+4                                                02686000
CVTMAP   EQU   0                                                        02687000
CVTDAR   EQU   CVTMAP+72                                                02688000
CVTFLGS1 EQU   CVTDAR                                                   02689000
CVTDCB   EQU   CVTMAP+116                                               02690000
CVTIERLC EQU   CVTMAP+144                                               02691000
CVTOPTA  EQU   CVTMAP+182                                               02692000
CVTOPTB  EQU   CVTMAP+183                                               02693000
CVTGTF   EQU   CVTMAP+236                                               02694000
CVTGTFST EQU   CVTGTF                                                   02695000
CVTGTFS  EQU   CVTGTFST                                                 02696000
CVTSTATE EQU   CVTGTFST                                                 02697000
CVTTMODE EQU   CVTGTFST                                                 02698000
CVTFORM  EQU   CVTGTFST                                                 02699000
CVTAQAVT EQU   CVTMAP+240                                               02700000
CVTTCMFG EQU   CVTAQAVT                                                 02701000
CVTVOLM2 EQU   CVTMAP+244                                               02702000
CVTTATA  EQU   CVTVOLM2                                                 02703000
CVTTSKS  EQU   CVTTATA                                                  02704000
CVTVOLF2 EQU   CVTTSKS                                                  02705000
CVTTAT   EQU   CVTTATA+1                                                02706000
CVTATER  EQU   CVTMAP+248                                               02707000
CVTEXT1  EQU   CVTMAP+252                                               02708000
CVTPURG  EQU   CVTMAP+260                                               02709000
CVTQMSG  EQU   CVTMAP+268                                               02710000
CVTDMSR  EQU   CVTMAP+272                                               02711000
CVTRSV37 EQU   CVTDMSR                                                  02712000
CVTDMSRF EQU   CVTRSV37                                                 02713000
CVTERPV  EQU   CVTMAP+316                                               02714000
CVTINTLA EQU   CVTMAP+320                                               02715000
CVTAPF   EQU   CVTMAP+324                                               02716000
CVTEXT2  EQU   CVTMAP+328                                               02717000
CVTHJES  EQU   CVTMAP+332                                               02718000
CVTPGSIA EQU   CVTMAP+348                                               02719000
CVTA1F1  EQU   CVTMAP+356                                               02720000
CVTSYSK  EQU   CVTMAP+357                                               02721000
CVTVOLM1 EQU   CVTMAP+380                                               02722000
CVTVOLF1 EQU   CVTVOLM1                                                 02723000
CVTATMCT EQU   CVTMAP+388                                               02724000
CVTXTNT1 EQU   0                                                        02725000
CVTXTNT2 EQU   0                                                        02726000
CVTDSSV  EQU   CVTXTNT2                                                 02727000
CVTFLGBT EQU   CVTXTNT2+5                                               02728000
CVTQID   EQU   CVTXTNT2+24                                              02729000
CVTRV400 EQU   CVTXTNT2+52                                              02730000
CVTRV409 EQU   CVTXTNT2+53                                              02731000
CVTATCVT EQU   CVTXTNT2+64                                              02732000
CVTRV429 EQU   CVTXTNT2+84                                              02733000
CVTRV438 EQU   CVTXTNT2+85                                              02734000
CVTRV457 EQU   CVTXTNT2+112                                             02735000
CVTRV466 EQU   CVTXTNT2+113                                             02736000
CVTFIX   EQU   0                                                        02737000
CVTRELNO EQU   CVTFIX+252                                               02738000
IEAVPCB  EQU   0                                                        02739000
IEAVPFTE EQU   0                                                        02740000
ROOTEXIT EQU   0                                                        02741000
REGSAVER EQU   0                                                        02742000
WORK2    EQU   REGSAVER                                                 02743000
FLGATQID EQU   WORK2                                                    02744000
FLAGPFTE EQU   FLGATQID                                                 02745000
TQID     EQU   FLGATQID+1                                               02746000
FRAMERBN EQU   WORK2+2                                                  02747000
NXTAIAAD EQU   REGSAVER+68                                              02748000
CURRTAIA EQU   REGSAVER+72                                              02749000
PGTEND   EQU   0                                                        02750000
ASCBPTR  EQU   PCBASCB                                                  02751000
PSARSVTE EQU   PSARSVT                                                  02752000
PSACSTK  EQU   PSARSVTE                                                 02753000
FRRSPTR  EQU   PSACSTK                                                  02754000
PCBRPTR  EQU   PCBRTPA                                                  02755000
PTEPTR   EQU   PCBPGTA                                                  02756000
XPTEPTR  EQU   PCBXPTA                                                  02757000
CVTPTR   EQU   FLCCVT                                                   02758000
CVTS01   EQU   CVTPGSIA                                                 02759000
CVTPVTP  EQU   CVTS01+8                                                 02760000
CVTLPDIA EQU   CVTS01+12                                                02761000
CVTDIRST EQU   CVTLPDIA                                                 02762000
CVTSLIDA EQU   CVTS01+24                                                02763000
CVTCTLFG EQU   CVTS01+50                                                02764000
CVTGETCL EQU   CVTS01+144                                               02765000
CVTASVT  EQU   CVTS01+208                                               02766000
CVTGSMQ  EQU   CVTS01+264                                               02767000
CVTRV210 EQU   CVTS01+424                                               02768000
CVTRV219 EQU   CVTS01+425                                               02769000
CVTRV228 EQU   CVTS01+426                                               02770000
CVTRV237 EQU   CVTS01+427                                               02771000
CVTMFRTR EQU   CVTS01+452                                               02772000
CVTRV262 EQU   CVTS01+468                                               02773000
CVTRV271 EQU   CVTS01+469                                               02774000
CVTRV280 EQU   CVTS01+470                                               02775000
CVTRV289 EQU   CVTS01+471                                               02776000
CVTGSDA  EQU   CVTS01+600                                               02777000
RTNLEV1  EQU   PVTWSA9+72                                               02778000
RTNLEV2  EQU   PVTWSA9+76                                               02779000
FLC      EQU   PSA                                                      02780000
*                                      START UNREFERENCED COMPONENTS    02781000
CVTRV628 EQU   CVTS01+728                                               02782000
CVTRV627 EQU   CVTS01+724                                               02783000
CVTRV626 EQU   CVTS01+720                                               02784000
CVTRV625 EQU   CVTS01+716                                               02785000
CVTRV624 EQU   CVTS01+712                                               02786000
CVTRV623 EQU   CVTS01+708                                               02787000
CVTRV622 EQU   CVTS01+704                                               02788000
CVTRV621 EQU   CVTS01+700                                               02789000
CVTIHASU EQU   CVTS01+696                                               02790000
CVTSUSP  EQU   CVTS01+692                                               02791000
CVTT6SVC EQU   CVTS01+688                                               02792000
CVTCDAL  EQU   CVTS01+684                                               02793000
CVTTCTL  EQU   CVTS01+680                                               02794000
CVTRSUME EQU   CVTS01+676                                               02795000
CVTJTERM EQU   CVTS01+672                                               02796000
CVTASMRM EQU   CVTS01+668                                               02797000
CVTTCASP EQU   CVTS01+664                                               02798000
CVT0PT03 EQU   CVTS01+660                                               02799000
CVT0PT0E EQU   CVTS01+656                                               02800000
CVTRV609 EQU   CVTS01+652                                               02801000
CVTCGK   EQU   CVTS01+648                                               02802000
CVTRAC   EQU   CVTS01+644                                               02803000
CVTRV606 EQU   CVTS01+640                                               02804000
CVTRV605 EQU   CVTS01+636                                               02805000
CVTRV604 EQU   CVTS01+632                                               02806000
CVTEFF02 EQU   CVTS01+628                                               02807000
CVTCBBR  EQU   CVTS01+624                                               02808000
CVTSSCR  EQU   CVTS01+620                                               02809000
CVTEVENT EQU   CVTS01+616                                               02810000
CVTCRCA  EQU   CVTS01+612                                               02811000
CVTTPIO  EQU   CVTS01+608                                               02812000
CVTADV   EQU   CVTS01+604                                               02813000
CVTGSDAB EQU   CVTGSDA                                                  02814000
CVTQV3   EQU   CVTS01+596                                               02815000
CVTQV2   EQU   CVTS01+592                                               02816000
CVTQV1   EQU   CVTS01+588                                               02817000
CVTRPT   EQU   CVTS01+584                                               02818000
CVTSSRB  EQU   CVTS01+580                                               02819000
CVTCSDRL EQU   CVTS01+576                                               02820000
CVTEXP1  EQU   CVTS01+572                                               02821000
CVTRMPMT EQU   CVTS01+568                                               02822000
CVTRMPTT EQU   CVTS01+564                                               02823000
CVTVPSA  EQU   CVTS01+560                                               02824000
CVTVSTOP EQU   CVTS01+556                                               02825000
CVTGTFR8 EQU   CVTS01+552                                               02826000
CVTQUIT  EQU   CVTS01+548                                               02827000
CVTVACR  EQU   CVTS01+544                                               02828000
CVTWTCB  EQU   CVTS01+540                                               02829000
CVTSTPRS EQU   CVTS01+536                                               02830000
CVT0PT02 EQU   CVTS01+532                                               02831000
CVTDARCM EQU   CVTS01+528                                               02832000
CVTIRECM EQU   CVTS01+524                                               02833000
CVTJRECM EQU   CVTS01+520                                               02834000
CVTVEMS0 EQU   CVTS01+516                                               02835000
CVTSPFRR EQU   CVTS01+512                                               02836000
CVTRLSTG EQU   CVTS01+508                                               02837000
CVT0TC0A EQU   CVTS01+504                                               02838000
CVTGMBR  EQU   CVTS01+500                                               02839000
CVTLFRM  EQU   CVTS01+496                                               02840000
CVTRMBR  EQU   CVTS01+492                                               02841000
CVTVIOP  EQU   CVTS01+488                                               02842000
CVTRV307 EQU   CVTS01+486                                               02843000
CVTRV306 EQU   CVTS01+484                                               02844000
CVTRV305 EQU   CVTS01+482                                               02845000
CVTRV304 EQU   CVTS01+480                                               02846000
CVTRV303 EQU   CVTS01+478                                               02847000
CVTRV302 EQU   CVTS01+476                                               02848000
CVTTRCA  EQU   CVTS01+472                                               02849000
CVTRV297 EQU   CVTRV289                                                 02850000
CVTRV296 EQU   CVTRV289                                                 02851000
CVTRV295 EQU   CVTRV289                                                 02852000
CVTRV294 EQU   CVTRV289                                                 02853000
CVTRV293 EQU   CVTRV289                                                 02854000
CVTRV292 EQU   CVTRV289                                                 02855000
CVTRV291 EQU   CVTRV289                                                 02856000
CVTRV290 EQU   CVTRV289                                                 02857000
CVTRV288 EQU   CVTRV280                                                 02858000
CVTRV287 EQU   CVTRV280                                                 02859000
CVTRV286 EQU   CVTRV280                                                 02860000
CVTRV285 EQU   CVTRV280                                                 02861000
CVTRV284 EQU   CVTRV280                                                 02862000
CVTRV283 EQU   CVTRV280                                                 02863000
CVTRV282 EQU   CVTRV280                                                 02864000
CVTRV281 EQU   CVTRV280                                                 02865000
CVTRV279 EQU   CVTRV271                                                 02866000
CVTRV278 EQU   CVTRV271                                                 02867000
CVTRV277 EQU   CVTRV271                                                 02868000
CVTRV276 EQU   CVTRV271                                                 02869000
CVTRV275 EQU   CVTRV271                                                 02870000
CVTRV274 EQU   CVTRV271                                                 02871000
CVTRV273 EQU   CVTRV271                                                 02872000
CVTRV272 EQU   CVTRV271                                                 02873000
CVTRV270 EQU   CVTRV262                                                 02874000
CVTRV269 EQU   CVTRV262                                                 02875000
CVTRV268 EQU   CVTRV262                                                 02876000
CVTRV267 EQU   CVTRV262                                                 02877000
CVTRV266 EQU   CVTRV262                                                 02878000
CVTRV265 EQU   CVTRV262                                                 02879000
CVTRV264 EQU   CVTRV262                                                 02880000
CVTRV263 EQU   CVTRV262                                                 02881000
CVTVFP   EQU   CVTS01+464                                               02882000
CVTVSI   EQU   CVTS01+460                                               02883000
CVTVPSIB EQU   CVTS01+456                                               02884000
CVTMFACT EQU   CVTMFRTR                                                 02885000
CVTMFCTL EQU   CVTS01+448                                               02886000
CVTPVBP  EQU   CVTS01+444                                               02887000
CVTPWI   EQU   CVTS01+440                                               02888000
CVTRV254 EQU   CVTS01+438                                               02889000
CVTRV253 EQU   CVTS01+436                                               02890000
CVTRV252 EQU   CVTS01+434                                               02891000
CVTRV251 EQU   CVTS01+433                                               02892000
CVTRV250 EQU   CVTS01+432                                               02893000
CVTRV249 EQU   CVTS01+431                                               02894000
CVTRV248 EQU   CVTS01+430                                               02895000
CVTRV247 EQU   CVTS01+429                                               02896000
CVTRV246 EQU   CVTS01+428                                               02897000
CVTRV245 EQU   CVTRV237                                                 02898000
CVTRV244 EQU   CVTRV237                                                 02899000
CVTRV243 EQU   CVTRV237                                                 02900000
CVTRV242 EQU   CVTRV237                                                 02901000
CVTRV241 EQU   CVTRV237                                                 02902000
CVTRV240 EQU   CVTRV237                                                 02903000
CVTRV239 EQU   CVTRV237                                                 02904000
CVTRV238 EQU   CVTRV237                                                 02905000
CVTRV236 EQU   CVTRV228                                                 02906000
CVTRV235 EQU   CVTRV228                                                 02907000
CVTRV234 EQU   CVTRV228                                                 02908000
CVTRV233 EQU   CVTRV228                                                 02909000
CVTRV232 EQU   CVTRV228                                                 02910000
CVTRV231 EQU   CVTRV228                                                 02911000
CVTRV230 EQU   CVTRV228                                                 02912000
CVTRV229 EQU   CVTRV228                                                 02913000
CVTRV227 EQU   CVTRV219                                                 02914000
CVTRV226 EQU   CVTRV219                                                 02915000
CVTRV225 EQU   CVTRV219                                                 02916000
CVTRV224 EQU   CVTRV219                                                 02917000
CVTRV223 EQU   CVTRV219                                                 02918000
CVTRV222 EQU   CVTRV219                                                 02919000
CVTRV221 EQU   CVTRV219                                                 02920000
CVTRV220 EQU   CVTRV219                                                 02921000
CVTRV218 EQU   CVTRV210                                                 02922000
CVTRV217 EQU   CVTRV210                                                 02923000
CVTRV216 EQU   CVTRV210                                                 02924000
CVTRV215 EQU   CVTRV210                                                 02925000
CVTRV214 EQU   CVTRV210                                                 02926000
CVTRV213 EQU   CVTRV210                                                 02927000
CVTRV212 EQU   CVTRV210                                                 02928000
CVTRV211 EQU   CVTRV210                                                 02929000
CVTLCCAT EQU   CVTS01+420                                               02930000
CVTPCCAT EQU   CVTS01+416                                               02931000
CVTIPCRP EQU   CVTS01+412                                               02932000
CVTIPCRI EQU   CVTS01+408                                               02933000
CVTIPCDS EQU   CVTS01+404                                               02934000
CVTAIDVT EQU   CVTS01+400                                               02935000
CVTSSAP  EQU   CVTS01+396                                               02936000
CVTEHCIR EQU   CVTS01+392                                               02937000
CVTEHDEF EQU   CVTS01+388                                               02938000
CVTDAIR  EQU   CVTS01+384                                               02939000
CVTPERFM EQU   CVTS01+380                                               02940000
CVT044R2 EQU   CVTS01+376                                               02941000
CVTFETCH EQU   CVTS01+372                                               02942000
CVTRSTWD EQU   CVTS01+368                                               02943000
CVTSPOST EQU   CVTS01+364                                               02944000
CVTIOBP  EQU   CVTS01+360                                               02945000
CVTASMVT EQU   CVTS01+356                                               02946000
CVTRECRQ EQU   CVTS01+352                                               02947000
CVTWSAC  EQU   CVTS01+348                                               02948000
CVTRV149 EQU   CVTS01+344                                               02949000
CVTWSAL  EQU   CVTS01+340                                               02950000
CVTSPSA  EQU   CVTS01+336                                               02951000
CVTGLMN  EQU   CVTS01+332                                               02952000
CVTVEAC0 EQU   CVTS01+328                                               02953000
CVT062R1 EQU   CVTS01+324                                               02954000
CVTRPOST EQU   CVTS01+320                                               02955000
CVTDQIQE EQU   CVTS01+316                                               02956000
CVTCSD   EQU   CVTS01+312                                               02957000
CVTLKRMA EQU   CVTS01+308                                               02958000
CVTRSPIE EQU   CVTS01+304                                               02959000
CVTRENQ  EQU   CVTS01+300                                               02960000
CVTLQCB  EQU   CVTS01+296                                               02961000
CVTFQCB  EQU   CVTS01+292                                               02962000
CVTQCS01 EQU   CVTS01+288                                               02963000
CVTAPFT  EQU   CVTS01+284                                               02964000
CVTPARRL EQU   CVTS01+280                                               02965000
CVTVWAIT EQU   CVTS01+276                                               02966000
CVTGSPL  EQU   CVTS01+272                                               02967000
CVTLSMQ  EQU   CVTS01+268                                               02968000
CVTEXPRO EQU   CVTS01+260                                               02969000
CVTOPCTP EQU   CVTS01+256                                               02970000
CVTSIC   EQU   CVTS01+252                                               02971000
CVTTPIOS EQU   CVTS01+248                                               02972000
CVTRTMS  EQU   CVTS01+244                                               02973000
CVTSDBF  EQU   CVTS01+240                                               02974000
CVTSCBP  EQU   CVTS01+236                                               02975000
CVTSDMP  EQU   CVTS01+232                                               02976000
CVTSV60  EQU   CVTS01+228                                               02977000
CVTRTMCT EQU   CVTS01+224                                               02978000
CVTASCBL EQU   CVTS01+220                                               02979000
CVTASCBH EQU   CVTS01+216                                               02980000
CVTGDA   EQU   CVTS01+212                                               02981000
CVTVVMDI EQU   CVTS01+204                                               02982000
CVTAQTOP EQU   CVTS01+200                                               02983000
CVTIOSCS EQU   CVTS01+196                                               02984000
CVTSDRM  EQU   CVTS01+192                                               02985000
CVTOPTE  EQU   CVTS01+188                                               02986000
CVTSTXU  EQU   CVTS01+184                                               02987000
CVTQUIS  EQU   CVTS01+180                                               02988000
CVTPARS  EQU   CVTS01+176                                               02989000
CVTS1EE  EQU   CVTS01+172                                               02990000
CVTFRAS  EQU   CVTS01+168                                               02991000
CVTQSAS  EQU   CVTS01+164                                               02992000
CVTCRAS  EQU   CVTS01+160                                               02993000
CVTCRMN  EQU   CVTS01+156                                               02994000
CVTDELCP EQU   CVTS01+152                                               02995000
CVTFRECL EQU   CVTS01+148                                               02996000
CVTBLDCP EQU   CVTS01+140                                               02997000
CVTAUTHL EQU   CVTS01+136                                               02998000
CVTSCAN  EQU   CVTS01+132                                               02999000
CVTRV144 EQU   CVTS01+130                                               03000000
CVTMAXMP EQU   CVTS01+128                                               03001000
CVTSTCK  EQU   CVTS01+124                                               03002000
CVTRV139 EQU   CVTS01+123                                               03003000
CVTDSSAC EQU   CVTS01+122                                               03004000
CVTRV513 EQU   CVTS01+121                                               03005000
CVTIOSPL EQU   CVTS01+120                                               03006000
CVTPTGT  EQU   CVTS01+116                                               03007000
CVTCSPIE EQU   CVTS01+112                                               03008000
CVTSMFEX EQU   CVTS01+108                                               03009000
CVTOLT0A EQU   CVTS01+104                                               03010000
CVTSRBRT EQU   CVTS01+100                                               03011000
CVTPUTL  EQU   CVTS01+96                                                03012000
CVTASCRL EQU   CVTS01+92                                                03013000
CVTASCRF EQU   CVTS01+88                                                03014000
CVTRV326 EQU   CVTS01+84                                                03015000
CVTRV325 EQU   CVTS01+80                                                03016000
CVTRV324 EQU   CVTS01+76                                                03017000
CVT0VL01 EQU   CVTS01+72                                                03018000
CVTSHRVM EQU   CVTS01+68                                                03019000
CVTRV332 EQU   CVTS01+64                                                03020000
CVTTAS   EQU   CVTS01+60                                                03021000
CVTRSCN  EQU   CVTS01+56                                                03022000
CVTTRAC2 EQU   CVTS01+54                                                03023000
CVTTRACE EQU   CVTS01+52                                                03024000
CVTAPG   EQU   CVTS01+51                                                03025000
CVTSDTRC EQU   CVTCTLFG                                                 03026000
CVTGTRCE EQU   CVTCTLFG                                                 03027000
CVTNOMP  EQU   CVTCTLFG                                                 03028000
CVTRSV79 EQU   CVTCTLFG                                                 03029000
CVTDSTAT EQU   CVTCTLFG                                                 03030000
CVTRSV78 EQU   CVTCTLFG                                                 03031000
CVTRV333 EQU   CVTCTLFG                                                 03032000
CVTRV323 EQU   CVTCTLFG                                                 03033000
CVTSPVLK EQU   CVTS01+49                                                03034000
CVTRSV77 EQU   CVTS01+48                                                03035000
CVTRV331 EQU   CVTS01+44                                                03036000
CVTRV330 EQU   CVTS01+40                                                03037000
CVTRV329 EQU   CVTS01+36                                                03038000
CVTRV328 EQU   CVTS01+32                                                03039000
CVTRV322 EQU   CVTS01+28                                                03040000
CVTSLID  EQU   CVTSLIDA+1                                               03041000
CVTSYLK  EQU   CVTSLIDA                                                 03042000
CVTRV321 EQU   CVTS01+20                                                03043000
CVTRV320 EQU   CVTS01+16                                                03044000
CVTLPDIR EQU   CVTLPDIA+1                                               03045000
CVTRSV69 EQU   CVTDIRST                                                 03046000
CVTRSV68 EQU   CVTDIRST                                                 03047000
CVTRSV67 EQU   CVTDIRST                                                 03048000
CVTRSV66 EQU   CVTDIRST                                                 03049000
CVTRSV65 EQU   CVTDIRST                                                 03050000
CVTRSV64 EQU   CVTDIRST                                                 03051000
CVTRSV63 EQU   CVTDIRST                                                 03052000
CVTDICOM EQU   CVTDIRST                                                 03053000
CVTLPDSR EQU   CVTS01+4                                                 03054000
CVTGETL  EQU   CVTS01                                                   03055000
PSARSAV  EQU   PSARSVTE+60                                              03056000
PSARSTK  EQU   PSARSVTE+56                                              03057000
PSAESAV3 EQU   PSARSVTE+52                                              03058000
PSAESTK3 EQU   PSARSVTE+48                                              03059000
PSAESAV2 EQU   PSARSVTE+44                                              03060000
PSAESTK2 EQU   PSARSVTE+40                                              03061000
PSAESAV1 EQU   PSARSVTE+36                                              03062000
PSAESTK1 EQU   PSARSVTE+32                                              03063000
PSAPSAV  EQU   PSARSVTE+28                                              03064000
PSAPSTK  EQU   PSARSVTE+24                                              03065000
PSAMSAV  EQU   PSARSVTE+20                                              03066000
PSAMSTK  EQU   PSARSVTE+16                                              03067000
PSASSAV  EQU   PSARSVTE+12                                              03068000
PSASSTK  EQU   PSARSVTE+8                                               03069000
PSANSTK  EQU   PSARSVTE+4                                               03070000
RES2     EQU   REGSAVER+76                                              03071000
SAVER14  EQU   REGSAVER+64                                              03072000
SAVER13  EQU   REGSAVER+60                                              03073000
SAVER12  EQU   REGSAVER+56                                              03074000
SAVER11  EQU   REGSAVER+52                                              03075000
SAVER10  EQU   REGSAVER+48                                              03076000
SAVER9   EQU   REGSAVER+44                                              03077000
SAVER8   EQU   REGSAVER+40                                              03078000
SAVER7   EQU   REGSAVER+36                                              03079000
SAVER6   EQU   REGSAVER+32                                              03080000
SAVER5   EQU   REGSAVER+28                                              03081000
SAVER4   EQU   REGSAVER+24                                              03082000
SAVER3   EQU   REGSAVER+20                                              03083000
SAVER2   EQU   REGSAVER+16                                              03084000
SAVER1   EQU   REGSAVER+12                                              03085000
@NM00051 EQU   REGSAVER+8                                               03086000
@NM00050 EQU   REGSAVER+4                                               03087000
CVTLEVL  EQU   CVTRELNO+2                                               03088000
CVTNUMB  EQU   CVTRELNO                                                 03089000
CVTMDL   EQU   CVTFIX+250                                               03090000
@NM00049 EQU   CVTFIX+248                                               03091000
@NM00048 EQU   CVTFIX                                                   03092000
CVTRV482 EQU   CVTXTNT2+128                                             03093000
CVTRV481 EQU   CVTXTNT2+124                                             03094000
CVTRV480 EQU   CVTXTNT2+120                                             03095000
CVTRV479 EQU   CVTXTNT2+118                                             03096000
CVTRV478 EQU   CVTXTNT2+117                                             03097000
CVTRV477 EQU   CVTXTNT2+116                                             03098000
CVTRV476 EQU   CVTXTNT2+115                                             03099000
CVTRV475 EQU   CVTXTNT2+114                                             03100000
CVTRV474 EQU   CVTRV466                                                 03101000
CVTRV473 EQU   CVTRV466                                                 03102000
CVTRV472 EQU   CVTRV466                                                 03103000
CVTRV471 EQU   CVTRV466                                                 03104000
CVTRV470 EQU   CVTRV466                                                 03105000
CVTRV469 EQU   CVTRV466                                                 03106000
CVTRV468 EQU   CVTRV466                                                 03107000
CVTRV467 EQU   CVTRV466                                                 03108000
CVTRV465 EQU   CVTRV457                                                 03109000
CVTRV464 EQU   CVTRV457                                                 03110000
CVTRV463 EQU   CVTRV457                                                 03111000
CVTRV462 EQU   CVTRV457                                                 03112000
CVTRV461 EQU   CVTRV457                                                 03113000
CVTRV460 EQU   CVTRV457                                                 03114000
CVTRV459 EQU   CVTRV457                                                 03115000
CVTRV458 EQU   CVTRV457                                                 03116000
CVTRV456 EQU   CVTXTNT2+108                                             03117000
CVTRV455 EQU   CVTXTNT2+104                                             03118000
CVTRV454 EQU   CVTXTNT2+100                                             03119000
CVTRV453 EQU   CVTXTNT2+96                                              03120000
CVTRV452 EQU   CVTXTNT2+94                                              03121000
CVTRV451 EQU   CVTXTNT2+92                                              03122000
CVTRV450 EQU   CVTXTNT2+90                                              03123000
CVTRV449 EQU   CVTXTNT2+88                                              03124000
CVTRV448 EQU   CVTXTNT2+87                                              03125000
CVTRV447 EQU   CVTXTNT2+86                                              03126000
CVTRV446 EQU   CVTRV438                                                 03127000
CVTRV445 EQU   CVTRV438                                                 03128000
CVTRV444 EQU   CVTRV438                                                 03129000
CVTRV443 EQU   CVTRV438                                                 03130000
CVTRV442 EQU   CVTRV438                                                 03131000
CVTRV441 EQU   CVTRV438                                                 03132000
CVTRV440 EQU   CVTRV438                                                 03133000
CVTRV439 EQU   CVTRV438                                                 03134000
CVTRV437 EQU   CVTRV429                                                 03135000
CVTRV436 EQU   CVTRV429                                                 03136000
CVTRV435 EQU   CVTRV429                                                 03137000
CVTRV434 EQU   CVTRV429                                                 03138000
CVTRV433 EQU   CVTRV429                                                 03139000
CVTRV432 EQU   CVTRV429                                                 03140000
CVTRV431 EQU   CVTRV429                                                 03141000
CVTRV430 EQU   CVTRV429                                                 03142000
CVTRV428 EQU   CVTXTNT2+80                                              03143000
CVTRV427 EQU   CVTXTNT2+76                                              03144000
CVTRV426 EQU   CVTXTNT2+72                                              03145000
CVTRV425 EQU   CVTXTNT2+68                                              03146000
CVTATACT EQU   CVTATCVT                                                 03147000
CVTRV423 EQU   CVTXTNT2+62                                              03148000
CVTRV422 EQU   CVTXTNT2+60                                              03149000
CVTRV421 EQU   CVTXTNT2+58                                              03150000
CVTRV420 EQU   CVTXTNT2+56                                              03151000
CVTRV419 EQU   CVTXTNT2+55                                              03152000
CVTRV418 EQU   CVTXTNT2+54                                              03153000
CVTRV417 EQU   CVTRV409                                                 03154000
CVTRV416 EQU   CVTRV409                                                 03155000
CVTRV415 EQU   CVTRV409                                                 03156000
CVTRV414 EQU   CVTRV409                                                 03157000
CVTRV413 EQU   CVTRV409                                                 03158000
CVTRV412 EQU   CVTRV409                                                 03159000
CVTRV411 EQU   CVTRV409                                                 03160000
CVTRV410 EQU   CVTRV409                                                 03161000
CVTRV408 EQU   CVTRV400                                                 03162000
CVTRV407 EQU   CVTRV400                                                 03163000
CVTRV406 EQU   CVTRV400                                                 03164000
CVTRV405 EQU   CVTRV400                                                 03165000
CVTRV404 EQU   CVTRV400                                                 03166000
CVTRV403 EQU   CVTRV400                                                 03167000
CVTRV402 EQU   CVTRV400                                                 03168000
CVTRV401 EQU   CVTRV400                                                 03169000
CVTICB   EQU   CVTXTNT2+48                                              03170000
CVTSKTA  EQU   CVTXTNT2+44                                              03171000
CVTRSV99 EQU   CVTXTNT2+40                                              03172000
CVTRSV98 EQU   CVTXTNT2+36                                              03173000
CVTRSV97 EQU   CVTXTNT2+34                                              03174000
CVTRSV96 EQU   CVTXTNT2+32                                              03175000
CVTOLTEP EQU   CVTXTNT2+28                                              03176000
CVTQIDA  EQU   CVTQID+1                                                 03177000
CVTRSV95 EQU   CVTQID                                                   03178000
CVTRSV94 EQU   CVTXTNT2+20                                              03179000
CVTRSV93 EQU   CVTXTNT2+16                                              03180000
CVTRSV92 EQU   CVTXTNT2+12                                              03181000
CVTDEBVR EQU   CVTXTNT2+8                                               03182000
CVTRSV91 EQU   CVTXTNT2+6                                               03183000
CVTRSV9H EQU   CVTFLGBT                                                 03184000
CVTRSV9G EQU   CVTFLGBT                                                 03185000
CVTRSV9F EQU   CVTFLGBT                                                 03186000
CVTRSV9E EQU   CVTFLGBT                                                 03187000
CVTRSV9D EQU   CVTFLGBT                                                 03188000
CVTRSV9C EQU   CVTFLGBT                                                 03189000
CVTVME   EQU   CVTFLGBT                                                 03190000
CVTNPE   EQU   CVTFLGBT                                                 03191000
CVTNUCLS EQU   CVTXTNT2+4                                               03192000
CVTDSSVA EQU   CVTDSSV+1                                                03193000
CVTRSV89 EQU   CVTDSSV                                                  03194000
CVTRSV88 EQU   CVTXTNT1+8                                               03195000
CVTRSV87 EQU   CVTXTNT1+4                                               03196000
CVTFACHN EQU   CVTXTNT1                                                 03197000
CVTRV488 EQU   CVTMAP+412                                               03198000
CVTRV487 EQU   CVTMAP+408                                               03199000
CVTRV486 EQU   CVTMAP+404                                               03200000
CVTRV485 EQU   CVTMAP+400                                               03201000
CVTACTAP EQU   CVTMAP+396                                               03202000
CVTAUTH  EQU   CVTMAP+392                                               03203000
CVTATMCA EQU   CVTATMCT+1                                               03204000
CVTATMST EQU   CVTATMCT                                                 03205000
CVTRSV61 EQU   CVTMAP+384                                               03206000
CVTVOLT1 EQU   CVTVOLM1+1                                               03207000
CVTVOLI1 EQU   CVTVOLF1                                                 03208000
CVTSTOA  EQU   CVTMAP+376                                               03209000
CVTRSV58 EQU   CVTMAP+374                                               03210000
CVTRSV57 EQU   CVTMAP+372                                               03211000
CVTDDCE  EQU   CVTMAP+368                                               03212000
CVTPNWFR EQU   CVTMAP+364                                               03213000
CVTSMF   EQU   CVTMAP+360                                               03214000
CVTSULK  EQU   CVTMAP+358                                               03215000
CVTSLKO  EQU   CVTSYSK                                                  03216000
CVTSLKP  EQU   CVTSYSK                                                  03217000
CVTSLKQ  EQU   CVTSYSK                                                  03218000
CVTSLKR  EQU   CVTSYSK                                                  03219000
CVTRSV56 EQU   CVTSYSK                                                  03220000
CVTRSV55 EQU   CVTSYSK                                                  03221000
CVTRSV54 EQU   CVTSYSK                                                  03222000
CVTRSV53 EQU   CVTSYSK                                                  03223000
CVTRSV52 EQU   CVTA1F1                                                  03224000
CVTRSV51 EQU   CVTA1F1                                                  03225000
CVTRSV50 EQU   CVTA1F1                                                  03226000
CVTRSV49 EQU   CVTA1F1                                                  03227000
CVTRSV48 EQU   CVTA1F1                                                  03228000
CVTRSV47 EQU   CVTA1F1                                                  03229000
CVTSRSW  EQU   CVTA1F1                                                  03230000
CVTPFSW  EQU   CVTA1F1                                                  03231000
CVTPCVT  EQU   CVTMAP+352                                               03232000
CVTRSV46 EQU   CVTMAP+344                                               03233000
CVTRSV45 EQU   CVTMAP+340                                               03234000
CVTRSV44 EQU   CVTMAP+338                                               03235000
CVTRSV43 EQU   CVTMAP+336                                               03236000
CVTHJESA EQU   CVTHJES+1                                                03237000
CVTRSV42 EQU   CVTHJES                                                  03238000
CVTEXT2A EQU   CVTEXT2+1                                                03239000
CVTRSV41 EQU   CVTEXT2                                                  03240000
CVTAPFA  EQU   CVTAPF+1                                                 03241000
CVTRSV40 EQU   CVTAPF                                                   03242000
CVTRV518 EQU   CVTINTLA                                                 03243000
CVTRV517 EQU   CVTERPV                                                  03244000
CVTEORM  EQU   CVTMAP+312                                               03245000
CVTMCHPR EQU   CVTMAP+308                                               03246000
CVTTZ    EQU   CVTMAP+304                                               03247000
CVTJEPS  EQU   CVTMAP+300                                               03248000
CVTJESCT EQU   CVTMAP+296                                               03249000
CVTMODE  EQU   CVTMAP+292                                               03250000
CVTPTRV  EQU   CVTMAP+288                                               03251000
CVTREAL  EQU   CVTMAP+284                                               03252000
CVTRSV39 EQU   CVTMAP+280                                               03253000
CVTRSV38 EQU   CVTMAP+276                                               03254000
CVTDMSRA EQU   CVTDMSR+1                                                03255000
CVTRV634 EQU   CVTDMSRF                                                 03256000
CVTRV633 EQU   CVTDMSRF                                                 03257000
CVTRV632 EQU   CVTDMSRF                                                 03258000
CVTRV631 EQU   CVTDMSRF                                                 03259000
CVTRV630 EQU   CVTDMSRF                                                 03260000
CVTRV629 EQU   CVTDMSRF                                                 03261000
CVTUDUMP EQU   CVTDMSRF                                                 03262000
CVTSDUMP EQU   CVTDMSRF                                                 03263000
CVTQMSGA EQU   CVTQMSG+1                                                03264000
CVTRSV36 EQU   CVTQMSG                                                  03265000
CVTAMFF  EQU   CVTMAP+264                                               03266000
CVTPURGA EQU   CVTPURG+1                                                03267000
CVTRSV35 EQU   CVTPURG                                                  03268000
CVTCBSP  EQU   CVTMAP+256                                               03269000
CVTATERA EQU   CVTATER+1                                                03270000
CVTSYST  EQU   CVTATER                                                  03271000
CVTVOLT2 EQU   CVTTAT                                                   03272000
CVTVOLI2 EQU   CVTVOLF2                                                 03273000
CVTAQAVB EQU   CVTAQAVT+1                                               03274000
CVTRSV34 EQU   CVTTCMFG                                                 03275000
CVTRSV33 EQU   CVTTCMFG                                                 03276000
CVTRSV32 EQU   CVTTCMFG                                                 03277000
CVTRSV31 EQU   CVTTCMFG                                                 03278000
CVTRSV30 EQU   CVTTCMFG                                                 03279000
CVTRSV29 EQU   CVTTCMFG                                                 03280000
CVTRSV28 EQU   CVTTCMFG                                                 03281000
CVTTCRDY EQU   CVTTCMFG                                                 03282000
CVTGTFA  EQU   CVTGTF+1                                                 03283000
CVTRSV27 EQU   CVTGTFST                                                 03284000
CVTRNIO  EQU   CVTGTFST                                                 03285000
CVTUSR   EQU   CVTGTFST                                                 03286000
CVTRV318 EQU   CVTFORM                                                  03287000
CVTRV317 EQU   CVTTMODE                                                 03288000
CVTRV316 EQU   CVTSTATE                                                 03289000
CVTRV315 EQU   CVTGTFS                                                  03290000
CVTGTFAV EQU   CVTGTFS                                                  03291000
CVT0SCR1 EQU   CVTMAP+232                                               03292000
CVTRV515 EQU   CVTMAP+228                                               03293000
CVTRMS   EQU   CVTMAP+224                                               03294000
CVTPATCH EQU   CVTMAP+220                                               03295000
CVTTSCE  EQU   CVTMAP+216                                               03296000
CVTLNKSC EQU   CVTMAP+214                                               03297000
CVTQABST EQU   CVTMAP+212                                               03298000
CVTMDLDS EQU   CVTMAP+208                                               03299000
CVTUSER  EQU   CVTMAP+204                                               03300000
CVTABEND EQU   CVTMAP+200                                               03301000
CVTSMCA  EQU   CVTMAP+196                                               03302000
CVTRSV18 EQU   CVTMAP+192                                               03303000
CVTQLPAQ EQU   CVTMAP+188                                               03304000
CVTQCDSR EQU   CVTMAP+184                                               03305000
CVTRSV17 EQU   CVTOPTB                                                  03306000
CVTRSV16 EQU   CVTOPTB                                                  03307000
CVTFP    EQU   CVTOPTB                                                  03308000
CVTAPTHR EQU   CVTOPTB                                                  03309000
CVTNLOG  EQU   CVTOPTB                                                  03310000
CVTTOD   EQU   CVTOPTB                                                  03311000
CVTCTIMS EQU   CVTOPTB                                                  03312000
CVTPROT  EQU   CVTOPTB                                                  03313000
CVTXPFP  EQU   CVTOPTA                                                  03314000
CVTASCII EQU   CVTOPTA                                                  03315000
CVTRSV13 EQU   CVTOPTA                                                  03316000
CVTRSV12 EQU   CVTOPTA                                                  03317000
CVTNIP   EQU   CVTOPTA                                                  03318000
CVTDDR   EQU   CVTOPTA                                                  03319000
CVTAPR   EQU   CVTOPTA                                                  03320000
CVTCCH   EQU   CVTOPTA                                                  03321000
CVTSNCTR EQU   CVTMAP+180                                               03322000
CVTQMWR  EQU   CVTMAP+176                                               03323000
CVTQOCR  EQU   CVTMAP+172                                               03324000
CVT1EF00 EQU   CVTMAP+168                                               03325000
CVTMZ00  EQU   CVTMAP+164                                               03326000
CVTHEAD  EQU   CVTMAP+160                                               03327000
CVTRSV11 EQU   CVTMAP+156                                               03328000
CVT0PT01 EQU   CVTMAP+152                                               03329000
CVTMSER  EQU   CVTMAP+148                                               03330000
CVTRV516 EQU   CVTIERLC                                                 03331000
CVTILCH  EQU   CVTMAP+140                                               03332000
CVT0DS   EQU   CVTMAP+136                                               03333000
CVTFBOSV EQU   CVTMAP+132                                               03334000
CVTNUCB  EQU   CVTMAP+128                                               03335000
CVTIXAVL EQU   CVTMAP+124                                               03336000
CVTIOQET EQU   CVTMAP+120                                               03337000
CVTDCBA  EQU   CVTMAP+117                                               03338000
CVTMVS2  EQU   CVTDCB                                                   03339000
CVT6DAT  EQU   CVTDCB                                                   03340000
CVT4MPS  EQU   CVTDCB                                                   03341000
CVTRSV09 EQU   CVTDCB                                                   03342000
CVT4MS1  EQU   CVTDCB                                                   03343000
CVT2SPS  EQU   CVTDCB                                                   03344000
CVT1SSS  EQU   CVTDCB                                                   03345000
CVTRSV08 EQU   CVTDCB                                                   03346000
CVTSTB   EQU   CVTMAP+112                                               03347000
CVTQTD00 EQU   CVTMAP+108                                               03348000
CVTQTE00 EQU   CVTMAP+104                                               03349000
CVTCUCB  EQU   CVTMAP+100                                               03350000
CVTSJQ   EQU   CVTMAP+96                                                03351000
CVTPBLDL EQU   CVTMAP+92                                                03352000
CVTTPC   EQU   CVTMAP+88                                                03353000
CVTSVDCB EQU   CVTMAP+84                                                03354000
CVTBRET  EQU   CVTMAP+82                                                03355000
CVTEXIT  EQU   CVTMAP+80                                                03356000
CVT0FN00 EQU   CVTMAP+76                                                03357000
CVTDARA  EQU   CVTDAR+1                                                 03358000
CVTRSV07 EQU   CVTFLGS1                                                 03359000
CVTRSV06 EQU   CVTFLGS1                                                 03360000
CVTRSV05 EQU   CVTFLGS1                                                 03361000
CVTRSV04 EQU   CVTFLGS1                                                 03362000
CVTRSV03 EQU   CVTFLGS1                                                 03363000
CVTRSV02 EQU   CVTFLGS1                                                 03364000
CVTRSV01 EQU   CVTFLGS1                                                 03365000
CVTDMPLK EQU   CVTFLGS1                                                 03366000
CVTXITP  EQU   CVTMAP+68                                                03367000
CVTZDTAB EQU   CVTMAP+64                                                03368000
CVTMSLT  EQU   CVTMAP+60                                                03369000
CVTDATE  EQU   CVTMAP+56                                                03370000
CVTBTERM EQU   CVTMAP+52                                                03371000
CVTSYSAD EQU   CVTMAP+48                                                03372000
CVTXTLER EQU   CVTMAP+44                                                03373000
CVTILK2  EQU   CVTMAP+40                                                03374000
CVTILK1  EQU   CVTMAP+36                                                03375000
CVTPRLTV EQU   CVTMAP+32                                                03376000
CVTPCNVT EQU   CVTMAP+28                                                03377000
CVT0VL00 EQU   CVTMAP+24                                                03378000
CVTXAPG  EQU   CVTMAP+20                                                03379000
CVTBUF   EQU   CVTMAP+16                                                03380000
CVTJOB   EQU   CVTMAP+12                                                03381000
CVTLINK  EQU   CVTMAP+8                                                 03382000
CVT0EF00 EQU   CVTMAP+4                                                 03383000
CVTTCBP  EQU   CVTMAP                                                   03384000
CVT      EQU   CVTMAP                                                   03385000
XPTLSID2 EQU   XPTLPN                                                   03386000
XPTLSID  EQU   XPTLGN                                                   03387000
@NM00047 EQU   XPTFLAG2                                                 03388000
XPTIOERR EQU   XPTFLAG2                                                 03389000
XPTPOINP EQU   XPTFLAG2                                                 03390000
XPTRES1  EQU   XPTFLAG2                                                 03391000
XPTVALID EQU   XPTFLAG2                                                 03392000
XPTRSV4  EQU   XPTFLAGS                                                 03393000
XPTDEFER EQU   XPTFLAGS                                                 03394000
XPTRES2  EQU   XPTFLAGS                                                 03395000
XPTVIO   EQU   XPTFLAGS                                                 03396000
XPTCKF   EQU   XPTFLAGS                                                 03397000
XPTXAV   EQU   XPTFLAGS                                                 03398000
XPTVIOLP EQU   XPTFLAGS                                                 03399000
XPTRSV1  EQU   XPTE+1                                                   03400000
@NM00046 EQU   SRB+40                                                   03401000
@NM00045 EQU   SRB+38                                                   03402000
SRBPKF   EQU   SRB+36                                                   03403000
SRBSAVE  EQU   SRB+32                                                   03404000
SRBPTCB  EQU   SRBFLC+4                                                 03405000
SRBCPAFF EQU   SRBFLC                                                   03406000
RSMASMHD EQU   RSMHD+40                                                 03407000
RSMFOEQ  EQU   RSMHD+36                                                 03408000
RSMLIOQL EQU   RSMLIOQ+4                                                03409000
RSMLIOQF EQU   RSMLIOQ                                                  03410000
RSMLSQAL EQU   RSMLSQA+2                                                03411000
RSMLSQAF EQU   RSMLSQA                                                  03412000
RSMLFQL  EQU   RSMLFQ+2                                                 03413000
RSMLFQF  EQU   RSMLFQ                                                   03414000
RSMRSV2  EQU   RSMHD+16                                                 03415000
RSMCNTFX EQU   RSMHD+14                                                 03416000
RSMRSV1  EQU   RSMHD+13                                                 03417000
@NM00044 EQU   RSMFLG1                                                  03418000
RSMGFADD EQU   RSMFLG1                                                  03419000
RSMGFAD  EQU   RSMFLG1                                                  03420000
RSMASCB  EQU   RSMHD+8                                                  03421000
RSMSPCT  EQU   RSMHD+4                                                  03422000
RSMVSTO  EQU   RSMHD                                                    03423000
ASVTEND  EQU   ASVT+528                                                 03424000
ASVTAVAL EQU   ASVTENTY                                                 03425000
ASVTAVAI EQU   ASVTFRST                                                 03426000
ASVTRS00 EQU   ASVT+520                                                 03427000
ASVTMAXU EQU   ASVT+516                                                 03428000
ASVTASVT EQU   ASVT+512                                                 03429000
ASVTBEGN EQU   ASVT+512                                                 03430000
@NM00043 EQU   ASVT                                                     03431000
RCARES9  EQU   RCA+19                                                   03432000
@NM00042 EQU   RCA+18                                                   03433000
RCAPIOI  EQU   RCA+18                                                   03434000
RCANAME7 EQU   RCANAMES+6                                               03435000
RCAREP1  EQU   RCANAME6                                                 03436000
RCAPSIF  EQU   RCANAME6                                                 03437000
RCAPSIX  EQU   RCANAME6                                                 03438000
RCAVEQRP EQU   RCANAME6                                                 03439000
RCARCFC  EQU   RCANAME6                                                 03440000
RCACSGB  EQU   RCANAME6                                                 03441000
RCAFXL   EQU   RCANAME6                                                 03442000
RCAPS113 EQU   RCANAME6                                                 03443000
RCAFREE  EQU   RCANAME5                                                 03444000
RCARFR2  EQU   RCANAME5                                                 03445000
RCACPBR  EQU   RCANAME5                                                 03446000
RCASORT  EQU   RCANAME5                                                 03447000
RCASIRT  EQU   RCANAME5                                                 03448000
RCARELV  EQU   RCANAME5                                                 03449000
RCARELF  EQU   RCANAME5                                                 03450000
RCAGFAD  EQU   RCANAME4                                                 03451000
RCAVEQRI EQU   RCANAME4                                                 03452000
RCAVEQRF EQU   RCANAME4                                                 03453000
RCAVEQRC EQU   RCANAME4                                                 03454000
RCATERM  EQU   RCANAME4                                                 03455000
RCASQA   EQU   RCANAME4                                                 03456000
RCASWIN  EQU   RCANAME4                                                 03457000
RCASOUT  EQU   RCANAME4                                                 03458000
RCARFR   EQU   RCANAME3                                                 03459000
RCARELS  EQU   RCANAME3                                                 03460000
RCARCFI  EQU   RCANAME3                                                 03461000
RCARCF   EQU   RCANAME3                                                 03462000
RCAPSII  EQU   RCANAME3                                                 03463000
RCAPSIB  EQU   RCANAME3                                                 03464000
RCAPS112 EQU   RCANAME3                                                 03465000
RCAPIX   EQU   RCANAME3                                                 03466000
RCASWPC  EQU   RCANAME2                                                 03467000
RCASWPP  EQU   RCANAME2                                                 03468000
RCAPFTE  EQU   RCANAME2                                                 03469000
RCAPCB   EQU   RCANAME2                                                 03470000
RCAOUT   EQU   RCANAME2                                                 03471000
RCAITAS  EQU   RCANAME2                                                 03472000
RCAIOCP  EQU   RCANAME2                                                 03473000
RCAINV   EQU   RCANAME1                                                 03474000
RCAGFA   EQU   RCANAME1                                                 03475000
RCAFXLD  EQU   RCANAME1                                                 03476000
RCAVEQR  EQU   RCANAME1                                                 03477000
RCADSEG  EQU   RCANAME1                                                 03478000
RCADLAS  EQU   RCANAME1                                                 03479000
RCACSEG  EQU   RCANAME1                                                 03480000
RCAVAMSI EQU   RCANAME1                                                 03481000
@NM00041 EQU   RCAFLAGS                                                 03482000
RCAQS    EQU   RCAFLAGS                                                 03483000
RCAPSIER EQU   RCAFLAGS                                                 03484000
RCAABEND EQU   RCAFLAGS                                                 03485000
RCALL    EQU   RCAFLAGS                                                 03486000
RCASAL   EQU   RCAFLAGS                                                 03487000
RCARES7  EQU   RCA+8                                                    03488000
RCAPARM0 EQU   RCA                                                      03489000
PVTEND   EQU   PVT+1840                                                 03490000
PVTSPARE EQU   PVT+1838                                                 03491000
PVTCHUIC EQU   PVT+1836                                                 03492000
PVTCOMFX EQU   PVT+1834                                                 03493000
PVTSQAFX EQU   PVT+1832                                                 03494000
PVTCNTFX EQU   PVT+1830                                                 03495000
PVTDEFFX EQU   PVT+1828                                                 03496000
PVTFIXOK EQU   PVT+1826                                                 03497000
PVTPEROK EQU   PVT+1824                                                 03498000
PVTMAXFX EQU   PVT+1822                                                 03499000
PVTPERFX EQU   PVT+1820                                                 03500000
PVTRESV5 EQU   PVT+1773                                                 03501000
PVTSRBS  EQU   PVT+1772                                                 03502000
PVTSSRB  EQU   PVT+1768                                                 03503000
PVTACA   EQU   PVTWSAX+1400                                             03504000
PVTWSA18 EQU   PVTWSAX+1256                                             03505000
PVTWSA17 EQU   PVTWSAX+1184                                             03506000
PVTWSA16 EQU   PVTWSAX+1112                                             03507000
PVTWSA15 EQU   PVTWSAX+1040                                             03508000
PVTWSA14 EQU   PVTWSAX+968                                              03509000
PVTWSA13 EQU   PVTWSAX+896                                              03510000
PVTWSA12 EQU   PVTWSAX+824                                              03511000
PVTWSA11 EQU   PVTWSAX+752                                              03512000
PVTWSA8  EQU   PVTWSAX+504                                              03513000
PVTWSA7  EQU   PVTWSAX+432                                              03514000
PVTWSA6  EQU   PVTWSAX+360                                              03515000
PVTWSA5  EQU   PVTWSAX+288                                              03516000
PVTWSA4  EQU   PVTWSAX+216                                              03517000
PVTWSA3  EQU   PVTWSAX+144                                              03518000
PVTWSA2  EQU   PVTWSAX+72                                               03519000
PVTWSA1  EQU   PVTWSAX                                                  03520000
PVTCIOQL EQU   PVTQS+36                                                 03521000
PVTCIOQF EQU   PVTQS+32                                                 03522000
PVTGFADL EQU   PVTQS+28                                                 03523000
PVTGFADF EQU   PVTQS+24                                                 03524000
PVTFPCBL EQU   PVTQS+20                                                 03525000
PVTFPCBF EQU   PVTQS+16                                                 03526000
PVTSQAQL EQU   PVTQS+14                                                 03527000
PVTSQAQF EQU   PVTQS+12                                                 03528000
PVTCFQL  EQU   PVTQS+10                                                 03529000
PVTCFQF  EQU   PVTQS+8                                                  03530000
PVTRSRVL EQU   PVTQS+6                                                  03531000
PVTRSRVF EQU   PVTQS+4                                                  03532000
PVTAFQL  EQU   PVTQS+2                                                  03533000
PVTAFQF  EQU   PVTQS                                                    03534000
PVTSPFR  EQU   PVT+302                                                  03535000
PVTCFMCT EQU   PVT+300                                                  03536000
PVTSPREC EQU   PVT+296                                                  03537000
PVTCAREC EQU   PVT+292                                                  03538000
PVTCAOUT EQU   PVT+288                                                  03539000
PVTCAIN  EQU   PVT+284                                                  03540000
PVTNSWPS EQU   PVT+280                                                  03541000
PVTNPREC EQU   PVT+276                                                  03542000
PVTSPOUT EQU   PVT+272                                                  03543000
PVTSPIN  EQU   PVT+268                                                  03544000
PVTVAMR  EQU   PVT+264                                                  03545000
PVTVAMO  EQU   PVT+260                                                  03546000
PVTVAMI  EQU   PVT+256                                                  03547000
PVTNPOUT EQU   PVT+252                                                  03548000
PVTNPIN  EQU   PVT+248                                                  03549000
PVTPRSET EQU   PVT+244                                                  03550000
PVTFRSLT EQU   PVT+240                                                  03551000
PVTPAGIO EQU   PVT+236                                                  03552000
PVTSWPIO EQU   PVT+232                                                  03553000
PVTPSWPP EQU   PVT+228                                                  03554000
PVTPPREF EQU   PVT+224                                                  03555000
PVTPOPBR EQU   PVT+220                                                  03556000
PVTPRELF EQU   PVT+216                                                  03557000
PVTPRELV EQU   PVT+212                                                  03558000
PVTPFREE EQU   PVT+208                                                  03559000
PVTPRELS EQU   PVT+204                                                  03560000
PVTPOUT  EQU   PVT+200                                                  03561000
PVTPFXLD EQU   PVT+196                                                  03562000
PVTPITAS EQU   PVT+192                                                  03563000
PVTPDSEG EQU   PVT+184                                                  03564000
PVTPCSGB EQU   PVT+180                                                  03565000
PVTPCSEG EQU   PVT+176                                                  03566000
PVTPINV  EQU   PVT+172                                                  03567000
PVTPSWPC EQU   PVT+168                                                  03568000
PVTPSOUT EQU   PVT+164                                                  03569000
PVTPSWIN EQU   PVT+160                                                  03570000
PVTPRCFI EQU   PVT+152                                                  03571000
PVTPRCF  EQU   PVT+148                                                  03572000
PVTPVRC  EQU   PVT+144                                                  03573000
PVTPVRIN EQU   PVT+140                                                  03574000
PVTPVRLS EQU   PVT+136                                                  03575000
PVTPVEQR EQU   PVT+132                                                  03576000
PVTPPIOI EQU   PVT+128                                                  03577000
PVTPVRPO EQU   PVT+124                                                  03578000
PVTPRFR  EQU   PVT+120                                                  03579000
PVTPFP2  EQU   PVT+116                                                  03580000
PVTPFP   EQU   PVT+112                                                  03581000
PVTREP2  EQU   PVT+100                                                  03582000
PVTPIOP  EQU   PVT+92                                                   03583000
PVTPGFAD EQU   PVT+88                                                   03584000
PVTPGFA  EQU   PVT+84                                                   03585000
PVTPSQA  EQU   PVT+80                                                   03586000
PVTPSINT EQU   PVT+76                                                   03587000
PVTPSIB  EQU   PVT+72                                                   03588000
PVTPCIWA EQU   PVT+64                                                   03589000
PVTHQSA  EQU   PVT+62                                                   03590000
PVTLQSA  EQU   PVT+60                                                   03591000
PVTOROOT EQU   PVT+56                                                   03592000
PVTREUS  EQU   PVT+48                                                   03593000
PVTRESV4 EQU   PVT+46                                                   03594000
PVTRSUS  EQU   PVT+44                                                   03595000
PVTVROOT EQU   PVT+40                                                   03596000
PVTPCBLO EQU   PVT+38                                                   03597000
PVTPCBCT EQU   PVT+36                                                   03598000
PVTDFRS  EQU   PVT+34                                                   03599000
PVTRSQA  EQU   PVT+32                                                   03600000
PVTPTLB  EQU   PVT+31                                                   03601000
PVTPCBNO EQU   PVT+30                                                   03602000
PVTSRBNO EQU   PVT+29                                                   03603000
PVTSQDC  EQU   PVT+28                                                   03604000
PVTLPRIV EQU   PVT+24                                                   03605000
PVTLVR   EQU   PVT+22                                                   03606000
PVTFVR   EQU   PVT+20                                                   03607000
PVTLPFN  EQU   PVT+18                                                   03608000
PVTFPFN  EQU   PVT+16                                                   03609000
PVTSSPIN EQU   PVT+11                                                   03610000
PVTPCBS  EQU   PVT+10                                                   03611000
PVTPOOL  EQU   PVT+8                                                    03612000
PVTAFCOK EQU   PVT+6                                                    03613000
PVTAFCLO EQU   PVT+4                                                    03614000
PVTAFC   EQU   PVT+2                                                    03615000
PVTFLAG2 EQU   PVT+1                                                    03616000
PVTDUMP  EQU   PVTFLAG1                                                 03617000
PVTSIT   EQU   PVTFLAG1                                                 03618000
PVTLSI   EQU   PVTFLAG1                                                 03619000
PVTRESV1 EQU   PVTFLAG1                                                 03620000
PVTPCBLT EQU   PVTFLAG1                                                 03621000
PVTBGMS  EQU   PVTFLAG1                                                 03622000
PVTPMSG  EQU   PVTFLAG1                                                 03623000
PGTPAM   EQU   PGTBITS                                                  03624000
@NM00016 EQU   PGTBITS                                                  03625000
@NM00015 EQU   PGTBITS                                                  03626000
@NM00014 EQU   PGTBITS                                                  03627000
@NM00013 EQU   PGTBITS                                                  03628000
@NM00012 EQU   PGTBITS                                                  03629000
@NM00011 EQU   PGTBITS                                                  03630000
PGTREAL  EQU   PGTRSA                                                   03631000
PFTUIC   EQU   PFTE+15                                                  03632000
PFTQNDX  EQU   PFTE+14                                                  03633000
@NM00010 EQU   PFTFLAG2                                                 03634000
@NM00009 EQU   PFTFLAG2                                                 03635000
PFTPREF  EQU   PFTFLAG2                                                 03636000
PFTSTEAL EQU   PFTFLAG2                                                 03637000
PFTVR    EQU   PFTFLAG2                                                 03638000
PFTOFFLN EQU   PFTFLAG2                                                 03639000
PFTDFRLS EQU   PFTFLAG2                                                 03640000
PFTOFINT EQU   PFTFLAG1                                                 03641000
PFTVRALC EQU   PFTFLAG1                                                 03642000
PFTBADPG EQU   PFTFLAG1                                                 03643000
PFTLNGFX EQU   PFTFLAG1                                                 03644000
PFTLSQA  EQU   PFTFLAG1                                                 03645000
PFTVRINT EQU   PFTFLAG1                                                 03646000
PFTONAVQ EQU   PFTFLAG1                                                 03647000
PFTRSV1  EQU   PFTE+10                                                  03648000
PFTFXCT  EQU   PFTE+8                                                   03649000
PFTBQPTR EQU   PFTQPTRS+2                                               03650000
PFTFQPTR EQU   PFTQPTRS                                                 03651000
PFTVBN   EQU   PFTPGID+2                                                03652000
PFTASID  EQU   PFTPGID                                                  03653000
PCBRWRKB EQU   PCBR+60                                                  03654000
PCBRWRKA EQU   PCBR+56                                                  03655000
PCBRWRK9 EQU   PCBR+52                                                  03656000
PCBRWRK8 EQU   PCBR+48                                                  03657000
PCBRWRK7 EQU   PCBR+44                                                  03658000
PCBRWRK6 EQU   PCBR+40                                                  03659000
PCBRWRK5 EQU   PCBR+36                                                  03660000
PCBRWRK4 EQU   PCBR+32                                                  03661000
PCBRWRK3 EQU   PCBR+28                                                  03662000
PCBRRSV1 EQU   PCBR+18                                                  03663000
PCBRASCB EQU   PCBR+12                                                  03664000
PCBRECB  EQU   PCBR+8                                                   03665000
PCBRPOF  EQU   PCBRFLAG                                                 03666000
PCBRFECB EQU   PCBRFLAG                                                 03667000
PCBRLOAD EQU   PCBRFLAG                                                 03668000
PCBRFPCB EQU   PCBRFLAG                                                 03669000
PCBRETRY EQU   PCBRFLAG                                                 03670000
PCBRINT  EQU   PCBRFLAG                                                 03671000
PCBEND   EQU   PCB+64                                                   03672000
PCBAIA   EQU   PCB+36                                                   03673000
PCBSPCTE EQU   PCBRB                                                    03674000
PCBSWPS2 EQU   PCBFL3                                                   03675000
@NM00008 EQU   PCBFL3                                                   03676000
PCBNOREC EQU   PCBFL3                                                   03677000
PCBDFRLS EQU   PCBFL3                                                   03678000
@NM00007 EQU   PCBFL2                                                   03679000
@NM00006 EQU   PCBFL2                                                   03680000
PCBVIO   EQU   PCBFL2                                                   03681000
PCBGFAD  EQU   PCBFL2                                                   03682000
PCBLFR   EQU   PCBFL1                                                   03683000
PCBPEX   EQU   PCBFL1                                                   03684000
@NM00005 EQU   PCBFL1                                                   03685000
@NM00004 EQU   FRRSFLGS+1                                               03686000
@NM00003 EQU   FRRSFLG1                                                 03687000
FRRSNEST EQU   FRRSFLG1                                                 03688000
FRRSRCUR EQU   FRRSFLG1                                                 03689000
FRRSENTS EQU   FRRS+84                                                  03690000
FRRSRTMW EQU   FRRS+16                                                  03691000
ASCBEND  EQU   ASCB+208                                                 03692000
ASCBSRBT EQU   ASCB+200                                                 03693000
ASCBSWTL EQU   ASCB+196                                                 03694000
ASCBRS14 EQU   ASCB+195                                                 03695000
ASCBSMCT EQU   ASCB+194                                                 03696000
ASCBRS12 EQU   ASCB+192                                                 03697000
ASCBPCTT EQU   ASCB+188                                                 03698000
ASCBVGTT EQU   ASCB+184                                                 03699000
ASCBRV43 EQU   ASCBSRQ4                                                 03700000
ASCBRV42 EQU   ASCBSRQ4                                                 03701000
ASCBRV41 EQU   ASCBSRQ4                                                 03702000
ASCBRV40 EQU   ASCBSRQ4                                                 03703000
ASCBRV39 EQU   ASCBSRQ4                                                 03704000
ASCBRV38 EQU   ASCBSRQ4                                                 03705000
ASCBRV37 EQU   ASCBSRQ4                                                 03706000
ASCBRV36 EQU   ASCBSRQ4                                                 03707000
ASCBRV35 EQU   ASCBSRQ3                                                 03708000
ASCBRV34 EQU   ASCBSRQ3                                                 03709000
ASCBRV33 EQU   ASCBSRQ3                                                 03710000
ASCBRV32 EQU   ASCBSRQ3                                                 03711000
ASCBRV31 EQU   ASCBSRQ3                                                 03712000
ASCBRV30 EQU   ASCBSRQ3                                                 03713000
ASCBRV29 EQU   ASCBSRQ3                                                 03714000
ASCBRV28 EQU   ASCBSRQ3                                                 03715000
ASCBRV27 EQU   ASCBSRQ2                                                 03716000
ASCBRV26 EQU   ASCBSRQ2                                                 03717000
ASCBRV25 EQU   ASCBSRQ2                                                 03718000
ASCBRV24 EQU   ASCBSRQ2                                                 03719000
ASCBRV23 EQU   ASCBSRQ2                                                 03720000
ASCBRV22 EQU   ASCBSRQ2                                                 03721000
ASCBRV21 EQU   ASCBSRQ2                                                 03722000
ASCBRV20 EQU   ASCBSRQ2                                                 03723000
ASCBRV19 EQU   ASCBSRQ1                                                 03724000
ASCBRV18 EQU   ASCBSRQ1                                                 03725000
ASCBRV17 EQU   ASCBSRQ1                                                 03726000
ASCBRV16 EQU   ASCBSRQ1                                                 03727000
ASCBRV15 EQU   ASCBSRQ1                                                 03728000
ASCBRV14 EQU   ASCBSRQ1                                                 03729000
ASCBRV13 EQU   ASCBSRQ1                                                 03730000
ASCBSTA  EQU   ASCBSRQ1                                                 03731000
ASCBJBNS EQU   ASCB+176                                                 03732000
ASCBJBNI EQU   ASCB+172                                                 03733000
ASCBMCC  EQU   ASCB+168                                                 03734000
ASCBRTWA EQU   ASCB+164                                                 03735000
ASCBIQEA EQU   ASCB+160                                                 03736000
ASCBXMPQ EQU   ASCB+156                                                 03737000
ASCBRS01 EQU   ASCB+154                                                 03738000
ASCBFMCT EQU   ASCB+152                                                 03739000
ASCBOUXB EQU   ASCB+148                                                 03740000
ASCBOUCB EQU   ASCB+144                                                 03741000
ASCBMECB EQU   ASCB+140                                                 03742000
ASCBQECB EQU   ASCB+136                                                 03743000
ASCBLSQH EQU   ASCBLKGP+4                                               03744000
ASCBLOCK EQU   ASCBLKGP                                                 03745000
ASCBTCBS EQU   ASCB+124                                                 03746000
ASCBNVSC EQU   ASCB+122                                                 03747000
ASCBVSC  EQU   ASCB+120                                                 03748000
ASCBSRBS EQU   ASCB+118                                                 03749000
ASCBSSRB EQU   ASCB+116                                                 03750000
ASCBRV06 EQU   ASCBFLG2                                                 03751000
ASCBRV05 EQU   ASCBFLG2                                                 03752000
ASCBRV04 EQU   ASCBFLG2                                                 03753000
ASCBSNQS EQU   ASCBFLG2                                                 03754000
ASCBS2S  EQU   ASCBFLG2                                                 03755000
ASCBCEXT EQU   ASCBFLG2                                                 03756000
ASCBPXMT EQU   ASCBFLG2                                                 03757000
ASCBXMPT EQU   ASCBFLG2                                                 03758000
ASCBRF07 EQU   ASCBDSP1                                                 03759000
ASCBRF06 EQU   ASCBDSP1                                                 03760000
ASCBRF05 EQU   ASCBDSP1                                                 03761000
ASCBRF04 EQU   ASCBDSP1                                                 03762000
ASCBRF03 EQU   ASCBDSP1                                                 03763000
ASCBRF02 EQU   ASCBDSP1                                                 03764000
ASCBFAIL EQU   ASCBDSP1                                                 03765000
ASCBNOQ  EQU   ASCBDSP1                                                 03766000
ASCBSWCT EQU   ASCB+112                                                 03767000
ASCBASXB EQU   ASCB+108                                                 03768000
ASCBTMCH EQU   ASCB+104                                                 03769000
ASCBNSWP EQU   ASCBFLG1                                                 03770000
ASCBTYP1 EQU   ASCBFLG1                                                 03771000
ASCBSTND EQU   ASCBFLG1                                                 03772000
ASCBABNT EQU   ASCBFLG1                                                 03773000
ASCBTERM EQU   ASCBFLG1                                                 03774000
ASCBS3S  EQU   ASCBFLG1                                                 03775000
ASCBCMSH EQU   ASCBFLG1                                                 03776000
ASCBTOFF EQU   ASCBFLG1                                                 03777000
ASCBRF01 EQU   ASCBRCTF                                                 03778000
ASCBTMLW EQU   ASCBRCTF                                                 03779000
ASCBOUT  EQU   ASCBRCTF                                                 03780000
ASCBWAIT EQU   ASCBRCTF                                                 03781000
ASCBRV08 EQU   ASCBRCTF                                                 03782000
ASCBFQU  EQU   ASCBRCTF                                                 03783000
ASCBFRS  EQU   ASCBRCTF                                                 03784000
ASCBTMNO EQU   ASCBRCTF                                                 03785000
ASCBAFFN EQU   ASCBFW1                                                  03786000
ASCBDUMP EQU   ASCB+96                                                  03787000
ASCBRV44 EQU   ASCB+92                                                  03788000
ASCBUBET EQU   ASCB+88                                                  03789000
ASCBECB  EQU   ASCB+84                                                  03790000
ASCBJSTL EQU   ASCB+80                                                  03791000
ASCBEWST EQU   ASCB+72                                                  03792000
ASCBEJST EQU   ASCB+64                                                  03793000
ASCBTSB  EQU   ASCB+60                                                  03794000
ASCBCSCB EQU   ASCB+56                                                  03795000
ASCBLDA  EQU   ASCB+48                                                  03796000
ASCBSTOR EQU   ASCB+44                                                  03797000
ASCBDP   EQU   ASCB+43                                                  03798000
ASCBRV07 EQU   ASCB+42                                                  03799000
ASCBIOSM EQU   ASCB+40                                                  03800000
ASCBSEQN EQU   ASCB+38                                                  03801000
ASCBCPUS EQU   ASCB+32                                                  03802000
ASCBSPL  EQU   ASCB+28                                                  03803000
ASCBIOSP EQU   ASCB+24                                                  03804000
ASCBSYNC EQU   ASCBSUPC+4                                               03805000
ASCBSVRB EQU   ASCBSUPC                                                 03806000
ASCBCMSF EQU   ASCB+12                                                  03807000
ASCBBWDP EQU   ASCB+8                                                   03808000
ASCBFWDP EQU   ASCB+4                                                   03809000
ASCBASCB EQU   ASCB                                                     03810000
ASCBEGIN EQU   ASCB                                                     03811000
AIADPXCT EQU   AIALGE                                                   03812000
AIACEPTR EQU   AIALPMEP                                                 03813000
AIASLOT  EQU   AIASSID+1                                                03814000
@NM00002 EQU   AIASSID                                                  03815000
@NM00001 EQU   AIALSID                                                  03816000
AIARCSN  EQU   AIANXAIA+2                                               03817000
AIACYL   EQU   AIANXAIA                                                 03818000
AIARSV9  EQU   AIAFLG3                                                  03819000
AIARSV8  EQU   AIAFLG3                                                  03820000
AIARSV7  EQU   AIAFLG3                                                  03821000
AIALPMEC EQU   AIAFLG3                                                  03822000
AIARSV6  EQU   AIAFLG3                                                  03823000
AIATRPSP EQU   AIAFLG3                                                  03824000
AIAPRINO EQU   AIAFLG3                                                  03825000
AIARSV5  EQU   AIAFLG3                                                  03826000
AIASECER EQU   AIAFLG2                                                  03827000
AIARSV4  EQU   AIAFLG2                                                  03828000
AIAIORTY EQU   AIAFLG2                                                  03829000
AIAFRAUX EQU   AIAFLG2                                                  03830000
AIARSV1  EQU   AIAFLG1                                                  03831000
AIASWPFX EQU   AIAFLG1                                                  03832000
AIAPAGDS EQU   AIAFLG1                                                  03833000
AIADUPLX EQU   AIAFLG1                                                  03834000
AIAVIO   EQU   AIAFLG1                                                  03835000
AIAPRIV  EQU   AIAFLG1                                                  03836000
AIAOP    EQU   AIA+8                                                    03837000
AIABQPA  EQU   AIA+4                                                    03838000
AIAFQPA  EQU   AIA                                                      03839000
@NM00040 EQU   PSA+3668                                                 03840000
PSASTAK  EQU   PSA+3072                                                 03841000
@NM00039 EQU   PSA+1048                                                 03842000
PSAUSEND EQU   PSA+1048                                                 03843000
PSARV062 EQU   PSA+1044                                                 03844000
PSACDAL  EQU   PSA+1040                                                 03845000
PSAWTCOD EQU   PSA+1036                                                 03846000
PSAATCVT EQU   PSA+1032                                                 03847000
PSAPCPSW EQU   PSA+1024                                                 03848000
PSAPIR2  EQU   PSA+1020                                                 03849000
PSARV059 EQU   PSA+1018                                                 03850000
PSASVC13 EQU   PSA+1016                                                 03851000
PSALSFCC EQU   PSA+1012                                                 03852000
PSASFACC EQU   PSA+1008                                                 03853000
PSASTOP  EQU   PSA+992                                                  03854000
PSASTART EQU   PSA+976                                                  03855000
PSARSPSW EQU   PSA+968                                                  03856000
PSASRPSW EQU   PSA+960                                                  03857000
PSARV045 EQU   PSA+892                                                  03858000
PSARV044 EQU   PSA+888                                                  03859000
PSARV043 EQU   PSA+884                                                  03860000
PSARV042 EQU   PSA+880                                                  03861000
PSARV041 EQU   PSA+876                                                  03862000
PSARV040 EQU   PSA+872                                                  03863000
PSARV025 EQU   PSA+868                                                  03864000
PSADSSED EQU   PSA+868                                                  03865000
PSADSSPR EQU   PSA+864                                                  03866000
PSADSSFW EQU   PSA+860                                                  03867000
PSADSS14 EQU   PSA+856                                                  03868000
PSADSSPP EQU   PSA+848                                                  03869000
PSADSSRP EQU   PSA+840                                                  03870000
PSADSS05 EQU   PSADSSF4                                                 03871000
PSADSS10 EQU   PSADSSF4                                                 03872000
PSADSSVE EQU   PSADSSF4                                                 03873000
PSADSSDE EQU   PSADSSF4                                                 03874000
PSADSSC0 EQU   PSADSSF4                                                 03875000
PSADSSIE EQU   PSADSSF4                                                 03876000
PSADSS12 EQU   PSADSSF4                                                 03877000
PSADSSRC EQU   PSADSSF4                                                 03878000
PSARV057 EQU   PSADSSF3                                                 03879000
PSARV056 EQU   PSADSSF3                                                 03880000
PSARV055 EQU   PSADSSF3                                                 03881000
PSADSSMC EQU   PSADSSF3                                                 03882000
PSADSSRW EQU   PSADSSF3                                                 03883000
PSADSSNM EQU   PSADSSF3                                                 03884000
PSADSSES EQU   PSADSSF3                                                 03885000
PSADSSGP EQU   PSADSSF3                                                 03886000
PSADSSF2 EQU   PSADSSFL+1                                               03887000
PSADSSPI EQU   PSADSSF1                                                 03888000
PSADSSOI EQU   PSADSSF1                                                 03889000
PSADSSSP EQU   PSADSSF1                                                 03890000
PSADSSTP EQU   PSADSSF1                                                 03891000
PSADSSDW EQU   PSADSSF1                                                 03892000
PSADSSDD EQU   PSADSSF1                                                 03893000
PSADSSDM EQU   PSADSSF1                                                 03894000
PSADSSMV EQU   PSADSSF1                                                 03895000
PSADSSTS EQU   PSA+816                                                  03896000
PSADSSWK EQU   PSA+812                                                  03897000
PSADSSR3 EQU   PSA+808                                                  03898000
PSADSSR2 EQU   PSA+804                                                  03899000
PSADSSRS EQU   PSA+800                                                  03900000
PSASTOR  EQU   PSA+796                                                  03901000
PSACPUSA EQU   PSA+794                                                  03902000
PSAVSTAP EQU   PSA+792                                                  03903000
PSAWKVAP EQU   PSA+788                                                  03904000
PSAWKRAP EQU   PSA+784                                                  03905000
PSAMCHIC EQU   PSA+783                                                  03906000
PSARV061 EQU   PSA+782                                                  03907000
PSASYMSK EQU   PSA+781                                                  03908000
PSAMCHFL EQU   PSA+780                                                  03909000
PSACR0   EQU   PSA+776                                                  03910000
PSAPSWSV EQU   PSA+768                                                  03911000
PSALITA  EQU   PSA+764                                                  03912000
PSACLHS  EQU   PSAHLHI                                                  03913000
PSALKR15 EQU   PSALKSA+60                                               03914000
PSALKR14 EQU   PSALKSA+56                                               03915000
PSALKR13 EQU   PSALKSA+52                                               03916000
PSALKR12 EQU   PSALKSA+48                                               03917000
PSALKR11 EQU   PSALKSA+44                                               03918000
PSALKR10 EQU   PSALKSA+40                                               03919000
PSALKR9  EQU   PSALKSA+36                                               03920000
PSALKR8  EQU   PSALKSA+32                                               03921000
PSALKR7  EQU   PSALKSA+28                                               03922000
PSALKR6  EQU   PSALKSA+24                                               03923000
PSALKR5  EQU   PSALKSA+20                                               03924000
PSALKR4  EQU   PSALKSA+16                                               03925000
PSALKR3  EQU   PSALKSA+12                                               03926000
PSALKR2  EQU   PSALKSA+8                                                03927000
PSALKR1  EQU   PSALKSA+4                                                03928000
PSALKR0  EQU   PSALKSA                                                  03929000
PSARV023 EQU   PSACLHT+52                                               03930000
PSALOCAL EQU   PSACLHT+48                                               03931000
PSACMSL  EQU   PSACLHT+44                                               03932000
PSAOPTL  EQU   PSACLHT+40                                               03933000
PSATPACL EQU   PSACLHT+36                                               03934000
PSATPDNL EQU   PSACLHT+32                                               03935000
PSATPNCL EQU   PSACLHT+28                                               03936000
PSAIOSLL EQU   PSACLHT+24                                               03937000
PSAIOSUL EQU   PSACLHT+20                                               03938000
PSAIOSCL EQU   PSACLHT+16                                               03939000
PSAIOSSL EQU   PSACLHT+12                                               03940000
PSASALCL EQU   PSACLHT+8                                                03941000
PSAASML  EQU   PSACLHT+4                                                03942000
PSADISPL EQU   PSACLHT                                                  03943000
PSASRSA  EQU   PSA+636                                                  03944000
PSARV050 EQU   PSA+634                                                  03945000
PSADSSGO EQU   PSA+633                                                  03946000
PSARECUR EQU   PSA+632                                                  03947000
PSAHLHIS EQU   PSA+628                                                  03948000
PSAIPCSA EQU   PSA+624                                                  03949000
@NM00038 EQU   PSA+621                                                  03950000
PSAIPCDM EQU   PSA+620                                                  03951000
PSAIPCD  EQU   PSA+616                                                  03952000
@NM00037 EQU   PSA+613                                                  03953000
PSAIPCRM EQU   PSA+612                                                  03954000
PSAIPCR  EQU   PSA+608                                                  03955000
PSAMCHEX EQU   PSA+600                                                  03956000
PSAMPSW  EQU   PSA+592                                                  03957000
PSAEXPS2 EQU   PSA+584                                                  03958000
PSAEXPS1 EQU   PSA+576                                                  03959000
PSAPIREG EQU   PSA+572                                                  03960000
PSARSREG EQU   PSA+568                                                  03961000
PSAGPREG EQU   PSA+556                                                  03962000
PSARV022 EQU   PSASUP4                                                  03963000
PSARV021 EQU   PSASUP4                                                  03964000
PSARV020 EQU   PSASUP4                                                  03965000
PSARV019 EQU   PSASUP4                                                  03966000
PSARV018 EQU   PSASUP4                                                  03967000
PSARV017 EQU   PSASUP4                                                  03968000
PSARV016 EQU   PSASUP4                                                  03969000
PSARV015 EQU   PSASUP4                                                  03970000
PSARV014 EQU   PSASUP3                                                  03971000
PSARV013 EQU   PSASUP3                                                  03972000
PSARV012 EQU   PSASUP3                                                  03973000
PSAESTA  EQU   PSASUP3                                                  03974000
PSASPR   EQU   PSASUP3                                                  03975000
PSAPSREG EQU   PSASUP3                                                  03976000
PSAPI2   EQU   PSASUP3                                                  03977000
PSAIOSUP EQU   PSASUP3                                                  03978000
PSALCR   EQU   PSASUP2                                                  03979000
PSARTM   EQU   PSASUP2                                                  03980000
PSAACR   EQU   PSASUP2                                                  03981000
PSAIPCE2 EQU   PSASUP2                                                  03982000
PSAIPCES EQU   PSASUP2                                                  03983000
PSAIPCEC EQU   PSASUP2                                                  03984000
PSAGTF   EQU   PSASUP2                                                  03985000
PSAIPCRI EQU   PSASUP2                                                  03986000
PSATYPE6 EQU   PSASUP1                                                  03987000
PSATCTL  EQU   PSASUP1                                                  03988000
PSADISP  EQU   PSASUP1                                                  03989000
PSALOCK  EQU   PSASUP1                                                  03990000
PSAPI    EQU   PSASUP1                                                  03991000
PSAEXT   EQU   PSASUP1                                                  03992000
PSASVC   EQU   PSASUP1                                                  03993000
PSAIO    EQU   PSASUP1                                                  03994000
PSAAOLD  EQU   PSA+548                                                  03995000
PSAANEW  EQU   PSA+544                                                  03996000
PSATOLD  EQU   PSA+540                                                  03997000
PSATNEW  EQU   PSA+536                                                  03998000
PSALCCAR EQU   PSA+532                                                  03999000
PSALCCAV EQU   PSA+528                                                  04000000
PSAPCCAR EQU   PSA+524                                                  04001000
PSAPCCAV EQU   PSA+520                                                  04002000
PSACPULA EQU   PSA+518                                                  04003000
PSACPUPA EQU   PSA+516                                                  04004000
PSAPSA   EQU   PSA+512                                                  04005000
FLCHDEND EQU   PSA+512                                                  04006000
FLCCRSAV EQU   FLCMCLA+280                                              04007000
FLCGRSAV EQU   FLCMCLA+216                                              04008000
FLCFPSAV EQU   FLCMCLA+184                                              04009000
FLCFLA   EQU   FLCMCLA+88                                               04010000
FLCRGNCD EQU   FLCMCLA+84                                               04011000
FLCFSAA  EQU   FLCFSA+1                                                 04012000
@NM00036 EQU   FLCFSA                                                   04013000
@NM00035 EQU   FLCMCLA+72                                               04014000
FLCMCIC  EQU   FLCMCLA+64                                               04015000
@NM00034 EQU   FLCMCLA+20                                               04016000
FLCIOAA  EQU   FLCIOA+1                                                 04017000
@NM00033 EQU   FLCIOA                                                   04018000
@NM00032 EQU   FLCMCLA+15                                               04019000
@NM00031 EQU   FLCMCLA+14                                               04020000
@NM00030 EQU   FLCMCLA+12                                               04021000
FLCLCL   EQU   FLCMCLA+8                                                04022000
FLCIOELA EQU   FLCIOEL+1                                                04023000
@NM00029 EQU   FLCIOEL                                                  04024000
FLCCHNID EQU   FLCMCLA                                                  04025000
@NM00028 EQU   PSA+160                                                  04026000
FLCMTRCD EQU   PSA+157                                                  04027000
@NM00027 EQU   PSA+156                                                  04028000
FLCPERA  EQU   FLCPER+1                                                 04029000
@NM00026 EQU   FLCPER                                                   04030000
@NM00025 EQU   PSA+151                                                  04031000
FLCPERCD EQU   PSA+150                                                  04032000
FLCMCNUM EQU   PSA+149                                                  04033000
@NM00024 EQU   PSA+148                                                  04034000
FLCTEAA  EQU   FLCTEA+1                                                 04035000
@NM00023 EQU   FLCTEA                                                   04036000
PSAPIPC  EQU   PSAPICOD                                                 04037000
PSAPIMC  EQU   PSAPICOD                                                 04038000
PSAPIPER EQU   PSAPICOD                                                 04039000
PSARV049 EQU   FLCPICOD                                                 04040000
FLCPILCB EQU   FLCPIILC                                                 04041000
@NM00022 EQU   FLCPIILC                                                 04042000
@NM00021 EQU   PSAEPPSW                                                 04043000
FLCSVCN  EQU   PSAESPSW+2                                               04044000
FLCSILCB EQU   FLCSVILC                                                 04045000
@NM00020 EQU   FLCSVILC                                                 04046000
@NM00019 EQU   PSAESPSW                                                 04047000
FLCEICOD EQU   PSAEEPSW+2                                               04048000
PSASPAD  EQU   PSAEEPSW                                                 04049000
@NM00018 EQU   PSA+128                                                  04050000
FLCINPSW EQU   PSA+120                                                  04051000
FLCMNPSW EQU   PSA+112                                                  04052000
FLCPNPSW EQU   PSA+104                                                  04053000
FLCSNPSW EQU   PSA+96                                                   04054000
FLCENPSW EQU   PSA+88                                                   04055000
FLCTRACE EQU   PSA+84                                                   04056000
FLCTIMER EQU   PSA+80                                                   04057000
FLCCVT2  EQU   PSA+76                                                   04058000
FLCCAW   EQU   PSA+72                                                   04059000
FLCCSW   EQU   PSA+64                                                   04060000
FLCIOPSW EQU   PSA+56                                                   04061000
FLCMOPSW EQU   PSA+48                                                   04062000
FLCPOPSW EQU   PSA+40                                                   04063000
FLCSOPSW EQU   PSA+32                                                   04064000
FLCEOPSW EQU   PSA+24                                                   04065000
@NM00017 EQU   FLCICCW2+4                                               04066000
FLCICCW1 EQU   FLCROPSW                                                 04067000
FLCIPPSW EQU   FLCRNPSW                                                 04068000
*                                      END UNREFERENCED COMPONENTS      04069000
@RT00133 EQU   MOREAIAS                                                 04070000
@RT00164 EQU   FREALOFF                                                 04071000
@RF00162 EQU   FREEACB                                                  04072000
@RT00175 EQU   SCHEDCP                                                  04073000
@RT00244 EQU   REMOVE                                                   04074000
@RT00256 EQU   REMOVE                                                   04075000
@RT00282 EQU   FREEQDD                                                  04076000
@RF00309 EQU   CPWORK                                                   04077000
@RT00324 EQU   DECFRAME                                                 04078000
@RF00322 EQU   AFTERVAL                                                 04079000
@RT00332 EQU   AFTERVAL                                                 04080000
@RF00334 EQU   CPWORK                                                   04081000
@RF00453 EQU   @EL00007                                                 04082000
@RT00484 EQU   @EL00010                                                 04083000
@RF00491 EQU   @EL00010                                                 04084000
@RT00506 EQU   CKLLHLD                                                  04085000
@RT00512 EQU   @EL00010                                                 04086000
@RT00515 EQU   @EL00010                                                 04087000
@RC00565 EQU   @RC00563                                                 04088000
@RC00574 EQU   @RC00563                                                 04089000
@RC00577 EQU   @RC00574                                                 04090000
@ENDDATA EQU   *                                                        04091000
         END   IEAVPIOP,(C'PLS1652',0701,76086)                         04092000
