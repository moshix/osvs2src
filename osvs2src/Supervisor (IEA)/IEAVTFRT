TFRT     TITLE 'IEAVTFRT RTM CB INTERFACE FOR IEAVTFSD                 *00001000
                        '                                               00002000
IEAVTFRT CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(22)                                             0001 00007000
         DC    C'IEAVTFRT UZ14566 77287'                           0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                     0001 00010000
         BALR  @12,0                                               0001 00011000
@PSTART  DS    0H                                                  0001 00012000
         USING @PSTART,@12                                         0001 00013000
         L     @00,@SIZDATD                                        0001 00014000
         GETMAIN  R,LV=(0)                                              00015000
         LR    @11,@01                                             0001 00016000
         USING @DATD,@11                                           0001 00017000
         ST    @13,@SA00001+4                                      0001 00018000
         LM    @00,@01,20(@13)                                     0001 00019000
         ST    @11,8(,@13)                                         0001 00020000
         LR    @13,@11                                             0001 00021000
         MVC   @PC00001(12),0(@01)                                 0001 00022000
*                                                                  0030 00023000
*   /*****************************************************************/ 00024000
*   /*                                                               */ 00025000
*   /* BEFORE GETTING THE RECORD FORMATTED SUMMARIZE ANY MISSING DATA*/ 00026000
*   /* BY PRINTTING OUT THE MIATABLE                                 */ 00027000
*   /*                                                               */ 00028000
*   /*****************************************************************/ 00029000
*                                                                  0030 00030000
*   MIAPTR=ADDR(SMDLRDAT)+SMDLRLEN; /* LOCATE THE MIATABLE           */ 00031000
         L     @10,@PC00001+4                                      0030 00032000
         L     @10,SMDLRPTR(,@10)                                  0030 00033000
         LA    MIAPTR,SMDLRDAT(,@10)                               0030 00034000
         AL    MIAPTR,SMDLRLEN(,@10)                               0030 00035000
*   IF MIALAST(1)=OFF               /* IS THE FIRST ENTRY IN THE   0031 00036000
*                                      TABLE THE LAST ONE            */ 00037000
*     THEN                          /* NO SO THERE WAS MISSING DATA  */ 00038000
         TM    MIALAST(MIAPTR),B'10000000'                         0031 00039000
         BNZ   @RF00031                                            0031 00040000
*     DO;                                                          0032 00041000
*       ADPLFMT2=ADDR(MIATABLE);    /* PASS THE ADDRESSES OF THE   0033 00042000
*                                      MISSING DATA TO THE FORMAT  0033 00043000
*                                      SERVICE FOR INCLUSION INTO THE   00044000
*                                      MSG                           */ 00045000
         L     @10,@PC00001                                        0033 00046000
         L     @10,ABDPLPTR(,@10)                                  0033 00047000
         ST    MIAPTR,ADPLFMT2(,@10)                               0033 00048000
*       DO MIAINDEX=1 BY 1 WHILE MIALAST(MIAINDEX)=OFF;/* LOOP     0034 00049000
*                                      THROUGH THE TABLE WRITING OUT    00050000
*                                      THE RANGES OF THE MISSING DATA*/ 00051000
         LA    MIAINDEX,1                                          0034 00052000
         B     @DE00034                                            0034 00053000
@DL00034 DS    0H                                                  0035 00054000
*         R1=ADDR(ABDPL);           /* POINT TO AMDPRDMP PARM LIST   */ 00055000
         L     @10,@PC00001                                        0035 00056000
         L     @10,ABDPLPTR(,@10)                                  0035 00057000
         LR    R1,@10                                              0035 00058000
*         R0=ADDR(MIAFP);           /* POINT TO THE FORMAT PATTERN 0036 00059000
*                                      FOR THE MISSING DATA LINE     */ 00060000
         LA    R0,MIAFP                                            0036 00061000
*         CALL FMTSERV;             /* CALL FORMAT SERVICE           */ 00062000
         L     @15,ADPLFRMT(,@10)                                  0037 00063000
         BALR  @14,@15                                             0037 00064000
*         CALL LINEPRNT;            /* PRINT THE FORMATTED LINE      */ 00065000
         L     @10,@PC00001                                        0038 00066000
         L     @10,ABDPLPTR(,@10)                                  0038 00067000
         L     @15,ADPLPRNT(,@10)                                  0038 00068000
         BALR  @14,@15                                             0038 00069000
*       END;                                                       0039 00070000
         AH    MIAINDEX,@CH00048                                   0039 00071000
@DE00034 LR    @10,MIAINDEX                                        0039 00072000
         SLA   @10,3                                               0039 00073000
         ST    @10,@TF00001                                        0039 00074000
         ALR   @10,MIAPTR                                          0039 00075000
         AL    @10,@CF00286                                        0039 00076000
         TM    MIALAST(@10),B'10000000'                            0039 00077000
         BZ    @DL00034                                            0039 00078000
*       ADPLFMT1=ADDR(MIAPAD(MIAINDEX));/* POINT TO THE PAD CHAR TO     00079000
*                                      BE PUT INTO THE MSG           */ 00080000
         L     @10,@PC00001                                        0040 00081000
         L     @10,ABDPLPTR(,@10)                                  0040 00082000
         L     @05,@TF00001                                        0040 00083000
         AL    @05,@CF00287                                        0040 00084000
         LA    @05,MIAPAD-4(@05,MIAPTR)                            0040 00085000
         ST    @05,ADPLFMT1(,@10)                                  0040 00086000
*       ADPLFMT2=ADDR(MIAPAD(MIAINDEX));                           0041 00087000
         ST    @05,ADPLFMT2(,@10)                                  0041 00088000
*       R1=ADDR(ABDPL);             /* POINT TO AMDPRDMP PARM LIST   */ 00089000
         LR    R1,@10                                              0042 00090000
*       R0=ADDR(PADFP);             /* POINT TO THE FORMAT PATTERN 0043 00091000
*                                      FOR THE MISSING DATA BOTTOM 0043 00092000
*                                      LINE                          */ 00093000
         LA    R0,PADFP                                            0043 00094000
*       CALL FMTSERV;               /* CALL FORMAT SERVICE           */ 00095000
         L     @15,ADPLFRMT(,@10)                                  0044 00096000
         BALR  @14,@15                                             0044 00097000
*       CALL LINEPRNT;              /* PRINT THE FORMATTED LINE      */ 00098000
         L     @10,@PC00001                                        0045 00099000
         L     @10,ABDPLPTR(,@10)                                  0045 00100000
         L     @15,ADPLPRNT(,@10)                                  0045 00101000
         BALR  @14,@15                                             0045 00102000
*     END;                                                         0046 00103000
*                                                                  0047 00104000
*   /*****************************************************************/ 00105000
*   /*                                                               */ 00106000
*   /* LOAD THE SUBFORMATTER FOR THIS RECORD TYPE                    */ 00107000
*   /*                                                               */ 00108000
*   /*****************************************************************/ 00109000
*                                                                  0047 00110000
*   IF SMDLRID=SMDIHSA              /* COMPARE THE ID OF THE RECORD     00111000
*                                      TO BE FORMATTED WITH THE VALUE   00112000
*                                      FOR THE INTERRUPT HANDLER   0047 00113000
*                                      SAVEAREA                      */ 00114000
*     THEN                          /* IF THIS IS AN IHSA RECORD     */ 00115000
@RF00031 L     @10,@PC00001+4                                      0047 00116000
         L     @10,SMDLRPTR(,@10)                                  0047 00117000
         CLC   SMDLRID(2,@10),@CH00098                             0047 00118000
         BNE   @RF00047                                            0047 00119000
*     DO;                           /* LOAD EP(IHSAMOD) ERRET(NOLOAD)*/ 00120000
*       RESPECIFY                                                  0049 00121000
*        (GPR00P,                                                  0049 00122000
*         GPR01P,                                                  0049 00123000
*         GPR15F) RESTRICTED;                                      0049 00124000
*       GPR00P=ADDR(IHSAMOD);       /* LOAD ENTRY POINT NAME ADDRESS */ 00125000
         LA    GPR00P,IHSAMOD                                      0050 00126000
*       GPR01P=0;                   /* JOBLIB OR LINKLIB DCB         */ 00127000
         SLR   GPR01P,GPR01P                                       0051 00128000
*       GPR01P=GPR01P|'80000000'X;  /* ERROR RETURN LABEL SPECIFIED  */ 00129000
         O     GPR01P,@CF00265                                     0052 00130000
*       SVC(8);                     /* ISSUE LOAD SVC                */ 00131000
         SVC   8                                                   0053 00132000
*       IF GPR15F^=0 THEN           /* LOAD WAS UNSUCCESSFUL         */ 00133000
         LTR   GPR15F,GPR15F                                       0054 00134000
         BNZ   @RT00054                                            0054 00135000
*         GOTO NOLOAD;              /* BRANCH TO ERROR LOCATION      */ 00136000
*       RESPECIFY                                                  0056 00137000
*        (GPR00P,                                                  0056 00138000
*         GPR01P,                                                  0056 00139000
*         GPR15F) UNRESTRICTED;                                    0056 00140000
*     END;                          /* LOAD EP(IHSAMOD) ERRET(NOLOAD)*/ 00141000
*   ELSE                            /* IF NOT THE IHSA               */ 00142000
*     IF SMDLRID=SMDRTM2A           /* COMPARE WITH THE VALUE FOR THE   00143000
*                                      RTM2WA                        */ 00144000
*       THEN                        /* IF THIS IS AN RTM2WA RECORD   */ 00145000
         B     @RC00047                                            0058 00146000
@RF00047 L     @10,@PC00001+4                                      0058 00147000
         L     @10,SMDLRPTR(,@10)                                  0058 00148000
         CLC   SMDLRID(2,@10),@CH00191                             0058 00149000
         BNE   @RF00058                                            0058 00150000
*       DO;                         /* LOAD EP(RTM2MOD) ERRET(NOLOAD)*/ 00151000
*         RESPECIFY                                                0060 00152000
*          (GPR00P,                                                0060 00153000
*           GPR01P,                                                0060 00154000
*           GPR15F) RESTRICTED;                                    0060 00155000
*         GPR00P=ADDR(RTM2MOD);     /* LOAD ENTRY POINT NAME ADDRESS */ 00156000
         LA    GPR00P,RTM2MOD                                      0061 00157000
*         GPR01P=0;                 /* JOBLIB OR LINKLIB DCB         */ 00158000
         SLR   GPR01P,GPR01P                                       0062 00159000
*         GPR01P=GPR01P|'80000000'X;/* ERROR RETURN LABEL SPECIFIED  */ 00160000
         O     GPR01P,@CF00265                                     0063 00161000
*         SVC(8);                   /* ISSUE LOAD SVC                */ 00162000
         SVC   8                                                   0064 00163000
*         IF GPR15F^=0 THEN         /* LOAD WAS UNSUCCESSFUL         */ 00164000
         LTR   GPR15F,GPR15F                                       0065 00165000
         BNZ   @RT00065                                            0065 00166000
*           GOTO NOLOAD;            /* BRANCH TO ERROR LOCATION      */ 00167000
*         RESPECIFY                                                0067 00168000
*          (GPR00P,                                                0067 00169000
*           GPR01P,                                                0067 00170000
*           GPR15F) UNRESTRICTED;                                  0067 00171000
*       END;                        /* LOAD EP(RTM2MOD) ERRET(NOLOAD)*/ 00172000
*     ELSE                          /* IF NONE THEN DO NOTHING       */ 00173000
*NOLOAD:                            /* IF THE LOAD FAILED THEN DO  0069 00174000
*                                      NOTHING                       */ 00175000
*       RETURN CODE(4);             /* RETURN TO IEAVTFSD CODE 4 TO     00176000
*                                      SHOW NO FORMATTING DONE       */ 00177000
         B     @RC00058                                            0069 00178000
@RF00058 DS    0H                                                  0069 00179000
NOLOAD   L     @13,4(,@13)                                         0069 00180000
         L     @00,@SIZDATD                                        0069 00181000
         LR    @01,@11                                             0069 00182000
         FREEMAIN R,LV=(0),A=(1)                                        00183000
         LA    @15,4                                               0069 00184000
         L     @14,12(,@13)                                        0069 00185000
         LM    @00,@12,20(@13)                                     0069 00186000
         BR    @14                                                 0069 00187000
*   FMTRTNP=R0;                     /* SAVE THE ADDRESS FROM LOAD    */ 00188000
@RC00058 DS    0H                                                  0070 00189000
@RC00047 LR    FMTRTNP,R0                                          0070 00190000
*   FAKEPL=ABDPL;                   /* COPY THE AMDPRDMP PARMLIST    */ 00191000
         LA    @10,PLAREA                                          0071 00192000
         L     @02,@PC00001                                        0071 00193000
         L     @02,ABDPLPTR(,@02)                                  0071 00194000
         MVC   FAKEPL(60,@10),ABDPL(@02)                           0071 00195000
*   RFY                                                            0072 00196000
*     ABDPL BASED(ADDR(FAKEPL));    /* SWITCH THE MAPPING TO THE COPY   00197000
*                                      OF THE PARMLIST WHICH WILL BE    00198000
*                                      USED                          */ 00199000
*   ADPLMEMA=ADDR(FAKEDAS);         /* SUBSTITUTE THE FAKE DUMP    0073 00200000
*                                      ACCESS SERVICE ROUTINE ADDRESS*/ 00201000
         LA    @02,FAKEDAS                                         0073 00202000
         ST    @02,ADPLMEMA(,@10)                                  0073 00203000
*   STM(DATAREG,BASEREG,REGSAVE);   /* SAVE REGS NEEDED FOR FAKEDAS     00204000
*                                      ADDRESSABILITY                */ 00205000
         STM   DATAREG,BASEREG,REGSAVE(@10)                        0074 00206000
*   ADPLCOM1=ADDR(WORKAREA);        /* THE FMT RTNS BEING CALLED   0075 00207000
*                                      EXPECT A WORKAREA             */ 00208000
         LA    @02,WORKAREA                                        0075 00209000
         ST    @02,ADPLCOM1(,@10)                                  0075 00210000
*   ADPLFMT1=0;                     /* THIS FIELD IS EXPECTED TO   0076 00211000
*                                      CONTAIN THE STARTING VALUE FOR   00212000
*                                      THE DISPLACEMENT GENERATED AT    00213000
*                                      THE LEFT SIDE OF THE FORMATTED   00214000
*                                      DATA AREA                     */ 00215000
         SLR   @02,@02                                             0076 00216000
         ST    @02,ADPLFMT1(,@10)                                  0076 00217000
*   ADPLFMT2=SMDLRADR;              /* THIS FIELD IS EXPECTED TO   0077 00218000
*                                      CONTAIN THE DUMP ADDRESS OF 0077 00219000
*                                      THE DATA AREA TO BE FORMATTED.*/ 00220000
         L     @15,@PC00001+4                                      0077 00221000
         L     @15,SMDLRPTR(,@15)                                  0077 00222000
         MVC   ADPLFMT2(4,@10),SMDLRADR(@15)                       0077 00223000
*   READCNT=0;                      /* INIT THE COUNT OF THE NUMBER     00224000
*                                      OF TIMES FAKEDAS HAS BEEN   0078 00225000
*                                      CALLED                        */ 00226000
         ST    @02,READCNT(,@10)                                   0078 00227000
*   R1=ADDR(FMTRTNPL);              /* PASS THE EXTENDED PARMLIST TO    00228000
*                                      THE FMT RTN                   */ 00229000
         LR    R1,@10                                              0079 00230000
*   CALL FMTRTN;                    /* CALL THE FMT SUBRTN LOADED    */ 00231000
         LR    @15,FMTRTNP                                         0080 00232000
         BALR  @14,@15                                             0080 00233000
*   RETURN CODE(0);                                                0081 00234000
         L     @13,4(,@13)                                         0081 00235000
         L     @00,@SIZDATD                                        0081 00236000
         LR    @01,@11                                             0081 00237000
         FREEMAIN R,LV=(0),A=(1)                                        00238000
         SLR   @15,@15                                             0081 00239000
         L     @14,12(,@13)                                        0081 00240000
         LM    @00,@12,20(@13)                                     0081 00241000
         BR    @14                                                 0081 00242000
*FAKEDAS:                                                          0082 00243000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0082 00244000
*                                                                  0082 00245000
FAKEDAS  DS    0H                                                  0083 00246000
*   /*****************************************************************/ 00247000
*   /*                                                               */ 00248000
*   /* THIS PROC REPRESENTS THE FAKE DUMP ACCESS SERVICE WHOSE       */ 00249000
*   /* ADDRESS IS SUBSTITUTED IN THE COPY OF THE AMDPRDMP PARMLIST   */ 00250000
*   /* PASSED TO THE FMT SUBRTNS CALLED. IT WILL BE CALLED BY THEM   */ 00251000
*   /* AND BY THE FORMAT SERVICE EACH TIME DATA FROM THE DUMP IS     */ 00252000
*   /* NEEDED. R0 WILL CONTAIN THE DUMP ADDRESS THAT IS TO BE READ   */ 00253000
*   /* INTO STORAGE, AND THE ALTERED TO BE THE STORAGE ADDRESS OF THE*/ 00254000
*   /* DATA. IN FACT THE FMT SUBRTN WAS GIVEN, AS THE ADDRESS OF THE */ 00255000
*   /* DATA AREA TO BE FMT, THE STORAGE ADDRESS WHERE THE DATA HAD   */ 00256000
*   /* ALREADY BEEN RECONSTRUCTED. THERFORE THE ADDRESS IN R0 DOES   */ 00257000
*   /* NOT NEED TO BE CHANGED, ONLY VALIDITY CHECKED TO BE SURE IT IS*/ 00258000
*   /* WITHIN THE RECONTRUCTED AREA.                                 */ 00259000
*   /*                                                               */ 00260000
*   /*****************************************************************/ 00261000
*                                                                  0083 00262000
*   RFY                                                            0083 00263000
*     R13 RSTD;                                                    0083 00264000
*   STM(R1,R14,SA);                 /* SAVE REGS IN SAVEAREA PASSED  */ 00265000
         STM   R1,R14,SA(R13)                                      0084 00266000
*   RFY                                                            0085 00267000
*     FMTRTNPL BASED(R1);                                          0085 00268000
*   RFY                                                            0086 00269000
*     RETCODE RSTD;                                                0086 00270000
*   LM(DATAREG,BASEREG,REGSAVE);    /* RESTORE REGS NEEDED FOR     0087 00271000
*                                      FAKEDAS ADDRESSABILITY        */ 00272000
         LM    DATAREG,BASEREG,REGSAVE(R1)                         0087 00273000
*   IF READCNT<3                    /* AND IS THIS ONE OF THE FIRST     00274000
*                                      THREE CALLS                   */ 00275000
*     THEN                          /* IF IT IS PASS BACK PHONIE DATA*/ 00276000
         L     @14,READCNT(,R1)                                    0088 00277000
         CH    @14,@CH00089                                        0088 00278000
         BNL   @RF00088                                            0088 00279000
*     DO;                                                          0089 00280000
*       READCNT=READCNT+1;          /* INCREMENT THE READ COUNT      */ 00281000
         AH    @14,@CH00048                                        0090 00282000
         ST    @14,READCNT(,R1)                                    0090 00283000
*       R0=IHSPDATA(READCNT);       /* PASS THE ADDRESS OF THE     0091 00284000
*                                      CORRECT PHONIE DATA BACK AS IF   00285000
*                                      READ FROM THE DUMP            */ 00286000
         SLA   @14,2                                               0091 00287000
         L     R0,IHSPDATA-4(@14)                                  0091 00288000
*       RETCODE=0;                  /* SAY IT WAS A SUCCESS          */ 00289000
         SLR   RETCODE,RETCODE                                     0092 00290000
*     END;                                                         0093 00291000
*   ELSE                            /* IF THIS ISN'T ONE OF THE FIRST   00292000
*                                      THREE CALLS WHERE PHONIE DATA    00293000
*                                      MUST BE RETURNED              */ 00294000
*     DO;                                                          0094 00295000
         B     @RC00088                                            0094 00296000
@RF00088 DS    0H                                                  0095 00297000
*       IF R0<SMDLRADR|R0>=SMDLRADR+SMDLRLEN/* COMPARE THE ADDRESS 0095 00298000
*                                      REQUESTED TO THE RANGE OF   0095 00299000
*                                      VALID ADDRESES                */ 00300000
*         THEN                      /* IF IT IS OUTSIDE THE RANGE    */ 00301000
         L     @14,@PC00001+4                                      0095 00302000
         L     @14,SMDLRPTR(,@14)                                  0095 00303000
         L     @10,SMDLRADR(,@14)                                  0095 00304000
         CR    R0,@10                                              0095 00305000
         BL    @RT00095                                            0095 00306000
         AL    @10,SMDLRLEN(,@14)                                  0095 00307000
         CR    R0,@10                                              0095 00308000
         BL    @RF00095                                            0095 00309000
@RT00095 DS    0H                                                  0096 00310000
*         RETCODE=4;                /* THEN INDICATE NOT AVAILABLE   */ 00311000
         LA    RETCODE,4                                           0096 00312000
*       ELSE                                                       0097 00313000
*         DO;                       /* IF IT IS IN THE RANGE         */ 00314000
         B     @RC00095                                            0097 00315000
@RF00095 DS    0H                                                  0098 00316000
*           R0=R0-SMDLRADR+ADDR(SMDLRDAT);/* CONVERT R0 FROM A DUMP     00317000
*                                      ADDRESS TO THE CORRESPONDING     00318000
*                                      STORAGE ADDRESS IN THE      0098 00319000
*                                      RECONSTRUCTED RECORD          */ 00320000
         L     @14,@PC00001+4                                      0098 00321000
         L     @14,SMDLRPTR(,@14)                                  0098 00322000
         LR    @10,R0                                              0098 00323000
         SL    @10,SMDLRADR(,@14)                                  0098 00324000
         LA    @14,SMDLRDAT(,@14)                                  0098 00325000
         ALR   @10,@14                                             0098 00326000
         LR    R0,@10                                              0098 00327000
*           RETCODE=0;              /* AND INDICATE SUCCESS          */ 00328000
         SLR   RETCODE,RETCODE                                     0099 00329000
*         END;                                                     0100 00330000
*     END;                                                         0101 00331000
@RC00095 DS    0H                                                  0102 00332000
*   LM(R1,R14,SA);                  /* RESTORE REGS FROM SAVEAREA    */ 00333000
@RC00088 LM    R1,R14,SA(R13)                                      0102 00334000
*   RETURN;                                                        0103 00335000
@EL00002 DS    0H                                                  0103 00336000
@EF00002 DS    0H                                                  0103 00337000
@ER00002 BR    @14                                                 0103 00338000
*   END FAKEDAS;                                                   0104 00339000
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */ 00340000
*     GPR15F FIXED(31) REG(15),                                    0105 00341000
*     GPR00P PTR(31) REG(0),                                       0105 00342000
*     GPR01P PTR(31) REG(1);                                       0105 00343000
*   DECLARE                         /* COMMON VARIABLES              */ 00344000
*     I256C CHAR(256) BASED,                                       0106 00345000
*     I031F FIXED(31) BASED,                                       0106 00346000
*     I031P PTR(31) BASED,                                         0106 00347000
*     I015F FIXED(15) BASED,                                       0106 00348000
*     I015P PTR(15) BASED,                                         0106 00349000
*     I008P PTR(8) BASED,                                          0106 00350000
*     I001C CHAR(1) BASED;                                         0106 00351000
*   END IEAVTFRT                                                   0107 00352000
*                                                                  0107 00353000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 00354000
*/*%INCLUDE SYSLIB  (IHAABDPL)                                       */ 00355000
*/*%INCLUDE SYSLIB  (IHASMDLR)                                       */ 00356000
*                                                                  0107 00357000
*       ;                                                          0107 00358000
@DATA    DS    0H                                                       00359000
@CH00048 DC    H'1'                                                     00360000
@CH00089 DC    H'3'                                                     00361000
@CH00098 DC    H'47'                                                    00362000
@CH00191 DC    H'57'                                                    00363000
@DATD    DSECT                                                          00364000
         DS    0F                                                       00365000
@SA00001 DS    18F                                                      00366000
@PC00001 DS    3F                                                       00367000
@TF00001 DS    F                                                        00368000
IEAVTFRT CSECT                                                          00369000
         DS    0F                                                       00370000
@CF00286 DC    F'-8'                                                    00371000
@CF00287 DC    F'-4'                                                    00372000
@CF00265 DC    XL4'80000000'                                            00373000
@DATD    DSECT                                                          00374000
         DS    0D                                                       00375000
PLAREA   DS    CL108                                                    00376000
WORKAREA DS    CL200                                                    00377000
IEAVTFRT CSECT                                                          00378000
         DS    0F                                                       00379000
@SIZDATD DC    AL1(0)                                                   00380000
         DC    AL3(@ENDDATD-@DATD)                                      00381000
         DS    0D                                                       00382000
PDATA2   DC    A(99999)                                                 00383000
PDATA1   DC    CL2'03'                                                  00384000
PDATA3   DC    X'00004000400000000000000000000000'                      00385000
FRRSMOD  DC    CL8'IEAFTFRR'                                            00386000
RTM2MOD  DC    CL8'IEAFTRT2'                                            00387000
IHSAMOD  DC    CL8'IEAFTIHS'                                            00388000
PATCHLOC DC    CL100'IEAVTFRT PATCH AREA. 100 BYTES LONG'               00389000
SMDWSAG  DC    AL2(6)                                                   00390000
         DC    AL2(7)                                                   00391000
         DC    AL2(8)                                                   00392000
         DC    AL2(9)                                                   00393000
         DC    AL2(10)                                                  00394000
         DC    AL2(11)                                                  00395000
         DC    AL2(12)                                                  00396000
         DC    AL2(13)                                                  00397000
         DC    AL2(14)                                                  00398000
         DC    AL2(15)                                                  00399000
         DC    AL2(16)                                                  00400000
SMDWSAC  DC    AL2(17)                                                  00401000
         DC    AL2(18)                                                  00402000
         DC    AL2(19)                                                  00403000
         DC    AL2(20)                                                  00404000
         DC    AL2(21)                                                  00405000
         DC    AL2(22)                                                  00406000
         DC    AL2(23)                                                  00407000
         DC    AL2(24)                                                  00408000
         DC    AL2(25)                                                  00409000
         DC    AL2(26)                                                  00410000
         DC    AL2(27)                                                  00411000
         DC    AL2(28)                                                  00412000
         DC    AL2(29)                                                  00413000
         DC    AL2(30)                                                  00414000
         DC    AL2(54)                                                  00415000
         DC    AL2(55)                                                  00416000
SMDWSAL  DC    AL2(31)                                                  00417000
         DC    AL2(32)                                                  00418000
         DC    AL2(33)                                                  00419000
         DC    AL2(34)                                                  00420000
         DC    AL2(35)                                                  00421000
         DC    AL2(36)                                                  00422000
         DC    AL2(37)                                                  00423000
         DC    AL2(38)                                                  00424000
         DC    AL2(39)                                                  00425000
         DC    AL2(40)                                                  00426000
         DC    AL2(41)                                                  00427000
         DC    AL2(42)                                                  00428000
         DC    AL2(43)                                                  00429000
         DC    AL2(44)                                                  00430000
         DC    AL2(45)                                                  00431000
         DS    CL2                                                      00432000
IHSPDATA DC    AL4(PDATA1)                                              00433000
         DC    AL4(PDATA2)                                              00434000
         DC    AL4(PDATA3)                                              00435000
IEAVTFRT CSECT                                                          00436000
MIAFP    DC    BL1'00000011'             BEGINNING TEXT                 00437000
         DC    XL1'F0'                                                  00438000
         DC    AL1(9)                                                   00439000
         DC    AL1(0)                                                   00440000
         DC    AL4(MIAMSG)                                              00441000
         DC    BL1'00010101'             TEXT AND FROM VALUE            00442000
         DC    XL1'F3'                                                  00443000
         DC    AL1(25)                                                  00444000
         DC    AL1(42)                                                  00445000
         DC    BL1'00010101'             TEXT AND TO VALUE              00446000
         DC    XL1'13'                                                  00447000
         DC    AL1(51)                                                  00448000
         DC    AL1(54)                                                  00449000
         DC    BL1'00000001'             ENDING TEXT                    00450000
         DC    XL1'70'                                                  00451000
         DC    AL1(63)                                                  00452000
         DC    AL1(0)                                                   00453000
         DC    AL4(0)                    END OF LIST                    00454000
         SPACE 2                                                        00455000
MIAMSG   DC    C'BYTES FROM RELATIVE DISPLACEMENTTOMISSING.'            00456000
         SPACE 2                                                        00457000
PADFP    DC    BL1'00010101'             CHAR & HEX PAD REPRESENTATIONS 00458000
         DC    XL1'00'                                                  00459000
         DC    AL1(35)                                                  00460000
         DC    AL1(40)                                                  00461000
         DC    BL1'00000011'             BEGINNING TEXT                 00462000
         DC    XL1'F0'                                                  00463000
         DC    AL1(9)                                                   00464000
         DC    AL1(0)                                                   00465000
         DC    AL4(PADMSG)                                              00466000
         DC    BL1'00000001'             MIDDLE TEXT                    00467000
         DC    XL1'90'                                                  00468000
         DC    AL1(25)                                                  00469000
         DC    AL1(0)                                                   00470000
         DC    BL1'00000001'             MIDDLE END TEXT                00471000
         DC    XL1'30'                                                  00472000
         DC    AL1(36)                                                  00473000
         DC    AL1(0)                                                   00474000
         DC    BL1'00000001'             END TEXT                       00475000
         DC    XL1'10'                                                  00476000
         DC    AL1(42)                                                  00477000
         DC    AL1(0)                                                   00478000
         DC    AL4(0)                    END OF FORMAT PATTERN          00479000
         SPACE 2                                                        00480000
PADMSG   DC    C'MISSING DATA REPLACED BY '''' X''''.'                  00481000
@DATD    DSECT                                                          00482000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                00483000
@ENDDATD EQU   *                                                        00484000
IEAVTFRT CSECT                                                          00485000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       00486000
@01      EQU   01                                                       00487000
@02      EQU   02                                                       00488000
@03      EQU   03                                                       00489000
@04      EQU   04                                                       00490000
@05      EQU   05                                                       00491000
@06      EQU   06                                                       00492000
@07      EQU   07                                                       00493000
@08      EQU   08                                                       00494000
@09      EQU   09                                                       00495000
@10      EQU   10                                                       00496000
@11      EQU   11                                                       00497000
@12      EQU   12                                                       00498000
@13      EQU   13                                                       00499000
@14      EQU   14                                                       00500000
@15      EQU   15                                                       00501000
MIAINDEX EQU   @04                                                      00502000
MIAPTR   EQU   @03                                                      00503000
FMTRTNP  EQU   @03                                                      00504000
DATAREG  EQU   @11                                                      00505000
BASEREG  EQU   @12                                                      00506000
R0       EQU   @00                                                      00507000
R13      EQU   @13                                                      00508000
R14      EQU   @14                                                      00509000
RETCODE  EQU   @15                                                      00510000
R1       EQU   @01                                                      00511000
GPR00P   EQU   @00                                                      00512000
GPR01P   EQU   @01                                                      00513000
GPR15F   EQU   @15                                                      00514000
R15      EQU   @15                                                      00515000
ABDPL    EQU   0                                                        00516000
ADPLFLAG EQU   ABDPL+7                                                  00517000
ADPLPRNT EQU   ABDPL+12                                                 00518000
ADPLMEMA EQU   ABDPL+20                                                 00519000
ADPLFRMT EQU   ABDPL+24                                                 00520000
ADPLCOM1 EQU   ABDPL+28                                                 00521000
ADPLFMT1 EQU   ABDPL+44                                                 00522000
ADPLFMT2 EQU   ABDPL+48                                                 00523000
SMDLR    EQU   0                                                        00524000
SMDLRHDR EQU   SMDLR                                                    00525000
SMDLRID  EQU   SMDLRHDR                                                 00526000
SMDLRLEN EQU   SMDLRHDR+4                                               00527000
SMDLRADR EQU   SMDLRHDR+8                                               00528000
SMDLRDAT EQU   SMDLR+20                                                 00529000
FMTSERV  EQU   0                                                        00530000
LINEPRNT EQU   0                                                        00531000
@NM00004 EQU   0                                                        00532000
SA       EQU   @NM00004+12                                              00533000
FMTRTNPL EQU   0                                                        00534000
FAKEPL   EQU   FMTRTNPL                                                 00535000
READCNT  EQU   FMTRTNPL+60                                              00536000
REGSAVE  EQU   FMTRTNPL+64                                              00537000
FMTRTN   EQU   0                                                        00538000
MIATABLE EQU   0                                                        00539000
MIABEGIN EQU   MIATABLE                                                 00540000
MIALAST  EQU   MIABEGIN                                                 00541000
MIAEND   EQU   MIATABLE+4                                               00542000
MIAPAD   EQU   MIAEND                                                   00543000
I001C    EQU   0                                                        00544000
I008P    EQU   0                                                        00545000
I015F    EQU   0                                                        00546000
I015P    EQU   0                                                        00547000
I031F    EQU   0                                                        00548000
I031P    EQU   0                                                        00549000
I256C    EQU   0                                                        00550000
ABDPLPTR EQU   0                                                        00551000
SMDLRPTR EQU   0                                                        00552000
BEGLABEL EQU   0                                                        00553000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    00554000
@NM00007 EQU   REGSAVE                                                  00555000
@NM00006 EQU   SA                                                       00556000
@NM00005 EQU   @NM00004                                                 00557000
@NM00003 EQU   SMDLRHDR+17                                              00558000
SMDLRMSG EQU   SMDLRHDR+16                                              00559000
SMDLRPL  EQU   SMDLRHDR+12                                              00560000
@NM00002 EQU   SMDLRHDR+2                                               00561000
ADPLABDA EQU   ABDPL+56                                                 00562000
ADPLEXT  EQU   ABDPL+52                                                 00563000
ADPLCOM4 EQU   ABDPL+40                                                 00564000
ADPLCOM3 EQU   ABDPL+36                                                 00565000
ADPLCOM2 EQU   ABDPL+32                                                 00566000
ADPLCVT  EQU   ABDPL+16                                                 00567000
ADPLBUF  EQU   ABDPL+8                                                  00568000
@NM00001 EQU   ADPLFLAG                                                 00569000
ADPLDMGT EQU   ADPLFLAG                                                 00570000
ADPLSYTM EQU   ADPLFLAG                                                 00571000
ADPLSNPR EQU   ADPLFLAG                                                 00572000
ADPLSBPL EQU   ABDPL+6                                                  00573000
ADPLASID EQU   ABDPL+4                                                  00574000
ADPLTCB  EQU   ABDPL                                                    00575000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      00576000
@RT00054 EQU   NOLOAD                                                   00577000
@RT00065 EQU   NOLOAD                                                   00578000
@ENDDATA EQU   *                                                        00579000
         END   IEAVTFRT,(C'PLS2125',0701,77287)                         00580000
