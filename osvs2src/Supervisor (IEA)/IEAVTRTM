         TITLE 'IEAVTRTM, RTM1 MAINLINE'                                00001000
IEAVTRTM CSECT ,                                                   0001 00002000
@MAINENT DS    0H                                                  0001 00003000
         USING *,@15                                               0001 00004000
         B     @PROLOG                                             0001 00005000
         DC    AL1(16)                                             0001 00006000
         DC    C'IEAVTRTM  78.080'                                 0001 00007000
         DROP  @15                                                      00008000
@PROLOG  BALR  @09,0                                               0001 00009000
@PSTART  LA    @11,4095(,@09)                                      0001 00010000
         USING @PSTART,@09                                         0001 00011000
         USING @PSTART+4095,@11                                    0001 00012000
RBPRFXLN EQU 64                                                         00013000
RBPRFLNA EQU 32                                                         00014000
PRBLEN   EQU 136                                                        00015000
SIRBLEN  EQU 200                                                        00016000
TIRBLEN  EQU 136                                                        00017000
IRBLEN   EQU 128                                                        00018000
SVRBLEN  EQU 224                                                        00019000
*                                      /*GEN EXTERNAL LABEL  @G17EP5W*/ 00020000
RTMSTART  EQU @PSTART               LABEL ON 1ST EXECUTABLE  @G17EP5W   00021000
          ENTRY RTMSTART         INSTRUCTION OF RTM TO ALLOW @G17EP5W   00022000
*                                   /* OTHER MODULES TO RESTORE THE     00023000
*                                      VALUE OF RTM'S BASE REG     0079 00024000
*                                                            @G17EP5W*/ 00025000
*                                                                  0079 00026000
*   /*****************************************************************/ 00027000
*   /*                                                               */ 00028000
*   /* IF ENTRY IS FROM ACR OR MCH THEN RTM MUST REPAIR AND OR RECORD*/ 00029000
*   /* THE HARDWARE FAILURE                                          */ 00030000
*   /*                                                               */ 00031000
*   /*****************************************************************/ 00032000
*                                                                  0079 00033000
*   IF R0=RT1WMACH THEN             /* IF MCH OR ACR IS CALLER       */ 00034000
         CH    R0,@CH00435                                         0079 00035000
         BNE   @RF00079                                            0079 00036000
*     DO;                           /*                       @G17EP5W*/ 00037000
*       CALL IEAVTRTH;              /* PERFORM REPAIR FUNCTION       */ 00038000
         L     @15,@CV00156                                        0081 00039000
         BALR  @14,@15                                             0081 00040000
*       GEN(LA R11,4095(R9));       /* RESTORE BASE REG      @G17EP5W*/ 00041000
         LA R11,4095(R9)                                                00042000
*     END;                          /*                       @G17EP5W*/ 00043000
*                                                                  0083 00044000
*   /*****************************************************************/ 00045000
*   /*                                                               */ 00046000
*   /* IF ENTRY WAS NOT FROM MCH OR ACR, THEN SOFTWARE PROCESSING    */ 00047000
*   /* MUST BE PERFORMED.                                            */ 00048000
*   /*                                                               */ 00049000
*   /*****************************************************************/ 00050000
*                                                                  0084 00051000
*   ELSE                            /* IF MCH IS NOT THE CALLER      */ 00052000
*     DO;                           /* PERFORM SOFTWARE PROCESSING   */ 00053000
*                                                                  0084 00054000
         B     @RC00079                                            0084 00055000
@RF00079 DS    0H                                                  0085 00056000
*       /*************************************************************/ 00057000
*       /*                                                           */ 00058000
*       /* IF ENTRY WAS FROM AN ERROR DETECTING INTERRUPT HANDLER    */ 00059000
*       /* I.E. PCFLIH, RESTART FLIH, SVC FLIH OR MCH (WHEN SOFTWARE */ 00060000
*       /* DAMAGE WAS SUSTAINED) THEN THE RTM1 MUST PROCESS THE      */ 00061000
*       /* INTERRUPT (SLIH MODE)                                     */ 00062000
*       /*                                                           */ 00063000
*       /*************************************************************/ 00064000
*                                                                  0085 00065000
*       IF R0>=SLIHLOW&             /* IF RTM1 IS OPERATING AS A     */ 00066000
*           R0<=SLIHHI              /* 2ND LEVEL INTERRUPT HANDLER   */ 00067000
*         THEN                                                     0085 00068000
         CH    R0,@CH00073                                         0085 00069000
         BL    @RF00085                                            0085 00070000
         CH    R0,@CH00032                                         0085 00071000
         BH    @RF00085                                            0085 00072000
*         DO;                       /* DO INTERRUPT PROCESSING       */ 00073000
*                                                                  0086 00074000
*           /*********************************************************/ 00075000
*           /*                                                       */ 00076000
*           /* THE FUNCTION OF THE REFRESH SEGMENT IS TO REFRESH     */ 00077000
*           /* CRITICAL COMMON FIXED CONSTANTS WHENEVER RTM SOFTWARE */ 00078000
*           /* PROCESSING IS TO BE PERFORMED. IT RECEIVES NO INPUT   */ 00079000
*           /* AND PROVIDES NO OUTPUT TO SUCCEEDING SEGMENTS OF THE  */ 00080000
*           /* RTM1. IT SHOULD BE NOTED THAT NO RECOVERY OF THE      */ 00081000
*           /* ORIGINAL ERROR IS POSSIBLE IF A SECOND ERROR OCCURS   */ 00082000
*           /* DURING THE PROCESSING OF THIS SEGMENT. IF THIS        */ 00083000
*           /* HAPPENS, ALL THE INFORMATION ABOUT THE ORIGINAL ERROR */ 00084000
*           /* IS SIMPLY LOST.                                       */ 00085000
*           /*                                                       */ 00086000
*           /*********************************************************/ 00087000
*                                                                  0087 00088000
*           DO;                     /* START OF REFRESH SEGMENT      */ 00089000
*             R7=PSACSTK;           /* HAND OPTIMIZE CODE            */ 00090000
         L     R7,PSACSTK                                          0088 00091000
*             RFY                                                  0089 00092000
*               FRRS BASED(R7);     /* BY ELIMINATING LOADS FROM   0089 00093000
*                                      PSACSTK                       */ 00094000
*             IF PSALCR='0'B THEN   /* IF RTM WAS NOT IN THE PROCESS    00095000
*                                      OF REFRESHING LOW CORE WHEN 0090 00096000
*                                      THE ERROR OCCURRED            */ 00097000
         TM    PSALCR,B'00000001'                                  0090 00098000
         BNZ   @RF00090                                            0090 00099000
*               DO;                 /* THEN REFRESH LOW CORE         */ 00100000
*                 PSALCR='1'B;      /* INDICATE RTM IS IN PROCESS OF    00101000
*                                      REFRESHING LOW CORE           */ 00102000
         OI    PSALCR,B'00000001'                                  0092 00103000
*                 CALL IEAVELCR;    /* CALL THE LOW CORE REFRESH   0093 00104000
*                                      ROUTINE                       */ 00105000
         L     @15,@CV00153                                        0093 00106000
         BALR  @14,@15                                             0093 00107000
*                 GEN(LA R11,4095(R9));/* RESTORE BASE REG   @G17EP5W*/ 00108000
         LA R11,4095(R9)                                                00109000
*                 RFY                                              0095 00110000
*                  (R8,                                            0095 00111000
*                   R10) RSTD;      /* GET REGS FOR RESTART CS       */ 00112000
*                 R8=(PSACPULA*65536)|RTMRSTID;/* PLACE RTM'S LOCK 0096 00113000
*                                      WORD IN REG                   */ 00114000
         LH    R8,PSACPULA                                         0096 00115000
         SLA   R8,16                                               0096 00116000
         O     R8,RTMRSTID                                         0096 00117000
*                 R10=NULL;         /* PLACE FREE INDICATOR IN REG   */ 00118000
         SLR   R10,R10                                             0097 00119000
*                 CS(R10,R8,CVTRSTWD);/* COMPARE RESTART RESOURCE  0098 00120000
*                                      WORD IN CVT WITH FREE       0098 00121000
*                                      INDICATOR. IF LOCK IS FREE, 0098 00122000
*                                      RTM'S LOCK WORD IS PLACED IN     00123000
*                                      IT. OTHERWISE, CURRENT LOCKED    00124000
*                                      VALUE IS PLACED IN RSTRTFRE 0098 00125000
*                                      (R10) REG.                    */ 00126000
         L     @12,CVTPTR                                          0098 00127000
         CS    R10,@08,CVTRSTWD(@12)                               0098 00128000
*                 IF R10=NULL THEN  /* IF RSTRTFRE (R10) STILL HOLDS    00129000
*                                      THE FREE INDICATOR-I.E. RTM 0099 00130000
*                                      JUST ACQUIRED THE RSTRT LOCK  */ 00131000
         LTR   R10,R10                                             0099 00132000
         BNZ   @RF00099                                            0099 00133000
*                   DO;             /* THEN RTM CAN REFRESH THE    0100 00134000
*                                      RESTART NEW PSW               */ 00135000
*                     FLCRNPSW=RESNPSW;/* REFRESH THE RESTART NEW PSW*/ 00136000
         MVC   FLCRNPSW(8),RESNPSW                                 0101 00137000
*                     CVTRSTWD=R10; /* FREE THE RESTART RESOURCE     */ 00138000
         L     @12,CVTPTR                                          0102 00139000
         ST    R10,CVTRSTWD(,@12)                                  0102 00140000
*                   END;            /* END OF RESTART PSW REFRESH    */ 00141000
*                 RFY                                              0104 00142000
*                  (R8,                                            0104 00143000
*                   R10) UNRSTD;    /* RELEASE REGS USED IN CS       */ 00144000
@RF00099 DS    0H                                                  0105 00145000
*               END;                /* LOW CORE REFRESH COMPLETE     */ 00146000
*             PSALCR='0'B;          /* INDICATE LOW CORE REFRESH IS     00147000
*                                      EITHER COMPLETE OR NOT DONE   */ 00148000
@RF00090 NI    PSALCR,B'11111110'                                  0106 00149000
*           END;                    /* END OF REFRESH SEGMENT        */ 00150000
*                                                                  0107 00151000
*           /*********************************************************/ 00152000
*           /*                                                       */ 00153000
*           /* THE FUNCTION OF THE RECURSE SEGMENT IS TO DETECT IF AN*/ 00154000
*           /* UNANTICIPATED RECURSION INTO RTM1 HAS OCCURRED. IF SO,*/ 00155000
*           /* RECOVERY ROUTINE OR ABORT PROCESSING TAKES PLACE. IF  */ 00156000
*           /* NOT, A CHECK IS MADE FOR ANTICIPATED RECURSION. IF SO,*/ 00157000
*           /* RESOURCES ACQUIRED PRIOR TO THIS RECURSIVE ENTRY WHICH*/ 00158000
*           /* ARE NO LONGER NEEDED ARE FREED AND PART OF THE RTM1WA */ 00159000
*           /* IS ZEROED. THE RTM1WA IS INITIALIZED. IF A SECOND     */ 00160000
*           /* ERROR OCCURS WHILE RTM IS IN THIS SEGMENT PROCESSING  */ 00161000
*           /* THE ORIGINAL ERROR, ONLY VERY LIMITED RECOVERY IS     */ 00162000
*           /* POSSIBLE (SEE COMMENT BELOW). ALL THE INFORMATION     */ 00163000
*           /* CONCERNING THE ORIGINAL ERROR IS LOST, AND RTM WILL   */ 00164000
*           /* PROCESS THE SECOND ERROR. THE INPUT TO THIS SEGMENT IS*/ 00165000
*           /* THE RTM1WA ADDRESSED BY THE CURRENT RSVT ENTRY IN THE */ 00166000
*           /* PSA. THE FOLLOWING REGISTERS ALSO CONTAIN INPUT -     */ 00167000
*           /* FUNCTION REGISTER (R0) - IT IS CHECK POINTED INTO THE */ 00168000
*           /* WA, ADDRPSW1 REGISTER (R2) AND ADDRPSW2 REGISTER (R3) */ 00169000
*           /* - ALSO CHECKPOINTED INTO THE WA. OUTPUT IS AN         */ 00170000
*           /* INITIALIZED RTM1WA. IF RECOVERY IS REQUIRED THIS      */ 00171000
*           /* SEGMENT WILL NOT RETURN CONTROL TO THE CALLING SEGMENT*/ 00172000
*           /* BUT WILL GO UNCONDITIONALLY TO RECOVERY ROUTINES.     */ 00173000
*           /*                                                       */ 00174000
*           /*********************************************************/ 00175000
*                                                                  0108 00176000
*           DO;                     /* START OF RECURSE SEGMENT      */ 00177000
*             RFY                                                  0109 00178000
*               R12 RSTD;           /* GET REG FOR PTR TO TRACKING 0109 00179000
*                                      AREA                          */ 00180000
*             R12=ADDR(RT1WLPTA);   /* USE TRACKING AREA IN RTM1WA   */ 00181000
         LA    R12,RT1WLPTA(,R7)                                   0110 00182000
*             RFY                                                  0111 00183000
*               RT1TRACK BASED(R12);/* USE TRACKING AREA IN THE    0111 00184000
*                                      RTM1WA FOR RECURSION CK       */ 00185000
*                                                                  0111 00186000
*             /*******************************************************/ 00187000
*             /*                                                     */ 00188000
*             /* PROCESS NON-ERROR CONDITIONS                        */ 00189000
*             /*                                                     */ 00190000
*             /*******************************************************/ 00191000
*                                                                  0112 00192000
*             IF RT1TLPN=NULL|      /* IF RTM1 WAS NOT IN CONTROL    */ 00193000
*                 RT1TLPN>=FRRRECUR THEN/* OR IF RECURSION WAS     0112 00194000
*                                      ANTICPTD (EITHER RTM MGR WAS     00195000
*                                      IN EXIT OR RESCHEDULE PHASE,     00196000
*                                      OR FRR WAS IN CONTROL)      0112 00197000
*                                                            @ZA20321*/ 00198000
         CLI   RT1TLPN(R12),0                                      0112 00199000
         BE    @RT00112                                            0112 00200000
         CLI   RT1TLPN(R12),254                                    0112 00201000
         BL    @RF00112                                            0112 00202000
@RT00112 DS    0H                                                  0113 00203000
*               DO;                 /* THEN INITIALIZE THE WORKAREA  */ 00204000
*                                                                  0113 00205000
*                 /***************************************************/ 00206000
*                 /*                                                 */ 00207000
*                 /* IF RTM1 WAS NOT IN CONTROL THEN ZERO THE ENTIRE */ 00208000
*                 /* WA                                              */ 00209000
*                 /*                                                 */ 00210000
*                 /***************************************************/ 00211000
*                                                                  0114 00212000
*                 IF RT1TLPN=NULL THEN/* IF NO LOGICAL PHASE SPECIFD */ 00213000
         CLI   RT1TLPN(R12),0                                      0114 00214000
         BNE   @RF00114                                            0114 00215000
*                   RT1W=''B;       /* THEN ZERO THE WHOLE WORKAREA  */ 00216000
*                                                                  0115 00217000
         XC    RT1W(68,R7),RT1W(R7)                                0115 00218000
*                 /***************************************************/ 00219000
*                 /*                                                 */ 00220000
*                 /* IF RTM1 WAS IN CONTROL BUT ANTICIPATES RECURSIVE*/ 00221000
*                 /* ENTRIES-FREE UP ACQUIRED EEDS AND ZERO PART OF  */ 00222000
*                 /* WA                                              */ 00223000
*                 /*                                                 */ 00224000
*                 /***************************************************/ 00225000
*                                                                  0116 00226000
*                 ELSE              /* IF LOGICAL PHASE NUM NOT 0    */ 00227000
*                   DO;                                            0116 00228000
         B     @RC00114                                            0116 00229000
@RF00114 DS    0H                                                  0117 00230000
*                     IF RT1WEED>EEDNULL THEN/* IF EEDS WERE       0117 00231000
*                                      PREVIOUSLY ACQUIRED AND NOT 0117 00232000
*                                      NEEDED                        */ 00233000
         L     @10,RT1WEED(,R7)                                    0117 00234000
         CH    @10,@CH00073                                        0117 00235000
         BNH   @RF00117                                            0117 00236000
*                       DO;         /* FREE THESE EEDS               */ 00237000
*                         RT1WPSW1=R6;/* SAVE PTR TO ENTRY EEDS    0119 00238000
*                                                            @G17EP5W*/ 00239000
         ST    R6,RT1WPSW1(,R7)                                    0119 00240000
*                         R6=RT1WEED;/* PLACE PTR TO EEDS IN REG     */ 00241000
         LR    R6,@10                                              0120 00242000
*                         RT1WEED=NULL;/* ZERO EED PTR IN WA - THIS     00243000
*                                      ACTION PROVIDES THE ONLY    0121 00244000
*                                      RECOVERY FOR THIS SEGMENT BY     00245000
*                                      INSURING THAT THIS SEGMENT  0121 00246000
*                                      WILL NOT BE REPEATED IF THE 0121 00247000
*                                      SECOND ERROR OCCURRED HERE    */ 00248000
         SLR   @10,@10                                             0121 00249000
         ST    @10,RT1WEED(,R7)                                    0121 00250000
*                         RFY                                      0122 00251000
*                           R10 RSTD;/* GET CONTROL OF WORK REGISTER */ 00252000
*                         R10=ADDR(RT1WVARI);/* POINT TO VARIABLE  0123 00253000
*                                      AREA                          */ 00254000
         LA    R10,RT1WVARI(,R7)                                   0123 00255000
*                         GEN(STM R0,R4,0(R10));/* SAVE R0-R4 IN WA  */ 00256000
         STM R0,R4,0(R10)                                               00257000
*                         CALL FREEDCEL;/* CALL ROUTINE TO FREE EEDS */ 00258000
         L     @15,@CV00162                                        0125 00259000
         BALR  @14,@15                                             0125 00260000
*                         GEN(LA R11,4095(R9));/* RESTORE BASE REG 0126 00261000
*                                                            @G17EP5W*/ 00262000
         LA R11,4095(R9)                                                00263000
*                         R6=RT1WPSW1;/* RESTORE PTR TO ENTRY EEDS   */ 00264000
         L     R6,RT1WPSW1(,R7)                                    0127 00265000
*                         R10=ADDR(RT1WVARI);/* RESTORE PTR TO     0128 00266000
*                                      VARIABLE AREA                 */ 00267000
         LA    R10,RT1WVARI(,R7)                                   0128 00268000
*                         GEN(LM R0,R4,0(R10));/* RESTORE REGISTERS  */ 00269000
         LM R0,R4,0(R10)                                                00270000
*                         RFY                                      0130 00271000
*                           R10 UNRSTD;/* RELINQUISH CONTRL OF WORKRG*/ 00272000
*                       END;        /* END OF EED PROCESSING         */ 00273000
*                     RT1WLPN=RT1TLPN;/* SAVE INITIAL LOGICAL PHASE     00274000
*                                      NUMBER SO THAT SYSTEM RECOVERY   00275000
*                                      MGR CAN DETERMINE IF FRR WAS     00276000
*                                      IN CONTROL OR RTM MGR WAS IN     00277000
*                                      CONTROL IF ANTICIPATED      0132 00278000
*                                      RECURSION             @ZA20321*/ 00279000
@RF00117 MVC   RT1WLPN(1,R7),RT1TLPN(R12)                          0132 00280000
*                     RT1WNPRS=''B; /* INITIALIZE SECTION OF WA WHICH   00281000
*                                      NEEDS NOT BE PRESERVED        */ 00282000
         XC    RT1WNPRS(52,R7),RT1WNPRS(R7)                        0133 00283000
*                   END;            /* END UNIQUE VALID RECURSION  0134 00284000
*                                      PROCESSING                    */ 00285000
*               END;                /* END NON-ERROR PROCESSING      */ 00286000
*                                                                  0135 00287000
*             /*******************************************************/ 00288000
*             /*                                                     */ 00289000
*             /* PROCESS UNANTICIPATED RECURSION                     */ 00290000
*             /*                                                     */ 00291000
*             /*******************************************************/ 00292000
*                                                                  0136 00293000
*             ELSE                                                 0136 00294000
*               DO;                 /* IF RTM WAS IN CONTROL WHEN THE   00295000
*                                      ERROR OCCURRED                */ 00296000
         B     @RC00112                                            0136 00297000
@RF00112 DS    0H                                                  0137 00298000
*                 CALL RECVRRTM;    /* SEE IF RECOVERY IS POSSIBLE -    00299000
*                                      DEPENDENT ON WHERE IN RTM'S 0137 00300000
*                                      PROCESSING THE ERROR OCCRRED  */ 00301000
         L     @15,@CV00161                                        0137 00302000
         BALR  @14,@15                                             0137 00303000
*                 GEN(LA R11,4095(R9));/* RESTORE BASE REG   @G17EP5W*/ 00304000
         LA R11,4095(R9)                                                00305000
*               END;                /*                       @G17EP5W*/ 00306000
*                                                                  0139 00307000
*             /*******************************************************/ 00308000
*             /*                                                     */ 00309000
*             /* ESTABLISH RECURSION CONTROL FOR THIS LOGICAL PHASE. */ 00310000
*             /* THE RECOVERY ACTION OF RTM IF A SECOND ERROR OCCURS */ 00311000
*             /* DURING PROCESSING OF THIS INITIAL PHASE IS CALLED   */ 00312000
*             /* ABORT PROCESSING. THIS MEANS THAT RTM WILL SIMPLY   */ 00313000
*             /* CLEAN UP AND EXIT.                                  */ 00314000
*             /*                                                     */ 00315000
*             /*******************************************************/ 00316000
*                                                                  0140 00317000
*CWTRP:                             /* RETURN PT FROM LPRR IF THERE     00318000
*                                      IS ONLY CLEAN-UP TO BE      0140 00319000
*                                      PERFORMED IN CASE OF A      0140 00320000
*                                      RECURSIVE ERROR               */ 00321000
*             GEN(LA R11,4095(R9)); /* RESTORE BASE REG      @G17EP5W*/ 00322000
@RC00112 DS    0H                                                  0140 00323000
CWTRP    LA R11,4095(R9)                                                00324000
*             RT1TLPN=MGRINIT;      /* SET LPN FOR MANGR INITLZTION  */ 00325000
         MVI   RT1TLPN(R12),X'01'                                  0141 00326000
*             RT1TENPT=R0;          /* CHECKPOINT ENTRY TYPE IN WA   */ 00327000
         STC   R0,RT1TENPT(,R12)                                   0142 00328000
*             RT1WPSW1=R2;          /* CHCKPOINT 1ST PSW ADDR IN WA  */ 00329000
         ST    R2,RT1WPSW1(,R7)                                    0143 00330000
*             RT1WPSW2=R3;          /* CHCKPOINT 2ND PSW ADDR IN WA  */ 00331000
         ST    R3,RT1WPSW2(,R7)                                    0144 00332000
*             RT1WEED=R6;           /* EEDS MAY HAVE BEEN PASSED TO     00333000
*                                      RTM1 FOR SOFTWARE HANDLING OF    00334000
*                                      MACHINE CHECKS OR FOR ABEND 0145 00335000
*                                      PROCESSING FOR A PAGE IO    0145 00336000
*                                      ERROR. THIS EED CHAIN IS    0145 00337000
*                                      PRESERVED IN THE WA FOR     0145 00338000
*                                      SUBSEQUENT HANDLING BY RTM1   */ 00339000
         ST    R6,RT1WEED(,R7)                                     0145 00340000
*           END;                    /* END OF RECURSE SEGMENT        */ 00341000
*                                                                  0146 00342000
*           /*********************************************************/ 00343000
*           /*                                                       */ 00344000
*           /* THE PURPOSE OF THE SYSTATE SEGMENT IS TO CHECK THE    */ 00345000
*           /* SYSTEM STATE INDICATORS IN THE PSA AND LCCA TO SEE IF */ 00346000
*           /* THE SYSTEM WAS IN NORMAL TASK MODE OR SYSTEM MODE AT  */ 00347000
*           /* THE TIME OF ERROR. INPUT IS THE LCCA, THE PSA, AND THE*/ 00348000
*           /* POINTER TO THE PSW AT TIME OF ERROR IN A REGISTER.    */ 00349000
*           /* OUTPUT IS AN UPDATED FIELD IN THE RTM1WA (RT1WMODE).  */ 00350000
*           /* IF A SECOND ERROR OCCURS WHILE RTM IS IN THIS SEGMENT */ 00351000
*           /* PROCESSING AN ERROR, NO ATTEMPT TO RECOVER THE        */ 00352000
*           /* ORIGINAL ERROR CAN BE MADE. INSTEAD THE RECOVERY      */ 00353000
*           /* HANDLER WILL SIMPLY CLEAN-UP AND EXIT.                */ 00354000
*           /*                                                       */ 00355000
*           /*********************************************************/ 00356000
*                                                                  0147 00357000
*           DO;                     /* START OF SYSTATE SEGMENT      */ 00358000
*                                                                  0147 00359000
*             /*******************************************************/ 00360000
*             /*                                                     */ 00361000
*             /* THE FOLLOWING CODE WAS MOVED HERE FROM THE REFRESH  */ 00362000
*             /* SEGMENT. OLD FLAGS WERE: @Z40FPXH,@ZA11378,@G17EP5W */ 00363000
*             /*                                             @ZA20555*/ 00364000
*             /*                                                     */ 00365000
*             /*******************************************************/ 00366000
*                                                                  0148 00367000
*             RFY                                                  0148 00368000
*               TCB BASED(PSATOLD); /* TCB ADDRESSABILITY    @ZA20555*/ 00369000
*             IF R0^=RT1WDAT&       /* IF NOT A DATERR AND   @ZA20555*/ 00370000
*                 LCCAASID=NULL&    /* NOT TRAS MODE AND     @ZA20555*/ 00371000
*                 PSATOLD^=NULL&    /* TCB PTR OK AND        @ZA20555*/ 00372000
*                 PSATOLD->TCBTCBID=TCBIDENT THEN/* TCBID OK THEN  0149 00373000
*                                                            @ZA20555*/ 00374000
         CH    R0,@CH00134                                         0149 00375000
         BE    @RF00149                                            0149 00376000
         SLR   @10,@10                                             0149 00377000
         L     @08,PSALCCAV                                        0149 00378000
         CL    @10,LCCAASID(,@08)                                  0149 00379000
         BNE   @RF00149                                            0149 00380000
         L     @08,PSATOLD                                         0149 00381000
         CR    @08,@10                                             0149 00382000
         BE    @RF00149                                            0149 00383000
         CLC   TCBTCBID(4,@08),@CC00201                            0149 00384000
         BNE   @RF00149                                            0149 00385000
*               DO;                 /* TCB CAN BE REF'D, SO  @ZA20555*/ 00386000
*                 TCBNONPR='0'B;    /* MAKE TCB PREEMPTIVE   @ZA20555*/ 00387000
         NI    TCBNONPR(@08),B'11101111'                           0151 00388000
*                 CALL ESTAECHK;    /* SEE IF ESTAE ACTIVE   @ZA20555*/ 00389000
         L     @15,@CV00154                                        0152 00390000
         BALR  @14,@15                                             0152 00391000
*                 GEN(LA R11,4095(R9));/* RESTORE BASE REG   @ZA20555*/ 00392000
         LA R11,4095(R9)                                                00393000
*               END;                /*                       @ZA20555*/ 00394000
*             ELSE                                                 0155 00395000
*               ;                   /*                       @ZA20555*/ 00396000
@RF00149 DS    0H                                                  0156 00397000
*             RFY                                                  0156 00398000
*               R10 RSTD;           /* GET REG FOR PTR TO MODE BYTE  */ 00399000
*             R10=ADDR(RT1WMODE);   /* USE MODE BYTE IN RTM1WA       */ 00400000
         LA    R10,RT1WMODE(,R7)                                   0157 00401000
*             RFY                                                  0158 00402000
*               MODEBYTE BASED(R10);/* USE RTM1WA FOR MODE INDICATOR    00403000
*                                      SETTINGS                      */ 00404000
*             IF PSWIO='0'B&        /* IF PSW WAS DISABLED FOR IO    */ 00405000
*                 PSWEXT='0'B THEN  /* AND PSW WAS DISABLED FOR EXT  */ 00406000
         TM    PSWIO(R2),B'00000011'                               0159 00407000
         BNZ   @RF00159                                            0159 00408000
*               MODEDIS='1'B;       /* THEN TURN ON DISABLED BIT     */ 00409000
         OI    MODEDIS(R10),B'01000000'                            0160 00410000
*             IF PSASUPER^=NULL THEN/* IF A SUPER ROUTINE WAS IN   0161 00411000
*                                      CONTROL                       */ 00412000
@RF00159 ICM   @08,15,PSASUPER                                     0161 00413000
         BZ    @RF00161                                            0161 00414000
*               MODESUPR='1'B;      /* THEN INDICATE SUPER MODE      */ 00415000
         OI    MODESUPR(R10),B'10000000'                           0162 00416000
*             RFY                                                  0163 00417000
*               R8 RSTD;            /* GET REG FOR SETLOCK TEST      */ 00418000
@RF00161 DS    0H                                                  0164 00419000
*             RFY                                                  0164 00420000
*               R15 RSTD;           /* GET REG FOR SETLOCK TEST RC   */ 00421000
*             GEN(SETLOCK TEST,TYPE=SPIN,REGS=(R8));/* TEST IF ANY 0165 00422000
*                                      SPIN LOCKS ARE HELD           */ 00423000
         SETLOCK TEST,TYPE=SPIN,REGS=(R8)                               00424000
*             GEN(LA R11,4095(R9)); /* RESTORE BASE REG      @G17EP5W*/ 00425000
         LA R11,4095(R9)                                                00426000
*             IF R15=TSTLKHEL THEN  /* IF ANY SPIN LOCKS ARE HELD    */ 00427000
         LTR   R15,R15                                             0167 00428000
         BNZ   @RF00167                                            0167 00429000
*               MODEGSPN='1'B;      /* INDICATE GLOBAL SPIN MODE     */ 00430000
         OI    MODEGSPN(R10),B'00100000'                           0168 00431000
*             RFY                                                  0169 00432000
*               R8 UNRSTD;          /* RELEASE SETLOCK TEST REG      */ 00433000
@RF00167 DS    0H                                                  0170 00434000
*             GEN(SETLOCK TEST,TYPE=CMS);/* TEST IF THE CMS LOCK IS     00435000
*                                      HELD                          */ 00436000
         SETLOCK TEST,TYPE=CMS                                          00437000
*             GEN(LA R11,4095(R9)); /* RESTORE BASE REG      @G17EP5W*/ 00438000
         LA R11,4095(R9)                                                00439000
*             IF R15=TSTLKHEL THEN  /* IF THE CMS LOCK IS HELD       */ 00440000
         LTR   R15,R15                                             0172 00441000
         BNZ   @RF00172                                            0172 00442000
*               MODEGSUS='1'B;      /* INDICATE GLOBAL SUSPEND MODE  */ 00443000
         OI    MODEGSUS(R10),B'00010000'                           0173 00444000
*             GEN(SETLOCK TEST,TYPE=LOCAL);/* TEST IF THE LOCAL LOCK    00445000
*                                      IS HELD                       */ 00446000
@RF00172 DS    0H                                                  0174 00447000
         SETLOCK TEST,TYPE=LOCAL                                        00448000
*             GEN(LA R11,4095(R9)); /* RESTORE BASE REG      @G17EP5W*/ 00449000
         LA R11,4095(R9)                                                00450000
*             IF R15=TSTLKHEL THEN  /* IF THE LOCAL LOCK IS HELD     */ 00451000
         LTR   R15,R15                                             0176 00452000
         BNZ   @RF00176                                            0176 00453000
*               DO;                 /* CHECK FOR TYPE 1 SVC ONLY IF     00454000
*                                      LOCAL LOCK HELD ON THIS CPU.     00455000
*                                      (OTHERWISE TYPE 1 SVC IS    0177 00456000
*                                      RUNNING ON OTHER CPU.)        */ 00457000
*                 MODELOC='1'B;     /* INDICATE LOCAL MODE           */ 00458000
         OI    MODELOC(R10),B'00001000'                            0178 00459000
*                 IF ASCBTYP1='1'B THEN/* IF TYPE 1 SVC SWITCH IS ON */ 00460000
         L     @14,PSAAOLD                                         0179 00461000
         TM    ASCBTYP1(@14),B'00000010'                           0179 00462000
         BNO   @RF00179                                            0179 00463000
*                   MODETYP1='1'B;  /* INDICATE TYPE 1 MODE          */ 00464000
         OI    MODETYP1(R10),B'00000100'                           0180 00465000
*               END;                /* END LOCAL LOCK PROCESSING     */ 00466000
@RF00179 DS    0H                                                  0182 00467000
*             RFY                                                  0182 00468000
*               R15 UNRSTD;         /* RELEASE SETLOCK TEST REG      */ 00469000
@RF00176 DS    0H                                                  0183 00470000
*             IF LCCASRBM='1'B THEN /* IF CPU IS IN SRB MODE THEN  0183 00471000
*                                                            @YM01836*/ 00472000
         L     @08,PSALCCAV                                        0183 00473000
         TM    LCCASRBM(@08),B'10000000'                           0183 00474000
         BNO   @RF00183                                            0183 00475000
*               MODESRB='1'B;       /* INDICATE SRB MODE             */ 00476000
         OI    MODESRB(R10),B'00000010'                            0184 00477000
*             IF MODEBYTE=NULL THEN /* IF NO SYSTEM MODE INDICATOR 0185 00478000
*                                      WAS SET ABOVE THEN            */ 00479000
@RF00183 CLI   MODEBYTE(R10),0                                     0185 00480000
         BNE   @RF00185                                            0185 00481000
*               MODETCB='1'B;       /* INDICATE TASK MODE            */ 00482000
         OI    MODETCB(R10),B'00000001'                            0186 00483000
*             IF R0=RT1WDAT THEN    /* IF AN UNRECOVERABLE         0187 00484000
*                                      TRANSLATION FAILURE OCCURED   */ 00485000
@RF00185 CH    R0,@CH00134                                         0187 00486000
         BNE   @RF00187                                            0187 00487000
*               DO;                                                0188 00488000
*                 MODETCB='0'B;     /* INSURE THAT SUBSEQUENT STEPS     00489000
*                                      DO NOT CONSIDER THIS A TASK 0189 00490000
*                                      ERROR                         */ 00491000
*                 MODEDIS='1'B;     /* CAUSE SRM TO USE GLOBAL WORK     00492000
*                                      AREAS                         */ 00493000
         OI    MODEDIS(R10),B'01000000'                            0190 00494000
         NI    MODETCB(R10),B'11111110'                            0190 00495000
*               END;                /* END DAT PROCESSING            */ 00496000
*             RFY                                                  0192 00497000
*               R10 UNRSTD;         /* RELEASE REG POINTING TO MODE     00498000
*                                      BYTE                          */ 00499000
@RF00187 DS    0H                                                  0193 00500000
*             RFY                                                  0193 00501000
*               MODEBYTE BASED(ADDR(RT1WMODE));/* USE DCL BASE FOR 0193 00502000
*                                      MODE BYTE                     */ 00503000
*           END;                    /* END OF SYSTATE SEGMENT        */ 00504000
*                                                                  0194 00505000
*           /*********************************************************/ 00506000
*           /*                                                       */ 00507000
*           /* IF THE SYSTEM WAS NOT IN TASK MODE AT THE TIME OF     */ 00508000
*           /* ERROR THEN PERFORM SYSTEM RECOVERY                    */ 00509000
*           /*                                                       */ 00510000
*           /*********************************************************/ 00511000
*                                                                  0195 00512000
*           IF(MODEBYTE&SYSMODE)^=NULL THEN/* IF SYSTEM MODE         */ 00513000
*                                                                  0195 00514000
         LA    @10,254                                             0195 00515000
         SLR   @08,@08                                             0195 00516000
         IC    @08,MODEBYTE+80(,R7)                                0195 00517000
         NR    @10,@08                                             0195 00518000
         LTR   @10,@10                                             0195 00519000
         BZ    @RF00195                                            0195 00520000
*             /*******************************************************/ 00521000
*             /*                                                     */ 00522000
*             /* THE PURPOSE OF THE SYSRCVR SEGMENT IS TO INTERFACE  */ 00523000
*             /* WITH THE SYSTEM RECOVERY MANAGER, IEAVTRTS, TO ALLOW*/ 00524000
*             /* RECORDING OF A SYSTEM ERROR TO OCCUR ON SYS1.LOGREC */ 00525000
*             /* AND TO INVOKE ANY FRRS AVAILABLE TO HANDLE THE      */ 00526000
*             /* ERROR. THIS SEGMENT ALSO ANALYZES THE RETURN        */ 00527000
*             /* INFORMATION FROM THE SRM, CONTAINED IN THE RTCA     */ 00528000
*             /* (IHASDWA) TO DETERMINE THE NEXT APPROPRIATE ACTION  */ 00529000
*             /* IN THE HANDLING OF THE ERROR - I.E. TO RESCHEDULE   */ 00530000
*             /* ANOTHER ENTRY INTO THE RTM TO CONTINUE ERROR        */ 00531000
*             /* PROCESSING, TO ALLOW THE PROGRAM WHICH SUFFERED THE */ 00532000
*             /* ERROR TO RESUME OR RETRY, OR TO SIMPLY IGNORE THE   */ 00533000
*             /* ERROR AND GO TO THE DISPATCHER. INPUT TO THIS MODULE*/ 00534000
*             /* IS AS FOLLOWS: FUNCTION REGISTER (R0) - CONTAINS    */ 00535000
*             /* INDICATION OF THE TYPE OF ERROR WHICH CAUSED ENTRY  */ 00536000
*             /* INTO THE RTM1. FLAGSCC REGISTER (R1) - CONTAINS THE */ 00537000
*             /* CALLRTM FLAGS AND COMPLETION CODE. RECVSTAK REGISTER*/ 00538000
*             /* (R4) - POINTS TO A RECOVERY STACK WHICH MAY BE USED */ 00539000
*             /* FOR SETFRRS ISSUED DURING SRMS PROCESSING. DUMPOPTS */ 00540000
*             /* (R5) CONTAINS A POINTER TO USER SPECIFIED DUMP      */ 00541000
*             /* OPTIONS IF THE ERROR CAUSING ENTRY TO THE RTM1 WAS  */ 00542000
*             /* AN ABEND INSTRUCTION. REPAIRAD REGISTER OR REPRDATA */ 00543000
*             /* REGISTER (R5) - CONTAINS THE ADDRESS OF HARDWARE    */ 00544000
*             /* REPAIR INFORMATION, IF THE EEDCHAIN REGISTER IS NON */ 00545000
*             /* ZERO (I.E. HARDWARE REAPAIR DATA CAN ONLY BE PASSED */ 00546000
*             /* IF EEDS WERE OBTAINED.) OTHERWISE, THIS REGISTER    */ 00547000
*             /* CONTAINS ABBREVIATED HARDWARE REPAIR DATA, IF EED   */ 00548000
*             /* REGISTER IS ZERO AND A MACHINE CHECK REENTRY        */ 00549000
*             /* FUNCTION IS BEING PROCESSED. SAVAREAP REGISTER (R13)*/ 00550000
*             /* - CONTAINS A POINTER TO THE GENERAL PURPOSE         */ 00551000
*             /* REGISTERS AT TIME OF ERROR. AFTER CALLING IEAVTRTS, */ 00552000
*             /* IT IS ASSUMED THAT THE INPUT REGISTERS ARE          */ 00553000
*             /* DESTROYED, AND THEIR ORIGINAL CONTENTS CAN BE BE    */ 00554000
*             /* FOUND IN THE RTM1WA AND RTCA. THE OUTPUT FROM THE   */ 00555000
*             /* SYSRCVR SEGMENT IS AS FOLLOWS: FUNCTION REGISTER    */ 00556000
*             /* (R0) - IS SET TO CAUSE EITHER A A RESCHEDULE        */ 00557000
*             /* FUNCTION TO GET CONTROL, OR IS SET WITH THE ORIGINAL*/ 00558000
*             /* ENTRY POINT FUNCTION VALUE, TO CAUSE THE RESCHED    */ 00559000
*             /* FUNCTION TO BE BYPASSED, AND TO PROVIDE INPUT TO THE*/ 00560000
*             /* EXIT FUNCTION. FLAGSCC REGISTER (R1) - IS           */ 00561000
*             /* REESTABLISHED TO CONTAIN THE COMPLETION CODE (WHICH */ 00562000
*             /* MAY HAVE BEEN ADJUSTED BY AN FRR). EEDCHAIN REGISTER*/ 00563000
*             /* (R6) - WILL CONTAIN A POINTER TO ANY EEDS WHICH HAVE*/ 00564000
*             /* BEEN ACCUMULATED. IF THE EXIT FUNCTION GETS CONTROL */ 00565000
*             /* NEXT, IT WILL FREE THESE EEDS. TRAKAREA REGISTER    */ 00566000
*             /* (R4) - IS SET TO POINT TO THE TRACKING AREA IN THE  */ 00567000
*             /* CURRENT RTM1WA. ADDITIONAL OUTPUT IS DOCUMENTED IN  */ 00568000
*             /* THE COMMENTARY TO NESTED SEGMENTS OF THE SYSRCVR    */ 00569000
*             /* SEGMENT.                                            */ 00570000
*             /*                                                     */ 00571000
*             /*******************************************************/ 00572000
*                                                                  0196 00573000
*             DO;                   /* START OF SYSRCVR SEGMENT      */ 00574000
*               CALL IEAVTRTS;      /* CALL SYSTEM RECOVERY MGR      */ 00575000
         L     @15,@CV00155                                        0197 00576000
         BALR  @14,@15                                             0197 00577000
*               GEN(LA R11,4095(R9));/* RESTORE BASE REG     @G17EP5W*/ 00578000
         LA R11,4095(R9)                                                00579000
*               R7=PSACSTK;         /* REESTABLISH REGISTER        0199 00580000
*                                      OPTIMIZATION                  */ 00581000
         L     R7,PSACSTK                                          0199 00582000
*               R12=ADDR(RT1WLPTA); /* REESTABLISH REG OPTIMIZATION  */ 00583000
         LA    R12,RT1WLPTA(,R7)                                   0200 00584000
*               RT1TLPID=RECOVRY1;  /* INDICATE SOME RECOVERY IS   0201 00585000
*                                      POSSIBLE IF ERROR OCCURS IN 0201 00586000
*                                      THIS SEGMENT                  */ 00587000
         MVI   RT1TLPID(R12),X'01'                                 0201 00588000
*POSTSRRP:                          /* RETURN POINT FROM LPRR IF   0202 00589000
*                                      ERROR OCCURS                  */ 00590000
*               GEN(LA R11,4095(R9));/* RESTORE BASE REG     @G17EP5W*/ 00591000
POSTSRRP LA R11,4095(R9)                                                00592000
*               RT1TLPN=POSTRTS;    /* LPN=PHASE NUM FOR COMPLETION     00593000
*                                      OF SYSTEM RECOVERY PROCESSNG  */ 00594000
         MVI   RT1TLPN(R12),X'02'                                  0203 00595000
*               R0=RT1TENPT;        /* REESTABLISH THE ORIGINAL    0204 00596000
*                                      FUNCTION ENTYPOINT ID         */ 00597000
         SLR   R0,R0                                               0204 00598000
         IC    R0,RT1TENPT(,R12)                                   0204 00599000
*               R1=SDWAABCC;        /* REESTABLISH THE COMP CODE     */ 00600000
         L     @10,RT1WRTCA(,R7)                                   0205 00601000
         L     R1,SDWAABCC(,@10)                                   0205 00602000
*               RT1WPSW1=ADDR(SDWAEC1);/* REESTABLISH PTR TO 1ST HALF   00603000
*                                      OF PSW FROM THE TIME OF ERROR    00604000
*                                      (NOW IN SDWA RATHER THAN LOW     00605000
*                                      CORE)                 @YM05118*/ 00606000
         LA    @08,SDWAEC1(,@10)                                   0206 00607000
         ST    @08,RT1WPSW1(,R7)                                   0206 00608000
*               RT1WPSW2=ADDR(SDWAAEC1);/* REESTABLISH PTR TO 2ND  0207 00609000
*                                      HALF OF PSW FROM THE TIME OF     00610000
*                                      ERROR (AGAIN IN SDWA) @YM05118*/ 00611000
         LA    @08,SDWAAEC1(,@10)                                  0207 00612000
         ST    @08,RT1WPSW2(,R7)                                   0207 00613000
*               R6=RT1WEED;         /* POINT TO ANY EEDS ACQUIRED  0208 00614000
*                                      THUS FAR . THIS WILL CAUSE AN    00615000
*                                      AUTOMATIC FREEING OF THESE  0208 00616000
*                                      CELLS IF IT IS SUBSEQUENTLY 0208 00617000
*                                      DETERMINED THAT FURTHER RTM 0208 00618000
*                                      HANDLING OF THIS ERROR IS NOT    00619000
*                                      TO BE PERFORMED (THEREBY    0208 00620000
*                                      OBVIATING THE NEED FOR EEDS)     00621000
*                                      OR, THIS WILL PROVIDE INPUT TO   00622000
*                                      THE EEDPROC SEGMENT IF EEDS 0208 00623000
*                                      ARE TO BE PROCESSED           */ 00624000
         L     R6,RT1WEED(,R7)                                     0208 00625000
*               R4=ADDR(RT1WLPTA);  /* PRIME TRACKING AREA PTR TO  0209 00626000
*                                      POINT TO THE TRACK AREA IN THE   00627000
*                                      RTM1WA                        */ 00628000
         LA    R4,RT1WLPTA(,R7)                                    0209 00629000
*               RFY                                                0210 00630000
*                 RT1TRACK BASED(R4);                              0210 00631000
*               IF SDWASPIN='1'B THEN/* IF AN FRR HAS INDICATED IT IS   00632000
*                                      VALIDLY SPINNING THEN         */ 00633000
         TM    SDWASPIN(@10),B'00100000'                           0211 00634000
         BNO   @RF00211                                            0211 00635000
*                 R0=RSCHDCPU;      /* CAUSE THE RTM PROCESSING TO 0212 00636000
*                                      OCCUR ON THE CPU WHICH HOLDS     00637000
*                                      THE RESOURCE UPON WHICH THE 0212 00638000
*                                      CURRENT CPU IS SPINNING       */ 00639000
         LA    R0,17                                               0212 00640000
*               ELSE                /* OTHERWISE, IF NOT A VALID SPIN   00641000
*                                      FUNCTION THEN SET UP FOR    0213 00642000
*                                      NONSPIN PROCESSNG             */ 00643000
*                 IF SDWARCDE^=SDWARETY THEN/* IF RETRY WAS NOT    0213 00644000
*                                      REQUESTED                     */ 00645000
         B     @RC00211                                            0213 00646000
@RF00211 L     @10,RT1WRTCA(,R7)                                   0213 00647000
         CLI   SDWARCDE(@10),4                                     0213 00648000
         BE    @RF00213                                            0213 00649000
*                   DO;             /* PROCESS PERCOLATION           */ 00650000
*                     IF R0=RT1WDAT THEN/* IF AN UNRECOVERABLE     0215 00651000
*                                      TRANSLATION FAILURE OCCURRED  */ 00652000
*                                                                  0215 00653000
         CH    R0,@CH00134                                         0215 00654000
         BNE   @RF00215                                            0215 00655000
*                       /*********************************************/ 00656000
*                       /*                                           */ 00657000
*                       /* THE PURPOSE OF THE DATPERC SEGMENT IS TO  */ 00658000
*                       /* ESTABLISH A MEMTERM INTERFACE FOR THE     */ 00659000
*                       /* RESCHEDULE FUNCTION TO CAUSE AN ADDRESS   */ 00660000
*                       /* SPACE WHICH HAS SUFFERED UNRECOVERABLE    */ 00661000
*                       /* TRANSLATION FAILURES TO BE TERMINATED. IN */ 00662000
*                       /* ADDITION, DATA AREAS USED BY THE          */ 00663000
*                       /* DISPATCHER ARE ADJUSTED TO PREVENT IT FROM*/ 00664000
*                       /* ATTEMPTING TO REFERENCE ANY PRIVATE AREAS */ 00665000
*                       /* IN THE FAILING ADDRESS SPACE. INPUT TO THE*/ 00666000
*                       /* DATPERC SEGMENT IS THE RTM1WA, THE PSA,   */ 00667000
*                       /* AND THE ASCB. OUTPUT IS AN UPDATED        */ 00668000
*                       /* FUNCTION REGISTER (R0) AND UPDATED        */ 00669000
*                       /* TARGASID REGISTER (R2).                   */ 00670000
*                       /*                                           */ 00671000
*                       /*********************************************/ 00672000
*                                                                  0216 00673000
*                       DO;         /* PERFORM DATERR PERCOLATION    */ 00674000
*                         RT1TLPID=NULL;/* INDICATE RECOVERY OF    0217 00675000
*                                      ORIGINAL ERROR IS NOT POSSIBLE   00676000
*                                      IF A SECOND ERROR OCCURS WHILE   00677000
*                                      RTM IS PROCESSING IN THIS   0217 00678000
*                                      SEGMENT                       */ 00679000
         MVI   RT1TLPID(R4),X'00'                                  0217 00680000
*                         RFY                                      0218 00681000
*                           R12 RSTD;/* DESTROYED BY SET LOCK        */ 00682000
*                         RFY                                      0219 00683000
*                           R14 RSTD;/* DESTROYED BY SET LOCK        */ 00684000
*                         GEN;                                     0220 00685000
*                                      /*GET DISPATCHER LOCK         */ 00686000
          SETLOCK OBTAIN,TYPE=DISP,MODE=UNCOND,RELATED=(ASCB,IEAVFRLK(I*00687000
               EAVFRLK))                                                00688000
          LA  R11,4095(R9)   REESTABLISH BASE REGISTER       @G17EP5W   00689000
*                         RFY                                      0221 00690000
*                           R12 UNRSTD;/* DESTROYED BY SET LOCK      */ 00691000
*                         RFY                                      0222 00692000
*                           R14 UNRSTD;/* DESTROYED BY SET LOCK      */ 00693000
*                         IF MODESRB='0'B THEN/* IF CPU IS NOT IN SRB   00694000
*                                      MODE                  @YM02609*/ 00695000
         TM    MODESRB+80(R7),B'00000010'                          0223 00696000
         BNZ   @RF00223                                            0223 00697000
*                           DO;     /* THEN KEEP THE DISPATCHER FROM    00698000
*                                      STORING STATUS IN THE DEAD  0224 00699000
*                                      MEMORY                @YM02609*/ 00700000
*                             PSATOLD=NULL;/* ZERO TCB OLD TO PREVENT   00701000
*                                      THE DISPATCHER FROM         0225 00702000
*                                      REFERENCING LSQA IN DEAD    0225 00703000
*                                      MEMORY                @YM02609*/ 00704000
         SLR   @12,@12                                             0225 00705000
         ST    @12,PSATOLD                                         0225 00706000
*                             ASCBCPUS=ASCBCPUS-ONE;/* DECREMENT   0226 00707000
*                                      NUMBER OF ACTIVE CPU'S IN DEAD   00708000
*                                      MEMORY - TO INDICATE CURRENT     00709000
*                                      CPU IS NO LONGER RUNNING A  0226 00710000
*                                      TASK IN THE CURRENT MEMORY  0226 00711000
*                                                            @YM02609*/ 00712000
         L     @12,PSAAOLD                                         0226 00713000
         L     @10,ASCBCPUS(,@12)                                  0226 00714000
         BCTR  @10,0                                               0226 00715000
         ST    @10,ASCBCPUS(,@12)                                  0226 00716000
*                           END;    /* END OF NON-SRB PROCESSING   0227 00717000
*                                                            @YM02609*/ 00718000
*                         PSAANEW=NULL;/* ZERO ASCB NEW TO CAUSE THE    00719000
*                                      DISPATCHER TO RE-SEARCH THE 0228 00720000
*                                      ASCB QUEUE AND SWITCH AWAY  0228 00721000
*                                      FROM DEAD MEMORY      @YM02609*/ 00722000
@RF00223 SLR   @12,@12                                             0228 00723000
         ST    @12,PSAANEW                                         0228 00724000
*                         R2=ASCBASID;/* INDICATE DEAD MEMORY IS THE    00725000
*                                      ADDR SPACE TO BE TERMINATED 0229 00726000
*                                                            @YM02609*/ 00727000
         L     @12,PSAAOLD                                         0229 00728000
         SLR   R2,R2                                               0229 00729000
         ICM   R2,3,ASCBASID(@12)                                  0229 00730000
*                         IF MODETYP1='1'B THEN/* IF THE CPU IS IN 0230 00731000
*                                      TYPE 1 SVC MODE               */ 00732000
         LA    @10,80                                              0230 00733000
         ALR   @10,R7                                              0230 00734000
         TM    MODETYP1(@10),B'00000100'                           0230 00735000
         BNO   @RF00230                                            0230 00736000
*                           DO;     /* GET OUT OF TYPE1 SVC MODE - 0231 00737000
*                                      THIS IS NORMALLY DONE BY THE     00738000
*                                      EXIT PROLOGUE ROUTINE, HOW- 0231 00739000
*                                      VER IT CANNOT GET CONTROL   0231 00740000
*                                      SINCE IT ALWAYS REFERENCES  0231 00741000
*                                      LSQA                          */ 00742000
*                             ASCBTYP1='0'B;/* REMOVE INDICATION THAT   00743000
*                                      A TYPE1 SVC IS OPERATING      */ 00744000
         NI    ASCBTYP1(@12),B'11111101'                           0232 00745000
*                             MODETYP1='0'B;/* PREVENT THE EXIT    0233 00746000
*                                      FUNCTION FROM TAKING AN EXIT     00747000
*                                      PROLOG EXIT                   */ 00748000
         NI    MODETYP1(@10),B'11111011'                           0233 00749000
*                           END;    /* END TYPE1 SVC PROCESSING      */ 00750000
*                         R0=RT1WMEMT;/* INDICATE MEMTERM TO BE DONE    00751000
*                                      BY THE RESCHEDULE FUNCTION    */ 00752000
@RF00230 LA    R0,15                                               0235 00753000
*                       END;        /* END DATERR PERCOLATION        */ 00754000
*                     ELSE          /* IF NOT A DATERR PERCOLATION   */ 00755000
*                       IF RT1WRTM^='1'B THEN/* IF IT WAS NOT RTM'S     00756000
*                                      FRR THAT JUST INDICATED     0237 00757000
*                                      PERCOLATION                   */ 00758000
         B     @RC00215                                            0237 00759000
@RF00215 TM    RT1WRTM(R7),B'01000000'                             0237 00760000
         BO    @RF00237                                            0237 00761000
*                         DO;       /* PROCESS TASK PERCOLATION      */ 00762000
*                           IF SDWADLST='1'B THEN/* IF DUMP OPTIONS     00763000
*                                      ARE PRESENT IN THE RTCA       */ 00764000
         L     @12,RT1WRTCA(,R7)                                   0239 00765000
         TM    SDWADLST(@12),B'01000000'                           0239 00766000
         BNO   @RF00239                                            0239 00767000
*                             R5=ADDR(SDWASNPA);/* THEN PLACE A PTR     00768000
*                                      TO THE DUMP OPTS IN A REG FOR    00769000
*                                      THE RESCHEDULE FUNCTION       */ 00770000
         LA    R5,SDWASNPA(,@12)                                   0240 00771000
*                           ELSE    /* IF DUMPOPTS WERENT PROVIDED   */ 00772000
*                             R5=NULL;/* INDICATE NO DUMP OPTIONS    */ 00773000
         B     @RC00239                                            0241 00774000
@RF00239 SLR   R5,R5                                               0241 00775000
*                           RFY                                    0242 00776000
*                             MODEBYTE BASED(ADDR(RT1WMODE));/* USE     00777000
*                                      MODE INDICATOR IN THE RTM1WA  */ 00778000
@RC00239 DS    0H                                                  0243 00779000
*                           IF MODESRB='1'B THEN/* IF CPU IS IN SRB     00780000
*                                      MODE                          */ 00781000
*                                                                  0243 00782000
         TM    MODESRB+80(R7),B'00000010'                          0243 00783000
         BNO   @RF00243                                            0243 00784000
*                             /***************************************/ 00785000
*                             /*                                     */ 00786000
*                             /* THE PURPOSE OF THE SRBPERC SEGMENT  */ 00787000
*                             /* IS TO ESTABLISH THE INTERFACE TO THE*/ 00788000
*                             /* RESCHEDULE MODE FUNCTION TO CAUSE A */ 00789000
*                             /* DEPENDENT TASK OF THE FAILING SRB TO*/ 00790000
*                             /* BE SENT THROUGH RTM2 PROCESSING. IF */ 00791000
*                             /* THE SRB DOES NOT HAVE TASK AFFINITY,*/ 00792000
*                             /* NO RESCHEDULE IS ESTABLISHED, AND   */ 00793000
*                             /* THE EXIT FUNCTION WILL GET CONTROL. */ 00794000
*                             /* INPUT IS THE LCCA, OUTPUT IS AN     */ 00795000
*                             /* UPDATED FUNCTION REGISTER (R0) AND  */ 00796000
*                             /* TARGASID REGISTER (R2).             */ 00797000
*                             /*                                     */ 00798000
*                             /***************************************/ 00799000
*                                                                  0244 00800000
*                             DO;   /* PROCESS SRB PERCOLATION       */ 00801000
*                               IF SRBAASID^=NULL&/* IF THE ASID   0245 00802000
*                                      AFFINITY FIELD OF THE LCCA HAS   00803000
*                                      BEEN PROVIDED AND             */ 00804000
*                                   SRBATCB^=NULL THEN/* AND THE   0245 00805000
*                                      RELATED TCB HAS BEEN PROVIDED    00806000
*                                      IN THE LCCA THEN              */ 00807000
         L     @12,PSALCCAV                                        0245 00808000
         SLR   @10,@10                                             0245 00809000
         ICM   @10,3,SRBAASID(@12)                                 0245 00810000
         LTR   @10,@10                                             0245 00811000
         BZ    @RF00245                                            0245 00812000
         L     @08,SRBATCB(,@12)                                   0245 00813000
         LTR   @08,@08                                             0245 00814000
         BZ    @RF00245                                            0245 00815000
*                                 DO;/* SET UP FOR TASK ABTERM       */ 00816000
*                                   R3=SRBATCB;/* PUT PTR TO RELATED    00817000
*                                      TCB IN REG FOR RESCHEDULE     */ 00818000
         LR    R3,@08                                              0247 00819000
*                                   R0=RT1WXMAB;/* INITIALIZE      0248 00820000
*                                      FUNCTION REG TO INDICATE    0248 00821000
*                                      XMABTERM              @YM02637*/ 00822000
         LA    R0,16                                               0248 00823000
*                                   IF SRBAASID^=ASCBASID THEN/* IF     00824000
*                                      THE TCB IS NOT IN THE       0249 00825000
*                                      CURRENTLY LOADED ADDRESS SPACE   00826000
*                                      THEN                  @YM02637*/ 00827000
         L     @08,PSAAOLD                                         0249 00828000
         CLC   SRBAASID(2,@12),ASCBASID(@08)                       0249 00829000
         BE    @RF00249                                            0249 00830000
*                                    R2=SRBAASID;/* INDICATE MEMORY     00831000
*                                      INTO WHICH THE ABTERM IS TO BE   00832000
*                                      SCHEDULED             @YM02637*/ 00833000
         LR    R2,@10                                              0250 00834000
*                                   ELSE/* IF TCB IS IN CURRENT    0251 00835000
*                                      MEMORY                @YM02637*/ 00836000
*                                    DO;/* ATTEMPT TO SET UP RESCHED    00837000
*                                      MODE FNCTN (ABTERM)   @YM02637*/ 00838000
         B     @RC00249                                            0251 00839000
@RF00249 DS    0H                                                  0252 00840000
*                                     RFY                          0252 00841000
*                                      (R8,                        0252 00842000
*                                       R15) RSTD;/* GET REGS FOR  0252 00843000
*                                      STLCK TEST            @YM02637*/ 00844000
*                                     GEN                          0253 00845000
*(SETLOCK TEST,TYPE=SPIN,REGS=(R8));/* TEST TO SEE IF ANY SPIN LOCKS    00846000
*                                      ARE HELD              @YM02637*/ 00847000
         SETLOCK TEST,TYPE=SPIN,REGS=(R8)                               00848000
*                                     GEN(LA R11,4095(R9));/* RESTORE   00849000
*                                      BASE REG              @G17EP5W*/ 00850000
         LA R11,4095(R9)                                                00851000
*                                     IF R15^=TSTLKHEL THEN/* IF NO     00852000
*                                      SPIN LOCKS ARE HELD   @YM02637*/ 00853000
         LTR   R15,R15                                             0255 00854000
         BZ    @RF00255                                            0255 00855000
*                                      DO;/* OBTAIN THE LOCAL LOCK 0256 00856000
*                                      (IF IT IS NOT ALREADY HELD) 0256 00857000
*                                      AND SET UP FOR THE RESCHEDULE    00858000
*                                      MODE FUNCTION         @YM02637*/ 00859000
*                                       RFY                        0257 00860000
*                                         R15 UNRSTD;/* RELEASE REGS    00861000
*                                      USED BY SETLOCK TEST  @YM08291*/ 00862000
*                                       R8=ADDR(RT1TREGS(1));/* POINT   00863000
*                                      TO SAVE AREA PORTION OF RTM1WA   00864000
*                                                            @YM08291*/ 00865000
         LA    R8,RT1TREGS(,R4)                                    0258 00866000
*                                       GEN(STOSM 0(R8),X'03');/*  0259 00867000
*                                      ENSURE ENABLEMENT ON THIS PATH   00868000
*                                      TO PREVENT DISABLED SPIN WHEN    00869000
*                                      STATUS IS CALLED TO STOP THE     00870000
*                                      RELATED TASK          @YM08291*/ 00871000
         STOSM 0(R8),X'03'                                              00872000
*                                       RFY                        0260 00873000
*                                         R8 UNRSTD;/* RELEASE WORK     00874000
*                                      REG                   @YM08291*/ 00875000
*                                       RFY                        0261 00876000
*                                        (R12,                     0261 00877000
*                                         R13,                     0261 00878000
*                                         R14) RSTD;/* DESTROYED BY     00879000
*                                      SETLOCK               @YM02637*/ 00880000
*                                       GEN;                       0262 00881000
*                                      /*REQUEST LOCAL LOCK  @YM02637*/ 00882000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,RELATED=(TCB,IEAVFRLK(IE*00883000
               AVFRLK))                                                 00884000
         LA R11,4095(R9)            RE-ESTABLISH BASE REG    @G17EP5W   00885000
*                                       RFY                        0263 00886000
*                                        (R12,                     0263 00887000
*                                         R13,                     0263 00888000
*                                         R14) UNRSTD;/* DEST BY   0263 00889000
*                                      SETLOCK               @YM02637*/ 00890000
*                                       R0=RT1WABT1;/* INDICATE    0264 00891000
*                                      ABTERM IN CURRENT MEMORY    0264 00892000
*                                                            @YM02637*/ 00893000
         LA    R0,11                                               0264 00894000
*                                      END;/* END OF SET UP FOR    0265 00895000
*                                      RESCHEDULE MODE FUNCTION    0265 00896000
*                                                            @YM02637*/ 00897000
*                                     ELSE/* IF ANY SPIN LOCKS ARE 0266 00898000
*                                      HELD                  @YM02637*/ 00899000
*                                      R2=ASCBASID;/* PUT CURRENT  0266 00900000
*                                      ASID IN REG SO ABTERM WILL  0266 00901000
*                                      OCCUR IN THIS ADDRESS SPACE 0266 00902000
*                                                            @YM02637*/ 00903000
         B     @RC00255                                            0266 00904000
@RF00255 L     @12,PSAAOLD                                         0266 00905000
         SLR   R2,R2                                               0266 00906000
         ICM   R2,3,ASCBASID(@12)                                  0266 00907000
*                                    END;/* END OF ATTEMPT TO SET UP    00908000
*                                      RESCHEDULE MODE FUN   @YM02637*/ 00909000
*                                 END;/* END TASK AFFINITY PROCESSING*/ 00910000
*                             END;  /* END SRB PERC PROCESSING       */ 00911000
*                           ELSE    /* IF NOT SRB PERCOLATION        */ 00912000
*                             DO;   /* PROCESS TASK PERCOLATION      */ 00913000
         B     @RC00243                                            0270 00914000
@RF00243 DS    0H                                                  0271 00915000
*                               R0=RT1WABT1;/* INITIALIZE FUNCTION TO   00916000
*                                      ABTERM IN CURRENT ADDR SPACE  */ 00917000
         LA    R0,11                                               0271 00918000
*                               R3=NULL;/* INITIALIZE TCB TO CURRENT    00919000
*                                      TASK ABTERM                   */ 00920000
         SLR   R3,R3                                               0272 00921000
*                             END;  /* END TASK PERC INITIALIZATION  */ 00922000
*                           R13=ADDR(SDWAGRSV);/* ESTABLISH REGS AT     00923000
*                                      TIME OF ERROR FOR RESCHEDULE     00924000
*                                      FUNCTION (DONE LAST BECAUSE 0274 00925000
*                                      THE REGISTER USED FOR SAVAREAP   00926000
*                                      MAY HAVE BEEN USED IN       0274 00927000
*                                      PRECEEDING CODE)              */ 00928000
@RC00243 L     R13,RT1WRTCA(,R7)                                   0274 00929000
         LA    R13,SDWAGRSV(,R13)                                  0274 00930000
*                         END;      /* END TASK PERC PROCESSING      */ 00931000
*                       ELSE                                       0276 00932000
*                         ;         /* IF THE FRR PROTECTING THE   0276 00933000
*                                      RESCHEDULE FUNCTION OF RTM  0276 00934000
*                                      (I.E. TASK PERCOLATION) HAS 0276 00935000
*                                      INDICATED PERCOLATION, AN   0276 00936000
*                                      IMMEDIATE EXIT IS TAKEN TO  0276 00937000
*                                      PREVENT A RECURSIVE ERROR   0276 00938000
*                                      SITUATION                     */ 00939000
@RF00237 DS    0H                                                  0277 00940000
*                   END;            /* END PERCOLATION PROCESSING    */ 00941000
*                 ELSE                                             0278 00942000
*                   ;               /* IF RETRY THEN NO FURTHER    0278 00943000
*                                      PROCESSING REQUIRED IN THIS 0278 00944000
*                                      SEGMENT                       */ 00945000
@RF00213 DS    0H                                                  0279 00946000
*             END;                  /* END SYS RECOVERY PROCESSING   */ 00947000
*                                                                  0279 00948000
*           /*********************************************************/ 00949000
*           /*                                                       */ 00950000
*           /* IF THE CPU WAS IN TASK MODE AT THE TIME OF INTERRUPT  */ 00951000
*           /* THEN THE CURRENT TASK MUST BE SENT TO RTM2 (I.E. MUST */ 00952000
*           /* BE ABENDED) VIA THE RESCHEDULE FUNCTION               */ 00953000
*           /*                                                       */ 00954000
*           /*********************************************************/ 00955000
*                                                                  0280 00956000
*           ELSE                    /* IF SYSTEM WAS IN TASK MODE    */ 00957000
*                                                                  0280 00958000
*             /*******************************************************/ 00959000
*             /*                                                     */ 00960000
*             /* THE PURPOSE OF THE SETUPABT SEGMENT IS TO SET UP THE*/ 00961000
*             /* CURRENT TASK FOR ABEND IF RTM HAD BEEN ENTERED FROM */ 00962000
*             /* ONE OF THE INTERRUPT HANDLERS WHEN THE CPU WAS IN   */ 00963000
*             /* TASK MODE. INPUT TO THIS SEGMENT INCLUDES THE       */ 00964000
*             /* FUNCTION REGISTER (R0) WHICH INDICATES THE ORIGINAL */ 00965000
*             /* ENTRY TYPE. OUTPUT FROM THIS SEGMENT IS AS FOLLOWS: */ 00966000
*             /* FUNCTION REGISTER (R0) - INDICATES ABTERM FUNCTION. */ 00967000
*             /* TARGTCB REGISTER (R3) - INDICATES CURRENT TCB.      */ 00968000
*             /* TRAKAREA REGISTER (R4) - POINTS TO THE TRACKING AREA*/ 00969000
*             /* IN THE RTM1WA.                                      */ 00970000
*             /*                                                     */ 00971000
*             /*******************************************************/ 00972000
*                                                                  0280 00973000
*             DO;                   /* START OF SETUPABT SEGMENT     */ 00974000
         B     @RC00195                                            0280 00975000
@RF00195 DS    0H                                                  0281 00976000
*               RFY                                                0281 00977000
*                 R12 RSTD;         /* THIS RFY WAS ADDED DURRING  0281 00978000
*                                      SU17, ERROR (R12 USED BUT NOT    00979000
*                                      RSTD) WAS FOUND AS A RESULT A    00980000
*                                      WALK-THRU             @G17SP2F*/ 00981000
*               RFY                                                0282 00982000
*                 RT1TRACK BASED(R12);                             0282 00983000
*               RT1TLPID=RECOVRY1;  /* SET RECOVERY ID TO INDICATE 0283 00984000
*                                      SOME LEVEL OF RECOVERY IS   0283 00985000
*                                      POSSIBLE                      */ 00986000
         MVI   RT1TLPID(R12),X'01'                                 0283 00987000
*NORTSRP:                           /* RETURN POINT FROM LPRR IF   0284 00988000
*                                      ERROR OCCURS AT THIS STAGE    */ 00989000
*               GEN(LA R11,4095(R9));/* RESTORE BASE REG     @G17EP5W*/ 00990000
NORTSRP  LA R11,4095(R9)                                                00991000
*               RT1TLPN=NORTS;      /* LPN=PHASE NUMBER FOR NO SYSTEM   00992000
*                                      RECOVERY PROCESSING           */ 00993000
         MVI   RT1TLPN(R12),X'03'                                  0285 00994000
*               RFY                                                0286 00995000
*                 R12 UNRSTD;       /*                       @G17SP2F*/ 00996000
*               IF R0=RT1WREST THEN /* IF ORIGINAL ENTRY WAS A     0287 00997000
*                                      RESTART ENTRY POINT           */ 00998000
         CH    R0,@CH00142                                         0287 00999000
         BNE   @RF00287                                            0287 01000000
*                 CVTRSTWD=NULL;    /* THEN FREE THE RESTART LOCK -     01001000
*                                      ONLY NEEDED IF SIGP RESTART 0288 01002000
*                                      MIGHT BE DONE                 */ 01003000
         L     @12,CVTPTR                                          0288 01004000
         SLR   @10,@10                                             0288 01005000
         ST    @10,CVTRSTWD(,@12)                                  0288 01006000
*               R0=RT1WABT1;        /* INDICATE TASK ABTERM FUNCTN   */ 01007000
@RF00287 LA    R0,11                                               0289 01008000
*               R3=NULL;            /* INDICATE CURRENT TCB          */ 01009000
         SLR   R3,R3                                               0290 01010000
*               R4=ADDR(RT1WLPTA);  /* PRIME THE TRACKING AREA REG 0291 01011000
*                                      WITH A PTR TO THE LOGICAL   0291 01012000
*                                      PHASE TRACK AREA IN THE RTM1WA*/ 01013000
         LA    R4,RT1WLPTA(,R7)                                    0291 01014000
*               RFY                                                0292 01015000
*                 RT1TRACK BASED(R4);                              0292 01016000
*               R5=NULL;            /* ZERO DUMPOPTS REG-MIGHT NOT BE   01017000
*                                      ZERO AT THIS POINT, E.G. IF 0293 01018000
*                                      ENTRY TYPE HAD BEEN MACHCK  0293 01019000
*                                      RE-ENTRY                      */ 01020000
         SLR   R5,R5                                               0293 01021000
*               PSARTM='1'B;        /* INDICATE SUPER MODE WHEN RTM     01022000
*                                      IS IN CONTROL TO PROCESS AN 0294 01023000
*                                      UNLOCKED TASK                 */ 01024000
         OI    PSARTM,B'00000010'                                  0294 01025000
*             END;                  /* END ABEND SET UP CODE         */ 01026000
*           RT1TLPID=NULL;          /* SET RECOVERY ID TO INDICATE NO   01027000
*                                      RECOVERY IS POSSIBLE          */ 01028000
@RC00195 MVI   RT1TLPID(R4),X'00'                                  0296 01029000
*         END;                      /* END UNIQUE INTRPT PROCESSING  */ 01030000
*                                                                  0297 01031000
*       /*************************************************************/ 01032000
*       /*                                                           */ 01033000
*       /* IF THE RTM WAS ENTERED TO PERFORM A RESCHEDULE SERVICE OR */ 01034000
*       /* IF THE ACTION INDICATED AFTER SLIH MODE PROCESSING        */ 01035000
*       /* DICTATES A RESCHEDULE FUNCTION THEN THE RESCHEDULE RTM    */ 01036000
*       /* FUNCTION IS PERFORMED                                     */ 01037000
*       /*                                                           */ 01038000
*       /*************************************************************/ 01039000
*                                                                  0298 01040000
*       IF R0>=SRVCLOW&             /* IF A SERVICE ROUTINE ENTRY PT    01041000
*                                      WAS USED                      */ 01042000
*           R0<=SRVCHI              /* OR RESCHEDULE FUNCTION      0298 01043000
*                                      REQUIRED TO COMPLETE INTERRUPT   01044000
*                                      PROCESSING                    */ 01045000
*         THEN                                                     0298 01046000
*                                                                  0298 01047000
@RF00085 CH    R0,@CH00418                                         0298 01048000
         BL    @RF00298                                            0298 01049000
         CH    R0,@CH00433                                         0298 01050000
         BH    @RF00298                                            0298 01051000
*         /***********************************************************/ 01052000
*         /*                                                         */ 01053000
*         /* THE PURPOSE OF THE RESCHEDULE SEGMENT IS TO CAUSE A     */ 01054000
*         /* REENTRY INTO THE RTM (I.E. INTO MODULE IEAVTRT1 OR      */ 01055000
*         /* IEAVTRT2). INPUT IS PASSED PRIMARILY THROUGH THE        */ 01056000
*         /* REGISTERS, AND VARIES DEPENDING ON THE TYPE OF          */ 01057000
*         /* RESCHEDULE FUNCTION BEING REQUESTED . FOR ALL TYPES,    */ 01058000
*         /* REGISTER 0 CONTAINS AN INDICATION OF THE FUNCTION TO BE */ 01059000
*         /* PERFORMED AND REGISTER 4 CONTAINS A POINTER TO THE      */ 01060000
*         /* TRACKING AREA FOR CHECKPOINTING CRUCIAL INFORMATION. ALL*/ 01061000
*         /* OTHER INPUT IS PASSED VIA REGISTERS 1,2,3,5,6,7, AND 13.*/ 01062000
*         /* THE SPECIFIC REGISTER CONTENTS ARE DOCUMENTED IN THE    */ 01063000
*         /* COMMENTARY TO THE SPECIFIC SUBFUNCTIONS BELOW.          */ 01064000
*         /*                                                         */ 01065000
*         /***********************************************************/ 01066000
*                                                                  0299 01067000
*         DO;                       /* START OF RESCHED SEGMENT      */ 01068000
*           RFY                                                    0300 01069000
*             RT1TRACK BASED(R4);   /* TRAKAREA REG (R4) POINTS TO 0300 01070000
*                                      THE PRIMARY TRACKING AREA   0300 01071000
*                                      THROUGHOUT THIS SEGMENT - THIS   01072000
*                                      AREA IS DEPENDENT ON RTM'S  0300 01073000
*                                      MODE OF ENTRY                 */ 01074000
*           IF R0=RSCHDCPU THEN     /* IF RESCHEDULE CPU FUNCTION    */ 01075000
*                                                                  0301 01076000
         CH    R0,@CH00199                                         0301 01077000
         BNE   @RF00301                                            0301 01078000
*             /*******************************************************/ 01079000
*             /*                                                     */ 01080000
*             /* THE PURPOSE OF THE RESCHEDULE CPU SEGMENT IS TO     */ 01081000
*             /* CAUSE RTM1 TO BE INVOKED ON ANOTHER CPU. THIS       */ 01082000
*             /* PROCESSING IS PERFORMED IF THE ENTRY TO RTM1 WAS A  */ 01083000
*             /* RESTART REQUEST AND THE INTERRUPTED PROGRAM ON THE  */ 01084000
*             /* CURRENT CPU HAS INDICATED THAT IT IS IN A VALID SPIN*/ 01085000
*             /* WAITING FOR SOME GLOBAL RESOURCE NOW HELD BY ANOTHER*/ 01086000
*             /* CPU. IT IS ASSUMED THAT THE OWNER OF THE RESOURCE IS*/ 01087000
*             /* IN AN INVALID, DISABLED LOOP AND SO SHOULD BE       */ 01088000
*             /* TERMINATED. THIS TERMINATION IS EFFECTED BY CAUSING */ 01089000
*             /* A RESTART INTERRUPT ON THE OTHER CPU. THE ADDRESS OF*/ 01090000
*             /* THIS CPU HAS BEEN DETERMINED BY THE TOP FRR ON THE  */ 01091000
*             /* CURRENT CPU. INPUT TO THIS SEGMENT IS THE FUNCTION  */ 01092000
*             /* REGISTER (R0), WHICH INDICATES THE RESCHEDULE CPU   */ 01093000
*             /* FUNCTION, AND THE RTCA. OUTPUT FROM THIS SEGMENT IS */ 01094000
*             /* AN UPDATED FUNCTION REGISTER (R0), WHICH IS RESET TO*/ 01095000
*             /* THE ORIGINAL RESTART ENTRY POINT. ALSO, IF THE      */ 01096000
*             /* RESTART COULD NOT BE PERFORMED, THE PSA AND CVT ARE */ 01097000
*             /* UPDATED. THE VALUE OF R1 (FLAGSCC REGISTER) IS      */ 01098000
*             /* PRESERVED THROUGHOUT THIS SEGMENT. ALSO, R8,R14,R15 */ 01099000
*             /* ARE ASSUMED TO BE AVAILABLE FOR USE IN THIS SEGMENT.*/ 01100000
*             /*                                                     */ 01101000
*             /*******************************************************/ 01102000
*                                                                  0302 01103000
*             DO;                   /* BEGIN THE RESCPU SEGMENT BY 0302 01104000
*                                      VALIDITY CHECKING THE CPU   0302 01105000
*                                      ADDRESS PASSED BY THE FRR     */ 01106000
*               RT1TLPN=CPURSTRT;   /* LPN=PHASE NUMBER FOR        0303 01107000
*                                      RESCHEDULING RTM ON LOOPING 0303 01108000
*                                      CPU VIA A RESTART INTERRUPT   */ 01109000
         MVI   RT1TLPN(R4),X'04'                                   0303 01110000
*               RT1TLPID=RECOVRY1;  /* SET RECOVERY INDICATOR TO   0304 01111000
*                                      INDICATE SOME RECOVERY IS   0304 01112000
*                                      POSSIBLE                      */ 01113000
         MVI   RT1TLPID(R4),X'01'                                  0304 01114000
*               IF SDWALCPU>=LCPULOW&/* IF LOG CPU ADDR IS WITHIN    */ 01115000
*                   SDWALCPU<=LCPUHIGH THEN/* RANGE OF VALID LOG   0305 01116000
*                                      ADDRESSES                     */ 01117000
         L     @12,RT1WRTCA(,R7)                                   0305 01118000
         LH    @12,SDWALCPU(,@12)                                  0305 01119000
         CH    @12,@CH00228                                        0305 01120000
         BL    @RF00305                                            0305 01121000
         CH    @12,@CH00230                                        0305 01122000
         BH    @RF00305                                            0305 01123000
*                 DO;               /* CONTINUE TO PROCESS RESTART   */ 01124000
*                   RFY                                            0307 01125000
*                     R8 RSTD;      /* GET REG FOR PHYSICAL CPU    0307 01126000
*                                      ADDRESS                       */ 01127000
*                   R8=SDWALCPU&CONVLCPU;/* CONVERT LOG CPU ADDRESS     01128000
*                                      TO PHYSICAL CPU ADDRESS       */ 01129000
         N     @12,@CF00232                                        0308 01130000
         LR    R8,@12                                              0308 01131000
*                   IF((CSDCPUAL&CSDMASK(R8+ONE))^=NULL)&/* IF THIS     01132000
*                                      CPU IS ONLINE AND ACTIVE      */ 01133000
*                       R8^=PSACPUPA THEN/* AND NOT THE CURRENT CPU  */ 01134000
         L     @12,CVTPTR                                          0309 01135000
         L     @10,CVTCSD(,@12)                                    0309 01136000
         LR    @15,R8                                              0309 01137000
         ALR   @15,@15                                             0309 01138000
         ALR   @15,@10                                             0309 01139000
         SLR   @14,@14                                             0309 01140000
         ICM   @14,3,CSDMASK(@15)                                  0309 01141000
         SLR   @15,@15                                             0309 01142000
         ICM   @15,3,CSDCPUAL(@10)                                 0309 01143000
         NR    @14,@15                                             0309 01144000
         LTR   @14,@14                                             0309 01145000
         BZ    @RF00309                                            0309 01146000
         CH    R8,PSACPUPA                                         0309 01147000
         BE    @RF00309                                            0309 01148000
*                     DO;           /* PREPARE TO ISSUE DSGNL RSTRT  */ 01149000
*                       RT1TREGS(TWO)=R1;/* SAVE REG TO BE USED FOR     01150000
*                                      PCCA ADDRESS                  */ 01151000
         ST    R1,RT1TREGS+4(,R4)                                  0311 01152000
*                       R1=PCCAT00P(R8+ONE);/* LOCATE PCCA ADDRESS 0312 01153000
*                                      FOR BAD CPU                   */ 01154000
         LR    @10,R8                                              0312 01155000
         SLA   @10,2                                               0312 01156000
         L     @12,CVTPCCAT(,@12)                                  0312 01157000
         L     R1,PCCAT00P(@10,@12)                                0312 01158000
*                       RFY                                        0313 01159000
*                         R15 RSTD; /* GET REG FOR DSGNL R. C.       */ 01160000
*                       GEN(DSGNL RESTART,CPU=(1));/* ISSUE RESTRT ON   01161000
*                                      BAD CPU                       */ 01162000
         DSGNL RESTART,CPU=(1)                                          01163000
*                       IF R15=STRTSIGP THEN/* IF SIGP FUNC WAS    0315 01164000
*                                      STARTED                       */ 01165000
         LTR   R15,R15                                             0315 01166000
         BNZ   @RF00315                                            0315 01167000
*                         R0=RT1TENPT;/* RESTORE ORIGINAL FUNC VALUE-   01168000
*                                      WILL ALLOW LATER PROCESSING TO   01169000
*                                      TEST IF RESTRT WAS ISSUED     */ 01170000
         SLR   R0,R0                                               0316 01171000
         IC    R0,RT1TENPT(,R4)                                    0316 01172000
*                       ELSE        /* IF SIGP WAS UNSUCCESSFUL      */ 01173000
*                         R0=RSCHDCPU;/* RESTORE RSCHDCPU FUNC VALUE */ 01174000
         B     @RC00315                                            0317 01175000
@RF00315 LA    R0,17                                               0317 01176000
*                       R1=RT1TREGS(TWO);/* RESTORE REG USED FOR PCCA   01177000
*                                      ADDRESS                       */ 01178000
@RC00315 L     R1,RT1TREGS+4(,R4)                                  0318 01179000
*                       RFY                                        0319 01180000
*                        (R8,                                      0319 01181000
*                         R15) UNRSTD;/* RELEASE REGS                */ 01182000
*                     END;          /* END OF SIGP FUNC PROCESSING   */ 01183000
*                 END;              /* END OF VALID CPU ADD PROCESS  */ 01184000
@RF00309 DS    0H                                                  0322 01185000
*               IF R0=RSCHDCPU THEN /* IF RESTART COULD NOT BE     0322 01186000
*                                      PERFORMED                     */ 01187000
@RF00305 CH    R0,@CH00199                                         0322 01188000
         BNE   @RF00322                                            0322 01189000
*                 DO;               /* ALTER INTERFACE TO CAUSE    0323 01190000
*                                      REENTRY TO RESTART FLIH       */ 01191000
*                   RT1TLPN=NORSTRT;/* LPN=UNSUCCESSFUL RESTART PHASE   01192000
*                                      NUMBER                        */ 01193000
         MVI   RT1TLPN(R4),X'05'                                   0324 01194000
*                   CVTRSTWD=NULL;  /* RELEASE RESTART RESOURCE WRD  */ 01195000
         L     @12,CVTPTR                                          0325 01196000
         SLR   @10,@10                                             0325 01197000
         ST    @10,CVTRSTWD(,@12)                                  0325 01198000
*                   RT1TLPN=VALIDREC;/* LPN=VALID RECURSION INDICATOR   01199000
*                                      ALLOWS SOME INFORMATION IN THE   01200000
*                                      RTM1WA TO BE PRESERVED ON A 0326 01201000
*                                      RECURSIVE ENTRY TO RTM. THIS     01202000
*                                      INFORMATION INCLUDES THE PTR     01203000
*                                      TO THE RTCA DESCRIBING THE  0326 01204000
*                                      CURRENT ERROR.                */ 01205000
         MVI   RT1TLPN(R4),X'FF'                                   0326 01206000
*                   GEN(ABEND X'071',DUMP,,SYSTEM);/* SINCE SOME   0327 01207000
*                                      ERROR OCCURRD ON RTM1'S     0327 01208000
*                                      ATTEMPT TO HANDLE THE FRR'S 0327 01209000
*                                      RESUME REQUEST, RTM1 ISSUES AN   01210000
*                                      ABEND WHICH CAUSES THIS SAME     01211000
*                                      FRR TO BE REENTERED, BUT WITH    01212000
*                                      ANOTHER ERROR INDICATION AND     01213000
*                                      WITH THE OPTION ONLY TO CLEAN    01214000
*                                      UP AND PERCOLATE.             */ 01215000
         ABEND X'071',DUMP,,SYSTEM                                      01216000
*                 END;              /* END OF ERROR PROCESSING       */ 01217000
*             END;                  /* END OF RESCPU SEGMENT         */ 01218000
*           ELSE                    /* IF NOT RESCHED CPU FUNCTION   */ 01219000
*                                                                  0330 01220000
*             /*******************************************************/ 01221000
*             /*                                                     */ 01222000
*             /* THE FOLLOWING CODE ESTABLISHES A RECOVERY           */ 01223000
*             /* ENVIRONMENT FOR THE RESCHEDULE FUNCTION. IF         */ 01224000
*             /* OPERATING IN SERVICE ROUTINE MODE, THEN RECOVERY AND*/ 01225000
*             /* TRACKING HAS BEEN EFFECTED BY AN FRR ESTABLISHED BY */ 01226000
*             /* IEAVTRT1. IF OPERATING IN SLIH MODE, THEN ERROR     */ 01227000
*             /* PROTECTION AND TRACKING HAS BEEN EFFECTED BY THE    */ 01228000
*             /* LOGICAL PHASE RECOVERY SCHEME. AFTER THIS POINT,    */ 01229000
*             /* ERROR PROTECTION IS EFFECTED VIA A NEW FRR. THE     */ 01230000
*             /* FOLLOWING CODE ESTABLISHES AN FRR AND PRESERVES     */ 01231000
*             /* INFORMATION FROM THE TRACKING AREA ASSOCIATED WITH  */ 01232000
*             /* THE PREVIOUS RECOVERY. INPUT IS THE TRAKAREA        */ 01233000
*             /* REGISTER (R4) POINTING TO THE PREVIOUS TRACKING     */ 01234000
*             /* AREA. OUTPUT IS AN UPDATED R4 POINTING TO THE NEW   */ 01235000
*             /* TRACK AREA.                                         */ 01236000
*             /*                                                     */ 01237000
*             /*******************************************************/ 01238000
*                                                                  0330 01239000
*             DO;                   /* CONTINUE RESCHEDULE PROCESS   */ 01240000
         B     @RC00301                                            0330 01241000
@RF00301 DS    0H                                                  0331 01242000
*               RFY                                                0331 01243000
*                 FRRS BASED(PSACSTK);/* USE DCL BASE FOR FRRS       */ 01244000
*               RFY                                                0332 01245000
*                 R12 RSTD;         /* GET CONTROL OF REGISTER       */ 01246000
*               R12=R4;             /* SAVE ADDRESS OF PREVIOUS    0333 01247000
*                                      TRACKING AREA                 */ 01248000
         LR    R12,R4                                              0333 01249000
*               IF RT1TENPT>=SLIHLOW&/* IF ORIGINAL ENTRY WAS SLIH   */ 01250000
*                   RT1TENPT<=SLIHHI THEN/* MODE                     */ 01251000
         CLI   RT1TENPT(R4),1                                      0334 01252000
         BL    @RF00334                                            0334 01253000
         CLI   RT1TENPT(R4),9                                      0334 01254000
         BH    @RF00334                                            0334 01255000
*                 DO;               /* PLACE AN ADDITIONAL FRR ON THE   01256000
*                                      STACK FOR CHECKPOINTING     0335 01257000
*                                      RECOVERY INFORMATION          */ 01258000
*                   RT1TLPN=VALIDREC;/* INDICATE A RECURSION INTO RTM   01259000
*                                      IS ALLOWED                    */ 01260000
         MVI   RT1TLPN(R4),X'FF'                                   0336 01261000
*                   RT1WEED=NULL;   /* ZERO EED POINTER IN WA SO EEDS   01262000
*                                      WON'T BE FREED IF A NEW ERROR    01263000
*                                      OCCURS                        */ 01264000
         L     @10,PSACSTK                                         0337 01265000
         SLR   @08,@08                                             0337 01266000
         ST    @08,RT1WEED(,@10)                                   0337 01267000
*                   RT1WRTM='1'B;   /* INDICATE RTM HAS AN FRR ON THE   01268000
*                                      STACK                         */ 01269000
         OI    RT1WRTM(@10),B'01000000'                            0338 01270000
*                   RFY                                            0339 01271000
*                    (R14,                                         0339 01272000
*                     R15) RSTD;    /* GET WORKREGS FOR SETFRR       */ 01273000
*                   GEN             /* ISSUE SETFRR MACRO            */ 01274000
*                                                                  0340 01275000
*(SETFRR A,FRRAD=SLIHFRR,PARMAD=(R4),WRKREGS=(R14,R15));           0340 01276000
         SETFRR A,FRRAD=SLIHFRR,PARMAD=(R4),WRKREGS=(R14,R15)           01277000
*                   RFY                                            0341 01278000
*                    (R14,                                         0341 01279000
*                     R15) UNRSTD;  /* RELEASE SETFRR WORKREGS       */ 01280000
*                   RT1TENPT=R12->RT1TENPT;/* PLACE ORIGINAL ENTRY PT   01281000
*                                      INDICATOR FROM THE PREVIOUS 0342 01282000
*                                      TRACKING AREA INTO THE NEW  0342 01283000
*                                      TRACKING AREA                 */ 01284000
         MVC   RT1TENPT(1,R4),RT1TENPT(R12)                        0342 01285000
*                   RT1TREGS(ONE)=R13;/* CHECKPOINT REG13 VALUE      */ 01286000
         ST    R13,RT1TREGS(,R4)                                   0343 01287000
*                   R12=R4;         /* SAVE ADDR OF SLIHFRR PARM AREA*/ 01288000
         LR    R12,R4                                              0344 01289000
*                 END;              /* END OF SLIHFRR PROCESSING     */ 01290000
*                                                                  0345 01291000
*               /*****************************************************/ 01292000
*               /*                                                   */ 01293000
*               /* IF THE ORIGINAL ENTRY HAD BEEN IS SLIH MODE,      */ 01294000
*               /* TRAKAREA REGISTER (R4) NOW POINTS TO THE SLIHFRR  */ 01295000
*               /* PARM AREA. IF THE ORIGINAL ENTRY HAD BEEN IN      */ 01296000
*               /* SERVICE ROUTINE MODE, THIS REGISTER POINTS TO     */ 01297000
*               /* RT1'S FRR PARM AREA.                              */ 01298000
*               /*                                                   */ 01299000
*               /*****************************************************/ 01300000
*                                                                  0346 01301000
*               RT1TREGS(TWO)=R5;   /* CHECKPOINT REG5 VALUE         */ 01302000
@RF00334 ST    R5,RT1TREGS+4(,R4)                                  0346 01303000
*               RT1TREGS(THREE)=R6; /* CHECKPOINT REG6 VALUE         */ 01304000
         ST    R6,RT1TREGS+8(,R4)                                  0347 01305000
*               RT1TREGS(FOUR)=R7;  /* CHECKPOINT REG7 VALUE         */ 01306000
         ST    R7,RT1TREGS+12(,R4)                                 0348 01307000
*               RFY                                                0349 01308000
*                (R14,                                             0349 01309000
*                 R15) RSTD;        /* GET WORKREGS FOR SETFRR       */ 01310000
*               GEN                 /* PLACE RESCHFRR ON STACK       */ 01311000
*                                                                  0350 01312000
*(SETFRR A,FRRAD=RESCHFRR,PARMAD=(R4),WRKREGS=(R14,R15));          0350 01313000
         SETFRR A,FRRAD=RESCHFRR,PARMAD=(R4),WRKREGS=(R14,R15)          01314000
*               RFY                                                0351 01315000
*                (R14,                                             0351 01316000
*                 R15) UNRSTD;      /* RELEASE SETFRR WORKREGS       */ 01317000
*                                                                  0351 01318000
*               /*****************************************************/ 01319000
*               /*                                                   */ 01320000
*               /* TRAKAREA REG (R4) NOW POINTS TO RESCHFRR PARM     */ 01321000
*               /* AREA.                                             */ 01322000
*               /*                                                   */ 01323000
*               /*****************************************************/ 01324000
*                                                                  0352 01325000
*               RFY                                                0352 01326000
*                 R8 RSTD;          /* GET CONTROL OF REG FOR STM    */ 01327000
*               R8=ADDR(RT1TREGS);  /* LOCATE THE REG CHECKPT AREA   */ 01328000
         LA    R8,RT1TREGS(,R4)                                    0353 01329000
*               GEN(STM   R0,R4,0(R8));/* CHECKPT REGS - R0 TO R4    */ 01330000
         STM   R0,R4,0(R8)                                              01331000
*               RT1TENPT=R12->RT1TENPT;/* PLACE ORIGINAL ENTRY PT  0355 01332000
*                                      INDICATOR FROM THE PREVIOUS 0355 01333000
*                                      TRACKING AREA INTO THE NEW  0355 01334000
*                                      TRACKING AREA                 */ 01335000
         MVC   RT1TENPT(1,R4),RT1TENPT(R12)                        0355 01336000
*               RT1TLPN=RESCHED;    /* LPN=PHASE NUMBER FOR RESCHED     01337000
*                                      FUNCTION                      */ 01338000
         MVI   RT1TLPN(R4),X'5E'                                   0356 01339000
*               IF R0=RT1WXMAB THEN /* IF CROSS MEM ABTERM REQUEST   */ 01340000
*                                                                  0357 01341000
         CH    R0,@CH00131                                         0357 01342000
         BNE   @RF00357                                            0357 01343000
*                 /***************************************************/ 01344000
*                 /*                                                 */ 01345000
*                 /* THE PURPOSE FOR THE XMABTERM SEGMENT IS TO      */ 01346000
*                 /* SCHEDULE A REENTRY INTO RTM1 AT ENTRY POINT     */ 01347000
*                 /* IEAVTRTX AS AN SRB. THIS FUNCTION IS PROVIDED TO*/ 01348000
*                 /* ALLOW THE SCHEDULING OF RTM2 TO BE PERFORMED IN */ 01349000
*                 /* AN ADDRESS SPACE OTHER THAN THE CURRENT, AND TO */ 01350000
*                 /* ALLOW FOR AN ABTERM FUNCTION WHICH DOES NOT     */ 01351000
*                 /* REQUIRE THE LOCAL LOCK. THE INPUT TO THIS       */ 01352000
*                 /* SEGMENT IS AS FOLLOWS: FUNCTION REGISTER (R0) - */ 01353000
*                 /* INDICATES XMABTERM FUNCTION. FLAGSCC REGISTER   */ 01354000
*                 /* (R1) CONTAINS THE COMPLETION CODE. TARGASID     */ 01355000
*                 /* REGISTER (R2) - CONTAINS THE ASID OF THE ADRESS */ 01356000
*                 /* SPACE INTO WHICH THE SRB IS TO BE SCHEDULED, OR */ 01357000
*                 /* CONTAINS ZERO, INDICATING THE CURRENT ADDRESS   */ 01358000
*                 /* SPACE. TARGTCB (R3) - CONTAINS THE ADDRESS OF   */ 01359000
*                 /* THE TCB TO BE SERVICED BY RTM2. TRAKAREA        */ 01360000
*                 /* REGISTER (R4) - CONTAINS A POINTER TO A TRACKING*/ 01361000
*                 /* AREA FOR CHECK POINTING VOLATILE REGISTERS. THE */ 01362000
*                 /* TRACKAREA IS ALSO USED TO LOCATE THE ORIGINAL   */ 01363000
*                 /* RTM ENTRYPOINT BYTE. DUMPOPTS REGISTER (R5)     */ 01364000
*                 /* CONTAINS A POINTER TO DUMP OPTIONS OR ZERO      */ 01365000
*                 /* INDICATING NO DUMP OPTIONS. EEDCHAIN (R6)       */ 01366000
*                 /* CONTAINS A POINTER TO A CHAIN OF EEDS IF ANY    */ 01367000
*                 /* WERE PREVIOUSLY ACQUIRED, OR ZERO, INDICATING NO*/ 01368000
*                 /* ACQUISTION OF EEDS WAS PREVIOUSLY ATTEMPTED, OR */ 01369000
*                 /* THE EEDNULL VALUE (1) INDICATING A PREVIOUS     */ 01370000
*                 /* ATTEMPT AT ACQUIRING AN EED CELL FAILED.        */ 01371000
*                 /* SAVAREAP REGISTER (R13) - CONTAINS A POINTER TO */ 01372000
*                 /* REGS AT TIME OF ERROR (IF NOT PREVIOUSLY PLACED */ 01373000
*                 /* INTO EEDS). RECVREGS REGISTER (R12) - CONTAINS A*/ 01374000
*                 /* PTR TO THE SECONDARY TRACKING AREA USED TO      */ 01375000
*                 /* CHECKPOINT RECOVERY INFORMATION. ADDITIONALLY,  */ 01376000
*                 /* R7,R8,R10,R14 AND R15 ARE ASSUMED TO BE         */ 01377000
*                 /* AVAILABLE FOR USE BY THIS SEGMENT. THE RTM1WA OF*/ 01378000
*                 /* THE CURRENT STACK CONTAINS THE PSW AND ERRORTYPE*/ 01379000
*                 /* CAUSING ENTRY TO THIS SEGMENT, IF IN SLIH MODE. */ 01380000
*                 /* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS: FUNCTION*/ 01381000
*                 /* REGISTER (R0) - SET TO INDICATE TAKE AN EXIT R1 */ 01382000
*                 /* - R5 CONTAIN THEIR INPUT VALUES. EEDCHAIN       */ 01383000
*                 /* REGISTER (R6) - CONTAINS ZERO TO INDICATE NO    */ 01384000
*                 /* EEDS ARE TO BE FREED DURING EXIT PROCESSING, IF */ 01385000
*                 /* THE SCHEDULE WAS PERFORMED, OTHERWISE CONTAINS A*/ 01386000
*                 /* PTR TO ANY EEDS ACQUIRED DURING THIS INVOCATION */ 01387000
*                 /* OF THE RTM1.                                    */ 01388000
*                 /*                                                 */ 01389000
*                 /***************************************************/ 01390000
*                                                                  0358 01391000
*                 DO;               /* START OF XMABTRM SEGMENT      */ 01392000
*                   RFY                                            0359 01393000
*                     R8 RSTD;      /* GET REG FOR ASCB ADDRESS      */ 01394000
*                   CALL ASIDCK;    /* VALIDITY CHECK THE ASID       */ 01395000
         BAL   @14,ASIDCK                                          0360 01396000
*                   IF R0^=TAKEEXIT THEN/* IF VALIDITY CHECKS OK     */ 01397000
         CH    R0,@CH00352                                         0361 01398000
         BE    @RF00361                                            0361 01399000
*                     DO;           /* SET UP FOR SCHEDULE           */ 01400000
*                                                                  0362 01401000
*                       /*********************************************/ 01402000
*                       /*                                           */ 01403000
*                       /* THE PURPOSE FOR THE GETANSRB SEGMENT IS TO*/ 01404000
*                       /* ACQUIRE AN EED CELL FOR USE AS AN SRB. IF */ 01405000
*                       /* NO CELLS ARE AVAILABLE IN RTM1S QUICKCELL */ 01406000
*                       /* POOL, THEN AN ATTEMPT IS MADE TO RE-USE A */ 01407000
*                       /* CELL THAT HAD PREVIOUSLY BEEN ACQUIRED FOR*/ 01408000
*                       /* AN EED. IF NONE HAD BEEN ACQUIRED, FURTHER*/ 01409000
*                       /* XMABTRM PROCESSING IS PREVENTED. INPUT TO */ 01410000
*                       /* THIS SEGMENT IS AS FOLLOWS: TRAKAREA      */ 01411000
*                       /* REGISTER (R4) CONTAINS AREA FOR CHECK     */ 01412000
*                       /* POINTING VOLATILE REGS. EEDCHAIN REGISTER */ 01413000
*                       /* (R6) - CONTAINS POINTER TO ANY PREVIOUSLY */ 01414000
*                       /* OBTAINED EEDS. RECVREGS REGISTER (R12) -  */ 01415000
*                       /* CONTAINS POINTER TO SECONDARY TRACKING    */ 01416000
*                       /* AREA USED TO CHECKPOINT RECOVERY          */ 01417000
*                       /* INFORMATION IT IS ASSUMED THAT R7,R10,R14,*/ 01418000
*                       /* AND R15 ARE AVAILABLE AS WORKREGS. OUTPUT */ 01419000
*                       /* FROM THIS SEGMENT IS AS FOLLOWS: FUNCTION */ 01420000
*                       /* REGISTER (R0) - INDICATES TO TAKE AN EXIT */ 01421000
*                       /* IF A CELL COULD NOT BE ACQUIRED. EEDCHAIN */ 01422000
*                       /* REGISTER (R6) - SET TO INDICATE MISSING   */ 01423000
*                       /* EED IF AN EED CELL WAS STOLEN FROM THE    */ 01424000
*                       /* CHAIN FOR USE AS AN SRB. IF MORE THAN ONE */ 01425000
*                       /* EED WAS ON THE CHAIN THEN THE FORWARD PTR */ 01426000
*                       /* OF THE LAST EED IS SET TO INDICATE MISSING*/ 01427000
*                       /* DATA. SRBCELL REGISTER (R7) CONTAINS A    */ 01428000
*                       /* POINTER TO THE ACQUIRED EED, IF ONE WAS   */ 01429000
*                       /* OBTAINED.                                 */ 01430000
*                       /*                                           */ 01431000
*                       /*********************************************/ 01432000
*                                                                  0363 01433000
*                       DO;         /* START OF GETANSRB SEGMENT     */ 01434000
*                         RFY                                      0364 01435000
*                           R10 RSTD;/* GET CONTROL OF WORKREG       */ 01436000
*                         R10=ADDR(RT1TREGS);/* LOCATE THE REG     0365 01437000
*                                      CHECKPT AREA                  */ 01438000
         LA    R10,RT1TREGS(,R4)                                   0365 01439000
*                         R0=RT1CPOOL;/* PUT RTM1S CELL POOL ID IN 0366 01440000
*                                      PARM REG FOR GETCELL          */ 01441000
         L     R0,RT1CPOOL                                         0366 01442000
*                         RT1TLPN=SRBEED;/* LPN=PHASE NMBER FOR    0367 01443000
*                                      ACQUIRING AN EED FOR USE AS AN   01444000
*                                      SRB                           */ 01445000
         MVI   RT1TLPN(R4),X'5A'                                   0367 01446000
*                         GEN(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/*   01447000
*                                      REQUEST A CELL FROM THE POOL  */ 01448000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            01449000
*                         GEN(LA R11,4095(R9));/* RESTORE BASE REG 0369 01450000
*                                                            @G17EP5W*/ 01451000
         LA R11,4095(R9)                                                01452000
*                         RFY                                      0370 01453000
*                           R15 RSTD;/* GET CONTROL OF PARM REG      */ 01454000
*                         R7=R1;    /* PRESERVE GETCELLS RETURN    0371 01455000
*                                      PARAMETER                     */ 01456000
         LR    R7,R1                                               0371 01457000
*                         GEN(LM R0,R4,0(R10));/* RELOAD ORIGINAL  0372 01458000
*                                      REGS                          */ 01459000
         LM R0,R4,0(R10)                                                01460000
*SRBEEDRP:                          /* RETURN POINT FROM RESCHFRR IF    01461000
*                                      GETCELL FAILURE OCCURS        */ 01462000
*                         GEN(LA R11,4095(R9));/* RESTORE BASE REG 0373 01463000
*                                                            @G17EP5W*/ 01464000
SRBEEDRP LA R11,4095(R9)                                                01465000
*                         RT1TLPN=EEDSTEAL;/* LPN=PHASE NUMBER FOR 0374 01466000
*                                      ATTEMPT TO STEAL AN EED FOR AN   01467000
*                                      SRB                           */ 01468000
         MVI   RT1TLPN(R4),X'5F'                                   0374 01469000
*                         IF R15^=QCELNORM THEN/* IF A CELL WASNT  0375 01470000
*                                      OBTAINED                      */ 01471000
         LTR   R15,R15                                             0375 01472000
         BZ    @RF00375                                            0375 01473000
*                           DO;     /* TRY TO STEAL A CELL           */ 01474000
*                             RFY                                  0377 01475000
*                               R15 UNRSTD;/* RELINQUISH GETCELL REG */ 01476000
*                             RFY                                  0378 01477000
*                               R10 RSTD;/* GET A WORK REGISTER FOR     01478000
*                                      SEARCHING EED QUEUE           */ 01479000
*                             RFY                                  0379 01480000
*                               R14 RSTD;/* GET A WORK REGISTER FOR     01481000
*                                      KEEPING TRACK OF THE PREV-  0379 01482000
*                                      IOUS EED ON THE QUEUE         */ 01483000
*                             IF R6>EEDNULL THEN/* IF AT LEAST ONE 0380 01484000
*                                      CELL WAS PREVIOUSLY PLACED ON    01485000
*                                      THE Q                         */ 01486000
         CH    R6,@CH00073                                         0380 01487000
         BNH   @RF00380                                            0380 01488000
*                               DO; /* SEARCH FOR END OF CHAIN       */ 01489000
*                                 R10=R6;/* PRIME CURRENT TO POINT TO   01490000
*                                      FIRST ELEMENT ON QUEUE        */ 01491000
         LR    R10,R6                                              0382 01492000
*                                 R14=NULL;/* PRIME POINTER TO     0383 01493000
*                                      PREVIOUS EED TO ZERO          */ 01494000
         SLR   R14,R14                                             0383 01495000
*                                 DO WHILE/* ESTABLISH A SEARCH LOOP */ 01496000
*                                       (R10->EEDFWRDP>EEDNULL);/* 0384 01497000
*                                      AND KEEP LOOPING UNTIL NO MORE   01498000
*                                      EEDS ARE FOUND                */ 01499000
         B     @DE00384                                            0384 01500000
@DL00384 DS    0H                                                  0385 01501000
*                                   R14=R10;/* BUMP THE PTR TO     0385 01502000
*                                      PREVIOUS EED TO PT TO CURRENT */ 01503000
         LR    R14,R10                                             0385 01504000
*                                   R10=R10->EEDFWRDP;/* BUMP PTR TO    01505000
*                                      CURRENT TO POINT TO NEXT    0386 01506000
*                                      ELEMENT                       */ 01507000
         L     R10,EEDFWRDP(,R10)                                  0386 01508000
*                                 END;/* CHECK FOR LOOP EXIT CRITERIA*/ 01509000
@DE00384 LA    @15,1                                               0387 01510000
         C     @15,EEDFWRDP(,R10)                                  0387 01511000
         BL    @DL00384                                            0387 01512000
*                                 IF R14=NULL THEN/* IF ONLY ONE EED    01513000
*                                      WAS ON THE Q                  */ 01514000
         LTR   R14,R14                                             0388 01515000
         BNZ   @RF00388                                            0388 01516000
*                                   R6=EEDNULL;/* THEN DEQUEUE IT  0389 01517000
*                                      FROM THE CHAIN AND INDICATE 0389 01518000
*                                      MISSING EED IN THE QUEUE    0389 01519000
*                                      ORIGIN                        */ 01520000
         LR    R6,@15                                              0389 01521000
*                                 ELSE/* IF > 1 EED ON CHAIN         */ 01522000
*                                   R14->EEDFWRDP=EEDNULL;/* THEN  0390 01523000
*                                      DEQUEUE IT AND MARK THE LAST     01524000
*                                      ELEMENT WITH MISSING EED    0390 01525000
*                                      INDICATION                    */ 01526000
         B     @RC00388                                            0390 01527000
@RF00388 MVC   EEDFWRDP(4,R14),@CF00073                            0390 01528000
*                                 R7=R10;/* SAVE PTR TO CELL FOR SRB */ 01529000
@RC00388 LR    R7,R10                                              0391 01530000
*                                 RFY                              0392 01531000
*                                   R14 UNRSTD;/* RETURN WORKREG TO     01532000
*                                      CMPLR                         */ 01533000
*                                 RFY                              0393 01534000
*                                   R10 UNRSTD;/* RETURN WORKREG TO     01535000
*                                      CMPLR                         */ 01536000
*                               END;/* END EED SEARCH PROCESSING     */ 01537000
*                             ELSE  /* IF AN EED CANT BE STOLEN      */ 01538000
*                               R0=TAKEEXIT;/* INDICATE TERMINATE  0395 01539000
*                                      FURTHER RESCHEDULE PROCESSING */ 01540000
         B     @RC00380                                            0395 01541000
@RF00380 LA    R0,30                                               0395 01542000
*                           END;    /* END EED STEAL PROCESSING      */ 01543000
@RC00380 DS    0H                                                  0397 01544000
*                       END;        /* END GETANSRB PROCESSING       */ 01545000
@RF00375 DS    0H                                                  0398 01546000
*                       IF R0^=TAKEEXIT THEN/* IF AN SRB WAS       0398 01547000
*                                      ALLOCATED                     */ 01548000
         CH    R0,@CH00352                                         0398 01549000
         BE    @RF00398                                            0398 01550000
*                         DO;       /* THEN INITIALIZE IT            */ 01551000
*                           R12->RT1TREGS(THREE)=R6;/* CHECKPOINT  0400 01552000
*                                      VALUE OF EEDCHAIN REGISTER    */ 01553000
         ST    R6,RT1TREGS+8(,R12)                                 0400 01554000
*                           R12->RT1TREGS(FOUR)=R7;/* CHECKPOINT SRB    01555000
*                                      ADDRESS                       */ 01556000
         ST    R7,RT1TREGS+12(,R12)                                0401 01557000
*                           RT1TLPN=FREESRB;/* LPN=PHASE NUMBER FOR     01558000
*                                      SRB INITIALIZATION            */ 01559000
         MVI   RT1TLPN(R4),X'60'                                   0402 01560000
*                           RFY                                    0403 01561000
*                             SSRBSECT BASED(R7);/* ESTABLISH BASE OF   01562000
*                                      SRB MAPPING MACRO AS NEW CELL */ 01563000
*                           SRB=''B;/* THIS SETS DEFAULTS FOR CPU  0404 01564000
*                                      AFFIN(NO AFF), PRTY(SYS PRTY)    01565000
*                                      AND KEY (KEY 0)               */ 01566000
         XC    SRB(44,R7),SRB(R7)                                  0404 01567000
*                           SRBPARM=R7+LENGTH(SRB);/* POINT TO NEXT     01568000
*                                      AVAILABLE SLOT IN THE CELL    */ 01569000
         LA    @10,44                                              0405 01570000
         ALR   @10,R7                                              0405 01571000
         ST    @10,SRBPARM(,R7)                                    0405 01572000
*                           SRBPTCB=R3;/* ASSIGN TASK AFFINITY TO THE   01573000
*                                      TASK BEING ABTERMED           */ 01574000
         ST    R3,SRBPTCB(,R7)                                     0406 01575000
*                           SRBPASID=R2;/* INDICATE THE ASID CONTAING   01576000
*                                      RELATED TASK                  */ 01577000
         STH   R2,SRBPASID(,R7)                                    0407 01578000
*                           SRBASCB=R8;/* POINT TO THE ASCB OF THE 0408 01579000
*                                      ADDRESS SPACE INTO WHICH THIS    01580000
*                                      SRB IS TO BE SCHEDULED        */ 01581000
         ST    R8,SRBASCB(,R7)                                     0408 01582000
*                           SRBEP=ADDR(IEAVTRTX);/* INDICATE THE   0409 01583000
*                                      CROSS MEMORY ABTERM REENTRY 0409 01584000
*                                      POINT IN IEAVTRT1             */ 01585000
         L     @10,@CV00152                                        0409 01586000
         ST    @10,SRBEP(,R7)                                      0409 01587000
*                           RT1TLPN=XMEEDS;/* LPN=PHASE NUMBER FOR 0410 01588000
*                                      EED PROCESSING ON XMABTRM   0410 01589000
*                                      REQST                         */ 01590000
         MVI   RT1TLPN(R4),X'5B'                                   0410 01591000
*                           CALL EEDPROC;/* GATHER PERTINANT DATA  0411 01592000
*                                      CONCERNING ERROR INTO EEDS    */ 01593000
         BAL   @14,EEDPROC                                         0411 01594000
*XMEEDRP:                           /* RETURN POINT FROM FRR IF    0412 01595000
*                                      GETCELL FAILURE OCCURS        */ 01596000
*                           GEN(LA R11,4095(R9));/* RESTORE BASE REG    01597000
*                                                            @G17EP5W*/ 01598000
XMEEDRP  LA R11,4095(R9)                                                01599000
*                           RT1TLPN=FREESRB;/* LPN=PHASE NUMBER FOR     01600000
*                                      SRB PROCESSING PRIOR TO     0413 01601000
*                                      SCHEDULE                      */ 01602000
         MVI   RT1TLPN(R4),X'60'                                   0413 01603000
*                           IF R6>EEDNULL THEN/* IF AT LEAST 1 EED 0414 01604000
*                                      WAS OBTAINED THEN             */ 01605000
         CH    R6,@CH00073                                         0414 01606000
         BNH   @RF00414                                            0414 01607000
*                             DO;   /* FILL IN MORE DATA INTO EED    */ 01608000
*                               RFY                                0416 01609000
*                                 EED BASED(R6);/* USE THE FIRST EED    01610000
*                                      ON THE CHAIN                  */ 01611000
*                               EEDASID=PSAAOLD->ASCBASID;/* SHOW THE   01612000
*                                      CURRENT ASID AS THE ADDRESS 0417 01613000
*                                      SPACE CAUSING THE ERROR       */ 01614000
         L     @10,PSAAOLD                                         0417 01615000
         MVC   EEDASID(2,R6),ASCBASID(@10)                         0417 01616000
*                               EEDERTYP=RT1TENPT;/* SAVE THE      0418 01617000
*                                      ORIGINAL ENTRY PT INDICATOR 0418 01618000
*                                                            @YM03649*/ 01619000
         MVC   EEDERTYP(1,R6),RT1TENPT(R4)                         0418 01620000
*                               IF RT1TENPT>=SLIHLOW&/* IF IN SLIH 0419 01621000
*                                      MODE                          */ 01622000
*                                   RT1TENPT<=SLIHHI THEN          0419 01623000
         CLI   RT1TENPT(R4),1                                      0419 01624000
         BL    @RF00419                                            0419 01625000
         CLI   RT1TENPT(R4),9                                      0419 01626000
         BH    @RF00419                                            0419 01627000
*                                 EEDMODE=RT1WMODE;/* THEN INDICATE     01628000
*                                      THE SYSTEM MODE AT THE TIME 0420 01629000
*                                      THE ERROR INTERRUPT OCCURRED  */ 01630000
         L     @10,PSACSTK                                         0420 01631000
         MVC   EEDMODE(1,R6),RT1WMODE(@10)                         0420 01632000
*                               ELSE/* IF NOT IN SLIH MODE           */ 01633000
*                                 ADDR(EEDMODE)->MODETCB='1'B;/* THEN   01634000
*                                      SET TO TASK MODE AS A DEFAULT */ 01635000
         B     @RC00419                                            0421 01636000
@RF00419 OI    MODETCB+8(R6),B'00000001'                           0421 01637000
*                             END;  /* END EED PROCESSING            */ 01638000
@RC00419 DS    0H                                                  0423 01639000
*                           R8=SRBPARM;/* LOCATE THE PARM AREA IN THE   01640000
*                                      SRB CELL                      */ 01641000
@RF00414 L     R8,SRBPARM(,R7)                                     0423 01642000
*                           GEN(STM R0,R6,0(R8));/* PLACE ALL DATA 0424 01643000
*                                      ABOUT THE ERROR INTO PARM AREA*/ 01644000
         STM R0,R6,0(R8)                                                01645000
*                           GEN(SCHEDULE SRB=(R7));/* PUT SRB ON THE    01646000
*                                      DISPATCHING QUEUE             */ 01647000
         SCHEDULE SRB=(R7)                                              01648000
*                           RFY                                    0426 01649000
*                             R8 UNRSTD;/* RELEASE CONTROL OF WORKREG*/ 01650000
*                           R6=NULL;/* INDICATE THAT NO EEDS ARE TO     01651000
*                                      FREED BY THE EXIT FUNCTION    */ 01652000
         SLR   R6,R6                                               0427 01653000
*                           R12->RT1TREGS(THREE)=R6;/* CHECKPOINT NEW   01654000
*                                      VALUE OF EEDCHAIN REGISTER    */ 01655000
         ST    R6,RT1TREGS+8(,R12)                                 0428 01656000
*                           RT1TLPN=SRBCOMP;/* LPN=PHASE NUMBER FOR     01657000
*                                      POST SCHEDULE SRB PROCESSING  */ 01658000
         MVI   RT1TLPN(R4),X'61'                                   0429 01659000
*                           R0=TAKEEXIT;/* SKIP FURTHER RESCHEDULE 0430 01660000
*                                      STEP                          */ 01661000
         LA    R0,30                                               0430 01662000
*                         END;      /* END SRB INITIALIZING          */ 01663000
*                     END;          /* END END SCHEDULE PROCESSING   */ 01664000
@RF00398 DS    0H                                                  0433 01665000
*                 END;              /* END CROSS MEMORY ABTERM       */ 01666000
@RF00361 DS    0H                                                  0434 01667000
*               IF R0>=MODELOW&     /* IF REQUEST IS IN THE RANGE    */ 01668000
*                   R0<=MODEHI THEN /* OF RESCHEDULE MODE TYPES      */ 01669000
*                                                                  0434 01670000
@RF00357 LA    @10,10                                              0434 01671000
         CR    R0,@10                                              0434 01672000
         BL    @RF00434                                            0434 01673000
         CH    R0,@CH00426                                         0434 01674000
         BH    @RF00434                                            0434 01675000
*                 /***************************************************/ 01676000
*                 /*                                                 */ 01677000
*                 /* THE PURPOSE OF THE RESCHEDULE MODE FUNCTION IS  */ 01678000
*                 /* TO CAUSE THE RECOVERY AND TERMINATION PROCESS TO*/ 01679000
*                 /* OCCUR IN THE SAME SYSTEM MODE AS THE ROUTINE    */ 01680000
*                 /* WHICH SUFFERED THE ERROR. IF THE ROUTINE WAS AN */ 01681000
*                 /* UNLOCKED, ENABLED TCB MODE ROUTINE, THE RTM2 -  */ 01682000
*                 /* MODULE IEAVTRT2 - IS SCHEDULED TO BE DISPATCHED */ 01683000
*                 /* FROM THE SAME TCB. IF THE ROUTINE WAS A LOCALLY */ 01684000
*                 /* LOCKED TASK, THE RTM1 - MODULE IEAVTRT1 IS      */ 01685000
*                 /* SCHEDULED TO BE DISPATCHED FROM THE ASXB. IF THE*/ 01686000
*                 /* ROUTINE WAS AN SRB, THEN RTM1 IS SCHEDULED TO BE*/ 01687000
*                 /* DISPATCHED FROM THE SRB QUEUE. IN ALL CASES, THE*/ 01688000
*                 /* TECHNIQUE EMPLOYED IS TO CAUSE AN SVC 13        */ 01689000
*                 /* INSTRUCTION TO BE THE FIRST INSTRUCTION EXECUTED*/ 01690000
*                 /* WHEN THE ROUTINE IS DISPATCHED. THE INPUT IS AS */ 01691000
*                 /* FOLLOWS: FUNCTION REGISTER (R0) - CONTAINS THE  */ 01692000
*                 /* ENTRYPOINT/FUNCTION INDICATOR. FLAGSCC REGISTER */ 01693000
*                 /* (R1) - CONTAINS THE COMPLETION CODE AND CALLRTM */ 01694000
*                 /* FLAGS. SAVAREAP REGISTER (R13) - CONTAINS A PTR */ 01695000
*                 /* TO THE REGISTERS AT TIME OF ERROR IF SLIH MODE, */ 01696000
*                 /* OR REGISTERS AT TIME OF ENTRY IF SERVICE ROUTINE*/ 01697000
*                 /* MODE. RECVREGS REGISTER (R12) - CONTAINS A      */ 01698000
*                 /* POINTER TO THE SECONDARY TRACKING AREA USED TO  */ 01699000
*                 /* CHECKPOINT RECOVERY INFORMATION. TARGASID       */ 01700000
*                 /* REGISTER (R2) - CONTAINS ASID OF ADDRESS SPACE  */ 01701000
*                 /* WHERE THE ERROR ORIGINALLY WAS DETECTED IF A    */ 01702000
*                 /* CROSS MEMORY ABTERM REENTRY IS BEING SERVICED.  */ 01703000
*                 /* OTHERWISE R2=0. TARGTCB (R3) - CONTAINS POINTER */ 01704000
*                 /* TO THE TCB TO BE PROCESSED IF NON-SRB PROCESSING*/ 01705000
*                 /* IS BEING REQUESTED. IF THE CURRENT TCB IS TO BE */ 01706000
*                 /* PROCESSED, R3=0. TARGSRB (R3) - CONTAINS POINTER*/ 01707000
*                 /* TO THE SRB TO BE PROCESSED IF THE FUNCTION IS   */ 01708000
*                 /* PGIOERR PROCESSING AND NO RB ADDRESS WAS PASSED.*/ 01709000
*                 /* TRAKAREA REGISTER (R4) CONTAINS POINTER TO AN   */ 01710000
*                 /* AREA FOR TRACKING. THIS AREA WILL CONTAIN AN    */ 01711000
*                 /* INDICATION OF THE ORIGINAL ENTRY POINT EMPLOYED */ 01712000
*                 /* BY THE CALLER OF RTM1. IF THIS INDICATION IS A  */ 01713000
*                 /* SLIH MODE ENTRY POINT THEN THE RTM1WA ASSOCIATED*/ 01714000
*                 /* WITH THE CURRENT RECOVERY STACK WILL ALSO       */ 01715000
*                 /* CONTAIN INPUT TO THE RTM. (I.E. PSW AT TIME OF  */ 01716000
*                 /* ERROR AND POINTER TO AN RTCA IF SRM HAD BEEN    */ 01717000
*                 /* CALLED TO SERVICE THE ERROR.) DUMPOPTS REGISTER */ 01718000
*                 /* (R5) - CONTAINS A POINTER TO USER PROVIDED DUMP */ 01719000
*                 /* PARAMETERS OR ZERO IF NONE. EEDCHAIN REGISTER   */ 01720000
*                 /* (R6) - CONTAINS A POINTER TO A CHAIN OF EXTENDED*/ 01721000
*                 /* ERROR DESCRIPTORS (EEDS) ACCUMULATED DURING THE */ 01722000
*                 /* PROCESSING OF THE RTM1 DURING PREVIOUS          */ 01723000
*                 /* PROCESSING. IF NO EEDS WERE PREVIOUSLY          */ 01724000
*                 /* PROCESSED, THIS REGISTER IS ZERO. RBADDR        */ 01725000
*                 /* REGISTER (R7) CONTAINS A PTR TO THE RB          */ 01726000
*                 /* ASSOCIATED WITH A PAGE IO ERROR. IF R7 IS ZERO  */ 01727000
*                 /* FOR A PGIOERR REQUEST, THEN R3 WILL POINT TO AN */ 01728000
*                 /* SRB. R7 DOES NOT CONTAIN INPUT DATA IF ANY OF   */ 01729000
*                 /* THE OTHER RESCHEDULE FUNCTIONS ARE REQUESTED.   */ 01730000
*                 /* OUTPUT IS DESCRIBED IN DETAILED COMMENTARY.     */ 01731000
*                 /*                                                 */ 01732000
*                 /***************************************************/ 01733000
*                                                                  0435 01734000
*                 DO;                                              0435 01735000
*                   RFY                                            0436 01736000
*                     TCB BASED(R3);/* USE THE TCB PASSED AS INPUT   */ 01737000
*                   RFY                                            0437 01738000
*                     RBBASIC BASED(R7);/* USE THE RB PASSED AS INPUT*/ 01739000
*                   RFY                                            0438 01740000
*                     RBSECT BASED(R7);/* USE THE RB PASSED AS INPUT */ 01741000
*                   RFY                                            0439 01742000
*                     RBPREFIX BASED(R7-LENGTH(RBPREFIX));/* SAME AS    01743000
*                                      ABOVE                         */ 01744000
*                   IF(R0=RT1WPGIO& /* IF PGIOERR PROCESSING         */ 01745000
*                       R7^=NULL&   /* AND AN RB HAD THE ERROR       */ 01746000
*                       TCBLLH='0'B)|/* AND THE LOCAL LOCK WAS NOT 0440 01747000
*                                      HELD WHEN THE RB PAGE FAULTD  */ 01748000
*                       R0^=RT1WPGIO THEN/* OR IF A REGULAR TCB    0440 01749000
*                                      ABTERM FUNCTION WAS REQUESTED */ 01750000
*                                                                  0440 01751000
         CR    R0,@10                                              0440 01752000
         BNE   @GL00013                                            0440 01753000
         LTR   R7,R7                                               0440 01754000
         BZ    @GL00013                                            0440 01755000
         TM    TCBLLH(R3),B'00000001'                              0440 01756000
         BZ    @RT00440                                            0440 01757000
@GL00013 CH    R0,@CH00418                                         0440 01758000
         BE    @RF00440                                            0440 01759000
@RT00440 DS    0H                                                  0441 01760000
*                     /***********************************************/ 01761000
*                     /*                                             */ 01762000
*                     /* THE PURPOSE OF THE SCHDRTM2 SEGMENT IS TO   */ 01763000
*                     /* ESTABLISH THE INTERFACE AND PROVIDE THE     */ 01764000
*                     /* LINKAGE TO RTM2. THIS FUNCTION INCORPORATES */ 01765000
*                     /* THE ABTERM FUNCTION OF PREVIOUS RELEASES OF */ 01766000
*                     /* THE OPERATING SYSTEM. INPUT TO THIS SEGMENT */ 01767000
*                     /* IS AS FOLLOWS: FUNCTION REGISTER (R0) -     */ 01768000
*                     /* CONTAINS THE ENTRYPOINT/FUNCTION INDICATOR. */ 01769000
*                     /* FLAGSCC REGISTER (R1) - CONTAINS THE        */ 01770000
*                     /* COMPLETION CODE AND CALLRTM FLAGS. SAVAREAP */ 01771000
*                     /* REGISTER (R13) - CONTAINS A PTR TO THE      */ 01772000
*                     /* REGISTERS AT TIME OF ERROR IF SLIH MODE, OR */ 01773000
*                     /* REGISTERS AT TIME OF ENTRY IF SERVICE       */ 01774000
*                     /* ROUTINE MODE. RECVREGS REGISTER (R12) -     */ 01775000
*                     /* CONTAINS A PTR TO THE SECONDARY TRACKING    */ 01776000
*                     /* AREA USED TO CHECKPOINT RECOVERY            */ 01777000
*                     /* INFORMATION. TARGASID REGISTER (R2) -       */ 01778000
*                     /* CONTAINS ASID OF ADDRESS SPACE WHERE THE    */ 01779000
*                     /* ERROR ORIGINALLY WAS DETECTED IF A CROSS    */ 01780000
*                     /* MEMORY ABTERM REENTRY IS BEING SERVICED.    */ 01781000
*                     /* OTHERWISE R2=0. TARGTCB (R3) - CONTAINS     */ 01782000
*                     /* POINTER TO THE TCB TO BE PROCESSED IF       */ 01783000
*                     /* NON-SRB PROCESSING IS BEING REQUESTED. IF   */ 01784000
*                     /* THE CURRENT TCB IS TO BE PROCESSED, R3=0.   */ 01785000
*                     /* TRAKAREA REGISTER (R4) CONTAINS POINTER TO  */ 01786000
*                     /* AN AREA FOR TRACKING. THIS AREA WILL CONTAIN*/ 01787000
*                     /* AN INDICATION OF THE ORIGINAL ENTRY POINT   */ 01788000
*                     /* EMPLOYED BY THE CALLER OF RTM1. IF THIS     */ 01789000
*                     /* INDICATION IS A SLIH MODE ENTRY POINT THEN  */ 01790000
*                     /* THE RTM1WA ASSOCIATED WITH THE CURRENT      */ 01791000
*                     /* RECOVERY STACK WILL ALSO CONTAIN INPUT TO   */ 01792000
*                     /* THE RTM. (I.E. PSW AT TIME OF ERROR AND     */ 01793000
*                     /* POINTER TO AN RTCA IF SRM HAD BEEN CALLED TO*/ 01794000
*                     /* SERVICE THE ERROR.) DUMPOPTS REGISTER (R5) -*/ 01795000
*                     /* CONTAINS A POINTER TO USER PROVIDED DUMP    */ 01796000
*                     /* PARAMETERS OR ZERO IF NONE. EEDCHAIN        */ 01797000
*                     /* REGISTER (R6) - CONTAINS A POINTER TO A     */ 01798000
*                     /* CHAIN OF EXTENDED ERROR DESCRIPTORS (EEDS)  */ 01799000
*                     /* ACCUMULATED DURING THE PROCESSING OF THE    */ 01800000
*                     /* RTM1 DURING PREVIOUS PROCESSING. IF NO EEDS */ 01801000
*                     /* WERE PREVIOUSLY PROCESSED, THIS REGISTER IS */ 01802000
*                     /* ZERO. RBADDR REGISTER (R7) CONTAINS A PTR TO*/ 01803000
*                     /* THE RB ASSOCIATED WITH A PAGE IO ERROR. IF  */ 01804000
*                     /* R7 IS ZERO FOR A PGIOERR REQUEST, THEN R3   */ 01805000
*                     /* WILL POINT TO AN SRB. OUTPUT IS AN UPDATED  */ 01806000
*                     /* TCB, RB AND EEDS IF REQUIRED. INTERMEDIARY  */ 01807000
*                     /* OUTPUT IS DOCUMENTED IN THE COMMENTARY.     */ 01808000
*                     /*                                             */ 01809000
*                     /***********************************************/ 01810000
*                                                                  0441 01811000
*                     DO;           /* START OF SCHDRTM2 SEGMENT     */ 01812000
*                                                                  0441 01813000
*                       /*********************************************/ 01814000
*                       /*                                           */ 01815000
*                       /* THE PURPOSE OF THE VALIDITY CHECK SEGMENT */ 01816000
*                       /* IS TO PREVENT A TASK FROM BEING ABTERMED  */ 01817000
*                       /* UNNECESSARILY AND TO PREVENT DATA DAMAGE  */ 01818000
*                       /* FROM BEING INCURRED BY THE RTM1 BECAUSE OF*/ 01819000
*                       /* BAD INPUT PARAMETERS. AS AN AUXILLARY     */ 01820000
*                       /* FUNCTION, THE VALIDITY CHECK SEGMENT      */ 01821000
*                       /* LOCATES THE TCB AND RB TO BE ABTERMED IF  */ 01822000
*                       /* THEY WERE NOT PROVIDED BY THE CALLING     */ 01823000
*                       /* ROUTINE. INPUT TO THIS SEGMENT IS AS      */ 01824000
*                       /* FOLLOWS: FUNCTION REGISTER (R0) - CONTAINS*/ 01825000
*                       /* AN INDICATION OF WHICH RESCHEDULE MODE    */ 01826000
*                       /* FUNCTION IS BEING REQUESTED. TARGTCB      */ 01827000
*                       /* REGISTER (R3) - CONTAINS THE ADDRESS OF   */ 01828000
*                       /* THE TCB TO BE VALIDITY CHECKED, OR 0      */ 01829000
*                       /* INDICATING CURRENT. TRAKAREA REGISTER (R4)*/ 01830000
*                       /* - CONTAINS PTR TO TRACKING AREA FOR CHECK */ 01831000
*                       /* POINTING CRITICAL REGISTERS. RBADDR       */ 01832000
*                       /* REGISTER (R7) - CONTAINS POINTER TO THE RB*/ 01833000
*                       /* TO BE VALIDITY CHECKED OR ZERO INDICATING */ 01834000
*                       /* HIGHEST RB. OUTPUT FROM THIS SEGMENT IS AS*/ 01835000
*                       /* FOLLOWS: FUNCTION REGISTER (R0) - CONTAINS*/ 01836000
*                       /* INDICATION TO TAKE AN EXIT IF ANY OF THE  */ 01837000
*                       /* VALIDITY CHECKS FAIL OR CONTAINS AN       */ 01838000
*                       /* INDICATION TO ABTERM CURRENT TASK IF THE  */ 01839000
*                       /* TARGTCB REGISTER WAS ALTERED TO POINT TO  */ 01840000
*                       /* THE CURRENT TCB, OR IS LEFT UNCHANGED IF  */ 01841000
*                       /* VALIDITY CHECKS WENT SUCCESSFULLY FOR A   */ 01842000
*                       /* NON CURRENT TCB. TARGTCB REGISTER (R3) -  */ 01843000
*                       /* CONTAINS THE ADDRESS OF THE CURRENT TCB IF*/ 01844000
*                       /* ABTERM CURRENT FUNCTION OTHERWISE         */ 01845000
*                       /* UNCHANGED FROM INPUT VALUE. RBADDR        */ 01846000
*                       /* REGISTER (R7) - CONTAINS POINTER TO       */ 01847000
*                       /* HIGHEST RB ON RB QUEUE IF NOT PROVIDED ON */ 01848000
*                       /* INPUT, OTHERWISE, UNCHANGED.              */ 01849000
*                       /*                                           */ 01850000
*                       /*********************************************/ 01851000
*                                                                  0442 01852000
*                       DO;         /* START VALIDITY CHECKING       */ 01853000
*                         IF R3=NULL THEN/* IF REQUEST WAS TO      0443 01854000
*                                      SCHEDULE THE CURRENT TCB FOR     01855000
*                                      RTM2                          */ 01856000
*                                                                  0443 01857000
         SLR   @10,@10                                             0443 01858000
         CR    R3,@10                                              0443 01859000
         BNE   @RF00443                                            0443 01860000
*                           /*****************************************/ 01861000
*                           /*                                       */ 01862000
*                           /* THE FOLLOWING PROCESSING VERIFIES THAT*/ 01863000
*                           /* A VALID TASK IS CURRENTLY DISPATCHED. */ 01864000
*                           /* SINCE THE LOCAL LOCK MAY NOT BE HELD  */ 01865000
*                           /* WHEN ABTERM OF CURRENT IS REQUESTED,  */ 01866000
*                           /* THE TCBQ CAN NOT BE SEARCHED TO VERIFY*/ 01867000
*                           /* THE TCB IS ON THE PRIORITY Q          */ 01868000
*                           /*                                       */ 01869000
*                           /*****************************************/ 01870000
*                                                                  0444 01871000
*                           DO;     /* START UNIQUE ABTERM CURR TCB  */ 01872000
*                             R0=ABTRMCUR;/* ADJUST FUNCTION       0445 01873000
*                                      INDICATION FOR SUBSEQUENT   0445 01874000
*                                      STEPS                         */ 01875000
         LA    R0,14                                               0445 01876000
*                             RT1TREGS(ONE)=R0;/* CHCKPOINT NEW    0446 01877000
*                                      FUNCTION VALUE                */ 01878000
         ST    R0,RT1TREGS(,R4)                                    0446 01879000
*                             IF PSATOLD=NULL|/* IF A TASK IS NOT  0447 01880000
*                                      CURRENTLY DISPATCHED          */ 01881000
*                                 PSATOLD->TCBTCBID^=/* OR PSATOLD 0447 01882000
*                                      DOES NOT POINT                */ 01883000
*                                 TCBIDENT THEN/* TO A VALID TCB     */ 01884000
         L     @08,PSATOLD                                         0447 01885000
         CR    @08,@10                                             0447 01886000
         BE    @RT00447                                            0447 01887000
         CLC   TCBTCBID(4,@08),@CC00201                            0447 01888000
         BE    @RF00447                                            0447 01889000
@RT00447 DS    0H                                                  0448 01890000
*                               R0=TAKEEXIT;/* DISCONTINUE FURTHER 0448 01891000
*                                      PROCESNG                      */ 01892000
         LA    R0,30                                               0448 01893000
*                             ELSE  /* IF A VALID TCB IS DISPATCHED  */ 01894000
*                               DO;                                0449 01895000
         B     @RC00447                                            0449 01896000
@RF00447 DS    0H                                                  0450 01897000
*                                 R3=PSATOLD&HEX7FOXS;/* PLACE THE 0450 01898000
*                                      ADDRESS OF THE CURRENTLY    0450 01899000
*                                      DISPATCHED TCB IN TARGET TCB     01900000
*                                      REGISTER AND INSURE HI ORDER     01901000
*                                      BIT IS OFF                    */ 01902000
         L     R3,PSATOLD                                          0450 01903000
         N     R3,@CF00226                                         0450 01904000
*                                 RT1TREGS(FOUR)=R3;/* CHECKPOINT TCB   01905000
*                                      ADDRESS                       */ 01906000
         ST    R3,RT1TREGS+12(,R4)                                 0451 01907000
*                               END;                               0452 01908000
*                           END;    /* END UNIQUE ABTERM CURRENT TCB    01909000
*                                      PROCESSING                    */ 01910000
*                         ELSE      /* IF NOT ABTERM CURRENT FUNCT   */ 01911000
*                                                                  0454 01912000
*                           /*****************************************/ 01913000
*                           /*                                       */ 01914000
*                           /* THE PURPOSE FOR THE CKNONCUR SEGMENT  */ 01915000
*                           /* IS TO VERIFY THAT A TCB WHICH WAS     */ 01916000
*                           /* PASSED TO THE RTM1 IS ON THE TCB      */ 01917000
*                           /* PRIORITY QUEUE, AND IF SO, TO INSURE  */ 01918000
*                           /* THE TASK IS NOT ACTIVE (RUNNING) ON   */ 01919000
*                           /* ANOTHER CPU. IT IS ASSUMED THAT THE   */ 01920000
*                           /* LOCAL LOCK IS HELD BY THIS CPU DURING */ 01921000
*                           /* THE PROCESSING OF THIS SEGMENT. THE   */ 01922000
*                           /* INPUT TO THIS SEGMENT IS AS FOLLOWS:  */ 01923000
*                           /* TARGTCB REGISTER (R3) - CONTAINS THE  */ 01924000
*                           /* TCB TO BE VERIFIED. TRAKAREA REGISTER */ 01925000
*                           /* (R4) - POINTS TO AREA WHERE CRITICAL  */ 01926000
*                           /* REGISTERS CAN BE CHECK POINTED. ASXB -*/ 01927000
*                           /* CONTAINS POINTERS TO BEGINNING AND    */ 01928000
*                           /* ENDING OF TCB PRIORITY QUEUE. THE     */ 01929000
*                           /* OUTPUT FROM THIS SEGMENT IS AS        */ 01930000
*                           /* FOLLOWS: FUNCTION REGISTER (R0) -     */ 01931000
*                           /* CONTAINS INDICATION TO DISCONTINUE    */ 01932000
*                           /* FURTHER PROCESSING IF TCB NOT FOUND ON*/ 01933000
*                           /* QUEUE, OTHERWISE UNCHANGED. THE STATUS*/ 01934000
*                           /* ROUTINE IS CALLED TO STOP THE         */ 01935000
*                           /* EXECUTION OF THE TCB IN THE EVENT THAT*/ 01936000
*                           /* IT WAS ACTIVE ON ANOTHER CPU.         */ 01937000
*                           /*                                       */ 01938000
*                           /*****************************************/ 01939000
*                                                                  0454 01940000
*                           DO;     /* START OF CKNONCUR SEGMENT     */ 01941000
         B     @RC00443                                            0454 01942000
@RF00443 DS    0H                                                  0455 01943000
*                             RFY                                  0455 01944000
*                               R8 RSTD;/* GET CONTROL OF REGISTER   */ 01945000
*                             R8=ASXBFTCB;/* PRIME A REGISTER WITH 0456 01946000
*                                      PTR TO FIRST TCB ON PRTY QUEUE*/ 01947000
*                                                                  0456 01948000
         L     @10,PSAAOLD                                         0456 01949000
         L     @10,ASCBASXB(,@10)                                  0456 01950000
         L     R8,ASXBFTCB(,@10)                                   0456 01951000
*                             /***************************************/ 01952000
*                             /*                                     */ 01953000
*                             /* THE FOLLOWING INSTRUCTIONS SET UP A */ 01954000
*                             /* LOOP TO SEARCH THE TCB PRIORITY     */ 01955000
*                             /* QUEUE UNTIL EITHER THE TARGET TCB IS*/ 01956000
*                             /* FOUND ON THE QUEUE OR THE ENTIRE    */ 01957000
*                             /* QUEUE HAS BEEN SEARCHED.            */ 01958000
*                             /*                                     */ 01959000
*                             /***************************************/ 01960000
*                                                                  0457 01961000
*                             DO    /* START TCB SEARCH LOOP         */ 01962000
*                                   WHILE(R8^=ASXBLTCB&/* KEEP     0457 01963000
*                                      LOOPING UNTIL LAST TCB HAS  0457 01964000
*                                      BEEN CHECKED OR UNTIL         */ 01965000
*                                   R8^=R3);/* A MATCH IS FOUND      */ 01966000
         B     @DE00457                                            0457 01967000
@DL00457 DS    0H                                                  0458 01968000
*                               R8=R8->TCBTCB;/* POINT TO NEXT TCB ON   01969000
*                                      QUEUE                         */ 01970000
         L     R8,TCBTCB(,R8)                                      0458 01971000
*                             END;  /* END TCB SEARCH LOOP           */ 01972000
@DE00457 L     @10,PSAAOLD                                         0459 01973000
         L     @10,ASCBASXB(,@10)                                  0459 01974000
         C     R8,ASXBLTCB(,@10)                                   0459 01975000
         BE    @DC00457                                            0459 01976000
         CR    R8,R3                                               0459 01977000
         BNE   @DL00457                                            0459 01978000
@DC00457 DS    0H                                                  0460 01979000
*                             IF R3^=R8 THEN/* IF A MATCH WAS NOT  0460 01980000
*                                      FOUND                         */ 01981000
         CR    R3,R8                                               0460 01982000
         BE    @RF00460                                            0460 01983000
*                               R0=TAKEEXIT;/* DISCONTINUE FURTHER 0461 01984000
*                                      PROCSNG                       */ 01985000
         LA    R0,30                                               0461 01986000
*                             ELSE  /* IF A MATCH WAS FOUND          */ 01987000
*                                                                  0462 01988000
*                               /*************************************/ 01989000
*                               /*                                   */ 01990000
*                               /* INTERFACE WITH THE STATUS ROUTINE */ 01991000
*                               /* TO STOP THE EXECUTION OF THE TASK */ 01992000
*                               /* IF IT IS CURRENTLY RUNNING ON     */ 01993000
*                               /* ANOTHER CPU                       */ 01994000
*                               /*                                   */ 01995000
*                               /*************************************/ 01996000
*                                                                  0462 01997000
*                               DO; /* START VALID TCB PROCESSING    */ 01998000
         B     @RC00460                                            0462 01999000
@RF00460 DS    0H                                                  0463 02000000
*                                 RFY                              0463 02001000
*                                   R8 UNRSTD;/* RELINQUISH CONTROL     02002000
*                                      OF REG                        */ 02003000
*                                 IF R3^=PSATOLD THEN/* IF THE TCB 0464 02004000
*                                      PASSED IS NOT THE CURRENTLY 0464 02005000
*                                      DISPATCHED TCB ON THIS CPU    */ 02006000
         C     R3,PSATOLD                                          0464 02007000
         BE    @RF00464                                            0464 02008000
*                                   DO;/* START TASK STOPPING PROCESS*/ 02009000
*                                    R13=NULL;/* INDICATE CURRENT  0466 02010000
*                                      ASID                          */ 02011000
         SLR   R13,R13                                             0466 02012000
*                                    R0=NOPRIME;/* INDICATE NO     0467 02013000
*                                      PRIMARY DISPATCH ABLILITY   0467 02014000
*                                      FLAGS TO BE SET               */ 02015000
         LA    R0,12                                               0467 02016000
*                                    R1=R3;/* INDICATE TARGET TCB TO    02017000
*                                      STOP                          */ 02018000
         LR    R1,R3                                               0468 02019000
*                                    CALL STATUS;/* STOP THE TASKS 0469 02020000
*                                      EXECUTION                     */ 02021000
         L     @10,CVTPTR                                          0469 02022000
         L     @10,CVTABEND(,@10)                                  0469 02023000
         L     @15,SCVTSTAT(,@10)                                  0469 02024000
         BALR  @14,@15                                             0469 02025000
*                                    GEN(LA R11,4095(R9));/* RESTORE    02026000
*                                      BASE REG              @G17EP5W*/ 02027000
         LA R11,4095(R9)                                                02028000
*                                    R0=RT1TREGS(ONE);/* RESTORE   0471 02029000
*                                      ORIGINAL CONTENTS OF REG USED    02030000
*                                      FOR DISP FLAGS                */ 02031000
         L     R0,RT1TREGS(,R4)                                    0471 02032000
*                                    R1=RT1TREGS(TWO);/* RESTORE   0472 02033000
*                                      ORIGINAL CONTENTS OF REG USED    02034000
*                                      FOR TCB                       */ 02035000
         L     R1,RT1TREGS+4(,R4)                                  0472 02036000
*                                    R13=R12->RT1TREGS(ONE);/*     0473 02037000
*                                      RESTORE ORIG CONTENTS OF REG     02038000
*                                      USED FOR ASID                 */ 02039000
         L     R13,RT1TREGS(,R12)                                  0473 02040000
*                                   END;/* END TASK STOPPING PROCESS */ 02041000
*                               END;/* END VALID TCB PROCESSING      */ 02042000
@RF00464 DS    0H                                                  0476 02043000
*                           END;    /* END NON CURRENT TCB PROCESIN  */ 02044000
@RC00460 DS    0H                                                  0477 02045000
*                         IF R0^=TAKEEXIT THEN/* IF INIT VALIDITY  0477 02046000
*                                      CHECKS OK                     */ 02047000
*                                                                  0477 02048000
@RC00443 CH    R0,@CH00352                                         0477 02049000
         BE    @RF00477                                            0477 02050000
*                           /*****************************************/ 02051000
*                           /*                                       */ 02052000
*                           /* VERIFY THAT TASK CAN SUSTAIN ABEND    */ 02053000
*                           /* PROCESSING                            */ 02054000
*                           /*                                       */ 02055000
*                           /*****************************************/ 02056000
*                                                                  0478 02057000
*                           DO;     /* START 2NDARY VALIDITY CHECKS  */ 02058000
*                             IF TCBABTRM='1'B THEN/* IF TASK HAS  0479 02059000
*                                      ALREADY BEEN SET UP FOR ABTERM   02060000
*                                      BUT HAS NOT YET ABENDED       */ 02061000
         TM    TCBABTRM(R3),B'00100000'                            0479 02062000
         BNO   @RF00479                                            0479 02063000
*                               DO; /* INSURE THAT THE TASK IS     0480 02064000
*                                      DISPATCHABLE                  */ 02065000
*                                 R7=TCBRBP;/* USE HIGHEST RB ON THE    02066000
*                                      QUEUE                 @YM06111*/ 02067000
         L     R7,TCBRBP(,R3)                                      0481 02068000
*                                 RFY                              0482 02069000
*                                   R8 RSTD;/* GET CONTROL OF REG  0482 02070000
*                                                            @YM06111*/ 02071000
*                                 RFY                              0483 02072000
*                                   PSW BASED(ADDR(RBOPSW));/* USE 0483 02073000
*                                      PSW IN RB             @YM06111*/ 02074000
*                                 R8=ENPSWWD|(PSWMODE&ENABLMSK);/* 0484 02075000
*                                      INSURE THAT THE FIRST WORD OF    02076000
*                                      THE RB'S PSW IS VALID SO THAT    02077000
*                                      RTM2 WILL GET CONTROL @YM06111*/ 02078000
         LA    @10,16                                              0484 02079000
         ALR   @10,R7                                              0484 02080000
         L     R8,PSWMODE(,@10)                                    0484 02081000
         N     R8,@CF00211                                         0484 02082000
         O     R8,@CF00209                                         0484 02083000
*                                 PSWMODE=R8;/* PLACE VALID FIRST  0485 02084000
*                                      WORD IN RB            @YM06111*/ 02085000
         ST    R8,PSWMODE(,@10)                                    0485 02086000
*                                 PSWIC=ADDR(ABENDSVC);/* INSURE THAT   02087000
*                                      THE RESUME ADDR POINTS TO AN     02088000
*                                      SVC 13 INSTR          @YM06111*/ 02089000
         LA    @15,ABENDSVC                                        0486 02090000
         ST    @15,PSWIC(,@10)                                     0486 02091000
*                                 RFY                              0487 02092000
*                                   PSW BASED(ADDR(RBRTPSW1));/*   0487 02093000
*                                      INSURE THE FIRST WORD OF THE     02094000
*                                      PSW PRESERVED IN THE RB PREFIX   02095000
*                                      IS VALID              @YM06111*/ 02096000
*                                 PSWMODE=R8;/* PLACE VALID FIRST  0488 02097000
*                                      WORD IN PSW IN RB PREFIX    0488 02098000
*                                                            @YM06111*/ 02099000
         LR    @10,R7                                              0488 02100000
         AL    @10,@CF03660                                        0488 02101000
         ST    R8,PSWMODE(,@10)                                    0488 02102000
*                                 RFY                              0489 02103000
*                                   R8 UNRSTD;/* RELEASE WORKREG   0489 02104000
*                                                            @YM06111*/ 02105000
*                                 IF R0^=ABTRMCUR THEN/* IF THE    0490 02106000
*                                      FUNCTION IS NOT ABTERM OF THE    02107000
*                                      CURRENT TCB THEN IT IS ASSUMED   02108000
*                                      THAT THE LOCAL LOCK, NEEDED 0490 02109000
*                                      FOR STATUS, IS ALREADY HELD 0490 02110000
*                                                            @YA00052*/ 02111000
         CH    R0,@CH00426                                         0490 02112000
         BE    @RF00490                                            0490 02113000
*                                   CALL STATUSET;/* CALL STATUS TO     02114000
*                                      RESET TASK'S DISPATCHABILITY     02115000
*                                      FLAGS                         */ 02116000
         BAL   @14,STATUSET                                        0491 02117000
*                                 R0=TAKEEXIT;/* DISCONTINUE FURTHER    02118000
*                                      ABTERM PROCESSING             */ 02119000
@RF00490 LA    R0,30                                               0492 02120000
*                               END;                               0493 02121000
*                             ELSE  /* IF THE ABTRM FLAG IS NOT SET,    02122000
*                                      CONTINUE WITH FURTHER       0494 02123000
*                                      VERIFICATION                  */ 02124000
*                               IF TCBFC='1'B|/* IF TASK HAS ALREADY    02125000
*                                      TERMNATED BUT THE TCB NOT   0494 02126000
*                                      FREED, OR                     */ 02127000
*                                   (PSATOLD=0&/* AN SRB IS        0494 02128000
*                                      REQUESTING THE ABTERM @ZA05674*/ 02129000
*                                   TCBFPRAP='1'B&/* AND ABEND IS  0494 02130000
*                                      CURRENTLY PERFORMING CRITICAL    02131000
*                                      PROCESSING FOR THIS TCB WHICH    02132000
*                                      CANNOT BE INTERRUPTED BY A  0494 02133000
*                                      RECURSIVE ABEND       @ZA05674*/ 02134000
*                                   (RT1TENPT<SRVCLOW|/* AND REQUEST    02135000
*                                      NOT SERVICE MODE      @ZA05674*/ 02136000
*                                   RT1TENPT>SRVCHI))|/* (SERVICE  0494 02137000
*                                      REQUESTS ARE SYNCHRONOUS AND     02138000
*                                      MUST BE HONORED), OR  @ZA05674*/ 02139000
*                                   TCBABWF='1'B THEN/* ABEND HAS  0494 02140000
*                                      ALREADY DETERMINED THAT THIS     02141000
*                                      TASK MUST BE TERMINATED, THEN */ 02142000
         B     @RC00479                                            0494 02143000
@RF00479 TM    TCBFC(R3),B'10000000'                               0494 02144000
         BO    @RT00494                                            0494 02145000
         ICM   @10,15,PSATOLD                                      0494 02146000
         BNZ   @GL00018                                            0494 02147000
         TM    TCBFPRAP(R3),B'00010000'                            0494 02148000
         BNO   @GL00018                                            0494 02149000
         CLI   RT1TENPT(R4),10                                     0494 02150000
         BL    @RT00494                                            0494 02151000
         CLI   RT1TENPT(R4),19                                     0494 02152000
         BH    @RT00494                                            0494 02153000
@GL00018 TM    TCBABWF(R3),B'01000000'                             0494 02154000
         BNO   @RF00494                                            0494 02155000
@RT00494 DS    0H                                                  0495 02156000
*                                 R0=TAKEEXIT;/* DISCONTINUE FURTHER    02157000
*                                      ABTERM PROCESSING             */ 02158000
         LA    R0,30                                               0495 02159000
*                               ELSE/* IF TASK CAN SUSTAIN AN ABEND  */ 02160000
*                                 IF R0=RT1WPGIO THEN/* AND IF     0496 02161000
*                                      ORIGINAL FUNCTION WAS PAGE IO    02162000
*                                      ERR PROCESSING                */ 02163000
*                                                                  0496 02164000
         B     @RC00494                                            0496 02165000
@RF00494 CH    R0,@CH00418                                         0496 02166000
         BNE   @RF00496                                            0496 02167000
*                                   /*********************************/ 02168000
*                                   /*                               */ 02169000
*                                   /* THE PURPOSE OF THE VALDCKRB   */ 02170000
*                                   /* SEGMENT IS TO VERIFY THAT THE */ 02171000
*                                   /* RB PASSED TO THE RTM1 FOR     */ 02172000
*                                   /* PGIOERR PROCESSING IS STILL ON*/ 02173000
*                                   /* THE RB QUEUE AND STILL IN A   */ 02174000
*                                   /* PAGE WAIT. IT IS POSSIBLE THAT*/ 02175000
*                                   /* THE RB WAS FORCED OUT OF A    */ 02176000
*                                   /* PAGE WAIT SITUATION BY AN     */ 02177000
*                                   /* ASYNCHRONOUS ABEND. IF SO, THE*/ 02178000
*                                   /* ROUTINE (RB) MAY HAVE         */ 02179000
*                                   /* TERMINATED OR MAY PRESENTLY BE*/ 02180000
*                                   /* IN ABEND PROCESSING,          */ 02181000
*                                   /* THEREFORE, THIS ABTERM REQUEST*/ 02182000
*                                   /* SHOULD BE IGNORED. IF THE RB  */ 02183000
*                                   /* IS FOUND, AND IS IN A WAIT    */ 02184000
*                                   /* STATE, THE ABTERM REQUEST IS  */ 02185000
*                                   /* PERMITTED TO CONTINUE. INPUT  */ 02186000
*                                   /* TO THIS SEGMENT IS AS FOLLOWS:*/ 02187000
*                                   /* RBADDR REGISTER (R7) -        */ 02188000
*                                   /* CONTAINS PTR TO RB TO BE      */ 02189000
*                                   /* CHECKED. TARGTCB REGISTER (R4)*/ 02190000
*                                   /* - CONTAINS PTR TO TCB         */ 02191000
*                                   /* ASSOCIATED WITH THE RB QUEUE  */ 02192000
*                                   /* TO BE CHECKED. THE OUTPUT FROM*/ 02193000
*                                   /* THIS SEGMENT IS AN UPDATED    */ 02194000
*                                   /* FUNCTION REGISTER (R0) IF THE */ 02195000
*                                   /* ABTERM PROCESS IS TO BE       */ 02196000
*                                   /* DISCONTINUED.                 */ 02197000
*                                   /*                               */ 02198000
*                                   /*********************************/ 02199000
*                                                                  0497 02200000
*                                   DO;/* START RB VALIDITY CHECKING */ 02201000
*                                    RFY                           0498 02202000
*                                      R8 RSTD;/* GET CONTROL OF   0498 02203000
*                                      REGISTER                      */ 02204000
*                                    R8=TCBRBP;/* PRIME REGISTER WITH   02205000
*                                      HIGHEST RB ON QUEUE FOR     0499 02206000
*                                      SEARCHING                     */ 02207000
*                                                                  0499 02208000
         L     R8,TCBRBP(,R3)                                      0499 02209000
*                                    /********************************/ 02210000
*                                    /*                              */ 02211000
*                                    /* THE FOLLOWING INSTRUCTIONS   */ 02212000
*                                    /* SET UP A LOOP WHICH WILL     */ 02213000
*                                    /*                        SEARCH*/ 02214000
*                                    /* EACH ELEMENT OF THE RB QUEUE */ 02215000
*                                    /* UNTIL A MATCH IS FOUND WITH  */ 02216000
*                                    /* THE INPUT RB OR UNTIL THE    */ 02217000
*                                    /* ENTIRE QUEUE HAS BEEN        */ 02218000
*                                    /* SEARCHED                     */ 02219000
*                                    /*                              */ 02220000
*                                    /********************************/ 02221000
*                                                                  0500 02222000
*                                    DO/* START RB SEARCH LOOP       */ 02223000
*                                         WHILE(R8->RBTCBNXT^='1'B&/*   02224000
*                                      LOOP UNTIL THE END OF THE Q IS   02225000
*                                      REACHED               @YM02798*/ 02226000
*                                         R8^=R7);/* OR UNTIL A MATCH   02227000
*                                      IS FOUND                      */ 02228000
         B     @DE00500                                            0500 02229000
@DL00500 DS    0H                                                  0501 02230000
*                                     R8=R8->RBLINKB;/* POINT TO NEXT   02231000
*                                      RB ON QUEUE                   */ 02232000
         SLR   @10,@10                                             0501 02233000
         ICM   @10,7,RBLINKB(R8)                                   0501 02234000
         LR    R8,@10                                              0501 02235000
*                                    END;/* END RB SEARCH LOOP       */ 02236000
@DE00500 TM    RBTCBNXT(R8),B'10000000'                            0502 02237000
         BO    @DC00500                                            0502 02238000
         CR    R8,R7                                               0502 02239000
         BNE   @DL00500                                            0502 02240000
@DC00500 DS    0H                                                  0503 02241000
*                                    IF R7^=R8|/* IF THE RB WAS NOT     02242000
*                                      LOCATED OR                    */ 02243000
*                                        R7=0|/* NO RB       @ZA08436*/ 02244000
*                                        RBWCF=NULL THEN/* THE RB IS    02245000
*                                      NOT IN A WAIT STAT            */ 02246000
         CR    R7,R8                                               0503 02247000
         BNE   @RT00503                                            0503 02248000
         LTR   R7,R7                                               0503 02249000
         BZ    @RT00503                                            0503 02250000
         CLI   RBWCF(R7),0                                         0503 02251000
         BNE   @RF00503                                            0503 02252000
@RT00503 DS    0H                                                  0504 02253000
*                                     R0=TAKEEXIT;/* DISCONTINUE   0504 02254000
*                                      FURTHER PROCESS               */ 02255000
         LA    R0,30                                               0504 02256000
*                                    ELSE                          0505 02257000
*                                     ;/* IF RB OK LEAV FUNCTION   0505 02258000
*                                      ALONE                         */ 02259000
@RF00503 DS    0H                                                  0506 02260000
*                                    RFY                           0506 02261000
*                                      R8 UNRSTD;/* RELINQUISH     0506 02262000
*                                      CONTROL OF REG                */ 02263000
*                                   END;/* END RB VALIDITY CHECKING  */ 02264000
*                                 ELSE/* IF FUNCTION WAS NOT PGIOERR */ 02265000
*                                   DO;                            0508 02266000
         B     @RC00496                                            0508 02267000
@RF00496 DS    0H                                                  0509 02268000
*                                    R7=TCBRBPX;/* RB VALIDITY     0509 02269000
*                                      CHECKING NOT NECESSARY - JUST    02270000
*                                      USE THE HIGHEST RB ON THE   0509 02271000
*                                      QUEUE. TCBRBPX IS PTR(24)   0509 02272000
*                                      DEF(TCBRBP)           @ZA17768*/ 02273000
         SLR   R7,R7                                               0509 02274000
         ICM   R7,7,TCBRBPX(R3)                                    0509 02275000
*                                    IF R7=0 THEN/* IF NO RB @ZA08436*/ 02276000
         LTR   R7,R7                                               0510 02277000
         BNZ   @RF00510                                            0510 02278000
*                                     R0=TAKEEXIT;/* END RB  @ZA08436*/ 02279000
         LA    R0,30                                               0511 02280000
*                                    ELSE/*                  @ZA08436*/ 02281000
*                                     R12->RT1TREGS(FOUR)=R7;/*    0512 02282000
*                                      CHECKPOINT RB ADDRESS         */ 02283000
         B     @RC00510                                            0512 02284000
@RF00510 ST    R7,RT1TREGS+12(,R12)                                0512 02285000
*                                   END;                           0513 02286000
@RC00510 DS    0H                                                  0514 02287000
*                           END;    /* END 2NDARY VALIDITY CHECKS    */ 02288000
@RC00496 DS    0H                                                  0514 02289000
@RC00494 DS    0H                                                  0514 02290000
@RC00479 DS    0H                                                  0515 02291000
*                       END;        /* END VALIDITY CHECKING         */ 02292000
@RF00477 DS    0H                                                  0516 02293000
*                       IF R0^=TAKEEXIT THEN/* IF VALIDITY CHECKING     02294000
*                                      WENT OK                       */ 02295000
         CH    R0,@CH00352                                         0516 02296000
         BE    @RF00516                                            0516 02297000
*                         DO;       /* SET UP THE RTM2 INTERFACE     */ 02298000
*                           RT1TLPN=RESRTM2;/* LPN=PHASE NUMBER FOR     02299000
*                                      RESCHEDULE OF RTM2            */ 02300000
*                                                                  0518 02301000
         MVI   RT1TLPN(R4),X'62'                                   0518 02302000
*                           /*****************************************/ 02303000
*                           /*                                       */ 02304000
*                           /* THE PURPOSE OF THE TCBRB SEGMENT IS TO*/ 02305000
*                           /* PLACE ERROR DATA INTO THE TCB AND RB  */ 02306000
*                           /* OF THE PROGRAM WHICH HAS BEEN SET UP  */ 02307000
*                           /* FOR RTM2. INPUT IS IN THE RTM1WA IF IN*/ 02308000
*                           /* SLIH MODE. OTHER INPUT IS VIA         */ 02309000
*                           /* REGISTERS AS FOLLOWS: FLAGSCC REGISTER*/ 02310000
*                           /* (R1) CONTAINS COMP CODE AND CALLRTM   */ 02311000
*                           /* FLAGS. TRAKAREA REGISTER (R4)CONTAINS */ 02312000
*                           /* POINTER TO TRACKING AREA WHICH IN TURN*/ 02313000
*                           /* CONTAINS ENTRY POINT DATA. OUTPUT FROM*/ 02314000
*                           /* THIS SEGMENT IS AN UPDATED RB AND TCB.*/ 02315000
*                           /*                                       */ 02316000
*                           /*****************************************/ 02317000
*                                                                  0519 02318000
*                           DO;     /* START TCB / RB UPDATE         */ 02319000
*                             RFY                                  0520 02320000
*                               MODEBYTE BASED(ADDR(RT1WMODE));/* USE   02321000
*                                      THE MODE INDICATOR IN THE RTM1   02322000
*                                      WORK AREA                     */ 02323000
*                                                                  0520 02324000
*                             /***************************************/ 02325000
*                             /*                                     */ 02326000
*                             /* CHECK IF REGISTERS AT TIME OF ERROR */ 02327000
*                             /* SHOULD BE MOVED INTO THE TCB AND PSW*/ 02328000
*                             /* INTO THE RB                         */ 02329000
*                             /*                                     */ 02330000
*                             /***************************************/ 02331000
*                                                                  0521 02332000
*                             IF RT1TENPT>=SLIHLOW&/* IF OPERATING IN   02333000
*                                      SLIH MODE                     */ 02334000
*                                 RT1TENPT<=SLIHHI THEN/* AND REGS 0521 02335000
*                                      (AND PSW) ARE AVAILABLE THEN  */ 02336000
*                                                                  0521 02337000
         CLI   RT1TENPT(R4),1                                      0521 02338000
         BL    @RF00521                                            0521 02339000
         CLI   RT1TENPT(R4),9                                      0521 02340000
         BH    @RF00521                                            0521 02341000
*                               /*************************************/ 02342000
*                               /*                                   */ 02343000
*                               /* THE FOLLOWING IS PERFORMED ONLY IF*/ 02344000
*                               /* SLIH MODE ENTRY                   */ 02345000
*                               /*                                   */ 02346000
*                               /*************************************/ 02347000
*                                                                  0522 02348000
*                               DO; /* PERFORM UNIQUE SLIH PROCESS   */ 02349000
*                                                                  0522 02350000
*                                 /***********************************/ 02351000
*                                 /*                                 */ 02352000
*                                 /* IF RTM1 WAS ENTERED IN UNLOCKED */ 02353000
*                                 /* TCB MODE WHEN IT WAS OPERATING  */ 02354000
*                                 /* AS A 2ND LEVEL INTERRUPT        */ 02355000
*                                 /* HANDLER, THEN RTM1 MUST PERFORM */ 02356000
*                                 /* THE STATUS SAVING FUNCTION      */ 02357000
*                                 /* REQUIRED OF ANY INTERRUPT       */ 02358000
*                                 /* HANDLER FOR UNLOCKED TASKS.     */ 02359000
*                                 /*                                 */ 02360000
*                                 /***********************************/ 02361000
*                                                                  0523 02362000
*                                 TCBMODE=RT1WMODE;/* INDICATE SYSTEM   02363000
*                                      MODE AT TIME OF INTERRUPT     */ 02364000
         L     @10,PSACSTK                                         0523 02365000
         MVC   TCBMODE(1,R3),RT1WMODE(@10)                         0523 02366000
*                                 IF RT1WPSW2^=0 THEN/* IF MORE PSW     02367000
*                                      INFO IS AVAILABLE     @YM04289*/ 02368000
         L     @10,RT1WPSW2(,@10)                                  0524 02369000
         LTR   @10,@10                                             0524 02370000
         BZ    @RF00524                                            0524 02371000
*                                   RBRTRAN=RT1WPSW2->PSWTRAN;/*   0525 02372000
*                                      PRESERVE THE TRANSLATION    0525 02373000
*                                      EXCEPTION ADDRESS     @YM04289*/ 02374000
         LR    @08,R7                                              0525 02375000
         AL    @08,@CF03678                                        0525 02376000
         MVC   RBRTRAN-52(4,@08),PSWTRAN(@10)                      0525 02377000
*                                 IF MODETCB='1'B THEN/* IF SYSTEM 0526 02378000
*                                      MODE IS UNLOCKED TCB MODE   0526 02379000
*                                                            @YM02636*/ 02380000
@RF00524 L     @10,PSACSTK                                         0526 02381000
         TM    MODETCB+80(@10),B'00000001'                         0526 02382000
         BNO   @RF00526                                            0526 02383000
*                                   DO;/* SAVE STATUS        @YM02636*/ 02384000
*                                    RBOPSW=RT1WPSW1->PSW;/* MOVE THE   02385000
*                                      FIRST HALF OF THE INTERRUPT 0528 02386000
*                                      PSW INTO THE RB       @YM02636*/ 02387000
         L     @08,RT1WPSW1(,@10)                                  0528 02388000
         MVC   RBOPSW(8,R7),PSW(@08)                               0528 02389000
*                                    IF RT1WPSW2^=0 THEN/* IF MORE 0529 02390000
*                                      PSW INFO IS AVAILABLE @YM02636*/ 02391000
         L     @10,RT1WPSW2(,@10)                                  0529 02392000
         LTR   @10,@10                                             0529 02393000
         BZ    @RF00529                                            0529 02394000
*                                     DO;/* MOVE EXTENDED INFO INTO     02395000
*                                      RB                    @YM02636*/ 02396000
*                                      RBINLNTH=RT1WPSW2->PSWILC;/*     02397000
*                                      SAVE ILC              @YM02636*/ 02398000
         LR    @08,R7                                              0531 02399000
         SH    @08,@CH00243                                        0531 02400000
         MVC   RBINLNTH(1,@08),PSWILC(@10)                         0531 02401000
*                                      RBINTCOD=RT1WPSW2->PSWINTCD;/*   02402000
*                                      SAVE THE INT CODE     @YM02636*/ 02403000
         MVC   RBINTCOD(2,@08),PSWINTCD(@10)                       0532 02404000
*                                     END;/* SAVE OF EXTENDED PSW  0533 02405000
*                                      INFO COMPLETE         @YM02636*/ 02406000
*                                    TCBGRS=ERREGS;/* MOVE INTERRUPT    02407000
*                                      REGS INTO TCB         @YM02636*/ 02408000
@RF00529 MVC   TCBGRS(64,R3),ERREGS(R13)                           0534 02409000
*                                   END;/* STATUS SAV COMPLETE     0535 02410000
*                                                            @YM02636*/ 02411000
*                               END;/* END UNIQUE SLIH MODE PROCESS  */ 02412000
*                             ELSE  /* IF NOT IN SLIH MODE           */ 02413000
*                                                                  0537 02414000
*                               /*************************************/ 02415000
*                               /*                                   */ 02416000
*                               /* THE FOLLOWING IS PERFORMED ONLY IF*/ 02417000
*                               /* SERVICE ROUTINE ENTRY             */ 02418000
*                               /*                                   */ 02419000
*                               /*************************************/ 02420000
*                                                                  0537 02421000
*                               DO; /* PERFORM UNIQUE SRVE RTN PROC  */ 02422000
         B     @RC00521                                            0537 02423000
@RF00521 DS    0H                                                  0538 02424000
*                                 TCBMODE=NULL;/* ZERO OUT THE TCB 0538 02425000
*                                      FIELD                         */ 02426000
         MVI   TCBMODE(R3),X'00'                                   0538 02427000
*                                 RFY                              0539 02428000
*                                   MODEBYTE BASED(ADDR(TCBMODE));/*    02429000
*                                      USE MODE FLAGS IN TCB         */ 02430000
*                                 MODETCB='1'B;/* INDICATE TASK MODE.   02431000
*                                      IF THE RTM IS HANDLING A XMEM    02432000
*                                      ABTERM, AND EEDS WERE       0540 02433000
*                                      ACQUIRED, THIS FIELD WILL BE     02434000
*                                      OVERLAID WITH THE ORIGINAL  0540 02435000
*                                      SYSTEM MODE INDICATED IN THE     02436000
*                                      EED                           */ 02437000
         OI    MODETCB+267(R3),B'00000001'                         0540 02438000
*                               END;/* END UNIQUE SRVC RTN PROCESS   */ 02439000
*                                                                  0541 02440000
*                             /***************************************/ 02441000
*                             /*                                     */ 02442000
*                             /* PRESERVE THE STATUS SAVED EITHER BY */ 02443000
*                             /* ONE OF THE INTERRUPT HANDLERS OR BY */ 02444000
*                             /* RTM1.                               */ 02445000
*                             /*                                     */ 02446000
*                             /***************************************/ 02447000
*                                                                  0542 02448000
*                             RBRTPSW1=RBOPSW;/* PRESERVE THE OLD PSW*/ 02449000
@RC00521 LR    @10,R7                                              0542 02450000
         SH    @10,@CH00243                                        0542 02451000
         MVC   RBRTPSW1(8,@10),RBOPSW(R7)                          0542 02452000
*                             RBRTILC=RBINLNTH;/* PRESERVE THE ILC   */ 02453000
         MVC   RBRTILC(1,@10),RBINLNTH(@10)                        0543 02454000
*                             RBRTINCD=RBINTCOD;/* PRESERVE THE    0544 02455000
*                                      INTERRUPT CODE                */ 02456000
         MVC   RBRTINCD(2,@10),RBINTCOD(@10)                       0544 02457000
*                             TCBABGM='1'B;/* INDICATE THAT GETMAIN     02458000
*                                      REQUESTS FOR LSQA SHOULD BE 0545 02459000
*                                      CONVERTED TO SQA IF LSQA NOT     02460000
*                                      AVAILABLE - THIS INURES THE 0545 02461000
*                                      TERMINATION PROCESS WILL NOT     02462000
*                                      FAIL IF THE MEMORY IS OUT OF     02463000
*                                      SPACE                         */ 02464000
         OI    TCBABGM(R3),B'00010000'                             0545 02465000
*                             TCBERTYP=RT1TENPT;/* PLACE ORIGINAL  0546 02466000
*                                      ENTRYPOINT INDICATION IN TCB.    02467000
*                                      IF THE RTM IS HANDLING A XMEM    02468000
*                                      ABTERM, AND EEDS WERE       0546 02469000
*                                      ACQUIRED, THIS FIELD WILL BE     02470000
*                                      OVERLAID WITH THE ORIGINAL  0546 02471000
*                                      ENTRY PT FOR THE PROCESSING IN   02472000
*                                      THE ORIGINAL ADDRESS SPACE    */ 02473000
         MVC   TCBERTYP(1,R3),RT1TENPT(R4)                         0546 02474000
*                             TCBABTRM='1'B;/* INDICATE TASK HAS BEEN   02475000
*                                      ABTERMED (SET UP FOR RTM2) BUT   02476000
*                                      NOT YET ABENDED (RTM2 HAS NOT    02477000
*                                      YET PERFORMED ITS           0547 02478000
*                                      INITIALIZATION FOR THIS TASK) */ 02479000
         OI    TCBABTRM(R3),B'00100000'                            0547 02480000
*                             TCBFX='1'B;/* TURN ON BIT TO PREVENT 0548 02481000
*                                      ASYNCHRONOUS EXITS    @YM01957*/ 02482000
         OI    TCBFX(R3),B'00000001'                               0548 02483000
*                             RFY                                  0549 02484000
*                               PSW BASED(ADDR(RBOPSW));/* USE PSW IN   02485000
*                                      RB                            */ 02486000
*                             PSWECTM='1'B;/* ENSURE EC MODE SO SVC     02487000
*                                      FLIH RECOGNIZE INTERRUPT    0550 02488000
*                                                            @ZA03293*/ 02489000
         LA    @08,16                                              0550 02490000
         ALR   @08,R7                                              0550 02491000
         OI    PSWECTM(@08),B'00001000'                            0550 02492000
*                             PSWIC=ADDR(ABENDSVC);/* POINT THE    0551 02493000
*                                      RESUME ADDR IN THE PSW TO AN     02494000
*                                      SVC 13 INSTRUCTION            */ 02495000
         LA    @15,ABENDSVC                                        0551 02496000
         ST    @15,PSWIC(,@08)                                     0551 02497000
*                             RT1TLPN=TCBTERM;/* LPN=PHASE NUM TO  0552 02498000
*                                      INDICATE THE TASK IS LOGICALLY   02499000
*                                      TERMINATED                    */ 02500000
         MVI   RT1TLPN(R4),X'63'                                   0552 02501000
*                             RBWCSA=RBWCF;/* PRESERVE THE ORIGINAL     02502000
*                                      WAIT COUNT (WILL BE ZEROED)   */ 02503000
         MVC   RBWCSA(1,@10),RBWCF(R7)                             0553 02504000
*                             TCBCMP=R1;/* STORE THE COMPLETION CODE    02505000
*                                      IN TO THE TCB                 */ 02506000
         ST    R1,TCBCMP(,R3)                                      0554 02507000
*                           END;    /* END TCB/RB UPDATE             */ 02508000
*                           RFY                                    0556 02509000
*                             MODEBYTE BASED(ADDR(TCBMODE));/* USE 0556 02510000
*                                      MODE FLAGS IN TCB             */ 02511000
*                           IF(TCBERTYP>=SRVCLOW&/* IF ENTERED AS A     02512000
*                                      SERVICE RTN                   */ 02513000
*                               TCBERTYP<=SRVCHI)|/* OR              */ 02514000
*                               TCBERTYP=RT1WMCHR|/* ENTERED BECAUSE    02515000
*                                      OF MACHCK                     */ 02516000
*                               MODETCB='0'B THEN/* OR A SYSTEM ERROR   02517000
*                                      OCCURRED                      */ 02518000
         CLI   TCBERTYP(R3),10                                     0557 02519000
         BL    @GL00028                                            0557 02520000
         CLI   TCBERTYP(R3),19                                     0557 02521000
         BNH   @RT00557                                            0557 02522000
@GL00028 CLI   TCBERTYP(R3),5                                      0557 02523000
         BE    @RT00557                                            0557 02524000
         TM    MODETCB+267(R3),B'00000001'                         0557 02525000
         BNZ   @RF00557                                            0557 02526000
@RT00557 DS    0H                                                  0558 02527000
*                             DO;   /* PROCESS EEDS                  */ 02528000
*                               IF RT1TENPT^=RT1WABT3 THEN/* IF RTM1    02529000
*                                      IS NOT CURRENTLY HANDLING A 0559 02530000
*                                      CROSS MEM ABTERM REENTRY THEN */ 02531000
         CLI   RT1TENPT(R4),13                                     0559 02532000
         BE    @RF00559                                            0559 02533000
*                                 DO;                              0560 02534000
*                                   RT1TLPN=RT2EEDS;/* LPN=PHASE   0561 02535000
*                                      NUMBER FOR EED PROCESSING   0561 02536000
*                                      DURING SCHEDULING OF RTM2     */ 02537000
         MVI   RT1TLPN(R4),X'5C'                                   0561 02538000
*                                   CALL EEDPROC;/* GO SEE IF EEDS 0562 02539000
*                                      CAN BE ACCUMULATED            */ 02540000
         BAL   @14,EEDPROC                                         0562 02541000
*                                 END;                             0563 02542000
*                               ELSE                               0564 02543000
*                                 ; /* OTHERWISE, IF THIS IS A CROSS    02544000
*                                      MEM ABTERM REENTRY THEN THE 0564 02545000
*                                      EEDS HAVE ALREADY BEEN      0564 02546000
*                                      ACCUMULATED, AND ARE POINTED     02547000
*                                      TO BY THE EEDCHAIN REGISTER 0564 02548000
*                                      (R6)                          */ 02549000
@RF00559 DS    0H                                                  0565 02550000
*RT2EEDRP:                          /* RETURN POINT FROM FRR IF    0565 02551000
*                                      GETCELL FAILURE OCCURS        */ 02552000
*                               GEN(LA R11,4095(R9));/* RESTORE BASE    02553000
*                                      REG                   @G17EP5W*/ 02554000
RT2EEDRP LA R11,4095(R9)                                                02555000
*                               RT1TLPN=TCBTERM;/* LPN=PHASE NUM FOR    02556000
*                                      FURTHER PROCESSING AFTER TCB     02557000
*                                      HAS BEEN LOGICALLY TERMINATED */ 02558000
         MVI   RT1TLPN(R4),X'63'                                   0566 02559000
*                               TCBRTM12=R6;/* PLACE ORIGIN OF EED 0567 02560000
*                                      CHAIN IN THE TCB              */ 02561000
         ST    R6,TCBRTM12(,R3)                                    0567 02562000
*                               R6=NULL;/* INDICATE TO THE EXIT    0568 02563000
*                                      FUNCTION THAT NO EEDS ARE TO     02564000
*                                      BE FREED                      */ 02565000
         SLR   R6,R6                                               0568 02566000
*                               R12->RT1TREGS(THREE)=R6;/* CHECKPOINT   02567000
*                                      NEW VALUE OF EEDCHAIN REGISTER*/ 02568000
         ST    R6,RT1TREGS+8(,R12)                                 0569 02569000
*                               IF TCBRTM12>EEDNULL&/* IF AT LEAST 0570 02570000
*                                      ONE EED WAS PLACED ON THE   0570 02571000
*                                      QUEUE, AND                    */ 02572000
*                                   RT1TENPT=RT1WABT3 THEN/* THE   0570 02573000
*                                      CURRENT ERROR IS A CROSS    0570 02574000
*                                      MEMORY ABTERM REENTRY THEN    */ 02575000
         L     @10,TCBRTM12(,R3)                                   0570 02576000
         CH    @10,@CH00073                                        0570 02577000
         BNH   @RF00570                                            0570 02578000
         CLI   RT1TENPT(R4),13                                     0570 02579000
         BNE   @RF00570                                            0570 02580000
*                                 DO;/* GET ORIG ERR DATA IN TCB     */ 02581000
*                                   RFY                            0572 02582000
*                                     EED BASED(TCBRTM12);/* USE   0572 02583000
*                                      FIRST EED IN THE EED CHAIN    */ 02584000
*                                   TCBERTYP=EEDERTYP;/* MOVE THE  0573 02585000
*                                      ORIGINAL ENTRY POINT INDICATOR   02586000
*                                      INTO THE TCB, IN SRB        0573 02587000
*                                      PERCOLATION PROCESSING THE  0573 02588000
*                                      ENTRY TYPE THAT CAUSED THE SRB   02589000
*                                      TO FAIL WOULD BE PLACED INTO     02590000
*                                      THE TCB, RATHER THAN THE    0573 02591000
*                                      XMABTERM ENTRY PT             */ 02592000
         MVC   TCBERTYP(1,R3),EEDERTYP(@10)                        0573 02593000
*                                   TCBMODE=EEDMODE;/* MOVE THE    0574 02594000
*                                      ORIGINAL MODE MODE INDICATOR     02595000
*                                      INTO TCB                      */ 02596000
         MVC   TCBMODE(1,R3),EEDMODE(@10)                          0574 02597000
*                                 END;/* END ORIG DATA PROCESSING    */ 02598000
*                               ELSE                               0576 02599000
*                                 ; /* OTHERWISE, IF THE ORIGINAL  0576 02600000
*                                      DATA IS LOST, LEAVE THE TCB 0576 02601000
*                                      WITH THE DEFAULT SETTINGS SET    02602000
*                                      BY THE TCBRB SEGMENT          */ 02603000
@RF00570 DS    0H                                                  0577 02604000
*                             END;  /* END EED PROCESSING            */ 02605000
*                           ELSE                                   0578 02606000
*                             ;     /* OTHERWISE NO EEDS NEEDED      */ 02607000
*                                                                  0578 02608000
@RF00557 DS    0H                                                  0579 02609000
*                           /*****************************************/ 02610000
*                           /*                                       */ 02611000
*                           /* THE FOLLOWING CODE INTERFACES WITH THE*/ 02612000
*                           /* POST AND STATUS ROUTINES TO FORCE THE */ 02613000
*                           /* TASK TO BE DISPATCHABLE               */ 02614000
*                           /*                                       */ 02615000
*                           /*****************************************/ 02616000
*                                                                  0579 02617000
*                           IF R0^=ABTRMCUR THEN/* IF THE FUNCTION IS   02618000
*                                      NOT ABTERM OF THE CURRENT TCB    02619000
*                                      THEN IT IS ASSUMED THAT THE 0579 02620000
*                                      LOCAL LOCK, NEEDED FOR THE  0579 02621000
*                                      POST AND STATUS ROUTINES IS 0579 02622000
*                                      ALREADY HELD                  */ 02623000
         CH    R0,@CH00426                                         0579 02624000
         BE    @RF00579                                            0579 02625000
*                             DO;   /* FORCE THE TASK DISPATCHABLE   */ 02626000
*                               RFY                                0581 02627000
*                                 R10 RSTD;/* GET CONTROL OF REG FOR    02628000
*                                      POST                          */ 02629000
*                               DO WHILE RBWCF^=NULL;/* LOOP UNTIL 0582 02630000
*                                      WAIT COUNT GOES TO ZERO       */ 02631000
         B     @DE00582                                            0582 02632000
@DL00582 DS    0H                                                  0583 02633000
*                                 R10=R7;/* INDICATE RB TO POST      */ 02634000
         LR    R10,R7                                              0583 02635000
*                                 GEN(SR 11,11);/* INDICATE POST   0584 02636000
*                                      WITHOUT ECB                   */ 02637000
         SR 11,11                                                       02638000
*                                 CALL POST;/* POST THE RB           */ 02639000
         L     @08,CVTPTR                                          0585 02640000
         L     @15,CVT0PT01(,@08)                                  0585 02641000
         BALR  @14,@15                                             0585 02642000
*                                 GEN(LA R11,4095(R9));/* ESTABLISH     02643000
*                                      BASE REG              @G17EP5W*/ 02644000
         LA R11,4095(R9)                                                02645000
*                               END;/* END WAIT COUT LOOP            */ 02646000
@DE00582 CLI   RBWCF(R7),0                                         0587 02647000
         BNE   @DL00582                                            0587 02648000
*                               RFY                                0588 02649000
*                                 R10 UNRSTD;/* FREE POST REG        */ 02650000
*                               CALL STATUSET;/* CALLS TO STATUS TO     02651000
*                                      RESET TASK'S DISPATCHABILITY     02652000
*                                      FLAGS                         */ 02653000
         BAL   @14,STATUSET                                        0589 02654000
*                             END;  /* END FORCE DISPATCHABLE CODE   */ 02655000
*                           ELSE                                   0591 02656000
*                             ;     /* IF THE TASK IS CURRENT THEN IT   02657000
*                                      IS ALREADY DISPATCHABLE       */ 02658000
@RF00579 DS    0H                                                  0592 02659000
*                         END;      /* END INTERFACE SET UP PROCESS  */ 02660000
*                     END;          /* END OF SCHDRTM2 SEGMENT       */ 02661000
*                   ELSE            /* IF NOT RTM2 FUNCTION          */ 02662000
*                     DO;           /* THEN MUST BE RTM1 FUNCTION    */ 02663000
*                                                                  0594 02664000
         B     @RC00440                                            0594 02665000
@RF00440 DS    0H                                                  0595 02666000
*                       /*********************************************/ 02667000
*                       /*                                           */ 02668000
*                       /* ACQUIRE RESOURCES FOR SCHEDULE RTM1       */ 02669000
*                       /* FUNCTION                                  */ 02670000
*                       /*                                           */ 02671000
*                       /*********************************************/ 02672000
*                                                                  0595 02673000
*                       RFY                                        0595 02674000
*                         R8 RSTD;  /* GET CONTROL OF A WORK REG     */ 02675000
*                       R8=ADDR(RT1TREGS(1));/* POINT TO REGISTER  0596 02676000
*                                      CHECKPOINT SECTION OF FRRPARM    02677000
*                                      AREA                          */ 02678000
         LA    R8,RT1TREGS(,R4)                                    0596 02679000
*                       R0=RT1CPOOL;/* POINT RT1S CELLPOOL ID IN A 0597 02680000
*                                      PARAMETER REGISTER            */ 02681000
         L     R0,RT1CPOOL                                         0597 02682000
*                       RFY                                        0598 02683000
*                         R15 RSTD; /* GET CONTROL OF REG            */ 02684000
*                       RT1TLPN=RT1EEDS;/* LPN=PHASE NUMBER FOR EED     02685000
*                                      PROCESSING DURING RESCHEDULE     02686000
*                                      OF RTM1                       */ 02687000
         MVI   RT1TLPN(R4),X'5D'                                   0599 02688000
*                       GEN(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/*     02689000
*                                      ACQUIRE A CELL FOR STATUS   0600 02690000
*                                      SAVING                        */ 02691000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            02692000
*                       GEN(LA R11,4095(R9));/* RESTORE BASE REG   0601 02693000
*                                                            @G17EP5W*/ 02694000
         LA R11,4095(R9)                                                02695000
*                       IF R15=NULL THEN/* IF A CELL WAS RETURNED  0602 02696000
*                                      THEN                          */ 02697000
         LTR   R15,R15                                             0602 02698000
         BNZ   @RF00602                                            0602 02699000
*                         R6=R1;    /* PUT ITS ADDRESS IN A REG      */ 02700000
         LR    R6,R1                                               0603 02701000
*                       ELSE        /* IF A CELL WAS NOT OBTAINED    */ 02702000
*                         R6=EEDNULL;/* INDICATE NO CELL AVAILABLE   */ 02703000
         B     @RC00602                                            0604 02704000
@RF00602 LA    R6,1                                                0604 02705000
*                       GEN(LM R0,R4,0(R8));/* RELOAD REGS WITH    0605 02706000
*                                      ORIGINAL CONTENTS             */ 02707000
@RC00602 DS    0H                                                  0605 02708000
         LM R0,R4,0(R8)                                                 02709000
*RT1EEDRP:                          /* RETURN PT FROM FRR IF GETCELL    02710000
*                                      FAILURE OCCURS                */ 02711000
*                       GEN(LA R11,4095(R9));/* RESTORE BASE REG   0606 02712000
*                                                            @G17EP5W*/ 02713000
RT1EEDRP LA R11,4095(R9)                                                02714000
*                       RT1TLPN=RESRTM1;/* LPN=PHASE NUMBER FOR    0607 02715000
*                                      RESCHEDULE OF RTM1            */ 02716000
         MVI   RT1TLPN(R4),X'64'                                   0607 02717000
*                       R12->RT1TREGS(THREE)=R6;/* CHECKPOINT NEW  0608 02718000
*                                      VALUE OF EEDCHAIN REGISTER    */ 02719000
         ST    R6,RT1TREGS+8(,R12)                                 0608 02720000
*                       RFY                                        0609 02721000
*                         R15 UNRSTD;/* RELINQUISH CONTROL OF REG    */ 02722000
*                       RFY                                        0610 02723000
*                         R8 UNRSTD;/* RELINQUISH CONTROL OF REG     */ 02724000
*                                                                  0610 02725000
*                       /*********************************************/ 02726000
*                       /*                                           */ 02727000
*                       /* THE PURPOSE OF THE SCHDRTM1 SEGMENT IS TO */ 02728000
*                       /* CAUSE A SUSPENDED LOCALLY LOCKED TASK, OR */ 02729000
*                       /* A SUSPENDED SRB TO ISSUE AN ABEND         */ 02730000
*                       /* INSTRUCTION WHEN IT IS BROUGHT OUT OF     */ 02731000
*                       /* SUSPENSION (I.E. WHEN IT IS DISPATCHED).  */ 02732000
*                       /* THIS PROCESSING IS PERFORMED IF THE CAUSE */ 02733000
*                       /* FOR SUSPENSION WAS A PAGE FAULT, AND THE  */ 02734000
*                       /* PAGE COULD NOT BE BROUGHT IN FROM         */ 02735000
*                       /* SECONDARY STORAGE. INPUT TO THIS SEGMENT  */ 02736000
*                       /* IS AS FOLLOWS: FUNCTION REGISTER (R0) -   */ 02737000
*                       /* CONTAINS THE ENTRYPOINT/FUNCTION          */ 02738000
*                       /* INDICATOR. FLAGSCC REGISTER (R1) -        */ 02739000
*                       /* CONTAINS THE COMPLETION CODE AND CALLRTM  */ 02740000
*                       /* FLAGS. RECVREGS REGISTER (R12) - CONTAINS */ 02741000
*                       /* A PTR TO THE SECONDARY TRACKING AREA USED */ 02742000
*                       /* TO CHECKPOINT RECOVERY INFORMATION.       */ 02743000
*                       /* TARGTCB (R3) - CONTAINS POINTER TO THE TCB*/ 02744000
*                       /* TO BE PROCESSED IF NON-SRB PROCESSING IS  */ 02745000
*                       /* BEING REQUESTED. TARGSRB (R3) - CONTAINS  */ 02746000
*                       /* POINTER TO THE SRB TO BE PROCESSED IF THE */ 02747000
*                       /* FUNCTION IS PGIOERR PROCESSING AND NO RB  */ 02748000
*                       /* ADDRESS WAS PASSED. TRAKAREA REGISTER (R4)*/ 02749000
*                       /* CONTAINS POINTER TO AN AREA FOR TRACKING. */ 02750000
*                       /* RBADDR REGISTER (R7) CONTAINS A PTR TO THE*/ 02751000
*                       /* RB ASSOCIATED WITH A PAGE IO ERROR. IF R7 */ 02752000
*                       /* IS ZERO FOR A PGIOERR REQUEST, THEN R3    */ 02753000
*                       /* WILL POINT TO AN SRB. THE SSRB AND IHSA   */ 02754000
*                       /* ARE ALSO INPUT TO THIS SEGMENT. OUTPUT IS */ 02755000
*                       /* AN UPDATED SSRB OR IHSA.                  */ 02756000
*                       /*                                           */ 02757000
*                       /*********************************************/ 02758000
*                                                                  0611 02759000
*                       DO;         /* START OF SCHDRTM1 SEGMENT     */ 02760000
*                         IF R6^=EEDNULL THEN/* IF AN EED WAS      0612 02761000
*                                      OBTAINED                      */ 02762000
         CH    R6,@CH00073                                         0612 02763000
         BE    @RF00612                                            0612 02764000
*                           DO;     /* FILL IN COMMON PARTS OF EED   */ 02765000
*                             RFY                                  0614 02766000
*                               EED BASED(R6);/* USE JUST GOTTEN EED    02767000
*                                      CELL FOR MAPPING MACRO BASE   */ 02768000
*                             EED=''B;/* ZERO OUT ENTIRE EED CELL    */ 02769000
         XC    EED(92,R6),EED(R6)                                  0615 02770000
*                             EEDERTYP=R0;/* PRESERVE THE ENTRY PT 0616 02771000
*                                      FUNCTN                        */ 02772000
         STC   R0,EEDERTYP(,R6)                                    0616 02773000
*                             EEDID=REGSPTYP;/* INDICATE EED CONTAINS   02774000
*                                      REGS                          */ 02775000
         MVI   EEDID(R6),X'01'                                     0617 02776000
*                             EEDINTCD=PAGEFALT;/* INDICATE ORIGINAL    02777000
*                                      PROGRAM INTERRUPTION WAS A  0618 02778000
*                                      PAGEFAULT                     */ 02779000
         MVC   EEDINTCD(2,R6),@CH00199                             0618 02780000
*                           END;    /* END COMMON EED PROCESSING     */ 02781000
*                         IF R7=NULL THEN/* IF AN SRB SUFFERED THE 0620 02782000
*                                      ERR                           */ 02783000
@RF00612 LTR   R7,R7                                               0620 02784000
         BNZ   @RF00620                                            0620 02785000
*                           DO;     /* SET SRB UP FOR ENTRY TO RTM1  */ 02786000
*                             IF R6^=EEDNULL THEN/* IF AN EED WAS  0622 02787000
*                                      OBTAINED                      */ 02788000
         CH    R6,@CH00073                                         0622 02789000
         BE    @RF00622                                            0622 02790000
*                               DO; /* FILL IN INTERRUPT INFORMATON  */ 02791000
*                                 RFY                              0624 02792000
*                                   MODEBYTE BASED(ADDR(EEDMODE));/*    02793000
*                                      POINT TO EEDMODE              */ 02794000
*                                 MODESRB='1'B;/* INDICATE CPU WAS IN   02795000
*                                      SRB MODE                      */ 02796000
         OI    MODESRB+8(R6),B'00000010'                           0625 02797000
*                                 RFY                              0626 02798000
*                                   SSRBSECT BASED(R3);/* USE SSRB 0626 02799000
*                                      PASSED AS INPUT               */ 02800000
*                                 EEDPSW1=SSRBCPSW;/* MOVE IN PSW AT    02801000
*                                      TIME OF PAGE FAULT            */ 02802000
         MVC   EEDPSW1(8,R6),SSRBCPSW(R3)                          0627 02803000
*                                 EEDTRANS=SSRBTRAN;/* MOVE IN     0628 02804000
*                                      ADDRESS CAUSING THE PAGE    0628 02805000
*                                      EXCEPTION                     */ 02806000
         MVC   EEDTRANS(4,R6),SSRBTRAN(R3)                         0628 02807000
*                                 EEDREGS=SSRBGPRS;/* MOVE IN      0629 02808000
*                                      REGISTERS AT TIME OF PAGE   0629 02809000
*                                      FAULT                         */ 02810000
         MVC   EEDREGS(64,R6),SSRBGPRS(R3)                         0629 02811000
*                               END;/* END FILLING IN OF EED         */ 02812000
*                             RFY                                  0631 02813000
*                               ERREGS BASED(ADDR(SSRBGPRS));/* BASE    02814000
*                                      REGISTER SAVE AREA STRUCTURE     02815000
*                                      ON THE REGS IN SSRB TO BE   0631 02816000
*                                      DISPATCHED                    */ 02817000
@RF00622 DS    0H                                                  0632 02818000
*                             ERREG0=R6;/* PASS THE EED, OR THE    0632 02819000
*                                      EEDNULL INDICATOR TO IEAVTRT1 */ 02820000
         LA    @10,88                                              0632 02821000
         ALR   @10,R3                                              0632 02822000
         ST    R6,ERREG0(,@10)                                     0632 02823000
*                             ERREG1=R1;/* PASS COMPCODE TO IEAVTRT1 */ 02824000
         ST    R1,ERREG1(,@10)                                     0633 02825000
*                             RFY                                  0634 02826000
*                               PSW BASED(ADDR(SSRBCPSW));/* BASE THE   02827000
*                                      PSW MAPPING ON THE RESUME PSW */ 02828000
*                             PSWECTM='1'B;/* ENSURE EC MODE SO SVC     02829000
*                                      FLIH WILL RECOGNIZE INTERRUPT    02830000
*                                                            @ZA03293*/ 02831000
         LA    @10,48                                              0635 02832000
         ALR   @10,R3                                              0635 02833000
         OI    PSWECTM(@10),B'00001000'                            0635 02834000
*                             PSWIC=ADDR(ABENDSVC);/* ALTER THE    0636 02835000
*                                      RESUME PSW TO POINT TO AN   0636 02836000
*                                      ABEND SVC                     */ 02837000
         LA    @08,ABENDSVC                                        0636 02838000
         ST    @08,PSWIC(,@10)                                     0636 02839000
*                           END;    /* END SRB SET UP PROCESSING     */ 02840000
*                         ELSE      /* IF LOCAL LOCKED TASK SUFFERED    02841000
*                                      THE PAGE IO ERROR, THEN       */ 02842000
*                           DO;     /* SET SRB UP FOR ENTRY TO RTM1  */ 02843000
         B     @RC00620                                            0638 02844000
@RF00620 DS    0H                                                  0639 02845000
*                             IF R6^=EEDNULL THEN/* IF AN EED WAS  0639 02846000
*                                      OBTAINED                      */ 02847000
         CH    R6,@CH00073                                         0639 02848000
         BE    @RF00639                                            0639 02849000
*                               DO; /* FILL IN INTERRUPT INFORMATON  */ 02850000
*                                 RFY                              0641 02851000
*                                   MODEBYTE BASED(ADDR(EEDMODE));/*    02852000
*                                      POINT TO EEDMODE              */ 02853000
*                                 RFY                              0642 02854000
*                                   ASCB BASED(PSAAOLD);/* USE     0642 02855000
*                                      CURRENT ADDRESS SPACE         */ 02856000
*                                 MODELOC='1'B;/* INDICATE CPU WAS IN   02857000
*                                      LOCALLY LOCKED TASK MODE      */ 02858000
         OI    MODELOC+8(R6),B'00001000'                           0643 02859000
*                                 EEDPSW1=IHSACPSW;/* MOVE IN PSW AT    02860000
*                                      TIME OF PAGE FAULT            */ 02861000
         L     @10,PSAAOLD                                         0644 02862000
         L     @10,ASCBASXB(,@10)                                  0644 02863000
         L     @10,ASXBIHSA(,@10)                                  0644 02864000
         MVC   EEDPSW1(8,R6),IHSACPSW(@10)                         0644 02865000
*                                 EEDTRANS=RBRTRAN;/* MOVE IN ADDRESS   02866000
*                                      CAUSING THE PAGE EXCEPTION    */ 02867000
         LR    @08,R7                                              0645 02868000
         AL    @08,@CF03678                                        0645 02869000
         MVC   EEDTRANS(4,R6),RBRTRAN-52(@08)                      0645 02870000
*                                 EEDREGS=IHSAGPRS;/* MOVE IN      0646 02871000
*                                      REGISTERS AT TIME OF PAGE   0646 02872000
*                                      FAULT                         */ 02873000
         MVC   EEDREGS(64,R6),IHSAGPRS(@10)                        0646 02874000
*                               END;/* END FILLING IN OF EED         */ 02875000
*                             RFY                                  0648 02876000
*                               ERREGS BASED(ADDR(IHSAGPRS));/* BASE    02877000
*                                      REGISTER SAVE AREA STRUCTURE     02878000
*                                      ON THE REGS IN IHSA TO BE   0648 02879000
*                                      DISPATCHED                    */ 02880000
@RF00639 DS    0H                                                  0649 02881000
*                             ERREG0=R6;/* PASS THE EED, OR THE    0649 02882000
*                                      EEDNULL INDICATOR TO IEAVTRT1 */ 02883000
         L     @10,PSAAOLD                                         0649 02884000
         L     @10,ASCBASXB(,@10)                                  0649 02885000
         L     @10,ASXBIHSA(,@10)                                  0649 02886000
         LA    @08,56                                              0649 02887000
         ALR   @08,@10                                             0649 02888000
         ST    R6,ERREG0(,@08)                                     0649 02889000
*                             ERREG1=R1;/* PASS COMPCODE TO IEAVTRT1 */ 02890000
         ST    R1,ERREG1(,@08)                                     0650 02891000
*                             RFY                                  0651 02892000
*                               PSW BASED(ADDR(IHSACPSW));/* BASE THE   02893000
*                                      PSW MAPPING ON THE RESUME PSW */ 02894000
*                             PSWECTM='1'B;/* ENSURE EC MODE SO SVC     02895000
*                                      FLIH WILL RECOGNIZE INTERRUPT    02896000
*                                                            @ZA03293*/ 02897000
         AH    @10,@CH00131                                        0652 02898000
         OI    PSWECTM(@10),B'00001000'                            0652 02899000
*                             PSWIC=ADDR(ABENDSVC);/* ALTER THE    0653 02900000
*                                      RESUME PSW TO POINT TO AN   0653 02901000
*                                      ABEND SVC                     */ 02902000
         LA    @08,ABENDSVC                                        0653 02903000
         ST    @08,PSWIC(,@10)                                     0653 02904000
*                           END;    /* END LOCAL TASK PROCESSING     */ 02905000
*                         R6=NULL;  /* PREVENT THE EXIT PROCESSING 0655 02906000
*                                      FROM FREEING THE EED          */ 02907000
@RC00620 SLR   R6,R6                                               0655 02908000
*                         R12->RT1TREGS(TWO)=R6;/* CHECKPOINT NEW  0656 02909000
*                                      VALUE OF EEDCHAIN REGISTER    */ 02910000
         ST    R6,RT1TREGS+4(,R12)                                 0656 02911000
*                       END;        /* END SCHEDULING OF RTM1        */ 02912000
*                     END;          /* END RESCHEDULE RTM1 PROCESIN  */ 02913000
*                 END;              /* END RESCHEDULE MODE           */ 02914000
@RC00440 DS    0H                                                  0660 02915000
*               IF R0=RT1WMEMT THEN /* IF MEMTERM FUNCTION REQUEST   */ 02916000
*                                                                  0660 02917000
@RF00434 CH    R0,@CH00429                                         0660 02918000
         BNE   @RF00660                                            0660 02919000
*                 /***************************************************/ 02920000
*                 /*                                                 */ 02921000
*                 /* THE PURPOSE OF THE MEMTERM SEGMENT IS TO        */ 02922000
*                 /* SCHEDULE AN ADDRESS SPACE FOR TERMINATION. THIS */ 02923000
*                 /* INVOLVES VERIFYING THAT THE ASID PASSED IS      */ 02924000
*                 /* VALID, QUEUEING THE ASCB ON THE TERMINATION     */ 02925000
*                 /* QUEUE, AND NOTIFYING THE MEMORY TERMINATION     */ 02926000
*                 /* CONTROLLER THAT AN ADDRESS SPACE IS TO BE       */ 02927000
*                 /* PROCESSED. INPUT IS AS FOLLOWS: TARGASID        */ 02928000
*                 /* REGISTER (R2) - CONTAINS THE ASID OF THE ADDRESS*/ 02929000
*                 /* SPACE TO BE TERMINATED, OR CONTAINS ZERO        */ 02930000
*                 /* INDICATING THE CURRENTLY LOADED ADDRESS SPACE.  */ 02931000
*                 /* FLAGSCC REGISTER (R1) - CONTAINS THE COMPLETION */ 02932000
*                 /* CODE ASSOCIATED WITH THIS MEMTERM REQUEST.      */ 02933000
*                 /* TRAKAREA REGISTER (R4) - POINTS TO A TRACKING   */ 02934000
*                 /* AREA FOR CHECKPOINTING CRITICAL REGISTERS.      */ 02935000
*                 /* ADDITIONALLY REGS R5 AND R6 ARE ASSUMED         */ 02936000
*                 /* RESTRICTED AND AVAILABLE FOR USE AS WORK REGS.  */ 02937000
*                 /* THE RTCT, ASCB AND ASVT ARE ALSO INPUT TO THIS  */ 02938000
*                 /* SEGMENT. OUTPUT IS AN UPDATED FUNCTION REGISTER */ 02939000
*                 /* IF THE VALIDITY CHECKS FAILED OR AN UPDATED RTCT*/ 02940000
*                 /* AND ASCB IF THE MEMTERM WAS PROCESSED.          */ 02941000
*                 /*                                                 */ 02942000
*                 /***************************************************/ 02943000
*                                                                  0661 02944000
*                 DO;               /* START OF MEMTERM SEGMENT      */ 02945000
*                   RFY                                            0662 02946000
*                     R8 RSTD;      /* GET CONTROL OF REG FOR ASCB 0662 02947000
*                                      ADDRESS                       */ 02948000
*                   CALL ASIDCK;    /* VALIDITY CHECK THE ASID       */ 02949000
         BAL   @14,ASIDCK                                          0663 02950000
*                   RFY                                            0664 02951000
*                     ASCB BASED(R8);/* USE ASCB LOCATED BY ASIDCK 0664 02952000
*                                      SEGMENT                       */ 02953000
*                   IF R2<=MASTASID THEN/* IF AN ATTEMPT HAS BEEN  0665 02954000
*                                      MADE TO MEMTERM THE MASTER  0665 02955000
*                                      ADDRESS SPACE,        @Z40WPXH*/ 02956000
         CH    R2,@CH00073                                         0665 02957000
         BH    @RF00665                                            0665 02958000
*                     R0=TAKEEXIT;  /* TAKE IMMEDIATE EXIT           */ 02959000
         LA    R0,30                                               0666 02960000
*                   ELSE            /* IF NOT THE MASTERS ASID       */ 02961000
*                     DO;           /* SCHEDULE MEMORY TERMINATION   */ 02962000
         B     @RC00665                                            0667 02963000
@RF00665 DS    0H                                                  0668 02964000
*                       IF R0^=TAKEEXIT THEN/* IF THE VALIDITY CHECKS   02965000
*                                      WENT OK                       */ 02966000
         LA    @10,30                                              0668 02967000
         CR    R0,@10                                              0668 02968000
         BE    @RF00668                                            0668 02969000
*                         DO;       /* PROCESS THE ASCB              */ 02970000
*                           IF ASCBTERM='1'B THEN/* IF THE ADDRESS 0670 02971000
*                                      SPACE HAS ALREADY BEEN QUEUED    02972000
*                                      FOR TERMINATION               */ 02973000
         TM    ASCBTERM(R8),B'00010000'                            0670 02974000
         BNO   @RF00670                                            0670 02975000
*                             R0=TAKEEXIT;/* TAKE AN EXIT            */ 02976000
         LR    R0,@10                                              0671 02977000
*                           ELSE    /* IF NOT QUEUED FOR TERMINATON  */ 02978000
*                             DO;   /* PLACE ON TERMINATION QUEUE    */ 02979000
         B     @RC00670                                            0672 02980000
@RF00670 DS    0H                                                  0673 02981000
*                               RT1TLPN=MEMTERM;/* LPN=PHASE NUMBER     02982000
*                                      FOR PLACING ASCB ON MEMTERM 0673 02983000
*                                      QUEUE                         */ 02984000
         MVI   RT1TLPN(R4),X'65'                                   0673 02985000
*                               ASCBTERM='1'B;/* INDICATE ADDRESS  0674 02986000
*                                      SPACE HAS BEEN SET UP FOR   0674 02987000
*                                      TERMINATION                   */ 02988000
         OI    ASCBTERM(R8),B'00010000'                            0674 02989000
*                               ASCBMCC=R1;/* STORE THE COMPLETION 0675 02990000
*                                      CODE INTO THE ASCB    @ZA16855*/ 02991000
         ST    R1,ASCBMCC(,R8)                                     0675 02992000
*                               IF(R1&'00FFF000'X)/4096^=NULL THEN/*    02993000
*                                      IF A NON ZERO COMPLETION WAS     02994000
*                                      PASSED THEN           @ZA16855*/ 02995000
         SLR   @10,@10                                             0676 02996000
         LR    @14,R1                                              0676 02997000
         N     @14,@CF03608                                        0676 02998000
         SRL   @14,12                                              0676 02999000
         CR    @14,@10                                             0676 03000000
         BE    @RF00676                                            0676 03001000
*                                 DO;/*                      @ZA16855*/ 03002000
*                                   ASCBABNT='1'B;/* INDICATE THAT 0678 03003000
*                                      THIS IS AN ABNORMAL         0678 03004000
*                                      TERMINATION           @ZA16855*/ 03005000
*                                                                  0678 03006000
         OI    ASCBABNT(R8),B'00001000'                            0678 03007000
*                                   /*********************************/ 03008000
*                                   /*                               */ 03009000
*                                   /* THIS SEGMENT PERFORMS THE     */ 03010000
*                                   /* FUNCTION OF ROUTING TO SLIP   */ 03011000
*                                   /* PROCESSING WHEN THERE ARE     */ 03012000
*                                   /* ENABLED SLIP TRAPS TO BE      */ 03013000
*                                   /* CONSIDERED.           @ZA16855*/ 03014000
*                                   /*                               */ 03015000
*                                   /*********************************/ 03016000
*                                                                  0679 03017000
*                                   IF CVTRTMS^=NULL THEN/* IF THE 0679 03018000
*                                      SLIP HEADER PTR IND THERE IS     03019000
*                                      AN IHASHDR            @ZA16855*/ 03020000
         L     @14,CVTPTR                                          0679 03021000
         L     @14,CVTRTMS(,@14)                                   0679 03022000
         CR    @14,@10                                             0679 03023000
         BE    @RF00679                                            0679 03024000
*                                    DO;/*                   @ZA16855*/ 03025000
*                                     RFY                          0681 03026000
*                                      (R14,                       0681 03027000
*                                       R15) RSTD;/*         @ZA16855*/ 03028000
*                                     R14=SHDRPFC;/* GET UCRRENT   0682 03029000
*                                      VALUE FOR COMPARE IN THE CS 0682 03030000
*                                                            @ZA16855*/ 03031000
         L     @10,CVTPTR                                          0682 03032000
         L     @10,CVTRTMS(,@10)                                   0682 03033000
         L     R14,SHDRPFC(,@10)                                   0682 03034000
*SLIPINCR:                          /* TOP OF CS LOOP FOR UPDATING 0683 03035000
*                                      THE IEAVTSLP USE COUNT, THIS     03036000
*                                      USE COUNT IS 0 IF IEAVTSLP IS    03037000
*                                      NOT AVAILABLE         @ZA16855*/ 03038000
*                                     IF R14>NULL THEN/* IF THE USE     03039000
*                                      COUNT INDICATES IEAVTSLP IS 0683 03040000
*                                      AVAIL                 @ZA16855*/ 03041000
SLIPINCR LTR   R14,R14                                             0683 03042000
         BNP   @RF00683                                            0683 03043000
*                                      DO;/* THEN SLIP SHOULD BE   0684 03044000
*                                      CALLED                @ZA16855*/ 03045000
*                                       R15=R14+ONE;/* INCR THE USE     03046000
*                                      COUNT                 @ZA16855*/ 03047000
         LA    R15,1                                               0685 03048000
         ALR   R15,R14                                             0685 03049000
*                                       CS(R14,R15,SHDRPFC);/*     0686 03050000
*                                      ATTEMPT TO UPDATE THE USE   0686 03051000
*                                      COUNT FIELD           @ZA16855*/ 03052000
         L     @10,CVTPTR                                          0686 03053000
         L     @10,CVTRTMS(,@10)                                   0686 03054000
         CS    R14,@15,SHDRPFC(@10)                                0686 03055000
*                                       BC(4,SLIPINCR);/* IF SHDRPFC    03056000
*                                      HAS CHANGED BEFORE THIS CS, 0687 03057000
*                                      TRY AGAIN             @ZA16855*/ 03058000
         BC    4,SLIPINCR                                          0687 03059000
*                                       RFY                        0688 03060000
*                                        (R14,                     0688 03061000
*                                         R15) UNRSTD;/*     @ZA16855*/ 03062000
*                                                                  0688 03063000
*                                       /*****************************/ 03064000
*                                       /*                           */ 03065000
*                                       /* OBTAIN 3 CELLS FROM POOL  */ 03066000
*                                       /* FOR SLIP WORK AREAS       */ 03067000
*                                       /*                   @ZA16855*/ 03068000
*                                       /*                           */ 03069000
*                                       /*****************************/ 03070000
*                                                                  0689 03071000
*                                       RFY                        0689 03072000
*                                        (R10,                     0689 03073000
*                                         R13,                     0689 03074000
*                                         R15) RSTD;/*       @ZA16855*/ 03075000
*                                       R10=ADDR(RT1TREGS);/* FRRPARM   03076000
*                                      REG STORE             @ZA16855*/ 03077000
         LA    R10,RT1TREGS(,R4)                                   0690 03078000
*                                       GEN(STM R0,R4,0(R10));/* SAVE   03079000
*                                      REGS CONTENTS         @ZA16855*/ 03080000
         STM R0,R4,0(R10)                                               03081000
*                                       R0=RT1CPOOL;/* IND RT1 CELL     03082000
*                                      POOLID                @ZA16855*/ 03083000
         L     R0,RT1CPOOL                                         0692 03084000
*                                       GEN                        0693 03085000
*(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/*                    @ZA16855*/ 03086000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            03087000
*                                       GEN(LA    R11,4095(R9));/* 0694 03088000
*                                      RESTORE BASE REG      @ZA16855*/ 03089000
         LA    R11,4095(R9)                                             03090000
*                                       IF R15=QCELNORM THEN/* IF  0695 03091000
*                                      CELL OBTAINED         @ZA16855*/ 03092000
         LTR   R15,R15                                             0695 03093000
         BNZ   @RF00695                                            0695 03094000
*                                        DO;/*               @ZA16855*/ 03095000
*                                         R13=R1;/* SAVE ADDR OF CELL   03096000
*                                                            @ZA16855*/ 03097000
         LR    R13,R1                                              0697 03098000
*                                         SLIPLIST=''B;/* CLEAR WORK    03099000
*                                      AREA                  @ZA16855*/ 03100000
         XC    SLIPLIST(72,R13),SLIPLIST(R13)                      0698 03101000
*                                         R0=RT1CPOOL;/* IND RT1 CELL   03102000
*                                      POOLID                @ZA16855*/ 03103000
         L     R0,RT1CPOOL                                         0699 03104000
*                                         GEN                      0700 03105000
*(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/*                    @ZA16855*/ 03106000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            03107000
*                                         GEN(LA R11,4095(R9));/*  0701 03108000
*                                      RESTORE BASE REG      @ZA16855*/ 03109000
         LA R11,4095(R9)                                                03110000
*                                         IF R15=QCELNORM THEN/* IF     03111000
*                                      CELL OBTAINED         @ZA16855*/ 03112000
         LTR   R15,R15                                             0702 03113000
         BNZ   @RF00702                                            0702 03114000
*                                          DO;/*             @ZA16855*/ 03115000
*                                           SLPWAPTR=R1;/* SAVE ADDR    03116000
*                                      OF CELL               @ZA16855*/ 03117000
         ST    R1,SLPWAPTR(,R13)                                   0704 03118000
*                                           R0=RT1CPOOL;/* IND RT1 0705 03119000
*                                      CELL POOLID           @ZA16855*/ 03120000
         L     R0,RT1CPOOL                                         0705 03121000
*                                           GEN                    0706 03122000
*(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/*                    @ZA16855*/ 03123000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            03124000
*                                           GEN(LA R11,4095(R9));/*     03125000
*                                      RESTORE BASE REG      @ZA16855*/ 03126000
         LA R11,4095(R9)                                                03127000
*                                           IF R15=QCELNORM THEN/* IF   03128000
*                                      OBTAINED              @ZA16855*/ 03129000
         LTR   R15,R15                                             0708 03130000
         BNZ   @RF00708                                            0708 03131000
*                                            DO;/*           @ZA16855*/ 03132000
*                                             RFY                  0710 03133000
*                                               R15 UNRSTD;/*      0710 03134000
*                                                            @ZA16855*/ 03135000
*                                             GEN(LM R2,R4,8(R10));/*   03136000
*                                      RESTORE REGS          @ZA16855*/ 03137000
         LM R2,R4,8(R10)                                                03138000
*                                             SLPCFRRS=NULL;/* IND 0712 03139000
*                                      ENTRY IS NOT FROM RTS @ZA16855*/ 03140000
         SLR   @15,@15                                             0712 03141000
         ST    @15,SLPCFRRS(,R13)                                  0712 03142000
*                                             SLPRT2WA=NULL;/* IND 0713 03143000
*                                      ENTRY IS NOT FROM RT2 @ZA16855*/ 03144000
         ST    @15,SLPRT2WA(,R13)                                  0713 03145000
*                                             SLPRTSTK=PSACSTK;/*  0714 03146000
*                                      PASS THE ADDRESS OF THE     0714 03147000
*                                      CURRENT FRR STACK     @ZA16855*/ 03148000
         MVC   SLPRTSTK(4,R13),PSACSTK                             0714 03149000
*                                             SLPASCB=R8;/* PASS THE    03150000
*                                      ADDRESS OF THE ASCB TO BE   0715 03151000
*                                      MEMTERMED             @ZA16855*/ 03152000
         ST    R8,SLPASCB(,R13)                                    0715 03153000
*                                             RFY                  0716 03154000
*                                               RT1TRACK BASED(R4- 0716 03155000
*                                                   FRRSESZE);/*   0716 03156000
*                                      ADDRESS THE RT1S FRR TRACK  0716 03157000
*                                      AREA                  @ZA16855*/ 03158000
*                                             RFY                  0717 03159000
*                                               R15 RSTD;/*  @ZA16855*/ 03160000
*                                             R15=CRTMR14-TWO;/*   0718 03161000
*                                      CALCULATE THE ADDRESS OF THE     03162000
*                                      CALLRTM BALR          @ZA16855*/ 03163000
         LR    @14,R4                                              0718 03164000
         AL    @14,@CF03679                                        0718 03165000
         L     @14,RT1TREGS-4(,@14)                                0718 03166000
         L     R15,CRTMR14(,@14)                                   0718 03167000
         BCTR  R15,0                                               0718 03168000
         BCTR  R15,0                                               0718 03169000
*                                             GEN(LA  R15,0(R15));/*    03170000
*                                      CLEAR FIRST BYTE      @ZA16855*/ 03171000
         LA  R15,0(R15)                                                 03172000
*                                             SLPCRTM=R15;/* MOVE  0720 03173000
*                                      INTO PARM LIST        @ZA16855*/ 03174000
         ST    R15,SLPCRTM(,R13)                                   0720 03175000
*                                             RFY                  0721 03176000
*                                               R15 UNRSTD;/*      0721 03177000
*                                                            @ZA16855*/ 03178000
*                                             RFY                  0722 03179000
*                                               RT1TRACK BASED(R4);/*   03180000
*                                      RESET TO CURR         @ZA16855*/ 03181000
*                                             R2=SLPWAPTR;/* SAVE  0723 03182000
*                                      CELL ADDR             @ZA16855*/ 03183000
         L     R2,SLPWAPTR(,R13)                                   0723 03184000
*                                             R0=R1;/* SAVE CELL ADDR   03185000
*                                                            @ZA16855*/ 03186000
         LR    R0,R1                                               0724 03187000
*                                             R1=R13;/* SET UP PARM     03188000
*                                      FOR SLIP              @ZA16855*/ 03189000
         LR    R1,R13                                              0725 03190000
*                                             R13=R0;/* SET UP REG 0726 03191000
*                                      SAVE AREA             @ZA16855*/ 03192000
         LR    R13,R0                                              0726 03193000
*                                             CALL IEAVTSLP;/* CALL     03194000
*                                      SLIP                  @ZA16855*/ 03195000
         L     @14,CVTPTR                                          0727 03196000
         L     @14,CVTRTMS(,@14)                                   0727 03197000
         L     @15,SHDRPROC(,@14)                                  0727 03198000
         BALR  @14,@15                                             0727 03199000
*                                             R0=R1;/* SWAP CELL PTRS   03200000
*                                      IN                    @ZA16855*/ 03201000
         LR    R0,R1                                               0728 03202000
*                                             R1=R13;/* ORDER TO FREE   03203000
*                                      THE                   @ZA16855*/ 03204000
         LR    R1,R13                                              0729 03205000
*                                             R13=R0;/* CELLS      0730 03206000
*                                      OBTAINED              @ZA16855*/ 03207000
         LR    R13,R0                                              0730 03208000
*                                             SLPWAPTR=R2;/* RESTORE    03209000
*                                      PTR TO CELL           @ZA16855*/ 03210000
         ST    R2,SLPWAPTR(,R13)                                   0731 03211000
*                                             R0=RT1CPOOL;/* IND RT1    03212000
*                                      CELL POOL             @ZA16855*/ 03213000
         L     R0,RT1CPOOL                                         0732 03214000
*                                             GEN                  0733 03215000
*(FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO);                  0733 03216000
         FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO                  03217000
*                                             GEN(LA  R11,4095(R9));    03218000
         LA  R11,4095(R9)                                               03219000
*                                             /* RESTORE BASE REG  0735 03220000
*                                                            @ZA16855*/ 03221000
*                                             R1=SLPWAPTR;/* ADDR OF    03222000
*                                      CELL                  @ZA16855*/ 03223000
         L     R1,SLPWAPTR(,R13)                                   0735 03224000
*                                             R0=RT1CPOOL;/* IND RT1    03225000
*                                      CELL POOL             @ZA16855*/ 03226000
         L     R0,RT1CPOOL                                         0736 03227000
*                                             GEN                  0737 03228000
*(FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO);                  0737 03229000
         FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO                  03230000
*                                             GEN(LA  R11,4095(R9));    03231000
         LA  R11,4095(R9)                                               03232000
*                                             /* RESTORE BASE REG  0739 03233000
*                                                            @ZA16855*/ 03234000
*                                             R1=R13;/* ADDR OF CELL    03235000
*                                                            @ZA16855*/ 03236000
         LR    R1,R13                                              0739 03237000
*                                             R0=RT1CPOOL;/* IND RT1    03238000
*                                      CELL POOL             @ZA16855*/ 03239000
         L     R0,RT1CPOOL                                         0740 03240000
*                                             GEN                  0741 03241000
*(FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO);                  0741 03242000
         FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO                  03243000
*                                             GEN(LA  R11,4095(R9));    03244000
         LA  R11,4095(R9)                                               03245000
*                                             /* RESTORE BASE REG  0743 03246000
*                                                            @ZA16855*/ 03247000
*                                            END;/*          @ZA16855*/ 03248000
*                                           ELSE/* IF 3RD GETCELL  0744 03249000
*                                      FAILD                 @ZA16855*/ 03250000
*                                            DO;/* FREE FIRST 2 CELLS   03251000
*                                                            @ZA16855*/ 03252000
         B     @RC00708                                            0744 03253000
@RF00708 DS    0H                                                  0745 03254000
*                                             R1=SLPWAPTR;/* ADDR OF    03255000
*                                      CELL                  @ZA16855*/ 03256000
         L     R1,SLPWAPTR(,R13)                                   0745 03257000
*                                             R0=RT1CPOOL;/* IND RT1    03258000
*                                      CELL POOL             @ZA16855*/ 03259000
         L     R0,RT1CPOOL                                         0746 03260000
*                                             GEN                  0747 03261000
*(FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO);                  0747 03262000
         FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO                  03263000
*                                             GEN(LA  R11,4095(R9));    03264000
         LA  R11,4095(R9)                                               03265000
*                                             /* RESTORE BASE REG  0749 03266000
*                                                            @ZA16855*/ 03267000
*                                             R1=R13;/* ADDR OF CELL    03268000
*                                                            @ZA16855*/ 03269000
         LR    R1,R13                                              0749 03270000
*                                             R0=RT1CPOOL;/* IND RT1    03271000
*                                      CELL POOL             @ZA16855*/ 03272000
         L     R0,RT1CPOOL                                         0750 03273000
*                                             GEN                  0751 03274000
*(FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO);                  0751 03275000
         FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO                  03276000
*                                             GEN(LA  R11,4095(R9));    03277000
         LA  R11,4095(R9)                                               03278000
*                                             /* RESTORE BASE REG  0753 03279000
*                                                            @ZA16855*/ 03280000
*                                            END;/*          @ZA16855*/ 03281000
*                                          END;/*            @ZA16855*/ 03282000
*                                         ELSE/* IF 2ND GETCELL FAILD   03283000
*                                                            @ZA16855*/ 03284000
*                                          DO;/* FREE CELL OBTAINED     03285000
*                                                            @ZA16855*/ 03286000
         B     @RC00702                                            0755 03287000
@RF00702 DS    0H                                                  0756 03288000
*                                           R1=R13;/* ADDR OF CELL 0756 03289000
*                                                            @ZA16855*/ 03290000
         LR    R1,R13                                              0756 03291000
*                                           R0=RT1CPOOL;/* IND RT1 0757 03292000
*                                      CELL POOL             @ZA16855*/ 03293000
         L     R0,RT1CPOOL                                         0757 03294000
*                                           GEN                    0758 03295000
*(FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO);                  0758 03296000
         FREECELL CPID=(0),CELL=(1),BRANCH=YES,SAVE=NO                  03297000
*                                           GEN(LA  R11,4095(R9));/*    03298000
*                                      RESTORE BASE REG      @ZA16855*/ 03299000
         LA  R11,4095(R9)                                               03300000
*                                          END;/*            @ZA16855*/ 03301000
*                                        END;/*              @ZA16855*/ 03302000
*                                       ELSE                       0762 03303000
*                                        ;/*                 @ZA16855*/ 03304000
@RF00695 DS    0H                                                  0763 03305000
*                                       GEN(LM R0,R4,0(R10));/*    0763 03306000
*                                      RESTORE REGISTERS     @ZA16855*/ 03307000
@RC00695 DS    0H                                                  0763 03308000
         LM R0,R4,0(R10)                                                03309000
*                                       RFY                        0764 03310000
*                                        (R10,                     0764 03311000
*                                         R13) UNRSTD;/*     @ZA16855*/ 03312000
*                                       RFY                        0765 03313000
*                                        (R14,                     0765 03314000
*                                         R15) RSTD;/*       @ZA16855*/ 03315000
*                                       R14=SHDRPFC;/* GET CURRENT 0766 03316000
*                                      VALUE FOR COMPARE IN THE CS 0766 03317000
*                                                            @ZA16855*/ 03318000
         L     @10,CVTPTR                                          0766 03319000
         L     @10,CVTRTMS(,@10)                                   0766 03320000
         L     R14,SHDRPFC(,@10)                                   0766 03321000
*SLIPDECR:                          /* TOP OF CS LOOP FOR UPDATING 0767 03322000
*                                      THE IEAVTSLP USE COUNT      0767 03323000
*                                                            @ZA16855*/ 03324000
*                                       IF R14>ONE THEN/* IF THE   0767 03325000
*                                      IEAVTSLP USE COUNT IS NOT AT     03326000
*                                      THE MINIMUM           @ZA16855*/ 03327000
SLIPDECR CH    R14,@CH00073                                        0767 03328000
         BNH   @RF00767                                            0767 03329000
*                                        DO;/* THEN DECREMENT IT   0768 03330000
*                                                            @ZA16855*/ 03331000
*                                         R15=R14-ONE;/* PREPARE   0769 03332000
*                                      REPLACEMENT VALUE     @ZA16855*/ 03333000
         LR    R15,R14                                             0769 03334000
         BCTR  R15,0                                               0769 03335000
*                                         CS(R14,R15,SHDRPFC);/*   0770 03336000
*                                      ATTEMPT TO UPDATE THE USE   0770 03337000
*                                      COUNT FIELD           @ZA16855*/ 03338000
         L     @10,CVTPTR                                          0770 03339000
         L     @10,CVTRTMS(,@10)                                   0770 03340000
         CS    R14,@15,SHDRPFC(@10)                                0770 03341000
*                                         BC(4,SLIPDECR);/* IF     0771 03342000
*                                      SHDRPFC HAS CHANGED BEFORE  0771 03343000
*                                      THIS CS, TRY AGAIN    @ZA16855*/ 03344000
         BC    4,SLIPDECR                                          0771 03345000
*                                        END;/*              @ZA16855*/ 03346000
*                                       RFY                        0773 03347000
*                                        (R14,                     0773 03348000
*                                         R15) UNRSTD;/*     @ZA16855*/ 03349000
@RF00767 DS    0H                                                  0774 03350000
*                                      END;/*                @ZA16855*/ 03351000
*                                    END;/*                  @ZA16855*/ 03352000
@RF00683 DS    0H                                                  0776 03353000
*                                 END;/*                     @ZA16855*/ 03354000
@RF00679 DS    0H                                                  0777 03355000
*CSLOOP:                            /* THIS LABEL IS A BRANCH TARGET    03356000
*                                      IF THE COMPARE AND SWAP OF THE   03357000
*                                      NEW ASCB INTO THE MEMTERM ASCB   03358000
*                                      QUEUE FAILS                   */ 03359000
*                               ASCBTMCH=RTCTFASB;/* CHAIN THE REST     03360000
*                                      OF THE QUEUE TO THE NEW     0777 03361000
*                                      ELEMENT                       */ 03362000
@RF00676 DS    0H                                                  0777 03363000
CSLOOP   L     @10,CVTPTR                                          0777 03364000
         L     @10,CVTRTMCT(,@10)                                  0777 03365000
         L     @10,RTCTFASB(,@10)                                  0777 03366000
         ST    @10,ASCBTMCH(,R8)                                   0777 03367000
*                               R5=ASCBTMCH;/* PLACE FORWARD PTR IN     03368000
*                                      REG                           */ 03369000
         LR    R5,@10                                              0778 03370000
*                               CS(R5,R8,RTCTFASB);/* COMPARE THE  0779 03371000
*                                      QUEUE PTR JUST PLACED IN THE     03372000
*                                      ASCB, WITH THE ONE CURRENTLY     03373000
*                                      IN THE RTCT, AND IF STILL   0779 03374000
*                                      EQUAL, STORE THE ASCB ADDR TO    03375000
*                                      BE ENQUEUED INTO THE RTCT,  0779 03376000
*                                      MAKING IT THE FIRST ELEMENT IN   03377000
*                                      THE QUEUE.                    */ 03378000
         L     @10,CVTPTR                                          0779 03379000
         L     @10,CVTRTMCT(,@10)                                  0779 03380000
         CS    R5,@08,RTCTFASB(@10)                                0779 03381000
*                               BC(NOCOMPAR,CSLOOP);/* IF THE COMPARE   03382000
*                                      DID NOT GO, THEN TRY AGAIN    */ 03383000
         BC    1,CSLOOP                                            0780 03384000
*                               RT1TLPN=MEMTCOMP;/* LPN=PHASE NO. FOR   03385000
*                                      SUCCESSFUL ENQUEUE OF ASCB  0781 03386000
*                                      ONTO MEMTERM QUEUE            */ 03387000
         MVI   RT1TLPN(R4),X'66'                                   0781 03388000
*                             END;  /* END ENQUEUING OF ASCB         */ 03389000
*                                                                  0782 03390000
*                           /*****************************************/ 03391000
*                           /*                                       */ 03392000
*                           /* THE PURPOSE OF THE WAKEMTC SEGMENT IS */ 03393000
*                           /* TO INSURE THAT THE MEMORY TERMINATION */ 03394000
*                           /* CONTROLLER IS NOTIFIED TO PROCESS THE */ 03395000
*                           /* TERMINATION REQUEST. A SINGLE SRB IS  */ 03396000
*                           /* PRE ALLOCATED FOR THIS PURPOSE AND A  */ 03397000
*                           /* LOCKING TECHNIQUE IS EMPLOYED TO      */ 03398000
*                           /* INSURE SERIAL USE OF THE SRB. IF THE  */ 03399000
*                           /* SRB IS LOCKED (I.E. IN USE) THEN THE  */ 03400000
*                           /* MTC IS ALREADY IN THE PROCESS OF BEING*/ 03401000
*                           /* NOTIFIED TO PROCESS ANY ASCBS ON THE  */ 03402000
*                           /* TERMINATION QUEUE. IF THE SRB IS      */ 03403000
*                           /* UNLOCKED (I.E. NOT IN USE) THEN IT IS */ 03404000
*                           /* SET TO BE LOCKED AND SCHEDULED. THE   */ 03405000
*                           /* SRB WILL SUBSEQUENTLY NOTIFY THE MTC  */ 03406000
*                           /* TO PROCESS THE ASCB TERMINATION QUEUE.*/ 03407000
*                           /* INPUT TO THIS SEGMENT IS THE RTCT.    */ 03408000
*                           /* OUTPUT IS A SCHEDULED SRB IF THE LOCK */ 03409000
*                           /* WAS UNLOCKED. ADDITIONALLY, REGS R5   */ 03410000
*                           /* AND R6 ARE ASSUMED TO BE RESTRICTED,  */ 03411000
*                           /* AND AVAILABLE FOR USE BY THIS SEGMENT.*/ 03412000
*                           /*                                       */ 03413000
*                           /*****************************************/ 03414000
*                                                                  0783 03415000
*                           DO;     /* START OF WAKEMTC SEGMENT      */ 03416000
@RC00670 DS    0H                                                  0784 03417000
*                             R5=LOKVALUE;/* PRIME REG WITH THE    0784 03418000
*                                      LOCKED INDICATION             */ 03419000
         SLR   R5,R5                                               0784 03420000
*                             R6=UNLOKVAL;/* PRIME ANOTHER REG WITH     03421000
*                                      THE UNLOCKED INDICATION       */ 03422000
         LA    R6,1                                                0785 03423000
*                             CS(R6,R5,RTCTMLCK);/* CHECK IF THE   0786 03424000
*                                      RTCTMLCK PRESENTLY INDICATES     03425000
*                                      UNLOCKED, AND IF SO, STORE THE   03426000
*                                      LOCK INDICATION INTO IT. ELSE,   03427000
*                                      IF IT IS LOCKED, STORE THE  0786 03428000
*                                      LOCKED VALUE INTO THE SRBUNLOK   03429000
*                                      REG (R8) FOR THE FOLLOWING  0786 03430000
*                                      TEST                          */ 03431000
         L     @10,CVTPTR                                          0786 03432000
         L     @10,CVTRTMCT(,@10)                                  0786 03433000
         CS    R6,@05,RTCTMLCK(@10)                                0786 03434000
*                             IF R6=UNLOKVAL THEN/* IF THE UNLOCK  0787 03435000
*                                      VALUE WAS LEFT INTACT IN THE     03436000
*                                      UNLOCK REGISTER THEN THE SRB     03437000
*                                      IS FREE TO BE SCHEDULED,SO    */ 03438000
         CH    R6,@CH00073                                         0787 03439000
         BNE   @RF00787                                            0787 03440000
*                               DO; /* SCHEDULE THE MEMTERM SRB      */ 03441000
*                                 RFY                              0789 03442000
*                                   R8 RSTD;/* GET A WORKREG FOR   0789 03443000
*                                      SCHEDULE                      */ 03444000
*                                 R8=RTCTMSRB;/* LOCATE ADDR OF MTCS    03445000
*                                      SRB                           */ 03446000
         L     @10,CVTPTR                                          0790 03447000
         L     @10,CVTRTMCT(,@10)                                  0790 03448000
         L     R8,RTCTMSRB(,@10)                                   0790 03449000
*                                 GEN(SCHEDULE SRB=(R8));/* PUT THE     03450000
*                                      SRB ON THE DISPATCHING QUEUE  */ 03451000
         SCHEDULE SRB=(R8)                                              03452000
*                                 RFY                              0792 03453000
*                                   R8 UNRSTD;/* RETURN REG TO     0792 03454000
*                                      COMPILER                      */ 03455000
*                               END;/* END SCHEDULE PROCESSING       */ 03456000
*                             R6=NULL;/* RESTORE EED CHAIN TO      0794 03457000
*                                      ORIGINAL VALUE (NO EEDS).     */ 03458000
@RF00787 SLR   R6,R6                                               0794 03459000
*                           END;    /* END WAKE MTC PROCESSING       */ 03460000
*                         END;      /* END ASCB PROCESSING           */ 03461000
*                     END;          /* END MEMORY TERM SCHEDULING    */ 03462000
@RF00668 DS    0H                                                  0798 03463000
*                   RFY                                            0798 03464000
*                     ASCB BASED(PSAAOLD);/* POINT TO THE CURRENT  0798 03465000
*                                      ASCB                          */ 03466000
@RC00665 DS    0H                                                  0799 03467000
*                 END;              /* END OF MEMTERM SEGMENT        */ 03468000
*                                                                  0799 03469000
*               /*****************************************************/ 03470000
*               /*                                                   */ 03471000
*               /* THE FOLLOWING CODE DELETES THE RECOVERY           */ 03472000
*               /* ENVIRONMENT SET UP FOR THE RESCHEDULE FUNCTION.   */ 03473000
*               /*                                                   */ 03474000
*               /*****************************************************/ 03475000
*                                                                  0800 03476000
*               R0=RT1TENPT;        /* RE-ESTABLISH THE ORIGINAL   0800 03477000
*                                      ENTRY POINT INDICATION        */ 03478000
@RF00660 SLR   R0,R0                                               0800 03479000
         IC    R0,RT1TENPT(,R4)                                    0800 03480000
*               R4=R12;             /* RE-ESTABLISH THE PREVIOUS   0801 03481000
*                                      TRACKING AREA, THE TRACK AREA    03482000
*                                      IN THE SLIH FRR IF SLIH MODE,    03483000
*                                      THE TRACK AREA IN RT1'S FRR IF   03484000
*                                      SERVICE ROUTINE MODE          */ 03485000
         LR    R4,R12                                              0801 03486000
*               RFY                                                0802 03487000
*                 R12 UNRSTD;       /* RELEASE RECOVERY REG          */ 03488000
*               RFY                                                0803 03489000
*                 R14 RSTD;         /* GET WORKREG FOR SETFRR        */ 03490000
*               RFY                                                0804 03491000
*                 R15 RSTD;         /* GET WORKREG FOR SETFRR        */ 03492000
*               GEN(SETFRR D,WRKREGS=(R14,R15));/* DELETE THE RESCH     03493000
*                                      FRR                           */ 03494000
         SETFRR D,WRKREGS=(R14,R15)                                     03495000
*               IF R0>=SLIHLOW&     /* IF ORIGINAL ENTRY WAS IN      */ 03496000
*                   R0<=SLIHHI THEN /* SLIH MODE                     */ 03497000
         CH    R0,@CH00073                                         0806 03498000
         BL    @RF00806                                            0806 03499000
         CH    R0,@CH00032                                         0806 03500000
         BH    @RF00806                                            0806 03501000
*                 DO;               /* PERFORM UNIQUE SLIH MODE    0807 03502000
*                                      CLEAN-UP                      */ 03503000
*                   R4=ADDR(RT1WLPTA);/* RE-ESTABLISH THE PTR TO THE    03504000
*                                      RTM1WA                        */ 03505000
         L     R4,PSACSTK                                          0808 03506000
         LA    R4,RT1WLPTA(,R4)                                    0808 03507000
*                   GEN(SETFRR D,WRKREGS=(R14,R15));/* DELETE THE  0809 03508000
*                                                             SLIHFRR*/ 03509000
         SETFRR D,WRKREGS=(R14,R15)                                     03510000
*                   RFY                                            0810 03511000
*                    (R14,                                         0810 03512000
*                     R15) UNRSTD;  /* RELEASE SETFRR WORKREGS       */ 03513000
*                   RT1WRTM='0'B;   /* INDICATE RTM'S FRR HAS BEEN 0811 03514000
*                                      DELETED                       */ 03515000
         L     @12,PSACSTK                                         0811 03516000
         NI    RT1WRTM(@12),B'10111111'                            0811 03517000
*                 END;              /* END OF SLIH MODE CLEAN-UP     */ 03518000
*             END;                  /* END OF NON-RESCPU PROCESSING  */ 03519000
@RF00806 DS    0H                                                  0814 03520000
*         END;                      /* END OF RESCHED SEGMENT        */ 03521000
@RC00301 DS    0H                                                  0815 03522000
*     END;                          /* END UNIQUE SOFTWARE PROCESS   */ 03523000
*                                                                  0815 03524000
@RF00298 DS    0H                                                  0816 03525000
*   /*****************************************************************/ 03526000
*   /*                                                               */ 03527000
*   /* THE PURPOSE OF THE EXIT FUNCTION IS TO 1)FREE RESOURCES       */ 03528000
*   /* ACQUIRED BY THE RTM1 THAT ARE NO LONGER NEEDED, 2) CLEAN UP   */ 03529000
*   /* RESOURCES HELD BY THE CPU IF AN UNRECOVERABLE (I.E. NON       */ 03530000
*   /* RETRYABLE) ERROR HAS OCCURRED, AND 3) DETERMINE THE TYPE OF   */ 03531000
*   /* EXIT THAT SHOULD BE TAKEN BY IEAVTRT1. REGISTERS R0 THRU R4,  */ 03532000
*   /* WHICH INITIALLY CONTAINED INPUT INFORMATION, ARE RELEASED FOR */ 03533000
*   /* USE BY THE COMPILER AND REGISTERS R5-R10 ARE REASSIGNED FOR   */ 03534000
*   /* USE BY THE EXIT FUNCTION. INPUT TO THE EXIT FUNCTION IS AS    */ 03535000
*   /* FOLLOWS: FUNCTION REGISTER (R0) - CONTAINS THE ORIGINAL ENTRY */ 03536000
*   /* POINT FUNCTION INDICATION. THIS VALUE IS PLACED IN THE        */ 03537000
*   /* EFUNCTON (R5) REGISTER SO THAT R0 CAN BE RELEASED. TRAKAREA   */ 03538000
*   /* REGISTER (R4) CONTAINS A POINTER TO THE RTM1WA TRACKING AREA  */ 03539000
*   /* IF OPERATING IN SLIH MODE, OR TO IEAVTRT1'S FRR TRACKING AREA */ 03540000
*   /* IF OPERATING IN SERVICE ROUTINE MODE. THIS VALUE IS PLACED IN */ 03541000
*   /* THE TRAKARE2 REGISTER (R7) SO THAT R4 CAN BE RELEASED. THE    */ 03542000
*   /* RTRNPARM REGISTER (R10) CONTAINS A PTR TO MCH RETURN PARMS IF */ 03543000
*   /* A MACHCK ENTRY WAS PROCESSED. EEDCHAIN REGISTER (R6) CONTAINS */ 03544000
*   /* A POINTER TO A CHAIN OF EED CELLS IF ANY EEDS ACQUIRED DURING */ 03545000
*   /* RTM1S PROCESSING ARE NO LONGER NEEDED, OR R6 CONTAINS 0       */ 03546000
*   /* INDICATING NO EED FREEING IS NECESSARY. R9 IS STILL MAINTAINED*/ 03547000
*   /* AS THE BASE REGISTER. IF RTM1 IS OPERATING IN SLIH MODE, THE  */ 03548000
*   /* RTM1WA ASSOCIATED WITH THE FRR STACK SUFFERING THE ERROR ALSO */ 03549000
*   /* PROVIDES ADDITIONAL INPUT TO THE EXIT FUNCTION. ALSO, IF SRM  */ 03550000
*   /* WAS CALLED TO SERVICE THE ERROR, THE RTCA PROVIDES INPUT.     */ 03551000
*   /* OUTPUT FROM THE EXIT FUNCTION IS AS FOLLOWS: R0 CONTAINS AN   */ 03552000
*   /* INDICATION OF THE TYPE OF EXIT FOR MODULE IEAVTRT1 TO EFFECT, */ 03553000
*   /* AND R1 CONTAINS A POINTER TO EXIT PARMS FOR RETRY EXITS AND   */ 03554000
*   /* MACHINE CHECK EXITS.                                          */ 03555000
*   /*                                                               */ 03556000
*   /*****************************************************************/ 03557000
*                                                                  0816 03558000
*RTHRETRN:                          /* LABEL TO ALLOW RTH'S RECOVERY    03559000
*                                      ROUTINE TO PRIME THE RETURN 0816 03560000
*                                      ADDRESS TO RTM ON RETRIABLE 0816 03561000
*                                      ERRORS                        */ 03562000
*   DO;                             /* START OF EXIT SEGMENT         */ 03563000
@RC00079 DS    0H                                                  0816 03564000
RTHRETRN DS    0H                                                  0817 03565000
*     GEN(LA R11,4095(R9));         /* RESTORE BASE REG      @G17EP5W*/ 03566000
         LA R11,4095(R9)                                                03567000
*     RT1TLPN=VALIDREC;             /* LPN=VALID RECURSION INDICATOR    03568000
*                                      IF AN ERROR NOW OCCURS IN   0818 03569000
*                                      RTM'S REMAINING PROCESSING, 0818 03570000
*                                      RTM, WHEN REENTERED, WILL   0818 03571000
*                                      PRESERVE SOME INFO ABOUT THE     03572000
*                                      ORIG ERROR, SUCH AS INFO ABOUT   03573000
*                                      RESOURCES ACQUIRED BY RTM,  0818 03574000
*                                      SUCH AS THE RTCA. THIS TYPE OF   03575000
*                                      REENTRY WILL GIVE RTM ANOTHER    03576000
*                                      CHANCE TO FREE ANY SUCH     0818 03577000
*                                      RESOURCES.                    */ 03578000
*                                                                  0818 03579000
         MVI   RT1TLPN(R4),X'FF'                                   0818 03580000
*     /***************************************************************/ 03581000
*     /*                                                             */ 03582000
*     /* THE FOLLOWING CODE REASSIGNS THE WORK REGISTERS FROM THEIR  */ 03583000
*     /* ENTRY POINT ASSIGNMENTS TO REGISTERS WHICH ARE NOT AFFECTED */ 03584000
*     /* BY THE EXTERNAL ROUTINES CALLED DURING EXIT PROCESSING.     */ 03585000
*     /* INPUT TO IS THE FUNCTION REGISTER (R0), THE TRAKAREA        */ 03586000
*     /* REGISTER (R4) AND THE RTRNPARM REGISTER (R10). OUTPUT IS THE*/ 03587000
*     /* EFUNCTON REGISTER (R5) CONTAINING THE ORIGINAL ENTRY POINT  */ 03588000
*     /* FUNCTION INDICATION, AND THE TRAKARE2 REGISTER (R7)         */ 03589000
*     /* CONTAINING THE POINTER TO THE RECOVERY TRACKING AREA.       */ 03590000
*     /*                                                             */ 03591000
*     /***************************************************************/ 03592000
*                                                                  0819 03593000
*     RFY                                                          0819 03594000
*       R5 RSTD;                    /* GET CONTROL OF REGISTER FOR 0819 03595000
*                                      ORIGINAL ENTRY POINT        0819 03596000
*                                      INDICATION                    */ 03597000
*     R5=R0;                        /* PLACE ORIGINAL ENTRY POINT  0820 03598000
*                                      INDICATOR IN REGISTER         */ 03599000
         LR    R5,R0                                               0820 03600000
*     RFY                                                          0821 03601000
*       R0 UNRSTD;                  /* RETURN REGISTER TO COMPILER   */ 03602000
*     RFY                                                          0822 03603000
*       R7 RSTD;                    /* GET CONTROL OF REGISTER       */ 03604000
*     R7=R4;                        /* PLACE RECOVERY TRACKING AREA     03605000
*                                      POINTER INTO REGISTER         */ 03606000
         LR    R7,R4                                               0823 03607000
*     RFY                                                          0824 03608000
*       RT1TRACK BASED(R7);         /* ADJUST MAPPING MACRO BASE     */ 03609000
*     RFY                                                          0825 03610000
*       R4 UNRSTD;                  /* RETURN REGISTER TO COMPILER   */ 03611000
*     RFY                                                          0826 03612000
*       R1 UNRSTD;                  /* RETURN REGISTER TO COMPILER   */ 03613000
*     RFY                                                          0827 03614000
*       R2 UNRSTD;                  /* RETURN REGISTER TO COMPILER 0827 03615000
*                                      THIS REGISTER ALSO USED AS  0827 03616000
*                                      ADDRPSW1                      */ 03617000
*     RFY                                                          0828 03618000
*       R3 UNRSTD;                  /* RETURN REGISTER TO COMPILER 0828 03619000
*                                      THIS REGISTER ALSO USED AS  0828 03620000
*                                      ADDRPSW2 AND TARGSRB          */ 03621000
*     RFY                                                          0829 03622000
*       R8 RSTD;                    /* GET CONTROL OF REGISTER FOR 0829 03623000
*                                      EXIT TYPE INDICATOR           */ 03624000
*     RFY                                                          0830 03625000
*       R10 RSTD;                   /* GET CONTROL OF REGISTER FOR 0830 03626000
*                                      RETURN PARAMETERS TO IEAVTRT1 */ 03627000
*     IF R5=RT1WMACH THEN           /* IF RTM DID HARDWARE REPAIR    */ 03628000
         CH    R5,@CH00435                                         0831 03629000
         BNE   @RF00831                                            0831 03630000
*       R8=RT1MCHEX;                /* THEN A MACHCK EXIT IS TO BE 0832 03631000
*                                      TAKEN BY IEAVTRT1             */ 03632000
         LA    R8,33                                               0832 03633000
*     ELSE                          /* IF NOT HARDWARE REPAIR        */ 03634000
*       DO;                         /* SOME CLEAN UP MAY BE NEEDED   */ 03635000
         B     @RC00831                                            0833 03636000
@RF00831 DS    0H                                                  0834 03637000
*         IF R6>EEDNULL THEN        /* IF EEDS WERE ACQUIRED         */ 03638000
         CH    R6,@CH00073                                         0834 03639000
         BNH   @RF00834                                            0834 03640000
*           DO;                     /* ATTEMPT TO FREE THE EEDS      */ 03641000
*             RT1TLPID=RECOVRY1;    /* INDICATE SOME RECOVERY IS   0836 03642000
*                                      POSSIBLE IF AN ERROR OCCURS IN   03643000
*                                      THIS SEGMENT                  */ 03644000
         MVI   RT1TLPID(R7),X'01'                                  0836 03645000
*             RT1TLPN=EEDFREE;      /* LPN=PHASE NUMBER FOR FREEING     03646000
*                                      ACQUIRED EEDS                 */ 03647000
         MVI   RT1TLPN(R7),X'78'                                   0837 03648000
*             CALL FREEDCEL;        /* FREE EED CELLS                */ 03649000
         L     @15,@CV00162                                        0838 03650000
         BALR  @14,@15                                             0838 03651000
*EEDFRERP:                          /* RETURN PT OF LPRR IF FREE CELL   03652000
*                                      ERROR OCCURS                  */ 03653000
*             GEN(LA R11,4095(R9)); /* RESTORE BASE REG      @G17EP5W*/ 03654000
EEDFRERP LA R11,4095(R9)                                                03655000
*             RT1TLPN=VALIDREC;     /* RESET LPN TO INDICATE VALID 0840 03656000
*                                      RECURSION (SEE ABOVE COMMNT)  */ 03657000
         MVI   RT1TLPN(R7),X'FF'                                   0840 03658000
*           END;                    /* END OF ATTEMPT TO FREE EEDS   */ 03659000
*         IF R5>=SLIHLOW&           /* IF OPERATING AS A SECOND      */ 03660000
*             R5<=SLIHHI THEN       /* LEVEL INTERRUPT HANDLER       */ 03661000
@RF00834 CH    R5,@CH00073                                         0842 03662000
         BL    @RF00842                                            0842 03663000
         CH    R5,@CH00032                                         0842 03664000
         BH    @RF00842                                            0842 03665000
*           IF RT1WRTM='1'B&        /* IF RTM'S FRR HAD BEEN IN    0843 03666000
*                                      CONTROL                       */ 03667000
*               SDWARCDE=SDWARETY THEN/* AND HAD REQUESTED RETRY     */ 03668000
         L     @12,PSACSTK                                         0843 03669000
         TM    RT1WRTM(@12),B'01000000'                            0843 03670000
         BNO   @RF00843                                            0843 03671000
         L     @12,RT1WRTCA(,@12)                                  0843 03672000
         CLI   SDWARCDE(@12),4                                     0843 03673000
         BNE   @RF00843                                            0843 03674000
*             DO;                   /* SET UP SPECIAL RETRY INTERFACE*/ 03675000
*               SDWASR15=SDWARTYA;  /* PLACE RETRY ADDR IN REG15 SLOT   03676000
*                                      OF SDWA                       */ 03677000
         MVC   SDWASR15(4,@12),SDWARTYA(@12)                       0845 03678000
*               R8=RT1RETRY;        /* INDICATE RETRY EXIT TO BE   0846 03679000
*                                      TAKEN BY RT1                  */ 03680000
         LA    R8,32                                               0846 03681000
*               R10=ADDR(SDWASR00); /* POINT TO RETRY REGS FOR RT1   */ 03682000
         LA    R10,SDWASR00(,@12)                                  0847 03683000
*             END;                  /* END OF SPECIAL RETRY INTERFACE   03684000
*                                      FOR RTM'S FRR                 */ 03685000
*           ELSE                    /* IF NOT RTM'S FRR REQUESTING 0849 03686000
*                                      RETRY                         */ 03687000
*             DO;                   /* CONTINUE WITH UNIQUE SLIH MODE   03688000
*                                      CLEANUP                       */ 03689000
         B     @RC00843                                            0849 03690000
@RF00843 DS    0H                                                  0850 03691000
*               RFY                                                0850 03692000
*                 MODEBYTE BASED(ADDR(RT1WMODE));/* USE THE MODE   0850 03693000
*                                      INDICATION IN THE WA TO DETER-   03694000
*                                      MINE SYSTEM MODE AT TIME OF 0850 03695000
*                                      ERROR INTERRUPT               */ 03696000
*               IF MODESRB='1'B THEN/* IF CPU IS IN SRB MODE         */ 03697000
         L     @12,PSACSTK                                         0851 03698000
         TM    MODESRB+80(@12),B'00000010'                         0851 03699000
         BNO   @RF00851                                            0851 03700000
*                 R8=RT1SRBEX;      /* THEN INITIALIZE EXIT INDI-  0852 03701000
*                                      CATOR TO THE SRB EXIT PT OF 0852 03702000
*                                      THE DISPATCHER                */ 03703000
         LA    R8,36                                               0852 03704000
*               ELSE                /* IF NOT SRB MODE               */ 03705000
*                 DO;               /* CHECK OTHER EXIT TYPES        */ 03706000
         B     @RC00851                                            0853 03707000
@RF00851 DS    0H                                                  0854 03708000
*                   IF MODETYP1='1'B THEN/* IF THE CPU WAS IN TYPE 1    03709000
*                                      SVC MODE THEN                 */ 03710000
         L     @12,PSACSTK                                         0854 03711000
         TM    MODETYP1+80(@12),B'00000100'                        0854 03712000
         BNO   @RF00854                                            0854 03713000
*                     R8=RT1EXPRO;  /* INITIALIZE THE EXIT TYPE    0855 03714000
*                                      INDICATOR TO AN SVC EXIT    0855 03715000
*                                      PROLOGUE EXIT                 */ 03716000
         LA    R8,37                                               0855 03717000
*                   ELSE            /* IF NOT TYPE 1 SVC             */ 03718000
*                     R8=RT1DISP;   /* INITIALIZE EXIT TYPE INDICATOR   03719000
*                                      TO A DISPATCHER EXIT          */ 03720000
         B     @RC00854                                            0856 03721000
@RF00854 LA    R8,35                                               0856 03722000
*                 END;              /* END NON SRB EXIT TYPES        */ 03723000
@RC00854 DS    0H                                                  0858 03724000
*               IF RT1WRTCA^=NULL THEN/* IF AN RTCA IS PROVIDED THEN    03725000
*                                      SRM SERVICED THE ERROR        */ 03726000
*                                                                  0858 03727000
@RC00851 L     @12,PSACSTK                                         0858 03728000
         L     @04,RT1WRTCA(,@12)                                  0858 03729000
         LTR   @04,@04                                             0858 03730000
         BZ    @RF00858                                            0858 03731000
*                 /***************************************************/ 03732000
*                 /*                                                 */ 03733000
*                 /* THE PURPOSE OF THE SYSCLEAN SEGMENT IS TO FREE  */ 03734000
*                 /* RESOURCES ACQUIRED BY SRM FOR SYSTEM RECOVERY,  */ 03735000
*                 /* TO FREE LOCKS ACQUIRED BY THE FAILING SYSTEM    */ 03736000
*                 /* ROUTINE AND TO ESTABLISH THE CORRECT EXIT       */ 03737000
*                 /* PARAMETERS FOR IEAVTRT1 TO CAUSE NORMAL SYSTEM  */ 03738000
*                 /* PROCESSING TO OCCUR. INPUT IS AS FOLLOWS:       */ 03739000
*                 /* EFUCTION REGISTER (R5) - INDICATES THE ORIGINAL */ 03740000
*                 /* ENTRY POINT FUNCTION OF RTM1. TRAKARE2 REGISTER */ 03741000
*                 /* (R7) CONTAINS POINTER TO THE RTM1WA TRACKING    */ 03742000
*                 /* AREA. FLAGS IN THE TRACKING AREA INDICATE WHICH */ 03743000
*                 /* RESOURCES WERE ACQUIRED DURING SYSTEM RECOVERY  */ 03744000
*                 /* PROCESSING. EXITTYPE REGISTER (R8) - INITIALIZED*/ 03745000
*                 /* WITH THE EXIT TYPE CODE FOR PERCOLATION. OUTPUT */ 03746000
*                 /* FROM SYSCLEAN IS AS FOLLOWS: EXITTYPE REGISTER  */ 03747000
*                 /* (R8) CONTAINS THE FINAL EXIT TYPE INDICATION. IF*/ 03748000
*                 /* RETRY, THE RTM1WA CONTAINS THE 16 RETRY         */ 03749000
*                 /* REGISTERS. IF PERCOLATION IS BEING PROCESSED,   */ 03750000
*                 /* ALL LOCKS WILL BE FREED.                        */ 03751000
*                 /*                                                 */ 03752000
*                 /***************************************************/ 03753000
*                                                                  0859 03754000
*                 DO;               /* START OF SYSCLEAN SEGMENT     */ 03755000
*                   RFY                                            0860 03756000
*                     R6 RSTD;      /* GET CONTROL OF REGISTER       */ 03757000
*                   R6=RT1WRTCA;    /* SAVE PTR TO RTCA-SDWA         */ 03758000
         LR    R6,@04                                              0861 03759000
*                   RFY                                            0862 03760000
*                     SDWA BASED(R6);/* SINCE THE RTM1WA MAY GET   0862 03761000
*                                      OVERLAID DURING THE EXIT    0862 03762000
*                                      PROCESSING, THE PTR TO THE  0862 03763000
*                                      SDWA WILL BE MAINTAINED IN A     03764000
*                                      REGISTER                      */ 03765000
*                   RFY                                            0863 03766000
*                     R2 RSTD;      /* GET REG TO PRESERVE CARRY OVER   03767000
*                                      INFORMATION                   */ 03768000
*                   R2=RT1WCOVR;    /* PRESERVE CARRY OVER INFO -  0864 03769000
*                                      COULD BE OVERLAID IF A RETRY     03770000
*                                      IS REQUESTED                  */ 03771000
         SLR   R2,R2                                               0864 03772000
         IC    R2,RT1WCOVR(,@12)                                   0864 03773000
*                   IF SDWARCDE^=SDWACWT|/* IF A PERCOLATE IS NOT    */ 03774000
*                       SDWASPIN='1'B THEN/* REQUESTED THEN          */ 03775000
*                                                                  0865 03776000
         CLI   SDWARCDE(R6),0                                      0865 03777000
         BNE   @RT00865                                            0865 03778000
         TM    SDWASPIN(R6),B'00100000'                            0865 03779000
         BNO   @RF00865                                            0865 03780000
@RT00865 DS    0H                                                  0866 03781000
*                     /***********************************************/ 03782000
*                     /*                                             */ 03783000
*                     /* THE PURPOSE OF THE NOPERCEX SEGMENT IS TO   */ 03784000
*                     /* SET UP FOR THE NON PERCOLATION EXITS - RETRY*/ 03785000
*                     /* AND RESUME. ALSO IF ANY LOCKS WERE ACQUIRED */ 03786000
*                     /* BY THE RTM THEY ARE FREED IN THIS SEGMENT   */ 03787000
*                     /* SINCE THE FREELOCK ROUTINE WHICH FREES ALL  */ 03788000
*                     /* LOCKS IS ONLY CALLED IN THE PERCOLATION     */ 03789000
*                     /* SITUATION. INPUT TO THIS SEGMENT IS AS      */ 03790000
*                     /* FOLLOWS: RTCAADDR REGISTER (R6) - POINTS TO */ 03791000
*                     /* THE RTCA. THE RTCA IN TURN CONTAINS THE EXIT*/ 03792000
*                     /* TYPE REQUESTED BY THE FRR - PERC, RETRY OR  */ 03793000
*                     /* RESUME, AND THE RETRY REGISTERS AND ADDRESS,*/ 03794000
*                     /* AND THE BAD CPU IF A RESUME IS REQUESTED.   */ 03795000
*                     /* TRAKARE2 REGISTER (R7) - POINTS TO THE      */ 03796000
*                     /* RTM1WA TRACKING AREA. IF A LOCK WAS ACQUIRED*/ 03797000
*                     /* BY THE RTM1 OR SRM, IT WOULD BE INDICATED IN*/ 03798000
*                     /* THE TRACKING AREA. OUTPUT FROM THIS SEGMENT */ 03799000
*                     /* IS A FREED LOCAL LOCK IF OBTAINED BY THE RTM*/ 03800000
*                     /* AND AN UPDATED EXITTYPE REGISTER (R8). IF A */ 03801000
*                     /* RETRY IS BEING PROCESSED, THE RTM1WA WOULD  */ 03802000
*                     /* CONTAIN THE RETRY REGISTERS.                */ 03803000
*                     /*                                             */ 03804000
*                     /***********************************************/ 03805000
*                                                                  0866 03806000
*                     DO;           /* PERFORM NON PERC PROCESSING   */ 03807000
*                       IF SDWASPIN='1'B THEN/* IF FRR INDICATED   0867 03808000
*                                      VALID SPIN                    */ 03809000
         TM    SDWASPIN(R6),B'00100000'                            0867 03810000
         BNO   @RF00867                                            0867 03811000
*                         R8=RT1RESUM;/* THEN ALLOW IT TO RESUME THE    03812000
*                                      SPIN                          */ 03813000
         LA    R8,34                                               0868 03814000
*                       ELSE        /* IF NOT A RESUME FUNCTION      */ 03815000
*                         IF SDWARCDE=SDWARETY THEN/* SEE IF RETRY 0869 03816000
*                                      WAS REQUESTED                 */ 03817000
*                                                                  0869 03818000
         B     @RC00867                                            0869 03819000
@RF00867 CLI   SDWARCDE(R6),4                                      0869 03820000
         BNE   @RF00869                                            0869 03821000
*                           /*****************************************/ 03822000
*                           /*                                       */ 03823000
*                           /* THE FOLLOWING CODE OVERLAYS THE ENTIRE*/ 03824000
*                           /* RTM1WA EXCEPT THE FIRST WORD WHICH    */ 03825000
*                           /* MUST BE PRESERVED TO CONTAIN RECURSION*/ 03826000
*                           /* CONTROL DATA                          */ 03827000
*                           /*                                       */ 03828000
*                           /*****************************************/ 03829000
*                                                                  0870 03830000
*                           DO;     /* AND PERFORM RETRY SET UP      */ 03831000
*                             RT1R0R14=SDWASRSV;/* MOVE REG0 - REG14    03832000
*                                      INTO WA                       */ 03833000
         L     @12,PSACSTK                                         0871 03834000
         MVC   RT1R0R14(60,@12),SDWASRSV(R6)                       0871 03835000
*                             RT1TLPN=NULL;/* INDICATE RECURSIONS TO    03836000
*                                      BE HANDLED AS NEW ERRORS -  0872 03837000
*                                      NECESSARY SINCE WA HAS BEEN 0872 03838000
*                                      OVERLAYED WITH RETRY REGISTERS   03839000
*                                                            @YM06110*/ 03840000
         MVI   RT1TLPN(R7),X'00'                                   0872 03841000
*                             RT1RTYAD=SDWARTYA;/* MOVE RETRY ADDR 0873 03842000
*                                      INTO REG15 SLOT OF WA         */ 03843000
         MVC   RT1RTYAD(4,@12),SDWARTYA(R6)                        0873 03844000
*                             R8=RT1RETRY;/* INDICATED RETRY EXIT TO    03845000
*                                      BE TAKEN BY IEAVTRT1          */ 03846000
         LA    R8,32                                               0874 03847000
*                             R10=ADDR(RT1R0R14);/* POINT TO RETRY 0875 03848000
*                                      REGS FOR RT1                  */ 03849000
         LA    R10,RT1R0R14(,@12)                                  0875 03850000
*                           END;    /* END RETRY PROCESSING          */ 03851000
*                         ELSE                                     0877 03852000
*                           ;       /* IF NOT RETRY THEN NO SETUP    */ 03853000
@RF00869 DS    0H                                                  0878 03854000
*                       IF(R2&LOCLMASK)^=NULL THEN/* IF A LOCAL LOCK    03855000
*                                      WAS ACQUIRED BY RTM1 OR SRM   */ 03856000
@RC00867 LR    @12,R2                                              0878 03857000
         N     @12,@CF00215                                        0878 03858000
         LTR   @12,@12                                             0878 03859000
         BZ    @RF00878                                            0878 03860000
*                         DO;       /* FREE THE LOCAL LOCK           */ 03861000
*                           RFY                                    0880 03862000
*                             R12 RSTD;/* DESTROYED BY SETLOCK       */ 03863000
*                           RFY                                    0881 03864000
*                             R13 RSTD;/* DESTROYED BY SETLOCK       */ 03865000
*                           RFY                                    0882 03866000
*                             R14 RSTD;/* DESTROYED BY SETLOCK       */ 03867000
*                           GEN;                                   0883 03868000
*                                      /*GET THE LOCAL LOCK          */ 03869000
          SETLOCK RELEASE,TYPE=LOCAL,RELATED=(LOCSDWA,IEAVTRTS(PUGETM)) 03870000
          LA  R11,4095(R9)   RE-ESTABLISH BASE REGISTER      @G17EP5W   03871000
*                           RFY                                    0884 03872000
*                             R12 UNRSTD;/* RELEASE CONTROL OF WORK     03873000
*                                      REG                           */ 03874000
*                           RFY                                    0885 03875000
*                             R13 UNRSTD;/* RELEASE CONTROL OF WORK     03876000
*                                      REG                           */ 03877000
*                           RFY                                    0886 03878000
*                             R14 UNRSTD;/* RELEASE CONTROL OF WORK     03879000
*                                      REG                           */ 03880000
*                         END;      /* END LOCAL LOCK FREEING        */ 03881000
*                     END;          /* END NON PERCOLATE EXIT PROC   */ 03882000
*                   ELSE            /* IF PERCOLATE IS REQUESTED     */ 03883000
*                                                                  0889 03884000
*                     /***********************************************/ 03885000
*                     /*                                             */ 03886000
*                     /* THE FOLLOWING CODE INTERFACES WITH A        */ 03887000
*                     /* SUBROUTINE OF SVC EXIT PROLOGUE WHICH FREES */ 03888000
*                     /* ALL LOCKS HELD ON THIS CPU. IF THE CPU IS IN*/ 03889000
*                     /* TYPE 1 SVC MODE, THEN THIS SUBROUTINE IS NOT*/ 03890000
*                     /* CALLED SINCE AN EXIT PROLOGUE EXIT WILL BE  */ 03891000
*                     /* TAKEN AND THE SUBROUTINE WILL BE CALLED     */ 03892000
*                     /* DURING EXIT PROLOGUES PROCESSING.           */ 03893000
*                     /*                                             */ 03894000
*                     /***********************************************/ 03895000
*                                                                  0889 03896000
*                     IF MODETYP1='0'B THEN/* IF NOT TYPE 1 SVC MODE */ 03897000
         B     @RC00865                                            0889 03898000
@RF00865 L     @12,PSACSTK                                         0889 03899000
         TM    MODETYP1+80(@12),B'00000100'                        0889 03900000
         BNZ   @RF00889                                            0889 03901000
*                       DO;                                        0890 03902000
*                         RFY                                      0891 03903000
*                           R1 RSTD;/* GET CONTROL OF PARM REG       */ 03904000
*                         R1=RTDISABL;/* INDICATE REMAIN DISABLED    */ 03905000
         LA    R1,1                                                0892 03906000
*                         RFY                                      0893 03907000
*                           R12 RSTD;/* DESTROYED BY FREELOCK        */ 03908000
*                         RFY                                      0894 03909000
*                           R13 RSTD;/* DESTROYED BY FREELOCK        */ 03910000
*                         CALL IEAVFRLK;/* GO FREE ALL LOCKS HELD BY    03911000
*                                      THIS CPU                      */ 03912000
         L     @15,@CV00157                                        0895 03913000
         BALR  @14,@15                                             0895 03914000
*                         GEN(LA R11,4095(R9));/* GET BASE REG VALUE    03915000
*                                                            @G17EP5W*/ 03916000
         LA R11,4095(R9)                                                03917000
*                         RFY                                      0897 03918000
*                           R1 UNRSTD;/* RELEASE CONTROL OF PARM REG */ 03919000
*                         RFY                                      0898 03920000
*                           R12 UNRSTD;/* RELEASE CONTROL OF WORK REG*/ 03921000
*                         RFY                                      0899 03922000
*                           R13 UNRSTD;/* RELEASE CONTROL OF WORK REG*/ 03923000
*                       END;        /* END NON EXPRO EXIT PROCESS    */ 03924000
*                     ELSE                                         0901 03925000
*                       ;           /* IF TYPE1 NO LOCK FREEING      */ 03926000
*                                                                  0901 03927000
@RF00889 DS    0H                                                  0902 03928000
*                   /*************************************************/ 03929000
*                   /*                                               */ 03930000
*                   /* THE FOLLOWING PROCESSING IS PERFORMED         */ 03931000
*                   /* REGARDLESS OF THE TYPE OF EXIT BEING          */ 03932000
*                   /* PERFORMED. IT IS ASSUMED AT THIS POINT THAT IF*/ 03933000
*                   /* A DYNAMICALLY ACQUIRED RTCA IS TO BE FREED,   */ 03934000
*                   /* THEN NO LOCKS ARE HELD SINCE RTCAS ARE        */ 03935000
*                   /* GETMAINED ONLY WHEN NO LOCKS WERE HELD        */ 03936000
*                   /*                                               */ 03937000
*                   /*************************************************/ 03938000
*                                                                  0902 03939000
*                   IF(R2&RTCAMASK)^=NULL THEN/* IF AN RTCA WAS    0902 03940000
*                                      GETMAINED                     */ 03941000
@RC00865 LR    @12,R2                                              0902 03942000
         N     @12,@CF00217                                        0902 03943000
         LTR   @12,@12                                             0902 03944000
         BZ    @RF00902                                            0902 03945000
*                     DO;           /* FREE THE RTCA                 */ 03946000
*                       RFY                                        0904 03947000
*                         R2 UNRSTD;                               0904 03948000
*                       RFY                                        0905 03949000
*                         R12 RSTD; /* DESTROYED BY SETLOCK          */ 03950000
*                       RFY                                        0906 03951000
*                         R13 RSTD; /* DESTROYED BY SETLOCK          */ 03952000
*                       RFY                                        0907 03953000
*                         R14 RSTD; /* DESTROYED BY SETLOCK          */ 03954000
*                       GEN;                                       0908 03955000
*                                      /*GET THE LOCAL LOCK          */ 03956000
           SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,RELATED=(FREEMAIN,IEAV*03957000
               TRTM(SYSCLEAN))                                          03958000
            LA   R11,4095(R9)   REESTABLISH BASE REGISTER    @G17EP5W   03959000
*                       RFY                                        0909 03960000
*                         R12 UNRSTD;/* RELEASE CONTROL OF WORK REG  */ 03961000
*                       RFY                                        0910 03962000
*                         R13 UNRSTD;/* RELEASE CONTROL OF WORK REG  */ 03963000
*                       RFY                                        0911 03964000
*                         R14 UNRSTD;/* RELEASE CONTROL OF WORK REG  */ 03965000
*                       RFY                                        0912 03966000
*                         R4 RSTD;  /* USED TO SAVE R7 VALUE         */ 03967000
*                       R4=R7;      /* SAVE THE CONTENTS OF R7       */ 03968000
         LR    R4,R7                                               0913 03969000
*                       RFY                                        0914 03970000
*                         RT1TRACK BASED(R4);                      0914 03971000
*                       R7=PSAAOLD; /* POINT TO THE CURRENT ASCB     */ 03972000
         L     R7,PSAAOLD                                          0915 03973000
*                       IF SDWARCDE^=SDWARETY THEN/* IF A RETRY WAS     03974000
*                                      REQUESTED, NO RECOVERY IS   0916 03975000
*                                      POSSIBLE IF AN ERROR OCCURS 0916 03976000
*                                      DURING THE FREEMAIN, SINCE THE   03977000
*                                      RETRY REGS ARE STORED IN THE     03978000
*                                      RTM1WA PRIOR TO FREEING THE 0916 03979000
*                                      RTCA                          */ 03980000
         CLI   SDWARCDE(R6),4                                      0916 03981000
         BE    @RF00916                                            0916 03982000
*                         DO;       /* STORE RECOVERY INFORMATION    */ 03983000
*                           RT1TREGS(ONE)=R8;/* STORE THE ALREADY  0918 03984000
*                                      DETERMINED EXIT TYPE          */ 03985000
         ST    R8,RT1TREGS(,R4)                                    0918 03986000
*                           RT1TLPID=RECOVRY1;/* INDICATE SOME     0919 03987000
*                                      RECOVERY IS POSSIBLE IF     0919 03988000
*                                      FREEMAIN ERROR OCCURS         */ 03989000
         MVI   RT1TLPID(R4),X'01'                                  0919 03990000
*                           RT1TLPN=FREERTCA;/* LPN=PHASE NUM FOR  0920 03991000
*                                      RTCA FREEMAIN ATTEMPT         */ 03992000
         MVI   RT1TLPN(R4),X'79'                                   0920 03993000
*                         END;                                     0921 03994000
*                       DO;         /* FREEMAIN(RU)                0922 03995000
*                                      LV(SDWALNTH)A(SDWA)         0922 03996000
*                                      SP(SDWASPID) BRANCH           */ 03997000
@RF00916 DS    0H                                                  0923 03998000
*                         RESPECIFY                                0923 03999000
*                          (GPR01F,                                0923 04000000
*                           GPR03F,                                0923 04001000
*                           GPR00F) RESTRICTED;                    0923 04002000
*                         GPR01F=0; /* REG 1 MUST BE ZERO            */ 04003000
         SLR   GPR01F,GPR01F                                       0924 04004000
*                         GPR03F=3; /* SET TYPE                      */ 04005000
         LA    GPR03F,3                                            0925 04006000
*                         GPR00F=SDWALNTH;/* LENGTH REQUESTED        */ 04007000
         SLR   GPR00F,GPR00F                                       0926 04008000
         ICM   GPR00F,7,SDWALNTH(R6)                               0926 04009000
*                         GPR01F=ADDR(SDWA);/* SET REGISTER ONE      */ 04010000
         LR    GPR01F,R6                                           0927 04011000
*                         GPR03F=GPR03F+((SDWASPID)*256);/* SUBPOOL     04012000
*                                      VALUE                         */ 04013000
         SLR   @12,@12                                             0928 04014000
         IC    @12,SDWASPID(,R6)                                   0928 04015000
         SLA   @12,8                                               0928 04016000
         ALR   GPR03F,@12                                          0928 04017000
*                         CALL CVTCRMN;/* BRANCH ENTRY POINT         */ 04018000
         L     @12,CVTPTR                                          0929 04019000
         L     @15,CVTCRMN(,@12)                                   0929 04020000
         BALR  @14,@15                                             0929 04021000
*                         RESPECIFY                                0930 04022000
*                          (GPR01F,                                0930 04023000
*                           GPR03F,                                0930 04024000
*                           GPR00F) UNRESTRICTED;                  0930 04025000
*                       END;        /* FREEMAIN(RU)                0931 04026000
*                                      LV(SDWALNTH)A(SDWA)         0931 04027000
*                                      SP(SDWASPID) BRANCH FREE THE     04028000
*                                      SDWA                          */ 04029000
*                       R7=R4;      /* RESTORE THE CONTENTS OF R7    */ 04030000
         LR    R7,R4                                               0932 04031000
*                       RFY                                        0933 04032000
*                         RT1TRACK BASED(R7);                      0933 04033000
*                       RFY                                        0934 04034000
*                         R4 UNRSTD;/* USED TO SAVE R7 VALUE         */ 04035000
*FREEMNRP:                          /* RETURN POINT OF LPRR IF ERROR    04036000
*                                      OCCURS                        */ 04037000
*                       GEN(LA R11,4095(R9));/* RESTORE BASE REG   0935 04038000
*                                                            @G17EP5W*/ 04039000
FREEMNRP LA R11,4095(R9)                                                04040000
*                       RT1TLPN=NULL;/* INDICATE RECURSIONS TO BE  0936 04041000
*                                      HANDLED AS NEW ERRORS         */ 04042000
         MVI   RT1TLPN(R7),X'00'                                   0936 04043000
*                       RFY                                        0937 04044000
*                         R12 RSTD; /* DESTROYED BY SETLOCK          */ 04045000
*                       RFY                                        0938 04046000
*                         R13 RSTD; /* DESTROYED BY SETLOCK          */ 04047000
*                       RFY                                        0939 04048000
*                         R14 RSTD; /* DESTROYED BY SETLOCK          */ 04049000
*                       GEN;                                       0940 04050000
*                                      /*GET THE LOCAL LOCK          */ 04051000
       SETLOCK RELEASE,TYPE=LOCAL,RELATED=(FREEMAIN,IEAVTRTM(SYSCLEAN)) 04052000
       LA  R11,4095(R9)       RE-ESTABLISH BASE REGISTER     @G17EP5W   04053000
*                       RFY                                        0941 04054000
*                         R12 UNRSTD;/* RELEASE CONTROL OF WORK REG  */ 04055000
*                       RFY                                        0942 04056000
*                         R13 UNRSTD;/* RELEASE CONTROL OF WORK REG  */ 04057000
*                       RFY                                        0943 04058000
*                         R14 UNRSTD;/* RELEASE CONTROL OF WORK REG  */ 04059000
*                     END;          /* END RTCA FREEING PROCESSING   */ 04060000
*                 END;              /* END SYSTEM CLEAN UP           */ 04061000
@RF00902 DS    0H                                                  0946 04062000
*               LCCAPDAT='0'B;      /* TURN OFF PCFLIH DAT RECURSION    04063000
*                                      FLAG IF NOT ALREADY OFF       */ 04064000
@RF00858 DS    0H                                                  0947 04065000
*               LCCAPSG1='0'B;      /* TURN OFF PCFLIH SEG RECURSION    04066000
*                                      FLAG IF NOT ALREADY OFF       */ 04067000
         L     @12,PSALCCAV                                        0947 04068000
         NI    LCCAPDAT(@12),B'11001111'                           0947 04069000
*               PSAPI2='0'B;        /* TURN OFF PCFLIH RECURSION FLAG   04070000
*                                      IF NOT ALREADY OFF - PC HAS NO   04071000
*                                      RECOVERY              @ZA03844*/ 04072000
*               PSAPSREG='0'B;      /* TURN OFF PCFLIH RECURSION FLAG   04073000
*                                      IF STILL ON           @ZA03844*/ 04074000
         NI    PSAPI2,B'10011111'                                  0949 04075000
*               RT1TLPN=NULL;       /* MAKE NEW ERRORS APPEAR AS NEW    04076000
*                                      (NONRECURSIVE) ONES           */ 04077000
         MVI   RT1TLPN(R7),X'00'                                   0950 04078000
*               PSARTM='0'B;        /* INDICATE RTM IS NO LONGER IN     04079000
*                                      CONTROL                       */ 04080000
         NI    PSARTM,B'11111101'                                  0951 04081000
*             END;                  /* END UNIQUE SLIHMODE PROCESS   */ 04082000
*         ELSE                      /* IF SERVICE ROUTINE MODE       */ 04083000
*           R8=RT1RET;              /* INDICATE RT1 IS TO RETURN TO     04084000
*                                      CALLER                        */ 04085000
         B     @RC00842                                            0953 04086000
@RF00842 LA    R8,38                                               0953 04087000
*       END;                        /* END NON MACHCK PROCESSING     */ 04088000
@RC00842 DS    0H                                                  0955 04089000
*     RFY                                                          0955 04090000
*       R0 RSTD;                    /* GET CONTROL OF PARM REG       */ 04091000
@RC00831 DS    0H                                                  0956 04092000
*     RFY                                                          0956 04093000
*       R1 RSTD;                    /* GET CONTROL OF PARM REG       */ 04094000
*     R0=R8;                        /* RETURN EXIT INDICATION TO   0957 04095000
*                                      IEAVTRT1                      */ 04096000
         LR    R0,R8                                               0957 04097000
*     R1=R10;                       /* RETURN EXIT PARAMETERS TO   0958 04098000
*                                      IEAVTRT1 (VALUE IS MEANINGFUL    04099000
*                                      ONLY FOR MACHCK AND RETRY EXIT   04100000
*                                      TYPES)                        */ 04101000
         LR    R1,R10                                              0958 04102000
*   END;                            /* END EXIT PROCESSING           */ 04103000
*EEDPROC:                                                          0960 04104000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0960 04105000
*                                                                  0960 04106000
         B     @PB00002                                            0960 04107000
EEDPROC  DS    0H                                                  0961 04108000
*   /*****************************************************************/ 04109000
*   /*                                                               */ 04110000
*   /* THE PURPOSE OF THE EEDPROC SEGMENT IS TO GATHER ERROR         */ 04111000
*   /* INFORMATION INTO EXTENDED ERROR DESCRIPTORS (EEDS), AND CHAIN */ 04112000
*   /* THE EEDS AS A SINGLE THREADED FORWARD POINTING QUEUE, WITH THE*/ 04113000
*   /* ORIGIN OF THE CHAIN IN THE EEDCHAIN REGISTER (R6). IF ERRORID */ 04114000
*   /* INFORMATION IS IN THE SDWA AND NO HARDWARE REPAIR EED IS BEING*/ 04115000
*   /* SENT, THE ERRORID INFORMANTION IS ADDED TO THE DUMPS OTION EED*/ 04116000
*   /* IF IT EXISTS,OR A NEW EED IS GOTTEN.@G17EP5W THE EEDPROC      */ 04117000
*   /* SEGMENT IS IMPLEMENTED AS A CLOSED SUBROUTINE AND IS CALLED   */ 04118000
*   /* FROM TWO DIFFERENT PLACES IN THE RESCHEDULE FUNCTION OF THE   */ 04119000
*   /* RTM1. INPUT TO THIS SEGMENT IS AS FOLLOWS: TRAKAREA REGISTER  */ 04120000
*   /* (R4) - POINTS TO A RECOVERY TRACKING AREA WHICH IS USED TO    */ 04121000
*   /* CHECKPOINT VOLATILE REGISTERS. DUMPOPTS REGISTER (R5) -       */ 04122000
*   /* CONTAINS A POINTER TO DUMP OPTIONS TO BE PLACED INTO EEDS, OR */ 04123000
*   /* CONTAINS 0 TO INDICATE NO DUMP OPTIONS WERE SUPPLIED. EEDCHAIN*/ 04124000
*   /* REGISTER (R6) CONTAINS A POINTER TO PREVIOUSLY ACQUIRED EEDS, */ 04125000
*   /* OR THE VALUE 1 INDICATING A PREVIOUS ATTEMPT FOR AN EED CELL  */ 04126000
*   /* FAILED, OR 0 INDICATING THAT NO REQUEST FOR EED CELLS HAD BEEN*/ 04127000
*   /* PREVIOUSLY ATTEMPTED. THERE ARE TWO SITUATIONS WHERE EEDS MAY */ 04128000
*   /* HAVE BEEN PREVIOUSLY REQUESTED. 1) IF A MACHINE CHECK HAD     */ 04129000
*   /* OCCURRED, THE HARDWARE REPAIR DATA AND REGISTERS AND PSW AT   */ 04130000
*   /* TIME OF INTERRUPT WOULD HAVE BEEN PREVIOUSLY PLACED IN EEDS.  */ 04131000
*   /* 2) IF THE RTM1 HAD SET A LOCALLY LOCKED TASK OR AN SRB WHICH  */ 04132000
*   /* HAD SUFFERED A PAGE IO ERROR UP FOR ABEND PROCESSING, THE     */ 04133000
*   /* REGISTERS AND PSW AT TIME OF PAGE FAULT WOULD HAVE BEEN PLACED*/ 04134000
*   /* IN AN EED. IN EITHER CASE, IF A REQUEST FOR AN EED FAILED,    */ 04135000
*   /* THEN THE FORWARD POINTER IN THE PREVIOUS EED ( OR IN THE EED  */ 04136000
*   /* QUEUE ORIGIN) WOULD HAVE BEEN SET TO THE EEDNULL VALUE (1).   */ 04137000
*   /* SAVAREAP REGISTER (R13) - CONTAINS A POINTER TO THE REGISTERS */ 04138000
*   /* AT TIME OF ERROR. THIS WOULD BE USED ONLY IF EEDS WERE NOT    */ 04139000
*   /* PREVIOUSLY PROCESSED (I.E. IF EEDCHAIN=0). R14 - CONTAINS THE */ 04140000
*   /* RETURN POINT TO THE CALLING SEGMENT. REGS R0-R3, R7 AND R12   */ 04141000
*   /* ARE NOT USED AS INPUT, BUT THEIR CONTENTS ARE PRESERVED. REGS */ 04142000
*   /* R8 AND R10 ARE CONSIDERED AVAILABLE AS WORK REGISTERS OUTPUT  */ 04143000
*   /* FROM THIS SEGMENT IS AN UPDATED EEDCHAIN, IF EEROR DATA WAS   */ 04144000
*   /* PROCESSED, AND THE CORRESPONDING ALLOCATED EED CELLS.         */ 04145000
*   /*                                                               */ 04146000
*   /*****************************************************************/ 04147000
*                                                                  0961 04148000
*   RFY                                                            0961 04149000
*    (R0,                           /* PRESERVED FOR CALLER          */ 04150000
*     R1,                           /* PRESERVED FOR CALLER          */ 04151000
*     R2,                           /* PRESERVED FOR CALLER          */ 04152000
*     R3,                           /* PRESERVED FOR CALLER          */ 04153000
*     R4,                           /* PRESERVED FOR CALLER          */ 04154000
*     R5,                           /* PRESERVED FOR CALLER          */ 04155000
*     R6,                           /* PRESERVED FOR CALLER          */ 04156000
*     R7,                           /* PRESERVED FOR CALLER          */ 04157000
*     R12,                          /* PRESERVED FOR CALLER          */ 04158000
*     R13,                          /* PRESERVED FOR CALLER          */ 04159000
*     R14) RSTD;                    /* PRESERVED FOR CALLER          */ 04160000
*   RFY                                                            0962 04161000
*     R10 RSTD;                     /* GET CONTROL OF REG FOR SAVING    04162000
*                                      R14S ORIG VALUE               */ 04163000
*   R10=R14;                        /* PRESERVE RETURN PT VALUE      */ 04164000
         LR    R10,R14                                             0963 04165000
*   RFY                                                            0964 04166000
*     R14 UNRSTD;                   /* ALLOW CPLR TO USE R14         */ 04167000
*   RFY                                                            0965 04168000
*     R8 RSTD;                      /* GET CONTROL OF REG FOR      0965 04169000
*                                      ADDRESSING CHECKPOINT AREA    */ 04170000
*   RFY                                                            0966 04171000
*     RT1TRACK BASED(R4);           /* REESTABLISH BASE FOR TRACK    */ 04172000
*   RFY                                                            0967 04173000
*     ERREGS BASED(R13);            /* REESTABLISH BASE FOR REGS AT     04174000
*                                      TIME OF ERROR                 */ 04175000
*   R8=ADDR(RT1TREGS);              /* LOCATE CHECKPOINT AREA        */ 04176000
         LA    R8,RT1TREGS(,R4)                                    0968 04177000
*   RFY                                                            0969 04178000
*    (R1,                           /* ALLOW COMPR TO USE R1         */ 04179000
*     R2,                           /* ALLOW COMPILER TO USE R2      */ 04180000
*     R3) UNRSTD;                   /* ALLOW COMPILER TO USE R3      */ 04181000
*   IF R6^=NULL THEN                /* IF SOME EED PROCESSING HAS  0970 04182000
*                                      PREVIOUSLY BEEN DONE          */ 04183000
*                                                                  0970 04184000
         LTR   R6,R6                                               0970 04185000
         BZ    @RF00970                                            0970 04186000
*     /***************************************************************/ 04187000
*     /*                                                             */ 04188000
*     /* THE PURPOSE OF THE OLDEEDS SEGMENT IS TO VERIFY THAT A      */ 04189000
*     /* PREVIOUS ATTEMPT TO ACQUIRE AN EED CELL DID NOT FAIL (I.E   */ 04190000
*     /* THAT GETCELL DID NOT RETURN A NONZERO RETURN CODE) AND TO   */ 04191000
*     /* DETERMINE IF AN ERRORID EXISTS IN AN EED. INPUT TO THIS     */ 04192000
*     /* SEGMENT IS THE EEDCHAIN REGISTER (R6). OUTPUT IS THE        */ 04193000
*     /* FUNCTION REGISTER (R0) SET WITH AN INDICATION TO EXIT THIS  */ 04194000
*     /* SEGMENT IF A CELL COULD NOT BE OBTAINED OR SET TO ZERO TO   */ 04195000
*     /* INDICATE FURTHER PROCSSING IS ALLOWED. THE RT1WEREX FLAG IS */ 04196000
*     /* SET ON IF AN EED WERE FOUND.                                */ 04197000
*     /*                                                             */ 04198000
*     /***************************************************************/ 04199000
*                                                                  0971 04200000
*     DO;                           /* CHECK FOR MISSING EEDS        */ 04201000
*       IF R6=EEDNULL THEN          /* IF THE ORIGIN OF THE CHAIN  0972 04202000
*                                      INDICATES MISSING EEDS        */ 04203000
         CH    R6,@CH00073                                         0972 04204000
         BNE   @RF00972                                            0972 04205000
*         R0=TAKEEXIT;              /* THEN TERM FURTHER PROCESSING  */ 04206000
         LA    R0,30                                               0973 04207000
*       ELSE                        /* IF AT LEAST 1 EED IS ON THE 0974 04208000
*                                      CHAIN                         */ 04209000
*         DO;                       /* THEN CHECK THE ENTIRE QUEUE 0974 04210000
*                                      FOR FAILURE INDICATORS        */ 04211000
         B     @RC00972                                            0974 04212000
@RF00972 DS    0H                                                  0975 04213000
*           RFY                                                    0975 04214000
*             R2 RSTD;              /* GET A WORK REG FOR SEARCH     */ 04215000
*           R2=R6;                  /* PRIME IT WITH FIRST ELEM PTR  */ 04216000
         LR    R2,R6                                               0976 04217000
*           RFY                                                    0977 04218000
*             EED BASED(R2);        /* ESTABLISH THE BASE FOR THE EED   04219000
*                                      MAPPING MACRO                 */ 04220000
*           DO WHILE(R2>EEDNULL);   /* PERFORM SEARCH LOOP UNTIL THE    04221000
*                                      EED PTR INDICATES THAT NO MORE   04222000
*                                      EEDS ARE ON CHAIN     @G17EP5W*/ 04223000
         B     @DE00978                                            0978 04224000
@DL00978 DS    0H                                                  0979 04225000
*             IF EEDERFL=ON THEN    /* IF ERRORID IN EED     @G17EP5W*/ 04226000
         TM    EEDERFL(R2),B'10000000'                             0979 04227000
         BNO   @RF00979                                            0979 04228000
*               IF RT1TENPT>=SLIHLOW&/* IF RTM1 IS IN SLIH   @G17EP5W*/ 04229000
*                   RT1TENPT<=SLIHHI THEN/* MODE PROCESSING  @G17EP5W*/ 04230000
         CLI   RT1TENPT(R4),1                                      0980 04231000
         BL    @RF00980                                            0980 04232000
         CLI   RT1TENPT(R4),9                                      0980 04233000
         BH    @RF00980                                            0980 04234000
*                 DO;               /* PROCESSING THEN       @G17EP5W*/ 04235000
*                   RT1WEREX=ON;    /* SET FLAG IN RT1W      @G17EP5W*/ 04236000
         L     @03,PSACSTK                                         0982 04237000
         OI    RT1WEREX(@03),B'00001000'                           0982 04238000
*                 END;              /* END EED FLAG          @G17EP5W*/ 04239000
*             R2=EEDFWRDP;          /* POINT TO NEXT ELEMENT         */ 04240000
@RF00980 DS    0H                                                  0984 04241000
@RF00979 L     R2,EEDFWRDP(,R2)                                    0984 04242000
*           END;                    /* GO SEE IF LOOP SHOULD BE    0985 04243000
*                                      EXITED                        */ 04244000
@DE00978 LA    @03,1                                               0985 04245000
         CR    R2,@03                                              0985 04246000
         BH    @DL00978                                            0985 04247000
*           IF R2=EEDNULL THEN      /* IF THE LAST CELL ON THE CHAIN    04248000
*                                      HAD AN INDICATION THAT A    0986 04249000
*                                      PREVIOUS GETCELL ATTEMPT    0986 04250000
*                                      FAILED THEN                   */ 04251000
         CR    R2,@03                                              0986 04252000
         BNE   @RF00986                                            0986 04253000
*             R0=TAKEEXIT;          /* FORCE A PREMATURE EXIT        */ 04254000
         LA    R0,30                                               0987 04255000
*           ELSE                    /* IF ALL GETCELLS WERE OK       */ 04256000
*             R0=NULL;              /* THEN PERFORM OTHER EED PROC   */ 04257000
         B     @RC00986                                            0988 04258000
@RF00986 SLR   R0,R0                                               0988 04259000
*         END;                      /* END QUEUE SEARCHING           */ 04260000
*     END;                          /* END CHECK OF OLD EEDS         */ 04261000
*   ELSE                            /* IF EED PROCESSING WAS NOT   0991 04262000
*                                      PREVIOUSLY PERFORMED, THEN    */ 04263000
*                                                                  0991 04264000
*     /***************************************************************/ 04265000
*     /*                                                             */ 04266000
*     /* THE PURPOSE OF THE NEWEEDS SEGMENT IS TO OBTAIN A CELL FOR  */ 04267000
*     /* AN EED, AND TO FILL IN THE EED WITH THE REGISTERS AND PSW   */ 04268000
*     /* ASSOCIATED WITH THE ERROR BEING HANDLED BY THE RTM1. IF A   */ 04269000
*     /* CELL COULD NOT BE OBTAINED, THEN AN INDICATOR IS SET TO     */ 04270000
*     /* BYPASS FURTHER EED PROCESSING. INPUT TO THIS SEGMENT IS AS  */ 04271000
*     /* FOLLOWS: WORKREG REGISTER (R8) - CONTAINS THE POINTER TO THE*/ 04272000
*     /* CHECKPOINTED ENTRY REGS. THESE ENTRY REGS MUST BE RELOADED  */ 04273000
*     /* SO THAT FIELDS IN THE RT1 TRACKING AREA CAN BE REFERENCED.  */ 04274000
*     /* SAVAREAP REGISTER (R13) - POINTS TO REGISTERS AT TIME OF    */ 04275000
*     /* ERROR TO BE MOVED INTO THE EED. RTM1WA - CONTAINS A POINTERS*/ 04276000
*     /* TO THE PSW AT TIME OF ERROR IF THE RTM1 IS OPERATING AS A   */ 04277000
*     /* SLIH. OUTPUT IS THE FUNCTION REGISTER (R0) SET WITH AN      */ 04278000
*     /* INDICATION TO EXIT THIS SEGMENT IF A CELL COULD NOT BE      */ 04279000
*     /* OBTAINED AND AN UPDATED EEDCHAIN REGISTER (R6) TO CONTAIN   */ 04280000
*     /* EITHER THE NULL INDICATOR, IF A CELL WASNT OBTAINED, OR THE */ 04281000
*     /* PTR TO THE EED IF ONE WERE OBTAINED.                        */ 04282000
*     /*                                                             */ 04283000
*     /***************************************************************/ 04284000
*                                                                  0991 04285000
*     DO;                           /* PROCESS A NEW EED             */ 04286000
         B     @RC00970                                            0991 04287000
@RF00970 DS    0H                                                  0992 04288000
*       RFY                                                        0992 04289000
*        (R0,                       /* GET CONTOL OF GETCELL PARM    */ 04290000
*         R1,                       /* GET CONTROL OF QCELL PARM RG  */ 04291000
*         R15,                      /* GET CONTROL OF QCELL PARM RG  */ 04292000
*         R2,                       /* CLOBBERED BY GETCELL          */ 04293000
*         R3,                       /* CLOBBERED BY GETCELL          */ 04294000
*         R4) RSTD;                 /* CLOBBERED BY GETCELL          */ 04295000
*       R0=RT1CPOOL;                /* INDICATE RT1 CELL POOLID      */ 04296000
         L     R0,RT1CPOOL                                         0993 04297000
*       GEN(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/* ATTEMPT TO GET A    04298000
*                                      CELL FOR THE EED              */ 04299000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            04300000
*       GEN(LA R11,4095(R9));       /* RESTORE BASE REG      @G17EP5W*/ 04301000
         LA R11,4095(R9)                                                04302000
*       IF R15^=QCELNORM THEN       /* IF A CELL WAS NOT ACQUIRED    */ 04303000
         LTR   R15,R15                                             0996 04304000
         BZ    @RF00996                                            0996 04305000
*         DO;                       /* PROCESS GETCELL FAILURE       */ 04306000
*           R6=EEDNULL;             /* INDICATE EED INFO LOST        */ 04307000
         LA    R6,1                                                0998 04308000
*           R0=TAKEEXIT;            /* CAUSE SUBSEQUENT EED PROCES-     04309000
*                                      SING TO BE BYPASSED           */ 04310000
         LA    R0,30                                               0999 04311000
*         END;                      /* END GETCELL FAILURE PROCESS   */ 04312000
*       ELSE                        /* IF A CELL WAS OBTAINED        */ 04313000
*         DO;                       /* FILL IT IN WITH REG INFO      */ 04314000
         B     @RC00996                                            1001 04315000
@RF00996 DS    0H                                                  1002 04316000
*           R6=R1;                  /* MAKE THIS CELL THE FIRST ONE     04317000
*                                      ON THE CHAIN                  */ 04318000
         LR    R6,R1                                               1002 04319000
*           RFY                                                    1003 04320000
*             EED BASED(R6);        /* BASE THE EED MAPPING MACRO ON    04321000
*                                      THE NEWLY ACQUIRED CELL       */ 04322000
*           EED=''B;                /* INITIALIZE THE EED            */ 04323000
         XC    EED(92,R6),EED(R6)                                  1004 04324000
*           EEDID=REGSPTYP;         /* INDICATE THE EED IS A REGIS-     04325000
*                                      TER AND PSW TYPE              */ 04326000
         MVI   EEDID(R6),X'01'                                     1005 04327000
*           EEDREGS=ERREGS;         /* MOVE IN REGS AT TIME OF ERR   */ 04328000
         MVC   EEDREGS(64,R6),ERREGS(R13)                          1006 04329000
*           GEN(LM R0,R4,0(R8));    /* RELOAD THE ORIGINAL REGS -  1007 04330000
*                                      THIS WILL CAUSE THE FUNCTION     04331000
*                                      REGISTER TO HAVE A VALUE WHICH   04332000
*                                      WILL NOT BE = TO THE TAKEEXIT    04333000
*                                      VALUE. ALSO THIS WILL ALLOW 1007 04334000
*                                      ADDRESSABILITY TO THE RTM   1007 04335000
*                                      TRACK AREA                    */ 04336000
         LM R0,R4,0(R8)                                                 04337000
*           IF RT1TENPT>=SLIHLOW&   /* IF THE RTM1 IS OPERATING IN   */ 04338000
*               RT1TENPT<=SLIHHI THEN/* SECOND LEV INTERRUPT HANDLR  */ 04339000
         CLI   RT1TENPT(R4),1                                      1008 04340000
         BL    @RF01008                                            1008 04341000
         CLI   RT1TENPT(R4),9                                      1008 04342000
         BH    @RF01008                                            1008 04343000
*             DO;                   /* THEN A PSW IS AVAILABLE       */ 04344000
*               EEDPSW1=RT1WPSW1->PSW;/* MOVE THE FIRST HALF OF THE     04345000
*                                      PSW INTO THE EED              */ 04346000
         L     @14,PSACSTK                                         1010 04347000
         L     @14,RT1WPSW1(,@14)                                  1010 04348000
         MVC   EEDPSW1(8,R6),PSW(@14)                              1010 04349000
*               EEDPSW2=RT1WPSW2->PSWEXT1;/* MOVE SECOND HALF OF PSW    04350000
*                                      INTO THE EED                  */ 04351000
         L     @14,PSACSTK                                         1011 04352000
         L     @14,RT1WPSW2(,@14)                                  1011 04353000
         MVC   EEDPSW2(8,R6),PSWEXT1(@14)                          1011 04354000
*             END;                  /* END PSW MOVES                 */ 04355000
*           ELSE                                                   1013 04356000
*             ;                     /* IF NOT IN SLIH MODE THEN THEIR   04357000
*                                      IS NO PSW ASSOCIATED WITH THE    04358000
*                                      ERROR                         */ 04359000
@RF01008 DS    0H                                                  1014 04360000
*           R12->RT1TREGS(THREE)=R6;/* CHECKPOINT NEW VALUE OF     1014 04361000
*                                      EEDCHAIN POINTER              */ 04362000
         ST    R6,RT1TREGS+8(,R12)                                 1014 04363000
*         END;                      /* END EED FILLING IN            */ 04364000
*     END;                          /* END PROCESSING OF NEW EED     */ 04365000
@RC00996 DS    0H                                                  1017 04366000
*   IF R0^=TAKEEXIT THEN            /* IF A PREVIOUS ATTEMPT TO    1017 04367000
*                                      OBTAIN AN EED CELL HAS NOT  1017 04368000
*                                      FAILED, THEN                  */ 04369000
@RC00970 LA    @14,30                                              1017 04370000
         CR    R0,@14                                              1017 04371000
         BE    @RF01017                                            1017 04372000
*     DO;                           /* PROCESS DUMPOPTS EED          */ 04373000
*       R0=TAKEEXIT;                /* SET INDICATOR TO NO EED NEEDED   04374000
*                                      FOR ERRORID           @G17EP5W*/ 04375000
         LR    R0,@14                                              1019 04376000
*       RFY                                                        1020 04377000
*        (R4) RSTD;                 /* RESTRICT REG          @G17EP5W*/ 04378000
*       R4=(R8-LENGTH(RT1TRECC))->RT1TREGS(5);/* RELOAD BASE PTR TO     04379000
*                                      TRACKING AREA         @G17EP5W*/ 04380000
         L     R4,RT1TREGS+12(,R8)                                 1021 04381000
*       IF RT1TENPT>=SLIHLOW&       /* IF THE RTM1 IS OPERATING IN   */ 04382000
*           RT1TENPT<=SLIHHI THEN   /* SECOND LEV INTERRUPT HANDLR   */ 04383000
         CLI   RT1TENPT(R4),1                                      1022 04384000
         BL    @RF01022                                            1022 04385000
         CLI   RT1TENPT(R4),9                                      1022 04386000
         BH    @RF01022                                            1022 04387000
*         DO;                       /* THEN CHECK WORKAREA   @G17EP5W*/ 04388000
*           RFY                                                    1024 04389000
*            (R3,                                                  1024 04390000
*             R4) UNRSTD;           /* COMPILER WORK REGS    @G17EP5W*/ 04391000
*           IF RT1WEREX=OFF THEN    /* IF ERRORID ^ IN EEDS  @G17EP5W*/ 04392000
         L     @14,PSACSTK                                         1025 04393000
         TM    RT1WEREX(@14),B'00001000'                           1025 04394000
         BNZ   @RF01025                                            1025 04395000
*             IF RT1WRTCA^=NULL THEN/* & RTCA EXISTS WITH    @G17EP5W*/ 04396000
         L     @14,RT1WRTCA(,@14)                                  1026 04397000
         LTR   @14,@14                                             1026 04398000
         BZ    @RF01026                                            1026 04399000
*               IF RT1WRTCA->SDWAERFL=ON THEN/* AN ERRORID   @G17EP5W*/ 04400000
         TM    SDWAERFL(@14),B'00000001'                           1027 04401000
         BNO   @RF01027                                            1027 04402000
*                 R0=NULL;          /* SET INDICATOR TO GET EED    1028 04403000
*                                                            @G17EP5W*/ 04404000
         SLR   R0,R0                                               1028 04405000
*         END;                      /* END CHECK SLIH MODE   @G17EP5W*/ 04406000
@RF01027 DS    0H                                                  1029 04407000
@RF01026 DS    0H                                                  1029 04408000
@RF01025 DS    0H                                                  1030 04409000
*       IF((R5^=NULL)|              /* IF DUMP OPTIONS WERE PROVIDD  */ 04410000
*           (R0=NULL)) THEN         /* OR ERRORID EED NEED   @G17EP5W*/ 04411000
*                                                                  1030 04412000
@RF01022 SLR   @14,@14                                             1030 04413000
         CR    R5,@14                                              1030 04414000
         BNE   @RT01030                                            1030 04415000
         CR    R0,@14                                              1030 04416000
         BNE   @RF01030                                            1030 04417000
@RT01030 DS    0H                                                  1031 04418000
*         /***********************************************************/ 04419000
*         /*                                                         */ 04420000
*         /* THE PURPOSE OF THE DUMPEED SEGMENT IS TO PLACE DUMP     */ 04421000
*         /* OPTIONS PASSED BY THE INVOKER OF THE ABEND, CALLRTM, OR */ 04422000
*         /* SETRP MACRO INTO EEDS FOR EVENTUAL PROCESSING BY THE    */ 04423000
*         /* RTM2. IF AN ERRORID EXISTS AND HAS NOT BEEN PUT IN AN   */ 04424000
*         /* EED, THE ERRORID IS PUT IN THE EED. THE EEDTYPE WILL BE */ 04425000
*         /* EITHER DUMPOTYP OR ERRIDTYP. THE FORMAT OF DUMP OPTIONS */ 04426000
*         /* WILL BE DIFFERENT IF SET UP BY SETRP THAN BY THE L FORM */ 04427000
*         /* OF THE SNAP MACRO (USED WITH THE CALLRTM AND ABEND      */ 04428000
*         /* MACROS). UPON ENTRY TO THIS SEGMENT, THE DUMPOPTS       */ 04429000
*         /* REGISTER (R5) WILL CONTAIN A POINTER TO THE USER        */ 04430000
*         /* PROVIDED DUMP OPTION PARAMETERS. FOR OTHER INPUT SEE THE*/ 04431000
*         /* SEGMENT PROLOG FOR THE EEDPROC SEGMENT. OUTPUT FROM THIS*/ 04432000
*         /* SEGMENT IS AN EED CONTAINING EITHER DUMP OPTIONS OR AN  */ 04433000
*         /* ERRORID OR BOTH.                                        */ 04434000
*         /*                                                         */ 04435000
*         /***********************************************************/ 04436000
*                                                                  1031 04437000
*         DO;                       /* PROCESS DUMP OPTIONS          */ 04438000
*           RFY                                                    1032 04439000
*            (R0,                   /* GET CONTOL OF GETCELL PARM    */ 04440000
*             R1,                   /* GET CONTROL OF QCELL PARM RG  */ 04441000
*             R15,                  /* GET CONTROL OF QCELL PARM RG  */ 04442000
*             R2,                   /* CLOBBERED BY GETCELL          */ 04443000
*             R3,                   /* CLOBBERED BY GETCELL AND USED    04444000
*                                      AS A WORK REGISTER            */ 04445000
*             R4) RSTD;             /* CLOBBERED BY GETCELL AND USED    04446000
*                                      AS WORK REG                   */ 04447000
*           R0=RT1CPOOL;            /* INDICATE RT1 CELL POOLID      */ 04448000
         L     R0,RT1CPOOL                                         1033 04449000
*           GEN(GETCELL CPID=(0),BRANCH=YES,SAVE=NO);/* ATTEMPT TO 1034 04450000
*                                      GET A CELL FOR THE EED        */ 04451000
         GETCELL CPID=(0),BRANCH=YES,SAVE=NO                            04452000
*           GEN(LA R11,4095(R9));   /* RESTORE BASE REG      @G17EP5W*/ 04453000
*                                                                  1035 04454000
         LA R11,4095(R9)                                                04455000
*           /*********************************************************/ 04456000
*           /*                                                       */ 04457000
*           /* THE FOLLOWING CODE LOCATES THE END OF THE EED CHAIN   */ 04458000
*           /*                                                       */ 04459000
*           /*********************************************************/ 04460000
*                                                                  1036 04461000
*           RFY                                                    1036 04462000
*             EED BASED(R2);        /* GET BASE FOR EED MAPPING      */ 04463000
*           R2=R6;                  /* PRIME EED PTR TO POINT TO THE    04464000
*                                      FIRST EED ON CHAIN            */ 04465000
         LR    R2,R6                                               1037 04466000
*           DO WHILE(EEDFWRDP^=NULL);/* SET UP A LOOP TO SEARCH THE     04467000
*                                      EEDCHAIN UNTIL THE END OF THE    04468000
*                                      CHAIN IS FOUND                */ 04469000
         B     @DE01038                                            1038 04470000
@DL01038 DS    0H                                                  1039 04471000
*             R2=EEDFWRDP;          /* POINT TO NEXT ELEMENT         */ 04472000
         L     R2,EEDFWRDP(,R2)                                    1039 04473000
*           END;                    /* GO SEE IF END OF CHAIN FOUND  */ 04474000
@DE01038 SLR   @14,@14                                             1040 04475000
         C     @14,EEDFWRDP(,R2)                                   1040 04476000
         BNE   @DL01038                                            1040 04477000
*           IF R15^=QCELNORM THEN   /* IF AN EED WASNT ACQUIRED      */ 04478000
         CR    R15,@14                                             1041 04479000
         BE    @RF01041                                            1041 04480000
*             EEDFWRDP=EEDNULL;     /* THEN INDICATE THAT DATA WAS 1042 04481000
*                                      LOST BY MARKING THE FORWARD 1042 04482000
*                                      PTR OF THE LAST CHAINED EED   */ 04483000
         MVC   EEDFWRDP(4,R2),@CF00073                             1042 04484000
*           ELSE                    /* IF AN EED CELL WAS OBTAINED   */ 04485000
*             DO;                   /* FILL IN DUMP INFO             */ 04486000
         B     @RC01041                                            1043 04487000
@RF01041 DS    0H                                                  1044 04488000
*               EEDFWRDP=R1;        /* ENQUEUE THE NEW CELL          */ 04489000
         ST    R1,EEDFWRDP(,R2)                                    1044 04490000
*               RFY                                                1045 04491000
*                 EED BASED(R1);    /* CHANGE EED MAPPING MACRO BASE    04492000
*                                      TO USE NEW CELL               */ 04493000
*               EED=''B;            /* ZERO OUT ENTIRE EED           */ 04494000
         XC    EED(92,R1),EED(R1)                                  1046 04495000
*               IF R5^=NULL THEN    /* CHEK IF DUMP OPTIONS@G17EP5W  */ 04496000
         LTR   R5,R5                                               1047 04497000
         BZ    @RF01047                                            1047 04498000
*                 DO;               /* ADD THEM TO EED       @G17EP5W*/ 04499000
*                   EEDID=DUMPOTYP; /* INDICATE EED CONTAINS DUMP  1049 04500000
*                                      OPTIONS                       */ 04501000
         MVI   EEDID(R1),X'02'                                     1049 04502000
*                   RFY                                            1050 04503000
*                    (R4) RSTD;     /* RESTRICT REG          @G17EP5W*/ 04504000
*                   R4=(R8-LENGTH(RT1TRECC))->RT1TREGS(5);/* RELOAD     04505000
*                                      BASE PTR TO TRACKING AREA     */ 04506000
         L     R4,RT1TREGS+12(,R8)                                 1051 04507000
*                   IF(RT1TENPT>=SLIHLOW&/* IF RTM IS RUNNING IN     */ 04508000
*                       RT1TENPT<=SLIHHI) THEN/* SLIH MODE           */ 04509000
         CLI   RT1TENPT(R4),1                                      1052 04510000
         BL    @RF01052                                            1052 04511000
         CLI   RT1TENPT(R4),9                                      1052 04512000
         BH    @RF01052                                            1052 04513000
*                     R0=NULL;      /* SET INDICATOR         @G17EP5W*/ 04514000
         SLR   R0,R0                                               1053 04515000
*                   ELSE            /*                       @G17EP5W*/ 04516000
*                     R0=TAKEEXIT;  /*                       @G17EP5W*/ 04517000
         B     @RC01052                                            1054 04518000
@RF01052 LA    R0,30                                               1054 04519000
*                   RFY                                            1055 04520000
*                     R4 UNRSTD;    /* FREE FOR COMPILER     @G17EP5W*/ 04521000
@RC01052 DS    0H                                                  1056 04522000
*                   IF R0=NULL&     /*                       @G17EP5W*/ 04523000
*                       RT1WRTCA^=NULL THEN/* AND SRM WAS INVOKED  1056 04524000
*                                      THEN                          */ 04525000
         SLR   @14,@14                                             1056 04526000
         CR    R0,@14                                              1056 04527000
         BNE   @RF01056                                            1056 04528000
         L     @04,PSACSTK                                         1056 04529000
         C     @14,RT1WRTCA(,@04)                                  1056 04530000
         BE    @RF01056                                            1056 04531000
*                     EEDDUMPO=DUMPARMS;/* COPY DUMP OPTS FROM SDWA  */ 04532000
         MVC   EEDDUMPO(44,R1),DUMPARMS(R5)                        1057 04533000
*                   ELSE            /* IF DUMP PARMS DID NOT COME  1058 04534000
*                                      FROM AN FRR                   */ 04535000
*                     DO;           /* PROCESS SNAP FORMAT DUMPOPTS  */ 04536000
         B     @RC01056                                            1058 04537000
@RF01056 DS    0H                                                  1059 04538000
*                       EEDSCDMP=SNPCDMP;/* MOVE IN COMMON SECTION OF   04539000
*                                      SNAP PARMS                    */ 04540000
         MVC   EEDSCDMP(8,R1),SNPCDMP(R5)                          1059 04541000
*                       IF SNPSLIST='1'B THEN/* IF STORAGE RANGES  1060 04542000
*                                      PROVIDED                      */ 04543000
         TM    SNPSLIST(R5),B'00000010'                            1060 04544000
         BNO   @RF01060                                            1060 04545000
*                         DO;       /* MOVE THEM INTO THE EED        */ 04546000
*                           RFY                                    1062 04547000
*                             R3 RSTD;/* RESTRICT REG        @G17EP5W*/ 04548000
*                           DO R3=FIRST/* CALCULATE AMOUNT TO MOVE BY   04549000
*                                      INITIALIZING LENGTH TO THE  1063 04550000
*                                      FIRST PAIR            @YM02799*/ 04551000
*                                 BY ONE/* SET LOOP INCREMENT      1063 04552000
*                                                            @YM02799*/ 04553000
*                                 WHILE(STOREND(R3)='0'B/* UNTIL THE    04554000
*                                      END OF LIST IS DETECTED     1063 04555000
*                                                            @YM02799*/ 04556000
*                                 &R3<DIM(LISTPAIR));/* OR THE     1063 04557000
*                                      MAXIMUM NUMBER OF STORAGE   1063 04558000
*                                      RANGES IS REACHED     @YM02799*/ 04559000
         LA    R3,1                                                1063 04560000
         B     @DE01063                                            1063 04561000
@DL01063 DS    0H                                                  1064 04562000
*                           END;    /* END OF SEARCH LOOP    @YM02799*/ 04563000
         AL    R3,@CF00073                                         1064 04564000
@DE01063 LR    @14,R3                                              1064 04565000
         SLA   @14,3                                               1064 04566000
         L     @04,SNPSTOR(,R5)                                    1064 04567000
         ALR   @04,@14                                             1064 04568000
         AL    @04,@CF03680                                        1064 04569000
         TM    STOREND-4(@04),B'10000000'                          1064 04570000
         BNZ   @DC01063                                            1064 04571000
         CH    R3,@CH00134                                         1064 04572000
         BL    @DL01063                                            1064 04573000
@DC01063 DS    0H                                                  1065 04574000
*                           R3=R3*LENGTH(LISTPAIR);/* CONVERT THE  1065 04575000
*                                      NUMBER OF PAIRS TO BYTES      */ 04576000
         SLL   R3,3                                                1065 04577000
*                           EEDSDPSL(FIRST:R3)=STORLIST(FIRST:R3);/*    04578000
*                                      MOVE IN STORAGE RANGE LIST    */ 04579000
         LR    @14,R3                                              1066 04580000
         BCTR  @14,0                                               1066 04581000
         L     @04,SNPSTOR(,R5)                                    1066 04582000
         EX    @14,@SM03681                                        1066 04583000
*                         END;      /* END STORAGE RANGE PROCESSING  */ 04584000
*                     END;          /* END SNAP FORMAT PROCESSING    */ 04585000
@RF01060 DS    0H                                                  1069 04586000
*                 END;              /* END DUMPOPT PROCESS   @G17EP5W*/ 04587000
*                                                                  1069 04588000
@RC01056 DS    0H                                                  1070 04589000
*               /*****************************************************/ 04590000
*               /*                                                   */ 04591000
*               /* PUT ERRORID IN EED IF APPLICABLE                  */ 04592000
*               /*                                                   */ 04593000
*               /*****************************************************/ 04594000
*                                                                  1070 04595000
*               RFY                                                1070 04596000
*                (R4) RSTD;         /* RESTRICT REG          @G17EP5W*/ 04597000
@RF01047 DS    0H                                                  1071 04598000
*               R4=(R8-LENGTH(RT1TRECC))->RT1TREGS(5);/* RELOAD BASE    04599000
*                                      PTR TO TRACKING AREA  @G17EP5W*/ 04600000
         L     R4,RT1TREGS+12(,R8)                                 1071 04601000
*               IF(RT1TENPT>=SLIHLOW&/* IF RTM IS RUNNING IN SLIH    */ 04602000
*                   RT1TENPT<=SLIHHI) THEN/* MODE CHECK FOR  @G17EP5W*/ 04603000
         CLI   RT1TENPT(R4),1                                      1072 04604000
         BL    @RF01072                                            1072 04605000
         CLI   RT1TENPT(R4),9                                      1072 04606000
         BH    @RF01072                                            1072 04607000
*                 R0=NULL;          /* AN ERRORID            @G17EP5W*/ 04608000
         SLR   R0,R0                                               1073 04609000
*               ELSE                /* OTHERWISE SKIP        @G17EP5W*/ 04610000
*                 R0=TAKEEXIT;      /* THIS SECTION          @G17EP5W*/ 04611000
         B     @RC01072                                            1074 04612000
@RF01072 LA    R0,30                                               1074 04613000
*               RFY                                                1075 04614000
*                 R4 UNRSTD;        /* FREE FOR COMPILER     @G17EP5W*/ 04615000
@RC01072 DS    0H                                                  1076 04616000
*               IF R0=NULL THEN     /*                       @G17EP5W*/ 04617000
         SLR   @14,@14                                             1076 04618000
         CR    R0,@14                                              1076 04619000
         BNE   @RF01076                                            1076 04620000
*                 IF((RT1WEREX=OFF)&/* NO ERRORID IN EED &   @G17EP5W*/ 04621000
*                     (RT1WRTCA^=NULL)&/* SDWA EXISTS WITH   @G17EP5W*/ 04622000
*                     (RT1WRTCA->SDWAERFL=ON)) THEN/* AN ERRORID THEN   04623000
*                                                            @G17EP5W*/ 04624000
         L     @04,PSACSTK                                         1077 04625000
         TM    RT1WEREX(@04),B'00001000'                           1077 04626000
         BNZ   @RF01077                                            1077 04627000
         L     @04,RT1WRTCA(,@04)                                  1077 04628000
         CR    @04,@14                                             1077 04629000
         BE    @RF01077                                            1077 04630000
         TM    SDWAERFL(@04),B'00000001'                           1077 04631000
         BNO   @RF01077                                            1077 04632000
*                   DO;             /* MOVE IT TO EED        @G17EP5W*/ 04633000
*                     R2=RT1WRTCA;  /* ADDR.OF SDWA          @G17EP5W*/ 04634000
         LR    R2,@04                                              1079 04635000
*                     RFY                                          1080 04636000
*                       SDWA BASED(R2);/* SDWA ADDRESSABILITY      1080 04637000
*                                                            @G17EP5W*/ 04638000
*                     EEDESEQ#=SDWASEQ#;/* SEQUENCE NUM      @G17EP5W*/ 04639000
         MVC   EEDESEQ#(2,R1),SDWASEQ#(R2)                         1081 04640000
*                     IF(SDWAFMID^=NULL)&/* IF ERROR MEM.^CUR      1082 04641000
*                                                            @G17EP5W*/ 04642000
*                         (SDWAFMID^=INVLASID) THEN/* AND VALID THEN    04643000
*                                                            @G17EP5W*/ 04644000
         SLR   @04,@04                                             1082 04645000
         ICM   @04,3,SDWAFMID(R2)                                  1082 04646000
         CR    @14,@04                                             1082 04647000
         BE    @RF01082                                            1082 04648000
         CLC   SDWAFMID(2,R2),@CB00207                             1082 04649000
         BE    @RF01082                                            1082 04650000
*                       EEDEASID=SDWAFMID;/* USE ERROR ASID  @G17EP5W*/ 04651000
         MVC   EEDEASID(2,R1),SDWAFMID(R2)                         1083 04652000
*                     ELSE          /* ELSE USE CURRENT      @G17EP5W*/ 04653000
*                       EEDEASID=PSAAOLD->ASCBASID;/* ASID   @G17EP5W*/ 04654000
         B     @RC01082                                            1084 04655000
@RF01082 L     @14,PSAAOLD                                         1084 04656000
         MVC   EEDEASID(2,R1),ASCBASID(@14)                        1084 04657000
*                     EEDECPUI=SDWACPUI;/* LOGICAL CPUID     @G17EP5W*/ 04658000
@RC01082 SLR   @14,@14                                             1085 04659000
         IC    @14,SDWACPUI(,R2)                                   1085 04660000
         STH   @14,EEDECPUI(,R1)                                   1085 04661000
*                     EEDETIME=SDWAERTM;/* TIME STAMP        @G17EP5W*/ 04662000
         MVC   EEDETIME(4,R1),SDWAERTM(R2)                         1086 04663000
*                     EEDERFL=ON;   /* SET ERRORID FLAG ON   @G17EP5W*/ 04664000
         OI    EEDERFL(R1),B'10000000'                             1087 04665000
*                     IF EEDID^=DUMPOTYP THEN/* IF DUMPOPTS^IN EED 1088 04666000
*                                                            @G17EP5W*/ 04667000
         CLI   EEDID(R1),2                                         1088 04668000
         BE    @RF01088                                            1088 04669000
*                       EEDID=ERRIDTYP;/* THEN MARK AS ERRORID     1089 04670000
*                                                            @G17EP5W*/ 04671000
         MVI   EEDID(R1),X'04'                                     1089 04672000
*                     RFY                                          1090 04673000
*                       SDWA BASED; /* REMOVE R2 SDWA ADDR   @G17EP5W*/ 04674000
@RF01088 DS    0H                                                  1091 04675000
*                   END;            /* END ERRORID PROCESS   @G17EP5W*/ 04676000
*               RFY                                                1092 04677000
*                (R4) RSTD;         /* RESTRICT REG          @G17EP5W*/ 04678000
@RF01077 DS    0H                                                  1092 04679000
@RF01076 DS    0H                                                  1093 04680000
*             END;                  /* END FILLING IN OF EED         */ 04681000
*         END;                      /* END DUMPOPTS PROCESSING       */ 04682000
@RC01041 DS    0H                                                  1095 04683000
*     END;                          /* END NON FORCED EXIT PROCESSN  */ 04684000
@RF01030 DS    0H                                                  1096 04685000
*   GEN(LM R0,R4,0(R8));            /* RESTORE CALLERS REGS          */ 04686000
@RF01017 DS    0H                                                  1096 04687000
         LM R0,R4,0(R8)                                                 04688000
*   IF RT1TENPT>=SLIHLOW&           /* IF THE RTM1 IS OPERATING IN   */ 04689000
*       RT1TENPT<=SLIHHI THEN       /* SECOND LEV INTERRUPT HANDLR   */ 04690000
         CLI   RT1TENPT(R4),1                                      1097 04691000
         BL    @RF01097                                            1097 04692000
         CLI   RT1TENPT(R4),9                                      1097 04693000
         BH    @RF01097                                            1097 04694000
*     DO;                           /*                       @G33NPHE*/ 04695000
*       RT1WEREX=OFF;               /* SET TEMP FLAG OFF     @G17EP5W*/ 04696000
         L     @14,PSACSTK                                         1099 04697000
         NI    RT1WEREX(@14),B'11110111'                           1099 04698000
*       IF RT1NODMP=ON              /* CHECK TO SEE IF SLIP HAS    1100 04699000
*                                      SPECIFIED DUMP SUPPRESSION  1100 04700000
*                                                            @G33NPHE*/ 04701000
*           &R6^=NULL               /* AND THAT THE EED PTR IS GOOD     04702000
*                                                            @G33NPHE*/ 04703000
*           &R6^=EEDNULL            /* AND ALSO THAT THERE IS AN EED    04704000
*                                      AVAILABLE             @G33NPHE*/ 04705000
*         THEN                      /* IF ALL THIS IS TRUE FORWARD 1100 04706000
*                                      THE DUMP SUPPRESSION        1100 04707000
*                                      SPECIFICATION INTO THE EED  1100 04708000
*                                                            @G33NPHE*/ 04709000
         TM    RT1NODMP(@14),B'00000100'                           1100 04710000
         BNO   @RF01100                                            1100 04711000
         LTR   R6,R6                                               1100 04712000
         BZ    @RF01100                                            1100 04713000
         CH    R6,@CH00073                                         1100 04714000
         BE    @RF01100                                            1100 04715000
*         R6->EEDNODMP=ON;          /* PASS SLIP NODUMP TO RTM2    1101 04716000
*                                                            @G33NPHE*/ 04717000
         OI    EEDNODMP(R6),B'01000000'                            1101 04718000
*     END;                          /*                       @G33NPHE*/ 04719000
@RF01100 DS    0H                                                  1103 04720000
*   RFY                                                            1103 04721000
*     R14 RSTD;                     /* GET CONTROL OF RETURN REG     */ 04722000
@RF01097 DS    0H                                                  1104 04723000
*   R14=R10;                        /* REPLACE ORIGINAL VALUE        */ 04724000
         LR    R14,R10                                             1104 04725000
*   RFY                                                            1105 04726000
*     R10 UNRSTD;                   /* RELEASE REG CONTAINING RETURN    04727000
*                                      VALUE                         */ 04728000
*   END;                            /* RETURN TO CALLER              */ 04729000
@EL00002 DS    0H                                                  1106 04730000
@EF00002 DS    0H                                                  1106 04731000
@ER00002 BR    @14                                                 1106 04732000
*ASIDCK:                                                           1107 04733000
*                                                                  1107 04734000
*   /*****************************************************************/ 04735000
*   /*                                                               */ 04736000
*   /* THE PURPOSE FOR THE ASIDCK SEGMENT IS TO VERIFY THAT AN ASID  */ 04737000
*   /* INPUTTED TO THE RTM1 REPRESENTS A VALID VIABLE ADDRESS SPACE. */ 04738000
*   /* THIS SEGMENT IS IMPLEMENTED AS A CLOSED NESTED SUBROUTINE     */ 04739000
*   /* SINCE IT IS CALLED FROM TWO DIFFERENT SEGMENTS IN THE         */ 04740000
*   /* RESCHEDULE FUNCTION (I.E. VIA MEMTERM AND XMABTRM). INPUT IS  */ 04741000
*   /* AS FOLLOWS: TARGASID REGISTER (R2) - CONTAINS THE ASID TO BE  */ 04742000
*   /* VALIDITY CHECKED OR THE VALUE 0 REPRESENTING CURRENT ADDRESS  */ 04743000
*   /* SPACE OUTPUT IS AS FOLLOWS: FUNCTION REGISTER (R0) - SET TO AN*/ 04744000
*   /* EXIT INDICATION IF ANY OF THE VALIDITY CHECKS FAILED. ASCBADDR*/ 04745000
*   /* REGISTER (R8) - SET TO THE ADDRESS OF THE ASCB FOR THE GIVEN  */ 04746000
*   /* ASID. TARGASID REGISTER (R2) - SET TO THE ASID OF THE CURRENT */ 04747000
*   /* ADDRESS SPACE IF THE VALUE WAS ZERO ON ENTRY                  */ 04748000
*   /*                                                               */ 04749000
*   /*****************************************************************/ 04750000
*                                                                  1107 04751000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               1107 04752000
ASIDCK   DS    0H                                                  1108 04753000
*   RFY                                                            1108 04754000
*    (R0,                           /* PRESERVED FOR CALLER          */ 04755000
*     R1,                           /* PRESERVED FOR CALLER          */ 04756000
*     R2,                           /* PRESERVED FOR CALLER          */ 04757000
*     R3,                           /* PRESERVED FOR CALLER          */ 04758000
*     R4,                           /* PRESERVED FOR CALLER          */ 04759000
*     R5,                           /* PRESERVED FOR CALLER          */ 04760000
*     R6,                           /* PRESERVED FOR CALLER          */ 04761000
*     R8,                           /* OUTPUT FOR CALLER             */ 04762000
*     R12,                          /* PRESERVED FOR CALLER          */ 04763000
*     R13,                          /* PRESERVED FOR CALLER          */ 04764000
*     R14) RSTD;                    /* PRESERVED FOR CALLER          */ 04765000
*   RFY                                                            1109 04766000
*    (R10,                          /* AVAILABLE FOR COMPILERS USE   */ 04767000
*     R15) UNRSTD;                  /* AVAILABLE FOR COMPILERS USE   */ 04768000
*   IF R2=NULL THEN                 /* IF RTM1 IS TO BE SCHEDULED  1110 04769000
*                                      INTO THE CURRENT ADDR SPACE   */ 04770000
         LTR   R2,R2                                               1110 04771000
         BNZ   @RF01110                                            1110 04772000
*     R2=PSAAOLD->ASCBASID;         /* GET PROPER ID FOR CURRENT     */ 04773000
*                                                                  1111 04774000
         L     @15,PSAAOLD                                         1111 04775000
         SLR   R2,R2                                               1111 04776000
         ICM   R2,3,ASCBASID(@15)                                  1111 04777000
*   /*****************************************************************/ 04778000
*   /*                                                               */ 04779000
*   /* NOTE: IF THE ASVT IS BEING USED WITHOUT HOLDING THE LOCK AND  */ 04780000
*   /* IF THE ADDRESS SPACE IS CURRENTLY IN DELETE PROCESSING, IT IS */ 04781000
*   /* POSSIBLE THE VALIDITY CHECKS WILL APPEAR VALID, EVEN THOUGH   */ 04782000
*   /* THE ADDRESS SPACE IS LOGICALLY TERMINATED.                    */ 04783000
*   /*                                                               */ 04784000
*   /*****************************************************************/ 04785000
*                                                                  1112 04786000
*   RFY                                                            1112 04787000
*     R8 RSTD;                      /* THE FOLLOWING USE OF R8 IS TO    04788000
*                                      BYPASS A PROBLEM WITH PLS   1112 04789000
*                                      REGISTER HISTORY. SINCE THE 1112 04790000
*                                      INDEX VALUE FOR THE ASVT ARRAY   04791000
*                                      IS DYNAMICALLY CALCULATED BY     04792000
*                                      PLS, IT STORES THE VALUE IN A    04793000
*                                      TEMP AREA FOR USE IN THE    1112 04794000
*                                      SECOND ARRAY REFERENCE. THIS     04795000
*                                      MODULE CANNOT HAVE TEMP AREAS    04796000
*                                      FOR PLS, THERE- FORE, A     1112 04797000
*                                      DIFFERENT VALUE (R8) IS USED     04798000
*                                      FOR THE THE SECOND ARRAY INDEX   04799000
*                                      EVEN THOUGH IT IS EQUAL TO THE   04800000
*                                      ASID REG.                     */ 04801000
@RF01110 DS    0H                                                  1113 04802000
*   R8=R2;                          /* ASSIGN DUPLICATE INDEX (SEE 1113 04803000
*                                      COMMENT ABOVE)                */ 04804000
         LR    R8,R2                                               1113 04805000
*   IF R2>ASVTMAXU|                 /* IF THE ASID IS NOT WITHIN THE    04806000
*                                      RANGE OF VALID ASIDS, OR      */ 04807000
*       ASVTAVAL(R2)='1'B|          /* THE ASID IS NOT CURRENTLY   1114 04808000
*                                      ASSIGNED                      */ 04809000
*       ASVTENTY(R8)->ASCBASCB^=ASCBID THEN/* OR THE ASVT ENTRY DOES    04810000
*                                      NOT PT TO A VALID ASCB, THEN  */ 04811000
         L     @15,CVTPTR                                          1114 04812000
         L     @15,CVTASVT(,@15)                                   1114 04813000
         C     R2,ASVTMAXU(,@15)                                   1114 04814000
         BH    @RT01114                                            1114 04815000
         LR    @10,R2                                              1114 04816000
         SLA   @10,2                                               1114 04817000
         ALR   @10,@15                                             1114 04818000
         TM    ASVTAVAL-4(@10),B'10000000'                         1114 04819000
         BO    @RT01114                                            1114 04820000
         LR    @10,R8                                              1114 04821000
         SLA   @10,2                                               1114 04822000
         L     @15,ASVTENTY-4(@10,@15)                             1114 04823000
         CLC   ASCBASCB(4,@15),@CC00203                            1114 04824000
         BE    @RF01114                                            1114 04825000
@RT01114 DS    0H                                                  1115 04826000
*     R0=TAKEEXIT;                  /* TERMINATE FURTHER PROCESSING  */ 04827000
         LA    R0,30                                               1115 04828000
*   ELSE                            /* OTHERWISE, IF ASID IS VALID   */ 04829000
*     DO;                                                          1116 04830000
         B     @RC01114                                            1116 04831000
@RF01114 DS    0H                                                  1117 04832000
*       R8=ASVTENTY(R2);            /* PUT THE ASCB ADDRESS        1117 04833000
*                                      ASSOCIATED WITH THE GIVEN ASID   04834000
*                                      IN A WORK REGISTER FOR      1117 04835000
*                                      SUBSEQUENT PROCESSING         */ 04836000
         LR    @15,R2                                              1117 04837000
         SLA   @15,2                                               1117 04838000
         L     @10,CVTPTR                                          1117 04839000
         L     @10,CVTASVT(,@10)                                   1117 04840000
         L     R8,ASVTENTY-4(@15,@10)                              1117 04841000
*       R12->RT1TREGS(FIVE)=R8;     /* CHECKPOINT REG8 VALUE         */ 04842000
         ST    R8,RT1TREGS+16(,R12)                                1118 04843000
*     END;                                                         1119 04844000
*   END ASIDCK;                     /* END VALIDITY CHECKING         */ 04845000
*                                                                  1120 04846000
@EL00003 DS    0H                                                  1120 04847000
@EF00003 DS    0H                                                  1120 04848000
@ER00003 BR    @14                                                 1120 04849000
*   /*****************************************************************/ 04850000
*   /*                                                               */ 04851000
*   /* THE PURPOSE OF THE STATUSET SEGMENT IS TO INTERFACE WITH THE  */ 04852000
*   /* STATUS ROUTINE TO FORCE A TASK DISPATCHABLE. THE STATUSET     */ 04853000
*   /* SEGMENT IS IMPLEMENTED AS A CLOSED SUBROUTINE AND IS CALLED   */ 04854000
*   /* FROM TWO DIFFERENT PLACES IN THE SCHDRTM2 FUNCTION OF THE     */ 04855000
*   /* RTM1. INPUT TO THIS SEGMENT IS AS FOLLOWS: TARGTCB REGISTER   */ 04856000
*   /* (R3) - CONTAINS POINTER TO THE TCB TO BE PROCESSED. TRAKAREA  */ 04857000
*   /* REGISTER (R4) - CONTAINS POINTER TO AN AREA FOR TRACKING. THIS*/ 04858000
*   /* AREA WILL CONTAIN AN INDICATION OF THE ORIGINAL ENTRY POINT   */ 04859000
*   /* EMPLOYED BY THE CALLER OF RTM1. IF THIS INDICATION IS A SLIH  */ 04860000
*   /* MODE ENTRY POINT THEN THE RTM1WA ASSOCIATED WITH THE CURRENT  */ 04861000
*   /* RECOVERY STACK WILL ALSO CONTAIN INPUT TO THE RTM. (I.E. PSW  */ 04862000
*   /* AT TIME OF ERROR AND POINTER TO AN RTCA IF SRM HAD BEEN CALLED*/ 04863000
*   /* TO SERVICE THE ERROR.) RECVREGS REGISTER (R12) - CONTAINS A   */ 04864000
*   /* PTR TO THE SECONDARY TRACKING AREA USED TO CHECKPOINT RECOVERY*/ 04865000
*   /* INFORMATION. REGS R0-R2, R5-R7, R13 ARE NOT USED AS INPUT, BUT*/ 04866000
*   /* THEIR CONTENTS ARE PRESERVED. REGS R8 AND R10 ARE CONSIDERED  */ 04867000
*   /* AVAILABLE AS WORK REGISTERS.                                  */ 04868000
*   /*                                                               */ 04869000
*   /*****************************************************************/ 04870000
*                                                                  1121 04871000
*STATUSET:                                                         1121 04872000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               1121 04873000
STATUSET DS    0H                                                  1122 04874000
*   RFY                                                            1122 04875000
*    (R0,                           /* PRESERVED FOR CALLER          */ 04876000
*     R1,                           /* PRESERVED FOR CALLER          */ 04877000
*     R2,                           /* PRESERVED FOR CALLER          */ 04878000
*     R3,                           /* PRESERVED FOR CALLER          */ 04879000
*     R4,                           /* PRESERVED FOR CALLER          */ 04880000
*     R5,                           /* PRESERVED FOR CALLER          */ 04881000
*     R6,                           /* PRESERVED FOR CALLER          */ 04882000
*     R7,                           /* PRESERVED FOR CALLER          */ 04883000
*     R12,                          /* PRESERVED FOR CALLER          */ 04884000
*     R13,                          /* PRESERVED FOR CALLER          */ 04885000
*     R14) RSTD;                    /* PRESERVED FOR CALLER          */ 04886000
*   RFY                                                            1123 04887000
*     R10 RSTD;                     /* GET CONTROL OF REG FOR SAVING    04888000
*                                      R14S ORIG VALUE               */ 04889000
*   R10=R14;                        /* PRESERVE RETURN PT VALUE      */ 04890000
         LR    R10,R14                                             1124 04891000
*   RFY                                                            1125 04892000
*     R14 UNRSTD;                   /* ALLOW CPLR TO USE R14         */ 04893000
*   RFY                                                            1126 04894000
*     RT1TRACK BASED(R4);           /* REESTABLISH BASE FOR TRACKNG  */ 04895000
*                                                                  1126 04896000
*   /*****************************************************************/ 04897000
*   /*                                                               */ 04898000
*   /* NOTE STATCODE (R0), STATTCB (R1) AND STATMASK (R13) ARE       */ 04899000
*   /* ALREADY CHECKPOINTED INTO THE PARM AREAS.                     */ 04900000
*   /*                                                               */ 04901000
*   /*****************************************************************/ 04902000
*                                                                  1127 04903000
*   R0=S2NDARYD;                    /* PUT FUNCTION CODE IN REG      */ 04904000
         LA    R0,11                                               1127 04905000
*   R1=R3|HEX8ZERO;                 /* PUT ADDRESS OF TCB IN REG AND    04906000
*                                      TURN ON HIGH ORDER BIT        */ 04907000
         LR    R1,R3                                               1128 04908000
         O     R1,@CF00224                                         1128 04909000
*   R13=SECRYDF;                    /* PUT 2NDARY DISP FLAG IN REG   */ 04910000
         L     R13,SECRYDF                                         1129 04911000
*   CALL STATUS;                    /* RESET 2NDARY DISP FLAGS       */ 04912000
         L     @14,CVTPTR                                          1130 04913000
         L     @14,CVTABEND(,@14)                                  1130 04914000
         L     @15,SCVTSTAT(,@14)                                  1130 04915000
         BALR  @14,@15                                             1130 04916000
*   GEN(LA R11,4095(R9));           /* RESTORE BASE REG      @G17EP5W*/ 04917000
         LA R11,4095(R9)                                                04918000
*   R13=NULL;                       /* INDICATE CURRENT ASID         */ 04919000
         SLR   R13,R13                                             1132 04920000
*   R0=PRIMRYDF;                    /* PUT PRIMARY DISP FLAG IN REG  */ 04921000
         L     R0,PRIMRYDF                                         1133 04922000
*   R1=R3|HEX8ZERO;                 /* PUT ADDRESS OF TCB IN REG AND    04923000
*                                      TURN HIGH ORDER BIT ON        */ 04924000
         LR    R1,R3                                               1134 04925000
         O     R1,@CF00224                                         1134 04926000
*   CALL STATUS;                    /* RESET PRIMARY DISP BITS       */ 04927000
         L     @14,CVTPTR                                          1135 04928000
         L     @14,CVTABEND(,@14)                                  1135 04929000
         L     @15,SCVTSTAT(,@14)                                  1135 04930000
         BALR  @14,@15                                             1135 04931000
*   GEN(LA R11,4095(R9));           /* RESTORE BASE REG      @G17EP5W*/ 04932000
         LA R11,4095(R9)                                                04933000
*   R0=RT1TREGS(ONE);               /* RESTORE ORIGINAL REG CONTENT  */ 04934000
         L     R0,RT1TREGS(,R4)                                    1137 04935000
*   R1=RT1TREGS(TWO);               /* RESTORE ORIGINAL REG CONTENT  */ 04936000
         L     R1,RT1TREGS+4(,R4)                                  1138 04937000
*   R13=R12->RT1TREGS(ONE);         /* RESTORE ORIGINAL REG CONTENT  */ 04938000
         L     R13,RT1TREGS(,R12)                                  1139 04939000
*   RFY                                                            1140 04940000
*     R14 RSTD;                     /* GET CONTROL OF RETURN REG     */ 04941000
*   R14=R10;                        /* REPLACE ORIGINAL VALUE        */ 04942000
         LR    R14,R10                                             1141 04943000
*   RFY                                                            1142 04944000
*     R10 UNRSTD;                   /* RELEASE REG CONTAINING RETURN    04945000
*                                      VALUE                         */ 04946000
*   END;                            /* RETURN TO CALLER              */ 04947000
@EL00004 DS    0H                                                  1143 04948000
@EF00004 DS    0H                                                  1143 04949000
@ER00004 BR    @14                                                 1143 04950000
@PB00004 DS    0H                                                  1144 04951000
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */ 04952000
*     GPR00F FIXED(31) REG(0),                                     1144 04953000
*     GPR01F FIXED(31) REG(1),                                     1144 04954000
*     GPR03F FIXED(31) REG(3);                                     1144 04955000
*   DECLARE                         /* COMMON VARIABLES              */ 04956000
*     I256C CHAR(256) BASED,                                       1145 04957000
*     I031F FIXED(31) BASED,                                       1145 04958000
*     I031P PTR(31) BASED,                                         1145 04959000
*     I015F FIXED(15) BASED,                                       1145 04960000
*     I015P PTR(15) BASED,                                         1145 04961000
*     I008P PTR(8) BASED,                                          1145 04962000
*     I001C CHAR(1) BASED;          /* DCLD DATA FOR PLS MACROS      */ 04963000
*   RETURN TO IEAVTRTZ;             /* EXIT                          */ 04964000
         L     @14,@CV00151                                        1146 04965000
@EL00001 DS    0H                                                  1146 04966000
@EF00001 DS    0H                                                  1146 04967000
@ER00001 BR    @14                                                 1146 04968000
*   END IEAVTRTM                    /* END OF EXTERNAL PROCEDURE     */ 04969000
*                                                                  1147 04970000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 04971000
*/*%INCLUDE SYSUT5  (RTMSPEC )                                       */ 04972000
*/*%INCLUDE SYSUT5  (RTMDCL  )                                       */ 04973000
*/*%INCLUDE SYSLIB  (IHART1W )                                       */ 04974000
*/*%INCLUDE SYSLIB  (IHARTCT )                                       */ 04975000
*/*%INCLUDE SYSLIB  (IHARB   )                                       */ 04976000
*/*%INCLUDE SYSLIB  (IKJRB   )                                       */ 04977000
*/*%INCLUDE SYSLIB  (IKJTCB  )                                       */ 04978000
*/*%INCLUDE SYSLIB  (IHASCVT )                                       */ 04979000
*/*%INCLUDE SYSLIB  (IHAASCB )                                       */ 04980000
*/*%INCLUDE SYSLIB  (IHAASXB )                                       */ 04981000
*/*%INCLUDE SYSLIB  (IHALCCAT)                                       */ 04982000
*/*%INCLUDE SYSLIB  (IHALCCA )                                       */ 04983000
*/*%INCLUDE SYSLIB  (IHACSD  )                                       */ 04984000
*/*%INCLUDE SYSLIB  (IHAPCCAT)                                       */ 04985000
*/*%INCLUDE SYSLIB  (IHAASVT )                                       */ 04986000
*/*%INCLUDE SYSLIB  (IHASSRB )                                       */ 04987000
*/*%INCLUDE SYSLIB  (IHASRB  )                                       */ 04988000
*/*%INCLUDE SYSLIB  (IHAIHSA )                                       */ 04989000
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */ 04990000
*/*%INCLUDE SYSLIB  (IHAFRRS )                                       */ 04991000
*/*%INCLUDE SYSLIB  (IHASDWA )                                       */ 04992000
*/*%INCLUDE SYSLIB  (IHASNP  )                                       */ 04993000
*/*%INCLUDE SYSLIB  (IHASHDR )                                       */ 04994000
*/*%INCLUDE SYSLIB  (CVT     )                                       */ 04995000
*/*%INCLUDE SYSUT5  (REFRESH )                                       */ 04996000
*/*%INCLUDE SYSUT5  (RECURSE )                                       */ 04997000
*/*%INCLUDE SYSUT5  (RECSPROL)                                       */ 04998000
*/*%INCLUDE SYSUT5  (SYSTATE )                                       */ 04999000
*/*%INCLUDE SYSUT5  (SYSRCVR )                                       */ 05000000
*/*%INCLUDE SYSUT5  (DATPERC )                                       */ 05001000
*/*%INCLUDE SYSUT5  (SRBPERC )                                       */ 05002000
*/*%INCLUDE SYSUT5  (SETUPABT)                                       */ 05003000
*/*%INCLUDE SYSUT5  (RESCHED )                                       */ 05004000
*/*%INCLUDE SYSUT5  (RESCPU  )                                       */ 05005000
*/*%INCLUDE SYSUT5  (XMABTRM )                                       */ 05006000
*/*%INCLUDE SYSUT5  (GETANSRB)                                       */ 05007000
*/*%INCLUDE SYSUT5  (RESMODE )                                       */ 05008000
*/*%INCLUDE SYSUT5  (SCHDRTM2)                                       */ 05009000
*/*%INCLUDE SYSUT5  (VALIDCK )                                       */ 05010000
*/*%INCLUDE SYSUT5  (CKNONCUR)                                       */ 05011000
*/*%INCLUDE SYSUT5  (VALDCKRB)                                       */ 05012000
*/*%INCLUDE SYSUT5  (TCBRB   )                                       */ 05013000
*/*%INCLUDE SYSUT5  (SCHDRTM1)                                       */ 05014000
*/*%INCLUDE SYSUT5  (MEMTERM )                                       */ 05015000
*/*%INCLUDE SYSUT5  (CHKSLIP )                                       */ 05016000
*/*%INCLUDE SYSUT5  (WAKEMTC )                                       */ 05017000
*/*%INCLUDE SYSUT5  (EXIT    )                                       */ 05018000
*/*%INCLUDE SYSUT5  (EXITREGS)                                       */ 05019000
*/*%INCLUDE SYSUT5  (SYSCLEAN)                                       */ 05020000
*/*%INCLUDE SYSUT5  (NOPERCEX)                                       */ 05021000
*/*%INCLUDE SYSUT5  (EEDPROC )                                       */ 05022000
*/*%INCLUDE SYSUT5  (OLDEEDS )                                       */ 05023000
*/*%INCLUDE SYSUT5  (NEWEEDS )                                       */ 05024000
*/*%INCLUDE SYSUT5  (DUMPEED )                                       */ 05025000
*/*%INCLUDE SYSUT5  (ASIDCK  )                                       */ 05026000
*/*%INCLUDE SYSUT5  (STATUSET)                                       */ 05027000
*                                                                  1147 05028000
*       ;                                                          1147 05029000
@DATA    DS    0H                                                       05030000
@CH00142 DC    H'2'                                                     05031000
@CH00134 DC    H'4'                                                     05032000
@CH00032 DC    H'9'                                                     05033000
@CH00418 DC    H'10'                                                    05034000
@CH00426 DC    H'14'                                                    05035000
@CH00429 DC    H'15'                                                    05036000
@CH00131 DC    H'16'                                                    05037000
@CH00199 DC    H'17'                                                    05038000
@CH00433 DC    H'19'                                                    05039000
@CH00435 DC    H'20'                                                    05040000
@CH00352 DC    H'30'                                                    05041000
@CH00243 DC    H'64'                                                    05042000
@CH00228 DC    XL2'0040'                                                05043000
@CH00230 DC    XL2'004F'                                                05044000
@SM03681 MVC   EEDSDPSL(0,R1),STORLIST(@04)                             05045000
@DATD    DSECT                                                          05046000
         DS    0F                                                       05047000
IEAVTRTM CSECT                                                          05048000
         DS    0F                                                       05049000
@CF00073 DC    F'1'                                                     05050000
@CH00073 EQU   @CF00073+2                                               05051000
@CF03679 DC    F'-28'                                                   05052000
@CF03660 DC    F'-24'                                                   05053000
@CF03678 DC    F'-12'                                                   05054000
@CF03680 DC    F'-4'                                                    05055000
@CF00209 DC    XL4'030C0000'                                            05056000
@CF00211 DC    XL4'44F13F00'                                            05057000
@CF00215 DC    XL4'00000020'                                            05058000
@CF00217 DC    XL4'00000010'                                            05059000
@CF00224 DC    XL4'80000000'                                            05060000
@CF00226 DC    XL4'7FFFFFFF'                                            05061000
@CF03608 DC    XL4'00FFF000'                                            05062000
@CF00232 DC    XL4'00BF'                                                05063000
@DATD    DSECT                                                          05064000
         DS    0D                                                       05065000
@ENDDATD EQU   *                                                        05066000
IEAVTRTM CSECT                                                          05067000
         NOPR  ((@ENDDATD-@DATD)*16)                                    05068000
         DS    0F                                                       05069000
@SIZDATD DC    AL1(0)                                                   05070000
         DC    AL3(@ENDDATD-@DATD)                                      05071000
@CV00151 DC    V(IEAVTRTZ)                                              05072000
@CV00152 DC    V(IEAVTRTX)                                              05073000
@CV00153 DC    V(IEAVELCR)                                              05074000
@CV00154 DC    V(ESTAECHK)                                              05075000
@CV00155 DC    V(IEAVTRTS)                                              05076000
@CV00156 DC    V(IEAVTRTH)                                              05077000
@CV00157 DC    V(IEAVFRLK)                                              05078000
@CV00158 DC    V(IEAVRSTR)                                              05079000
@CV00159 DC    V(RTMRSFRR)                                              05080000
@CV00160 DC    V(RTMSMFRR)                                              05081000
@CV00161 DC    V(RECVRRTM)                                              05082000
@CV00162 DC    V(FREEDCEL)                                              05083000
         DS    0D                                                       05084000
RESCHFRR DC    VL4(RTMRSFRR)                                            05085000
SLIHFRR  DC    VL4(RTMSMFRR)                                            05086000
@CC00201 DC    C'TCB '                                                  05087000
@CC00203 DC    C'ASCB'                                                  05088000
@CB00207 DC    X'FFFF'                                                  05089000
         DS    CL2                                                      05090000
SECRYDF  DS    BL4                                                      05091000
         ORG   SECRYDF                                                  05092000
SECDSP0  DC    B'11111111'                                              05093000
         ORG   SECDSP0                                                  05094000
@NM00001 DS    BL1                                                      05095000
@NM00002 EQU   SECDSP0+0                                                05096000
@NM00003 EQU   SECDSP0+0                                                05097000
@NM00004 EQU   SECDSP0+0                                                05098000
@NM00005 EQU   SECDSP0+0                                                05099000
@NM00006 EQU   SECDSP0+0                                                05100000
@NM00007 EQU   SECDSP0+0                                                05101000
@NM00008 EQU   SECDSP0+0                                                05102000
         ORG   SECRYDF+1                                                05103000
SECDSP1  DC    B'10111111'                                              05104000
         ORG   SECDSP1                                                  05105000
DSPDARTN DS    BL1                                                      05106000
DSPDARPN EQU   SECDSP1+0                                                05107000
DSPRSTND EQU   SECDSP1+0                                                05108000
DSPRSPND EQU   SECDSP1+0                                                05109000
DSPDDRND EQU   SECDSP1+0                                                05110000
DSPTPSP  EQU   SECDSP1+0                                                05111000
DSPPIEND EQU   SECDSP1+0                                                05112000
@NM00009 EQU   SECDSP1+0                                                05113000
         ORG   SECRYDF+2                                                05114000
SECDSP2  DC    B'11101111'                                              05115000
         ORG   SECDSP2                                                  05116000
DSPABD   DS    BL1                                                      05117000
DSPSTPP  EQU   SECDSP2+0                                                05118000
DSPNDSVC EQU   SECDSP2+0                                                05119000
DSPNDTS  EQU   SECDSP2+0                                                05120000
DSPIWAIT EQU   SECDSP2+0                                                05121000
DSPOWAIT EQU   SECDSP2+0                                                05122000
DSPDSS   EQU   SECDSP2+0                                                05123000
DSPABE   EQU   SECDSP2+0                                                05124000
         ORG   SECRYDF+3                                                05125000
SECDSP3  DC    B'11111111'                                              05126000
         ORG   SECDSP3                                                  05127000
DSPLJSND DS    BL1                                                      05128000
@NM00010 EQU   SECDSP3+0                                                05129000
DSPSRBND EQU   SECDSP3+0                                                05130000
@NM00011 EQU   SECDSP3+0                                                05131000
@NM00012 EQU   SECDSP3+0                                                05132000
@NM00013 EQU   SECDSP3+0                                                05133000
@NM00014 EQU   SECDSP3+0                                                05134000
DSPNDINT EQU   SECDSP3+0                                                05135000
         ORG   SECRYDF+4                                                05136000
PRIMRYDF DS    BL4                                                      05137000
         ORG   PRIMRYDF                                                 05138000
PDISPFLG DC    B'11111111'                                              05139000
         ORG   PDISPFLG                                                 05140000
PDINDUMP DS    BL1                                                      05141000
PDISER   EQU   PDISPFLG+0                                               05142000
PDIRQENA EQU   PDISPFLG+0                                               05143000
PDIHNDSP EQU   PDISPFLG+0                                               05144000
PDIUXNDV EQU   PDISPFLG+0                                               05145000
PDIMPCVQ EQU   PDISPFLG+0                                               05146000
PDIMPCND EQU   PDISPFLG+0                                               05147000
PDIONDSP EQU   PDISPFLG+0                                               05148000
         ORG   PRIMRYDF+1                                               05149000
PDISPFL2 DC    B'00111010'                                              05150000
         ORG   PDISPFL2                                                 05151000
PDIFC    DS    BL1                                                      05152000
PDIABWF  EQU   PDISPFL2+0                                               05153000
PDIPAGE  EQU   PDISPFL2+0                                               05154000
PDIANDSP EQU   PDISPFL2+0                                               05155000
PDISYS   EQU   PDISPFL2+0                                               05156000
PDISTP   EQU   PDISPFL2+0                                               05157000
PDIFCD1  EQU   PDISPFL2+0                                               05158000
PDIPNDSP EQU   PDISPFL2+0                                               05159000
         ORG   PRIMRYDF+2                                               05160000
PRESETCD DC    XL2'000C'                                                05161000
         ORG   PRIMRYDF+4                                               05162000
RT1CPOOL DS    CL4                                                      05163000
         ORG   RT1CPOOL                                                 05164000
EBCDICNM DC    CL3'RT1'                                                 05165000
HEXNM    DC    X'04'                                                    05166000
         ORG   RT1CPOOL+4                                               05167000
RTMRSTID DS    CL4                                                      05168000
         ORG   RTMRSTID                                                 05169000
LDNG0S   DC    X'0000'                                                  05170000
CHARID   DC    CL2'RF'                                                  05171000
         ORG   RTMRSTID+4                                               05172000
IEAVTRTA DC    X'0A0D'                                                  05173000
         ORG   IEAVTRTA                                                 05174000
ABENDSVC DS    CL2                                                      05175000
         ORG   ABENDSVC                                                 05176000
SVCOPCOD DS    CL1                                                      05177000
SVC13    DS    CL1                                                      05178000
         ORG   IEAVTRTA+2                                               05179000
         DS    CL2                                                      05180000
RESNPSW  DS    CL8                                                      05181000
         ORG   RESNPSW                                                  05182000
PSWWRD1  DC    X'040C0000'                                              05183000
ARESFLIH DC    VL4(IEAVRSTR)                                            05184000
         ORG   RESNPSW+8                                                05185000
RTMPATCH DS    CL100                                                    05186000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       05187000
@01      EQU   01                                                       05188000
@02      EQU   02                                                       05189000
@03      EQU   03                                                       05190000
@04      EQU   04                                                       05191000
@05      EQU   05                                                       05192000
@06      EQU   06                                                       05193000
@07      EQU   07                                                       05194000
@08      EQU   08                                                       05195000
@09      EQU   09                                                       05196000
@10      EQU   10                                                       05197000
@11      EQU   11                                                       05198000
@12      EQU   12                                                       05199000
@13      EQU   13                                                       05200000
@14      EQU   14                                                       05201000
@15      EQU   15                                                       05202000
R0       EQU   @00                                                      05203000
R1       EQU   @01                                                      05204000
R2       EQU   @02                                                      05205000
R3       EQU   @03                                                      05206000
R4       EQU   @04                                                      05207000
R5       EQU   @05                                                      05208000
R6       EQU   @06                                                      05209000
R7       EQU   @07                                                      05210000
R8       EQU   @08                                                      05211000
R10      EQU   @10                                                      05212000
R12      EQU   @12                                                      05213000
R13      EQU   @13                                                      05214000
R14      EQU   @14                                                      05215000
R15      EQU   @15                                                      05216000
GPR01F   EQU   @01                                                      05217000
GPR03F   EQU   @03                                                      05218000
GPR00F   EQU   @00                                                      05219000
R11      EQU   @11                                                      05220000
R9       EQU   @09                                                      05221000
         ENTRY IEAVTRTA                                                 05222000
         ENTRY POSTSRRP                                                 05223000
         ENTRY NORTSRP                                                  05224000
         ENTRY EEDFRERP                                                 05225000
         ENTRY FREEMNRP                                                 05226000
         ENTRY CWTRP                                                    05227000
         ENTRY RTHRETRN                                                 05228000
         ENTRY SRBEEDRP                                                 05229000
         ENTRY RT1EEDRP                                                 05230000
         ENTRY RT2EEDRP                                                 05231000
         ENTRY XMEEDRP                                                  05232000
PSA      EQU   0                                                        05233000
FLCRNPSW EQU   PSA                                                      05234000
FLCROPSW EQU   PSA+8                                                    05235000
FLCICCW2 EQU   PSA+16                                                   05236000
FLCCVT   EQU   FLCICCW2                                                 05237000
PSAEEPSW EQU   PSA+132                                                  05238000
PSAESPSW EQU   PSA+136                                                  05239000
FLCSVILC EQU   PSAESPSW+1                                               05240000
PSAEPPSW EQU   PSA+140                                                  05241000
FLCPIILC EQU   PSAEPPSW+1                                               05242000
FLCPICOD EQU   PSAEPPSW+2                                               05243000
PSAPICOD EQU   FLCPICOD+1                                               05244000
FLCTEA   EQU   PSAEPPSW+4                                               05245000
FLCPER   EQU   PSA+152                                                  05246000
FLCMCLA  EQU   PSA+168                                                  05247000
FLCIOEL  EQU   FLCMCLA+4                                                05248000
FLCIOA   EQU   FLCMCLA+16                                               05249000
FLCFSA   EQU   FLCMCLA+80                                               05250000
PSACPUPA EQU   PSA+516                                                  05251000
PSACPULA EQU   PSA+518                                                  05252000
PSALCCAV EQU   PSA+528                                                  05253000
PSATOLD  EQU   PSA+540                                                  05254000
PSAANEW  EQU   PSA+544                                                  05255000
PSAAOLD  EQU   PSA+548                                                  05256000
PSASUPER EQU   PSA+552                                                  05257000
PSASUP1  EQU   PSASUPER                                                 05258000
PSASUP2  EQU   PSASUPER+1                                               05259000
PSARTM   EQU   PSASUP2                                                  05260000
PSALCR   EQU   PSASUP2                                                  05261000
PSASUP3  EQU   PSASUPER+2                                               05262000
PSAPI2   EQU   PSASUP3                                                  05263000
PSAPSREG EQU   PSASUP3                                                  05264000
PSASUP4  EQU   PSASUPER+3                                               05265000
PSACLHT  EQU   PSA+640                                                  05266000
PSALKSA  EQU   PSA+696                                                  05267000
PSAHLHI  EQU   PSA+760                                                  05268000
PSADSSFL EQU   PSA+836                                                  05269000
PSADSSF1 EQU   PSADSSFL                                                 05270000
PSADSSF3 EQU   PSADSSFL+2                                               05271000
PSADSSF4 EQU   PSADSSFL+3                                               05272000
PSARSVT  EQU   PSA+896                                                  05273000
TCBPTR   EQU   0                                                        05274000
ASCBPTR  EQU   0                                                        05275000
SNAPPTR  EQU   0                                                        05276000
FRREPTR  EQU   0                                                        05277000
LCCAPTR  EQU   0                                                        05278000
ASVTPTR  EQU   0                                                        05279000
SRBPTR   EQU   0                                                        05280000
FRRSPTR  EQU   0                                                        05281000
SDWAPTR  EQU   0                                                        05282000
RBSECPTR EQU   0                                                        05283000
SCVTSPTR EQU   0                                                        05284000
ASXBPTR  EQU   0                                                        05285000
DUMPARMS EQU   0                                                        05286000
ERREGS   EQU   0                                                        05287000
ERREG0   EQU   ERREGS                                                   05288000
ERREG1   EQU   ERREGS+4                                                 05289000
PSW      EQU   0                                                        05290000
PSWMODE  EQU   PSW                                                      05291000
PSWIMASK EQU   PSWMODE                                                  05292000
PSWIO    EQU   PSWIMASK                                                 05293000
PSWEXT   EQU   PSWIMASK                                                 05294000
PSWKYMWP EQU   PSWMODE+1                                                05295000
PSWECTM  EQU   PSWKYMWP                                                 05296000
PSWCCPMK EQU   PSWMODE+2                                                05297000
PSWIC    EQU   PSW+4                                                    05298000
PSWEXT1  EQU   0                                                        05299000
PSWILCIC EQU   PSWEXT1                                                  05300000
PSWILC   EQU   PSWILCIC+1                                               05301000
PSWINTCD EQU   PSWILCIC+2                                               05302000
PSWTRAN  EQU   PSWEXT1+4                                                05303000
STORLIST EQU   0                                                        05304000
LISTPAIR EQU   STORLIST                                                 05305000
TOADDR   EQU   LISTPAIR+4                                               05306000
STOREND  EQU   TOADDR                                                   05307000
RT1TRACK EQU   0                                                        05308000
RT1TRECC EQU   RT1TRACK                                                 05309000
RT1TLPN  EQU   RT1TRECC                                                 05310000
RT1TLPID EQU   RT1TRECC+1                                               05311000
RT1TENPT EQU   RT1TRECC+2                                               05312000
RT1TACQR EQU   RT1TRECC+3                                               05313000
RT1TREGS EQU   RT1TRACK+4                                               05314000
RTMBRTAB EQU   0                                                        05315000
RTMBTERM EQU   RTMBRTAB                                                 05316000
MODEBYTE EQU   0                                                        05317000
MODESUPR EQU   MODEBYTE                                                 05318000
MODEDIS  EQU   MODEBYTE                                                 05319000
MODEGSPN EQU   MODEBYTE                                                 05320000
MODEGSUS EQU   MODEBYTE                                                 05321000
MODELOC  EQU   MODEBYTE                                                 05322000
MODETYP1 EQU   MODEBYTE                                                 05323000
MODESRB  EQU   MODEBYTE                                                 05324000
MODETCB  EQU   MODEBYTE                                                 05325000
EED      EQU   0                                                        05326000
EEDFWRDP EQU   EED                                                      05327000
EEDDES   EQU   EED+4                                                    05328000
EEDID    EQU   EEDDES                                                   05329000
EEDFLAGS EQU   EEDDES+1                                                 05330000
EEDERFL  EQU   EEDFLAGS                                                 05331000
EEDNODMP EQU   EEDFLAGS                                                 05332000
EEDERROR EQU   EED+8                                                    05333000
EEDMODE  EQU   EEDERROR                                                 05334000
EEDERTYP EQU   EEDERROR+1                                               05335000
EEDASID  EQU   EEDERROR+2                                               05336000
EEDVARBL EQU   EED+12                                                   05337000
RTCT     EQU   0                                                        05338000
RTCTPLIB EQU   RTCT+4                                                   05339000
RTCTSAP  EQU   RTCTPLIB                                                 05340000
RTCTSAP1 EQU   RTCTSAP                                                  05341000
RTCTSAP2 EQU   RTCTSAP+1                                                05342000
RTCTSAP3 EQU   RTCTSAP+2                                                05343000
RTCTSUP  EQU   RTCTPLIB+4                                               05344000
RTCTSUP1 EQU   RTCTSUP                                                  05345000
RTCTSUP2 EQU   RTCTSUP+1                                                05346000
RTCTSUP3 EQU   RTCTSUP+2                                                05347000
RTCTSYD  EQU   RTCTPLIB+8                                               05348000
RTCTSY01 EQU   RTCTSYD                                                  05349000
RTCTFASB EQU   RTCT+24                                                  05350000
RTCTSDDS EQU   RTCT+36                                                  05351000
RTCTFLG  EQU   RTCTSDDS+3                                               05352000
RTCTSDPL EQU   RTCT+156                                                 05353000
RTCTMLCK EQU   RTCT+164                                                 05354000
RTCTMSRB EQU   RTCT+168                                                 05355000
RTCTRFLG EQU   RTCT+176                                                 05356000
RTCTERID EQU   RTCT+224                                                 05357000
RTCTOPT  EQU   RTCT+236                                                 05358000
RTCTASO  EQU   RTCT+252                                                 05359000
RTCTASO1 EQU   RTCTASO                                                  05360000
RTCTASO2 EQU   RTCTASO+1                                                05361000
RTCTSDI  EQU   RTCT+254                                                 05362000
RTCTSDF  EQU   RTCT+264                                                 05363000
RTCTSDF1 EQU   RTCTSDF                                                  05364000
RTCTSDF2 EQU   RTCTSDF+1                                                05365000
RTCTSDF3 EQU   RTCT+268                                                 05366000
RTCTSDF4 EQU   RTCTSDF3+2                                               05367000
RTCTMOPT EQU   0                                                        05368000
RTCTMSAO EQU   RTCTMOPT                                                 05369000
RTCTSASD EQU   RTCTMSAO                                                 05370000
RTCTSAO1 EQU   RTCTSASD                                                 05371000
RTCTSAO2 EQU   RTCTSASD+1                                               05372000
RTCTSAPD EQU   RTCTMSAO+2                                               05373000
RTCTSAO3 EQU   RTCTSAPD                                                 05374000
RTCTSAO4 EQU   RTCTSAPD+1                                               05375000
RTCTSAMG EQU   RTCTSAO4                                                 05376000
RTCTMSUO EQU   RTCTMOPT+4                                               05377000
RTCTSUSD EQU   RTCTMSUO                                                 05378000
RTCTSUO1 EQU   RTCTSUSD                                                 05379000
RTCTSUO2 EQU   RTCTSUSD+1                                               05380000
RTCTSUPD EQU   RTCTMSUO+2                                               05381000
RTCTSUO3 EQU   RTCTSUPD                                                 05382000
RTCTSUO4 EQU   RTCTSUPD+1                                               05383000
RTCTSUMG EQU   RTCTSUO4                                                 05384000
RTCTMSYO EQU   RTCTMOPT+8                                               05385000
RTCTSD01 EQU   RTCTMSYO                                                 05386000
RTCTSD04 EQU   RTCTMSYO+3                                               05387000
RTCTSMMG EQU   RTCTSD04                                                 05388000
RTCTMSDO EQU   RTCTMOPT+12                                              05389000
RTCTSDOD EQU   RTCTMSDO                                                 05390000
RTCTSDO1 EQU   RTCTSDOD                                                 05391000
RTCTSDO2 EQU   RTCTSDOD+1                                               05392000
RTCTSDO3 EQU   RTCTMSDO+2                                               05393000
RTCTSDO4 EQU   RTCTMSDO+3                                               05394000
RTCTSDMG EQU   RTCTSDO4                                                 05395000
RBPRFX   EQU   0                                                        05396000
RBBASIC  EQU   0                                                        05397000
RBEXRTNM EQU   RBBASIC                                                  05398000
RBTMFLD  EQU   RBEXRTNM                                                 05399000
RBSTAB   EQU   RBBASIC+10                                               05400000
XSTAB    EQU   RBSTAB                                                   05401000
RBSTAB1  EQU   XSTAB                                                    05402000
XSTAB1   EQU   RBSTAB1                                                  05403000
RBFTCKPT EQU   XSTAB1                                                   05404000
RBSTAB2  EQU   XSTAB+1                                                  05405000
XSTAB2   EQU   RBSTAB2                                                  05406000
RBTCBNXT EQU   XSTAB2                                                   05407000
RBFACTV  EQU   XSTAB2                                                   05408000
RBFDYN   EQU   XSTAB2                                                   05409000
RBECBWT  EQU   XSTAB2                                                   05410000
RBOPSW   EQU   RBBASIC+16                                               05411000
XRBPSW   EQU   RBOPSW                                                   05412000
RBOPSWB2 EQU   XRBPSW+1                                                 05413000
RBLINK   EQU   RBBASIC+28                                               05414000
XRBLNK   EQU   RBLINK                                                   05415000
RBWCF    EQU   XRBLNK                                                   05416000
RBLINKB  EQU   XRBLNK+1                                                 05417000
RBGRSAVE EQU   RBBASIC+32                                               05418000
XRBREG   EQU   RBGRSAVE                                                 05419000
RBGRS0   EQU   XRBREG                                                   05420000
RBGRS1   EQU   XRBREG+4                                                 05421000
RBGRS2   EQU   XRBREG+8                                                 05422000
RBGRS3   EQU   XRBREG+12                                                05423000
RBGRS4   EQU   XRBREG+16                                                05424000
RBGRS5   EQU   XRBREG+20                                                05425000
RBGRS6   EQU   XRBREG+24                                                05426000
RBGRS7   EQU   XRBREG+28                                                05427000
RBGRS8   EQU   XRBREG+32                                                05428000
RBGRS9   EQU   XRBREG+36                                                05429000
RBGRS10  EQU   XRBREG+40                                                05430000
RBGRS11  EQU   XRBREG+44                                                05431000
RBGRS12  EQU   XRBREG+48                                                05432000
RBGRS13  EQU   XRBREG+52                                                05433000
RBGRS14  EQU   XRBREG+56                                                05434000
RBGRS15  EQU   XRBREG+60                                                05435000
XRBESA   EQU   RBBASIC+96                                               05436000
RBPREFIX EQU   0                                                        05437000
RBRSV019 EQU   RBPREFIX+14                                              05438000
RBRSV028 EQU   RBPREFIX+15                                              05439000
RBRSV041 EQU   RBPREFIX+27                                              05440000
RBRSV054 EQU   RBPREFIX+39                                              05441000
RBRTOPSW EQU   RBPREFIX+40                                              05442000
RBRTPSW1 EQU   RBRTOPSW                                                 05443000
RBRTPSW2 EQU   RBRTOPSW+8                                               05444000
RBRTICIL EQU   RBRTPSW2                                                 05445000
RBRTILC  EQU   RBRTICIL+1                                               05446000
RBRTINCD EQU   RBRTICIL+2                                               05447000
RBRTRAN  EQU   RBRTPSW2+4                                               05448000
RBFLAGS1 EQU   RBPREFIX+56                                              05449000
RBWCSA   EQU   RBPREFIX+60                                              05450000
RBINTCDA EQU   RBPREFIX+61                                              05451000
RBINLNTH EQU   RBINTCDA                                                 05452000
RBINTCOD EQU   RBINTCDA+1                                               05453000
RBSECT   EQU   0                                                        05454000
RBPPSAV  EQU   RBSECT                                                   05455000
@NM00054 EQU   RBSECT+10                                                05456000
@NM00055 EQU   @NM00054                                                 05457000
RBTRSVRB EQU   @NM00055                                                 05458000
@NM00057 EQU   @NM00054+1                                               05459000
RBETXR   EQU   @NM00057                                                 05460000
RBEP     EQU   RBSECT+12                                                05461000
RBPGMQ   EQU   RBSECT+24                                                05462000
@NM00064 EQU   RBSECT+28                                                05463000
@NM00065 EQU   @NM00064                                                 05464000
IRBEND   EQU   RBSECT+96                                                05465000
@NM00068 EQU   RBSECT+96                                                05466000
RBRSV138 EQU   @NM00068+7                                               05467000
RBSCBB   EQU   RBSECT+144                                               05468000
RBSPARM  EQU   RBSCBB+8                                                 05469000
RBSFLGS1 EQU   RBSPARM                                                  05470000
RBSIOPRC EQU   RBSFLGS1                                                 05471000
RBSOWNR  EQU   RBSCBB+12                                                05472000
RBSFLGS2 EQU   RBSOWNR                                                  05473000
RBSDATA  EQU   RBSCBB+16                                                05474000
RBSFLG3  EQU   RBSDATA                                                  05475000
RBRSV150 EQU   RBSECT+167                                               05476000
TCBFIX   EQU   0                                                        05477000
TCBFRS   EQU   TCBFIX                                                   05478000
TCB      EQU   0                                                        05479000
TCBRBP   EQU   TCB                                                      05480000
TCBPIE   EQU   TCB+4                                                    05481000
TCBPMASK EQU   TCBPIE                                                   05482000
TCBCMP   EQU   TCB+16                                                   05483000
TCBCMPF  EQU   TCBCMP                                                   05484000
TCBCPP   EQU   TCBCMPF                                                  05485000
TCBSTCC  EQU   TCBCMPF                                                  05486000
TCBCDBL  EQU   TCBCMPF                                                  05487000
TCBCWTO  EQU   TCBCMPF                                                  05488000
TCBCIND  EQU   TCBCMPF                                                  05489000
TCBCMSG  EQU   TCBCMPF                                                  05490000
TCBTRN   EQU   TCB+20                                                   05491000
TCBABF   EQU   TCBTRN                                                   05492000
TCBMSS   EQU   TCB+24                                                   05493000
TCBPKF   EQU   TCB+28                                                   05494000
TCBFLGS  EQU   TCB+29                                                   05495000
TCBFLGS1 EQU   TCBFLGS                                                  05496000
TCBNONPR EQU   TCBFLGS1                                                 05497000
TCBFX    EQU   TCBFLGS1                                                 05498000
TCBFLGS2 EQU   TCBFLGS+1                                                05499000
TCBFLGS3 EQU   TCBFLGS+2                                                05500000
TCBABTRM EQU   TCBFLGS3                                                 05501000
TCBABGM  EQU   TCBFLGS3                                                 05502000
TCBFLGS4 EQU   TCBFLGS+3                                                05503000
TCBFLGS5 EQU   TCBFLGS+4                                                05504000
TCBFC    EQU   TCBFLGS5                                                 05505000
TCBABWF  EQU   TCBFLGS5                                                 05506000
TCBJPQ   EQU   TCB+44                                                   05507000
TCBPURGE EQU   TCBJPQ                                                   05508000
TCBGRS   EQU   TCB+48                                                   05509000
TCBFSA   EQU   TCB+112                                                  05510000
TCBTCB   EQU   TCB+116                                                  05511000
TCBTME   EQU   TCB+120                                                  05512000
TCBJSTCB EQU   TCB+124                                                  05513000
TCBTSFLG EQU   TCB+148                                                  05514000
TCBTSTSK EQU   TCBTSFLG                                                 05515000
TCBSTAB  EQU   TCB+160                                                  05516000
TCBNSTAE EQU   TCBSTAB                                                  05517000
TCBTCT   EQU   TCB+164                                                  05518000
TCBTCTGF EQU   TCBTCT                                                   05519000
TCBSCNDY EQU   TCB+172                                                  05520000
TCBNDSP  EQU   TCBSCNDY                                                 05521000
TCBNDSP1 EQU   TCBNDSP+1                                                05522000
TCBNDSP2 EQU   TCBNDSP+2                                                05523000
TCBNDSP3 EQU   TCBNDSP+3                                                05524000
TCBJSCB  EQU   TCB+180                                                  05525000
TCBRECDE EQU   TCBJSCB                                                  05526000
TCBEXT1  EQU   TCB+196                                                  05527000
TCBBITS  EQU   TCB+200                                                  05528000
TCBNDSP4 EQU   TCBBITS                                                  05529000
TCBNDSP5 EQU   TCBBITS+1                                                05530000
TCBFLGS6 EQU   TCBBITS+2                                                05531000
TCBFLGS7 EQU   TCBBITS+3                                                05532000
TCBDAR   EQU   TCB+204                                                  05533000
TCBDARC  EQU   TCBDAR                                                   05534000
TCBEXT2  EQU   TCB+208                                                  05535000
TCBXSCT  EQU   TCB+240                                                  05536000
TCBXSCT1 EQU   TCBXSCT                                                  05537000
TCBFOE   EQU   TCB+244                                                  05538000
TCBTCBID EQU   TCB+256                                                  05539000
TCBRTM12 EQU   TCB+260                                                  05540000
TCBESTAE EQU   TCB+264                                                  05541000
TCBESTRM EQU   TCBESTAE+1                                               05542000
TCBERTYP EQU   TCBESTAE+2                                               05543000
TCBMODE  EQU   TCBESTAE+3                                               05544000
TCBFBYT1 EQU   TCB+276                                                  05545000
TCBLLH   EQU   TCBFBYT1                                                 05546000
TCBFBYT2 EQU   TCB+277                                                  05547000
TCBFPRAP EQU   TCBFBYT2                                                 05548000
TCBRV124 EQU   TCB+278                                                  05549000
TCBRV133 EQU   TCB+279                                                  05550000
TCBXTNT2 EQU   0                                                        05551000
TCBGTF   EQU   TCBXTNT2                                                 05552000
TCBTFLG  EQU   TCBGTF                                                   05553000
TCBRV146 EQU   TCBXTNT2+28                                              05554000
TCBRV155 EQU   TCBXTNT2+29                                              05555000
TCBRV164 EQU   TCBXTNT2+30                                              05556000
TCBRV173 EQU   TCBXTNT2+31                                              05557000
SCVTSECT EQU   0                                                        05558000
SCVTSTAT EQU   SCVTSECT+148                                             05559000
ASCB     EQU   0                                                        05560000
ASCBASCB EQU   ASCB                                                     05561000
ASCBSUPC EQU   ASCB+16                                                  05562000
ASCBCPUS EQU   ASCB+32                                                  05563000
ASCBASID EQU   ASCB+36                                                  05564000
ASCBRSM  EQU   ASCB+52                                                  05565000
ASCBRSMF EQU   ASCBRSM                                                  05566000
ASCBFW1  EQU   ASCB+100                                                 05567000
ASCBRCTF EQU   ASCBFW1+2                                                05568000
ASCBFLG1 EQU   ASCBFW1+3                                                05569000
ASCBTERM EQU   ASCBFLG1                                                 05570000
ASCBABNT EQU   ASCBFLG1                                                 05571000
ASCBTYP1 EQU   ASCBFLG1                                                 05572000
ASCBTMCH EQU   ASCB+104                                                 05573000
ASCBASXB EQU   ASCB+108                                                 05574000
ASCBDSP1 EQU   ASCB+114                                                 05575000
ASCBFLG2 EQU   ASCB+115                                                 05576000
ASCBLKGP EQU   ASCB+128                                                 05577000
ASCBMCC  EQU   ASCB+168                                                 05578000
ASCBSRQ  EQU   ASCB+180                                                 05579000
ASCBSRQ1 EQU   ASCBSRQ                                                  05580000
ASCBSRQ2 EQU   ASCBSRQ+1                                                05581000
ASCBSRQ3 EQU   ASCBSRQ+2                                                05582000
ASCBSRQ4 EQU   ASCBSRQ+3                                                05583000
ASXB     EQU   0                                                        05584000
ASXBFTCB EQU   ASXB+4                                                   05585000
ASXBLTCB EQU   ASXB+8                                                   05586000
ASXBIHSA EQU   ASXB+32                                                  05587000
ASXBAEQ  EQU   ASXB+168                                                 05588000
ASXBSECR EQU   ASXB+199                                                 05589000
ASCBSFLG EQU   ASXBSECR                                                 05590000
ASXBCASW EQU   ASXB+216                                                 05591000
ASXBCRB1 EQU   ASXBCASW                                                 05592000
LCCAVT   EQU   0                                                        05593000
LCCA     EQU   0                                                        05594000
LCCAIHRC EQU   LCCA+520                                                 05595000
LCCAIHR1 EQU   LCCAIHRC                                                 05596000
LCCAPDAT EQU   LCCAIHR1                                                 05597000
LCCAPSG1 EQU   LCCAIHR1                                                 05598000
LCCAIHR2 EQU   LCCAIHRC+1                                               05599000
LCCAIHR3 EQU   LCCAIHRC+2                                               05600000
LCCAIHR4 EQU   LCCAIHRC+3                                               05601000
LCCASPIN EQU   LCCA+524                                                 05602000
LCCASPN1 EQU   LCCASPIN                                                 05603000
LCCASPN2 EQU   LCCASPIN+1                                               05604000
LCCASPN3 EQU   LCCASPIN+2                                               05605000
LCCASPN4 EQU   LCCASPIN+3                                               05606000
LCCADSF1 EQU   LCCA+540                                                 05607000
LCCADSF2 EQU   LCCA+541                                                 05608000
LCCASRBM EQU   LCCADSF2                                                 05609000
LCCASPSA EQU   LCCA+544                                                 05610000
LCCACRFL EQU   LCCA+692                                                 05611000
LCCACREX EQU   LCCA+693                                                 05612000
LCCALKFG EQU   LCCA+694                                                 05613000
LCCASRBF EQU   LCCA+720                                                 05614000
LCCAPGTA EQU   LCCASRBF+2                                               05615000
LCCAASID EQU   LCCA+732                                                 05616000
CSD      EQU   0                                                        05617000
CSDCPUAL EQU   CSD+8                                                    05618000
CSDSCWRD EQU   CSD+12                                                   05619000
CSDSCFL1 EQU   CSDSCWRD                                                 05620000
CSDSCFL2 EQU   CSDSCWRD+1                                               05621000
CSDSCFL3 EQU   CSDSCWRD+2                                               05622000
CSDSCFL4 EQU   CSDSCWRD+3                                               05623000
CSDFLAGS EQU   CSD+23                                                   05624000
CSDMASK  EQU   CSD+128                                                  05625000
PCCAVT   EQU   0                                                        05626000
PCCAT00P EQU   PCCAVT                                                   05627000
ASVT     EQU   0                                                        05628000
ASVTMAXU EQU   ASVT+516                                                 05629000
ASVTFRST EQU   ASVT+524                                                 05630000
ASVTENTY EQU   ASVT+528                                                 05631000
ASVTAVAL EQU   ASVTENTY                                                 05632000
SSRBSECT EQU   0                                                        05633000
SRBSECT  EQU   SSRBSECT                                                 05634000
SRB      EQU   SRBSECT                                                  05635000
SRBASCB  EQU   SRB+8                                                    05636000
SRBFLC   EQU   SRB+12                                                   05637000
SRBPASID EQU   SRBFLC+2                                                 05638000
SRBPTCB  EQU   SRBFLC+4                                                 05639000
SRBEP    EQU   SRB+20                                                   05640000
SRBPARM  EQU   SRB+28                                                   05641000
SSRB     EQU   SSRBSECT+48                                              05642000
SSRBCPSW EQU   SSRB                                                     05643000
SSRBFPRS EQU   SSRB+8                                                   05644000
SSRBGPRS EQU   SSRB+40                                                  05645000
SSRBTRAN EQU   SSRB+104                                                 05646000
SSRBFLG1 EQU   SSRB+704                                                 05647000
IHSA     EQU   0                                                        05648000
IHSACPSW EQU   IHSA+16                                                  05649000
IHSAFPRS EQU   IHSA+24                                                  05650000
IHSAGPRS EQU   IHSA+56                                                  05651000
FRRS     EQU   0                                                        05652000
FRRSHEAD EQU   FRRS                                                     05653000
FRRSRTMW EQU   FRRS+16                                                  05654000
FRRSENTR EQU   0                                                        05655000
FRRSFLGS EQU   FRRSENTR+4                                               05656000
FRRSFLG1 EQU   FRRSFLGS                                                 05657000
SDWA     EQU   0                                                        05658000
SDWAFIOB EQU   SDWA+4                                                   05659000
SDWAABCC EQU   SDWAFIOB                                                 05660000
SDWACMPF EQU   SDWAABCC                                                 05661000
SDWACTL1 EQU   SDWA+8                                                   05662000
SDWACMKA EQU   SDWACTL1                                                 05663000
SDWAMWPA EQU   SDWACTL1+1                                               05664000
SDWAPMKA EQU   SDWACTL1+4                                               05665000
SDWACTL2 EQU   SDWA+16                                                  05666000
SDWACMKP EQU   SDWACTL2                                                 05667000
SDWAMWPP EQU   SDWACTL2+1                                               05668000
SDWAPMKP EQU   SDWACTL2+4                                               05669000
SDWAGRSV EQU   SDWA+24                                                  05670000
SDWANAME EQU   SDWA+88                                                  05671000
SDWAEC1  EQU   SDWA+104                                                 05672000
SDWAEMK1 EQU   SDWAEC1                                                  05673000
SDWAMWP1 EQU   SDWAEC1+1                                                05674000
SDWAINT1 EQU   SDWAEC1+2                                                05675000
SDWANXT1 EQU   SDWAEC1+4                                                05676000
SDWAAEC1 EQU   SDWA+112                                                 05677000
SDWAILC1 EQU   SDWAAEC1+1                                               05678000
SDWAINC1 EQU   SDWAAEC1+2                                               05679000
SDWAICD1 EQU   SDWAINC1+1                                               05680000
SDWAEC2  EQU   SDWA+120                                                 05681000
SDWAEMK2 EQU   SDWAEC2                                                  05682000
SDWAMWP2 EQU   SDWAEC2+1                                                05683000
SDWAINT2 EQU   SDWAEC2+2                                                05684000
SDWANXT2 EQU   SDWAEC2+4                                                05685000
SDWAAEC2 EQU   SDWA+128                                                 05686000
SDWAILC2 EQU   SDWAAEC2+1                                               05687000
SDWAINC2 EQU   SDWAAEC2+2                                               05688000
SDWAICD2 EQU   SDWAINC2+1                                               05689000
SDWASRSV EQU   SDWA+136                                                 05690000
SDWASR00 EQU   SDWASRSV                                                 05691000
SDWASR15 EQU   SDWASRSV+60                                              05692000
SDWAIDNT EQU   SDWA+200                                                 05693000
SDWASPID EQU   SDWAIDNT                                                 05694000
SDWALNTH EQU   SDWAIDNT+1                                               05695000
SDWAMCH  EQU   SDWA+204                                                 05696000
SDWASTCK EQU   SDWAMCH                                                  05697000
SDWAMCHI EQU   SDWAMCH+8                                                05698000
SDWAMCHS EQU   SDWAMCHI                                                 05699000
SDWAMCHD EQU   SDWAMCHI+1                                               05700000
SDWARSR1 EQU   SDWAMCH+12                                               05701000
SDWARSR2 EQU   SDWAMCH+13                                               05702000
SDWAFLGS EQU   SDWA+232                                                 05703000
SDWAERRA EQU   SDWAFLGS                                                 05704000
SDWAERRB EQU   SDWAFLGS+1                                               05705000
SDWAERRC EQU   SDWAFLGS+2                                               05706000
SDWAERRD EQU   SDWAFLGS+3                                               05707000
SDWAERFL EQU   SDWAERRD                                                 05708000
SDWAFMID EQU   SDWA+236                                                 05709000
SDWAIOFS EQU   SDWA+238                                                 05710000
SDWACPUI EQU   SDWA+239                                                 05711000
SDWARTYA EQU   SDWA+240                                                 05712000
SDWACPUA EQU   SDWA+248                                                 05713000
SDWALCPU EQU   SDWACPUA+2                                               05714000
SDWAPARQ EQU   SDWA+252                                                 05715000
SDWARCDE EQU   SDWAPARQ                                                 05716000
SDWAACF2 EQU   SDWAPARQ+1                                               05717000
SDWASPIN EQU   SDWAACF2                                                 05718000
SDWAACF3 EQU   SDWAPARQ+2                                               05719000
SDWAACF4 EQU   SDWAPARQ+3                                               05720000
SDWALKWA EQU   SDWA+256                                                 05721000
SDWALKWS EQU   SDWALKWA                                                 05722000
SDWASEQ# EQU   SDWA+290                                                 05723000
SDWARECP EQU   SDWA+292                                                 05724000
SDWASNPA EQU   SDWA+320                                                 05725000
SDWADUMP EQU   SDWASNPA                                                 05726000
SDWADPFS EQU   SDWADUMP+1                                               05727000
SDWADLST EQU   SDWADPFS                                                 05728000
SDWADDAT EQU   SDWASNPA+4                                               05729000
SDWASDAT EQU   SDWADDAT                                                 05730000
SDWASDA0 EQU   SDWASDAT                                                 05731000
SDWASDA1 EQU   SDWASDAT+1                                               05732000
SDWAPDAT EQU   SDWADDAT+2                                               05733000
SDWADPSA EQU   SDWA+328                                                 05734000
SDWADPSL EQU   SDWADPSA                                                 05735000
SDWAERTM EQU   SDWA+396                                                 05736000
SDWARA   EQU   SDWA+400                                                 05737000
SDWADPVA EQU   SDWARA+2                                                 05738000
SNPPARMS EQU   0                                                        05739000
SNPIDENT EQU   SNPPARMS                                                 05740000
SNPFLAG  EQU   SNPPARMS+1                                               05741000
SNPSLIST EQU   SNPFLAG                                                  05742000
SNPSDATA EQU   SNPPARMS+4                                               05743000
SNPSDAT0 EQU   SNPSDATA                                                 05744000
SNPSDAT1 EQU   SNPSDATA+1                                               05745000
SNPPDATA EQU   SNPPARMS+6                                               05746000
SNPSTOR  EQU   SNPPARMS+16                                              05747000
SHDR     EQU   0                                                        05748000
SHDRPFC  EQU   SHDR+4                                                   05749000
SHDRCTFW EQU   SHDR+8                                                   05750000
SHDRFLGS EQU   SHDR+20                                                  05751000
SHDRPROC EQU   SHDR+24                                                  05752000
CVTMAP   EQU   0                                                        05753000
CVTBTERM EQU   CVTMAP+52                                                05754000
CVTDAR   EQU   CVTMAP+72                                                05755000
CVTFLGS1 EQU   CVTDAR                                                   05756000
CVTDCB   EQU   CVTMAP+116                                               05757000
CVTIOQET EQU   CVTMAP+120                                               05758000
CVTIERLC EQU   CVTMAP+144                                               05759000
CVT0PT01 EQU   CVTMAP+152                                               05760000
CVTHEAD  EQU   CVTMAP+160                                               05761000
CVTSV76C EQU   CVTHEAD                                                  05762000
CVTOPTA  EQU   CVTMAP+182                                               05763000
CVTOPTB  EQU   CVTMAP+183                                               05764000
CVTABEND EQU   CVTMAP+200                                               05765000
CVTGTF   EQU   CVTMAP+236                                               05766000
CVTGTFST EQU   CVTGTF                                                   05767000
CVTGTFS  EQU   CVTGTFST                                                 05768000
CVTSTATE EQU   CVTGTFST                                                 05769000
CVTTMODE EQU   CVTGTFST                                                 05770000
CVTFORM  EQU   CVTGTFST                                                 05771000
CVTAQAVT EQU   CVTMAP+240                                               05772000
CVTTCMFG EQU   CVTAQAVT                                                 05773000
CVTVOLM2 EQU   CVTMAP+244                                               05774000
CVTTATA  EQU   CVTVOLM2                                                 05775000
CVTTSKS  EQU   CVTTATA                                                  05776000
CVTVOLF2 EQU   CVTTSKS                                                  05777000
CVTTAT   EQU   CVTTATA+1                                                05778000
CVTATER  EQU   CVTMAP+248                                               05779000
CVTEXT1  EQU   CVTMAP+252                                               05780000
CVTPURG  EQU   CVTMAP+260                                               05781000
CVTQMSG  EQU   CVTMAP+268                                               05782000
CVTDMSR  EQU   CVTMAP+272                                               05783000
CVTRSV37 EQU   CVTDMSR                                                  05784000
CVTDMSRF EQU   CVTRSV37                                                 05785000
CVTERPV  EQU   CVTMAP+316                                               05786000
CVTINTLA EQU   CVTMAP+320                                               05787000
CVTAPF   EQU   CVTMAP+324                                               05788000
CVTEXT2  EQU   CVTMAP+328                                               05789000
CVTHJES  EQU   CVTMAP+332                                               05790000
CVTPGSIA EQU   CVTMAP+348                                               05791000
CVTA1F1  EQU   CVTMAP+356                                               05792000
CVTSYSK  EQU   CVTMAP+357                                               05793000
CVTVOLM1 EQU   CVTMAP+380                                               05794000
CVTVOLF1 EQU   CVTVOLM1                                                 05795000
CVTXTNT1 EQU   0                                                        05796000
CVTXTNT2 EQU   0                                                        05797000
CVTDSSV  EQU   CVTXTNT2                                                 05798000
CVTFLGBT EQU   CVTXTNT2+5                                               05799000
CVTQID   EQU   CVTXTNT2+24                                              05800000
CVTRV400 EQU   CVTXTNT2+52                                              05801000
CVTRV409 EQU   CVTXTNT2+53                                              05802000
CVTATCVT EQU   CVTXTNT2+64                                              05803000
CVTRV429 EQU   CVTXTNT2+84                                              05804000
CVTRV438 EQU   CVTXTNT2+85                                              05805000
CVTRV457 EQU   CVTXTNT2+112                                             05806000
CVTRV466 EQU   CVTXTNT2+113                                             05807000
CVTFIX   EQU   0                                                        05808000
CVTRELNO EQU   CVTFIX+252                                               05809000
STATUS   EQU   0                                                        05810000
POST     EQU   0                                                        05811000
SLIPLIST EQU   0                                                        05812000
SLPCFRRS EQU   SLIPLIST                                                 05813000
SLPRT2WA EQU   SLIPLIST+4                                               05814000
SLPWAPTR EQU   SLIPLIST+8                                               05815000
SLPRTSTK EQU   SLIPLIST+12                                              05816000
SLPASCB  EQU   SLIPLIST+16                                              05817000
SLPCRTM  EQU   SLIPLIST+20                                              05818000
IEAVTSLP EQU   0                                                        05819000
@NM00185 EQU   0                                                        05820000
CRTMR14  EQU   @NM00185+56                                              05821000
CSDPTR   EQU   0                                                        05822000
IHSAPTR  EQU   0                                                        05823000
I001C    EQU   0                                                        05824000
I008P    EQU   0                                                        05825000
I015F    EQU   0                                                        05826000
I015P    EQU   0                                                        05827000
I031F    EQU   0                                                        05828000
I031P    EQU   0                                                        05829000
I256C    EQU   0                                                        05830000
RBPTR    EQU   0                                                        05831000
SSRBPTR  EQU   0                                                        05832000
EEDDUMPO EQU   EEDVARBL                                                 05833000
EEDSCDMP EQU   EEDDUMPO                                                 05834000
EEDSDDAT EQU   EEDSCDMP+4                                               05835000
EEDSDPSL EQU   EEDDUMPO+8                                               05836000
SNPCDMP  EQU   SNPIDENT                                                 05837000
RT1W     EQU   FRRSRTMW                                                 05838000
RT1WNPRS EQU   RT1W                                                     05839000
RT1WLPTA EQU   RT1WNPRS                                                 05840000
RT1WPSW1 EQU   RT1WNPRS+24                                              05841000
RT1WPSW2 EQU   RT1WNPRS+28                                              05842000
RT1WVARI EQU   RT1WNPRS+32                                              05843000
RT1WPRSV EQU   RT1W+52                                                  05844000
RT1WRTCA EQU   RT1WPRSV                                                 05845000
RT1WEED  EQU   RT1WPRSV+8                                               05846000
RT1WENTR EQU   RT1WPRSV+12                                              05847000
RT1WMODE EQU   RT1WENTR                                                 05848000
RT1WCOVR EQU   RT1WENTR+2                                               05849000
RT1WRTM  EQU   RT1WCOVR                                                 05850000
RT1WEREX EQU   RT1WCOVR                                                 05851000
RT1NODMP EQU   RT1WCOVR                                                 05852000
RT1WLPN  EQU   RT1WENTR+3                                               05853000
RT1RTRN  EQU   FRRSRTMW                                                 05854000
RT1RTRRG EQU   RT1RTRN+4                                                05855000
RT1R0R14 EQU   RT1RTRRG                                                 05856000
RT1RTYAD EQU   RT1RTRRG+60                                              05857000
EEDREGSP EQU   EEDVARBL                                                 05858000
EEDREGS  EQU   EEDREGSP                                                 05859000
EEDPSW   EQU   EEDREGSP+64                                              05860000
EEDPSW1  EQU   EEDPSW                                                   05861000
EEDPSW2  EQU   EEDPSW+8                                                 05862000
EEDINILC EQU   EEDPSW2                                                  05863000
EEDINTCD EQU   EEDINILC+2                                               05864000
EEDTRANS EQU   EEDPSW2+4                                                05865000
EEDHWREP EQU   EEDVARBL                                                 05866000
EEDHMCHS EQU   EEDHWREP+8                                               05867000
EEDHMCHD EQU   EEDHWREP+9                                               05868000
EEDHRSRS EQU   EEDHWREP+12                                              05869000
EEDHRSR1 EQU   EEDHRSRS                                                 05870000
EEDHRSR2 EQU   EEDHRSRS+1                                               05871000
EEDERMAP EQU   EEDVARBL                                                 05872000
EEDERRID EQU   EEDERMAP+70                                              05873000
EEDESEQ# EQU   EEDERRID                                                 05874000
EEDECPUI EQU   EEDERRID+2                                               05875000
EEDEASID EQU   EEDERRID+4                                               05876000
EEDETIME EQU   EEDERRID+6                                               05877000
RBSECS03 EQU   RBEP                                                     05878000
RBCDE    EQU   RBSECS03                                                 05879000
RBCDFLGS EQU   RBCDE                                                    05880000
RBSECS05 EQU   RBPGMQ                                                   05881000
RBSQE    EQU   RBSECS05                                                 05882000
RBSECS06 EQU   RBPGMQ                                                   05883000
RBIQE    EQU   RBSECS06                                                 05884000
RBSECS07 EQU   RBPGMQ                                                   05885000
RBIQE2   EQU   RBSECS07                                                 05886000
RBSECS08 EQU   IRBEND                                                   05887000
RBSECS09 EQU   IRBEND                                                   05888000
PSARSVTE EQU   PSARSVT                                                  05889000
PSACSTK  EQU   PSARSVTE                                                 05890000
CVTPTR   EQU   FLCCVT                                                   05891000
CVTS01   EQU   CVTPGSIA                                                 05892000
CVTLPDIA EQU   CVTS01+12                                                05893000
CVTDIRST EQU   CVTLPDIA                                                 05894000
CVTSLIDA EQU   CVTS01+24                                                05895000
CVTCTLFG EQU   CVTS01+50                                                05896000
CVTCRMN  EQU   CVTS01+156                                               05897000
CVTASVT  EQU   CVTS01+208                                               05898000
CVTRTMCT EQU   CVTS01+224                                               05899000
CVTRTMS  EQU   CVTS01+244                                               05900000
CVTCSD   EQU   CVTS01+312                                               05901000
CVTRSTWD EQU   CVTS01+368                                               05902000
CVTPCCAT EQU   CVTS01+416                                               05903000
CVTLCCAT EQU   CVTS01+420                                               05904000
CVTRV210 EQU   CVTS01+424                                               05905000
CVTRV219 EQU   CVTS01+425                                               05906000
CVTRV228 EQU   CVTS01+426                                               05907000
CVTRV237 EQU   CVTS01+427                                               05908000
CVTMFRTR EQU   CVTS01+452                                               05909000
CVTRV262 EQU   CVTS01+468                                               05910000
CVTRV271 EQU   CVTS01+469                                               05911000
CVTRV280 EQU   CVTS01+470                                               05912000
CVTRV289 EQU   CVTS01+471                                               05913000
CVTGSDA  EQU   CVTS01+600                                               05914000
SRBAFIN  EQU   LCCAPGTA                                                 05915000
SRBAASID EQU   SRBAFIN                                                  05916000
SRBATCB  EQU   SRBAFIN+2                                                05917000
@NM00183 EQU   TCBRBP                                                   05918000
TCBRBPX  EQU   @NM00183+1                                               05919000
FLC      EQU   PSA                                                      05920000
*                                      START UNREFERENCED COMPONENTS    05921000
@NM00184 EQU   @NM00183                                                 05922000
CVTRV628 EQU   CVTS01+728                                               05923000
CVTRV627 EQU   CVTS01+724                                               05924000
CVTRV626 EQU   CVTS01+720                                               05925000
CVTRV625 EQU   CVTS01+716                                               05926000
CVTRV624 EQU   CVTS01+712                                               05927000
CVTRV623 EQU   CVTS01+708                                               05928000
CVTRV622 EQU   CVTS01+704                                               05929000
CVTRV621 EQU   CVTS01+700                                               05930000
CVTIHASU EQU   CVTS01+696                                               05931000
CVTSUSP  EQU   CVTS01+692                                               05932000
CVTT6SVC EQU   CVTS01+688                                               05933000
CVTCDAL  EQU   CVTS01+684                                               05934000
CVTTCTL  EQU   CVTS01+680                                               05935000
CVTRSUME EQU   CVTS01+676                                               05936000
CVTJTERM EQU   CVTS01+672                                               05937000
CVTASMRM EQU   CVTS01+668                                               05938000
CVTTCASP EQU   CVTS01+664                                               05939000
CVT0PT03 EQU   CVTS01+660                                               05940000
CVT0PT0E EQU   CVTS01+656                                               05941000
CVTRV609 EQU   CVTS01+652                                               05942000
CVTCGK   EQU   CVTS01+648                                               05943000
CVTRAC   EQU   CVTS01+644                                               05944000
CVTHSM   EQU   CVTS01+640                                               05945000
CVTRV605 EQU   CVTS01+636                                               05946000
CVTRV604 EQU   CVTS01+632                                               05947000
CVTEFF02 EQU   CVTS01+628                                               05948000
CVTCBBR  EQU   CVTS01+624                                               05949000
CVTSSCR  EQU   CVTS01+620                                               05950000
CVTEVENT EQU   CVTS01+616                                               05951000
CVTCRCA  EQU   CVTS01+612                                               05952000
CVTTPIO  EQU   CVTS01+608                                               05953000
CVTADV   EQU   CVTS01+604                                               05954000
CVTGSDAB EQU   CVTGSDA                                                  05955000
CVTQV3   EQU   CVTS01+596                                               05956000
CVTQV2   EQU   CVTS01+592                                               05957000
CVTQV1   EQU   CVTS01+588                                               05958000
CVTRPT   EQU   CVTS01+584                                               05959000
CVTSSRB  EQU   CVTS01+580                                               05960000
CVTCSDRL EQU   CVTS01+576                                               05961000
CVTEXP1  EQU   CVTS01+572                                               05962000
CVTRMPMT EQU   CVTS01+568                                               05963000
CVTRMPTT EQU   CVTS01+564                                               05964000
CVTVPSA  EQU   CVTS01+560                                               05965000
CVTVSTOP EQU   CVTS01+556                                               05966000
CVTGTFR8 EQU   CVTS01+552                                               05967000
CVTQUIT  EQU   CVTS01+548                                               05968000
CVTVACR  EQU   CVTS01+544                                               05969000
CVTWTCB  EQU   CVTS01+540                                               05970000
CVTSTPRS EQU   CVTS01+536                                               05971000
CVT0PT02 EQU   CVTS01+532                                               05972000
CVTDARCM EQU   CVTS01+528                                               05973000
CVTIRECM EQU   CVTS01+524                                               05974000
CVTJRECM EQU   CVTS01+520                                               05975000
CVTVEMS0 EQU   CVTS01+516                                               05976000
CVTSPFRR EQU   CVTS01+512                                               05977000
CVTRLSTG EQU   CVTS01+508                                               05978000
CVT0TC0A EQU   CVTS01+504                                               05979000
CVTGMBR  EQU   CVTS01+500                                               05980000
CVTLFRM  EQU   CVTS01+496                                               05981000
CVTRMBR  EQU   CVTS01+492                                               05982000
CVTVIOP  EQU   CVTS01+488                                               05983000
CVTRV307 EQU   CVTS01+486                                               05984000
CVTRV306 EQU   CVTS01+484                                               05985000
CVTRV305 EQU   CVTS01+482                                               05986000
CVTRV304 EQU   CVTS01+480                                               05987000
CVTRV303 EQU   CVTS01+478                                               05988000
CVTRV302 EQU   CVTS01+476                                               05989000
CVTTRCA  EQU   CVTS01+472                                               05990000
CVTRV297 EQU   CVTRV289                                                 05991000
CVTRV296 EQU   CVTRV289                                                 05992000
CVTRV295 EQU   CVTRV289                                                 05993000
CVTRV294 EQU   CVTRV289                                                 05994000
CVTRV293 EQU   CVTRV289                                                 05995000
CVTRV292 EQU   CVTRV289                                                 05996000
CVTRV291 EQU   CVTRV289                                                 05997000
CVTRV290 EQU   CVTRV289                                                 05998000
CVTRV288 EQU   CVTRV280                                                 05999000
CVTRV287 EQU   CVTRV280                                                 06000000
CVTRV286 EQU   CVTRV280                                                 06001000
CVTRV285 EQU   CVTRV280                                                 06002000
CVTRV284 EQU   CVTRV280                                                 06003000
CVTRV283 EQU   CVTRV280                                                 06004000
CVTRV282 EQU   CVTRV280                                                 06005000
CVTRV281 EQU   CVTRV280                                                 06006000
CVTRV279 EQU   CVTRV271                                                 06007000
CVTRV278 EQU   CVTRV271                                                 06008000
CVTRV277 EQU   CVTRV271                                                 06009000
CVTRV276 EQU   CVTRV271                                                 06010000
CVTRV275 EQU   CVTRV271                                                 06011000
CVTRV274 EQU   CVTRV271                                                 06012000
CVTRV273 EQU   CVTRV271                                                 06013000
CVTRV272 EQU   CVTRV271                                                 06014000
CVTRV270 EQU   CVTRV262                                                 06015000
CVTRV269 EQU   CVTRV262                                                 06016000
CVTRV268 EQU   CVTRV262                                                 06017000
CVTRV267 EQU   CVTRV262                                                 06018000
CVTRV266 EQU   CVTRV262                                                 06019000
CVTRV265 EQU   CVTRV262                                                 06020000
CVTRV264 EQU   CVTRV262                                                 06021000
CVTRV263 EQU   CVTRV262                                                 06022000
CVTVFP   EQU   CVTS01+464                                               06023000
CVTVSI   EQU   CVTS01+460                                               06024000
CVTVPSIB EQU   CVTS01+456                                               06025000
CVTMFACT EQU   CVTMFRTR                                                 06026000
CVTMFCTL EQU   CVTS01+448                                               06027000
CVTPVBP  EQU   CVTS01+444                                               06028000
CVTPWI   EQU   CVTS01+440                                               06029000
CVTRV254 EQU   CVTS01+438                                               06030000
CVTRV253 EQU   CVTS01+436                                               06031000
CVTRV252 EQU   CVTS01+434                                               06032000
CVTRV251 EQU   CVTS01+433                                               06033000
CVTRV250 EQU   CVTS01+432                                               06034000
CVTRV249 EQU   CVTS01+431                                               06035000
CVTRV248 EQU   CVTS01+430                                               06036000
CVTRV247 EQU   CVTS01+429                                               06037000
CVTRV246 EQU   CVTS01+428                                               06038000
CVTRV245 EQU   CVTRV237                                                 06039000
CVTRV244 EQU   CVTRV237                                                 06040000
CVTRV243 EQU   CVTRV237                                                 06041000
CVTRV242 EQU   CVTRV237                                                 06042000
CVTRV241 EQU   CVTRV237                                                 06043000
CVTRV240 EQU   CVTRV237                                                 06044000
CVTRV239 EQU   CVTRV237                                                 06045000
CVTRV238 EQU   CVTRV237                                                 06046000
CVTRV236 EQU   CVTRV228                                                 06047000
CVTRV235 EQU   CVTRV228                                                 06048000
CVTRV234 EQU   CVTRV228                                                 06049000
CVTRV233 EQU   CVTRV228                                                 06050000
CVTRV232 EQU   CVTRV228                                                 06051000
CVTRV231 EQU   CVTRV228                                                 06052000
CVTRV230 EQU   CVTRV228                                                 06053000
CVTRV229 EQU   CVTRV228                                                 06054000
CVTRV227 EQU   CVTRV219                                                 06055000
CVTRV226 EQU   CVTRV219                                                 06056000
CVTRV225 EQU   CVTRV219                                                 06057000
CVTRV224 EQU   CVTRV219                                                 06058000
CVTRV223 EQU   CVTRV219                                                 06059000
CVTRV222 EQU   CVTRV219                                                 06060000
CVTRV221 EQU   CVTRV219                                                 06061000
CVTRV220 EQU   CVTRV219                                                 06062000
CVTRV218 EQU   CVTRV210                                                 06063000
CVTRV217 EQU   CVTRV210                                                 06064000
CVTRV216 EQU   CVTRV210                                                 06065000
CVTRV215 EQU   CVTRV210                                                 06066000
CVTRV214 EQU   CVTRV210                                                 06067000
CVTRV213 EQU   CVTRV210                                                 06068000
CVTRV212 EQU   CVTRV210                                                 06069000
CVTRV211 EQU   CVTRV210                                                 06070000
CVTIPCRP EQU   CVTS01+412                                               06071000
CVTIPCRI EQU   CVTS01+408                                               06072000
CVTIPCDS EQU   CVTS01+404                                               06073000
CVTAIDVT EQU   CVTS01+400                                               06074000
CVTSSAP  EQU   CVTS01+396                                               06075000
CVTEHCIR EQU   CVTS01+392                                               06076000
CVTEHDEF EQU   CVTS01+388                                               06077000
CVTDAIR  EQU   CVTS01+384                                               06078000
CVTPERFM EQU   CVTS01+380                                               06079000
CVT044R2 EQU   CVTS01+376                                               06080000
CVTFETCH EQU   CVTS01+372                                               06081000
CVTSPOST EQU   CVTS01+364                                               06082000
CVTIOBP  EQU   CVTS01+360                                               06083000
CVTASMVT EQU   CVTS01+356                                               06084000
CVTRECRQ EQU   CVTS01+352                                               06085000
CVTWSAC  EQU   CVTS01+348                                               06086000
CVTRV149 EQU   CVTS01+344                                               06087000
CVTWSAL  EQU   CVTS01+340                                               06088000
CVTSPSA  EQU   CVTS01+336                                               06089000
CVTGLMN  EQU   CVTS01+332                                               06090000
CVTVEAC0 EQU   CVTS01+328                                               06091000
CVT062R1 EQU   CVTS01+324                                               06092000
CVTRPOST EQU   CVTS01+320                                               06093000
CVTDQIQE EQU   CVTS01+316                                               06094000
CVTLKRMA EQU   CVTS01+308                                               06095000
CVTRSPIE EQU   CVTS01+304                                               06096000
CVTRENQ  EQU   CVTS01+300                                               06097000
CVTLQCB  EQU   CVTS01+296                                               06098000
CVTFQCB  EQU   CVTS01+292                                               06099000
CVTQCS01 EQU   CVTS01+288                                               06100000
CVTAPFT  EQU   CVTS01+284                                               06101000
CVTPARRL EQU   CVTS01+280                                               06102000
CVTVWAIT EQU   CVTS01+276                                               06103000
CVTGSPL  EQU   CVTS01+272                                               06104000
CVTLSMQ  EQU   CVTS01+268                                               06105000
CVTGSMQ  EQU   CVTS01+264                                               06106000
CVTEXPRO EQU   CVTS01+260                                               06107000
CVTOPCTP EQU   CVTS01+256                                               06108000
CVTSIC   EQU   CVTS01+252                                               06109000
CVTTPIOS EQU   CVTS01+248                                               06110000
CVTSDBF  EQU   CVTS01+240                                               06111000
CVTSCBP  EQU   CVTS01+236                                               06112000
CVTSDMP  EQU   CVTS01+232                                               06113000
CVTSV60  EQU   CVTS01+228                                               06114000
CVTASCBL EQU   CVTS01+220                                               06115000
CVTASCBH EQU   CVTS01+216                                               06116000
CVTGDA   EQU   CVTS01+212                                               06117000
CVTVVMDI EQU   CVTS01+204                                               06118000
CVTAQTOP EQU   CVTS01+200                                               06119000
CVTIOSCS EQU   CVTS01+196                                               06120000
CVTSDRM  EQU   CVTS01+192                                               06121000
CVTOPTE  EQU   CVTS01+188                                               06122000
CVTSTXU  EQU   CVTS01+184                                               06123000
CVTQUIS  EQU   CVTS01+180                                               06124000
CVTPARS  EQU   CVTS01+176                                               06125000
CVTS1EE  EQU   CVTS01+172                                               06126000
CVTFRAS  EQU   CVTS01+168                                               06127000
CVTQSAS  EQU   CVTS01+164                                               06128000
CVTCRAS  EQU   CVTS01+160                                               06129000
CVTDELCP EQU   CVTS01+152                                               06130000
CVTFRECL EQU   CVTS01+148                                               06131000
CVTGETCL EQU   CVTS01+144                                               06132000
CVTBLDCP EQU   CVTS01+140                                               06133000
CVTAUTHL EQU   CVTS01+136                                               06134000
CVTSCAN  EQU   CVTS01+132                                               06135000
CVTRV144 EQU   CVTS01+130                                               06136000
CVTMAXMP EQU   CVTS01+128                                               06137000
CVTSTCK  EQU   CVTS01+124                                               06138000
CVTRV139 EQU   CVTS01+123                                               06139000
CVTDSSAC EQU   CVTS01+122                                               06140000
CVTRV513 EQU   CVTS01+121                                               06141000
CVTIOSPL EQU   CVTS01+120                                               06142000
CVTPTGT  EQU   CVTS01+116                                               06143000
CVTCSPIE EQU   CVTS01+112                                               06144000
CVTSMFEX EQU   CVTS01+108                                               06145000
CVTOLT0A EQU   CVTS01+104                                               06146000
CVTSRBRT EQU   CVTS01+100                                               06147000
CVTPUTL  EQU   CVTS01+96                                                06148000
CVTASCRL EQU   CVTS01+92                                                06149000
CVTASCRF EQU   CVTS01+88                                                06150000
CVTRV326 EQU   CVTS01+84                                                06151000
CVTRV325 EQU   CVTS01+80                                                06152000
CVTRV324 EQU   CVTS01+76                                                06153000
CVT0VL01 EQU   CVTS01+72                                                06154000
CVTSHRVM EQU   CVTS01+68                                                06155000
CVTRV332 EQU   CVTS01+64                                                06156000
CVTTAS   EQU   CVTS01+60                                                06157000
CVTRSCN  EQU   CVTS01+56                                                06158000
CVTTRAC2 EQU   CVTS01+54                                                06159000
CVTTRACE EQU   CVTS01+52                                                06160000
CVTAPG   EQU   CVTS01+51                                                06161000
CVTSDTRC EQU   CVTCTLFG                                                 06162000
CVTGTRCE EQU   CVTCTLFG                                                 06163000
CVTNOMP  EQU   CVTCTLFG                                                 06164000
CVTRSV79 EQU   CVTCTLFG                                                 06165000
CVTDSTAT EQU   CVTCTLFG                                                 06166000
CVTRSV78 EQU   CVTCTLFG                                                 06167000
CVTRV333 EQU   CVTCTLFG                                                 06168000
CVTRV323 EQU   CVTCTLFG                                                 06169000
CVTSPVLK EQU   CVTS01+49                                                06170000
CVTRSV77 EQU   CVTS01+48                                                06171000
CVTRV331 EQU   CVTS01+44                                                06172000
CVTRV330 EQU   CVTS01+40                                                06173000
CVTRV329 EQU   CVTS01+36                                                06174000
CVTRV328 EQU   CVTS01+32                                                06175000
CVTRV322 EQU   CVTS01+28                                                06176000
CVTSLID  EQU   CVTSLIDA+1                                               06177000
CVTSYLK  EQU   CVTSLIDA                                                 06178000
CVTRV321 EQU   CVTS01+20                                                06179000
CVTRV320 EQU   CVTS01+16                                                06180000
CVTLPDIR EQU   CVTLPDIA+1                                               06181000
CVTRSV69 EQU   CVTDIRST                                                 06182000
CVTRSV68 EQU   CVTDIRST                                                 06183000
CVTRSV67 EQU   CVTDIRST                                                 06184000
CVTRSV66 EQU   CVTDIRST                                                 06185000
CVTRSV65 EQU   CVTDIRST                                                 06186000
CVTRSV64 EQU   CVTDIRST                                                 06187000
CVTRSV63 EQU   CVTDIRST                                                 06188000
CVTDICOM EQU   CVTDIRST                                                 06189000
CVTPVTP  EQU   CVTS01+8                                                 06190000
CVTLPDSR EQU   CVTS01+4                                                 06191000
CVTGETL  EQU   CVTS01                                                   06192000
PSARSAV  EQU   PSARSVTE+60                                              06193000
PSARSTK  EQU   PSARSVTE+56                                              06194000
PSAESAV3 EQU   PSARSVTE+52                                              06195000
PSAESTK3 EQU   PSARSVTE+48                                              06196000
PSAESAV2 EQU   PSARSVTE+44                                              06197000
PSAESTK2 EQU   PSARSVTE+40                                              06198000
PSAESAV1 EQU   PSARSVTE+36                                              06199000
PSAESTK1 EQU   PSARSVTE+32                                              06200000
PSAPSAV  EQU   PSARSVTE+28                                              06201000
PSAPSTK  EQU   PSARSVTE+24                                              06202000
PSAMSAV  EQU   PSARSVTE+20                                              06203000
PSAMSTK  EQU   PSARSVTE+16                                              06204000
PSASSAV  EQU   PSARSVTE+12                                              06205000
PSASSTK  EQU   PSARSVTE+8                                               06206000
PSANSTK  EQU   PSARSVTE+4                                               06207000
RBRSV161 EQU   RBSECS09+64                                              06208000
RBSIRBWA EQU   RBSECS09                                                 06209000
RBIQEWRK EQU   RBSECS08+4                                               06210000
RBNEXAV  EQU   RBSECS08                                                 06211000
RBIQEA   EQU   RBIQE2                                                   06212000
RBIQE1   EQU   RBIQE+1                                                  06213000
RBUSE    EQU   RBIQE                                                    06214000
RBSQEA   EQU   RBSQE+1                                                  06215000
@NM00069 EQU   RBSQE                                                    06216000
RBCDE1   EQU   RBCDE+1                                                  06217000
RBCDLOAD EQU   RBCDFLGS                                                 06218000
RBCDXCTL EQU   RBCDFLGS                                                 06219000
RBCDSYNC EQU   RBCDFLGS                                                 06220000
RBCDNODE EQU   RBCDFLGS                                                 06221000
RBRSV010 EQU   RBCDFLGS                                                 06222000
RBCDATCH EQU   RBCDFLGS                                                 06223000
RBRSV009 EQU   RBCDFLGS                                                 06224000
RBNOCELL EQU   RBCDFLGS                                                 06225000
@NM00029 EQU   EEDERMAP                                                 06226000
EEDHTIME EQU   EEDHWREP+20                                              06227000
EEDHRFSA EQU   EEDHWREP+16                                              06228000
@NM00028 EQU   EEDHWREP+14                                              06229000
EEDHVERQ EQU   EEDHRSR2                                                 06230000
EEDHPGFX EQU   EEDHRSR2                                                 06231000
EEDHFLSQ EQU   EEDHRSR2                                                 06232000
EEDHFSQA EQU   EEDHRSR2                                                 06233000
EEDHNUCL EQU   EEDHRSR2                                                 06234000
EEDHSPER EQU   EEDHRSR2                                                 06235000
EEDHINTC EQU   EEDHRSR2                                                 06236000
EEDHOFLN EQU   EEDHRSR2                                                 06237000
EEDHCHNG EQU   EEDHRSR1                                                 06238000
EEDHMSER EQU   EEDHRSR1                                                 06239000
@NM00027 EQU   EEDHRSR1                                                 06240000
EEDHCPID EQU   EEDHWREP+10                                              06241000
EEDHTERR EQU   EEDHMCHD                                                 06242000
EEDHSOFT EQU   EEDHMCHD                                                 06243000
EEDHINSF EQU   EEDHMCHD                                                 06244000
EEDHACR  EQU   EEDHMCHD                                                 06245000
EEDHSCK  EQU   EEDHMCHD                                                 06246000
EEDHPSWU EQU   EEDHMCHD                                                 06247000
EEDHREGU EQU   EEDHMCHD                                                 06248000
EEDHSKYF EQU   EEDHMCHD                                                 06249000
@NM00026 EQU   EEDHMCHS                                                 06250000
@NM00025 EQU   EEDHMCHS                                                 06251000
EEDHRSRF EQU   EEDHMCHS                                                 06252000
EEDRSRC  EQU   EEDHMCHS                                                 06253000
EEDINVP  EQU   EEDHMCHS                                                 06254000
EEDHTSVL EQU   EEDHMCHS                                                 06255000
EEDHRCDF EQU   EEDHMCHS                                                 06256000
EEDHSRVL EQU   EEDHMCHS                                                 06257000
EEDHSCKE EQU   EEDHWREP+4                                               06258000
EEDHSCKB EQU   EEDHWREP                                                 06259000
EEDILC   EQU   EEDINILC+1                                               06260000
@NM00024 EQU   EEDINILC                                                 06261000
EEDPSWIC EQU   EEDPSW1+4                                                06262000
EEDPSWMK EQU   EEDPSW1                                                  06263000
EEDREG15 EQU   EEDREGS+60                                               06264000
EEDREG14 EQU   EEDREGS+56                                               06265000
EEDREG13 EQU   EEDREGS+52                                               06266000
EEDREG12 EQU   EEDREGS+48                                               06267000
EEDREG11 EQU   EEDREGS+44                                               06268000
EEDREG10 EQU   EEDREGS+40                                               06269000
EEDREG9  EQU   EEDREGS+36                                               06270000
EEDREG8  EQU   EEDREGS+32                                               06271000
EEDREG7  EQU   EEDREGS+28                                               06272000
EEDREG6  EQU   EEDREGS+24                                               06273000
EEDREG5  EQU   EEDREGS+20                                               06274000
EEDREG4  EQU   EEDREGS+16                                               06275000
EEDREG3  EQU   EEDREGS+12                                               06276000
EEDREG2  EQU   EEDREGS+8                                                06277000
EEDREG1  EQU   EEDREGS+4                                                06278000
EEDREG0  EQU   EEDREGS                                                  06279000
@NM00021 EQU   RT1RTRN                                                  06280000
@NM00020 EQU   RT1WCOVR                                                 06281000
RT1TRTCA EQU   RT1WCOVR                                                 06282000
RT1TLOCL EQU   RT1WCOVR                                                 06283000
RT1WCLUP EQU   RT1WCOVR                                                 06284000
RT1WSRMD EQU   RT1WENTR+1                                               06285000
RT1WSRBR EQU   RT1WPRSV+4                                               06286000
EEDSPDAT EQU   EEDSDDAT+2                                               06287000
EEDSSDAT EQU   EEDSDDAT                                                 06288000
EEDSDUMP EQU   EEDSCDMP                                                 06289000
@NM00186 EQU   @NM00185                                                 06290000
SLPWA    EQU   SLIPLIST+24                                              06291000
CVTLEVL  EQU   CVTRELNO+2                                               06292000
CVTNUMB  EQU   CVTRELNO                                                 06293000
CVTMDL   EQU   CVTFIX+250                                               06294000
@NM00182 EQU   CVTFIX+248                                               06295000
@NM00181 EQU   CVTFIX                                                   06296000
CVTRV482 EQU   CVTXTNT2+128                                             06297000
CVTRV481 EQU   CVTXTNT2+124                                             06298000
CVTRV480 EQU   CVTXTNT2+120                                             06299000
CVTRV479 EQU   CVTXTNT2+118                                             06300000
CVTRV478 EQU   CVTXTNT2+117                                             06301000
CVTRV477 EQU   CVTXTNT2+116                                             06302000
CVTRV476 EQU   CVTXTNT2+115                                             06303000
CVTRV475 EQU   CVTXTNT2+114                                             06304000
CVTRV474 EQU   CVTRV466                                                 06305000
CVTRV473 EQU   CVTRV466                                                 06306000
CVTRV472 EQU   CVTRV466                                                 06307000
CVTRV471 EQU   CVTRV466                                                 06308000
CVTRV470 EQU   CVTRV466                                                 06309000
CVTRV469 EQU   CVTRV466                                                 06310000
CVTRV468 EQU   CVTRV466                                                 06311000
CVTRV467 EQU   CVTRV466                                                 06312000
CVTRV465 EQU   CVTRV457                                                 06313000
CVTRV464 EQU   CVTRV457                                                 06314000
CVTRV463 EQU   CVTRV457                                                 06315000
CVTRV462 EQU   CVTRV457                                                 06316000
CVTRV461 EQU   CVTRV457                                                 06317000
CVTRV460 EQU   CVTRV457                                                 06318000
CVTRV459 EQU   CVTRV457                                                 06319000
CVTRV458 EQU   CVTRV457                                                 06320000
CVTRV456 EQU   CVTXTNT2+108                                             06321000
CVTRV455 EQU   CVTXTNT2+104                                             06322000
CVTRV454 EQU   CVTXTNT2+100                                             06323000
CVTRV453 EQU   CVTXTNT2+96                                              06324000
CVTRV452 EQU   CVTXTNT2+94                                              06325000
CVTRV451 EQU   CVTXTNT2+92                                              06326000
CVTRV450 EQU   CVTXTNT2+90                                              06327000
CVTRV449 EQU   CVTXTNT2+88                                              06328000
CVTRV448 EQU   CVTXTNT2+87                                              06329000
CVTRV447 EQU   CVTXTNT2+86                                              06330000
CVTRV446 EQU   CVTRV438                                                 06331000
CVTRV445 EQU   CVTRV438                                                 06332000
CVTRV444 EQU   CVTRV438                                                 06333000
CVTRV443 EQU   CVTRV438                                                 06334000
CVTRV442 EQU   CVTRV438                                                 06335000
CVTRV441 EQU   CVTRV438                                                 06336000
CVTRV440 EQU   CVTRV438                                                 06337000
CVTRV439 EQU   CVTRV438                                                 06338000
CVTRV437 EQU   CVTRV429                                                 06339000
CVTRV436 EQU   CVTRV429                                                 06340000
CVTRV435 EQU   CVTRV429                                                 06341000
CVTRV434 EQU   CVTRV429                                                 06342000
CVTRV433 EQU   CVTRV429                                                 06343000
CVTRV432 EQU   CVTRV429                                                 06344000
CVTRV431 EQU   CVTRV429                                                 06345000
CVTRV430 EQU   CVTRV429                                                 06346000
CVTRV428 EQU   CVTXTNT2+80                                              06347000
CVTRV427 EQU   CVTXTNT2+76                                              06348000
CVTRV426 EQU   CVTXTNT2+72                                              06349000
CVTRV425 EQU   CVTXTNT2+68                                              06350000
CVTATACT EQU   CVTATCVT                                                 06351000
CVTRV423 EQU   CVTXTNT2+62                                              06352000
CVTRV422 EQU   CVTXTNT2+60                                              06353000
CVTRV421 EQU   CVTXTNT2+58                                              06354000
CVTRV420 EQU   CVTXTNT2+56                                              06355000
CVTRV419 EQU   CVTXTNT2+55                                              06356000
CVTRV418 EQU   CVTXTNT2+54                                              06357000
CVTRV417 EQU   CVTRV409                                                 06358000
CVTRV416 EQU   CVTRV409                                                 06359000
CVTRV415 EQU   CVTRV409                                                 06360000
CVTRV414 EQU   CVTRV409                                                 06361000
CVTRV413 EQU   CVTRV409                                                 06362000
CVTRV412 EQU   CVTRV409                                                 06363000
CVTRV411 EQU   CVTRV409                                                 06364000
CVTRV410 EQU   CVTRV409                                                 06365000
CVTRV408 EQU   CVTRV400                                                 06366000
CVTRV407 EQU   CVTRV400                                                 06367000
CVTRV406 EQU   CVTRV400                                                 06368000
CVTRV405 EQU   CVTRV400                                                 06369000
CVTRV404 EQU   CVTRV400                                                 06370000
CVTRV403 EQU   CVTRV400                                                 06371000
CVTRV402 EQU   CVTRV400                                                 06372000
CVTRV401 EQU   CVTRV400                                                 06373000
CVTICB   EQU   CVTXTNT2+48                                              06374000
CVTSKTA  EQU   CVTXTNT2+44                                              06375000
CVTCCVT  EQU   CVTXTNT2+40                                              06376000
CVTRSV98 EQU   CVTXTNT2+36                                              06377000
CVTRSV97 EQU   CVTXTNT2+34                                              06378000
CVTRSV96 EQU   CVTXTNT2+32                                              06379000
CVTOLTEP EQU   CVTXTNT2+28                                              06380000
CVTQIDA  EQU   CVTQID+1                                                 06381000
CVTRSV95 EQU   CVTQID                                                   06382000
CVTRSV94 EQU   CVTXTNT2+20                                              06383000
CVTRSV93 EQU   CVTXTNT2+16                                              06384000
CVTRSV92 EQU   CVTXTNT2+12                                              06385000
CVTDEBVR EQU   CVTXTNT2+8                                               06386000
CVTRSV91 EQU   CVTXTNT2+6                                               06387000
CVTRSV9H EQU   CVTFLGBT                                                 06388000
CVTRSV9G EQU   CVTFLGBT                                                 06389000
CVTRSV9F EQU   CVTFLGBT                                                 06390000
CVTRSV9E EQU   CVTFLGBT                                                 06391000
CVTRSV9D EQU   CVTFLGBT                                                 06392000
CVTBAH   EQU   CVTFLGBT                                                 06393000
CVTVME   EQU   CVTFLGBT                                                 06394000
CVTNPE   EQU   CVTFLGBT                                                 06395000
CVTNUCLS EQU   CVTXTNT2+4                                               06396000
CVTDSSVA EQU   CVTDSSV+1                                                06397000
CVTRSV89 EQU   CVTDSSV                                                  06398000
CVTRSV88 EQU   CVTXTNT1+8                                               06399000
CVTRSV87 EQU   CVTXTNT1+4                                               06400000
CVTFACHN EQU   CVTXTNT1                                                 06401000
CVTRV488 EQU   CVTMAP+412                                               06402000
CVTRV487 EQU   CVTMAP+408                                               06403000
CVTRV486 EQU   CVTMAP+404                                               06404000
CVTRV485 EQU   CVTMAP+400                                               06405000
CVTACTAP EQU   CVTMAP+396                                               06406000
CVTAUTH  EQU   CVTMAP+392                                               06407000
CVTRV490 EQU   CVTMAP+388                                               06408000
CVTSU    EQU   CVTMAP+384                                               06409000
CVTVOLT1 EQU   CVTVOLM1+1                                               06410000
CVTVOLI1 EQU   CVTVOLF1                                                 06411000
CVTSTOA  EQU   CVTMAP+376                                               06412000
CVTRSV58 EQU   CVTMAP+374                                               06413000
CVTRSV57 EQU   CVTMAP+372                                               06414000
CVTDDCE  EQU   CVTMAP+368                                               06415000
CVTPNWFR EQU   CVTMAP+364                                               06416000
CVTSMF   EQU   CVTMAP+360                                               06417000
CVTSULK  EQU   CVTMAP+358                                               06418000
CVTSLKO  EQU   CVTSYSK                                                  06419000
CVTSLKP  EQU   CVTSYSK                                                  06420000
CVTSLKQ  EQU   CVTSYSK                                                  06421000
CVTSLKR  EQU   CVTSYSK                                                  06422000
CVTRSV56 EQU   CVTSYSK                                                  06423000
CVTRSV55 EQU   CVTSYSK                                                  06424000
CVTRSV54 EQU   CVTSYSK                                                  06425000
CVTRSV53 EQU   CVTSYSK                                                  06426000
CVTRSV52 EQU   CVTA1F1                                                  06427000
CVTRSV51 EQU   CVTA1F1                                                  06428000
CVTRSV50 EQU   CVTA1F1                                                  06429000
CVTRSV49 EQU   CVTA1F1                                                  06430000
CVTRSV48 EQU   CVTA1F1                                                  06431000
CVTRSV47 EQU   CVTA1F1                                                  06432000
CVTSRSW  EQU   CVTA1F1                                                  06433000
CVTPFSW  EQU   CVTA1F1                                                  06434000
CVTPCVT  EQU   CVTMAP+352                                               06435000
CVTRSV46 EQU   CVTMAP+344                                               06436000
CVTRSV45 EQU   CVTMAP+340                                               06437000
CVTRSV44 EQU   CVTMAP+338                                               06438000
CVTRSV43 EQU   CVTMAP+336                                               06439000
CVTHJESA EQU   CVTHJES+1                                                06440000
CVTRSV42 EQU   CVTHJES                                                  06441000
CVTEXT2A EQU   CVTEXT2+1                                                06442000
CVTRSV41 EQU   CVTEXT2                                                  06443000
CVTAPFA  EQU   CVTAPF+1                                                 06444000
CVTRSV40 EQU   CVTAPF                                                   06445000
CVTRV518 EQU   CVTINTLA                                                 06446000
CVTRV517 EQU   CVTERPV                                                  06447000
CVTEORM  EQU   CVTMAP+312                                               06448000
CVTMCHPR EQU   CVTMAP+308                                               06449000
CVTTZ    EQU   CVTMAP+304                                               06450000
CVTJEPS  EQU   CVTMAP+300                                               06451000
CVTJESCT EQU   CVTMAP+296                                               06452000
CVTMODE  EQU   CVTMAP+292                                               06453000
CVTPTRV  EQU   CVTMAP+288                                               06454000
CVTREAL  EQU   CVTMAP+284                                               06455000
CVTRSV39 EQU   CVTMAP+280                                               06456000
CVTRSV38 EQU   CVTMAP+276                                               06457000
CVTDMSRA EQU   CVTDMSR+1                                                06458000
CVTRV634 EQU   CVTDMSRF                                                 06459000
CVTRV633 EQU   CVTDMSRF                                                 06460000
CVTRV632 EQU   CVTDMSRF                                                 06461000
CVTRV631 EQU   CVTDMSRF                                                 06462000
CVTRV630 EQU   CVTDMSRF                                                 06463000
CVTRV629 EQU   CVTDMSRF                                                 06464000
CVTUDUMP EQU   CVTDMSRF                                                 06465000
CVTSDUMP EQU   CVTDMSRF                                                 06466000
CVTQMSGA EQU   CVTQMSG+1                                                06467000
CVTRSV36 EQU   CVTQMSG                                                  06468000
CVTAMFF  EQU   CVTMAP+264                                               06469000
CVTPURGA EQU   CVTPURG+1                                                06470000
CVTRSV35 EQU   CVTPURG                                                  06471000
CVTCBSP  EQU   CVTMAP+256                                               06472000
CVTATERA EQU   CVTATER+1                                                06473000
CVTSYST  EQU   CVTATER                                                  06474000
CVTVOLT2 EQU   CVTTAT                                                   06475000
CVTVOLI2 EQU   CVTVOLF2                                                 06476000
CVTAQAVB EQU   CVTAQAVT+1                                               06477000
CVTRSV34 EQU   CVTTCMFG                                                 06478000
CVTRSV33 EQU   CVTTCMFG                                                 06479000
CVTRSV32 EQU   CVTTCMFG                                                 06480000
CVTRSV31 EQU   CVTTCMFG                                                 06481000
CVTRSV30 EQU   CVTTCMFG                                                 06482000
CVTRSV29 EQU   CVTTCMFG                                                 06483000
CVTLDEV  EQU   CVTTCMFG                                                 06484000
CVTTCRDY EQU   CVTTCMFG                                                 06485000
CVTGTFA  EQU   CVTGTF+1                                                 06486000
CVTRSV27 EQU   CVTGTFST                                                 06487000
CVTRNIO  EQU   CVTGTFST                                                 06488000
CVTUSR   EQU   CVTGTFST                                                 06489000
CVTRV318 EQU   CVTFORM                                                  06490000
CVTRV317 EQU   CVTTMODE                                                 06491000
CVTRV316 EQU   CVTSTATE                                                 06492000
CVTRV315 EQU   CVTGTFS                                                  06493000
CVTGTFAV EQU   CVTGTFS                                                  06494000
CVT0SCR1 EQU   CVTMAP+232                                               06495000
CVTRV515 EQU   CVTMAP+228                                               06496000
CVTRMS   EQU   CVTMAP+224                                               06497000
CVTPATCH EQU   CVTMAP+220                                               06498000
CVTTSCE  EQU   CVTMAP+216                                               06499000
CVTLNKSC EQU   CVTMAP+214                                               06500000
CVTQABST EQU   CVTMAP+212                                               06501000
CVTMDLDS EQU   CVTMAP+208                                               06502000
CVTUSER  EQU   CVTMAP+204                                               06503000
CVTSMCA  EQU   CVTMAP+196                                               06504000
CVTRSV18 EQU   CVTMAP+192                                               06505000
CVTQLPAQ EQU   CVTMAP+188                                               06506000
CVTQCDSR EQU   CVTMAP+184                                               06507000
CVTVS1B  EQU   CVTOPTB                                                  06508000
CVTVS1A  EQU   CVTOPTB                                                  06509000
CVTFP    EQU   CVTOPTB                                                  06510000
CVTAPTHR EQU   CVTOPTB                                                  06511000
CVTNLOG  EQU   CVTOPTB                                                  06512000
CVTTOD   EQU   CVTOPTB                                                  06513000
CVTCTIMS EQU   CVTOPTB                                                  06514000
CVTPROT  EQU   CVTOPTB                                                  06515000
CVTXPFP  EQU   CVTOPTA                                                  06516000
CVTASCII EQU   CVTOPTA                                                  06517000
CVTRSV13 EQU   CVTOPTA                                                  06518000
CVTRSV12 EQU   CVTOPTA                                                  06519000
CVTNIP   EQU   CVTOPTA                                                  06520000
CVTDDR   EQU   CVTOPTA                                                  06521000
CVTAPR   EQU   CVTOPTA                                                  06522000
CVTCCH   EQU   CVTOPTA                                                  06523000
CVTSNCTR EQU   CVTMAP+180                                               06524000
CVTQMWR  EQU   CVTMAP+176                                               06525000
CVTQOCR  EQU   CVTMAP+172                                               06526000
CVT1EF00 EQU   CVTMAP+168                                               06527000
CVTMZ00  EQU   CVTMAP+164                                               06528000
CVTSV76Q EQU   CVTSV76C                                                 06529000
CVTRSV11 EQU   CVTMAP+156                                               06530000
CVTMSER  EQU   CVTMAP+148                                               06531000
CVTRV516 EQU   CVTIERLC                                                 06532000
CVTILCH  EQU   CVTMAP+140                                               06533000
CVT0DS   EQU   CVTMAP+136                                               06534000
CVTFBOSV EQU   CVTMAP+132                                               06535000
CVTNUCB  EQU   CVTMAP+128                                               06536000
CVTIXAVL EQU   CVTMAP+124                                               06537000
CVTSV76M EQU   CVTIOQET                                                 06538000
CVTDCBA  EQU   CVTMAP+117                                               06539000
CVTMVS2  EQU   CVTDCB                                                   06540000
CVT6DAT  EQU   CVTDCB                                                   06541000
CVT4MPS  EQU   CVTDCB                                                   06542000
CVTRSV09 EQU   CVTDCB                                                   06543000
CVT4MS1  EQU   CVTDCB                                                   06544000
CVT2SPS  EQU   CVTDCB                                                   06545000
CVT1SSS  EQU   CVTDCB                                                   06546000
CVTRSV08 EQU   CVTDCB                                                   06547000
CVTSTB   EQU   CVTMAP+112                                               06548000
CVTQTD00 EQU   CVTMAP+108                                               06549000
CVTQTE00 EQU   CVTMAP+104                                               06550000
CVTCUCB  EQU   CVTMAP+100                                               06551000
CVTSJQ   EQU   CVTMAP+96                                                06552000
CVTPBLDL EQU   CVTMAP+92                                                06553000
CVTTPC   EQU   CVTMAP+88                                                06554000
CVTSVDCB EQU   CVTMAP+84                                                06555000
CVTBRET  EQU   CVTMAP+82                                                06556000
CVTEXIT  EQU   CVTMAP+80                                                06557000
CVT0FN00 EQU   CVTMAP+76                                                06558000
CVTDARA  EQU   CVTDAR+1                                                 06559000
CVTRSV07 EQU   CVTFLGS1                                                 06560000
CVTRSV06 EQU   CVTFLGS1                                                 06561000
CVTRSV05 EQU   CVTFLGS1                                                 06562000
CVTRSV04 EQU   CVTFLGS1                                                 06563000
CVTRSV03 EQU   CVTFLGS1                                                 06564000
CVTRSV02 EQU   CVTFLGS1                                                 06565000
CVTRSV01 EQU   CVTFLGS1                                                 06566000
CVTDMPLK EQU   CVTFLGS1                                                 06567000
CVTXITP  EQU   CVTMAP+68                                                06568000
CVTZDTAB EQU   CVTMAP+64                                                06569000
CVTMSLT  EQU   CVTMAP+60                                                06570000
CVTDATE  EQU   CVTMAP+56                                                06571000
CVTSYSAD EQU   CVTMAP+48                                                06572000
CVTXTLER EQU   CVTMAP+44                                                06573000
CVTILK2  EQU   CVTMAP+40                                                06574000
CVTILK1  EQU   CVTMAP+36                                                06575000
CVTPRLTV EQU   CVTMAP+32                                                06576000
CVTPCNVT EQU   CVTMAP+28                                                06577000
CVT0VL00 EQU   CVTMAP+24                                                06578000
CVTXAPG  EQU   CVTMAP+20                                                06579000
CVTBUF   EQU   CVTMAP+16                                                06580000
CVTJOB   EQU   CVTMAP+12                                                06581000
CVTLINK  EQU   CVTMAP+8                                                 06582000
CVT0EF00 EQU   CVTMAP+4                                                 06583000
CVTTCBP  EQU   CVTMAP                                                   06584000
CVT      EQU   CVTMAP                                                   06585000
SHDRIDCT EQU   SHDR+22                                                  06586000
SHDRSEQ  EQU   SHDR+21                                                  06587000
@NM00180 EQU   SHDRFLGS                                                 06588000
SHDRDELP EQU   SHDRFLGS                                                 06589000
SHDRFRR  EQU   SHDRFLGS                                                 06590000
SHDRBKWD EQU   SHDR+16                                                  06591000
SHDRFWD  EQU   SHDRCTFW+4                                               06592000
SHDRCTR  EQU   SHDRCTFW                                                 06593000
SHDRCBID EQU   SHDR                                                     06594000
SNPHDRA  EQU   SNPPARMS+20                                              06595000
SNPTCBA  EQU   SNPPARMS+12                                              06596000
SNPDCB   EQU   SNPPARMS+8                                               06597000
@NM00179 EQU   SNPPARMS+7                                               06598000
@NM00178 EQU   SNPPDATA                                                 06599000
SNPSPLS  EQU   SNPPDATA                                                 06600000
SNPPSW   EQU   SNPPDATA                                                 06601000
SNPJPA   EQU   SNPPDATA                                                 06602000
SNPLPA   EQU   SNPPDATA                                                 06603000
SNPREGS  EQU   SNPPDATA                                                 06604000
SNPSAVE2 EQU   SNPPDATA                                                 06605000
SNPSAVE  EQU   SNPPDATA                                                 06606000
@NM00177 EQU   SNPSDAT1                                                 06607000
SNPERR   EQU   SNPSDAT1                                                 06608000
SNPIO    EQU   SNPSDAT1                                                 06609000
SNPDM    EQU   SNPSDAT0                                                 06610000
SNPQCB   EQU   SNPSDAT0                                                 06611000
SNPCB    EQU   SNPSDAT0                                                 06612000
SNPTRT   EQU   SNPSDAT0                                                 06613000
SNPSWA   EQU   SNPSDAT0                                                 06614000
SNPLSQA  EQU   SNPSDAT0                                                 06615000
SNPSQA   EQU   SNPSDAT0                                                 06616000
SNPNUC   EQU   SNPSDAT0                                                 06617000
@NM00176 EQU   SNPPARMS+2                                               06618000
SNPHDR   EQU   SNPFLAG                                                  06619000
SNPTCB   EQU   SNPFLAG                                                  06620000
SNPID    EQU   SNPFLAG                                                  06621000
SNPABEND EQU   SNPFLAG                                                  06622000
SNPVS2EN EQU   SNPFLAG                                                  06623000
SNPVS2   EQU   SNPFLAG                                                  06624000
SNPSNAP  EQU   SNPFLAG                                                  06625000
@NM00175 EQU   SDWA+512                                                 06626000
SDWAVRA  EQU   SDWARA+4                                                 06627000
SDWAURAL EQU   SDWARA+3                                                 06628000
@NM00174 EQU   SDWADPVA                                                 06629000
SDWAEBC  EQU   SDWADPVA                                                 06630000
SDWAHEX  EQU   SDWADPVA                                                 06631000
SDWAVRAL EQU   SDWARA                                                   06632000
SDWACOMP EQU   SDWA+392                                                 06633000
SDWARCPL EQU   SDWA+364                                                 06634000
@NM00173 EQU   SDWADPSA+32                                              06635000
SDWATO4  EQU   SDWADPSL+28                                              06636000
SDWAFRM4 EQU   SDWADPSL+24                                              06637000
SDWATO3  EQU   SDWADPSL+20                                              06638000
SDWAFRM3 EQU   SDWADPSL+16                                              06639000
SDWATO2  EQU   SDWADPSL+12                                              06640000
SDWAFRM2 EQU   SDWADPSL+8                                               06641000
SDWATO1  EQU   SDWADPSL+4                                               06642000
SDWAFRM1 EQU   SDWADPSL                                                 06643000
@NM00172 EQU   SDWADDAT+3                                               06644000
@NM00171 EQU   SDWAPDAT                                                 06645000
SDWAUSPL EQU   SDWAPDAT                                                 06646000
SDWADPSW EQU   SDWAPDAT                                                 06647000
SDWATJPA EQU   SDWAPDAT                                                 06648000
SDWATLPA EQU   SDWAPDAT                                                 06649000
SDWADREG EQU   SDWAPDAT                                                 06650000
SDWADSAH EQU   SDWAPDAT                                                 06651000
SDWADSAS EQU   SDWAPDAT                                                 06652000
@NM00170 EQU   SDWASDA1                                                 06653000
SDWAERR  EQU   SDWASDA1                                                 06654000
SDWAIO   EQU   SDWASDA1                                                 06655000
SDWADM   EQU   SDWASDA0                                                 06656000
SDWAQQS  EQU   SDWASDA0                                                 06657000
SDWACBS  EQU   SDWASDA0                                                 06658000
SDWAGTF  EQU   SDWASDA0                                                 06659000
SDWASWA  EQU   SDWASDA0                                                 06660000
SDWALSQA EQU   SDWASDA0                                                 06661000
SDWASQA  EQU   SDWASDA0                                                 06662000
SDWANUC  EQU   SDWASDA0                                                 06663000
@NM00169 EQU   SDWADUMP+2                                               06664000
@NM00168 EQU   SDWADPFS                                                 06665000
SDWASLST EQU   SDWADPFS                                                 06666000
@NM00167 EQU   SDWADPFS                                                 06667000
SDWAENSN EQU   SDWADPFS                                                 06668000
SDWADPT  EQU   SDWADPFS                                                 06669000
SDWADPID EQU   SDWADUMP                                                 06670000
SDWADPLA EQU   SDWA+316                                                 06671000
SDWAREXN EQU   SDWARECP+16                                              06672000
SDWACSCT EQU   SDWARECP+8                                               06673000
SDWAMODN EQU   SDWARECP                                                 06674000
SDWAASID EQU   SDWA+288                                                 06675000
SDWATALW EQU   SDWALKWS+28                                              06676000
SDWATDLW EQU   SDWALKWS+24                                              06677000
SDWATNLW EQU   SDWALKWS+20                                              06678000
SDWAAPLW EQU   SDWALKWS+16                                              06679000
SDWAIPLW EQU   SDWALKWS+12                                              06680000
SDWAILLW EQU   SDWALKWS+8                                               06681000
SDWAIULW EQU   SDWALKWS+4                                               06682000
SDWAICLW EQU   SDWALKWS                                                 06683000
SDWAFLLK EQU   SDWAACF4                                                 06684000
SDWACMS  EQU   SDWAACF4                                                 06685000
SDWAOPTM EQU   SDWAACF4                                                 06686000
SDWATADB EQU   SDWAACF4                                                 06687000
SDWATDNB EQU   SDWAACF4                                                 06688000
SDWATNCB EQU   SDWAACF4                                                 06689000
SDWAILCH EQU   SDWAACF4                                                 06690000
SDWAIUCB EQU   SDWAACF4                                                 06691000
SDWAICAT EQU   SDWAACF3                                                 06692000
SDWAIPRG EQU   SDWAACF3                                                 06693000
SDWASALL EQU   SDWAACF3                                                 06694000
SDWAASMP EQU   SDWAACF3                                                 06695000
SDWADISP EQU   SDWAACF3                                                 06696000
@NM00166 EQU   SDWAACF3                                                 06697000
@NM00165 EQU   SDWAACF2                                                 06698000
SDWAFREE EQU   SDWAACF2                                                 06699000
SDWAUPRG EQU   SDWAACF2                                                 06700000
@NM00164 EQU   SDWAACF2                                                 06701000
@NM00163 EQU   SDWAACF2                                                 06702000
SDWARCRD EQU   SDWAACF2                                                 06703000
@NM00162 EQU   SDWACPUA                                                 06704000
SDWARECA EQU   SDWA+244                                                 06705000
@NM00161 EQU   SDWAIOFS                                                 06706000
SDWANIOP EQU   SDWAIOFS                                                 06707000
SDWANOIO EQU   SDWAIOFS                                                 06708000
SDWAIOHT EQU   SDWAIOFS                                                 06709000
SDWAIOQR EQU   SDWAIOFS                                                 06710000
SDWAMCIV EQU   SDWAERRD                                                 06711000
SDWARPIV EQU   SDWAERRD                                                 06712000
SDWAMABD EQU   SDWAERRD                                                 06713000
SDWACTS  EQU   SDWAERRD                                                 06714000
SDWASTAE EQU   SDWAERRD                                                 06715000
SDWANRBE EQU   SDWAERRD                                                 06716000
SDWACLUP EQU   SDWAERRD                                                 06717000
@NM00160 EQU   SDWAERRC                                                 06718000
SDWAEAS  EQU   SDWAERRC                                                 06719000
SDWAPERC EQU   SDWAERRC                                                 06720000
SDWAIRB  EQU   SDWAERRC                                                 06721000
SDWASTAI EQU   SDWAERRC                                                 06722000
SDWASTAF EQU   SDWAERRC                                                 06723000
SDWASRBM EQU   SDWAERRB                                                 06724000
SDWALDIS EQU   SDWAERRB                                                 06725000
SDWAENRB EQU   SDWAERRB                                                 06726000
SDWATYP1 EQU   SDWAERRB                                                 06727000
@NM00159 EQU   SDWAERRB                                                 06728000
SDWAPGIO EQU   SDWAERRA                                                 06729000
SDWATEXC EQU   SDWAERRA                                                 06730000
SDWASVCE EQU   SDWAERRA                                                 06731000
SDWAABTM EQU   SDWAERRA                                                 06732000
SDWASVCD EQU   SDWAERRA                                                 06733000
SDWARKEY EQU   SDWAERRA                                                 06734000
SDWAPCHK EQU   SDWAERRA                                                 06735000
SDWAMCHK EQU   SDWAERRA                                                 06736000
SDWATIME EQU   SDWAMCH+20                                               06737000
SDWARFSA EQU   SDWAMCH+16                                               06738000
@NM00158 EQU   SDWAMCH+14                                               06739000
SDWAVEQR EQU   SDWARSR2                                                 06740000
SDWAPGFX EQU   SDWARSR2                                                 06741000
SDWAFLSQ EQU   SDWARSR2                                                 06742000
SDWAFSQA EQU   SDWARSR2                                                 06743000
SDWANUCL EQU   SDWARSR2                                                 06744000
SDWASPER EQU   SDWARSR2                                                 06745000
SDWAINTC EQU   SDWARSR2                                                 06746000
SDWAOFLN EQU   SDWARSR2                                                 06747000
SDWACHNG EQU   SDWARSR1                                                 06748000
SDWAMSER EQU   SDWARSR1                                                 06749000
@NM00157 EQU   SDWARSR1                                                 06750000
SDWACPID EQU   SDWAMCH+10                                               06751000
SDWATERR EQU   SDWAMCHD                                                 06752000
SDWAFPRX EQU   SDWAMCHD                                                 06753000
SDWAINSF EQU   SDWAMCHD                                                 06754000
SDWAACR  EQU   SDWAMCHD                                                 06755000
SDWASCK  EQU   SDWAMCHD                                                 06756000
SDWAPSWU EQU   SDWAMCHD                                                 06757000
SDWAREGU EQU   SDWAMCHD                                                 06758000
SDWASKYF EQU   SDWAMCHD                                                 06759000
@NM00156 EQU   SDWAMCHS                                                 06760000
SDWARSRF EQU   SDWAMCHS                                                 06761000
SDWARSRC EQU   SDWAMCHS                                                 06762000
SDWAINVP EQU   SDWAMCHS                                                 06763000
SDWATSVL EQU   SDWAMCHS                                                 06764000
SDWARCDF EQU   SDWAMCHS                                                 06765000
SDWASRVL EQU   SDWAMCHS                                                 06766000
SDWASCKE EQU   SDWASTCK+4                                               06767000
SDWASCKB EQU   SDWASTCK                                                 06768000
SDWASR14 EQU   SDWASRSV+56                                              06769000
SDWASR13 EQU   SDWASRSV+52                                              06770000
SDWASR12 EQU   SDWASRSV+48                                              06771000
SDWASR11 EQU   SDWASRSV+44                                              06772000
SDWASR10 EQU   SDWASRSV+40                                              06773000
SDWASR09 EQU   SDWASRSV+36                                              06774000
SDWASR08 EQU   SDWASRSV+32                                              06775000
SDWASR07 EQU   SDWASRSV+28                                              06776000
SDWASR06 EQU   SDWASRSV+24                                              06777000
SDWASR05 EQU   SDWASRSV+20                                              06778000
SDWASR04 EQU   SDWASRSV+16                                              06779000
SDWASR03 EQU   SDWASRSV+12                                              06780000
SDWASR02 EQU   SDWASRSV+8                                               06781000
SDWASR01 EQU   SDWASRSV+4                                               06782000
SDWATRN2 EQU   SDWAAEC2+4                                               06783000
SDWAIPC2 EQU   SDWAICD2                                                 06784000
SDWAIMC2 EQU   SDWAICD2                                                 06785000
SDWAIPR2 EQU   SDWAICD2                                                 06786000
@NM00155 EQU   SDWAINC2                                                 06787000
@NM00154 EQU   SDWAILC2                                                 06788000
SDWAIL2  EQU   SDWAILC2                                                 06789000
@NM00153 EQU   SDWAILC2                                                 06790000
@NM00152 EQU   SDWAAEC2                                                 06791000
SDWAADD2 EQU   SDWANXT2+1                                               06792000
@NM00151 EQU   SDWANXT2                                                 06793000
@NM00150 EQU   SDWAEC2+3                                                06794000
SDWASGN2 EQU   SDWAINT2                                                 06795000
SDWAEXP2 EQU   SDWAINT2                                                 06796000
SDWADEC2 EQU   SDWAINT2                                                 06797000
SDWAFPO2 EQU   SDWAINT2                                                 06798000
SDWACC2  EQU   SDWAINT2                                                 06799000
@NM00149 EQU   SDWAINT2                                                 06800000
SDWAPGM2 EQU   SDWAMWP2                                                 06801000
SDWAWAT2 EQU   SDWAMWP2                                                 06802000
SDWAMCK2 EQU   SDWAMWP2                                                 06803000
SDWAECT2 EQU   SDWAMWP2                                                 06804000
SDWAKEY2 EQU   SDWAMWP2                                                 06805000
SDWAEXT2 EQU   SDWAEMK2                                                 06806000
SDWAIO2  EQU   SDWAEMK2                                                 06807000
SDWATRM2 EQU   SDWAEMK2                                                 06808000
@NM00148 EQU   SDWAEMK2                                                 06809000
SDWAPER2 EQU   SDWAEMK2                                                 06810000
@NM00147 EQU   SDWAEMK2                                                 06811000
SDWATRAN EQU   SDWAAEC1+4                                               06812000
SDWAIPC1 EQU   SDWAICD1                                                 06813000
SDWAIMC1 EQU   SDWAICD1                                                 06814000
SDWAIPR1 EQU   SDWAICD1                                                 06815000
@NM00146 EQU   SDWAINC1                                                 06816000
@NM00145 EQU   SDWAILC1                                                 06817000
SDWAIL1  EQU   SDWAILC1                                                 06818000
@NM00144 EQU   SDWAILC1                                                 06819000
@NM00143 EQU   SDWAAEC1                                                 06820000
SDWAADD1 EQU   SDWANXT1+1                                               06821000
@NM00142 EQU   SDWANXT1                                                 06822000
@NM00141 EQU   SDWAEC1+3                                                06823000
SDWASGN1 EQU   SDWAINT1                                                 06824000
SDWAEXP1 EQU   SDWAINT1                                                 06825000
SDWADEC1 EQU   SDWAINT1                                                 06826000
SDWAFPO1 EQU   SDWAINT1                                                 06827000
SDWACC1  EQU   SDWAINT1                                                 06828000
@NM00140 EQU   SDWAINT1                                                 06829000
SDWAPGM1 EQU   SDWAMWP1                                                 06830000
SDWAWAT1 EQU   SDWAMWP1                                                 06831000
SDWAMCK1 EQU   SDWAMWP1                                                 06832000
SDWAECT1 EQU   SDWAMWP1                                                 06833000
SDWAKEY1 EQU   SDWAMWP1                                                 06834000
SDWAEXT1 EQU   SDWAEMK1                                                 06835000
SDWAIO1  EQU   SDWAEMK1                                                 06836000
SDWATRM1 EQU   SDWAEMK1                                                 06837000
@NM00139 EQU   SDWAEMK1                                                 06838000
SDWAPER1 EQU   SDWAEMK1                                                 06839000
@NM00138 EQU   SDWAEMK1                                                 06840000
SDWAIOBR EQU   SDWA+100                                                 06841000
SDWAEPA  EQU   SDWA+96                                                  06842000
@NM00137 EQU   SDWANAME+4                                               06843000
SDWARBAD EQU   SDWANAME                                                 06844000
SDWAGR15 EQU   SDWAGRSV+60                                              06845000
SDWAGR14 EQU   SDWAGRSV+56                                              06846000
SDWAGR13 EQU   SDWAGRSV+52                                              06847000
SDWAGR12 EQU   SDWAGRSV+48                                              06848000
SDWAGR11 EQU   SDWAGRSV+44                                              06849000
SDWAGR10 EQU   SDWAGRSV+40                                              06850000
SDWAGR09 EQU   SDWAGRSV+36                                              06851000
SDWAGR08 EQU   SDWAGRSV+32                                              06852000
SDWAGR07 EQU   SDWAGRSV+28                                              06853000
SDWAGR06 EQU   SDWAGRSV+24                                              06854000
SDWAGR05 EQU   SDWAGRSV+20                                              06855000
SDWAGR04 EQU   SDWAGRSV+16                                              06856000
SDWAGR03 EQU   SDWAGRSV+12                                              06857000
SDWAGR02 EQU   SDWAGRSV+8                                               06858000
SDWAGR01 EQU   SDWAGRSV+4                                               06859000
SDWAGR00 EQU   SDWAGRSV                                                 06860000
SDWANXTP EQU   SDWACTL2+5                                               06861000
SDWASGP  EQU   SDWAPMKP                                                 06862000
SDWAEUP  EQU   SDWAPMKP                                                 06863000
SDWADOP  EQU   SDWAPMKP                                                 06864000
SDWAFPP  EQU   SDWAPMKP                                                 06865000
SDWACCP  EQU   SDWAPMKP                                                 06866000
SDWAILP  EQU   SDWAPMKP                                                 06867000
SDWAINTP EQU   SDWACTL2+2                                               06868000
SDWASPVP EQU   SDWAMWPP                                                 06869000
SDWAWATP EQU   SDWAMWPP                                                 06870000
SDWAMCKP EQU   SDWAMWPP                                                 06871000
@NM00136 EQU   SDWAMWPP                                                 06872000
SDWAKEYP EQU   SDWAMWPP                                                 06873000
SDWAEXTP EQU   SDWACMKP                                                 06874000
SDWAIOP  EQU   SDWACMKP                                                 06875000
SDWANXTA EQU   SDWACTL1+5                                               06876000
SDWASGA  EQU   SDWAPMKA                                                 06877000
SDWAEUA  EQU   SDWAPMKA                                                 06878000
SDWADOA  EQU   SDWAPMKA                                                 06879000
SDWAFPA  EQU   SDWAPMKA                                                 06880000
SDWACCA  EQU   SDWAPMKA                                                 06881000
SDWAILA  EQU   SDWAPMKA                                                 06882000
SDWAINTA EQU   SDWACTL1+2                                               06883000
SDWASPVA EQU   SDWAMWPA                                                 06884000
SDWAWATA EQU   SDWAMWPA                                                 06885000
SDWAMCKA EQU   SDWAMWPA                                                 06886000
@NM00135 EQU   SDWAMWPA                                                 06887000
SDWAKEYA EQU   SDWAMWPA                                                 06888000
SDWAEXTA EQU   SDWACMKA                                                 06889000
SDWAIOA  EQU   SDWACMKA                                                 06890000
SDWACMPC EQU   SDWAABCC+1                                               06891000
@NM00134 EQU   SDWACMPF                                                 06892000
SDWASTCC EQU   SDWACMPF                                                 06893000
@NM00133 EQU   SDWACMPF                                                 06894000
SDWASTEP EQU   SDWACMPF                                                 06895000
SDWAREQ  EQU   SDWACMPF                                                 06896000
SDWAPARM EQU   SDWA                                                     06897000
FRRSPARM EQU   FRRSENTR+8                                               06898000
@NM00132 EQU   FRRSFLGS+1                                               06899000
@NM00131 EQU   FRRSFLG1                                                 06900000
FRRSNEST EQU   FRRSFLG1                                                 06901000
FRRSRCUR EQU   FRRSFLG1                                                 06902000
FRRSFRRA EQU   FRRSENTR                                                 06903000
FRRSENTS EQU   FRRS+84                                                  06904000
FRRSCURR EQU   FRRSHEAD+12                                              06905000
FRRSELEN EQU   FRRSHEAD+8                                               06906000
FRRSLAST EQU   FRRSHEAD+4                                               06907000
FRRSEMP  EQU   FRRSHEAD                                                 06908000
@NM00106 EQU   IHSA+720                                                 06909000
IHSAFRRS EQU   IHSA+120                                                 06910000
IHSAFPR6 EQU   IHSAFPRS+24                                              06911000
IHSAFPR4 EQU   IHSAFPRS+16                                              06912000
IHSAFPR2 EQU   IHSAFPRS+8                                               06913000
IHSAFPR0 EQU   IHSAFPRS                                                 06914000
IHSAOTCB EQU   IHSA+12                                                  06915000
IHSANTCB EQU   IHSA+8                                                   06916000
IHSACPUT EQU   IHSA                                                     06917000
@NM00105 EQU   SSRBFLG1                                                 06918000
SSRBMAIN EQU   SSRBFLG1                                                 06919000
SSRBLLH  EQU   SSRBFLG1                                                 06920000
SSRBFRRS EQU   SSRB+108                                                 06921000
SSRBFPR6 EQU   SSRBFPRS+24                                              06922000
SSRBFPR4 EQU   SSRBFPRS+16                                              06923000
SSRBFPR2 EQU   SSRBFPRS+8                                               06924000
SSRBFPR0 EQU   SSRBFPRS                                                 06925000
@NM00104 EQU   SRB+40                                                   06926000
@NM00103 EQU   SRB+38                                                   06927000
SRBPRIOR EQU   SRB+37                                                   06928000
SRBPKF   EQU   SRB+36                                                   06929000
SRBSAVE  EQU   SRB+32                                                   06930000
SRBRMTR  EQU   SRB+24                                                   06931000
SRBCPAFF EQU   SRBFLC                                                   06932000
SRBFLNK  EQU   SRB+4                                                    06933000
SRBID    EQU   SRB                                                      06934000
ASVTEND  EQU   ASVT+528                                                 06935000
ASVTAVAI EQU   ASVTFRST                                                 06936000
ASVTRS00 EQU   ASVT+520                                                 06937000
ASVTASVT EQU   ASVT+512                                                 06938000
ASVTBEGN EQU   ASVT+512                                                 06939000
@NM00102 EQU   ASVT                                                     06940000
@NM00101 EQU   CSD+160                                                  06941000
CSDUCNT  EQU   CSD+124                                                  06942000
CSDTCNT  EQU   CSD+120                                                  06943000
CSDGDTOD EQU   CSD+116                                                  06944000
CSDGDINT EQU   CSD+112                                                  06945000
CSDGDCC  EQU   CSD+108                                                  06946000
CSDDDRCT EQU   CSD+106                                                  06947000
CSDRV044 EQU   CSD+104                                                  06948000
CSDMAFF  EQU   CSD+24                                                   06949000
CSDRV038 EQU   CSDFLAGS                                                 06950000
CSDRV037 EQU   CSDFLAGS                                                 06951000
CSDRV036 EQU   CSDFLAGS                                                 06952000
CSDRV035 EQU   CSDFLAGS                                                 06953000
CSDRV034 EQU   CSDFLAGS                                                 06954000
CSDRV033 EQU   CSDFLAGS                                                 06955000
CSDRV032 EQU   CSDFLAGS                                                 06956000
CSDMP    EQU   CSDFLAGS                                                 06957000
CSDACR   EQU   CSD+22                                                   06958000
CSDMF1CP EQU   CSD+20                                                   06959000
CSDRV043 EQU   CSD+16                                                   06960000
CSDRV030 EQU   CSDSCFL4                                                 06961000
CSDRV029 EQU   CSDSCFL4                                                 06962000
CSDRV028 EQU   CSDSCFL4                                                 06963000
CSDRV027 EQU   CSDSCFL4                                                 06964000
CSDRV026 EQU   CSDSCFL4                                                 06965000
CSDRV025 EQU   CSDSCFL4                                                 06966000
CSDRV024 EQU   CSDSCFL4                                                 06967000
CSDRV023 EQU   CSDSCFL4                                                 06968000
CSDRV022 EQU   CSDSCFL3                                                 06969000
CSDRV021 EQU   CSDSCFL3                                                 06970000
CSDRV020 EQU   CSDSCFL3                                                 06971000
CSDRV019 EQU   CSDSCFL3                                                 06972000
CSDRV018 EQU   CSDSCFL3                                                 06973000
CSDRV017 EQU   CSDSCFL3                                                 06974000
CSDRV016 EQU   CSDSCFL3                                                 06975000
CSDRV015 EQU   CSDSCFL3                                                 06976000
CSDRV014 EQU   CSDSCFL2                                                 06977000
CSDRV013 EQU   CSDSCFL2                                                 06978000
CSDRV012 EQU   CSDSCFL2                                                 06979000
CSDRV011 EQU   CSDSCFL2                                                 06980000
CSDRV010 EQU   CSDSCFL2                                                 06981000
CSDRV009 EQU   CSDSCFL2                                                 06982000
CSDRV008 EQU   CSDSCFL2                                                 06983000
CSDRV007 EQU   CSDSCFL2                                                 06984000
CSDRV006 EQU   CSDSCFL1                                                 06985000
CSDRV005 EQU   CSDSCFL1                                                 06986000
CSDRV004 EQU   CSDSCFL1                                                 06987000
CSDRV003 EQU   CSDSCFL1                                                 06988000
CSDRV002 EQU   CSDSCFL1                                                 06989000
CSDRV001 EQU   CSDSCFL1                                                 06990000
CSDSYSND EQU   CSDSCFL1                                                 06991000
CSDRV042 EQU   CSDSCFL1                                                 06992000
CSDCPUOL EQU   CSD+10                                                   06993000
CSDSAFF  EQU   CSDCPUAL                                                 06994000
CSDCHAD  EQU   CSD+6                                                    06995000
CSDCPUJS EQU   CSD+4                                                    06996000
CSDCSD   EQU   CSD                                                      06997000
LCCAR125 EQU   LCCA+964                                                 06998000
LCCAR124 EQU   LCCA+960                                                 06999000
LCCASGPR EQU   LCCA+896                                                 07000000
LCCADRT2 EQU   LCCA+888                                                 07001000
LCCADRT1 EQU   LCCA+880                                                 07002000
LCCAR103 EQU   LCCA+876                                                 07003000
LCCAESS2 EQU   LCCA+872                                                 07004000
LCCASPLJ EQU   LCCA+868                                                 07005000
LCCASMQJ EQU   LCCA+864                                                 07006000
LCCAIRT  EQU   LCCA+736                                                 07007000
LCCARV89 EQU   LCCA+728                                                 07008000
LCCASAFN EQU   LCCASRBF                                                 07009000
LCCAECSA EQU   LCCA+716                                                 07010000
LCCAICR0 EQU   LCCA+712                                                 07011000
LCCALWTM EQU   LCCA+704                                                 07012000
LCCARV78 EQU   LCCA+700                                                 07013000
LCCAPINV EQU   LCCA+696                                                 07014000
LCCARV88 EQU   LCCA+695                                                 07015000
LCCARV87 EQU   LCCALKFG                                                 07016000
LCCARV86 EQU   LCCALKFG                                                 07017000
LCCARV85 EQU   LCCALKFG                                                 07018000
LCCARV84 EQU   LCCALKFG                                                 07019000
LCCALKRD EQU   LCCALKFG                                                 07020000
LCCALKAQ EQU   LCCALKFG                                                 07021000
LCCALKSA EQU   LCCALKFG                                                 07022000
LCCALKDP EQU   LCCALKFG                                                 07023000
LCCACRST EQU   LCCACREX                                                 07024000
LCCACRDP EQU   LCCACREX                                                 07025000
LCCACRLM EQU   LCCACREX                                                 07026000
LCCACRIN EQU   LCCACREX                                                 07027000
LCCACRRT EQU   LCCACREX                                                 07028000
LCCACRLE EQU   LCCACREX                                                 07029000
LCCACRRM EQU   LCCACREX                                                 07030000
LCCACREF EQU   LCCACREX                                                 07031000
LCCAVARY EQU   LCCACRFL                                                 07032000
LCCARV73 EQU   LCCACRFL                                                 07033000
LCCARV72 EQU   LCCACRFL                                                 07034000
LCCARV71 EQU   LCCACRFL                                                 07035000
LCCARV70 EQU   LCCACRFL                                                 07036000
LCCARV69 EQU   LCCACRFL                                                 07037000
LCCACLMS EQU   LCCACRFL                                                 07038000
LCCACRTM EQU   LCCACRFL                                                 07039000
LCCALCR0 EQU   LCCA+688                                                 07040000
LCCACRLC EQU   LCCA+684                                                 07041000
LCCARCPU EQU   LCCA+680                                                 07042000
LCCADCPU EQU   LCCA+676                                                 07043000
LCCASRBJ EQU   LCCA+672                                                 07044000
LCCADSSR EQU   LCCA+668                                                 07045000
LCCADSSC EQU   LCCA+660                                                 07046000
LCCADSS3 EQU   LCCA+648                                                 07047000
LCCADSS2 EQU   LCCA+636                                                 07048000
LCCADSS1 EQU   LCCA+624                                                 07049000
LCCAWTIM EQU   LCCA+616                                                 07050000
LCCAITOD EQU   LCCA+608                                                 07051000
LCCADTOD EQU   LCCA+600                                                 07052000
LCCASTOD EQU   LCCA+592                                                 07053000
LCCARIR5 EQU   LCCASPSA+44                                              07054000
LCCARIR4 EQU   LCCASPSA+40                                              07055000
LCCARIR3 EQU   LCCASPSA+36                                              07056000
LCCARIR2 EQU   LCCASPSA+32                                              07057000
LCCARPR5 EQU   LCCASPSA+28                                              07058000
LCCARPR4 EQU   LCCASPSA+24                                              07059000
LCCARPR3 EQU   LCCASPSA+20                                              07060000
LCCARPR2 EQU   LCCASPSA+16                                              07061000
LCCADSR5 EQU   LCCASPSA+12                                              07062000
LCCADSR4 EQU   LCCASPSA+8                                               07063000
LCCADSR3 EQU   LCCASPSA+4                                               07064000
LCCADSR2 EQU   LCCASPSA                                                 07065000
LCCARV68 EQU   LCCA+543                                                 07066000
LCCAPSMK EQU   LCCA+542                                                 07067000
LCCARV67 EQU   LCCADSF2                                                 07068000
LCCARV66 EQU   LCCADSF2                                                 07069000
LCCARV65 EQU   LCCADSF2                                                 07070000
LCCARV64 EQU   LCCADSF2                                                 07071000
LCCADSRW EQU   LCCADSF2                                                 07072000
LCCADSPL EQU   LCCADSF2                                                 07073000
LCCAGSRB EQU   LCCADSF2                                                 07074000
LCCARV61 EQU   LCCADSF1                                                 07075000
LCCARV60 EQU   LCCADSF1                                                 07076000
LCCARV59 EQU   LCCADSF1                                                 07077000
LCCARV58 EQU   LCCADSF1                                                 07078000
LCCATIMR EQU   LCCADSF1                                                 07079000
LCCADSS  EQU   LCCADSF1                                                 07080000
LCCAVCPU EQU   LCCADSF1                                                 07081000
LCCAACR  EQU   LCCADSF1                                                 07082000
LCCACPUS EQU   LCCA+536                                                 07083000
LCCAASCP EQU   LCCA+532                                                 07084000
LCCAESSA EQU   LCCA+528                                                 07085000
LCCARV55 EQU   LCCASPN4                                                 07086000
LCCARV54 EQU   LCCASPN4                                                 07087000
LCCARV53 EQU   LCCASPN4                                                 07088000
LCCARV52 EQU   LCCASPN4                                                 07089000
LCCARV51 EQU   LCCASPN4                                                 07090000
LCCARV50 EQU   LCCASPN4                                                 07091000
LCCARV49 EQU   LCCASPN4                                                 07092000
LCCARV48 EQU   LCCASPN4                                                 07093000
LCCARV47 EQU   LCCASPN3                                                 07094000
LCCARV46 EQU   LCCASPN3                                                 07095000
LCCARV45 EQU   LCCASPN3                                                 07096000
LCCARV44 EQU   LCCASPN3                                                 07097000
LCCARV43 EQU   LCCASPN3                                                 07098000
LCCARV42 EQU   LCCASPN3                                                 07099000
LCCARV41 EQU   LCCASPN3                                                 07100000
LCCARV40 EQU   LCCASPN3                                                 07101000
LCCARV39 EQU   LCCASPN2                                                 07102000
LCCARV38 EQU   LCCASPN2                                                 07103000
LCCARV37 EQU   LCCASPN2                                                 07104000
LCCARV36 EQU   LCCASPN2                                                 07105000
LCCARV35 EQU   LCCASPN2                                                 07106000
LCCARV34 EQU   LCCASPN2                                                 07107000
LCCARV33 EQU   LCCASPN2                                                 07108000
LCCARV32 EQU   LCCASPN2                                                 07109000
LCCARV31 EQU   LCCASPN1                                                 07110000
LCCARV30 EQU   LCCASPN1                                                 07111000
LCCAMFIO EQU   LCCASPN1                                                 07112000
LCCARSTR EQU   LCCASPN1                                                 07113000
LCCATSPN EQU   LCCASPN1                                                 07114000
LCCALOCK EQU   LCCASPN1                                                 07115000
LCCASIGP EQU   LCCASPN1                                                 07116000
LCCAPTLB EQU   LCCASPN1                                                 07117000
LCCARV27 EQU   LCCAIHR4                                                 07118000
LCCARV26 EQU   LCCAIHR4                                                 07119000
LCCARV25 EQU   LCCAIHR4                                                 07120000
LCCARV24 EQU   LCCAIHR4                                                 07121000
LCCARV23 EQU   LCCAIHR4                                                 07122000
LCCARV22 EQU   LCCAIHR4                                                 07123000
LCCARV21 EQU   LCCAIHR4                                                 07124000
LCCARV20 EQU   LCCAIHR4                                                 07125000
LCCARV19 EQU   LCCAIHR3                                                 07126000
LCCARV18 EQU   LCCAIHR3                                                 07127000
LCCARV17 EQU   LCCAIHR3                                                 07128000
LCCARV16 EQU   LCCAIHR3                                                 07129000
LCCARV15 EQU   LCCAIHR3                                                 07130000
LCCARV14 EQU   LCCAIHR3                                                 07131000
LCCARV13 EQU   LCCAIHR3                                                 07132000
LCCARV12 EQU   LCCAIHR3                                                 07133000
LCCARV11 EQU   LCCAIHR2                                                 07134000
LCCARV10 EQU   LCCAIHR2                                                 07135000
LCCARV09 EQU   LCCAIHR2                                                 07136000
LCCARV08 EQU   LCCAIHR2                                                 07137000
LCCARV07 EQU   LCCAIHR2                                                 07138000
LCCARV06 EQU   LCCAIHR2                                                 07139000
LCCARV05 EQU   LCCAIHR2                                                 07140000
LCCARV04 EQU   LCCAIHR2                                                 07141000
LCCARV03 EQU   LCCAIHR1                                                 07142000
LCCARV02 EQU   LCCAIHR1                                                 07143000
LCCARV01 EQU   LCCAIHR1                                                 07144000
LCCAPPIE EQU   LCCAIHR1                                                 07145000
LCCAXRC2 EQU   LCCAIHR1                                                 07146000
LCCAXRC1 EQU   LCCAIHR1                                                 07147000
LCCAIOPS EQU   LCCA+512                                                 07148000
LCCAGPGR EQU   LCCA+448                                                 07149000
LCCAR133 EQU   LCCA+444                                                 07150000
LCCAR132 EQU   LCCA+440                                                 07151000
LCCAR131 EQU   LCCA+436                                                 07152000
LCCAR130 EQU   LCCA+432                                                 07153000
LCCAR129 EQU   LCCA+428                                                 07154000
LCCAR128 EQU   LCCA+424                                                 07155000
LCCAR127 EQU   LCCA+420                                                 07156000
LCCAR126 EQU   LCCA+416                                                 07157000
LCCARSGR EQU   LCCA+352                                                 07158000
LCCAXGR3 EQU   LCCA+288                                                 07159000
LCCAXGR2 EQU   LCCA+224                                                 07160000
LCCAXGR1 EQU   LCCA+160                                                 07161000
LCCACR0  EQU   LCCA+156                                                 07162000
LCCAMCR1 EQU   LCCA+152                                                 07163000
LCCAPVAD EQU   LCCA+148                                                 07164000
LCCAPINT EQU   LCCA+144                                                 07165000
LCCAPPSW EQU   LCCA+136                                                 07166000
LCCAPGR2 EQU   LCCA+72                                                  07167000
LCCAPGR1 EQU   LCCA+8                                                   07168000
LCCARV77 EQU   LCCA+6                                                   07169000
LCCACPUA EQU   LCCA+4                                                   07170000
LCCALCCA EQU   LCCA                                                     07171000
LCCAT00P EQU   LCCAVT                                                   07172000
ASXBEND  EQU   ASXB+232                                                 07173000
ASXBRV25 EQU   ASXB+228                                                 07174000
ASXBRV24 EQU   ASXB+224                                                 07175000
ASXBPT0E EQU   ASXB+220                                                 07176000
ASXBCRB4 EQU   ASXBCASW+3                                               07177000
ASXBCRB3 EQU   ASXBCASW+2                                               07178000
ASXBCRB2 EQU   ASXBCASW+1                                               07179000
ASXBCR06 EQU   ASXBCRB1                                                 07180000
ASXBCR05 EQU   ASXBCRB1                                                 07181000
ASXBCR04 EQU   ASXBCRB1                                                 07182000
ASXBCR03 EQU   ASXBCRB1                                                 07183000
ASXBCR02 EQU   ASXBCRB1                                                 07184000
ASXBCR01 EQU   ASXBCRB1                                                 07185000
ASXBTFD  EQU   ASXBCRB1                                                 07186000
ASXBPIP  EQU   ASXBCRB1                                                 07187000
ASXBCTDC EQU   ASXB+212                                                 07188000
ASXBTDCB EQU   ASXB+208                                                 07189000
ASXBRV19 EQU   ASXB+204                                                 07190000
ASXBSENV EQU   ASXBSECR+1                                               07191000
ASXBRV34 EQU   ASCBSFLG                                                 07192000
ASXBRV33 EQU   ASCBSFLG                                                 07193000
ASXBRV32 EQU   ASCBSFLG                                                 07194000
ASXBRV31 EQU   ASCBSFLG                                                 07195000
ASXBRV30 EQU   ASCBSFLG                                                 07196000
ASXBRV29 EQU   ASCBSFLG                                                 07197000
ASXBRV28 EQU   ASCBSFLG                                                 07198000
ASXBRV27 EQU   ASCBSFLG                                                 07199000
ASXBUSER EQU   ASXB+192                                                 07200000
ASXBLSRB EQU   ASXBAEQ+20                                               07201000
ASXBFSRB EQU   ASXBAEQ+16                                               07202000
ASXBLRQE EQU   ASXBAEQ+12                                               07203000
ASXBFRQE EQU   ASXBAEQ+8                                                07204000
ASXBLIQE EQU   ASXBAEQ+4                                                07205000
ASXBFIQE EQU   ASXBAEQ                                                  07206000
ASXBETSK EQU   ASXB+164                                                 07207000
ASXBSIRB EQU   ASXB+160                                                 07208000
ASXBPSWD EQU   ASXB+152                                                 07209000
ASXBPRG  EQU   ASXB+136                                                 07210000
ASXBRV26 EQU   ASXB+132                                                 07211000
ASXBOUSB EQU   ASXB+128                                                 07212000
ASXBDDR  EQU   ASXB+124                                                 07213000
ASXBRCTD EQU   ASXB+120                                                 07214000
ASXBRSMD EQU   ASXB+116                                                 07215000
ASXBSPSA EQU   ASXB+112                                                 07216000
ASXBFRWA EQU   ASXB+108                                                 07217000
ASXBFLSA EQU   ASXB+36                                                  07218000
ASXBRV15 EQU   ASXB+28                                                  07219000
ASXBRV14 EQU   ASXB+24                                                  07220000
ASXBLWA  EQU   ASXB+20                                                  07221000
ASXBMPST EQU   ASXB+16                                                  07222000
ASXBRS00 EQU   ASXB+14                                                  07223000
ASXBTCBS EQU   ASXB+12                                                  07224000
ASXBASXB EQU   ASXB                                                     07225000
ASXBEGIN EQU   ASXB                                                     07226000
ASCBEND  EQU   ASCB+208                                                 07227000
ASCBSRBT EQU   ASCB+200                                                 07228000
ASCBSWTL EQU   ASCB+196                                                 07229000
ASCBRS14 EQU   ASCB+195                                                 07230000
ASCBSMCT EQU   ASCB+194                                                 07231000
ASCBRS12 EQU   ASCB+192                                                 07232000
ASCBPCTT EQU   ASCB+188                                                 07233000
ASCBVGTT EQU   ASCB+184                                                 07234000
ASCBRV43 EQU   ASCBSRQ4                                                 07235000
ASCBRV42 EQU   ASCBSRQ4                                                 07236000
ASCBRV41 EQU   ASCBSRQ4                                                 07237000
ASCBRV40 EQU   ASCBSRQ4                                                 07238000
ASCBRV39 EQU   ASCBSRQ4                                                 07239000
ASCBRV38 EQU   ASCBSRQ4                                                 07240000
ASCBRV37 EQU   ASCBSRQ4                                                 07241000
ASCBRV36 EQU   ASCBSRQ4                                                 07242000
ASCBRV35 EQU   ASCBSRQ3                                                 07243000
ASCBRV34 EQU   ASCBSRQ3                                                 07244000
ASCBRV33 EQU   ASCBSRQ3                                                 07245000
ASCBRV32 EQU   ASCBSRQ3                                                 07246000
ASCBRV31 EQU   ASCBSRQ3                                                 07247000
ASCBRV30 EQU   ASCBSRQ3                                                 07248000
ASCBRV29 EQU   ASCBSRQ3                                                 07249000
ASCBRV28 EQU   ASCBSRQ3                                                 07250000
ASCBRV27 EQU   ASCBSRQ2                                                 07251000
ASCBRV26 EQU   ASCBSRQ2                                                 07252000
ASCBRV25 EQU   ASCBSRQ2                                                 07253000
ASCBRV24 EQU   ASCBSRQ2                                                 07254000
ASCBRV23 EQU   ASCBSRQ2                                                 07255000
ASCBRV22 EQU   ASCBSRQ2                                                 07256000
ASCBRV21 EQU   ASCBSRQ2                                                 07257000
ASCBRV20 EQU   ASCBSRQ2                                                 07258000
ASCBRV19 EQU   ASCBSRQ1                                                 07259000
ASCBRV18 EQU   ASCBSRQ1                                                 07260000
ASCBRV17 EQU   ASCBSRQ1                                                 07261000
ASCBRV16 EQU   ASCBSRQ1                                                 07262000
ASCBRV15 EQU   ASCBSRQ1                                                 07263000
ASCBRV14 EQU   ASCBSRQ1                                                 07264000
ASCBRV13 EQU   ASCBSRQ1                                                 07265000
ASCBSTA  EQU   ASCBSRQ1                                                 07266000
ASCBJBNS EQU   ASCB+176                                                 07267000
ASCBJBNI EQU   ASCB+172                                                 07268000
ASCBRTWA EQU   ASCB+164                                                 07269000
ASCBIQEA EQU   ASCB+160                                                 07270000
ASCBXMPQ EQU   ASCB+156                                                 07271000
ASCBRS01 EQU   ASCB+154                                                 07272000
ASCBFMCT EQU   ASCB+152                                                 07273000
ASCBOUXB EQU   ASCB+148                                                 07274000
ASCBOUCB EQU   ASCB+144                                                 07275000
ASCBMECB EQU   ASCB+140                                                 07276000
ASCBQECB EQU   ASCB+136                                                 07277000
ASCBLSQH EQU   ASCBLKGP+4                                               07278000
ASCBLOCK EQU   ASCBLKGP                                                 07279000
ASCBTCBS EQU   ASCB+124                                                 07280000
ASCBNVSC EQU   ASCB+122                                                 07281000
ASCBVSC  EQU   ASCB+120                                                 07282000
ASCBSRBS EQU   ASCB+118                                                 07283000
ASCBSSRB EQU   ASCB+116                                                 07284000
ASCBRV06 EQU   ASCBFLG2                                                 07285000
ASCBRV05 EQU   ASCBFLG2                                                 07286000
ASCBRV04 EQU   ASCBFLG2                                                 07287000
ASCBSNQS EQU   ASCBFLG2                                                 07288000
ASCBS2S  EQU   ASCBFLG2                                                 07289000
ASCBCEXT EQU   ASCBFLG2                                                 07290000
ASCBPXMT EQU   ASCBFLG2                                                 07291000
ASCBXMPT EQU   ASCBFLG2                                                 07292000
ASCBRF07 EQU   ASCBDSP1                                                 07293000
ASCBRF06 EQU   ASCBDSP1                                                 07294000
ASCBRF05 EQU   ASCBDSP1                                                 07295000
ASCBRF04 EQU   ASCBDSP1                                                 07296000
ASCBRF03 EQU   ASCBDSP1                                                 07297000
ASCBRF02 EQU   ASCBDSP1                                                 07298000
ASCBFAIL EQU   ASCBDSP1                                                 07299000
ASCBNOQ  EQU   ASCBDSP1                                                 07300000
ASCBSWCT EQU   ASCB+112                                                 07301000
ASCBNSWP EQU   ASCBFLG1                                                 07302000
ASCBSTND EQU   ASCBFLG1                                                 07303000
ASCBS3S  EQU   ASCBFLG1                                                 07304000
ASCBCMSH EQU   ASCBFLG1                                                 07305000
ASCBTOFF EQU   ASCBFLG1                                                 07306000
ASCBRF01 EQU   ASCBRCTF                                                 07307000
ASCBTMLW EQU   ASCBRCTF                                                 07308000
ASCBOUT  EQU   ASCBRCTF                                                 07309000
ASCBWAIT EQU   ASCBRCTF                                                 07310000
ASCBRV08 EQU   ASCBRCTF                                                 07311000
ASCBFQU  EQU   ASCBRCTF                                                 07312000
ASCBFRS  EQU   ASCBRCTF                                                 07313000
ASCBTMNO EQU   ASCBRCTF                                                 07314000
ASCBAFFN EQU   ASCBFW1                                                  07315000
ASCBDUMP EQU   ASCB+96                                                  07316000
ASCBRV44 EQU   ASCB+92                                                  07317000
ASCBUBET EQU   ASCB+88                                                  07318000
ASCBECB  EQU   ASCB+84                                                  07319000
ASCBJSTL EQU   ASCB+80                                                  07320000
ASCBEWST EQU   ASCB+72                                                  07321000
ASCBEJST EQU   ASCB+64                                                  07322000
ASCBTSB  EQU   ASCB+60                                                  07323000
ASCBCSCB EQU   ASCB+56                                                  07324000
ASCBRSMA EQU   ASCBRSM+1                                                07325000
ASCBRV54 EQU   ASCBRSMF                                                 07326000
ASCBRV53 EQU   ASCBRSMF                                                 07327000
ASCBRV52 EQU   ASCBRSMF                                                 07328000
ASCBRV51 EQU   ASCBRSMF                                                 07329000
ASCBVEQR EQU   ASCBRSMF                                                 07330000
ASCBN2LP EQU   ASCBRSMF                                                 07331000
ASCB1LPU EQU   ASCBRSMF                                                 07332000
ASCB2LPU EQU   ASCBRSMF                                                 07333000
ASCBLDA  EQU   ASCB+48                                                  07334000
ASCBSTOR EQU   ASCB+44                                                  07335000
ASCBDP   EQU   ASCB+43                                                  07336000
ASCBRV07 EQU   ASCB+42                                                  07337000
ASCBIOSM EQU   ASCB+40                                                  07338000
ASCBSEQN EQU   ASCB+38                                                  07339000
ASCBSPL  EQU   ASCB+28                                                  07340000
ASCBIOSP EQU   ASCB+24                                                  07341000
ASCBSYNC EQU   ASCBSUPC+4                                               07342000
ASCBSVRB EQU   ASCBSUPC                                                 07343000
ASCBCMSF EQU   ASCB+12                                                  07344000
ASCBBWDP EQU   ASCB+8                                                   07345000
ASCBFWDP EQU   ASCB+4                                                   07346000
ASCBEGIN EQU   ASCB                                                     07347000
@NM00100 EQU   SCVTSECT+180                                             07348000
@NM00099 EQU   SCVTSECT+176                                             07349000
SCVTPIQE EQU   SCVTSECT+172                                             07350000
@NM00098 EQU   SCVTSECT+168                                             07351000
SCVTPTRM EQU   SCVTSECT+164                                             07352000
@NM00097 EQU   SCVTSECT+160                                             07353000
@NM00096 EQU   SCVTSECT+156                                             07354000
SCVTQCBR EQU   SCVTSECT+152                                             07355000
@NM00095 EQU   SCVTSECT+144                                             07356000
SCVTTQE  EQU   SCVTSECT+140                                             07357000
@NM00094 EQU   SCVTSECT+136                                             07358000
SCVTSVCT EQU   SCVTSECT+132                                             07359000
@NM00093 EQU   SCVTSECT+128                                             07360000
@NM00092 EQU   SCVTSECT+124                                             07361000
SCVTRXLQ EQU   SCVTSECT+120                                             07362000
@NM00091 EQU   SCVTSECT+116                                             07363000
SCVTCTCB EQU   SCVTSECT+112                                             07364000
@NM00090 EQU   SCVTSECT+108                                             07365000
@NM00089 EQU   SCVTSECT+104                                             07366000
@NM00088 EQU   SCVTSECT+100                                             07367000
@NM00087 EQU   SCVTSECT+96                                              07368000
SCVTCOMM EQU   SCVTSECT+92                                              07369000
@NM00086 EQU   SCVTSECT+88                                              07370000
@NM00085 EQU   SCVTSECT+84                                              07371000
@NM00084 EQU   SCVTSECT+80                                              07372000
@NM00083 EQU   SCVTSECT+76                                              07373000
@NM00082 EQU   SCVTSECT+72                                              07374000
SCVTGMBR EQU   SCVTSECT+68                                              07375000
SCVTRPTR EQU   SCVTSECT+64                                              07376000
SCVTHSKP EQU   SCVTSECT+60                                              07377000
@NM00081 EQU   SCVTSECT+56                                              07378000
@NM00080 EQU   SCVTSECT+52                                              07379000
SCVTLFRM EQU   SCVTSECT+48                                              07380000
SCVTCDCL EQU   SCVTSECT+44                                              07381000
@NM00079 EQU   SCVTSECT+40                                              07382000
SCVTRACE EQU   SCVTSECT+36                                              07383000
@NM00078 EQU   SCVTSECT+32                                              07384000
SCVTRMBR EQU   SCVTSECT+28                                              07385000
@NM00077 EQU   SCVTSECT+24                                              07386000
@NM00076 EQU   SCVTSECT+20                                              07387000
@NM00075 EQU   SCVTSECT+16                                              07388000
@NM00074 EQU   SCVTSECT+14                                              07389000
SCVTBR14 EQU   SCVTSECT+12                                              07390000
SCVTSPET EQU   SCVTSECT+8                                               07391000
SCVTPGWR EQU   SCVTSECT+4                                               07392000
SCVTPGTM EQU   SCVTSECT                                                 07393000
@NM00073 EQU   TCBXTNT2+32                                              07394000
TCBRV181 EQU   TCBRV173                                                 07395000
TCBRV180 EQU   TCBRV173                                                 07396000
TCBRV179 EQU   TCBRV173                                                 07397000
TCBRV178 EQU   TCBRV173                                                 07398000
TCBRV177 EQU   TCBRV173                                                 07399000
TCBRV176 EQU   TCBRV173                                                 07400000
TCBRV175 EQU   TCBRV173                                                 07401000
TCBRV174 EQU   TCBRV173                                                 07402000
TCBRV172 EQU   TCBRV164                                                 07403000
TCBRV171 EQU   TCBRV164                                                 07404000
TCBRV170 EQU   TCBRV164                                                 07405000
TCBRV169 EQU   TCBRV164                                                 07406000
TCBRV168 EQU   TCBRV164                                                 07407000
TCBRV167 EQU   TCBRV164                                                 07408000
TCBRV166 EQU   TCBRV164                                                 07409000
TCBRV165 EQU   TCBRV164                                                 07410000
TCBRV163 EQU   TCBRV155                                                 07411000
TCBRV162 EQU   TCBRV155                                                 07412000
TCBRV161 EQU   TCBRV155                                                 07413000
TCBRV160 EQU   TCBRV155                                                 07414000
TCBRV159 EQU   TCBRV155                                                 07415000
TCBRV158 EQU   TCBRV155                                                 07416000
TCBRV157 EQU   TCBRV155                                                 07417000
TCBRV156 EQU   TCBRV155                                                 07418000
TCBRV154 EQU   TCBRV146                                                 07419000
TCBRV153 EQU   TCBRV146                                                 07420000
TCBRV152 EQU   TCBRV146                                                 07421000
TCBRV151 EQU   TCBRV146                                                 07422000
TCBRV150 EQU   TCBRV146                                                 07423000
TCBRV149 EQU   TCBRV146                                                 07424000
TCBRV148 EQU   TCBRV146                                                 07425000
TCBRV147 EQU   TCBRV146                                                 07426000
TCBRV145 EQU   TCBXTNT2+26                                              07427000
TCBRV144 EQU   TCBXTNT2+24                                              07428000
TCBRV143 EQU   TCBXTNT2+20                                              07429000
TCBRV142 EQU   TCBXTNT2+16                                              07430000
TCBRSV49 EQU   TCBXTNT2+12                                              07431000
TCBEVENT EQU   TCBXTNT2+8                                               07432000
TCBRCMP  EQU   TCBXTNT2+5                                               07433000
TCBRSVAB EQU   TCBXTNT2+4                                               07434000
TCBGTFA  EQU   TCBGTF+1                                                 07435000
TCBRSV47 EQU   TCBTFLG                                                  07436000
TCBRSV46 EQU   TCBTFLG                                                  07437000
TCBRSV45 EQU   TCBTFLG                                                  07438000
TCBRSV44 EQU   TCBTFLG                                                  07439000
TCBRSV43 EQU   TCBTFLG                                                  07440000
TCBDSPIT EQU   TCBTFLG                                                  07441000
TCBERRTN EQU   TCBTFLG                                                  07442000
TCBASYNC EQU   TCBTFLG                                                  07443000
@NM00072 EQU   TCB+296                                                  07444000
TCBSVCA2 EQU   TCB+292                                                  07445000
TCBSWASA EQU   TCB+288                                                  07446000
TCBDBTB  EQU   TCB+284                                                  07447000
TCBRPT   EQU   TCB+280                                                  07448000
TCBRV141 EQU   TCBRV133                                                 07449000
TCBRV140 EQU   TCBRV133                                                 07450000
TCBRV139 EQU   TCBRV133                                                 07451000
TCBRV138 EQU   TCBRV133                                                 07452000
TCBRV137 EQU   TCBRV133                                                 07453000
TCBRV136 EQU   TCBRV133                                                 07454000
TCBRV135 EQU   TCBRV133                                                 07455000
TCBRV134 EQU   TCBRV133                                                 07456000
TCBRV132 EQU   TCBRV124                                                 07457000
TCBRV131 EQU   TCBRV124                                                 07458000
TCBRV130 EQU   TCBRV124                                                 07459000
TCBRV129 EQU   TCBRV124                                                 07460000
TCBRV128 EQU   TCBRV124                                                 07461000
TCBRV127 EQU   TCBRV124                                                 07462000
TCBRV126 EQU   TCBRV124                                                 07463000
TCBRV125 EQU   TCBRV124                                                 07464000
TCBRV123 EQU   TCBFBYT2                                                 07465000
TCBRV122 EQU   TCBFBYT2                                                 07466000
TCBECBNV EQU   TCBFBYT2                                                 07467000
TCBSSSYN EQU   TCBFBYT2                                                 07468000
TCBFDW   EQU   TCBFBYT2                                                 07469000
TCBFMW   EQU   TCBFBYT2                                                 07470000
TCBCNCB  EQU   TCBFBYT2                                                 07471000
TCBRV113 EQU   TCBFBYT1                                                 07472000
TCBEOT   EQU   TCBFBYT1                                                 07473000
TCBRTM2  EQU   TCBFBYT1                                                 07474000
TCBPGNLY EQU   TCBFBYT1                                                 07475000
TCBNDIOS EQU   TCBFBYT1                                                 07476000
TCBRV327 EQU   TCBFBYT1                                                 07477000
TCBEOTFM EQU   TCBFBYT1                                                 07478000
TCBAFFN  EQU   TCB+274                                                  07479000
TCBRV326 EQU   TCB+272                                                  07480000
TCBUKYSP EQU   TCB+268                                                  07481000
TCBRV314 EQU   TCBESTRM                                                 07482000
TCBRV313 EQU   TCBESTRM                                                 07483000
TCBRV312 EQU   TCBESTRM                                                 07484000
TCBRV311 EQU   TCBESTRM                                                 07485000
TCBRV310 EQU   TCBESTRM                                                 07486000
TCBRV309 EQU   TCBESTRM                                                 07487000
TCBRV308 EQU   TCBESTRM                                                 07488000
TCBETERM EQU   TCBESTRM                                                 07489000
TCBSCBKY EQU   TCBESTAE                                                 07490000
TCBSTAWA EQU   TCB+252                                                  07491000
TCBSWA   EQU   TCB+248                                                  07492000
TCBFOEA  EQU   TCBFOE+1                                                 07493000
TCBRSV42 EQU   TCBFOE                                                   07494000
TCBCCPVI EQU   TCBXSCT+2                                                07495000
TCBRV325 EQU   TCBXSCT+1                                                07496000
TCBRV324 EQU   TCBXSCT1                                                 07497000
TCBRV323 EQU   TCBXSCT1                                                 07498000
TCBRV322 EQU   TCBXSCT1                                                 07499000
TCBRV321 EQU   TCBXSCT1                                                 07500000
TCBRV320 EQU   TCBXSCT1                                                 07501000
TCBRV319 EQU   TCBXSCT1                                                 07502000
TCBS3A   EQU   TCBXSCT1                                                 07503000
TCBACTIV EQU   TCBXSCT1                                                 07504000
TCBRSV41 EQU   TCB+239                                                  07505000
TCBTID   EQU   TCB+238                                                  07506000
TCBRSVAA EQU   TCB+237                                                  07507000
TCBABCUR EQU   TCB+236                                                  07508000
TCBTMSAV EQU   TCB+232                                                  07509000
TCBIOTIM EQU   TCB+228                                                  07510000
TCBRTWA  EQU   TCB+224                                                  07511000
TCBBACK  EQU   TCB+220                                                  07512000
TCBTIRB  EQU   TCB+216                                                  07513000
TCBAECB  EQU   TCB+212                                                  07514000
TCBEXT2A EQU   TCBEXT2+1                                                07515000
TCBRSV39 EQU   TCBEXT2                                                  07516000
TCBSTMCT EQU   TCB+207                                                  07517000
TCBSYSCT EQU   TCB+206                                                  07518000
TCBRSV37 EQU   TCB+205                                                  07519000
TCBEXSVC EQU   TCBDAR                                                   07520000
TCBDARMS EQU   TCBDAR                                                   07521000
TCBDARWT EQU   TCBDAR                                                   07522000
TCBDARO  EQU   TCBDAR                                                   07523000
TCBDARMC EQU   TCBDARC                                                  07524000
TCBDARD  EQU   TCBDAR                                                   07525000
TCBDARS  EQU   TCBDAR                                                   07526000
TCBDARP  EQU   TCBDAR                                                   07527000
TCBGTOFM EQU   TCBFLGS7                                                 07528000
TCBADMP  EQU   TCBFLGS7                                                 07529000
TCBRSTSK EQU   TCBFLGS7                                                 07530000
TCBSVCS  EQU   TCBFLGS7                                                 07531000
TCBSTACK EQU   TCBFLGS7                                                 07532000
TCBRSV34 EQU   TCBFLGS7                                                 07533000
TCBRSV33 EQU   TCBFLGS7                                                 07534000
TCBGPECB EQU   TCBFLGS7                                                 07535000
TCBNTJS  EQU   TCBFLGS6                                                 07536000
TCBAPG   EQU   TCBFLGS6                                                 07537000
TCBMIGR  EQU   TCBFLGS6                                                 07538000
TCBRV303 EQU   TCBFLGS6                                                 07539000
TCBSPVLK EQU   TCBFLGS6                                                 07540000
TCBCPU   EQU   TCBFLGS6                                                 07541000
TCBPIE17 EQU   TCBFLGS6                                                 07542000
TCBRV    EQU   TCBFLGS6                                                 07543000
TCBRSV79 EQU   TCBNDSP5                                                 07544000
TCBRSV78 EQU   TCBNDSP5                                                 07545000
TCBRSV77 EQU   TCBNDSP5                                                 07546000
TCBRSV76 EQU   TCBNDSP5                                                 07547000
TCBRSV75 EQU   TCBNDSP5                                                 07548000
TCBRSV74 EQU   TCBNDSP5                                                 07549000
TCBRSV95 EQU   TCBNDSP5                                                 07550000
TCBRSV94 EQU   TCBNDSP5                                                 07551000
TCBRSV93 EQU   TCBNDSP4                                                 07552000
TCBRSV92 EQU   TCBNDSP4                                                 07553000
TCBRSV91 EQU   TCBNDSP4                                                 07554000
TCBRSV90 EQU   TCBNDSP4                                                 07555000
TCBRSV89 EQU   TCBNDSP4                                                 07556000
TCBRSV88 EQU   TCBNDSP4                                                 07557000
TCBRSV87 EQU   TCBNDSP4                                                 07558000
TCBRSV86 EQU   TCBNDSP4                                                 07559000
TCBEXT1A EQU   TCBEXT1+1                                                07560000
TCBRSV32 EQU   TCBEXT1                                                  07561000
TCBEXCPD EQU   TCB+192                                                  07562000
TCBIOBRC EQU   TCB+188                                                  07563000
TCBDDWTC EQU   TCB+186                                                  07564000
TCBDDEXC EQU   TCB+184                                                  07565000
TCBJSCBB EQU   TCBJSCB+1                                                07566000
@NM00071 EQU   TCBRECDE                                                 07567000
TCBREC   EQU   TCBRECDE                                                 07568000
TCBMDIDS EQU   TCB+176                                                  07569000
TCBNDINT EQU   TCBNDSP3                                                 07570000
TCBRSV27 EQU   TCBNDSP3                                                 07571000
TCBRSV26 EQU   TCBNDSP3                                                 07572000
TCBRSV25 EQU   TCBNDSP3                                                 07573000
TCBRSV24 EQU   TCBNDSP3                                                 07574000
TCBSRBND EQU   TCBNDSP3                                                 07575000
TCBRV302 EQU   TCBNDSP3                                                 07576000
TCBLJSND EQU   TCBNDSP3                                                 07577000
TCBABE   EQU   TCBNDSP2                                                 07578000
TCBDSS   EQU   TCBNDSP2                                                 07579000
TCBOWAIT EQU   TCBNDSP2                                                 07580000
TCBIWAIT EQU   TCBNDSP2                                                 07581000
TCBNDTS  EQU   TCBNDSP2                                                 07582000
TCBNDSVC EQU   TCBNDSP2                                                 07583000
TCBSTPP  EQU   TCBNDSP2                                                 07584000
TCBABD   EQU   TCBNDSP2                                                 07585000
TCBRSV22 EQU   TCBNDSP1                                                 07586000
TCBPIEND EQU   TCBNDSP1                                                 07587000
TCBTPSP  EQU   TCBNDSP1                                                 07588000
TCBDDRND EQU   TCBNDSP1                                                 07589000
TCBRSPND EQU   TCBNDSP1                                                 07590000
TCBRSTND EQU   TCBNDSP1                                                 07591000
TCBDARPN EQU   TCBNDSP1                                                 07592000
TCBDARTN EQU   TCBNDSP1                                                 07593000
TCBNDSP0 EQU   TCBNDSP                                                  07594000
TCBUSER  EQU   TCB+168                                                  07595000
TCBTCTB  EQU   TCBTCT+1                                                 07596000
TCBRSV9C EQU   TCBTCTGF                                                 07597000
TCBRSV9B EQU   TCBTCTGF                                                 07598000
TCBRSV9A EQU   TCBTCTGF                                                 07599000
TCBRSV99 EQU   TCBTCTGF                                                 07600000
TCBRSV98 EQU   TCBTCTGF                                                 07601000
TCBRSV97 EQU   TCBTCTGF                                                 07602000
TCBRSV20 EQU   TCBTCTGF                                                 07603000
TCBSMFGF EQU   TCBTCTGF                                                 07604000
TCBSTABB EQU   TCBSTAB+1                                                07605000
TCBSTCUR EQU   TCBNSTAE                                                 07606000
TCBRV301 EQU   TCBNSTAE                                                 07607000
TCBSYNCH EQU   TCBNSTAE                                                 07608000
TCBHALT  EQU   TCBNSTAE                                                 07609000
TCBPPSUP EQU   TCBNSTAE                                                 07610000
TCB33E   EQU   TCBNSTAE                                                 07611000
TCBQUIES EQU   TCBNSTAE                                                 07612000
TCBSTABE EQU   TCBNSTAE                                                 07613000
TCBAQE   EQU   TCB+156                                                  07614000
TCBPQE   EQU   TCB+152                                                  07615000
TCBTSDP  EQU   TCB+151                                                  07616000
TCBTSLP  EQU   TCB+150                                                  07617000
TCBSTPCT EQU   TCB+149                                                  07618000
TCBCPUBN EQU   TCBTSFLG                                                 07619000
TCBDYDSP EQU   TCBTSFLG                                                 07620000
TCBRSV18 EQU   TCBTSFLG                                                 07621000
TCBRSV17 EQU   TCBTSFLG                                                 07622000
TCBTIOTG EQU   TCBTSFLG                                                 07623000
TCBATT   EQU   TCBTSFLG                                                 07624000
TCBSTPPR EQU   TCBTSFLG                                                 07625000
TCBRV300 EQU   TCBTSTSK                                                 07626000
TCBECB   EQU   TCB+144                                                  07627000
TCBIQE   EQU   TCB+140                                                  07628000
TCBLTC   EQU   TCB+136                                                  07629000
TCBOTC   EQU   TCB+132                                                  07630000
TCBNTC   EQU   TCB+128                                                  07631000
TCBJSTCA EQU   TCBJSTCB+1                                               07632000
TCBRSV16 EQU   TCBJSTCB                                                 07633000
TCBTQET  EQU   TCBTME                                                   07634000
TCBFSAB  EQU   TCBFSA+1                                                 07635000
TCBQEL   EQU   TCBFSA                                                   07636000
TCBGRS15 EQU   TCBGRS+60                                                07637000
TCBGRS14 EQU   TCBGRS+56                                                07638000
TCBGRS13 EQU   TCBGRS+52                                                07639000
TCBGRS12 EQU   TCBGRS+48                                                07640000
TCBGRS11 EQU   TCBGRS+44                                                07641000
TCBGRS10 EQU   TCBGRS+40                                                07642000
TCBGRS9  EQU   TCBGRS+36                                                07643000
TCBGRS8  EQU   TCBGRS+32                                                07644000
TCBGRS7  EQU   TCBGRS+28                                                07645000
TCBGRS6  EQU   TCBGRS+24                                                07646000
TCBGRS5  EQU   TCBGRS+20                                                07647000
TCBGRS4  EQU   TCBGRS+16                                                07648000
TCBGRS3  EQU   TCBGRS+12                                                07649000
TCBGRS2  EQU   TCBGRS+8                                                 07650000
TCBGRS1  EQU   TCBGRS+4                                                 07651000
TCBGRS0  EQU   TCBGRS                                                   07652000
TCBJPQB  EQU   TCBJPQ+1                                                 07653000
TCBRSV15 EQU   TCBPURGE                                                 07654000
TCBRSV14 EQU   TCBPURGE                                                 07655000
TCBRSV13 EQU   TCBPURGE                                                 07656000
TCBRSV12 EQU   TCBPURGE                                                 07657000
TCBRSV11 EQU   TCBPURGE                                                 07658000
TCBRSV10 EQU   TCBPURGE                                                 07659000
TCBRSV09 EQU   TCBPURGE                                                 07660000
TCBJPQF  EQU   TCBPURGE                                                 07661000
TCBJLB   EQU   TCB+40                                                   07662000
TCBLLS   EQU   TCB+36                                                   07663000
TCBDSP   EQU   TCB+35                                                   07664000
TCBLMP   EQU   TCB+34                                                   07665000
TCBPNDSP EQU   TCBFLGS5                                                 07666000
TCBFCD1  EQU   TCBFLGS5                                                 07667000
TCBSTP   EQU   TCBFLGS5                                                 07668000
TCBSYS   EQU   TCBFLGS5                                                 07669000
TCBANDSP EQU   TCBFLGS5                                                 07670000
TCBPAGE  EQU   TCBFLGS5                                                 07671000
TCBUXNDF EQU   TCBABWF                                                  07672000
TCBONDSP EQU   TCBFLGS4                                                 07673000
TCBMPCND EQU   TCBFLGS4                                                 07674000
TCBMPCVQ EQU   TCBFLGS4                                                 07675000
TCBUXNDV EQU   TCBFLGS4                                                 07676000
TCBHNDSP EQU   TCBFLGS4                                                 07677000
TCBRQENA EQU   TCBFLGS4                                                 07678000
TCBSER   EQU   TCBFLGS4                                                 07679000
TCBNDUMP EQU   TCBFLGS4                                                 07680000
TCBDWSTA EQU   TCBFLGS3                                                 07681000
TCBRSV08 EQU   TCBFLGS3                                                 07682000
TCBRSV07 EQU   TCBFLGS3                                                 07683000
TCBRSV06 EQU   TCBFLGS3                                                 07684000
TCBADINP EQU   TCBFLGS3                                                 07685000
TCBFSM   EQU   TCBFLGS3                                                 07686000
TCBFTS   EQU   TCBFLGS2                                                 07687000
TCBFETXR EQU   TCBFLGS2                                                 07688000
TCBFDSOP EQU   TCBFLGS2                                                 07689000
TCBFJMC  EQU   TCBFLGS2                                                 07690000
TCBFSMC  EQU   TCBFLGS2                                                 07691000
TCBFABOP EQU   TCBFLGS2                                                 07692000
TCBFSTI  EQU   TCBFLGS2                                                 07693000
TCBFOINP EQU   TCBFLGS2                                                 07694000
TCBFS    EQU   TCBFLGS1                                                 07695000
TCBFT    EQU   TCBFLGS1                                                 07696000
TCBPDUMP EQU   TCBFLGS1                                                 07697000
TCBFERA  EQU   TCBFLGS1                                                 07698000
TCBFE    EQU   TCBFLGS1                                                 07699000
TCBFA    EQU   TCBFLGS1                                                 07700000
TCBZERO  EQU   TCBPKF                                                   07701000
TCBFLAG  EQU   TCBPKF                                                   07702000
TCBMSSB  EQU   TCBMSS+1                                                 07703000
TCBRSV03 EQU   TCBMSS                                                   07704000
TCBTRNB  EQU   TCBTRN+1                                                 07705000
TCBRSV02 EQU   TCBABF                                                   07706000
TCBOLTEP EQU   TCBABF                                                   07707000
TCBTCP   EQU   TCBABF                                                   07708000
TCBTCPP  EQU   TCBABF                                                   07709000
TCBRSV01 EQU   TCBABF                                                   07710000
TCBGRPH  EQU   TCBABF                                                   07711000
TCBNOCHK EQU   TCBABF                                                   07712000
TCBMOD91 EQU   TCBABF                                                   07713000
TCBCMPC  EQU   TCBCMP+1                                                 07714000
TCBRV318 EQU   TCBCMSG                                                  07715000
TCBRV317 EQU   TCBCIND                                                  07716000
TCBRV316 EQU   TCBCWTO                                                  07717000
TCBCASID EQU   TCBCDBL                                                  07718000
TCBNOCC  EQU   TCBSTCC                                                  07719000
TCBDMPO  EQU   TCBCPP                                                   07720000
TCBCSTEP EQU   TCBCMPF                                                  07721000
TCBCREQ  EQU   TCBCMPF                                                  07722000
TCBTIO   EQU   TCB+12                                                   07723000
TCBDEB   EQU   TCB+8                                                    07724000
TCBPIEA  EQU   TCBPIE+1                                                 07725000
TCBPM    EQU   TCBPMASK                                                 07726000
@NM00070 EQU   TCBPMASK                                                 07727000
TCBFRS6  EQU   TCBFRS+24                                                07728000
TCBFRS4  EQU   TCBFRS+16                                                07729000
TCBFRS2  EQU   TCBFRS+8                                                 07730000
TCBFRS0  EQU   TCBFRS                                                   07731000
SVRBEND  EQU   RBSECT+192                                               07732000
RBFEPARM EQU   RBSECT+168                                               07733000
SIRBEND  EQU   RBSECT+168                                               07734000
RBRSV158 EQU   RBRSV150                                                 07735000
RBRSV157 EQU   RBRSV150                                                 07736000
RBRSV156 EQU   RBRSV150                                                 07737000
RBRSV155 EQU   RBRSV150                                                 07738000
RBRSV154 EQU   RBRSV150                                                 07739000
RBRSV153 EQU   RBRSV150                                                 07740000
RBRSV152 EQU   RBRSV150                                                 07741000
RBRSV151 EQU   RBRSV150                                                 07742000
RBRSV149 EQU   RBSECT+166                                               07743000
RBRSV148 EQU   RBSECT+164                                               07744000
RBRSV169 EQU   RBSDATA+3                                                07745000
RBSID    EQU   RBSDATA+2                                                07746000
RBSPKEY  EQU   RBSDATA+1                                                07747000
RBRSV168 EQU   RBSFLG3                                                  07748000
RBSTERMO EQU   RBSFLG3                                                  07749000
RBSBRNTR EQU   RBSFLG3                                                  07750000
RBSPRNTR EQU   RBSFLG3                                                  07751000
RBSCNCEL EQU   RBSFLG3                                                  07752000
RBSRECRD EQU   RBSFLG3                                                  07753000
RBSTERMI EQU   RBSFLG3                                                  07754000
RBRSV167 EQU   RBSFLG3                                                  07755000
RBSOWNRA EQU   RBSOWNR+1                                                07756000
RBSSUPER EQU   RBSFLGS2                                                 07757000
RBSKEY0  EQU   RBSFLGS2                                                 07758000
RBRSV166 EQU   RBSFLGS2                                                 07759000
RBRSV165 EQU   RBSFLGS2                                                 07760000
RBSINUSE EQU   RBSFLGS2                                                 07761000
RBRSV164 EQU   RBSFLGS2                                                 07762000
RBSXCTL2 EQU   RBSFLGS2                                                 07763000
RBRSV163 EQU   RBSFLGS2                                                 07764000
RBSPARMA EQU   RBSPARM+1                                                07765000
RBSHALT  EQU   RBSIOPRC                                                 07766000
RBSNOIOP EQU   RBSIOPRC                                                 07767000
RBSASYNC EQU   RBSFLGS1                                                 07768000
RBRSV162 EQU   RBSFLGS1                                                 07769000
RBSESTAE EQU   RBSFLGS1                                                 07770000
RBSDUMMY EQU   RBSFLGS1                                                 07771000
RBSSTAR  EQU   RBSFLGS1                                                 07772000
RBSSTAI  EQU   RBSFLGS1                                                 07773000
RBSEXIT  EQU   RBSCBB+4                                                 07774000
RBSCHAIN EQU   RBSCBB                                                   07775000
TIRBEND  EQU   @NM00068+8                                               07776000
PRBEND   EQU   @NM00068+8                                               07777000
RBRSV146 EQU   RBRSV138                                                 07778000
RBRSV145 EQU   RBRSV138                                                 07779000
RBRSV144 EQU   RBRSV138                                                 07780000
RBRSV143 EQU   RBRSV138                                                 07781000
RBRSV142 EQU   RBRSV138                                                 07782000
RBRSV141 EQU   RBRSV138                                                 07783000
RBRSV140 EQU   RBRSV138                                                 07784000
RBRSV139 EQU   RBRSV138                                                 07785000
RBRSV137 EQU   @NM00068+6                                               07786000
RBRSV136 EQU   @NM00068+4                                               07787000
RBRSV135 EQU   @NM00068                                                 07788000
@NM00067 EQU   RBSECT+32                                                07789000
@NM00066 EQU   @NM00064+1                                               07790000
RBSCF    EQU   @NM00065                                                 07791000
RBPGMQ1  EQU   RBPGMQ+1                                                 07792000
@NM00063 EQU   RBPGMQ                                                   07793000
@NM00062 EQU   RBSECT+16                                                07794000
@NM00061 EQU   @NM00057                                                 07795000
@NM00060 EQU   @NM00057                                                 07796000
RBIQETP  EQU   @NM00057                                                 07797000
RBUSIQE  EQU   RBETXR                                                   07798000
RBATTN   EQU   @NM00057                                                 07799000
@NM00059 EQU   @NM00057                                                 07800000
@NM00058 EQU   @NM00057                                                 07801000
RBPMSVRB EQU   @NM00055                                                 07802000
RBATNXIT EQU   @NM00055                                                 07803000
@NM00056 EQU   @NM00055                                                 07804000
RBWAITP  EQU   @NM00055                                                 07805000
RBFNSVRB EQU   RBTRSVRB                                                 07806000
RBFTP    EQU   @NM00055                                                 07807000
RBSIZE   EQU   RBSECT+8                                                 07808000
RBABOPSW EQU   RBSECT+4                                                 07809000
RBPPSAV1 EQU   RBPPSAV+1                                                07810000
@NM00053 EQU   RBPPSAV                                                  07811000
RBPRFXND EQU   RBPREFIX+64                                              07812000
RBRSV004 EQU   RBPREFIX+57                                              07813000
RBSSSYN  EQU   RBFLAGS1                                                 07814000
RBSCB    EQU   RBFLAGS1                                                 07815000
RBLONGWT EQU   RBFLAGS1                                                 07816000
RBASIR   EQU   RBFLAGS1                                                 07817000
RBRSV159 EQU   RBFLAGS1                                                 07818000
RBABEND  EQU   RBFLAGS1                                                 07819000
RBXWAIT  EQU   RBFLAGS1                                                 07820000
RBSLOCK  EQU   RBFLAGS1                                                 07821000
RBRSV160 EQU   RBRTICIL                                                 07822000
RBRSV062 EQU   RBRSV054                                                 07823000
RBRSV061 EQU   RBRSV054                                                 07824000
RBRSV060 EQU   RBRSV054                                                 07825000
RBRSV059 EQU   RBRSV054                                                 07826000
RBRSV058 EQU   RBRSV054                                                 07827000
RBRSV057 EQU   RBRSV054                                                 07828000
RBRSV056 EQU   RBRSV054                                                 07829000
RBRSV055 EQU   RBRSV054                                                 07830000
RBRSV053 EQU   RBPREFIX+38                                              07831000
RBRSV052 EQU   RBPREFIX+36                                              07832000
RBRSV051 EQU   RBPREFIX+32                                              07833000
RBPRFXST EQU   RBPREFIX+32                                              07834000
RBRSV050 EQU   RBPREFIX+28                                              07835000
RBRSV049 EQU   RBRSV041                                                 07836000
RBRSV048 EQU   RBRSV041                                                 07837000
RBRSV047 EQU   RBRSV041                                                 07838000
RBRSV046 EQU   RBRSV041                                                 07839000
RBRSV045 EQU   RBRSV041                                                 07840000
RBRSV044 EQU   RBRSV041                                                 07841000
RBRSV043 EQU   RBRSV041                                                 07842000
RBRSV042 EQU   RBRSV041                                                 07843000
RBRSV040 EQU   RBPREFIX+26                                              07844000
RBRSV039 EQU   RBPREFIX+24                                              07845000
RBRSV038 EQU   RBPREFIX+20                                              07846000
RBRSV037 EQU   RBPREFIX+16                                              07847000
RBRSV036 EQU   RBRSV028                                                 07848000
RBRSV035 EQU   RBRSV028                                                 07849000
RBRSV034 EQU   RBRSV028                                                 07850000
RBRSV033 EQU   RBRSV028                                                 07851000
RBRSV032 EQU   RBRSV028                                                 07852000
RBRSV031 EQU   RBRSV028                                                 07853000
RBRSV030 EQU   RBRSV028                                                 07854000
RBRSV029 EQU   RBRSV028                                                 07855000
RBRSV027 EQU   RBRSV019                                                 07856000
RBRSV026 EQU   RBRSV019                                                 07857000
RBRSV025 EQU   RBRSV019                                                 07858000
RBRSV024 EQU   RBRSV019                                                 07859000
RBRSV023 EQU   RBRSV019                                                 07860000
RBRSV022 EQU   RBRSV019                                                 07861000
RBRSV021 EQU   RBRSV019                                                 07862000
RBRSV020 EQU   RBRSV019                                                 07863000
RBRSV018 EQU   RBPREFIX+13                                              07864000
RBRSV017 EQU   RBPREFIX+12                                              07865000
RBSRV016 EQU   RBPREFIX+11                                              07866000
RBRSV015 EQU   RBPREFIX+10                                              07867000
RBRSV014 EQU   RBPREFIX+8                                               07868000
RBRSV013 EQU   RBPREFIX+4                                               07869000
RBRSV012 EQU   RBPREFIX                                                 07870000
RBEXSAVE EQU   XRBESA                                                   07871000
XRBREG15 EQU   RBGRS15                                                  07872000
XRBREG14 EQU   RBGRS14                                                  07873000
XRBREG13 EQU   RBGRS13                                                  07874000
XRBREG12 EQU   RBGRS12                                                  07875000
XRBREG11 EQU   RBGRS11                                                  07876000
XRBREG10 EQU   RBGRS10                                                  07877000
XRBREG9  EQU   RBGRS9                                                   07878000
XRBREG8  EQU   RBGRS8                                                   07879000
XRBREG7  EQU   RBGRS7                                                   07880000
XRBREG6  EQU   RBGRS6                                                   07881000
XRBREG5  EQU   RBGRS5                                                   07882000
XRBREG4  EQU   RBGRS4                                                   07883000
XRBREG3  EQU   RBGRS3                                                   07884000
XRBREG2  EQU   RBGRS2                                                   07885000
XRBREG1  EQU   RBGRS1                                                   07886000
XRBREG0  EQU   RBGRS0                                                   07887000
XRBLNKA  EQU   RBLINKB                                                  07888000
XRBWT    EQU   RBWCF                                                    07889000
@NM00052 EQU   RBBASIC+24                                               07890000
RBOPSWPS EQU   RBOPSWB2                                                 07891000
@NM00051 EQU   RBOPSWB2                                                 07892000
@NM00050 EQU   XRBPSW                                                   07893000
@NM00049 EQU   RBBASIC+12                                               07894000
XRBWAIT  EQU   RBECBWT                                                  07895000
XRBFRRB  EQU   RBFDYN                                                   07896000
@NM00048 EQU   XSTAB2                                                   07897000
XRBACTV  EQU   RBFACTV                                                  07898000
XRBTCBP  EQU   RBTCBNXT                                                 07899000
@NM00047 EQU   XSTAB1                                                   07900000
XRBCKPT  EQU   RBFTCKPT                                                 07901000
@NM00046 EQU   XSTAB1                                                   07902000
@NM00045 EQU   RBBASIC+8                                                07903000
@NM00044 EQU   RBEXRTNM+1                                               07904000
RBTMIND3 EQU   RBTMFLD                                                  07905000
RBTMIND2 EQU   RBTMFLD                                                  07906000
RBTMCMP  EQU   RBTMFLD                                                  07907000
RBWLIM   EQU   RBTMFLD                                                  07908000
RBRSV005 EQU   RBTMFLD                                                  07909000
RBTMTOD  EQU   RBTMFLD                                                  07910000
RBTMQUE  EQU   RBTMFLD                                                  07911000
@NM00043 EQU   RBPRFX                                                   07912000
RTCTISVC EQU   RTCTSDO4                                                 07913000
RTCTSDOV EQU   RTCTSDMG                                                 07914000
@NM00042 EQU   RTCTSDO4                                                 07915000
@NM00041 EQU   RTCTSDO3                                                 07916000
RTCTSDPH EQU   RTCTSDO3                                                 07917000
RTCTSDPG EQU   RTCTSDO3                                                 07918000
@NM00040 EQU   RTCTSDO2                                                 07919000
RTCTSDPD EQU   RTCTSDO2                                                 07920000
RTCTSDPC EQU   RTCTSDO2                                                 07921000
RTCTSDPB EQU   RTCTSDO2                                                 07922000
RTCTSDPA EQU   RTCTSDO2                                                 07923000
RTCTSDP9 EQU   RTCTSDO2                                                 07924000
RTCTSDP8 EQU   RTCTSDO2                                                 07925000
RTCTSDP7 EQU   RTCTSDO1                                                 07926000
RTCTSDP6 EQU   RTCTSDO1                                                 07927000
RTCTSDP5 EQU   RTCTSDO1                                                 07928000
RTCTSDP4 EQU   RTCTSDO1                                                 07929000
RTCTSDP3 EQU   RTCTSDO1                                                 07930000
RTCTSDP2 EQU   RTCTSDO1                                                 07931000
RTCTSDP1 EQU   RTCTSDO1                                                 07932000
RTCTSDP0 EQU   RTCTSDO1                                                 07933000
RTCTISYM EQU   RTCTSD04                                                 07934000
RTCTSMOV EQU   RTCTSMMG                                                 07935000
@NM00039 EQU   RTCTSD04                                                 07936000
RTCTSD03 EQU   RTCTMSYO+2                                               07937000
RTCTSD02 EQU   RTCTMSYO+1                                               07938000
RTCTSDS7 EQU   RTCTSD01                                                 07939000
RTCTSDS6 EQU   RTCTSD01                                                 07940000
RTCTSDS5 EQU   RTCTSD01                                                 07941000
RTCTSDS4 EQU   RTCTSD01                                                 07942000
RTCTSDS3 EQU   RTCTSD01                                                 07943000
RTCTSDS2 EQU   RTCTSD01                                                 07944000
RTCTSDS1 EQU   RTCTSD01                                                 07945000
RTCTSDS0 EQU   RTCTSD01                                                 07946000
RTCTISYU EQU   RTCTSUO4                                                 07947000
RTCTSUOV EQU   RTCTSUMG                                                 07948000
@NM00038 EQU   RTCTSUO4                                                 07949000
RTCTSYDF EQU   RTCTSUO3                                                 07950000
RTCTSYDE EQU   RTCTSUO3                                                 07951000
RTCTSYDD EQU   RTCTSUO3                                                 07952000
RTCTSYDC EQU   RTCTSUO3                                                 07953000
RTCTSYDB EQU   RTCTSUO3                                                 07954000
RTCTSYDA EQU   RTCTSUO3                                                 07955000
RTCTSYD9 EQU   RTCTSUO3                                                 07956000
RTCTSYD8 EQU   RTCTSUO3                                                 07957000
@NM00037 EQU   RTCTSUO2                                                 07958000
RTCTSYDH EQU   RTCTSUO2                                                 07959000
RTCTSYDG EQU   RTCTSUO2                                                 07960000
RTCTSYD7 EQU   RTCTSUO1                                                 07961000
RTCTSYD6 EQU   RTCTSUO1                                                 07962000
RTCTSYD5 EQU   RTCTSUO1                                                 07963000
RTCTSYD4 EQU   RTCTSUO1                                                 07964000
RTCTSYD3 EQU   RTCTSUO1                                                 07965000
RTCTSYD2 EQU   RTCTSUO1                                                 07966000
RTCTSYD1 EQU   RTCTSUO1                                                 07967000
RTCTSYD0 EQU   RTCTSUO1                                                 07968000
RTCTISAB EQU   RTCTSAO4                                                 07969000
RTCTSAOV EQU   RTCTSAMG                                                 07970000
@NM00036 EQU   RTCTSAO4                                                 07971000
RTCTSADF EQU   RTCTSAO3                                                 07972000
RTCTSADE EQU   RTCTSAO3                                                 07973000
RTCTSADD EQU   RTCTSAO3                                                 07974000
RTCTSADC EQU   RTCTSAO3                                                 07975000
RTCTSADB EQU   RTCTSAO3                                                 07976000
RTCTSADA EQU   RTCTSAO3                                                 07977000
RTCTSAD9 EQU   RTCTSAO3                                                 07978000
RTCTSAD8 EQU   RTCTSAO3                                                 07979000
@NM00035 EQU   RTCTSAO2                                                 07980000
RTCTSADH EQU   RTCTSAO2                                                 07981000
RTCTSADG EQU   RTCTSAO2                                                 07982000
RTCTSAD7 EQU   RTCTSAO1                                                 07983000
RTCTSAD6 EQU   RTCTSAO1                                                 07984000
RTCTSAD5 EQU   RTCTSAO1                                                 07985000
RTCTSAD4 EQU   RTCTSAO1                                                 07986000
RTCTSAD3 EQU   RTCTSAO1                                                 07987000
RTCTSAD2 EQU   RTCTSAO1                                                 07988000
RTCTSAD1 EQU   RTCTSAO1                                                 07989000
RTCTSAD0 EQU   RTCTSAO1                                                 07990000
RTCTZZZ5 EQU   RTCT+340                                                 07991000
RTCTZZZ4 EQU   RTCT+336                                                 07992000
RTCTMRMQ EQU   RTCT+332                                                 07993000
RTCTSDF5 EQU   RTCTSDF3+3                                               07994000
RTCTSDDO EQU   RTCTSDF4                                                 07995000
RTCTSDEN EQU   RTCTSDF4                                                 07996000
RTCTSDEQ EQU   RTCTSDF4                                                 07997000
RTCTSDTR EQU   RTCTSDF4                                                 07998000
RTCTSDRM EQU   RTCTSDF4                                                 07999000
RTCTSDAN EQU   RTCTSDF4                                                 08000000
RTCTSDNC EQU   RTCTSDF4                                                 08001000
RTCTSDSS EQU   RTCTSDF4                                                 08002000
RTCTSDAS EQU   RTCTSDF3                                                 08003000
RTCTZZZ3 EQU   RTCT+266                                                 08004000
RTCTSDFX EQU   RTCTSDF2                                                 08005000
RTCTSDRW EQU   RTCTSDF2                                                 08006000
RTCTSDSL EQU   RTCTSDF2                                                 08007000
RTCTSDWF EQU   RTCTSDF2                                                 08008000
RTCTSDLA EQU   RTCTSDF2                                                 08009000
RTCTSDDI EQU   RTCTSDF2                                                 08010000
RTCTSDTQ EQU   RTCTSDF2                                                 08011000
RTCTSDMR EQU   RTCTSDF2                                                 08012000
RTCTSDSC EQU   RTCTSDF1                                                 08013000
RTCTSDRS EQU   RTCTSDF1                                                 08014000
RTCTSDSD EQU   RTCTSDF1                                                 08015000
RTCTSDEP EQU   RTCTSDF1                                                 08016000
RTCTSDMA EQU   RTCTSDF1                                                 08017000
RTCTSDSH EQU   RTCTSDF1                                                 08018000
RTCTSDND EQU   RTCTSDF1                                                 08019000
RTCTSDNO EQU   RTCTSDF1                                                 08020000
RTCTZZZ2 EQU   RTCT+257                                                 08021000
RTCTSDPR EQU   RTCTSDI+2                                                08022000
RTCTINDX EQU   RTCTSDI+1                                                08023000
RTCTSDNA EQU   RTCTSDI                                                  08024000
@NM00034 EQU   RTCTASO2                                                 08025000
RTCTASNQ EQU   RTCTASO2                                                 08026000
RTCTASNA EQU   RTCTASO2                                                 08027000
RTCTASNS EQU   RTCTASO2                                                 08028000
RTCTASSU EQU   RTCTASO2                                                 08029000
RTCTASSW EQU   RTCTASO2                                                 08030000
RTCTASCS EQU   RTCTASO2                                                 08031000
RTCTASTR EQU   RTCTASO1                                                 08032000
RTCTASLP EQU   RTCTASO1                                                 08033000
RTCTASRG EQU   RTCTASO1                                                 08034000
RTCTASLS EQU   RTCTASO1                                                 08035000
RTCTASSQ EQU   RTCTASO1                                                 08036000
RTCTASNU EQU   RTCTASO1                                                 08037000
RTCTASPS EQU   RTCTASO1                                                 08038000
RTCTASAL EQU   RTCTASO1                                                 08039000
RTCTSDO  EQU   RTCTOPT+12                                               08040000
RTCTSYO  EQU   RTCTOPT+8                                                08041000
RTCTSUO  EQU   RTCTOPT+4                                                08042000
RTCTSAO  EQU   RTCTOPT                                                  08043000
RTCTXXX2 EQU   RTCT+234                                                 08044000
RTCTETIM EQU   RTCTERID+6                                               08045000
RTCTEASD EQU   RTCTERID+4                                               08046000
RTCTECPU EQU   RTCTERID+2                                               08047000
RTCTESEQ EQU   RTCTERID                                                 08048000
RTCTSDWK EQU   RTCT+220                                                 08049000
RTCTTDCB EQU   RTCT+184                                                 08050000
RTCTSDSW EQU   RTCT+180                                                 08051000
RTCTSEQ# EQU   RTCT+178                                                 08052000
RTCTXXX1 EQU   RTCT+177                                                 08053000
@NM00033 EQU   RTCTRFLG                                                 08054000
RTCTRSTF EQU   RTCTRFLG                                                 08055000
RTCTRPER EQU   RTCTRFLG                                                 08056000
RTCTRTER EQU   RTCTRFLG                                                 08057000
RTCTTEST EQU   RTCT+172                                                 08058000
RTCTFMT  EQU   RTCT+160                                                 08059000
RTCTSDIP EQU   RTCTSDPL                                                 08060000
RTCTDEV  EQU   RTCTSDDS+8                                               08061000
RTCTDCB  EQU   RTCTSDDS+4                                               08062000
RTCTDTND EQU   RTCTFLG                                                  08063000
@NM00032 EQU   RTCTFLG                                                  08064000
RTCTDETP EQU   RTCTFLG                                                  08065000
RTCTDSUS EQU   RTCTFLG                                                  08066000
RTCTDSST EQU   RTCTFLG                                                  08067000
RTCTDSNM EQU   RTCTSDDS                                                 08068000
RTCTRCB  EQU   RTCT+32                                                  08069000
RTCTRECB EQU   RTCT+28                                                  08070000
RTCTMECB EQU   RTCT+20                                                  08071000
RTCTSDID EQU   RTCT+18                                                  08072000
RTCTYYY1 EQU   RTCT+16                                                  08073000
RTCTSY04 EQU   RTCTSYD+3                                                08074000
RTCTSY03 EQU   RTCTSYD+2                                                08075000
RTCTSY02 EQU   RTCTSYD+1                                                08076000
RTCTSYM7 EQU   RTCTSY01                                                 08077000
RTCTSYM6 EQU   RTCTSY01                                                 08078000
RTCTSYM5 EQU   RTCTSY01                                                 08079000
RTCTSYM4 EQU   RTCTSY01                                                 08080000
RTCTSYM3 EQU   RTCTSY01                                                 08081000
RTCTSYM2 EQU   RTCTSY01                                                 08082000
RTCTSYM1 EQU   RTCTSY01                                                 08083000
RTCTSYM0 EQU   RTCTSY01                                                 08084000
RTCTSUP4 EQU   RTCTSUP+3                                                08085000
RTCTSUDF EQU   RTCTSUP3                                                 08086000
RTCTSUDE EQU   RTCTSUP3                                                 08087000
RTCTSUDD EQU   RTCTSUP3                                                 08088000
RTCTSUDC EQU   RTCTSUP3                                                 08089000
RTCTSUDB EQU   RTCTSUP3                                                 08090000
RTCTSUDA EQU   RTCTSUP3                                                 08091000
RTCTSUD9 EQU   RTCTSUP3                                                 08092000
RTCTSUD8 EQU   RTCTSUP3                                                 08093000
@NM00031 EQU   RTCTSUP2                                                 08094000
RTCTSUDH EQU   RTCTSUP2                                                 08095000
RTCTSUDG EQU   RTCTSUP2                                                 08096000
RTCTSUD7 EQU   RTCTSUP1                                                 08097000
RTCTSUD6 EQU   RTCTSUP1                                                 08098000
RTCTSUD5 EQU   RTCTSUP1                                                 08099000
RTCTSUD4 EQU   RTCTSUP1                                                 08100000
RTCTSUD3 EQU   RTCTSUP1                                                 08101000
RTCTSUD2 EQU   RTCTSUP1                                                 08102000
RTCTSUD1 EQU   RTCTSUP1                                                 08103000
RTCTSUD0 EQU   RTCTSUP1                                                 08104000
RTCTSAP4 EQU   RTCTSAP+3                                                08105000
RTCTSABF EQU   RTCTSAP3                                                 08106000
RTCTSABE EQU   RTCTSAP3                                                 08107000
RTCTSABD EQU   RTCTSAP3                                                 08108000
RTCTSABC EQU   RTCTSAP3                                                 08109000
RTCTSABB EQU   RTCTSAP3                                                 08110000
RTCTSABA EQU   RTCTSAP3                                                 08111000
RTCTSAB9 EQU   RTCTSAP3                                                 08112000
RTCTSAB8 EQU   RTCTSAP3                                                 08113000
@NM00030 EQU   RTCTSAP2                                                 08114000
RTCTSABH EQU   RTCTSAP2                                                 08115000
RTCTSABG EQU   RTCTSAP2                                                 08116000
RTCTSAB7 EQU   RTCTSAP1                                                 08117000
RTCTSAB6 EQU   RTCTSAP1                                                 08118000
RTCTSAB5 EQU   RTCTSAP1                                                 08119000
RTCTSAB4 EQU   RTCTSAP1                                                 08120000
RTCTSAB3 EQU   RTCTSAP1                                                 08121000
RTCTSAB2 EQU   RTCTSAP1                                                 08122000
RTCTSAB1 EQU   RTCTSAP1                                                 08123000
RTCTSAB0 EQU   RTCTSAP1                                                 08124000
RTCTNAME EQU   RTCT                                                     08125000
@NM00023 EQU   EEDDES+2                                                 08126000
@NM00022 EQU   EEDFLAGS                                                 08127000
RTMBXABT EQU   RTMBRTAB+44                                              08128000
RTMBACR  EQU   RTMBRTAB+40                                              08129000
RTMBPROG EQU   RTMBRTAB+36                                              08130000
RTMBMEMT EQU   RTMBRTAB+32                                              08131000
RTMBCABT EQU   RTMBRTAB+28                                              08132000
RTMBPGIO EQU   RTMBRTAB+24                                              08133000
RTMBSVC  EQU   RTMBRTAB+20                                              08134000
RTMBMACH EQU   RTMBRTAB+16                                              08135000
RTMBREST EQU   RTMBRTAB+12                                              08136000
RTMBDAT  EQU   RTMBRTAB+8                                               08137000
RTMBPAD2 EQU   RTMBTERM+6                                               08138000
RTMBBRAN EQU   RTMBTERM+2                                               08139000
RTMBBALR EQU   RTMBTERM                                                 08140000
RT1TRETY EQU   RT1TACQR                                                 08141000
RT1TLLCK EQU   RT1TACQR                                                 08142000
RT1TDISP EQU   RT1TACQR                                                 08143000
FROMADDR EQU   LISTPAIR                                                 08144000
@NM00019 EQU   PSWILCIC                                                 08145000
@NM00018 EQU   PSWMODE+3                                                08146000
PSWSIGNF EQU   PSWCCPMK                                                 08147000
PSWWXPON EQU   PSWCCPMK                                                 08148000
PSWDECIM EQU   PSWCCPMK                                                 08149000
PSWFIXPT EQU   PSWCCPMK                                                 08150000
PSWCONCD EQU   PSWCCPMK                                                 08151000
@NM00017 EQU   PSWCCPMK                                                 08152000
PSWPRBLM EQU   PSWKYMWP                                                 08153000
PSWWAIT  EQU   PSWKYMWP                                                 08154000
PSWMCHCK EQU   PSWKYMWP                                                 08155000
PSWKEY   EQU   PSWKYMWP                                                 08156000
PSWDAT   EQU   PSWIMASK                                                 08157000
PSWEAM   EQU   PSWIMASK                                                 08158000
@NM00016 EQU   PSWIMASK                                                 08159000
PSWPER   EQU   PSWIMASK                                                 08160000
@NM00015 EQU   PSWIMASK                                                 08161000
ERREG15  EQU   ERREGS+60                                                08162000
ERREG14  EQU   ERREGS+56                                                08163000
ERREG13  EQU   ERREGS+52                                                08164000
ERREG12  EQU   ERREGS+48                                                08165000
ERREG11  EQU   ERREGS+44                                                08166000
ERREG10  EQU   ERREGS+40                                                08167000
ERREG9   EQU   ERREGS+36                                                08168000
ERREG8   EQU   ERREGS+32                                                08169000
ERREG7   EQU   ERREGS+28                                                08170000
ERREG6   EQU   ERREGS+24                                                08171000
ERREG5   EQU   ERREGS+20                                                08172000
ERREG4   EQU   ERREGS+16                                                08173000
ERREG3   EQU   ERREGS+12                                                08174000
ERREG2   EQU   ERREGS+8                                                 08175000
@NM00130 EQU   PSA+3668                                                 08176000
PSASTAK  EQU   PSA+3072                                                 08177000
@NM00129 EQU   PSA+1048                                                 08178000
PSAUSEND EQU   PSA+1048                                                 08179000
PSARV062 EQU   PSA+1044                                                 08180000
PSACDAL  EQU   PSA+1040                                                 08181000
PSAWTCOD EQU   PSA+1036                                                 08182000
PSAATCVT EQU   PSA+1032                                                 08183000
PSAPCPSW EQU   PSA+1024                                                 08184000
PSAPIR2  EQU   PSA+1020                                                 08185000
PSARV059 EQU   PSA+1018                                                 08186000
PSASVC13 EQU   PSA+1016                                                 08187000
PSALSFCC EQU   PSA+1012                                                 08188000
PSASFACC EQU   PSA+1008                                                 08189000
PSASTOP  EQU   PSA+992                                                  08190000
PSASTART EQU   PSA+976                                                  08191000
PSARSPSW EQU   PSA+968                                                  08192000
PSASRPSW EQU   PSA+960                                                  08193000
PSARV045 EQU   PSA+892                                                  08194000
PSARV044 EQU   PSA+888                                                  08195000
PSARV043 EQU   PSA+884                                                  08196000
PSARV042 EQU   PSA+880                                                  08197000
PSARV041 EQU   PSA+876                                                  08198000
PSARV040 EQU   PSA+872                                                  08199000
PSARV025 EQU   PSA+868                                                  08200000
PSADSSED EQU   PSA+868                                                  08201000
PSADSSPR EQU   PSA+864                                                  08202000
PSADSSFW EQU   PSA+860                                                  08203000
PSADSS14 EQU   PSA+856                                                  08204000
PSADSSPP EQU   PSA+848                                                  08205000
PSADSSRP EQU   PSA+840                                                  08206000
PSADSS05 EQU   PSADSSF4                                                 08207000
PSADSS10 EQU   PSADSSF4                                                 08208000
PSADSSVE EQU   PSADSSF4                                                 08209000
PSADSSDE EQU   PSADSSF4                                                 08210000
PSADSSC0 EQU   PSADSSF4                                                 08211000
PSADSSIE EQU   PSADSSF4                                                 08212000
PSADSS12 EQU   PSADSSF4                                                 08213000
PSADSSRC EQU   PSADSSF4                                                 08214000
PSARV057 EQU   PSADSSF3                                                 08215000
PSARV056 EQU   PSADSSF3                                                 08216000
PSARV055 EQU   PSADSSF3                                                 08217000
PSADSSMC EQU   PSADSSF3                                                 08218000
PSADSSRW EQU   PSADSSF3                                                 08219000
PSADSSNM EQU   PSADSSF3                                                 08220000
PSADSSES EQU   PSADSSF3                                                 08221000
PSADSSGP EQU   PSADSSF3                                                 08222000
PSADSSF2 EQU   PSADSSFL+1                                               08223000
PSADSSPI EQU   PSADSSF1                                                 08224000
PSADSSOI EQU   PSADSSF1                                                 08225000
PSADSSSP EQU   PSADSSF1                                                 08226000
PSADSSTP EQU   PSADSSF1                                                 08227000
PSADSSDW EQU   PSADSSF1                                                 08228000
PSADSSDD EQU   PSADSSF1                                                 08229000
PSADSSDM EQU   PSADSSF1                                                 08230000
PSADSSMV EQU   PSADSSF1                                                 08231000
PSADSSTS EQU   PSA+816                                                  08232000
PSADSSWK EQU   PSA+812                                                  08233000
PSADSSR3 EQU   PSA+808                                                  08234000
PSADSSR2 EQU   PSA+804                                                  08235000
PSADSSRS EQU   PSA+800                                                  08236000
PSASTOR  EQU   PSA+796                                                  08237000
PSACPUSA EQU   PSA+794                                                  08238000
PSAVSTAP EQU   PSA+792                                                  08239000
PSAWKVAP EQU   PSA+788                                                  08240000
PSAWKRAP EQU   PSA+784                                                  08241000
PSAMCHIC EQU   PSA+783                                                  08242000
PSARV061 EQU   PSA+782                                                  08243000
PSASYMSK EQU   PSA+781                                                  08244000
PSAMCHFL EQU   PSA+780                                                  08245000
PSACR0   EQU   PSA+776                                                  08246000
PSAPSWSV EQU   PSA+768                                                  08247000
PSALITA  EQU   PSA+764                                                  08248000
PSACLHS  EQU   PSAHLHI                                                  08249000
PSALKR15 EQU   PSALKSA+60                                               08250000
PSALKR14 EQU   PSALKSA+56                                               08251000
PSALKR13 EQU   PSALKSA+52                                               08252000
PSALKR12 EQU   PSALKSA+48                                               08253000
PSALKR11 EQU   PSALKSA+44                                               08254000
PSALKR10 EQU   PSALKSA+40                                               08255000
PSALKR9  EQU   PSALKSA+36                                               08256000
PSALKR8  EQU   PSALKSA+32                                               08257000
PSALKR7  EQU   PSALKSA+28                                               08258000
PSALKR6  EQU   PSALKSA+24                                               08259000
PSALKR5  EQU   PSALKSA+20                                               08260000
PSALKR4  EQU   PSALKSA+16                                               08261000
PSALKR3  EQU   PSALKSA+12                                               08262000
PSALKR2  EQU   PSALKSA+8                                                08263000
PSALKR1  EQU   PSALKSA+4                                                08264000
PSALKR0  EQU   PSALKSA                                                  08265000
PSARV023 EQU   PSACLHT+52                                               08266000
PSALOCAL EQU   PSACLHT+48                                               08267000
PSACMSL  EQU   PSACLHT+44                                               08268000
PSAOPTL  EQU   PSACLHT+40                                               08269000
PSATPACL EQU   PSACLHT+36                                               08270000
PSATPDNL EQU   PSACLHT+32                                               08271000
PSATPNCL EQU   PSACLHT+28                                               08272000
PSAIOSLL EQU   PSACLHT+24                                               08273000
PSAIOSUL EQU   PSACLHT+20                                               08274000
PSAIOSCL EQU   PSACLHT+16                                               08275000
PSAIOSSL EQU   PSACLHT+12                                               08276000
PSASALCL EQU   PSACLHT+8                                                08277000
PSAASML  EQU   PSACLHT+4                                                08278000
PSADISPL EQU   PSACLHT                                                  08279000
PSASRSA  EQU   PSA+636                                                  08280000
PSARV050 EQU   PSA+634                                                  08281000
PSADSSGO EQU   PSA+633                                                  08282000
PSARECUR EQU   PSA+632                                                  08283000
PSAHLHIS EQU   PSA+628                                                  08284000
PSAIPCSA EQU   PSA+624                                                  08285000
@NM00128 EQU   PSA+621                                                  08286000
PSAIPCDM EQU   PSA+620                                                  08287000
PSAIPCD  EQU   PSA+616                                                  08288000
@NM00127 EQU   PSA+613                                                  08289000
PSAIPCRM EQU   PSA+612                                                  08290000
PSAIPCR  EQU   PSA+608                                                  08291000
PSAMCHEX EQU   PSA+600                                                  08292000
PSAMPSW  EQU   PSA+592                                                  08293000
PSAEXPS2 EQU   PSA+584                                                  08294000
PSAEXPS1 EQU   PSA+576                                                  08295000
PSAPIREG EQU   PSA+572                                                  08296000
PSARSREG EQU   PSA+568                                                  08297000
PSAGPREG EQU   PSA+556                                                  08298000
PSARV022 EQU   PSASUP4                                                  08299000
PSARV021 EQU   PSASUP4                                                  08300000
PSARV020 EQU   PSASUP4                                                  08301000
PSARV019 EQU   PSASUP4                                                  08302000
PSARV018 EQU   PSASUP4                                                  08303000
PSARV017 EQU   PSASUP4                                                  08304000
PSARV016 EQU   PSASUP4                                                  08305000
PSARV015 EQU   PSASUP4                                                  08306000
PSARV014 EQU   PSASUP3                                                  08307000
PSAULCMS EQU   PSASUP3                                                  08308000
PSARV012 EQU   PSASUP3                                                  08309000
PSAESTA  EQU   PSASUP3                                                  08310000
PSASPR   EQU   PSASUP3                                                  08311000
PSAIOSUP EQU   PSASUP3                                                  08312000
PSAACR   EQU   PSASUP2                                                  08313000
PSAIPCE2 EQU   PSASUP2                                                  08314000
PSAIPCES EQU   PSASUP2                                                  08315000
PSAIPCEC EQU   PSASUP2                                                  08316000
PSAGTF   EQU   PSASUP2                                                  08317000
PSAIPCRI EQU   PSASUP2                                                  08318000
PSATYPE6 EQU   PSASUP1                                                  08319000
PSATCTL  EQU   PSASUP1                                                  08320000
PSADISP  EQU   PSASUP1                                                  08321000
PSALOCK  EQU   PSASUP1                                                  08322000
PSAPI    EQU   PSASUP1                                                  08323000
PSAEXT   EQU   PSASUP1                                                  08324000
PSASVC   EQU   PSASUP1                                                  08325000
PSAIO    EQU   PSASUP1                                                  08326000
PSATNEW  EQU   PSA+536                                                  08327000
PSALCCAR EQU   PSA+532                                                  08328000
PSAPCCAR EQU   PSA+524                                                  08329000
PSAPCCAV EQU   PSA+520                                                  08330000
PSAPSA   EQU   PSA+512                                                  08331000
FLCHDEND EQU   PSA+512                                                  08332000
FLCCRSAV EQU   FLCMCLA+280                                              08333000
FLCGRSAV EQU   FLCMCLA+216                                              08334000
FLCFPSAV EQU   FLCMCLA+184                                              08335000
FLCFLA   EQU   FLCMCLA+88                                               08336000
FLCRGNCD EQU   FLCMCLA+84                                               08337000
FLCFSAA  EQU   FLCFSA+1                                                 08338000
@NM00126 EQU   FLCFSA                                                   08339000
@NM00125 EQU   FLCMCLA+72                                               08340000
FLCMCIC  EQU   FLCMCLA+64                                               08341000
@NM00124 EQU   FLCMCLA+20                                               08342000
FLCIOAA  EQU   FLCIOA+1                                                 08343000
@NM00123 EQU   FLCIOA                                                   08344000
@NM00122 EQU   FLCMCLA+15                                               08345000
@NM00121 EQU   FLCMCLA+14                                               08346000
@NM00120 EQU   FLCMCLA+12                                               08347000
FLCLCL   EQU   FLCMCLA+8                                                08348000
FLCIOELA EQU   FLCIOEL+1                                                08349000
@NM00119 EQU   FLCIOEL                                                  08350000
FLCCHNID EQU   FLCMCLA                                                  08351000
@NM00118 EQU   PSA+160                                                  08352000
FLCMTRCD EQU   PSA+157                                                  08353000
@NM00117 EQU   PSA+156                                                  08354000
FLCPERA  EQU   FLCPER+1                                                 08355000
@NM00116 EQU   FLCPER                                                   08356000
@NM00115 EQU   PSA+151                                                  08357000
FLCPERCD EQU   PSA+150                                                  08358000
FLCMCNUM EQU   PSA+149                                                  08359000
@NM00114 EQU   PSA+148                                                  08360000
FLCTEAA  EQU   FLCTEA+1                                                 08361000
@NM00113 EQU   FLCTEA                                                   08362000
PSAPIPC  EQU   PSAPICOD                                                 08363000
PSAPIMC  EQU   PSAPICOD                                                 08364000
PSAPIPER EQU   PSAPICOD                                                 08365000
PSARV049 EQU   FLCPICOD                                                 08366000
FLCPILCB EQU   FLCPIILC                                                 08367000
@NM00112 EQU   FLCPIILC                                                 08368000
@NM00111 EQU   PSAEPPSW                                                 08369000
FLCSVCN  EQU   PSAESPSW+2                                               08370000
FLCSILCB EQU   FLCSVILC                                                 08371000
@NM00110 EQU   FLCSVILC                                                 08372000
@NM00109 EQU   PSAESPSW                                                 08373000
FLCEICOD EQU   PSAEEPSW+2                                               08374000
PSASPAD  EQU   PSAEEPSW                                                 08375000
@NM00108 EQU   PSA+128                                                  08376000
FLCINPSW EQU   PSA+120                                                  08377000
FLCMNPSW EQU   PSA+112                                                  08378000
FLCPNPSW EQU   PSA+104                                                  08379000
FLCSNPSW EQU   PSA+96                                                   08380000
FLCENPSW EQU   PSA+88                                                   08381000
FLCTRACE EQU   PSA+84                                                   08382000
FLCTIMER EQU   PSA+80                                                   08383000
FLCCVT2  EQU   PSA+76                                                   08384000
FLCCAW   EQU   PSA+72                                                   08385000
FLCCSW   EQU   PSA+64                                                   08386000
FLCIOPSW EQU   PSA+56                                                   08387000
FLCMOPSW EQU   PSA+48                                                   08388000
FLCPOPSW EQU   PSA+40                                                   08389000
FLCSOPSW EQU   PSA+32                                                   08390000
FLCEOPSW EQU   PSA+24                                                   08391000
@NM00107 EQU   FLCICCW2+4                                               08392000
FLCICCW1 EQU   FLCROPSW                                                 08393000
FLCIPPSW EQU   FLCRNPSW                                                 08394000
*                                      END UNREFERENCED COMPONENTS      08395000
@RC00114 EQU   @RC00112                                                 08396000
@RF00245 EQU   @RC00243                                                 08397000
@RC00249 EQU   @RC00243                                                 08398000
@RC00255 EQU   @RC00243                                                 08399000
@RC00213 EQU   @RC00195                                                 08400000
@RC00211 EQU   @RC00195                                                 08401000
@RF00322 EQU   @RC00301                                                 08402000
@RC00447 EQU   @RC00443                                                 08403000
@RF00526 EQU   @RC00521                                                 08404000
@RF00516 EQU   @RC00440                                                 08405000
@RC00702 EQU   @RC00695                                                 08406000
@RF00878 EQU   @RC00865                                                 08407000
@RC00843 EQU   @RC00842                                                 08408000
@RC00972 EQU   @RC00970                                                 08409000
@RC00986 EQU   @RC00970                                                 08410000
@RC01114 EQU   @EL00003                                                 08411000
@PB00003 EQU   @PB00004                                                 08412000
@RC00215 EQU   @RC00213                                                 08413000
@RC00708 EQU   @RC00702                                                 08414000
@PB00002 EQU   @PB00003                                                 08415000
@ENDDATA EQU   *                                                        08416000
         END   IEAVTRTM,(C'PLS2335',0800,78080)                         08417000
