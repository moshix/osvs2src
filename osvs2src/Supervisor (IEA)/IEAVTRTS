         TITLE 'IEAVTRTS, SRM  MAINLINE                                *00001000
                        '                                               00002000
IEAVTRTS CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(22)                                             0001 00007000
         DC    C'IEAVTRTS UZ13285 77256'                           0001 00008000
         DROP  @15                                                      00009000
@PROLOG  BALR  @10,0                                               0001 00010000
@PSTART  DS    0H                                                  0001 00011000
         USING @PSTART,@10                                         0001 00012000
*                                                                  0090 00013000
*   /*****************************************************************/ 00014000
*   /*                                                               */ 00015000
*   /* IEAVTRTS WILL ALWAYS BE ENTERED WHEN RECOVERY OF SUPERVISOR   */ 00016000
*   /* CONTROL FUNCTIONS CAN BE ATTEMPTED VIA THE USE FO FRRS.       */ 00017000
*   /* IEAVTRTS CAN BE ENTERED IN BOTH RECURSIVE SITUATIONS OR NON-  */ 00018000
*   /* RECURSIVE SITUATIONS. IN EITHER CASE THE OBJECTIVE OF         */ 00019000
*   /* IEAVTRTS(CALLED THE SRM) PROCESSING IS TO ATTEMPT RECOVERY    */ 00020000
*   /* USING THOSE FRR'S DEFINED ON THE FRR STACK ASSOCIATED WITH THE*/ 00021000
*   /* SUPERVISORY CONTROL FUNCTIONS FAILURE. THIS SEGMENT PERFORMS  */ 00022000
*   /* BASIC INITIALIZATION FOR EACH ENTRY TO SRM IN PREPARATION FOR */ 00023000
*   /* SRMS MAIN FUNCTION-FRR RECOVERY PROCESSING INPUT TO THIS      */ 00024000
*   /* SEGMENT IS AS FOLLOWS: FUNCTION REGISTER(R0) USED INTERNALLY  */ 00025000
*   /* WITHIN SRM TO MONITOR ITS PROCESSING PSACSTK FIELD OF THE PSA */ 00026000
*   /* WHICH POINTS TO THE INTERRUPTED FRR STACK RTMRET REGISTER(R14)*/ 00027000
*   /* CONTAINING THE RETURN ADDRESS OF THE RTM(THE CALLER OF SRM)   */ 00028000
*   /* RTMBREG REGISTER(R9) - THE BASE REGISTER OF RTM RECVSTAK      */ 00029000
*   /* REGISTER(R4) CONTAINING THE ADDRESS OF THE FRR STACK WHICH SRM*/ 00030000
*   /* CAN USED TO DEFINE ITS OWN RECOVERY VIA FRRS OUTPUT FROM THIS */ 00031000
*   /* SEGMENT IS AS FOLLOWS: FUNCTION REGISTER(R0) IS SET=1 TO      */ 00032000
*   /* INDICATE THAT FRR RECOVERY PROCESSING IS TO BE PERFORMED BY   */ 00033000
*   /* SRM RECURSE REGISTER(R7) CONTAINS THE LOGICAL PHASE NUMBER FOR*/ 00034000
*   /* THE RTM.                                              @ZA20321*/ 00035000
*   /* CURRSTK REGISTER(R8) CONTAINS THE ADDRESS OF THE INTER- RUPTED*/ 00036000
*   /* FRR STACK FOR WHICH RECOVERY IS PERFORMED SRMSTAK REGISTER(R2)*/ 00037000
*   /* CONTAINS THE ADDRESS OF THE FRR STACK THAT SRM CAN USE TO     */ 00038000
*   /* DEFINE ITS OWN FRRS RTMRET REGISTER(R14) AND RTMBREG          */ 00039000
*   /* REGISTER(R9) ARE SAVED IN THE RTM1 WORK AREA PORTION OF THE   */ 00040000
*   /* INTERRUPTED FRR STACK FOR EVENTUAL USE BY SRM TO RETURN TO RTM*/ 00041000
*   /*                                                               */ 00042000
*   /*****************************************************************/ 00043000
*                                                                  0091 00044000
*   DO;                                                            0091 00045000
*     R0=RECOVERY;                  /* SET THE SRM FUNCTION REGISTER    00046000
*                                      TO INDICATE FRR RECOVERY FOR     00047000
*                                      SUBSEQUENT SRM FUNCTIONS      */ 00048000
         LA    R0,1                                                0092 00049000
*     R8=PSACSTK;                   /* ESTABLISH CURRSTK REG AS    0093 00050000
*                                      POINTER TO THE INTERRUPTED  0093 00051000
*                                      STACK                         */ 00052000
         L     R8,PSACSTK                                          0093 00053000
*     RFY                                                          0094 00054000
*       R7 RSTD;                    /* REG TO SAVE OLD PLN   @ZA20321*/ 00055000
*     R7=RT1WLPN;                   /* SAVE OLD LPN          @ZA20321*/ 00056000
         SLR   R7,R7                                               0095 00057000
         IC    R7,RT1WLPN(,R8)                                     0095 00058000
*     RT1TLPN=RT1SRMLO;             /* DEFINE DEFAULT RECOVERY FOR 0096 00059000
*                                      IEAVTRTS              @YM06156*/ 00060000
         LA    @15,16                                              0096 00061000
         ALR   @15,R8                                              0096 00062000
         MVI   RT1TLPN(@15),X'3C'                                  0096 00063000
*     R2=R4;                        /* SAVE SRMS STACK ADDRESS IN THE   00064000
*                                      INTERRUPTED STAK              */ 00065000
         LR    R2,R4                                               0097 00066000
*     RTMRETAD=R14;                 /* CHKPT RTMS RETURN ADDRESS IN     00067000
*                                      THE INTERRUPTED STACK         */ 00068000
         LA    @12,48                                              0098 00069000
         ALR   @12,R8                                              0098 00070000
         ST    R14,RTMRETAD(,@12)                                  0098 00071000
*     RTMBASE=R9;                   /* CHKPT RTMS BASE REGISTER IN 0099 00072000
*                                      THE INTERRUPTED STACK         */ 00073000
         ST    R9,RTMBASE(,@12)                                    0099 00074000
*     MODEBYTE=RT1WMODE;            /* ESTABLISH MODE OF SYSTEM AT 0100 00075000
*                                      TIME OF ERROR                 */ 00076000
         IC    @12,RT1WMODE(,R8)                                   0100 00077000
         STC   @12,MODEBYTE+81(,R8)                                0100 00078000
*     RT1TLPID=SRMDRID;             /* DEFINE RTS RECOVERY   @YM06156*/ 00079000
         MVI   RT1TLPID(@15),X'01'                                 0101 00080000
*   END;                                                           0102 00081000
*   RFY                                                            0103 00082000
*    (R4,                                                          0103 00083000
*     R14) UNRSTD;                  /* RELEASE REGS 4,14,            */ 00084000
*   GENERATE CODE                   /* ESTABLISH REG R9 AS SECOND  0104 00085000
*                                      BASE REG FOR IEAVTRTS         */ 00086000
*       ;                                                          0104 00087000
*                                                                  0104 00088000
         LA    R9,4095(,R10)   CODEREG R9 IS R10+4095                   00089000
         USING @PSTART+4095,R9                                          00090000
*   /*****************************************************************/ 00091000
*   /*                                                               */ 00092000
*   /* THE FOLLOWING LOOP IS DEFINED AS AN INTEGRAL PART OF SRM      */ 00093000
*   /* PROCESSING. LOOPING WILL ONLY TAKE PLACE WHEN SRM IS IS       */ 00094000
*   /* ENTERED FOR RECURSION. OTHERWISE THE FUNCTIONS ENCLOSED IN THE*/ 00095000
*   /* DO GROUP WILL ONLY EXECUTE ONCE                               */ 00096000
*   /*                                                               */ 00097000
*   /*****************************************************************/ 00098000
*                                                                  0105 00099000
*   DO WHILE R0>=RECOVERY;          /* PERFORM SRM FRR PROCESSING  0105 00100000
*                                      ONLY IF RECOVERY IS STILL   0105 00101000
*                                      NEEDED. THAT IS IF FUNCTION 0105 00102000
*                                      REGISTER(R0) IS NON ZERO      */ 00103000
         B     @DE00105                                            0105 00104000
@DL00105 DS    0H                                                  0106 00105000
*/* ******************************************************************/ 00106000
*/*  THIS SEGMENT INITIALIZES AN RTCA WITH THE INPUT ERROR IN-       */ 00107000
*/*  FORMATION IN PREPARATION FOR ROUTING TO FRRS. THE RTCA SEL-     */ 00108000
*/*  ECTED FOR INITIALIZATION IS DEPENDENT ON THE SYSTEM MODE AT     */ 00109000
*/*  THE TIME OF THE ERROR(LOCATED IN THE RT1WMODE FIELD OF THE      */ 00110000
*/*  RTM1 WORK AREA ASSOCIATED WITH THE INTERRUPTED FRR STACK        */ 00111000
*/*  . THE GLOBAL RTCA ASSOCIATED WITH THE INTERRUPTED STACK IS      */ 00112000
*/*    SELECTED IF THE MODE IS PHYSICALLY DISABLED OR GLOBALLY       */ 00113000
*/*    LOCKED                                                        */ 00114000
*/*  . THE LOCAL RTCA ASSOCIATED WITH THE ACTIVE MEMORY AT THE       */ 00115000
*/*    TIME OF THE FAILURE IS SELECTED IF THE MODE INDICATES         */ 00116000
*/*    LOCALLY LOCKED                                                */ 00117000
*/*  . AN SRB RTCA IS DYNAMICALLY ACQUIRED(VIA GETMAIN) IF THE       */ 00118000
*/*    MODE INDICATES SRB MODE                                       */ 00119000
*/* THE  SELECTION OF AN RTCA IS PERFORMED BY THE ALLOCAT SEGMENT    */ 00120000
*/*  IF RECURSION IS IN EFFECT(I.E. THE RT1WRTCA FIELD OF THE        */ 00121000
*/*  RTM1 WA ASSOCIATED WITH THE INTERRUPTED STACK IS NONZERO        */ 00122000
*/* ---IN FACT POINTS TO THE CURRENTLY ACTIVE RTCA)                  */ 00123000
*/*  THE INPUT ERROR INFORMATION IS CHECKPOINTED INTO THE SRMREG     */ 00124000
*/*  SAVE AREA AND SELECTING AND INITIALIZING AN RTCA IS BYPASSED    */ 00125000
*/*  UNTIL THE ORIGINAL RTCA REPRESENTING THE OLD ERROR HAS BEEN     */ 00126000
*/*  RECORDED(IN THE SEGMENT--RECORD)                                */ 00127000
*/*  INPUT TO THIS SEGMENT IS AS FOLLOWS:                            */ 00128000
*/* FLAGSCC REGISTER(R1) CONTAINS COMP CODE AND CALLRTM FLAGS        */ 00129000
*/*  - SRMSTAK REGISTER(R2) CONTAINS ADDR OF SRMS RECOVERY STACK     */ 00130000
*/*  - CURRSTK REGISTER(R8) CONTAINS THE ADDR OF THE INTERRUPTED     */ 00131000
*/*    FRR STACK                                                     */ 00132000
*/*  - DUMPOPTS REGISTER(R5) CONTAINS THE ADDR OF DUMP OPTIONS       */ 00133000
*/*    IF THE ERROR TYPE IS NOT A MACHINE CHECK                      */ 00134000
*/*  - REPAIRAD REGISTER(R5) CONTAINS THE ADDR OF MACHINE CHECK      */ 00135000
*/*    INFORMATION IF THE ERROR IS A MACHINE AND A COMPLETE          */ 00136000
*/*    DESCRIPTION OF THE ERROR WAS OBTAINABLE(I.E.THE EEDCHAIN      */ 00137000
*/*    REGISTER(R6) IS GREATER THAN 1)                               */ 00138000
*/*  - REPRDATA REGISTER(R5) CONTAINS ABBREVIATED MACHINE CHECK      */ 00139000
*/*    IF A COMPLETE DESCRIPTION OF A MACHINE CHECK WAS NOT          */ 00140000
*/*    OBTAINABLE(I.E. EEDCHAIN REGISTER(R6) IS ZERO OR 1)           */ 00141000
*/*  - EEDCHAIN REGISTER(R6) CONTAINS AN INDICATION THAT TELLS       */ 00142000
*/*    SRM WHETHER FOR A MACHINE CHECK ERROR A COMPLETE OR           */ 00143000
*/*    INCOMPLETE DESCRIPTION OF THE ERROR HAS BEEN SUPPLIED         */ 00144000
*/*    FOR ALL OTHER ERROR TYPES EXCEPT MACHINE CHECK THIS           */ 00145000
*/*    REGISTER IS ZERO ON INPUT TO SRM                              */ 00146000
*/*  - RECURSE REGISTER(R7) CONTAINS THE ORIGINAL LOGICAL PHASE      */ 00147000
*/*    NUMBER FROM RTM.                                      @ZA20321*/ 00148000
*/*    SAVAREAP REGISTER(R13) CONTAINS THE ADDR OF THE REGISTERS     */ 00149000
*/*    SAVED AT THE TIME OF THE ERROR                                */ 00150000
*/*  - PSARSVT(THE RECOVERY STACK VECTOR TABLE IN THE PSA)           */ 00151000
*/*    CONTAINS ADDRESSES TO ALL FRR STACKS DEFINED IN THE SYSTEM    */ 00152000
*/* .THE INTERRUPTED FRR STACK ADDRESSABLE FROM THE PSACSTK FIELD    */ 00153000
*/*   OF THE RSVT, THE RTM1 WA LOCATED IN THE INTERRUPTED FRR        */ 00154000
*/*  STACK, THE CURRENT ASCB ADDRESSABLE FROM THE PSA,THE ASSOC      */ 00155000
*/*  ICATED ASXB ADDRESSABLE FROM THE ASCB,THE LOCAL RTCA ADDRESS    */ 00156000
*/*  ABLE FROM THE ASXB                                              */ 00157000
*/* IF RECURSION WAS NOT ACTIVE ON ENTRY THE PROPER RTCA IS SEL-     */ 00158000
*/*  ECTED AND INITIALIZED USING THE INPUT ERROR INFORMATION AS      */ 00159000
*/*  FOLLOWS:                                                        */ 00160000
*/*   SDWAPARM - POINTS TO THE FRR PARAMETER AREA OF THE CURRENT     */ 00161000
*/*   FRR ON THE INTERRUPTED STACK. IF THE STACK IS EMPTY THIS       */ 00162000
*/*   FIELD IS ZERO                                                  */ 00163000
*/*   SDWAABCC-IS SET WITH THE CALLRTM FLAGS AND COMPLETION CODE     */ 00164000
*/*   SDWAGRSV-IS INITIALIZED WITH THE REGISTER CONTENTS AT THE      */ 00165000
*/*   TIME OF THE ERROR                                              */ 00166000
*/*   SDWAEC1,SDWAEC2-INITIALIZED WITH THE ECMODE PSW AT THE TIME    */ 00167000
*/*   OF THE ERROR                                                   */ 00168000
*/*   SDWASRSV-INITIALIZED WITH SAME INFO AS SDWAGRSV                */ 00169000
*/*   SDWAMCH-INITIALIZED IF THE ERROR TYPE WAS MACHINE CHECK        */ 00170000
*/*   IF MACHINE CHECK DATA IS ABBREVIATED FIELDS SDWAMCHI,          */ 00171000
*/*   SDWACPID ARE INITIALIZED WITH THE ABBREVIATED MACHK DATA.      */ 00172000
*/*   IF ERROR TYPE IS NOT MACHINE CHECK THESE FIELD WILL BE ZERO    */ 00173000
*/*   SDWAERRA,SDWAERRB FIELDS ARE INITIALIZED TO INDICATE THE       */ 00174000
*/*   ENTRY TYPE                                                     */ 00175000
*/*   SDWARCRD-INITIALIZED TO INDICATE RECORDING                     */ 00176000
*/*   SDWADUMP IS INITIALIZED WITH THE DUMP OPTIONS SPECIFIED        */ 00177000
*/*   ON INPUT VIA DUMPOPTS REGISTER (R5)-IF NO DUMPOPTS WERE        */ 00178000
*/*   SUPPLIED THEN SDWADUMP IS ZERO                                 */ 00179000
*/*   SDWASPID,SDWALNTH - ARE INITIALIZED WITH THE SUBPOOL ID AND    */ 00180000
*/*   AND LENGTH IF THE RTCA IS AN SRB RTCA                          */ 00181000
*/*   SDWADPLA,SDWARECA ARE INITIALIZED TO POINT TO THE DUMP         */ 00182000
*/*   PARAMETER LIST(IN THE RTCA) AND THE VARIABLE RECORDING         */ 00183000
*/*   AREA(IN THE RTCA)  RESPECTIVELY                                */ 00184000
*/*  - RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE           */ 00185000
*/*    INTERRUPTED STACK POINTS TO THE INITIALIZED RTCA              */ 00186000
*/*   RECURSE REGISTER (R7)-INDICATES IF RECURSION IS IN EFFECT      */ 00187000
*/* NOTES                                                            */ 00188000
*/*  - REGS(R1,R5,R6,R11,R12,R13,R14,R15) BECOME VOLATILE AT THE     */ 00189000
*/*    END OF THIS SEGMENT                                           */ 00190000
*/*  - REGS(R0,R2,R7,R8) REMAIN THE SAME THROUGHOUT THIS SEGMENT     */ 00191000
*/* ******************************************************************/ 00192000
*                                                                  0106 00193000
*     IF RT1WRTCA=NULL              /* IF THIS IS INITIAL    @ZA20321*/ 00194000
*         |R7=VALIDREC THEN         /* ENTRY OR ANTICIPATED        0106 00195000
*                                      RECURSION.            @ZA20321*/ 00196000
         L     @12,RT1WRTCA(,R8)                                   0106 00197000
         LTR   @12,@12                                             0106 00198000
         BZ    @RT00106                                            0106 00199000
         C     R7,@CF00105                                         0106 00200000
         BNE   @RF00106                                            0106 00201000
@RT00106 DS    0H                                                  0107 00202000
*       DO;                         /* THEN DO THE FOLLOWING         */ 00203000
*         R7=NULL;                  /* INDICATE THAT RECURSION IS NOT   00204000
*                                      IN EFFECT AND THAT SRM IS   0108 00205000
*                                      BEING ENTERED TO PROCESS AN 0108 00206000
*                                      INITIAL ERROR                 */ 00207000
*                                                                  0108 00208000
         SLR   R7,R7                                               0108 00209000
*         /***********************************************************/ 00210000
*         /*                                                         */ 00211000
*         /* THIS SEGMENT ALLOCATES/ACQUIRES AN RTCA WHICH WHEN      */ 00212000
*         /* INITIA- LIZED WITH THE ERROR INFORMATION WILL EVENTUALLY*/ 00213000
*         /* BE USED BY FRRS DURING FRR RECOVERY PROCESSING. THE RTCA*/ 00214000
*         /* SELECTED DEPENDS ON THE SYSTEM MODE AT THE TIME OF THE  */ 00215000
*         /* ERROR(WHICH IS LOCATED IN THE RT1WMODE FIELD OF THE RTM1*/ 00216000
*         /* WORK AREA AS- SOCIATED WITH THE INTERRUPTED STACK. .THE */ 00217000
*         /* GLOBAL RTCA(ASSOCIATED WITH THE INTERRUPTED FRR STACK ) */ 00218000
*         /* IS SELECTED IF THE MODE INDICATES PHYSICAL DISABLEMENT  */ 00219000
*         /* OR THE HOLDING OF A GLOBAL SPIN LOCK .THE LOCAL RTCA    */ 00220000
*         /* ASSOCIATED WITH THE MEMORY IN WHICH THE ERROR OCURRED IS*/ 00221000
*         /* USED IF THE MODE INDICATES THAT EITHER THE LOCAL LOCK   */ 00222000
*         /* WAS HELD OR THE GLOBAL(CMS) SUSUPEND LOCK WAS HELD .AN  */ 00223000
*         /* SRB RTCA IS DYNAMICALLY ACQUIRED(VIA GETMAIN) WHEN THE  */ 00224000
*         /* ERROR OCCURRED IN SRB MODE INPUT TO THIS SEGMENT IS THE */ 00225000
*         /* FOLLOWING: THE INTERRUPTED STACK ADDRESSABLE FROM THE   */ 00226000
*         /* PSACSTK FIELD OF THE RSVT,THE RTM1 WORK AREA LOCATED IN */ 00227000
*         /* THE INTERRUPTED STAK THE CURRENT ASCB ADDRESSABLE FROM  */ 00228000
*         /* THE PSA,THE ASXB ADDRESSABLE FROM THE ASCB,THE LOCAL    */ 00229000
*         /* RTCA ADDRESSABLE FROM THE ASXB REGISTER CONTENTS ON     */ 00230000
*         /* INPUT ARE AS FOLLOWS: FLAGSCC REGISTER (R1) - THE       */ 00231000
*         /* CALLRTM FLAGS AND COMP. CODE SRMSTAK REGISTER (R2) - THE*/ 00232000
*         /* FRR STACK THAT SRM CAN USE TO DEFINED ITS OWN FRRS AND  */ 00233000
*         /* RECOVERY DUMPOPTS REGISTER (R5) -ADDRESS OF DUMPOPTS    */ 00234000
*         /* SPECIFIED BY IF ABEND WAS USED TO ENTER RTM REPAIRAD    */ 00235000
*         /* REGISTER OR REPRDATA REGISTER (R5) - THE ADDRESS OF     */ 00236000
*         /* HARDWARE REPAIR INFORMATION(IF EEDCHAIN REGISTER (R6) IS*/ 00237000
*         /* NON ZERO) OTHER WISE THIS REGISTER CONTAINS ABBREV-     */ 00238000
*         /* IATED HARDWARE REPAIR DATA(IF EEDCHAIN REGISTER IS ZERO)*/ 00239000
*         /* THIS MEAINING FOR R5 IS ONLY APPLICABLE FOR MACHINE     */ 00240000
*         /* CHECK ERROR ENTRIES TO SRM SAVAREAP REGISTER (R13) - THE*/ 00241000
*         /* ADDRESS OF THE GENERAL PURPOSE REGISTER CONTENTS AT THE */ 00242000
*         /* TIME OF THE ERROR OUTPUT FROM THIS SEGMENT IS AS        */ 00243000
*         /* FOLLOWS:                                                */ 00244000
*         /*                                                         */ 00245000
*         /***********************************************************/ 00246000
*                                                                  0109 00247000
*         RFY                                                      0109 00248000
*           R3 RSTD;                                               0109 00249000
*         R3=MODEBYTE&VALMODES;                                    0110 00250000
         LA    @12,81                                              0110 00251000
         ALR   @12,R8                                              0110 00252000
         LA    R3,186                                              0110 00253000
         SLR   @11,@11                                             0110 00254000
         IC    @11,MODEBYTE(,@12)                                  0110 00255000
         NR    R3,@11                                              0110 00256000
*         IF R8=PSANSTK             /* IF THE INTERRUPTED STAK IS NOT   00257000
*                                      A SUPER STACK                 */ 00258000
*             &PSASUPER=NULL        /* AND IF THE CPU IS NOT IN SUPER   00259000
*                                      NODE                          */ 00260000
*             &(R3^=NULL|MODEDIS^=ON)&MODEGSPN^=ON/* AND IF NO GLOBAL   00261000
*                                      SPIN LOCKS ARE HELD BY THE CPU*/ 00262000
*             &RT1TENPT^=RT1WDAT THEN/* AND THE ERROR WAS NOT A    0111 00263000
*                                      DATERR                        */ 00264000
         C     R8,PSANSTK                                          0111 00265000
         BNE   @RF00111                                            0111 00266000
         SLR   @11,@11                                             0111 00267000
         CL    @11,PSASUPER                                        0111 00268000
         BNE   @RF00111                                            0111 00269000
         CR    R3,@11                                              0111 00270000
         BNE   @GL00003                                            0111 00271000
         TM    MODEDIS(@12),B'01000000'                            0111 00272000
         BO    @RF00111                                            0111 00273000
@GL00003 LA    @12,81                                              0111 00274000
         ALR   @12,R8                                              0111 00275000
         TM    MODEGSPN(@12),B'00100000'                           0111 00276000
         BO    @RF00111                                            0111 00277000
         CLI   RT1TENPT+16(R8),4                                   0111 00278000
         BE    @RF00111                                            0111 00279000
*           IF                      /* AND IF NO GLOBAL SUSPEND      */ 00280000
*               MODELOC^=ON THEN    /* LOCKS ARE HELD AND THE LOCAL     00281000
*                                      IS NOT HELD THEN THE ERROR  0112 00282000
*                                      OCCURRED IN SRB MODE          */ 00283000
         TM    MODELOC(@12),B'00001000'                            0112 00284000
         BO    @RF00112                                            0112 00285000
*             DO;                   /* ALLOCATE A SRB RTCA           */ 00286000
*/* ******************************************************************/ 00287000
*/* THIS SEGMENT CHECKPOINTS VOLATILE REGISTER CONTENTS PRIOR TO     */ 00288000
*/* INVOKING THE INTERNAL PROCEDURE(GSRBRTCA) TO ACQUIRE A SRB       */ 00289000
*/* RTCA AND RESTORES THESE VOLATILE REGISTER ON RETURN FROM THE     */ 00290000
*/* INTERNAL PROC(GSRBRTCA)                                          */ 00291000
*/* INPUT                                                            */ 00292000
*/*  -FLAGSCC REGISTER(R1) CONTAINS THE COMPLETION CODE AND          */ 00293000
*/*   CALLRTM FLAGS APPLICABLE TO THIS ERROR                         */ 00294000
*/*  -SAVAREAP REGISTER(R13) CONTAINS THE ADDRESS OF THE REGISTER    */ 00295000
*/*   SAVE AREA CONTAINING THE REGISTER CONTENTS AT THE TIME OF      */ 00296000
*/*   THE ERROR                                                      */ 00297000
*/*  -FUNCTION REGISTER(R0) CONTAINS THE INTERNAL FUNCTION CODE      */ 00298000
*/*   WHICH DIRECTS FURTHER SRM PROCESSING                           */ 00299000
*/*  -CURRSTK REGISTER(R8) POINTS TO THE INTERRUPTED FRR STACK       */ 00300000
*/*   BEING PROCESSED BY SRM                                         */ 00301000
*/* OUTPUT                                                           */ 00302000
*/*  -THE RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE        */ 00303000
*/*   INTERRUPTED FRR STACK POINTS TO THE ACQUIRED SRB RTCA          */ 00304000
*/*  -REGISTERS(R0,R1,R13,R8) CONTAIN THE SAME INFORMATION AS ON     */ 00305000
*/*   INPUT                                                          */ 00306000
*/* NOTES                                                            */ 00307000
*/*  -REGISTERS(R2,R5,R6,R7) MUST REMAIN UNALTERED THROUGHOUT        */ 00308000
*/*   THIS SEGMENT                                                   */ 00309000
*/*                                                                  */ 00310000
*/* ******************************************************************/ 00311000
*                                                                  0114 00312000
*               CHKPT3=R1;          /* SAVE COMP CODE AND CALLRTM  0114 00313000
*                                      FLAGS IN INTERRUPTED STACK    */ 00314000
         LA    @12,48                                              0114 00315000
         ALR   @12,R8                                              0114 00316000
         ST    R1,CHKPT3(,@12)                                     0114 00317000
*               CHKPT4=R13;         /* SAVE ADDR OF REGS AT TIME OF     00318000
*                                      ERROR IN INTERRUPTED STACK    */ 00319000
         ST    R13,CHKPT4(,@12)                                    0115 00320000
*               CHKPT5=R0;          /* CHKPT THE FUNCTION CODE FOR 0116 00321000
*                                      SRM LATER USE                 */ 00322000
         ST    R0,CHKPT5(,@12)                                     0116 00323000
*               RFY                                                0117 00324000
*                 R1 UNRSTD;                                       0117 00325000
*               RFY                                                0118 00326000
*                 R13 UNRSTD;       /* RELEASE REG 13                */ 00327000
*               RFY                                                0119 00328000
*                 R0 UNRSTD;                                       0119 00329000
*               RFY                                                0120 00330000
*                 R1 RSTD;                                         0120 00331000
*               CALL GSRBRTCA;      /* ACQUIRE SRB RTCA              */ 00332000
*                                                                  0121 00333000
         BAL   @14,GSRBRTCA                                        0121 00334000
*               /*****************************************************/ 00335000
*               /*                                                   */ 00336000
*               /* ON RETURN FROM GSRBRTCA TARGRTCA(R2) CONTAINS THE */ 00337000
*               /* ADDRESS OF THE ACQUIRED SRB RTCA                  */ 00338000
*               /*                                                   */ 00339000
*               /*****************************************************/ 00340000
*                                                                  0122 00341000
*               RT1WRTCA=R1;        /* MAKE THE ACQUIRED SRB RTCA  0122 00342000
*                                      CURRENTLY ACTIVE BY SAVING ITS   00343000
*                                      ADDR IN THE RTM1 WORK AREA    */ 00344000
         ST    R1,RT1WRTCA(,R8)                                    0122 00345000
*               RFY                                                0123 00346000
*                 R1 UNRSTD;                                       0123 00347000
*               RFY                                                0124 00348000
*                (R1,                                              0124 00349000
*                 R13,                                             0124 00350000
*                 R0) RSTD;                                        0124 00351000
*               R1=CHKPT3;          /* RESTORE COMP CODE AND CALLRTM    00352000
*                                      FLAGS                         */ 00353000
         LA    @12,48                                              0125 00354000
         ALR   @12,R8                                              0125 00355000
         L     R1,CHKPT3(,@12)                                     0125 00356000
*               R13=CHKPT4;         /* RESTORE ADDR OF REGS AT TIME     00357000
*                                      OF ERROR                      */ 00358000
         L     R13,CHKPT4(,@12)                                    0126 00359000
*               R0=CHKPT5;          /* REESTABLISH SRMS INTERNAL   0127 00360000
*                                      FUNCTION CODE                 */ 00361000
         L     R0,CHKPT5(,@12)                                     0127 00362000
*             END;                                                 0128 00363000
*           ELSE                    /* OTHERWISE MODE IS LOCAL       */ 00364000
*             DO;                   /* AND THE LOCAL RTCA IS TO BE 0129 00365000
*                                      ASSIGNED                      */ 00366000
         B     @RC00112                                            0129 00367000
@RF00112 DS    0H                                                  0130 00368000
*               RT1WRTCA=ASXBFRWA;  /* THE LOCAL RTCA WILL NOW BECOME   00369000
*                                      THE ACTIVE RTCA               */ 00370000
         L     @12,PSAAOLD                                         0130 00371000
         L     @12,ASCBASXB(,@12)                                  0130 00372000
         L     @12,ASXBFRWA(,@12)                                  0130 00373000
         ST    @12,RT1WRTCA(,R8)                                   0130 00374000
*             END;                                                 0131 00375000
*         ELSE                      /* USE THE GLOBAL RTCA FOR THE 0132 00376000
*                                      ERROR IF THE ERROR OCURRED IN    00377000
*                                      GLOBAL MODE                   */ 00378000
*           DO;                                                    0132 00379000
         B     @RC00111                                            0132 00380000
@RF00111 DS    0H                                                  0133 00381000
*             RFY                                                  0133 00382000
*              (R4,                                                0133 00383000
*               R3) RSTD;                                          0133 00384000
*             IF R8=PSANSTK THEN    /* IF THE INTERRUPTED STACK      */ 00385000
         C     R8,PSANSTK                                          0134 00386000
         BNE   @RF00134                                            0134 00387000
*               DO;                 /* IS THE NORMAL STACK THEN THE     00388000
*                                      GLOBAL RTCA ASSOCIATED WITH 0135 00389000
*                                      THE NORMAL STACK IS USED      */ 00390000
*                 RT1WRTCA=ADDR(NGLBRTCA);/* MAKE THE GLOBAL RTCA  0136 00391000
*                                      ASSOCIATED WITH THE NORMAL  0136 00392000
*                                      ACTIVE                        */ 00393000
         L     @12,YSTAK+24                                        0136 00394000
         SLA   @12,5                                               0136 00395000
         AL    @12,@CF03510                                        0136 00396000
         AL    @12,PSARSTK                                         0136 00397000
         ST    @12,RT1WRTCA(,R8)                                   0136 00398000
*               END;                                               0137 00399000
*             ELSE                  /* OTHERWISE A SUPER STACKS RTCA    00400000
*                                      IS TO BE LOCATED              */ 00401000
*               DO;                                                0138 00402000
         B     @RC00134                                            0138 00403000
@RF00134 DS    0H                                                  0139 00404000
*                 R4=THREE;         /* INITIALIZE RSVTIDX FOR      0139 00405000
*                                      FOLLOWING LOOP THRU THE SUPER    00406000
*                                      STACKS DEFINED ON THE RSVT    */ 00407000
         LA    R4,3                                                0139 00408000
*                 R3=TWO;           /* INIT STKIDX FOR LOOP ALSO     */ 00409000
         LA    R3,2                                                0140 00410000
*                 DO WHILE PSARSVT(R4)^=R8;/* LOOP THRU THE RSVT TO     00411000
*                                      LOCATE THE CURRENT SUPER STACK*/ 00412000
         B     @DE00141                                            0141 00413000
@DL00141 DS    0H                                                  0142 00414000
*                   R3=R3+NRMSTK;   /* UPDATE THE STK INDEX          */ 00415000
         AL    R3,@CF00079                                         0142 00416000
*                   R4=TWO*R3-NRMSTK;/* AND THE RSVT INDEX           */ 00417000
         LR    R4,R3                                               0143 00418000
         ALR   R4,R4                                               0143 00419000
         BCTR  R4,0                                                0143 00420000
*                 END;              /* CONTINUE UNTIL THE CURRENT  0144 00421000
*                                      SUPER STACK IS FOUND          */ 00422000
@DE00141 LR    @12,R4                                              0144 00423000
         SLA   @12,2                                               0144 00424000
         C     R8,PSARSVT-4(@12)                                   0144 00425000
         BNE   @DL00141                                            0144 00426000
*                 RT1WRTCA=ADDR(GLOBRTCA);/* THE GLOBAL RTCA IS    0145 00427000
*                                      ACTIVE                        */ 00428000
         LR    @12,R3                                              0145 00429000
         SLA   @12,2                                               0145 00430000
         L     @12,YSTAK-8(@12)                                    0145 00431000
         SLA   @12,5                                               0145 00432000
         AL    @12,@CF01027                                        0145 00433000
         AL    @12,PSACSTK                                         0145 00434000
         ST    @12,RT1WRTCA(,R8)                                   0145 00435000
*               END;                                               0146 00436000
*             RFY                                                  0147 00437000
*              (R4,                                                0147 00438000
*               R3) UNRSTD;                                        0147 00439000
@RC00134 DS    0H                                                  0148 00440000
*           END;                                                   0148 00441000
*                                                                  0148 00442000
*         /***********************************************************/ 00443000
*         /*                                                         */ 00444000
*         /* THE FOLLOWING CODE INITIALIZES THE RTCA                 */ 00445000
*         /*                                                         */ 00446000
*         /***********************************************************/ 00447000
*                                                                  0149 00448000
*/* ******************************************************************/ 00449000
*/* THIS SEGMENT BEGINS THE INITIALIZATION OF THE RTCA WITH EVENTUAL */ 00450000
*/* USE BY THE FRR.  ALSO, THIS SEGMENT REINITIALIZES AN RTCA WITH   */ 00451000
*/* ERROR DATA ON A RECURSION(FRR FAILURE), AND PREPARE THE FRR STACK*/ 00452000
*/* THAT WAS INTERRUPTED(IF NORMAL FRR STACK)FOR PROCESSING THE ERROR*/ 00453000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 00454000
*/*  - CURRSTK(R8) POINTS TO THE INTERRUPTED STACK                   */ 00455000
*/*  - FLAGSCC(R1) CONTAINS THE COMP CODE FOR THE ERROR              */ 00456000
*/*  - ACTVRTCA(R3) POINTS TO THE RTCA TO BE INITIALIZED             */ 00457000
*/*  - FUNCTION(R0) CONTAINS EITHER A FUNCTION CODE IF NO RECURSION  */ 00458000
*/*    OR CONTAINS THE RTCA ADDRESS FOR THE RTCA PASSED TO THE FRR   */ 00459000
*/*    THAT FAILED CAUSING THE RECURSION.                            */ 00460000
*/*  - THE RTM1 WORK AREA IN THE INTERRUPTED STACK CONTAINS THE      */ 00461000
*/*   INDICATION AS TO WHETHER A LOCAL RTCA IS BEING USED TO PROCESS */ 00462000
*/*    A SRB MODE FAILURE                                            */ 00463000
*/* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS:                          */ 00464000
*/*  -THE RECORDING VARIABLE AREA POINTER,THE DUMP PARM LIST POINTER */ 00465000
*/*    ARE INITIALIZE IN THE RTCA                                    */ 00466000
*/*  - IF RECURSION(FRR FAILURE)THE OLD RTCA(PTR IN R0) IS PARTIALLY */ 00467000
*/*    ZEROED TO ALLOW FOR THE ADDITION OF CARRY OVER DATA FROM THE  */ 00468000
*/*    RTCA PRIOR TO THE RECURSION                                   */ 00469000
*/*  - THE COMP CODE IS INITIALIZED IN THE RTCA                      */ 00470000
*/*  - THE RECORDING BIT TO INDICATE THAT THE RTCA IS TO BE RECORDED */ 00471000
*/*    IS SET ON                                                     */ 00472000
*/*  - DUMP OPTIONS IF SUPPLIED ARE INITIALIZED IN THE RTCA          */ 00473000
*/*  - ERROR TYPE AND MODE IS SET IN THE RTCA                        */ 00474000
*/* NOTES                                                            */ 00475000
*/*  - REGS(R0,R1,R2,R3,R5,R6,R7,R8,R9,R10,R13) ARE RESTRICTED       */ 00476000
*/*  - OTHER REGS VOLATILE                                           */ 00477000
*/* ******************************************************************/ 00478000
*                                                                  0149 00479000
*         RFY                                                      0149 00480000
*           R3 RSTD;                                               0149 00481000
@RC00111 DS    0H                                                  0150 00482000
*         R3=RT1WRTCA;              /* USE ACTVRTCA REG TO CONTAIN 0150 00483000
*                                      ADDRESS OF RTCA               */ 00484000
         L     R3,RT1WRTCA(,R8)                                    0150 00485000
*         RFY                                                      0151 00486000
*           SDWA BASED(R3);         /* AND USE ACTVRTCA REG FOR    0151 00487000
*                                      ADDRESSING THE RTCA           */ 00488000
*         DO;                                                      0152 00489000
*           IF R0=RECOVERY THEN     /* IF SRM IS HANDLING AN INITIAL    00490000
*                                      ERROR THEN PERFORM RTCA     0153 00491000
*                                      INITIALIZATION AS FOLLOWS     */ 00492000
         C     R0,@CF00079                                         0153 00493000
         BNE   @RF00153                                            0153 00494000
*             DO;                   /* READY THE FRR STACK AND THE 0154 00495000
*                                      RTCA                          */ 00496000
*/* ******************************************************************/ 00497000
*/* THIS SEGMENT INSURES THAT THE NORMAL STACK AND THE FRR ENTRIES ON*/ 00498000
*/* THE NORMAL FRR STACK REFLECT INITIAL CONDITIONS FOR IEAVTRTS TO  */ 00499000
*/* PROCESS THE ERROR.  THAT IS THE SECOND WORD OF EACH FRR ENTRY IS */ 00500000
*/* ZEROED TO ALLOW IEAVTRTS TO VIEW THE FRR STACK AS READY TO BE    */ 00501000
*/* USED TO PROCESS THE ERROR.  SINCE ON EVERY DISPATCH THE NORMAL   */ 00502000
*/* FRR STACK IS ONLY PURGED AND THE SECOND WORD OF EACH FRR ENTRY   */ 00503000
*/* IS UNTOUCHED BY THIS PURGING WHEN A NEW ERROR OCCURRS WITH THE   */ 00504000
*/* NORMAL FRR STACK AS CURRENT EACH SECOND WORD OF EACH FRR ENTRY   */ 00505000
*/* MUST BE ZEROED SO THAT IEAVTRTS CAN USE THESE AREAS IN SUPPORT   */ 00506000
*/* OF THE NEW ERROR AND NOT MISINTERPRET INFORMATION ABOUT AN       */ 00507000
*/*  OLD ERROR                                                       */ 00508000
*/* ******************************************************************/ 00509000
*                                                                  0155 00510000
*               IF R8=PSANSTK THEN  /* IF THE INTERRUPTED STACK IS 0155 00511000
*                                      THE NORMAL STACK THEN INSURE     00512000
*                                      THAT ALL FRR ENTRIES OF THE 0155 00513000
*                                      STACK REFLECT INITIAL       0155 00514000
*                                      CONDITIONS FOR SRM HANDLING OF   00515000
*                                      THE ERROR                     */ 00516000
         C     R8,PSANSTK                                          0155 00517000
         BNE   @RF00155                                            0155 00518000
*                 DO;               /* PERFORM NORMAL STACK        0156 00519000
*                                      PREPARATION AND INITIALIZATION*/ 00520000
*                   RFY                                            0157 00521000
*                     R4 RSTD;                                     0157 00522000
*                   RFY                                            0158 00523000
*                     FRRSENTR BASED(R4);                          0158 00524000
*                   R4=FRRSEMP;     /* INITIALIZE THE ENTRY ADDRESS     00525000
*                                      REGISTER FOR THE FOLLOWING  0159 00526000
*                                      LOOP                          */ 00527000
         L     R4,FRRSEMP(,R8)                                     0159 00528000
*                   DO WHILE R4<FRRSLAST;                          0160 00529000
         B     @DE00160                                            0160 00530000
@DL00160 DS    0H                                                  0161 00531000
*                     R4=R4+FRRSESZE;/* INCREMENT TO THE NEXT FRR  0161 00532000
*                                      ENTRY                         */ 00533000
         AL    R4,@CF00122                                         0161 00534000
*                     FRRSFLGS=''B; /* ZERO THE SRM FLAGS IN THIS  0162 00535000
*                                      ENTRY                         */ 00536000
         XC    FRRSFLGS(4,R4),FRRSFLGS(R4)                         0162 00537000
*                   END;            /* CONTINUE UNTIL ALL ENTRIES OF    00538000
*                                      THE NORMAL STACK ARE PROCESSED*/ 00539000
@DE00160 C     R4,FRRSLAST(,R8)                                    0163 00540000
         BL    @DL00160                                            0163 00541000
*                   RFY                                            0164 00542000
*                     FRRSENTR BASED(FRRSCURR);                    0164 00543000
*                   RFY                                            0165 00544000
*                     R4 UNRSTD;                                   0165 00545000
*                 END;                                             0166 00546000
*               ELSE                                               0167 00547000
*                 ;                 /* IF THE INTERRUPTED STACK IS 0167 00548000
*                                      NOT THE NORMAL STACK THEN   0167 00549000
*                                      STACK PREPARATION IS NOT    0167 00550000
*                                      NECESSARY                     */ 00551000
@RF00155 DS    0H                                                  0168 00552000
*               IF RT1TLOCL^=ON THEN/* IF THE LOCAL RTCA IS NOT BEING   00553000
*                                      USED TO PROCESS A SRB MODE  0168 00554000
*                                      ERROR THEN THE ALLOCATED RTCA    00555000
*                                      CAN BE ZEROED                 */ 00556000
*                                                                  0168 00557000
         TM    RT1TLOCL(R8),B'00100000'                            0168 00558000
         BO    @RF00168                                            0168 00559000
*                 /***************************************************/ 00560000
*                 /*                                                 */ 00561000
*                 /* ****ZERO THE RTCA*****                          */ 00562000
*                 /*                                                 */ 00563000
*                 /***************************************************/ 00564000
*                                                                  0169 00565000
*                 DO;                                              0169 00566000
*                   SDWA(1:256)=''B;/* ZERO 1ST 256 BYTES-RTCA       */ 00567000
         XC    SDWA(256,R3),SDWA(R3)                               0170 00568000
*                   SDWA(257:LENGTH(SDWA))=''B;/* ZERO REMAINING   0171 00569000
*                                      BYTES-RTCA                    */ 00570000
         XC    SDWA+256(256,R3),SDWA+256(R3)                       0171 00571000
*                   IF RT1WSRBR^=NULL THEN/* IF A SRB RTCA WAS     0172 00572000
*                                      SUCCESSFULLY GETMAINED TO   0172 00573000
*                                      PROCESS THE SRB ERROR THEN  0172 00574000
*                                      FINISH THE INITIALIZATION OF     00575000
*                                      OF THE SRB RTCA               */ 00576000
         L     @12,RT1WSRBR(,R8)                                   0172 00577000
         LTR   @12,@12                                             0172 00578000
         BZ    @RF00172                                            0172 00579000
*                     SDWAIDNT=SQARTCA;/* INITIALIZE THE LENGTH AND     00580000
*                                      SUBPOOL ID OF THE GETMAINED 0173 00581000
*                                      SRB RTCA                      */ 00582000
         L     @12,SQARTCA                                         0173 00583000
         ST    @12,SDWAIDNT(,R3)                                   0173 00584000
*                   ELSE                                           0174 00585000
*                     ;             /* IF THE ALLOCATED RTCA IS IS 0174 00586000
*                                      NOT A GETMAINED SRB RTCA THEN    00587000
*                                      NO SUBPOOL ID AND LENGTH NEED    00588000
*                                      BE INITIALIZED                */ 00589000
@RF00172 DS    0H                                                  0175 00590000
*                 END;                                             0175 00591000
*               ELSE                                               0176 00592000
*                 ;                 /* IF A LOCAL RTCA IS BEING USED    00593000
*                                      FOR A SRB ERROR THEN IT HAS 0176 00594000
*                                      ALREADY BEEN INITIALIZED      */ 00595000
@RF00168 DS    0H                                                  0177 00596000
*             END;                                                 0177 00597000
*           ELSE                    /* IF SRM IS HANDLING A RECURSION   00598000
*                                      BECAUSE OF A FRR ERROR THEN 0178 00599000
*                                      THE FUNCTION REGISTER WILL PT    00600000
*                                      TO THE OLD RTCA PASSED TO THE    00601000
*                                      FRR WHOSE FAILURE CAUSED THE     00602000
*                                      RECURSIVE ENTRY INTO SRM      */ 00603000
*             DO;                                                  0178 00604000
         B     @RC00153                                            0178 00605000
@RF00153 DS    0H                                                  0179 00606000
*               RFY                                                0179 00607000
*                 RTCA BASED(R12);                                 0179 00608000
*               RFY                                                0180 00609000
*                 R12 RSTD;                                        0180 00610000
*               R12=R0;                                            0181 00611000
         LR    R12,R0                                              0181 00612000
*               RTCAZ1=''B;         /* ZERO ALL BYTES OF THE       0182 00613000
*                                      ALLOCATED                     */ 00614000
         XC    RTCAZ1(200,R12),RTCAZ1(R12)                         0182 00615000
*               RTCAZ11=''B;        /*                       @YM03360*/ 00616000
         XC    RTCAZ11(29,R12),RTCAZ11(R12)                        0183 00617000
*               RTCAZ2=''B;         /* RTCA EXCLUDING THOSE BYTES    */ 00618000
         MVI   RTCAZ2(R12),X'00'                                   0184 00619000
*               RTCAZ21=''B;        /*                       @G17EP5W*/ 00620000
         XC    RTCAZ21(14,R12),RTCAZ21(R12)                        0185 00621000
*               RTCAZ3=''B;         /* DEALING WITH LOCKS REQUESTED  */ 00622000
         XC    RTCAZ3(100,R12),RTCAZ3(R12)                         0186 00623000
*               RTCAZ4=''B;         /* TO BE FREED,THE CLEANUP AND 0187 00624000
*                                      PERC BIT,SUBPOOL AND LENGTH OF   00625000
*                                      SDWA,SERVICEABILITY BIT,THE 0187 00626000
*                                      FRR FAILURE BIT,AND THE     0187 00627000
*                                      PERCOLATION BIT       @YM03360   00628000
*                                      AND THE ERROR ID DATA @G17EP5W*/ 00629000
         XC    RTCAZ4(116,R12),RTCAZ4(R12)                         0187 00630000
*               RFY                                                0188 00631000
*                 SRMRGSV BASED(R3+LENGTH(SDWA));/*          @YM02684*/ 00632000
*                                                                  0188 00633000
*               /*****************************************************/ 00634000
*               /*                                                   */ 00635000
*               /* THIS SEGMENT WILL ADDITIONALLY INITIALIZE THE RTCA*/ 00636000
*               /* WITH CARRY OVER INFORMATION FROM THE RTCA         */ 00637000
*               /* ASSOCIATED WITH A FRR THAT FAILED AND CAUSED      */ 00638000
*               /* RECURSION INTO SRM INPUT - THE RT1WRTCA FIELD OF  */ 00639000
*               /* THE RTM1 WORK AREA PORTION OF THE INTERRUPTED     */ 00640000
*               /* STACK POINTS TO THE RTCA TO BE USED TO SERVICE THE*/ 00641000
*               /* RECURSIVE ERROR - THE OLD RTCA PASSED TO THE FRR  */ 00642000
*               /* WHICH FAILED IS POINTED TO OUT OF THE RTM1 WORK   */ 00643000
*               /* AREA ASSOCIATED WITH THE INTERRUPTED STACK OUTPUT */ 00644000
*               /* - THE SDWACLUP BIT IS TURNED ON IN THE NEW RTCA IF*/ 00645000
*               /* IT WAS ON IN THE OLD RTCA SO THAT FUTURE FRRS TO  */ 00646000
*               /* GET CONTROL WILL STILL BE REQUIRED TO CLEANUP AND */ 00647000
*               /* PERCOLATE DESPITE THE FRR FAILURE - THE LOCKS TO  */ 00648000
*               /* FREE INDICATORS AND LOCKWORDS ARE CARRIED OVER    */ 00649000
*               /* FROM THE OLD RTCA TO THE NEW RTCA SO THAT THEY CAN*/ 00650000
*               /* BE EVENTUALLY HONORED WHEN A FRR SUCCESSFULLY     */ 00651000
*               /* RETURNS TO SRM NOTES - THROUGHOUT THIS SEGMENT THE*/ 00652000
*               /* FOLLOWING REGISTERS REMAIN UNCHANGED - R0,R2,R7,R8*/ 00653000
*               /*                                                   */ 00654000
*               /*****************************************************/ 00655000
*                                                                  0189 00656000
*               DO;                                                0189 00657000
*                 IF RT1WCLUP=ON THEN/* IF THE CLEANUP AND PERC BIT     00658000
*                                      IS ON FOR THE ORIGINAL ERROR     00659000
*                                      ENTRY INTO SRM THEN TURN IT ON   00660000
*                                      IN THE NEW RTCA               */ 00661000
         TM    RT1WCLUP(R8),B'10000000'                            0190 00662000
         BNO   @RF00190                                            0190 00663000
*                   SDWACLUP=ON;    /* TURN CLEANUP AND PERCOLATE BIT   00664000
*                                      ON IN THE NEW RTCA            */ 00665000
         OI    SDWACLUP(R3),B'10000000'                            0191 00666000
*                 SDWAERRC=RTCAERRC;/* CARRY OVER THE ERRC BYTE OF 0192 00667000
*                                      THE OLD RTCA TO THE NEW RTCA  */ 00668000
@RF00190 MVC   SDWAERRC(1,R3),RTCAERRC(R12)                        0192 00669000
*                 SDWAACF3=RTCALKS1;/* CARRY OVER LOCKS TO BE FREED  */ 00670000
         MVC   SDWAACF3(1,R3),RTCALKS1(R12)                        0193 00671000
*                 SDWAACF4=RTCALKS2;/* FROM THE OLD RTCA TO THE NEW     00672000
*                                      RTCA                          */ 00673000
         MVC   SDWAACF4(1,R3),RTCALKS2(R12)                        0194 00674000
*                 SDWALKWA=RTCALKWA;/* CARRY OVER THE LOCKWORDS FROM    00675000
*                                      THE OLD RTCA TO THE NEW RTCA     00676000
*                                      AND SEQ# AND ASID FOR ERRORID    00677000
*                                                            @G17EP5W*/ 00678000
         MVC   SDWALKWA(32,R3),RTCALKWA(R12)                       0195 00679000
*                 SDWACPUI=RTCACPUI;/* CARRY OVER CPU ID FROM ERRORID   00680000
*                                                            @G17EP5W*/ 00681000
         IC    @11,RTCACPUI(,R12)                                  0196 00682000
         STC   @11,SDWACPUI(,R3)                                   0196 00683000
*                 SDWAFMID=RTCAFMID;/* CARRY OVER THE FAILING MEMORY    00684000
*                                      ID IN THE OLD RTCA            */ 00685000
         MVC   SDWAFMID(2,R3),RTCAFMID(R12)                        0197 00686000
*                 SDWACOMP=RTCACOMP;/* CARRY OVER ADDITONAL RECOVERY    00687000
*                                      INFO(ON PER COMPONENT BASIS)  */ 00688000
         L     @11,RTCACOMP(,R12)                                  0198 00689000
         ST    @11,SDWACOMP(,R3)                                   0198 00690000
*                 LOCKMASK=RTCALMSK;/* CARRY OVER LOCKMASK   @YM02684*/ 00691000
         LA    @11,512                                             0199 00692000
         LR    @04,R3                                              0199 00693000
         ALR   @04,@11                                             0199 00694000
         ALR   @11,R0                                              0199 00695000
         MVC   LOCKMASK(2,@04),RTCALMSK(@11)                       0199 00696000
*                 SDWASTAF=ON;      /* INDICATE IN THE RTCA THAT A 0200 00697000
*                                      PREVIOUS FRR FAILED           */ 00698000
         OI    SDWASTAF(R3),B'10000000'                            0200 00699000
*               END;                                               0201 00700000
*               RFY                                                0202 00701000
*                 SRMRGSV BASED(RT1WRTCA+LENGTH(SDWA));/*    @YM02684*/ 00702000
*               RFY                                                0203 00703000
*                 R12 UNRSTD;                                      0203 00704000
*               RFY                                                0204 00705000
*                 RTCA BASED(R0);                                  0204 00706000
*             END;                                                 0205 00707000
*         END;                                                     0206 00708000
@RC00153 DS    0H                                                  0207 00709000
*         SDWAABCC=R1;              /* SET THE COMPLETION CODE       */ 00710000
         ST    R1,SDWAABCC(,R3)                                    0207 00711000
*         SDWADPLA=ADDR(SDWASNPA);  /* SET SNAP PARM LIST ADDRESS    */ 00712000
         LA    @12,SDWASNPA(,R3)                                   0208 00713000
         ST    @12,SDWADPLA(,R3)                                   0208 00714000
*         SDWARECA=ADDR(SDWAVRA);   /* SET ADDRESS TO VARIABLE     0209 00715000
*                                      RECORDING AREA        @ZA07477*/ 00716000
         LA    @12,SDWAVRA(,R3)                                    0209 00717000
         ST    @12,SDWARECA(,R3)                                   0209 00718000
*         SDWARCRD=ON;              /* INDICATE RECORDING OF THE RTCA*/ 00719000
         OI    SDWARCRD(R3),B'10000000'                            0210 00720000
*         SDWAVRAL=LENGTH(SDWAVRA); /* INITIALIZE LENGTH OF VARIABLE    00721000
*                                      RECORDING AREA IN RTCA        */ 00722000
         MVC   SDWAVRAL(2,R3),@CH01378                             0211 00723000
*         SDWAASID=PSAAOLD->ASCBASID;/* PUT ASID INTO SDWA FOR     0212 00724000
*                                      DEBUGGING FROM LOGREC @ZA05516*/ 00725000
         L     @12,PSAAOLD                                         0212 00726000
         MVC   SDWAASID(2,R3),ASCBASID(@12)                        0212 00727000
*/* ******************************************************************/ 00728000
*/* THIS SEGMENT INITIALIZES THE RTCA WITH THE ERROR TYPE AND REGS   */ 00729000
*/* AND PSW AT THE TIME OF THE ERROR.                                */ 00730000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 00731000
*/*  - THE RTM1 WORK AREA ASSOCIATED WITH THE INTERRUPTED STACK      */ 00732000
*/*  - CURRSTK(R8) POINTS TO THE INTERRUPTED STACK                   */ 00733000
*/*  - THE RT1TENPT FIELD OF THE RTM1 WORK AREA WHICH INDICATES      */ 00734000
*/*      THE ERROR TYPE                                              */ 00735000
*/*  - THE RTM1 WORK AREA FIELDS RT1WPSW1,RT1WPSW2 POINTS TO THE     */ 00736000
*/*    PSW AT THE TIME OF THE ERROR                                  */ 00737000
*/*  - SAVAREAP REGISTER(R13) POINTS TO THE REGISTERS AT THE TIME OF */ 00738000
*/*    THE ERROR                                                     */ 00739000
*/* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS:                          */ 00740000
*/*  - THE RTCA IS INITIALIZE WITH THE ERROR TYPE AND PSW AND REGS AT*/ 00741000
*/*    THE TIME OF THE ERROR                                         */ 00742000
*/*  - THE RTCA INDICATES WHETHER THE ERROR TYPE IS A RETRYABLE ERROR*/ 00743000
*/*    OR WHETHER THE ERROR MUST BE ONLY A CLEAN UP - PERCOLATE TYPE */ 00744000
*/*    OF RECOVERY                                                   */ 00745000
*/*  - ERROR ID INFORMATION FOR SEQ. NBR TIME ASID AND CPUID ARE     */ 00746000
*/*    MOVED FROM THE EED (IN THE CASE OF MACHK AND EED'S EXIST)     */ 00747000
*/*    INTO THE SDWA. THE SDWAERFL IS SET.                 @G17EP5W  */ 00748000
*/* NOTES                                                            */ 00749000
*/*  - REGS(R0,R1,R2,R3,R5,R6,R7,R8,R9,R10,R13) ARE RESTRICTED       */ 00750000
*/*  - OTHER REGS ARE VOLATILE                                       */ 00751000
*/* ******************************************************************/ 00752000
*                                                                  0213 00753000
*         IF RT1WPCFL^=RT1TENPT THEN/* IF ERROR IS NOT PROGCK        */ 00754000
         LA    @12,16                                              0213 00755000
         ALR   @12,R8                                              0213 00756000
         CLI   RT1TENPT(@12),1                                     0213 00757000
         BE    @RF00213                                            0213 00758000
*           IF RT1WREST^=RT1TENPT THEN/* AND NOT RESTART AND NOT     */ 00759000
         CLI   RT1TENPT(@12),2                                     0214 00760000
         BE    @RF00214                                            0214 00761000
*             IF RT1WSVC^=RT1TENPT THEN/* AN SVC ISSUED BY NON-TASK  */ 00762000
         CLI   RT1TENPT(@12),3                                     0215 00763000
         BE    @RF00215                                            0215 00764000
*               IF RT1WDAT^=RT1TENPT THEN/* MODE RTN AND NOT DAT     */ 00765000
         CLI   RT1TENPT(@12),4                                     0216 00766000
         BE    @RF00216                                            0216 00767000
*                 IF RT1WMCHR=RT1TENPT THEN/* ERROR BUT IS MACHINE   */ 00768000
         CLI   RT1TENPT(@12),5                                     0217 00769000
         BNE   @RF00217                                            0217 00770000
*                   DO;             /* CHECK THEN DO FOLLOWING       */ 00771000
*                     SDWAMCHK=ON;  /* INDICATE MACHK IN SDWA        */ 00772000
         OI    SDWAMCHK(R3),B'10000000'                            0219 00773000
*                     IF R6>EEDNULL THEN/* IF HARWARE DATA IS        */ 00774000
         C     R6,@CF00079                                         0220 00775000
         BNH   @RF00220                                            0220 00776000
*                       DO;         /* AVAILABE DO FOLLOWING         */ 00777000
*                         SDWAMCH=HRDWDATA;/* SET MCH HARDWARE DATA     00778000
*                                      IN SDWA                       */ 00779000
         MVC   SDWAMCH(28,R3),HRDWDATA(R5)                         0222 00780000
*                         R5=R5-EEDBASE;/* COMPUTE START ADDR. OF EED   00781000
*                                                            @G17EP5W*/ 00782000
         SL    R5,@CF00194                                         0223 00783000
*                         RFY                                      0224 00784000
*                           EED BASED(R5);/* ADDRESS TO EED ERRORID     00785000
*                                      DATA                  @G17EP5W*/ 00786000
*                         IF R5->EEDERFL=ON THEN/* EED CONTAINS AN 0225 00787000
*                                      ERRORID               @G17EP5W*/ 00788000
         TM    EEDERFL(R5),B'10000000'                             0225 00789000
         BNO   @RF00225                                            0225 00790000
*                           DO;     /* MOVE THE ERRORID TO THE SDWA     00791000
*                                                            @G17EP5W*/ 00792000
*                             SDWASEQ#=EEDESEQ#;/* MOVE SEQ NBR    0227 00793000
*                                                            @G17EP5W*/ 00794000
         MVC   SDWASEQ#(2,R3),EEDESEQ#(R5)                         0227 00795000
*                             SDWACPUI=EEDECPUI;/* MOVE LOGICAL CPUID   00796000
*                                                            @G17EP5W*/ 00797000
         LH    @12,EEDECPUI(,R5)                                   0228 00798000
         STC   @12,SDWACPUI(,R3)                                   0228 00799000
*                             SDWAERTM=EEDETIME;/* MOVE IN TIME    0229 00800000
*                                                            @G17EP5W*/ 00801000
         MVC   SDWAERTM(4,R3),EEDETIME(R5)                         0229 00802000
*                             SDWAERFL=ON;/* INDICATE ERRORID IN SDWA   00803000
*                                                            @G17EP5W*/ 00804000
         OI    SDWAERFL(R3),B'00000001'                            0230 00805000
*                           END;    /* END MOVE ERRORID      @G17EP5W*/ 00806000
*                       END;                                       0232 00807000
*                     ELSE          /* OTHERWISE ABBREVIATED MCH     */ 00808000
*                       DO;                                        0233 00809000
         B     @RC00220                                            0233 00810000
@RF00220 DS    0H                                                  0234 00811000
*                         ABBMACH=R5;/* DATA IS IN REPRDATA REG AND     00812000
*                                      IS PLACED IN SDWA             */ 00813000
         ST    R5,ABBMACH(,R3)                                     0234 00814000
*                         SDWAMCIV=ON;/* INDICATE IN SDWA THAT MACH     00815000
*                                      CHECK DATA IN UNAVAILABLE     */ 00816000
         OI    SDWAMCIV(R3),B'00000010'                            0235 00817000
*                       END;                                       0236 00818000
*                     R5=NULL;      /* ZERO REPRDATA                 */ 00819000
@RC00220 SLR   R5,R5                                               0237 00820000
*                   END;                                           0238 00821000
*                 ELSE                                             0239 00822000
*                   ;               /* OTHERWISE THE SDWAERRA FIELD     00823000
*                                      OF THE SDWA IS NOT SET A    0239 00824000
*                                      CANNOT OCURR SITUATION        */ 00825000
@RF00217 DS    0H                                                  0240 00826000
*               ELSE                /* OTHERWISE A DAT ERROR IS      */ 00827000
*                 DO;                                              0240 00828000
         B     @RC00216                                            0240 00829000
@RF00216 DS    0H                                                  0241 00830000
*                   SDWATEXC=ON;    /* INDICATED IN THE RTCA         */ 00831000
         OI    SDWATEXC(R3),B'00000010'                            0241 00832000
*                   SDWACLUP=ON;    /* INDICATE THAT CLEANUP AND   0242 00833000
*                                      PERCOLATION IS ALL THAT IS  0242 00834000
*                                      ALLOWED BY FRRS FOR THIS ERROR   00835000
*                                      NOT RETRY                     */ 00836000
         OI    SDWACLUP(R3),B'10000000'                            0242 00837000
*                   RT1WCLUP=ON;    /* PRESERVED THE CLEANUP AND   0243 00838000
*                                      PERCOLATE INDICATION IN THE 0243 00839000
*                                      RTM1 WORK AREA                */ 00840000
         OI    RT1WCLUP(R8),B'10000000'                            0243 00841000
*                   IF ASCBASID=NULL THEN/* IF THE CURRENT ASID IS 0244 00842000
*                                      ZERO (I.E.CURRENT ASCB WAS  0244 00843000
*                                      OVERLAID) INSURE THAT FRRS DO    00844000
*                                      NOT CONSIDER THAT THE CURRENT    00845000
*                                      MEMORY IS VALID AND HAS NOT 0244 00846000
*                                      FAILED                        */ 00847000
         L     @12,PSAAOLD                                         0244 00848000
         LH    @12,ASCBASID(,@12)                                  0244 00849000
         N     @12,@CF03531                                        0244 00850000
         LTR   @12,@12                                             0244 00851000
         BNZ   @RF00244                                            0244 00852000
*                     SDWAFMID=INVLASID;/* INDICATE A FAILING INVALID   00853000
*                                      MEMORY IN THE RTCA            */ 00854000
         MVC   SDWAFMID(2,R3),@CB03198                             0245 00855000
*                   ELSE            /* OTHERWISE ASSUME THAT THE   0246 00856000
*                                      CURRENT ASCB CONTAINS A VALID    00857000
*                                      ASID                          */ 00858000
*                     SDWAFMID=ASCBASID;/* USE THE CURRENT ASID      */ 00859000
         B     @RC00244                                            0246 00860000
@RF00244 L     @12,PSAAOLD                                         0246 00861000
         MVC   SDWAFMID(2,R3),ASCBASID(@12)                        0246 00862000
*                 END;                                             0247 00863000
*             ELSE                  /* OTHERWISE ANON TASK MODE RTN  */ 00864000
*               SDWASVCE=ON;        /* ISSUED A SVC ERROR INDICATION    00865000
*                                      IS MADE IN THE RTCA           */ 00866000
         B     @RC00215                                            0248 00867000
@RF00215 OI    SDWASVCE(R3),B'00000100'                            0248 00868000
*           ELSE                    /* OTHERWISE A RESTART ERROR     */ 00869000
*             DO;                                                  0249 00870000
         B     @RC00214                                            0249 00871000
@RF00214 DS    0H                                                  0250 00872000
*               SDWARKEY=ON;        /* INDICATION IS MADE IN THE RTCA*/ 00873000
         OI    SDWARKEY(R3),B'00100000'                            0250 00874000
*               SDWACLUP=ON;        /* INDICATE THAT ONLY CLEANUP AND   00875000
*                                      PERCOLATION IS ALLOWED BY FRRS   00876000
*                                      FOR THIS ERROR- NOT RETRY     */ 00877000
         OI    SDWACLUP(R3),B'10000000'                            0251 00878000
*               RT1WCLUP=ON;        /* PRESERVED THE CLEANUP AND   0252 00879000
*                                      PERCOLATE INDICATION IN THE 0252 00880000
*                                      RTM1 WORK AREA FOR THIS ERROR */ 00881000
         OI    RT1WCLUP(R8),B'10000000'                            0252 00882000
*             END;                                                 0253 00883000
*         ELSE                      /* OTHERWISE A PROGRAM CHK ERROR */ 00884000
*           SDWAPCHK=ON;            /* INDICATION IS MADE IN RTCA    */ 00885000
*                                                                  0254 00886000
         B     @RC00213                                            0254 00887000
@RF00213 OI    SDWAPCHK(R3),B'01000000'                            0254 00888000
*         /***********************************************************/ 00889000
*         /*                                                         */ 00890000
*         /* THIS SEGMENT INITIALIZES THE REGISTERS AND PSA AT THE   */ 00891000
*         /* TIME OF THE ERROR IN THE ALLOCATED RTCA INPUT - CURRSTK */ 00892000
*         /* REGISTER(R8) POINTS TO THE INTERRUPTED FRR STACK -      */ 00893000
*         /* RT1WRTCA FIELD OF THE RTM1WORK AREA PORTION OF THE      */ 00894000
*         /* INTERRUPTED STACK POINTS TO THE ALLOCATED RTCA THAT IS  */ 00895000
*         /* TO BE INITIALIZED - RT1WPSW1,RT1WPSW2 FIELD OF THE RTM1 */ 00896000
*         /* WORK AREA POINT TO RESPECTIVE HALFS(8 BYTES) OF THE PSW */ 00897000
*         /* AT TIME OF ERROR - SAVAREAP REGISTER(R13) POINTS TO THE */ 00898000
*         /* REGISTERS SAVED AT THE TIME OF THE ERROR OUTPUT -       */ 00899000
*         /* SDWAGRSV,SDWASRSV FIELDS IN THE ALLOCATED RTCA CONTAIN  */ 00900000
*         /* THE REGISTER CONTENTS AT TIME OF ERROR -                */ 00901000
*         /* SDWAEC1,SDWAAEC1,SDWAEC2,SDWAAEC2 FIELDS IN THE         */ 00902000
*         /* ALLOCATED CONTAINS THE PSW AT TIME OF THE ERROR NOTES - */ 00903000
*         /* REGS(R0,R2,R5,R7,R8)MUST REMAIN UNCHANGED THROUGHOUT    */ 00904000
*         /* THIS SEGMENT - REGS(R1,R3,R4,R6, R10,R11,R12,R14,R15)   */ 00905000
*         /* ARE VOLATILE - REGISTER R13 STILL POINTS TO THE REGS AT */ 00906000
*         /* TIME OF ERROR                                           */ 00907000
*         /*                                                         */ 00908000
*         /***********************************************************/ 00909000
*                                                                  0255 00910000
*         DO;                                                      0255 00911000
@RC00213 DS    0H                                                  0256 00912000
*           SDWAGRSV=ERREGS;        /* INITIALIZE THE ERROR REGS IN     00913000
*                                      THE RTCA                      */ 00914000
         MVC   SDWAGRSV(64,R3),ERREGS(R13)                         0256 00915000
*           SDWASRSV=ERREGS;        /* INITIALIZE THE ERROR REGS IN     00916000
*                                      THE RTCA                      */ 00917000
         MVC   SDWASRSV(64,R3),ERREGS(R13)                         0257 00918000
*           SDWAEC1=PSW;            /* INITIALIZE 1ST HALF OF ERROR     00919000
*                                      PSW IN RTCA                   */ 00920000
         L     @12,RT1WPSW1(,R8)                                   0258 00921000
         MVC   SDWAEC1(8,R3),PSW(@12)                              0258 00922000
*           SDWAEC2=PSW;            /* INITIALIZE 1ST HALF OF ERROR     00923000
*                                      PSW IN RTCA                   */ 00924000
         MVC   SDWAEC2(8,R3),PSW(@12)                              0259 00925000
*           IF PSAPI2=ON|PSAPSREG=ON THEN/* IF THE ERROR OCCURRED  0260 00926000
*                                      EARLY IN THE PC FLIH (BEFORE     00927000
*                                      IT ESTABLISHES ITS FRR)     0260 00928000
*                                                            @ZA03845*/ 00929000
         TM    PSAPI2,B'01100000'                                  0260 00930000
         BZ    @RF00260                                            0260 00931000
*             SDWARPIV=ON;          /* INDICATE REGS AND PSW BAD TO     00932000
*                                      DISCOURAGE RETRY      @ZA03845*/ 00933000
         OI    SDWARPIV(R3),B'00000100'                            0261 00934000
*           IF SDWAPCHK^=ON&SDWATEXC^=ON THEN/* IF THE ERROR IS OTHER   00935000
*                                      THAN A PROGRAM INTERRUPTION 0262 00936000
*                                      THEN INITIALIZE THE 2ND HALF     00937000
*                                      OF THE PSW AS FOLLOWS @YM06390*/ 00938000
@RF00260 TM    SDWAPCHK(R3),B'01000010'                            0262 00939000
         BNZ   @RF00262                                            0262 00940000
*             DO;                   /*                       @YM06390*/ 00941000
*               IF RT1WPSW2^=NULL THEN/* IF THE SECOND HALF OF THE 0264 00942000
*                                      PSW IS AVAILABLE THEN       0264 00943000
*                                      INITIALIZE THE ILC AND      0264 00944000
*                                      IC@YM06390                    */ 00945000
         L     @12,RT1WPSW2(,R8)                                   0264 00946000
         LTR   @12,@12                                             0264 00947000
         BZ    @RF00264                                            0264 00948000
*                 DO;               /*                       @YM06390*/ 00949000
*                   ECPEXT1=PSWILCIC;/* SET ILC AND IC       @YM06390*/ 00950000
         MVC   ECPEXT1(4,R3),PSWILCIC(@12)                         0266 00951000
*                   ECPEXT2=PSWILCIC;/* SET ILC AND IC       @YM06390*/ 00952000
         MVC   ECPEXT2(4,R3),PSWILCIC(@12)                         0267 00953000
*                 END;              /*                       @YM06390*/ 00954000
*               ELSE                                               0269 00955000
*                 ;                 /* IF 2ND HALF OF PSW NOT      0269 00956000
*                                      AVAILABE JUST INITIALIZE THE     00957000
*                                      PSW WITH THE LATEST         0269 00958000
*                                      TRANSLATION EXCEPTION ADDR  0269 00959000
*                                                            @YM06390*/ 00960000
@RF00264 DS    0H                                                  0270 00961000
*               DO;                 /*                       @YM06390*/ 00962000
*                 SDWATRAN=LCCAPVAD;/* SET TRANS ADDRESS     @YM06390*/ 00963000
         L     @12,PSALCCAV                                        0271 00964000
         L     @12,LCCAPVAD(,@12)                                  0271 00965000
         ST    @12,SDWATRAN(,R3)                                   0271 00966000
*                 SDWATRN2=LCCAPVAD;/* SET TRANS ADDRESS     @YM06390*/ 00967000
         ST    @12,SDWATRN2(,R3)                                   0272 00968000
*               END;                /*                       @YM06390*/ 00969000
*             END;                  /*                       @YM06390*/ 00970000
*           ELSE                    /* IF THE ERROR IS A PROGRAM   0275 00971000
*                                      INTERRUPTION THEN THE ILC AND    00972000
*                                      IC AND TRANS ADDR ARE       0275 00973000
*                                      AVAILABLE             @YM06390*/ 00974000
*             DO;                   /*                       @YM06390*/ 00975000
         B     @RC00262                                            0275 00976000
@RF00262 DS    0H                                                  0276 00977000
*               SDWAAEC2=PSWEXT1;   /* INITIALIZE 2ND HALF OF ERROR     00978000
*                                      PSW IN RTCA                   */ 00979000
         L     @12,RT1WPSW2(,R8)                                   0276 00980000
         MVC   SDWAAEC2(8,R3),PSWEXT1(@12)                         0276 00981000
*               SDWAAEC1=PSWEXT1;   /* INITIALIZE 2ND HALF OF ERROR     00982000
*                                      PSW IN RTCA                   */ 00983000
         MVC   SDWAAEC1(8,R3),PSWEXT1(@12)                         0277 00984000
*             END;                  /*                       @YM06390*/ 00985000
*         END;                                                     0279 00986000
*                                                                  0279 00987000
@RC00262 DS    0H                                                  0280 00988000
*         /***********************************************************/ 00989000
*         /*                                                         */ 00990000
*         /* THIS SEGMENT INITIALIZES THE RTCA WITH ERROR INFORMATION*/ 00991000
*         /* CONCERNING THE MODE OF THE SYSTEM AT THE TIME OF THE    */ 00992000
*         /* ERROR INPUT - RT1WRTCA FIELD OF THE RTM1 WORK AREA      */ 00993000
*         /* PORTION OF THE INTERRUPTED STACK POINTS TO THE RTCA TO  */ 00994000
*         /* BE INITIALIZED - THE MODE BYTE IN THE RTM1 WORK AREA    */ 00995000
*         /* PORTION OF THE INTERRUPTED STACK(RT1WMODE) CONTAINS THE */ 00996000
*         /* MODE OF THE SYSTEM AT THE TIME OF THE ERROR - CURRSTK   */ 00997000
*         /* REGISTER(R8) POINTS TO THE INTERRUPTED STACK OUTPUT -   */ 00998000
*         /* THE SDWATYP1 BIT IS SET ON IN THE RTCA IF A TYPE 1 SVC  */ 00999000
*         /* WAS IN CONTROL AT THE TIME OF THE ERROR - THE SDWALDIS  */ 01000000
*         /* BIT IS SET ON IN THE RTCA IF A GLOBAL OR LOCAL LOCK WAS */ 01001000
*         /* HELD AT THE TIME OF THE ERROR - THE SDWASRBM BIT IS SET */ 01002000
*         /* ON IN THE RTCA IF THE MODEBYTE IN THE RTM1 WORK AREA    */ 01003000
*         /* INDICATES THAT THE SYSTEM WAS IN SRB MODE AT THE TIME OF*/ 01004000
*         /* THE ERROR NOTES - ALL RETRICTED GENERAL PURPOSE REGISTER*/ 01005000
*         /* CONTENTS ON ENTRY ARE UNCHANGED ON EXIT FROM THIS       */ 01006000
*         /* SEGMENT                                                 */ 01007000
*         /*                                                         */ 01008000
*         /***********************************************************/ 01009000
*                                                                  0280 01010000
*         RFY                                                      0280 01011000
*           R12 RSTD;                                              0280 01012000
*         R12=ADDR(RT1WSRMD);                                      0281 01013000
         LA    R12,RT1WSRMD(,R8)                                   0281 01014000
*         RFY                                                      0282 01015000
*           MODEBYTE BASED(R12);                                   0282 01016000
*         IF MODETYP1=ON THEN       /* IF TYPE1 SVC IN CONTROL AT    */ 01017000
         TM    MODETYP1(R12),B'00000100'                           0283 01018000
         BNO   @RF00283                                            0283 01019000
*           SDWATYP1=ON;            /* TIME OF ERROR MAKE INDICATION    01020000
*                                      IN RTCA                       */ 01021000
         OI    SDWATYP1(R3),B'00001000'                            0284 01022000
*         ELSE                                                     0285 01023000
*           ;                       /* IF TYPE1 SVC NOT IN CONTROL AT   01024000
*                                      TIME OF ERROR NOT INDICATION     01025000
*                                      IS MADE                       */ 01026000
@RF00283 DS    0H                                                  0286 01027000
*         IF MODEBYTE>=LOCLMODE THEN/* IF GLOBAL OR LOCAL MODE THEN  */ 01028000
         CLI   MODEBYTE(R12),8                                     0286 01029000
         BL    @RF00286                                            0286 01030000
*           SDWALDIS=ON;            /* INDICATE LOGICAL OR PHYSICAL     01031000
*                                      DISABLEMENT AT TIME OF ERROR  */ 01032000
         OI    SDWALDIS(R3),B'00000010'                            0287 01033000
*         ELSE                                                     0288 01034000
*           ;                       /* IF THE MODE IS NEITHER GLOBAL    01035000
*                                      NOR LOCAL THEN THERE IS NO  0288 01036000
*                                      LOGICAL OR PHYSICAL         0288 01037000
*                                      DISABLEMENT                   */ 01038000
@RF00286 DS    0H                                                  0289 01039000
*         IF MODESRB=ON THEN        /* IF SRB MODE WAS ACTVE AT TIME    01040000
*                                      OF ERROR                      */ 01041000
         TM    MODESRB(R12),B'00000010'                            0289 01042000
         BNO   @RF00289                                            0289 01043000
*           SDWASRBM=ON;            /* THEN INDICATE SRB MODE IN THE    01044000
*                                      RTCA                          */ 01045000
         OI    SDWASRBM(R3),B'00000001'                            0290 01046000
*         ELSE                                                     0291 01047000
*           ;                                                      0291 01048000
@RF00289 DS    0H                                                  0292 01049000
*         RFY                                                      0292 01050000
*           R12 UNRSTD;                                            0292 01051000
*         RFY                                                      0293 01052000
*           MODEBYTE BASED(ADDR(RT1WSRMD));                        0293 01053000
*         RFY                                                      0294 01054000
*           R3 UNRSTD;                                             0294 01055000
*         RFY                                                      0295 01056000
*           SDWA BASED(RT1WRTCA);                                  0295 01057000
*                                                                  0295 01058000
*         /***********************************************************/ 01059000
*         /*                                                         */ 01060000
*         /* THE ERRORID SEGMENT PUTS THE ERRORID INFORMATION INTO   */ 01061000
*         /* THE SDWA. THE CURRENT TIME IS GOTTEN FROM THE TOD CLOCK.*/ 01062000
*         /* THE HIGH AND LOW PORTIONS ARE STRIPPED OFF. THE RESULT  */ 01063000
*         /* IS SAVED IN A 4 BYTE AREA--SDWAERTM--WHICH WILL BE      */ 01064000
*         /* CONVERTED TO THE TIME WHEN THE ERRORID IS PRINTED. IF   */ 01065000
*         /* TCBRTM2=1, THEN IF AN ERRORID EXISTS IN RTM2WA, IT IS   */ 01066000
*         /* PROPOGATED TO THE SDWA. OTHERWISE, THIS IS A NEW ERROR. */ 01067000
*         /* IF SDWAERFL IS OFF, THEN THE LOGICAL CPUID AND SEQUENCE */ 01068000
*         /* NUMBER ARE PUT IN SDWACPUI AND SDWASEQ#, RESPECTIVELY.  */ 01069000
*         /* THE RTCTSEQ#, SEQUENCE NUMBER IS INCREMENTED. IF        */ 01070000
*         /* SDWAERFL IS ON, THE CPUID AND SEQUENCE NUMBER HAVE BEEN */ 01071000
*         /* PROPAGATED FROM A PREVIOUS ERROR AND ARE ALREADY IN THE */ 01072000
*         /* SDWA. NOTE:IF THE CURRENT TIME CANNOT BE OBTAINED,      */ 01073000
*         /* SDWAERTM WILL CONTAIN ZEROS.                            */ 01074000
*         /*                                                         */ 01075000
*         /***********************************************************/ 01076000
*                                                                  0296 01077000
*         IF((SDWAMCHK^=ON)|        /* IF NO HARDWARE ERROR  @G17EP5W*/ 01078000
*             (SDWAERFL=OFF)) THEN  /* OR NO ERRORID IN SDWA @G17EP5W*/ 01079000
         L     @12,RT1WRTCA(,R8)                                   0296 01080000
         TM    SDWAMCHK(@12),B'10000000'                           0296 01081000
         BNO   @RT00296                                            0296 01082000
         TM    SDWAERFL(@12),B'00000001'                           0296 01083000
         BNZ   @RF00296                                            0296 01084000
@RT00296 DS    0H                                                  0297 01085000
*           DO;                     /* BEGIN ERRORID SEGMENT @G17EP5W*/ 01086000
*             STM(R0,R2,SDWARCPL);  /* SAVE CUR. REG VALUE   @G17EP5W*/ 01087000
         L     @12,RT1WRTCA(,R8)                                   0298 01088000
         STM   R0,R2,SDWARCPL(@12)                                 0298 01089000
*             RFY                                                  0299 01090000
*              (R0,                                                0299 01091000
*               R1,                                                0299 01092000
*               R2) RSTD;           /* RESTRICT REG USAGE    @G17EP5W*/ 01093000
*             R2=ADDR(SDWARCPL)+LENGTH(REGSTOR);/* SPECIFY AN ADDRESS   01094000
*                                      TO TO PUT THE TOD CLOCK VALUE    01095000
*                                      IN FOR CONVERSION     @G17EP5W*/ 01096000
         LA    R2,SDWARCPL(,@12)                                   0300 01097000
         AL    R2,@CF00194                                         0300 01098000
*             GEN;                                                 0301 01099000
*                                   /* GET TOD VALUE AND    @G17EP5W*/  01100000
        CONTIME TIMER=(2)           /* REDUCE IT TO 4 BYTES @G17EP5W*/  01101000
*             SDWAERTM=R1;          /* SAVE TIMESTAMP        @G17EP5W*/ 01102000
         L     @12,RT1WRTCA(,R8)                                   0302 01103000
         ST    R1,SDWAERTM(,@12)                                   0302 01104000
*             RFY                                                  0303 01105000
*              (R0,                                                0303 01106000
*               R1,                                                0303 01107000
*               R2) UNRSTD;         /* FREE REGS             @G17EP5W*/ 01108000
*             IF SDWAERFL=OFF THEN  /* IF ERRORID IS NOT IN SDWA-- 0304 01109000
*                                      THIS IS A NEW SDWA    @G17EP5W*/ 01110000
         TM    SDWAERFL(@12),B'00000001'                           0304 01111000
         BNZ   @RF00304                                            0304 01112000
*               DO;                 /* THEN GET AN ERRORID   @G17EP5W*/ 01113000
*                 IF PSATOLD^=NULL&RT1TENPT^=RT1WDAT&LCCAASID=NULL THEN 01114000
         L     @11,PSATOLD                                         0306 01115000
         SLR   @04,@04                                             0306 01116000
         CR    @11,@04                                             0306 01117000
         BE    @RF00306                                            0306 01118000
         CLI   RT1TENPT+16(R8),4                                   0306 01119000
         BE    @RF00306                                            0306 01120000
         L     @01,PSALCCAV                                        0306 01121000
         CL    @04,LCCAASID(,@01)                                  0306 01122000
         BNE   @RF00306                                            0306 01123000
*                                   /* IF A VALID TCB ADDR IS AVAIL     01124000
*                                      AND NOT TRAS OR DATERR CHK FOR   01125000
*                                      RTM2 PROCESSING       @ZA16864*/ 01126000
*                   DO;             /*                       @G17EP5W*/ 01127000
*                     RFY                                          0308 01128000
*                       TCB BASED(PSATOLD);/* ADDRESSABILITY TO TCB     01129000
*                                                            @G17EP5W*/ 01130000
*                     IF((TCBRTM2=ON)&/* RTM2 WAS PROCESSING @G17EP5W*/ 01131000
*                         (TCBRTWA^=NULL)) THEN/* AND A WORKAREA   0309 01132000
*                                      PRESENT               @G17EP5W*/ 01133000
         TM    TCBRTM2(@11),B'00001000'                            0309 01134000
         BNO   @RF00309                                            0309 01135000
         L     @11,TCBRTWA(,@11)                                   0309 01136000
         CR    @11,@04                                             0309 01137000
         BE    @RF00309                                            0309 01138000
*                       IF TCBRTWA->RTM2ERFL=ON THEN/* THEN CHECK IF    01139000
*                                                            @G17EP5W*/ 01140000
         TM    RTM2ERFL(@11),B'00000001'                           0310 01141000
         BNO   @RF00310                                            0310 01142000
*                         DO;       /* RTM2 GENERATED ERRORID      0311 01143000
*                                                            @G17EP5W*/ 01144000
*                           RFY                                    0312 01145000
*                             R2 RSTD;/* USE REG FOR ADDRESS @G17EP5W*/ 01146000
*                           RFY                                    0313 01147000
*                             RTM2WA BASED(R2);/* RTM2WA ADDR      0313 01148000
*                                                            @G17EP5W*/ 01149000
*                           R2=TCBRTWA;/* GET RTM2WA ADDRESS SO THAT    01150000
*                                      THE ERRORID CAN BE MOVED OVER */ 01151000
         LR    R2,@11                                              0314 01152000
*                           SDWACPUI=RTM2CPUI(2:2);/* MOVE LOG.CPU ID   01153000
*                                                            @G17EP5W*/ 01154000
         IC    @11,RTM2CPUI+1(,R2)                                 0315 01155000
         STC   @11,SDWACPUI(,@12)                                  0315 01156000
*                           SDWASEQ#=RTM2SEQ#;/* MOVE SEQUENCE NUMBER   01157000
*                                                            @G17EP5W*/ 01158000
         MVC   SDWASEQ#(2,@12),RTM2SEQ#(R2)                        0316 01159000
*                           SDWAERFL=ON;/* INDICATE ERRORID  @G17EP5W*/ 01160000
         OI    SDWAERFL(@12),B'00000001'                           0317 01161000
*                           RFY                                    0318 01162000
*                             R2 UNRSTD;/* FREE REGISTER     @G17EP5W*/ 01163000
*                         END;      /* END MOVE RTM2 ERRORID @G17EP5W*/ 01164000
*                     RFY                                          0320 01165000
*                       TCB BASED;  /* TCB BASED VARIABLE    @G17EP5W*/ 01166000
@RF00310 DS    0H                                                  0320 01167000
@RF00309 DS    0H                                                  0321 01168000
*                   END;            /* END CHECKING TCB      @G17EP5W*/ 01169000
*               END;                /* END NO ERRORID        @G17EP5W*/ 01170000
@RF00306 DS    0H                                                  0323 01171000
*             IF SDWAERFL=OFF THEN  /* IF NO ERRORID IN SDWA @G17EP5W*/ 01172000
@RF00304 L     @12,RT1WRTCA(,R8)                                   0323 01173000
         TM    SDWAERFL(@12),B'00000001'                           0323 01174000
         BNZ   @RF00323                                            0323 01175000
*               DO;                 /* THEN THIS IS A NEW ERROR SO 0324 01176000
*                                      GENERATE A NEW ERRORID      0324 01177000
*                                                            @G17EP5W*/ 01178000
*                 SDWACPUI=PSACPULA;/* GET LOGICAL CPU ID    @G17EP5W*/ 01179000
         LH    @11,PSACPULA                                        0325 01180000
         STC   @11,SDWACPUI(,@12)                                  0325 01181000
*                 RFY                                              0326 01182000
*                  (R0,                                            0326 01183000
*                   R1,                                            0326 01184000
*                   R2,                                            0326 01185000
*                   R4) RSTD;       /* REGS FOR NEW SEQ#     @G17EP5W*/ 01186000
*                 R4=ADDR(SDWASEQ#);/* SEQ# ADDR IN SDWA     @G17EP5W*/ 01187000
         LA    R4,SDWASEQ#(,@12)                                   0327 01188000
*                 GEN;                                             0328 01189000
*                                   /*GET SEQUENCE NUMBER   @G17EP5W*/  01190000
          GETSEQ  (4)               /*AND PUT IN SDWA       @G17EP5W*/  01191000
*                 RFY                                              0329 01192000
*                  (R0,                                            0329 01193000
*                   R1,                                            0329 01194000
*                   R2,                                            0329 01195000
*                   R4) UNRSTD;     /* FREE REGISTERS        @G17EP5W*/ 01196000
*                 SDWAERFL=ON;      /* INDICATE ERRORID      @G17EP5W*/ 01197000
         L     @12,RT1WRTCA(,R8)                                   0330 01198000
         OI    SDWAERFL(@12),B'00000001'                           0330 01199000
*               END;                /* END GENERATE ERRORID  @G17EP5W*/ 01200000
*             LM(R0,R2,SDWARCPL);   /* RESTORE REGS          @G17EP5W*/ 01201000
@RF00323 L     @12,RT1WRTCA(,R8)                                   0332 01202000
         LM    R0,R2,SDWARCPL(@12)                                 0332 01203000
*             RFY                                                  0333 01204000
*              (R0,                                                0333 01205000
*               R1,                                                0333 01206000
*               R2) RSTD;           /* AND INDICATE RESTRICT @G17EP5W*/ 01207000
*             SDWARCPL=SDWARCPL&&SDWARCPL;/* CLEAR SDWA AREA USED  0334 01208000
*                                                            @G17EP5W*/ 01209000
         L     @12,RT1WRTCA(,R8)                                   0334 01210000
         XC    SDWARCPL(28,@12),SDWARCPL(@12)                      0334 01211000
*           END;                    /* END ERRORID SEGMENT   @G17EP5W*/ 01212000
*         IF R5^=NULL THEN          /* IF DUMP OPTIONS WERE SUPPLIED    01213000
*                                      PERFORM DUMPOPTS PROCESSING   */ 01214000
@RF00296 LTR   R5,R5                                               0336 01215000
         BZ    @RF00336                                            0336 01216000
*/* ******************************************************************/ 01217000
*/* THIS SEGMENT INITIALIZES THE RTCA WITH DUMP OPTIONS              */ 01218000
*/* SPECIFIED BY THE CALLER OF RTM.  THE SNAP PARAMETER LIST         */ 01219000
*/* AND A MAXIMUM OF FOUR STORAGE RANGES ARE MOVED INTO THE          */ 01220000
*/* RTCA.                                                            */ 01221000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 01222000
*/*  - DUMPOPTS REGISTER(R5) POINTS TO THE SNAP PARM LIST            */ 01223000
*/*  - THE SNAP PARM LIST INDICATES IF STORAGE RANGES ARE SUPPLIED   */ 01224000
*/* OUTPUT OF THIS SEGMENT IS THE DUMP OPTIONS PROPERLY INITIALIZED  */ 01225000
*/*  IN THE RTCA                                                     */ 01226000
*/* NOTES-----                                                       */ 01227000
*/*  - REGS(R0,R2,R3,R4,R5,R6,R7,R8,R9,R10) ARE RESTRICTED           */ 01228000
*/*  - REGS(R1,R11,R12,R13,R14,R15) ARE VOLATILE                     */ 01229000
*/* ******************************************************************/ 01230000
*                                                                  0337 01231000
*           DO;                                                    0337 01232000
*             RFY                                                  0338 01233000
*              (R3,                                                0338 01234000
*               R4) RSTD;                                          0338 01235000
*             SDWASNPA=SNPCDMP;     /* MOVE INTO THE RTCA THE COMMON    01236000
*                                      SECTION OF SNAP PARMS         */ 01237000
         L     @12,RT1WRTCA(,R8)                                   0339 01238000
         MVC   SDWASNPA(8,@12),SNPCDMP(R5)                         0339 01239000
*             IF SNPSLIST=ON THEN   /* IF STORAGE RANGES ARE PROVIDED   01240000
*                                      IN THE SNAP PARMS PROCESS THE    01241000
*                                      STORAGE RANGES                */ 01242000
         TM    SNPSLIST(R5),B'00000010'                            0340 01243000
         BNO   @RF00340                                            0340 01244000
*               DO;                 /* PROCESS TO MOVE STORAGE RANGE    01245000
*                                      ADDRESSES INTO RTCA           */ 01246000
*                 IF STOREND(ONE)=ON THEN/* IF ONLY ONE SET OF     0342 01247000
*                                      STORAGE RANGES IS PROVIDED  0342 01248000
*                                      THEN                          */ 01249000
         L     @12,SNPSTOR(,R5)                                    0342 01250000
         TM    STOREND(@12),B'10000000'                            0342 01251000
         BNO   @RF00342                                            0342 01252000
*                   R3=LENGTH(LISTPAIR);/* SET THE NUMBER OF BYTES TO   01253000
*                                      MOVE IN ONE PAIR              */ 01254000
         LA    R3,8                                                0343 01255000
*                 ELSE              /* OTHERWISE MORE THAN ONE SET OF   01256000
*                                      STORAGE RANGES IS SUPPLIED    */ 01257000
*                   DO;             /* DETERMINE THE NUMBER OF     0344 01258000
*                                      STORAGE RANGES SUPPLIED       */ 01259000
         B     @RC00342                                            0344 01260000
@RF00342 DS    0H                                                  0345 01261000
*                     R4=NULL;      /* INITIALIZE SWITCH FOR LOOP  0345 01262000
*                                      EXIT                          */ 01263000
         SLR   R4,R4                                               0345 01264000
*                     DO R3=1 TO DIM(LISTPAIR)/* CALCULATE AMOUNT    */ 01265000
*                           WHILE(R4=NULL);/* TO MOVE BY INITIALIZING   01266000
*                                      LENGTH TO THE FIRST PAIR AND     01267000
*                                      CONTINUING TO SEARCH UNTIL THE   01268000
*                                      MAX NUMBER OF RANGES ALLOWED     01269000
*                                      IN THE RTCA IS REACHED OR   0346 01270000
*                                      UNTIL AN END OF THE LIST IS 0346 01271000
*                                      DETECTED                      */ 01272000
         LA    R3,1                                                0346 01273000
@DL00346 LTR   R4,R4                                               0346 01274000
         BNZ   @DC00346                                            0346 01275000
*                       IF STOREND(R3)=ON THEN/* IF THE END OF THE 0347 01276000
*                                      LIST HAS BEEN REACHED         */ 01277000
         LR    @12,R3                                              0347 01278000
         SLA   @12,3                                               0347 01279000
         L     @11,SNPSTOR(,R5)                                    0347 01280000
         ALR   @11,@12                                             0347 01281000
         AL    @11,@CF03536                                        0347 01282000
         TM    STOREND-4(@11),B'10000000'                          0347 01283000
         BNO   @RF00347                                            0347 01284000
*                         R4=HEX7FOXS;/* CAUSE LOOP EXIT             */ 01285000
         L     R4,@CF03202                                         0348 01286000
*                       ELSE                                       0349 01287000
*                         ;                                        0349 01288000
@RF00347 DS    0H                                                  0350 01289000
*                     END;                                         0350 01290000
         AL    R3,@CF00079                                         0350 01291000
         C     R3,@CF00115                                         0350 01292000
         BNH   @DL00346                                            0350 01293000
@DC00346 DS    0H                                                  0351 01294000
*                     R3=R3*LENGTH(LISTPAIR);/* CONVERT THE NUMBER OF   01295000
*                                      PAIRS TO BYTES                */ 01296000
         SLL   R3,3                                                0351 01297000
*                   END;            /* END OF LENGTH CALCULATION     */ 01298000
*                 SDWADPSL(1:R3)=STORLIST(1:R3);/* MOVE THE STORAGE     01299000
*                                      RANGE LIST INTO THE RTCA      */ 01300000
@RC00342 L     @12,RT1WRTCA(,R8)                                   0353 01301000
         LR    @11,R3                                              0353 01302000
         BCTR  @11,0                                               0353 01303000
         L     @15,SNPSTOR(,R5)                                    0353 01304000
         EX    @11,@SM03537                                        0353 01305000
*               END;                /* END STORAGE RANGE PROCESSING  */ 01306000
*             ELSE                                                 0355 01307000
*               ;                   /* IF NO STORAGE RANGES SUPPLIED    01308000
*                                      THEN NO STORAGE RANGES ARE  0355 01309000
*                                      INITIALIZED IN THE RTCA       */ 01310000
@RF00340 DS    0H                                                  0356 01311000
*           END;                    /* END DUMPOPTS PROCESSING       */ 01312000
*         ELSE                                                     0357 01313000
*           ;                       /* IF DUMP OPTIONS ARE NOT     0357 01314000
*                                      SPECIFIED THEN NO           0357 01315000
*                                      INITIALIZATION OF THE RTCA  0357 01316000
*                                      WITH DUMPOPTS TAKES PLACE     */ 01317000
@RF00336 DS    0H                                                  0358 01318000
*       END;                                                       0358 01319000
*     ELSE                          /* IF RECURSION IS INDICATED   0359 01320000
*                                      PERFORM PRELIMINARY SRM       */ 01321000
*       DO;                         /* RECURSION PROCESSING          */ 01322000
         B     @RC00106                                            0359 01323000
@RF00106 DS    0H                                                  0360 01324000
*         R7=ACTIVE;                /* INDICATE THAT SRM IS BEING  0360 01325000
*                                      ENTERED TO PROCESS A ERROR  0360 01326000
*                                      OCCURRING IN A FRR(I.E.     0360 01327000
*                                      RECURSION)                    */ 01328000
*                                                                  0360 01329000
         LA    R7,1                                                0360 01330000
*         /***********************************************************/ 01331000
*         /*                                                         */ 01332000
*         /* THIS SEGMENT CHECKPOINTS RECURSIVE ERROR DATA WHEN SRM  */ 01333000
*         /* IS REENTERED BECAUSE OF A FRR FAILURE INDICATED BY THE  */ 01334000
*         /* PRESENCE OF A RTCA ADDRESS IN THE RTM1 WORK AREA PORTION*/ 01335000
*         /* OF THE INTERRUPTED STACK INPUT - FLAGSCC REGISTER(R1)   */ 01336000
*         /* CONTAINS THE CALLRTM FLAGS AND COMPLETION CODE          */ 01337000
*         /* ASSOCIATED WITH THE RECURSIVE ERROR - RECVSTAK          */ 01338000
*         /* REGISTER(R4) CONTAINS THE ADDRESS OF THE FRR STACK SRM  */ 01339000
*         /* CAN USE TO DEFINE ITS OWN RECOVERY WHILE PROCESSING THE */ 01340000
*         /* RECURSIVE ERROR - DUMPOPTS REGISTER(R5) CONTAINS THE    */ 01341000
*         /* ADDRESS OF DUMP PARAMETERS ASSOCIATED WITH THE RECURSIVE*/ 01342000
*         /* ERROR ONLY IF THE RECURSIVE IS NOT A MACHINE CHECK      */ 01343000
*         /* OTHERWISE REGISTER R5 CONTAINS MACHINE CHECK INFORMATION*/ 01344000
*         /* - EEDCHAIN REGISTER(R6) CONTAINS A POINTER TO MACHINE   */ 01345000
*         /* CHECK INFORMATION IF THE RECURSIVE ERROR IS A MACHINE   */ 01346000
*         /* CHECK OR CONTAINS ZERO IF NOT A MACHINE CHECK OR IF ONLY*/ 01347000
*         /* ABBREVIATED MACHINE CHECK INFORMATION IS AVAILABLE -    */ 01348000
*         /* SAVAREAP REGISTER(R13) CONTAINS THE ADDRESS OF THE REGS */ 01349000
*         /* STORED AT THE TIME OF THE RECURSIVE ERROR - THE RT1WRTCA*/ 01350000
*         /* FIELD OF THE RTM1 WORK AREA PORTION OF THE INTERRUPTED  */ 01351000
*         /* STACK POINTS TO THE RTCA PASSED TO THE FRR WHICH FAILED */ 01352000
*         /* OUTPUT - THE ABOVE INPUT REGISTER CONTENTS ARE          */ 01353000
*         /* CHECKPOINTED INTO THE SRM REGISTER SAVE AREA OF THE RTCA*/ 01354000
*         /* ASSOCIATED WITH THE FRR THAT FAILED NOTES -             */ 01355000
*         /* REGS(R0,R2,R7,R8) MUST REMAIN UNCHANGED THROUGHOUT THIS */ 01356000
*         /* SEGMENT                                                 */ 01357000
*         /*                                                         */ 01358000
*         /***********************************************************/ 01359000
*                                                                  0361 01360000
*         CKFLGSCC=R1;              /* CHKPT CALLRTM FLAGS AND COMP     01361000
*                                      CODE                          */ 01362000
         LA    @12,512                                             0361 01363000
         AL    @12,RT1WRTCA(,R8)                                   0361 01364000
         ST    R1,CKFLGSCC(,@12)                                   0361 01365000
*         RFY                                                      0362 01366000
*           R4 RSTD;                                               0362 01367000
*         CKSRMSTK=R4;              /* SAVE STACK ADDR WHICH SRM WILL   01368000
*                                      USE TO DEFINE RECOVERY        */ 01369000
         ST    R4,CKSRMSTK(,@12)                                   0363 01370000
*         CKDMPOPT=R5;              /* CHKPT DUMPOTPTS OR MCH DATA   */ 01371000
         ST    R5,CKDMPOPT(,@12)                                   0364 01372000
*         CKEEDCHN=R6;              /* CHKPT INDICATOR OF DUMPOPTS OR   01373000
*                                      MCH DATA                      */ 01374000
         ST    R6,CKEEDCHN(,@12)                                   0365 01375000
*         CKSVREAP=R13;             /* CHKPT ADDR OF REGS AT TIME OF    01376000
*                                      ERROR                         */ 01377000
         ST    R13,CKSVREAP(,@12)                                  0366 01378000
*         R6=SRMFRRS;               /* RESTORE THE INTERNAL INDICATOR   01379000
*                                      THAT INDICATES THE EXISTENCE     01380000
*                                      OF FRRS ON THE INTERRUPTED  0367 01381000
*                                      STACK PRIOR TO THE FRR ERROR  */ 01382000
         L     R6,SRMFRRS(,@12)                                    0367 01383000
*       END;                                                       0368 01384000
*     RFY                                                          0369 01385000
*      (R1,                         /* AFTER THE RTCA HAS BEEN       */ 01386000
*       R3,                         /* SUCCESSFULLY INITIALIZED      */ 01387000
*       R4,                         /* WITH THE ERROR INFORMATION    */ 01388000
*       R11,                        /* THESE REGISTERS CAN BE        */ 01389000
*       R12,                        /* RELEASED                      */ 01390000
*       R13,                                                       0369 01391000
*       R14,                                                       0369 01392000
*       R15) UNRSTD;                                               0369 01393000
*                                                                  0369 01394000
@RC00106 DS    0H                                                  0370 01395000
*     /***************************************************************/ 01396000
*     /*                                                             */ 01397000
*     /* FOR ALL ENTRIES TO SRM(NORMAL OR RECURSIVE) FRR RECOVERY    */ 01398000
*     /* PROCESSING WILL BE ATTEMPTED IF ANY FRRS ARE AVAILABLE FOR  */ 01399000
*     /* USE ON THE INTERRUPTED FRR STACK ASSOCIATED WITH THE ERROR  */ 01400000
*     /* CONDITION CAUSING ENTRY TO SRM. ON NORMAL ENTRIES FRRS WILL */ 01401000
*     /* GET CONTROL UNTIL EITHER RETRY/RESUME IS REQUESTED OR UNTIL */ 01402000
*     /* THE INTERRUPTED FRR STACK IS EMPTY. ON RECURSIVE ENTRIES    */ 01403000
*     /* ROUTING TO FRRS IS BYPASSED UNTIL THE ORIGINAL              */ 01404000
*     /* RTCA(REPRESENTING THE ERROR PRIOR TO RECURSION) HAS BEEN    */ 01405000
*     /* RECORDED. AFTER THE RECORDING TAKES PLACE THE RECURSIVE     */ 01406000
*     /* ERROR CAN BE TREATED AS NORMAL. THE FOLLOWING LOOP          */ 01407000
*     /* ESTABLISHES THE INTERNAL CONTROL IN SRM NEEDED TO PROCESS A */ 01408000
*     /* FRR STACK FOR BOTH RECURSIVE AND NON-RECURSIVE ENTRIES      */ 01409000
*     /*                                                             */ 01410000
*     /***************************************************************/ 01411000
*                                                                  0370 01412000
*     RFY                                                          0370 01413000
*       SDWA BASED(R5);             /* BASE THE RTCA ON TARGRTCA     */ 01414000
*     R5=RT1WRTCA;                  /* INITIALIZE TARGRTCA REGISTER     01415000
*                                      (R5) WITH ADDRESS OF ACTIVE 0371 01416000
*                                      RTCA                          */ 01417000
         L     @12,RT1WRTCA(,R8)                                   0371 01418000
         LR    R5,@12                                              0371 01419000
*     SRMFMSK=''B;                  /* ZERO FRR SYSTEM MASK  @YM02601*/ 01420000
         AL    @12,@CF01015                                        0372 01421000
         MVI   SRMFMSK(@12),X'00'                                  0372 01422000
*     SRMRMSK=''B;                  /* ZERO FRR RETRY MASK   @YM02601*/ 01423000
         MVI   SRMRMSK(@12),X'00'                                  0373 01424000
*                                                                  0374 01425000
*/* ******************************************************************/ 01426000
*/* THIS SEGMENT PERFORMS THE FUNCTION OF ROUTING TO SLIP PROCESSING */ 01427000
*/* WHEN THERE ARE ENABLED SLIP TRAPS TO BE CONSIDERED.              */ 01428000
*/* SLIP PROCESSING WILL BE INVOKED FOR ALL INITIAL ERRORS CAUSING   */ 01429000
*/* ENTRY INTO IEAVTRTS AND FOR ALL FRR ERRORS WHICH CAUSE ENTRY     */ 01430000
*/* INTO IEAVTRTS.                                                   */ 01431000
*/* INPUT OT THIS SEGMENT IS AS FOLLOWS:                             */ 01432000
*/*   FUNCTION REGISTER(R0) USED INTERNALLY WITHIN SRM TO MONITOR ITS*/ 01433000
*/*   PROCESSING                                                     */ 01434000
*/*   CURRSTK REG(R8) WHICH POINTS TO THE INTERRUPTED FRR STACK      */ 01435000
*/*   FOR WHICH FRR PROCESSING WILL TAKE PLACE                       */ 01436000
*/*   SRMSTAK REG(R2) WHICH POINTS TO THE FRR STACK USED BY SRM      */ 01437000
*/*   TO DEFINE ITS OWN FRRS                                         */ 01438000
*/*   TARGRTCA REG(R5) WHICH POINTS TO THE RTCA TO BE USED TO        */ 01439000
*/*   AS THE INTERFACE TO THE FRRS(IF ANY) ON THE INTERRUPTED        */ 01440000
*/*   FRR STACK                                                      */ 01441000
*/*   RECURSE REGISTER(R7) WHICH INDICATES WHETHER SRM IS PROCESSING */ 01442000
*/*   AN INITIAL ERROR OR A FRR FAILURE                              */ 01443000
*/*   CVTRTMSD FIELD OF THE CVT WHICH CONTAINS THE ADDRESS OF THE    */ 01444000
*/*   SLIP HEADER (IHASHDR).                                         */ 01445000
*/*                                                                  */ 01446000
*/* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS                           */ 01447000
*/*   IEAVTRTS CALLS SLIP PROCESSING IF IT IS INDICATED.  THE        */ 01448000
*/*   SLIP PROCESS WILL SAVE AND RESTORE IEAVTRTS REGISTERS          */ 01449000
*/*   ALL RESTRICTED REGISTER CONTENTS ON ENTRY TO THIS SEGMENT      */ 01450000
*/*   WILL BE UNCHANGED ON EXIT FROM THIS SEGMENT                    */ 01451000
*/*                                                                  */ 01452000
*/* NOTES                                                            */ 01453000
*/*   REGS(R0,R2,R5,R7,R8,R9,R10) ARE RESTRICTED                     */ 01454000
*/*   OTHER REGISTERS ARE AVAILABLE FOR USE AND ARE VOLATILE         */ 01455000
*/*                                                                  */ 01456000
*/*                                                          @G17SP2I*/ 01457000
*/*                                                                  */ 01458000
*/* ******************************************************************/ 01459000
*                                                                  0374 01460000
*     RT1TLPN=SRMSLIP;              /* SET THE LOGICAL PHASE NUMBER     01461000
*                                      TO SLIP IN THE CURRENT FRRS 0374 01462000
*                                                            @G17SP2I*/ 01463000
         MVI   RT1TLPN+16(R8),X'40'                                0374 01464000
*     IF R7^=ACTIVE                 /* IF AN FRR FAILURE CAUSING   0375 01465000
*                                      RECURSIVE ENTRY INTO RTS IS 0375 01466000
*                                      NOT CURRENTLY BEING PROCESSED    01467000
*                                      AS A NON-RECURSIVE ERROR    0375 01468000
*                                                            @YM06065   01469000
*                                                            @G17SP2I*/ 01470000
*         &CVTRTMS^=0               /* AND THE SLIP HEADER PTR     0375 01471000
*                                      INDICATES THERE IS AN IHASHDR    01472000
*                                                            @G17SP2I*/ 01473000
*       THEN                                                       0375 01474000
         C     R7,@CF00079                                         0375 01475000
         BE    @RF00375                                            0375 01476000
         L     @12,CVTPTR                                          0375 01477000
         L     @12,CVTRTMS(,@12)                                   0375 01478000
         LTR   @12,@12                                             0375 01479000
         BZ    @RF00375                                            0375 01480000
*       DO;                         /* ATTEMPT LINKAGE TO SLIP     0376 01481000
*                                                            @G17SP2I*/ 01482000
*         RFY                                                      0377 01483000
*          (R14,                                                   0377 01484000
*           R15) RSTD;              /*                       @G17SP2I*/ 01485000
*         R14=SHDRPFC;              /* GET CURRENT VALUE FOR COMPARE    01486000
*                                      IN THE CS INSTRUCTION @G17SP2I*/ 01487000
         L     R14,SHDRPFC(,@12)                                   0378 01488000
*SLIPINCR:                          /* TOP OF CS LOOP FOR UPDATING 0379 01489000
*                                      THE IEAVTSLP USE COUNT THIS 0379 01490000
*                                      USE COUNT IS 0 IF IEAVTSLP IS    01491000
*                                      NOT AVAILABLE         @G17SP2I*/ 01492000
*         IF R14>0                  /* AND THE IEAVTSLP USE COUNT  0379 01493000
*                                      FROM THE IHASHDR INDICATES  0379 01494000
*                                      THAT IEAVTSLP IS AVAILABLE  0379 01495000
*                                                            @G17SP2I*/ 01496000
*           THEN                                                   0379 01497000
SLIPINCR LTR   R14,R14                                             0379 01498000
         BNP   @RF00379                                            0379 01499000
*           DO;                     /* THEN SLIP SHOULD BE CALLED  0380 01500000
*                                                            @G17SP2I*/ 01501000
*             R15=R14+1;            /* INCREMENT THE USE COUNT TO BE    01502000
*                                      SURE THAT IEAVTSLP WILL REMAIN   01503000
*                                      AVAILABLE FOR USE     @G17SP2I*/ 01504000
         LA    R15,1                                               0381 01505000
         ALR   R15,R14                                             0381 01506000
*             CS(R14,R15,SHDRPFC);  /* USE CS TO PUT INCREMENTED   0382 01507000
*                                      VALUE IN SHDR SINCE USE OF THE   01508000
*                                      FIELD IS NO SERIALIZED      0382 01509000
*                                                            @G17SP2I*/ 01510000
         L     @12,CVTPTR                                          0382 01511000
         L     @01,CVTRTMS(,@12)                                   0382 01512000
         CS    R14,@15,SHDRPFC(@01)                                0382 01513000
*             BC(4,SLIPINCR);       /* IF SHDRPFC HAS CHANGED BEFORE    01514000
*                                      THIS CS THEN TRY AGAIN      0383 01515000
*                                                            @G17SP2I*/ 01516000
         BC    4,SLIPINCR                                          0383 01517000
*             RFY                                                  0384 01518000
*              (R14,                                               0384 01519000
*               R15) UNRSTD;        /* G17SP2I                       */ 01520000
*             RFY                                                  0385 01521000
*               FRRWA BASED(R5+LENGTH(SDWA)+LENGTH(SRMRGSV));/*    0385 01522000
*                                      REFERENCE THE FRRWA THAT GOES    01523000
*                                      WITH THE INTERRUPTED FRRS   0385 01524000
*                                                            @G17SP2I*/ 01525000
*             RFY                                                  0386 01526000
*              (R1,                                                0386 01527000
*               R13) RSTD;          /*                       @G17SP2I*/ 01528000
*             R13=ADDR(FRRWA);      /* USE THE SPACE IN THE FRRWA TO    01529000
*                                      SUPPLY A SAVEAREA     @G17SP2I*/ 01530000
         LA    R13,584                                             0387 01531000
         ALR   R13,R5                                              0387 01532000
*             R1=R13+72;            /* AND THE PARAMETER           0388 01533000
*                                      LIST/WORKAREA FOR IEAVTSLP  0388 01534000
*                                                            @G17SP2I*/ 01535000
         LA    @12,72                                              0388 01536000
         LR    R1,R13                                              0388 01537000
         ALR   R1,@12                                              0388 01538000
*             SLPWAPTR=R1+72;       /* PROVIDE SLIP WITH A WORKAREA     01539000
*                                                            @G17SP2I*/ 01540000
         ALR   @12,R1                                              0389 01541000
         ST    @12,SLPWAPTR(,R1)                                   0389 01542000
*             RFY                                                  0390 01543000
*               FRRWA BASED(RT1WRTCA+LENGTH(SDWA)+LENGTH(SRMRGSV));/*   01544000
*                                                            @G17SP2I*/ 01545000
*             SLPCFRRS=R8;          /* PASS THE ADDRESS OF THE     0391 01546000
*                                      CURRENT FRR STACK TO IEAVTSLP    01547000
*                                                            @G17SP2I*/ 01548000
         ST    R8,SLPCFRRS(,R1)                                    0391 01549000
*             SLPRTSTK=R2;          /* ALSO PASS THE ADDRESS OF THE     01550000
*                                      FRR STACK USED BY RTS TO    0392 01551000
*                                      DEFINE ITS OWN FRRS   @G17SP2I*/ 01552000
         ST    R2,SLPRTSTK(,R1)                                    0392 01553000
*             SLPRT2WA=0;           /* INDICATE ENTRY IS NOT FROM RT2   01554000
*                                                            @G17SP2I*/ 01555000
         SLR   @12,@12                                             0393 01556000
         ST    @12,SLPRT2WA(,R1)                                   0393 01557000
*             CALL IEAVTSLP;        /* CALL SLIP             @G17SP2I*/ 01558000
         L     @12,CVTPTR                                          0394 01559000
         L     @12,CVTRTMS(,@12)                                   0394 01560000
         L     @15,SHDRPROC(,@12)                                  0394 01561000
         BALR  @14,@15                                             0394 01562000
*             RFY                                                  0395 01563000
*              (R1,                                                0395 01564000
*               R13) UNRSTD;        /*                       @G17SP2I*/ 01565000
*             RFY                                                  0396 01566000
*              (R14,                                               0396 01567000
*               R15) RSTD;          /*                       @G17SP2I*/ 01568000
*             R14=SHDRPFC;          /* GET CURRENT VALUE FOR COMPARE    01569000
*                                      IN THE CS INSTRUCTION @G17SP2I*/ 01570000
         L     @12,CVTPTR                                          0397 01571000
         L     @01,CVTRTMS(,@12)                                   0397 01572000
         L     R14,SHDRPFC(,@01)                                   0397 01573000
*SLIPDECR:                          /* TOP OF CS LOOP FOR UPDATING 0398 01574000
*                                      THE IEAVTSLP USE COUNT      0398 01575000
*                                                            @G17SP2I*/ 01576000
*             IF R14>1              /* IF THE IEAVTSLP USE COUNT FROM   01577000
*                                      THE IHASHDR ISN'T THE MINIMUM    01578000
*                                                            @G17SP2I*/ 01579000
*               THEN                                               0398 01580000
SLIPDECR C     R14,@CF00079                                        0398 01581000
         BNH   @RF00398                                            0398 01582000
*               DO;                 /* THEN DECREMENT IT     @G17SP2I*/ 01583000
*                 R15=R14-1;        /* PREPARE THE REPLACEMENT VALUE    01584000
*                                                            @G17SP2I*/ 01585000
         LR    R15,R14                                             0400 01586000
         BCTR  R15,0                                               0400 01587000
*                 CS(R14,R15,SHDRPFC);/* USE CS TO PUT IT IN SHDR  0401 01588000
*                                      SINCE USE OF THE FIELD IS NOT    01589000
*                                      SERIALIZED            @G17SP2I*/ 01590000
         L     @12,CVTPTR                                          0401 01591000
         L     @01,CVTRTMS(,@12)                                   0401 01592000
         CS    R14,@15,SHDRPFC(@01)                                0401 01593000
*                 BC(4,SLIPDECR);   /* IF SHDRPFC HAS CHANGED BEFORE    01594000
*                                      THIS CS THEN TRY AGAIN      0402 01595000
*                                                            @G17SP2I*/ 01596000
         BC    4,SLIPDECR                                          0402 01597000
*               END;                /*                       @G17SP2I*/ 01598000
*             RFY                                                  0404 01599000
*              (R14,                                               0404 01600000
*               R15) UNRSTD;        /* G17SP2I                       */ 01601000
@RF00398 DS    0H                                                  0405 01602000
*           END;                    /*                       @G17SP2I*/ 01603000
*       END;                        /*                       @G17SP2I*/ 01604000
@RF00379 DS    0H                                                  0407 01605000
*     DO WHILE R5^=NULL;            /* BEGIN TO PROCESS THE        0407 01606000
*                                      INTERRUPTED FRR STACK WHILE AN   01607000
*                                      RTCA IS AVAILABLE             */ 01608000
*                                                                  0407 01609000
@RF00375 B     @DE00407                                            0407 01610000
@DL00407 DS    0H                                                  0408 01611000
*       /*************************************************************/ 01612000
*       /*                                                           */ 01613000
*       /* THIS SEGMENT PERFORMS THE ROUTING TO FRRS DEFINED ON THE  */ 01614000
*       /* INTERRUPTED FRR STACK ASSOCIATED WITH THE ERROR, AND      */ 01615000
*       /* INTERFACES WITH GTF TO TRACE THE ACTION OF THE FRR GIVEN  */ 01616000
*       /* CONTROL INPUT - CURRSTK REGISTER(R8) POINTS TO THE        */ 01617000
*       /* INTERRUPTED FRR STACK CONTAINING THE FRR TO BE GIVEN      */ 01618000
*       /* CONTROL - PSANSTK FIELD IN THE PSA POINTS TO THE NORMAL   */ 01619000
*       /* FRR STACK - PSAPSTK FIELD IN THE PSA POINTS TO THE PCFLIHS*/ 01620000
*       /* STACK - RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF   */ 01621000
*       /* THE INTERRUPTED STACK POINTS TO THE ACTIVE RTCA THAT WILL */ 01622000
*       /* EVENTUALLY BE PASSED TO THE FRR - SRMSTAK REGISTER(R2)    */ 01623000
*       /* POINTS TO THE RECOVERY STACK SRM CAN USE TO DEFINE ITS OWN*/ 01624000
*       /* FRRS - THE LOCKS HELD TABLE IN THE PSA IS USED TO         */ 01625000
*       /* CHECKPOINT THE LOCKS HELD STATUS PRIOR TO ROUTING CONTROL */ 01626000
*       /* TO THE FRR - PCFLIHS DAT AND SEGMENT RECURSION FLAGS IN   */ 01627000
*       /* THE LCCA OUTPUT - LOCKS HELD PRIOR TO ROUTING TO THE FRR  */ 01628000
*       /* ARE CHECKPOINTED IN THE RTM1 WORK AREA PORTION OF THE     */ 01629000
*       /* INTERRUPTED STACK - PCFLIHS DAT AND SEGMENT RECURSION     */ 01630000
*       /* FLAGS ARE ZEROED IF THE INTERRUPTED STACK IS THE PCFLIH   */ 01631000
*       /* STACK -SRM REGISTER CONTENTS AT THE TIME THE FRR WAS GIVEN*/ 01632000
*       /* CONTROL ARE CHECKPOINTED IN THE SRM REGISTER SAVE AREA    */ 01633000
*       /* APPENDED TO THE ACTIVE RTCA(THAT WAS PASSED TO THE FRR)   */ 01634000
*       /* NOTES - REGISTERS R0,R2,R5,R6,R7,R8 CONTENTS ON INPUT TO  */ 01635000
*       /* THIS SEGMENT MUST REMAIN UNCHANGED ON OUTPUT FROM THIS    */ 01636000
*       /* SEGMENT - REGISTERS R1,R3, R13,R14,R15 ARE VOLATILE       */ 01637000
*       /* THRUOUT THIS SEGMENT - REGISTER R4 IS USED AS WORKREG TO  */ 01638000
*       /* INDICATE THAT THE FRR HAS SUCCESSFULLY RETURNED TO SRM -  */ 01639000
*       /* REGISTERS R11,R12 ARE USED BY SRM TO DEFINE ITS OWN FRR   */ 01640000
*       /* VIA THE SETFRR MACRO                                      */ 01641000
*       /*                                                           */ 01642000
*       /*************************************************************/ 01643000
*                                                                  0408 01644000
*       DO;                                                        0408 01645000
*         RFY                                                      0409 01646000
*           R4 RSTD;                                               0409 01647000
*         R4=MODEBYTE&VALMODES;                                    0410 01648000
         LA    R4,186                                              0410 01649000
         SLR   @12,@12                                             0410 01650000
         IC    @12,MODEBYTE+81(,R8)                                0410 01651000
         NR    R4,@12                                              0410 01652000
*         RFY                                                      0411 01653000
*           R3 RSTD;                                               0411 01654000
*         R3=ADDR(RT1WLPTA);                                       0412 01655000
         LA    R3,RT1WLPTA(,R8)                                    0412 01656000
*         RFY                                                      0413 01657000
*           RT1TRACK BASED(R3);                                    0413 01658000
*         RT1TLPN=SRMROUTE;         /* LOGICAL PHSDE IS ROUTE        */ 01659000
         MVI   RT1TLPN(R3),X'41'                                   0414 01660000
*         IF R7^=ACTIVE THEN        /* IF RECURSION IS NOT ACTIVE    */ 01661000
         C     R7,@CF00079                                         0415 01662000
         BE    @RF00415                                            0415 01663000
*           IF R8=PSANSTK           /* AND THE NORMAL FRR STACK      */ 01664000
*               &(FRRSCURR=FRRSEMP  /* IS EITHER EMPTY OR            */ 01665000
*               |(SDWATEXC=ON       /* DOES NOT HAVE FRRS ON IT      */ 01666000
*               &PSASUPER=NULL)|(R4=NULL&MODEDIS=ON))/* ASSOCIATED 0416 01667000
*                                      WITH A SUPER BIT              */ 01668000
*             THEN                  /* FOR A DATERR THEN DO AS     0416 01669000
*                                      FOLLOWS                       */ 01670000
         C     R8,PSANSTK                                          0416 01671000
         BNE   @RF00416                                            0416 01672000
         CLC   FRRSCURR(4,R8),FRRSEMP(R8)                          0416 01673000
         BE    @RT00416                                            0416 01674000
         TM    SDWATEXC(R5),B'00000010'                            0416 01675000
         BNO   @GL00013                                            0416 01676000
         L     @12,PSASUPER                                        0416 01677000
         LTR   @12,@12                                             0416 01678000
         BZ    @RT00416                                            0416 01679000
@GL00013 LTR   R4,R4                                               0416 01680000
         BNZ   @RF00416                                            0416 01681000
         TM    MODEDIS+81(R8),B'01000000'                          0416 01682000
         BNO   @RF00416                                            0416 01683000
@RT00416 DS    0H                                                  0417 01684000
*             DO;                   /* PROCESS AS IF EMPTY STACK     */ 01685000
*               SRMRMSK=''B;        /* INITIALIZE RETRY MASK IN    0418 01686000
*                                      REGSAVE               @YM02601*/ 01687000
         L     @01,RT1WRTCA(,R8)                                   0418 01688000
         MVI   SRMRMSK+512(@01),X'00'                              0418 01689000
*               R6=NONE;            /* INDICATE NO FRRS              */ 01690000
         SLR   R6,R6                                               0419 01691000
*               IF SDWARKEY=ON THEN /* IF THE ERROR BEING PROCESSED     01692000
*                                      IS A RESTART ERROR &YM08120   */ 01693000
         TM    SDWARKEY(R5),B'00100000'                            0420 01694000
         BNO   @RF00420                                            0420 01695000
*                 CVTRSTWD=NULL;    /* ZERO RESTART WORD     @YM08120*/ 01696000
         L     @12,CVTPTR                                          0421 01697000
         SLR   @11,@11                                             0421 01698000
         ST    @11,CVTRSTWD(,@12)                                  0421 01699000
*               FRRSCURR=FRRSEMP;   /* INSURE THAT THE NORMAL FRR  0422 01700000
*                                      STACK IS EMPTY                */ 01701000
@RF00420 L     @12,FRRSEMP(,R8)                                    0422 01702000
         ST    @12,FRRSCURR(,R8)                                   0422 01703000
*               IF SDWASVCE=ON      /* IF THE ERROR TYPE INDICATES   */ 01704000
*                   &SDWAINC1=SVC13 /* THAT A SVC 13 WAS ISSUED      */ 01705000
*                   &SDWAPERC=OFF   /* CAUSING INITIAL ENTRY INTO    */ 01706000
*                 THEN              /* SRM WITH THE NORMAL STACK   0423 01707000
*                                      BEING EMPTY THEN RECORDING OF    01708000
*                                      THE ERROR CAN BE SUPPRESSED   */ 01709000
         TM    SDWASVCE(R5),B'00000100'                            0423 01710000
         BNO   @RF00423                                            0423 01711000
         CLC   SDWAINC1(2,R5),@CH00196                             0423 01712000
         BNE   @RF00423                                            0423 01713000
         TM    SDWAPERC(R5),B'00010000'                            0423 01714000
         BNZ   @RF00423                                            0423 01715000
*                 SDWARCRD=OFF;     /* SUPPRESS THE RECORDING        */ 01716000
         NI    SDWARCRD(R5),B'01111111'                            0424 01717000
*               ELSE                                               0425 01718000
*                 ;                 /* OTHERWISE RECORDING IS THE  0425 01719000
*                                      DEFAULT                       */ 01720000
@RF00423 DS    0H                                                  0426 01721000
*             END;                                                 0426 01722000
*           ELSE                    /* OTHERWISE                     */ 01723000
*             DO;                   /* FRR STACK THEN DO FOLLOWING   */ 01724000
         B     @RC00416                                            0427 01725000
@RF00416 DS    0H                                                  0428 01726000
*               R6=AVAIL;           /* FRRS ARE AVAILABLE            */ 01727000
*                                                                  0428 01728000
         LA    R6,1                                                0428 01729000
*               /*****************************************************/ 01730000
*               /*                                                   */ 01731000
*               /* THE FOLLOWING CODE INITIALIZES THE PSW THAT WILL  */ 01732000
*               /* BE USED TO GIVE THE FRR CONTROL INPUT - RT1WRTCA  */ 01733000
*               /* FIELD OF THE RTM1 WORK AREA PORTION OF THE        */ 01734000
*               /* INTERRUPTED STACK POINTS TO THE ACTIVE RTCA THAT  */ 01735000
*               /* WILL BE PASSED TO THE FRR - CURRSTK REGISTER(R8)  */ 01736000
*               /* POINTS TO THE INTERRUPTED STACK - THE             */ 01737000
*               /* MODEBYTE(RT1WMODE) IN THE RTM1 WORK AREA CONTAINS */ 01738000
*               /* THE MODE OF THE SYSTEM AT THE TIME OF THE ERROR - */ 01739000
*               /* A DISABLED PSW WITHIN SRM WILL BE USED TO         */ 01740000
*               /* INITIALLY SET THE PSW USED TO ROUTE TO THE FRR    */ 01741000
*               /* OUTPUT - A DISABLED PSW IN THE SDWAEC2 FIELD OF   */ 01742000
*               /* THE ACTIVE RTCA WILL POINT TO THE FRR IF (1)THE   */ 01743000
*               /* SYSTEM IS IN SUPERVISOR CONTROL MODE(I.E. THE     */ 01744000
*               /* CURRENT STACK IS NOT NORMAL)----OR--- (2)A ROUTINE*/ 01745000
*               /* HAS INDICATED IT IS SERIALIZING A CPU             */ 01746000
*               /* RESOURCE(.I.E. ONE OF THE SUPER BITS IN THE PSA IS*/ 01747000
*               /* ON)----OR---- (3)A GLOBAL SPIN LOCK IS HELD - AN  */ 01748000
*               /* ENABLED PSW IN THE SDWAEC2 FIELD OF THE ACTIVE    */ 01749000
*               /* RTCA WILL POINT TO THE FRR IF IT IS DETERMINED    */ 01750000
*               /* THAT A DISABLED ONE IS NOT TO BE LOADED NOTES -   */ 01751000
*               /* REGS R0,R2,R5,R6,R7,R8 MUST REMAIN UNALTERED      */ 01752000
*               /* THROUGHOUT THIS SEGMENT - REGS                    */ 01753000
*               /* R1,R3,R4,R9,R11,R12,R13,R14,R15 ARE VOLATILE IN   */ 01754000
*               /* THIS SEGMENT                                      */ 01755000
*               /*                                                   */ 01756000
*               /*****************************************************/ 01757000
*                                                                  0429 01758000
*               RFY                                                0429 01759000
*                 PSW BASED(ADDR(SDWAEC2));/* SET ORIGIN OF PSW      */ 01760000
*               RFY                                                0430 01761000
*                 PSWEXT1 BASED(ADDR(SDWAAEC2));/* TO BE USED TO GIVE   01762000
*                                      FRR CONTROL                   */ 01763000
*               FRRPSW1=LFRRPSW;    /* INITIALIZE A DISABLED PSW IN     01764000
*                                      THE ACTIVE RTCA TO GIVE THE 0431 01765000
*                                      FRR CONTROL THE PSW IS NOT IN    01766000
*                                      WAIT STATE AND IS NOT IN    0431 01767000
*                                      PROBLEM STATE FRRS GET CONTROL   01768000
*                                      IN KEY0 ZERO PROGRAM MASK BITS   01769000
*                                      FRRS ARE ENABLED FOR DAT AND     01770000
*                                      ALSO MACHINE CHECKS           */ 01771000
         L     @12,LFRRPSW                                         0431 01772000
         ST    @12,FRRPSW1+120(,R5)                                0431 01773000
*               RFY                                                0432 01774000
*                 R15 RSTD;                                        0432 01775000
*               RFY                                                0433 01776000
*                 R1 RSTD;                                         0433 01777000
*               GENERATE CODE;                                     0434 01778000
*                                      /*ARE SPIN LOCKS HELD         */ 01779000
         SETLOCK TEST,TYPE=SPIN,REGS=(R1)                               01780000
*               RFY                                                0435 01781000
*                 R1 UNRSTD;                                       0435 01782000
*               IF PSASUPER=NULL    /* IF THE ERROR OCCURRED IN A  0436 01783000
*                                      MODE OTHER THAN SUPER         */ 01784000
*                   &R8=PSANSTK     /* AND THE INTERRUPTED STACK IS     01785000
*                                      NOT A SUPER STACK             */ 01786000
*                   &R15^=NULL      /* AND NO SPIN LOCKS ARE HELD    */ 01787000
*                 THEN              /* AND THE ERROR OCCURRED IN THE    01788000
*                                      ENABLED STATE THEN AN ENABLED    01789000
*                                      PSW WILL BE USED TO GIVE THE     01790000
*                                      FRR CONTROL                   */ 01791000
         SLR   @14,@14                                             0436 01792000
         CL    @14,PSASUPER                                        0436 01793000
         BNE   @RF00436                                            0436 01794000
         C     R8,PSANSTK                                          0436 01795000
         BNE   @RF00436                                            0436 01796000
         CR    R15,@14                                             0436 01797000
         BE    @RF00436                                            0436 01798000
*                 DO;               /* FOR I/O AND EXTERNAL          */ 01799000
*                   MODEDIS=OFF;    /* INSURE THAT THE MODE REFLECTS    01800000
*                                      ENABLEMENT                    */ 01801000
         NI    MODEDIS+81(R8),B'10111111'                          0438 01802000
*                   PSWIO=ON;       /* ENABLED FOR I/O INTERRUPTS    */ 01803000
*                   PSWEXT=ON;      /* AND EXTERNAL INTERRUPTS       */ 01804000
         OI    PSWIO+120(R5),B'00000011'                           0440 01805000
*                   IF SDWARKEY=ON& /* IF THE ERROR BEING PROCESSED     01806000
*                                      IS A RESTART ERROR    @YA00800*/ 01807000
*                       SDWAPERC=OFF THEN/* AND THE 1ST FRR WILL GET    01808000
*                                      CONTROL ENABLED THEN THE    0441 01809000
*                                      RESTART LOCK MUST BE FREED  0441 01810000
*                                      SINCE IT IS SERIALIZED BY   0441 01811000
*                                      DISABLEMENT           @YA00800*/ 01812000
         TM    SDWARKEY(R5),B'00100000'                            0441 01813000
         BNO   @RF00441                                            0441 01814000
         TM    SDWAPERC(R5),B'00010000'                            0441 01815000
         BNZ   @RF00441                                            0441 01816000
*                     CVTRSTWD=NULL;/* ZERO RESTART WORD             */ 01817000
         L     @12,CVTPTR                                          0442 01818000
         ST    @14,CVTRSTWD(,@12)                                  0442 01819000
*                   ELSE                                           0443 01820000
*                     ;             /* IF THE ERROR BEING PROCESSED     01821000
*                                      IS NOT A RESTART ERROR THEN 0443 01822000
*                                      THE RESTART WORD IS NOT OWNED    01823000
*                                      AND NEED NOT BE ZEROED        */ 01824000
@RF00441 DS    0H                                                  0444 01825000
*                 END;                                             0444 01826000
*               ELSE                                               0445 01827000
*                 ;                 /* IF ANY ONE OF THE ABOVE     0445 01828000
*                                      CONDITIONS ARE VALID A      0445 01829000
*                                      DISABLED PSW WILL BE USED TO     01830000
*                                      GIVE THE FRR CONTROL          */ 01831000
@RF00436 DS    0H                                                  0446 01832000
*               RFY                                                0446 01833000
*                 R15 UNRSTD;                                      0446 01834000
*               PSWIC=FRRSFRRA;     /* PLACE FRR ADDRESS IN PSW      */ 01835000
*                                                                  0447 01836000
         L     @01,FRRSCURR(,R8)                                   0447 01837000
         L     @12,FRRSFRRA(,@01)                                  0447 01838000
         ST    @12,PSWIC+120(,R5)                                  0447 01839000
*               /*****************************************************/ 01840000
*               /*                                                   */ 01841000
*               /* THE FOLLOWING SEGMENT SAVE THE CURRENT LOCKS HELD */ 01842000
*               /* STATUS BY LOOPING THRU THE LOCKS HELD TABLE       */ 01843000
*               /* CONSTRUCTING A 2 BYTE MASK OF BITS,EACH --ON-- BIT*/ 01844000
*               /* MAPS TO A CORRESPONDING LOCK HELD INPUT - LKIDX   */ 01845000
*               /* REGISTER(R4) USED AS A INDEX IN LOOPING THRU THE  */ 01846000
*               /* LOCKS HELD TABLE - RT1WRTCA FIELD OF THE RTM1 WORK*/ 01847000
*               /* AREA PORTION OF THE INTERRUPTED STACK POINTS TO   */ 01848000
*               /* THE ACTIVE RTCA - CURRSTK REGISTER(R8) POINTS TO  */ 01849000
*               /* THE INTERRUPTED FRR STACK - LOCKMASK FIELD IN THE */ 01850000
*               /* RTM1 WORK AREA PORTION OF THE INTERRUPTED STACK IN*/ 01851000
*               /* WHICH THE CHECKPOINTED LOCKS HELD MASK WILL BE    */ 01852000
*               /* SAVED - A LOCK TRANSLATION TABLE WITHIN SRM THAT  */ 01853000
*               /* IS USED TO TRANSLATE THE LOCKS HELD INTO A BIT    */ 01854000
*               /* MASK IDENTICAL TO BIT MASK IN THE ACTIVE          */ 01855000
*               /* RTCA(SDWAACF3,SDWAACF4) OUTPUT - LOCKMASK IN THE  */ 01856000
*               /* RTM1 WORK AREA CONTAINS A BIT MASK IDENTIFYING THE*/ 01857000
*               /* LOCKS HELD ON ENTRY TO THE FRR NOTES -            */ 01858000
*               /* REGS(R0,R2,R5,R6,R7,R8)MUST BE PRESERVED          */ 01859000
*               /* THROUGHOUT THIS SEGMENT - LKIDX REGISTER(R4) IS   */ 01860000
*               /* USED AS A WORK REG TO LOOP THRU THE LOCKS HELD    */ 01861000
*               /* TABLE - REGS(R1,R3, R11,R12,R13,R14,R15) ARE      */ 01862000
*               /* VOLATILE IN THIS SEGMENT                          */ 01863000
*               /*                                                   */ 01864000
*               /*****************************************************/ 01865000
*                                                                  0448 01866000
*               DO;                                                0448 01867000
*                 RFY                                              0449 01868000
*                   R4 RSTD;        /* REGISTER USED IN SAVING THE 0449 01869000
*                                      CURRENTLY LOCKS HELD STATUS 0449 01870000
*                                      PRIOR TO ROUTING TO THE FRR   */ 01871000
*                 R4=NULL;          /* INITIALIZE TO OBTAIN LOCKS  0450 01872000
*                                      CURRENTLY HELD                */ 01873000
         SLR   R4,R4                                               0450 01874000
*                 GENERATE CODE;                                   0451 01875000
*                                      /*TEST FOR LOCKS HELD         */ 01876000
         SETLOCK TEST,TYPE=ALL,REGS=(R4)                                01877000
*                 LOCKMASK=R4;      /* SAVE THE STATUS OF LOCKS    0452 01878000
*                                      CURRENTLY HELD        @YM02684*/ 01879000
         L     @01,RT1WRTCA(,R8)                                   0452 01880000
         STH   R4,LOCKMASK+512(,@01)                               0452 01881000
*               END;                                               0453 01882000
*                                                                  0453 01883000
*               /*****************************************************/ 01884000
*               /*                                                   */ 01885000
*               /* THE FOLLOWING CODE SETS UP SRM RETURN             */ 01886000
*               /* ADDRESS,MARKS THE FRR TO BE GIVEN CONTROL, AND    */ 01887000
*               /* ZEROES PCFLIHS RECURSION BITS IF THE INTERRUPTED  */ 01888000
*               /* STACK IS NOT PCFLIHS, AND FINALLY GIVES THE FRR   */ 01889000
*               /* CONTROL INPUT - RT1WRTCA FIELD OF THE RTM1 WORK   */ 01890000
*               /* AREA PORTION OF THE INTERRUPTED STACK POINTS TO   */ 01891000
*               /* THE ACTIVE RTCA - CURRSTK REGISTER(R8) POINTS TO  */ 01892000
*               /* THE INTERRUPTED STACK - FRRSCURR FIELD OF THE     */ 01893000
*               /* INTERRUPTED STACK POINTS TO THE CURRENT FRR ENTRY */ 01894000
*               /* ON THE STACK WHICH CONTAINS THE FRR ADDRESS OF THE*/ 01895000
*               /* FRR TO RECEIVE CONTROL - PSAPSTK FIELD IN THE     */ 01896000
*               /* PSARSVT POINTS TO PCFLIHS FRR STACK - PCFLIHS DAT */ 01897000
*               /* AND SEGMENT RECURSION FLAGS IN THE LCCA OUTPUT -  */ 01898000
*               /* FRREPA REGISTER(R15) POINTS TO THE FRR TO GET     */ 01899000
*               /* CONTROL - INRTCA REGISTER(R1) POINTS TO THE ACTIVE*/ 01900000
*               /* RTCA PASSED TO THE FRR - SDWAPARM(1ST WORD OF THE */ 01901000
*               /* RTCA) POINTS TO THE FRRS 6 WORD PARAMETER LIST -  */ 01902000
*               /* SAVAREAP REGISTER(R13) POINTS TO THE VARIABLE     */ 01903000
*               /* RECORDING WITHIN THE RTCA---THIS IS DONE SINCE SRM*/ 01904000
*               /* DOES NOT RELY ON THE FRR SAVING AND RESTORING SRMS*/ 01905000
*               /* REGISTERS---SRM HAS THE ABILITY TO REESTABLISH    */ 01906000
*               /* ITSELF INDEPENDENT OF THE FRRS ACTIONS - SRMRETAD */ 01907000
*               /* REGISTER(R14) IS THE RETURN ADDRESS TO SRM FROM   */ 01908000
*               /* THE FRR NOTES - R0,R2,R5,R6,R7,R8 WILL HAVE THE   */ 01909000
*               /* SAME CONTENTS ON OUTPUT FROM THIS SEGMENT AS THEY */ 01910000
*               /* HAD ON INPUT - TARGFRR REGISTER(R4) IS USED BY SRM*/ 01911000
*               /* TO SAVE THE ADDRESS OF THE FRR ENTRY ASSOCIATED   */ 01912000
*               /* WITH THE FRR GIVEN CONTROL SO CERTAIN RECURSION   */ 01913000
*               /* INFORMATION CAN BE MONITORED - REGISTERS          */ 01914000
*               /* R1,R13,R14,R15 ARE VOLATILE AFTER SRM ROUTES TO   */ 01915000
*               /* THE FRR - SRM SAVES ITS OWN REGISTER CONTENTS IN  */ 01916000
*               /* THE SRM REG SAVE AREA APPENDED TO THE ACTIVE RTCA */ 01917000
*               /* PRIOR TO ROUTING TO THE FRR                       */ 01918000
*               /*                                                   */ 01919000
*               /*****************************************************/ 01920000
*                                                                  0454 01921000
*               RFY                                                0454 01922000
*                (R15,                                             0454 01923000
*                 R13,                                             0454 01924000
*                 R14,                                             0454 01925000
*                 R1) RSTD;                                        0454 01926000
*               R15=FRRSFRRA;       /* REG15 CONTAINS THE ENTRY POINT   01927000
*                                      ADDR OF THE FRR               */ 01928000
         L     @12,FRRSCURR(,R8)                                   0455 01929000
         L     R15,FRRSFRRA(,@12)                                  0455 01930000
*               R1=R5;              /* REGISTER 1 POINTS TO RTCA     */ 01931000
         LR    R1,R5                                               0456 01932000
*               SDWAPARM=ADDR(FRRSPARM);/* SET PARAMETER AREA ADDRESS   01933000
*                                      IN RTCA                       */ 01934000
         LA    @11,FRRSPARM(,@12)                                  0457 01935000
         ST    @11,SDWAPARM(,R5)                                   0457 01936000
*               R13=ADDR(SDWAVRA);  /* SET REG 13 TO ADDRESS OF    0458 01937000
*                                      VARIABLE RECORDING AREA IN  0458 01938000
*                                      RTCA TO PREVENT FRR FROM    0458 01939000
*                                      DESTROYING SRMS REGISTERS     */ 01940000
         LA    R13,SDWAVRA(,R5)                                    0458 01941000
*               R14=ADDR(FRRETRN);  /* SET REG 14 WITH SRM RETURN  0459 01942000
*                                      ADDRESS                       */ 01943000
         LA    R14,FRRETRN                                         0459 01944000
*               FRRSRCUR=ON;        /* SET RECURSION BIT ON IN FRR 0460 01945000
*                                      STACK ENTRY                   */ 01946000
         OI    FRRSRCUR(@12),B'10000000'                           0460 01947000
*               IF R8^=PSAPSTK THEN /* IF INTERRUPTED STACK IS NOT   */ 01948000
         C     R8,PSAPSTK                                          0461 01949000
         BE    @RF00461                                            0461 01950000
*                 DO;               /* PCFLIHS ZERO PCFLIHS RECURSION   01951000
*                                      BITS                          */ 01952000
*                   LCCAPDAT=OFF;   /* ZERO DAT RECURSION BIT        */ 01953000
*                   LCCAPSG1=OFF;   /* ZERO SEGMENT RECURSION BITS   */ 01954000
         L     @12,PSALCCAV                                        0464 01955000
         NI    LCCAPDAT(@12),B'11001111'                           0464 01956000
*                   PSAPI2=OFF;     /* ZERO PC FLIH RECURSION BIT PC    01957000
*                                      FLIH HAS NO RECOVERY IF THIS     01958000
*                                      FLAG IS ON            @ZA03845*/ 01959000
*                   PSAPSREG=OFF;   /* ZERO PC FLIH RECURSION BIT PC    01960000
*                                      FLIH HAS NO RECOVERY IF THIS     01961000
*                                      FLAG IS ON            @ZA03845*/ 01962000
         NI    PSAPI2,B'10011111'                                  0466 01963000
*                 END;                                             0467 01964000
*               ELSE                                               0468 01965000
*                 ;                 /* OTHERWISE RECURSION BITS ARE     01966000
*                                      UNCHANGED                     */ 01967000
@RF00461 DS    0H                                                  0469 01968000
*               IF FRRSNEST=ON THEN /* IF THE FRR TO GET CONTROL IS A   01969000
*                                      NESTED FRR THEN INDICATE IN 0469 01970000
*                                      THE RTCA THAT THE NESTED FRR     01971000
*                                      IS TO JUST                    */ 01972000
         L     @12,FRRSCURR(,R8)                                   0469 01973000
         TM    FRRSNEST(@12),B'01000000'                           0469 01974000
         BNO   @RF00469                                            0469 01975000
*                 SDWACLUP=ON;      /* CLEANUP AND PERCOLATE AND NOT    01976000
*                                      TO RETRY OR RESUME            */ 01977000
         OI    SDWACLUP(R5),B'10000000'                            0470 01978000
*               ELSE                /* IF THE FRR TO GET CONTROL IS     01979000
*                                      NOT A NESTED FRR THEN NO    0471 01980000
*                                      CLEANUP AND PERCOLATE       0471 01981000
*                                      CONDITION IS INDICATED IN THE    01982000
*                                      RTCA PROVIDED THE ERROR BEING    01983000
*                                      PROCESSED DOES NOT REQUIRED 0471 01984000
*                                      SUCH AN INDICATION            */ 01985000
*                 IF RT1WCLUP=OFF THEN/* IF THE ERROR BEING PROCESSED   01986000
*                                      DOES NOT REQUIRED CLEANUP AND    01987000
*                                      PERCOLATION THEN THE RTCA   0471 01988000
*                                      INDICATION TO CLEANUP AND   0471 01989000
*                                      PERCOLATE IS NULLIFIED        */ 01990000
         B     @RC00469                                            0471 01991000
@RF00469 TM    RT1WCLUP(R8),B'10000000'                            0471 01992000
         BNZ   @RF00471                                            0471 01993000
*                   SDWACLUP=OFF;                                  0472 01994000
         NI    SDWACLUP(R5),B'01111111'                            0472 01995000
*                 ELSE                                             0473 01996000
*                   ;               /* IF CLEANUP AND PERCOLATION IS    01997000
*                                      REQUIRED THE RTCA INDICATION     01998000
*                                      IS UNCHANGED                  */ 01999000
@RF00471 DS    0H                                                  0474 02000000
*               RFY                                                0474 02001000
*                (R4,                                              0474 02002000
*                 R12) RSTD;                                       0474 02003000
@RC00469 DS    0H                                                  0475 02004000
*               R4=FRRSCURR;        /* SAVE THE ADDRESS OF THE     0475 02005000
*                                      CURRENT FRR SO THAT ON RETURN    02006000
*                                      FROM THE FRR THE IN USE FLAG     02007000
*                                      IN THE FRR ENTRY CAN BE TURNED   02008000
*                                      OFF                           */ 02009000
         L     R4,FRRSCURR(,R8)                                    0475 02010000
*               R12=R0;             /* SAVE CONTENTS OF FUNCTION   0476 02011000
*                                      REGISTER PRIOR TO INVOKING THE   02012000
*                                      FRR                           */ 02013000
         LR    R12,R0                                              0476 02014000
*               R0=ADDR(FRRWA);     /* REGISTER 0 POINTS TO THE FRR     02015000
*                                      WORK AREA                     */ 02016000
         LA    R0,584                                              0477 02017000
         AL    R0,RT1WRTCA(,R8)                                    0477 02018000
*               RT1TLPN=FRRRECUR;   /* INDICATE ABILITY TO ACCEPT  0478 02019000
*                                      VALID RECURSION       @ZA20321*/ 02020000
         MVI   RT1TLPN(R3),X'FE'                                   0478 02021000
*/* ******************************************************************/ 02022000
*/* THIS SEGMENT PERFORMS THE ACTUAL ROUTING TO THE FRR              */ 02023000
*/* INPUT                                                            */ 02024000
*/*  - INRTCA REGISTER(R1) POINTS TO THE RTCA THAT WILL BE PASSED    */ 02025000
*/*    TO THE FRR                                                    */ 02026000
*/*  - SDWAEC2,SDWAAEC2 FIELDS OF THE RTCA CONTAIN THE PSW THAT      */ 02027000
*/*    WILL BE LOADED TO GIVE THE FRR CONTROL                        */ 02028000
*/*  - THE SRM REGISTER SAVE AREA APPENDED TO THE RTCA WILL BE       */ 02029000
*/*    USED TO SAVE SRM REGISTERS PRIOR TO THE LPSW                  */ 02030000
*/*  - RT1WRTCA FIELD OF THE RTM1 WORK AREA PROTION OF THE           */ 02031000
*/*    POINTS TO THE RTCA TO BE PASSED TO THE FRR                    */ 02032000
*/*  - PSACSTK FIELD FO THE PSARSVT POINTS TO THE INTERRUPTED        */ 02033000
*/*    STACK ON WHICH IS DEFINED THE FRR TO BE GIVEN CONTROL         */ 02034000
*/* OUTPUT                                                           */ 02035000
*/*  - ALL OF SRMS REGISTER CONTENTS PRIOR TO THE LPSW ARE           */ 02036000
*/*    RELOADED FROM THE SRM REGISTER SAVE AREA                      */ 02037000
*/* NOTES                                                            */ 02038000
*/*  - ALL OF SRMS REGISTER CONTENTS ON INPUT TO THIS SEGMENT        */ 02039000
*/*    REMAIN THE SAME ON OUTPUT FROM THIS SEGMENT                   */ 02040000
*/* ******************************************************************/ 02041000
*                                                                  0479 02042000
*               GENERATE CODE REFS(SRMREGS,SDWAEC2);               0479 02043000
         STM   R0,R15,SRMREGS+512(R1)  SAVE SRMS REGISTERS              02044000
         LPSW  SDWAEC2(R1)         GIVE FRR CONTROL                     02045000
*FRRETRN:                                                          0480 02046000
*               GENERATE CODE REFS(RT1WRTCA,SRMREGS);              0480 02047000
FRRETRN  DS    0H                                                  0480 02048000
*ASSEMBLY CODE IS PLACED HERE TO AND THE CURRENT PSW INTO THE           02049000
*DISABLED STATE,RELOAD SRMS BASE REG AND ALL OF ITS REGS FROM THE SRM   02050000
*SAVE AREA                                                              02051000
         L     R5,PSACSTK                 GET ADDR OF CURRENT STACK     02052000
         LA    R5,FRRSRTMW-FRRS(0,R5)    GET ADDR OF THE RTM1 WA        02053000
         L     R5,RT1WRTCA-RT1W(0,R5)  OBTAIN ADDRESS OF RTCA           02054000
FIVE12   EQU   512          RTCA LENGTH                        @YM02601 02055000
         STNSM 512(R5),X'FC'    GET PHYS DISABLED                       02056000
         MVI   FIVE12+1(R5),X'00'  INSURE A NULL MASK BYTE     @YM02601 02057000
         LM    R0,R15,SRMREGS+512(R5)  RELOAD SRMS REGISTERS            02058000
*               RFY                                                0481 02059000
*                 FRRSENTR BASED(FRRSCURR);                        0481 02060000
*               RT1TLPN=SRMROUTE;   /* INDICATE THAT SRM CAN RECOVER    02061000
*                                      ON RECRUSIONS ONLY VIA LOGICAL   02062000
*                                      PHASE RECOVERY RTNS           */ 02063000
         MVI   RT1TLPN(R3),X'41'                                   0482 02064000
*               RT1TLPID=SRMDRID;   /* RESTORE RTS RECOVRY   @YM06156*/ 02065000
         MVI   RT1TLPID(R3),X'01'                                  0483 02066000
*               R0=R12;             /* REESTABLISH THE CONTENTS OF 0484 02067000
*                                      THE FUNCTION REGISTER ON    0484 02068000
*                                      RETURN FROM THE FRR           */ 02069000
         LR    R0,R12                                              0484 02070000
*               RFY                                                0485 02071000
*                (R4,                                              0485 02072000
*                 R12) UNRSTD;                                     0485 02073000
*               IF R8^=PSAPSTK THEN /* IF THE PCFLIH STACK IS NOT THE   02074000
*                                      CURRENT STACK THEN GTF CAN BE    02075000
*                                      INVOKED TO TRACE THE ACTIONS     02076000
*                                      OF THE FRR                    */ 02077000
*                                                                  0486 02078000
         L     @12,PSAPSTK                                         0486 02079000
         CR    R8,@12                                              0486 02080000
         BE    @RF00486                                            0486 02081000
*                 /***************************************************/ 02082000
*                 /*                                                 */ 02083000
*                 /* THIS SEGMENT INTERFACES WITH GTF TO TRACE THE   */ 02084000
*                 /* ACTIONS OF FRRS ROUTED TO BY SRM INPUT - CURRSTK*/ 02085000
*                 /* REGISTER(R8) POINTS TO THE INTERRUPTED FRR STACK*/ 02086000
*                 /* - SRMSTAK REGISTER(R2) POINTS TO THE FRR STACK  */ 02087000
*                 /* SRM CAN USE TO DEFINE ITS OWN FRRS - PARMREGG   */ 02088000
*                 /* REGISTER(R11) AND R12 ARE USED BY SRM TO DEFINE */ 02089000
*                 /* ITS OWN FRR VIA THE SETFRR MACRO OUTPUT - INRTCA*/ 02090000
*                 /* REGISTER(R1) POINTS TO THE RTCA ON ENTRY TO GTF */ 02091000
*                 /* - SAVAREAP REGISTER(R13) POINTS TO SRM REG SAVE */ 02092000
*                 /* AREA ON ENTRY TO GTF NOTES - GTF IS BRANCHED    */ 02093000
*                 /* ENTERED VIA HOOK MACRO - REGS R1,R13,R15 ARE    */ 02094000
*                 /* VOLATILE ACROSS THE INTERFACE TO GTF - ALL OTHER*/ 02095000
*                 /* SRM REGS ARE RESTORED BY GTF ON RETURN - REGS   */ 02096000
*                 /* R11,R12 ARE USED BY SRM TO ADD AND DELETE A FRR */ 02097000
*                 /* VIA THE SETFRR MACRO - REGS R0,R2,R5,R6,R7,R8   */ 02098000
*                 /* MUST BE PRESERVED THROUGHOUT THIS SEGMENT - REGS*/ 02099000
*                 /* R3,R4, ARE VOLATILE THROUGHOUT THIS SEGMENT     */ 02100000
*                 /*                                                 */ 02101000
*                 /***************************************************/ 02102000
*                                                                  0487 02103000
*                 DO;                                              0487 02104000
*                   RT1TLPN=SRMGTF; /* LOGICAL PHASE IS TO TRACE     */ 02105000
         MVI   RT1TLPN(R3),X'46'                                   0488 02106000
*                   R1=R5;          /* REG 1 POINTS TO THE RTCA      */ 02107000
         LR    R1,R5                                               0489 02108000
*                   RFY                                            0490 02109000
*                    (R11,                                         0490 02110000
*                     R12) RSTD;                                   0490 02111000
*                   RFY                                            0491 02112000
*                     FRRPARMS BASED(R11);/* PARMREGG REG WILL BE  0491 02113000
*                                      USED TO ADDR THE FRR PARAMETER   02114000
*                                      AREA                          */ 02115000
*                   PSACSTK=PSAPSTK;/* SAVED AND PCFLIHS STACK IS  0492 02116000
*                                      MADE IN PREPARATION FOR     0492 02117000
*                                      INVOKING GTF                  */ 02118000
         L     @04,PSAPSTK                                         0492 02119000
         ST    @04,PSACSTK                                         0492 02120000
*                   RFY                                            0493 02121000
*                     FRRS BASED(PSACSTK);                         0493 02122000
*                   RFY                                            0494 02123000
*                     RT1TRACK BASED(ADDR(RT1WLPTA));/* USE CURRNT 0494 02124000
*                                      STCK                  @YM06156*/ 02125000
*                   RT1TLPN=SRMGTF; /* LOGICAL PHASE IS TO ALLOW RTS    02126000
*                                      PROCESSING IN THE EVENT OF AN    02127000
*                                      ERROR IN GTF                  */ 02128000
         AL    @04,@CF00203                                        0495 02129000
         MVI   RT1TLPN(@04),X'46'                                  0495 02130000
*                   RT1TLPID=SRMDRID;                              0496 02131000
         MVI   RT1TLPID(@04),X'01'                                 0496 02132000
*                   GENERATE CODE   /* ADD FRR TO PROTECT SRM FROM 0497 02133000
*                                      POSSIBLE GTF FAILURE          */ 02134000
*                       ;                                          0497 02135000
         SETFRR A,FRRAD=RGTFFRR,PARMAD=(R11),WRKREGS=(R11,R12)          02136000
*                   DO;                                            0498 02137000
*                     FRRPHOOK=ON;  /* TRACING ACTIVE                */ 02138000
         OI    FRRPHOOK(R11),B'01000000'                           0499 02139000
*                     FRRPRTYA=ADDR(DELHKFRR);/* CHKPT RETRY ADDRESS */ 02140000
         LA    @04,DELHKFRR                                        0500 02141000
         ST    @04,FRRPRTYA(,R11)                                  0500 02142000
*                     FRRPISTK=R8;  /* CHKPT INTERRUPTED STACK       */ 02143000
         ST    R8,FRRPISTK(,R11)                                   0501 02144000
*                     FRRPREG1=R2;  /* SAVE IEAVTRTS RECOV STACK     */ 02145000
         ST    R2,FRRPREG1(,R11)                                   0502 02146000
*                     FRRPREG2=R0;  /* CHKPT FUNCTION REG            */ 02147000
         ST    R0,FRRPREG2(,R11)                                   0503 02148000
*                     FRRPREG3=R6;  /* CHKPT FRR AVAILABILITY        */ 02149000
         ST    R6,FRRPREG3(,R11)                                   0504 02150000
*                     FRRPFLPN=SRMGTF;/* SAVE LOGICAL PHASE NUMBER   */ 02151000
         MVI   FRRPFLPN(R11),X'46'                                 0505 02152000
*                   END;                                           0506 02153000
*                   RT1TLPN=NONE;   /* OPEN RTS FOR AN ERROR IN GTF  */ 02154000
         L     @04,PSACSTK                                         0507 02155000
         MVI   RT1TLPN+16(@04),X'00'                               0507 02156000
*                   RFY                                            0508 02157000
*                     SRMSTAT BASED(ADDR(RT1WVARI));               0508 02158000
*DELHOOK:                                                          0509 02159000
*                   GENERATE CODE;                                 0509 02160000
DELHOOK  DS    0H                                                  0509 02161000
*                                      /*CALL GTF VIA THE HOOK MACRO */ 02162000
* THE HOOK MACRO WILL BE ISSUED TO INVOKE GTF                           02163000
         HOOK  EID=IEAFRR,TYPE=BPN      TRACE ACTIONS OF THE FRR        02164000
*DELHKFRR:                          /* DELETE SRMS FRR               */ 02165000
*                   RT1TLPN=SRMGTF; /* RESTORE RTS RECOVRY   @YM06156*/ 02166000
DELHKFRR LA    @04,16                                              0510 02167000
         AL    @04,PSACSTK                                         0510 02168000
         MVI   RT1TLPN(@04),X'46'                                  0510 02169000
*                   RT1TLPID=SRMDRID;/* RESTORE RTS RECOVRY  @YM06156*/ 02170000
         MVI   RT1TLPID(@04),X'01'                                 0511 02171000
*                   CALL DELTAFRR;  /* DELETE THE FRR                */ 02172000
         BAL   @14,DELTAFRR                                        0512 02173000
*                   RFY                                            0513 02174000
*                     FRRPARMS;                                    0513 02175000
*                   RT1TLPN=NONE;   /* NULLIFY RTS RECOVERY ON THE 0514 02176000
*                                      RECOVERY STACK        @YM06156*/ 02177000
         L     @04,PSACSTK                                         0514 02178000
         MVI   RT1TLPN+16(@04),X'00'                               0514 02179000
*                   PSACSTK=R8;     /* REESTABLISH THE INTERRUPTED 0515 02180000
*                                      STACK                         */ 02181000
         ST    R8,PSACSTK                                          0515 02182000
*                   RFY                                            0516 02183000
*                     FRRS BASED(R8);                              0516 02184000
*PLSFIX:                            /* LABEL TO CAUSE PLS COMPILER TO   02185000
*                                      DROP REG HISTORY SO VERS 6.3     02186000
*                                      WILL WORK                     */ 02187000
*                   RT1TLPN=SRMGTF; /* RESTORE RTS RECOVERY ON THE 0517 02188000
*                                      INTERRUPTED STACK     @YM06156*/ 02189000
PLSFIX   MVI   RT1TLPN+16(R8),X'46'                                0517 02190000
*                   RFY                                            0518 02191000
*                    (R11,                                         0518 02192000
*                     R12,                                         0518 02193000
*                     R13,                                         0518 02194000
*                     R14,                                         0518 02195000
*                     R15,                                         0518 02196000
*                     R1) UNRSTD;                                  0518 02197000
*                 END;                                             0519 02198000
*               ELSE                                               0520 02199000
*                 ;                 /* OTHERWISE, GTF IS SKIPPED   0520 02200000
*                                      SINCE A UNIQUE RECOVERY     0520 02201000
*                                      ENVIRONMENT CANNOT BE INSURED */ 02202000
@RF00486 DS    0H                                                  0521 02203000
*             END;                                                 0521 02204000
*         ELSE                                                     0522 02205000
*           ;                       /* IF RECURSION IS ACTIVE THEN 0522 02206000
*                                      SKIP FRR ROUTING UNTIL THE  0522 02207000
*                                      ORIGINAL ERROR HAS BEEN     0522 02208000
*                                      RECORDED                      */ 02209000
@RF00415 DS    0H                                                  0523 02210000
*         RFY                                                      0523 02211000
*           R3 UNRSTD;                                             0523 02212000
@RC00415 DS    0H                                                  0524 02213000
*         RFY                                                      0524 02214000
*           RT1TRACK BASED(ADDR(RT1WLPTA));                        0524 02215000
*       END;                                                       0525 02216000
*                                                                  0525 02217000
*       /*************************************************************/ 02218000
*       /*                                                           */ 02219000
*       /* THIS SEGMENT INTERFACES WITH THE SOFTEWARE ERROR RECORDING*/ 02220000
*       /* FACILITY TO RECORD THE RESULTS OF THE FRRS ACTION OR TO   */ 02221000
*       /* RECORD THE ORIGINAL ERROR CONDITION IF NO FRR EXISTS INPUT*/ 02222000
*       /* - TARGRTCA REGISTER(R5) POINTS TO THE RTCA TO BE RECORDED */ 02223000
*       /* - CURRSTK REGISTER(R8) POINTS TO THE INTERRUPTED STACK -  */ 02224000
*       /* SRMSTAK REGISTER(R2) POINTS TO THE SRM RECOVERY STACK     */ 02225000
*       /* OUTPUT - RECORDING INDICATOR IN RTCA IS TURNED            */ 02226000
*       /* OFF(SDWARCRD) - USER SUPPLIED LENGTH FIELD IN THE RTCA    */ 02227000
*       /* THAT WAS RECORDED IS ZEROED - RECORDING PARAMETER LIST USE*/ 02228000
*       /* ON INVOKING THE SOFTWARE RECORDING FACILITY IS UNCHANGED  */ 02229000
*       /* NOTES - REGS(R0,R2,R5,R6,R7,R8)MUST REMAIN UNCHANGED      */ 02230000
*       /* THROUGHOUT THIS SEGMENT - REGS(R1,R3,R13,R14,R15) ARE     */ 02231000
*       /* INTERFACE REGS TO THE SOFTWARE RECORDING FACILITY - REGS  */ 02232000
*       /* R4, IS VOLATILE THROUGHOUT THIS SEGMENT - REGS(R11,R12)ARE*/ 02233000
*       /* USED TO DEFINE SRMS FRR PRIOR TO INVOKING THE SOFTWARE    */ 02234000
*       /* RECORDING FACILITY                                        */ 02235000
*       /*                                                           */ 02236000
*       /*************************************************************/ 02237000
*                                                                  0526 02238000
*       DO;                                                        0526 02239000
*         RT1TLPN=SRMRCRD;          /* LOGICAL PHASE IS RECORDING    */ 02240000
         MVI   RT1TLPN+16(R8),X'47'                                0527 02241000
*         IF SDWARCRD=ON THEN       /* IF THE RTCA INDICATES       0528 02242000
*                                      RECORDING OF THE RTCA THEN    */ 02243000
         TM    SDWARCRD(R5),B'10000000'                            0528 02244000
         BNO   @RF00528                                            0528 02245000
*           DO;                     /* DO THE FOLLOWING              */ 02246000
*                                                                  0529 02247000
*             /*******************************************************/ 02248000
*             /*                                                     */ 02249000
*             /* THIS SEGMENT INITIALIZES THE INPUT INTERFACE TO THE */ 02250000
*             /* SOFTWARE RECORDING FACILITY IN PREPARATION FOR      */ 02251000
*             /* RECORDING THE RTCA INPUT - TARGRTCA REGISTER(R5)    */ 02252000
*             /* POINTS TO THE RTCA TO BE RECORDED OUTPUT - INPARM   */ 02253000
*             /* REGISTER(R1)POINTS TO THE RECORDING PARAMETER LIST  */ 02254000
*             /* PASSED TO THE SOFTWARE RECORDING FACILITY - THE     */ 02255000
*             /* RECORDING PARAMETER LIST CONTAINS .A RECORD TYPE    */ 02256000
*             /* INDICATION(PROG CHEK,MACH CHEK, OR RESTART) .THE    */ 02257000
*             /* ADDRESS OF THE RTCA TO BE RECORDED - RECLEN         */ 02258000
*             /* REGISTER(R3) CONTAINS THE LENGTH OF THE DATA TO BE  */ 02259000
*             /* RECORDED(I.E.THE FIXED PORTION OF THE RTCA AND THE  */ 02260000
*             /* VARIABLE PORTION OF THE RTCA SUPPLIED BY THE FRR -  */ 02261000
*             /* SAVAREAP REGISTER(R13)POINTS TO THE REGISTER SAVE   */ 02262000
*             /* AREA TO BE USED BY THE SOFTWARE RECORDING FACILITY  */ 02263000
*             /* TO SAVE SRMS REGISTERS NOTES - THE RECORDING        */ 02264000
*             /* PARAMETER LIST IS PART OF THE RTCA AND CONTAINS THE */ 02265000
*             /* RECORD TYPE AND THE ADDRESS OF THE RTCA -           */ 02266000
*             /* REGS(R0,R2,R5,R6,R7,R8) MUST REMAIN UNCHANGED       */ 02267000
*             /* THROUGHOUT THIS SEGMENT - REGS(R1,R13,R3) ARE THE   */ 02268000
*             /* INPUT REGS TO THE SOFTWARE RECORDING FACILITY -     */ 02269000
*             /* REGS(R14,R15) ARE LINKAGE REGISTERS TO THE SOFTWARE */ 02270000
*             /* RECORDING FACILITY - REGS(R4, R11,R12) ARE VOLATILE */ 02271000
*             /* IN THIS SEGMENT                                     */ 02272000
*             /*                                                     */ 02273000
*             /*******************************************************/ 02274000
*                                                                  0530 02275000
*             DO;                                                  0530 02276000
*               RCRDINFO=R5;        /* INITIALIZE THE RECORDING    0531 02277000
*                                      PARAMETER LIST WITH THE ADDR     02278000
*                                      OF THE RTCA TO BE RECORDED    */ 02279000
         ST    R5,RCRDINFO(,R5)                                    0531 02280000
*               RFY                                                0532 02281000
*                 MODEBYTE BASED(ADDR(RT1WMODE));/* DETERMINE MODE 0532 02282000
*                                                            @G17EP5W*/ 02283000
*               RFY                                                0533 02284000
*                 ASCB BASED(PSAAOLD);/* ASCB ADDRESSABILTY  @G17EP5W*/ 02285000
*               IF((MODESRB=ON)|    /* IF THIS IS SRB MODE   @G17EP5W*/ 02286000
*                   (PSAAOLD->ASCBASCB^=NASCB)) THEN/* OR INVALID  0534 02287000
*                                      ASCB @@G17EP5W                */ 02288000
         TM    MODESRB+80(R8),B'00000010'                          0534 02289000
         BO    @RT00534                                            0534 02290000
         L     @12,PSAAOLD                                         0534 02291000
         CLC   ASCBASCB(4,@12),@CC03200                            0534 02292000
         BE    @RF00534                                            0534 02293000
@RT00534 DS    0H                                                  0535 02294000
*                 RCRDNAME=FRRJNAME;/* THEN NO VALID JOB NAME      0535 02295000
*                                                            @G17EP5W*/ 02296000
         MVC   RCRDNAME(8,R5),FRRJNAME                             0535 02297000
*               ELSE                /* ELSE TRY JOB NAME     @G17EP5W*/ 02298000
*                 IF ASCBJBNI^=NULL THEN/* IF INITIATED JOB  @G17EP5W*/ 02299000
         B     @RC00534                                            0536 02300000
@RF00534 L     @12,PSAAOLD                                         0536 02301000
         L     @12,ASCBJBNI(,@12)                                  0536 02302000
         LTR   @12,@12                                             0536 02303000
         BZ    @RF00536                                            0536 02304000
*                   RCRDNAME=ASCBJBNI->JOBNAME;/* ADD JOBNAME TO REC.   02305000
*                                                            @G17EP5W*/ 02306000
         MVC   RCRDNAME(8,R5),JOBNAME(@12)                         0537 02307000
*                 ELSE              /* OTHERWISE, TRY OTHER@G17EP5W  */ 02308000
*                   IF ASCBJBNS^=NULL THEN/* JOB TYPES       @G17EP5W*/ 02309000
         B     @RC00536                                            0538 02310000
@RF00536 L     @12,PSAAOLD                                         0538 02311000
         L     @12,ASCBJBNS(,@12)                                  0538 02312000
         LTR   @12,@12                                             0538 02313000
         BZ    @RF00538                                            0538 02314000
*                     RCRDNAME=ASCBJBNS->JOBNAME;/* ADD JOBNAME TO 0539 02315000
*                                      REC.                  @G17EP5W*/ 02316000
         MVC   RCRDNAME(8,R5),JOBNAME(@12)                         0539 02317000
*                   ELSE            /* NO JOBNAME ASSOC      @G17EP5W*/ 02318000
*                     RCRDNAME=FRRJNAME;/* SET JOBNAME IN PARM LIST     02319000
*                                                            @YM05011*/ 02320000
         B     @RC00538                                            0540 02321000
@RF00538 MVC   RCRDNAME(8,R5),FRRJNAME                             0540 02322000
*               RCRDSEQ#=SDWASEQ#;  /* SEQUENCE NBR          @G17EP5W*/ 02323000
@RC00538 DS    0H                                                  0541 02324000
@RC00536 DS    0H                                                  0541 02325000
@RC00534 MVC   RCRDSEQ#(2,R5),SDWASEQ#(R5)                         0541 02326000
*               RCRDCPUI=SDWACPUI;  /* LOGICAL CPUID         @G17EP5W*/ 02327000
         SLR   @12,@12                                             0542 02328000
         IC    @12,SDWACPUI(,R5)                                   0542 02329000
         STH   @12,RCRDCPUI(,R5)                                   0542 02330000
*               RCRDERTM=SDWAERTM;  /* TIME                  @G17EP5W*/ 02331000
         MVC   RCRDERTM(4,R5),SDWAERTM(R5)                         0543 02332000
*               IF(SDWAFMID^=0)&    /* CHECK FOR NON ZERO    @G17EP5W*/ 02333000
*                   (SDWAFMID^=INVLASID) THEN/* OR VALID ASID      0544 02334000
*                                                            @G17EP5W*/ 02335000
         LH    @12,SDWAFMID(,R5)                                   0544 02336000
         N     @12,@CF03531                                        0544 02337000
         LTR   @12,@12                                             0544 02338000
         BZ    @RF00544                                            0544 02339000
         CLC   SDWAFMID(2,R5),@CB03198                             0544 02340000
         BE    @RF00544                                            0544 02341000
*                 RCRDASID=SDWAFMID;/* AND MOVE IT IN        @G17EP5W*/ 02342000
         MVC   RCRDASID(2,R5),SDWAFMID(R5)                         0545 02343000
*               ELSE                /*                       @G17EP5W*/ 02344000
*                 RCRDASID=SDWAASID;/* MOVE ASID             @G17EP5W*/ 02345000
         B     @RC00544                                            0546 02346000
@RF00544 MVC   RCRDASID(2,R5),SDWAASID(R5)                         0546 02347000
*               RFY                                                0547 02348000
*                 MODEBYTE BASED(ADDR(RT1WSRMD));/* RESET MODE BYTE     02349000
*                                      MAP TO POINT TO CURRENT MODE     02350000
*                                                            @ZA20965*/ 02351000
@RC00544 DS    0H                                                  0548 02352000
*               IF SDWARKEY=ON THEN /* IF THE ERROR TYPE IS THE    0548 02353000
*                                      RESTART KEY THEN SET THE    0548 02354000
*                                      RECORD TYPE FOR RESTART       */ 02355000
         TM    SDWARKEY(R5),B'00100000'                            0548 02356000
         BNO   @RF00548                                            0548 02357000
*                 RCRDTYPE=RTPRSTRT;                               0549 02358000
         MVI   RCRDTYPE(R5),X'44'                                  0549 02359000
*               ELSE                                               0550 02360000
*                 ;                 /* IF NOT RESTART CHECK FOR    0550 02361000
*                                      ANOTHER ERROR TYPE            */ 02362000
@RF00548 DS    0H                                                  0551 02363000
*               IF SDWAPCHK=ON|SDWATEXC=ON/* IF THE ERROR TYPE IS  0551 02364000
*                                      DATERR OR                     */ 02365000
*                 THEN              /* PROGRAM CHECK THEN SET THIS 0551 02366000
*                                      RECORD TYPE FOR PROG CHECK    */ 02367000
         TM    SDWAPCHK(R5),B'01000010'                            0551 02368000
         BZ    @RF00551                                            0551 02369000
*                 RCRDTYPE=RTPPCHEK;                               0552 02370000
         MVI   RCRDTYPE(R5),X'42'                                  0552 02371000
*               ELSE                                               0553 02372000
*                 ;                 /* IF NOT RESTART OR PROG CHECK     02373000
*                                      THEN CHECK FOR MACHINE CHECK  */ 02374000
@RF00551 DS    0H                                                  0554 02375000
*               IF SDWAMCHK=ON THEN /* IF THE ERROR TYPE IS A MACHINE   02376000
*                                      CHECK THEN SET RECORD TYPE FOR   02377000
*                                      MACHINE CHECK                 */ 02378000
         TM    SDWAMCHK(R5),B'10000000'                            0554 02379000
         BNO   @RF00554                                            0554 02380000
*                 RCRDTYPE=RTPMCHEK;                               0555 02381000
         MVI   RCRDTYPE(R5),X'48'                                  0555 02382000
*               ELSE                                               0556 02383000
*                 ;                 /* IF THE ERROR TYPE IS NOT    0556 02384000
*                                      MACHINE CHECK DONT SET RECORD    02385000
*                                      TYPE FOR MACHINE CHECK        */ 02386000
@RF00554 DS    0H                                                  0557 02387000
*               IF SDWASVCE=ON THEN /* IF THE ERROR TYPE IS A SVC  0557 02388000
*                                      ERROR THEN SET RECORD TYPE FOR   02389000
*                                      SVC ERROR             @YM04255*/ 02390000
         TM    SDWASVCE(R5),B'00000100'                            0557 02391000
         BNO   @RF00557                                            0557 02392000
*                 RCRDTYPE=RTPSVCE; /*                       @YM04255*/ 02393000
         MVI   RCRDTYPE(R5),X'40'                                  0558 02394000
*               ELSE                                               0559 02395000
*                 ;                 /* IF THE ERROR TYPE IS NOT A A     02396000
*                                      SVC ERROR DONT SET RECORD TYPE   02397000
*                                      FOR SVC ERROR         @YM04255*/ 02398000
@RF00557 DS    0H                                                  0560 02399000
*               RFY                                                0560 02400000
*                (R1,                                              0560 02401000
*                 R13,                                             0560 02402000
*                 R3) RSTD;                                        0560 02403000
*               R1=ADDR(SDWARCPL);  /* REGISTER 1 WILL POINT TO THE     02404000
*                                      RECORDING PARAMETER LIST      */ 02405000
         LA    R1,SDWARCPL(,R5)                                    0561 02406000
*               R13=ADDR(FRRWA);    /* REGISTER 13 POINTS TO THE SRM    02407000
*                                      REGISTER SAVE AREA TO BE USED    02408000
*                                      BY THE SOFTWARE RECORDING   0562 02409000
*                                      FACILITY                      */ 02410000
         LA    R13,584                                             0562 02411000
         AL    R13,RT1WRTCA(,R8)                                   0562 02412000
*               R3=LENGTH(SDWA)-LENGTH(SDWAVRA)+SDWAURAL;/* REGISTER    02413000
*                                      3 CONTAINS THE LENGTH OF DATA    02414000
*                                      TO BE RECORDED                */ 02415000
         LA    R3,404                                              0563 02416000
         SLR   @12,@12                                             0563 02417000
         IC    @12,SDWAURAL(,R5)                                   0563 02418000
         ALR   R3,@12                                              0563 02419000
*             END;                                                 0564 02420000
*                                                                  0564 02421000
*             /*******************************************************/ 02422000
*             /*                                                     */ 02423000
*             /* THIS SEGMENT AFTER ESTABLISHING A SRM FRR TO PROTECT*/ 02424000
*             /* SRM FROM A POSSIBLE SOFTWAR RECORDING FACILITY      */ 02425000
*             /* FAILURE INVOKES THE SOFTWARE RECORDING FACILITY TO  */ 02426000
*             /* RECORD THE CONTENTS OF THE RTCA INPUT - SRMSTAK     */ 02427000
*             /* REGISTER(R2)POINTS TO THE SRM RECOVERY STACK -      */ 02428000
*             /* CURRSTK REGISTER(R8) POINTS TO THE INTERRUPTED STACK*/ 02429000
*             /* - INPARM REGISTER (R1)POINTS TO THE RECORDING PARM  */ 02430000
*             /* LIST - RECLEN REGISTER(R3) CONTAINS THE LENGTH OF   */ 02431000
*             /* THE DATA TO BE RECORDED - SAVAREAP REGISTER(R13)    */ 02432000
*             /* POINTS TO THE SRM REG SAVE AREA OUTPUT -            */ 02433000
*             /* INPARM,SAVAREAP,RECLEN,R14,R15 REGISTERS ALL        */ 02434000
*             /* UNRELIABLE AFTER THE SOFTWARE RECORDING FACILITY IS */ 02435000
*             /* INVOKED - THE SRM FRR IS DELETED ON RETURN FROM THE */ 02436000
*             /* SOFTWARE RECORDING FACILITY NOTES -                 */ 02437000
*             /* REGS(R0,R2,R5,R6,R7,R8)MUST REMAIN UNCHANGED        */ 02438000
*             /* THROUGHOUT THIS SEGMENT - REGS(R11,R12)ARE USED BY  */ 02439000
*             /* SRM IN THE SETFRR MACRO -                           */ 02440000
*             /* REGS(R1,R3,R13,R14,R15)USED IN THE INTERFACE TO THE */ 02441000
*             /* RECORDING FACILITY - REGS R4 IS VOLATILE            */ 02442000
*             /*                                                     */ 02443000
*             /*******************************************************/ 02444000
*                                                                  0565 02445000
*             PSACSTK=R2;           /* MAKE SRMS FRR STACK CURRENT SO   02446000
*                                      THAT SRM CAN PROTECT ITSELF 0565 02447000
*                                      WITH A FRR PRIOR TO INVOKING     02448000
*                                      THE SOFTWARE RECORDING      0565 02449000
*                                      FACILITY                      */ 02450000
         ST    R2,PSACSTK                                          0565 02451000
*             RFY                                                  0566 02452000
*               R11 RSTD;                                          0566 02453000
*             RFY                                                  0567 02454000
*               FRRS BASED(PSACSTK);                               0567 02455000
*             RFY                                                  0568 02456000
*               FRRPARMS BASED(R11);                               0568 02457000
*             RT1TLPN=SRMRCRD;      /* LOGICAL PHASE ON SRM RECOV  0569 02458000
*                                      STACK IS RECORDING            */ 02459000
         L     @12,PSACSTK                                         0569 02460000
         AL    @12,@CF00203                                        0569 02461000
         MVI   RT1TLPN(@12),X'47'                                  0569 02462000
*             RT1TLPID=SRMDRID;     /*                       @YM06156*/ 02463000
         MVI   RT1TLPID(@12),X'01'                                 0570 02464000
*             GENERATE CODE;                                       0571 02465000
*                                      /*ESTABLISH SRMS FRR          */ 02466000
         SETFRR A,FRRAD=RCRDFRR,PARMAD=(R11),WRKREGS=(R11,R12)          02467000
*             RFY                                                  0572 02468000
*               FRRS BASED(R8);                                    0572 02469000
*             SRMWSAV2=R0;          /* CHKPT REGISTER 0 - FUNCTION   */ 02470000
         L     @12,RT1WRTCA(,R8)                                   0573 02471000
         ST    R0,SRMWSAV2+512(,@12)                               0573 02472000
*             RFY                                                  0574 02473000
*               FRRS BASED(PSACSTK);                               0574 02474000
*                                                                  0574 02475000
*             /*******************************************************/ 02476000
*             /*                                                     */ 02477000
*             /* ************STORE TRACKING                          */ 02478000
*             /* INFORMATION***********************                  */ 02479000
*             /*                                                     */ 02480000
*             /*******************************************************/ 02481000
*                                                                  0575 02482000
*             DO;                                                  0575 02483000
*               FRRPRCRD=ON;        /* RECORDING ACTIVE              */ 02484000
         OI    FRRPRCRD(R11),B'10000000'                           0576 02485000
*               FRRPREG1=R10;       /* CHKPT IEAVTRTS BASE REG       */ 02486000
         ST    R10,FRRPREG1(,R11)                                  0577 02487000
*               FRRPRTYA=ADDR(DELRCFRR);/* CHKPT RETRY ADDRESS       */ 02488000
         LA    @12,DELRCFRR                                        0578 02489000
         ST    @12,FRRPRTYA(,R11)                                  0578 02490000
*               FRRPREG2=R6;        /* CHKPT FRR AVAILABILITY        */ 02491000
         ST    R6,FRRPREG2(,R11)                                   0579 02492000
*               FRRPISTK=R8;        /* CHKPT INTERRUPTED STACK ADDR  */ 02493000
         ST    R8,FRRPISTK(,R11)                                   0580 02494000
*               FRRPREG3=R7;        /* CHKPT RECURSION STATUS        */ 02495000
         ST    R7,FRRPREG3(,R11)                                   0581 02496000
*               FRRPFLPN=SRMRCRD;   /* CHKPT LOGICAL PHASE           */ 02497000
         MVI   FRRPFLPN(R11),X'47'                                 0582 02498000
*             END;                                                 0583 02499000
*             RT1TLPN=NONE;         /* ALLOW FRR PROCESSING TO OCCUR    02500000
*                                      IF A FAILURE OCCURS IN THE  0584 02501000
*                                      SOFTWARE RECORDING FACILITY   */ 02502000
         L     @12,PSACSTK                                         0584 02503000
         MVI   RT1TLPN+16(@12),X'00'                               0584 02504000
*             GENERATE CODE         /* INVOKE THE SOFTWARE RECORDING    02505000
*                                      FACILITY                      */ 02506000
*                 ;                                                0585 02507000
         RECORD TYPE=LOGREC,PARMADR=(R1),LENGTH=(R3),RCVRY=SETFRR,     C02508000
               HEADER=YES,JOBNAME=YES,ERRORID=YES              @YM05011 02509000
*                                                              @G17EP5W 02510000
*DELRCFRR:                          /* DELETE SRMS FRR               */ 02511000
*             RT1TLPN=SRMRCRD;      /* RESTORE RTS RECOVRY   @YM06156*/ 02512000
DELRCFRR LA    @12,16                                              0586 02513000
         AL    @12,PSACSTK                                         0586 02514000
         MVI   RT1TLPN(@12),X'47'                                  0586 02515000
*             RT1TLPID=SRMDRID;     /* RESTORE RTS RECOVRY   @YM06156*/ 02516000
         MVI   RT1TLPID(@12),X'01'                                 0587 02517000
*             CALL DELTAFRR;        /* DELETE THE FRR                */ 02518000
         BAL   @14,DELTAFRR                                        0588 02519000
*             RT1TLPN=NONE;         /* NULLIFY RTS RECOVERY ON THE 0589 02520000
*                                      RECOVERY STACK        @YM06156*/ 02521000
         LA    @12,16                                              0589 02522000
         L     @04,PSACSTK                                         0589 02523000
         ALR   @04,@12                                             0589 02524000
         MVI   RT1TLPN(@04),X'00'                                  0589 02525000
*             PSACSTK=R8;           /* REESTABLISH THE INTERRUPTED 0590 02526000
*                                      STACK AS CURRENT              */ 02527000
         ST    R8,PSACSTK                                          0590 02528000
*             RFY                                                  0591 02529000
*               FRRS BASED(R8);                                    0591 02530000
*             RT1TLPN=SRMRCRD;      /* RESTORE RTS RECOVERY ON THE 0592 02531000
*                                      INTERRUPTED STACK     @YM06156*/ 02532000
         ALR   @12,R8                                              0592 02533000
         MVI   RT1TLPN(@12),X'47'                                  0592 02534000
*             R0=SRMWSAV2;          /* RESTORE REG0                  */ 02535000
         L     @12,RT1WRTCA(,R8)                                   0593 02536000
         L     R0,SRMWSAV2+512(,@12)                               0593 02537000
*             RFY                                                  0594 02538000
*               R11 UNRSTD;                                        0594 02539000
*             RFY                                                  0595 02540000
*              (R1,                                                0595 02541000
*               R13,                                               0595 02542000
*               R3) UNRSTD;                                        0595 02543000
*NORCRD:                                                           0596 02544000
*             SDWARCRD=OFF;         /* INDICATE THAT RECORDING IS  0596 02545000
*                                      ACCOMPLISHED                  */ 02546000
NORCRD   NI    SDWARCRD(R5),B'01111111'                            0596 02547000
*           END;                                                   0597 02548000
*         ELSE                                                     0598 02549000
*           ;                       /* OTHERWISE DO NOT RECORD       */ 02550000
@RF00528 DS    0H                                                  0599 02551000
*         SDWAURAL=''B;             /* ZERO THE USER SUPPLIED LENGTH    02552000
*                                      OF VARIABLE RECORDING DATA FOR   02553000
*                                      THE NEXT FRRS USE             */ 02554000
         MVI   SDWAURAL(R5),X'00'                                  0599 02555000
*       END;                                                       0600 02556000
*                                                                  0600 02557000
*/* ******************************************************************/ 02558000
*/*      THIS SEGMENT ADJUSTS THE MODE IF NECESSARY PRIOR TO         */ 02559000
*/*      PERCOLATING THE ERROR TO OTHER FRRS ON THE STACK SO THAT    */ 02560000
*/*      PROPER SERIALIZATION OF THE RTCA INTERFACE BETWEEN IEAVTRTS */ 02561000
*/*      AND THE FRRS ARE MAINTAINED                                 */ 02562000
*/*     INPUT                                                        */ 02563000
*/*      - FRRTNS REGISTER(R6) CONTAINS THE INDICATION WHETHER       */ 02564000
*/*        THERE ARE ANY FRRS ON THE INTERRUPTED FRR STACK           */ 02565000
*/*      - RECURSE REGISTER(R7) CONTAINS THE INDICATION WHETHER      */ 02566000
*/*        SRM IS OPERATING IN RECURSION MODE(I.E.BECAUSE OF A       */ 02567000
*/*        FRR FAILURE) OR NOT                                       */ 02568000
*/*      - CURRSTK REGISTER(R8) POINTS TO THE INTERRUPTED STACK      */ 02569000
*/*      - FUNCTION REGISTER(R0) WILL BE USED TO INDICATE TO         */ 02570000
*/*        FURTHER SRM PROCESSES WHETHER RETRY OR RESUME OR          */ 02571000
*/*        PERCOLATION SHOULD BE PERFORMED                           */ 02572000
*/*      - TARGRTCA REGISTER(R5) POINTS TO THE CURRENTELY ACTIVE     */ 02573000
*/*        RTCA                                                      */ 02574000
*/*     OUTPUT                                                       */ 02575000
*/*      - TARGRTCA REGISTER(R5) IS ZERO IF RETRY OR RESUME IS       */ 02576000
*/*        DETERMINED                                                */ 02577000
*/*        OTHERWISE IT REMAINS UNCHANGED                            */ 02578000
*/*      - FUNCTION REGISTER(R0) CONTAINS THE INDICATION WHETHER     */ 02579000
*/*        TO RETRY,RESUME OR PERCOLATE                              */ 02580000
*/*      - IF PERCOLATION IS DETERMINED THE RETRY AND RESUME         */ 02581000
*/*        INDICATIONS IN THE ACTIVE RTCA ARE ZEROED                 */ 02582000
*/*        (I.E.SDWARCDE,SDWARTYA,SDWACPUA,SDWASPIN)                 */ 02583000
*/*     NOTES                                                        */ 02584000
*/*      - REGS(R0,R2,R5,R6,R7,R8) ARE RESTRICTED IN THIS SEGMENT    */ 02585000
*/*      - REGS(R1,R3,R4,   R11,R12,R13,R14,R15) ARE UNRESTRICTED    */ 02586000
*/*        IN THIS SEGMENT EXCEPT WHERE NEEDED BY ADDITIONAL         */ 02587000
*/*        SEGMENTS INCLUDED BY THE ADJUST SEGMENT                   */ 02588000
*/* ******************************************************************/ 02589000
*                                                                  0601 02590000
*       RT1TLPN=SRMADJST;           /* SET ADJUST LOGICAL PHASE      */ 02591000
         MVI   RT1TLPN+16(R8),X'48'                                0601 02592000
*       IF R6^=NONE THEN            /* IF THERE ARE FRRS ON THE      */ 02593000
         SLR   @12,@12                                             0602 02594000
         CR    R6,@12                                              0602 02595000
         BE    @RF00602                                            0602 02596000
*         DO;                       /* INTERRUPTED STACK DO FOLLOWING*/ 02597000
*           IF R7^=ACTIVE THEN      /* IF RECURSION IS NOT ACTIVE    */ 02598000
         C     R7,@CF00079                                         0604 02599000
         BE    @RF00604                                            0604 02600000
*             DO;                   /* DO THE FOLLWING               */ 02601000
*               IF R8^=PSANSTK      /* IF THE CURRENT STAK IS        */ 02602000
*                   &FRRSEMP=FRRSCURR THEN/* A SUPER STAK AND THE  0606 02603000
*                                      STAK INDICATES EMPTY THEN THE    02604000
*                                      SUPER FRR RECEIVED CONTROL    */ 02605000
         C     R8,PSANSTK                                          0606 02606000
         BE    @RF00606                                            0606 02607000
         CLC   FRRSEMP(4,R8),FRRSCURR(R8)                          0606 02608000
         BNE   @RF00606                                            0606 02609000
*                 DO;                                              0607 02610000
*                   IF SDWARKEY='1'B&/* IF RESTART ERROR     @ZA10785*/ 02611000
*                       SDWAPERC='0'B THEN/* AND SUPER FRR ONLY FRR     02612000
*                                      ON STACK THEN         @ZA10785*/ 02613000
         TM    SDWARKEY(R5),B'00100000'                            0608 02614000
         BNO   @RF00608                                            0608 02615000
         TM    SDWAPERC(R5),B'00010000'                            0608 02616000
         BNZ   @RF00608                                            0608 02617000
*                     CVTRSTWD=NULL;/* CLEAR RESTART WORD    @ZA10785*/ 02618000
         L     @11,CVTPTR                                          0609 02619000
         ST    @12,CVTRSTWD(,@11)                                  0609 02620000
*                   ELSE                                           0610 02621000
*                     ;             /*                       @ZA10785*/ 02622000
@RF00608 DS    0H                                                  0611 02623000
*                   GENERATE CODE   /* MOVE THE SYSTEM MASK STORED ON   02624000
*                                      RETURN FROM THE FRR INTO THE     02625000
*                                      MASK BYTE POSITION OF SRMS REG   02626000
*                                      SAVE AREA ASSOCIATED WITH THE    02627000
*                                      CURRENTLY ACTIVE RTCA IN    0611 02628000
*                                      PREPARATION FOR THE SYSTEM  0611 02629000
*                                      STATE ADJUSTMENT WHICH WILL 0611 02630000
*                                      TAKE PLACE IN THE EXIT SEGMENT   02631000
*                                                            @YM02601*/ 02632000
*                       ;                                          0611 02633000
         MVC   FIVE12+1(1,R5),FIVE12(R5) NULL RETRY MASK       @YM02601 02634000
*                   R0=RETRY;       /* THE FUNCTION IS ALWAYS RETRY  */ 02635000
         SLR   R0,R0                                               0612 02636000
*                   FRRSRCUR=OFF;   /* AND THE IN USE FLAG IN THE FRR   02637000
*                                      ENTRY CAN BE ZEROED           */ 02638000
         L     @01,FRRSCURR(,R8)                                   0613 02639000
         NI    FRRSRCUR(@01),B'01111111'                           0613 02640000
*                   R5=NULL;        /* INITIALIZE TO EXIT IEAVTRTS   */ 02641000
         SLR   R5,R5                                               0614 02642000
*                 END;                                             0615 02643000
*               ELSE                /* OTHERWISE DO AS FOLLOWS       */ 02644000
*                 DO;                                              0616 02645000
         B     @RC00606                                            0616 02646000
@RF00606 DS    0H                                                  0617 02647000
*                   RFY                                            0617 02648000
*                     FRRSENTR BASED(SRMTGFRR);                    0617 02649000
*                   IF SDWACLUP^=ON /* IF THE FRR JUST ROUTED TO     */ 02650000
*                       |SDWARKEY=ON THEN/* IS NOT REQUIRED TO CLEAN    02651000
*                                      UP AND PERCOLATE OR THE ERROR    02652000
*                                      IS A RESTART ERROR THEN CHECK    02653000
*                                      RETURN CODE IN THE RTCA       */ 02654000
*                                                                  0618 02655000
         TM    SDWACLUP(R5),B'10000000'                            0618 02656000
         BNO   @RT00618                                            0618 02657000
         TM    SDWARKEY(R5),B'00100000'                            0618 02658000
         BNO   @RF00618                                            0618 02659000
@RT00618 DS    0H                                                  0619 02660000
*                     /***********************************************/ 02661000
*                     /*                                             */ 02662000
*                     /* THIS SEGMENT CHECKS THE RETURN CODE IN THE  */ 02663000
*                     /* RTCA SUPPLIED BY THE FRR JUST ROUTED TO AND */ 02664000
*                     /* ESTABLISHES WHETHER RETRY OR RESUME CAN BE  */ 02665000
*                     /* HONORED OR WHETHER PERCOLATION IS REQUIRED  */ 02666000
*                     /* INPUT - TARGRTCA REGISTER(R5) POINTS TO THE */ 02667000
*                     /* RTCA JUST PASSED TO THE FRR - FUNCTION      */ 02668000
*                     /* REGISTER(R0) WILL BE USED TO INDICATE RETRY,*/ 02669000
*                     /* RESUME, OR PERCOLATION OUTPUT - FUNCTION    */ 02670000
*                     /* REGISTER(R0) IS SET INDICATING RETRY,RESUME */ 02671000
*                     /* PERCOLATION NOTES - REGS(R2,R5,R6,R7,R8)    */ 02672000
*                     /* MUST REMAIN UNCHANGED THROUGHOUT THIS       */ 02673000
*                     /* SEGMENT - REGS(R1,R3,R4,                    */ 02674000
*                     /* R11,R12,R13,R14,R15) ARE VOLATILE THROUGHOUT*/ 02675000
*                     /* THIS SEGMENT                                */ 02676000
*                     /*                                             */ 02677000
*                     /***********************************************/ 02678000
*                                                                  0619 02679000
*                     DO;                                          0619 02680000
*                       IF SDWARKEY^=ON THEN/* IF THE ERROR TYPE IS     02681000
*                                      NOT A RESTART ERROR           */ 02682000
         TM    SDWARKEY(R5),B'00100000'                            0620 02683000
         BO    @RF00620                                            0620 02684000
*                         IF SDWARCDE=SDWARETY/* BUT THE RETURN CODE */ 02685000
*                             &SDWARTYA^=NULL THEN/* DOES INDICATE 0621 02686000
*                                      RETRY                         */ 02687000
         CLI   SDWARCDE(R5),4                                      0621 02688000
         BNE   @RF00621                                            0621 02689000
         L     @12,SDWARTYA(,R5)                                   0621 02690000
         LTR   @12,@12                                             0621 02691000
         BZ    @RF00621                                            0621 02692000
*                           DO;                                    0622 02693000
*                             GENERATE CODE/* MOVE THE SYSTEM MASK 0623 02694000
*                                      STORED ON RETURN FROM THE FRR    02695000
*                                      INTO THE MASK BYTE POSITION OF   02696000
*                                      SRMS REG SAVE AREA ASSOCIATED    02697000
*                                      WITH THE CURRENTLY ACTIVE RTCA   02698000
*                                      IN PREPARATION FOR THE SYSTEM    02699000
*                                      STATE ADJUSTMENT WHICH WILL 0623 02700000
*                                      OCCUR IN EXIT SEGMT   @YM02601*/ 02701000
*                                 ;                                0623 02702000
         MVC   FIVE12+1(1,R5),FIVE12(R5) NULL RETRY MASK       @YM02601 02703000
*                             R0=RETRY;/* FUNCTION IS RETRY          */ 02704000
         SLR   R0,R0                                               0624 02705000
*                             FRRSRCUR=OFF;/* AND THE IN USE FLAG IN    02706000
*                                      THE FRR ENTRY CAN BE ZEROED   */ 02707000
         L     @01,RT1WRTCA(,R8)                                   0625 02708000
         L     @01,SRMTGFRR+512(,@01)                              0625 02709000
         NI    FRRSRCUR(@01),B'01111111'                           0625 02710000
*                           END;                                   0626 02711000
*                         ELSE                                     0627 02712000
*                           R0=PERCLATE;/* OTHERWISE FUNCTION IS TO     02713000
*                                      PERCOLATE                     */ 02714000
         B     @RC00621                                            0627 02715000
@RF00621 LA    R0,2                                                0627 02716000
*                       ELSE        /* OTHERWISE EXAMINE FOR RESUME  */ 02717000
*                         IF SDWAPERC^=ON&/* IF THE RESTART ERROR HAS   02718000
*                                      ONLY BEEN PASSED TO THE FIRST    02719000
*                                      FRR                   @YA00800*/ 02720000
*                             SDWAIO2=OFF&SDWAEXT2=OFF THEN/* AND THE   02721000
*                                      FRR GOT CONTROL PHYSICALLY  0628 02722000
*                                      DISABLED              @YA00800*/ 02723000
         B     @RC00620                                            0628 02724000
@RF00620 TM    SDWAPERC(R5),B'00010000'                            0628 02725000
         BO    @RF00628                                            0628 02726000
         TM    SDWAIO2(R5),B'00000011'                             0628 02727000
         BNZ   @RF00628                                            0628 02728000
*                           DO;     /* CHECK TO SEE IF THE FRR CAN 0629 02729000
*                                      RECOVER FROM A VALID SPIN     */ 02730000
*                             IF SDWASPIN=ON&/* IF THE SDWA SPIN BIT */ 02731000
*                                 SDWACPUA^=NULL THEN/* AND A CPU  0630 02732000
*                                      ADDRESS IS SUPPLIED           */ 02733000
         TM    SDWASPIN(R5),B'00100000'                            0630 02734000
         BNO   @RF00630                                            0630 02735000
         L     @12,SDWACPUA(,R5)                                   0630 02736000
         LTR   @12,@12                                             0630 02737000
         BZ    @RF00630                                            0630 02738000
*                               DO;                                0631 02739000
*                                 R0=RESUME;/* THEN THE FUNCTION IS     02740000
*                                      RESUME                        */ 02741000
         SLR   R0,R0                                               0632 02742000
*                                 FRRSRCUR=OFF;/* AND THE IN FLAG IN    02743000
*                                      THE FRR ENTRY CAN BE ZEROED   */ 02744000
         L     @01,RT1WRTCA(,R8)                                   0633 02745000
         L     @01,SRMTGFRR+512(,@01)                              0633 02746000
         NI    FRRSRCUR(@01),B'01111111'                           0633 02747000
*                               END;                               0634 02748000
*                             ELSE  /* OTHERWISE                     */ 02749000
*                               DO; /*                       @YM08120*/ 02750000
         B     @RC00630                                            0635 02751000
@RF00630 DS    0H                                                  0636 02752000
*                                 R0=PERCLATE;/* SET FUNCTION TO   0636 02753000
*                                      PERCOLATE                     */ 02754000
         LA    R0,2                                                0636 02755000
*                                 CVTRSTWD=NULL;/* ZERO RESTART WORD    02756000
*                                                            @YM08120*/ 02757000
         L     @12,CVTPTR                                          0637 02758000
         SLR   @11,@11                                             0637 02759000
         ST    @11,CVTRSTWD(,@12)                                  0637 02760000
*                               END;/*                       @YM08120*/ 02761000
*                           END;                                   0639 02762000
*                         ELSE      /* IF THE RESTART ERROR HAS BEEN    02763000
*                                      PERCOLATED TO THE FRR THEN  0640 02764000
*                                      PERCOLATION IS STILL REQUIRED */ 02765000
*                           R0=PERCLATE;/* INDICATE THAT PERCOLATION    02766000
*                                      IS TO BE PERFORMED            */ 02767000
         B     @RC00628                                            0640 02768000
@RF00628 LA    R0,2                                                0640 02769000
*                     END;                                         0641 02770000
*                   ELSE            /* IF THE FRR JUST ROUTED TO IS A   02771000
*                                      NESTED FRR THEN INDICATE    0642 02772000
*                                      PERCOLATION                   */ 02773000
*                     R0=PERCLATE;  /* SRM IS TO PERCOLATE           */ 02774000
*                                                                  0642 02775000
         B     @RC00618                                            0642 02776000
@RF00618 LA    R0,2                                                0642 02777000
*                   /*************************************************/ 02778000
*                   /*                                               */ 02779000
*                   /* THIS SEGMENT PERFORMS THE FUNCTIONS OF        */ 02780000
*                   /* HONORING THE FUNCTION INDICATION TO           */ 02781000
*                   /* RETRY,RESUME, OR PERCOLATE,OF ADJUSTING RTCAS */ 02782000
*                   /* TO CORRESPOND TO MODE CHANGES OCURRING FROM   */ 02783000
*                   /* FREEING LOCKS AS REQUESTED BY THE FRR AND OF  */ 02784000
*                   /* INSURING THAT THOSE LOCKS THAT ARE REQUESTED  */ 02785000
*                   /* TO BE FREED ARE IN FACT VALID LOCK FREEING    */ 02786000
*                   /* REQUESTS INPUT - FUNCTION REGISTER(R0)        */ 02787000
*                   /* CONTAINING THE INDICATION WHETHER TO          */ 02788000
*                   /* RETRY,RESUME,OR PERCOLATE - TARGRTCA          */ 02789000
*                   /* REGISTER(R5) CONTAINS THE ADDRESS OF THE RTCA */ 02790000
*                   /* - CURRSTK REGISTER(R8)POINTS TO THE           */ 02791000
*                   /* INTERRUPTED STACK - SRMSTAK REGISTER(R2)      */ 02792000
*                   /* POINTS TO SRMS RECOVERY STACK OUTPUT -        */ 02793000
*                   /* TARGRTCA REGISTER(R5) IS ZERO IF RETRY OR     */ 02794000
*                   /* RESUME IS TO BE HONORED - THE RTCA IS ALTERED */ 02795000
*                   /* TO INDICATE PERCOLATION IF INVALID RETRY OR   */ 02796000
*                   /* RESUME SPECIFICATIONS ARE MADE IN THE RTCA    */ 02797000
*                   /* NOTES - THIS SEGMENT INCLUDES THE CHEKLOKS AND*/ 02798000
*                   /* ADJUSTMR SEGMENTS WITH FURTHER INPUT          */ 02799000
*                   /* REQUIREMENTS - REGS(R0,R2,R6,R7,R8)MUST REMAIN*/ 02800000
*                   /* UNCHANGED THROUGHOUT THIS SEGMENT -           */ 02801000
*                   /* REGS(R1,R3,R4, R11,R12,R13,R14,R15) ARE       */ 02802000
*                   /* VOLATILE IN THIS SEGMENT                      */ 02803000
*                   /*                                               */ 02804000
*                   /*************************************************/ 02805000
*                                                                  0643 02806000
*                   IF R0=PERCLATE THEN/* IF RETRY IS NOT REQUESTED     02807000
*                                      AND RESUME NOT REQUESTED      */ 02808000
@RC00618 C     R0,@CF00112                                         0643 02809000
         BNE   @RF00643                                            0643 02810000
*                     DO;           /* DO FOLLOWING                  */ 02811000
*                       SDWARCDE=SDWACWT;/* INDICATE PERCOLATION AND    02812000
*                                      CONTINUE WITH TERMINATION     */ 02813000
         MVI   SDWARCDE(R5),X'00'                                  0645 02814000
*                       SDWAPERC=ON;/* INDICATE PERCOLATION          */ 02815000
         OI    SDWAPERC(R5),B'00010000'                            0646 02816000
*                       SDWARTYA=NULL;/* ZERO RETRY ADDRESS          */ 02817000
         SLR   @12,@12                                             0647 02818000
         ST    @12,SDWARTYA(,R5)                                   0647 02819000
*                       SDWASPIN=OFF;/* TURN OF RESUME INDICATOR     */ 02820000
         NI    SDWASPIN(R5),B'11011111'                            0648 02821000
*                       SDWACPUA=NULL;/* AND CPU ID                  */ 02822000
         ST    @12,SDWACPUA(,R5)                                   0649 02823000
*/* ******************************************************************/ 02824000
*/* THIS SEGMENT INSURES THAT THE LOCKS REQUESTED TO BE FREED BY THE */ 02825000
*/* FRR AS INDICATED IN THE RTCA ARE AMONG THOSE HELD BY THE CPU ON  */ 02826000
*/* ENTRY TO THE FRR.                                                */ 02827000
*/* THIS VERIFICATION IS PERFORMED BY CALLING THE INTERNAL PROC      */ 02828000
*/*  - LOCKVERF- WHICH RETURNS IN REG(R4) THE CURRENT LOCKS HELD BY  */ 02829000
*/* THE CPU.                                                         */ 02830000
*/*  REG(R4) IS - ANDED- WITH THE MASK IN THE RTCA INDICATING LOCKS  */ 02831000
*/* TO BE FREEDED AND THE RESULT RESTORED INTO THE RTCA. ALL LOCKS   */ 02832000
*/* REQUESTED TO BE FREED THAT ARE NOT OWNED ARE THUS NOOP IN THE    */ 02833000
*/* RTCA AND THE REQUESTS WILL NOT BE HONORED                        */ 02834000
*/* A FURTHER CHECK IS MADE TO INSURE THAT A VALID LOCK FREEING      */ 02835000
*/* TO RELEASE THE LOCAL LOCK WILL NOT RESULT IN THE CMS LOCK STILL  */ 02836000
*/* BEING HELD                                                       */ 02837000
*/* THE INTERNAL PROCEDURE FRLOCKS IS INVOKED TO FREE ALL LOCKS      */ 02838000
*/* ACQUIRED BY THE FRR OVER AN ABOVE THOSE HELD BY THE CPU ON ENTRY */ 02839000
*/* TO THE FRR--THE LOCKVERF PROC-RETURNS THIS INFORMATION IN REG(R1)*/ 02840000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 02841000
*/*  -CURRSTK(R8) POINTS TO THE INTERRUPTED STACK CONTAINING THE FRR */ 02842000
*/*    WHOSE REQUESTING TO FREE LOCKS                                */ 02843000
*/*  - RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE FRR STACK */ 02844000
*/*    POINTS TO THE RTCA CONTAINING THE LOCK FREEING REQUESTS       */ 02845000
*/*  - THE SRM REG SAVE AREA CONTAINING CURRENT LOCKS HELD MASK      */ 02846000
*/* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS:                          */ 02847000
*/*  - ADDITIONALLY ACQUIRED LOCKS BY THE FRR ARE FREED              */ 02848000
*/*  - THE LOCKMASK IN THE SRM REG SAVE AREA CONTAINS R4 CONTENTS    */ 02849000
*/*  - THE MASK IN THE RTCA CONTAINING LOCK FREEING REQUESTS IS      */ 02850000
*/*    UPDATED TO REFLECT LOCKS TO FREE OF ONLY THOSE REMAINING      */ 02851000
*/*    LOCKS HELD BY THE CPU AFTER ADDITIONALLY ACQUIRED LOCKS BY    */ 02852000
*/*    THE FRR ARE FREED                                             */ 02853000
*/* NOTES                                                            */ 02854000
*/*  - REGS(R0,R1,R2,R3,R5,R6,R7,R8,R9,R10,R4) ARE RESTRICTED        */ 02855000
*/*  REGS(   R11,R12,R13,R15) ARE VOLATILE                           */ 02856000
*/*  -REG(R1) CONTAINS A MASK INDICATING LOCKS ADDITIONALLY          */ 02857000
*/*   ACQUIRED BY THE FRR THAT MUST BE FREED                         */ 02858000
*/*  - REG(R4) CONTAINS THE MASK INDICATING THE CURRENTLY HELD       */ 02859000
*/*    LOCKS ON THE CPU                                              */ 02860000
*/*  - REG(R14) WILL CONTAIN THE RETURN ADDRESS AFTER THE CALL       */ 02861000
*/*    TO THE LOCKVERF PROC TO VERIFY CURRENTLY LOCKS HELD           */ 02862000
*/*  - THE LOCKMASK IN THE SRM REG SAVE AREA ASSOCIATED WITH THE     */ 02863000
*/*    RTCA PASSED TO THE FRR IS UPDATED WITH THE CURRENT LOCKS      */ 02864000
*/*    HELD MASK OF THE CPU(CONTENTS OF REG4)                        */ 02865000
*/* ******************************************************************/ 02866000
*                                                                  0650 02867000
*                       DO;                                        0650 02868000
*                         RFY                                      0651 02869000
*                          (R4,                                    0651 02870000
*                           R3,                                    0651 02871000
*                           R11,                                   0651 02872000
*                           R1) RSTD;                              0651 02873000
*                         CALL LOCKVERF;/* VERF LOCKS OBTAINED AND 0652 02874000
*                                      RELEASED                      */ 02875000
         BAL   @14,LOCKVERF                                        0652 02876000
*                         LOCKMASK=R4;/* STORE NEW LOCK MASK AS THE     02877000
*                                      RESULT OF TESTING THE LOCKS 0653 02878000
*                                      HELD ON ENTRY TO THE FRR THIS    02879000
*                                      NEW LOCKMASK REPRESENTS LOCKS    02880000
*                                      THAT WILL BE HELD AFTER THE 0653 02881000
*                                      NEWLY ACQUIRED LOCKS ARE FREED   02882000
*                                      AND THE LOCKS FREED BY THE FRR   02883000
*                                      ARE NEGATED FROM THE MASK     */ 02884000
         L     @12,RT1WRTCA(,R8)                                   0653 02885000
         STH   R4,LOCKMASK+512(,@12)                               0653 02886000
*                         LKTOFREE=LKTOFREE&R4;/* UPDATE THE LOCKS 0654 02887000
*                                      REQUESTED TO BE FREED BASED ON   02888000
*                                      THE ABOVE TEST OF THE LOCKS 0654 02889000
*                                      HELD                          */ 02890000
         LH    @12,LKTOFREE(,R5)                                   0654 02891000
         N     @12,@CF03531                                        0654 02892000
         NR    @12,R4                                              0654 02893000
         STH   @12,LKTOFREE(,R5)                                   0654 02894000
*                         R3=R4&CMSLOCLK;/* INSURE THAT IF THE LOCAL    02895000
*                                      LOCK IS TO BE FREED THAT THE     02896000
*                                      CMS WILL NOT STILL BE HELD    */ 02897000
         LA    @12,3                                               0655 02898000
         LR    R3,R4                                               0655 02899000
         NR    R3,@12                                              0655 02900000
*                         IF R3=CMSLOCLK THEN/* IF THE CMS AND LOCAL    02901000
*                                      LOCKS ARE HELD CHECK THAT   0656 02902000
*                                      EITHER BOTH LOCKS WILL STILL     02903000
*                                      BE HELD OR THAT BOTH LOCKS ARE   02904000
*                                      REQUESTED TO BE FREED         */ 02905000
         CR    R3,@12                                              0656 02906000
         BNE   @RF00656                                            0656 02907000
*                           IF SDWAFLLK=ON/* IF THE LOCAL LOCK IS TO    02908000
*                                      BE                            */ 02909000
*                               &SDWACMS=OFF THEN/* AND THE CMS LOCK    02910000
*                                      IS NOT REQUESTED TO BE FREED     02911000
*                                      THEN INDICATE TO FREE THE CMS    02912000
*                                      LOCK ALSO                     */ 02913000
         TM    SDWAFLLK(R5),B'00000001'                            0657 02914000
         BNO   @RF00657                                            0657 02915000
         TM    SDWACMS(R5),B'00000010'                             0657 02916000
         BNZ   @RF00657                                            0657 02917000
*                             SDWACMS=ON;                          0658 02918000
         OI    SDWACMS(R5),B'00000010'                             0658 02919000
*                           ELSE                                   0659 02920000
*                             ;     /* IF EITHER THE LOCAL AND CMS 0659 02921000
*                                      LOCKS ARE NOT TO BE FREED OR     02922000
*                                      THE CMS LOCK WILL NOT BE HELD    02923000
*                                      WHEN THE LOCAL LOCK IS FREE 0659 02924000
*                                      THE FREE LOCK REQUEST OF THE     02925000
*                                      FRR IS VALID                  */ 02926000
@RF00657 DS    0H                                                  0660 02927000
*                         ELSE                                     0660 02928000
*                           ;       /* IF THE CMS AND LOCAL LOCKS ARE   02929000
*                                      NOT HELD THE FREE LOCK REQUEST   02930000
*                                      BY THE FRR IS ASSUMED TO BE 0660 02931000
*                                      VALID                         */ 02932000
@RF00656 DS    0H                                                  0661 02933000
*                         RFY                                      0661 02934000
*                          (R4,                                    0661 02935000
*                           R3,                                    0661 02936000
*                           R11) UNRSTD;                           0661 02937000
*                         CALL FRLOCKS;/* FREE THOSE LOCKS         0662 02938000
*                                      ADDITIONALLY ACQUIRED BY THE     02939000
*                                      FRR THAT WERE NOT OWNED ON  0662 02940000
*                                      ENTRY TO THE FRR              */ 02941000
         BAL   @14,FRLOCKS                                         0662 02942000
*                         RFY                                      0663 02943000
*                           R1 UNRSTD;                             0663 02944000
*                       END;                                       0664 02945000
*                                                                  0664 02946000
*                       /*********************************************/ 02947000
*                       /*                                           */ 02948000
*                       /* THIS SEGMENT DETERMINES WHETHER A SYSTEM  */ 02949000
*                       /* MODE CHANGE WILL TAKE PLACE WHEN THE LOCKS*/ 02950000
*                       /* TO BE FREED AS INDICATED IN THE RTCA ARE  */ 02951000
*                       /* FREED AND ADJUSTS THE CONTENTS OF THE     */ 02952000
*                       /* CURRENTLY ACTIVE RTCA TO COINCIDE WITH THE*/ 02953000
*                       /* PENDING LEVEL OF SERIALI- ZATION RESULTING*/ 02954000
*                       /* FROM THE EVENTUAL LOCK FREEING THREE MODE */ 02955000
*                       /* CHANGES ARE POSSIBLE 1.GLOBAL             */ 02956000
*                       /* MODE-TO-LOCAL MODE IS DETERMINED IF THE   */ 02957000
*                       /* FOLLOWOING CONDITIONS ARE PRESENT ON ENTRY*/ 02958000
*                       /* .THE CPU IS NOT IN SUPERVISOR CONTROL MODE*/ 02959000
*                       /* .WHEN THE FREEING OF LOCKS TAKES PLACE NO */ 02960000
*                       /* GLOBAL SPIN- TYPE LOCKS WILL REMAIN HELD. */ 02961000
*                       /* ONLY THE CMS AND LOCAL OR JUST LOCAL LOCK */ 02962000
*                       /* WILL STILL BE HELD 2.GLOBAL MODE-TO-SRB   */ 02963000
*                       /* MODE IS DETERMINED IF THE FOLLOWING       */ 02964000
*                       /* CONDITIONS ARE PRESENT ON ENTRY .THE CPU  */ 02965000
*                       /* IS NOT IN SUPERVISOR CONTROL MODE .AT     */ 02966000
*                       /* LEAST ONE GLOBAL SPIN-TYPE LOCK IS HELD BY*/ 02967000
*                       /* THE CPU .NO LOCKS WILL REMAIN HELD AFTER  */ 02968000
*                       /* THE REQUESTED LOCKS ARE FREED PROVIDED    */ 02969000
*                       /* THAT SRM HAS NOT ITSELF ACQUIRED THE LOCAL*/ 02970000
*                       /* LOCK IN WHICH CASE A GLOBAL-TO-LOCAL MODE */ 02971000
*                       /* CHANGE IS REQUIRED 3.LOCAL MODE-TO-SRB    */ 02972000
*                       /* MODE IS DETERMINED IF THE FOLLOWING       */ 02973000
*                       /* CONDITIONS ARE PRESENT ON ENTRY .THE CPU  */ 02974000
*                       /* WAS NOT PHYSICALLY DISABLED OR IN         */ 02975000
*                       /* SUPERVISOR CONTROL MODE AT THE TIME OF THE*/ 02976000
*                       /* ERROR .THE CMS AND LOCAL LOCKS WILL NOT BE*/ 02977000
*                       /* HELD BY THE CPU AFTER THE REQUESTED       */ 02978000
*                       /* FREEING OF LOCKS TAKES PLACE .THE CMS AND */ 02979000
*                       /* LOCAL LOCKS OR JUST THE LOCAL LOCK ARE THE*/ 02980000
*                       /* ONLY LOCKS HELD ON ENTRY .SRM DOES NOT OWN*/ 02981000
*                       /* THE LOCAL LOCK. IF SO NO MODE CHANGE IS   */ 02982000
*                       /* PERFORMED A CHANGE OF MODES WILL NOT OCCUR*/ 02983000
*                       /* IF ONE OF THE FOLLOWING CONDITIONS EXIST  */ 02984000
*                       /* .NO LOCKS ARE REQUESTED TO BE FREED IN THE*/ 02985000
*                       /* RTCA .GLOBAL SPIN LOCKS ARE HELD ON ENTRY */ 02986000
*                       /* BUT NOT ALL OF THE HELD GLOBAL SPIN LOCKS */ 02987000
*                       /* ARE REQUESTED TO BE FREED .THE CMS AND    */ 02988000
*                       /* LOCAL LOCKS ARE THE ONLY LOCKS HELD ON    */ 02989000
*                       /* ENTRY AND ONLY THE CMS LOCK IS REQUESTED  */ 02990000
*                       /* TO BE FREED .THE LOCAL LOCK(AND POSSIBLY  */ 02991000
*                       /* THE CMS LOCK) IS HLED ON ENTRY BUT SRM IS */ 02992000
*                       /* THE OWNER OF THE LOCAL LOCK. THE LOCAL    */ 02993000
*                       /* MODE WILL BE RETAINED INPUT CONDITIONS    */ 02994000
*                       /* .TARGRTCA(R5)-POINTS TO THE ACTIVE RTCA   */ 02995000
*                       /* .SDWAACF3,SDWAACF4, FIELDS OF THE ACTIVE  */ 02996000
*                       /* RTCA INDICATE THOSE LOCKS TO BE FREED     */ 02997000
*                       /* .RT1WSRMD,RT1TLOC FIELDS OF THE RTM1 WORK */ 02998000
*                       /* AREA PORTION OF THE INTERRUPTED STACK     */ 02999000
*                       /* INDICATE THE MODE OF THE CPU AT TIME OF   */ 03000000
*                       /* ERROR AND WHETHER SRM OWNS THE LOCAL LOCK */ 03001000
*                       /* .ASXBFRWA-POINTS TO THE LOCAL RTCA - THE  */ 03002000
*                       /* LOCKMASK INDICATING LOCKS HELD ON ENTRY TO*/ 03003000
*                       /* THE FRR IS LOCATED IN THE RTM1 WORK AREA  */ 03004000
*                       /* PROTION OF THE INTERRUPTED STACK OUTPUT   */ 03005000
*                       /* CONDITIONS .GLOBAL-TO-LOCAL MODE--THE     */ 03006000
*                       /* CONTENTS OF THE BLOCAL RTCA ARE MOVED IN  */ 03007000
*                       /* TOTAL TO THE LOCAL RTCA. TARGRTCA(R2)     */ 03008000
*                       /* POINTS TO THE LOCAL RTCA.RT1WMODE FIELD OF*/ 03009000
*                       /* THE RTM1 WORK AREA PORTION OF THE         */ 03010000
*                       /* INTERRUPTED STACK INDICATES LOCAL MODE    */ 03011000
*                       /* .GLOBAL-TO-SRB MODE--THE CONTENTS OF THE  */ 03012000
*                       /* GLOBAL RTCA IS MOVED IN TOTAL TO THE      */ 03013000
*                       /* ACQUIRED SRB RTCA,THE SDWALNTH AND        */ 03014000
*                       /* SDWASPID FIELDS OF THE SRB RTCA ARE SET TO*/ 03015000
*                       /* THE LENGTH (584 BYTES) AND SUBPOOL ID(245)*/ 03016000
*                       /* OF THE ACQUIRED SRB RTCA TARGRTCA(R5)     */ 03017000
*                       /* POINTS TO THE ACQUIRED SRB RTCA AND       */ 03018000
*                       /* RT1WMODE IS SET TO INDICATE SRB MODE. IF  */ 03019000
*                       /* THE RTCA COULD NOT BE ACQUIRED BECAUSE OF */ 03020000
*                       /* A LACK OF SQA(245) THE LOCAL RTCA WILL BE */ 03021000
*                       /* USED IN PLACE OF THE SRB RTCA. THE OUTPUT */ 03022000
*                       /* IN THIS CASE IS IDENTICAL TO THAT OF A    */ 03023000
*                       /* GLOBAL-TO-LOCAL MODE TRANSFER(SEE ABOVE)  */ 03024000
*                       /* .LOCAL-TO-SRB MODE--THE CONTENTS OF THE   */ 03025000
*                       /* LOCAL RTCA IS MOVED IN TOTAL TO THE       */ 03026000
*                       /* ACQUIRED SRB RTCA,THE SDWALNTH AND        */ 03027000
*                       /* SDWASPID FIELD OF THE ACQUIRED RTCA       */ 03028000
*                       /* INITIALIZED WITH THE WITH THE LENGTH(584) */ 03029000
*                       /* AND SUBPOOL ID (245) OF THE ACQUIRED SRB  */ 03030000
*                       /* RTCA. IF SQA(245) WAS UNAVAILABLE AND THE */ 03031000
*                       /* RTCA COULD NOT BE OBTAINED THEN THE LOCAL */ 03032000
*                       /* RTCA WILL BE CONTINUED TO BE USED, THE    */ 03033000
*                       /* MODE REMAINING THE SAME .NO MODE CHANGE - */ 03034000
*                       /* TARGRTCA(R5) REMAINS UNCHANGED FROM ITS   */ 03035000
*                       /* INPUT STATE AND MODE(RT1WSRMD) REMAIN     */ 03036000
*                       /* UNCHANGED                                 */ 03037000
*                       /*                                           */ 03038000
*                       /*********************************************/ 03039000
*                                                                  0665 03040000
*                       RFY                                        0665 03041000
*                        (R3,                                      0665 03042000
*                         R15) RSTD;                               0665 03043000
*                       R3=LKTOFREE&&LOCKMASK;/* ISOLATE THOSE LOCKS    03044000
*                                      THAT WILL STILL BE HELD AFTER    03045000
*                                      THE EVENTUAL LOCK FREE REQUEST   03046000
*                                      BY THE FRR IS HONORED         */ 03047000
         L     @01,RT1WRTCA(,R8)                                   0666 03048000
         LH    R3,LOCKMASK+512(,@01)                               0666 03049000
         N     R3,@CF03531                                         0666 03050000
         LH    @14,LKTOFREE(,R5)                                   0666 03051000
         N     @14,@CF03531                                        0666 03052000
         XR    R3,@14                                              0666 03053000
*                       RFY                                        0667 03054000
*                         R1 RSTD;                                 0667 03055000
*                       GENERATE CODE;                             0668 03056000
*                                      /*CHECK FOR HOLDING SPIN LOCKS*/ 03057000
         SETLOCK TEST,TYPE=SPIN,REGS=(R1)                               03058000
*                       RFY                                        0669 03059000
*                         R1 UNRSTD;                               0669 03060000
*                       IF PSASUPER=NULL/* IF THERE ARE NO SUPER BITS   03061000
*                                      ON THAT INDICATE SUPERVISOR 0670 03062000
*                                      CONTROL MODE--DISABLED        */ 03063000
*                           &R8=PSANSTK THEN/* AND THE INTERRUPTED 0670 03064000
*                                      STACK IS NOT A SUPER STACK  0670 03065000
*                                      WHICH IMPLIES DISABLEDMENT  0670 03066000
*                                      THEN                          */ 03067000
         SLR   @14,@14                                             0670 03068000
         CL    @14,PSASUPER                                        0670 03069000
         BNE   @RF00670                                            0670 03070000
         C     R8,PSANSTK                                          0670 03071000
         BNE   @RF00670                                            0670 03072000
*                         IF R15=NULL THEN/* CHECK TO SE IF GLOBAL 0671 03073000
*                                      SPIN LOCKS ARE HELD--IMPLYING    03074000
*                                      DISABLEMENT                   */ 03075000
         CR    R15,@14                                             0671 03076000
         BNE   @RF00671                                            0671 03077000
*                           IF R3=NULL THEN/* IF GLOBAL SPIN LOCKS 0672 03078000
*                                      ARE HELD AND THE REQUESTED  0672 03079000
*                                      FREEING OF LOCKS WILL RESULT     03080000
*                                      IN NO LOCKS HELD BY THE CPU 0672 03081000
*                                      THEN THE TRANSITION OF MODES     03082000
*                                      WILL BE FROM GLOBALLY LOCKED     03083000
*                                      MODE TO SRB MODE PROVIDED THAT   03084000
*                                      SRB MODE WAS ACTIVE AT THE  0672 03085000
*                                      TIME OF THE ERROR             */ 03086000
         CR    R3,@14                                              0672 03087000
         BNE   @RF00672                                            0672 03088000
*                             IF MODESRB=ON THEN/* IF SRB MODE WAS 0673 03089000
*                                      ACTIVE AT THE TIME OF THE   0673 03090000
*                                      ERROR THEN GLOBAL TO SRB MODE    03091000
*                                      WILL TAKE PLACE               */ 03092000
         TM    MODESRB+81(R8),B'00000010'                          0673 03093000
         BNO   @RF00673                                            0673 03094000
*                               CALL XGTOS;/* TRANSFER FROM GLOBAL 0674 03095000
*                                      MODE TO SRB MODE              */ 03096000
         BAL   @14,XGTOS                                           0674 03097000
*                             ELSE  /* IF SRB MODE IS NOT ACTIVE AND    03098000
*                                      NO LOCKS WILL BE HELD AFTER 0675 03099000
*                                      THE REQUESTED FREEING OF LOCKS   03100000
*                                      THEN THE LOCK FREEING REQUEST    03101000
*                                      WILL BE IGNORED TO AVOID SRM     03102000
*                                      ENTERING TASK MODE            */ 03103000
*                               LKTOFREE=HWRDZERO;/* INDICATE IN THE    03104000
*                                      RTCA THAT NO LOCKS ARE TO BE     03105000
*                                      FREED                         */ 03106000
         B     @RC00673                                            0675 03107000
@RF00673 MVC   LKTOFREE(2,R5),@CB03189                             0675 03108000
*                           ELSE    /* IF LOCKS WILL STILL BE HELD 0676 03109000
*                                      AFTER SRM FREES THE REQUESTED    03110000
*                                      LOCKS THEN IT MUST BE       0676 03111000
*                                      DETERMINED IF WHETHER LOCAL 0676 03112000
*                                      MODE WILL REMAIN OR WHETHER NO   03113000
*                                      MODE CHANGE FROM THE GLOBAL 0676 03114000
*                                      SPIN LOCK MODE WILL OCCUR     */ 03115000
*                             IF R3=LOCALLOK/* IF THE LOCAL LOCK OR     03116000
*                                      LOCAL AND CMS LOCK            */ 03117000
*                                 |R3=CMSLOCLK/* WILL BE THE ONLY  0676 03118000
*                                      LOCKS HELD                    */ 03119000
*                               THEN/* AFTER THE REQUESTED FREEING OF   03120000
*                                      LOCKS THEN THE MODE TRANSITION   03121000
*                                      IS FROM GLOBAL SPIN LOCK MODE    03122000
*                                      TO LOCALLY LOCKED MODE        */ 03123000
         B     @RC00672                                            0676 03124000
@RF00672 C     R3,@CF03196                                         0676 03125000
         BE    @RT00676                                            0676 03126000
         C     R3,@CF03178                                         0676 03127000
         BNE   @RF00676                                            0676 03128000
@RT00676 DS    0H                                                  0677 03129000
*                               CALL XGTOL;/* TRANSFER FROM GLOBAL 0677 03130000
*                                      MODE TO LOCAL MODE            */ 03131000
         BAL   @14,XGTOL                                           0677 03132000
*                             ELSE                                 0678 03133000
*                               ;   /* IF THERE WILL STILL BE GLOBAL    03134000
*                                      SPIN LOCKS HELD AFTER THE   0678 03135000
*                                      REQUESTED FREEING OF THE LOCKS   03136000
*                                      INDICATED BY THE FRR THEN NO     03137000
*                                      MODE CHANGE WILL OCCUR AND  0678 03138000
*                                      GLOBAL SPIN LOCKED MODE WILL     03139000
*                                      REMAIN IN EFFECT              */ 03140000
@RF00676 DS    0H                                                  0679 03141000
*                         ELSE      /* IF NO GLOBAL SPIN LOCKS ARE 0679 03142000
*                                      HELD AND SUPER MODE IS NOT  0679 03143000
*                                      ACTIVE AND THE INTERRUPTED IS    03144000
*                                      THE NORMAL FRR STACK THEN   0679 03145000
*                                      EITHER THE SYSTEM IS IN LOCAL    03146000
*                                      MODE OR IS DISABLED WITH NO 0679 03147000
*                                      GLOBAL SPIN LOCKS HELD(SHOULD    03148000
*                                      NOT OCCURR) OR IS IN STRICTLY    03149000
*                                      SRB MODE THEN                 */ 03150000
*                           IF MODEDIS=ON THEN/* IN THIS CASE IF THE    03151000
*                                      MODE AT THE TIME OF THE ERROR    03152000
*                                      INDICATES DISABLEMENT THEN  0679 03153000
*                                      EITHER SUPER MODE WAS LEFT OR    03154000
*                                      OR A FRR RUNNING DISABLED WITH   03155000
*                                      NO LOCKS HELD IS REQUESTING 0679 03156000
*                                      PERCOLATION                   */ 03157000
         B     @RC00671                                            0679 03158000
@RF00671 LA    @14,81                                              0679 03159000
         ALR   @14,R8                                              0679 03160000
         TM    MODEDIS(@14),B'01000000'                            0679 03161000
         BNO   @RF00679                                            0679 03162000
*                             IF R3=NULL THEN/* IF NO LOCKS WILL BE     03163000
*                                      HELD AFTER THE REQUESTED    0680 03164000
*                                      FREEING OF LOCKS TAKES PLACE     03165000
*                                      THEN                          */ 03166000
         LTR   R3,R3                                               0680 03167000
         BNZ   @RF00680                                            0680 03168000
*                               IF MODESRB=ON THEN/* IF SRB MODE WAS    03169000
*                                      ACTIVE AT THE TIME OF THE   0681 03170000
*                                      ERROR TRANSITION OF GLOBAL  0681 03171000
*                                      MODE TO SRB MODE WILL TAKE  0681 03172000
*                                      PLACE                         */ 03173000
         TM    MODESRB(@14),B'00000010'                            0681 03174000
         BNO   @RF00681                                            0681 03175000
*                                 CALL XGTOS;/* GO FROM GLOBAL TO SRB   03176000
*                                      MODE                          */ 03177000
         BAL   @14,XGTOS                                           0682 03178000
*                               ELSE/* IF SRB MODE IS NOT ACTIVE AT     03179000
*                                      THE TIME OF THE ERROR SRM WILL   03180000
*                                      ENTER TASK MODE WHEN THE    0683 03181000
*                                      REQUESTED LOCKS ARE FREED-- 0683 03182000
*                                      THE LOCK FREEING REQUEST IS 0683 03183000
*                                      NEGATED                       */ 03184000
*                                 LKTOFREE=HWRDZERO;/* NEGATE FREEING   03185000
*                                      OF LOCKS                      */ 03186000
         B     @RC00681                                            0683 03187000
@RF00681 MVC   LKTOFREE(2,R5),@CB03189                             0683 03188000
*                             ELSE  /* IF LOCKS WILL STILL BE HELD 0684 03189000
*                                      AFTER THE REQUESTED LOCKS ARE    03190000
*                                      FREED THEN SINCE NO GLOBAL  0684 03191000
*                                      SPIN LOCKS ARE HELD THE LOCKS    03192000
*                                      STILL HELD MUST BE AT LEAST 0684 03193000
*                                      THE LOCAL LOCK HENCE A CHANGE    03194000
*                                      FROM GLOBAL MODE TO LOCAL MODE   03195000
*                                      IS VALID                      */ 03196000
*                               CALL XGTOL;/* GO FROM GLOBAL TO LOCAL   03197000
*                                      MODE                          */ 03198000
         B     @RC00680                                            0684 03199000
@RF00680 BAL   @14,XGTOL                                           0684 03200000
*                           ELSE    /* IF A EXIT FROM SUPER MODE HAS    03201000
*                                      NOT TAKEN PLACE AND THE FRR 0685 03202000
*                                      REQUESTING PERCOLATION IS NOT    03203000
*                                      RUNNING DISABLED HOLDING NO 0685 03204000
*                                      LOCKS THEN THE MODE MUST BE 0685 03205000
*                                      LOCALLY LOCKED OR STRICTLY SRB   03206000
*                                      MODE A TRANSITION FROM LOCALLY   03207000
*                                      LOCKED MODE TO SRB MODE IS  0685 03208000
*                                      POSSIBLE OR NO              0685 03209000
*                                      TRANSITION(MAINTAINING SRB  0685 03210000
*                                      MODE) IS POSSIBLE             */ 03211000
*                             IF R3=NULL/* IF NO LOCKS WILL BE HELD     03212000
*                                      AFTER THE REQUESTED LOCKS ARE    03213000
*                                      FREED                         */ 03214000
*                                 &RT1TLOCL^=ON/* AND THE SRM DID NOT   03215000
*                                      ACQUIRE THE LOCAL LOCK WHICH     03216000
*                                      IS HELD                       */ 03217000
*                                 &LOCKMASK^=HWRDZERO/* AS INDICATED    03218000
*                                      BY THE LOCKMASK               */ 03219000
*                                 &MODESRB=ON THEN/* AND SRB MODE IS    03220000
*                                      ACTIVE AT THE TIME OF THE   0685 03221000
*                                      ERROR THEN                    */ 03222000
         B     @RC00679                                            0685 03223000
@RF00679 LTR   R3,R3                                               0685 03224000
         BNZ   @RF00685                                            0685 03225000
         TM    RT1TLOCL(R8),B'00100000'                            0685 03226000
         BO    @RF00685                                            0685 03227000
         L     @01,RT1WRTCA(,R8)                                   0685 03228000
         CLC   LOCKMASK+512(2,@01),@CB03189                        0685 03229000
         BE    @RF00685                                            0685 03230000
         TM    MODESRB+81(R8),B'00000010'                          0685 03231000
         BNO   @RF00685                                            0685 03232000
*                               CALL XLTOS;/* GO FROM LOCAL MODE TO     03233000
*                                      SRB MODE                      */ 03234000
         BAL   @14,XLTOS                                           0686 03235000
*                             ELSE  /* IF THE LOCAL LOCK WILL STILL     03236000
*                                      BE HELD AFTER THE REQUESTED 0687 03237000
*                                      LOCKS ARE FREED OR IF SRM   0687 03238000
*                                      ACQUIRED THE LOCAL LOCK TO  0687 03239000
*                                      SUPPORT AN SRB ERROR OR IF SRB   03240000
*                                      MODE WAS NOT ACTIVE AT THE  0687 03241000
*                                      TIME OF THE ERROR OR IF NO  0687 03242000
*                                      LOCKS ARE HELD AND SRB MODE IS   03243000
*                                      ACTIVE THEN THE LOCK FREEING     03244000
*                                      REQUEST WILL DENIED(MODE WILL    03245000
*                                      NOT CHANGE)                   */ 03246000
*                               LKTOFREE=HWRDZERO;/* NEGATE THE LOCK    03247000
*                                      FREEING REQUEST(NO MODE     0687 03248000
*                                      CHANGE)                       */ 03249000
         B     @RC00685                                            0687 03250000
@RF00685 MVC   LKTOFREE(2,R5),@CB03189                             0687 03251000
*                       ELSE                                       0688 03252000
*                         ;         /* IF THE SYSTEM IS IN SUPER MODE   03253000
*                                      OR THE INTERRUPTED STACK IS A    03254000
*                                      SUPER STACK PERCOLATION WILL     03255000
*                                      BE IN THE SAME MODE AS EXISTED   03256000
*                                      FOR THE FRR REQUESTING      0688 03257000
*                                      PERCOLATION                   */ 03258000
@RF00670 DS    0H                                                  0689 03259000
*                       RFY                                        0689 03260000
*                        (R3,                                      0689 03261000
*                         R15) UNRSTD;                             0689 03262000
@RC00670 DS    0H                                                  0690 03263000
*                     END;                                         0690 03264000
*                   ELSE            /* OTHERWISE INDICATE RETRY OR 0691 03265000
*                                      RESUME                        */ 03266000
*                     DO;                                          0691 03267000
         B     @RC00643                                            0691 03268000
@RF00643 DS    0H                                                  0692 03269000
*                       R5=NULL;                                   0692 03270000
         SLR   R5,R5                                               0692 03271000
*                     END;                                         0693 03272000
*                 END;                                             0694 03273000
*             END;                                                 0695 03274000
*           ELSE                    /* IF RECURSION IS ACTIVE THEN 0696 03275000
*                                      PERCOLATION IS ASSUMED        */ 03276000
*             DO;                   /* INDICATE IN THE RTCA THAT   0696 03277000
*                                      PERCOLATION IS NECESSARY      */ 03278000
         B     @RC00604                                            0696 03279000
@RF00604 DS    0H                                                  0697 03280000
*               R0=PERCLATE;        /* SRM WILL PERFORM PERCOLATION  */ 03281000
         LA    R0,2                                                0697 03282000
*               SDWARCDE=SDWACWT;   /* INDICATE PERCOLATION AND    0698 03283000
*                                      CONTINUE WITH TERMINATION     */ 03284000
         MVI   SDWARCDE(R5),X'00'                                  0698 03285000
*               SDWARTYA=NULL;      /* WITH NO RETRY ADDRESS         */ 03286000
         SLR   @12,@12                                             0699 03287000
         ST    @12,SDWARTYA(,R5)                                   0699 03288000
*               SDWASPIN=OFF;       /* WITH NO VALID SPIN EXISTING   */ 03289000
         NI    SDWASPIN(R5),B'11011111'                            0700 03290000
*               SDWACPUA=NULL;      /* WITH NO VALID CPU TO SIGP     */ 03291000
         ST    @12,SDWACPUA(,R5)                                   0701 03292000
*             END;                                                 0702 03293000
*                                                                  0702 03294000
*/* ******************************************************************/ 03295000
*/* THIS SEGMENT PERFORMS THE FOLLOWING FUNCTIONS NECESSARY          */ 03296000
*/* TO HONOR THE LOCK FREEING REQUESTS BY FRRS AND TO VALIDATE       */ 03297000
*/* THOSE LOCKS ADDITIONALLY ACQUIRED BY THE FRR AND TO INSURE THAT  */ 03298000
*/* SUCH ADDITIONALLY ACQUIRED LOCKS ARE ALSO FREED.                 */ 03299000
*/*  1. FREE LOCKS REQUESTED BY A FRR WHEN THE LOCKS REQUESTED TO    */ 03300000
*/*     BE FREED ARE AMONG THOSE HELD PRIOR TO THE FRR GETTING       */ 03301000
*/*     CONTROL WHERE THE FRR FAILED BEFORE RETURNING TO SRM         */ 03302000
*/*  2. FREE LOCKS REQUESTED BY A FRR WHEN THE LOCKS REQUESTED TO    */ 03303000
*/*     BE FREED ARE AMONG THOSE HELD PRIOR TO THE FRR GETTING       */ 03304000
*/*     CONTROL WHERE THE FRR FAILED BEFORE RETURNING TO SRM         */ 03305000
*/*  3. SAVES THE ERROR INFORMATION AT THE TIME OF THE FRR FAILURE   */ 03306000
*/*     IF THE LAST FRR GIVEN CONTROL FAILED                         */ 03307000
*/* ******************************************************************/ 03308000
*                                                                  0703 03309000
*           DO;                                                    0703 03310000
@RC00604 DS    0H                                                  0704 03311000
*             IF R7=ACTIVE THEN     /* IF SRM IS IN RECURSION MODE 0704 03312000
*                                      THEN NO LOCKS WILL BE FREED,     03313000
*                                      PROVIDED NO NESTED FRRS ARE ON   03314000
*                                      THE INTERRUPTED STACK LOCK  0704 03315000
*                                      REQUESTS IN THE RTCA WILL BE     03316000
*                                      CARRIED OVER IN THE RTCA THAT    03317000
*                                      WILL BE USED TO PROCESS THE 0704 03318000
*                                      RECURSIVE ERROR               */ 03319000
         C     R7,@CF00079                                         0704 03320000
         BNE   @RF00704                                            0704 03321000
*               DO;                                                0705 03322000
*                                                                  0705 03323000
*                 /***************************************************/ 03324000
*                 /*                                                 */ 03325000
*                 /* THIS SEGMENT MARKS ALL FRR ENTRIES ON THE       */ 03326000
*                 /* INTERRUPTED STACK WHICH REPRESENT NESTED FRRS.  */ 03327000
*                 /* THE FRR ENTRIES THAT ARE CANDIDATES FOR MARKING */ 03328000
*                 /* IN THIS MANNER ARE ALL THOSE THAT EXIST BETWEEN */ 03329000
*                 /* AND INCLUDING THE CURRENT FRR ENTRY AND THE THE */ 03330000
*                 /* FRR ENTRY ADRRES SAVED PRIOR TO ROUTING TO THE  */ 03331000
*                 /* FRR ALL FRR ENTRIES DEFINING FRRS WHICH FALL IN */ 03332000
*                 /* THIS RANGE WERE ESTABLISHED AFTER SRM ROUTED TO */ 03333000
*                 /* THE ORIGINAL FRR INPUT - CURRSTK REGISTER(R8)   */ 03334000
*                 /* POINTS TO THE INTERRUPTED FRR STACK - RT1WRTCA  */ 03335000
*                 /* FIELD OF THE RTM1 WORK AREA PORTION OF THE      */ 03336000
*                 /* INTERRUPTED STACK POINTS TO THE ACTIVE RTCA     */ 03337000
*                 /* PASSED TO THE FRR - SRMTGFRR FIELD IN THE SRM   */ 03338000
*                 /* REGISTER SAVE AREA ASSOCIATED WITH THE RTCA     */ 03339000
*                 /* PASSED TO THE FRR CONTAINS THE ADDRESS OF THE   */ 03340000
*                 /* FRR ENTRY CONTAINING THE FRR ADDRESS OF THE FRR */ 03341000
*                 /* GIVEN CONTROL - WORKREG REGISTER(R4) USED AS A  */ 03342000
*                 /* WORK REGISTER OUTPUT - THE FRRSNEST FLAG IN EACH*/ 03343000
*                 /* NESTED FRR ENTRY IS TURNED ON NOTES -           */ 03344000
*                 /* REGS(R0,R2,R5,R6,R7,R8)MUST REMAIN UNCHANGED    */ 03345000
*                 /* THROUGHOUT THIS SEGMENT - REGISTER R4 IS USED AS*/ 03346000
*                 /* A WORK REGISTER -                               */ 03347000
*                 /* REGISTERS(R3,R9,R11,R12,R13,R14,R15) ARE        */ 03348000
*                 /* VOLATILE THROUGHOUT THIS SEGMENT                */ 03349000
*                 /*                                                 */ 03350000
*                 /***************************************************/ 03351000
*                                                                  0706 03352000
*                 IF FRRSCURR>SRMTGFRR THEN/* IF THE CURRENT FRR   0706 03353000
*                                      ENTRY ON THE INTERRUPTED STACK   03354000
*                                      HAS AN ADDRESS GREATER THAN 0706 03355000
*                                      THE FRR ENTRY ADDRESS OF THE     03356000
*                                      LAST FRR TO GET CONTROL THEN     03357000
*                                      THE INTERRUPTED STACK HAS AT     03358000
*                                      LEAST ONE NESTED FRR          */ 03359000
         L     @12,FRRSCURR(,R8)                                   0706 03360000
         L     @01,RT1WRTCA(,R8)                                   0706 03361000
         C     @12,SRMTGFRR+512(,@01)                              0706 03362000
         BNH   @RF00706                                            0706 03363000
*                   DO;             /* LOOP THRU ALL ENTRIES IN THE     03364000
*                                      INTERRUPTED STACK BEGINNING 0707 03365000
*                                      WITH THE CURRENT AND UNTIL THE   03366000
*                                      FRR ENTRY OF THE LAST FRR TO     03367000
*                                      GET CONTROL IS FOUND          */ 03368000
*                     RFY                                          0708 03369000
*                       R4 RSTD;    /* RESTRICT A WORK REG           */ 03370000
*                     R4=FRRSCURR;  /* INITIALIZE THE LOOP WITH THE     03371000
*                                      ADDRESS OF THE CURRENT FRR  0709 03372000
*                                      ENTRY                         */ 03373000
         LR    R4,@12                                              0709 03374000
*                     RFY                                          0710 03375000
*                       FRRSENTR BASED(R4);                        0710 03376000
*                     DO WHILE R4^=SRMTGFRR;/* LOOP UNTIL THE FRR  0711 03377000
*                                      ENTRY OF THE LAST FRR TO GET     03378000
*                                      CONTROL IS FOUND              */ 03379000
         B     @DE00711                                            0711 03380000
@DL00711 DS    0H                                                  0712 03381000
*                       FRRSNEST=ON;/* FOR EACH FRR ENTRY SCANNED IN    03382000
*                                      THIS MANNER INDICATE IN THE 0712 03383000
*                                      ENTRY THAT IT CORRESPONDS TO A   03384000
*                                      NESTED FRR                    */ 03385000
         OI    FRRSNEST(R4),B'01000000'                            0712 03386000
*                       R4=R4-FRRSESZE;/* DECREMENT TO NEXT FRR ENTRY*/ 03387000
         SL    R4,@CF00122                                         0713 03388000
*                     END;                                         0714 03389000
@DE00711 L     @01,RT1WRTCA(,R8)                                   0714 03390000
         C     R4,SRMTGFRR+512(,@01)                               0714 03391000
         BNE   @DL00711                                            0714 03392000
*                     RFY                                          0715 03393000
*                       FRRSENTR BASED(FRRSCURR);                  0715 03394000
*                     RFY                                          0716 03395000
*                       R4 UNRSTD;  /* RELEASE THE WORK REG          */ 03396000
*                   END;                                           0717 03397000
*                 ELSE                                             0718 03398000
*                   ;               /* IF THERE ARE NO NESTED FRRS ON   03399000
*                                      THE INTERRUPTED STACK THE   0718 03400000
*                                      MARKING AS SUCH OF THE FRR  0718 03401000
*                                      ENTRIES IS NOT NECESSARY      */ 03402000
@RF00706 DS    0H                                                  0719 03403000
*                 IF FRRSNEST^=ON THEN/* IF THERE ARE NO NESTED FRRS    03404000
*                                      ON THE INTERRUPTED STACK THEN    03405000
*                                      LOCKS INDICATED IN THE RTCA 0719 03406000
*                                      CAN BE FREED AND PERCOLATION     03407000
*                                      CAN BE PERFORMED              */ 03408000
         L     @01,FRRSCURR(,R8)                                   0719 03409000
         TM    FRRSNEST(@01),B'01000000'                           0719 03410000
         BO    @RF00719                                            0719 03411000
*                   DO;                                            0720 03412000
*                     SDWAPERC=ON;  /* INDICATE IN THE RTCA THAT THE    03413000
*                                      FRR TO NEXT GET CONTROL WILL     03414000
*                                      BE PERCOLATED TO              */ 03415000
         OI    SDWAPERC(R5),B'00010000'                            0721 03416000
*                     RFY                                          0722 03417000
*                       R1 RSTD;                                   0722 03418000
*                     RFY                                          0723 03419000
*                      (R4,                                        0723 03420000
*                       R3,                                        0723 03421000
*                       R11) RSTD;                                 0723 03422000
*                     CALL LOCKVERF;/* VERIFY THAT THE FRR CAUSING 0724 03423000
*                                      RECURSION DID NOT OBTAIN ANY     03424000
*                                      NEW LOCKS PRIOR TO ITS FAILURE*/ 03425000
         BAL   @14,LOCKVERF                                        0724 03426000
*                     R3=LKTOFREE;                                 0725 03427000
         LH    R3,LKTOFREE(,R5)                                    0725 03428000
         N     R3,@CF03531                                         0725 03429000
*                     R1=R1|R3;     /* REG1 NOW CONTAINS THE BIT   0726 03430000
*                                      SETTINGS INDICATING NOT ONLY     03431000
*                                      LOCKS TO FREE IN THE RTCA BUT    03432000
*                                      ALSO THOSE LOCKS THAT WERE  0726 03433000
*                                      ACQUIRED BY THE FRR CAUSING 0726 03434000
*                                      THE RECURSIVE ERROR INTO SRM  */ 03435000
         OR    R1,R3                                               0726 03436000
*                     RFY                                          0727 03437000
*                      (R4,                                        0727 03438000
*                       R3,                                        0727 03439000
*                       R11) UNRSTD;                               0727 03440000
*                     CALL FRLOCKS; /* GO FREE LOCKS REQUESTED IN THE   03441000
*                                      RTCA                          */ 03442000
         BAL   @14,FRLOCKS                                         0728 03443000
*                     RFY                                          0729 03444000
*                       R1 UNRSTD;                                 0729 03445000
*                   END;                                           0730 03446000
*                 ELSE                                             0731 03447000
*                   ;               /* IF A NESTED FRR EXISTS ON THE    03448000
*                                      INTERRUPTED STACK THEN LOCKS     03449000
*                                      WILL NOT BE FREED AND THE NEXT   03450000
*                                      FRR TO GET CONTROL WILL     0731 03451000
*                                      INHIBITED FROM RETRYING       */ 03452000
*                                                                  0731 03453000
@RF00719 DS    0H                                                  0732 03454000
*                 /***************************************************/ 03455000
*                 /*                                                 */ 03456000
*                 /* WHEN RECURSION IS IN EFFECT THIS SEGMENT        */ 03457000
*                 /* PERFORMS THE FUNCTION OF SAVING THE RTCA PASSED */ 03458000
*                 /* TO THE FRR THAT FAILED SO THE LOCKS TO FREE     */ 03459000
*                 /* REQUEST FLAGS(SDWAACF3,SDWAACF4),LOCKWORDS      */ 03460000
*                 /* (SDWALKWA),CLEANUP AND PERCOLATE FLAG(SDWACLUP),*/ 03461000
*                 /* AND PERCOLATION FLAG(SDWAPERC) CAN BE CARRIED   */ 03462000
*                 /* OVER TO THE NEW RTCA WHICH WILL BE USED TO      */ 03463000
*                 /* PROCESS THE RECURSIVE ERROR INPUT - RT1WRTCA    */ 03464000
*                 /* FIELD OF THE RTM1 WORK AREA PORTION OF THE      */ 03465000
*                 /* INTERRUPTED STACK POINTS TO THE RTCA PASSED TO  */ 03466000
*                 /* THE FRR THAT FAILED CAUSING THE RECURSION -     */ 03467000
*                 /* CURRSTK REGISTER(R8) POINTS TO THE INTERRUPTED  */ 03468000
*                 /* STACK OUTPUT - OLDRTCA REGISTER(R0) CONTAINS THE*/ 03469000
*                 /* ADDRESS OF THE RTCA PASSED TO THE FRR CAUSING   */ 03470000
*                 /* THE RECURSION NOTES - REGISTERS(R2,R5,R6,R7,R8) */ 03471000
*                 /* MUST REMAIN UNCHANGED ACROSS THIS SEGMENT       */ 03472000
*                 /*                                                 */ 03473000
*                 /***************************************************/ 03474000
*                                                                  0732 03475000
*                 DO;                                              0732 03476000
*                   R0=RT1WRTCA;    /* SAVE ADDRESS OF OLD RTCA      */ 03477000
         L     R0,RT1WRTCA(,R8)                                    0733 03478000
*                 END;                                             0734 03479000
*                 R5=NULL;          /* ZERO RTCA REG TO INDICATE THAT   03480000
*                                      EXIT PROCESSING SEGMENT(EXIT)    03481000
*                                      IS TO BE EVENTUALLY ENTERED   */ 03482000
         SLR   R5,R5                                               0735 03483000
*               END;                                               0736 03484000
*             ELSE                  /* IF SRM IS NOT IN RECURSION  0737 03485000
*                                      MODE AND                      */ 03486000
*               IF R5^=NULL THEN    /* IF RETRY OR RESUME IS NOT   0737 03487000
*                                      REQUESTED THEN LOCKS REQUESTED   03488000
*                                      TO BE FREED CAN BE FREED      */ 03489000
         B     @RC00704                                            0737 03490000
@RF00704 LTR   R5,R5                                               0737 03491000
         BZ    @RF00737                                            0737 03492000
*                 DO;                                              0738 03493000
*                   RFY                                            0739 03494000
*                     R1 RSTD;                                     0739 03495000
*                   R1=LKTOFREE;                                   0740 03496000
         LH    R1,LKTOFREE(,R5)                                    0740 03497000
         N     R1,@CF03531                                         0740 03498000
*                   CALL FRLOCKS;   /* FREE THE LOCKS REQUESTED IN 0741 03499000
*                                      THE RTCA                      */ 03500000
         BAL   @14,FRLOCKS                                         0741 03501000
*                   RFY                                            0742 03502000
*                     R1 UNRSTD;                                   0742 03503000
*                 END;                                             0743 03504000
*               ELSE                                               0744 03505000
*                 ;                 /* IF RETRY OR RESUME IS       0744 03506000
*                                      REQUESTED THE NO LOCKS ARE  0744 03507000
*                                      FREED                         */ 03508000
@RF00737 DS    0H                                                  0745 03509000
*           END;                                                   0745 03510000
*                                                                  0745 03511000
@RC00704 DS    0H                                                  0746 03512000
*/* ******************************************************************/ 03513000
*/* THIS SEGMENT PERFORMS THE PERCOLATION PROCESS FROM THE LAST      */ 03514000
*/* FRR TO GET CONTROL TO THE NEXT AVAILABLE FRR ON THE              */ 03515000
*/* INTERRUPTED FRR STACK.  THIS PERCOLATION FUNCTION ACCOMODATES    */ 03516000
*/* THE FOLLOWING FRR STACK SITUATIONS:                              */ 03517000
*/*  1. THE FRR TO LAST GET CONTROL DID NOT EITHER ADD FRRS TO THE   */ 03518000
*/*     NOR DELETE FRRS FROM THE STACK.  THAT IS, THE CURRENT FRR    */ 03519000
*/*     ON THE FRR STACK IS THE ONE LAST GIVEN CONTROL               */ 03520000
*/*  2. THE FRR TO LAST GET CONTROL ADDED A NUMBER OF FRRS TO THE    */ 03521000
*/*     FRR STACK.  THAT IS THE CURRENT FRR ON THE STACK IS A FRR    */ 03522000
*/*     ADDED BY THE FRR TO LAST RECEIVE CONTROL                     */ 03523000
*/*  3. THE FRR TO LAST GET CONTROL DELETED A NUMBER OF FRRS FROM THE*/ 03524000
*/*     FRR STACK.  THAT IS THE CURRENT FRR ON THE STACK IS ONE THAT */ 03525000
*/*     WAS ADDED PRIOR TO THE ADDITION OF THE FRR THAT LAST         */ 03526000
*/*     CONTROL                                                      */ 03527000
*/* PERCOLATION FOR CONDITION 1 MERELY INVOLVES THE ZEROING OF SRM   */ 03528000
*/* FLAGS IN THE 2ND WORD OF THE CURRENT FRR ENTRY THEN PERFORMING   */ 03529000
*/* A SETFRR WITH THE DELETE OPTION TO MAKE THE CURRENT ENTRY ON THE */ 03530000
*/* FRR STACK THE ONE FOR THE FRR ADDED RIGHT BEFORE THE ONE DELETED */ 03531000
*/* PERCOLATION FOR CONDITION 1 AND 2 INVOLVE TWO STEPS:             */ 03532000
*/*  A.INSURING THAT THE SRM FLAGS IN THE SECOND WORD OF EACH FRR    */ 03533000
*/*    ENTRY EITHER ABOVE(CONDITION2) OR BELOW(CONDITION3) THE FRR   */ 03534000
*/*    ENTRY FOR THE LAST FRR GIVEN CONTROL ARE ZEROED               */ 03535000
*/*  B.AFTER STEP A IS COMPLETE NORMAL PERCOLATION DESCRIBED FOR     */ 03536000
*/*    CONDITION 1 CAN TAKE PLACE                                    */ 03537000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 03538000
*/*  - CURRSTK REGISTER(R8) CONTAINS THE POINTER TO THE INTERRUPTED  */ 03539000
*/*    FRR STACK FOR WHICH THE PERCOLATION PROCESS WILL BE PERFORMED */ 03540000
*/*  - RT1WRTCA FIELD OF THE RTM1 WORK AREA PORTION OF THE           */ 03541000
*/*   INTERRUPTED FRR STACK POINTS TO THE RTCA PASSED TO LAST FRR TO */ 03542000
*/*    GET CONTROL                                                   */ 03543000
*/*  - THE REGISTER 4 SLOT OF THE SRM REGISTER SAVE AREA ASSOCIATED  */ 03544000
*/*    WITH THE RTCA PASSED TO THE LAST FRR TO GET CONTROL POINTS TO */ 03545000
*/*    THE FRR ENTRY CORRESPONDING TO THIS FRR                       */ 03546000
*/*  - FUNCTION REGISTER(R0) INDICATES WHETHER PERCOLATION IS TO BE  */ 03547000
*/*    PERFOMED OR NOT                                               */ 03548000
*/*  - WORKREG REGISTER(R4) IS USED AS WORKREG                       */ 03549000
*/*  - RECURSE REGISTER(R7) INDICATES WHETHER PERCOLATION IS BEING   */ 03550000
*/*    PERFORMED FOR AN INITIAL ERROR OR A FRR FAILURE               */ 03551000
*/* OUTPUT OF THIS SEGMENT IS AS FOLLOWS:                            */ 03552000
*/*  - CONDITION 1:THE CURRENT FRR IS THE ONE ADDED RIGHT BEFORE THE */ 03553000
*/*                FRR LASTED GIVEN CONTROL                          */ 03554000
*/*  - CONDITION 2: SAME RESULTS AS FOR CONDITION 1                  */ 03555000
*/*  - CONDITION 3: THE CURRENT FRR ON THE FRR STACK ON ENTRY TO THIS*/ 03556000
*/*                 REMAINS UNCHANGED PROVIDED IT REPRESENTS A FRR   */ 03557000
*/*                 THAT HAS NOT BEEN ROUTED TO                      */ 03558000
*/* -----NOTES-----                                                  */ 03559000
*/*  REGS(R0,R2,R4,R5,R6,R7,R8,R9,R10,R14) MUST RESTRICTED           */ 03560000
*/*  REGS(R1,R3,R11,R12,R13,R15) ARE VOLATILE                        */ 03561000
*/* ******************************************************************/ 03562000
*                                                                  0746 03563000
*           DO;                                                    0746 03564000
*             IF R0>=PERCLATE THEN  /* IF PERCOLATION IS TO BE     0747 03565000
*                                      PERFORMED THEN DO THE       0747 03566000
*                                      FOLLOWING                     */ 03567000
         C     R0,@CF00112                                         0747 03568000
         BL    @RF00747                                            0747 03569000
*               IF SRMTGFRR>FRRSCURR THEN/* IF THE FRR ENTRY       0748 03570000
*                                      ASSOCIATED WITH THE LAST FRR     03571000
*                                      TO GET CONTROL INDICATES THAT    03572000
*                                      THIS FRR DELETED SOME FRRS  0748 03573000
*                                      THEN STACK MAINTENACE IS    0748 03574000
*                                      NEEDED FOR THOSE ENTRIES    0748 03575000
*                                      BETWEEN THE CURRENT FRR ENTRY    03576000
*                                      AND THE FRR ENTRY FOR THE LAST   03577000
*                                      FRR TO GET CONTROL            */ 03578000
         LA    @12,512                                             0748 03579000
         AL    @12,RT1WRTCA(,R8)                                   0748 03580000
         L     @11,SRMTGFRR(,@12)                                  0748 03581000
         L     @04,FRRSCURR(,R8)                                   0748 03582000
         CR    @11,@04                                             0748 03583000
         BNH   @RF00748                                            0748 03584000
*                 DO;               /* PERFORM STACK MAINTENANCE     */ 03585000
*                   RFY                                            0750 03586000
*                     R4 RSTD;                                     0750 03587000
*                   R4=FRRSCURR;    /* SAVE CURRENT FRR ENTRY        */ 03588000
         L     @03,FRRSCURR(,R8)                                   0751 03589000
         LR    R4,@03                                              0751 03590000
*                   FRRSCURR=SRMTGFRR;/* MAKE THE CURRENT FRR THE ONE   03591000
*                                      TO LAST GET CONTROL           */ 03592000
         ST    @11,FRRSCURR(,R8)                                   0752 03593000
*                   SRMTGFRR=R4;    /* MAKE THE LAST FRR TO GET    0753 03594000
*                                      CONTROL EQUAL TO THE CURRENT     03595000
*                                      FRR ON THE STACK              */ 03596000
         ST    R4,SRMTGFRR(,@12)                                   0753 03597000
*                   RFY                                            0754 03598000
*                     R4 UNRSTD;                                   0754 03599000
*                   CALL STAKMAIN;  /* GO PERFORM MAINTENANCE ON THE    03600000
*                                      FRR STACK SO THAT THE THE   0755 03601000
*                                      ENTRIES BETWEEN THE CURRENT 0755 03602000
*                                      FRR ENTRY AND THE FRR ENTRY 0755 03603000
*                                      ASSOCIATED WITH THE LAST FRR     03604000
*                                      TO GET CONTROL ARE CLEANED UP */ 03605000
         BAL   @14,STAKMAIN                                        0755 03606000
*                 END;                                             0756 03607000
*               ELSE                /* IF THE CURRENT FRR ENTRY ON 0757 03608000
*                                      THE STACK IS THE SAME OR    0757 03609000
*                                      GREATER THAN THE FRR ENTRY OF    03610000
*                                      THE LAST FRR TO GET CONTROL 0757 03611000
*                                      THEN STACK MAINTENANCE IS ONLY   03612000
*                                      REQUIRED IF RECURSION IS NOT     03613000
*                                      ACTIVE WITHIN SRM             */ 03614000
*                 DO;                                              0757 03615000
         B     @RC00748                                            0757 03616000
@RF00748 DS    0H                                                  0758 03617000
*                   IF R7^=ACTIVE THEN/* IF RECURSION IS NOT ACTIVE     03618000
*                                      WITHIN SRM THEN PERFORM STACK    03619000
*                                      MAINTENANCE                   */ 03620000
         C     R7,@CF00079                                         0758 03621000
         BE    @RF00758                                            0758 03622000
*                     CALL STAKMAIN;/* PERFORM STACK MAINTENANCE     */ 03623000
         BAL   @14,STAKMAIN                                        0759 03624000
*                   ELSE            /* IF RECURSION IS ACTIVE WITHIN    03625000
*                                      SRM THEN NESTED FRRS MAY BE ON   03626000
*                                      THE STACK AND CONTROL MUST BE    03627000
*                                      EVENTUALLY GIVEN TO THEM      */ 03628000
*                     IF FRRSNEST=ON THEN/* IF THE CURRENT FRR ON THE   03629000
*                                      STACK IS A NESTED FRR THEN  0760 03630000
*                                      PERFORM NORMAL PERCOLATION    */ 03631000
         B     @RC00758                                            0760 03632000
@RF00758 L     @01,FRRSCURR(,R8)                                   0760 03633000
         TM    FRRSNEST(@01),B'01000000'                           0760 03634000
         BNO   @RF00760                                            0760 03635000
*                       CALL NORMPERC;/* PERFORM NORMAL PERCOLATION  */ 03636000
         BAL   @14,NORMPERC                                        0761 03637000
*                     ELSE          /* IF THE CURRENT FRR ON THE   0762 03638000
*                                      STACK IS NOT NESTED THEN STACK   03639000
*                                      MAINTENANCE MUST BE PERFORMED */ 03640000
*                       CALL STAKMAIN;/* PERFORM STACK MAINTENANCE   */ 03641000
         B     @RC00760                                            0762 03642000
@RF00760 BAL   @14,STAKMAIN                                        0762 03643000
*                 END;                                             0763 03644000
*             ELSE                                                 0764 03645000
*               ;                   /* IF PERCOLATION IS NOT TO BE 0764 03646000
*                                      PERFORMED THE THIS SEGMENT IS    03647000
*                                      SKIPPED                       */ 03648000
@RF00747 DS    0H                                                  0765 03649000
*           END;                                                   0765 03650000
@RC00747 DS    0H                                                  0766 03651000
*         END;                                                     0766 03652000
*       ELSE                        /* OTHERWISE BYPASS THIS SEGMENT */ 03653000
*         R5=NULL;                  /* BY INDICATING NO RTCA TO    0767 03654000
*                                      PROCESS SINCE THE INTERRUPTED    03655000
*                                      APPEARS TO BE VOID OF FRRS AND   03656000
*                                      THE INTERRUPTED STACK IS NOT A   03657000
*                                      SUPER STACK                   */ 03658000
         B     @RC00602                                            0767 03659000
@RF00602 SLR   R5,R5                                               0767 03660000
*     END;                          /* IF TARGRTCA REGISTER(R5) IS 0768 03661000
*                                      ZERO THEN ALL FRRS ON THE   0768 03662000
*                                      INTERRUPTED STACK HAVE BEEN 0768 03663000
*                                      PROCESSED,RETRY OR RESUME HAS    03664000
*                                      BEEN REQUESTED BY A FRR, OR 0768 03665000
*                                      RECURSION INTO SRM HAS TAKEN     03666000
*                                      PLACE                         */ 03667000
@RC00602 DS    0H                                                  0768 03668000
@DE00407 LTR   R5,R5                                               0768 03669000
         BNZ   @DL00407                                            0768 03670000
*     RFY                                                          0769 03671000
*       SDWA BASED(RT1WRTCA);       /* REESTABLISH OLD RTCA BASE     */ 03672000
*                                                                  0769 03673000
*     /***************************************************************/ 03674000
*     /*                                                             */ 03675000
*     /* AFTER ALL FRRS HAVE BEEN PROCESSED OR WHEN RETRY/RESUME IS  */ 03676000
*     /* INDICATED IN THE RTCA CONTROL WILL RETURN TO IEAVTRTM. IF   */ 03677000
*     /* SRM WAS INITIALLY ENTERED BECAUSE OF RECURSION CONTROL WILL */ 03678000
*     /* RETURN TO THE RECOVERY INITIALIZATION SEGMENT(RINIT) SO THAT*/ 03679000
*     /* THE RECURSIVE ERROR CAN BE PROCESSED THIS SEGMENT PERFORMS  */ 03680000
*     /* EXIT PROCESSING PRIOR TO RETURNING TO IEAVTRTM OR IF        */ 03681000
*     /* RECURSION IS IN EFFECT DIRECTLY RETURNS TO THE RECOVERY     */ 03682000
*     /* INITIALIZATION FUNCTION(SEGMENT RINIT) AFTER REESTABLISHING */ 03683000
*     /* THE RECURSIVE ERROR INFORMATION SO THAT THE RECURSIVE ERROR */ 03684000
*     /* CAN BE PROCESSED                                            */ 03685000
*     /*                                                             */ 03686000
*     /***************************************************************/ 03687000
*                                                                  0770 03688000
*EXIT:                                                             0770 03689000
*     DO;                                                          0770 03690000
EXIT     DS    0H                                                  0771 03691000
*       RT1TLPN=SRMEXIT;            /* SET EXIT LOGICAL PHASE        */ 03692000
         MVI   RT1TLPN+16(R8),X'58'                                0771 03693000
*       IF R7^=ACTIVE THEN          /* IF RECURSION IS NOT ACTIVE    */ 03694000
         C     R7,@CF00079                                         0772 03695000
         BE    @RF00772                                            0772 03696000
*         DO;                       /* DO THE FOLLOWING              */ 03697000
*           RFY                                                    0774 03698000
*            (R5,                                                  0774 03699000
*             R4) RSTD;             /*                       @YM02601*/ 03700000
*           GENERATE CODE           /* PREPARE TO EXECUTE A STOSM  0775 03701000
*                                      INSTRUCTION USING THE SYSTEM     03702000
*                                      MASK LOCATED IN THE SRM REG 0775 03703000
*                                      SAVE AREA ASSOCIATED WITH WITH   03704000
*                                      THE CURRENTLY ACTIVE RTCA SO     03705000
*                                      THAT ANY VALID RETRY REQUESTED   03706000
*                                      BY THE LAST FRR TO GET CONTROL   03707000
*                                      WILL RESULT IN THE RETRY    0775 03708000
*                                      ROUTINE GETTING CONTROL IN THE   03709000
*                                      SAME SYSTEM STATE AS THAT FRR    03710000
*                                      WHICH REQUESTED RETRY @YM02601*/ 03711000
*               ;                                                  0775 03712000
         L     R5,RT1WRTCA(,R8) GET ACTIVE RTCA                @YM02601 03713000
         IC    R4,FIVE12+1(,R5) GET SYS MASK                   @YM02601 03714000
*           RFY                                                    0776 03715000
*            (R5) UNRSTD;                                          0776 03716000
*           IF RT1WSRBR^=NULL THEN  /* IF A GETMAINED RTCA EXIST THEN   03717000
*                                      IT MUST BE FREED. RTM WILL  0777 03718000
*                                      FREE THE RTCA BUT TO AVOID A     03719000
*                                      LOCK CONFLICT ALL HELD BY THIS   03720000
*                                      CPU MUST BE FREED             */ 03721000
         L     @12,RT1WSRBR(,R8)                                   0777 03722000
         LTR   @12,@12                                             0777 03723000
         BZ    @RF00777                                            0777 03724000
*             DO;                                                  0778 03725000
*                                                                  0778 03726000
*/* ******************************************************************/ 03727000
*/* THIS SEGMENT PROVIDES AN EXITING FUNCTION TO IEAVTRTM AFTER FRR  */ 03728000
*/* PROCESSING IS COMPLETE WHERE DURING FRR PROCESSING A GETMIANED   */ 03729000
*/*  SEB RTCA WAS OBTAINED TO SUPPORT AN FRR.  THE PURPOSE OF THIS   */ 03730000
*/*  EXITING FUNCTION IS TO INSURE THAT ALL LOCKS ARE FREED ON THIS  */ 03731000
*/*  CPU SO THAT THE EVENTUAL FREEING OF THIS GETMAINED RTCA CAN BE  */ 03732000
*/*  ACCOMPLISHED BY IEAVTRTM WITHOUT THE POTENTIAL FOR THE FREEMAIN */ 03733000
*/* BY RTM TO CAUSE AN ERROR, SINCE RTM ACQUIRES THE LOCAL LOCK TO DO*/ 03734000
*/* THE FREEMAIN.  IF A HIGHER LOCK WAS STILL HELD ON EXIT FROM      */ 03735000
*/* IEAVTRTS WITH A GETMAINED RTCA THEN THE LOCAL LOCK REQUEST WOULD */ 03736000
*/*  CAUSE A LOCKING HIERARCHY CONFLICT AND THE GETMAINED RTCA WOULD */ 03737000
*/*  NEVER BE FREED                                                  */ 03738000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 03739000
*/*  -RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE INTERRUPTED*/ 03740000
*/*   STACK POINTS TO THE CURRENTLY ACTIVE RTCA                      */ 03741000
*/*  -RT1WSRBR FIELD OF THE RTM1 WORK AREA PORTION OF THE INTERRUPTED*/ 03742000
*/*   CONTAINS THE POINTER TO THE GETMAINED RTCA                     */ 03743000
*/* NOTES------                                                      */ 03744000
*/*  REGS(R0,R2,R8,R7,R9,R10,R5,R6,R4) ARE RESTRICTED                */ 03745000
*/*  REGS(R11,R12,R13,R14) ARE USED INTERFACING WITH SETLOCK TO FREE */ 03746000
*/*   ALL LOCK HELD BY THE CPU                                       */ 03747000
*/*  REGS(R1,R3,R15) ARE VOLATILE                                    */ 03748000
*/* ******************************************************************/ 03749000
*                                                                  0779 03750000
*               RFY                                                0779 03751000
*                 NEWRTCA BASED(RT1WSRBR);                         0779 03752000
*               NEWRTCA(1:256)=SDWA(1:256);/* COPY CONTENTS OF     0780 03753000
*                                      CURRENT RTCA                  */ 03754000
         L     @11,RT1WRTCA(,R8)                                   0780 03755000
         MVC   NEWRTCA(256,@12),SDWA(@11)                          0780 03756000
*               NEWRTCA(257:LENGTH(SDWA))=SDWA(257:LENGTH(SDWA));/*     03757000
*                                      INTO THE GOTTEN SRB RTCA      */ 03758000
         MVC   NEWRTCA+256(256,@12),SDWA+256(@11)                  0781 03759000
*               NEWRGSV=SRMRGSV;    /* PRIOR TO EXIT TO RTM          */ 03760000
         MVC   NEWRGSV(72,@12),SRMRGSV+512(@11)                    0782 03761000
*               RT1WRTCA=RT1WSRBR;  /* AND MAKE THIS SRB RTCA WITH 0783 03762000
*                                      THE CURRENT RTCA CONTENTS   0783 03763000
*                                      CURRENT--RTM MUST USE THE   0783 03764000
*                                      CONTENTS OF THE CURRENT RTCA     03765000
*                                      TO PROPERLY RETRY OR CONTINUE    03766000
*                                      WITH TERMINATION BUT MUST HAVE   03767000
*                                      THE SRB RTCA AVAILABLE SO THAT   03768000
*                                      IT CAN BE EVENTUALLY FREED    */ 03769000
         ST    @12,RT1WRTCA(,R8)                                   0783 03770000
*               RFY                                                0784 03771000
*                 R11 RSTD;         /* DESTROYED BY LOCK MANAGER     */ 03772000
*               RFY                                                0785 03773000
*                 R12 RSTD;         /* DESTROYED BY LOCK MANAGER     */ 03774000
*               RFY                                                0786 03775000
*                 R13 RSTD;         /* DESTROYED BY LOCK MANAGER     */ 03776000
*               GENERATE CODE;                                     0787 03777000
*                                      /*RELEASE ALL LOCKS           */ 03778000
         SETLOCK RELEASE,TYPE=ALL,DISABLED,                            C03779000
               RELATED=('LOCK CLEANUP SRB MODE EXIT TO RTM')            03780000
*               RFY                                                0788 03781000
*                 R11 UNRSTD;       /* RELEASE REG11                 */ 03782000
*               RFY                                                0789 03783000
*                 R12 UNRSTD;       /* RELEASE REG12                 */ 03784000
*               RFY                                                0790 03785000
*                 R13 UNRSTD;                                      0790 03786000
*               RFY                                                0791 03787000
*                 NEWRTCA;                                         0791 03788000
*             END;                                                 0792 03789000
*           ELSE                                                   0793 03790000
*             ;                     /* OTHERWISE EXIT WITHOUT FREEING   03791000
*                                      ANY LOCKS                     */ 03792000
@RF00777 DS    0H                                                  0794 03793000
*           R0=SRMEND;              /* INDICATE END OF SRM PROCESSING*/ 03794000
         SLR   R0,R0                                               0794 03795000
*         END;                                                     0795 03796000
*       ELSE                        /* IF RECURSION IS ACTIVE RESTORE   03797000
*                                      THE RECURSIVE ERROR DATA    0796 03798000
*                                      CHKPTED ON ENTRY TO SRM       */ 03799000
*/* ******************************************************************/ 03800000
*/* THIS SEGMENT RESTORES THE CHECKPOINTED ERROR DATA RESULTING FROM */ 03801000
*/* A FRR FAILURE AND RESTORES THE STATE OF FRR PROCESSING IN        */ 03802000
*/* IEAVTRTS SO THAT THE RECURSIVE ERROR CAUSED BY THE FRR FAILURE   */ 03803000
*/* CAN BE TREATED AS NEW ERROR REQUIRING FURTHER FRR PROCESSING     */ 03804000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 03805000
*/*  - CURRSTK REG(R8) POINTS TO THE INTERRUPTED STACK               */ 03806000
*/*  - SRMSTAK REG(R2) POINTS TO THE FRR STACK USED FOR IEAVTRTS     */ 03807000
*/*    RECOVERY                                                      */ 03808000
*/*  - RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE           */ 03809000
*/*    INTERRUPTED STACK(POINTED TO BY R8) POINTS TO THE RTCA THAT   */ 03810000
*/*    WAS PASSED TO THE FRR THAT FAILED AND IN THE SRM REG SAVE     */ 03811000
*/*    AREA ASSOCIATED WITH THIS STACK(200 BYTES FROM THE BEGINNING  */ 03812000
*/*   OF THIS RTCA IS THE ERROR DATA ASSOCIATED WITH THE FRR FAILURE */ 03813000
*/*  - RECURSE  REG(R7) INDICATES RECURSION(FRR FAILURE)             */ 03814000
*/* OLDRTCA REG(R0) CONTAINS THE ADDRESS OF THE RTCA PASSED TO THE   */ 03815000
*/*    FRR THAT FAILED                                               */ 03816000
*/* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS:                          */ 03817000
*/*  - FLAGSCC REGISTER(R1) IS REPRIOMED WITH THE COMPLETION CODE    */ 03818000
*/*    DESCRIBING THE FRR FAILURE                                    */ 03819000
*/*  - DUMPOPTS REGISTER(R5) IS REPRIMED WITH DUMPOPTIONS ASSOCIATED */ 03820000
*/*    WITH THE FRR FAILURE IF ANY-OR IS REPRIMED WITH HARDWARE      */ 03821000
*/*    MACHINE CHECK INFO IF THE FRR FAILURE WAS A MACHINE CHECK     */ 03822000
*/*  - EEDCHAIN REGISTER(R6) IS REPRIMED WITH A POINTER TO MACHINE   */ 03823000
*/*    CHECK INFO IF THE FRR FAILURE WAS A MACHINE CHECK OTHERWISE   */ 03824000
*/*    IT IS REPRIMED WITH A ZERO IF THE FRR FAILURE WAS NOT A MACH  */ 03825000
*/*    OR IS REPRIMED WITH A ONE IF THE FRR FAILURE WAS A MACHINE    */ 03826000
*/*    CHECK BUT ONLY ABBREVIATED MACH CHECK ERROR DATA WAS AVAILABLE*/ 03827000
*/*  - SAVAREAP REGISTER(R13) IS REPRIMED WITH THE POINTER TO THE    */ 03828000
*/*    REGISTERS AT THE TIME OF THE FRR FAILURE                      */ 03829000
*/*  - RECURSE REGISTER(R7) IS SET TO ZERO TO INDICATE THAT IEAVTRTS */ 03830000
*/*    WILL PROCESS THIS FRR FAILURE AS A NEW ERROR                  */ 03831000
*/*  - THE RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE       */ 03832000
*/*    INTERRUPTED STACK IS SET TO ZERO TO INDICATE THAT A NEW ERROR */ 03833000
*/*    IS TO BE PROCESSED                                            */ 03834000
*/*  NOTES-------                                                    */ 03835000
*/*   REGS(R0,R1,R2,R5.R6.R7.R8.R9.R10.R13) MUST REMAIN RESTRICTED   */ 03836000
*/*   THROUGHOUT THIS SEGMENT                                        */ 03837000
*/*   REGS(R3,R4,R11,R12,R14,R15) ARE VOLATILE IN THIS SEGMENT       */ 03838000
*/* ******************************************************************/ 03839000
*                                                                  0796 03840000
*         DO;                                                      0796 03841000
*                                                                  0796 03842000
         B     @RC00772                                            0796 03843000
@RF00772 DS    0H                                                  0797 03844000
*           /*********************************************************/ 03845000
*           /*                                                       */ 03846000
*           /* THE FOLLOWING CODE WILL RESTORE THE CHECKPOINTED DATA */ 03847000
*           /* PASSED ON THE RECURSION,TURN THE RECURSION INDICATOR  */ 03848000
*           /* OFF AND PROCEED BACK TO RECOVERY INITIALIZATION(RINIT)*/ 03849000
*           /* SO THAT THE RECURSIVE ERROR CAN BE PROCESSED AS A NEW */ 03850000
*           /* ERROR                                                 */ 03851000
*           /*                                                       */ 03852000
*           /*********************************************************/ 03853000
*                                                                  0797 03854000
*           RFY                                                    0797 03855000
*            (R1,                                                  0797 03856000
*             R5,                                                  0797 03857000
*             R6,                                                  0797 03858000
*             R13,                                                 0797 03859000
*             R0);                                                 0797 03860000
*           R1=CKFLGSCC;            /* SET FLAGSCC REGISTER WITH   0798 03861000
*                                      CALLRTM FLAGS AND COMP CODE 0798 03862000
*                                      FOR THE RECURSIVE ERROR       */ 03863000
         LA    @12,512                                             0798 03864000
         AL    @12,RT1WRTCA(,R8)                                   0798 03865000
         L     R1,CKFLGSCC(,@12)                                   0798 03866000
*           R5=CKDMPOPT;            /* SET DUMPOPTS REGISTER WITH  0799 03867000
*                                      WITH DUMP OPTS(IF ANY) FOR THE   03868000
*                                      RECURSIVE ERROR               */ 03869000
         L     R5,CKDMPOPT(,@12)                                   0799 03870000
*           R6=CKEEDCHN;            /* SET EEDCHAIN REGISTER WITH EED   03871000
*                                      CHAIN POINTER INFORMATION   0800 03872000
*                                      CONCERNING THE RECURSIVE ERROR*/ 03873000
         L     R6,CKEEDCHN(,@12)                                   0800 03874000
*           R13=CKSVREAP;           /* SET SAVAREAP REGISTER WITH THE   03875000
*                                      ADDRESS OF THE REGISTERS AT 0801 03876000
*                                      TIME OF THE RECURSIVE ERROR   */ 03877000
         L     R13,CKSVREAP(,@12)                                  0801 03878000
*           RT1WRTCA=NULL;          /* ZERO RTCA POINTER IN THE RTM1    03879000
*                                      WA SO THAT SRM CAN TREAT THE     03880000
*                                      RECURSIVE ERROR AS IF IT WERE    03881000
*                                      A BRAND NEW INITIAL ERROR     */ 03882000
         SLR   @12,@12                                             0802 03883000
         ST    @12,RT1WRTCA(,R8)                                   0802 03884000
*           R7=NULL;                /* TAKE SRM OUT OF RECURSION MODE*/ 03885000
         SLR   R7,R7                                               0803 03886000
*         END;                                                     0804 03887000
*     END;                                                         0805 03888000
@RC00772 DS    0H                                                  0806 03889000
*     RFY                                                          0806 03890000
*      (R2,                                                        0806 03891000
*       R3,                                                        0806 03892000
*       R7,                                                        0806 03893000
*       R8,                                                        0806 03894000
*       R9,                                                        0806 03895000
*       R10,                                                       0806 03896000
*       R11,                                                       0806 03897000
*       R12,                                                       0806 03898000
*       R15);                                                      0806 03899000
*     RFY                                                          0807 03900000
*      (R14,                                                       0807 03901000
*       R4) UNRSTD;                                                0807 03902000
*   END;                                                           0808 03903000
@DE00105 C     R0,@CF00079                                         0808 03904000
         BNL   @DL00105                                            0808 03905000
*   RFY                                                            0809 03906000
*    (R14,                                                         0809 03907000
*     R4) RSTD;                                                    0809 03908000
*   R14=RTMRETAD;                   /* REESTABLISH RTMS RETURN     0810 03909000
*                                      ADDRESS                       */ 03910000
         L     R14,RTMRETAD+48(,R8)                                0810 03911000
*   GENERATE CODE                   /* SETUP ANY RETRY SYSTEM STATE     03912000
*                                      PRIOR TO EXIT TO IEAVTRTM   0811 03913000
*                                                            @YM02601*/ 03914000
*       ;                                                          0811 03915000
         EX    R4,ROLDMSK        STOSM INTO THE RETRY STATE    @YM02601 03916000
*   R9=RTMBASE;                     /* REESTABLISH RTMS BASE REG     */ 03917000
         L     R9,RTMBASE+48(,R8)                                  0812 03918000
*   GO TO R14;                      /* RETURN TO RTM                 */ 03919000
*                                                                  0813 03920000
         BR    R14                                                 0813 03921000
*   /*****************************************************************/ 03922000
*   /*                                                               */ 03923000
*   /* THIS SEGMENT IS AN INTERNAL PROCEDURE WHICH ALLOCATES A SRB   */ 03924000
*   /* RTCA VIA GETMAIN OR IF GETMAIN IS UNSUCCESSFUL UTILIZES THE   */ 03925000
*   /* LOCL RTCA TO SUPPORT A SRB MODE ERROR SEGMENT NAME - ASRBRTCA */ 03926000
*   /* PROCEDURE NAME - GSRBRTCA PROCEDURE OPTIONS - NOSAVE          */ 03927000
*   /* NOSAVEAREA FUNCTION-GSRBRTCA ACQUIRES A SRB RTCA ON REQUEST BY*/ 03928000
*   /* SRM WHEN THE SRM IS ENTERED TO PERFORM RECOVERY FRR PROCESSING*/ 03929000
*   /* FOR A SRB ERROR, OR WHEN PERCOLATION OF THE ERROR RESULTS IN  */ 03930000
*   /* SRM ROUTING TO A SRB FRR OPERATION- ON ENTRY TO GSRBRTCA THE  */ 03931000
*   /* RTM1 WORK AREA ASSOCIATED WITH THE INTERRUPTED FRR STACK IS   */ 03932000
*   /* EXAMINED TO DETERMINE IF A SRB RTCA HAS ALREADY BEEN ACQUIRED.*/ 03933000
*   /* IF A SRB RTCA ALREADY EXISTS IT IS REUSED(I.E. ITS ADDRESS IS */ 03934000
*   /* RETURNED TO SRM). IF A SRB RTCA DOES NOT EXIST, GSRBRTCA      */ 03935000
*   /* ACQUIRES ONE VIA A GLOBAL BRANCH ENTRY TO GETMAIN REQUESTING  */ 03936000
*   /* 584 BYTES OF SQA FROM SUBPOOL 245. IF THE GETMAIN IS          */ 03937000
*   /* SUCCESSFUL THE ADDRESS OF THE NEWLY ACQUIRED RTCA IS STORED IN*/ 03938000
*   /* THE RTM1 WORK AREA OF THE INTERRUPTED STACK AND RETURNED TO   */ 03939000
*   /* SRM. IF THE GETMAIN IS UNSUCCESSFUL(I.E. SQA SPACE IS         */ 03940000
*   /* UNAVAILABLE) THE PROCEDURE PUGET1(SEGMENT PUGETM) IS INVOKED  */ 03941000
*   /* TO ACQUIRE THE LOCAL RTCA THE LOCAL RTCA WILL THEN BE USED TO */ 03942000
*   /* PROCESS THE ERROR WHEN SRM ROUTES TO SRB FRRS INPUT . THE     */ 03943000
*   /* ADDRESS OF THE INTERRUPTED FRR STACK LOCATED IN THE RTM1 WORK */ 03944000
*   /* AREA OF SRMS RECOVERY FRR STACK . THE ADDRESS OF SRMS RECOVERY*/ 03945000
*   /* STACK LOCATED IN THE RTM1 WORK AREA OF THE INTERRUPTED STACK  */ 03946000
*   /* OUTPUT .TARGRTCA(R2) POINTS TO THE ACQUIRED RTCA IF           */ 03947000
*   /* SRGMENT(RINIT) IS THE CALLER(I.E. THE RT1WRTCA FIELD OF THE   */ 03948000
*   /* RTM1 WORK AREA OF THE INTERRUPTED STACK IS ZERO) .NRTCAREG(R8)*/ 03949000
*   /* POINTS TO THE ACQUIRED RTCA IF SRGMENT(S) (GTOS OR LTOS) IS   */ 03950000
*   /* THE CALLER(I.E. THE RT1WRTCA FIELD OF THE RTM1 WORK AREA OF   */ 03951000
*   /* THE INTERRUPTED STACK IS NON-ZERO) .TARGRTCA(R2) WILL POINT TO*/ 03952000
*   /* THE LOCAL RTCA IF THE GETMAIN FOR SQA WAS UNSUCCESSFUL AND    */ 03953000
*   /* PROC PUGET1(SEGMENT PUGETM) WAS CALLED WHEN (RINIT SEGMENT) IS*/ 03954000
*   /* THE CALLER OF GSRBRTCA .NRTCAREG(R8) WILL POINT TO THE LOCAL  */ 03955000
*   /* RTCA IF THE GETMAIN FOR SQA WAS UNSUCCESSFUL AND PROC         */ 03956000
*   /* PUGET1(SEGMENT PUGETM) WAS INVOKED WHEN SEGMENT(S) GTOS , LTOS*/ 03957000
*   /* IS THE CALLER OF GSRBRTCA ENTRY - GSRBRTCA                    */ 03958000
*   /* ATTRIBUTES-REENTRANT, NUCLEUS RESIDENT, ZERO PSW PROTECT KEY, */ 03959000
*   /* DISABLED OR ENABLED, REFRESHABLE, FIXED SUPERVISOR STATE      */ 03960000
*   /* LINKAGE - BALR EXIT-NORMAL=RETURN TO CALLER EXIT-ERROR=RETURN */ 03961000
*   /* TO CALLER EXTERNAL REFERENCES ROUTINES - LOCK MANAGER VIA     */ 03962000
*   /* SETLOCK VSM VIA GETMAIN DATA AREAS - FLC/PSA CONTROL BLOCKS - */ 03963000
*   /* RTCA, RTM1 WORK AREA TABLES - NONE MACROS - SETLOCK,SETFRR,   */ 03964000
*   /* GETMAIN MESSAGES - NONE M.O. NUMBER - 4.3.1.1.2               */ 03965000
*   /*                                                               */ 03966000
*   /*****************************************************************/ 03967000
*                                                                  0814 03968000
*GSRBRTCA:                                                         0814 03969000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0814 03970000
@EL00001 DS    0H                                                  0814 03971000
@EF00001 DS    0H                                                  0814 03972000
@ER00001 BR    @14                                                 0814 03973000
GSRBRTCA DS    0H                                                  0815 03974000
*   RFY                                                            0815 03975000
*    (R2,                           /* THESE REGISTERS CONTAIN       */ 03976000
*     R5,                           /* INFORMATION SUPPLIED          */ 03977000
*     R6,                           /* AS INPUT TO SRM AND ALSO      */ 03978000
*     R7,                           /* INFORMATION THAT MUST BE      */ 03979000
*     R8) RSTD;                     /* INTERNALLY MAINTAINED         */ 03980000
*   RFY                                                            0816 03981000
*    (R11,                          /* THESE REGISTERS ARE USED      */ 03982000
*     R12,                          /* IN THIS INTERNAL PROC         */ 03983000
*     R13,                          /* FOR EXTERNAL CALLS AND FOR  0816 03984000
*                                      SETFRRS                       */ 03985000
*     R14) RSTD;                    /* REG 14 MUST BE PRESERVED FOR     03986000
*                                      RETURNING TO THE CALLER OF THE   03987000
*                                      PROCEDURE                     */ 03988000
*   IF RT1WSRBR=NULL THEN           /* IF A SRB RTCA IS NOT ALREADY     03989000
*                                      GETMAINED                     */ 03990000
         L     @15,RT1WSRBR(,R8)                                   0817 03991000
         LTR   @15,@15                                             0817 03992000
         BNZ   @RF00817                                            0817 03993000
*     DO;                           /* THEN DO THE FOLLOWING         */ 03994000
*       R11=RT1TLPN;                                               0819 03995000
         LA    @15,16                                              0819 03996000
         LR    @03,R8                                              0819 03997000
         ALR   @03,@15                                             0819 03998000
         SLR   R11,R11                                             0819 03999000
         IC    R11,RT1TLPN(,@03)                                   0819 04000000
*       PSACSTK=R2;                 /* MAKE SRMS RECOVERY STACK    0820 04001000
*                                      CURRENT                       */ 04002000
         ST    R2,PSACSTK                                          0820 04003000
*       RFY                                                        0821 04004000
*         FRRS BASED(PSACSTK);                                     0821 04005000
*       RT1TLPN=R11;                                               0822 04006000
         L     @03,PSACSTK                                         0822 04007000
         ALR   @03,@15                                             0822 04008000
         STC   R11,RT1TLPN(,@03)                                   0822 04009000
*       RT1TLPID=SRMDRID;                                          0823 04010000
         MVI   RT1TLPID(@03),X'01'                                 0823 04011000
*       RFY                                                        0824 04012000
*         FRRPARMS BASED(R4);       /* RT1TRACK IS PARM AREA         */ 04013000
*       RFY                                                        0825 04014000
*         R4 RSTD;                                                 0825 04015000
*       GENERATE CODE               /* ADD FRR TO PROTECT SRM FROM 0826 04016000
*                                      POSSIBLE LOCK MGR FAILURE IN     04017000
*                                      ATTEMPTING TO ACQUIRE SALLOC     04018000
*                                      LOCK                          */ 04019000
*           ;                                                      0826 04020000
         SETFRR  A,FRRAD=RGTMFRR,PARMAD=(R4),WRKREGS=(R4,R12)           04021000
*       FRRPREG1=R14;               /* SAVE RETURN ADDRESS TO CALLER    04022000
*                                      IN THE FRR PARM AREA          */ 04023000
*                                                                  0827 04024000
         ST    R14,FRRPREG1(,R4)                                   0827 04025000
*       /*************************************************************/ 04026000
*       /*                                                           */ 04027000
*       /* STORE TRACKING INFORMATION FOR THE FRR                    */ 04028000
*       /*                                                           */ 04029000
*       /*************************************************************/ 04030000
*                                                                  0828 04031000
*       FRRPRTYA=ADDR(PUGETM);      /* SETUP RETRY ADDRESS           */ 04032000
         LA    @15,PUGETM                                          0828 04033000
         ST    @15,FRRPRTYA(,R4)                                   0828 04034000
*       FRRPISTK=R8;                /* SAVE ADDRESS OF INTERRUPTED 0829 04035000
*                                      FRR STACK                     */ 04036000
         ST    R8,FRRPISTK(,R4)                                    0829 04037000
*       FRRPREG2=R10;               /* SAVE IEAVTRTS BASE REGISTER   */ 04038000
         ST    R10,FRRPREG2(,R4)                                   0830 04039000
*       IF R7=ACTIVE THEN           /* IF RECURSION IS ACTIVE THEN 0831 04040000
*                                      INDICATE THIS CONDITION IN THE   04041000
*                                      FRR PARAMETER AREA            */ 04042000
         C     R7,@CF00079                                         0831 04043000
         BNE   @RF00831                                            0831 04044000
*         FRRPRCUR=ON;                                             0832 04045000
         OI    FRRPRCUR(R4),B'00100000'                            0832 04046000
*       ELSE                                                       0833 04047000
*         ;                         /* OTHERWISE MAKE NO SUCH      0833 04048000
*                                      INDICATION                    */ 04049000
@RF00831 DS    0H                                                  0834 04050000
*       FRRPFLPN=RT1TLPN;           /* CHKPT LOGICAL PHASE NUMBER IN    04051000
*                                      INTERRUPTED STACK INTO THE FRR   04052000
*                                      PARAMETER AREA                */ 04053000
         L     @15,PSACSTK                                         0834 04054000
         IC    @03,RT1TLPN+16(,@15)                                0834 04055000
         STC   @03,FRRPFLPN(,R4)                                   0834 04056000
*       IF FRRPFLPN<SRMRCRD THEN    /* IF THE LOGICAL PHASE IN THE 0835 04057000
*                                      INTERRUPTED STACK INDICATES 0835 04058000
*                                      THAT AN RTCA HAS NOT YET BEEN    04059000
*                                      INITIALIZED THEN ERROR INPUT     04060000
*                                      REGS MUST BE CHKPTED IN THE 0835 04061000
*                                      FRR PARAMETER AREA            */ 04062000
         CLI   FRRPFLPN(R4),71                                     0835 04063000
         BNL   @RF00835                                            0835 04064000
*         FRRPREG3=R5;              /* SAVE DUMPOPTS OR MACH CHECK 0836 04065000
*                                      DATA IN THE FRR PARM AREA     */ 04066000
         ST    R5,FRRPREG3(,R4)                                    0836 04067000
*       ELSE                        /* IF A RTCA HAS BEEN INITIALIZED   04068000
*                                      THEN CHKPT FRR AVAILABILITY   */ 04069000
*         FRRPREG3=R6;                                             0837 04070000
         B     @RC00835                                            0837 04071000
@RF00835 ST    R6,FRRPREG3(,R4)                                    0837 04072000
*       GENERATE CODE;                                             0838 04073000
*                                                                  0838 04074000
@RC00835 DS    0H                                                  0838 04075000
*                             /*OBTAIN THE SALLOC LOCK UNCOND        */ 04076000
         SETLOCK  OBTAIN,TYPE=SALLOC,MODE=UNCOND,RELATED=(SQA,IEAVTRTS(*04077000
               ALLOCAT))                                                04078000
*       /*************************************************************/ 04079000
*       /*                                                           */ 04080000
*       /* STORE TRACKING INFORMATION FOR THE FRR                    */ 04081000
*       /*                                                           */ 04082000
*       /*************************************************************/ 04083000
*                                                                  0839 04084000
*       R11=R4;                     /* PRESERVE THE FRR PARAMETER  0839 04085000
*                                      ADDRESS IN PARMREGG SINCE   0839 04086000
*                                      GETMAIN DESTROYS PARMREGL     */ 04087000
         LR    R11,R4                                              0839 04088000
*       RFY                                                        0840 04089000
*         R4 UNRSTD;                                               0840 04090000
*       RFY                                                        0841 04091000
*         FRRPARMS BASED(R11);                                     0841 04092000
*       RT1TLPN=NULL;               /* OPEN SRM FOR AN ERROR         */ 04093000
         L     @15,PSACSTK                                         0842 04094000
         MVI   RT1TLPN+16(@15),X'00'                               0842 04095000
*       RFY                                                        0843 04096000
*        (R15,                      /* THESE REGISTERS ARE           */ 04097000
*         R1) RSTD;                 /* RETURNED THE CALLER OF GETMAIN*/ 04098000
*       DO;                         /* GETMAIN (RC)                0844 04099000
*                                      LV(LENGTH(SDWA)+272) SP(245)     04100000
*                                      KEY(0) BRANCH(GLOBAL)         */ 04101000
*         RESPECIFY                                                0845 04102000
*          (GPR01F,                                                0845 04103000
*           GPR03F,                                                0845 04104000
*           GPR00F,                                                0845 04105000
*           GPR04P) RESTRICTED;                                    0845 04106000
*         GPR01F=0;                 /* REG 1 MUST BE ZERO            */ 04107000
         SLR   GPR01F,GPR01F                                       0846 04108000
*         GPR03F=0;                 /* RC-TYPE GETMAIN               */ 04109000
         SLR   GPR03F,GPR03F                                       0847 04110000
*         GPR00F=LENGTH(SDWA)+272;  /* LENGTH REQUESTED              */ 04111000
         LA    GPR00F,784                                          0848 04112000
*         GPR03F=GPR03F|((245)*256);/* SP IN BYTE 2                  */ 04113000
         O     GPR03F,@CF03514                                     0849 04114000
*         GPR04P=WSAGGMFM;          /* POINT TO SAVE AREA            */ 04115000
         L     GPR04P,CVTPTR                                       0850 04116000
         L     GPR04P,CVTSPSA(,GPR04P)                             0850 04117000
         L     GPR04P,WSAGGMFM(,GPR04P)                            0850 04118000
*         GPR03F=GPR03F|((0)*65536*16);/* KEY IN BYTE 1              */ 04119000
*         CALL CVTGLMN;             /* BRANCH ENTRY POINT            */ 04120000
         L     @15,CVTPTR                                          0852 04121000
         L     @15,CVTGLMN(,@15)                                   0852 04122000
         BALR  @14,@15                                             0852 04123000
*         RESPECIFY                                                0853 04124000
*          (GPR01F,                                                0853 04125000
*           GPR03F,                                                0853 04126000
*           GPR00F,                                                0853 04127000
*           GPR04P) UNRESTRICTED;                                  0853 04128000
*       END;                        /* GETMAIN (RC)                0854 04129000
*                                      LV(LENGTH(SDWA)+272) SP(245)     04130000
*                                      KEY(0) BRANCH(GLOBAL)         */ 04131000
*                                                                  0854 04132000
*       /*************************************************************/ 04133000
*       /*                                                           */ 04134000
*       /* STORE TRACKING INFORMATION FOR THE FRR                    */ 04135000
*       /*                                                           */ 04136000
*       /*************************************************************/ 04137000
*                                                                  0855 04138000
*PUGETM:                                                           0855 04139000
*       RFY                                                        0855 04140000
*         R4 RSTD;                                                 0855 04141000
PUGETM   DS    0H                                                  0856 04142000
*       RT1TLPN=FRRPFLPN;           /* RESTORE SRM DEFAULT RECOVERY     04143000
*                                      LPN                           */ 04144000
         LA    @03,16                                              0856 04145000
         AL    @03,PSACSTK                                         0856 04146000
         MVC   RT1TLPN(1,@03),FRRPFLPN(R11)                        0856 04147000
*       RT1TLPID=SRMDRID;           /* RESTORE RTS DEFAULT RECOVERY     04148000
*                                      LPID                  @YM06156*/ 04149000
         MVI   RT1TLPID(@03),X'01'                                 0857 04150000
*       R4=R11;                     /* RESTORE THE FRR PARAMETER AREA   04151000
*                                      ADDRESS TO PARMREGL SINCE   0858 04152000
*                                      PARMREGG IS DESTROYED BY THE     04153000
*                                      FOLLOWING SETLOCK             */ 04154000
         LR    R4,R11                                              0858 04155000
*       RFY                                                        0859 04156000
*         FRRPARMS BASED(R4);                                      0859 04157000
*       GENERATE CODE;                                             0860 04158000
*                             /*RELEASE THE SALLOC LOCK              */ 04159000
         SETLOCK  RELEASE,TYPE=SALLOC,DISABLED,RELATED=(SQA,IEAVTRTS(AL*04160000
               LOCAT))                                                  04161000
*       IF R15^=NULL THEN           /* IF SQA RTCA WAS NOT OBTAINED  */ 04162000
         LTR   R15,R15                                             0861 04163000
         BZ    @RF00861                                            0861 04164000
*         DO;                       /* DO THE FOLLOWING              */ 04165000
*/* ******************************************************************/ 04166000
*/*      THIS SEGMENT ALLOCATES AN RTCA IN THE EVENT A GETMAIN       */ 04167000
*/*      FOR AN RTCA TO RECOVER A SRB MODE TYPE FUNCTION FAILS TO    */ 04168000
*/*      ACQUIRE THE REQUESTED AMOUNT OF SQA. IN THIS CASE THE       */ 04169000
*/*      LOCAL RTCA IS USED INSTEAD(AFTER FIRST INSURING PROPER      */ 04170000
*/*      SERIALIZATION BY ACQUIRING  THE LOCAL LOCK---IF CURRENTLY   */ 04171000
*/*      UNOWNED)                                                    */ 04172000
*/*     INPUT                                                        */ 04173000
*/*  -CURRSTK REGISTER(R8) POINTS TO THE INTERRUPTED STACK FOR       */ 04174000
*/*       WHICH SRM IS TO PERFORM PROCESSING                         */ 04175000
*/*      -PARMREGL REGISTER(R4) POINTS TO THE FRR PARAMETER AREA     */ 04176000
*/*       FOR SRMS FRR WHICH IS DEFINED ON A FRR STACK POINTED TO    */ 04177000
*/*       BY SRMSTAK REGISTER(R2)                                    */ 04178000
*/*     OUTPUT                                                       */ 04179000
*/*      -SRBRTCA REGISTER(R1) CONTAINS THE ADDRESS OF THE ACQUIRED  */ 04180000
*/*       LOCAL RTCA                                                 */ 04181000
*/*      -THE RTM1 WORK AREA OF THE INTERRUPTED STACK INDICATES THAT */ 04182000
*/*       THE MODE IS NOW LOCAL AND THAT THE LOCAL LOCK HAS BEEN     */ 04183000
*/*       ACQUIRED                                                   */ 04184000
*/*      -THE LOCAL RTCA INDICATES THAT THE LOCAL LOCK IS NOT TO BE  */ 04185000
*/*       FREED(SDWAFLLK=OFF)                                        */ 04186000
*/*     NOTES                                                        */ 04187000
*/*      -REGISTERS(R2,R5,R6,R7,R8) CONTENTS ON ENTRY TO THIS SEGMENT*/ 04188000
*/*       MUST BE THE SAME AS ON EXIT FROM THIS SEGMENT              */ 04189000
*/*      -REGISTERS(R11,R12,R13,R14)  ARE DESTROYED BY SETLOCK       */ 04190000
*/* ******************************************************************/ 04191000
*                                                                  0863 04192000
*           RFY                                                    0863 04193000
*             R15 UNRSTD;           /* RETCODE REGISTER FROM GETMAIN    04194000
*                                      NO LONGER NEEDED              */ 04195000
*           RFY                                                    0864 04196000
*             SDWA BASED(ASXBFRWA);                                0864 04197000
*           RFY                                                    0865 04198000
*             FRRS BASED(R8);                                      0865 04199000
*           IF RT1WRTCA^=ASXBFRWA THEN/* IF THE CALLER OF GSRBRTCA IS   04200000
*                                      NOT THE LTOS SEGMENT THEN THE    04201000
*                                      LOCAL LOCK IS NOT HELD AND  0866 04202000
*                                      MUST BE ACQUIRED BEFORE THE 0866 04203000
*                                      LOCAL RTCA CAN BE USED DO THE    04204000
*                                      FOLLOWING                     */ 04205000
*                                                                  0866 04206000
         L     @15,PSAAOLD                                         0866 04207000
         L     @15,ASCBASXB(,@15)                                  0866 04208000
         CLC   RT1WRTCA(4,R8),ASXBFRWA(@15)                        0866 04209000
         BE    @RF00866                                            0866 04210000
*             /*******************************************************/ 04211000
*             /*                                                     */ 04212000
*             /* THIS SEGMENT IS INCLUDE IN THE PROCEDURE GSRBRTCA   */ 04213000
*             /* AND PERFORMS THE FUNCTION OF EXCLUSIVELY ACQUIREING */ 04214000
*             /* THE LOCAL RTCA TO SUPPORT THE FRR PROCESSING OF SRM */ 04215000
*             /* INVOLVED WITH SRB MODE ERRORS AND SRB FRRS THE USE  */ 04216000
*             /* OF THE LOCAL RTCA TO SUPPORT SRB MODE ERRORS WILL   */ 04217000
*             /* ONLY TAKE PLACE WHEN A PREVIOUS GETMAIN FOR A SQA   */ 04218000
*             /* SRB RTCA HAS FAILED. THUS THIS SEGMENT WILL ONLY BE */ 04219000
*             /* ENTERED WHEN THE ABOVE CONDITION OCCURS THE MAIN    */ 04220000
*             /* FUNCTION OF THIS SEGMENT IS TO ACQUIRE THE LOCAL    */ 04221000
*             /* RTCA,ZERO IT AND ENSURE THAT SRM WILL EVENTUALLY USE*/ 04222000
*             /* IT OWNING THE PROPER SERIALIZATION(I.E.THE LOCAL    */ 04223000
*             /* LOCK) INPUT - PARMREGG REGISTER(R11) POINTS TO THE  */ 04224000
*             /* SRM FRR PARAMETER AREA WHOSE SECOND WORD CONTAINS   */ 04225000
*             /* THE RETURN ADDRESS TO THE CALLER OF GSRBRTCA -      */ 04226000
*             /* CURRSTK REG(R8),SRMSTAK REG(R2) CONTAINS THE        */ 04227000
*             /* ADDRESSES OF THE INTERRUPTED STACK AND SRM RECOVERY */ 04228000
*             /* STACK RESPECTIVELY - RECURSE REGISTER(R7) CONTAINS  */ 04229000
*             /* THE CURRENT INTERNAL INDICATION OF RECURSION INTO   */ 04230000
*             /* SRM - RT1WRTCA FIELD OF THE RTM1 WORK AREA PORTION  */ 04231000
*             /* OF THE INTERRUPTED STACK POINTS TO THE ACTIVE RTCA  */ 04232000
*             /* IF A FRR HAS ALREADY BEEN GIVEN CONTROL OR CONTAINS */ 04233000
*             /* ZERO IF SRM IS PREPARING TO INITIALLY ROUTE TO A FRR*/ 04234000
*             /* OUTPUT - IF THE SERIALIZATION OF THE LOCAL RTCA WAS */ 04235000
*             /* ACHIEVED BY AN UNCONDITIONAL REQUEST FOR THE LOCAL  */ 04236000
*             /* LOCK THE ENTIRE LOCAL RTCA IS ZEROED WITH EXCEPTION */ 04237000
*             /* OF THE SDWARPIV BIT WHICH IS TURNED ON WHEN         */ 04238000
*             /* RECURSION IS IN EFFECT SINCE SUCH A REQUEST OF LOCK */ 04239000
*             /* MGR CAUSES ENABLEMENT AND THE POSSIBLE LOSS OF THE  */ 04240000
*             /* RECURSIVE ERROR INFORMATION - IF SERIALIZATION WAS  */ 04241000
*             /* ACHIEVED BY A CONDITIONAL REQUEST FOR THE LOCAL LOCK*/ 04242000
*             /* THEN THE LOCAL RTCA IS ENTIRELY ZEROED - PARMREGL   */ 04243000
*             /* REGISTER(R4) CONTAINS THE POINTER TO THE SRMS FRR - */ 04244000
*             /* PARAMETER AREA CONTAINING THE RETURN ADDRESS TO THE */ 04245000
*             /* CALLER OF GSRBRTCA(--PARMREGG REG(R11)- BEING       */ 04246000
*             /* DESTROYED BY THE LOCK MANAGER - CURRSTK             */ 04247000
*             /* REG(R8),SRMSTAK REG(R2) REMAIN UNCHANGED - THE      */ 04248000
*             /* CONTENTS OF THE RT1WRTCA FIELD IN THE RTM1 WORK AREA*/ 04249000
*             /* ARE UNCHANGED - RECURSE REGISTER(R7) REMAINS        */ 04250000
*             /* UNCHANGED NOTES - REGS(R11,R12,R13,R14) ARE         */ 04251000
*             /* DESTROYED BY THE LOCK MGR - REGS(R0,R2,R5,R6) MUST  */ 04252000
*             /* REMAIN UNCHANGED THRUOUT THIS SEGMENT               */ 04253000
*             /*                                                     */ 04254000
*             /*******************************************************/ 04255000
*                                                                  0867 04256000
*             DO;                                                  0867 04257000
*               RFY                                                0868 04258000
*                 R4 RSTD;          /* PARMREGL REG WILL POINT TO THE   04259000
*                                      FRR PARAMETER AREA            */ 04260000
*               GENERATE CODE;                                     0869 04261000
*                                      /*REQUEST THE LOCAL LOCK      */ 04262000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=COND,                          X04263000
               RELATED=(LOCLRTCA,IEAVTRTM(NOPERCEX))                    04264000
*               IF R13>STLOKHEL THEN/* IF THE LOCAL LOCK WAS NOT   0870 04265000
*                                      CONDITIONALLY OBTAINED OR   0870 04266000
*                                      ALREADY HELD THEN IT WILL BE     04267000
*                                      REQUESTED UNCONDITIONALLY   0870 04268000
*                                                            @YA00097*/ 04269000
         C     R13,@CF00115                                        0870 04270000
         BNH   @RF00870                                            0870 04271000
*PUGETM2:                                                          0871 04272000
*                 DO;                                              0871 04273000
PUGETM2  DS    0H                                                  0872 04274000
*                   RT1TLPN=FRRPFLPN;/* RESTORE RTS RECOVRY  @YM06156*/ 04275000
         LA    @15,16                                              0872 04276000
         ALR   @15,R8                                              0872 04277000
         IC    @03,FRRPFLPN(,R4)                                   0872 04278000
         STC   @03,RT1TLPN(,@15)                                   0872 04279000
*                   RT1TLPID=SRMDRID;/* RESTORE RTS RECOVRY  @YM06156*/ 04280000
         MVI   RT1TLPID(@15),X'01'                                 0873 04281000
*                   GENERATE CODE;                                 0874 04282000
*                                                                  0874 04283000
*                                      /*REQUEST LOCAL LOCK UNCOND   */ 04284000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,                        X04285000
               RELATED=(LOCLRTCA,IEAVTRTM(NOPERCEX))                    04286000
*                   /*************************************************/ 04287000
*                   /*                                               */ 04288000
*                   /* ZERO THE LOCAL RTCA                           */ 04289000
*                   /*                                               */ 04290000
*                   /*************************************************/ 04291000
*                                                                  0875 04292000
*                   SDWA(1:256)=''B;/* ZERO 1ST 256 BYTES            */ 04293000
         L     @15,PSAAOLD                                         0875 04294000
         L     @15,ASCBASXB(,@15)                                  0875 04295000
         L     @15,ASXBFRWA(,@15)                                  0875 04296000
         XC    SDWA(256,@15),SDWA(@15)                             0875 04297000
*                   SDWA(257:512)=''B;/* ZERO 2ND 256 BYTES          */ 04298000
         XC    SDWA+256(256,@15),SDWA+256(@15)                     0876 04299000
*                   SDWARPIV='1'B;  /* SINCE THE UNCONDITIONAL REQST    04300000
*                                      FOR THE LOCAL LOCK CAUSED   0877 04301000
*                                      ENABLEMENT AND A POSSIBLE   0877 04302000
*                                      DESTRUCTION OF THE SRM INPUT     04303000
*                                      ERROR DATA OR THE CURRENT RTCA   04304000
*                                      THE FRR TO EVENTUALLY RECEIVE    04305000
*                                      CONTROL MUST BE INFORMED OF 0877 04306000
*                                      THIS CONDITION                */ 04307000
         OI    SDWARPIV(@15),B'00000100'                           0877 04308000
*                 END;                                             0878 04309000
*               ELSE                                               0879 04310000
*                 DO;               /* IF THE LOCAL LOCK WAS OBTAINED   04311000
*                                      CONDITIONALLY THEN NO       0879 04312000
*                                      ENABLEMENT TOOK PLACE THE REGS   04313000
*                                      AND PSW AT TIME OF ERROR ARE     04314000
*                                      STILL VALID                   */ 04315000
*                                                                  0879 04316000
         B     @RC00870                                            0879 04317000
@RF00870 DS    0H                                                  0880 04318000
*                   /*************************************************/ 04319000
*                   /*                                               */ 04320000
*                   /* ZERO THE LOCAL RTCA                           */ 04321000
*                   /*                                               */ 04322000
*                   /*************************************************/ 04323000
*                                                                  0880 04324000
*                   SDWA(1:256)=''B;/* ZERO 1ST 256 BYTES            */ 04325000
         L     @15,PSAAOLD                                         0880 04326000
         L     @15,ASCBASXB(,@15)                                  0880 04327000
         L     @15,ASXBFRWA(,@15)                                  0880 04328000
         XC    SDWA(256,@15),SDWA(@15)                             0880 04329000
*                   SDWA(257:512)=''B;/* ZERO 2ND 256 BYTES          */ 04330000
         XC    SDWA+256(256,@15),SDWA+256(@15)                     0881 04331000
*                 END;                                             0882 04332000
*               RFY                                                0883 04333000
*                 SDWA BASED(RT1WRTCA);                            0883 04334000
@RC00870 DS    0H                                                  0884 04335000
*             END;                                                 0884 04336000
*           ELSE                                                   0885 04337000
*             ;                     /* OTHERWISE IF LTOS IS CALLER 0885 04338000
*                                      THEN CONTINUE TO USE LOCAL  0885 04339000
*                                      SDWA                  @YA00097*/ 04340000
@RF00866 DS    0H                                                  0886 04341000
*           IF RT1WRTCA^=NULL THEN  /* IF THE CALLER IS THE GTOS OR     04342000
*                                      THE LTOS SEGMENT      @YA00097*/ 04343000
         L     @15,RT1WRTCA(,R8)                                   0886 04344000
         LTR   @15,@15                                             0886 04345000
         BZ    @RF00886                                            0886 04346000
*             SDWAFLLK=OFF;         /* INDICATE IN THE CURRENT SDWA     04347000
*                                      THAT THE LOCAL LOCK MUST NOT     04348000
*                                      BE FREED              @YA00097*/ 04349000
         NI    SDWAFLLK(@15),B'11111110'                           0887 04350000
*           MODELOC=ON;             /* INDICATE LOCAL MODE           */ 04351000
@RF00886 OI    MODELOC+81(R8),B'00001000'                          0888 04352000
*           RT1TLOCL=ON;            /* INDICATE TO RTM THAT THE LOCAL   04353000
*                                      LOCK MUST BE FREED            */ 04354000
         OI    RT1TLOCL(R8),B'00100000'                            0889 04355000
*           R1=ASXBFRWA;            /* OUTPUT REG SRBRTCA CONTAINS 0890 04356000
*                                      THE ADDR OF THE LOCAL RTCA    */ 04357000
         L     @15,PSAAOLD                                         0890 04358000
         L     @15,ASCBASXB(,@15)                                  0890 04359000
         L     R1,ASXBFRWA(,@15)                                   0890 04360000
*         END;                                                     0891 04361000
*       ELSE                                                       0892 04362000
*         DO;                                                      0892 04363000
         B     @RC00861                                            0892 04364000
@RF00861 DS    0H                                                  0893 04365000
*           RFY                                                    0893 04366000
*             FRRS BASED(R8);                                      0893 04367000
*           RT1WSRBR=R1;            /* SAVE ADDR TO GOTTEN SRB IN  0894 04368000
*                                      RTM1 WORK AREA                */ 04369000
         ST    R1,RT1WSRBR(,R8)                                    0894 04370000
*           RT1TRTCA=ON;            /* INDICATE THAT A RTCA WAS    0895 04371000
*                                      SUCCESSFULLY GETMAINED        */ 04372000
         OI    RT1TRTCA(R8),B'00010000'                            0895 04373000
*           RFY                                                    0896 04374000
*             FRRPARMS BASED(R4);                                  0896 04375000
*         END;                                                     0897 04376000
*       RFY                                                        0898 04377000
*         R15 UNRSTD;                                              0898 04378000
@RC00861 DS    0H                                                  0899 04379000
*       R14=FRRPREG1;               /* RESTORE THE RETURN ADDRESS TO    04380000
*                                      THE CALLER                    */ 04381000
         L     R14,FRRPREG1(,R4)                                   0899 04382000
*       RFY                                                        0900 04383000
*         RT1TRACK BASED(ADDR(RT1WLPTA));                          0900 04384000
*       RFY                                                        0901 04385000
*         FRRS BASED(PSACSTK);                                     0901 04386000
*DELETE1:                                                          0902 04387000
*       GENERATE CODE;                                             0902 04388000
DELETE1  DS    0H                                                  0902 04389000
*                                      /*DELETE SRMS FRR             */ 04390000
         SETFRR D,WRKREGS=(R11,R12)                                     04391000
*       RT1TLPN=NONE;                                              0903 04392000
         L     @15,PSACSTK                                         0903 04393000
         MVI   RT1TLPN+16(@15),X'00'                               0903 04394000
*       PSACSTK=R8;                 /* RESTORE THE INTERRUPTED STACK    04395000
*                                      AS CURRENT                    */ 04396000
         ST    R8,PSACSTK                                          0904 04397000
*       RFY                                                        0905 04398000
*         FRRS BASED(R8);                                          0905 04399000
*     END;                                                         0906 04400000
*   ELSE                            /* OTHERWISE USE THE EXISTING  0907 04401000
*                                                            @YM03571*/ 04402000
*     R1=RT1WSRBR;                  /* SRB RTCA              @YM03571*/ 04403000
         B     @RC00817                                            0907 04404000
@RF00817 L     R1,RT1WSRBR(,R8)                                    0907 04405000
*   END GSRBRTCA;                                                  0908 04406000
*                                                                  0908 04407000
@EL00002 DS    0H                                                  0908 04408000
@EF00002 DS    0H                                                  0908 04409000
@ER00002 BR    @14                                                 0908 04410000
*/* ******************************************************************/ 04411000
*/* THIS SEGMENT IS AN INTERNAL PROCEDURE WITHIN IEAVTRTS WHICH      */ 04412000
*/* PERFORMS THE NORMAL PERCOLATION PROCESS.  THE NORMAL PERCOLATION */ 04413000
*/* PROCESS INVOLVES THE FOLLOWING:                                  */ 04414000
*/*  1.EXAMINING THE CURRENT FRR ENTRY TO DETERMINE IF THE FRR       */ 04415000
*/*    ASSOCIATED WITH THE ENTRY WAS ROUTED TO                       */ 04416000
*/*  2.IF THE CURRENT FRR ENTRY INDICATES THAT THE FRR WAS           */ 04417000
*/*    ROUTED TO AND THE STACK ON INPUT TO THIS PROCEDURE IS NOT     */ 04418000
*/*    EMPTY THEN THE SECOND WORD OF THE ENTRY(CONTAINING IEAVTRTS   */ 04419000
*/*    FLAGS) IS ZEROED AND THE FRR ENTRY IS DELETED(VIA THE SETFRR  */ 04420000
*/*    MACRO USING THE DELETE OPTION)                                */ 04421000
*/*  3.STEPS 1 AND 2 ABOVE ARE REPEATED UNTIL AN ENTRY IS FOUND THAT */ 04422000
*/*    INDICATES THAT A FRR HAS NOT YET RECEIVED CONTROL OR UNTIL    */ 04423000
*/*    THE FRR STACK IS EMPTY                                        */ 04424000
*/*  4.IF THE FRR STACK IS EMPTY AND IS NOT ONE OF THE SUPER STACKS  */ 04425000
*/*    (SINCE THESE STACKS ALWAYS HAVE THE SUPER FRR ENTRY ACTIVE)   */ 04426000
*/*    THE TARGRTCA REGISTER(R5) IS ZEROED TO INDICATE THAT NO MORE  */ 04427000
*/*    FRRS ARE AVAILABLE                                            */ 04428000
*/*                                                                  */ 04429000
*/*   SEGMENT NAME - SNRMPERC                                        */ 04430000
*/*   PROCEDURE NAME - NORMPERC                                      */ 04431000
*/*   PROCEDURE OPTIONS - NOSAVE NOSAVEAREA                          */ 04432000
*/*                                                                  */ 04433000
*/*   INPUT                                                          */ 04434000
*/*     CURRSTK REG(R8) - POINTS TO THE INTERRUPTED FRR STACK ON     */ 04435000
*/*      WHICH PERCOLATION WILL TAKE PLACE                           */ 04436000
*/*    SRMRETAD REG(R14) - CONTAINS THE RETURN ADDRESS OF THE CALLER */ 04437000
*/*     OF THIS INTERNAL PROCEDURE                                   */ 04438000
*/*                                                                  */ 04439000
*/*   OUTPUT                                                         */ 04440000
*/*     .THE FRR STACK IS EITHER EMPTY OR THE CURRENT FRR ENTRY ON   */ 04441000
*/*      THE STACK IS THE NEXT FRR TO GET CONTROL                    */ 04442000
*/*     .TARGRTCA REG(R5) IS ZERO IF THE FRR STACK IS THE NORMAL FRR */ 04443000
*/*      STACK AND NO MORE FRRS ON THIS STACK ARE AVAILABLE FOR FRR  */ 04444000
*/*      ROUTING                                                     */ 04445000
*/*     .TARGRTCA REG(R5) POINTS TO THE CURRENTLY ACTIVE RTCA IF     */ 04446000
*/*      THE FRR STACK HAS A FRR THAT IS TO BE ROUTED TO AFTER THE   */ 04447000
*/*      PERCOLATION PROCESS IS COMPLETE                             */ 04448000
*/*                                                                  */ 04449000
*/*   NOTES                                                          */ 04450000
*/*  - REGS(R0,R2,R5,R6,R7,R8,R9,R10)MUST REMAIN UNCHANGED THROUGHOUT*/ 04451000
*/*  - REGS(R1,R3,R4,R11,R12,R13,R15) ARE VOLATILE THROUGHOUT THIS   */ 04452000
*/*    PROCEDURE                                                     */ 04453000
*/*  - REG(R14) ON INPUT IS THE RETURN ADDRESS TO THE CALLER         */ 04454000
*/*    AND IS PRESERVED ON ENTRY IN THE SRM REG SAVE AREA ASSOCIATED */ 04455000
*/*    WITH THE CURRENT RTCA AND IS RESTORE ON RETURN FROM THIS      */ 04456000
*/*    REG SAVE AREA                                                 */ 04457000
*/*  -THIS PROCEDURE CALLS THE INTERNAL PROCEDURE DELTAFRR TO DELETE */ 04458000
*/*    FRRS FROM THE FRR STACK AS EACH PERCOLATION OCCURRS           */ 04459000
*/* ******************************************************************/ 04460000
*                                                                  0909 04461000
*NORMPERC:                                                         0909 04462000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0909 04463000
NORMPERC DS    0H                                                  0910 04464000
*   RFY                                                            0910 04465000
*    (R0,                           /* VOLATILE REGS OF CALLER       */ 04466000
*     R2,                           /* THAT MUST BE PRESERVED        */ 04467000
*     R5,                           /* THROUGHOUT THIS PROC          */ 04468000
*     R6,                                                          0910 04469000
*     R7,                                                          0910 04470000
*     R8,                                                          0910 04471000
*     R14) RSTD;                                                   0910 04472000
*   SRMREG9=R14;                    /* CHKPT THE RETURN ADDRESS TO 0911 04473000
*                                      THE CALLER                    */ 04474000
         L     @15,RT1WRTCA(,R8)                                   0911 04475000
         ST    R14,SRMREG9+512(,@15)                               0911 04476000
*   DO WHILE FRRSRCUR=ON            /* LOOP THRU THE FRR ENTRIES     */ 04477000
*         &FRRSEMP<FRRSCURR;        /* FROM THE CURRENT TO THE OLDEST   04478000
*                                      AS LONG AS EACH ENTRY       0912 04479000
*                                      INDICATES RECURSION           */ 04480000
         B     @DE00912                                            0912 04481000
@DL00912 DS    0H                                                  0913 04482000
*     FRRSFLGS=''B;                 /* ZERO THE SRM INDICATORS IN THE   04483000
*                                      FRR ENTRY                     */ 04484000
         L     @15,FRRSCURR(,R8)                                   0913 04485000
         XC    FRRSFLGS(4,@15),FRRSFLGS(@15)                       0913 04486000
*     CALL DELTAFRR;                /* DELETE THE FRR FROM THE STACK */ 04487000
         BAL   @14,DELTAFRR                                        0914 04488000
*   END;                                                           0915 04489000
@DE00912 L     @15,FRRSCURR(,R8)                                   0915 04490000
         TM    FRRSRCUR(@15),B'10000000'                           0915 04491000
         BNO   @DC00912                                            0915 04492000
         C     @15,FRRSEMP(,R8)                                    0915 04493000
         BH    @DL00912                                            0915 04494000
@DC00912 DS    0H                                                  0916 04495000
*   IF FRRSEMP=FRRSCURR             /* IF THE FRR STACK IS EMPTY     */ 04496000
*       &R8=PSANSTK THEN            /* THEN SRM PROCESSING IS TO   0916 04497000
*                                      EVENTUALLY PROCEED TO THE EXIT   04498000
*                                      SEGMENT                       */ 04499000
         CLC   FRRSEMP(4,R8),FRRSCURR(R8)                          0916 04500000
         BNE   @RF00916                                            0916 04501000
         C     R8,PSANSTK                                          0916 04502000
         BNE   @RF00916                                            0916 04503000
*     R5=NULL;                                                     0917 04504000
         SLR   R5,R5                                               0917 04505000
*   ELSE                                                           0918 04506000
*     ;                             /* IF THE STACK IS NOT EMPTY THEN   04507000
*                                      CONTINUE SCANNING THE FRR   0918 04508000
*                                      ENTRIES                       */ 04509000
@RF00916 DS    0H                                                  0919 04510000
*   R14=SRMREG9;                    /* REESTABLISH THE RETURN ADDR TO   04511000
*                                      THE CALLER                    */ 04512000
         L     @03,RT1WRTCA(,R8)                                   0919 04513000
         L     R14,SRMREG9+512(,@03)                               0919 04514000
*   END NORMPERC;                                                  0920 04515000
*                                                                  0920 04516000
@EL00003 DS    0H                                                  0920 04517000
@EF00003 DS    0H                                                  0920 04518000
@ER00003 BR    @14                                                 0920 04519000
*   /*****************************************************************/ 04520000
*   /*                                                               */ 04521000
*   /* THIS SEGMENT IS AN INTERNAL PROCEDURE WHITHIN SRM WHICH       */ 04522000
*   /* PROVIDES THE FUNCTION OF FREEING LOCKS AS REQUESTED BY FRRS   */ 04523000
*   /* AND AS INDICATED IN THE RTCA. SEGMENT NAME-SRFRLOCKS PROCEDURE*/ 04524000
*   /* NAME-FRLOCKS PROCEDURE OPTIONS-NOSAVE NOSAVEAREA OPERATION -  */ 04525000
*   /* EACH LOCK FREEING REQUEST BIT IN THE RTCA IS CHECKED TO       */ 04526000
*   /* DETERMINE WHETHER THE LOCK SHOULD BE FREED(I.E. INDICATED BY  */ 04527000
*   /* THE BIT BEING ON). FOR EACH ON BIT A SETLOCK RELEASE IS ISSUED*/ 04528000
*   /* SPECIFYING THE APPROPRIATE LOCK TYPE ASSOCIATED WITH EACH     */ 04529000
*   /* GIVEN BIT SUCH THAT THE LOCK MANAGER WILL RETURN CONTROL TO   */ 04530000
*   /* SRM PHYSICALLY DISABLED. THOSE LOCKS REQUIRING A LOCKWORD IN  */ 04531000
*   /* ORDER TO BE FREED ARE FREED IN THE SAME MANNER AS             */ 04532000
*   /* ABOVE---USING THE APPROPRIATE LOCKWORD SUPPLIED BY THE FRR IN */ 04533000
*   /* THE RTCA INPUT - CURRSTK REGISTER(R8) CONTAINS THE ADDRESS OF */ 04534000
*   /* THE INTERRUPTED STACK - SRMSTAK REGISTER(R2) CONTAINS THE     */ 04535000
*   /* ADDRESS OF THE FRR STACK SRM USES TO DEFINE ITS OWN FRRS -    */ 04536000
*   /* RT1WRTCA FIELD OF THE RTM1 WORK AREA PORTION OF THE           */ 04537000
*   /* INTERRUPTED STACK POINTS TO THE ACTIVE RTCA CONTAINING THE    */ 04538000
*   /* LOCK FREEING INFORMATION - SRMRETAD REGISTER(R14) CONTAINS THE*/ 04539000
*   /* RETURN ADDRESS TO THE CALLER OF FRLOCKS OUTPUT - THE LOCKS TO */ 04540000
*   /* FREE INDICATORS AND THE LOCKWORDS IN THE RTCA ARE ZEROED AFTER*/ 04541000
*   /* THE LOCK FREEING TAKES PLACE - CURRSTK REGISTER(R8),SRMSTAK   */ 04542000
*   /* REGISTER(R2) ARE UNCHANGED - SRMRETAD REGISTER(R14) IS        */ 04543000
*   /* RESTORED WITH THE RETURN ADDRESS TO THE CALLER OF FRLOCKS -   */ 04544000
*   /* THE RT1WRTCA FIELD IN THE RTM1 WORK AREA STILL POINTS TO THE  */ 04545000
*   /* ACTIVE RTCA NOTES - REGS(R11,R12,R13,R14) ARE DESTROYED BY THE*/ 04546000
*   /* LOCK MANAGER - REGS(R11,R12) ARE USED BY SRM AS WORK REGS TO  */ 04547000
*   /* DEFINE ITS OWN FRR USING THE SETFRR MACRO - PARMREGL          */ 04548000
*   /* REGISTER(R4) POINTS TO SRMS FRR PARAMETER AREA AFTER THE      */ 04549000
*   /* SETFRR IS ISSUED AND MUST REMAIN RESTRICTED THROUGHOUT THIS   */ 04550000
*   /* PROC UNTIL RETURN IS FINALLY REESTABLISHED TO THE CALLER SINCE*/ 04551000
*   /* THE SECOND WORD OF THE FRR PARAMETER CONTAINS THE RETURN      */ 04552000
*   /* ADDRESS TO THE CALLER AND MUST BE REESTABLISHED TO AFFECT     */ 04553000
*   /* RETURN TO THE CALLER ENTRY------FRLOCKS ATTRIBUTES -          */ 04554000
*   /* REENTRANT,NUCLEUS RESIDENT,ZERO PSW PROTECT KEY,              */ 04555000
*   /* DISABLED,REFRESHABLE,FIXED SUPERVISOR STATE LINKAGE - BAL OR  */ 04556000
*   /* BALR EXIT - NORMAL - RETURN TO CALLER EXIT - ERROR - RETURN TO*/ 04557000
*   /* CALLER EXTERNAL REFERENCES ROUTINES - LOCK MANAGER VIA SETLOCK*/ 04558000
*   /* DATA AREAS - FLC/PSA CONTROL BLOCKS - RTCA,RTM1 WORK AREA     */ 04559000
*   /* TABLES - NONE MACROS - SETLOCK,SETFRR MESSAGES - NONE M.O.    */ 04560000
*   /* NUMBER - 4.3.1.4.6                                            */ 04561000
*   /*                                                               */ 04562000
*   /*****************************************************************/ 04563000
*                                                                  0921 04564000
*FRLOCKS:                                                          0921 04565000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0921 04566000
FRLOCKS  DS    0H                                                  0922 04567000
*   RFY                                                            0922 04568000
*    (R0,                           /* VOLATILE REGISTERS THAT MUST  */ 04569000
*     R2,                           /* BE PRESERVED ACROSS THIS      */ 04570000
*     R5,                           /* PROCEDURE                     */ 04571000
*     R6,                                                          0922 04572000
*     R1,                                                          0922 04573000
*     R7,                                                          0922 04574000
*     R8,                                                          0922 04575000
*     R11,                          /* REGISTERS USED BY THIS PROC   */ 04576000
*     R12,                          /* TO ESTABLISH FRRS VIA   SETFRR*/ 04577000
*     R13,                          /* AND TO INTERFACE WITH         */ 04578000
*     R14) RSTD;                    /* EXTERNAL ROUTINES             */ 04579000
*   DO;                                                            0923 04580000
*     SRMWSAV2=R14;                 /* PRESERVE THE RETURN ADDRESS TO   04581000
*                                      THE CALLER OF THIS PROCEDURE  */ 04582000
         L     @15,RT1WRTCA(,R8)                                   0924 04583000
         ST    R14,SRMWSAV2+512(,@15)                              0924 04584000
*     IF R1^=NULL THEN              /* IF THERE ARE LOCKS TO BE FREED   04585000
*                                      DO FOLLOWING                  */ 04586000
         LTR   R1,R1                                               0925 04587000
         BZ    @RF00925                                            0925 04588000
*       DO;                                                        0926 04589000
*         GENERATE CODE;                                           0927 04590000
*                                      /*FREE REQUESTED LOCKS        */ 04591000
         SETLOCK RELEASE,DISABLED,TYPE=(R1),                           C04592000
               RELATED=('LOCKS FREED AS REQUESTED BY FRR')              04593000
         L     R5,RT1WRTCA(,R8)  GET POINTER TO CURRENT RTCA            04594000
         SR    R11,R11                                                  04595000
         ICM   R11,3,LKTOFREE(R5)  GET LOCKS REQUESTED TO FREE          04596000
         LR    R12,R11                                                  04597000
         NR    R12,R1  ISOLATE LOCKS THAT ARE FREED                     04598000
         XR    R11,R12  RETAIN ADDITIONAL LOCKS TO FREE                 04599000
         STCM  R11,3,LKTOFREE(R5) UPDATE RTCA WITH ADDED LOCKS TO FREE  04600000
*       END;                                                       0928 04601000
*     ELSE                                                         0929 04602000
*       ;                           /* IF THERE ARE NO LOCKS TO BE 0929 04603000
*                                      FREED BYPASS THE RELEASE      */ 04604000
@RF00925 DS    0H                                                  0930 04605000
*     R14=SRMWSAV2;                 /* REESTABLISH THE RETURN ADDRESS   04606000
*                                      TO THE CALLER STACK AS CURRENT*/ 04607000
         L     @03,RT1WRTCA(,R8)                                   0930 04608000
         L     R14,SRMWSAV2+512(,@03)                              0930 04609000
*   END;                            /* END FREE LOCK PROCESSING      */ 04610000
*   END FRLOCKS;                                                   0932 04611000
*                                                                  0932 04612000
@EL00004 DS    0H                                                  0932 04613000
@EF00004 DS    0H                                                  0932 04614000
@ER00004 BR    @14                                                 0932 04615000
*/* ******************************************************************/ 04616000
*/* THIS SEGMENT PERFORMS STACK MAINTENANCE ON THE FRR STACK         */ 04617000
*/*  WHEN PERCOLATION IS BEING PERFORMED AND WHEN EITHER THE LAST    */ 04618000
*/*  FRR TO GET CONTROL ADDED FRRS TO THE STACK OR DELETE A NUMBER   */ 04619000
*/*  OF FRRS FROM THE STACK PRIOR TO ITS RETURN TO IEAVTRTS          */ 04620000
*/*  THIS STACK MAINTENANCE INVOLVES INSURING THAT THOSE FRR ENTRIES */ 04621000
*/*  SKIPPED OVER BY THE FRR DELETING FRRS OR ADDING FRRS ARE        */ 04622000
*/* PROPERLY RESET SO THAT IEAVTRTS PROCESSING WILL NOT MISTAKE THOSE*/ 04623000
*/* THOSE SKIPPED OVER ENTRIES AS BEING INVOLVED IN THE FURTHER      */ 04624000
*/* PROCESSING OF THE ERROR AS THE PERCOLATION AND FRR ROUTING       */ 04625000
*/* PROCESSES CONTINUE FOR THE ERROR                                 */ 04626000
*/*   SPECIFICALLY IEAVTRTS ZEROES THE SECOND WORD OF EACH OF THE    */ 04627000
*/*   SKIPPED OVER ENTRIES TO INSURE THAT IEAVTRTS FURTHER PROCESSING*/ 04628000
*/*   RECOGNIZES THESE FRR ENTRIES AS FOR FRRS THAT HAVE NOT YET     */ 04629000
*/*   BEEN ROUTED TO                                                 */ 04630000
*/* INPUT TO THIS SEGMENT IS AS FOLLOWS:                             */ 04631000
*/*  - CURRSTK REG(R8) POINTS TO THE CURRENT INTERRUPTED STACK       */ 04632000
*/*  - RT1WRTCA FIELD IN THE RTM1 WORK AREA PORTION OF THE           */ 04633000
*/*    INTERRUPTED STACK POINTS TO THE CURRENT RTCA PASSED TO        */ 04634000
*/*    THE LAST FRR TO GET CONTROL                                   */ 04635000
*/*  - THE SRM REGISTER SAVE AREA ASSOCIATED WITH THE RTCA           */ 04636000
*/* OUTPUT FROM THIS SEGMENT IS AS FOLLOWS:                          */ 04637000
*/*  - THE SKIPPED OVER FRR ENTRIES HAVE BEEN RESET                  */ 04638000
*/* *****NOTES*****                                                  */ 04639000
*/*  REGS(R0,R2,R5,R6,R7,R8,R9,R10,R14) ARE RESTRICTED               */ 04640000
*/*  REG(R14) IS SAVED IN THE SRM REG SAVE AREA ON ENTRY AND RESTORED*/ 04641000
*/*  PRIOR TO EXIT FROM THIS INTERNAL PROCEDURE                      */ 04642000
*/*  REGS(R1,R4,R11,R12,R13,R15) ARE VOLATILE                        */ 04643000
*/*  REG(R3) IS USED TO OPTIMIZE THE CODE                            */ 04644000
*/*                                                                  */ 04645000
*/* PROCEDURE NAME - STAKMAIN                                        */ 04646000
*/* SEGMENT NAME - SSTKMAIN                                          */ 04647000
*/* PROCEDURE OPTIONS - NOSAVE NOSAVEAREA                            */ 04648000
*/*                                                                  */ 04649000
*/*  DELTAFRR -AN INTERNAL PROCEDURE IS USED TO SCAN THE SKIPPED OVER*/ 04650000
*/*             FRR ENTRIES                                          */ 04651000
*/*  NORMPERC - AN INTERNAL PROCEDURE IS USED TO PERFORM NORMAL      */ 04652000
*/*             PERCOLATION WHEN THE SKIPPED OVER FRR ENTRIES HAVE   */ 04653000
*/*             ALL BEEN RESET                                       */ 04654000
*/* ******************************************************************/ 04655000
*                                                                  0933 04656000
*STAKMAIN:                                                         0933 04657000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0933 04658000
STAKMAIN DS    0H                                                  0934 04659000
*   RFY                                                            0934 04660000
*    (R0,                           /* VOLATILE REGISTERS THAT MUST  */ 04661000
*     R2,                           /* BE PRESERVED THROUGHOUT THIS  */ 04662000
*     R5,                           /* PROCEDURE                     */ 04663000
*     R6,                                                          0934 04664000
*     R7,                                                          0934 04665000
*     R8,                                                          0934 04666000
*     R14) RSTD;                                                   0934 04667000
*   RFY                                                            0935 04668000
*     R3 RSTD;                                                     0935 04669000
*   R3=RT1WRTCA;                                                   0936 04670000
         L     R3,RT1WRTCA(,R8)                                    0936 04671000
*   RFY                                                            0937 04672000
*     SRMRGSV BASED(R3+LENGTH(SDWA));                              0937 04673000
*   SRMREG14=R14;                   /* CHKPT THE RETURN ADDRESS TO 0938 04674000
*                                      THE CALLER OF THE PROC        */ 04675000
         ST    R14,SRMREG14+512(,R3)                               0938 04676000
*   DO WHILE FRRSCURR^=SRMTGFRR;    /* LOOP THROUGH THE FRR ENTRIES     04677000
*                                      ON THE INTERRUPTED STACK AS 0939 04678000
*                                      LONG AS THE SAVED POINTER TO     04679000
*                                      THE FRR ENTRY ASSOCIATED WITH    04680000
*                                      THE LAST FRR TO GET CONTROL 0939 04681000
*                                      DOES NOT EQUAL THE CURRENT FRR   04682000
*                                      ENTRY ON THE STACK            */ 04683000
         B     @DE00939                                            0939 04684000
@DL00939 DS    0H                                                  0940 04685000
*     FRRSFLGS=''B;                 /* ZERO SRM INDICATORS IN FRR  0940 04686000
*                                      ENTRY                         */ 04687000
         L     @15,FRRSCURR(,R8)                                   0940 04688000
         XC    FRRSFLGS(4,@15),FRRSFLGS(@15)                       0940 04689000
*     CALL DELTAFRR;                /* DELETE THE FRR FROM THE STACK */ 04690000
         BAL   @14,DELTAFRR                                        0941 04691000
*   END;                                                           0942 04692000
@DE00939 CLC   FRRSCURR(4,R8),SRMTGFRR+512(R3)                     0942 04693000
         BNE   @DL00939                                            0942 04694000
*   CALL NORMPERC;                  /* WHEN THE CURRENT FRR ENTRY  0943 04695000
*                                      ADDRESS EQUALS THE SAVED FRR     04696000
*                                      ENTRY ADDRESS PERFORM NORMAL     04697000
*                                      PERCOLATION                   */ 04698000
         BAL   @14,NORMPERC                                        0943 04699000
*   R14=SRMREG14;                   /* REESTABLISH THE RETURN ADDR TO   04700000
*                                      THE CALLER                    */ 04701000
         L     R14,SRMREG14+512(,R3)                               0944 04702000
*   RFY                                                            0945 04703000
*     R3 UNRSTD;                                                   0945 04704000
*   RFY                                                            0946 04705000
*     SRMRGSV BASED(RT1WRTCA+LENGTH(SDWA));                        0946 04706000
*   END STAKMAIN;                                                  0947 04707000
*                                                                  0947 04708000
@EL00005 DS    0H                                                  0947 04709000
@EF00005 DS    0H                                                  0947 04710000
@ER00005 BR    @14                                                 0947 04711000
*   /*****************************************************************/ 04712000
*   /*                                                               */ 04713000
*   /* THIS SEGMENT IS AN INTERNAL PROCEDURE WHICH PERFORMS THE      */ 04714000
*   /* FUNCTION OF DELETING FRRS FROM THE CURRENT FRR STACK INPUT -  */ 04715000
*   /* REGISTERS R11 AND R12 WILL BE USED AS WORKREGS WHEN ISSUING   */ 04716000
*   /* THE SETFRR MACRO WITH THE DELETE OPTION - PSACSTK POINTS TO   */ 04717000
*   /* THE FRR STACK IN WHICH THE CURRENT FRR WILL BE DELETED OUTPUT */ 04718000
*   /* - REGISTER R11 AND R12 DESTROYED BY THE SETFRR MACRO NOTES -  */ 04719000
*   /* REGISTER R14 CONTAINING THE RETURN ADDRESS TO THE CALLER MUST */ 04720000
*   /* NOT BE USED IN THIS PROCEDURE - REGISTERS(R0,R2,R5,R6,R7,R8)  */ 04721000
*   /* MUST BE PRESERVED THOUGHOUT THIS PROCEDURE                    */ 04722000
*   /*                                                               */ 04723000
*   /*****************************************************************/ 04724000
*                                                                  0948 04725000
*DELTAFRR:                                                         0948 04726000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0948 04727000
DELTAFRR DS    0H                                                  0949 04728000
*   RFY                                                            0949 04729000
*    (R11,                                                         0949 04730000
*     R12) RSTD;                                                   0949 04731000
*   GENERATE CODE;                                                 0950 04732000
         SETFRR D,WRKREGS=(R11,R12)    DELETE A FRR                     04733000
*   RFY                                                            0951 04734000
*    (R11,                                                         0951 04735000
*     R12) UNRSTD;                                                 0951 04736000
*   END DELTAFRR;                                                  0952 04737000
*                                                                  0952 04738000
@EL00006 DS    0H                                                  0952 04739000
@EF00006 DS    0H                                                  0952 04740000
@ER00006 BR    @14                                                 0952 04741000
*   /*****************************************************************/ 04742000
*   /*                                                               */ 04743000
*   /* THIS SEGMENT IS AN INTERNAL PROCEDURE WHOSE FUNCTION IS TO    */ 04744000
*   /* ADJUST THE MODE AND RTCA WHICH SUPPORTS A GLOBALLY LOCKED OR  */ 04745000
*   /* PHYSICALLY DISABLED FAILURE TO THE MODE AND RTCA WHICH        */ 04746000
*   /* SUPPORTS ALOCALLY LOCKED FAILURE IN PREPARATION FOR           */ 04747000
*   /* PERCOLATING FROM A FRR WHICH RECOVERS A GLOBALLY LOCKED OR    */ 04748000
*   /* PHYSICALLY DISABLED FUNCTION TO ONE WHICH RECOVERS A LOCALLY  */ 04749000
*   /* LOCKED FUNCTION SEGMENT NAME-GTOL PROCEDURE NAME=XGTOL        */ 04750000
*   /* PROCEDURE OPTIONS-NOSAVE NOSAVEAREA OPERATION THE LOCAL RTCA  */ 04751000
*   /* IS ALLOCATED AND THE CONTENTS OF THE GLOBAL RTCA IS COPIED    */ 04752000
*   /* INTO THE LOCAL RTCA. THE MODE IS ADJUSTED TO REFLECT LOCAL    */ 04753000
*   /* MODE INPUT - RT1WRTCA FIELD OF THE RTM1 WORK AREA PROTION OF  */ 04754000
*   /* THE INTERRUPTED STACK POINTS TO THE GLOBAL RTCA -             */ 04755000
*   /* PSAAOLD->ASCB->ASXB->ASXBFRWA(LOCAL RTCA) - WORKREG           */ 04756000
*   /* REGISTER(R4) USED AS A WORK REGISTER - CURRSTK REGISTER(R8)   */ 04757000
*   /* POINTS TO THE INTERRUPTED STACK - SRMSTAK REGISTER(R2) POINTS */ 04758000
*   /* TO THE SRM RECOVERY STACK - RT1WSRMD(MODEBYTE) CONTAINS THE   */ 04759000
*   /* MODE - TARGRTCA REGISTER(R5) POINTS TO THE GLOBAL RTCA OUTPUT */ 04760000
*   /* - TARGRTCA REGISTER(R5) POINTS TO THE LOCAL RTCA - RT1WRTCA   */ 04761000
*   /* FIELD OF THE RTM1 WORK AREA POINTS TO THE LOCAL RTCA -        */ 04762000
*   /* RT1WSRMD(MODEBYTE) INDICATES THE NEW MODE OF LOCAL NOTES -    */ 04763000
*   /* REGS(R0,R2,R5,6,R7,R8) ARE UNCHANGED THROUGHOUT THIS SEGMENT -*/ 04764000
*   /* REGS(R1,R3,R4,R11,R12,R13,R14,R15) ARE VOLATILE               */ 04765000
*   /*                                                               */ 04766000
*   /*****************************************************************/ 04767000
*                                                                  0953 04768000
*XGTOL:                                                            0953 04769000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0953 04770000
XGTOL    DS    0H                                                  0954 04771000
*   RFY                                                            0954 04772000
*     R14 RSTD;                     /* PRESERVE RETURN ADDRESS TO  0954 04773000
*                                      CALLER OF XGTOL               */ 04774000
*   RFY                                                            0955 04775000
*    (R0,                           /* VOLATILE REGS THAT MUST BE    */ 04776000
*     R2,                           /* ACROSS THE CALL TO THIS       */ 04777000
*     R5,                           /* PROCEDURE                     */ 04778000
*     R6,                                                          0955 04779000
*     R7,                                                          0955 04780000
*     R8) RSTD;                                                    0955 04781000
*   DO;                                                            0956 04782000
*     RFY                                                          0957 04783000
*       R4 RSTD;                                                   0957 04784000
*     RFY                                                          0958 04785000
*       NEWRTCA BASED(R4);          /* THE NEW RTCA IS BASED         */ 04786000
*     R4=ASXBFRWA;                  /* THE NEW RTCA IS THE LOCAL RTCA*/ 04787000
         L     @15,PSAAOLD                                         0959 04788000
         L     @15,ASCBASXB(,@15)                                  0959 04789000
         L     R4,ASXBFRWA(,@15)                                   0959 04790000
*     NEWRTCA(1:256)=SDWA(1:256);   /* COPY CONTENTS OF              */ 04791000
         L     @15,RT1WRTCA(,R8)                                   0960 04792000
         MVC   NEWRTCA(256,R4),SDWA(@15)                           0960 04793000
*     NEWRTCA(257:512)=SDWA(257:512);/* OLD RTCA TO NEW RTCA         */ 04794000
         MVC   NEWRTCA+256(256,R4),SDWA+256(@15)                   0961 04795000
*     NEWRGSV=SRMRGSV;              /* COPY SRM REG SAVE             */ 04796000
         MVC   NEWRGSV(72,R4),SRMRGSV+512(@15)                     0962 04797000
*     R5=R4;                        /* THE LOCAL RTCA IS NOW ACTIVE  */ 04798000
         LR    R5,R4                                               0963 04799000
*     RT1WRTCA=R4;                  /* LOCAL RTCA IS ACTIVE          */ 04800000
         ST    R4,RT1WRTCA(,R8)                                    0964 04801000
*     SDWARECA=ADDR(SDWAVRA);       /* INIT PTR TO VARIABLE RECORDING   04802000
*                                      AREA IN LOCAL RTCA    @YM02623*/ 04803000
         L     @15,RT1WRTCA(,R8)                                   0965 04804000
         LA    @12,SDWAVRA(,@15)                                   0965 04805000
         ST    @12,SDWARECA(,@15)                                  0965 04806000
*     SDWADPLA=ADDR(SDWASNPA);      /* INIT PTR TO DUMP PARM LIST IN    04807000
*                                      THE LOCAL RTCA        @YM02623*/ 04808000
         LA    @12,SDWASNPA(,@15)                                  0966 04809000
         ST    @12,SDWADPLA(,@15)                                  0966 04810000
*     RFY                                                          0967 04811000
*       NEWRTCA;                                                   0967 04812000
*     IF MODEGSUS=ON THEN           /* IF A GLOBAL SUSPEND LOCK IS 0968 04813000
*                                      HELD DO FOLLOWING             */ 04814000
         LA    @12,81                                              0968 04815000
         ALR   @12,R8                                              0968 04816000
         TM    MODEGSUS(@12),B'00010000'                           0968 04817000
         BNO   @RF00968                                            0968 04818000
*       IF SDWACMS=ON THEN          /* AND THE CMS LOCK IS REQUESTED    04819000
*                                      TO BE FREED BY THE FRR        */ 04820000
         TM    SDWACMS(@15),B'00000010'                            0969 04821000
         BNO   @RF00969                                            0969 04822000
*         MODEGSUS=OFF;             /* INDICATE LOCAL MODE WITH THE     04823000
*                                      CMS LOCK UNOWNED              */ 04824000
         NI    MODEGSUS(@12),B'11101111'                           0970 04825000
*       ELSE                                                       0971 04826000
*         ;                         /* OTHERWISE INDICATE THAT BOTH     04827000
*                                      THE CMS AND LOCK LOCKS ARE  0971 04828000
*                                      HELD(CMS LOCAL MODE           */ 04829000
@RF00969 DS    0H                                                  0972 04830000
*     ELSE                                                         0972 04831000
*       ;                           /* OTHERWISE THE MODE IS STRICTLY   04832000
*                                      LOCAL MODE                    */ 04833000
@RF00968 DS    0H                                                  0973 04834000
*     MODEGSPN=OFF;                 /* INDICATE LOCAL MODE           */ 04835000
*     MODEDIS=OFF;                  /* NO GLOBAL SPIN LOCKS HELD AND    04836000
*                                      ENABLED                       */ 04837000
*     MODESUPR=OFF;                 /* SUPER MODE INACTIVE           */ 04838000
         NI    MODEGSPN+81(R8),B'00011111'                         0975 04839000
*     RFY                                                          0976 04840000
*       R4 UNRSTD;                                                 0976 04841000
*   END;                                                           0977 04842000
*   END XGTOL;                                                     0978 04843000
*                                                                  0978 04844000
@EL00007 DS    0H                                                  0978 04845000
@EF00007 DS    0H                                                  0978 04846000
@ER00007 BR    @14                                                 0978 04847000
*/* ******************************************************************/ 04848000
*/* THIS SEGMENT TRANSFERS THE MODE OF FRR PROCESSING FROM GLOBALLY  */ 04849000
*/* LOCKED MODE TO SRB MODE WHEN IT IS DETERMINED THAT PRIOR TO      */ 04850000
*/* PERCOLATING TO THE NEXT FRR THE LOCKS REQUESTED TO BE FREED BY   */ 04851000
*/* THE PERCOLATING FRR,WHEN FREED WILL RESULT IN UNLOCKED SRB MODE  */ 04852000
*/* FRR PROCESSING WHERE AT LEAST ONE GLOBALLY LOCK IS REQUESTED TO  */ 04853000
*/* BE FREED OR ALL SUPER BITS ARE OFF                               */ 04854000
*/* ******************************************************************/ 04855000
*                                                                  0979 04856000
*XGTOS:                                                            0979 04857000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               0979 04858000
XGTOS    DS    0H                                                  0980 04859000
*   RFY                                                            0980 04860000
*     R14 RSTD;                                                    0980 04861000
*   RFY                                                            0981 04862000
*    (R0,                           /* VOLATILE REGS THAT MUST BE    */ 04863000
*     R2,                           /* ACROSS THE CALL TO THIS       */ 04864000
*     R5,                           /* PROCEDURE                     */ 04865000
*     R6,                                                          0981 04866000
*     R7,                                                          0981 04867000
*     R8) RSTD;                                                    0981 04868000
*   CHKPT3=R14;                     /* PRESERVE RETURN ADDRESS TO THE   04869000
*                                      CALLER OF XGTOS               */ 04870000
         ST    R14,CHKPT3+48(,R8)                                  0982 04871000
*   DO;                                                            0983 04872000
*     RFY                                                          0984 04873000
*      (R1,                         /* FURTHER REGISTERS DESTROYED   */ 04874000
*       R11,                                                       0984 04875000
*       R13) RSTD;                  /* BY THE LOCK MGR               */ 04876000
*     GENERATE CODE;                                               0985 04877000
         SETLOCK RELEASE,TYPE=SPIN,DISABLED,                           C04878000
               RELATED=('FREE SPIN LOCKS GOING TO SRB MODE')            04879000
*     RFY                                                          0986 04880000
*      (R11,                                                       0986 04881000
*       R13) UNRSTD;                                               0986 04882000
*     LKTOFREE=LKTOFREE&CMSLOCLK;                                  0987 04883000
         L     @15,RT1WRTCA(,R8)                                   0987 04884000
         NC    LKTOFREE(2,@15),@CB03178                            0987 04885000
*     RFY                                                          0988 04886000
*       R0 RSTD;                                                   0988 04887000
*     CHKPT4=R0;                    /* SAVE THE CONTENTS OF THE    0989 04888000
*                                      FUNCTION REGISTER SINCE IT IS    04889000
*                                      DESTROYED BY THE INTERNAL PROC   04890000
*                                      GSRBRTCA CALLED TO OBTAIN A 0989 04891000
*                                      SRB RTCA                      */ 04892000
         ST    R0,CHKPT4+48(,R8)                                   0989 04893000
*     CALL GSRBRTCA;                /* ACQUIRE A SRB RTCA            */ 04894000
         BAL   @14,GSRBRTCA                                        0990 04895000
*     IF R1=ASXBFRWA THEN           /* IF THE ACQUIRED SRB SDWA IS 0991 04896000
*                                      THE LOCAL SDWA,       @YA00097*/ 04897000
         L     @15,PSAAOLD                                         0991 04898000
         L     @15,ASCBASXB(,@15)                                  0991 04899000
         C     R1,ASXBFRWA(,@15)                                   0991 04900000
         BNE   @RF00991                                            0991 04901000
*       DO;                         /* MAKE FURTHER CHECKS   @YA00097*/ 04902000
*         IF R1->SDWARPIV=ON THEN   /* IF THE LOCAL LOCK WAS OBTAINED   04903000
*                                      UNCONDITIONALLY AND THE REGS     04904000
*                                      AND PSW ARE POSSIBLY INVALID     04905000
*                                                            @YA00097*/ 04906000
         TM    SDWARPIV(R1),B'00000100'                            0993 04907000
         BNO   @RF00993                                            0993 04908000
*           SDWARPIV=ON;            /* INDICATE THIS IN THE CURRENT     04909000
*                                      SDWA                  @YA00097*/ 04910000
         L     @15,RT1WRTCA(,R8)                                   0994 04911000
         OI    SDWARPIV(@15),B'00000100'                           0994 04912000
*         SDWAFLLK=OFF;             /* INDICATE IN THE CURRENT SDWA     04913000
*                                      THAT THE LOCAL LOCK MUST NOT     04914000
*                                      BE FREED              @YA00097*/ 04915000
@RF00993 L     @15,RT1WRTCA(,R8)                                   0995 04916000
         NI    SDWAFLLK(@15),B'11111110'                           0995 04917000
*       END;                        /*                       @YA00097*/ 04918000
*     ELSE                          /* IF THE ACQUIRED SDWA IS NOT 0997 04919000
*                                      THE LOCAL SDWA        @YA00097*/ 04920000
*       MODELOC=OFF;                /* THEN INSURE THAT THE MODE BYTE   04921000
*                                      NO LONGER INDICATES LOCAL MODE   04922000
*                                                            @YA00097*/ 04923000
         B     @RC00991                                            0997 04924000
@RF00991 NI    MODELOC+81(R8),B'11110111'                          0997 04925000
*     RFY                                                          0998 04926000
*       NEWRTCA BASED(R1);                                         0998 04927000
@RC00991 DS    0H                                                  0999 04928000
*     NEWRTCA(1:256)=SDWA(1:256);   /* COPY CONTENTS OF              */ 04929000
         L     @15,RT1WRTCA(,R8)                                   0999 04930000
         MVC   NEWRTCA(256,R1),SDWA(@15)                           0999 04931000
*     NEWRTCA(257:LENGTH(SDWA))=SDWA(257:LENGTH(SDWA));/* GLOBAL RTCA   04932000
*                                      INTO THE ACQUIRED SRB RTCA    */ 04933000
         MVC   NEWRTCA+256(256,R1),SDWA+256(@15)                   1000 04934000
*     NEWRGSV=SRMRGSV;              /* COPY SRM REG SAVE             */ 04935000
         MVC   NEWRGSV(72,R1),SRMRGSV+512(@15)                     1001 04936000
*     RT1WRTCA=R1;                  /* MAKE THE ACQUIRED SRB RTCA THE   04937000
*                                      CURRENTLY ACTIVE RTCA         */ 04938000
         ST    R1,RT1WRTCA(,R8)                                    1002 04939000
*     MODEDIS=OFF;                  /* THE MODEBYTE WILL INDICATE    */ 04940000
*     MODEGSPN=OFF;                 /* SRB MODE                      */ 04941000
*     MODEGSUS=OFF;                                                1005 04942000
*     MODESUPR=OFF;                 /* SUPER MODE INACTIVE           */ 04943000
         NI    MODEDIS+81(R8),B'00001111'                          1006 04944000
*     SDWARECA=ADDR(SDWAVRA);       /* INIT PTR TO VARIABLE RECORDING   04945000
*                                      AREA IN SRB RTCA      @YM02623*/ 04946000
         L     @15,RT1WRTCA(,R8)                                   1007 04947000
         LA    @12,SDWAVRA(,@15)                                   1007 04948000
         ST    @12,SDWARECA(,@15)                                  1007 04949000
*     SDWADPLA=ADDR(SDWASNPA);      /* INIT PTR TO DUMP PARAMETER  1008 04950000
*                                      LIST IN SRB RTCA      @YM02623*/ 04951000
         LA    @12,SDWASNPA(,@15)                                  1008 04952000
         ST    @12,SDWADPLA(,@15)                                  1008 04953000
*     SDWAIDNT=SQARTCA;                                            1009 04954000
         L     @12,SQARTCA                                         1009 04955000
         ST    @12,SDWAIDNT(,@15)                                  1009 04956000
*     R5=R1;                        /* MAKE THE SRB RTCA INTERNALLY     04957000
*                                      KNOWN TO SRM                  */ 04958000
         LR    R5,R1                                               1010 04959000
*     R0=CHKPT4;                    /* RESTORE THE FUNCTION REGISTER    04960000
*                                      TO SRM PROCESSING             */ 04961000
         LA    @15,48                                              1011 04962000
         ALR   @15,R8                                              1011 04963000
         L     R0,CHKPT4(,@15)                                     1011 04964000
*     RFY                                                          1012 04965000
*       R1 UNRSTD;                                                 1012 04966000
*   END;                                                           1013 04967000
*   R14=CHKPT3;                     /* RESTORE THE RETURN ADDRESS TO    04968000
*                                      THE CALLER                    */ 04969000
         L     R14,CHKPT3(,@15)                                    1014 04970000
*   END XGTOS;                                                     1015 04971000
*                                                                  1015 04972000
@EL00008 DS    0H                                                  1015 04973000
@EF00008 DS    0H                                                  1015 04974000
@ER00008 BR    @14                                                 1015 04975000
*/* ******************************************************************/ 04976000
*/* THIS SEGMENT IS AN INTERNAL PROCEDURE THAT VERIFIES THE LOCKS    */ 04977000
*/* HELD STATUS ON RETURN FROM A FRR BY                              */ 04978000
*/*   1. ISOLATING LOCKS RELEASED BY THE FRR                         */ 04979000
*/*   2. ISOLATING LOCKS OBTAINED BY THE FRR                         */ 04980000
*/*   3. PROVIDES AS OUTPUT THE LOCKS HELD STATUS REQUIRED TO        */ 04981000
*/*      A. UPDATE LOCKS REQUESTED TO BE FREED BY THE FRR            */ 04982000
*/*      B. UPDATES THE CURRENT LOCKS HELD STATUS                    */ 04983000
*/*                                                                  */ 04984000
*/*   SEGMENT NAME - LOCKVERF                                        */ 04985000
*/*   PROCEDURE NAME - LOCKVERF                                      */ 04986000
*/*   PROCEDURE OPTIONS - NOSAVE NOSAVEAREA                          */ 04987000
*/*                                                                  */ 04988000
*/*   INPUT                                                          */ 04989000
*/*    TARGRTCA REG(R5) - POINTS TO THE CURRENTLY ACTIVE RTCA        */ 04990000
*/*    WHICH CONTAINS THE LOCKS REQUESTED TO BE FREED BY THE FRR     */ 04991000
*/*    CURRSTK REG(R8) - POINTS TO THE INTERRUPTED FRR STACK IN      */ 04992000
*/*    WHICH IS THE LOCKS HELD STATUS PRIOR TO INVOKING THE FRR      */ 04993000
*/*                                                                  */ 04994000
*/*   OUTPUT                                                         */ 04995000
*/*    LKIDX REG(R4) - CONTAINS THE MASK INDICATING LOCKS            */ 04996000
*/*    CURRENTLY HELD BY THIS CPU                                    */ 04997000
*/*    FRLKREG REG(R1) - CONTAINS THE MASK INDICATING LOCKS          */ 04998000
*/*    ADDITIONALLY OBTAINED BY THE FRR                              */ 04999000
*/*    BITSET REG(R3) - CONSTAINS THE MASK INDICATING THE LOCKS      */ 05000000
*/*    FREED BY THE FRR                                              */ 05001000
*/*                                                                  */ 05002000
*/*    NOTES                                                         */ 05003000
*/*    REGS(R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10,R14) ARE RESTRICTED    */ 05004000
*/*    THROUGHOUT THIS PROCEDURE                                     */ 05005000
*/*    REGS(R11,R12,R13,R15) ARE VOLATILE                            */ 05006000
*/*    SETLOCK TEST FUNCTION IS INVOKED TO ESTABLISHED CURRENT       */ 05007000
*/*    LOCKS HELD STATUS                                             */ 05008000
*/* ******************************************************************/ 05009000
*                                                                  1016 05010000
*LOCKVERF:                                                         1016 05011000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               1016 05012000
LOCKVERF DS    0H                                                  1017 05013000
*   RFY                                                            1017 05014000
*    (R4,                           /* REGISTERS USED IN VERIFYING   */ 05015000
*     R3,                           /* VALID LOCK FREEING REQUESTS   */ 05016000
*     R11,                          /* MADE BY FRRS                  */ 05017000
*     R0,                                                          1017 05018000
*     R2,                                                          1017 05019000
*     R5,                                                          1017 05020000
*     R6,                                                          1017 05021000
*     R7,                                                          1017 05022000
*     R8,                                                          1017 05023000
*     R14,                                                         1017 05024000
*     R1) RSTD;                                                    1017 05025000
*   R3=NULL;                        /* INITIALIZE THE REGISTERS      */ 05026000
         SLR   R3,R3                                               1018 05027000
*   R4=NULL;                                                       1019 05028000
         SLR   R4,R4                                               1019 05029000
*   R11=NULL;                                                      1020 05030000
         SLR   R11,R11                                             1020 05031000
*   GENERATE CODE;                                                 1021 05032000
*                                      /*TEST LOCKS                  */ 05033000
         SETLOCK TEST,TYPE=ALL,REGS=(R11)                               05034000
         LR    R1,R11                                                   05035000
         L     R3,RT1WRTCA(,R8)  GET LOCKS HELD MASK  @YM02684          05036000
         ICM   R4,3,LOCKMASK+512(R3) GET LKS HELD      @YM02684         05037000
         XR    R1,R4      ISOLATE LOCKS ACQUIRED AND RELEASED           05038000
         LR    R3,R1     SAVE LOCKS ACQUIRED AND RELEASED               05039000
         NR    R1,R11  ISOLATE ADDED LOCKS OBTAINED BY FRR              05040000
         NR    R3,R4  ISOLATE LOCKS RELEASED BY FRR                     05041000
         XR    R4,R3   ESTABLISH NEW LOCK MASK                          05042000
*   END LOCKVERF;                                                  1022 05043000
*                                                                  1022 05044000
@EL00009 DS    0H                                                  1022 05045000
@EF00009 DS    0H                                                  1022 05046000
@ER00009 BR    @14                                                 1022 05047000
*/* ******************************************************************/ 05048000
*/* THIS SEGMENT TRANSFER THE MODE OF FRR PROCESSING FROM LOCALLY    */ 05049000
*/* LOCKED MODE TO SRB MODE WHEN IT IS DETERMINED THAT PRIOR TO      */ 05050000
*/* PERCOLATING TO THE NEXT FRR THE LOCKS REQUESTED TO BE FREED BY   */ 05051000
*/* THE PERCOLATING FRR WHEN FREED WILL RESULT IN UNLOCKED SRB MODE  */ 05052000
*/* FRR PROCESSING                                                   */ 05053000
*/* ******************************************************************/ 05054000
*                                                                  1023 05055000
*XLTOS:                                                            1023 05056000
*   PROC OPTIONS(NOSAVE NOSAVEAREA);                               1023 05057000
XLTOS    DS    0H                                                  1024 05058000
*   RFY                                                            1024 05059000
*     R14 RSTD;                                                    1024 05060000
*   RFY                                                            1025 05061000
*    (R0,                           /* VOLATILE REGS THAT MUST BE    */ 05062000
*     R2,                           /* ACROSS THE CALL TO THIS       */ 05063000
*     R5,                           /* PROCEDURE                     */ 05064000
*     R6,                                                          1025 05065000
*     R7,                                                          1025 05066000
*     R8) RSTD;                                                    1025 05067000
*   CHKPT3=R14;                     /* PRESERVE THE RETURN ADDRESS TO   05068000
*                                      THE CALLER OF XLTOS           */ 05069000
         LA    @15,48                                              1026 05070000
         ALR   @15,R8                                              1026 05071000
         ST    R14,CHKPT3(,@15)                                    1026 05072000
*   DO;                                                            1027 05073000
*     RFY                                                          1028 05074000
*       R1 RSTD;                                                   1028 05075000
*     CHKPT4=R0;                    /* CHKPT FUNCTION REGISTER WHICH    05076000
*                                      IS DESTROYED BY GSRBRTCA PROC    05077000
*                                      USED HERE TO ACQUIRE A SQA  1029 05078000
*                                      RTCA FOR SRB MODE             */ 05079000
         ST    R0,CHKPT4(,@15)                                     1029 05080000
*     CALL GSRBRTCA;                /* ACQUIRE A SQA RTCA            */ 05081000
         BAL   @14,GSRBRTCA                                        1030 05082000
*     RFY                                                          1031 05083000
*       NEWRTCA BASED(R1);          /* ESTABLISH ADDRESSABILITY TO 1031 05084000
*                                      THE GETMAINED SRB RTCA        */ 05085000
*     IF R1^=ASXBFRWA THEN          /* IF THE ACQUIRED SRB RTCA IS 1032 05086000
*                                      NOT THE LOCAL RTCA WHICH WOULD   05087000
*                                      INDICATE THAT A SQA GETMAIN 1032 05088000
*                                      FOR THE SRB RTCA DID NOT FAIL    05089000
*                                      THEN IT CAN BE INITIALIZED  1032 05090000
*                                      WITH THE CONTENTS OF THE LOCAL   05091000
*                                      RTCA                          */ 05092000
         L     @15,PSAAOLD                                         1032 05093000
         L     @15,ASCBASXB(,@15)                                  1032 05094000
         C     R1,ASXBFRWA(,@15)                                   1032 05095000
         BE    @RF01032                                            1032 05096000
*       DO;                         /* PERFORM THE FOLLOWING       1033 05097000
*                                      INITIALIZATION                */ 05098000
*         NEWRTCA(1:256)=SDWA(1:256);/* COPY CONTENTS OF             */ 05099000
         L     @15,RT1WRTCA(,R8)                                   1034 05100000
         MVC   NEWRTCA(256,R1),SDWA(@15)                           1034 05101000
*         NEWRTCA(257:LENGTH(SDWA))=SDWA(257:LENGTH(SDWA));/* LOCAL     05102000
*                                      RTCA INTO ACQUIRED RTCA       */ 05103000
         MVC   NEWRTCA+256(256,R1),SDWA+256(@15)                   1035 05104000
*         NEWRGSV=SRMRGSV;          /* COPY SRM REG SAVE             */ 05105000
         MVC   NEWRGSV(72,R1),SRMRGSV+512(@15)                     1036 05106000
*         MODELOC=OFF;              /* SINCE THE SYSTEM STATE IS   1037 05107000
*                                      CHANGING FROM LOCALLY LOCKED     05108000
*                                      MODE TO SRB MODE UPDATE THE 1037 05109000
*                                      MODE TO REFLECT THIS CHANGE   */ 05110000
         NI    MODELOC+81(R8),B'11110111'                          1037 05111000
*         R5=R1;                    /* MAKE THE ACQUIRED SRB RTCA  1038 05112000
*                                      INTERNALLY KNOWN TO SRM     1038 05113000
*                                      PROCESSING                    */ 05114000
         LR    R5,R1                                               1038 05115000
*         RT1WRTCA=R1;              /* MAKE THE ACQUIRED SRB RTCA  1039 05116000
*                                      CURRENTLY ACTIVE              */ 05117000
         ST    R1,RT1WRTCA(,R8)                                    1039 05118000
*         SDWAIDNT=SQARTCA;         /* SET LENGTH OF ACQUIRED SET  1040 05119000
*                                      SUBPOOL ID                    */ 05120000
         L     @15,RT1WRTCA(,R8)                                   1040 05121000
         L     @12,SQARTCA                                         1040 05122000
         ST    @12,SDWAIDNT(,@15)                                  1040 05123000
*         SDWARECA=ADDR(SDWAVRA);   /* INIT PTR TO VARIABLE RECORDING   05124000
*                                      AREA IN SRB RTCA      @YM02623*/ 05125000
         LA    @12,SDWAVRA(,@15)                                   1041 05126000
         ST    @12,SDWARECA(,@15)                                  1041 05127000
*         SDWADPLA=ADDR(SDWASNPA);  /* INIT PTR TO DUMP PARAMETER  1042 05128000
*                                      LIST IN SRB RTCA      @YM02623*/ 05129000
         LA    @12,SDWASNPA(,@15)                                  1042 05130000
         ST    @12,SDWADPLA(,@15)                                  1042 05131000
*       END;                                                       1043 05132000
*     ELSE                                                         1044 05133000
*       ;                           /* IF THE GETMAIN FOR A SRB RTCA    05134000
*                                      FAILED AND THE LOCAL RTCA WAS    05135000
*                                      RETURNED NO COPYING OF RTCA 1044 05136000
*                                      CONTENTS NEED TAKE PLACE      */ 05137000
@RF01032 DS    0H                                                  1045 05138000
*     R0=CHKPT4;                    /* REESTABLISH THE FUNCTION    1045 05139000
*                                      REGISTER CONTENTS             */ 05140000
         LA    @15,48                                              1045 05141000
         ALR   @15,R8                                              1045 05142000
         L     R0,CHKPT4(,@15)                                     1045 05143000
*     RFY                                                          1046 05144000
*       R1 UNRSTD;                                                 1046 05145000
*   END;                                                           1047 05146000
*   R14=CHKPT3;                     /* REESTABLISH THE RETURN ADDRESS   05147000
*                                      TO THE CALLER                 */ 05148000
         L     R14,CHKPT3(,@15)                                    1048 05149000
*   END XLTOS;                                                     1049 05150000
@EL00010 DS    0H                                                  1049 05151000
@EF00010 DS    0H                                                  1049 05152000
@ER00010 BR    @14                                                 1049 05153000
*   DECLARE                         /* GENERAL PURPOSE REGISTERS     */ 05154000
*     GPR00F FIXED(31) REG(0),                                     1050 05155000
*     GPR01F FIXED(31) REG(1),                                     1050 05156000
*     GPR03F FIXED(31) REG(3),                                     1050 05157000
*     GPR04P PTR(31) REG(4);                                       1050 05158000
*   DECLARE                         /* COMMON VARIABLES              */ 05159000
*     I256C CHAR(256) BASED,                                       1051 05160000
*     I031F FIXED(31) BASED,                                       1051 05161000
*     I031P PTR(31) BASED,                                         1051 05162000
*     I015F FIXED(15) BASED,                                       1051 05163000
*     I015P PTR(15) BASED,                                         1051 05164000
*     I008P PTR(8) BASED,                                          1051 05165000
*     I001C CHAR(1) BASED;                                         1051 05166000
*   END IEAVTRTS                                                   1052 05167000
*                                                                  1052 05168000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 05169000
*/*%INCLUDE SYSUT5  (RTSSPEC )                                       */ 05170000
*/*%INCLUDE SYSUT5  (RTSDCLS )                                       */ 05171000
*/*%INCLUDE SYSLIB  (IHART1W )                                       */ 05172000
*/*%INCLUDE SYSLIB  (IHAASCB )                                       */ 05173000
*/*%INCLUDE SYSLIB  (IHAASXB )                                       */ 05174000
*/*%INCLUDE SYSLIB  (IHALCCA )                                       */ 05175000
*/*%INCLUDE SYSLIB  (IHAPSA  )                                       */ 05176000
*/*%INCLUDE SYSLIB  (IHAWSAVT)                                       */ 05177000
*/*%INCLUDE SYSLIB  (IHAFRRS )                                       */ 05178000
*/*%INCLUDE SYSLIB  (IHASDWA )                                       */ 05179000
*/*%INCLUDE SYSLIB  (IHAYSTAK)                                       */ 05180000
*/*%INCLUDE SYSLIB  (CVT     )                                       */ 05181000
*/*%INCLUDE SYSLIB  (IHARTCT )                                       */ 05182000
*/*%INCLUDE SYSLIB  (IHARTM2A)                                       */ 05183000
*/*%INCLUDE SYSLIB  (IHASNP  )                                       */ 05184000
*/*%INCLUDE SYSLIB  (IHARMPL )                                       */ 05185000
*/*%INCLUDE SYSLIB  (IKJTCB  )                                       */ 05186000
*/*%INCLUDE SYSLIB  (IHASHDR )                                       */ 05187000
*/*%INCLUDE SYSUT5  (FRRPDCLS)                                       */ 05188000
*/*%INCLUDE SYSUT5  (BINIT   )                                       */ 05189000
*/*%INCLUDE SYSUT5  (RINIT   )                                       */ 05190000
*/*%INCLUDE SYSUT5  (ALLOCAT )                                       */ 05191000
*/*%INCLUDE SYSUT5  (GOTOGSRB)                                       */ 05192000
*/*%INCLUDE SYSUT5  (INITRTCA)                                       */ 05193000
*/*%INCLUDE SYSUT5  (READYSTK)                                       */ 05194000
*/*%INCLUDE SYSUT5  (ADDCOVR )                                       */ 05195000
*/*%INCLUDE SYSUT5  (INERRTYP)                                       */ 05196000
*/*%INCLUDE SYSUT5  (INREGPSW)                                       */ 05197000
*/*%INCLUDE SYSUT5  (INITMODE)                                       */ 05198000
*/*%INCLUDE SYSLIB  (ERRORID )                                       */ 05199000
*/*%INCLUDE SYSUT5  (INITDMPO)                                       */ 05200000
*/*%INCLUDE SYSUT5  (CKRCRDAT)                                       */ 05201000
*/*%INCLUDE SYSUT5  (SLIPPER )                                       */ 05202000
*/*%INCLUDE SYSUT5  (ROUTE   )                                       */ 05203000
*/*%INCLUDE SYSUT5  (SETUPPSW)                                       */ 05204000
*/*%INCLUDE SYSUT5  (SAVELOKS)                                       */ 05205000
*/*%INCLUDE SYSUT5  (FRRPREP )                                       */ 05206000
*/*%INCLUDE SYSUT5  (GOTOFRR )                                       */ 05207000
*/*%INCLUDE SYSUT5  (TRACEFRR)                                       */ 05208000
*/*%INCLUDE SYSUT5  (RECORD  )                                       */ 05209000
*/*%INCLUDE SYSUT5  (RCRDPREP)                                       */ 05210000
*/*%INCLUDE SYSUT5  (SOFTRCRD)                                       */ 05211000
*/*%INCLUDE SYSUT5  (ADJUST  )                                       */ 05212000
*/*%INCLUDE SYSUT5  (CHKRCDE )                                       */ 05213000
*/*%INCLUDE SYSUT5  (USERCDE )                                       */ 05214000
*/*%INCLUDE SYSUT5  (CHEKLOKS)                                       */ 05215000
*/*%INCLUDE SYSUT5  (ADJUSTMR)                                       */ 05216000
*/*%INCLUDE SYSUT5  (FREEREL )                                       */ 05217000
*/*%INCLUDE SYSUT5  (NESTFRR )                                       */ 05218000
*/*%INCLUDE SYSUT5  (SAVECOVR)                                       */ 05219000
*/*%INCLUDE SYSUT5  (PERKLATE)                                       */ 05220000
*/*%INCLUDE SYSUT5  (EXIT    )                                       */ 05221000
*/*%INCLUDE SYSUT5  (EXITSRBM)                                       */ 05222000
*/*%INCLUDE SYSUT5  (RESRDATA)                                       */ 05223000
*/*%INCLUDE SYSUT5  (ASRBRTCA)                                       */ 05224000
*/*%INCLUDE SYSUT5  (PUGETM  )                                       */ 05225000
*/*%INCLUDE SYSUT5  (AQLRTCA )                                       */ 05226000
*/*%INCLUDE SYSUT5  (SNRMPERC)                                       */ 05227000
*/*%INCLUDE SYSUT5  (SFRLOCKS)                                       */ 05228000
*/*%INCLUDE SYSUT5  (SSTKMAIN)                                       */ 05229000
*/*%INCLUDE SYSUT5  (XDELFRR )                                       */ 05230000
*/*%INCLUDE SYSUT5  (GTOL    )                                       */ 05231000
*/*%INCLUDE SYSUT5  (GTOS    )                                       */ 05232000
*/*%INCLUDE SYSUT5  (LOCKVERF)                                       */ 05233000
*/*%INCLUDE SYSUT5  (LTOS    )                                       */ 05234000
*                                                                  1052 05235000
*       ;                                                          1052 05236000
@DATA    DS    0H                                                       05237000
@CH00196 DC    H'13'                                                    05238000
@CH01378 DC    H'108'                                                   05239000
@SM03537 MVC   SDWADPSL(0,@12),STORLIST(@15)                            05240000
@DATD    DSECT                                                          05241000
         DS    0F                                                       05242000
IEAVTRTS CSECT                                                          05243000
         DS    0F                                                       05244000
@CF00079 DC    F'1'                                                     05245000
@CF00112 DC    F'2'                                                     05246000
@CF00115 DC    F'4'                                                     05247000
@CF00194 DC    F'12'                                                    05248000
@CF00203 DC    F'16'                                                    05249000
@CF00122 DC    F'32'                                                    05250000
@CF01027 DC    F'84'                                                    05251000
@CF00105 DC    F'255'                                                   05252000
@CF01015 DC    F'512'                                                   05253000
@CF03510 DC    F'868'                                                   05254000
@CF03514 DC    F'62720'                                                 05255000
@CF03536 DC    F'-4'                                                    05256000
@CF03202 DC    XL4'7FFFFFFF'                                            05257000
@CF03531 DC    XL4'0000FFFF'                                            05258000
@CF03178 DC    XL4'0003'                                                05259000
@CF03196 DC    XL4'0001'                                                05260000
@DATD    DSECT                                                          05261000
         DS    0D                                                       05262000
IEAVTRTS CSECT                                                          05263000
         NOPR  ((@ENDDATD-@DATD)*16)                                    05264000
         DS    0F                                                       05265000
@SIZDATD DC    AL1(0)                                                   05266000
         DC    AL3(@ENDDATD-@DATD)                                      05267000
         DS    0D                                                       05268000
SQARTCA  DS    FL4                                                      05269000
         ORG   SQARTCA                                                  05270000
SQASPOOL DC    AL1(245)                                                 05271000
SQALEN   DC    AL3(512+272)                                             05272000
         ORG   SQARTCA+4                                                05273000
LFRRPSW  DC    XL4'040C0000'                                            05274000
@CC03200 DC    C'ASCB'                                                  05275000
@CB03178 DC    X'0003'                                                  05276000
@CB03189 DC    X'0000'                                                  05277000
@CB03198 DC    X'FFFF'                                                  05278000
FRRJNAME DC    CL8'NONE-FRR'                                            05279000
RTSPATCH DS    CL200                                                    05280000
         DS    CL2                                                      05281000
YSTAK    DC    F'16'                                                    05282000
         DC    F'4'                                                     05283000
         DC    F'16'                                                    05284000
         DC    F'16'                                                    05285000
         DC    F'4'                                                     05286000
         DC    F'4'                                                     05287000
         DC    F'16'                                                    05288000
         DC    F'16'                                                    05289000
IEAVTRTS CSECT                                                          05290000
ROLDMSK  STOSM FIVE12(R5),X'00'   SETUP RETRY SYSTEM STATE     @YM02601 05291000
IEACON2  DC    VL4(AHLMCIHB)                                            05292000
RGTMFRR  DC    VL4(RCOVGETM)                                            05293000
RCRDFRR  DC    VL4(RCOVRCRD)                                            05294000
RGTFFRR  DC    VL4(RCOVRGTF)                                            05295000
@DATD    DSECT                                                          05296000
@ENDDATD EQU   *                                                        05297000
IEAVTRTS CSECT                                                          05298000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       05299000
@01      EQU   01                                                       05300000
@02      EQU   02                                                       05301000
@03      EQU   03                                                       05302000
@04      EQU   04                                                       05303000
@05      EQU   05                                                       05304000
@06      EQU   06                                                       05305000
@07      EQU   07                                                       05306000
@08      EQU   08                                                       05307000
@09      EQU   09                                                       05308000
@10      EQU   10                                                       05309000
@11      EQU   11                                                       05310000
@12      EQU   12                                                       05311000
@13      EQU   13                                                       05312000
@14      EQU   14                                                       05313000
@15      EQU   15                                                       05314000
R0       EQU   @00                                                      05315000
R1       EQU   @01                                                      05316000
R2       EQU   @02                                                      05317000
R3       EQU   @03                                                      05318000
R4       EQU   @04                                                      05319000
R5       EQU   @05                                                      05320000
R6       EQU   @06                                                      05321000
R7       EQU   @07                                                      05322000
R8       EQU   @08                                                      05323000
R9       EQU   @09                                                      05324000
R10      EQU   @10                                                      05325000
R11      EQU   @11                                                      05326000
R12      EQU   @12                                                      05327000
R13      EQU   @13                                                      05328000
R14      EQU   @14                                                      05329000
R15      EQU   @15                                                      05330000
GPR01F   EQU   @01                                                      05331000
GPR03F   EQU   @03                                                      05332000
GPR00F   EQU   @00                                                      05333000
GPR04P   EQU   @04                                                      05334000
         ENTRY PUGETM2                                                  05335000
PSA      EQU   0                                                        05336000
FLCRNPSW EQU   PSA                                                      05337000
FLCROPSW EQU   PSA+8                                                    05338000
FLCICCW2 EQU   PSA+16                                                   05339000
FLCCVT   EQU   FLCICCW2                                                 05340000
PSAEEPSW EQU   PSA+132                                                  05341000
PSAESPSW EQU   PSA+136                                                  05342000
FLCSVILC EQU   PSAESPSW+1                                               05343000
PSAEPPSW EQU   PSA+140                                                  05344000
FLCPIILC EQU   PSAEPPSW+1                                               05345000
FLCPICOD EQU   PSAEPPSW+2                                               05346000
PSAPICOD EQU   FLCPICOD+1                                               05347000
FLCTEA   EQU   PSAEPPSW+4                                               05348000
FLCPER   EQU   PSA+152                                                  05349000
FLCMCLA  EQU   PSA+168                                                  05350000
FLCIOEL  EQU   FLCMCLA+4                                                05351000
FLCIOA   EQU   FLCMCLA+16                                               05352000
FLCFSA   EQU   FLCMCLA+80                                               05353000
PSACPULA EQU   PSA+518                                                  05354000
PSALCCAV EQU   PSA+528                                                  05355000
PSATOLD  EQU   PSA+540                                                  05356000
PSAAOLD  EQU   PSA+548                                                  05357000
PSASUPER EQU   PSA+552                                                  05358000
PSASUP1  EQU   PSASUPER                                                 05359000
PSASUP2  EQU   PSASUPER+1                                               05360000
PSASUP3  EQU   PSASUPER+2                                               05361000
PSAPI2   EQU   PSASUP3                                                  05362000
PSAPSREG EQU   PSASUP3                                                  05363000
PSASUP4  EQU   PSASUPER+3                                               05364000
PSACLHT  EQU   PSA+640                                                  05365000
PSALKSA  EQU   PSA+696                                                  05366000
PSAHLHI  EQU   PSA+760                                                  05367000
PSADSSFL EQU   PSA+836                                                  05368000
PSADSSF1 EQU   PSADSSFL                                                 05369000
PSADSSF3 EQU   PSADSSFL+2                                               05370000
PSADSSF4 EQU   PSADSSFL+3                                               05371000
PSARSVT  EQU   PSA+896                                                  05372000
ASCBPTR  EQU   0                                                        05373000
TCBPTR   EQU   0                                                        05374000
FRREPTR  EQU   0                                                        05375000
LCCAPTR  EQU   0                                                        05376000
FRRSPTR  EQU   0                                                        05377000
SDWAPTR  EQU   0                                                        05378000
ASXBPTR  EQU   0                                                        05379000
RT1TRACK EQU   0                                                        05380000
RT1TRECC EQU   RT1TRACK                                                 05381000
RT1TLPN  EQU   RT1TRECC                                                 05382000
RT1TLPID EQU   RT1TRECC+1                                               05383000
RT1TENPT EQU   RT1TRECC+2                                               05384000
RT1TACQR EQU   RT1TRECC+3                                               05385000
RTMBRTAB EQU   0                                                        05386000
RTMBTERM EQU   RTMBRTAB                                                 05387000
MODEBYTE EQU   0                                                        05388000
MODESUPR EQU   MODEBYTE                                                 05389000
MODEDIS  EQU   MODEBYTE                                                 05390000
MODEGSPN EQU   MODEBYTE                                                 05391000
MODEGSUS EQU   MODEBYTE                                                 05392000
MODELOC  EQU   MODEBYTE                                                 05393000
MODETYP1 EQU   MODEBYTE                                                 05394000
MODESRB  EQU   MODEBYTE                                                 05395000
EED      EQU   0                                                        05396000
EEDDES   EQU   EED+4                                                    05397000
EEDFLAGS EQU   EEDDES+1                                                 05398000
EEDERFL  EQU   EEDFLAGS                                                 05399000
EEDERROR EQU   EED+8                                                    05400000
EEDVARBL EQU   EED+12                                                   05401000
ASCB     EQU   0                                                        05402000
ASCBASCB EQU   ASCB                                                     05403000
ASCBASID EQU   ASCB+36                                                  05404000
ASCBFW1  EQU   ASCB+100                                                 05405000
ASCBRCTF EQU   ASCBFW1+2                                                05406000
ASCBFLG1 EQU   ASCBFW1+3                                                05407000
ASCBASXB EQU   ASCB+108                                                 05408000
ASCBDSP1 EQU   ASCB+114                                                 05409000
ASCBFLG2 EQU   ASCB+115                                                 05410000
ASCBJBNI EQU   ASCB+172                                                 05411000
ASCBJBNS EQU   ASCB+176                                                 05412000
ASXB     EQU   0                                                        05413000
ASXBFRWA EQU   ASXB+108                                                 05414000
ASXBAEQ  EQU   ASXB+168                                                 05415000
ASXBSECR EQU   ASXB+199                                                 05416000
ASCBSFLG EQU   ASXBSECR                                                 05417000
ASXBCASW EQU   ASXB+216                                                 05418000
ASXBCRB1 EQU   ASXBCASW                                                 05419000
LCCA     EQU   0                                                        05420000
LCCAPVAD EQU   LCCA+148                                                 05421000
LCCAIHRC EQU   LCCA+520                                                 05422000
LCCAIHR1 EQU   LCCAIHRC                                                 05423000
LCCAPDAT EQU   LCCAIHR1                                                 05424000
LCCAPSG1 EQU   LCCAIHR1                                                 05425000
LCCAIHR2 EQU   LCCAIHRC+1                                               05426000
LCCAIHR3 EQU   LCCAIHRC+2                                               05427000
LCCAIHR4 EQU   LCCAIHRC+3                                               05428000
LCCASPIN EQU   LCCA+524                                                 05429000
LCCASPN1 EQU   LCCASPIN                                                 05430000
LCCASPN2 EQU   LCCASPIN+1                                               05431000
LCCASPN3 EQU   LCCASPIN+2                                               05432000
LCCASPN4 EQU   LCCASPIN+3                                               05433000
LCCADSF1 EQU   LCCA+540                                                 05434000
LCCADSF2 EQU   LCCA+541                                                 05435000
LCCASPSA EQU   LCCA+544                                                 05436000
LCCACRFL EQU   LCCA+692                                                 05437000
LCCACREX EQU   LCCA+693                                                 05438000
LCCALKFG EQU   LCCA+694                                                 05439000
LCCASRBF EQU   LCCA+720                                                 05440000
LCCAASID EQU   LCCA+732                                                 05441000
WSAG     EQU   0                                                        05442000
WSAGGMFM EQU   WSAG+4                                                   05443000
FRRS     EQU   0                                                        05444000
FRRSHEAD EQU   FRRS                                                     05445000
FRRSEMP  EQU   FRRSHEAD                                                 05446000
FRRSLAST EQU   FRRSHEAD+4                                               05447000
FRRSCURR EQU   FRRSHEAD+12                                              05448000
FRRSRTMW EQU   FRRS+16                                                  05449000
FRRSENTR EQU   0                                                        05450000
FRRSFRRA EQU   FRRSENTR                                                 05451000
FRRSFLGS EQU   FRRSENTR+4                                               05452000
FRRSFLG1 EQU   FRRSFLGS                                                 05453000
FRRSRCUR EQU   FRRSFLG1                                                 05454000
FRRSNEST EQU   FRRSFLG1                                                 05455000
FRRSPARM EQU   FRRSENTR+8                                               05456000
SDWA     EQU   0                                                        05457000
SDWAPARM EQU   SDWA                                                     05458000
SDWAFIOB EQU   SDWA+4                                                   05459000
SDWAABCC EQU   SDWAFIOB                                                 05460000
SDWACMPF EQU   SDWAABCC                                                 05461000
SDWACTL1 EQU   SDWA+8                                                   05462000
SDWACMKA EQU   SDWACTL1                                                 05463000
SDWAMWPA EQU   SDWACTL1+1                                               05464000
SDWAPMKA EQU   SDWACTL1+4                                               05465000
SDWACTL2 EQU   SDWA+16                                                  05466000
SDWACMKP EQU   SDWACTL2                                                 05467000
SDWAMWPP EQU   SDWACTL2+1                                               05468000
SDWAPMKP EQU   SDWACTL2+4                                               05469000
SDWAGRSV EQU   SDWA+24                                                  05470000
SDWANAME EQU   SDWA+88                                                  05471000
SDWAEC1  EQU   SDWA+104                                                 05472000
SDWAEMK1 EQU   SDWAEC1                                                  05473000
SDWAMWP1 EQU   SDWAEC1+1                                                05474000
SDWAINT1 EQU   SDWAEC1+2                                                05475000
SDWANXT1 EQU   SDWAEC1+4                                                05476000
SDWAAEC1 EQU   SDWA+112                                                 05477000
SDWAILC1 EQU   SDWAAEC1+1                                               05478000
SDWAINC1 EQU   SDWAAEC1+2                                               05479000
SDWAICD1 EQU   SDWAINC1+1                                               05480000
SDWATRAN EQU   SDWAAEC1+4                                               05481000
SDWAEC2  EQU   SDWA+120                                                 05482000
SDWAEMK2 EQU   SDWAEC2                                                  05483000
SDWAIO2  EQU   SDWAEMK2                                                 05484000
SDWAEXT2 EQU   SDWAEMK2                                                 05485000
SDWAMWP2 EQU   SDWAEC2+1                                                05486000
SDWAINT2 EQU   SDWAEC2+2                                                05487000
SDWANXT2 EQU   SDWAEC2+4                                                05488000
SDWAAEC2 EQU   SDWA+128                                                 05489000
SDWAILC2 EQU   SDWAAEC2+1                                               05490000
SDWAINC2 EQU   SDWAAEC2+2                                               05491000
SDWAICD2 EQU   SDWAINC2+1                                               05492000
SDWATRN2 EQU   SDWAAEC2+4                                               05493000
SDWASRSV EQU   SDWA+136                                                 05494000
SDWAIDNT EQU   SDWA+200                                                 05495000
SDWAMCH  EQU   SDWA+204                                                 05496000
SDWASTCK EQU   SDWAMCH                                                  05497000
SDWAMCHI EQU   SDWAMCH+8                                                05498000
SDWAMCHS EQU   SDWAMCHI                                                 05499000
SDWAMCHD EQU   SDWAMCHI+1                                               05500000
SDWARSR1 EQU   SDWAMCH+12                                               05501000
SDWARSR2 EQU   SDWAMCH+13                                               05502000
SDWAFLGS EQU   SDWA+232                                                 05503000
SDWAERRA EQU   SDWAFLGS                                                 05504000
SDWAMCHK EQU   SDWAERRA                                                 05505000
SDWAPCHK EQU   SDWAERRA                                                 05506000
SDWARKEY EQU   SDWAERRA                                                 05507000
SDWASVCE EQU   SDWAERRA                                                 05508000
SDWATEXC EQU   SDWAERRA                                                 05509000
SDWAERRB EQU   SDWAFLGS+1                                               05510000
SDWATYP1 EQU   SDWAERRB                                                 05511000
SDWALDIS EQU   SDWAERRB                                                 05512000
SDWASRBM EQU   SDWAERRB                                                 05513000
SDWAERRC EQU   SDWAFLGS+2                                               05514000
SDWASTAF EQU   SDWAERRC                                                 05515000
SDWAPERC EQU   SDWAERRC                                                 05516000
SDWAERRD EQU   SDWAFLGS+3                                               05517000
SDWACLUP EQU   SDWAERRD                                                 05518000
SDWARPIV EQU   SDWAERRD                                                 05519000
SDWAMCIV EQU   SDWAERRD                                                 05520000
SDWAERFL EQU   SDWAERRD                                                 05521000
SDWAFMID EQU   SDWA+236                                                 05522000
SDWAIOFS EQU   SDWA+238                                                 05523000
SDWACPUI EQU   SDWA+239                                                 05524000
SDWARTYA EQU   SDWA+240                                                 05525000
SDWARECA EQU   SDWA+244                                                 05526000
SDWACPUA EQU   SDWA+248                                                 05527000
SDWAPARQ EQU   SDWA+252                                                 05528000
SDWARCDE EQU   SDWAPARQ                                                 05529000
SDWAACF2 EQU   SDWAPARQ+1                                               05530000
SDWARCRD EQU   SDWAACF2                                                 05531000
SDWASPIN EQU   SDWAACF2                                                 05532000
SDWAACF3 EQU   SDWAPARQ+2                                               05533000
SDWAACF4 EQU   SDWAPARQ+3                                               05534000
SDWACMS  EQU   SDWAACF4                                                 05535000
SDWAFLLK EQU   SDWAACF4                                                 05536000
SDWALKWA EQU   SDWA+256                                                 05537000
SDWALKWS EQU   SDWALKWA                                                 05538000
SDWAASID EQU   SDWA+288                                                 05539000
SDWASEQ# EQU   SDWA+290                                                 05540000
SDWARECP EQU   SDWA+292                                                 05541000
SDWADPLA EQU   SDWA+316                                                 05542000
SDWASNPA EQU   SDWA+320                                                 05543000
SDWADUMP EQU   SDWASNPA                                                 05544000
SDWADPFS EQU   SDWADUMP+1                                               05545000
SDWADDAT EQU   SDWASNPA+4                                               05546000
SDWASDAT EQU   SDWADDAT                                                 05547000
SDWAPDAT EQU   SDWADDAT+2                                               05548000
SDWADPSA EQU   SDWA+328                                                 05549000
SDWADPSL EQU   SDWADPSA                                                 05550000
SDWARCPL EQU   SDWA+364                                                 05551000
SDWACOMP EQU   SDWA+392                                                 05552000
SDWAERTM EQU   SDWA+396                                                 05553000
SDWARA   EQU   SDWA+400                                                 05554000
SDWAVRAL EQU   SDWARA                                                   05555000
SDWADPVA EQU   SDWARA+2                                                 05556000
SDWAURAL EQU   SDWARA+3                                                 05557000
SDWAVRA  EQU   SDWARA+4                                                 05558000
CVTMAP   EQU   0                                                        05559000
CVTBTERM EQU   CVTMAP+52                                                05560000
CVTDAR   EQU   CVTMAP+72                                                05561000
CVTFLGS1 EQU   CVTDAR                                                   05562000
CVTDCB   EQU   CVTMAP+116                                               05563000
CVTIOQET EQU   CVTMAP+120                                               05564000
CVTIERLC EQU   CVTMAP+144                                               05565000
CVTHEAD  EQU   CVTMAP+160                                               05566000
CVTSV76C EQU   CVTHEAD                                                  05567000
CVTOPTA  EQU   CVTMAP+182                                               05568000
CVTOPTB  EQU   CVTMAP+183                                               05569000
CVTGTF   EQU   CVTMAP+236                                               05570000
CVTGTFST EQU   CVTGTF                                                   05571000
CVTGTFS  EQU   CVTGTFST                                                 05572000
CVTSTATE EQU   CVTGTFST                                                 05573000
CVTTMODE EQU   CVTGTFST                                                 05574000
CVTFORM  EQU   CVTGTFST                                                 05575000
CVTAQAVT EQU   CVTMAP+240                                               05576000
CVTTCMFG EQU   CVTAQAVT                                                 05577000
CVTVOLM2 EQU   CVTMAP+244                                               05578000
CVTTATA  EQU   CVTVOLM2                                                 05579000
CVTTSKS  EQU   CVTTATA                                                  05580000
CVTVOLF2 EQU   CVTTSKS                                                  05581000
CVTTAT   EQU   CVTTATA+1                                                05582000
CVTATER  EQU   CVTMAP+248                                               05583000
CVTEXT1  EQU   CVTMAP+252                                               05584000
CVTPURG  EQU   CVTMAP+260                                               05585000
CVTQMSG  EQU   CVTMAP+268                                               05586000
CVTDMSR  EQU   CVTMAP+272                                               05587000
CVTRSV37 EQU   CVTDMSR                                                  05588000
CVTDMSRF EQU   CVTRSV37                                                 05589000
CVTERPV  EQU   CVTMAP+316                                               05590000
CVTINTLA EQU   CVTMAP+320                                               05591000
CVTAPF   EQU   CVTMAP+324                                               05592000
CVTEXT2  EQU   CVTMAP+328                                               05593000
CVTHJES  EQU   CVTMAP+332                                               05594000
CVTPGSIA EQU   CVTMAP+348                                               05595000
CVTA1F1  EQU   CVTMAP+356                                               05596000
CVTSYSK  EQU   CVTMAP+357                                               05597000
CVTVOLM1 EQU   CVTMAP+380                                               05598000
CVTVOLF1 EQU   CVTVOLM1                                                 05599000
CVTXTNT1 EQU   0                                                        05600000
CVTXTNT2 EQU   0                                                        05601000
CVTDSSV  EQU   CVTXTNT2                                                 05602000
CVTFLGBT EQU   CVTXTNT2+5                                               05603000
CVTQID   EQU   CVTXTNT2+24                                              05604000
CVTRV400 EQU   CVTXTNT2+52                                              05605000
CVTRV409 EQU   CVTXTNT2+53                                              05606000
CVTATCVT EQU   CVTXTNT2+64                                              05607000
CVTRV429 EQU   CVTXTNT2+84                                              05608000
CVTRV438 EQU   CVTXTNT2+85                                              05609000
CVTRV457 EQU   CVTXTNT2+112                                             05610000
CVTRV466 EQU   CVTXTNT2+113                                             05611000
CVTFIX   EQU   0                                                        05612000
CVTRELNO EQU   CVTFIX+252                                               05613000
RTCT     EQU   0                                                        05614000
RTCTSAP  EQU   RTCT+4                                                   05615000
RTCTSAP1 EQU   RTCTSAP                                                  05616000
RTCTSAP2 EQU   RTCTSAP+1                                                05617000
RTCTSUP  EQU   RTCT+6                                                   05618000
RTCTSUP1 EQU   RTCTSUP                                                  05619000
RTCTSUP2 EQU   RTCTSUP+1                                                05620000
RTCTSAO  EQU   RTCT+8                                                   05621000
RTCTSAO1 EQU   RTCTSAO                                                  05622000
RTCTSAO2 EQU   RTCTSAO+1                                                05623000
RTCTSUO  EQU   RTCT+10                                                  05624000
RTCTSUO1 EQU   RTCTSUO                                                  05625000
RTCTSUO2 EQU   RTCTSUO+1                                                05626000
RTCTSDO  EQU   RTCT+12                                                  05627000
RTCTSDO1 EQU   RTCTSDO                                                  05628000
RTCTSDO2 EQU   RTCTSDO+1                                                05629000
RTCTABD  EQU   RTCT+14                                                  05630000
RTCTIDMP EQU   RTCTABD                                                  05631000
RTCTSDF  EQU   RTCT+16                                                  05632000
RTCTSDF1 EQU   RTCTSDF                                                  05633000
RTCTSDF2 EQU   RTCTSDF+1                                                05634000
RTCTSDDS EQU   RTCT+36                                                  05635000
RTCTFLG  EQU   RTCTSDDS+3                                               05636000
RTCTRFLG EQU   RTCT+176                                                 05637000
RTCTERID EQU   RTCT+224                                                 05638000
SNPPARMS EQU   0                                                        05639000
SNPIDENT EQU   SNPPARMS                                                 05640000
SNPFLAG  EQU   SNPPARMS+1                                               05641000
SNPSLIST EQU   SNPFLAG                                                  05642000
SNPSDATA EQU   SNPPARMS+4                                               05643000
SNPPDATA EQU   SNPPARMS+6                                               05644000
SNPSTOR  EQU   SNPPARMS+16                                              05645000
RMPL     EQU   0                                                        05646000
RMPLFLG1 EQU   RMPL                                                     05647000
RTM2WA   EQU   0                                                        05648000
RTM2DESC EQU   RTM2WA                                                   05649000
RTM2RT2D EQU   RTM2DESC+8                                               05650000
RTM2CODE EQU   RTM2WA+28                                                05651000
RTM2CCF  EQU   RTM2CODE                                                 05652000
RTM2PGCY EQU   RTM2WA+60                                                05653000
RTM2TRRY EQU   RTM2PGCY                                                 05654000
RTM2EEDR EQU   RTM2TRRY                                                 05655000
RTM2EREG EQU   RTM2EEDR                                                 05656000
RTM2APSW EQU   RTM2EEDR+64                                              05657000
RTM2EPSW EQU   RTM2APSW                                                 05658000
RTM2EMK1 EQU   RTM2EPSW                                                 05659000
RTM2MWP1 EQU   RTM2EPSW+1                                               05660000
RTM2INT1 EQU   RTM2EPSW+2                                               05661000
RTM2NXT1 EQU   RTM2EPSW+4                                               05662000
RTM2AEC1 EQU   RTM2APSW+8                                               05663000
RTM2ILC1 EQU   RTM2AEC1+1                                               05664000
RTM2INC1 EQU   RTM2AEC1+2                                               05665000
RTM2ICD1 EQU   RTM2INC1+1                                               05666000
RTM2EEDH EQU   RTM2TRRY+92                                              05667000
RTM2STCK EQU   RTM2EEDH                                                 05668000
RTM2MCHI EQU   RTM2EEDH+8                                               05669000
RTM2MCHS EQU   RTM2MCHI                                                 05670000
RTM2MCHD EQU   RTM2MCHI+1                                               05671000
RTM2RSR1 EQU   RTM2EEDH+12                                              05672000
RTM2RSR2 EQU   RTM2EEDH+13                                              05673000
RTM2FLGS EQU   RTM2TRRY+120                                             05674000
RTM2ERRA EQU   RTM2FLGS                                                 05675000
RTM2ERRB EQU   RTM2FLGS+1                                               05676000
RTM2ERRC EQU   RTM2FLGS+2                                               05677000
RTM2ERRD EQU   RTM2FLGS+3                                               05678000
RTM2ERFL EQU   RTM2ERRD                                                 05679000
RTM2CVER EQU   RTM2WA+186                                               05680000
RTM2TRRC EQU   RTM2CVER                                                 05681000
RTM2IOFS EQU   RTM2TRRC                                                 05682000
RTM2IOBP EQU   RTM2TRRC+2                                               05683000
RTM2SCBS EQU   RTM2TRRC+14                                              05684000
RTM2RTCD EQU   RTM2TRRC+26                                              05685000
RTM2SPLL EQU   RTM2RTCD+4                                               05686000
RTM2PARQ EQU   RTM2TRRC+46                                              05687000
RTM2CTL1 EQU   RTM2CVER+50                                              05688000
RTM2CMKA EQU   RTM2CTL1                                                 05689000
RTM2MWPA EQU   RTM2CTL1+1                                               05690000
RTM2PMKA EQU   RTM2CTL1+4                                               05691000
RTM2CTL2 EQU   RTM2CVER+58                                              05692000
RTM2CMKP EQU   RTM2CTL2                                                 05693000
RTM2MWPP EQU   RTM2CTL2+1                                               05694000
RTM2PMKP EQU   RTM2CTL2+4                                               05695000
RTM2SNAP EQU   RTM2CVER+66                                              05696000
RTM2SPRM EQU   RTM2SNAP+4                                               05697000
RTM2DPSL EQU   RTM2SNAP+24                                              05698000
RTM2FRM1 EQU   RTM2DPSL                                                 05699000
RTM2TO1  EQU   RTM2DPSL+4                                               05700000
RTM2FRM2 EQU   RTM2DPSL+8                                               05701000
RTM2TO2  EQU   RTM2DPSL+12                                              05702000
RTM2FRM3 EQU   RTM2DPSL+16                                              05703000
RTM2TO3  EQU   RTM2DPSL+20                                              05704000
RTM2FRM4 EQU   RTM2DPSL+24                                              05705000
RTM2TO4  EQU   RTM2DPSL+28                                              05706000
RTM2SECB EQU   RTM2CVER+138                                             05707000
RTM2ECBA EQU   RTM2SECB                                                 05708000
RTM2SFRG EQU   RTM2CVER+186                                             05709000
RTM2SCTL EQU   RTM2CVER+259                                             05710000
RTM2CCTL EQU   RTM2SCTL                                                 05711000
RTM2ABDR EQU   RTM2SCTL+4                                               05712000
RTM2ABID EQU   RTM2ABDR                                                 05713000
RTM2ABND EQU   RTM2ABDR+1                                               05714000
RTM2RCTL EQU   RTM2SCTL+6                                               05715000
RTM2INTF EQU   RTM2CVER+266                                             05716000
RTM2CTLR EQU   RTM2INTF                                                 05717000
RTM2TSKT EQU   RTM2INTF+2                                               05718000
RTM2ABDP EQU   RTM2INTF+4                                               05719000
RTM2ASIR EQU   RTM2INTF+5                                               05720000
RTM2FLX  EQU   RTM2INTF+6                                               05721000
RTM2FLX1 EQU   RTM2FLX                                                  05722000
RTM2FLX2 EQU   RTM2FLX+1                                                05723000
RTM2RECL EQU   RTM2CVER+274                                             05724000
RTM2DCTL EQU   RTM2RECL+12                                              05725000
RTM2ECTL EQU   RTM2RECL+13                                              05726000
RTM2TRYR EQU   RTM2RECL+16                                              05727000
RTM2TRF1 EQU   RTM2TRYR                                                 05728000
RTM2TRF2 EQU   RTM2TRYR+2                                               05729000
RTM2RECH EQU   RTM2CVER+294                                             05730000
RTM2RRG  EQU   RTM2CVER+314                                             05731000
RTM2CRG  EQU   RTM2CVER+378                                             05732000
RTM2RMIN EQU   RTM2WA+708                                               05733000
RTM2RMPL EQU   RTM2RMIN+4                                               05734000
RTM2RMWA EQU   RTM2RMIN+28                                              05735000
RTM2ERID EQU   RTM2WA+872                                               05736000
RTM2SEQ# EQU   RTM2ERID                                                 05737000
RTM2CPUI EQU   RTM2ERID+2                                               05738000
STORAGE  EQU   0                                                        05739000
STORFRM  EQU   STORAGE                                                  05740000
STORTO   EQU   STORAGE+4                                                05741000
TCBFIX   EQU   0                                                        05742000
TCBFRS   EQU   TCBFIX                                                   05743000
TCB      EQU   0                                                        05744000
TCBPIE   EQU   TCB+4                                                    05745000
TCBPMASK EQU   TCBPIE                                                   05746000
TCBCMP   EQU   TCB+16                                                   05747000
TCBCMPF  EQU   TCBCMP                                                   05748000
TCBCPP   EQU   TCBCMPF                                                  05749000
TCBSTCC  EQU   TCBCMPF                                                  05750000
TCBCDBL  EQU   TCBCMPF                                                  05751000
TCBCWTO  EQU   TCBCMPF                                                  05752000
TCBCIND  EQU   TCBCMPF                                                  05753000
TCBCMSG  EQU   TCBCMPF                                                  05754000
TCBTRN   EQU   TCB+20                                                   05755000
TCBABF   EQU   TCBTRN                                                   05756000
TCBMSS   EQU   TCB+24                                                   05757000
TCBPKF   EQU   TCB+28                                                   05758000
TCBFLGS  EQU   TCB+29                                                   05759000
TCBFLGS1 EQU   TCBFLGS                                                  05760000
TCBFLGS2 EQU   TCBFLGS+1                                                05761000
TCBFLGS3 EQU   TCBFLGS+2                                                05762000
TCBFLGS4 EQU   TCBFLGS+3                                                05763000
TCBFLGS5 EQU   TCBFLGS+4                                                05764000
TCBABWF  EQU   TCBFLGS5                                                 05765000
TCBJPQ   EQU   TCB+44                                                   05766000
TCBPURGE EQU   TCBJPQ                                                   05767000
TCBGRS   EQU   TCB+48                                                   05768000
TCBFSA   EQU   TCB+112                                                  05769000
TCBTME   EQU   TCB+120                                                  05770000
TCBJSTCB EQU   TCB+124                                                  05771000
TCBTSFLG EQU   TCB+148                                                  05772000
TCBTSTSK EQU   TCBTSFLG                                                 05773000
TCBSTAB  EQU   TCB+160                                                  05774000
TCBNSTAE EQU   TCBSTAB                                                  05775000
TCBTCT   EQU   TCB+164                                                  05776000
TCBTCTGF EQU   TCBTCT                                                   05777000
TCBSCNDY EQU   TCB+172                                                  05778000
TCBNDSP  EQU   TCBSCNDY                                                 05779000
TCBNDSP1 EQU   TCBNDSP+1                                                05780000
TCBNDSP2 EQU   TCBNDSP+2                                                05781000
TCBNDSP3 EQU   TCBNDSP+3                                                05782000
TCBJSCB  EQU   TCB+180                                                  05783000
TCBRECDE EQU   TCBJSCB                                                  05784000
TCBEXT1  EQU   TCB+196                                                  05785000
TCBBITS  EQU   TCB+200                                                  05786000
TCBNDSP4 EQU   TCBBITS                                                  05787000
TCBNDSP5 EQU   TCBBITS+1                                                05788000
TCBFLGS6 EQU   TCBBITS+2                                                05789000
TCBFLGS7 EQU   TCBBITS+3                                                05790000
TCBDAR   EQU   TCB+204                                                  05791000
TCBDARC  EQU   TCBDAR                                                   05792000
TCBEXT2  EQU   TCB+208                                                  05793000
TCBRTWA  EQU   TCB+224                                                  05794000
TCBXSCT  EQU   TCB+240                                                  05795000
TCBXSCT1 EQU   TCBXSCT                                                  05796000
TCBFOE   EQU   TCB+244                                                  05797000
TCBESTAE EQU   TCB+264                                                  05798000
TCBESTRM EQU   TCBESTAE+1                                               05799000
TCBFBYT1 EQU   TCB+276                                                  05800000
TCBRTM2  EQU   TCBFBYT1                                                 05801000
TCBFBYT2 EQU   TCB+277                                                  05802000
TCBRV124 EQU   TCB+278                                                  05803000
TCBRV133 EQU   TCB+279                                                  05804000
TCBXTNT2 EQU   0                                                        05805000
TCBGTF   EQU   TCBXTNT2                                                 05806000
TCBTFLG  EQU   TCBGTF                                                   05807000
TCBRV146 EQU   TCBXTNT2+28                                              05808000
TCBRV155 EQU   TCBXTNT2+29                                              05809000
TCBRV164 EQU   TCBXTNT2+30                                              05810000
TCBRV173 EQU   TCBXTNT2+31                                              05811000
SHDR     EQU   0                                                        05812000
SHDRPFC  EQU   SHDR+4                                                   05813000
SHDRCTFW EQU   SHDR+8                                                   05814000
SHDRFLGS EQU   SHDR+20                                                  05815000
SHDRPROC EQU   SHDR+24                                                  05816000
SLIPLIST EQU   0                                                        05817000
SLPCFRRS EQU   SLIPLIST                                                 05818000
SLPRT2WA EQU   SLIPLIST+4                                               05819000
SLPWAPTR EQU   SLIPLIST+8                                               05820000
SLPRTSTK EQU   SLIPLIST+12                                              05821000
IEAVTSLP EQU   0                                                        05822000
RTCA     EQU   0                                                        05823000
RTCAZ1   EQU   RTCA                                                     05824000
RTCAZ11  EQU   RTCA+204                                                 05825000
RTCAERRC EQU   RTCA+234                                                 05826000
RTCAERRD EQU   RTCA+235                                                 05827000
RTCAFMID EQU   RTCA+236                                                 05828000
RTCAZ2   EQU   RTCA+238                                                 05829000
RTCACPUI EQU   RTCA+239                                                 05830000
RTCAZ21  EQU   RTCA+240                                                 05831000
RTCALKS1 EQU   RTCA+254                                                 05832000
RTCALKS2 EQU   RTCA+255                                                 05833000
RTCALKWA EQU   RTCA+256                                                 05834000
RTCAZ3   EQU   RTCA+292                                                 05835000
RTCACOMP EQU   RTCA+392                                                 05836000
RTCAZ4   EQU   RTCA+396                                                 05837000
RTCAMASK EQU   0                                                        05838000
RTCALMSK EQU   RTCAMASK+2                                               05839000
GLOBRTCA EQU   0                                                        05840000
HRDWDATA EQU   0                                                        05841000
NGLBRTCA EQU   0                                                        05842000
PSW      EQU   0                                                        05843000
PSWIMASK EQU   PSW                                                      05844000
PSWIO    EQU   PSWIMASK                                                 05845000
PSWEXT   EQU   PSWIMASK                                                 05846000
PSWKYMWP EQU   PSW+1                                                    05847000
PSWCCPMK EQU   PSW+2                                                    05848000
PSWIC    EQU   PSW+4                                                    05849000
SRMSTAT  EQU   0                                                        05850000
CHKPT1   EQU   SRMSTAT                                                  05851000
CHKPT2   EQU   SRMSTAT+4                                                05852000
CHKPT3   EQU   SRMSTAT+8                                                05853000
CHKPT4   EQU   SRMSTAT+12                                               05854000
CHKPT5   EQU   SRMSTAT+16                                               05855000
STORLIST EQU   0                                                        05856000
LISTPAIR EQU   STORLIST                                                 05857000
TOADDR   EQU   LISTPAIR+4                                               05858000
STOREND  EQU   TOADDR                                                   05859000
ERREGS   EQU   0                                                        05860000
SRMRGSV  EQU   0                                                        05861000
SRMWSAV1 EQU   SRMRGSV                                                  05862000
SRMFMSK  EQU   SRMWSAV1                                                 05863000
SRMRMSK  EQU   SRMWSAV1+1                                               05864000
LOCKMASK EQU   SRMWSAV1+2                                               05865000
SRMWSAV2 EQU   SRMRGSV+4                                                05866000
SRMREGS  EQU   SRMRGSV+8                                                05867000
SRMREG1  EQU   SRMREGS+4                                                05868000
SRMRVSTK EQU   SRMREGS+8                                                05869000
SRMTGFRR EQU   SRMREGS+16                                               05870000
SRMTRTCA EQU   SRMREGS+20                                               05871000
SRMFRRS  EQU   SRMREGS+24                                               05872000
SRMREG9  EQU   SRMREGS+36                                               05873000
SRMREG11 EQU   SRMREGS+44                                               05874000
SRMREG13 EQU   SRMREGS+52                                               05875000
SRMREG14 EQU   SRMREGS+56                                               05876000
NEWRTCA  EQU   0                                                        05877000
NEWRGSV  EQU   NEWRTCA+512                                              05878000
FRRWA    EQU   0                                                        05879000
PSWEXT1  EQU   0                                                        05880000
PSWILCIC EQU   PSWEXT1                                                  05881000
JOBNAME  EQU   0                                                        05882000
FRRPARMS EQU   0                                                        05883000
FRRPFLGS EQU   FRRPARMS                                                 05884000
FRRPFLG1 EQU   FRRPFLGS                                                 05885000
FRRPFLG2 EQU   FRRPFLGS+1                                               05886000
FRRPRCRD EQU   FRRPFLG2                                                 05887000
FRRPHOOK EQU   FRRPFLG2                                                 05888000
FRRPRCUR EQU   FRRPFLG2                                                 05889000
FRRPFLPN EQU   FRRPFLGS+2                                               05890000
FRRPRTYA EQU   FRRPARMS+4                                               05891000
FRRPISTK EQU   FRRPARMS+8                                               05892000
FRRPREGS EQU   FRRPARMS+12                                              05893000
DUMPARMS EQU   0                                                        05894000
I001C    EQU   0                                                        05895000
I008P    EQU   0                                                        05896000
I015F    EQU   0                                                        05897000
I015P    EQU   0                                                        05898000
I031F    EQU   0                                                        05899000
I031P    EQU   0                                                        05900000
I256C    EQU   0                                                        05901000
SNAPPTR  EQU   0                                                        05902000
RT1W     EQU   FRRSRTMW                                                 05903000
RT1WNPRS EQU   RT1W                                                     05904000
RT1WLPTA EQU   RT1WNPRS                                                 05905000
RT1WPSW1 EQU   RT1WNPRS+24                                              05906000
RT1WPSW2 EQU   RT1WNPRS+28                                              05907000
RT1WVARI EQU   RT1WNPRS+32                                              05908000
RT1WPRSV EQU   RT1W+52                                                  05909000
RT1WRTCA EQU   RT1WPRSV                                                 05910000
RT1WSRBR EQU   RT1WPRSV+4                                               05911000
RT1WENTR EQU   RT1WPRSV+12                                              05912000
RT1WMODE EQU   RT1WENTR                                                 05913000
RT1WSRMD EQU   RT1WENTR+1                                               05914000
RT1WCOVR EQU   RT1WENTR+2                                               05915000
RT1WCLUP EQU   RT1WCOVR                                                 05916000
RT1TLOCL EQU   RT1WCOVR                                                 05917000
RT1TRTCA EQU   RT1WCOVR                                                 05918000
RT1WLPN  EQU   RT1WENTR+3                                               05919000
RT1RTRN  EQU   FRRSRTMW                                                 05920000
RT1RTRRG EQU   RT1RTRN+4                                                05921000
EEDREGSP EQU   EEDVARBL                                                 05922000
EEDREGS  EQU   EEDREGSP                                                 05923000
EEDPSW   EQU   EEDREGSP+64                                              05924000
EEDPSW1  EQU   EEDPSW                                                   05925000
EEDPSW2  EQU   EEDPSW+8                                                 05926000
EEDINILC EQU   EEDPSW2                                                  05927000
EEDDUMPO EQU   EEDVARBL                                                 05928000
EEDSCDMP EQU   EEDDUMPO                                                 05929000
EEDSDDAT EQU   EEDSCDMP+4                                               05930000
EEDHWREP EQU   EEDVARBL                                                 05931000
EEDHMCHS EQU   EEDHWREP+8                                               05932000
EEDHMCHD EQU   EEDHWREP+9                                               05933000
EEDHRSRS EQU   EEDHWREP+12                                              05934000
EEDHRSR1 EQU   EEDHRSRS                                                 05935000
EEDHRSR2 EQU   EEDHRSRS+1                                               05936000
EEDERMAP EQU   EEDVARBL                                                 05937000
EEDERRID EQU   EEDERMAP+70                                              05938000
EEDESEQ# EQU   EEDERRID                                                 05939000
EEDECPUI EQU   EEDERRID+2                                               05940000
EEDETIME EQU   EEDERRID+6                                               05941000
PSARSVTE EQU   PSARSVT                                                  05942000
PSACSTK  EQU   PSARSVTE                                                 05943000
PSANSTK  EQU   PSARSVTE+4                                               05944000
PSAPSTK  EQU   PSARSVTE+24                                              05945000
PSARSTK  EQU   PSARSVTE+56                                              05946000
CVTPTR   EQU   FLCCVT                                                   05947000
CVTS01   EQU   CVTPGSIA                                                 05948000
CVTLPDIA EQU   CVTS01+12                                                05949000
CVTDIRST EQU   CVTLPDIA                                                 05950000
CVTSLIDA EQU   CVTS01+24                                                05951000
CVTCTLFG EQU   CVTS01+50                                                05952000
CVTRTMCT EQU   CVTS01+224                                               05953000
CVTRTMS  EQU   CVTS01+244                                               05954000
CVTGLMN  EQU   CVTS01+332                                               05955000
CVTSPSA  EQU   CVTS01+336                                               05956000
CVTRSTWD EQU   CVTS01+368                                               05957000
CVTRV210 EQU   CVTS01+424                                               05958000
CVTRV219 EQU   CVTS01+425                                               05959000
CVTRV228 EQU   CVTS01+426                                               05960000
CVTRV237 EQU   CVTS01+427                                               05961000
CVTMFRTR EQU   CVTS01+452                                               05962000
CVTRV262 EQU   CVTS01+468                                               05963000
CVTRV271 EQU   CVTS01+469                                               05964000
CVTRV280 EQU   CVTS01+470                                               05965000
CVTRV289 EQU   CVTS01+471                                               05966000
CVTGSDA  EQU   CVTS01+600                                               05967000
LKTOFREE EQU   SDWAACF3                                                 05968000
RTMRETAD EQU   CHKPT1                                                   05969000
RTMBASE  EQU   CHKPT2                                                   05970000
CKFLGSCC EQU   SRMREG1                                                  05971000
CKSRMSTK EQU   SRMRVSTK                                                 05972000
CKDMPOPT EQU   SRMTRTCA                                                 05973000
CKEEDCHN EQU   SRMREG11                                                 05974000
CKSVREAP EQU   SRMREG13                                                 05975000
ABBMACH  EQU   SDWAMCHI                                                 05976000
FRRPSW1  EQU   PSW                                                      05977000
SNPCDMP  EQU   SNPIDENT                                                 05978000
RCRDPARM EQU   SDWARCPL                                                 05979000
RCRDHEAD EQU   RCRDPARM                                                 05980000
RCRDTYPE EQU   RCRDHEAD                                                 05981000
RCRDNAME EQU   RCRDPARM+4                                               05982000
RCRDERID EQU   RCRDPARM+12                                              05983000
RCRDSEQ# EQU   RCRDERID                                                 05984000
RCRDCPUI EQU   RCRDERID+2                                               05985000
RCRDASID EQU   RCRDERID+4                                               05986000
RCRDERTM EQU   RCRDERID+6                                               05987000
RCRDINFO EQU   RCRDPARM+24                                              05988000
REGSTOR  EQU   SDWARCPL                                                 05989000
ECPEXT1  EQU   SDWAAEC1                                                 05990000
ECPEXT2  EQU   SDWAAEC2                                                 05991000
FRRPAINF EQU   FRRPREGS                                                 05992000
FRRPREG1 EQU   FRRPAINF                                                 05993000
FRRPREG2 EQU   FRRPAINF+4                                               05994000
FRRPREG3 EQU   FRRPAINF+8                                               05995000
FLC      EQU   PSA                                                      05996000
RECRTCA  EQU   SDWARCPL                                                 05997000
RTCAPTR  EQU   SDWARCPL                                                 05998000
*                                      START UNREFERENCED COMPONENTS    05999000
@NM00146 EQU   RCRDPARM+22                                              06000000
@NM00145 EQU   RCRDHEAD+1                                               06001000
CVTRV628 EQU   CVTS01+728                                               06002000
CVTRV627 EQU   CVTS01+724                                               06003000
CVTRV626 EQU   CVTS01+720                                               06004000
CVTRV625 EQU   CVTS01+716                                               06005000
CVTRV624 EQU   CVTS01+712                                               06006000
CVTRV623 EQU   CVTS01+708                                               06007000
CVTRV622 EQU   CVTS01+704                                               06008000
CVTRV621 EQU   CVTS01+700                                               06009000
CVTIHASU EQU   CVTS01+696                                               06010000
CVTSUSP  EQU   CVTS01+692                                               06011000
CVTT6SVC EQU   CVTS01+688                                               06012000
CVTCDAL  EQU   CVTS01+684                                               06013000
CVTTCTL  EQU   CVTS01+680                                               06014000
CVTRSUME EQU   CVTS01+676                                               06015000
CVTJTERM EQU   CVTS01+672                                               06016000
CVTASMRM EQU   CVTS01+668                                               06017000
CVTTCASP EQU   CVTS01+664                                               06018000
CVT0PT03 EQU   CVTS01+660                                               06019000
CVT0PT0E EQU   CVTS01+656                                               06020000
CVTRV609 EQU   CVTS01+652                                               06021000
CVTCGK   EQU   CVTS01+648                                               06022000
CVTRAC   EQU   CVTS01+644                                               06023000
CVTRV606 EQU   CVTS01+640                                               06024000
CVTRV605 EQU   CVTS01+636                                               06025000
CVTRV604 EQU   CVTS01+632                                               06026000
CVTEFF02 EQU   CVTS01+628                                               06027000
CVTCBBR  EQU   CVTS01+624                                               06028000
CVTSSCR  EQU   CVTS01+620                                               06029000
CVTEVENT EQU   CVTS01+616                                               06030000
CVTCRCA  EQU   CVTS01+612                                               06031000
CVTTPIO  EQU   CVTS01+608                                               06032000
CVTADV   EQU   CVTS01+604                                               06033000
CVTGSDAB EQU   CVTGSDA                                                  06034000
CVTQV3   EQU   CVTS01+596                                               06035000
CVTQV2   EQU   CVTS01+592                                               06036000
CVTQV1   EQU   CVTS01+588                                               06037000
CVTRPT   EQU   CVTS01+584                                               06038000
CVTSSRB  EQU   CVTS01+580                                               06039000
CVTCSDRL EQU   CVTS01+576                                               06040000
CVTEXP1  EQU   CVTS01+572                                               06041000
CVTRMPMT EQU   CVTS01+568                                               06042000
CVTRMPTT EQU   CVTS01+564                                               06043000
CVTVPSA  EQU   CVTS01+560                                               06044000
CVTVSTOP EQU   CVTS01+556                                               06045000
CVTGTFR8 EQU   CVTS01+552                                               06046000
CVTQUIT  EQU   CVTS01+548                                               06047000
CVTVACR  EQU   CVTS01+544                                               06048000
CVTWTCB  EQU   CVTS01+540                                               06049000
CVTSTPRS EQU   CVTS01+536                                               06050000
CVT0PT02 EQU   CVTS01+532                                               06051000
CVTDARCM EQU   CVTS01+528                                               06052000
CVTIRECM EQU   CVTS01+524                                               06053000
CVTJRECM EQU   CVTS01+520                                               06054000
CVTVEMS0 EQU   CVTS01+516                                               06055000
CVTSPFRR EQU   CVTS01+512                                               06056000
CVTRLSTG EQU   CVTS01+508                                               06057000
CVT0TC0A EQU   CVTS01+504                                               06058000
CVTGMBR  EQU   CVTS01+500                                               06059000
CVTLFRM  EQU   CVTS01+496                                               06060000
CVTRMBR  EQU   CVTS01+492                                               06061000
CVTVIOP  EQU   CVTS01+488                                               06062000
CVTRV307 EQU   CVTS01+486                                               06063000
CVTRV306 EQU   CVTS01+484                                               06064000
CVTRV305 EQU   CVTS01+482                                               06065000
CVTRV304 EQU   CVTS01+480                                               06066000
CVTRV303 EQU   CVTS01+478                                               06067000
CVTRV302 EQU   CVTS01+476                                               06068000
CVTTRCA  EQU   CVTS01+472                                               06069000
CVTRV297 EQU   CVTRV289                                                 06070000
CVTRV296 EQU   CVTRV289                                                 06071000
CVTRV295 EQU   CVTRV289                                                 06072000
CVTRV294 EQU   CVTRV289                                                 06073000
CVTRV293 EQU   CVTRV289                                                 06074000
CVTRV292 EQU   CVTRV289                                                 06075000
CVTRV291 EQU   CVTRV289                                                 06076000
CVTRV290 EQU   CVTRV289                                                 06077000
CVTRV288 EQU   CVTRV280                                                 06078000
CVTRV287 EQU   CVTRV280                                                 06079000
CVTRV286 EQU   CVTRV280                                                 06080000
CVTRV285 EQU   CVTRV280                                                 06081000
CVTRV284 EQU   CVTRV280                                                 06082000
CVTRV283 EQU   CVTRV280                                                 06083000
CVTRV282 EQU   CVTRV280                                                 06084000
CVTRV281 EQU   CVTRV280                                                 06085000
CVTRV279 EQU   CVTRV271                                                 06086000
CVTRV278 EQU   CVTRV271                                                 06087000
CVTRV277 EQU   CVTRV271                                                 06088000
CVTRV276 EQU   CVTRV271                                                 06089000
CVTRV275 EQU   CVTRV271                                                 06090000
CVTRV274 EQU   CVTRV271                                                 06091000
CVTRV273 EQU   CVTRV271                                                 06092000
CVTRV272 EQU   CVTRV271                                                 06093000
CVTRV270 EQU   CVTRV262                                                 06094000
CVTRV269 EQU   CVTRV262                                                 06095000
CVTRV268 EQU   CVTRV262                                                 06096000
CVTRV267 EQU   CVTRV262                                                 06097000
CVTRV266 EQU   CVTRV262                                                 06098000
CVTRV265 EQU   CVTRV262                                                 06099000
CVTRV264 EQU   CVTRV262                                                 06100000
CVTRV263 EQU   CVTRV262                                                 06101000
CVTVFP   EQU   CVTS01+464                                               06102000
CVTVSI   EQU   CVTS01+460                                               06103000
CVTVPSIB EQU   CVTS01+456                                               06104000
CVTMFACT EQU   CVTMFRTR                                                 06105000
CVTMFCTL EQU   CVTS01+448                                               06106000
CVTPVBP  EQU   CVTS01+444                                               06107000
CVTPWI   EQU   CVTS01+440                                               06108000
CVTRV254 EQU   CVTS01+438                                               06109000
CVTRV253 EQU   CVTS01+436                                               06110000
CVTRV252 EQU   CVTS01+434                                               06111000
CVTRV251 EQU   CVTS01+433                                               06112000
CVTRV250 EQU   CVTS01+432                                               06113000
CVTRV249 EQU   CVTS01+431                                               06114000
CVTRV248 EQU   CVTS01+430                                               06115000
CVTRV247 EQU   CVTS01+429                                               06116000
CVTRV246 EQU   CVTS01+428                                               06117000
CVTRV245 EQU   CVTRV237                                                 06118000
CVTRV244 EQU   CVTRV237                                                 06119000
CVTRV243 EQU   CVTRV237                                                 06120000
CVTRV242 EQU   CVTRV237                                                 06121000
CVTRV241 EQU   CVTRV237                                                 06122000
CVTRV240 EQU   CVTRV237                                                 06123000
CVTRV239 EQU   CVTRV237                                                 06124000
CVTRV238 EQU   CVTRV237                                                 06125000
CVTRV236 EQU   CVTRV228                                                 06126000
CVTRV235 EQU   CVTRV228                                                 06127000
CVTRV234 EQU   CVTRV228                                                 06128000
CVTRV233 EQU   CVTRV228                                                 06129000
CVTRV232 EQU   CVTRV228                                                 06130000
CVTRV231 EQU   CVTRV228                                                 06131000
CVTRV230 EQU   CVTRV228                                                 06132000
CVTRV229 EQU   CVTRV228                                                 06133000
CVTRV227 EQU   CVTRV219                                                 06134000
CVTRV226 EQU   CVTRV219                                                 06135000
CVTRV225 EQU   CVTRV219                                                 06136000
CVTRV224 EQU   CVTRV219                                                 06137000
CVTRV223 EQU   CVTRV219                                                 06138000
CVTRV222 EQU   CVTRV219                                                 06139000
CVTRV221 EQU   CVTRV219                                                 06140000
CVTRV220 EQU   CVTRV219                                                 06141000
CVTRV218 EQU   CVTRV210                                                 06142000
CVTRV217 EQU   CVTRV210                                                 06143000
CVTRV216 EQU   CVTRV210                                                 06144000
CVTRV215 EQU   CVTRV210                                                 06145000
CVTRV214 EQU   CVTRV210                                                 06146000
CVTRV213 EQU   CVTRV210                                                 06147000
CVTRV212 EQU   CVTRV210                                                 06148000
CVTRV211 EQU   CVTRV210                                                 06149000
CVTLCCAT EQU   CVTS01+420                                               06150000
CVTPCCAT EQU   CVTS01+416                                               06151000
CVTIPCRP EQU   CVTS01+412                                               06152000
CVTIPCRI EQU   CVTS01+408                                               06153000
CVTIPCDS EQU   CVTS01+404                                               06154000
CVTAIDVT EQU   CVTS01+400                                               06155000
CVTSSAP  EQU   CVTS01+396                                               06156000
CVTEHCIR EQU   CVTS01+392                                               06157000
CVTEHDEF EQU   CVTS01+388                                               06158000
CVTDAIR  EQU   CVTS01+384                                               06159000
CVTPERFM EQU   CVTS01+380                                               06160000
CVT044R2 EQU   CVTS01+376                                               06161000
CVTFETCH EQU   CVTS01+372                                               06162000
CVTSPOST EQU   CVTS01+364                                               06163000
CVTIOBP  EQU   CVTS01+360                                               06164000
CVTASMVT EQU   CVTS01+356                                               06165000
CVTRECRQ EQU   CVTS01+352                                               06166000
CVTWSAC  EQU   CVTS01+348                                               06167000
CVTRV149 EQU   CVTS01+344                                               06168000
CVTWSAL  EQU   CVTS01+340                                               06169000
CVTVEAC0 EQU   CVTS01+328                                               06170000
CVT062R1 EQU   CVTS01+324                                               06171000
CVTRPOST EQU   CVTS01+320                                               06172000
CVTDQIQE EQU   CVTS01+316                                               06173000
CVTCSD   EQU   CVTS01+312                                               06174000
CVTLKRMA EQU   CVTS01+308                                               06175000
CVTRSPIE EQU   CVTS01+304                                               06176000
CVTRENQ  EQU   CVTS01+300                                               06177000
CVTLQCB  EQU   CVTS01+296                                               06178000
CVTFQCB  EQU   CVTS01+292                                               06179000
CVTQCS01 EQU   CVTS01+288                                               06180000
CVTAPFT  EQU   CVTS01+284                                               06181000
CVTPARRL EQU   CVTS01+280                                               06182000
CVTVWAIT EQU   CVTS01+276                                               06183000
CVTGSPL  EQU   CVTS01+272                                               06184000
CVTLSMQ  EQU   CVTS01+268                                               06185000
CVTGSMQ  EQU   CVTS01+264                                               06186000
CVTEXPRO EQU   CVTS01+260                                               06187000
CVTOPCTP EQU   CVTS01+256                                               06188000
CVTSIC   EQU   CVTS01+252                                               06189000
CVTTPIOS EQU   CVTS01+248                                               06190000
CVTSDBF  EQU   CVTS01+240                                               06191000
CVTSCBP  EQU   CVTS01+236                                               06192000
CVTSDMP  EQU   CVTS01+232                                               06193000
CVTSV60  EQU   CVTS01+228                                               06194000
CVTASCBL EQU   CVTS01+220                                               06195000
CVTASCBH EQU   CVTS01+216                                               06196000
CVTGDA   EQU   CVTS01+212                                               06197000
CVTASVT  EQU   CVTS01+208                                               06198000
CVTVVMDI EQU   CVTS01+204                                               06199000
CVTAQTOP EQU   CVTS01+200                                               06200000
CVTIOSCS EQU   CVTS01+196                                               06201000
CVTSDRM  EQU   CVTS01+192                                               06202000
CVTOPTE  EQU   CVTS01+188                                               06203000
CVTSTXU  EQU   CVTS01+184                                               06204000
CVTQUIS  EQU   CVTS01+180                                               06205000
CVTPARS  EQU   CVTS01+176                                               06206000
CVTS1EE  EQU   CVTS01+172                                               06207000
CVTFRAS  EQU   CVTS01+168                                               06208000
CVTQSAS  EQU   CVTS01+164                                               06209000
CVTCRAS  EQU   CVTS01+160                                               06210000
CVTCRMN  EQU   CVTS01+156                                               06211000
CVTDELCP EQU   CVTS01+152                                               06212000
CVTFRECL EQU   CVTS01+148                                               06213000
CVTGETCL EQU   CVTS01+144                                               06214000
CVTBLDCP EQU   CVTS01+140                                               06215000
CVTAUTHL EQU   CVTS01+136                                               06216000
CVTSCAN  EQU   CVTS01+132                                               06217000
CVTRV144 EQU   CVTS01+130                                               06218000
CVTMAXMP EQU   CVTS01+128                                               06219000
CVTSTCK  EQU   CVTS01+124                                               06220000
CVTRV139 EQU   CVTS01+123                                               06221000
CVTDSSAC EQU   CVTS01+122                                               06222000
CVTRV513 EQU   CVTS01+121                                               06223000
CVTIOSPL EQU   CVTS01+120                                               06224000
CVTPTGT  EQU   CVTS01+116                                               06225000
CVTCSPIE EQU   CVTS01+112                                               06226000
CVTSMFEX EQU   CVTS01+108                                               06227000
CVTOLT0A EQU   CVTS01+104                                               06228000
CVTSRBRT EQU   CVTS01+100                                               06229000
CVTPUTL  EQU   CVTS01+96                                                06230000
CVTASCRL EQU   CVTS01+92                                                06231000
CVTASCRF EQU   CVTS01+88                                                06232000
CVTRV326 EQU   CVTS01+84                                                06233000
CVTRV325 EQU   CVTS01+80                                                06234000
CVTRV324 EQU   CVTS01+76                                                06235000
CVT0VL01 EQU   CVTS01+72                                                06236000
CVTSHRVM EQU   CVTS01+68                                                06237000
CVTRV332 EQU   CVTS01+64                                                06238000
CVTTAS   EQU   CVTS01+60                                                06239000
CVTRSCN  EQU   CVTS01+56                                                06240000
CVTTRAC2 EQU   CVTS01+54                                                06241000
CVTTRACE EQU   CVTS01+52                                                06242000
CVTAPG   EQU   CVTS01+51                                                06243000
CVTSDTRC EQU   CVTCTLFG                                                 06244000
CVTGTRCE EQU   CVTCTLFG                                                 06245000
CVTNOMP  EQU   CVTCTLFG                                                 06246000
CVTRSV79 EQU   CVTCTLFG                                                 06247000
CVTDSTAT EQU   CVTCTLFG                                                 06248000
CVTRSV78 EQU   CVTCTLFG                                                 06249000
CVTRV333 EQU   CVTCTLFG                                                 06250000
CVTRV323 EQU   CVTCTLFG                                                 06251000
CVTSPVLK EQU   CVTS01+49                                                06252000
CVTRSV77 EQU   CVTS01+48                                                06253000
CVTRV331 EQU   CVTS01+44                                                06254000
CVTRV330 EQU   CVTS01+40                                                06255000
CVTRV329 EQU   CVTS01+36                                                06256000
CVTRV328 EQU   CVTS01+32                                                06257000
CVTRV322 EQU   CVTS01+28                                                06258000
CVTSLID  EQU   CVTSLIDA+1                                               06259000
CVTSYLK  EQU   CVTSLIDA                                                 06260000
CVTRV321 EQU   CVTS01+20                                                06261000
CVTRV320 EQU   CVTS01+16                                                06262000
CVTLPDIR EQU   CVTLPDIA+1                                               06263000
CVTRSV69 EQU   CVTDIRST                                                 06264000
CVTRSV68 EQU   CVTDIRST                                                 06265000
CVTRSV67 EQU   CVTDIRST                                                 06266000
CVTRSV66 EQU   CVTDIRST                                                 06267000
CVTRSV65 EQU   CVTDIRST                                                 06268000
CVTRSV64 EQU   CVTDIRST                                                 06269000
CVTRSV63 EQU   CVTDIRST                                                 06270000
CVTDICOM EQU   CVTDIRST                                                 06271000
CVTPVTP  EQU   CVTS01+8                                                 06272000
CVTLPDSR EQU   CVTS01+4                                                 06273000
CVTGETL  EQU   CVTS01                                                   06274000
PSARSAV  EQU   PSARSVTE+60                                              06275000
PSAESAV3 EQU   PSARSVTE+52                                              06276000
PSAESTK3 EQU   PSARSVTE+48                                              06277000
PSAESAV2 EQU   PSARSVTE+44                                              06278000
PSAESTK2 EQU   PSARSVTE+40                                              06279000
PSAESAV1 EQU   PSARSVTE+36                                              06280000
PSAESTK1 EQU   PSARSVTE+32                                              06281000
PSAPSAV  EQU   PSARSVTE+28                                              06282000
PSAMSAV  EQU   PSARSVTE+20                                              06283000
PSAMSTK  EQU   PSARSVTE+16                                              06284000
PSASSAV  EQU   PSARSVTE+12                                              06285000
PSASSTK  EQU   PSARSVTE+8                                               06286000
EEDEASID EQU   EEDERRID+4                                               06287000
@NM00010 EQU   EEDERMAP                                                 06288000
EEDHTIME EQU   EEDHWREP+20                                              06289000
EEDHRFSA EQU   EEDHWREP+16                                              06290000
@NM00009 EQU   EEDHWREP+14                                              06291000
EEDHVERQ EQU   EEDHRSR2                                                 06292000
EEDHPGFX EQU   EEDHRSR2                                                 06293000
EEDHFLSQ EQU   EEDHRSR2                                                 06294000
EEDHFSQA EQU   EEDHRSR2                                                 06295000
EEDHNUCL EQU   EEDHRSR2                                                 06296000
EEDHSPER EQU   EEDHRSR2                                                 06297000
EEDHINTC EQU   EEDHRSR2                                                 06298000
EEDHOFLN EQU   EEDHRSR2                                                 06299000
EEDHCHNG EQU   EEDHRSR1                                                 06300000
EEDHMSER EQU   EEDHRSR1                                                 06301000
@NM00008 EQU   EEDHRSR1                                                 06302000
EEDHCPID EQU   EEDHWREP+10                                              06303000
EEDHTERR EQU   EEDHMCHD                                                 06304000
EEDHSOFT EQU   EEDHMCHD                                                 06305000
EEDHINSF EQU   EEDHMCHD                                                 06306000
EEDHACR  EQU   EEDHMCHD                                                 06307000
EEDHSCK  EQU   EEDHMCHD                                                 06308000
EEDHPSWU EQU   EEDHMCHD                                                 06309000
EEDHREGU EQU   EEDHMCHD                                                 06310000
EEDHSKYF EQU   EEDHMCHD                                                 06311000
@NM00007 EQU   EEDHMCHS                                                 06312000
@NM00006 EQU   EEDHMCHS                                                 06313000
EEDHRSRF EQU   EEDHMCHS                                                 06314000
EEDRSRC  EQU   EEDHMCHS                                                 06315000
EEDINVP  EQU   EEDHMCHS                                                 06316000
EEDHTSVL EQU   EEDHMCHS                                                 06317000
EEDHRCDF EQU   EEDHMCHS                                                 06318000
EEDHSRVL EQU   EEDHMCHS                                                 06319000
EEDHSCKE EQU   EEDHWREP+4                                               06320000
EEDHSCKB EQU   EEDHWREP                                                 06321000
EEDSDPSL EQU   EEDDUMPO+8                                               06322000
EEDSPDAT EQU   EEDSDDAT+2                                               06323000
EEDSSDAT EQU   EEDSDDAT                                                 06324000
EEDSDUMP EQU   EEDSCDMP                                                 06325000
EEDTRANS EQU   EEDPSW2+4                                                06326000
EEDINTCD EQU   EEDINILC+2                                               06327000
EEDILC   EQU   EEDINILC+1                                               06328000
@NM00005 EQU   EEDINILC                                                 06329000
EEDPSWIC EQU   EEDPSW1+4                                                06330000
EEDPSWMK EQU   EEDPSW1                                                  06331000
EEDREG15 EQU   EEDREGS+60                                               06332000
EEDREG14 EQU   EEDREGS+56                                               06333000
EEDREG13 EQU   EEDREGS+52                                               06334000
EEDREG12 EQU   EEDREGS+48                                               06335000
EEDREG11 EQU   EEDREGS+44                                               06336000
EEDREG10 EQU   EEDREGS+40                                               06337000
EEDREG9  EQU   EEDREGS+36                                               06338000
EEDREG8  EQU   EEDREGS+32                                               06339000
EEDREG7  EQU   EEDREGS+28                                               06340000
EEDREG6  EQU   EEDREGS+24                                               06341000
EEDREG5  EQU   EEDREGS+20                                               06342000
EEDREG4  EQU   EEDREGS+16                                               06343000
EEDREG3  EQU   EEDREGS+12                                               06344000
EEDREG2  EQU   EEDREGS+8                                                06345000
EEDREG1  EQU   EEDREGS+4                                                06346000
EEDREG0  EQU   EEDREGS                                                  06347000
RT1RTYAD EQU   RT1RTRRG+60                                              06348000
RT1R0R14 EQU   RT1RTRRG                                                 06349000
@NM00002 EQU   RT1RTRN                                                  06350000
@NM00001 EQU   RT1WCOVR                                                 06351000
RT1WEREX EQU   RT1WCOVR                                                 06352000
RT1WRTM  EQU   RT1WCOVR                                                 06353000
RT1WEED  EQU   RT1WPRSV+8                                               06354000
FRRPFLG4 EQU   FRRPFLGS+3                                               06355000
@NM00148 EQU   FRRPFLG2                                                 06356000
@NM00147 EQU   FRRPFLG1                                                 06357000
FRRPFREE EQU   FRRPFLG1                                                 06358000
PSWTRAN  EQU   PSWEXT1+4                                                06359000
PSWINTCD EQU   PSWILCIC+2                                               06360000
PSWILC   EQU   PSWILCIC+1                                               06361000
@NM00144 EQU   PSWILCIC                                                 06362000
@NM00139 EQU   NEWRTCA                                                  06363000
SRMREG15 EQU   SRMREGS+60                                               06364000
SRMREG12 EQU   SRMREGS+48                                               06365000
SRMREG10 EQU   SRMREGS+40                                               06366000
SRMCRSTK EQU   SRMREGS+32                                               06367000
SRMRCURS EQU   SRMREGS+28                                               06368000
SRMREG3  EQU   SRMREGS+12                                               06369000
SRMFNCT  EQU   SRMREGS                                                  06370000
ERREG15  EQU   ERREGS+60                                                06371000
ERREG14  EQU   ERREGS+56                                                06372000
ERREG13  EQU   ERREGS+52                                                06373000
ERREG12  EQU   ERREGS+48                                                06374000
ERREG11  EQU   ERREGS+44                                                06375000
ERREG10  EQU   ERREGS+40                                                06376000
ERREG9   EQU   ERREGS+36                                                06377000
ERREG8   EQU   ERREGS+32                                                06378000
ERREG7   EQU   ERREGS+28                                                06379000
ERREG6   EQU   ERREGS+24                                                06380000
ERREG5   EQU   ERREGS+20                                                06381000
ERREG4   EQU   ERREGS+16                                                06382000
ERREG3   EQU   ERREGS+12                                                06383000
ERREG2   EQU   ERREGS+8                                                 06384000
ERREG1   EQU   ERREGS+4                                                 06385000
ERREG0   EQU   ERREGS                                                   06386000
FROMADDR EQU   LISTPAIR                                                 06387000
@NM00143 EQU   PSW+3                                                    06388000
PSWSIGNF EQU   PSWCCPMK                                                 06389000
PSWWXPON EQU   PSWCCPMK                                                 06390000
PSWDECIM EQU   PSWCCPMK                                                 06391000
PSWFIXPT EQU   PSWCCPMK                                                 06392000
PSWCONCD EQU   PSWCCPMK                                                 06393000
@NM00142 EQU   PSWCCPMK                                                 06394000
PSWPRBLM EQU   PSWKYMWP                                                 06395000
PSWWAIT  EQU   PSWKYMWP                                                 06396000
PSWMCHCK EQU   PSWKYMWP                                                 06397000
PSWECTM  EQU   PSWKYMWP                                                 06398000
PSWKEY   EQU   PSWKYMWP                                                 06399000
PSWDAT   EQU   PSWIMASK                                                 06400000
PSWEAM   EQU   PSWIMASK                                                 06401000
@NM00141 EQU   PSWIMASK                                                 06402000
PSWPER   EQU   PSWIMASK                                                 06403000
@NM00140 EQU   PSWIMASK                                                 06404000
@NM00138 EQU   RTCAMASK                                                 06405000
@NM00137 EQU   RTCAERRD                                                 06406000
RTCACLUP EQU   RTCAERRD                                                 06407000
RTCAERRB EQU   RTCA+233                                                 06408000
RTCAIDNT EQU   RTCA+200                                                 06409000
SLPWA    EQU   SLIPLIST+16                                              06410000
SHDRIDCT EQU   SHDR+22                                                  06411000
SHDRSEQ  EQU   SHDR+21                                                  06412000
@NM00136 EQU   SHDRFLGS                                                 06413000
SHDRDELP EQU   SHDRFLGS                                                 06414000
SHDRFRR  EQU   SHDRFLGS                                                 06415000
SHDRBKWD EQU   SHDR+16                                                  06416000
SHDRFWD  EQU   SHDRCTFW+4                                               06417000
SHDRCTR  EQU   SHDRCTFW                                                 06418000
SHDRCBID EQU   SHDR                                                     06419000
@NM00135 EQU   TCBXTNT2+32                                              06420000
TCBRV181 EQU   TCBRV173                                                 06421000
TCBRV180 EQU   TCBRV173                                                 06422000
TCBRV179 EQU   TCBRV173                                                 06423000
TCBRV178 EQU   TCBRV173                                                 06424000
TCBRV177 EQU   TCBRV173                                                 06425000
TCBRV176 EQU   TCBRV173                                                 06426000
TCBRV175 EQU   TCBRV173                                                 06427000
TCBRV174 EQU   TCBRV173                                                 06428000
TCBRV172 EQU   TCBRV164                                                 06429000
TCBRV171 EQU   TCBRV164                                                 06430000
TCBRV170 EQU   TCBRV164                                                 06431000
TCBRV169 EQU   TCBRV164                                                 06432000
TCBRV168 EQU   TCBRV164                                                 06433000
TCBRV167 EQU   TCBRV164                                                 06434000
TCBRV166 EQU   TCBRV164                                                 06435000
TCBRV165 EQU   TCBRV164                                                 06436000
TCBRV163 EQU   TCBRV155                                                 06437000
TCBRV162 EQU   TCBRV155                                                 06438000
TCBRV161 EQU   TCBRV155                                                 06439000
TCBRV160 EQU   TCBRV155                                                 06440000
TCBRV159 EQU   TCBRV155                                                 06441000
TCBRV158 EQU   TCBRV155                                                 06442000
TCBRV157 EQU   TCBRV155                                                 06443000
TCBRV156 EQU   TCBRV155                                                 06444000
TCBRV154 EQU   TCBRV146                                                 06445000
TCBRV153 EQU   TCBRV146                                                 06446000
TCBRV152 EQU   TCBRV146                                                 06447000
TCBRV151 EQU   TCBRV146                                                 06448000
TCBRV150 EQU   TCBRV146                                                 06449000
TCBRV149 EQU   TCBRV146                                                 06450000
TCBRV148 EQU   TCBRV146                                                 06451000
TCBRV147 EQU   TCBRV146                                                 06452000
TCBRV145 EQU   TCBXTNT2+26                                              06453000
TCBRV144 EQU   TCBXTNT2+24                                              06454000
TCBRV143 EQU   TCBXTNT2+20                                              06455000
TCBRV142 EQU   TCBXTNT2+16                                              06456000
TCBRSV49 EQU   TCBXTNT2+12                                              06457000
TCBEVENT EQU   TCBXTNT2+8                                               06458000
TCBRCMP  EQU   TCBXTNT2+5                                               06459000
TCBRSVAB EQU   TCBXTNT2+4                                               06460000
TCBGTFA  EQU   TCBGTF+1                                                 06461000
TCBRSV47 EQU   TCBTFLG                                                  06462000
TCBRSV46 EQU   TCBTFLG                                                  06463000
TCBRSV45 EQU   TCBTFLG                                                  06464000
TCBRSV44 EQU   TCBTFLG                                                  06465000
TCBRSV43 EQU   TCBTFLG                                                  06466000
TCBDSPIT EQU   TCBTFLG                                                  06467000
TCBERRTN EQU   TCBTFLG                                                  06468000
TCBASYNC EQU   TCBTFLG                                                  06469000
@NM00134 EQU   TCB+296                                                  06470000
TCBSVCA2 EQU   TCB+292                                                  06471000
TCBSWASA EQU   TCB+288                                                  06472000
TCBDBTB  EQU   TCB+284                                                  06473000
TCBRPT   EQU   TCB+280                                                  06474000
TCBRV141 EQU   TCBRV133                                                 06475000
TCBRV140 EQU   TCBRV133                                                 06476000
TCBRV139 EQU   TCBRV133                                                 06477000
TCBRV138 EQU   TCBRV133                                                 06478000
TCBRV137 EQU   TCBRV133                                                 06479000
TCBRV136 EQU   TCBRV133                                                 06480000
TCBRV135 EQU   TCBRV133                                                 06481000
TCBRV134 EQU   TCBRV133                                                 06482000
TCBRV132 EQU   TCBRV124                                                 06483000
TCBRV131 EQU   TCBRV124                                                 06484000
TCBRV130 EQU   TCBRV124                                                 06485000
TCBRV129 EQU   TCBRV124                                                 06486000
TCBRV128 EQU   TCBRV124                                                 06487000
TCBRV127 EQU   TCBRV124                                                 06488000
TCBRV126 EQU   TCBRV124                                                 06489000
TCBRV125 EQU   TCBRV124                                                 06490000
TCBRV123 EQU   TCBFBYT2                                                 06491000
TCBRV122 EQU   TCBFBYT2                                                 06492000
TCBECBNV EQU   TCBFBYT2                                                 06493000
TCBSSSYN EQU   TCBFBYT2                                                 06494000
TCBFPRAP EQU   TCBFBYT2                                                 06495000
TCBFDW   EQU   TCBFBYT2                                                 06496000
TCBFMW   EQU   TCBFBYT2                                                 06497000
TCBCNCB  EQU   TCBFBYT2                                                 06498000
TCBLLH   EQU   TCBFBYT1                                                 06499000
TCBRV113 EQU   TCBFBYT1                                                 06500000
TCBEOT   EQU   TCBFBYT1                                                 06501000
TCBPGNLY EQU   TCBFBYT1                                                 06502000
TCBNDIOS EQU   TCBFBYT1                                                 06503000
TCBRV327 EQU   TCBFBYT1                                                 06504000
TCBEOTFM EQU   TCBFBYT1                                                 06505000
TCBAFFN  EQU   TCB+274                                                  06506000
TCBRV326 EQU   TCB+272                                                  06507000
TCBUKYSP EQU   TCB+268                                                  06508000
TCBMODE  EQU   TCBESTAE+3                                               06509000
TCBERTYP EQU   TCBESTAE+2                                               06510000
TCBRV314 EQU   TCBESTRM                                                 06511000
TCBRV313 EQU   TCBESTRM                                                 06512000
TCBRV312 EQU   TCBESTRM                                                 06513000
TCBRV311 EQU   TCBESTRM                                                 06514000
TCBRV310 EQU   TCBESTRM                                                 06515000
TCBRV309 EQU   TCBESTRM                                                 06516000
TCBRV308 EQU   TCBESTRM                                                 06517000
TCBETERM EQU   TCBESTRM                                                 06518000
TCBSCBKY EQU   TCBESTAE                                                 06519000
TCBRTM12 EQU   TCB+260                                                  06520000
TCBTCBID EQU   TCB+256                                                  06521000
TCBSTAWA EQU   TCB+252                                                  06522000
TCBSWA   EQU   TCB+248                                                  06523000
TCBFOEA  EQU   TCBFOE+1                                                 06524000
TCBRSV42 EQU   TCBFOE                                                   06525000
TCBCCPVI EQU   TCBXSCT+2                                                06526000
TCBRV325 EQU   TCBXSCT+1                                                06527000
TCBRV324 EQU   TCBXSCT1                                                 06528000
TCBRV323 EQU   TCBXSCT1                                                 06529000
TCBRV322 EQU   TCBXSCT1                                                 06530000
TCBRV321 EQU   TCBXSCT1                                                 06531000
TCBRV320 EQU   TCBXSCT1                                                 06532000
TCBRV319 EQU   TCBXSCT1                                                 06533000
TCBS3A   EQU   TCBXSCT1                                                 06534000
TCBACTIV EQU   TCBXSCT1                                                 06535000
TCBRSV41 EQU   TCB+239                                                  06536000
TCBTID   EQU   TCB+238                                                  06537000
TCBRSVAA EQU   TCB+237                                                  06538000
TCBABCUR EQU   TCB+236                                                  06539000
TCBTMSAV EQU   TCB+232                                                  06540000
TCBIOTIM EQU   TCB+228                                                  06541000
TCBBACK  EQU   TCB+220                                                  06542000
TCBTIRB  EQU   TCB+216                                                  06543000
TCBAECB  EQU   TCB+212                                                  06544000
TCBEXT2A EQU   TCBEXT2+1                                                06545000
TCBRSV39 EQU   TCBEXT2                                                  06546000
TCBSTMCT EQU   TCB+207                                                  06547000
TCBSYSCT EQU   TCB+206                                                  06548000
TCBRSV37 EQU   TCB+205                                                  06549000
TCBEXSVC EQU   TCBDAR                                                   06550000
TCBDARMS EQU   TCBDAR                                                   06551000
TCBDARWT EQU   TCBDAR                                                   06552000
TCBDARO  EQU   TCBDAR                                                   06553000
TCBDARMC EQU   TCBDARC                                                  06554000
TCBDARD  EQU   TCBDAR                                                   06555000
TCBDARS  EQU   TCBDAR                                                   06556000
TCBDARP  EQU   TCBDAR                                                   06557000
TCBGTOFM EQU   TCBFLGS7                                                 06558000
TCBADMP  EQU   TCBFLGS7                                                 06559000
TCBRSTSK EQU   TCBFLGS7                                                 06560000
TCBSVCS  EQU   TCBFLGS7                                                 06561000
TCBSTACK EQU   TCBFLGS7                                                 06562000
TCBRSV34 EQU   TCBFLGS7                                                 06563000
TCBRSV33 EQU   TCBFLGS7                                                 06564000
TCBGPECB EQU   TCBFLGS7                                                 06565000
TCBNTJS  EQU   TCBFLGS6                                                 06566000
TCBAPG   EQU   TCBFLGS6                                                 06567000
TCBMIGR  EQU   TCBFLGS6                                                 06568000
TCBRV303 EQU   TCBFLGS6                                                 06569000
TCBSPVLK EQU   TCBFLGS6                                                 06570000
TCBCPU   EQU   TCBFLGS6                                                 06571000
TCBPIE17 EQU   TCBFLGS6                                                 06572000
TCBRV    EQU   TCBFLGS6                                                 06573000
TCBRSV79 EQU   TCBNDSP5                                                 06574000
TCBRSV78 EQU   TCBNDSP5                                                 06575000
TCBRSV77 EQU   TCBNDSP5                                                 06576000
TCBRSV76 EQU   TCBNDSP5                                                 06577000
TCBRSV75 EQU   TCBNDSP5                                                 06578000
TCBRSV74 EQU   TCBNDSP5                                                 06579000
TCBRSV95 EQU   TCBNDSP5                                                 06580000
TCBRSV94 EQU   TCBNDSP5                                                 06581000
TCBRSV93 EQU   TCBNDSP4                                                 06582000
TCBRSV92 EQU   TCBNDSP4                                                 06583000
TCBRSV91 EQU   TCBNDSP4                                                 06584000
TCBRSV90 EQU   TCBNDSP4                                                 06585000
TCBRSV89 EQU   TCBNDSP4                                                 06586000
TCBRSV88 EQU   TCBNDSP4                                                 06587000
TCBRSV87 EQU   TCBNDSP4                                                 06588000
TCBRSV86 EQU   TCBNDSP4                                                 06589000
TCBEXT1A EQU   TCBEXT1+1                                                06590000
TCBRSV32 EQU   TCBEXT1                                                  06591000
TCBEXCPD EQU   TCB+192                                                  06592000
TCBIOBRC EQU   TCB+188                                                  06593000
TCBDDWTC EQU   TCB+186                                                  06594000
TCBDDEXC EQU   TCB+184                                                  06595000
TCBJSCBB EQU   TCBJSCB+1                                                06596000
@NM00133 EQU   TCBRECDE                                                 06597000
TCBREC   EQU   TCBRECDE                                                 06598000
TCBMDIDS EQU   TCB+176                                                  06599000
TCBNDINT EQU   TCBNDSP3                                                 06600000
TCBRSV27 EQU   TCBNDSP3                                                 06601000
TCBRSV26 EQU   TCBNDSP3                                                 06602000
TCBRSV25 EQU   TCBNDSP3                                                 06603000
TCBRSV24 EQU   TCBNDSP3                                                 06604000
TCBSRBND EQU   TCBNDSP3                                                 06605000
TCBRV302 EQU   TCBNDSP3                                                 06606000
TCBLJSND EQU   TCBNDSP3                                                 06607000
TCBABE   EQU   TCBNDSP2                                                 06608000
TCBDSS   EQU   TCBNDSP2                                                 06609000
TCBOWAIT EQU   TCBNDSP2                                                 06610000
TCBIWAIT EQU   TCBNDSP2                                                 06611000
TCBNDTS  EQU   TCBNDSP2                                                 06612000
TCBNDSVC EQU   TCBNDSP2                                                 06613000
TCBSTPP  EQU   TCBNDSP2                                                 06614000
TCBABD   EQU   TCBNDSP2                                                 06615000
TCBRSV22 EQU   TCBNDSP1                                                 06616000
TCBPIEND EQU   TCBNDSP1                                                 06617000
TCBTPSP  EQU   TCBNDSP1                                                 06618000
TCBDDRND EQU   TCBNDSP1                                                 06619000
TCBRSPND EQU   TCBNDSP1                                                 06620000
TCBRSTND EQU   TCBNDSP1                                                 06621000
TCBDARPN EQU   TCBNDSP1                                                 06622000
TCBDARTN EQU   TCBNDSP1                                                 06623000
TCBNDSP0 EQU   TCBNDSP                                                  06624000
TCBUSER  EQU   TCB+168                                                  06625000
TCBTCTB  EQU   TCBTCT+1                                                 06626000
TCBRSV9C EQU   TCBTCTGF                                                 06627000
TCBRSV9B EQU   TCBTCTGF                                                 06628000
TCBRSV9A EQU   TCBTCTGF                                                 06629000
TCBRSV99 EQU   TCBTCTGF                                                 06630000
TCBRSV98 EQU   TCBTCTGF                                                 06631000
TCBRSV97 EQU   TCBTCTGF                                                 06632000
TCBRSV20 EQU   TCBTCTGF                                                 06633000
TCBSMFGF EQU   TCBTCTGF                                                 06634000
TCBSTABB EQU   TCBSTAB+1                                                06635000
TCBSTCUR EQU   TCBNSTAE                                                 06636000
TCBRV301 EQU   TCBNSTAE                                                 06637000
TCBSYNCH EQU   TCBNSTAE                                                 06638000
TCBHALT  EQU   TCBNSTAE                                                 06639000
TCBPPSUP EQU   TCBNSTAE                                                 06640000
TCB33E   EQU   TCBNSTAE                                                 06641000
TCBQUIES EQU   TCBNSTAE                                                 06642000
TCBSTABE EQU   TCBNSTAE                                                 06643000
TCBAQE   EQU   TCB+156                                                  06644000
TCBPQE   EQU   TCB+152                                                  06645000
TCBTSDP  EQU   TCB+151                                                  06646000
TCBTSLP  EQU   TCB+150                                                  06647000
TCBSTPCT EQU   TCB+149                                                  06648000
TCBCPUBN EQU   TCBTSFLG                                                 06649000
TCBDYDSP EQU   TCBTSFLG                                                 06650000
TCBRSV18 EQU   TCBTSFLG                                                 06651000
TCBRSV17 EQU   TCBTSFLG                                                 06652000
TCBTIOTG EQU   TCBTSFLG                                                 06653000
TCBATT   EQU   TCBTSFLG                                                 06654000
TCBSTPPR EQU   TCBTSFLG                                                 06655000
TCBRV300 EQU   TCBTSTSK                                                 06656000
TCBECB   EQU   TCB+144                                                  06657000
TCBIQE   EQU   TCB+140                                                  06658000
TCBLTC   EQU   TCB+136                                                  06659000
TCBOTC   EQU   TCB+132                                                  06660000
TCBNTC   EQU   TCB+128                                                  06661000
TCBJSTCA EQU   TCBJSTCB+1                                               06662000
TCBRSV16 EQU   TCBJSTCB                                                 06663000
TCBTQET  EQU   TCBTME                                                   06664000
TCBTCB   EQU   TCB+116                                                  06665000
TCBFSAB  EQU   TCBFSA+1                                                 06666000
TCBQEL   EQU   TCBFSA                                                   06667000
TCBGRS15 EQU   TCBGRS+60                                                06668000
TCBGRS14 EQU   TCBGRS+56                                                06669000
TCBGRS13 EQU   TCBGRS+52                                                06670000
TCBGRS12 EQU   TCBGRS+48                                                06671000
TCBGRS11 EQU   TCBGRS+44                                                06672000
TCBGRS10 EQU   TCBGRS+40                                                06673000
TCBGRS9  EQU   TCBGRS+36                                                06674000
TCBGRS8  EQU   TCBGRS+32                                                06675000
TCBGRS7  EQU   TCBGRS+28                                                06676000
TCBGRS6  EQU   TCBGRS+24                                                06677000
TCBGRS5  EQU   TCBGRS+20                                                06678000
TCBGRS4  EQU   TCBGRS+16                                                06679000
TCBGRS3  EQU   TCBGRS+12                                                06680000
TCBGRS2  EQU   TCBGRS+8                                                 06681000
TCBGRS1  EQU   TCBGRS+4                                                 06682000
TCBGRS0  EQU   TCBGRS                                                   06683000
TCBJPQB  EQU   TCBJPQ+1                                                 06684000
TCBRSV15 EQU   TCBPURGE                                                 06685000
TCBRSV14 EQU   TCBPURGE                                                 06686000
TCBRSV13 EQU   TCBPURGE                                                 06687000
TCBRSV12 EQU   TCBPURGE                                                 06688000
TCBRSV11 EQU   TCBPURGE                                                 06689000
TCBRSV10 EQU   TCBPURGE                                                 06690000
TCBRSV09 EQU   TCBPURGE                                                 06691000
TCBJPQF  EQU   TCBPURGE                                                 06692000
TCBJLB   EQU   TCB+40                                                   06693000
TCBLLS   EQU   TCB+36                                                   06694000
TCBDSP   EQU   TCB+35                                                   06695000
TCBLMP   EQU   TCB+34                                                   06696000
TCBPNDSP EQU   TCBFLGS5                                                 06697000
TCBFCD1  EQU   TCBFLGS5                                                 06698000
TCBSTP   EQU   TCBFLGS5                                                 06699000
TCBSYS   EQU   TCBFLGS5                                                 06700000
TCBANDSP EQU   TCBFLGS5                                                 06701000
TCBPAGE  EQU   TCBFLGS5                                                 06702000
TCBUXNDF EQU   TCBABWF                                                  06703000
TCBFC    EQU   TCBFLGS5                                                 06704000
TCBONDSP EQU   TCBFLGS4                                                 06705000
TCBMPCND EQU   TCBFLGS4                                                 06706000
TCBMPCVQ EQU   TCBFLGS4                                                 06707000
TCBUXNDV EQU   TCBFLGS4                                                 06708000
TCBHNDSP EQU   TCBFLGS4                                                 06709000
TCBRQENA EQU   TCBFLGS4                                                 06710000
TCBSER   EQU   TCBFLGS4                                                 06711000
TCBNDUMP EQU   TCBFLGS4                                                 06712000
TCBDWSTA EQU   TCBFLGS3                                                 06713000
TCBRSV08 EQU   TCBFLGS3                                                 06714000
TCBRSV07 EQU   TCBFLGS3                                                 06715000
TCBRSV06 EQU   TCBFLGS3                                                 06716000
TCBABGM  EQU   TCBFLGS3                                                 06717000
TCBABTRM EQU   TCBFLGS3                                                 06718000
TCBADINP EQU   TCBFLGS3                                                 06719000
TCBFSM   EQU   TCBFLGS3                                                 06720000
TCBFTS   EQU   TCBFLGS2                                                 06721000
TCBFETXR EQU   TCBFLGS2                                                 06722000
TCBFDSOP EQU   TCBFLGS2                                                 06723000
TCBFJMC  EQU   TCBFLGS2                                                 06724000
TCBFSMC  EQU   TCBFLGS2                                                 06725000
TCBFABOP EQU   TCBFLGS2                                                 06726000
TCBFSTI  EQU   TCBFLGS2                                                 06727000
TCBFOINP EQU   TCBFLGS2                                                 06728000
TCBFX    EQU   TCBFLGS1                                                 06729000
TCBFS    EQU   TCBFLGS1                                                 06730000
TCBFT    EQU   TCBFLGS1                                                 06731000
TCBPDUMP EQU   TCBFLGS1                                                 06732000
TCBNONPR EQU   TCBFLGS1                                                 06733000
TCBFERA  EQU   TCBFLGS1                                                 06734000
TCBFE    EQU   TCBFLGS1                                                 06735000
TCBFA    EQU   TCBFLGS1                                                 06736000
TCBZERO  EQU   TCBPKF                                                   06737000
TCBFLAG  EQU   TCBPKF                                                   06738000
TCBMSSB  EQU   TCBMSS+1                                                 06739000
TCBRSV03 EQU   TCBMSS                                                   06740000
TCBTRNB  EQU   TCBTRN+1                                                 06741000
TCBRSV02 EQU   TCBABF                                                   06742000
TCBOLTEP EQU   TCBABF                                                   06743000
TCBTCP   EQU   TCBABF                                                   06744000
TCBTCPP  EQU   TCBABF                                                   06745000
TCBRSV01 EQU   TCBABF                                                   06746000
TCBGRPH  EQU   TCBABF                                                   06747000
TCBNOCHK EQU   TCBABF                                                   06748000
TCBMOD91 EQU   TCBABF                                                   06749000
TCBCMPC  EQU   TCBCMP+1                                                 06750000
TCBRV318 EQU   TCBCMSG                                                  06751000
TCBRV317 EQU   TCBCIND                                                  06752000
TCBRV316 EQU   TCBCWTO                                                  06753000
TCBCASID EQU   TCBCDBL                                                  06754000
TCBNOCC  EQU   TCBSTCC                                                  06755000
TCBDMPO  EQU   TCBCPP                                                   06756000
TCBCSTEP EQU   TCBCMPF                                                  06757000
TCBCREQ  EQU   TCBCMPF                                                  06758000
TCBTIO   EQU   TCB+12                                                   06759000
TCBDEB   EQU   TCB+8                                                    06760000
TCBPIEA  EQU   TCBPIE+1                                                 06761000
TCBPM    EQU   TCBPMASK                                                 06762000
@NM00132 EQU   TCBPMASK                                                 06763000
TCBRBP   EQU   TCB                                                      06764000
TCBFRS6  EQU   TCBFRS+24                                                06765000
TCBFRS4  EQU   TCBFRS+16                                                06766000
TCBFRS2  EQU   TCBFRS+8                                                 06767000
TCBFRS0  EQU   TCBFRS                                                   06768000
STORBTO  EQU   STORTO                                                   06769000
STORB    EQU   STORFRM                                                  06770000
@NM00131 EQU   RTM2WA+882                                               06771000
RTM2ERTM EQU   RTM2ERID+6                                               06772000
RTM2ERAS EQU   RTM2ERID+4                                               06773000
RTM2RMSA EQU   RTM2RMIN+92                                              06774000
RTM2RMWS EQU   RTM2RMWA                                                 06775000
RTM2RMPS EQU   RTM2RMIN                                                 06776000
RTM2TRSA EQU   RTM2CVER+450                                             06777000
RTM2CREG EQU   RTM2CRG                                                  06778000
RTM2RREG EQU   RTM2RRG                                                  06779000
RTM2RBRG EQU   RTM2CVER+313                                             06780000
RTM2WARG EQU   RTM2CVER+312                                             06781000
@NM00130 EQU   RTM2CVER+310                                             06782000
RTM2CTRA EQU   RTM2RECH+12                                              06783000
RTM2STRA EQU   RTM2RECH+8                                               06784000
RTM2SKRA EQU   RTM2RECH+4                                               06785000
RTM2TRRA EQU   RTM2RECH                                                 06786000
@NM00129 EQU   RTM2TRYR+3                                               06787000
@NM00128 EQU   RTM2TRF2                                                 06788000
RTM2GMR  EQU   RTM2TRF2                                                 06789000
RTM2PPR  EQU   RTM2TRF2                                                 06790000
RTM2IOR  EQU   RTM2TRF2                                                 06791000
RTM2AS3R EQU   RTM2TRF1+1                                               06792000
RTM2AS2R EQU   RTM2TRF1+1                                               06793000
RTM2AS1R EQU   RTM2TRF1+1                                               06794000
RTM2XFLG EQU   RTM2TRF1+1                                               06795000
RTM2XABD EQU   RTM2TRF1+1                                               06796000
RTM2XIP  EQU   RTM2TRF1+1                                               06797000
RTM2RTYS EQU   RTM2TRF1+1                                               06798000
RTM2RCD  EQU   RTM2TRF1+1                                               06799000
RTM2FMS  EQU   RTM2TRF1                                                 06800000
RTM2VLDY EQU   RTM2TRF1                                                 06801000
RTM2HOOK EQU   RTM2TRF1                                                 06802000
RTM2PPS  EQU   RTM2TRF1                                                 06803000
RTM2GMS  EQU   RTM2TRF1                                                 06804000
RTM2IORS EQU   RTM2TRF1                                                 06805000
RTM2IOHS EQU   RTM2TRF1                                                 06806000
RTM2IOQS EQU   RTM2TRF1                                                 06807000
RTM2TMER EQU   RTM2RECL+14                                              06808000
RTM2EQMN EQU   RTM2ECTL                                                 06809000
RTM2EDEQ EQU   RTM2ECTL                                                 06810000
RTM2EFRM EQU   RTM2ECTL                                                 06811000
RTM2ECLS EQU   RTM2ECTL                                                 06812000
RTM2ESNP EQU   RTM2ECTL                                                 06813000
RTM2EOPN EQU   RTM2ECTL                                                 06814000
RTM2EGET EQU   RTM2ECTL                                                 06815000
RTM2EENQ EQU   RTM2ECTL                                                 06816000
RTM2DFTK EQU   RTM2DCTL                                                 06817000
RTM2DDEQ EQU   RTM2DCTL                                                 06818000
RTM2DFRM EQU   RTM2DCTL                                                 06819000
RTM2DCLS EQU   RTM2DCTL                                                 06820000
RTM2DSNP EQU   RTM2DCTL                                                 06821000
RTM2DOPN EQU   RTM2DCTL                                                 06822000
RTM2DGET EQU   RTM2DCTL                                                 06823000
RTM2DENQ EQU   RTM2DCTL                                                 06824000
RTM2SCTX EQU   RTM2RECL+8                                               06825000
RTM2SCTR EQU   RTM2RECL+4                                               06826000
RTM2SCTC EQU   RTM2RECL                                                 06827000
@NM00127 EQU   RTM2FLX2                                                 06828000
RTM2CERX EQU   RTM2FLX2                                                 06829000
RTM2RCRX EQU   RTM2FLX2                                                 06830000
RTM2RTRX EQU   RTM2FLX1                                                 06831000
RTM2LTX  EQU   RTM2FLX1                                                 06832000
RTM2PRX  EQU   RTM2FLX1                                                 06833000
RTM2CVX  EQU   RTM2FLX1                                                 06834000
RTM2DWX  EQU   RTM2FLX1                                                 06835000
RTM2ABX  EQU   RTM2FLX1                                                 06836000
RTM2EOTX EQU   RTM2FLX1                                                 06837000
RTM2MTX  EQU   RTM2FLX1                                                 06838000
@NM00126 EQU   RTM2ASIR                                                 06839000
RTM2TRME EQU   RTM2ASIR                                                 06840000
@NM00125 EQU   RTM2ABDP                                                 06841000
RTM2DMP1 EQU   RTM2ABDP                                                 06842000
RTM2MEMT EQU   RTM2INTF+3                                               06843000
@NM00124 EQU   RTM2TSKT                                                 06844000
RTM2PURG EQU   RTM2TSKT                                                 06845000
@NM00123 EQU   RTM2INTF+1                                               06846000
@NM00122 EQU   RTM2CTLR                                                 06847000
RTM2WRAP EQU   RTM2CTLR                                                 06848000
RTM2TMEM EQU   RTM2CTLR                                                 06849000
RTM2RETR EQU   RTM2CTLR                                                 06850000
RTM2RECR EQU   RTM2CTLR                                                 06851000
@NM00121 EQU   RTM2RCTL                                                 06852000
RTM2JPAQ EQU   RTM2RCTL                                                 06853000
RTM2LPAQ EQU   RTM2RCTL                                                 06854000
RTM2BFTL EQU   RTM2RCTL                                                 06855000
RTM2TRSW EQU   RTM2RCTL                                                 06856000
RTM2WANA EQU   RTM2RCTL                                                 06857000
RTM2WAIN EQU   RTM2RCTL                                                 06858000
RTM2STA2 EQU   RTM2RCTL                                                 06859000
RTM2STAT EQU   RTM2ABND                                                 06860000
RTM2NDMP EQU   RTM2ABND                                                 06861000
@NM00120 EQU   RTM2ABID                                                 06862000
RTM2SAV2 EQU   RTM2ABID                                                 06863000
RTM2SAVE EQU   RTM2ABID                                                 06864000
RTM2REG  EQU   RTM2ABID                                                 06865000
RTM2PSW  EQU   RTM2ABID                                                 06866000
RTM2ENQ  EQU   RTM2ABID                                                 06867000
RTM2CB   EQU   RTM2ABID                                                 06868000
RTM2MCTL EQU   RTM2SCTL+3                                               06869000
RTM2TCTL EQU   RTM2SCTL+2                                               06870000
@NM00119 EQU   RTM2CCTL+1                                               06871000
RTM2RGEB EQU   RTM2CCTL+1                                               06872000
RTM2DEND EQU   RTM2CCTL+1                                               06873000
RTM2RSCN EQU   RTM2CCTL+1                                               06874000
RTM2CONT EQU   RTM2CCTL                                                 06875000
RTM2SLIP EQU   RTM2CCTL                                                 06876000
RTM2HEED EQU   RTM2CCTL                                                 06877000
RTM2REED EQU   RTM2CCTL                                                 06878000
RTM2ISPC EQU   RTM2CCTL                                                 06879000
RTM2SQS  EQU   RTM2CCTL                                                 06880000
RTM2CNCL EQU   RTM2CCTL                                                 06881000
RTM2STPT EQU   RTM2CCTL                                                 06882000
RTM2PKEY EQU   RTM2CVER+258                                             06883000
RTM2SFSA EQU   RTM2SFRG                                                 06884000
RTM2PRWA EQU   RTM2CVER+182                                             06885000
RTM2PREV EQU   RTM2CVER+178                                             06886000
RTM2SPWA EQU   RTM2CVER+174                                             06887000
RTM2DCBA EQU   RTM2CVER+170                                             06888000
RTM2ECBS EQU   RTM2SECB+16                                              06889000
RTM2LECB EQU   RTM2ECBA                                                 06890000
RTM2DTCB EQU   RTM2SNAP+68                                              06891000
RTM2SNCC EQU   RTM2SNAP+64                                              06892000
RTM2DD   EQU   RTM2SNAP+56                                              06893000
RTM2LTO4 EQU   RTM2TO4                                                  06894000
RTM2LFR4 EQU   RTM2FRM4                                                 06895000
RTM2LTO3 EQU   RTM2TO3                                                  06896000
RTM2LFR3 EQU   RTM2FRM3                                                 06897000
RTM2LTO2 EQU   RTM2TO2                                                  06898000
RTM2LFR2 EQU   RTM2FRM2                                                 06899000
RTM2LTO1 EQU   RTM2TO1                                                  06900000
RTM2LFR1 EQU   RTM2FRM1                                                 06901000
RTM2DPLA EQU   RTM2SNAP                                                 06902000
RTM2NXTP EQU   RTM2CTL2+5                                               06903000
RTM2SGP  EQU   RTM2PMKP                                                 06904000
RTM2EUP  EQU   RTM2PMKP                                                 06905000
RTM2DOP  EQU   RTM2PMKP                                                 06906000
RTM2FPP  EQU   RTM2PMKP                                                 06907000
RTM2CCP  EQU   RTM2PMKP                                                 06908000
RTM2ILP  EQU   RTM2PMKP                                                 06909000
RTM2INTP EQU   RTM2CTL2+2                                               06910000
RTM2SPVP EQU   RTM2MWPP                                                 06911000
RTM2WATP EQU   RTM2MWPP                                                 06912000
RTM2MCKP EQU   RTM2MWPP                                                 06913000
@NM00118 EQU   RTM2MWPP                                                 06914000
RTM2KEYP EQU   RTM2MWPP                                                 06915000
RTM2EXTP EQU   RTM2CMKP                                                 06916000
RTM2IOP  EQU   RTM2CMKP                                                 06917000
RTM2NXTA EQU   RTM2CTL1+5                                               06918000
RTM2SGA  EQU   RTM2PMKA                                                 06919000
RTM2EUA  EQU   RTM2PMKA                                                 06920000
RTM2DOA  EQU   RTM2PMKA                                                 06921000
RTM2FPA  EQU   RTM2PMKA                                                 06922000
RTM2CCA  EQU   RTM2PMKA                                                 06923000
RTM2ILA  EQU   RTM2PMKA                                                 06924000
RTM2INTA EQU   RTM2CTL1+2                                               06925000
RTM2SPVA EQU   RTM2MWPA                                                 06926000
RTM2WATA EQU   RTM2MWPA                                                 06927000
RTM2MCKA EQU   RTM2MWPA                                                 06928000
@NM00117 EQU   RTM2MWPA                                                 06929000
RTM2KEYA EQU   RTM2MWPA                                                 06930000
RTM2EXTA EQU   RTM2CMKA                                                 06931000
RTM2IOA  EQU   RTM2CMKA                                                 06932000
@NM00116 EQU   RTM2PARQ+1                                               06933000
RTM2RCDE EQU   RTM2PARQ                                                 06934000
RTM2RYRB EQU   RTM2TRRC+42                                              06935000
RTM2RTYA EQU   RTM2TRRC+38                                              06936000
RTM2COMP EQU   RTM2TRRC+34                                              06937000
RTM2SIZE EQU   RTM2SPLL+1                                               06938000
RTM2SUBP EQU   RTM2SPLL                                                 06939000
RTM2RTCA EQU   RTM2RTCD                                                 06940000
RTM2SCBO EQU   RTM2SCBS+8                                               06941000
RTM2SCBN EQU   RTM2SCBS+4                                               06942000
RTM2SCBC EQU   RTM2SCBS                                                 06943000
RTM2STAR EQU   RTM2TRRC+10                                              06944000
RTM2RBST EQU   RTM2TRRC+6                                               06945000
RTM2FIOB EQU   RTM2IOBP+1                                               06946000
@NM00115 EQU   RTM2IOBP                                                 06947000
@NM00114 EQU   RTM2TRRC+1                                               06948000
@NM00113 EQU   RTM2IOFS                                                 06949000
RTM2NIOP EQU   RTM2IOFS                                                 06950000
RTM2NOIO EQU   RTM2IOFS                                                 06951000
RTM2IOHT EQU   RTM2IOFS                                                 06952000
RTM2IOQR EQU   RTM2IOFS                                                 06953000
RTM2FMID EQU   RTM2TRRY+124                                             06954000
RTM2MCIV EQU   RTM2ERRD                                                 06955000
RTM2RPIV EQU   RTM2ERRD                                                 06956000
RTM2MABD EQU   RTM2ERRD                                                 06957000
RTM2CTS  EQU   RTM2ERRD                                                 06958000
RTM2STAE EQU   RTM2ERRD                                                 06959000
RTM2NRBE EQU   RTM2ERRD                                                 06960000
RTM2CLUP EQU   RTM2ERRD                                                 06961000
@NM00112 EQU   RTM2ERRC                                                 06962000
RTM2EAS  EQU   RTM2ERRC                                                 06963000
RTM2PERC EQU   RTM2ERRC                                                 06964000
RTM2IRB  EQU   RTM2ERRC                                                 06965000
RTM2STAI EQU   RTM2ERRC                                                 06966000
RTM2STAF EQU   RTM2ERRC                                                 06967000
RTM2SRBM EQU   RTM2ERRB                                                 06968000
RTM2LDIS EQU   RTM2ERRB                                                 06969000
RTM2ENRB EQU   RTM2ERRB                                                 06970000
RTM2TYP1 EQU   RTM2ERRB                                                 06971000
@NM00111 EQU   RTM2ERRB                                                 06972000
RTM2PGIO EQU   RTM2ERRA                                                 06973000
RTM2TEXC EQU   RTM2ERRA                                                 06974000
RTM2SVCE EQU   RTM2ERRA                                                 06975000
RTM2ABTM EQU   RTM2ERRA                                                 06976000
RTM2SVCD EQU   RTM2ERRA                                                 06977000
RTM2RKEY EQU   RTM2ERRA                                                 06978000
RTM2PCHK EQU   RTM2ERRA                                                 06979000
RTM2MCHK EQU   RTM2ERRA                                                 06980000
RTM2TIME EQU   RTM2EEDH+20                                              06981000
RTM2RFSA EQU   RTM2EEDH+16                                              06982000
@NM00110 EQU   RTM2EEDH+14                                              06983000
RTM2VEQR EQU   RTM2RSR2                                                 06984000
RTM2PGFX EQU   RTM2RSR2                                                 06985000
RTM2FLSQ EQU   RTM2RSR2                                                 06986000
RTM2FSQA EQU   RTM2RSR2                                                 06987000
RTM2NUCL EQU   RTM2RSR2                                                 06988000
RTM2SPER EQU   RTM2RSR2                                                 06989000
RTM2INTC EQU   RTM2RSR2                                                 06990000
RTM2OFLN EQU   RTM2RSR2                                                 06991000
RTM2CHNG EQU   RTM2RSR1                                                 06992000
RTM2MSER EQU   RTM2RSR1                                                 06993000
@NM00109 EQU   RTM2RSR1                                                 06994000
RTM2CPID EQU   RTM2EEDH+10                                              06995000
RTM2TERR EQU   RTM2MCHD                                                 06996000
RTM2SOFT EQU   RTM2MCHD                                                 06997000
RTM2INSF EQU   RTM2MCHD                                                 06998000
RTM2ACR  EQU   RTM2MCHD                                                 06999000
RTM2SCK  EQU   RTM2MCHD                                                 07000000
RTM2PSWU EQU   RTM2MCHD                                                 07001000
RTM2REGU EQU   RTM2MCHD                                                 07002000
RTM2SKYF EQU   RTM2MCHD                                                 07003000
@NM00108 EQU   RTM2MCHS                                                 07004000
RTM2RSRF EQU   RTM2MCHS                                                 07005000
RTM2RSRC EQU   RTM2MCHS                                                 07006000
RTM2INVP EQU   RTM2MCHS                                                 07007000
RTM2TSVL EQU   RTM2MCHS                                                 07008000
RTM2RCDF EQU   RTM2MCHS                                                 07009000
RTM2SRVL EQU   RTM2MCHS                                                 07010000
RTM2SCKE EQU   RTM2STCK+4                                               07011000
RTM2SCKB EQU   RTM2STCK                                                 07012000
RTM2ABEP EQU   RTM2TRRY+88                                              07013000
RTM2ABNM EQU   RTM2TRRY+80                                              07014000
RTM2TRAN EQU   RTM2AEC1+4                                               07015000
RTM2IPC1 EQU   RTM2ICD1                                                 07016000
RTM2IMC1 EQU   RTM2ICD1                                                 07017000
RTM2IPR1 EQU   RTM2ICD1                                                 07018000
@NM00107 EQU   RTM2INC1                                                 07019000
@NM00106 EQU   RTM2ILC1                                                 07020000
RTM2IL1  EQU   RTM2ILC1                                                 07021000
@NM00105 EQU   RTM2ILC1                                                 07022000
@NM00104 EQU   RTM2AEC1                                                 07023000
RTM2ADD1 EQU   RTM2NXT1+1                                               07024000
@NM00103 EQU   RTM2NXT1                                                 07025000
@NM00102 EQU   RTM2EPSW+3                                               07026000
RTM2SGN1 EQU   RTM2INT1                                                 07027000
RTM2EXP1 EQU   RTM2INT1                                                 07028000
RTM2DEC1 EQU   RTM2INT1                                                 07029000
RTM2FPO1 EQU   RTM2INT1                                                 07030000
RTM2CC1  EQU   RTM2INT1                                                 07031000
@NM00101 EQU   RTM2INT1                                                 07032000
RTM2PGM1 EQU   RTM2MWP1                                                 07033000
RTM2WAT1 EQU   RTM2MWP1                                                 07034000
RTM2MCK1 EQU   RTM2MWP1                                                 07035000
RTM2ECT1 EQU   RTM2MWP1                                                 07036000
RTM2KEY1 EQU   RTM2MWP1                                                 07037000
RTM2EXT1 EQU   RTM2EMK1                                                 07038000
RTM2AIO1 EQU   RTM2EMK1                                                 07039000
RTM2TRM1 EQU   RTM2EMK1                                                 07040000
RTM2EAM1 EQU   RTM2EMK1                                                 07041000
@NM00100 EQU   RTM2EMK1                                                 07042000
RTM2PER1 EQU   RTM2EMK1                                                 07043000
@NM00099 EQU   RTM2EMK1                                                 07044000
RTM2ER15 EQU   RTM2EREG+60                                              07045000
RTM2ER14 EQU   RTM2EREG+56                                              07046000
RTM2ER13 EQU   RTM2EREG+52                                              07047000
RTM2ER12 EQU   RTM2EREG+48                                              07048000
RTM2ER11 EQU   RTM2EREG+44                                              07049000
RTM2ER10 EQU   RTM2EREG+40                                              07050000
RTM2ER9  EQU   RTM2EREG+36                                              07051000
RTM2ER8  EQU   RTM2EREG+32                                              07052000
RTM2ER7  EQU   RTM2EREG+28                                              07053000
RTM2ER6  EQU   RTM2EREG+24                                              07054000
RTM2ER5  EQU   RTM2EREG+20                                              07055000
RTM2ER4  EQU   RTM2EREG+16                                              07056000
RTM2ER3  EQU   RTM2EREG+12                                              07057000
RTM2ER2  EQU   RTM2EREG+8                                               07058000
RTM2ER1  EQU   RTM2EREG+4                                               07059000
RTM2ER0  EQU   RTM2EREG                                                 07060000
RTM2CT   EQU   RTM2WA+56                                                07061000
RTM2VRBT EQU   RTM2WA+52                                                07062000
RTM2TCBT EQU   RTM2WA+48                                                07063000
RTM2SFWA EQU   RTM2WA+32                                                07064000
RTM2CC   EQU   RTM2CODE+1                                               07065000
@NM00098 EQU   RTM2CCF                                                  07066000
RTM2EOT  EQU   RTM2CCF                                                  07067000
RTM2EOM  EQU   RTM2CCF                                                  07068000
RTM2R0DP EQU   RTM2CCF                                                  07069000
RTM2STEP EQU   RTM2CCF                                                  07070000
RTM2DREQ EQU   RTM2CCF                                                  07071000
RTM2ASC  EQU   RTM2WA+24                                                07072000
RTM2VRBC EQU   RTM2WA+20                                                07073000
RTM2TCBC EQU   RTM2WA+16                                                07074000
RTM2CVT  EQU   RTM2WA+12                                                07075000
RTM2LGTH EQU   RTM2RT2D+1                                               07076000
RTM2SPID EQU   RTM2RT2D                                                 07077000
RTM2ADDR EQU   RTM2DESC+4                                               07078000
RTM2ID   EQU   RTM2DESC                                                 07079000
RMPLDCBL EQU   RMPL+20                                                  07080000
RMPLRMWA EQU   RMPL+16                                                  07081000
RMPLRBPA EQU   RMPL+12                                                  07082000
RMPLTCBA EQU   RMPL+8                                                   07083000
RMPLASCB EQU   RMPL+4                                                   07084000
RMPLASID EQU   RMPL+2                                                   07085000
RMPLFLG2 EQU   RMPL+1                                                   07086000
@NM00097 EQU   RMPLFLG1                                                 07087000
RMPLWT1M EQU   RMPLFLG1                                                 07088000
RMPLJST  EQU   RMPLFLG1                                                 07089000
RMPLRCOV EQU   RMPLFLG1                                                 07090000
RMPLIPUF EQU   RMPLFLG1                                                 07091000
RMPLRBPP EQU   RMPLFLG1                                                 07092000
RMPLTERM EQU   RMPLFLG1                                                 07093000
RMPLTYPE EQU   RMPLFLG1                                                 07094000
SNPTCBA  EQU   SNPPARMS+12                                              07095000
SNPDCB   EQU   SNPPARMS+8                                               07096000
@NM00096 EQU   SNPPARMS+7                                               07097000
@NM00095 EQU   SNPPDATA                                                 07098000
SNPSPLS  EQU   SNPPDATA                                                 07099000
SNPPSW   EQU   SNPPDATA                                                 07100000
SNPJPA   EQU   SNPPDATA                                                 07101000
SNPLPA   EQU   SNPPDATA                                                 07102000
SNPREGS  EQU   SNPPDATA                                                 07103000
SNPSAVE2 EQU   SNPPDATA                                                 07104000
SNPSAVE  EQU   SNPPDATA                                                 07105000
@NM00094 EQU   SNPPARMS+5                                               07106000
@NM00093 EQU   SNPSDATA                                                 07107000
SNPQCB   EQU   SNPSDATA                                                 07108000
SNPCB    EQU   SNPSDATA                                                 07109000
SNPTRT   EQU   SNPSDATA                                                 07110000
SNPSWA   EQU   SNPSDATA                                                 07111000
SNPLSQA  EQU   SNPSDATA                                                 07112000
SNPSQA   EQU   SNPSDATA                                                 07113000
SNPNUC   EQU   SNPSDATA                                                 07114000
@NM00092 EQU   SNPPARMS+2                                               07115000
@NM00091 EQU   SNPFLAG                                                  07116000
SNPTCB   EQU   SNPFLAG                                                  07117000
SNPID    EQU   SNPFLAG                                                  07118000
SNPABEND EQU   SNPFLAG                                                  07119000
@NM00090 EQU   SNPFLAG                                                  07120000
SNPVS2   EQU   SNPFLAG                                                  07121000
SNPSNAP  EQU   SNPFLAG                                                  07122000
RTCTXXX2 EQU   RTCT+234                                                 07123000
RTCTETIM EQU   RTCTERID+6                                               07124000
RTCTEASD EQU   RTCTERID+4                                               07125000
RTCTECPU EQU   RTCTERID+2                                               07126000
RTCTESEQ EQU   RTCTERID                                                 07127000
RTCTSDWK EQU   RTCT+220                                                 07128000
RTCTTDCB EQU   RTCT+184                                                 07129000
RTCTXYX2 EQU   RTCT+180                                                 07130000
RTCTSEQ# EQU   RTCT+178                                                 07131000
RTCTXXX1 EQU   RTCT+177                                                 07132000
@NM00089 EQU   RTCTRFLG                                                 07133000
RTCTRSTF EQU   RTCTRFLG                                                 07134000
RTCTRPER EQU   RTCTRFLG                                                 07135000
RTCTRTER EQU   RTCTRFLG                                                 07136000
RTCTTEST EQU   RTCT+172                                                 07137000
RTCTMSRB EQU   RTCT+168                                                 07138000
RTCTMLCK EQU   RTCT+164                                                 07139000
RTCTFMT  EQU   RTCT+160                                                 07140000
RTCTSDPL EQU   RTCT+156                                                 07141000
RTCTDEV  EQU   RTCTSDDS+8                                               07142000
RTCTDCB  EQU   RTCTSDDS+4                                               07143000
@NM00088 EQU   RTCTFLG                                                  07144000
RTCTDETP EQU   RTCTFLG                                                  07145000
RTCTDSUS EQU   RTCTFLG                                                  07146000
RTCTDSST EQU   RTCTFLG                                                  07147000
RTCTDSNM EQU   RTCTSDDS                                                 07148000
RTCTRCB  EQU   RTCT+32                                                  07149000
RTCTRECB EQU   RTCT+28                                                  07150000
RTCTFASB EQU   RTCT+24                                                  07151000
RTCTMECB EQU   RTCT+20                                                  07152000
RTCTSDID EQU   RTCT+18                                                  07153000
RTCTSDEP EQU   RTCTSDF2                                                 07154000
RTCTSDDO EQU   RTCTSDF2                                                 07155000
RTCTSDEN EQU   RTCTSDF2                                                 07156000
RTCTSDTR EQU   RTCTSDF2                                                 07157000
RTCTSDPT EQU   RTCTSDF2                                                 07158000
RTCTSDSR EQU   RTCTSDF2                                                 07159000
RTCTSDSS EQU   RTCTSDF2                                                 07160000
RTCTSDSH EQU   RTCTSDF2                                                 07161000
@NM00087 EQU   RTCTSDF1                                                 07162000
RTCTSDND EQU   RTCTSDF1                                                 07163000
RTCTSDNO EQU   RTCTSDF1                                                 07164000
@NM00086 EQU   RTCTABD+1                                                07165000
@NM00085 EQU   RTCTIDMP                                                 07166000
RTCTISVC EQU   RTCTIDMP                                                 07167000
RTCTISYU EQU   RTCTIDMP                                                 07168000
RTCTISAB EQU   RTCTIDMP                                                 07169000
@NM00084 EQU   RTCTIDMP                                                 07170000
@NM00083 EQU   RTCTSDO2                                                 07171000
RTCTSDPB EQU   RTCTSDO2                                                 07172000
RTCTSDPA EQU   RTCTSDO2                                                 07173000
RTCTSDP9 EQU   RTCTSDO2                                                 07174000
RTCTSDP8 EQU   RTCTSDO2                                                 07175000
RTCTSDP7 EQU   RTCTSDO1                                                 07176000
RTCTSDP6 EQU   RTCTSDO1                                                 07177000
RTCTSDP5 EQU   RTCTSDO1                                                 07178000
RTCTSDP4 EQU   RTCTSDO1                                                 07179000
RTCTSDP3 EQU   RTCTSDO1                                                 07180000
RTCTSDP2 EQU   RTCTSDO1                                                 07181000
RTCTSDP1 EQU   RTCTSDO1                                                 07182000
RTCTSDP0 EQU   RTCTSDO1                                                 07183000
RTCTSYDF EQU   RTCTSUO2                                                 07184000
RTCTSYDE EQU   RTCTSUO2                                                 07185000
RTCTSYDD EQU   RTCTSUO2                                                 07186000
RTCTSYDC EQU   RTCTSUO2                                                 07187000
RTCTSYDB EQU   RTCTSUO2                                                 07188000
RTCTSYDA EQU   RTCTSUO2                                                 07189000
RTCTSYD9 EQU   RTCTSUO2                                                 07190000
RTCTSYD8 EQU   RTCTSUO2                                                 07191000
RTCTSYD7 EQU   RTCTSUO1                                                 07192000
RTCTSYD6 EQU   RTCTSUO1                                                 07193000
RTCTSYD5 EQU   RTCTSUO1                                                 07194000
RTCTSYD4 EQU   RTCTSUO1                                                 07195000
RTCTSYD3 EQU   RTCTSUO1                                                 07196000
RTCTSYD2 EQU   RTCTSUO1                                                 07197000
RTCTSYD1 EQU   RTCTSUO1                                                 07198000
RTCTSYD0 EQU   RTCTSUO1                                                 07199000
RTCTSADF EQU   RTCTSAO2                                                 07200000
RTCTSADE EQU   RTCTSAO2                                                 07201000
RTCTSADD EQU   RTCTSAO2                                                 07202000
RTCTSADC EQU   RTCTSAO2                                                 07203000
RTCTSADB EQU   RTCTSAO2                                                 07204000
RTCTSADA EQU   RTCTSAO2                                                 07205000
RTCTSAD9 EQU   RTCTSAO2                                                 07206000
RTCTSAD8 EQU   RTCTSAO2                                                 07207000
RTCTSAD7 EQU   RTCTSAO1                                                 07208000
RTCTSAD6 EQU   RTCTSAO1                                                 07209000
RTCTSAD5 EQU   RTCTSAO1                                                 07210000
RTCTSAD4 EQU   RTCTSAO1                                                 07211000
RTCTSAD3 EQU   RTCTSAO1                                                 07212000
RTCTSAD2 EQU   RTCTSAO1                                                 07213000
RTCTSAD1 EQU   RTCTSAO1                                                 07214000
RTCTSAD0 EQU   RTCTSAO1                                                 07215000
RTCTSUDF EQU   RTCTSUP2                                                 07216000
RTCTSUDE EQU   RTCTSUP2                                                 07217000
RTCTSUDD EQU   RTCTSUP2                                                 07218000
RTCTSUDC EQU   RTCTSUP2                                                 07219000
RTCTSUDB EQU   RTCTSUP2                                                 07220000
RTCTSUDA EQU   RTCTSUP2                                                 07221000
RTCTSUD9 EQU   RTCTSUP2                                                 07222000
RTCTSUD8 EQU   RTCTSUP2                                                 07223000
RTCTSUD7 EQU   RTCTSUP1                                                 07224000
RTCTSUD6 EQU   RTCTSUP1                                                 07225000
RTCTSUD5 EQU   RTCTSUP1                                                 07226000
RTCTSUD4 EQU   RTCTSUP1                                                 07227000
RTCTSUD3 EQU   RTCTSUP1                                                 07228000
RTCTSUD2 EQU   RTCTSUP1                                                 07229000
RTCTSUD1 EQU   RTCTSUP1                                                 07230000
RTCTSUD0 EQU   RTCTSUP1                                                 07231000
RTCTSABF EQU   RTCTSAP2                                                 07232000
RTCTSABE EQU   RTCTSAP2                                                 07233000
RTCTSABD EQU   RTCTSAP2                                                 07234000
RTCTSABC EQU   RTCTSAP2                                                 07235000
RTCTSABB EQU   RTCTSAP2                                                 07236000
RTCTSABA EQU   RTCTSAP2                                                 07237000
RTCTSAB9 EQU   RTCTSAP2                                                 07238000
RTCTSAB8 EQU   RTCTSAP2                                                 07239000
RTCTSAB7 EQU   RTCTSAP1                                                 07240000
RTCTSAB6 EQU   RTCTSAP1                                                 07241000
RTCTSAB5 EQU   RTCTSAP1                                                 07242000
RTCTSAB4 EQU   RTCTSAP1                                                 07243000
RTCTSAB3 EQU   RTCTSAP1                                                 07244000
RTCTSAB2 EQU   RTCTSAP1                                                 07245000
RTCTSAB1 EQU   RTCTSAP1                                                 07246000
RTCTSAB0 EQU   RTCTSAP1                                                 07247000
RTCTNAME EQU   RTCT                                                     07248000
CVTLEVL  EQU   CVTRELNO+2                                               07249000
CVTNUMB  EQU   CVTRELNO                                                 07250000
CVTMDL   EQU   CVTFIX+250                                               07251000
@NM00082 EQU   CVTFIX+248                                               07252000
@NM00081 EQU   CVTFIX                                                   07253000
CVTRV482 EQU   CVTXTNT2+128                                             07254000
CVTRV481 EQU   CVTXTNT2+124                                             07255000
CVTRV480 EQU   CVTXTNT2+120                                             07256000
CVTRV479 EQU   CVTXTNT2+118                                             07257000
CVTRV478 EQU   CVTXTNT2+117                                             07258000
CVTRV477 EQU   CVTXTNT2+116                                             07259000
CVTRV476 EQU   CVTXTNT2+115                                             07260000
CVTRV475 EQU   CVTXTNT2+114                                             07261000
CVTRV474 EQU   CVTRV466                                                 07262000
CVTRV473 EQU   CVTRV466                                                 07263000
CVTRV472 EQU   CVTRV466                                                 07264000
CVTRV471 EQU   CVTRV466                                                 07265000
CVTRV470 EQU   CVTRV466                                                 07266000
CVTRV469 EQU   CVTRV466                                                 07267000
CVTRV468 EQU   CVTRV466                                                 07268000
CVTRV467 EQU   CVTRV466                                                 07269000
CVTRV465 EQU   CVTRV457                                                 07270000
CVTRV464 EQU   CVTRV457                                                 07271000
CVTRV463 EQU   CVTRV457                                                 07272000
CVTRV462 EQU   CVTRV457                                                 07273000
CVTRV461 EQU   CVTRV457                                                 07274000
CVTRV460 EQU   CVTRV457                                                 07275000
CVTRV459 EQU   CVTRV457                                                 07276000
CVTRV458 EQU   CVTRV457                                                 07277000
CVTRV456 EQU   CVTXTNT2+108                                             07278000
CVTRV455 EQU   CVTXTNT2+104                                             07279000
CVTRV454 EQU   CVTXTNT2+100                                             07280000
CVTRV453 EQU   CVTXTNT2+96                                              07281000
CVTRV452 EQU   CVTXTNT2+94                                              07282000
CVTRV451 EQU   CVTXTNT2+92                                              07283000
CVTRV450 EQU   CVTXTNT2+90                                              07284000
CVTRV449 EQU   CVTXTNT2+88                                              07285000
CVTRV448 EQU   CVTXTNT2+87                                              07286000
CVTRV447 EQU   CVTXTNT2+86                                              07287000
CVTRV446 EQU   CVTRV438                                                 07288000
CVTRV445 EQU   CVTRV438                                                 07289000
CVTRV444 EQU   CVTRV438                                                 07290000
CVTRV443 EQU   CVTRV438                                                 07291000
CVTRV442 EQU   CVTRV438                                                 07292000
CVTRV441 EQU   CVTRV438                                                 07293000
CVTRV440 EQU   CVTRV438                                                 07294000
CVTRV439 EQU   CVTRV438                                                 07295000
CVTRV437 EQU   CVTRV429                                                 07296000
CVTRV436 EQU   CVTRV429                                                 07297000
CVTRV435 EQU   CVTRV429                                                 07298000
CVTRV434 EQU   CVTRV429                                                 07299000
CVTRV433 EQU   CVTRV429                                                 07300000
CVTRV432 EQU   CVTRV429                                                 07301000
CVTRV431 EQU   CVTRV429                                                 07302000
CVTRV430 EQU   CVTRV429                                                 07303000
CVTRV428 EQU   CVTXTNT2+80                                              07304000
CVTRV427 EQU   CVTXTNT2+76                                              07305000
CVTRV426 EQU   CVTXTNT2+72                                              07306000
CVTRV425 EQU   CVTXTNT2+68                                              07307000
CVTATACT EQU   CVTATCVT                                                 07308000
CVTRV423 EQU   CVTXTNT2+62                                              07309000
CVTRV422 EQU   CVTXTNT2+60                                              07310000
CVTRV421 EQU   CVTXTNT2+58                                              07311000
CVTRV420 EQU   CVTXTNT2+56                                              07312000
CVTRV419 EQU   CVTXTNT2+55                                              07313000
CVTRV418 EQU   CVTXTNT2+54                                              07314000
CVTRV417 EQU   CVTRV409                                                 07315000
CVTRV416 EQU   CVTRV409                                                 07316000
CVTRV415 EQU   CVTRV409                                                 07317000
CVTRV414 EQU   CVTRV409                                                 07318000
CVTRV413 EQU   CVTRV409                                                 07319000
CVTRV412 EQU   CVTRV409                                                 07320000
CVTRV411 EQU   CVTRV409                                                 07321000
CVTRV410 EQU   CVTRV409                                                 07322000
CVTRV408 EQU   CVTRV400                                                 07323000
CVTRV407 EQU   CVTRV400                                                 07324000
CVTRV406 EQU   CVTRV400                                                 07325000
CVTRV405 EQU   CVTRV400                                                 07326000
CVTRV404 EQU   CVTRV400                                                 07327000
CVTRV403 EQU   CVTRV400                                                 07328000
CVTRV402 EQU   CVTRV400                                                 07329000
CVTRV401 EQU   CVTRV400                                                 07330000
CVTICB   EQU   CVTXTNT2+48                                              07331000
CVTSKTA  EQU   CVTXTNT2+44                                              07332000
CVTRSV99 EQU   CVTXTNT2+40                                              07333000
CVTRSV98 EQU   CVTXTNT2+36                                              07334000
CVTRSV97 EQU   CVTXTNT2+34                                              07335000
CVTRSV96 EQU   CVTXTNT2+32                                              07336000
CVTOLTEP EQU   CVTXTNT2+28                                              07337000
CVTQIDA  EQU   CVTQID+1                                                 07338000
CVTRSV95 EQU   CVTQID                                                   07339000
CVTRSV94 EQU   CVTXTNT2+20                                              07340000
CVTRSV93 EQU   CVTXTNT2+16                                              07341000
CVTRSV92 EQU   CVTXTNT2+12                                              07342000
CVTDEBVR EQU   CVTXTNT2+8                                               07343000
CVTRSV91 EQU   CVTXTNT2+6                                               07344000
CVTRSV9H EQU   CVTFLGBT                                                 07345000
CVTRSV9G EQU   CVTFLGBT                                                 07346000
CVTRSV9F EQU   CVTFLGBT                                                 07347000
CVTRSV9E EQU   CVTFLGBT                                                 07348000
CVTRSV9D EQU   CVTFLGBT                                                 07349000
CVTBAH   EQU   CVTFLGBT                                                 07350000
CVTVME   EQU   CVTFLGBT                                                 07351000
CVTNPE   EQU   CVTFLGBT                                                 07352000
CVTNUCLS EQU   CVTXTNT2+4                                               07353000
CVTDSSVA EQU   CVTDSSV+1                                                07354000
CVTRSV89 EQU   CVTDSSV                                                  07355000
CVTRSV88 EQU   CVTXTNT1+8                                               07356000
CVTRSV87 EQU   CVTXTNT1+4                                               07357000
CVTFACHN EQU   CVTXTNT1                                                 07358000
CVTRV488 EQU   CVTMAP+412                                               07359000
CVTRV487 EQU   CVTMAP+408                                               07360000
CVTRV486 EQU   CVTMAP+404                                               07361000
CVTRV485 EQU   CVTMAP+400                                               07362000
CVTACTAP EQU   CVTMAP+396                                               07363000
CVTAUTH  EQU   CVTMAP+392                                               07364000
CVTRV490 EQU   CVTMAP+388                                               07365000
CVTSU    EQU   CVTMAP+384                                               07366000
CVTVOLT1 EQU   CVTVOLM1+1                                               07367000
CVTVOLI1 EQU   CVTVOLF1                                                 07368000
CVTSTOA  EQU   CVTMAP+376                                               07369000
CVTRSV58 EQU   CVTMAP+374                                               07370000
CVTRSV57 EQU   CVTMAP+372                                               07371000
CVTDDCE  EQU   CVTMAP+368                                               07372000
CVTPNWFR EQU   CVTMAP+364                                               07373000
CVTSMF   EQU   CVTMAP+360                                               07374000
CVTSULK  EQU   CVTMAP+358                                               07375000
CVTSLKO  EQU   CVTSYSK                                                  07376000
CVTSLKP  EQU   CVTSYSK                                                  07377000
CVTSLKQ  EQU   CVTSYSK                                                  07378000
CVTSLKR  EQU   CVTSYSK                                                  07379000
CVTRSV56 EQU   CVTSYSK                                                  07380000
CVTRSV55 EQU   CVTSYSK                                                  07381000
CVTRSV54 EQU   CVTSYSK                                                  07382000
CVTRSV53 EQU   CVTSYSK                                                  07383000
CVTRSV52 EQU   CVTA1F1                                                  07384000
CVTRSV51 EQU   CVTA1F1                                                  07385000
CVTRSV50 EQU   CVTA1F1                                                  07386000
CVTRSV49 EQU   CVTA1F1                                                  07387000
CVTRSV48 EQU   CVTA1F1                                                  07388000
CVTRSV47 EQU   CVTA1F1                                                  07389000
CVTSRSW  EQU   CVTA1F1                                                  07390000
CVTPFSW  EQU   CVTA1F1                                                  07391000
CVTPCVT  EQU   CVTMAP+352                                               07392000
CVTRSV46 EQU   CVTMAP+344                                               07393000
CVTRSV45 EQU   CVTMAP+340                                               07394000
CVTRSV44 EQU   CVTMAP+338                                               07395000
CVTRSV43 EQU   CVTMAP+336                                               07396000
CVTHJESA EQU   CVTHJES+1                                                07397000
CVTRSV42 EQU   CVTHJES                                                  07398000
CVTEXT2A EQU   CVTEXT2+1                                                07399000
CVTRSV41 EQU   CVTEXT2                                                  07400000
CVTAPFA  EQU   CVTAPF+1                                                 07401000
CVTRSV40 EQU   CVTAPF                                                   07402000
CVTRV518 EQU   CVTINTLA                                                 07403000
CVTRV517 EQU   CVTERPV                                                  07404000
CVTEORM  EQU   CVTMAP+312                                               07405000
CVTMCHPR EQU   CVTMAP+308                                               07406000
CVTTZ    EQU   CVTMAP+304                                               07407000
CVTJEPS  EQU   CVTMAP+300                                               07408000
CVTJESCT EQU   CVTMAP+296                                               07409000
CVTMODE  EQU   CVTMAP+292                                               07410000
CVTPTRV  EQU   CVTMAP+288                                               07411000
CVTREAL  EQU   CVTMAP+284                                               07412000
CVTRSV39 EQU   CVTMAP+280                                               07413000
CVTRSV38 EQU   CVTMAP+276                                               07414000
CVTDMSRA EQU   CVTDMSR+1                                                07415000
CVTRV634 EQU   CVTDMSRF                                                 07416000
CVTRV633 EQU   CVTDMSRF                                                 07417000
CVTRV632 EQU   CVTDMSRF                                                 07418000
CVTRV631 EQU   CVTDMSRF                                                 07419000
CVTRV630 EQU   CVTDMSRF                                                 07420000
CVTRV629 EQU   CVTDMSRF                                                 07421000
CVTUDUMP EQU   CVTDMSRF                                                 07422000
CVTSDUMP EQU   CVTDMSRF                                                 07423000
CVTQMSGA EQU   CVTQMSG+1                                                07424000
CVTRSV36 EQU   CVTQMSG                                                  07425000
CVTAMFF  EQU   CVTMAP+264                                               07426000
CVTPURGA EQU   CVTPURG+1                                                07427000
CVTRSV35 EQU   CVTPURG                                                  07428000
CVTCBSP  EQU   CVTMAP+256                                               07429000
CVTATERA EQU   CVTATER+1                                                07430000
CVTSYST  EQU   CVTATER                                                  07431000
CVTVOLT2 EQU   CVTTAT                                                   07432000
CVTVOLI2 EQU   CVTVOLF2                                                 07433000
CVTAQAVB EQU   CVTAQAVT+1                                               07434000
CVTRSV34 EQU   CVTTCMFG                                                 07435000
CVTRSV33 EQU   CVTTCMFG                                                 07436000
CVTRSV32 EQU   CVTTCMFG                                                 07437000
CVTRSV31 EQU   CVTTCMFG                                                 07438000
CVTRSV30 EQU   CVTTCMFG                                                 07439000
CVTRSV29 EQU   CVTTCMFG                                                 07440000
CVTLDEV  EQU   CVTTCMFG                                                 07441000
CVTTCRDY EQU   CVTTCMFG                                                 07442000
CVTGTFA  EQU   CVTGTF+1                                                 07443000
CVTRSV27 EQU   CVTGTFST                                                 07444000
CVTRNIO  EQU   CVTGTFST                                                 07445000
CVTUSR   EQU   CVTGTFST                                                 07446000
CVTRV318 EQU   CVTFORM                                                  07447000
CVTRV317 EQU   CVTTMODE                                                 07448000
CVTRV316 EQU   CVTSTATE                                                 07449000
CVTRV315 EQU   CVTGTFS                                                  07450000
CVTGTFAV EQU   CVTGTFS                                                  07451000
CVT0SCR1 EQU   CVTMAP+232                                               07452000
CVTRV515 EQU   CVTMAP+228                                               07453000
CVTRMS   EQU   CVTMAP+224                                               07454000
CVTPATCH EQU   CVTMAP+220                                               07455000
CVTTSCE  EQU   CVTMAP+216                                               07456000
CVTLNKSC EQU   CVTMAP+214                                               07457000
CVTQABST EQU   CVTMAP+212                                               07458000
CVTMDLDS EQU   CVTMAP+208                                               07459000
CVTUSER  EQU   CVTMAP+204                                               07460000
CVTABEND EQU   CVTMAP+200                                               07461000
CVTSMCA  EQU   CVTMAP+196                                               07462000
CVTRSV18 EQU   CVTMAP+192                                               07463000
CVTQLPAQ EQU   CVTMAP+188                                               07464000
CVTQCDSR EQU   CVTMAP+184                                               07465000
CVTVS1B  EQU   CVTOPTB                                                  07466000
CVTVS1A  EQU   CVTOPTB                                                  07467000
CVTFP    EQU   CVTOPTB                                                  07468000
CVTAPTHR EQU   CVTOPTB                                                  07469000
CVTNLOG  EQU   CVTOPTB                                                  07470000
CVTTOD   EQU   CVTOPTB                                                  07471000
CVTCTIMS EQU   CVTOPTB                                                  07472000
CVTPROT  EQU   CVTOPTB                                                  07473000
CVTXPFP  EQU   CVTOPTA                                                  07474000
CVTASCII EQU   CVTOPTA                                                  07475000
CVTRSV13 EQU   CVTOPTA                                                  07476000
CVTRSV12 EQU   CVTOPTA                                                  07477000
CVTNIP   EQU   CVTOPTA                                                  07478000
CVTDDR   EQU   CVTOPTA                                                  07479000
CVTAPR   EQU   CVTOPTA                                                  07480000
CVTCCH   EQU   CVTOPTA                                                  07481000
CVTSNCTR EQU   CVTMAP+180                                               07482000
CVTQMWR  EQU   CVTMAP+176                                               07483000
CVTQOCR  EQU   CVTMAP+172                                               07484000
CVT1EF00 EQU   CVTMAP+168                                               07485000
CVTMZ00  EQU   CVTMAP+164                                               07486000
CVTSV76Q EQU   CVTSV76C                                                 07487000
CVTRSV11 EQU   CVTMAP+156                                               07488000
CVT0PT01 EQU   CVTMAP+152                                               07489000
CVTMSER  EQU   CVTMAP+148                                               07490000
CVTRV516 EQU   CVTIERLC                                                 07491000
CVTILCH  EQU   CVTMAP+140                                               07492000
CVT0DS   EQU   CVTMAP+136                                               07493000
CVTFBOSV EQU   CVTMAP+132                                               07494000
CVTNUCB  EQU   CVTMAP+128                                               07495000
CVTIXAVL EQU   CVTMAP+124                                               07496000
CVTSV76M EQU   CVTIOQET                                                 07497000
CVTDCBA  EQU   CVTMAP+117                                               07498000
CVTMVS2  EQU   CVTDCB                                                   07499000
CVT6DAT  EQU   CVTDCB                                                   07500000
CVT4MPS  EQU   CVTDCB                                                   07501000
CVTRSV09 EQU   CVTDCB                                                   07502000
CVT4MS1  EQU   CVTDCB                                                   07503000
CVT2SPS  EQU   CVTDCB                                                   07504000
CVT1SSS  EQU   CVTDCB                                                   07505000
CVTRSV08 EQU   CVTDCB                                                   07506000
CVTSTB   EQU   CVTMAP+112                                               07507000
CVTQTD00 EQU   CVTMAP+108                                               07508000
CVTQTE00 EQU   CVTMAP+104                                               07509000
CVTCUCB  EQU   CVTMAP+100                                               07510000
CVTSJQ   EQU   CVTMAP+96                                                07511000
CVTPBLDL EQU   CVTMAP+92                                                07512000
CVTTPC   EQU   CVTMAP+88                                                07513000
CVTSVDCB EQU   CVTMAP+84                                                07514000
CVTBRET  EQU   CVTMAP+82                                                07515000
CVTEXIT  EQU   CVTMAP+80                                                07516000
CVT0FN00 EQU   CVTMAP+76                                                07517000
CVTDARA  EQU   CVTDAR+1                                                 07518000
CVTRSV07 EQU   CVTFLGS1                                                 07519000
CVTRSV06 EQU   CVTFLGS1                                                 07520000
CVTRSV05 EQU   CVTFLGS1                                                 07521000
CVTRSV04 EQU   CVTFLGS1                                                 07522000
CVTRSV03 EQU   CVTFLGS1                                                 07523000
CVTRSV02 EQU   CVTFLGS1                                                 07524000
CVTRSV01 EQU   CVTFLGS1                                                 07525000
CVTDMPLK EQU   CVTFLGS1                                                 07526000
CVTXITP  EQU   CVTMAP+68                                                07527000
CVTZDTAB EQU   CVTMAP+64                                                07528000
CVTMSLT  EQU   CVTMAP+60                                                07529000
CVTDATE  EQU   CVTMAP+56                                                07530000
CVTSYSAD EQU   CVTMAP+48                                                07531000
CVTXTLER EQU   CVTMAP+44                                                07532000
CVTILK2  EQU   CVTMAP+40                                                07533000
CVTILK1  EQU   CVTMAP+36                                                07534000
CVTPRLTV EQU   CVTMAP+32                                                07535000
CVTPCNVT EQU   CVTMAP+28                                                07536000
CVT0VL00 EQU   CVTMAP+24                                                07537000
CVTXAPG  EQU   CVTMAP+20                                                07538000
CVTBUF   EQU   CVTMAP+16                                                07539000
CVTJOB   EQU   CVTMAP+12                                                07540000
CVTLINK  EQU   CVTMAP+8                                                 07541000
CVT0EF00 EQU   CVTMAP+4                                                 07542000
CVTTCBP  EQU   CVTMAP                                                   07543000
CVT      EQU   CVTMAP                                                   07544000
@NM00080 EQU   SDWA+512                                                 07545000
@NM00079 EQU   SDWADPVA                                                 07546000
SDWAEBC  EQU   SDWADPVA                                                 07547000
SDWAHEX  EQU   SDWADPVA                                                 07548000
@NM00078 EQU   SDWADPSA+32                                              07549000
SDWATO4  EQU   SDWADPSL+28                                              07550000
SDWAFRM4 EQU   SDWADPSL+24                                              07551000
SDWATO3  EQU   SDWADPSL+20                                              07552000
SDWAFRM3 EQU   SDWADPSL+16                                              07553000
SDWATO2  EQU   SDWADPSL+12                                              07554000
SDWAFRM2 EQU   SDWADPSL+8                                               07555000
SDWATO1  EQU   SDWADPSL+4                                               07556000
SDWAFRM1 EQU   SDWADPSL                                                 07557000
@NM00077 EQU   SDWADDAT+3                                               07558000
@NM00076 EQU   SDWAPDAT                                                 07559000
SDWAUSPL EQU   SDWAPDAT                                                 07560000
SDWADPSW EQU   SDWAPDAT                                                 07561000
SDWATJPA EQU   SDWAPDAT                                                 07562000
SDWATLPA EQU   SDWAPDAT                                                 07563000
SDWADREG EQU   SDWAPDAT                                                 07564000
SDWADSAH EQU   SDWAPDAT                                                 07565000
SDWADSAS EQU   SDWAPDAT                                                 07566000
@NM00075 EQU   SDWADDAT+1                                               07567000
@NM00074 EQU   SDWASDAT                                                 07568000
SDWAQQS  EQU   SDWASDAT                                                 07569000
SDWACBS  EQU   SDWASDAT                                                 07570000
SDWAGTF  EQU   SDWASDAT                                                 07571000
SDWASWA  EQU   SDWASDAT                                                 07572000
SDWALSQA EQU   SDWASDAT                                                 07573000
SDWASQA  EQU   SDWASDAT                                                 07574000
SDWANUC  EQU   SDWASDAT                                                 07575000
@NM00073 EQU   SDWADUMP+2                                               07576000
@NM00072 EQU   SDWADPFS                                                 07577000
SDWASLST EQU   SDWADPFS                                                 07578000
@NM00071 EQU   SDWADPFS                                                 07579000
SDWADLST EQU   SDWADPFS                                                 07580000
SDWADPT  EQU   SDWADPFS                                                 07581000
SDWADPID EQU   SDWADUMP                                                 07582000
SDWAREXN EQU   SDWARECP+16                                              07583000
SDWACSCT EQU   SDWARECP+8                                               07584000
SDWAMODN EQU   SDWARECP                                                 07585000
SDWATALW EQU   SDWALKWS+28                                              07586000
SDWATDLW EQU   SDWALKWS+24                                              07587000
SDWATNLW EQU   SDWALKWS+20                                              07588000
SDWAAPLW EQU   SDWALKWS+16                                              07589000
SDWAIPLW EQU   SDWALKWS+12                                              07590000
SDWAILLW EQU   SDWALKWS+8                                               07591000
SDWAIULW EQU   SDWALKWS+4                                               07592000
SDWAICLW EQU   SDWALKWS                                                 07593000
SDWAOPTM EQU   SDWAACF4                                                 07594000
SDWATADB EQU   SDWAACF4                                                 07595000
SDWATDNB EQU   SDWAACF4                                                 07596000
SDWATNCB EQU   SDWAACF4                                                 07597000
SDWAILCH EQU   SDWAACF4                                                 07598000
SDWAIUCB EQU   SDWAACF4                                                 07599000
SDWAICAT EQU   SDWAACF3                                                 07600000
SDWAIPRG EQU   SDWAACF3                                                 07601000
SDWASALL EQU   SDWAACF3                                                 07602000
SDWAASMP EQU   SDWAACF3                                                 07603000
SDWADISP EQU   SDWAACF3                                                 07604000
@NM00070 EQU   SDWAACF3                                                 07605000
@NM00069 EQU   SDWAACF2                                                 07606000
SDWAFREE EQU   SDWAACF2                                                 07607000
SDWAUPRG EQU   SDWAACF2                                                 07608000
@NM00068 EQU   SDWAACF2                                                 07609000
@NM00067 EQU   SDWAACF2                                                 07610000
SDWALCPU EQU   SDWACPUA+2                                               07611000
@NM00066 EQU   SDWACPUA                                                 07612000
@NM00065 EQU   SDWAIOFS                                                 07613000
SDWANIOP EQU   SDWAIOFS                                                 07614000
SDWANOIO EQU   SDWAIOFS                                                 07615000
SDWAIOHT EQU   SDWAIOFS                                                 07616000
SDWAIOQR EQU   SDWAIOFS                                                 07617000
SDWAMABD EQU   SDWAERRD                                                 07618000
SDWACTS  EQU   SDWAERRD                                                 07619000
SDWASTAE EQU   SDWAERRD                                                 07620000
SDWANRBE EQU   SDWAERRD                                                 07621000
@NM00064 EQU   SDWAERRC                                                 07622000
SDWAEAS  EQU   SDWAERRC                                                 07623000
SDWAIRB  EQU   SDWAERRC                                                 07624000
SDWASTAI EQU   SDWAERRC                                                 07625000
SDWAENRB EQU   SDWAERRB                                                 07626000
@NM00063 EQU   SDWAERRB                                                 07627000
SDWAPGIO EQU   SDWAERRA                                                 07628000
SDWAABTM EQU   SDWAERRA                                                 07629000
SDWASVCD EQU   SDWAERRA                                                 07630000
SDWATIME EQU   SDWAMCH+20                                               07631000
SDWARFSA EQU   SDWAMCH+16                                               07632000
@NM00062 EQU   SDWAMCH+14                                               07633000
SDWAVEQR EQU   SDWARSR2                                                 07634000
SDWAPGFX EQU   SDWARSR2                                                 07635000
SDWAFLSQ EQU   SDWARSR2                                                 07636000
SDWAFSQA EQU   SDWARSR2                                                 07637000
SDWANUCL EQU   SDWARSR2                                                 07638000
SDWASPER EQU   SDWARSR2                                                 07639000
SDWAINTC EQU   SDWARSR2                                                 07640000
SDWAOFLN EQU   SDWARSR2                                                 07641000
SDWACHNG EQU   SDWARSR1                                                 07642000
SDWAMSER EQU   SDWARSR1                                                 07643000
@NM00061 EQU   SDWARSR1                                                 07644000
SDWACPID EQU   SDWAMCH+10                                               07645000
SDWATERR EQU   SDWAMCHD                                                 07646000
SDWAFPRX EQU   SDWAMCHD                                                 07647000
SDWAINSF EQU   SDWAMCHD                                                 07648000
SDWAACR  EQU   SDWAMCHD                                                 07649000
SDWASCK  EQU   SDWAMCHD                                                 07650000
SDWAPSWU EQU   SDWAMCHD                                                 07651000
SDWAREGU EQU   SDWAMCHD                                                 07652000
SDWASKYF EQU   SDWAMCHD                                                 07653000
@NM00060 EQU   SDWAMCHS                                                 07654000
SDWARSRF EQU   SDWAMCHS                                                 07655000
SDWARSRC EQU   SDWAMCHS                                                 07656000
SDWAINVP EQU   SDWAMCHS                                                 07657000
SDWATSVL EQU   SDWAMCHS                                                 07658000
SDWARCDF EQU   SDWAMCHS                                                 07659000
SDWASRVL EQU   SDWAMCHS                                                 07660000
SDWASCKE EQU   SDWASTCK+4                                               07661000
SDWASCKB EQU   SDWASTCK                                                 07662000
SDWALNTH EQU   SDWAIDNT+1                                               07663000
SDWASPID EQU   SDWAIDNT                                                 07664000
SDWASR15 EQU   SDWASRSV+60                                              07665000
SDWASR14 EQU   SDWASRSV+56                                              07666000
SDWASR13 EQU   SDWASRSV+52                                              07667000
SDWASR12 EQU   SDWASRSV+48                                              07668000
SDWASR11 EQU   SDWASRSV+44                                              07669000
SDWASR10 EQU   SDWASRSV+40                                              07670000
SDWASR09 EQU   SDWASRSV+36                                              07671000
SDWASR08 EQU   SDWASRSV+32                                              07672000
SDWASR07 EQU   SDWASRSV+28                                              07673000
SDWASR06 EQU   SDWASRSV+24                                              07674000
SDWASR05 EQU   SDWASRSV+20                                              07675000
SDWASR04 EQU   SDWASRSV+16                                              07676000
SDWASR03 EQU   SDWASRSV+12                                              07677000
SDWASR02 EQU   SDWASRSV+8                                               07678000
SDWASR01 EQU   SDWASRSV+4                                               07679000
SDWASR00 EQU   SDWASRSV                                                 07680000
SDWAIPC2 EQU   SDWAICD2                                                 07681000
SDWAIMC2 EQU   SDWAICD2                                                 07682000
SDWAIPR2 EQU   SDWAICD2                                                 07683000
@NM00059 EQU   SDWAINC2                                                 07684000
@NM00058 EQU   SDWAILC2                                                 07685000
SDWAIL2  EQU   SDWAILC2                                                 07686000
@NM00057 EQU   SDWAILC2                                                 07687000
@NM00056 EQU   SDWAAEC2                                                 07688000
SDWAADD2 EQU   SDWANXT2+1                                               07689000
@NM00055 EQU   SDWANXT2                                                 07690000
@NM00054 EQU   SDWAEC2+3                                                07691000
SDWASGN2 EQU   SDWAINT2                                                 07692000
SDWAEXP2 EQU   SDWAINT2                                                 07693000
SDWADEC2 EQU   SDWAINT2                                                 07694000
SDWAFPO2 EQU   SDWAINT2                                                 07695000
SDWACC2  EQU   SDWAINT2                                                 07696000
@NM00053 EQU   SDWAINT2                                                 07697000
SDWAPGM2 EQU   SDWAMWP2                                                 07698000
SDWAWAT2 EQU   SDWAMWP2                                                 07699000
SDWAMCK2 EQU   SDWAMWP2                                                 07700000
SDWAECT2 EQU   SDWAMWP2                                                 07701000
SDWAKEY2 EQU   SDWAMWP2                                                 07702000
SDWATRM2 EQU   SDWAEMK2                                                 07703000
@NM00052 EQU   SDWAEMK2                                                 07704000
SDWAPER2 EQU   SDWAEMK2                                                 07705000
@NM00051 EQU   SDWAEMK2                                                 07706000
SDWAIPC1 EQU   SDWAICD1                                                 07707000
SDWAIMC1 EQU   SDWAICD1                                                 07708000
SDWAIPR1 EQU   SDWAICD1                                                 07709000
@NM00050 EQU   SDWAINC1                                                 07710000
@NM00049 EQU   SDWAILC1                                                 07711000
SDWAIL1  EQU   SDWAILC1                                                 07712000
@NM00048 EQU   SDWAILC1                                                 07713000
@NM00047 EQU   SDWAAEC1                                                 07714000
SDWAADD1 EQU   SDWANXT1+1                                               07715000
@NM00046 EQU   SDWANXT1                                                 07716000
@NM00045 EQU   SDWAEC1+3                                                07717000
SDWASGN1 EQU   SDWAINT1                                                 07718000
SDWAEXP1 EQU   SDWAINT1                                                 07719000
SDWADEC1 EQU   SDWAINT1                                                 07720000
SDWAFPO1 EQU   SDWAINT1                                                 07721000
SDWACC1  EQU   SDWAINT1                                                 07722000
@NM00044 EQU   SDWAINT1                                                 07723000
SDWAPGM1 EQU   SDWAMWP1                                                 07724000
SDWAWAT1 EQU   SDWAMWP1                                                 07725000
SDWAMCK1 EQU   SDWAMWP1                                                 07726000
SDWAECT1 EQU   SDWAMWP1                                                 07727000
SDWAKEY1 EQU   SDWAMWP1                                                 07728000
SDWAEXT1 EQU   SDWAEMK1                                                 07729000
SDWAIO1  EQU   SDWAEMK1                                                 07730000
SDWATRM1 EQU   SDWAEMK1                                                 07731000
@NM00043 EQU   SDWAEMK1                                                 07732000
SDWAPER1 EQU   SDWAEMK1                                                 07733000
@NM00042 EQU   SDWAEMK1                                                 07734000
SDWAIOBR EQU   SDWA+100                                                 07735000
SDWAEPA  EQU   SDWA+96                                                  07736000
@NM00041 EQU   SDWANAME+4                                               07737000
SDWARBAD EQU   SDWANAME                                                 07738000
SDWAGR15 EQU   SDWAGRSV+60                                              07739000
SDWAGR14 EQU   SDWAGRSV+56                                              07740000
SDWAGR13 EQU   SDWAGRSV+52                                              07741000
SDWAGR12 EQU   SDWAGRSV+48                                              07742000
SDWAGR11 EQU   SDWAGRSV+44                                              07743000
SDWAGR10 EQU   SDWAGRSV+40                                              07744000
SDWAGR09 EQU   SDWAGRSV+36                                              07745000
SDWAGR08 EQU   SDWAGRSV+32                                              07746000
SDWAGR07 EQU   SDWAGRSV+28                                              07747000
SDWAGR06 EQU   SDWAGRSV+24                                              07748000
SDWAGR05 EQU   SDWAGRSV+20                                              07749000
SDWAGR04 EQU   SDWAGRSV+16                                              07750000
SDWAGR03 EQU   SDWAGRSV+12                                              07751000
SDWAGR02 EQU   SDWAGRSV+8                                               07752000
SDWAGR01 EQU   SDWAGRSV+4                                               07753000
SDWAGR00 EQU   SDWAGRSV                                                 07754000
SDWANXTP EQU   SDWACTL2+5                                               07755000
SDWASGP  EQU   SDWAPMKP                                                 07756000
SDWAEUP  EQU   SDWAPMKP                                                 07757000
SDWADOP  EQU   SDWAPMKP                                                 07758000
SDWAFPP  EQU   SDWAPMKP                                                 07759000
SDWACCP  EQU   SDWAPMKP                                                 07760000
SDWAILP  EQU   SDWAPMKP                                                 07761000
SDWAINTP EQU   SDWACTL2+2                                               07762000
SDWASPVP EQU   SDWAMWPP                                                 07763000
SDWAWATP EQU   SDWAMWPP                                                 07764000
SDWAMCKP EQU   SDWAMWPP                                                 07765000
@NM00040 EQU   SDWAMWPP                                                 07766000
SDWAKEYP EQU   SDWAMWPP                                                 07767000
SDWAEXTP EQU   SDWACMKP                                                 07768000
SDWAIOP  EQU   SDWACMKP                                                 07769000
SDWANXTA EQU   SDWACTL1+5                                               07770000
SDWASGA  EQU   SDWAPMKA                                                 07771000
SDWAEUA  EQU   SDWAPMKA                                                 07772000
SDWADOA  EQU   SDWAPMKA                                                 07773000
SDWAFPA  EQU   SDWAPMKA                                                 07774000
SDWACCA  EQU   SDWAPMKA                                                 07775000
SDWAILA  EQU   SDWAPMKA                                                 07776000
SDWAINTA EQU   SDWACTL1+2                                               07777000
SDWASPVA EQU   SDWAMWPA                                                 07778000
SDWAWATA EQU   SDWAMWPA                                                 07779000
SDWAMCKA EQU   SDWAMWPA                                                 07780000
@NM00039 EQU   SDWAMWPA                                                 07781000
SDWAKEYA EQU   SDWAMWPA                                                 07782000
SDWAEXTA EQU   SDWACMKA                                                 07783000
SDWAIOA  EQU   SDWACMKA                                                 07784000
SDWACMPC EQU   SDWAABCC+1                                               07785000
@NM00038 EQU   SDWACMPF                                                 07786000
SDWASTCC EQU   SDWACMPF                                                 07787000
@NM00037 EQU   SDWACMPF                                                 07788000
SDWASTEP EQU   SDWACMPF                                                 07789000
SDWAREQ  EQU   SDWACMPF                                                 07790000
@NM00036 EQU   FRRSFLGS+1                                               07791000
@NM00035 EQU   FRRSFLG1                                                 07792000
FRRSENTS EQU   FRRS+84                                                  07793000
FRRSELEN EQU   FRRSHEAD+8                                               07794000
WSAGSCHE EQU   WSAG+40                                                  07795000
WSAGREST EQU   WSAG+36                                                  07796000
WSAGNQDQ EQU   WSAG+32                                                  07797000
WSAGMEMT EQU   WSAG+28                                                  07798000
WSAGOPTM EQU   WSAG+24                                                  07799000
WSAGSTAT EQU   WSAG+20                                                  07800000
WSAGEMS0 EQU   WSAG+16                                                  07801000
WSAGSSRS EQU   WSAG+12                                                  07802000
WSAGRSM  EQU   WSAG+8                                                   07803000
WSAGPGIO EQU   WSAG                                                     07804000
LCCAR125 EQU   LCCA+964                                                 07805000
LCCAR124 EQU   LCCA+960                                                 07806000
LCCASGPR EQU   LCCA+896                                                 07807000
LCCADRT2 EQU   LCCA+888                                                 07808000
LCCADRT1 EQU   LCCA+880                                                 07809000
LCCAR103 EQU   LCCA+876                                                 07810000
LCCAESS2 EQU   LCCA+872                                                 07811000
LCCASPLJ EQU   LCCA+868                                                 07812000
LCCASMQJ EQU   LCCA+864                                                 07813000
LCCAIRT  EQU   LCCA+736                                                 07814000
LCCARV89 EQU   LCCA+728                                                 07815000
LCCAPGTA EQU   LCCASRBF+2                                               07816000
LCCASAFN EQU   LCCASRBF                                                 07817000
LCCAECSA EQU   LCCA+716                                                 07818000
LCCAICR0 EQU   LCCA+712                                                 07819000
LCCALWTM EQU   LCCA+704                                                 07820000
LCCARV78 EQU   LCCA+700                                                 07821000
LCCAPINV EQU   LCCA+696                                                 07822000
LCCARV88 EQU   LCCA+695                                                 07823000
LCCARV87 EQU   LCCALKFG                                                 07824000
LCCARV86 EQU   LCCALKFG                                                 07825000
LCCARV85 EQU   LCCALKFG                                                 07826000
LCCARV84 EQU   LCCALKFG                                                 07827000
LCCALKRD EQU   LCCALKFG                                                 07828000
LCCALKAQ EQU   LCCALKFG                                                 07829000
LCCALKSA EQU   LCCALKFG                                                 07830000
LCCALKDP EQU   LCCALKFG                                                 07831000
LCCACRST EQU   LCCACREX                                                 07832000
LCCACRDP EQU   LCCACREX                                                 07833000
LCCACRLM EQU   LCCACREX                                                 07834000
LCCACRIN EQU   LCCACREX                                                 07835000
LCCACRRT EQU   LCCACREX                                                 07836000
LCCACRLE EQU   LCCACREX                                                 07837000
LCCACRRM EQU   LCCACREX                                                 07838000
LCCACREF EQU   LCCACREX                                                 07839000
LCCAVARY EQU   LCCACRFL                                                 07840000
LCCARV73 EQU   LCCACRFL                                                 07841000
LCCARV72 EQU   LCCACRFL                                                 07842000
LCCARV71 EQU   LCCACRFL                                                 07843000
LCCARV70 EQU   LCCACRFL                                                 07844000
LCCARV69 EQU   LCCACRFL                                                 07845000
LCCACLMS EQU   LCCACRFL                                                 07846000
LCCACRTM EQU   LCCACRFL                                                 07847000
LCCALCR0 EQU   LCCA+688                                                 07848000
LCCACRLC EQU   LCCA+684                                                 07849000
LCCARCPU EQU   LCCA+680                                                 07850000
LCCADCPU EQU   LCCA+676                                                 07851000
LCCASRBJ EQU   LCCA+672                                                 07852000
LCCADSSR EQU   LCCA+668                                                 07853000
LCCADSSC EQU   LCCA+660                                                 07854000
LCCADSS3 EQU   LCCA+648                                                 07855000
LCCADSS2 EQU   LCCA+636                                                 07856000
LCCADSS1 EQU   LCCA+624                                                 07857000
LCCAWTIM EQU   LCCA+616                                                 07858000
LCCAITOD EQU   LCCA+608                                                 07859000
LCCADTOD EQU   LCCA+600                                                 07860000
LCCASTOD EQU   LCCA+592                                                 07861000
LCCARIR5 EQU   LCCASPSA+44                                              07862000
LCCARIR4 EQU   LCCASPSA+40                                              07863000
LCCARIR3 EQU   LCCASPSA+36                                              07864000
LCCARIR2 EQU   LCCASPSA+32                                              07865000
LCCARPR5 EQU   LCCASPSA+28                                              07866000
LCCARPR4 EQU   LCCASPSA+24                                              07867000
LCCARPR3 EQU   LCCASPSA+20                                              07868000
LCCARPR2 EQU   LCCASPSA+16                                              07869000
LCCADSR5 EQU   LCCASPSA+12                                              07870000
LCCADSR4 EQU   LCCASPSA+8                                               07871000
LCCADSR3 EQU   LCCASPSA+4                                               07872000
LCCADSR2 EQU   LCCASPSA                                                 07873000
LCCARV68 EQU   LCCA+543                                                 07874000
LCCAPSMK EQU   LCCA+542                                                 07875000
LCCARV67 EQU   LCCADSF2                                                 07876000
LCCARV66 EQU   LCCADSF2                                                 07877000
LCCARV65 EQU   LCCADSF2                                                 07878000
LCCARV64 EQU   LCCADSF2                                                 07879000
LCCADSRW EQU   LCCADSF2                                                 07880000
LCCADSPL EQU   LCCADSF2                                                 07881000
LCCAGSRB EQU   LCCADSF2                                                 07882000
LCCASRBM EQU   LCCADSF2                                                 07883000
LCCARV61 EQU   LCCADSF1                                                 07884000
LCCARV60 EQU   LCCADSF1                                                 07885000
LCCARV59 EQU   LCCADSF1                                                 07886000
LCCARV58 EQU   LCCADSF1                                                 07887000
LCCATIMR EQU   LCCADSF1                                                 07888000
LCCADSS  EQU   LCCADSF1                                                 07889000
LCCAVCPU EQU   LCCADSF1                                                 07890000
LCCAACR  EQU   LCCADSF1                                                 07891000
LCCACPUS EQU   LCCA+536                                                 07892000
LCCAASCP EQU   LCCA+532                                                 07893000
LCCAESSA EQU   LCCA+528                                                 07894000
LCCARV55 EQU   LCCASPN4                                                 07895000
LCCARV54 EQU   LCCASPN4                                                 07896000
LCCARV53 EQU   LCCASPN4                                                 07897000
LCCARV52 EQU   LCCASPN4                                                 07898000
LCCARV51 EQU   LCCASPN4                                                 07899000
LCCARV50 EQU   LCCASPN4                                                 07900000
LCCARV49 EQU   LCCASPN4                                                 07901000
LCCARV48 EQU   LCCASPN4                                                 07902000
LCCARV47 EQU   LCCASPN3                                                 07903000
LCCARV46 EQU   LCCASPN3                                                 07904000
LCCARV45 EQU   LCCASPN3                                                 07905000
LCCARV44 EQU   LCCASPN3                                                 07906000
LCCARV43 EQU   LCCASPN3                                                 07907000
LCCARV42 EQU   LCCASPN3                                                 07908000
LCCARV41 EQU   LCCASPN3                                                 07909000
LCCARV40 EQU   LCCASPN3                                                 07910000
LCCARV39 EQU   LCCASPN2                                                 07911000
LCCARV38 EQU   LCCASPN2                                                 07912000
LCCARV37 EQU   LCCASPN2                                                 07913000
LCCARV36 EQU   LCCASPN2                                                 07914000
LCCARV35 EQU   LCCASPN2                                                 07915000
LCCARV34 EQU   LCCASPN2                                                 07916000
LCCARV33 EQU   LCCASPN2                                                 07917000
LCCARV32 EQU   LCCASPN2                                                 07918000
LCCARV31 EQU   LCCASPN1                                                 07919000
LCCARV30 EQU   LCCASPN1                                                 07920000
LCCAMFIO EQU   LCCASPN1                                                 07921000
LCCARSTR EQU   LCCASPN1                                                 07922000
LCCATSPN EQU   LCCASPN1                                                 07923000
LCCALOCK EQU   LCCASPN1                                                 07924000
LCCASIGP EQU   LCCASPN1                                                 07925000
LCCAPTLB EQU   LCCASPN1                                                 07926000
LCCARV27 EQU   LCCAIHR4                                                 07927000
LCCARV26 EQU   LCCAIHR4                                                 07928000
LCCARV25 EQU   LCCAIHR4                                                 07929000
LCCARV24 EQU   LCCAIHR4                                                 07930000
LCCARV23 EQU   LCCAIHR4                                                 07931000
LCCARV22 EQU   LCCAIHR4                                                 07932000
LCCARV21 EQU   LCCAIHR4                                                 07933000
LCCARV20 EQU   LCCAIHR4                                                 07934000
LCCARV19 EQU   LCCAIHR3                                                 07935000
LCCARV18 EQU   LCCAIHR3                                                 07936000
LCCARV17 EQU   LCCAIHR3                                                 07937000
LCCARV16 EQU   LCCAIHR3                                                 07938000
LCCARV15 EQU   LCCAIHR3                                                 07939000
LCCARV14 EQU   LCCAIHR3                                                 07940000
LCCARV13 EQU   LCCAIHR3                                                 07941000
LCCARV12 EQU   LCCAIHR3                                                 07942000
LCCARV11 EQU   LCCAIHR2                                                 07943000
LCCARV10 EQU   LCCAIHR2                                                 07944000
LCCARV09 EQU   LCCAIHR2                                                 07945000
LCCARV08 EQU   LCCAIHR2                                                 07946000
LCCARV07 EQU   LCCAIHR2                                                 07947000
LCCARV06 EQU   LCCAIHR2                                                 07948000
LCCARV05 EQU   LCCAIHR2                                                 07949000
LCCARV04 EQU   LCCAIHR2                                                 07950000
LCCARV03 EQU   LCCAIHR1                                                 07951000
LCCARV02 EQU   LCCAIHR1                                                 07952000
LCCARV01 EQU   LCCAIHR1                                                 07953000
LCCAPPIE EQU   LCCAIHR1                                                 07954000
LCCAXRC2 EQU   LCCAIHR1                                                 07955000
LCCAXRC1 EQU   LCCAIHR1                                                 07956000
LCCAIOPS EQU   LCCA+512                                                 07957000
LCCAGPGR EQU   LCCA+448                                                 07958000
LCCAR133 EQU   LCCA+444                                                 07959000
LCCAR132 EQU   LCCA+440                                                 07960000
LCCAR131 EQU   LCCA+436                                                 07961000
LCCAR130 EQU   LCCA+432                                                 07962000
LCCAR129 EQU   LCCA+428                                                 07963000
LCCAR128 EQU   LCCA+424                                                 07964000
LCCAR127 EQU   LCCA+420                                                 07965000
LCCAR126 EQU   LCCA+416                                                 07966000
LCCARSGR EQU   LCCA+352                                                 07967000
LCCAXGR3 EQU   LCCA+288                                                 07968000
LCCAXGR2 EQU   LCCA+224                                                 07969000
LCCAXGR1 EQU   LCCA+160                                                 07970000
LCCACR0  EQU   LCCA+156                                                 07971000
LCCAMCR1 EQU   LCCA+152                                                 07972000
LCCAPINT EQU   LCCA+144                                                 07973000
LCCAPPSW EQU   LCCA+136                                                 07974000
LCCAPGR2 EQU   LCCA+72                                                  07975000
LCCAPGR1 EQU   LCCA+8                                                   07976000
LCCARV77 EQU   LCCA+6                                                   07977000
LCCACPUA EQU   LCCA+4                                                   07978000
LCCALCCA EQU   LCCA                                                     07979000
ASXBEND  EQU   ASXB+232                                                 07980000
ASXBRV25 EQU   ASXB+228                                                 07981000
ASXBRV24 EQU   ASXB+224                                                 07982000
ASXBPT0E EQU   ASXB+220                                                 07983000
ASXBCRB4 EQU   ASXBCASW+3                                               07984000
ASXBCRB3 EQU   ASXBCASW+2                                               07985000
ASXBCRB2 EQU   ASXBCASW+1                                               07986000
ASXBCR06 EQU   ASXBCRB1                                                 07987000
ASXBCR05 EQU   ASXBCRB1                                                 07988000
ASXBCR04 EQU   ASXBCRB1                                                 07989000
ASXBCR03 EQU   ASXBCRB1                                                 07990000
ASXBCR02 EQU   ASXBCRB1                                                 07991000
ASXBCR01 EQU   ASXBCRB1                                                 07992000
ASXBTFD  EQU   ASXBCRB1                                                 07993000
ASXBPIP  EQU   ASXBCRB1                                                 07994000
ASXBCTDC EQU   ASXB+212                                                 07995000
ASXBTDCB EQU   ASXB+208                                                 07996000
ASXBRV19 EQU   ASXB+204                                                 07997000
ASXBSENV EQU   ASXBSECR+1                                               07998000
ASXBRV34 EQU   ASCBSFLG                                                 07999000
ASXBRV33 EQU   ASCBSFLG                                                 08000000
ASXBRV32 EQU   ASCBSFLG                                                 08001000
ASXBRV31 EQU   ASCBSFLG                                                 08002000
ASXBRV30 EQU   ASCBSFLG                                                 08003000
ASXBRV29 EQU   ASCBSFLG                                                 08004000
ASXBRV28 EQU   ASCBSFLG                                                 08005000
ASXBRV27 EQU   ASCBSFLG                                                 08006000
ASXBUSER EQU   ASXB+192                                                 08007000
ASXBLSRB EQU   ASXBAEQ+20                                               08008000
ASXBFSRB EQU   ASXBAEQ+16                                               08009000
ASXBLRQE EQU   ASXBAEQ+12                                               08010000
ASXBFRQE EQU   ASXBAEQ+8                                                08011000
ASXBLIQE EQU   ASXBAEQ+4                                                08012000
ASXBFIQE EQU   ASXBAEQ                                                  08013000
ASXBETSK EQU   ASXB+164                                                 08014000
ASXBSIRB EQU   ASXB+160                                                 08015000
ASXBPSWD EQU   ASXB+152                                                 08016000
ASXBPRG  EQU   ASXB+136                                                 08017000
ASXBRV26 EQU   ASXB+132                                                 08018000
ASXBOUSB EQU   ASXB+128                                                 08019000
ASXBDDR  EQU   ASXB+124                                                 08020000
ASXBRCTD EQU   ASXB+120                                                 08021000
ASXBRSMD EQU   ASXB+116                                                 08022000
ASXBSPSA EQU   ASXB+112                                                 08023000
ASXBFLSA EQU   ASXB+36                                                  08024000
ASXBIHSA EQU   ASXB+32                                                  08025000
ASXBRV15 EQU   ASXB+28                                                  08026000
ASXBRV14 EQU   ASXB+24                                                  08027000
ASXBLWA  EQU   ASXB+20                                                  08028000
ASXBMPST EQU   ASXB+16                                                  08029000
ASXBRS00 EQU   ASXB+14                                                  08030000
ASXBTCBS EQU   ASXB+12                                                  08031000
ASXBLTCB EQU   ASXB+8                                                   08032000
ASXBFTCB EQU   ASXB+4                                                   08033000
ASXBASXB EQU   ASXB                                                     08034000
ASXBEGIN EQU   ASXB                                                     08035000
ASCBEND  EQU   ASCB+208                                                 08036000
ASCBSRBT EQU   ASCB+200                                                 08037000
ASCBSWTL EQU   ASCB+196                                                 08038000
ASCBRS14 EQU   ASCB+195                                                 08039000
ASCBSMCT EQU   ASCB+194                                                 08040000
ASCBRS12 EQU   ASCB+192                                                 08041000
ASCBPCTT EQU   ASCB+188                                                 08042000
ASCBVGTT EQU   ASCB+184                                                 08043000
ASCBLGCB EQU   ASCB+180                                                 08044000
ASCBMCC  EQU   ASCB+168                                                 08045000
ASCBRTWA EQU   ASCB+164                                                 08046000
ASCBIQEA EQU   ASCB+160                                                 08047000
ASCBXMPQ EQU   ASCB+156                                                 08048000
ASCBRS01 EQU   ASCB+154                                                 08049000
ASCBFMCT EQU   ASCB+152                                                 08050000
ASCBOUXB EQU   ASCB+148                                                 08051000
ASCBOUCB EQU   ASCB+144                                                 08052000
ASCBMECB EQU   ASCB+140                                                 08053000
ASCBQECB EQU   ASCB+136                                                 08054000
ASCBCMSB EQU   ASCB+132                                                 08055000
ASCBCMSF EQU   ASCB+128                                                 08056000
ASCBTCBS EQU   ASCB+124                                                 08057000
ASCBNVSC EQU   ASCB+122                                                 08058000
ASCBVSC  EQU   ASCB+120                                                 08059000
ASCBSRBS EQU   ASCB+118                                                 08060000
ASCBSSRB EQU   ASCB+116                                                 08061000
ASCBRV06 EQU   ASCBFLG2                                                 08062000
ASCBRV05 EQU   ASCBFLG2                                                 08063000
ASCBRV04 EQU   ASCBFLG2                                                 08064000
ASCBSNQS EQU   ASCBFLG2                                                 08065000
ASCBS2S  EQU   ASCBFLG2                                                 08066000
ASCBCEXT EQU   ASCBFLG2                                                 08067000
ASCBPXMT EQU   ASCBFLG2                                                 08068000
ASCBXMPT EQU   ASCBFLG2                                                 08069000
ASCBRF07 EQU   ASCBDSP1                                                 08070000
ASCBRF06 EQU   ASCBDSP1                                                 08071000
ASCBRF05 EQU   ASCBDSP1                                                 08072000
ASCBRF04 EQU   ASCBDSP1                                                 08073000
ASCBRF03 EQU   ASCBDSP1                                                 08074000
ASCBRF02 EQU   ASCBDSP1                                                 08075000
ASCBFAIL EQU   ASCBDSP1                                                 08076000
ASCBNOQ  EQU   ASCBDSP1                                                 08077000
ASCBSWCT EQU   ASCB+112                                                 08078000
ASCBTMCH EQU   ASCB+104                                                 08079000
ASCBNSWP EQU   ASCBFLG1                                                 08080000
ASCBTYP1 EQU   ASCBFLG1                                                 08081000
ASCBSTND EQU   ASCBFLG1                                                 08082000
ASCBABNT EQU   ASCBFLG1                                                 08083000
ASCBTERM EQU   ASCBFLG1                                                 08084000
ASCBS3S  EQU   ASCBFLG1                                                 08085000
ASCBCMSH EQU   ASCBFLG1                                                 08086000
ASCBTOFF EQU   ASCBFLG1                                                 08087000
ASCBRF01 EQU   ASCBRCTF                                                 08088000
ASCBTMLW EQU   ASCBRCTF                                                 08089000
ASCBOUT  EQU   ASCBRCTF                                                 08090000
ASCBWAIT EQU   ASCBRCTF                                                 08091000
ASCBRV08 EQU   ASCBRCTF                                                 08092000
ASCBFQU  EQU   ASCBRCTF                                                 08093000
ASCBFRS  EQU   ASCBRCTF                                                 08094000
ASCBTMNO EQU   ASCBRCTF                                                 08095000
ASCBAFFN EQU   ASCBFW1                                                  08096000
ASCBDUMP EQU   ASCB+96                                                  08097000
ASCBQSVC EQU   ASCB+92                                                  08098000
ASCBUBET EQU   ASCB+88                                                  08099000
ASCBECB  EQU   ASCB+84                                                  08100000
ASCBJSTL EQU   ASCB+80                                                  08101000
ASCBEWST EQU   ASCB+72                                                  08102000
ASCBEJST EQU   ASCB+64                                                  08103000
ASCBTSB  EQU   ASCB+60                                                  08104000
ASCBCSCB EQU   ASCB+56                                                  08105000
ASCBRSM  EQU   ASCB+52                                                  08106000
ASCBLDA  EQU   ASCB+48                                                  08107000
ASCBSTOR EQU   ASCB+44                                                  08108000
ASCBDP   EQU   ASCB+43                                                  08109000
ASCBRV07 EQU   ASCB+42                                                  08110000
ASCBIOSM EQU   ASCB+40                                                  08111000
ASCBSEQN EQU   ASCB+38                                                  08112000
ASCBCPUS EQU   ASCB+32                                                  08113000
ASCBSPL  EQU   ASCB+28                                                  08114000
ASCBLSLQ EQU   ASCB+24                                                  08115000
ASCBFSLQ EQU   ASCB+20                                                  08116000
ASCBIOSP EQU   ASCB+16                                                  08117000
ASCBLOCK EQU   ASCB+12                                                  08118000
ASCBBWDP EQU   ASCB+8                                                   08119000
ASCBFWDP EQU   ASCB+4                                                   08120000
ASCBEGIN EQU   ASCB                                                     08121000
EEDASID  EQU   EEDERROR+2                                               08122000
EEDERTYP EQU   EEDERROR+1                                               08123000
EEDMODE  EQU   EEDERROR                                                 08124000
@NM00004 EQU   EEDDES+2                                                 08125000
@NM00003 EQU   EEDFLAGS                                                 08126000
EEDID    EQU   EEDDES                                                   08127000
EEDFWRDP EQU   EED                                                      08128000
MODETCB  EQU   MODEBYTE                                                 08129000
RTMBXABT EQU   RTMBRTAB+44                                              08130000
RTMBACR  EQU   RTMBRTAB+40                                              08131000
RTMBPROG EQU   RTMBRTAB+36                                              08132000
RTMBMEMT EQU   RTMBRTAB+32                                              08133000
RTMBCABT EQU   RTMBRTAB+28                                              08134000
RTMBPGIO EQU   RTMBRTAB+24                                              08135000
RTMBSVC  EQU   RTMBRTAB+20                                              08136000
RTMBMACH EQU   RTMBRTAB+16                                              08137000
RTMBREST EQU   RTMBRTAB+12                                              08138000
RTMBDAT  EQU   RTMBRTAB+8                                               08139000
RTMBPAD2 EQU   RTMBTERM+6                                               08140000
RTMBBRAN EQU   RTMBTERM+2                                               08141000
RTMBBALR EQU   RTMBTERM                                                 08142000
RT1TREGS EQU   RT1TRACK+4                                               08143000
RT1TRETY EQU   RT1TACQR                                                 08144000
RT1TLLCK EQU   RT1TACQR                                                 08145000
RT1TDISP EQU   RT1TACQR                                                 08146000
@NM00034 EQU   PSA+3668                                                 08147000
PSASTAK  EQU   PSA+3072                                                 08148000
@NM00033 EQU   PSA+1048                                                 08149000
PSAUSEND EQU   PSA+1048                                                 08150000
PSARV062 EQU   PSA+1044                                                 08151000
PSACDAL  EQU   PSA+1040                                                 08152000
PSAWTCOD EQU   PSA+1036                                                 08153000
PSAATCVT EQU   PSA+1032                                                 08154000
PSAPCPSW EQU   PSA+1024                                                 08155000
PSAPIR2  EQU   PSA+1020                                                 08156000
PSARV059 EQU   PSA+1018                                                 08157000
PSASVC13 EQU   PSA+1016                                                 08158000
PSALSFCC EQU   PSA+1012                                                 08159000
PSASFACC EQU   PSA+1008                                                 08160000
PSASTOP  EQU   PSA+992                                                  08161000
PSASTART EQU   PSA+976                                                  08162000
PSARSPSW EQU   PSA+968                                                  08163000
PSASRPSW EQU   PSA+960                                                  08164000
PSARV045 EQU   PSA+892                                                  08165000
PSARV044 EQU   PSA+888                                                  08166000
PSARV043 EQU   PSA+884                                                  08167000
PSARV042 EQU   PSA+880                                                  08168000
PSARV041 EQU   PSA+876                                                  08169000
PSARV040 EQU   PSA+872                                                  08170000
PSARV025 EQU   PSA+868                                                  08171000
PSADSSED EQU   PSA+868                                                  08172000
PSADSSPR EQU   PSA+864                                                  08173000
PSADSSFW EQU   PSA+860                                                  08174000
PSADSS14 EQU   PSA+856                                                  08175000
PSADSSPP EQU   PSA+848                                                  08176000
PSADSSRP EQU   PSA+840                                                  08177000
PSADSS05 EQU   PSADSSF4                                                 08178000
PSADSS10 EQU   PSADSSF4                                                 08179000
PSADSSVE EQU   PSADSSF4                                                 08180000
PSADSSDE EQU   PSADSSF4                                                 08181000
PSADSSC0 EQU   PSADSSF4                                                 08182000
PSADSSIE EQU   PSADSSF4                                                 08183000
PSADSS12 EQU   PSADSSF4                                                 08184000
PSADSSRC EQU   PSADSSF4                                                 08185000
PSARV057 EQU   PSADSSF3                                                 08186000
PSARV056 EQU   PSADSSF3                                                 08187000
PSARV055 EQU   PSADSSF3                                                 08188000
PSADSSMC EQU   PSADSSF3                                                 08189000
PSADSSRW EQU   PSADSSF3                                                 08190000
PSADSSNM EQU   PSADSSF3                                                 08191000
PSADSSES EQU   PSADSSF3                                                 08192000
PSADSSGP EQU   PSADSSF3                                                 08193000
PSADSSF2 EQU   PSADSSFL+1                                               08194000
PSADSSPI EQU   PSADSSF1                                                 08195000
PSADSSOI EQU   PSADSSF1                                                 08196000
PSADSSSP EQU   PSADSSF1                                                 08197000
PSADSSTP EQU   PSADSSF1                                                 08198000
PSADSSDW EQU   PSADSSF1                                                 08199000
PSADSSDD EQU   PSADSSF1                                                 08200000
PSADSSDM EQU   PSADSSF1                                                 08201000
PSADSSMV EQU   PSADSSF1                                                 08202000
PSADSSTS EQU   PSA+816                                                  08203000
PSADSSWK EQU   PSA+812                                                  08204000
PSADSSR3 EQU   PSA+808                                                  08205000
PSADSSR2 EQU   PSA+804                                                  08206000
PSADSSRS EQU   PSA+800                                                  08207000
PSASTOR  EQU   PSA+796                                                  08208000
PSACPUSA EQU   PSA+794                                                  08209000
PSAVSTAP EQU   PSA+792                                                  08210000
PSAWKVAP EQU   PSA+788                                                  08211000
PSAWKRAP EQU   PSA+784                                                  08212000
PSAMCHIC EQU   PSA+783                                                  08213000
PSARV061 EQU   PSA+782                                                  08214000
PSASYMSK EQU   PSA+781                                                  08215000
PSAMCHFL EQU   PSA+780                                                  08216000
PSACR0   EQU   PSA+776                                                  08217000
PSAPSWSV EQU   PSA+768                                                  08218000
PSALITA  EQU   PSA+764                                                  08219000
PSACLHS  EQU   PSAHLHI                                                  08220000
PSALKR15 EQU   PSALKSA+60                                               08221000
PSALKR14 EQU   PSALKSA+56                                               08222000
PSALKR13 EQU   PSALKSA+52                                               08223000
PSALKR12 EQU   PSALKSA+48                                               08224000
PSALKR11 EQU   PSALKSA+44                                               08225000
PSALKR10 EQU   PSALKSA+40                                               08226000
PSALKR9  EQU   PSALKSA+36                                               08227000
PSALKR8  EQU   PSALKSA+32                                               08228000
PSALKR7  EQU   PSALKSA+28                                               08229000
PSALKR6  EQU   PSALKSA+24                                               08230000
PSALKR5  EQU   PSALKSA+20                                               08231000
PSALKR4  EQU   PSALKSA+16                                               08232000
PSALKR3  EQU   PSALKSA+12                                               08233000
PSALKR2  EQU   PSALKSA+8                                                08234000
PSALKR1  EQU   PSALKSA+4                                                08235000
PSALKR0  EQU   PSALKSA                                                  08236000
PSARV023 EQU   PSACLHT+52                                               08237000
PSALOCAL EQU   PSACLHT+48                                               08238000
PSACMSL  EQU   PSACLHT+44                                               08239000
PSAOPTL  EQU   PSACLHT+40                                               08240000
PSATPACL EQU   PSACLHT+36                                               08241000
PSATPDNL EQU   PSACLHT+32                                               08242000
PSATPNCL EQU   PSACLHT+28                                               08243000
PSAIOSLL EQU   PSACLHT+24                                               08244000
PSAIOSUL EQU   PSACLHT+20                                               08245000
PSAIOSCL EQU   PSACLHT+16                                               08246000
PSAIOSSL EQU   PSACLHT+12                                               08247000
PSASALCL EQU   PSACLHT+8                                                08248000
PSAASML  EQU   PSACLHT+4                                                08249000
PSADISPL EQU   PSACLHT                                                  08250000
PSASRSA  EQU   PSA+636                                                  08251000
PSARV050 EQU   PSA+634                                                  08252000
PSADSSGO EQU   PSA+633                                                  08253000
PSARECUR EQU   PSA+632                                                  08254000
PSAHLHIS EQU   PSA+628                                                  08255000
PSAIPCSA EQU   PSA+624                                                  08256000
@NM00032 EQU   PSA+621                                                  08257000
PSAIPCDM EQU   PSA+620                                                  08258000
PSAIPCD  EQU   PSA+616                                                  08259000
@NM00031 EQU   PSA+613                                                  08260000
PSAIPCRM EQU   PSA+612                                                  08261000
PSAIPCR  EQU   PSA+608                                                  08262000
PSAMCHEX EQU   PSA+600                                                  08263000
PSAMPSW  EQU   PSA+592                                                  08264000
PSAEXPS2 EQU   PSA+584                                                  08265000
PSAEXPS1 EQU   PSA+576                                                  08266000
PSAPIREG EQU   PSA+572                                                  08267000
PSARSREG EQU   PSA+568                                                  08268000
PSAGPREG EQU   PSA+556                                                  08269000
PSARV022 EQU   PSASUP4                                                  08270000
PSARV021 EQU   PSASUP4                                                  08271000
PSARV020 EQU   PSASUP4                                                  08272000
PSARV019 EQU   PSASUP4                                                  08273000
PSARV018 EQU   PSASUP4                                                  08274000
PSARV017 EQU   PSASUP4                                                  08275000
PSARV016 EQU   PSASUP4                                                  08276000
PSARV015 EQU   PSASUP4                                                  08277000
PSARV014 EQU   PSASUP3                                                  08278000
PSARV013 EQU   PSASUP3                                                  08279000
PSARV012 EQU   PSASUP3                                                  08280000
PSAESTA  EQU   PSASUP3                                                  08281000
PSASPR   EQU   PSASUP3                                                  08282000
PSAIOSUP EQU   PSASUP3                                                  08283000
PSALCR   EQU   PSASUP2                                                  08284000
PSARTM   EQU   PSASUP2                                                  08285000
PSAACR   EQU   PSASUP2                                                  08286000
PSAIPCE2 EQU   PSASUP2                                                  08287000
PSAIPCES EQU   PSASUP2                                                  08288000
PSAIPCEC EQU   PSASUP2                                                  08289000
PSAGTF   EQU   PSASUP2                                                  08290000
PSAIPCRI EQU   PSASUP2                                                  08291000
PSATYPE6 EQU   PSASUP1                                                  08292000
PSATCTL  EQU   PSASUP1                                                  08293000
PSADISP  EQU   PSASUP1                                                  08294000
PSALOCK  EQU   PSASUP1                                                  08295000
PSAPI    EQU   PSASUP1                                                  08296000
PSAEXT   EQU   PSASUP1                                                  08297000
PSASVC   EQU   PSASUP1                                                  08298000
PSAIO    EQU   PSASUP1                                                  08299000
PSAANEW  EQU   PSA+544                                                  08300000
PSATNEW  EQU   PSA+536                                                  08301000
PSALCCAR EQU   PSA+532                                                  08302000
PSAPCCAR EQU   PSA+524                                                  08303000
PSAPCCAV EQU   PSA+520                                                  08304000
PSACPUPA EQU   PSA+516                                                  08305000
PSAPSA   EQU   PSA+512                                                  08306000
FLCHDEND EQU   PSA+512                                                  08307000
FLCCRSAV EQU   FLCMCLA+280                                              08308000
FLCGRSAV EQU   FLCMCLA+216                                              08309000
FLCFPSAV EQU   FLCMCLA+184                                              08310000
FLCFLA   EQU   FLCMCLA+88                                               08311000
FLCRGNCD EQU   FLCMCLA+84                                               08312000
FLCFSAA  EQU   FLCFSA+1                                                 08313000
@NM00030 EQU   FLCFSA                                                   08314000
@NM00029 EQU   FLCMCLA+72                                               08315000
FLCMCIC  EQU   FLCMCLA+64                                               08316000
@NM00028 EQU   FLCMCLA+20                                               08317000
FLCIOAA  EQU   FLCIOA+1                                                 08318000
@NM00027 EQU   FLCIOA                                                   08319000
@NM00026 EQU   FLCMCLA+15                                               08320000
@NM00025 EQU   FLCMCLA+14                                               08321000
@NM00024 EQU   FLCMCLA+12                                               08322000
FLCLCL   EQU   FLCMCLA+8                                                08323000
FLCIOELA EQU   FLCIOEL+1                                                08324000
@NM00023 EQU   FLCIOEL                                                  08325000
FLCCHNID EQU   FLCMCLA                                                  08326000
@NM00022 EQU   PSA+160                                                  08327000
FLCMTRCD EQU   PSA+157                                                  08328000
@NM00021 EQU   PSA+156                                                  08329000
FLCPERA  EQU   FLCPER+1                                                 08330000
@NM00020 EQU   FLCPER                                                   08331000
@NM00019 EQU   PSA+151                                                  08332000
FLCPERCD EQU   PSA+150                                                  08333000
FLCMCNUM EQU   PSA+149                                                  08334000
@NM00018 EQU   PSA+148                                                  08335000
FLCTEAA  EQU   FLCTEA+1                                                 08336000
@NM00017 EQU   FLCTEA                                                   08337000
PSAPIPC  EQU   PSAPICOD                                                 08338000
PSAPIMC  EQU   PSAPICOD                                                 08339000
PSAPIPER EQU   PSAPICOD                                                 08340000
PSARV049 EQU   FLCPICOD                                                 08341000
FLCPILCB EQU   FLCPIILC                                                 08342000
@NM00016 EQU   FLCPIILC                                                 08343000
@NM00015 EQU   PSAEPPSW                                                 08344000
FLCSVCN  EQU   PSAESPSW+2                                               08345000
FLCSILCB EQU   FLCSVILC                                                 08346000
@NM00014 EQU   FLCSVILC                                                 08347000
@NM00013 EQU   PSAESPSW                                                 08348000
FLCEICOD EQU   PSAEEPSW+2                                               08349000
PSASPAD  EQU   PSAEEPSW                                                 08350000
@NM00012 EQU   PSA+128                                                  08351000
FLCINPSW EQU   PSA+120                                                  08352000
FLCMNPSW EQU   PSA+112                                                  08353000
FLCPNPSW EQU   PSA+104                                                  08354000
FLCSNPSW EQU   PSA+96                                                   08355000
FLCENPSW EQU   PSA+88                                                   08356000
FLCTRACE EQU   PSA+84                                                   08357000
FLCTIMER EQU   PSA+80                                                   08358000
FLCCVT2  EQU   PSA+76                                                   08359000
FLCCAW   EQU   PSA+72                                                   08360000
FLCCSW   EQU   PSA+64                                                   08361000
FLCIOPSW EQU   PSA+56                                                   08362000
FLCMOPSW EQU   PSA+48                                                   08363000
FLCPOPSW EQU   PSA+40                                                   08364000
FLCSOPSW EQU   PSA+32                                                   08365000
FLCEOPSW EQU   PSA+24                                                   08366000
@NM00011 EQU   FLCICCW2+4                                               08367000
FLCICCW1 EQU   FLCROPSW                                                 08368000
FLCIPPSW EQU   FLCRNPSW                                                 08369000
*                                      END UNREFERENCED COMPONENTS      08370000
@RC00112 EQU   @RC00111                                                 08371000
@RF00225 EQU   @RC00220                                                 08372000
@RC00214 EQU   @RC00213                                                 08373000
@RC00416 EQU   @RC00415                                                 08374000
@RC00628 EQU   @RC00618                                                 08375000
@RC00620 EQU   @RC00618                                                 08376000
@RC00685 EQU   @RC00670                                                 08377000
@RC00679 EQU   @RC00670                                                 08378000
@RC00671 EQU   @RC00670                                                 08379000
@RC00606 EQU   @RC00604                                                 08380000
@RC00643 EQU   @RC00604                                                 08381000
@RC00748 EQU   @RC00747                                                 08382000
@RC00760 EQU   @RC00747                                                 08383000
@RC00758 EQU   @RC00747                                                 08384000
@RC00817 EQU   @EL00002                                                 08385000
@RC00215 EQU   @RC00214                                                 08386000
@RC00621 EQU   @RC00620                                                 08387000
@RC00630 EQU   @RC00628                                                 08388000
@RC00672 EQU   @RC00671                                                 08389000
@RC00680 EQU   @RC00679                                                 08390000
@RC00216 EQU   @RC00215                                                 08391000
@RC00244 EQU   @RC00215                                                 08392000
@RC00673 EQU   @RC00672                                                 08393000
@RC00681 EQU   @RC00680                                                 08394000
@ENDDATA EQU   *                                                        08395000
         END   IEAVTRTS,(C'PLS2028',0701,77256)                         08396000
