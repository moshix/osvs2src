         TITLE 'IEDNGD, OUTPUT DATA NIR GENERATOR                      *00001000
                        '                                               00002000
IEDNGD   CSECT ,                                                01S0001 00003000
@PROLOG  DS    0H                                               01S0002 00004000
*                                                         /* @Y17XAIK*/ 00005000
*                                   /*                                  00006000
         USING *,RBASE                 MODULE ADDRESSABILITY            00007000
         DC    AL4(0)                  ELEMENT CHAIN                    00008000
         DC    AL4(0)                  LINK FIELD                       00009000
         DC    XL1'06'                 STCB VTO                         00010000
         DC    AL3(*-1)                POINTER TO STCB VTO              00011000
*   RBASE=IEDQQPTR;                 /* SET MODULE BASE REG           */ 00012000
         LR    RBASE,IEDQQPTR                                   02S0530 00013000
*   GEN REFS(RBASE) NOSETS;                                     02S0531 00014000
*                                                         /* @Y17XAIK*/ 00015000
*                                   /*                                  00016000
IEDNGD   IEDHJN AFTERHJN,HJN            IDENTIFICATION MACRO            00017000
*   RFY                                                         02S0532 00018000
*     IEDQQPTR UNRSTD;              /* RELEASE REGISTER              */ 00019000
*                                                               02S0533 00020000
*   /*****************************************************************/ 00021000
*   /*                                                               */ 00022000
*   /* PROCESS: PROCESS SEGMENT - THIS SEGMENT IS THE TOP LEVEL      */ 00023000
*   /* PROCESS SEGMENT FOR THIS MODULE.                              */ 00024000
*   /*                                                               */ 00025000
*   /*****************************************************************/ 00026000
*                                                               02S0533 00027000
*   IF RPARM->PRFTICON=ON THEN      /* IF BUFFER THEN                */ 00028000
         TM    PRFTICON(RPARM),B'00001000'                      02S0533 00029000
         BNO   @RF00533                                         02S0533 00030000
*                                                               03S0534 00031000
*     /***************************************************************/ 00032000
*     /*                                                             */ 00033000
*     /* PROCESS.BUFFER: BUFFER INPUT SEGMENT.                       */ 00034000
*     /*                                                             */ 00035000
*     /***************************************************************/ 00036000
*                                                               03S0534 00037000
*     DO;                                                       03S0534 00038000
*       RPRF=RPARM;                 /* SET BFR BASE REG              */ 00039000
         LR    RPRF,RPARM                                       03S0535 00040000
*       RLCB=PRFLCB;                /* SET PLCB BASE REG             */ 00041000
         L     RLCB,PRFLCB-1(,RPRF)                             03S0536 00042000
         LA    RLCB,0(,RLCB)                                    03S0536 00043000
*       RPARM=LCBTTCIN;             /* GET TNT INDEX                 */ 00044000
         LH    RPARM,LCBTTCIN(,RLCB)                            03S0537 00045000
         N     RPARM,@CF02391                                   03S0537 00046000
*       CALL IEDQTNT;               /* GET TRM ADDRESS               */ 00047000
         L     @15,AVTRNMPT(,RAVT)                              03S0538 00048000
         BALR  @14,@15                                          03S0538 00049000
*       RTRM=RPARM-LENGTH(IEDNTRM); /* SET TRM BASE REG              */ 00050000
         LR    RTRM,RPARM                                       03S0539 00051000
         SL    RTRM,@CF02037                                    03S0539 00052000
*       IF TRMSNA=ON THEN           /* IF SNA RESOURCE THEN          */ 00053000
         TM    TRMSNA(RTRM),B'00000010'                         03S0540 00054000
         BNO   @RF00540                                         03S0540 00055000
*         DO;                                                   03S0541 00056000
*           IF PRFSRCE=SAVTSCPT THEN/* IF OUTPUT BUFFER FROM SSCP MH    00057000
*                                      THEN                          */ 00058000
         L     @10,AVTSAVTP(,RAVT)                              03S0542 00059000
         LH    @10,SAVTSCPT(,@10)                               03S0542 00060000
         N     @10,@CF02391                                     03S0542 00061000
         CH    @10,PRFSRCE(,RPRF)                               03S0542 00062000
         BNE   @RF00542                                         03S0542 00063000
*                                                               04S0543 00064000
*             /*******************************************************/ 00065000
*             /*                                                     */ 00066000
*             /* PROCESS.BUFFER.SNASSCP: SNA SSCP SEGMENT - THIS     */ 00067000
*             /* SEGMENT PROCESSES OUTPUT FROM SSCP.                 */ 00068000
*             /*                                                     */ 00069000
*             /*******************************************************/ 00070000
*                                                               04S0543 00071000
*             DO;                                               04S0543 00072000
*               LCBBFRSV=RPRF;      /* SET BFR FIRST IN SAVE CHAIN   */ 00073000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0544 00074000
*               PRFLINK=CHAINEND;   /* SET BFR AS END OF CHAIN       */ 00075000
         SLR   @10,@10                                          04S0545 00076000
         STCM  @10,7,PRFLINK(RPRF)                              04S0545 00077000
*               PRFLCB=0;           /* CLEAR PRFLCB FOR IEDXFMO 04S0546 00078000
*                                                            @YM03748*/ 00079000
         STCM  @10,7,PRFLCB(RPRF)                               04S0546 00080000
*               PRFISIZE=LCBISZE;   /* SET RESERVE COUNT             */ 00081000
         IC    @10,LCBISZE(,RLCB)                               04S0547 00082000
         STC   @10,PRFISIZE(,RPRF)                              04S0547 00083000
*               CALL IPXFMO;        /* POST BFR TO IEDXFMO           */ 00084000
         BAL   @14,IPXFMO                                       04S0548 00085000
*             END;                                              04S0549 00086000
*           ELSE                                                03S0550 00087000
*             IF PRFPRI=PRIRESUM THEN/* IF RESUME BUFFER THEN IT IS     00088000
*                                      THE RESPONSE TO BID FROM 03S0550 00089000
*                                      IEDRSPIN TO RESUME LU REQUEST    00090000
*                                      PROCESSING                    */ 00091000
         B     @RC00542                                         03S0550 00092000
@RF00542 CLI   PRFPRI(RPRF),X'E5'                               03S0550 00093000
         BNE   @RF00550                                         03S0550 00094000
*                                                               04S0551 00095000
*               /*****************************************************/ 00096000
*               /*                                                   */ 00097000
*               /* PROCESS.BUFFER.SNALURSM: SNA LU RESUME SEGMENT -  */ 00098000
*               /* THIS SEGMENT PROCESSES THE RESPONSE TO BID FROM   */ 00099000
*               /* IEDRSPIN AND RESUMES THE OUTPUT OPERATION         */ 00100000
*               /* ACCORDINGLY.                                      */ 00101000
*               /*                                                   */ 00102000
*               /*****************************************************/ 00103000
*                                                               04S0551 00104000
*               DO;                                             04S0551 00105000
*                 SVDBUFAD=RPRF;    /* SAVE BUFFER ADDRESS FOR LATER    00106000
*                                      FREEING               @Y17XAIK*/ 00107000
         LR    SVDBUFAD,RPRF                                    04S0552 00108000
*                 IF SCBSLCTN=OFF   /* IF WE GOT A GOOD RESPONSE TO     00109000
*                                      BID                   @Y17XAIK*/ 00110000
*                   THEN                                        04S0553 00111000
         L     @10,LCBSCBA-1(,RLCB)                             04S0553 00112000
         TM    SCBSLCTN(@10),B'10000000'                        04S0553 00113000
         BNZ   @RF00553                                         04S0553 00114000
*                   DO;             /* POST OUR MESSAGE ON TO IEDXFMO   00115000
*                                                            @Y17XAIK*/ 00116000
*                     CALL IPSNRHST;/* SET RH FLAGS IN THE MESSAGE      00117000
*                                      BUFFERS               @Y17XAIK*/ 00118000
         BAL   @14,IPSNRHST                                     04S0555 00119000
*                     CALL IPXFMO;  /* POST THE BUFFER(S) TO IEDXFMO    00120000
*                                                            @Y17XAIK*/ 00121000
         BAL   @14,IPXFMO                                       04S0556 00122000
*                     LCBBFRSV=SVDBUFAD;/* MOVE THE SAVED BUFFER        00123000
*                                      ADDRESS               @Y17XAIK*/ 00124000
         STCM  SVDBUFAD,7,LCBBFRSV(RLCB)                        04S0557 00125000
*                     SVDBUFAD->PRFLINK=CHAINEND;/* MAKE LAST BUFFER    00126000
*                                      ON CHAIN              @Y17XAIK*/ 00127000
         SLR   @10,@10                                          04S0558 00128000
         STCM  @10,7,PRFLINK(SVDBUFAD)                          04S0558 00129000
*                     IF LGBOPACE=0&LGBPCINO=OFF&LCBEOMSG=OFF/* IF WE   00130000
*                                      ARE NOT PACING THIS SNA FLOW     00131000
*                                      AND PCI=(,A) AND THERE ARE       00132000
*                                      MORE BUFFERS ON THE QUEUE FOR    00133000
*                                      THIS MESSAGE          @YM06454*/ 00134000
*                       THEN                                    04S0559 00135000
         L     @10,LCBDCBPT(,RLCB)                              04S0559 00136000
         CLI   LGBOPACE(@10),0                                  04S0559 00137000
         BNE   @RF00559                                         04S0559 00138000
         TM    LGBPCINO(@10),B'00000100'                        04S0559 00139000
         BNZ   @RF00559                                         04S0559 00140000
         TM    LCBEOMSG(RLCB),B'01000000'                       04S0559 00141000
         BNZ   @RF00559                                         04S0559 00142000
*                       CALL IPQFAPST;/* ..THEN POST IEDQFA TO GET      00143000
*                                      ADDITIONAL            @Y17XAIK   00144000
*                                      BUFFERS IN THE MESSAGE   04S0560 00145000
*                                                            @Y17XAIK*/ 00146000
         BAL   @14,IPQFAPST                                     04S0560 00147000
*                     ELSE                                      04S0561 00148000
*                       ;           /*                       @Y17XAIK*/ 00149000
@RF00559 DS    0H                                               04S0562 00150000
*                   END;            /*                       @Y17XAIK*/ 00151000
*                 ELSE                                          04S0563 00152000
*                   DO;             /* ..ELSE WE GOT A BAD RESPONSE     00153000
*                                      TO BID-FREE UP THE    @Y17XAIK   00154000
*                                      BUFFERS WE HAVE SAVED AWAITING   00155000
*                                      BID RESPONSE          @Y17XAIK*/ 00156000
         B     @RC00553                                         04S0563 00157000
@RF00553 DS    0H                                               04S0564 00158000
*                     RPRF=LCBBFRSV;/* SETUP BUFFER ADDRESSABILITY      00159000
*                                                            @Y17XAIK*/ 00160000
         L     RPRF,LCBBFRSV-1(,RLCB)                           04S0564 00161000
         LA    RPRF,0(,RPRF)                                    04S0564 00162000
*                     IEDPF1=SVDBUFAD->IEDPF1;/* MOVE BUFFER PREFIX     00163000
*                                      FROM BID RSP          @Y17XAIK   00164000
*                                      TO MESSAGE BUFFER     @Y17XAIK*/ 00165000
         LR    @10,RPRF                                         04S0565 00166000
         SL    @10,@CF00044                                     04S0565 00167000
         MVC   IEDPF1(8,@10),IEDPF1(SVDBUFAD)                   04S0565 00168000
*                     PRF1FORM=PRF1SQLI;/* SET FLAG SO THAT     04S0566 00169000
*                                      INTERROGATORS WILL    @Y17XAIK   00170000
*                                      KNOW THAT THE RU LENGTH IS IN    00171000
*                                      THE BUFFER PREFIX     @Y17XAIK*/ 00172000
         OI    PRF1FORM(@10),B'00110000'                        04S0566 00173000
*                     PRF1RULN=LENGTH(NEGRSPRU);/* SETUP RU LENGTH      00174000
*                                      FOR MH USE            @Y17XAIK*/ 00175000
         MVC   PRF1RULN(2,@10),@CH00152                         04S0567 00176000
*                     EVAL(RPRF+LENGTH(IEDQPRF)+PRFISIZE)->NEGRSPRU=    00177000
*                                   /*                       @Y17XAIK*/ 00178000
*                         EVAL(SVDBUFAD+LENGTH(IEDQPRF)+(SVDBUFAD->     00179000
*                         PRFISIZE))/*                       @Y17XAIK*/ 00180000
*                         ->NEGRSPRU;/* MOVE BID RESPONSE RU TO 04S0568 00181000
*                                      MESSAGE BUFFER        @Y17XAIK*/ 00182000
         LA    @10,42                                           04S0568 00183000
         LR    @09,RPRF                                         04S0568 00184000
         ALR   @09,@10                                          04S0568 00185000
         SLR   @07,@07                                          04S0568 00186000
         IC    @07,PRFISIZE(,RPRF)                              04S0568 00187000
         ALR   @09,@07                                          04S0568 00188000
         ALR   @10,SVDBUFAD                                     04S0568 00189000
         SLR   @07,@07                                          04S0568 00190000
         IC    @07,PRFISIZE(,SVDBUFAD)                          04S0568 00191000
         ALR   @10,@07                                          04S0568 00192000
         MVC   NEGRSPRU(5,@09),NEGRSPRU(@10)                    04S0568 00193000
*                     CALL IPERRBFR;/* POST ERROR BUFFER TO THE MH      00194000
*                                                            @Y17XAIK*/ 00195000
         BAL   @14,IPERRBFR                                     04S0569 00196000
*                     SVDBUFAD->PRFLINK=LCBBFRSV;/* SET BID RSP 04S0570 00197000
*                                      BUFFER POINTING TO    @Y17XAIK   00198000
*                                      REMAINING MESSAGE BUFFERS        00199000
*                                                            @Y17XAIK*/ 00200000
         MVC   PRFLINK(3,SVDBUFAD),LCBBFRSV(RLCB)               04S0570 00201000
*                     LCBBFRSV=SVDBUFAD;/* PLACE BID RSP BUFFER AT      00202000
*                                      HEAD OF BUFFER        @Y17XAIK   00203000
*                                      CHAIN                 @Y17XAIK*/ 00204000
         STCM  SVDBUFAD,7,LCBBFRSV(RLCB)                        04S0571 00205000
*                   END;            /*                       @Y17XAIK*/ 00206000
*                 CALL IPFREBFR;    /* FREE REMAINING BUFFERS   04S0573 00207000
*                                                            @Y17XAIK*/ 00208000
@RC00553 BAL   @14,IPFREBFR                                     04S0573 00209000
*               END;                                            04S0574 00210000
*             ELSE                  /* IT IS A REQUEST BUFFER   03S0575 00211000
*                                      OUTBOUND FOR AN LU            */ 00212000
*                                                               04S0575 00213000
*               /*****************************************************/ 00214000
*               /*                                                   */ 00215000
*               /* PROCESS.BUFFER.SNALURQ: SNA LU REQUEST SEGMENT -  */ 00216000
*               /* THIS SEGMENT PROCESSES OUTBOUND LU-LU REQUEST     */ 00217000
*               /* BUFFERS FROM IEDQA4 AFTER THEY HAVE EXECUTED THE  */ 00218000
*               /* OUTPUT MH.                                        */ 00219000
*               /*                                                   */ 00220000
*               /*****************************************************/ 00221000
*                                                               04S0575 00222000
*               DO;                                             04S0575 00223000
         B     @RC00550                                         04S0575 00224000
@RF00550 DS    0H                                               04S0576 00225000
*                 RFY                                           04S0576 00226000
*                  (RUNITNUM,                                   04S0576 00227000
*                   RBFRNUM) RSTD;  /*                       @Y17XAIK*/ 00228000
*                 RFY                                           04S0577 00229000
*                   IEDRH BASED(ADDR(PRF1RH));/*             @Y17XAIK*/ 00230000
*                 PRFISIZE=LCBISZE; /* NUMBER OF RESERVES    @YM05981*/ 00231000
         IC    @10,LCBISZE(,RLCB)                               04S0578 00232000
         STC   @10,PRFISIZE(,RPRF)                              04S0578 00233000
*                 IF PRFNHDRN=OFF   /* IF THE BUFFER WE WERE INVOKED    00234000
*                                      WITH IS A             @Y17XAIK   00235000
*                                      HEADER BUFFER         @Y17XAIK*/ 00236000
*                   THEN                                        04S0579 00237000
         TM    PRFNHDRN(RPRF),B'00000001'                       04S0579 00238000
         BNZ   @RF00579                                         04S0579 00239000
*                   DO;             /* ..THEN DO NEW MESSAGE    04S0580 00240000
*                                      PROCESSING            @Y17XAIK*/ 00241000
*                     LCBBFRSV=RPRF;/* MOVE BUFFER ADDRESS TO SAVE      00242000
*                                      CHAIN                 @Y17XAIK*/ 00243000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0581 00244000
*                     PRFLINK=CHAINEND;/* MAKE LAST BUFFER ON THE       00245000
*                                      CHAIN                 @Y17XAIK*/ 00246000
         SLR   @10,@10                                          04S0582 00247000
         STCM  @10,7,PRFLINK(RPRF)                              04S0582 00248000
*                     IF PRFCNCLN=ON/* IF THE MESSAGE WAS CANCELLED     00249000
*                                      IN THE MH BY          @Y17XAIK   00250000
*                                      EXECUTION OF CANCELMSG IN        00251000
*                                      OUTHDR                @Y17XAIK*/ 00252000
*                       THEN                                    04S0583 00253000
         TM    PRFCNCLN(RPRF),B'10000000'                       04S0583 00254000
         BNO   @RF00583                                         04S0583 00255000
*                       DO;         /* ..THEN POST THE BUFFER TO THE    00256000
*                                      MH AS AN ERROR        @Y17XAIK   00257000
*                                      BUFFER                @Y17XAIK*/ 00258000
*                         SCBSLCTN=ON;/* SET SELECTION ERROR @Y17XAIK*/ 00259000
*                         SCBTRMLN=ON;/* SET TERMINAL ERROR  @Y17XAIK*/ 00260000
         L     @10,LCBSCBA-1(,RLCB)                             04S0586 00261000
         OI    SCBSLCTN(@10),B'10010000'                        04S0586 00262000
*                         IEDPF1=''B;/* ZERO BUFFER PREFIX   @Y17XAIK*/ 00263000
         LR    @10,RPRF                                         04S0587 00264000
         AL    @10,@CF02393                                     04S0587 00265000
         XC    IEDPF1(8,@10),IEDPF1(@10)                        04S0587 00266000
*                         CALL IPERRBFR;/* POST THE BUFFER TO THE MH    00267000
*                                      AS AN ERROR           @Y17XAIK   00268000
*                                      BUFFER                @Y17XAIK*/ 00269000
         BAL   @14,IPERRBFR                                     04S0588 00270000
*                       END;        /*                       @Y17XAIK*/ 00271000
*                     ELSE                                      04S0590 00272000
*                       DO;         /* ..ELSE THE MESSAGE WAS NOT       00273000
*                                      CANCELLED--CONTINUE   @Y17XAIK   00274000
*                                      PROCESSING THE HEADER BUFFER     00275000
*                                                            @Y17XAIK*/ 00276000
         B     @RC00583                                         04S0590 00277000
@RF00583 DS    0H                                               04S0591 00278000
*                         RBFRNUM=0;/* INITIALIZE TO NO BUFFERS 04S0591 00279000
*                                      REQUESTED             @Y17XAIK*/ 00280000
         SLR   RBFRNUM,RBFRNUM                                  04S0591 00281000
*                         RUNITNUM=1;/* INITIALIZE TO ONE UNIT PER      00282000
*                                      BUFFER REQUESTED      @Y17XAIK*/ 00283000
         LA    RUNITNUM,1                                       04S0592 00284000
*                         IF LCBRTRRO=ON&(TRHBB=ON|LCBMHBID=ON)/* IF    00285000
*                                      A RESPONSE            @Y17XAIK   00286000
*                                      IS OWED TO RTR AND WE CAN SEND   00287000
*                                      IT(THE USER HAS SET BEGIN        00288000
*                                                            @Y17XAIK   00289000
*                                      BRACKET IN THE RH OR ELSE HAS    00290000
*                                      REQUESTED BID)        @Y17XAIK*/ 00291000
*                           THEN                                04S0593 00292000
         TM    LCBRTRRO(RLCB),B'00000100'                       04S0593 00293000
         BNO   @RF00593                                         04S0593 00294000
         LR    @10,RPRF                                         04S0593 00295000
         AL    @10,@CF02394                                     04S0593 00296000
         TM    TRHBB-2(@10),B'10000000'                         04S0593 00297000
         BO    @RT00593                                         04S0593 00298000
         TM    LCBMHBID(RLCB),B'00000010'                       04S0593 00299000
         BNO   @RF00593                                         04S0593 00300000
@RT00593 DS    0H                                               04S0594 00301000
*                           RBFRNUM=RBFRNUM+1;/* ..THEN INCREMENT THE   00302000
*                                      NUMBER OF             @Y17XAIK   00303000
*                                      BUFFERS TO REQUEST    @Y17XAIK*/ 00304000
         AL    RBFRNUM,@CF00059                                 04S0594 00305000
*                         ELSE                                  04S0595 00306000
*                           ;       /*                       @Y17XAIK*/ 00307000
@RF00593 DS    0H                                               04S0596 00308000
*                         IF LCBMHBID=ON/* IF THE USER HAS REQUESTED    00309000
*                                      A BID                 @Y17XAIK*/ 00310000
*                           THEN                                04S0596 00311000
         TM    LCBMHBID(RLCB),B'00000010'                       04S0596 00312000
         BNO   @RF00596                                         04S0596 00313000
*                           RBFRNUM=RBFRNUM+1;/* ..THEN INCREMENT THE   00314000
*                                      NUMBER OF             @Y17XAIK   00315000
*                                      BUFFERS TO REQUEST    @Y17XAIK*/ 00316000
         AL    RBFRNUM,@CF00059                                 04S0597 00317000
*                         ELSE                                  04S0598 00318000
*                           ;       /*                       @Y17XAIK*/ 00319000
@RF00596 DS    0H                                               04S0599 00320000
*                         IF RBFRNUM>0/* IF WE SHOULD SEND RTR AND/OR   00321000
*                                      BID                   @Y17XAIK*/ 00322000
*                           THEN                                04S0599 00323000
         CL    RBFRNUM,@CF00607                                 04S0599 00324000
         BNH   @RF00599                                         04S0599 00325000
*                           CALL IPSNBRBP;/* ..THEN INVOKE THE  04S0600 00326000
*                                      PROCEDURE WHICH       @Y17XAIK   00327000
*                                      WILL ATTEMPT TO DO SO @Y17XAIK*/ 00328000
         BAL   @14,IPSNBRBP                                     04S0600 00329000
*                         ELSE                                  04S0601 00330000
*                           DO;     /* ..ELSE POST THE HEADER BUFFER    00331000
*                                      TO OUTBOUND DFC       @Y17XAIK*/ 00332000
         B     @RC00599                                         04S0601 00333000
@RF00599 DS    0H                                               04S0602 00334000
*                             CALL IPSNRHST;/* SET APPROPRIATE BITS     00335000
*                                      IN THE RH             @Y17XAIK*/ 00336000
         BAL   @14,IPSNRHST                                     04S0602 00337000
*                             CALL IPXFMO;/* POST THE HEADER TO 04S0603 00338000
*                                      IEDXFMO               @Y17XAIK*/ 00339000
         BAL   @14,IPXFMO                                       04S0603 00340000
*                             IF LGBOPACE=0&LGBPCINO=OFF&LCBEOMSG=OFF&  00341000
*                                 LCBRTRRO=OFF/* IF WE ARE NOT PACING   00342000
*                                      THIS SNA FLOW AND PCI=(,A) AND   00343000
*                                      WE HAVE NOT DEQUEUED THE LAST    00344000
*                                      BUFFER IN THE MESSAGE AND A      00345000
*                                      RESPONSE WAS NOT OWED TO RTR     00346000
*                                                            @YM06454*/ 00347000
*                               THEN                            04S0604 00348000
         L     @10,LCBDCBPT(,RLCB)                              04S0604 00349000
         CLI   LGBOPACE(@10),0                                  04S0604 00350000
         BNE   @RF00604                                         04S0604 00351000
         TM    LGBPCINO(@10),B'00000100'                        04S0604 00352000
         BNZ   @RF00604                                         04S0604 00353000
         TM    LCBEOMSG(RLCB),B'01000000'                       04S0604 00354000
         BNZ   @RF00604                                         04S0604 00355000
         TM    LCBRTRRO(RLCB),B'00000100'                       04S0604 00356000
         BNZ   @RF00604                                         04S0604 00357000
*                               CALL IPQFAPST;/* ..THEN POST IEDQFA     00358000
*                                      TO GET MORE BUFFERS   @Y17XAIK   00359000
*                                      OF THE MESSAGE        @Y17XAIK*/ 00360000
         BAL   @14,IPQFAPST                                     04S0605 00361000
*                             ELSE                              04S0606 00362000
*                               ;   /*                       @Y17XAIK*/ 00363000
@RF00604 DS    0H                                               04S0607 00364000
*                           END;    /*                       @Y17XAIK*/ 00365000
*                       END;        /*                       @Y17XAIK*/ 00366000
*                   END;            /*                       @Y17XAIK*/ 00367000
*                                                               04S0610 00368000
*                 /***************************************************/ 00369000
*                 /*                                                 */ 00370000
*                 /* THIS IS A CONTINUATION OF SEGMENT               */ 00371000
*                 /* PROCESS.BUFFER.SNALURQ. THIS PORTION OF THE     */ 00372000
*                 /* SEGMENT PROCESSES TEXT BUFFERS.         @Y17XAIK*/ 00373000
*                 /*                                                 */ 00374000
*                 /***************************************************/ 00375000
*                                                               04S0610 00376000
*                 ELSE                                          04S0610 00377000
*                   DO;             /* ..ELSE PROCESS A TEXT BUFFER     00378000
*                                                            @Y17XAIK*/ 00379000
         B     @RC00579                                         04S0610 00380000
@RF00579 DS    0H                                               04S0611 00381000
*                     IF SCBTRMLN=ON/* IF THE MESSAGE HAS BEEN  04S0611 00382000
*                                      CANCELLED DUE TO      @Y17XAIK   00383000
*                                      BID REJECT OR USER PURGE OR      00384000
*                                      USER CANCELLATION     @Y17XAIK*/ 00385000
*                       THEN                                    04S0611 00386000
         L     @10,LCBSCBA-1(,RLCB)                             04S0611 00387000
         TM    SCBTRMLN(@10),B'00010000'                        04S0611 00388000
         BNO   @RF00611                                         04S0611 00389000
*                       DO;         /* ..THEN FREE THE BUFFER   04S0612 00390000
*                                                            @Y17XAIK*/ 00391000
*                         LCBBFRSV=RPRF;/* MOVE THE BUFFER ADDRESS TO   00392000
*                                      THE SAVE CHAIN        @Y17XAIK*/ 00393000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0613 00394000
*                         PRFLINK=CHAINEND;/* MAKE LAST BUFFER ON THE   00395000
*                                      CHAIN                 @Y17XAIK*/ 00396000
         SLR   @10,@10                                          04S0614 00397000
         STCM  @10,7,PRFLINK(RPRF)                              04S0614 00398000
*                         CALL IPFREBFR;/* FREE THE BUFFER   @Y17XAIK*/ 00399000
         BAL   @14,IPFREBFR                                     04S0615 00400000
*                       END;        /*                       @Y17XAIK*/ 00401000
*                     ELSE                                      04S0617 00402000
*                       DO;         /* ..ELSE PROCESS THE STILL GOOD    00403000
*                                      TEXT BUFFER           @Y17XAIK*/ 00404000
         B     @RC00611                                         04S0617 00405000
@RF00611 DS    0H                                               04S0618 00406000
*                         IF LCBBFRSV=CHAINEND/* IF THE BUFFER SAVE     00407000
*                                      CHAIN IS EMPTY        @Y17XAIK*/ 00408000
*                           THEN                                04S0618 00409000
         L     @10,LCBBFRSV-1(,RLCB)                            04S0618 00410000
         LA    @10,0(,@10)                                      04S0618 00411000
         LTR   @10,@10                                          04S0618 00412000
         BNZ   @RF00618                                         04S0618 00413000
*                           DO;     /* ..THEN WE CAN POST THE BUFFER    00414000
*                                      TO IEDXFMO            @Y17XAIK*/ 00415000
*                             LCBBFRSV=RPRF;/* MOVE THE BUFFER TO THE   00416000
*                                      SAVE CHAIN            @Y17XAIK*/ 00417000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0620 00418000
*                             PRFLINK=CHAINEND;/* MAKE LAST BUFFER ON   00419000
*                                      THE CHAIN             @Y17XAIK*/ 00420000
         SLR   @10,@10                                          04S0621 00421000
         STCM  @10,7,PRFLINK(RPRF)                              04S0621 00422000
*                             CALL IPSNRHST;/* SET APPROPRIATE BITS     00423000
*                                      IN THE RH             @Y17XAIK*/ 00424000
         BAL   @14,IPSNRHST                                     04S0622 00425000
*                             CALL IPXFMO;/* POST THE BUFFER TO 04S0623 00426000
*                                      IEDXFMO               @Y17XAIK*/ 00427000
         BAL   @14,IPXFMO                                       04S0623 00428000
*                           END;    /*                       @Y17XAIK*/ 00429000
*                         ELSE                                  04S0625 00430000
*                           CALL IPCHNBFR;/* ..ELSE ADD THE BUFFER TO   00431000
*                                      THE SAVED             @Y17XAIK   00432000
*                                      CHAIN OF BUFFERS      @Y17XAIK*/ 00433000
         B     @RC00618                                         04S0625 00434000
@RF00618 BAL   @14,IPCHNBFR                                     04S0625 00435000
*                       END;        /*                       @Y17XAIK*/ 00436000
@RC00618 DS    0H                                               04S0627 00437000
*                   END;            /*                       @Y17XAIK*/ 00438000
@RC00611 DS    0H                                               04S0628 00439000
*                 RFY                                           04S0628 00440000
*                  (RUNITNUM,                                   04S0628 00441000
*                   RBFRNUM) UNRSTD;/*                       @Y17XAIK*/ 00442000
@RC00579 DS    0H                                               04S0629 00443000
*                 RFY                                           04S0629 00444000
*                   IEDRH BASED;    /*                       @Y17XAIK*/ 00445000
*               END;                                            04S0630 00446000
*         END;                                                  03S0631 00447000
*       ELSE                        /* IT IS A BUFFER OUTBOUND TO A     00448000
*                                      BSC/SS TERMINAL               */ 00449000
*                                                               04S0632 00450000
*         /***********************************************************/ 00451000
*         /*                                                         */ 00452000
*         /* PROCESS.BUFFER.BSWRITE: BISYNC/START STOP WRITE SEGMENT */ 00453000
*         /* - THIS SEGMENT PROCESSES OUTPUT DATA BUFFERS FROM IEDQA4*/ 00454000
*         /* FOR BISYNC/START STOP DEVICES AFTER THEY HAVE EXECUTED  */ 00455000
*         /* THE OUTPUT MH.                                          */ 00456000
*         /*                                                         */ 00457000
*         /***********************************************************/ 00458000
*                                                               04S0632 00459000
*         DO;                                                   04S0632 00460000
         B     @RC00540                                         04S0632 00461000
@RF00540 DS    0H                                               04S0633 00462000
*           RFY                                                 04S0633 00463000
*            (RUNITNUM,                                         04S0633 00464000
*             RBFRNUM,                                          04S0633 00465000
*             RRETCODE) RSTD;                                   04S0633 00466000
*           PRFISIZE=LCBISZE;       /* NUMBER OF RESERVES    @YM05981*/ 00467000
         IC    @14,LCBISZE(,RLCB)                               04S0634 00468000
         STC   @14,PRFISIZE(,RPRF)                              04S0634 00469000
*           IF PRFNHDRN=OFF THEN    /* IF HEADER BFR THEN            */ 00470000
         TM    PRFNHDRN(RPRF),B'00000001'                       04S0635 00471000
         BNZ   @RF00635                                         04S0635 00472000
*             DO;                                               04S0636 00473000
*               LCBBFRSV=RPRF;      /* CHAIN BFR ON SAVE CHAIN       */ 00474000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0637 00475000
*               PRFLINK=CHAINEND;   /* CLEAR LINK                    */ 00476000
         SLR   @14,@14                                          04S0638 00477000
         STCM  @14,7,PRFLINK(RPRF)                              04S0638 00478000
*               IF PRFCNCLN=ON      /* IF THE MESSAGE WAS CANCELLED     00479000
*                                      IN OUTHDR             @Y17XAIK*/ 00480000
*                 THEN                                          04S0639 00481000
         TM    PRFCNCLN(RPRF),B'10000000'                       04S0639 00482000
         BNO   @RF00639                                         04S0639 00483000
*                 DO;               /* ..THEN POST THE HEADER TO THE    00484000
*                                      MH AS AN ERROR        @Y17XAIK   00485000
*                                      BUFFER                @Y17XAIK*/ 00486000
*                   SCBSLCTN=ON;    /* SET SELECTION ERROR   @Y17XAIK*/ 00487000
*                   SCBTRMLN=ON;    /* SET TERMINAL ERROR    @Y17XAIK*/ 00488000
         L     @14,LCBSCBA-1(,RLCB)                             04S0642 00489000
         OI    SCBSLCTN(@14),B'10010000'                        04S0642 00490000
*                   IEDPF1=''B;     /* ZERO THE BUFFER PREFIX   04S0643 00491000
*                                                            @Y17XAIK*/ 00492000
         LR    @14,RPRF                                         04S0643 00493000
         AL    @14,@CF02393                                     04S0643 00494000
         XC    IEDPF1(8,@14),IEDPF1(@14)                        04S0643 00495000
*                   CALL IPERRBFR;  /* POST THE BUFFER TO THE MH        00496000
*                                                            @Y17XAIK*/ 00497000
         BAL   @14,IPERRBFR                                     04S0644 00498000
*                 END;              /*                       @Y17XAIK*/ 00499000
*               ELSE                                            04S0646 00500000
*                 DO;               /* ..ELSE PROCESS THE GOOD HEADER   00501000
*                                      BUFFER                @Y17XAIK*/ 00502000
         B     @RC00639                                         04S0646 00503000
@RF00639 DS    0H                                               04S0647 00504000
*                   SWITCH=SEND;    /* INIT SEND SWITCH              */ 00505000
         MVI   SWITCH,X'00'                                     04S0647 00506000
*                   IF TRMCMODE=ON THEN/* IF CHANGE MODE REQUESTED   */ 00507000
         TM    TRMCMODE(RTRM),B'01000000'                       04S0648 00508000
         BNO   @RF00648                                         04S0648 00509000
*                     DO;                                       04S0649 00510000
*                       RBFRNUM=1;  /* REQUEST ONE BFR               */ 00511000
         LA    @14,1                                            04S0650 00512000
         LR    RBFRNUM,@14                                      04S0650 00513000
*                       RUNITNUM=1; /* REQUEST ONE UNIT PER BFR      */ 00514000
         LR    RUNITNUM,@14                                     04S0651 00515000
*                       CALL IEDQGA02;/* ATTEMPT TO STEAL BFR        */ 00516000
         L     @15,AVTSTEAL(,RAVT)                              04S0652 00517000
         BALR  @14,@15                                          04S0652 00518000
*                       IF RRETCODE^=0 THEN/* IF BFR OBTAINED        */ 00519000
         LTR   RRETCODE,RRETCODE                                04S0653 00520000
         BZ    @RF00653                                         04S0653 00521000
*                         DO;                                   04S0654 00522000
*                           RPRF=RRETCODE;/* SET BFR BASE REG        */ 00523000
         LR    RPRF,RRETCODE                                    04S0655 00524000
*                           CALL IPBSMODE;/* ISSUE SET DEST. MODE    */ 00525000
         BAL   @14,IPBSMODE                                     04S0656 00526000
*                         END;                                  04S0657 00527000
*                       ELSE        /* BFR NOT OBTAINED              */ 00528000
*                         DO;                                   04S0658 00529000
         B     @RC00653                                         04S0658 00530000
@RF00653 DS    0H                                               04S0659 00531000
*                           CALL IPREQBFR;/* REQUEST BFR FROM IEDQGA */ 00532000
         BAL   @14,IPREQBFR                                     04S0659 00533000
*                           SWITCH=NOSEND;/* STOP SEND PROCESS       */ 00534000
         MVI   SWITCH,X'01'                                     04S0660 00535000
*                         END;                                  04S0661 00536000
*                     END;                                      04S0662 00537000
@RC00653 DS    0H                                               04S0663 00538000
*                   IF SWITCH=SEND THEN/* IF SEND PROCESS CAN   04S0663 00539000
*                                      CONTINUE                      */ 00540000
@RF00648 CLI   SWITCH,X'00'                                     04S0663 00541000
         BNE   @RF00663                                         04S0663 00542000
*                     DO;                                       04S0664 00543000
*                       IF TRMDIAL=ON THEN/* IF DIAL TRM THEN        */ 00544000
         TM    TRMDIAL(RTRM),B'00001000'                        04S0665 00545000
         BNO   @RF00665                                         04S0665 00546000
*                         CALL IPBSBDUD;/* BUILD BDU FOR DIAL WRITE  */ 00547000
         BAL   @14,IPBSBDUD                                     04S0666 00548000
*                       ELSE        /* TRM IS LEASED                 */ 00549000
*                         CALL IPBSBDUL;/* BUILD BDU FOR LEASED WRITE*/ 00550000
         B     @RC00665                                         04S0667 00551000
@RF00665 BAL   @14,IPBSBDUL                                     04S0667 00552000
*                       CALL IPXFMO;/* TPOST BFR TO IEDXFMO          */ 00553000
@RC00665 BAL   @14,IPXFMO                                       04S0668 00554000
*                       IF LGBPCINO=OFF&LCBEOMSG=OFF/* IF PCI=(,A)      00555000
*                                      AND THE LAST BUFFER IN THE       00556000
*                                      MESSAGE HAS NOT BEEN DEQUEUED    00557000
*                                                            @YM06454*/ 00558000
*                         THEN                                  04S0669 00559000
         L     @14,LCBDCBPT(,RLCB)                              04S0669 00560000
         TM    LGBPCINO(@14),B'00000100'                        04S0669 00561000
         BNZ   @RF00669                                         04S0669 00562000
         TM    LCBEOMSG(RLCB),B'01000000'                       04S0669 00563000
         BNZ   @RF00669                                         04S0669 00564000
*                         CALL IPQFAPST;/* ..THEN REQUEST ADDITIONAL    00565000
*                                      BUFFERS IN            @Y17XAIK   00566000
*                                      THE MESSAGE FROM IEDQFA  04S0670 00567000
*                                                            @Y17XAIK*/ 00568000
         BAL   @14,IPQFAPST                                     04S0670 00569000
*                       ELSE                                    04S0671 00570000
*                         ;         /*                       @Y17XAIK*/ 00571000
@RF00669 DS    0H                                               04S0672 00572000
*                     END;                                      04S0672 00573000
*                 END;              /*                       @Y17XAIK*/ 00574000
*             END;                                              04S0674 00575000
*                                                               04S0675 00576000
*           /*********************************************************/ 00577000
*           /*                                                       */ 00578000
*           /* THIS PAGE IS A CONTINUATION OF BSWRITE. IT CONTAINS   */ 00579000
*           /* THE PROCESSING FOR TEXT BUFFERS.                      */ 00580000
*           /*                                                       */ 00581000
*           /*********************************************************/ 00582000
*                                                               04S0675 00583000
*           ELSE                    /* IT IS A TEXT BFR              */ 00584000
*             DO;                                               04S0675 00585000
         B     @RC00635                                         04S0675 00586000
@RF00635 DS    0H                                               04S0676 00587000
*               IF SCBTRMLN=ON      /* IF MESSAGE HAS BEEN CANCELLED    00588000
*                                      BECAUSE               @Y17XAIK   00589000
*                                      THE USER PURGED IT OR    04S0676 00590000
*                                      CANCELLED IT IN OUTHDR   04S0676 00591000
*                                                            @Y17XAIK*/ 00592000
*                 THEN                                          04S0676 00593000
         L     @14,LCBSCBA-1(,RLCB)                             04S0676 00594000
         TM    SCBTRMLN(@14),B'00010000'                        04S0676 00595000
         BNO   @RF00676                                         04S0676 00596000
*                 DO;               /* ..THEN FREE THE BUFFER   04S0677 00597000
*                                                            @Y17XAIK*/ 00598000
*                   LCBBFRSV=RPRF;  /* MOVE THE BUFFER ADDRESS  04S0678 00599000
*                                                            @Y17XAIK*/ 00600000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0678 00601000
*                   PRFLINK=CHAINEND;/* MAKE LAST BUFFER ON THE CHAIN   00602000
*                                                            @Y17XAIK*/ 00603000
         SLR   @14,@14                                          04S0679 00604000
         STCM  @14,7,PRFLINK(RPRF)                              04S0679 00605000
*                   CALL IPFREBFR;  /* FREE THE BUFFER       @Y17XAIK*/ 00606000
         BAL   @14,IPFREBFR                                     04S0680 00607000
*                 END;              /*                       @Y17XAIK*/ 00608000
*               ELSE                                            04S0682 00609000
*                 DO;               /* ..ELSE PROCESS THE GOOD TEXT     00610000
*                                      BUFFER                @Y17XAIK*/ 00611000
         B     @RC00676                                         04S0682 00612000
@RF00676 DS    0H                                               04S0683 00613000
*                   IF LCBBFRSV=CHAINEND THEN/* IF BFRS NOT BEING       00614000
*                                      SAVED THEN                    */ 00615000
         L     @14,LCBBFRSV-1(,RLCB)                            04S0683 00616000
         LA    @14,0(,@14)                                      04S0683 00617000
         LTR   @14,@14                                          04S0683 00618000
         BNZ   @RF00683                                         04S0683 00619000
*                     DO;                                       04S0684 00620000
*                       LCBBFRSV=RPRF;/* PUT BFR ON SAVE CHAIN       */ 00621000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0685 00622000
*                       PRFLINK=CHAINEND;/* MARK IT END OF CHAIN     */ 00623000
         SLR   @14,@14                                          04S0686 00624000
         STCM  @14,7,PRFLINK(RPRF)                              04S0686 00625000
*                       IF TRMDIAL=ON THEN/* IF DIAL TRM THEN        */ 00626000
         TM    TRMDIAL(RTRM),B'00001000'                        04S0687 00627000
         BNO   @RF00687                                         04S0687 00628000
*                         CALL IPBSBDUD;/* BUILD BDU FOR DIAL WRITE  */ 00629000
         BAL   @14,IPBSBDUD                                     04S0688 00630000
*                       ELSE        /* TRM IS LEASED                 */ 00631000
*                         CALL IPBSBDUL;/* BUILD BDU FOR LEASED WRITE*/ 00632000
         B     @RC00687                                         04S0689 00633000
@RF00687 BAL   @14,IPBSBDUL                                     04S0689 00634000
*                       CALL IPXFMO;/* TPOST BFR TO IEDXFMO          */ 00635000
@RC00687 BAL   @14,IPXFMO                                       04S0690 00636000
*                     END;                                      04S0691 00637000
*                   ELSE            /* BFRS ARE BEING SAVED          */ 00638000
*                     CALL IPCHNBFR;/* CHAIN THIS BFR ON SAVE CHAIN  */ 00639000
         B     @RC00683                                         04S0692 00640000
@RF00683 BAL   @14,IPCHNBFR                                     04S0692 00641000
*                 END;              /*                       @Y17XAIK*/ 00642000
*             END;                                              04S0694 00643000
*         END;                                                  04S0695 00644000
*     END;                                                      03S0696 00645000
*   ELSE                            /* IT IS AN ERB                  */ 00646000
*                                                               03S0697 00647000
*     /***************************************************************/ 00648000
*     /*                                                             */ 00649000
*     /* PROCESS.ERB: ERB INPUT SEGMENT.                             */ 00650000
*     /*                                                             */ 00651000
*     /***************************************************************/ 00652000
*                                                               03S0697 00653000
*     DO;                                                       03S0697 00654000
         B     @RC00533                                         03S0697 00655000
@RF00533 DS    0H                                               03S0698 00656000
*       RLCB=RPARM-(ADDR(LCBERB)-ADDR(IEDQLCB));/* SET PLCB BASE     */ 00657000
         LR    @14,RPARM                                        03S0698 00658000
         SL    @14,@CF02383                                     03S0698 00659000
         LR    RLCB,@14                                         03S0698 00660000
*       RPARM=LCBTTCIN;             /* GET TNT INDEX                 */ 00661000
         LH    RPARM,LCBTTCIN(,RLCB)                            03S0699 00662000
         N     RPARM,@CF02391                                   03S0699 00663000
*       CALL IEDQTNT;               /* GET TRM ADDRESS               */ 00664000
         L     @15,AVTRNMPT(,RAVT)                              03S0700 00665000
         BALR  @14,@15                                          03S0700 00666000
*       RTRM=RPARM-LENGTH(IEDNTRM); /* SET TRM BASE REG              */ 00667000
         LR    RTRM,RPARM                                       03S0701 00668000
         SL    RTRM,@CF02037                                    03S0701 00669000
*       IF TRMSNA=ON THEN           /* IF SNA RESOURCE THEN          */ 00670000
         TM    TRMSNA(RTRM),B'00000010'                         03S0702 00671000
         BNO   @RF00702                                         03S0702 00672000
*         DO;                                                   03S0703 00673000
*           IF LCBBFRSV^=CHAINEND THEN/* IF BFRS ON SAVE CHAIN THEN     00674000
*                                      ERB IS RETURNING FROM IEDQGA     00675000
*                                      WITH AN EMPTY BFR FOR EITHER A   00676000
*                                      BID OR A POSITIVE RESPONSE TO    00677000
*                                      RTR.                          */ 00678000
         L     @14,LCBBFRSV-1(,RLCB)                            03S0704 00679000
         LA    @14,0(,@14)                                      03S0704 00680000
         LTR   @14,@14                                          03S0704 00681000
         BZ    @RF00704                                         03S0704 00682000
*                                                               04S0705 00683000
*             /*******************************************************/ 00684000
*             /*                                                     */ 00685000
*             /* PROCESS.ERB.SNAERBRT: SNA ERB RETURN SEGMENT - THIS */ 00686000
*             /* SEGMENT PROCESSES A SNA ERB WHEN IT IS RETURNING    */ 00687000
*             /* FROM IEDQGA WITH THE EMPTY BUFFER UNIT THAT WAS     */ 00688000
*             /* PREVIOUSLY REQUESTED BY THIS MODULE FOR EITHER A BID*/ 00689000
*             /* OR A POSITIVE RESPONSE TO RTR.                      */ 00690000
*             /*                                                     */ 00691000
*             /*******************************************************/ 00692000
*                                                               04S0705 00693000
*             DO;                                               04S0705 00694000
*               RPRF=LCBERBCH;      /* MOVE BUFFER ADDRESS   @Y17XAIK*/ 00695000
         L     RPRF,LCBERBCH-1(,RLCB)                           04S0706 00696000
         LA    RPRF,0(,RPRF)                                    04S0706 00697000
*               LCBPRCPG=OFF;       /* RESET DOUBLE POST INDICATOR      00698000
*                                                            @Y17XAIK*/ 00699000
         NI    LCBPRCPG(RLCB),B'11111101'                       04S0707 00700000
*               CALL IPSNRTBI;      /* BUILD RTR RSP AND/OR BID AND     00701000
*                                      POST THEM             @Y17XAIK   00702000
*                                      ACCORDINGLY, THEN POST SAVED     00703000
*                                      BUFFERS IF BID NOT SENT  04S0708 00704000
*                                                            @Y17XAIK*/ 00705000
         BAL   @14,IPSNRTBI                                     04S0708 00706000
*             END;                                              04S0709 00707000
*           ELSE                    /* NO BUFFERS ARE ON SAVE CHAIN     00708000
*                                      THEREFORE IT IS AN INITIAL       00709000
*                                      MSGGEN REQUEST FROM EITHER       00710000
*                                      IEDQBL OR IEDAYM              */ 00711000
*                                                               04S0710 00712000
*             /*******************************************************/ 00713000
*             /*                                                     */ 00714000
*             /* PROCESS.ERB.SNAMSGEN: SNA MSGGEN SEGMENT - THIS     */ 00715000
*             /* SEGMENT PROCESSES AN INITIAL MSGGEN REQUEST ERB FROM*/ 00716000
*             /* EITHER IEDQBL (NON-TSO) OR IEDAYM (TSO) FOR SNA     */ 00717000
*             /* TERMINALS.                                          */ 00718000
*             /*                                                     */ 00719000
*             /*******************************************************/ 00720000
*                                                               04S0710 00721000
*             DO;                                               04S0710 00722000
         B     @RC00704                                         04S0710 00723000
@RF00704 DS    0H                                               04S0711 00724000
*               RFY                                             04S0711 00725000
*                (RBFRNUM,                                      04S0711 00726000
*                 RUNITNUM) RSTD;   /*                       @Y17XAIK*/ 00727000
*               RPRF=LCBERBCH;      /* MOVE BUFFER ADDRESS   @Y17XAIK*/ 00728000
         L     RPRF,LCBERBCH-1(,RLCB)                           04S0712 00729000
         LA    RPRF,0(,RPRF)                                    04S0712 00730000
*               PRF1RH=PRF1RH&RHMASK;/* CLEAR ALL BITS IN THE RH OF     00731000
*                                      THE                   @Y17XAIK   00732000
*                                      MSGGEN BUFFER WHICH THE USER     00733000
*                                      IS NOT PERMITTED TO TWIDDLE      00734000
*                                                            @Y17XAIK*/ 00735000
         LR    @14,RPRF                                         04S0713 00736000
         AL    @14,@CF02393                                     04S0713 00737000
         NC    PRF1RH(3,@14),@CB02259                           04S0713 00738000
*               LCBBFRSV=RPRF;      /* SAVE BUFFER ADDRESS   @Y17XAIK*/ 00739000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0714 00740000
*               LCBERBCH=CHAINEND;  /* CLEAR ORIGINAL POINTER   04S0715 00741000
*                                                            @Y17XAIK*/ 00742000
         SLR   @14,@14                                          04S0715 00743000
         STCM  @14,7,LCBERBCH(RLCB)                             04S0715 00744000
*               PRFISIZE=LCBISZE;   /* SET RESERVE COUNT FOR IEDXFMO    00745000
*                                                            @YM06157*/ 00746000
         IC    @14,LCBISZE(,RLCB)                               04S0716 00747000
         STC   @14,PRFISIZE(,RPRF)                              04S0716 00748000
*               LCBRESP=OFF;        /* INDICATE RESPONSE IS NO LONGER   00749000
*                                      OWED                  @YM07705*/ 00750000
         NI    LCBRESP(RLCB),B'11111110'                        04S0717 00751000
*               IF LCBRTRRO=ON      /* IF RESPONSE OWED TO RTR  04S0718 00752000
*                                                            @YM07446*/ 00753000
*                 THEN                                          04S0718 00754000
         TM    LCBRTRRO(RLCB),B'00000100'                       04S0718 00755000
         BNO   @RF00718                                         04S0718 00756000
*                 DO;               /* ..THEN PROCEED TO SEND RTR       00757000
*                                      FOLLOWED BY THE       @Y17XAIK   00758000
*                                      MESSAGE               @Y17XAIK*/ 00759000
*                   RUNITNUM=1;     /* REQUEST ONE UNIT IN THE BUFFER   00760000
*                                      FOR RTR RSP           @Y17XAIK*/ 00761000
         LA    @14,1                                            04S0720 00762000
         LR    RUNITNUM,@14                                     04S0720 00763000
*                   RBFRNUM=1;      /* REQUEST ONE BUFFER FOR RTR RSP   00764000
*                                                            @Y17XAIK*/ 00765000
         LR    RBFRNUM,@14                                      04S0721 00766000
*                   CALL IPSNBRBP;  /* GET A BUFFER, BUILD RTR RSP,     00767000
*                                      AND POST IT           @Y17XAIK   00768000
*                                      AND THE MESSAGE       @Y17XAIK*/ 00769000
         BAL   @14,IPSNBRBP                                     04S0722 00770000
*                 END;              /*                       @Y17XAIK*/ 00771000
*               ELSE                                            04S0724 00772000
*                 DO;               /* ..ELSE MERELY SEND THE MESSAGE   00773000
*                                                            @Y17XAIK*/ 00774000
         B     @RC00718                                         04S0724 00775000
@RF00718 DS    0H                                               04S0725 00776000
*                   CALL IPSNRHST;  /* SET APPROPRIATE BITS IN THE RH   00777000
*                                                            @Y17XAIK*/ 00778000
         BAL   @14,IPSNRHST                                     04S0725 00779000
*                   CALL IPXFMO;    /* POST THE MESSAGE TO IEDXFMO      00780000
*                                                            @Y17XAIK*/ 00781000
         BAL   @14,IPXFMO                                       04S0726 00782000
*                 END;              /*                       @Y17XAIK*/ 00783000
*               RFY                                             04S0728 00784000
*                (RBFRNUM,                                      04S0728 00785000
*                 RUNITNUM) UNRSTD; /*                       @Y17XAIK*/ 00786000
@RC00718 DS    0H                                               04S0729 00787000
*             END;                                              04S0729 00788000
*         END;                                                  03S0730 00789000
*       ELSE                        /* IT IS A BSC/SS RESOURCE       */ 00790000
*         DO;                                                   03S0731 00791000
         B     @RC00702                                         03S0731 00792000
@RF00702 DS    0H                                               03S0732 00793000
*           IF LCBBFRSV^=CHAINEND THEN/* IF BFRS ON SAVE CHAIN THEN     00794000
*                                      ERB IS RETURNING FROM IEDQGA     00795000
*                                      WITH AN EMPTY BFR FOR A SET      00796000
*                                      DESTINATION MODE              */ 00797000
         L     @14,LCBBFRSV-1(,RLCB)                            03S0732 00798000
         LA    @14,0(,@14)                                      03S0732 00799000
         LTR   @14,@14                                          03S0732 00800000
         BZ    @RF00732                                         03S0732 00801000
*                                                               04S0733 00802000
*             /*******************************************************/ 00803000
*             /*                                                     */ 00804000
*             /* PROCESS.ERB.BSERBRT: BISYNC/START STOP ERB RETURN   */ 00805000
*             /* SEGMENT - THIS SEGMENT PROCESSES A BISYNC/START STOP*/ 00806000
*             /* ERB WHEN IT IS RETURNING FROM IEDQGA WITH THE EMPTY */ 00807000
*             /* BUFFER UNIT THAT WAS PREVIOUSLY REQUESTED BY THIS   */ 00808000
*             /* MODULE FOR A SET DESTINATION MODE.                  */ 00809000
*             /*                                                     */ 00810000
*             /*******************************************************/ 00811000
*                                                               04S0733 00812000
*             DO;                                               04S0733 00813000
*               RPRF=LCBERBCH;      /* GET EMPTY BFR UNIT            */ 00814000
         L     RPRF,LCBERBCH-1(,RLCB)                           04S0734 00815000
         LA    RPRF,0(,RPRF)                                    04S0734 00816000
*               LCBERBCH=PRFLINK;   /* DELINK IT                     */ 00817000
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   04S0735 00818000
*               LCBPRCPG=OFF;       /* RESET RETURN ERB INDICATOR    */ 00819000
         NI    LCBPRCPG(RLCB),B'11111101'                       04S0736 00820000
*               CALL IPBSMODE;      /* ISSUE SET DEST. MODE          */ 00821000
         BAL   @14,IPBSMODE                                     04S0737 00822000
*               IF TRMDIAL=ON THEN  /* IF DIAL TRM THEN              */ 00823000
         TM    TRMDIAL(RTRM),B'00001000'                        04S0738 00824000
         BNO   @RF00738                                         04S0738 00825000
*                 CALL IPBSBDUD;    /* BUILD BDU FOR DIAL WRITE      */ 00826000
         BAL   @14,IPBSBDUD                                     04S0739 00827000
*               ELSE                /* TRM IS LEASED                 */ 00828000
*                 CALL IPBSBDUL;    /* BUILD BDU FOR LEASED WRITE    */ 00829000
         B     @RC00738                                         04S0740 00830000
@RF00738 BAL   @14,IPBSBDUL                                     04S0740 00831000
*               CALL IPXFMO;        /* TPOST BFR TO IEDXFMO          */ 00832000
@RC00738 BAL   @14,IPXFMO                                       04S0741 00833000
*               IF LGBPCINO=OFF&LCBEOMSG=OFF/* IF PCI=(,A) AND THERE    00834000
*                                      ARE MORE BUFFERS ON THE QUEUE    00835000
*                                      FOR THIS MESSAGE      @YM06454*/ 00836000
*                 THEN                                          04S0742 00837000
         L     @14,LCBDCBPT(,RLCB)                              04S0742 00838000
         TM    LGBPCINO(@14),B'00000100'                        04S0742 00839000
         BNZ   @RF00742                                         04S0742 00840000
         TM    LCBEOMSG(RLCB),B'01000000'                       04S0742 00841000
         BNZ   @RF00742                                         04S0742 00842000
*                 CALL IPQFAPST;    /* ..THEN POST A REQUEST TO QFA     00843000
*                                      FOR MORE              @Y17XAIK   00844000
*                                      BUFFERS OF THE MESSAGE   04S0743 00845000
*                                                            @Y17XAIK*/ 00846000
         BAL   @14,IPQFAPST                                     04S0743 00847000
*               ELSE                                            04S0744 00848000
*                 ;                 /*                       @Y17XAIK*/ 00849000
@RF00742 DS    0H                                               04S0745 00850000
*             END;                                              04S0745 00851000
*           ELSE                    /* NO BFRS ARE ON SAVE CHAIN        00852000
*                                      THEREFORE IT IS AN INITIAL       00853000
*                                      MSGGEN REQUEST FROM EITHER       00854000
*                                      IEDQBL OR IEDAYM              */ 00855000
*                                                               04S0746 00856000
*             /*******************************************************/ 00857000
*             /*                                                     */ 00858000
*             /* PROCESS.ERB.BSMSGEN: BISYNC/START STOP MSGGEN       */ 00859000
*             /* SEGMENT - THIS SEGMENT PROCESSES A MSGGEN REQUEST   */ 00860000
*             /* ERB FROM EITHER IEDQBL (NON-TSO) OR IEDAYM (TSO) FOR*/ 00861000
*             /* BISYNC/START STOP TERMINALS.                        */ 00862000
*             /*                                                     */ 00863000
*             /*******************************************************/ 00864000
*                                                               04S0746 00865000
*             DO;                                               04S0746 00866000
         B     @RC00732                                         04S0746 00867000
@RF00732 DS    0H                                               04S0747 00868000
*               RFY                                             04S0747 00869000
*                 RBDU RSTD;                                    04S0747 00870000
*               RPRF=LCBERBCH;      /* GET MSGGEN BFR                */ 00871000
         L     RPRF,LCBERBCH-1(,RLCB)                           04S0748 00872000
         LA    RPRF,0(,RPRF)                                    04S0748 00873000
*               LCBERBCH=PRFLINK;   /* DELINK IT                     */ 00874000
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   04S0749 00875000
*               IEDPF1=''B;         /* CLEAR NEGATIVE PREFIX         */ 00876000
         LR    @14,RPRF                                         04S0750 00877000
         AL    @14,@CF02393                                     04S0750 00878000
         XC    IEDPF1(8,@14),IEDPF1(@14)                        04S0750 00879000
*               PRFISIZE=LCBISZE;   /* SET RESERVE COUNT             */ 00880000
         SLR   @14,@14                                          04S0751 00881000
         IC    @14,LCBISZE(,RLCB)                               04S0751 00882000
         STC   @14,PRFISIZE(,RPRF)                              04S0751 00883000
*               RBDU=ADDR(PRFSHDR)+LCBISZE-LENGTH(IEDBDU);/* SET BDU    00884000
*                                      BASE REG                      */ 00885000
         LA    RBDU,PRFSHDR(,RPRF)                              04S0752 00886000
         ALR   RBDU,@14                                         04S0752 00887000
         SL    RBDU,@CF00070                                    04S0752 00888000
*               IEDBDU=''B;         /* CLEAR BDU                     */ 00889000
         XC    IEDBDU(6,RBDU),IEDBDU(RBDU)                      04S0753 00890000
*               BDUCMND=CD0WRT;     /* SET WRITE COMMAND             */ 00891000
         MVI   BDUCMND(RBDU),X'02'                              04S0754 00892000
*               IF TRMSESSN=ON THEN /* IF IN NCP SESSION THEN        */ 00893000
         TM    TRMSESSN(RTRM),B'01000000'                       04S0755 00894000
         BNO   @RF00755                                         04S0755 00895000
*                 BDUMODIF=CD0WT;   /* SET TRANSMISSION MODIFIER     */ 00896000
         MVI   BDUMODIF(RBDU),X'02'                             04S0756 00897000
*               ELSE                /* NOT IN NCP SESSION            */ 00898000
*                 BDUMODIF=CD0WCD;  /* SET CONTACT/DISCONNECT MODIF. */ 00899000
         B     @RC00755                                         04S0757 00900000
@RF00755 MVI   BDUMODIF(RBDU),X'0B'                             04S0757 00901000
*               BDUXERLK=ON;        /* RESET NCP ERROR LOCK          */ 00902000
@RC00755 OI    BDUXERLK(RBDU),B'10000000'                       04S0758 00903000
*               TRMERLCK=OFF;       /* RESET TCAM ERROR LOCK         */ 00904000
         NI    TRMERLCK(RTRM),B'11111011'                       04S0759 00905000
*               LCBBFRSV=RPRF;      /* PUT BFR ADDR IN SAVE CHAIN    */ 00906000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0760 00907000
*               CALL IPXFMO;        /* TPOST BFR TO IEDXFMO          */ 00908000
         BAL   @14,IPXFMO                                       04S0761 00909000
*               RFY                                             04S0762 00910000
*                 RBDU UNRSTD;                                  04S0762 00911000
*             END;                                              04S0763 00912000
*         END;                                                  03S0764 00913000
@RC00732 DS    0H                                               03S0765 00914000
*     END;                                                      03S0765 00915000
@RC00702 DS    0H                                               03S0766 00916000
*   CALL DSPDISP;                   /* RETURN TO THE DISPATCHER      */ 00917000
@RC00533 LA    @15,DSPDISP(,RDISP)                              02S0766 00918000
         BALR  @14,@15                                          02S0766 00919000
*                                                               02S0767 00920000
*   /*****************************************************************/ 00921000
*   /*                                                               */ 00922000
*   /* IPBSBDUD: BISYNC/START STOP DIAL WRITE BDU BUILD INTERNAL     */ 00923000
*   /* PROCEDURE - THIS INTERNAL PROCEDURE BUILDS WRITE BDUS IN THE  */ 00924000
*   /* NON-MSGGEN DATA BUFFERS THAT ARE OUTBOUND TO DIAL TERMINALS.  */ 00925000
*   /* LCBBFRSV MUST HAVE THE ADDRESS OF THE CHAIN OF OUTBOUND       */ 00926000
*   /* BUFFERS.                                                      */ 00927000
*   /*                                                               */ 00928000
*   /*****************************************************************/ 00929000
*                                                               02S0767 00930000
*IPBSBDUD:                                                      02S0767 00931000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0767 00932000
@EL00001 DS    0H                                               02S0767 00933000
@EF00001 DS    0H                                               02S0767 00934000
@ER00001 BR    @14                                              02S0767 00935000
IPBSBDUD ST    @14,@SA00002                                     02S0767 00936000
*   RFY                                                         02S0768 00937000
*     RBDU RSTD;                                                02S0768 00938000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR ON SAVE CHAIN   */ 00939000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S0769 00940000
         LA    RPRF,0(,RPRF)                                    02S0769 00941000
*   DO UNTIL RPRF=CHAINEND;         /* BUILD BDUS IN ALL SAVED BFRS  */ 00942000
@DL00770 DS    0H                                               02S0771 00943000
*     IEDPF1=''B;                   /* CLEAR NEGATIVE PREFIX         */ 00944000
         LR    @14,RPRF                                         02S0771 00945000
         AL    @14,@CF02393                                     02S0771 00946000
         XC    IEDPF1(8,@14),IEDPF1(@14)                        02S0771 00947000
*     IF PRFNHDRN=OFF THEN          /* IF HDR BFR THEN               */ 00948000
         TM    PRFNHDRN(RPRF),B'00000001'                       02S0772 00949000
         BNZ   @RF00772                                         02S0772 00950000
*       RBDU=ADDR(PRFSHDR)+PRFISIZE-LENGTH(IEDBDU);/* BDU BASE REG      00951000
*                                                            @YM05981*/ 00952000
         LA    RBDU,PRFSHDR(,RPRF)                              02S0773 00953000
         SLR   @14,@14                                          02S0773 00954000
         IC    @14,PRFISIZE(,RPRF)                              02S0773 00955000
         ALR   RBDU,@14                                         02S0773 00956000
         SL    RBDU,@CF00070                                    02S0773 00957000
*     ELSE                          /* IT IS NOT A HDR BFR           */ 00958000
*       RBDU=ADDR(PRFSTXT)-LENGTH(IEDBDU);/* SET BDU BASE REG FOR TXT*/ 00959000
         B     @RC00772                                         02S0774 00960000
@RF00772 LA    RBDU,PRFSTXT(,RPRF)                              02S0774 00961000
         SL    RBDU,@CF00070                                    02S0774 00962000
*     IEDBDU=''B;                   /* CLEAR THE BDU                 */ 00963000
@RC00772 XC    IEDBDU(6,RBDU),IEDBDU(RBDU)                      02S0775 00964000
*     BDUCMND=CD0WRT;               /* SET WRITE COMMAND             */ 00965000
         MVI   BDUCMND(RBDU),X'02'                              02S0776 00966000
*     IF SCBTRANP=ON THEN           /* IF TRANSPARENT TEXT THEN      */ 00967000
         L     @14,LCBSCBA-1(,RLCB)                             02S0777 00968000
         TM    SCBTRANP(@14),B'10000000'                        02S0777 00969000
         BNO   @RF00777                                         02S0777 00970000
*       BDUTPTX=ON;                 /* SET TRANSPARENT TEXT INDICATOR*/ 00971000
         OI    BDUTPTX(RBDU),B'00001000'                        02S0778 00972000
*     IF PRFNHDRN=OFF THEN          /* IF HEADER BFR THEN            */ 00973000
@RF00777 TM    PRFNHDRN(RPRF),B'00000001'                       02S0779 00974000
         BNZ   @RF00779                                         02S0779 00975000
*       DO;                                                     02S0780 00976000
*         BDUFRSTB=ON;              /* SET FIRST BLOCK INDICATION    */ 00977000
         OI    BDUFRSTB(RBDU),B'00010000'                       02S0781 00978000
*         BDUXERLK=ON;              /* RESET NCP ERROR LOCK          */ 00979000
         OI    BDUXERLK(RBDU),B'10000000'                       02S0782 00980000
*         TRMERLCK=OFF;             /* RESET TCAM ERROR LOCK         */ 00981000
         NI    TRMERLCK(RTRM),B'11111011'                       02S0783 00982000
*       END;                                                    02S0784 00983000
*                                                               02S0785 00984000
*     /***************************************************************/ 00985000
*     /*                                                             */ 00986000
*     /* THIS PAGE IS A CONTINUATION OF IPBSBDUD. IT PROCESSES BOTH  */ 00987000
*     /* LAST AND NOT LAST BUFFERS.                                  */ 00988000
*     /*                                                             */ 00989000
*     /***************************************************************/ 00990000
*                                                               02S0785 00991000
*     IF PRFNLSTN=ON THEN           /* IF NOT LAST BFR THEN          */ 00992000
@RF00779 TM    PRFNLSTN(RPRF),B'00000010'                       02S0785 00993000
         BNO   @RF00785                                         02S0785 00994000
*       BDUMODIF=BDUMODIF|CD0W;     /* SET NORMAL MODIFIER           */ 00995000
         OI    BDUMODIF(RBDU),X'00'                             02S0786 00996000
*     ELSE                          /* IT IS THE LAST BFR            */ 00997000
*       DO;                                                     02S0787 00998000
         B     @RC00785                                         02S0787 00999000
@RF00785 DS    0H                                               02S0788 01000000
*         PRF1FORM=PRF1IDI;         /* INDICATE ID TAG IN PREFIX     */ 01001000
         LR    @14,RPRF                                         02S0788 01002000
         SL    @14,@CF00044                                     02S0788 01003000
         NI    PRF1FORM(@14),B'11101111'                        02S0788 01004000
         OI    PRF1FORM(@14),B'00100000'                        02S0788 01005000
*         PRF1TAG2=TTHLSTWR;        /* SET LAST WRITE ID TAG         */ 01006000
         MVI   PRF1TAG2(@14),X'03'                              02S0789 01007000
*         IF LCBSYNC=ON THEN        /* IF TRM IS BISYNC THEN         */ 01008000
         TM    LCBSYNC(RLCB),B'00000100'                        02S0790 01009000
         BNO   @RF00790                                         02S0790 01010000
*           BDUMODIF=BDUMODIF|CD0WM;/* SET MESSAGE MODIFIER          */ 01011000
         OI    BDUMODIF(RBDU),X'01'                             02S0791 01012000
*         ELSE                      /* TRM IS START STOP             */ 01013000
*           BDUMODIF=BDUMODIF|CD0WT;/* SET TRANSMISSION MODIFIER     */ 01014000
         B     @RC00790                                         02S0792 01015000
@RF00790 OI    BDUMODIF(RBDU),X'02'                             02S0792 01016000
*         IF SCBTRANP=OFF THEN      /* IF NOT TRANSPARENT TEXT THEN  */ 01017000
@RC00790 L     @14,LCBSCBA-1(,RLCB)                             02S0793 01018000
         TM    SCBTRANP(@14),B'10000000'                        02S0793 01019000
         BNZ   @RF00793                                         02S0793 01020000
*           CALL IPBSREOT;          /* REMOVE EOT IF IT IS LAST CHAR */ 01021000
         BAL   @14,IPBSREOT                                     02S0794 01022000
*       END;                                                    02S0795 01023000
@RF00793 DS    0H                                               02S0796 01024000
*     RPRF=PRFLINK;                 /* GET NEXT BUFFER ON SAVE CHAIN */ 01025000
@RC00785 L     @14,PRFLINK-1(,RPRF)                             02S0796 01026000
         LA    @14,0(,@14)                                      02S0796 01027000
         LR    RPRF,@14                                         02S0796 01028000
*   END;                                                        02S0797 01029000
@DE00770 LTR   RPRF,RPRF                                        02S0797 01030000
         BNZ   @DL00770                                         02S0797 01031000
*   RFY                                                         02S0798 01032000
*     RBDU UNRSTD;                                              02S0798 01033000
*   END IPBSBDUD;                                               02S0799 01034000
@EL00002 DS    0H                                               02S0799 01035000
@EF00002 DS    0H                                               02S0799 01036000
@ER00002 L     @14,@SA00002                                     02S0799 01037000
         BR    @14                                              02S0799 01038000
*                                                               02S0800 01039000
*   /*****************************************************************/ 01040000
*   /*                                                               */ 01041000
*   /* IPBSBDUL: BISYNC/START STOP LEASED WRITE BDU BUILD INTERNAL   */ 01042000
*   /* PROCEDURE - THIS INTERNAL PROCEDURE BUILDS WRITE BDUS IN THE  */ 01043000
*   /* NON-MSGGEN DATA BUFFERS THAT ARE OUTBOUND TO LEASED TERMINALS.*/ 01044000
*   /* LCBBFRSV MUST HAVE THE ADDRESS OF THE CHAIN OF OUTBOUND       */ 01045000
*   /* BUFFERS.                                                      */ 01046000
*   /*                                                               */ 01047000
*   /*****************************************************************/ 01048000
*                                                               02S0800 01049000
*IPBSBDUL:                                                      02S0800 01050000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0800 01051000
IPBSBDUL ST    @14,@SA00003                                     02S0800 01052000
*   RFY                                                         02S0801 01053000
*     RBDU RSTD;                                                02S0801 01054000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR ON SAVE CHAIN   */ 01055000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S0802 01056000
         LA    RPRF,0(,RPRF)                                    02S0802 01057000
*   DO UNTIL RPRF=CHAINEND;         /* BUILD BDUS IN ALL SAVED BFRS  */ 01058000
@DL00803 DS    0H                                               02S0804 01059000
*     IEDPF1=''B;                   /* CLEAR NEGATIVE PREFIX         */ 01060000
         LR    @14,RPRF                                         02S0804 01061000
         AL    @14,@CF02393                                     02S0804 01062000
         XC    IEDPF1(8,@14),IEDPF1(@14)                        02S0804 01063000
*     IF PRFNHDRN=OFF THEN          /* IF HDR BFR THEN               */ 01064000
         TM    PRFNHDRN(RPRF),B'00000001'                       02S0805 01065000
         BNZ   @RF00805                                         02S0805 01066000
*       RBDU=ADDR(PRFSHDR)+PRFISIZE-LENGTH(IEDBDU);/* BDU BASE REG      01067000
*                                                            @YM05981*/ 01068000
         LA    RBDU,PRFSHDR(,RPRF)                              02S0806 01069000
         SLR   @14,@14                                          02S0806 01070000
         IC    @14,PRFISIZE(,RPRF)                              02S0806 01071000
         ALR   RBDU,@14                                         02S0806 01072000
         SL    RBDU,@CF00070                                    02S0806 01073000
*     ELSE                          /* IT IS NOT A HDR BFR           */ 01074000
*       RBDU=ADDR(PRFSTXT)-LENGTH(IEDBDU);/* SET BDU BASE REG FOR TXT*/ 01075000
         B     @RC00805                                         02S0807 01076000
@RF00805 LA    RBDU,PRFSTXT(,RPRF)                              02S0807 01077000
         SL    RBDU,@CF00070                                    02S0807 01078000
*     IEDBDU=''B;                   /* CLEAR THE BDU                 */ 01079000
@RC00805 XC    IEDBDU(6,RBDU),IEDBDU(RBDU)                      02S0808 01080000
*     BDUCMND=CD0WRT;               /* SET WRITE COMMAND             */ 01081000
         MVI   BDUCMND(RBDU),X'02'                              02S0809 01082000
*     IF SCBTRANP=ON THEN           /* IF TRANSPARENT TEXT THEN      */ 01083000
         L     @14,LCBSCBA-1(,RLCB)                             02S0810 01084000
         TM    SCBTRANP(@14),B'10000000'                        02S0810 01085000
         BNO   @RF00810                                         02S0810 01086000
*       BDUTPTX=ON;                 /* SET TRANSPARENT TEXT INDICATOR*/ 01087000
         OI    BDUTPTX(RBDU),B'00001000'                        02S0811 01088000
*     IF PRFNHDRN=OFF THEN          /* IF HEADER BFR THEN            */ 01089000
@RF00810 TM    PRFNHDRN(RPRF),B'00000001'                       02S0812 01090000
         BNZ   @RF00812                                         02S0812 01091000
*       DO;                                                     02S0813 01092000
*         BDUFRSTB=ON;              /* SET FIRST BLOCK INDICATION    */ 01093000
         OI    BDUFRSTB(RBDU),B'00010000'                       02S0814 01094000
*         BDUXERLK=ON;              /* RESET NCP ERROR LOCK          */ 01095000
         OI    BDUXERLK(RBDU),B'10000000'                       02S0815 01096000
*         TRMERLCK=OFF;             /* RESET TCAM ERROR LOCK         */ 01097000
         NI    TRMERLCK(RTRM),B'11111011'                       02S0816 01098000
*         IF TRMSESSN=OFF THEN      /* IF TRM NOT IN SESSION THEN    */ 01099000
         TM    TRMSESSN(RTRM),B'01000000'                       02S0817 01100000
         BNZ   @RF00817                                         02S0817 01101000
*           BDUMODIF=BDUMODIF|CD0WC;/* SET CONTACT MODIFIER          */ 01102000
         OI    BDUMODIF(RBDU),X'08'                             02S0818 01103000
*       END;                                                    02S0819 01104000
@RF00817 DS    0H                                               02S0820 01105000
*                                                               02S0820 01106000
*     /***************************************************************/ 01107000
*     /*                                                             */ 01108000
*     /* THIS PAGE IS A CONTINUATION OF IPBSBDUL. IT PROCESSES BOTH  */ 01109000
*     /* LAST AND NOT LAST BUFFERS.                                  */ 01110000
*     /*                                                             */ 01111000
*     /***************************************************************/ 01112000
*                                                               02S0820 01113000
*     IF PRFNLSTN=ON THEN           /* IF NOT LAST BFR THEN          */ 01114000
@RF00812 TM    PRFNLSTN(RPRF),B'00000010'                       02S0820 01115000
         BNO   @RF00820                                         02S0820 01116000
*       DO;                                                     02S0821 01117000
*         IF LCBSYNC=OFF&TRMBUFRD=ON THEN/* IF 2740 MOD2 THEN        */ 01118000
         TM    LCBSYNC(RLCB),B'00000100'                        02S0822 01119000
         BNZ   @RF00822                                         02S0822 01120000
         TM    TRMBUFRD(RTRM),B'00000001'                       02S0822 01121000
         BNO   @RF00822                                         02S0822 01122000
*           BDUMODIF=BDUMODIF|CD0WT;/* SET TRANSMISSION MODIFIER     */ 01123000
         OI    BDUMODIF(RBDU),X'02'                             02S0823 01124000
*         ELSE                      /* THE TRM IS NOT A 2740 MOD2 SO */ 01125000
*           BDUMODIF=BDUMODIF|CD0W; /* SET NORMAL MODIFIER           */ 01126000
         B     @RC00822                                         02S0824 01127000
@RF00822 OI    BDUMODIF(RBDU),X'00'                             02S0824 01128000
*       END;                                                    02S0825 01129000
*     ELSE                          /* IT IS THE LAST BFR            */ 01130000
*       DO;                                                     02S0826 01131000
         B     @RC00820                                         02S0826 01132000
@RF00820 DS    0H                                               02S0827 01133000
*         PRF1FORM=PRF1IDI;         /* INDICATE ID TAG IN PREFIX     */ 01134000
         LR    @14,RPRF                                         02S0827 01135000
         SL    @14,@CF00044                                     02S0827 01136000
         NI    PRF1FORM(@14),B'11101111'                        02S0827 01137000
         OI    PRF1FORM(@14),B'00100000'                        02S0827 01138000
*         PRF1TAG2=TTHLSTWR;        /* SET LAST WRITE ID TAG         */ 01139000
         MVI   PRF1TAG2(@14),X'03'                              02S0828 01140000
*         IF TRMGPACT=ON THEN       /* IF GENERAL POLL ACTIVE THEN   */ 01141000
         TM    TRMGPACT(RTRM),B'00001000'                       02S0829 01142000
         BNO   @RF00829                                         02S0829 01143000
*           DO;                                                 02S0830 01144000
*             IF SCBMLMTN=ON THEN   /* IF MSGLIMIT REACHED THEN      */ 01145000
         L     @14,LCBSCBA-1(,RLCB)                             02S0831 01146000
         TM    SCBMLMTN(@14),B'00000001'                        02S0831 01147000
         BNO   @RF00831                                         02S0831 01148000
*               BDUMODIF=BDUMODIF|CD0WD;/* SET DISCONNECT MODIFIER   */ 01149000
         OI    BDUMODIF(RBDU),X'03'                             02S0832 01150000
*             ELSE                  /* MSGLIMIT NOT REACHED          */ 01151000
*               BDUMODIF=BDUMODIF|CD0WT;/* SET TRANMISSION MODIFIER  */ 01152000
         B     @RC00831                                         02S0833 01153000
@RF00831 OI    BDUMODIF(RBDU),X'02'                             02S0833 01154000
*           END;                                                02S0834 01155000
*         ELSE                      /* GENERAL POLL IS NOT ACTIVE    */ 01156000
*           DO;                                                 02S0835 01157000
         B     @RC00829                                         02S0835 01158000
@RF00829 DS    0H                                               02S0836 01159000
*             IF SCBMLMTN=ON THEN   /* IF MSGLIMIT REACHED THEN      */ 01160000
         L     @14,LCBSCBA-1(,RLCB)                             02S0836 01161000
         TM    SCBMLMTN(@14),B'00000001'                        02S0836 01162000
         BNO   @RF00836                                         02S0836 01163000
*               BDUMODIF=BDUMODIF|CD0WT;/* SET TRANSMISSION MODIFIER */ 01164000
         OI    BDUMODIF(RBDU),X'02'                             02S0837 01165000
*             ELSE                  /* MSGLIMIT HAS NOT BEEN REACHED */ 01166000
*               DO;                                             02S0838 01167000
         B     @RC00836                                         02S0838 01168000
@RF00836 DS    0H                                               02S0839 01169000
*                 IF LCBSYNC=OFF THEN/* IF TRM IS START STOP THEN    */ 01170000
         TM    LCBSYNC(RLCB),B'00000100'                        02S0839 01171000
         BNZ   @RF00839                                         02S0839 01172000
*                   IF QCBTSSES=ON THEN/* TSO BUFFER         @YM05717*/ 01173000
         SLR   @14,@14                                          02S0840 01174000
         ICM   @14,7,TRMDESTQ(RTRM)                             02S0840 01175000
         TM    QCBTSSES(@14),B'10000000'                        02S0840 01176000
         BNO   @RF00840                                         02S0840 01177000
*                     BDUMODIF=BDUMODIF|CD0WT;/* SET TRANS. MODIF.      01178000
*                                                            @YM05717*/ 01179000
         OI    BDUMODIF(RBDU),X'02'                             02S0841 01180000
*                   ELSE            /*                       @YM05717*/ 01181000
*                     BDUMODIF=BDUMODIF|CD0WD;/* SET DISC. MODIF.    */ 01182000
         B     @RC00840                                         02S0842 01183000
@RF00840 OI    BDUMODIF(RBDU),X'03'                             02S0842 01184000
*                 ELSE              /* IT IS BISYNC                  */ 01185000
*                   DO;             /* GET DCT BASE                  */ 01186000
         B     @RC00839                                         02S0843 01187000
@RF00839 DS    0H                                               02S0844 01188000
*                     RPARM=AVTCSTCS+(AVTDCTLN*(TRMCHCIN-1));   02S0844 01189000
         SLR   RPARM,RPARM                                      02S0844 01190000
         IC    RPARM,TRMCHCIN(,RTRM)                            02S0844 01191000
         BCTR  RPARM,0                                          02S0844 01192000
         MH    RPARM,AVTDCTLN(,RAVT)                            02S0844 01193000
         AL    RPARM,AVTCSTCS(,RAVT)                            02S0844 01194000
*                     IF DCTCONT=ON THEN/* IF BSC CONTENTION THEN    */ 01195000
         TM    DCTCONT(RPARM),B'00000100'                       02S0845 01196000
         BNO   @RF00845                                         02S0845 01197000
*                       BDUMODIF=BDUMODIF|CD0WM;/* SET MSG MODIF.    */ 01198000
         OI    BDUMODIF(RBDU),X'01'                             02S0846 01199000
*                     ELSE          /* IT IS NOT CONTENTION SO       */ 01200000
*                       BDUMODIF=BDUMODIF|CD0WD;/* SET DISC. MODIF.  */ 01201000
         B     @RC00845                                         02S0847 01202000
@RF00845 OI    BDUMODIF(RBDU),X'03'                             02S0847 01203000
*                   END;                                        02S0848 01204000
@RC00845 DS    0H                                               02S0849 01205000
*               END;                                            02S0849 01206000
@RC00839 DS    0H                                               02S0850 01207000
*           END;                                                02S0850 01208000
@RC00836 DS    0H                                               02S0851 01209000
*         IF SCBTRANP=OFF THEN      /* IF NOT TRANSPARENT TEXT THEN  */ 01210000
@RC00829 L     @14,LCBSCBA-1(,RLCB)                             02S0851 01211000
         TM    SCBTRANP(@14),B'10000000'                        02S0851 01212000
         BNZ   @RF00851                                         02S0851 01213000
*           CALL IPBSREOT;          /* REMOVE EOT IF IT IS LAST CHAR */ 01214000
         BAL   @14,IPBSREOT                                     02S0852 01215000
*       END;                                                    02S0853 01216000
@RF00851 DS    0H                                               02S0854 01217000
*     RPRF=PRFLINK;                 /* GET NEXT BUFFER ON SAVE CHAIN */ 01218000
@RC00820 L     @14,PRFLINK-1(,RPRF)                             02S0854 01219000
         LA    @14,0(,@14)                                      02S0854 01220000
         LR    RPRF,@14                                         02S0854 01221000
*   END;                                                        02S0855 01222000
@DE00803 LTR   RPRF,RPRF                                        02S0855 01223000
         BNZ   @DL00803                                         02S0855 01224000
*   RFY                                                         02S0856 01225000
*     RBDU UNRSTD;                                              02S0856 01226000
*   END IPBSBDUL;                                               02S0857 01227000
@EL00003 DS    0H                                               02S0857 01228000
@EF00003 DS    0H                                               02S0857 01229000
@ER00003 L     @14,@SA00003                                     02S0857 01230000
         BR    @14                                              02S0857 01231000
*                                                               02S0858 01232000
*   /*****************************************************************/ 01233000
*   /*                                                               */ 01234000
*   /* IPBSMODE: BISYNC/START STOP SET DESTINATION MODE INTERNAL     */ 01235000
*   /* PROCEDURE - THIS INTERNAL PROCEDURE BUILDS A FID0 SET         */ 01236000
*   /* DESTINATION MODE TNT INDEX PIU FOR TPOSTING TO IEDSAO. RPRF   */ 01237000
*   /* MUST HAVE THE ADDRESS OF THE BUFFER UNIT IN WHICH THE PIU IS  */ 01238000
*   /* TO BE BUILT.                                                  */ 01239000
*   /*                                                               */ 01240000
*   /*****************************************************************/ 01241000
*                                                               02S0858 01242000
*IPBSMODE:                                                      02S0858 01243000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0858 01244000
IPBSMODE ST    @14,@SA00004                                     02S0858 01245000
*   RFY                                                         02S0859 01246000
*     IEDTH BASED(ADDR(PIU0TH));                                02S0859 01247000
*   RFY                                                         02S0860 01248000
*    (RMASK,                                                    02S0860 01249000
*     RBDU,                                                     02S0860 01250000
*     RMOD) RSTD;                                               02S0860 01251000
*   TRMCMODE=OFF;                   /* RESET CHANGE MODE REQUEST     */ 01252000
         NI    TRMCMODE(RTRM),B'10111111'                       02S0861 01253000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01254000
         BAL   @14,IPBSTHRH                                     02S0862 01255000
*   TTHDCF=TTHDCF+LENGTH(MODNEW);   /* UPDATE DATA COUNT             */ 01256000
         LA    @14,PRFPIUO(,RPRF)                               02S0863 01257000
         AL    @14,@CF00059                                     02S0863 01258000
         LA    @10,2                                            02S0863 01259000
         SLR   @09,@09                                          02S0863 01260000
         ICM   @09,3,TTHDCF(@14)                                02S0863 01261000
         ALR   @10,@09                                          02S0863 01262000
         STCM  @10,3,TTHDCF(@14)                                02S0863 01263000
*   RBDU=ADDR(PIU0RU);              /* SET BDU BASE REG              */ 01264000
         LA    RBDU,PIU0RU(,@14)                                02S0864 01265000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01266000
         XC    IEDBDU(6,RBDU),IEDBDU(RBDU)                      02S0865 01267000
*   BDUCMND=CD0CTRL;                /* SET CONTROL COMMAND           */ 01268000
         MVI   BDUCMND(RBDU),X'08'                              02S0866 01269000
*   BDUMODIF=CD0CSDM;               /* SET SET DESTINATION MODIFIER  */ 01270000
         MVI   BDUMODIF(RBDU),X'9A'                             02S0867 01271000
*   RMASK=TRMRNTMK;                 /* SET MASK REPRESENTING MODE IN    01272000
*                                      THE DEVICE DEPENDENT FIELDS   */ 01273000
         LA    RMASK,16                                         02S0868 01274000
*   RPARM=RTRM+LENGTH(IEDNTRM);     /* PASS TRM ADDRESS              */ 01275000
         LA    RPARM,14                                         02S0869 01276000
         ALR   RPARM,RTRM                                       02S0869 01277000
*   CALL IEDQTL;                    /* LOCATE MODE FIELD             */ 01278000
         L     @15,AVTDDFT(,RAVT)                               02S0870 01279000
         BALR  @14,@15                                          02S0870 01280000
*   MODNMNTR=OFF;                   /* INSURE MONITOR IS OFF         */ 01281000
*   MODNMNTP=OFF;                   /* INSURE MONITOR DEACT IS OFF   */ 01282000
         NI    MODNMNTR(RMOD),B'11111100'                       02S0872 01283000
*   MODCUR=MODNEW;                  /* MAKE NEW MODE THE CURRENT MODE*/ 01284000
         MVC   MODCUR(2,RMOD),MODNEW(RMOD)                      02S0873 01285000
*   TEXT(1:2)=MODNEW;               /* MOVE MODE TO PIU TEXT         */ 01286000
         MVC   TEXT+6(2,RBDU),MODNEW(RMOD)                      02S0874 01287000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01288000
         BAL   @14,IPBSSAO                                      02S0875 01289000
*   RFY                                                         02S0876 01290000
*     IEDTH BASED;                                              02S0876 01291000
*   RFY                                                         02S0877 01292000
*    (RMASK,                                                    02S0877 01293000
*     RBDU,                                                     02S0877 01294000
*     RMOD) UNRSTD;                                             02S0877 01295000
*   END IPBSMODE;                                               02S0878 01296000
@EL00004 DS    0H                                               02S0878 01297000
@EF00004 DS    0H                                               02S0878 01298000
@ER00004 L     @14,@SA00004                                     02S0878 01299000
         BR    @14                                              02S0878 01300000
*                                                               02S0879 01301000
*   /*****************************************************************/ 01302000
*   /*                                                               */ 01303000
*   /* IPBSREOT: BISYNC/START STOP REMOVE EOT INTERNAL PROCEDURE -   */ 01304000
*   /* THIS INTERNAL PROCEDURE REMOVES AN EOT CHARACTER FROM THE     */ 01305000
*   /* OUTPUT DATA IF IT IS THE LAST CHARACTER IN THE MESSAGE. RPRF  */ 01306000
*   /* MUST HAVE THE ADDRESS OF THE LAST BUFFER OF THE MESSAGE.      */ 01307000
*   /*                                                               */ 01308000
*   /*****************************************************************/ 01309000
*                                                               02S0879 01310000
*IPBSREOT:                                                      02S0879 01311000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0879 01312000
IPBSREOT ST    @14,@SA00005                                     02S0879 01313000
*   RFY                                                         02S0880 01314000
*    (RUNIT,                                                    02S0880 01315000
*     RPUNIT,                                                   02S0880 01316000
*     RSIZE,                                                    02S0880 01317000
*     RDATA) RSTD;                  /* RESTRICT REGS                 */ 01318000
*   RUNIT=RPRF;                     /* GET FIRST UNIT                */ 01319000
         LR    RUNIT,RPRF                                       02S0881 01320000
*   DO RSIZE=PRFSIZE BY-AVTKEYLE WHILE RSIZE>AVTKEYLE;/* FIND LAST      01321000
*                                      UNIT                          */ 01322000
         LH    RSIZE,PRFSIZE(,RPRF)                             02S0882 01323000
         B     @DE00882                                         02S0882 01324000
@DL00882 DS    0H                                               02S0883 01325000
*     RPUNIT=RUNIT;                 /* SAVE PREVIOUS UNIT ADDRESS    */ 01326000
         LR    RPUNIT,RUNIT                                     02S0883 01327000
*     RUNIT=RUNIT->PRFTIC;          /* GET NEXT UNIT ADDRESS         */ 01328000
         L     RUNIT,PRFTIC(,RUNIT)                             02S0884 01329000
*   END;                                                        02S0885 01330000
         LH    @14,AVTKEYLE(,RAVT)                              02S0885 01331000
         LCR   @14,@14                                          02S0885 01332000
         ALR   RSIZE,@14                                        02S0885 01333000
@DE00882 LH    @14,AVTKEYLE(,RAVT)                              02S0885 01334000
         CLR   RSIZE,@14                                        02S0885 01335000
         BH    @DL00882                                         02S0885 01336000
*   RDATA=ADDR(RUNIT->PRFSUNIT);    /* SET DATA REG TO START OF UNIT */ 01337000
         LA    RDATA,PRFSUNIT(,RUNIT)                           02S0886 01338000
*   RDATA=RDATA+RSIZE-1;            /* SET DATA REG TO LAST BYTE     */ 01339000
         LR    @14,RDATA                                        02S0887 01340000
         ALR   @14,RSIZE                                        02S0887 01341000
         BCTR  @14,0                                            02S0887 01342000
         LR    RDATA,@14                                        02S0887 01343000
*   IF RDATA->LASTBYTE=EOT THEN     /* TEST FOR EOT                  */ 01344000
         CLI   LASTBYTE(RDATA),X'37'                            02S0888 01345000
         BNE   @RF00888                                         02S0888 01346000
*     DO;                           /* THE LAST BYTE IS AN EOT       */ 01347000
*       PRFSIZE=PRFSIZE-1;          /* DECREMENT PRFSIZE             */ 01348000
         LH    @14,PRFSIZE(,RPRF)                               02S0890 01349000
         BCTR  @14,0                                            02S0890 01350000
         STH   @14,PRFSIZE(,RPRF)                               02S0890 01351000
*       IF RSIZE=1 THEN             /* TEST FOR EOT ONLY CHAR IN UNIT*/ 01352000
         CL    RSIZE,@CF00059                                   02S0891 01353000
         BNE   @RF00891                                         02S0891 01354000
*         DO;                       /* EOT IS THE ONLY CHAR IN UNIT  */ 01355000
*           PRFNBUNT=PRFNBUNT-1;    /* DECREMENT UNIT COUNT BY ONE   */ 01356000
         SLR   @14,@14                                          02S0893 01357000
         IC    @14,PRFNBUNT(,RPRF)                              02S0893 01358000
         BCTR  @14,0                                            02S0893 01359000
         STC   @14,PRFNBUNT(,RPRF)                              02S0893 01360000
*           RPUNIT->PRFTIC=PRFINTIC;/* TIC PREVIOUS UNIT TO TWO      */ 01361000
         MVC   PRFTIC(4,RPUNIT),@CB01522                        02S0894 01362000
*           RUNIT->PRFNBUNT=1;      /* SET UNIT COUNT IN UNIT TO FREE*/ 01363000
         MVI   PRFNBUNT(RUNIT),X'01'                            02S0895 01364000
*           RUNIT->PRFQCBA=ADDR(AVTBFRTB);/* SET BFR RETURN QCB      */ 01365000
         LA    @14,AVTBFRTB(,RAVT)                              02S0896 01366000
         STCM  @14,7,PRFQCBA(RUNIT)                             02S0896 01367000
*           RUNIT->PRFPRI=PRIBFRTB; /* SET BFR RETURN PRIORITY       */ 01368000
         MVI   PRFPRI(RUNIT),X'E0'                              02S0897 01369000
*           RPARM=RUNIT;            /* SET UNIT AS ELEMENT           */ 01370000
*           CALL DSPPOSTR;          /* PUT UNIT ON READY QUEUE       */ 01371000
         LA    @15,DSPPOSTR(,RDISP)                             02S0899 01372000
         BALR  @14,@15                                          02S0899 01373000
*         END;                                                  02S0900 01374000
*     END;                                                      02S0901 01375000
*   RFY                                                         02S0902 01376000
*    (RUNIT,                                                    02S0902 01377000
*     RPUNIT,                                                   02S0902 01378000
*     RSIZE,                                                    02S0902 01379000
*     RDATA) UNRSTD;                /* RELEASE REGS TO COMPILER      */ 01380000
*   END IPBSREOT;                                               02S0903 01381000
@EL00005 DS    0H                                               02S0903 01382000
@EF00005 DS    0H                                               02S0903 01383000
@ER00005 L     @14,@SA00005                                     02S0903 01384000
         BR    @14                                              02S0903 01385000
*                                                               02S0904 01386000
*   /*****************************************************************/ 01387000
*   /*                                                               */ 01388000
*   /* IPBSSAO: BISYNC/START STOP FID0 PIU TPOST INTERNAL PROCEDURE -*/ 01389000
*   /* THIS INTERNAL PROCEDURE TPOSTS A BUFFER CONTAINING A FID0 TNT */ 01390000
*   /* INDEX PIU TO IEDSAO. RPRF MUST CONTAIN THE ADDRESS OF THE     */ 01391000
*   /* BUFFER CONTAINING THE PIU.                                    */ 01392000
*   /*                                                               */ 01393000
*   /*****************************************************************/ 01394000
*                                                               02S0904 01395000
*IPBSSAO:                                                       02S0904 01396000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0904 01397000
IPBSSAO  ST    @14,@SA00006                                     02S0904 01398000
*   PRFQCBA=SAVTSAO;                /* SET IEDSAO'S QCB ADDRESS      */ 01399000
         L     @14,AVTSAVTP(,RAVT)                              02S0905 01400000
         MVC   PRFQCBA(3,RPRF),SAVTSAO+1(@14)                   02S0905 01401000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01402000
         MVI   PRFPRI(RPRF),X'E4'                               02S0906 01403000
*   RPARM=RPRF;                     /* SET BFR AS ELEMENT            */ 01404000
         LR    RPARM,RPRF                                       02S0907 01405000
*   CALL DSPPOSTR;                  /* TPOST THE BFR TO IEDSAO       */ 01406000
         LA    @15,DSPPOSTR(,RDISP)                             02S0908 01407000
         BALR  @14,@15                                          02S0908 01408000
*   END IPBSSAO;                                                02S0909 01409000
@EL00006 DS    0H                                               02S0909 01410000
@EF00006 DS    0H                                               02S0909 01411000
@ER00006 L     @14,@SA00006                                     02S0909 01412000
         BR    @14                                              02S0909 01413000
*                                                               02S0910 01414000
*   /*****************************************************************/ 01415000
*   /*                                                               */ 01416000
*   /* IPBSTHRH: BISYNC/START STOP TH/RH BUILDER INTERNAL PROCEDURE -*/ 01417000
*   /* THIS INTERNAL PROCEDURE BUILDS A FID0 TH/RH IN THE TNT INDEX  */ 01418000
*   /* PIU. RPRF MUST HAVE THE ADDRESS OF THE BUFFER UNIT IN WHICH   */ 01419000
*   /* THE PIU IS BEING BUILT.                                       */ 01420000
*   /*                                                               */ 01421000
*   /*****************************************************************/ 01422000
*                                                               02S0910 01423000
*IPBSTHRH:                                                      02S0910 01424000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0910 01425000
IPBSTHRH ST    @14,12(,@13)                                     02S0910 01426000
*   RFY                                                         02S0911 01427000
*     IEDRH BASED(ADDR(PIU0RH));                                02S0911 01428000
*   RFY                                                         02S0912 01429000
*     IEDTH BASED(ADDR(PIU0TH));                                02S0912 01430000
*   IEDPF2=''B;                     /* INIT NEGATIVE PREFIX          */ 01431000
         LR    @14,RPRF                                         02S0913 01432000
         SL    @14,@CF00044                                     02S0913 01433000
         XC    IEDPF2(8,@14),IEDPF2(@14)                        02S0913 01434000
*   PRF2TNTI=ON;                    /* INDICATE TNT INDEX PIU        */ 01435000
         OI    PRF2TNTI(@14),B'10000000'                        02S0914 01436000
*   PRFPIUO=PIUO;                   /* SET PIU OFFSET                */ 01437000
         MVI   PRFPIUO(RPRF),X'01'                              02S0915 01438000
*   TTHBYTE0=TTH0BYT0;              /* SET FID0 CONSTANT FOR BYTE0   */ 01439000
         LA    @14,PRFPIUO(,RPRF)                               02S0916 01440000
         LA    @10,1                                            02S0916 01441000
         ALR   @10,@14                                          02S0916 01442000
         MVI   TTHBYTE0(@10),X'0C'                              02S0916 01443000
*   TTHBYTE1=TTH0BYT1;              /* SET FID0 CONSTANT FOR BYTE1   */ 01444000
         MVI   TTHBYTE1(@10),X'00'                              02S0917 01445000
*   TTHDAF=LCBTTCIN;                /* SET TNT INDEX DAF             */ 01446000
         MVC   TTHDAF(2,@10),LCBTTCIN(RLCB)                     02S0918 01447000
*   TTHOAF=SAVTTCPU;                /* SET TNT INDEX OAF OF TCAM PU  */ 01448000
         L     @09,AVTSAVTP(,RAVT)                              02S0919 01449000
         MVC   TTHOAF(2,@10),SAVTTCPU(@09)                      02S0919 01450000
*   TTHTAG=TTHTAG0;                 /* SET ZERO ID TAG               */ 01451000
         SLR   @09,@09                                          02S0920 01452000
         STCM  @09,3,TTHTAG(@10)                                02S0920 01453000
*   TTHDCF=LENGTH(PIU0RH)+LENGTH(PIU0PAD)+LENGTH(IEDBDU);/* SET DATA    01454000
*                                      COUNT FIELD                   */ 01455000
         MVC   TTHDCF(2,@10),@CH01416                           02S0921 01456000
*   IEDRH=TRHFID0;                  /* SET FID0 CONSTANT FOR RH      */ 01457000
         MVC   IEDRH+11(3,@14),@CB02033                         02S0922 01458000
*   PIU0PAD=PIU0PAD0;               /* SET CONSTANT PAD VALUE        */ 01459000
         MVI   PIU0PAD(@10),X'00'                               02S0923 01460000
*   RFY                                                         02S0924 01461000
*     IEDRH BASED;                                              02S0924 01462000
*   RFY                                                         02S0925 01463000
*     IEDTH BASED;                                              02S0925 01464000
*   END IPBSTHRH;                                               02S0926 01465000
@EL00007 DS    0H                                               02S0926 01466000
@EF00007 DS    0H                                               02S0926 01467000
@ER00007 L     @14,12(,@13)                                     02S0926 01468000
         BR    @14                                              02S0926 01469000
*                                                               02S0927 01470000
*   /*****************************************************************/ 01471000
*   /*                                                               */ 01472000
*   /* IPSNBRBP: THIS INTERNAL PROCEDURE ATTEMPTS TO OBTAIN BUFFERS  */ 01473000
*   /* VIA BUFFER STEAL. IF SUCCESSFUL, RTR RSP AND/OR BID ARE BUILT */ 01474000
*   /* AND SENT. IF BID WAS NOT SENT, THEN A MESSAGE BUFFER IS SENT. */ 01475000
*   /* IF BID WAS SENT, THE MESSAGE BUFFER IS SAVED AWAITING BID     */ 01476000
*   /* RESPONSE. IF BUFFER STEAL WAS NOT SUCCESSFUL, THE ERB IS      */ 01477000
*   /* POSTED TO QGA TO GET THE BUFFERS.                     @Y17XAIK*/ 01478000
*   /*                                                               */ 01479000
*   /*****************************************************************/ 01480000
*                                                               02S0927 01481000
*IPSNBRBP:                                                      02S0927 01482000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01483000
IPSNBRBP ST    @14,@SA00008                                     02S0927 01484000
*   CALL IEDQGA02;                  /* ATTEMPT BUFFER STEAL  @Y17XAIK*/ 01485000
         L     @15,AVTSTEAL(,RAVT)                              02S0928 01486000
         BALR  @14,@15                                          02S0928 01487000
*   IF RRETCODE^=0                  /* IF WE RETURNED FROM BUFFER       01488000
*                                      STEAL                 @Y17XAIK   01489000
*                                      WITH OUR BUFFER(S)    @Y17XAIK*/ 01490000
*     THEN                                                      02S0929 01491000
         LTR   RRETCODE,RRETCODE                                02S0929 01492000
         BZ    @RF00929                                         02S0929 01493000
*     DO;                           /* ..THEN BUILD RTR RSP/BID ETC.    01494000
*                                                            @Y17XAIK*/ 01495000
*       RPRF=RRETCODE;              /* MOVE BUFFER(S) ADDRESS   02S0931 01496000
*                                                            @Y17XAIK*/ 01497000
         LR    RPRF,RRETCODE                                    02S0931 01498000
*       CALL IPSNRTBI;              /* BUILD RTR RSP/BID ETC.   02S0932 01499000
*                                                            @Y17XAIK*/ 01500000
         BAL   @14,IPSNRTBI                                     02S0932 01501000
*     END;                          /*                       @Y17XAIK*/ 01502000
*   ELSE                                                        02S0934 01503000
*     CALL IPREQBFR;                /* ..ELSE POST ERB TO QGA   02S0934 01504000
*                                                            @Y17XAIK*/ 01505000
         B     @RC00929                                         02S0934 01506000
@RF00929 BAL   @14,IPREQBFR                                     02S0934 01507000
*   END IPSNBRBP;                   /*                       @Y17XAIK*/ 01508000
@EL00008 DS    0H                                               02S0935 01509000
@EF00008 DS    0H                                               02S0935 01510000
@ER00008 L     @14,@SA00008                                     02S0935 01511000
         BR    @14                                              02S0935 01512000
*                                                               02S0936 01513000
*   /*****************************************************************/ 01514000
*   /*                                                               */ 01515000
*   /* IPSNFOUT: THIS INTERNAL PROCEDURE SETS UP AND POSTS A BUFFER  */ 01516000
*   /* TO IEDDFOUT                                           @Y17XAIK*/ 01517000
*   /*                                                               */ 01518000
*   /*****************************************************************/ 01519000
*                                                               02S0936 01520000
*IPSNFOUT:                                                      02S0936 01521000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01522000
IPSNFOUT ST    @14,@SA00009                                     02S0936 01523000
*   PRFQCBA=SAVTDFCO;               /* SET QCB TO BE POSTED TO  02S0937 01524000
*                                      IEDDFOUT'S QCB        @Y17XAIK*/ 01525000
         L     @14,AVTSAVTP(,RAVT)                              02S0937 01526000
         MVC   PRFQCBA(3,RPRF),SAVTDFCO+1(@14)                  02S0937 01527000
*   PRFPRI=PRIOUTBD;                /* SET PRIORITY FOR OUTBOUND        01528000
*                                      MESSAGES              @Y17XAIK*/ 01529000
         MVI   PRFPRI(RPRF),X'E4'                               02S0938 01530000
*   RPARM=RPRF;                     /* SET ELEMENT TO BE POSTED IN      01531000
*                                      CORRECT REGISTER      @Y17XAIK*/ 01532000
         LR    RPARM,RPRF                                       02S0939 01533000
*   CALL DSPPOSTR;                  /* POST THE BUFFER TO IEDDFOUT      01534000
*                                      VIA THE READY         @Y17XAIK   01535000
*                                      QUEUE                 @Y17XAIK*/ 01536000
         LA    @15,DSPPOSTR(,RDISP)                             02S0940 01537000
         BALR  @14,@15                                          02S0940 01538000
*   END IPSNFOUT;                   /*                       @Y17XAIK*/ 01539000
@EL00009 DS    0H                                               02S0941 01540000
@EF00009 DS    0H                                               02S0941 01541000
@ER00009 L     @14,@SA00009                                     02S0941 01542000
         BR    @14                                              02S0941 01543000
*                                                               02S0942 01544000
*   /*****************************************************************/ 01545000
*   /*                                                               */ 01546000
*   /* IPSNRHST: THIS INTERNAL PROCEDURE SETS APPROPRIATE BITS IN THE*/ 01547000
*   /* RH OF EACH BUFFER ON THE SAVE CHAIN ACCORDING TO THE TYPE OF  */ 01548000
*   /* BUFFER.                                               @Y17XAIK*/ 01549000
*   /*                                                               */ 01550000
*   /*****************************************************************/ 01551000
*                                                               02S0942 01552000
*IPSNRHST:                                                      02S0942 01553000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01554000
IPSNRHST ST    @14,12(,@13)                                     02S0942 01555000
*   RFY                                                         02S0943 01556000
*     IEDRH BASED(ADDR(PRF1RH));    /*                       @Y17XAIK*/ 01557000
*   RPRF=LCBBFRSV;                  /* GET FIRST BUFFER ON THE SAVE     01558000
*                                      CHAIN                 @Y17XAIK*/ 01559000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S0944 01560000
         LA    RPRF,0(,RPRF)                                    02S0944 01561000
*   DO UNTIL RPRF=CHAINEND;         /* DO UNTIL ALL BUFFERS PROCESSED   01562000
*                                                            @Y17XAIK*/ 01563000
@DL00945 DS    0H                                               02S0946 01564000
*     IF PRFNHDRN=OFF               /* IF THE BUFFER IS A HEADER        01565000
*                                      BUFFER                @Y17XAIK*/ 01566000
*       THEN                                                    02S0946 01567000
         TM    PRFNHDRN(RPRF),B'00000001'                       02S0946 01568000
         BNZ   @RF00946                                         02S0946 01569000
*       DO;                         /* ..THEN PROCESS HEADER BUFFER     01570000
*                                                            @Y17XAIK*/ 01571000
*         IF PRFNLSTN=OFF           /* IF THE HEADER BUFFER IS ALSO A   01572000
*                                      LAST                  @Y17XAIK   01573000
*                                      BUFFER                @Y17XAIK*/ 01574000
*           THEN                                                02S0948 01575000
         TM    PRFNLSTN(RPRF),B'00000010'                       02S0948 01576000
         BNZ   @RF00948                                         02S0948 01577000
*           DO;                     /* ..THEN PROCESS HEADER LAST       01578000
*                                      BUFFER                @Y17XAIK*/ 01579000
*             TRHBC=ON;             /* SET BEGIN CHAIN..     @Y17XAIK*/ 01580000
*             TRHEC=ON;             /* AND SET END CHAIN(ONLY CHAIN)    01581000
*                                                            @Y17XAIK*/ 01582000
         LR    @14,RPRF                                         02S0951 01583000
         AL    @14,@CF02393                                     02S0951 01584000
         OI    TRHBC(@14),B'00000011'                           02S0951 01585000
*           END;                    /*                       @Y17XAIK*/ 01586000
*         ELSE                                                  02S0953 01587000
*           DO;                     /* ..ELSE PROCESS HEADER NOT LAST   01588000
*                                      BUFFER                @Y17XAIK*/ 01589000
         B     @RC00948                                         02S0953 01590000
@RF00948 DS    0H                                               02S0954 01591000
*             TRHBC=ON;             /* SET BEGIN CHAIN..     @Y17XAIK*/ 01592000
         LR    @14,RPRF                                         02S0954 01593000
         SL    @14,@CF00044                                     02S0954 01594000
         OI    TRHBC(@14),B'00000010'                           02S0954 01595000
*             TRHER=ON;             /* AND SET EXCEPTION RESPONSE       01596000
*                                                            @Y17XAIK*/ 01597000
         OI    TRHER(@14),B'00010000'                           02S0955 01598000
*           END;                    /*                       @Y17XAIK*/ 01599000
*       END;                        /*                       @Y17XAIK*/ 01600000
*     ELSE                                                      02S0958 01601000
*       DO;                         /* ..ELSE PROCESS TEXT BUFFER       01602000
*                                                            @Y17XAIK*/ 01603000
         B     @RC00946                                         02S0958 01604000
@RF00946 DS    0H                                               02S0959 01605000
*         IF PRFNLSTN=OFF           /* IF TEXT LAST BUFFER   @Y17XAIK*/ 01606000
*           THEN                                                02S0959 01607000
         TM    PRFNLSTN(RPRF),B'00000010'                       02S0959 01608000
         BNZ   @RF00959                                         02S0959 01609000
*           TRHEC=ON;               /* ..THEN SET END OF CHAIN  02S0960 01610000
*                                                            @Y17XAIK*/ 01611000
         LR    @14,RPRF                                         02S0960 01612000
         AL    @14,@CF02393                                     02S0960 01613000
         OI    TRHEC(@14),B'00000001'                           02S0960 01614000
*         ELSE                                                  02S0961 01615000
*           TRHER=ON;               /* ..ELSE SET MIDDLE OF CHAIN AND   01616000
*                                      EXCEPTION             @Y17XAIK   01617000
*                                      RESPONSE              @Y17XAIK*/ 01618000
         B     @RC00959                                         02S0961 01619000
@RF00959 LR    @14,RPRF                                         02S0961 01620000
         AL    @14,@CF02406                                     02S0961 01621000
         OI    TRHER-1(@14),B'00010000'                         02S0961 01622000
*       END;                        /*                       @Y17XAIK*/ 01623000
@RC00959 DS    0H                                               02S0963 01624000
*     TRHDR1=ON;                    /* SET DEFINITE RESPONSE ONE FOR    01625000
*                                      ALL BUFFERS           @Y17XAIK*/ 01626000
@RC00946 LR    @14,RPRF                                         02S0963 01627000
         SL    @14,@CF00044                                     02S0963 01628000
         OI    TRHDR1(@14),B'10000000'                          02S0963 01629000
*     PRF1FIDI=ON;                  /* FID-1 INDICATOR       @YM05981*/ 01630000
         OI    PRF1FIDI(@14),B'10000000'                        02S0964 01631000
*     RPRF=PRFLINK;                 /* GET NEXT BUFFER ON CHAIN 02S0965 01632000
*                                                            @Y17XAIK*/ 01633000
         L     @14,PRFLINK-1(,RPRF)                             02S0965 01634000
         LA    @14,0(,@14)                                      02S0965 01635000
         LR    RPRF,@14                                         02S0965 01636000
*   END;                            /*                       @Y17XAIK*/ 01637000
@DE00945 LTR   RPRF,RPRF                                        02S0966 01638000
         BNZ   @DL00945                                         02S0966 01639000
*   RFY                                                         02S0967 01640000
*     IEDRH BASED;                  /*                       @Y17XAIK*/ 01641000
*   END IPSNRHST;                   /*                       @Y17XAIK*/ 01642000
@EL00010 DS    0H                                               02S0968 01643000
@EF00010 DS    0H                                               02S0968 01644000
@ER00010 L     @14,12(,@13)                                     02S0968 01645000
         BR    @14                                              02S0968 01646000
*                                                               02S0969 01647000
*   /*****************************************************************/ 01648000
*   /*                                                               */ 01649000
*   /* IPSNRTBI: THIS INTERNAL PROCEDURE BUILDS A RESPONSE TO RTR    */ 01650000
*   /* AND/OR A BID REQUEST AND POSTS THEM TO IEDDFOUT. IF BID WAS   */ 01651000
*   /* NOT SENT, THE BUFFERS ON THE SAVE CHAIN ARE THEN POSTED TO    */ 01652000
*   /* IEDXFMO AND IEDQFA IS POSTED IF PCI IS APPROPRIATE.   @Y17XAIK*/ 01653000
*   /*                                                               */ 01654000
*   /*****************************************************************/ 01655000
*                                                               02S0969 01656000
*IPSNRTBI:                                                      02S0969 01657000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01658000
IPSNRTBI ST    @14,@SA00011                                     02S0969 01659000
*   RFY                                                         02S0970 01660000
*     IEDTH BASED(ADDR(PIUTH));     /*                       @Y17XAIK*/ 01661000
*   RFY                                                         02S0971 01662000
*     IEDRH BASED(ADDR(PIURH));     /*                       @Y17XAIK*/ 01663000
*   LCBERBCH=PRFLINK;               /* SAVE ADDRESS OF SECOND BUFFER    01664000
*                                      IF IT                 @Y17XAIK   01665000
*                                      EXISTS                @Y17XAIK*/ 01666000
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   02S0972 01667000
*   IF LCBRTRRO=ON                  /* IF RTR RESPONSE IS OWED  02S0973 01668000
*                                                            @Y17XAIK*/ 01669000
*     THEN                                                      02S0973 01670000
         TM    LCBRTRRO(RLCB),B'00000100'                       02S0973 01671000
         BNO   @RF00973                                         02S0973 01672000
*     DO;                           /* ..THEN BUILD AND SEND IT.        01673000
*                                                            @Y17XAIK*/ 01674000
*       CALL IPSNTHRH;              /* BUILD TH AND RH       @Y17XAIK*/ 01675000
         BAL   @14,IPSNTHRH                                     02S0975 01676000
*       TTHSNF=LCBTHSQ;             /* GET SAVED RTR SEQUENCE NUMBER    01677000
*                                                            @Y17XAIK*/ 01678000
         LA    @14,PRFPIUO(,RPRF)                               02S0976 01679000
         MVC   TTHSNF+1(2,@14),LCBTHSQ(RLCB)                    02S0976 01680000
*       TRHTYPE=ON;                 /* SET RESPONSE BIT      @Y17XAIK*/ 01681000
         OI    TRHTYPE+11(@14),B'10000000'                      02S0977 01682000
*       QRUCMD=CD1RTR;              /* SET RU COMMAND TO RTR @Y17XAIK*/ 01683000
         MVI   QRUCMD+14(@14),X'05'                             02S0978 01684000
*       CALL IPSNFOUT;              /* POST RTR RESPONSE TO IEDDFOUT    01685000
*                                                            @Y17XAIK*/ 01686000
         BAL   @14,IPSNFOUT                                     02S0979 01687000
*       LCBRTRRO=OFF;               /* INDICATE RESPONSE TO RTR NO      01688000
*                                      LONGER OWED           @Y17XAIK*/ 01689000
         NI    LCBRTRRO(RLCB),B'11111011'                       02S0980 01690000
*       RPRF=LCBERBCH;              /* GET SECOND BUFFER IF IT EXISTS   01691000
*                                                            @Y17XAIK*/ 01692000
         L     RPRF,LCBERBCH-1(,RLCB)                           02S0981 01693000
         LA    RPRF,0(,RPRF)                                    02S0981 01694000
*       LCBERBCH=CHAINEND;          /* CLEAR SAVE LOCATION   @Y17XAIK*/ 01695000
         SLR   @14,@14                                          02S0982 01696000
         STCM  @14,7,LCBERBCH(RLCB)                             02S0982 01697000
*     END;                          /*                       @Y17XAIK*/ 01698000
*   ELSE                                                        02S0984 01699000
*     ;                             /*                       @Y17XAIK*/ 01700000
@RF00973 DS    0H                                               02S0985 01701000
*   IF LCBMHBID=ON                  /* IF BID IS REQUESTED   @Y17XAIK*/ 01702000
*     THEN                                                      02S0985 01703000
         TM    LCBMHBID(RLCB),B'00000010'                       02S0985 01704000
         BNO   @RF00985                                         02S0985 01705000
*     DO;                           /* ..THEN SEND BID       @Y17XAIK*/ 01706000
*       CALL IPSNTHRH;              /* BUILD TH AND RH       @Y17XAIK*/ 01707000
         BAL   @14,IPSNTHRH                                     02S0987 01708000
*       QRUCMD=CD1BID;              /* SET RU COMMAND TO BID @Y17XAIK*/ 01709000
         LA    @14,PRFPIUO(,RPRF)                               02S0988 01710000
         MVI   QRUCMD+14(@14),X'C8'                             02S0988 01711000
*       CALL IPSNFOUT;              /* POST BID TO IEDDFOUT  @Y17XAIK*/ 01712000
         BAL   @14,IPSNFOUT                                     02S0989 01713000
*       LCBMHBID=OFF;               /* INDICATE BID NO LONGER   02S0990 01714000
*                                      REQUIRED              @Y17XAIK*/ 01715000
         NI    LCBMHBID(RLCB),B'11111101'                       02S0990 01716000
*     END;                          /*                       @Y17XAIK*/ 01717000
*   ELSE                                                        02S0992 01718000
*     DO;                           /* ..ELSE POST BUFFERS ON THE       01719000
*                                      SAVE CHAIN TO IEDXFMO @Y17XAIK*/ 01720000
         B     @RC00985                                         02S0992 01721000
@RF00985 DS    0H                                               02S0993 01722000
*       CALL IPSNRHST;              /* SET APPROPRIATE BITS IN BUFFER   01723000
*                                      RH'S                  @Y17XAIK*/ 01724000
         BAL   @14,IPSNRHST                                     02S0993 01725000
*       CALL IPXFMO;                /* POST THE BUFFERS TO IEDXFMO      01726000
*                                                            @Y17XAIK*/ 01727000
         BAL   @14,IPXFMO                                       02S0994 01728000
*       IF LGBOPACE=0&LGBPCINO=OFF&LCBEOMSG=OFF&LCBMSGNN=OFF/* IF WE    01729000
*                                      ARE NOT PACING THIS SNA FLOW     01730000
*                                      AND PCI=(,A) AND THERE ARE       01731000
*                                      MORE BUFFERS ON THE QUEUE FOR    01732000
*                                      THIS MESSAGE AND THIS IS NOT A   01733000
*                                      MSGGEN BUFFER         @YM06454*/ 01734000
*         THEN                                                  02S0995 01735000
         L     @14,LCBDCBPT(,RLCB)                              02S0995 01736000
         CLI   LGBOPACE(@14),0                                  02S0995 01737000
         BNE   @RF00995                                         02S0995 01738000
         TM    LGBPCINO(@14),B'00000100'                        02S0995 01739000
         BNZ   @RF00995                                         02S0995 01740000
         TM    LCBEOMSG(RLCB),B'01000000'                       02S0995 01741000
         BNZ   @RF00995                                         02S0995 01742000
         TM    LCBMSGNN(RLCB),B'01000000'                       02S0995 01743000
         BNZ   @RF00995                                         02S0995 01744000
*         CALL IPQFAPST;            /* THEN POST QFA TO GET THE 02S0996 01745000
*                                      BUFFERS               @Y17XAIK*/ 01746000
         BAL   @14,IPQFAPST                                     02S0996 01747000
*       ELSE                                                    02S0997 01748000
*         ;                         /*                       @Y17XAIK*/ 01749000
@RF00995 DS    0H                                               02S0998 01750000
*     END;                          /*                       @Y17XAIK*/ 01751000
*   RFY                                                         02S0999 01752000
*     IEDRH BASED;                  /*                       @Y17XAIK*/ 01753000
*   RFY                                                         02S1000 01754000
*     IEDTH BASED;                  /*                       @Y17XAIK*/ 01755000
*   END IPSNRTBI;                   /*                       @Y17XAIK*/ 01756000
@EL00011 DS    0H                                               02S1001 01757000
@EF00011 DS    0H                                               02S1001 01758000
@ER00011 L     @14,@SA00011                                     02S1001 01759000
         BR    @14                                              02S1001 01760000
*                                                               02S1002 01761000
*   /*****************************************************************/ 01762000
*   /*                                                               */ 01763000
*   /* IPSNTHRH: THIS INTERNAL PROCEDURE BUILDS THE TH AND RH FOR A  */ 01764000
*   /* FID1 PIU' AND SETS UP THE BUFFER ACCORDINGLY          @Y17XAIK*/ 01765000
*   /*                                                               */ 01766000
*   /*****************************************************************/ 01767000
*                                                               02S1002 01768000
*IPSNTHRH:                                                      02S1002 01769000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01770000
IPSNTHRH ST    @14,12(,@13)                                     02S1002 01771000
*   RFY                                                         02S1003 01772000
*     IEDRH BASED(ADDR(PIURH));     /*                       @Y17XAIK*/ 01773000
*   RFY                                                         02S1004 01774000
*     IEDTH BASED(ADDR(PIUTH));     /*                       @Y17XAIK*/ 01775000
*   BUFTOCLR(1:BUFTCLEN)=BUFTOCLR(1:BUFTCLEN)&&/*            @Y17XAIK*/ 01776000
*       BUFTOCLR(1:BUFTCLEN);       /* CLEAR PORTION OF BUFFER IN       01777000
*                                      WHICH                 @Y17XAIK   01778000
*                                      PIU PRIME IS TO BE BUILT 02S1005 01779000
*                                                            @Y17XAIK*/ 01780000
         LR    @14,RPRF                                         02S1005 01781000
         SL    @14,@CF00044                                     02S1005 01782000
         SLR   @10,@10                                          02S1005 01783000
         IC    @10,BUFTCLEN                                     02S1005 01784000
         BCTR  @10,0                                            02S1005 01785000
         EX    @10,@SX02407                                     02S1005 01786000
*   PRF2TNTI=ON;                    /* INDICATE A PIU PRIME  @Y17XAIK*/ 01787000
         OI    PRF2TNTI(@14),B'10000000'                        02S1006 01788000
*   PRFTIC=PRFINTIC;                /* RESTORE BUFFER INDICATORS        01789000
*                                                            @Y17XAIK*/ 01790000
         MVC   PRFTIC(4,RPRF),@CB01522                          02S1007 01791000
*   PRFPIUO=PIUO;                   /* SET OFFSET TO PIU' IN THE        01792000
*                                      BUFFER                @Y17XAIK*/ 01793000
         MVI   PRFPIUO(RPRF),X'01'                              02S1008 01794000
*   TTHFTYPE=TTHFID1;               /* SET FID1 INDICATION   @Y17XAIK*/ 01795000
         LA    @14,PRFPIUO(,RPRF)                               02S1009 01796000
         LA    @10,1                                            02S1009 01797000
         ALR   @10,@14                                          02S1009 01798000
         NI    TTHFTYPE(@10),B'00011111'                        02S1009 01799000
         OI    TTHFTYPE(@10),B'00010000'                        02S1009 01800000
*   TTHBBIU=ON;                     /* SET BEGINNING SEGMENT..  02S1010 01801000
*                                                            @Y17XAIK*/ 01802000
*   TTHEBIU=ON;                     /* AND SET ENDING SEGMENT TO        01803000
*                                      INDICATE ONLY         @Y17XAIK   01804000
*                                      SEGMENT               @Y17XAIK*/ 01805000
         OI    TTHBBIU(@10),B'00001100'                         02S1011 01806000
*   SIBPTR=TRMSIBPT;                /* GET SIB ADDRESSABILITY   02S1012 01807000
*                                                            @Y17XAIK*/ 01808000
         SLR   SIBPTR,SIBPTR                                    02S1012 01809000
         ICM   SIBPTR,7,TRMSIBPT(RTRM)                          02S1012 01810000
*   TTHOAF=SIBINDEX;                /* SOURCE TTCIN FROM SIB @Y17XAIK*/ 01811000
         MVC   TTHOAF(2,@10),SIBINDEX(SIBPTR)                   02S1013 01812000
*   TTHDAF=LCBTTCIN;                /* DESTINATION TTCIN FROM PLCB      01813000
*                                                            @YM07708*/ 01814000
         MVC   TTHDAF(2,@10),LCBTTCIN(RLCB)                     02S1014 01815000
*   TTHDCF=LENGTH(IEDRH)+LENGTH(QRUCMD);/* RH + RU LENGTH    @Y17XAIK*/ 01816000
         MVC   TTHDCF(2,@10),@CH00326                           02S1015 01817000
*   TRHRUCAT=TRHDFC;                /* SET DATA FLOW CONTROL PIU        01818000
*                                                            @Y17XAIK*/ 01819000
         AL    @14,@CF02384                                     02S1016 01820000
         NI    TRHRUCAT(@14),B'11011111'                        02S1016 01821000
         OI    TRHRUCAT(@14),B'01000000'                        02S1016 01822000
*   TRHFI=ON;                       /* SET FORMATTED INDICATOR  02S1017 01823000
*                                                            @Y17XAIK*/ 01824000
*   TRHBC=ON;                       /* SET BEGINNING OF CHAIN.. 02S1018 01825000
*                                                            @Y17XAIK*/ 01826000
*   TRHEC=ON;                       /* AND SET END OF CHAIN TO  02S1019 01827000
*                                      INDICATE ONLY CHAIN   @Y17XAIK*/ 01828000
         OI    TRHFI(@14),B'00001011'                           02S1019 01829000
*   TRHDR1=ON;                      /* SET DEFINITE RESPONSE ONE        01830000
*                                                            @Y17XAIK*/ 01831000
         OI    TRHDR1(@14),B'10000000'                          02S1020 01832000
*   RFY                                                         02S1021 01833000
*    (IEDRH,                                                    02S1021 01834000
*     IEDTH) BASED;                 /*                       @Y17XAIK*/ 01835000
*   END IPSNTHRH;                   /*                       @Y17XAIK*/ 01836000
@EL00012 DS    0H                                               02S1022 01837000
@EF00012 DS    0H                                               02S1022 01838000
@ER00012 L     @14,12(,@13)                                     02S1022 01839000
         BR    @14                                              02S1022 01840000
*                                                               02S1023 01841000
*   /*****************************************************************/ 01842000
*   /*                                                               */ 01843000
*   /* IPCHNBFR: CHAIN BUFFER INTERNAL PROCEDURE - THIS INTERNAL     */ 01844000
*   /* PROCEDURE CHAINS A BUFFER ONTO THE END OF THE PLCB BUFFER SAVE*/ 01845000
*   /* CHAIN. RPRF MUST HAVE THE ADDRESS OF THE BUFFER TO BE ADDED TO*/ 01846000
*   /* THE END OF THE SAVE CHAIN.                                    */ 01847000
*   /*                                                               */ 01848000
*   /*****************************************************************/ 01849000
*                                                               02S1023 01850000
*IPCHNBFR:                                                      02S1023 01851000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1023 01852000
IPCHNBFR ST    @14,12(,@13)                                     02S1023 01853000
*   RPARM=LCBBFRSV;                 /* GET FIRST BFR IN SAVE CHAIN   */ 01854000
         L     RPARM,LCBBFRSV-1(,RLCB)                          02S1024 01855000
         LA    RPARM,0(,RPARM)                                  02S1024 01856000
*   DO WHILE RPARM->PRFLINK^=CHAINEND;/* SEARCH FOR END OF CHAIN     */ 01857000
         B     @DE01025                                         02S1025 01858000
@DL01025 DS    0H                                               02S1026 01859000
*     RPARM=RPARM->PRFLINK;         /* GET NEXT BFR IN CHAIN         */ 01860000
         L     @14,PRFLINK-1(,RPARM)                            02S1026 01861000
         LA    @14,0(,@14)                                      02S1026 01862000
         LR    RPARM,@14                                        02S1026 01863000
*   END;                                                        02S1027 01864000
@DE01025 L     @14,PRFLINK-1(,RPARM)                            02S1027 01865000
         LA    @14,0(,@14)                                      02S1027 01866000
         LTR   @14,@14                                          02S1027 01867000
         BNZ   @DL01025                                         02S1027 01868000
*   RPARM->PRFLINK=RPRF;            /* LINK NEW BFR TO END OF CHAIN  */ 01869000
         STCM  RPRF,7,PRFLINK(RPARM)                            02S1028 01870000
*   PRFLINK=CHAINEND;               /* SET NEW BFR AS END OF CHAIN   */ 01871000
         SLR   @14,@14                                          02S1029 01872000
         STCM  @14,7,PRFLINK(RPRF)                              02S1029 01873000
*   END IPCHNBFR;                                               02S1030 01874000
@EL00013 DS    0H                                               02S1030 01875000
@EF00013 DS    0H                                               02S1030 01876000
@ER00013 L     @14,12(,@13)                                     02S1030 01877000
         BR    @14                                              02S1030 01878000
*                                                               02S1031 01879000
*   /*****************************************************************/ 01880000
*   /*                                                               */ 01881000
*   /* IPERRBFR: OUTPUT ERROR BUFFER INTERNAL PROCEDURE - THIS       */ 01882000
*   /* INTERNAL PROCEDURE BUILDS AND TPOSTS AN ERROR BUFFER TO THE   */ 01883000
*   /* OUTPUT MH. LCBBFRSV MUST CONTAIN THE ADDRESS OF THE OUTPUT    */ 01884000
*   /* BUFFER ON THE SAVE CHAIN.                             @Y17XAIK*/ 01885000
*   /*                                                               */ 01886000
*   /*****************************************************************/ 01887000
*                                                               02S1031 01888000
*IPERRBFR:                                                      02S1031 01889000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01890000
IPERRBFR ST    @14,@SA00014                                     02S1031 01891000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR IN SAVE CHAIN      01892000
*                                                            @Y17XAIK*/ 01893000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S1032 01894000
         LA    RPRF,0(,RPRF)                                    02S1032 01895000
*   LCBBFRSV=PRFLINK;               /* DELINK IT             @Y17XAIK*/ 01896000
         MVC   LCBBFRSV(3,RLCB),PRFLINK(RPRF)                   02S1033 01897000
*   PRFNLSTN=OFF;                   /* MARK BFR LAST         @Y17XAIK*/ 01898000
         NI    PRFNLSTN(RPRF),B'11111101'                       02S1034 01899000
*   PRFSIZE=0;                      /* SET ZERO SIZE         @Y17XAIK*/ 01900000
         SLR   @14,@14                                          02S1035 01901000
         STH   @14,PRFSIZE(,RPRF)                               02S1035 01902000
*   PRFQCBA=LCBMHA;                 /* SET MH QCB ADDR       @YM06085*/ 01903000
         MVC   PRFQCBA(3,RPRF),LCBMHA(RLCB)                     02S1036 01904000
*   PRFPRI=PRIERBFR;                /* SET ERROR BFR PRIORITY   02S1037 01905000
*                                                            @Y17XAIK*/ 01906000
         MVI   PRFPRI(RPRF),X'E3'                               02S1037 01907000
*   RPARM=RPRF;                     /* SET BFR AS ELEMENT    @Y17XAIK*/ 01908000
         LR    RPARM,RPRF                                       02S1038 01909000
*   CALL DSPPOSTR;                  /* TPOST BFR TO OUTPUT MH   02S1039 01910000
*                                                            @Y17XAIK*/ 01911000
         LA    @15,DSPPOSTR(,RDISP)                             02S1039 01912000
         BALR  @14,@15                                          02S1039 01913000
*   END IPERRBFR;                   /*                       @Y17XAIK*/ 01914000
@EL00014 DS    0H                                               02S1040 01915000
@EF00014 DS    0H                                               02S1040 01916000
@ER00014 L     @14,@SA00014                                     02S1040 01917000
         BR    @14                                              02S1040 01918000
*                                                               02S1041 01919000
*   /*****************************************************************/ 01920000
*   /*                                                               */ 01921000
*   /* IPFREBFR: FREE BUFFER INTERNAL PROCEDURE - THIS INTERNAL      */ 01922000
*   /* PROCEDURE FREES ALL OF THE BUFFERS THAT ARE CHAINED ON THE    */ 01923000
*   /* BUFFER SAVE CHAIN. LCBBFRSV MUST CONTAIN THE ADDRESS OF THE   */ 01924000
*   /* FIRST BUFFER IN THE CHAIN.                            @Y17XAIK*/ 01925000
*   /*                                                               */ 01926000
*   /*****************************************************************/ 01927000
*                                                               02S1041 01928000
*IPFREBFR:                                                      02S1041 01929000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01930000
IPFREBFR ST    @14,@SA00015                                     02S1041 01931000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR IN SAVE CHAIN      01932000
*                                                            @Y17XAIK*/ 01933000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S1042 01934000
         LA    RPRF,0(,RPRF)                                    02S1042 01935000
*   DO UNTIL RPRF=CHAINEND;         /* FREE ALL BUFFERS ON LCBBFRSV     01936000
*                                                            @Y17XAIK*/ 01937000
@DL01043 DS    0H                                               02S1044 01938000
*     PRFQCBA=ADDR(AVTBFRTB);       /* SET BFR RETURN QCB ADDRESS       01939000
*                                                            @Y17XAIK*/ 01940000
         LA    @14,AVTBFRTB(,RAVT)                              02S1044 01941000
         STCM  @14,7,PRFQCBA(RPRF)                              02S1044 01942000
*     PRFPRI=PRIBFRTB;              /* SET BFR RETURN PRIORITY  02S1045 01943000
*                                                            @Y17XAIK*/ 01944000
         MVI   PRFPRI(RPRF),X'E0'                               02S1045 01945000
*     RPARM=RPRF;                   /* SET BFR AS ELEMENT    @Y17XAIK*/ 01946000
         LR    RPARM,RPRF                                       02S1046 01947000
*     RPRF=PRFLINK;                 /* GET NEXT BFR          @Y17XAIK*/ 01948000
         L     @14,PRFLINK-1(,RPRF)                             02S1047 01949000
         LA    @14,0(,@14)                                      02S1047 01950000
         LR    RPRF,@14                                         02S1047 01951000
*     CALL DSPPOSTR;                /* TPOST BFR TO BFR RETURN  02S1048 01952000
*                                                            @Y17XAIK*/ 01953000
         LA    @15,DSPPOSTR(,RDISP)                             02S1048 01954000
         BALR  @14,@15                                          02S1048 01955000
*   END;                            /*                       @Y17XAIK*/ 01956000
@DE01043 SLR   @14,@14                                          02S1049 01957000
         CR    RPRF,@14                                         02S1049 01958000
         BNE   @DL01043                                         02S1049 01959000
*   LCBBFRSV=CHAINEND;              /* CLEAR SAVE CHAIN POINTER 02S1050 01960000
*                                                            @Y17XAIK*/ 01961000
         STCM  @14,7,LCBBFRSV(RLCB)                             02S1050 01962000
*   END IPFREBFR;                   /*                       @Y17XAIK*/ 01963000
@EL00015 DS    0H                                               02S1051 01964000
@EF00015 DS    0H                                               02S1051 01965000
@ER00015 L     @14,@SA00015                                     02S1051 01966000
         BR    @14                                              02S1051 01967000
*                                                               02S1052 01968000
*   /*****************************************************************/ 01969000
*   /*                                                               */ 01970000
*   /* IPQFAPST: THIS INTERNAL PROCEDURE DETERMINES THE NUMBER OF    */ 01971000
*   /* BUFFERS TO REQUEST FROM IEDQFA FOR PCI, AND THEN POSTS THE ERB*/ 01972000
*   /* TO QFA TO GET THEM                                    @Y17XAIK*/ 01973000
*   /*                                                               */ 01974000
*   /*****************************************************************/ 01975000
*                                                               02S1052 01976000
*IPQFAPST:                                                      02S1052 01977000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @Y17XAIK*/ 01978000
IPQFAPST ST    @14,@SA00016                                     02S1052 01979000
*   LCBRBCT1=LGBBUFMA-(LGBBUFOU&'0F'X);/* CALCULATE NUMBER OF   02S1053 01980000
*                                                            @Y17XAIK   01981000
*                                      BUFFERS TO REQUEST    @Y17XAIK*/ 01982000
         L     @14,LCBDCBPT(,RLCB)                              02S1053 01983000
         LA    @10,15                                           02S1053 01984000
         SLR   @09,@09                                          02S1053 01985000
         IC    @09,LGBBUFOU(,@14)                               02S1053 01986000
         NR    @10,@09                                          02S1053 01987000
         LCR   @10,@10                                          02S1053 01988000
         SLR   @09,@09                                          02S1053 01989000
         IC    @09,LGBBUFMA(,@14)                               02S1053 01990000
         ALR   @10,@09                                          02S1053 01991000
         STC   @10,LCBRBCT1(,RLCB)                              02S1053 01992000
*   IF LCBRBCT1>0                   /* IF NUMBER IS GREATER THAN ZERO   01993000
*                                                            @Y17XAIK*/ 01994000
*     THEN                                                      02S1054 01995000
         CLI   LCBRBCT1(RLCB),0                                 02S1054 01996000
         BNH   @RF01054                                         02S1054 01997000
*     DO;                           /* ..THEN CONTINUE WITH REQUEST     01998000
*                                                            @Y17XAIK*/ 01999000
*       LCBERBQB=ADDR(AVTDSIOB);    /* QCB TO POST IS THAT OF IEDQFA    02000000
*                                                            @Y17XAIK*/ 02001000
         LA    @14,AVTDSIOB(,RAVT)                              02S1056 02002000
         STCM  @14,7,LCBERBQB(RLCB)                             02S1056 02003000
*       LCBERBPY=PRIFSPCI;          /* SET UP PRIORITY       @Y17XAIK*/ 02004000
         MVI   LCBERBPY(RLCB),X'E8'                             02S1057 02005000
*       LCBDLNKN=OFF;               /* INDICATE ERB IS POSTED   02S1058 02006000
*                                                            @Y17XAIK*/ 02007000
         NI    LCBDLNKN(RLCB),B'11111110'                       02S1058 02008000
*       RPARM=ADDR(LCBERB);         /* SET ERB AS ELEMENT TO BE 02S1059 02009000
*                                      POSTED                @Y17XAIK*/ 02010000
         LA    RPARM,LCBERB(,RLCB)                              02S1059 02011000
*       CALL DSPPOSTR;              /* POST ERB TO IEDQFA VIA THE       02012000
*                                      READY QUEUE           @Y17XAIK*/ 02013000
         LA    @15,DSPPOSTR(,RDISP)                             02S1060 02014000
         BALR  @14,@15                                          02S1060 02015000
*     END;                          /*                       @Y17XAIK*/ 02016000
*   ELSE                                                        02S1062 02017000
*     ;                             /*                       @Y17XAIK*/ 02018000
@RF01054 DS    0H                                               02S1063 02019000
*   END IPQFAPST;                   /*                       @Y17XAIK*/ 02020000
@EL00016 DS    0H                                               02S1063 02021000
@EF00016 DS    0H                                               02S1063 02022000
@ER00016 L     @14,@SA00016                                     02S1063 02023000
         BR    @14                                              02S1063 02024000
*                                                               02S1064 02025000
*   /*****************************************************************/ 02026000
*   /*                                                               */ 02027000
*   /* IPREQBFR: REQUEST BUFFER INTERNAL PROCEDURE - THIS INTERNAL   */ 02028000
*   /* PROCEDURE SETS UP AND TPOSTS THE ERB TO IEDQGA TO REQUEST     */ 02029000
*   /* BUFFERS. RBFRNUM MUST HAVE THE NUMBER OF BUFFERS TO REQUEST   */ 02030000
*   /* AND RUNITNUM MUST HAVE THE NUMBER OF UNITS PER BUFFER.        */ 02031000
*   /*                                                               */ 02032000
*   /*****************************************************************/ 02033000
*                                                               02S1064 02034000
*IPREQBFR:                                                      02S1064 02035000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1064 02036000
IPREQBFR ST    @14,@SA00017                                     02S1064 02037000
*   RFY                                                         02S1065 02038000
*    (RUNITNUM,                                                 02S1065 02039000
*     RBFRNUM) RSTD;                                            02S1065 02040000
*   LCBRBCT1=RBFRNUM;               /* SET NUMBER OF BUFFERS TO REQ. */ 02041000
         STC   RBFRNUM,LCBRBCT1(,RLCB)                          02S1066 02042000
*   LCBRBCT2=RUNITNUM;              /* SET NUMBER OF UNITS PER BFR   */ 02043000
         STC   RUNITNUM,LCBRBCT2(,RLCB)                         02S1067 02044000
*   LCBPRCPG=ON;                    /* INDICATE TO IEDQGA TO RETURN     02045000
*                                      THE ERB TO THE QCB IN LCBRCQCB*/ 02046000
         OI    LCBPRCPG(RLCB),B'00000010'                       02S1068 02047000
*   LCBRCQCB=SAVTDNIR;              /* SET RETURN TO THIS MODULE     */ 02048000
         L     @14,AVTSAVTP(,RAVT)                              02S1069 02049000
         L     @14,SAVTDNIR(,@14)                               02S1069 02050000
         ST    @14,LCBRCQCB(,RLCB)                              02S1069 02051000
*   LCBERBQB=ADDR(AVTBFREB);        /* SET BFR REQUEST QCB IN ERB    */ 02052000
         LA    @14,AVTBFREB(,RAVT)                              02S1070 02053000
         STCM  @14,7,LCBERBQB(RLCB)                             02S1070 02054000
*   LCBERBPY=PRIINTRQ;              /* SET INITIAL REQUEST PRIORITY  */ 02055000
         MVI   LCBERBPY(RLCB),X'E4'                             02S1071 02056000
*   RPARM=ADDR(LCBERB);             /* SET ERB AS ELEMENT            */ 02057000
         LA    RPARM,LCBERB(,RLCB)                              02S1072 02058000
*   CALL DSPPOSTR;                  /* PUT ERB ON THE READY QUEUE    */ 02059000
         LA    @15,DSPPOSTR(,RDISP)                             02S1073 02060000
         BALR  @14,@15                                          02S1073 02061000
*   END IPREQBFR;                                               02S1074 02062000
@EL00017 DS    0H                                               02S1074 02063000
@EF00017 DS    0H                                               02S1074 02064000
@ER00017 L     @14,@SA00017                                     02S1074 02065000
         BR    @14                                              02S1074 02066000
*   RFY                                                         02S1075 02067000
*    (RUNITNUM,                                                 02S1075 02068000
*     RBFRNUM) UNRSTD;                                          02S1075 02069000
*                                                               02S1076 02070000
*   /*****************************************************************/ 02071000
*   /*                                                               */ 02072000
*   /* IPXFMO: POST BUFFERS TO IEDXFMO INTERNAL PROCEDURE - THIS     */ 02073000
*   /* INTERNAL PROCEDURE POSTS THE BUFFERS ON THE PLCB BUFFER SAVE  */ 02074000
*   /* CHAIN TO IEDXFMO. LCBBFRSV MUST CONTAIN THE ADDRESS OF THE    */ 02075000
*   /* FIRST BUFFER IN THE SAVE CHAIN.                               */ 02076000
*   /*                                                               */ 02077000
*   /*****************************************************************/ 02078000
*                                                               02S1076 02079000
*IPXFMO:                                                        02S1076 02080000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1076 02081000
IPXFMO   ST    @14,@SA00018                                     02S1076 02082000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR IN SAVE CHAIN   */ 02083000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S1077 02084000
         LA    RPRF,0(,RPRF)                                    02S1077 02085000
*   DO UNTIL RPRF=CHAINEND;         /* POST SAVE CHAIN BFRS TO XFMO  */ 02086000
@DL01078 DS    0H                                               02S1079 02087000
*     PRFQCBA=SAVTXFMO;             /* SET IEDXFMO QCB ADDR  @YM03681*/ 02088000
         L     @14,AVTSAVTP(,RAVT)                              02S1079 02089000
         MVC   PRFQCBA(3,RPRF),SAVTXFMO+1(@14)                  02S1079 02090000
*     PRFPRI=PRIOUTBD;              /* SET NORMAL OUTBOUND PRIORITY  */ 02091000
         MVI   PRFPRI(RPRF),X'E4'                               02S1080 02092000
*     RPARM=RPRF;                   /* SET BFR AS ELEMENT            */ 02093000
         LR    RPARM,RPRF                                       02S1081 02094000
*     RPRF=PRFLINK;                 /* GET NEXT BFR IN SAVE CHAIN    */ 02095000
         L     @14,PRFLINK-1(,RPRF)                             02S1082 02096000
         LA    @14,0(,@14)                                      02S1082 02097000
         LR    RPRF,@14                                         02S1082 02098000
*     CALL DSPPOSTR;                /* PUT BFR ON READY QUEUE        */ 02099000
         LA    @15,DSPPOSTR(,RDISP)                             02S1083 02100000
         BALR  @14,@15                                          02S1083 02101000
*   END;                                                        02S1084 02102000
@DE01078 SLR   @14,@14                                          02S1084 02103000
         CR    RPRF,@14                                         02S1084 02104000
         BNE   @DL01078                                         02S1084 02105000
*   LCBBFRSV=CHAINEND;              /* CLEAR SAVE CHAIN POINTER      */ 02106000
         STCM  @14,7,LCBBFRSV(RLCB)                             02S1085 02107000
*   END IPXFMO;                                                 02S1086 02108000
@EL00018 DS    0H                                               02S1086 02109000
@EF00018 DS    0H                                               02S1086 02110000
@ER00018 L     @14,@SA00018                                     02S1086 02111000
         BR    @14                                              02S1086 02112000
*   END IEDNGD                                                  01S1087 02113000
*                                                               01S1087 02114000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 02115000
*/*%INCLUDE SYSLIB  (TAVTD   )                                       */ 02116000
*/*%INCLUDE SYSLIB  (TBDUD   )                                       */ 02117000
*/*%INCLUDE SYSLIB  (TCD0D   )                                       */ 02118000
*/*%INCLUDE SYSLIB  (TCD1D   )                                       */ 02119000
*/*%INCLUDE SYSLIB  (TDCTD   )                                       */ 02120000
*/*%INCLUDE SYSLIB  (TDISPD  )                                       */ 02121000
*/*%INCLUDE SYSLIB  (TLCBD   )                                       */ 02122000
*/*%INCLUDE SYSLIB  (TLGBD   )                                       */ 02123000
*/*%INCLUDE SYSLIB  (TMODD   )                                       */ 02124000
*/*%INCLUDE SYSLIB  (TPIUD   )                                       */ 02125000
*/*%INCLUDE SYSLIB  (TPIU0D  )                                       */ 02126000
*/*%INCLUDE SYSLIB  (TPRFD   )                                       */ 02127000
*/*%INCLUDE SYSLIB  (TPRIOR  )                                       */ 02128000
*/*%INCLUDE SYSLIB  (TQCBD   )                                       */ 02129000
*/*%INCLUDE SYSLIB  (TSCBD   )                                       */ 02130000
*/*%INCLUDE SYSLIB  (TSIBD   )                                       */ 02131000
*/*%INCLUDE SYSLIB  (TRHD    )                                       */ 02132000
*/*%INCLUDE SYSLIB  (TTRMD   )                                       */ 02133000
*/*%INCLUDE SYSLIB  (TTHD    )                                       */ 02134000
*/*%INCLUDE SYSUT5  (RFY     )                                       */ 02135000
*/*%INCLUDE SYSUT5  (DCL     )                                       */ 02136000
*/*%INCLUDE SYSUT5  (PROLOGUE)                                       */ 02137000
*/*%INCLUDE SYSUT5  (PROCESS )                                       */ 02138000
*/*%INCLUDE SYSUT5  (BUFFER  )                                       */ 02139000
*/*%INCLUDE SYSUT5  (SNASSCP )                                       */ 02140000
*/*%INCLUDE SYSUT5  (SNALURSM)                                       */ 02141000
*/*%INCLUDE SYSUT5  (SNALURQ )                                       */ 02142000
*/*%INCLUDE SYSUT5  (BSWRITE )                                       */ 02143000
*/*%INCLUDE SYSUT5  (ERB     )                                       */ 02144000
*/*%INCLUDE SYSUT5  (SNAERBRT)                                       */ 02145000
*/*%INCLUDE SYSUT5  (SNAMSGEN)                                       */ 02146000
*/*%INCLUDE SYSUT5  (BSERBRT )                                       */ 02147000
*/*%INCLUDE SYSUT5  (BSMSGEN )                                       */ 02148000
*/*%INCLUDE SYSUT5  (IPBSBDUD)                                       */ 02149000
*/*%INCLUDE SYSUT5  (IPBSBDUL)                                       */ 02150000
*/*%INCLUDE SYSUT5  (IPBSMODE)                                       */ 02151000
*/*%INCLUDE SYSUT5  (IPBSREOT)                                       */ 02152000
*/*%INCLUDE SYSUT5  (IPBSSAO )                                       */ 02153000
*/*%INCLUDE SYSUT5  (IPBSTHRH)                                       */ 02154000
*/*%INCLUDE SYSUT5  (IPSNBRBP)                                       */ 02155000
*/*%INCLUDE SYSUT5  (IPSNFOUT)                                       */ 02156000
*/*%INCLUDE SYSUT5  (IPSNRHST)                                       */ 02157000
*/*%INCLUDE SYSUT5  (IPSNRTBI)                                       */ 02158000
*/*%INCLUDE SYSUT5  (IPSNTHRH)                                       */ 02159000
*/*%INCLUDE SYSUT5  (IPCHNBFR)                                       */ 02160000
*/*%INCLUDE SYSUT5  (IPERRBFR)                                       */ 02161000
*/*%INCLUDE SYSUT5  (IPFREBFR)                                       */ 02162000
*/*%INCLUDE SYSUT5  (IPQFAPST)                                       */ 02163000
*/*%INCLUDE SYSUT5  (IPREQBFR)                                       */ 02164000
*/*%INCLUDE SYSUT5  (IPXFMO  )                                       */ 02165000
*                                                               01S1087 02166000
*       ;                                                       01S1087 02167000
@DATA    DS    0H                                                       02168000
@CH00326 DC    H'4'                                                     02169000
@CH00152 DC    H'5'                                                     02170000
@CH01416 DC    H'10'                                                    02171000
@SX02407 XC    BUFTOCLR(0,@14),BUFTOCLR(@14)                            02172000
         DS    0F                                                       02173000
@SA00018 DS    1F                                                       02174000
@SA00016 DS    1F                                                       02175000
@SA00014 DS    1F                                                       02176000
@SA00015 DS    1F                                                       02177000
@SA00008 DS    1F                                                       02178000
@SA00004 DS    1F                                                       02179000
@SA00017 DS    1F                                                       02180000
@SA00002 DS    1F                                                       02181000
@SA00003 DS    1F                                                       02182000
@SA00011 DS    1F                                                       02183000
@SA00005 DS    1F                                                       02184000
@SA00006 DS    1F                                                       02185000
@SA00009 DS    1F                                                       02186000
         DS    0F                                                       02187000
@CF00607 DC    F'0'                                                     02188000
@CF00059 DC    F'1'                                                     02189000
@CF00070 DC    F'6'                                                     02190000
@CF00044 DC    F'8'                                                     02191000
@CF02384 DC    F'11'                                                    02192000
@CF02037 DC    F'14'                                                    02193000
@CF02383 DC    F'76'                                                    02194000
@CF02393 DC    F'-8'                                                    02195000
@CF02406 DC    F'-7'                                                    02196000
@CF02394 DC    F'-6'                                                    02197000
@CF02391 DC    XL4'0000FFFF'                                            02198000
         DS    0D                                                       02199000
BUFTCLEN DC    AL1(8+8+4+1+10+3+1)                                      02200000
@CB01522 DC    X'08000002'                                              02201000
@CB02033 DC    X'0B8000'                                                02202000
@CB02259 DC    X'0800E8'                                                02203000
SWITCH   DS    BL1                                                      02204000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02205000
@01      EQU   01                                                       02206000
@02      EQU   02                                                       02207000
@03      EQU   03                                                       02208000
@04      EQU   04                                                       02209000
@05      EQU   05                                                       02210000
@06      EQU   06                                                       02211000
@07      EQU   07                                                       02212000
@08      EQU   08                                                       02213000
@09      EQU   09                                                       02214000
@10      EQU   10                                                       02215000
@11      EQU   11                                                       02216000
@12      EQU   12                                                       02217000
@13      EQU   13                                                       02218000
@14      EQU   14                                                       02219000
@15      EQU   15                                                       02220000
SVDBUFAD EQU   @02                                                      02221000
SIBPTR   EQU   @02                                                      02222000
IEDQAPTR EQU   @13                                                      02223000
RDISP    EQU   @11                                                      02224000
IEDQLPTR EQU   @04                                                      02225000
LCBXPTR  EQU   @05                                                      02226000
RMOD     EQU   @15                                                      02227000
IEDQPPTR EQU   @06                                                      02228000
IEDQQPTR EQU   @07                                                      02229000
IEDQSPTR EQU   @03                                                      02230000
RTRM     EQU   @08                                                      02231000
RAVT     EQU   @13                                                      02232000
RBDU     EQU   @07                                                      02233000
RPARM    EQU   @01                                                      02234000
RLCB     EQU   @04                                                      02235000
RPRF     EQU   @06                                                      02236000
RUNITNUM EQU   @00                                                      02237000
RMASK    EQU   @00                                                      02238000
RUNIT    EQU   @01                                                      02239000
RBFRNUM  EQU   @01                                                      02240000
RPUNIT   EQU   @02                                                      02241000
RSIZE    EQU   @03                                                      02242000
RDATA    EQU   @05                                                      02243000
RBASE    EQU   @12                                                      02244000
RRETCODE EQU   @15                                                      02245000
RRETADDR EQU   @14                                                      02246000
IEDQAVTD EQU   0                                                        02247000
AVTSAVEX EQU   IEDQAVTD+216                                             02248000
AVTCSTCS EQU   IEDQAVTD+256                                             02249000
@NM00003 EQU   IEDQAVTD+316                                             02250000
AVTCKFLG EQU   @NM00003                                                 02251000
AVTBASE  EQU   IEDQAVTD+340                                             02252000
AVTPKF   EQU   AVTBASE                                                  02253000
AVTRNMPT EQU   IEDQAVTD+352                                             02254000
AVTHG02  EQU   IEDQAVTD+456                                             02255000
AVTDISP  EQU   IEDQAVTD+480                                             02256000
AVTHD    EQU   IEDQAVTD+484                                             02257000
AVTSCOPT EQU   AVTHD                                                    02258000
AVTSAVTP EQU   IEDQAVTD+540                                             02259000
AVTSAVTF EQU   AVTSAVTP                                                 02260000
AVTCKPEL EQU   IEDQAVTD+580                                             02261000
AVTCKRMV EQU   AVTCKPEL                                                 02262000
AVTCKELF EQU   IEDQAVTD+608                                             02263000
AVTCKBYT EQU   IEDQAVTD+619                                             02264000
AVTHG01  EQU   IEDQAVTD+620                                             02265000
AVTCKLNK EQU   IEDQAVTD+624                                             02266000
AVTCRELE EQU   IEDQAVTD+636                                             02267000
AVTCCELE EQU   AVTCRELE                                                 02268000
AVTCLRHI EQU   IEDQAVTD+644                                             02269000
AVTADBUF EQU   IEDQAVTD+648                                             02270000
AVTSYSER EQU   IEDQAVTD+656                                             02271000
AVTBFREB EQU   IEDQAVTD+708                                             02272000
AVTBFRTB EQU   IEDQAVTD+720                                             02273000
AVTCKPQB EQU   IEDQAVTD+732                                             02274000
AVTCKPTB EQU   AVTCKPQB                                                 02275000
AVTCKPEC EQU   AVTCKPQB+4                                               02276000
AVTCKPCC EQU   AVTCKPEC                                                 02277000
AVTOPCQB EQU   IEDQAVTD+744                                             02278000
AVTOPCOB EQU   AVTOPCQB                                                 02279000
AVTOPCEC EQU   AVTOPCQB+4                                               02280000
AVTOPCCC EQU   AVTOPCEC                                                 02281000
AVTOLTQB EQU   IEDQAVTD+756                                             02282000
AVTDSIOB EQU   IEDQAVTD+804                                             02283000
AVTCWFL1 EQU   IEDQAVTD+852                                             02284000
AVTCWFL2 EQU   IEDQAVTD+853                                             02285000
AVTSUBT  EQU   IEDQAVTD+876                                             02286000
AVTIOTR  EQU   IEDQAVTD+877                                             02287000
AVTKEYLE EQU   IEDQAVTD+960                                             02288000
AVTBIT1  EQU   IEDQAVTD+978                                             02289000
AVTBIT2  EQU   IEDQAVTD+979                                             02290000
AVTBIT3  EQU   IEDQAVTD+980                                             02291000
AVTSTEAL EQU   IEDQAVTD+988                                             02292000
AVTDDFT  EQU   IEDQAVTD+992                                             02293000
AVTDCTLN EQU   IEDQAVTD+1000                                            02294000
AVTBIT4  EQU   IEDQAVTD+1064                                            02295000
@NM00083 EQU   IEDQAVTD+1160                                            02296000
IEDNSVTD EQU   0                                                        02297000
SAVTDIAG EQU   IEDNSVTD                                                 02298000
SAVTDIAF EQU   SAVTDIAG                                                 02299000
SAVTDNIR EQU   IEDNSVTD+60                                              02300000
SAVTLUSQ EQU   IEDNSVTD+88                                              02301000
SAVTXFMO EQU   IEDNSVTD+120                                             02302000
SAVTSAO  EQU   IEDNSVTD+196                                             02303000
SAVTDFCO EQU   IEDNSVTD+200                                             02304000
SAVTTCPU EQU   IEDNSVTD+238                                             02305000
SAVTSCPT EQU   SAVTTCPU                                                 02306000
SAVTZELM EQU   IEDNSVTD+270                                             02307000
SAVTRDRV EQU   IEDNSVTD+284                                             02308000
SAVTCKQB EQU   IEDNSVTD+300                                             02309000
SAVTCKTB EQU   SAVTCKQB                                                 02310000
SAVTCKEC EQU   SAVTCKQB+4                                               02311000
SAVTCKCC EQU   SAVTCKEC                                                 02312000
IEDBDU   EQU   0                                                        02313000
BDUCMND  EQU   IEDBDU                                                   02314000
BDUMODIF EQU   IEDBDU+1                                                 02315000
BDUFNFLG EQU   IEDBDU+2                                                 02316000
BDUFRSTB EQU   BDUFNFLG                                                 02317000
BDUTPTX  EQU   BDUFNFLG                                                 02318000
BDUBDUFG EQU   IEDBDU+3                                                 02319000
BDUXERLK EQU   BDUBDUFG                                                 02320000
BDURSP   EQU   IEDBDU+4                                                 02321000
BDUSYRSP EQU   BDURSP                                                   02322000
BDUEXRSP EQU   BDURSP+1                                                 02323000
BDUEND   EQU   IEDBDU+6                                                 02324000
IEDDCT   EQU   0                                                        02325000
DCTBYTE1 EQU   IEDDCT+1                                                 02326000
DCTBYTE2 EQU   IEDDCT+2                                                 02327000
DCTCONT  EQU   DCTBYTE2                                                 02328000
DCTBYTE3 EQU   IEDDCT+3                                                 02329000
DCTBYTE4 EQU   IEDDCT+4                                                 02330000
DCTBYTE5 EQU   IEDDCT+5                                                 02331000
IEDQDISP EQU   0                                                        02332000
DSPDISP  EQU   4                                                        02333000
DSPPOSTR EQU   28                                                       02334000
IEDQLCB  EQU   0                                                        02335000
LCBRCB   EQU   IEDQLCB                                                  02336000
LCBTSOB  EQU   IEDQLCB+19                                               02337000
LCBCHAIN EQU   IEDQLCB+20                                               02338000
LCBSCRNN EQU   LCBCHAIN                                                 02339000
LCBTETEN EQU   LCBCHAIN                                                 02340000
LCBINSRC EQU   IEDQLCB+21                                               02341000
LCBLKMDE EQU   LCBINSRC+2                                               02342000
LCBNTXT  EQU   IEDQLCB+24                                               02343000
LCBSTAT4 EQU   LCBNTXT                                                  02344000
LCBPHASE EQU   LCBSTAT4                                                 02345000
LCBSCBDA EQU   IEDQLCB+25                                               02346000
LCBISZE  EQU   IEDQLCB+28                                               02347000
LCBMHA   EQU   IEDQLCB+29                                               02348000
LCBFLAG1 EQU   IEDQLCB+32                                               02349000
LCBIOBSN EQU   IEDQLCB+33                                               02350000
LCBSENS0 EQU   LCBIOBSN+1                                               02351000
LCBLOSDT EQU   LCBSENS0                                                 02352000
LCBTMOUT EQU   LCBSENS0                                                 02353000
LCBFLAG3 EQU   LCBIOBSN+7                                               02354000
LCBCSW   EQU   LCBIOBSN+8                                               02355000
LCBCSWST EQU   LCBCSW+3                                                 02356000
LCBCSWUS EQU   LCBCSWST                                                 02357000
LCBCSWCS EQU   LCBCSWST+1                                               02358000
LCBSIOCC EQU   LCBIOBSN+15                                              02359000
LCBDCBPT EQU   IEDQLCB+52                                               02360000
LCBRCQCB EQU   IEDQLCB+56                                               02361000
LCBTHSQ  EQU   IEDQLCB+60                                               02362000
LCBINCAM EQU   LCBTHSQ                                                  02363000
LCBERRCT EQU   IEDQLCB+62                                               02364000
LCBLSPCI EQU   IEDQLCB+65                                               02365000
LCBRCBFR EQU   LCBLSPCI                                                 02366000
LCBSTATE EQU   IEDQLCB+70                                               02367000
LCBSTAT1 EQU   LCBSTATE                                                 02368000
LCBSTAT2 EQU   LCBSTATE+1                                               02369000
LCBMSGNN EQU   LCBSTAT2                                                 02370000
LCBBEOTN EQU   LCBSTAT2                                                 02371000
LCBSYNC  EQU   LCBSTAT2                                                 02372000
LCBDIAL  EQU   LCBSTAT2                                                 02373000
LCBRESP  EQU   LCBSTAT2                                                 02374000
LCBTSTSW EQU   IEDQLCB+72                                               02375000
LCBERB   EQU   IEDQLCB+76                                               02376000
LCBERBQB EQU   LCBERB+1                                                 02377000
LCBERBPY EQU   IEDQLCB+80                                               02378000
LCBERBST EQU   IEDQLCB+84                                               02379000
LCBEOMSG EQU   LCBERBST                                                 02380000
LCBPRCPG EQU   LCBERBST                                                 02381000
LCBDLNKN EQU   LCBERBST                                                 02382000
LCBERBCH EQU   IEDQLCB+85                                               02383000
LCBERBCT EQU   IEDQLCB+88                                               02384000
LCBRBCT1 EQU   LCBERBCT                                                 02385000
LCBRBCT2 EQU   LCBERBCT+1                                               02386000
LCBTTCIN EQU   IEDQLCB+90                                               02387000
LCBMSGFM EQU   IEDQLCB+92                                               02388000
LCBSCBA  EQU   IEDQLCB+93                                               02389000
LCBOBRCH EQU   IEDQLCB+96                                               02390000
LCBINVPT EQU   LCBOBRCH+1                                               02391000
LCBBFRW  EQU   LCBINVPT                                                 02392000
LCBTPCD  EQU   IEDQLCB+100                                              02393000
LCBSTAT5 EQU   LCBTPCD                                                  02394000
LCBBFRSV EQU   LCBTPCD+1                                                02395000
LCBSTAT6 EQU   LCBTPCD+4                                                02396000
LCBRTRRO EQU   LCBSTAT6                                                 02397000
LCBMHBID EQU   LCBSTAT6                                                 02398000
LCBRSPSV EQU   LCBTPCD+8                                                02399000
LCBSAVSN EQU   IEDQLCB+112                                              02400000
LCBERCCW EQU   IEDQLCB+120                                              02401000
LCBCPA   EQU   IEDQLCB+144                                              02402000
IEDQLCBX EQU   0                                                        02403000
LCBXCON  EQU   IEDQLCBX                                                 02404000
LCBXFLAG EQU   LCBXCON                                                  02405000
LCBXDCT  EQU   LCBXCON+1                                                02406000
LCBXRADR EQU   LCBXCON+4                                                02407000
IEDNLGB  EQU   0                                                        02408000
LGBBUFOU EQU   IEDNLGB+20                                               02409000
LGBPCI   EQU   IEDNLGB+25                                               02410000
LGBPCINO EQU   LGBPCI                                                   02411000
LGBBUFMA EQU   IEDNLGB+28                                               02412000
LGBBYTE  EQU   IEDNLGB+29                                               02413000
LGBOPACE EQU   IEDNLGB+30                                               02414000
LGBOFLGS EQU   IEDNLGB+48                                               02415000
LGBRESER EQU   IEDNLGB+56                                               02416000
IEDNLPTR EQU   0                                                        02417000
IEDQMOD  EQU   0                                                        02418000
MODCUR   EQU   IEDQMOD+1                                                02419000
MODCUR1  EQU   MODCUR                                                   02420000
MODCUR2  EQU   MODCUR+1                                                 02421000
MODCEIBJ EQU   MODCUR2                                                  02422000
MODNEW   EQU   IEDQMOD+3                                                02423000
MODNEW1  EQU   MODNEW                                                   02424000
MODNEW2  EQU   MODNEW+1                                                 02425000
MODNEIBJ EQU   MODNEW2                                                  02426000
MODNMNTR EQU   MODNEW2                                                  02427000
MODNMNTP EQU   MODNEW2                                                  02428000
IEDPIU   EQU   0                                                        02429000
PIUTH    EQU   IEDPIU                                                   02430000
PIURH    EQU   IEDPIU+10                                                02431000
PIURU    EQU   IEDPIU+13                                                02432000
IEDPIU0  EQU   0                                                        02433000
PIU0TH   EQU   IEDPIU0                                                  02434000
PIU0RH   EQU   IEDPIU0+10                                               02435000
PIU0PAD  EQU   IEDPIU0+13                                               02436000
PIU0RU   EQU   IEDPIU0+14                                               02437000
IEDQPRF  EQU   0                                                        02438000
PRFRCB   EQU   IEDQPRF                                                  02439000
PRFKEY   EQU   PRFRCB                                                   02440000
PRFQCBA  EQU   PRFRCB+1                                                 02441000
PRFPRI   EQU   PRFRCB+4                                                 02442000
PRFLINK  EQU   PRFRCB+5                                                 02443000
PRFTIC   EQU   IEDQPRF+8                                                02444000
PRFTICC  EQU   PRFTIC                                                   02445000
PRFTICON EQU   PRFTICC                                                  02446000
PRFNBUNT EQU   IEDQPRF+12                                               02447000
PRFSUNIT EQU   PRFNBUNT                                                 02448000
PRFPLQCB EQU   PRFSUNIT                                                 02449000
PRFPIUO  EQU   PRFPLQCB                                                 02450000
PRFLCB   EQU   IEDQPRF+13                                               02451000
@NM00172 EQU   IEDQPRF+16                                               02452000
PRFSVFFO EQU   @NM00172                                                 02453000
PRFSRCE  EQU   PRFSVFFO                                                 02454000
PRFSIZE  EQU   PRFSVFFO+2                                               02455000
PRFSTAT1 EQU   IEDQPRF+20                                               02456000
PRFCNCLN EQU   PRFSTAT1                                                 02457000
PRFEOFN  EQU   PRFSTAT1                                                 02458000
PRFNLSTN EQU   PRFSTAT1                                                 02459000
PRFNHDRN EQU   PRFSTAT1                                                 02460000
PRFCORE  EQU   IEDQPRF+21                                               02461000
PRFXTRA  EQU   PRFCORE                                                  02462000
PRFSCAN  EQU   IEDQPRF+24                                               02463000
PRFISIZE EQU   PRFSCAN+1                                                02464000
PRFTQBCK EQU   IEDQPRF+26                                               02465000
PRFNTXT  EQU   PRFTQBCK                                                 02466000
PRFEOBOF EQU   PRFNTXT                                                  02467000
PRFCHDR  EQU   IEDQPRF+32                                               02468000
PRFHQBCK EQU   IEDQPRF+35                                               02469000
PRFSTXT  EQU   PRFHQBCK                                                 02470000
IEDPF1   EQU   0                                                        02471000
PRF1RH   EQU   IEDPF1                                                   02472000
PRF1FLG1 EQU   IEDPF1+3                                                 02473000
PRF1FIDI EQU   PRF1FLG1                                                 02474000
PRF1FORM EQU   PRF1FLG1                                                 02475000
PRF1WD2  EQU   IEDPF1+4                                                 02476000
PRF1SEQP EQU   PRF1WD2                                                  02477000
PRF1SQID EQU   PRF1SEQP                                                 02478000
PRF1TAG1 EQU   PRF1SQID                                                 02479000
PRF1TAG2 EQU   PRF1SQID+1                                               02480000
PRF1RULN EQU   PRF1SEQP+2                                               02481000
IEDPF2   EQU   0                                                        02482000
PRF2FLG2 EQU   IEDPF2                                                   02483000
PRF2TNTI EQU   PRF2FLG2                                                 02484000
PRF2WD2  EQU   IEDPF2+4                                                 02485000
IEDQQCB  EQU   0                                                        02486000
QCBDSFLG EQU   IEDQQCB                                                  02487000
QCBDISK  EQU   QCBDSFLG                                                 02488000
QCBEOLDT EQU   IEDQQCB+16                                               02489000
QCBBYTE1 EQU   QCBEOLDT+1                                               02490000
QCBLKRLN EQU   IEDQQCB+18                                               02491000
QCBRETCT EQU   QCBLKRLN                                                 02492000
QCBSTAT  EQU   IEDQQCB+19                                               02493000
QCBINSRC EQU   IEDQQCB+21                                               02494000
@NM00180 EQU   QCBINSRC                                                 02495000
QCBTSOF2 EQU   @NM00180+1                                               02496000
QCBTSOF1 EQU   @NM00180+2                                               02497000
QCBINTVL EQU   IEDQQCB+24                                               02498000
QCBPREN  EQU   IEDQQCB+28                                               02499000
QCBLKRRN EQU   QCBPREN+1                                                02500000
QCBDCBAD EQU   IEDQQCB+33                                               02501000
QCBFLAG  EQU   IEDQQCB+36                                               02502000
QCBTSSES EQU   QCBFLAG                                                  02503000
IEDQPQCB EQU   0                                                        02504000
QCBFHDLZ EQU   IEDQPQCB+3                                               02505000
QCBPFEFO EQU   QCBFHDLZ+1                                               02506000
QCBFHDTZ EQU   IEDQPQCB+6                                               02507000
QCBINTLF EQU   IEDQPQCB+12                                              02508000
IEDNQCB  EQU   0                                                        02509000
QCBSTAT1 EQU   IEDNQCB+4                                                02510000
QCBPLCBA EQU   IEDNQCB+5                                                02511000
IEDQSCB  EQU   0                                                        02512000
SCBSTATE EQU   IEDQSCB                                                  02513000
SCBTRANP EQU   SCBSTATE                                                 02514000
SCBSEQIN EQU   SCBSTATE                                                 02515000
SCBRCVCT EQU   IEDQSCB+4                                                02516000
SCBMBHEN EQU   IEDQSCB+5                                                02517000
SCBBKFCT EQU   IEDQSCB+9                                                02518000
SCBEOBSZ EQU   SCBBKFCT+1                                               02519000
SCBSALEV EQU   IEDQSCB+12                                               02520000
SCBQTYPE EQU   SCBSALEV                                                 02521000
SCBERRST EQU   IEDQSCB+16                                               02522000
SCBERR1  EQU   SCBERRST                                                 02523000
SCBHDRRN EQU   SCBERR1                                                  02524000
SCBORIGN EQU   SCBERR1                                                  02525000
SCBNOTRM EQU   SCBERR1                                                  02526000
SCBSEQHN EQU   SCBERR1                                                  02527000
SCBSEQLN EQU   SCBERR1                                                  02528000
SCBCUTFN EQU   SCBERR1                                                  02529000
SCBERR2  EQU   SCBERRST+1                                               02530000
SCBABRTN EQU   SCBERR2                                                  02531000
SCBERR3  EQU   SCBERRST+2                                               02532000
SCBLOSTN EQU   SCBERR3                                                  02533000
SCBTMIDN EQU   SCBERR3                                                  02534000
SCBFORMN EQU   SCBERR3                                                  02535000
SCBATTN  EQU   SCBERR3                                                  02536000
SCBXCEPN EQU   SCBERR3                                                  02537000
SCBERR4  EQU   SCBERRST+3                                               02538000
SCBSLCTN EQU   SCBERR4                                                  02539000
SCBTXTTN EQU   SCBERR4                                                  02540000
SCBTRMLN EQU   SCBERR4                                                  02541000
SCBCTLUN EQU   SCBERR4                                                  02542000
SCBCHANN EQU   SCBERR4                                                  02543000
SCBDLPTR EQU   IEDQSCB+22                                               02544000
SCBEOBAC EQU   SCBDLPTR                                                 02545000
SCBCTBAC EQU   SCBEOBAC                                                 02546000
SCBBSCFM EQU   IEDQSCB+24                                               02547000
SCBDATEN EQU   SCBBSCFM                                                 02548000
SCBMLMTN EQU   SCBBSCFM                                                 02549000
SCBITBSZ EQU   IEDQSCB+40                                               02550000
SCBCTBSV EQU   SCBITBSZ                                                 02551000
SCBDNSEG EQU   IEDQSCB+41                                               02552000
SCBCLSEG EQU   IEDQSCB+45                                               02553000
SCBITBAC EQU   IEDQSCB+48                                               02554000
SCBCTBFL EQU   SCBITBAC                                                 02555000
SCBBLKCT EQU   SCBCTBFL                                                 02556000
SCBDCSEG EQU   IEDQSCB+49                                               02557000
SCBSTAT1 EQU   IEDQSCB+60                                               02558000
SCBCORE  EQU   IEDQSCB+61                                               02559000
SCBSCAN  EQU   IEDQSCB+64                                               02560000
SCBNTXT  EQU   IEDQSCB+66                                               02561000
SCBCHDR  EQU   IEDQSCB+72                                               02562000
SCBCCSEG EQU   IEDQSCB+75                                               02563000
SCBEND   EQU   IEDQSCB+84                                               02564000
IEDSIBD  EQU   0                                                        02565000
SIBINDEX EQU   IEDSIBD+8                                                02566000
SIBSESSN EQU   IEDSIBD+10                                               02567000
SIBPACIN EQU   IEDSIBD+11                                               02568000
SIBSEQN  EQU   IEDSIBD+12                                               02569000
SIBSTAT1 EQU   IEDSIBD+16                                               02570000
SIBSTAT2 EQU   IEDSIBD+17                                               02571000
SIBBIND  EQU   IEDSIBD+20                                               02572000
SIBBIND1 EQU   SIBBIND                                                  02573000
SIBBIND2 EQU   SIBBIND+1                                                02574000
SIBBIND3 EQU   SIBBIND+2                                                02575000
SIBSTAT0 EQU   IEDSIBD+23                                               02576000
IEDRH    EQU   0                                                        02577000
TRHBYTE0 EQU   IEDRH                                                    02578000
TRHTYPE  EQU   TRHBYTE0                                                 02579000
TRHRUCAT EQU   TRHBYTE0                                                 02580000
TRHFI    EQU   TRHBYTE0                                                 02581000
TRHBC    EQU   TRHBYTE0                                                 02582000
TRHEC    EQU   TRHBYTE0                                                 02583000
TRHBYTE1 EQU   IEDRH+1                                                  02584000
TRHDR1   EQU   TRHBYTE1                                                 02585000
TRHER    EQU   TRHBYTE1                                                 02586000
TRHBYTE2 EQU   IEDRH+2                                                  02587000
TRHBB    EQU   TRHBYTE2                                                 02588000
IEDTRM   EQU   0                                                        02589000
IEDNTRM  EQU   IEDTRM                                                   02590000
TRMBYTE4 EQU   IEDNTRM                                                  02591000
TRMBYTE3 EQU   IEDNTRM+1                                                02592000
TRMBYTE2 EQU   IEDNTRM+2                                                02593000
TRMINPG  EQU   TRMBYTE2                                                 02594000
TRMGPACT EQU   TRMBYTE2                                                 02595000
TRMBYTE1 EQU   IEDNTRM+3                                                02596000
TRMSCPRQ EQU   TRMBYTE1                                                 02597000
TRMBYTE0 EQU   IEDNTRM+6                                                02598000
TRMDIAL  EQU   TRMBYTE0                                                 02599000
TRMSNA   EQU   TRMBYTE0                                                 02600000
TRMBUFRD EQU   TRMBYTE0                                                 02601000
TRMSIBPT EQU   IEDNTRM+7                                                02602000
IEDQTRM  EQU   IEDTRM+14                                                02603000
TRMSTATE EQU   IEDQTRM                                                  02604000
TRMLOG   EQU   TRMSTATE                                                 02605000
TRMDESTQ EQU   IEDQTRM+1                                                02606000
TRMINSEQ EQU   IEDQTRM+4                                                02607000
TLISTCNT EQU   TRMINSEQ                                                 02608000
TRMOUTSQ EQU   IEDQTRM+6                                                02609000
TLISTEN  EQU   TRMOUTSQ                                                 02610000
TRMDSORG EQU   TLISTEN                                                  02611000
TRMALTD  EQU   IEDQTRM+8                                                02612000
TRMDEVFL EQU   IEDQTRM+10                                               02613000
TRMSTAT  EQU   IEDQTRM+12                                               02614000
TRMCHCIN EQU   IEDQTRM+16                                               02615000
IEDTH    EQU   0                                                        02616000
TTHBYTE0 EQU   IEDTH                                                    02617000
TTHFTYPE EQU   TTHBYTE0                                                 02618000
TTHBBIU  EQU   TTHBYTE0                                                 02619000
TTHEBIU  EQU   TTHBYTE0                                                 02620000
TTHBYTE1 EQU   IEDTH+1                                                  02621000
TTHDAF   EQU   IEDTH+2                                                  02622000
TTHOAF   EQU   IEDTH+4                                                  02623000
TTHSNF   EQU   IEDTH+6                                                  02624000
TTHTAG   EQU   TTHSNF                                                   02625000
TTHTAG1  EQU   TTHTAG                                                   02626000
TTHDCF   EQU   IEDTH+8                                                  02627000
REQRU    EQU   0                                                        02628000
QRUCMD   EQU   REQRU                                                    02629000
BUFTOCLR EQU   0                                                        02630000
LASTBYTE EQU   0                                                        02631000
TEXT     EQU   0                                                        02632000
NEGRSPRU EQU   0                                                        02633000
IEDQGA02 EQU   0                                                        02634000
IEDQTL   EQU   0                                                        02635000
IEDQTNT  EQU   0                                                        02636000
DSPBYPAS EQU   20                                                       02637000
DSPCHAIN EQU   12                                                       02638000
DSPLIFO  EQU   56                                                       02639000
DSPLIFOR EQU   60                                                       02640000
DSPLIST  EQU   8                                                        02641000
DSPPOST  EQU   24                                                       02642000
DSPPRIO  EQU   48                                                       02643000
DSPPRIOR EQU   52                                                       02644000
DSPTRACE EQU   64                                                       02645000
DSPTSTQ  EQU   32                                                       02646000
DSPTSTQR EQU   36                                                       02647000
DSPUNAV  EQU   40                                                       02648000
DSPUNAVR EQU   44                                                       02649000
DSPWAIT  EQU   16                                                       02650000
LCBRSPIN EQU   LCBIOBSN                                                 02651000
LCBLUSNS EQU   LCBRSPIN+5                                               02652000
LCBSCPRS EQU   LCBRSPIN+9                                               02653000
LCBCSWU1 EQU   LCBSCPRS+2                                               02654000
LCBRSPFG EQU   LCBRSPIN+15                                              02655000
LCBCOREQ EQU   LCBTPCD                                                  02656000
@NM00130 EQU   LCBCPA+40                                                02657000
LCBQNX   EQU   LCBERCCW                                                 02658000
LCBQNXMN EQU   LCBQNX                                                   02659000
LCBCANCL EQU   LCBSAVSN                                                 02660000
LCBCANFG EQU   LCBCANCL                                                 02661000
PRFSHDR  EQU   IEDQPRF+42                                               02662000
TRMPRE1  EQU   TRMBYTE4                                                 02663000
TRMSESSN EQU   TRMPRE1                                                  02664000
TRMERLCK EQU   TRMPRE1                                                  02665000
TRMNCP1  EQU   TRMBYTE4                                                 02666000
TRMPRE   EQU   TRMBYTE3                                                 02667000
TRMCMODE EQU   TRMPRE                                                   02668000
TRMNCP   EQU   TRMBYTE3                                                 02669000
TRMPU    EQU   TRMBYTE3                                                 02670000
TRMLU    EQU   TRMBYTE3                                                 02671000
TRMLINK  EQU   TRMBYTE3                                                 02672000
BDUTEXT  EQU   BDUEND                                                   02673000
SCBRGSAV EQU   SCBEND                                                   02674000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02675000
@NM00206 EQU   TRMLINK                                                  02676000
TRMLSTAT EQU   TRMLINK                                                  02677000
TRMLINT  EQU   TRMLINK                                                  02678000
TRMEPMOD EQU   TRMLINK                                                  02679000
TRMLULOG EQU   TRMLU                                                    02680000
TRMINERR EQU   TRMLU                                                    02681000
TRMLUREQ EQU   TRMLU                                                    02682000
TRMSESRQ EQU   TRMLU                                                    02683000
TRMTDIFF EQU   TRMLU                                                    02684000
TRMLUTM  EQU   TRMLU                                                    02685000
TRMLUIT  EQU   TRMLU                                                    02686000
TRMAUTO  EQU   TRMLU                                                    02687000
TRMPCONT EQU   TRMPU                                                    02688000
@NM00205 EQU   TRMPU                                                    02689000
TRMNCONT EQU   TRMNCP                                                   02690000
TRMQUCKN EQU   TRMNCP                                                   02691000
TRMSLOWN EQU   TRMNCP                                                   02692000
TRMSYGEN EQU   TRMNCP                                                   02693000
TRMNCPCL EQU   TRMNCP                                                   02694000
TRMIPLDM EQU   TRMNCP                                                   02695000
TRMINOUT EQU   TRMPRE                                                   02696000
TRMRDOUT EQU   TRMPRE                                                   02697000
TRMNLOUT EQU   TRMPRE                                                   02698000
TRMWROUT EQU   TRMPRE                                                   02699000
TRMASNXI EQU   TRMPRE                                                   02700000
TRMSTMM  EQU   TRMPRE                                                   02701000
TRMSTPND EQU   TRMPRE                                                   02702000
@NM00204 EQU   TRMNCP1                                                  02703000
TRMINOP  EQU   TRMNCP1                                                  02704000
TRMLYNCH EQU   TRMPRE1                                                  02705000
TRMSPOUT EQU   TRMPRE1                                                  02706000
TRMQNPL  EQU   TRMPRE1                                                  02707000
TRMSPACT EQU   TRMPRE1                                                  02708000
TRMOCNI  EQU   TRMPRE1                                                  02709000
TRMCONT  EQU   TRMPRE1                                                  02710000
@NM00137 EQU   LCBCANCL+3                                               02711000
LCBCANTH EQU   LCBCANCL+1                                               02712000
@NM00136 EQU   LCBCANFG                                                 02713000
LCBCANCD EQU   LCBCANFG                                                 02714000
@NM00135 EQU   LCBCANFG                                                 02715000
LCBCANEB EQU   LCBCANFG                                                 02716000
LCBCANXT EQU   LCBCANFG                                                 02717000
LCBUNADD EQU   LCBQNX+21                                                02718000
LCBUASZE EQU   LCBQNX+20                                                02719000
LCBDSTEA EQU   LCBQNX+16                                                02720000
@NM00134 EQU   LCBQNX+4                                                 02721000
LCBSTSAV EQU   LCBQNX+1                                                 02722000
@NM00133 EQU   LCBQNXMN                                                 02723000
LCBNX509 EQU   LCBQNXMN                                                 02724000
LCBNX162 EQU   LCBQNXMN                                                 02725000
LCBNX142 EQU   LCBQNXMN                                                 02726000
LCBNX064 EQU   LCBQNXMN                                                 02727000
@NM00132 EQU   @NM00130+4                                               02728000
LCBNCPPT EQU   @NM00130+1                                               02729000
@NM00131 EQU   @NM00130                                                 02730000
LCBWRSCH EQU   LCBCOREQ+8                                               02731000
LCBCQLNK EQU   LCBCOREQ+4                                               02732000
LCBCQELE EQU   LCBCOREQ                                                 02733000
LCBPAKCH EQU   LCBRSPIN+16                                              02734000
@NM00129 EQU   LCBRSPFG                                                 02735000
LCBRSRH  EQU   LCBRSPFG                                                 02736000
LCBEXPI  EQU   LCBRSPFG                                                 02737000
@NM00128 EQU   LCBRSPIN+12                                              02738000
LCBUSUE1 EQU   LCBCSWU1                                                 02739000
@NM00127 EQU   LCBCSWU1                                                 02740000
@NM00126 EQU   LCBSCPRS+1                                               02741000
LCBDFCMD EQU   LCBSCPRS                                                 02742000
LCBUSER  EQU   LCBLUSNS+2                                               02743000
LCBSMIN  EQU   LCBLUSNS+1                                               02744000
LCBSMAJ  EQU   LCBLUSNS                                                 02745000
LCBRHSV  EQU   LCBRSPIN+2                                               02746000
LCBSNS0  EQU   LCBRSPIN+1                                               02747000
@NM00125 EQU   LCBRSPIN                                                 02748000
NPRUEND  EQU   NEGRSPRU+5                                               02749000
NPRUCMD  EQU   NEGRSPRU+4                                               02750000
NPRUSNS  EQU   NEGRSPRU                                                 02751000
QRUEND   EQU   REQRU+1                                                  02752000
TTHTAG2  EQU   TTHTAG+1                                                 02753000
@NM00208 EQU   TTHTAG1                                                  02754000
TTHTAGS  EQU   TTHTAG1                                                  02755000
TTHEFI   EQU   TTHBYTE0                                                 02756000
@NM00207 EQU   TTHBYTE0                                                 02757000
TRMOPT   EQU   IEDTRM+34                                                02758000
TRMOPTBL EQU   IEDQTRM+18                                               02759000
TRMOPNO  EQU   IEDQTRM+17                                               02760000
TRMSENSE EQU   TRMSTAT+3                                                02761000
TRMTEMPR EQU   TRMSTAT+2                                                02762000
TRMSIO   EQU   TRMSTAT                                                  02763000
@NM00203 EQU   TRMDEVFL+1                                               02764000
TRMTPIN  EQU   TRMDEVFL+1                                               02765000
TRMNCPI  EQU   TRMDEVFL+1                                               02766000
TRMRNTRM EQU   TRMDEVFL+1                                               02767000
@NM00202 EQU   TRMDEVFL+1                                               02768000
TRMLMD   EQU   TRMDEVFL+1                                               02769000
TRMCONC  EQU   TRMDEVFL+1                                               02770000
TRMTSOB  EQU   TRMDEVFL                                                 02771000
TRMBFDY  EQU   TRMDEVFL                                                 02772000
TRMTBLK  EQU   TRMDEVFL                                                 02773000
TRMSBLK  EQU   TRMDEVFL                                                 02774000
TRMBLKS  EQU   TRMDEVFL                                                 02775000
TRMADDC  EQU   TRMDEVFL                                                 02776000
TRMDDIG  EQU   TRMDEVFL                                                 02777000
TRMBUFS  EQU   TRMDEVFL                                                 02778000
TRMPRILK EQU   TRMALTD                                                  02779000
TRMLGB   EQU   TRMDSORG                                                 02780000
TRMUTERM EQU   TLISTCNT                                                 02781000
TRMSCNYN EQU   TRMSTATE                                                 02782000
TRMOPTFN EQU   TRMSTATE                                                 02783000
TRMHELDN EQU   TRMSTATE                                                 02784000
TRMACPTN EQU   TRMSTATE                                                 02785000
TRMPREF  EQU   TRMSTATE                                                 02786000
TRMPROC  EQU   TRMLOG                                                   02787000
TRMLIST  EQU   TRMLOG                                                   02788000
TRMLINE  EQU   TRMSTATE                                                 02789000
TRMSUBST EQU   IEDNTRM+12                                               02790000
TRMTYPE  EQU   IEDNTRM+11                                               02791000
TRMRLMCT EQU   IEDNTRM+10                                               02792000
TRMCOHTG EQU   TRMSIBPT+1                                               02793000
TRMGPCNT EQU   TRMSIBPT                                                 02794000
TRMGP    EQU   TRMBYTE0                                                 02795000
@NM00201 EQU   TRMBYTE0                                                 02796000
TRMOUTPT EQU   TRMBYTE0                                                 02797000
TRMINPUT EQU   TRMBYTE0                                                 02798000
TRMUDEF  EQU   TRMBYTE0                                                 02799000
TRMCOHRT EQU   IEDNTRM+4                                                02800000
TRMSTOTE EQU   TRMBYTE1                                                 02801000
TRMCKPRN EQU   TRMBYTE1                                                 02802000
TRMTSATN EQU   TRMBYTE1                                                 02803000
TRMTRACE EQU   TRMBYTE1                                                 02804000
TRMSWBCK EQU   TRMBYTE1                                                 02805000
TRMAUTOC EQU   TRMBYTE1                                                 02806000
TRMINPTP EQU   TRMBYTE1                                                 02807000
TRMWTNEG EQU   TRMSCPRQ                                                 02808000
TRMWRBRK EQU   TRMBYTE2                                                 02809000
TRMNOSND EQU   TRMBYTE2                                                 02810000
TRMPREP  EQU   TRMBYTE2                                                 02811000
TRMANDL  EQU   TRMBYTE2                                                 02812000
TRMCLOSN EQU   TRMINPG                                                  02813000
TRMREMB  EQU   TRMBYTE2                                                 02814000
TRMRSACT EQU   TRMBYTE2                                                 02815000
@NM00200 EQU   TRHBYTE2                                                 02816000
@NM00199 EQU   TRHBYTE2                                                 02817000
@NM00198 EQU   TRHBYTE2                                                 02818000
TRHCSI   EQU   TRHBYTE2                                                 02819000
@NM00197 EQU   TRHBYTE2                                                 02820000
TRHCDI   EQU   TRHBYTE2                                                 02821000
TRHEB    EQU   TRHBYTE2                                                 02822000
TRHPI    EQU   TRHBYTE1                                                 02823000
@NM00196 EQU   TRHBYTE1                                                 02824000
@NM00195 EQU   TRHBYTE1                                                 02825000
@NM00194 EQU   TRHBYTE1                                                 02826000
TRHDR2   EQU   TRHBYTE1                                                 02827000
@NM00193 EQU   TRHBYTE1                                                 02828000
TRHSDI   EQU   TRHBYTE0                                                 02829000
@NM00192 EQU   TRHBYTE0                                                 02830000
SIBLUTYP EQU   SIBSTAT0                                                 02831000
SIBCD    EQU   SIBSTAT0                                                 02832000
@NM00191 EQU   SIBBIND3                                                 02833000
SIBCRES  EQU   SIBBIND3                                                 02834000
SIBSPKR  EQU   SIBBIND3                                                 02835000
SIBRECOV EQU   SIBBIND3                                                 02836000
SIBFMODE EQU   SIBBIND3                                                 02837000
SIBALT   EQU   SIBBIND2                                                 02838000
SIBBTERM EQU   SIBBIND2                                                 02839000
SIBBRACK EQU   SIBBIND2                                                 02840000
SIBFMUSE EQU   SIBBIND2                                                 02841000
SIBSEBI  EQU   SIBBIND2                                                 02842000
SIBSCMP  EQU   SIBBIND2                                                 02843000
SIBSEXC  EQU   SIBBIND2                                                 02844000
SIBSDEF  EQU   SIBBIND2                                                 02845000
SIBSRQM  EQU   SIBBIND1                                                 02846000
SIBSCHNG EQU   SIBBIND1                                                 02847000
SIBPEBI  EQU   SIBBIND1                                                 02848000
SIBPCMP  EQU   SIBBIND1                                                 02849000
SIBPEXC  EQU   SIBBIND1                                                 02850000
SIBPDEF  EQU   SIBBIND1                                                 02851000
SIBPRQM  EQU   SIBBIND1                                                 02852000
SIBPCHN  EQU   SIBBIND1                                                 02853000
SIBFMPRO EQU   IEDSIBD+19                                               02854000
SIBTSPRO EQU   IEDSIBD+18                                               02855000
@NM00190 EQU   SIBSTAT2                                                 02856000
SIBDACLU EQU   SIBSTAT2                                                 02857000
SIBRDSCN EQU   SIBSTAT2                                                 02858000
SIBTERM  EQU   SIBSTAT2                                                 02859000
SIBUSS   EQU   SIBSTAT2                                                 02860000
SIBBSTAT EQU   SIBSTAT1                                                 02861000
SIBRTRP  EQU   SIBSTAT1                                                 02862000
@NM00189 EQU   SIBSTAT1                                                 02863000
SIBRQEND EQU   SIBSTAT1                                                 02864000
SIBRQSHT EQU   SIBSTAT1                                                 02865000
SIBSEQO  EQU   SIBSEQN+2                                                02866000
SIBSEQI  EQU   SIBSEQN                                                  02867000
SIBNCNT  EQU   SIBPACIN                                                 02868000
SIBMCNT  EQU   SIBPACIN                                                 02869000
SIBDSTAT EQU   SIBSESSN                                                 02870000
SIBSSTAT EQU   SIBSESSN                                                 02871000
SIBINBIU EQU   SIBSESSN                                                 02872000
SIBSHUTC EQU   SIBSESSN                                                 02873000
SIBLGOFF EQU   SIBSESSN                                                 02874000
SIBCHAIN EQU   IEDSIBD+4                                                02875000
SIBRUSEG EQU   IEDSIBD                                                  02876000
SCBTRANS EQU   IEDQSCB+81                                               02877000
SCBUNTCT EQU   IEDQSCB+80                                               02878000
SCBEOB   EQU   IEDQSCB+78                                               02879000
SCBNXCPB EQU   SCBCCSEG                                                 02880000
SCBNHDR  EQU   SCBCHDR                                                  02881000
SCBCRCD  EQU   IEDQSCB+69                                               02882000
SCBTQBCK EQU   SCBNTXT                                                  02883000
SCBOSEQ  EQU   SCBSCAN                                                  02884000
SCBXTRA  EQU   SCBCORE                                                  02885000
SCBNOPST EQU   SCBSTAT1                                                 02886000
SCBNIDLE EQU   SCBSTAT1                                                 02887000
SCBCEND  EQU   SCBSTAT1                                                 02888000
SCBCBGN  EQU   SCBSTAT1                                                 02889000
SCBSIZE  EQU   IEDQSCB+58                                               02890000
SCBSRCE  EQU   IEDQSCB+56                                               02891000
SCBDEOB  EQU   IEDQSCB+52                                               02892000
SCBFEFO  EQU   SCBDCSEG                                                 02893000
SCBCTBND EQU   SCBBLKCT                                                 02894000
SCBSCHDR EQU   SCBCLSEG                                                 02895000
SCBHBFNO EQU   IEDQSCB+44                                               02896000
SCBSCSEG EQU   SCBDNSEG                                                 02897000
SCBBCTR  EQU   SCBCTBSV                                                 02898000
SCBCCHDR EQU   IEDQSCB+37                                               02899000
SCBDESTL EQU   IEDQSCB+36                                               02900000
SCBDCHDR EQU   IEDQSCB+33                                               02901000
SCBCPBNO EQU   IEDQSCB+32                                               02902000
SCBMBSSA EQU   IEDQSCB+25                                               02903000
SCBNOEOT EQU   SCBBSCFM                                                 02904000
@NM00188 EQU   SCBBSCFM                                                 02905000
SCBNPDTR EQU   SCBDATEN                                                 02906000
SCBCNTEN EQU   SCBBSCFM                                                 02907000
SCBRCVTX EQU   SCBBSCFM                                                 02908000
SCBNONTR EQU   SCBBSCFM                                                 02909000
SCBTRNSP EQU   SCBBSCFM                                                 02910000
SCBENDCR EQU   SCBCTBAC+1                                               02911000
SCBCRLEN EQU   SCBCTBAC                                                 02912000
SCBMRFSD EQU   IEDQSCB+20                                               02913000
SCBUNDFN EQU   SCBERR4                                                  02914000
SCBSTERN EQU   SCBCHANN                                                 02915000
SCBCPMEN EQU   SCBCTLUN                                                 02916000
@NM00187 EQU   SCBERR4                                                  02917000
SCBCONNN EQU   SCBERR4                                                  02918000
SCBAPERR EQU   SCBTXTTN                                                 02919000
SCBPERRN EQU   SCBXCEPN                                                 02920000
SCBTHRSN EQU   SCBATTN                                                  02921000
SCBFIERN EQU   SCBFORMN                                                 02922000
SCBUSERN EQU   SCBERR3                                                  02923000
SCBSATTN EQU   SCBERR3                                                  02924000
SCBTMINN EQU   SCBERR3                                                  02925000
SCBXPD   EQU   SCBTMIDN                                                 02926000
SCBXPI   EQU   SCBLOSTN                                                 02927000
SCBSOHE  EQU   SCBERR2                                                  02928000
SCBFRWDN EQU   SCBERR2                                                  02929000
SCBRRJN  EQU   SCBABRTN                                                 02930000
SCBOLTR  EQU   SCBERR2                                                  02931000
SCBALN   EQU   SCBERR2                                                  02932000
SCBCODER EQU   SCBERR2                                                  02933000
SCBCRMAX EQU   SCBERR2                                                  02934000
SCBCRMIN EQU   SCBERR2                                                  02935000
SCBRVISL EQU   SCBCUTFN                                                 02936000
SCBNOBFN EQU   SCBERR1                                                  02937000
@NM00186 EQU   SCBERR1                                                  02938000
SCBNOVAC EQU   SCBSEQLN                                                 02939000
SCBNOTSO EQU   SCBSEQHN                                                 02940000
SCBRVITX EQU   SCBNOTRM                                                 02941000
SCBHANG  EQU   SCBORIGN                                                 02942000
SCBNOLOG EQU   SCBHDRRN                                                 02943000
SCBMRFPL EQU   IEDQSCB+13                                               02944000
SCBBFMM  EQU   SCBQTYPE                                                 02945000
SCBBBFTM EQU   SCBQTYPE                                                 02946000
SCBNOFF  EQU   SCBQTYPE                                                 02947000
SCBCONC  EQU   SCBQTYPE                                                 02948000
SCBNREUS EQU   SCBQTYPE                                                 02949000
SCBREUS  EQU   SCBQTYPE                                                 02950000
SCBCOREQ EQU   SCBQTYPE                                                 02951000
SCBNORCL EQU   SCBQTYPE                                                 02952000
SCBCTBSZ EQU   SCBEOBSZ                                                 02953000
@NM00185 EQU   SCBBKFCT                                                 02954000
SCBPRI   EQU   IEDQSCB+8                                                02955000
SCBMACR  EQU   SCBMBHEN                                                 02956000
SCBSNDCT EQU   SCBRCVCT                                                 02957000
SCBDESTQ EQU   IEDQSCB+1                                                02958000
SCBCODE  EQU   SCBSTATE                                                 02959000
SCBPRER  EQU   SCBSTATE                                                 02960000
SCBCKPT  EQU   SCBSTATE                                                 02961000
SCBMSGLN EQU   SCBSTATE                                                 02962000
SCBERSDS EQU   SCBSTATE                                                 02963000
SCBLCK1N EQU   SCBSTATE                                                 02964000
SCBMGFMN EQU   SCBSEQIN                                                 02965000
QCBTTCIN EQU   QCBPLCBA+1                                               02966000
@NM00184 EQU   QCBPLCBA                                                 02967000
@NM00183 EQU   QCBSTAT1                                                 02968000
QCBFLUSH EQU   QCBSTAT1                                                 02969000
QCBNDXRQ EQU   QCBSTAT1                                                 02970000
QCBESIG  EQU   QCBSTAT1                                                 02971000
QCBRCVRQ EQU   QCBSTAT1                                                 02972000
QCBSNDRQ EQU   QCBSTAT1                                                 02973000
QCBWAITC EQU   QCBSTAT1                                                 02974000
QCBPLCBN EQU   QCBSTAT1                                                 02975000
QCBCHAIN EQU   IEDNQCB                                                  02976000
QCBPQBCK EQU   IEDQPQCB+25                                              02977000
QCBPRIPQ EQU   IEDQPQCB+24                                              02978000
QCBCFHDR EQU   IEDQPQCB+21                                              02979000
QCBLFEFO EQU   IEDQPQCB+18                                              02980000
QCBFFEFO EQU   IEDQPQCB+15                                              02981000
QCBPREVF EQU   QCBINTLF                                                 02982000
QCBINTFF EQU   IEDQPQCB+9                                               02983000
QCBDATSQ EQU   QCBFHDTZ+1                                               02984000
@NM00182 EQU   QCBFHDTZ                                                 02985000
@NM00181 EQU   QCBPFEFO                                                 02986000
QCBDATFL EQU   QCBFHDLZ                                                 02987000
QCBDNHDR EQU   IEDQPQCB                                                 02988000
QCBQBACK EQU   IEDQQCB+37                                               02989000
QCBCKPT  EQU   QCBFLAG                                                  02990000
QCBPROC  EQU   QCBFLAG                                                  02991000
QCBSDFFO EQU   QCBFLAG                                                  02992000
QCBTERMQ EQU   QCBFLAG                                                  02993000
QCBRSRV  EQU   QCBFLAG                                                  02994000
QCBREAD  EQU   QCBFLAG                                                  02995000
QCBNOBRK EQU   QCBFLAG                                                  02996000
QCBLGBAD EQU   QCBDCBAD                                                 02997000
QCBRELLN EQU   IEDQQCB+32                                               02998000
QCBTJID  EQU   QCBLKRRN+1                                               02999000
QCBCARCT EQU   QCBLKRRN                                                 03000000
QCBPRLVL EQU   QCBPREN                                                  03001000
QCBMSGCT EQU   IEDQQCB+26                                               03002000
QCBEXTO  EQU   QCBINTVL                                                 03003000
QCBDISC  EQU   QCBTSOF1                                                 03004000
QCBDELAY EQU   QCBTSOF1                                                 03005000
QCBPARTO EQU   QCBTSOF1                                                 03006000
QCBSATRD EQU   QCBTSOF1                                                 03007000
QCBNOBUF EQU   QCBTSOF1                                                 03008000
QCBTPUT  EQU   QCBTSOF1                                                 03009000
QCBTGET  EQU   QCBTSOF1                                                 03010000
QCBWRBRK EQU   QCBTSOF1                                                 03011000
QCBSATLC EQU   QCBTSOF2                                                 03012000
QCBSATTI EQU   QCBTSOF2                                                 03013000
QCBSATCH EQU   QCBTSOF2                                                 03014000
QCBSIMRD EQU   QCBTSOF2                                                 03015000
QCBDSSMI EQU   QCBTSOF2                                                 03016000
QCBPOSTO EQU   QCBTSOF2                                                 03017000
QCBBUFQ  EQU   QCBTSOF2                                                 03018000
QCBINHBN EQU   QCBTSOF2                                                 03019000
QCBSATCT EQU   @NM00180                                                 03020000
QCBSCBOF EQU   IEDQQCB+20                                               03021000
QCBTIME  EQU   QCBSTAT                                                  03022000
QCBCLOCK EQU   QCBSTAT                                                  03023000
QCBSCHDL EQU   QCBSTAT                                                  03024000
QCBSMODE EQU   QCBSTAT                                                  03025000
QCBSEND  EQU   QCBSTAT                                                  03026000
QCBBUFRD EQU   QCBSTAT                                                  03027000
QCBTRMHO EQU   QCBSTAT                                                  03028000
QCBEOM   EQU   QCBSTAT                                                  03029000
QCBHUCT  EQU   QCBRETCT                                                 03030000
QCBIEND  EQU   QCBRETCT                                                 03031000
QCBEND   EQU   QCBRETCT                                                 03032000
QCBNL    EQU   QCBRETCT                                                 03033000
QCBLOGCT EQU   QCBRETCT                                                 03034000
@NM00179 EQU   QCBBYTE1                                                 03035000
QCBRITRM EQU   QCBBYTE1                                                 03036000
@NM00178 EQU   QCBEOLDT                                                 03037000
QCBSLINK EQU   IEDQQCB+13                                               03038000
QCBSTPRI EQU   IEDQQCB+12                                               03039000
QCBSTCHN EQU   IEDQQCB+9                                                03040000
QCBSTVTO EQU   IEDQQCB+8                                                03041000
QCBLINK  EQU   IEDQQCB+5                                                03042000
QCBPRI   EQU   IEDQQCB+4                                                03043000
QCBELCHN EQU   IEDQQCB+1                                                03044000
QCBHELD  EQU   QCBDSFLG                                                 03045000
QCBFQCB  EQU   QCBDSFLG                                                 03046000
QCBDRQQ  EQU   QCBDSFLG                                                 03047000
QCBALTMH EQU   QCBDSFLG                                                 03048000
QCBREUS  EQU   QCBDISK                                                  03049000
QCBNREUS EQU   QCBDISK                                                  03050000
QCBCORE  EQU   QCBDSFLG                                                 03051000
QCBTSQ   EQU   QCBDSFLG                                                 03052000
PRF2SEQP EQU   PRF2WD2                                                  03053000
@NM00177 EQU   IEDPF2+1                                                 03054000
@NM00176 EQU   PRF2FLG2                                                 03055000
PRF2SMI  EQU   PRF2FLG2                                                 03056000
PRF2FORM EQU   PRF2FLG2                                                 03057000
@NM00175 EQU   PRF1TAG1                                                 03058000
PRF1TAGS EQU   PRF1TAG1                                                 03059000
@NM00174 EQU   PRF1FLG1                                                 03060000
PRF1LOGD EQU   PRF1FLG1                                                 03061000
PRF1USS  EQU   PRF1FLG1                                                 03062000
PRF1EXPI EQU   PRF1FLG1                                                 03063000
PRFDEST  EQU   IEDQPRF+40                                               03064000
PRFISEQ  EQU   IEDQPRF+38                                               03065000
PRFNHDR  EQU   PRFCHDR                                                  03066000
PRFCRCD  EQU   IEDQPRF+29                                               03067000
PRFSVSEQ EQU   PRFNTXT+1                                                03068000
PRFSVPRI EQU   PRFEOBOF                                                 03069000
@NM00173 EQU   PRFSCAN                                                  03070000
PRFEOB   EQU   PRFXTRA+1                                                03071000
PRFSTSO  EQU   PRFXTRA                                                  03072000
PRFLOCK  EQU   PRFEOFN                                                  03073000
PRFDUPLN EQU   PRFSTAT1                                                 03074000
PRFTSMSG EQU   PRFSTAT1                                                 03075000
PRFITCPN EQU   PRFSTAT1                                                 03076000
PRFERMGN EQU   PRFSTAT1                                                 03077000
PRFSVFLG EQU   @NM00172+3                                               03078000
PRFTI0   EQU   PRFTIC+1                                                 03079000
@NM00171 EQU   PRFTICC                                                  03080000
@NM00170 EQU   PRFTICC                                                  03081000
@NM00169 EQU   PRFTICC                                                  03082000
@NM00168 EQU   PRFTICC                                                  03083000
@NM00167 EQU   PRFTICC                                                  03084000
PRFBFMM  EQU   PRFTICC                                                  03085000
PRFEOMSG EQU   PRFTICC                                                  03086000
PRFCOUNT EQU   PRFLINK+1                                                03087000
@NM00166 EQU   PRFLINK                                                  03088000
PRFFLAGS EQU   PRFPRI                                                   03089000
PRFIOADR EQU   PRFQCBA                                                  03090000
PRFOPCDE EQU   PRFKEY                                                   03091000
MODNINTE EQU   MODNEW2                                                  03092000
MODNSUBB EQU   MODNEW2                                                  03093000
MODNINTO EQU   MODNEIBJ                                                 03094000
MODNRLGR EQU   MODNEW2                                                  03095000
MODNRERP EQU   MODNEW2                                                  03096000
@NM00165 EQU   MODNEW2                                                  03097000
MODNCTXT EQU   MODNEW1                                                  03098000
MODNEMLC EQU   MODNEW1                                                  03099000
MODNITFL EQU   MODNEW1                                                  03100000
@NM00164 EQU   MODNEW1                                                  03101000
MODNEIBD EQU   MODNEW1                                                  03102000
MODNRLGW EQU   MODNEW1                                                  03103000
MODNWERP EQU   MODNEW1                                                  03104000
@NM00163 EQU   MODNEW1                                                  03105000
MODCMNTP EQU   MODCUR2                                                  03106000
MODCMNTR EQU   MODCUR2                                                  03107000
MODCINTE EQU   MODCUR2                                                  03108000
MODCSUBB EQU   MODCUR2                                                  03109000
MODCINTO EQU   MODCEIBJ                                                 03110000
MODCRLGR EQU   MODCUR2                                                  03111000
MODCRERP EQU   MODCUR2                                                  03112000
@NM00162 EQU   MODCUR2                                                  03113000
MODCCTXT EQU   MODCUR1                                                  03114000
MODCEMLC EQU   MODCUR1                                                  03115000
MODCITFL EQU   MODCUR1                                                  03116000
@NM00161 EQU   MODCUR1                                                  03117000
MODCEIBD EQU   MODCUR1                                                  03118000
MODCRLGW EQU   MODCUR1                                                  03119000
MODCWERP EQU   MODCUR1                                                  03120000
@NM00160 EQU   MODCUR1                                                  03121000
MODLNG   EQU   IEDQMOD                                                  03122000
LGBIVLST EQU   IEDNLGB+60                                               03123000
LGBRESV4 EQU   LGBRESER+3                                               03124000
LGBRESV3 EQU   LGBRESER+2                                               03125000
LGBRESV2 EQU   LGBRESER+1                                               03126000
LGBRESV1 EQU   LGBRESER                                                 03127000
LGBBUFSI EQU   IEDNLGB+54                                               03128000
@NM00159 EQU   IEDNLGB+53                                               03129000
LGBILCT  EQU   IEDNLGB+52                                               03130000
LGBSCTAD EQU   IEDNLGB+49                                               03131000
@NM00158 EQU   LGBOFLGS                                                 03132000
LGBOPEN  EQU   LGBOFLGS                                                 03133000
@NM00157 EQU   LGBOFLGS                                                 03134000
LGBNAME  EQU   IEDNLGB+40                                               03135000
@NM00156 EQU   IEDNLGB+36                                               03136000
LGBTRANS EQU   IEDNLGB+33                                               03137000
@NM00155 EQU   IEDNLGB+32                                               03138000
@NM00154 EQU   IEDNLGB+31                                               03139000
@NM00153 EQU   LGBBYTE                                                  03140000
LGBPACK  EQU   LGBBYTE                                                  03141000
LGBDSORG EQU   IEDNLGB+26                                               03142000
@NM00152 EQU   LGBPCI                                                   03143000
@NM00151 EQU   LGBPCI                                                   03144000
@NM00150 EQU   LGBPCI                                                   03145000
LGBPCIAO EQU   LGBPCI                                                   03146000
@NM00149 EQU   LGBPCI                                                   03147000
@NM00148 EQU   LGBPCI                                                   03148000
@NM00147 EQU   LGBPCI                                                   03149000
@NM00146 EQU   IEDNLGB+24                                               03150000
LGBMHA   EQU   IEDNLGB+21                                               03151000
@NM00145 EQU   LGBBUFOU                                                 03152000
LGBPREF  EQU   LGBBUFOU                                                 03153000
@NM00144 EQU   LGBBUFOU                                                 03154000
LGBSUBST EQU   IEDNLGB+18                                               03155000
LGBTYPE  EQU   IEDNLGB+17                                               03156000
@NM00143 EQU   IEDNLGB                                                  03157000
LCBERADR EQU   LCBXRADR+1                                               03158000
LCBPCIRC EQU   LCBXRADR                                                 03159000
LCBDCT3  EQU   LCBXDCT+2                                                03160000
LCBDCT2  EQU   LCBXDCT+1                                                03161000
LCBDCT1  EQU   LCBXDCT                                                  03162000
@NM00142 EQU   LCBXFLAG                                                 03163000
LCBERPND EQU   LCBXFLAG                                                 03164000
LCBSRCPF EQU   LCBXFLAG                                                 03165000
LCBGPCTV EQU   LCBXFLAG                                                 03166000
@NM00141 EQU   LCBXFLAG                                                 03167000
@NM00140 EQU   LCBXFLAG                                                 03168000
@NM00139 EQU   LCBXFLAG                                                 03169000
@NM00138 EQU   LCBXFLAG                                                 03170000
LCBCCW10 EQU   LCBCPA+72                                                03171000
LCBCCW9  EQU   LCBCPA+64                                                03172000
LCBCCW8  EQU   LCBCPA+56                                                03173000
LCBCCW7  EQU   LCBCPA+48                                                03174000
LCBCCW6  EQU   LCBCPA+40                                                03175000
LCBCCW5  EQU   LCBCPA+32                                                03176000
LCBCCW4  EQU   LCBCPA+24                                                03177000
LCBCCW3  EQU   LCBCPA+16                                                03178000
LCBCCW2  EQU   LCBCPA+8                                                 03179000
LCBCCW1  EQU   LCBCPA                                                   03180000
@NM00124 EQU   LCBERCCW                                                 03181000
LCBCSWSV EQU   LCBSAVSN+1                                               03182000
LCBSNSV  EQU   LCBSAVSN                                                 03183000
LCBBFSNS EQU   LCBRSPSV                                                 03184000
LCBWAITC EQU   LCBTPCD+5                                                03185000
LCBINPAK EQU   LCBSTAT6                                                 03186000
LCBHDRPD EQU   LCBSTAT6                                                 03187000
LCBCHN   EQU   LCBSTAT6                                                 03188000
@NM00123 EQU   LCBSTAT5                                                 03189000
LCBLUS   EQU   LCBSTAT5                                                 03190000
LCBLUNIT EQU   LCBSTAT5                                                 03191000
LCBPERM  EQU   LCBSTAT5                                                 03192000
LCBNXCMD EQU   LCBBFRW                                                  03193000
LCBERMSK EQU   LCBOBRCH                                                 03194000
LCBOLT   EQU   LCBMSGFM                                                 03195000
LCBEOT   EQU   LCBMSGFM                                                 03196000
LCBENQ   EQU   LCBMSGFM                                                 03197000
LCBTTD   EQU   LCBMSGFM                                                 03198000
LCBRSTRT EQU   LCBMSGFM                                                 03199000
LCBVSTRT EQU   LCBMSGFM                                                 03200000
LCBACKI  EQU   LCBMSGFM                                                 03201000
LCBNAK   EQU   LCBMSGFM                                                 03202000
@NM00122 EQU   LCBRBCT2                                                 03203000
LCBDCNT  EQU   LCBRBCT2                                                 03204000
LCBCOMPL EQU   LCBDLNKN                                                 03205000
LCBERROR EQU   LCBERBST                                                 03206000
@NM00121 EQU   LCBERBST                                                 03207000
LCBINQ   EQU   LCBERBST                                                 03208000
LCBRDERR EQU   LCBERBST                                                 03209000
LCBMSG   EQU   LCBERBST                                                 03210000
LCBERBLK EQU   IEDQLCB+81                                               03211000
LCBERBKY EQU   LCBERB                                                   03212000
LCBRECAD EQU   IEDQLCB+73                                               03213000
@NM00120 EQU   LCBTSTSW                                                 03214000
@NM00119 EQU   LCBTSTSW                                                 03215000
@NM00118 EQU   LCBTSTSW                                                 03216000
@NM00117 EQU   LCBTSTSW                                                 03217000
@NM00116 EQU   LCBTSTSW                                                 03218000
@NM00115 EQU   LCBTSTSW                                                 03219000
@NM00114 EQU   LCBTSTSW                                                 03220000
LCBCONCT EQU   LCBTSTSW                                                 03221000
LCBBFRAV EQU   LCBDIAL                                                  03222000
LCBATTN  EQU   LCBSYNC                                                  03223000
LCBNEGRP EQU   LCBSTAT2                                                 03224000
LCBSNDPR EQU   LCBSTAT2                                                 03225000
LCBCONNN EQU   LCBBEOTN                                                 03226000
LCBTRACE EQU   LCBSTAT2                                                 03227000
LCBSENDN EQU   LCBSTAT1                                                 03228000
LCBRECVN EQU   LCBSTAT1                                                 03229000
LCBFREEN EQU   LCBSTAT1                                                 03230000
LCBCONT  EQU   LCBSTAT1                                                 03231000
LCBINITN EQU   LCBSTAT1                                                 03232000
LCBOCNI  EQU   LCBSTAT1                                                 03233000
LCBOCWTN EQU   LCBSTAT1                                                 03234000
LCBRCLLN EQU   LCBSTAT1                                                 03235000
LCBRECOF EQU   IEDQLCB+68                                               03236000
LCBRDBFR EQU   LCBRCBFR                                                 03237000
LCBUCBX  EQU   IEDQLCB+64                                               03238000
LCBTTBIN EQU   LCBERRCT                                                 03239000
@NM00113 EQU   LCBINCAM                                                 03240000
LCBGETMN EQU   LCBINCAM                                                 03241000
LCBRESTR EQU   LCBRCQCB                                                 03242000
LCBPCILK EQU   LCBDCBPT                                                 03243000
LCBSTART EQU   LCBIOBSN+16                                              03244000
LCBAP4OL EQU   LCBSIOCC                                                 03245000
LCBAP3OL EQU   LCBSIOCC                                                 03246000
LCBAP2OL EQU   LCBSIOCC                                                 03247000
LCBAP1OL EQU   LCBSIOCC                                                 03248000
LCBSIOC2 EQU   LCBSIOCC                                                 03249000
LCBSIOC1 EQU   LCBSIOCC                                                 03250000
@NM00112 EQU   LCBSIOCC                                                 03251000
LCBCSWRC EQU   LCBCSW+5                                                 03252000
LCBCSCHC EQU   LCBCSWCS                                                 03253000
LCBCSICC EQU   LCBCSWCS                                                 03254000
LCBCSCCC EQU   LCBCSWCS                                                 03255000
LCBCSCDC EQU   LCBCSWCS                                                 03256000
LCBCSPTC EQU   LCBCSWCS                                                 03257000
LCBCSPGC EQU   LCBCSWCS                                                 03258000
LCBCSIL  EQU   LCBCSWCS                                                 03259000
LCBCSPCI EQU   LCBCSWCS                                                 03260000
LCBUSUE  EQU   LCBCSWUS                                                 03261000
LCBUSUC  EQU   LCBCSWUS                                                 03262000
LCBUSDE  EQU   LCBCSWUS                                                 03263000
LCBUSCE  EQU   LCBCSWUS                                                 03264000
LCBUSBSY EQU   LCBCSWUS                                                 03265000
LCBUSCUE EQU   LCBCSWUS                                                 03266000
LCBUSSM  EQU   LCBCSWUS                                                 03267000
LCBUSAT  EQU   LCBCSWUS                                                 03268000
LCBCSWCA EQU   LCBCSW                                                   03269000
LCBOBR   EQU   LCBFLAG3                                                 03270000
LCBOBRRD EQU   LCBFLAG3                                                 03271000
LCBIOMSG EQU   LCBFLAG3                                                 03272000
LCBSOHC  EQU   LCBFLAG3                                                 03273000
LCBRLAD  EQU   LCBFLAG3                                                 03274000
LCBSOHR  EQU   LCBFLAG3                                                 03275000
@NM00111 EQU   LCBFLAG3                                                 03276000
LCBECBPT EQU   LCBIOBSN+4                                               03277000
LCBECBCC EQU   LCBIOBSN+3                                               03278000
LCBSENS1 EQU   LCBIOBSN+2                                               03279000
LCBABORT EQU   LCBTMOUT                                                 03280000
LCBNOTIN EQU   LCBLOSDT                                                 03281000
LCBOVRUN EQU   LCBSENS0                                                 03282000
LCBDATCK EQU   LCBSENS0                                                 03283000
LCBEQUCK EQU   LCBSENS0                                                 03284000
LCBBUSCK EQU   LCBSENS0                                                 03285000
LCBINTRQ EQU   LCBSENS0                                                 03286000
LCBCMDRJ EQU   LCBSENS0                                                 03287000
LCBFLAG2 EQU   LCBIOBSN                                                 03288000
@NM00110 EQU   LCBFLAG1                                                 03289000
LCBUNREL EQU   LCBFLAG1                                                 03290000
LCBEXCPN EQU   LCBFLAG1                                                 03291000
@NM00109 EQU   LCBFLAG1                                                 03292000
LCBERPIN EQU   LCBFLAG1                                                 03293000
@NM00108 EQU   LCBFLAG1                                                 03294000
LCBFSBFR EQU   LCBMHA                                                   03295000
LCBLNENT EQU   LCBSCBDA+1                                               03296000
@NM00107 EQU   LCBSCBDA                                                 03297000
LCBCPGMH EQU   LCBSTAT4                                                 03298000
LCBREAL  EQU   LCBPHASE                                                 03299000
@NM00106 EQU   LCBSTAT4                                                 03300000
LCBACTRQ EQU   LCBSTAT4                                                 03301000
LCBIPLRQ EQU   LCBSTAT4                                                 03302000
LCBDACRQ EQU   LCBSTAT4                                                 03303000
LCBDMPRQ EQU   LCBSTAT4                                                 03304000
@NM00105 EQU   LCBLKMDE                                                 03305000
LCBLOCKI EQU   LCBLKMDE                                                 03306000
LCBLOCKR EQU   LCBLKMDE                                                 03307000
LCBHMFLG EQU   LCBLKMDE                                                 03308000
LCBBDFLG EQU   LCBLKMDE                                                 03309000
@NM00104 EQU   LCBINSRC                                                 03310000
LCBABRTN EQU   LCBCHAIN                                                 03311000
LCBCTLMD EQU   LCBTETEN                                                 03312000
LCBBFRSZ EQU   LCBCHAIN                                                 03313000
LCBUREQN EQU   LCBCHAIN                                                 03314000
LCBNORTY EQU   LCBCHAIN                                                 03315000
LCBERMSG EQU   LCBCHAIN                                                 03316000
LCBEXCP  EQU   LCBCHAIN                                                 03317000
LCBINVRQ EQU   LCBSCRNN                                                 03318000
LCB2741N EQU   LCBTSOB                                                  03319000
LCBINHBN EQU   LCBTSOB                                                  03320000
LCBCIRCD EQU   LCBTSOB                                                  03321000
LCBPREP  EQU   LCBTSOB                                                  03322000
LCBSOPL  EQU   LCBTSOB                                                  03323000
LCBSATRD EQU   LCBTSOB                                                  03324000
LCBTSBUF EQU   LCBTSOB                                                  03325000
LCBWRBRK EQU   LCBTSOB                                                  03326000
LCBTDL   EQU   IEDQLCB+18                                               03327000
LCBEOLTD EQU   IEDQLCB+16                                               03328000
LCBRSLNK EQU   IEDQLCB+13                                               03329000
LCBRSPRI EQU   IEDQLCB+12                                               03330000
LCBSTCBA EQU   IEDQLCB+9                                                03331000
LCBRSKEY EQU   IEDQLCB+8                                                03332000
LCBLINK  EQU   LCBRCB+5                                                 03333000
LCBPRI   EQU   LCBRCB+4                                                 03334000
LCBQCBA  EQU   LCBRCB+1                                                 03335000
LCBKEY   EQU   LCBRCB                                                   03336000
@NM00103 EQU   DCTBYTE5                                                 03337000
DCTL3270 EQU   DCTBYTE5                                                 03338000
DCTSCS   EQU   DCTBYTE5                                                 03339000
DCTTSPRF EQU   DCTBYTE4                                                 03340000
DCTFMPRF EQU   DCTBYTE4                                                 03341000
DCT2760  EQU   DCTBYTE3                                                 03342000
DCTNOIDL EQU   DCTBYTE3                                                 03343000
DCTCONTN EQU   DCTBYTE3                                                 03344000
DCTBUFF  EQU   DCTBYTE3                                                 03345000
DCTCHECK EQU   DCTBYTE3                                                 03346000
DCTENCTL EQU   DCTBYTE3                                                 03347000
DCTWTTA  EQU   DCTBYTE3                                                 03348000
DCT1050  EQU   DCTBYTE3                                                 03349000
DCTAUDIO EQU   DCTBYTE2                                                 03350000
DCTLOCAL EQU   DCTBYTE2                                                 03351000
DCTXMIT  EQU   DCTBYTE2                                                 03352000
DCTSTCTL EQU   DCTBYTE2                                                 03353000
DCTTWX   EQU   DCTBYTE2                                                 03354000
DCTBRDST EQU   DCTBYTE2                                                 03355000
DCTBISYN EQU   DCTBYTE2                                                 03356000
DCTUMASK EQU   DCTBYTE1                                                 03357000
DCTSADEV EQU   DCTBYTE1                                                 03358000
DCT3270  EQU   DCTBYTE1                                                 03359000
DCT2741  EQU   DCTBYTE1                                                 03360000
DCT5041  EQU   DCTBYTE1                                                 03361000
DCTATTEN EQU   DCTBYTE1                                                 03362000
DCTBREAK EQU   DCTBYTE1                                                 03363000
DCTINHIB EQU   DCTBYTE1                                                 03364000
DCTBYTE0 EQU   IEDDCT                                                   03365000
BDUXGRPH EQU   BDUEXRSP                                                 03366000
BDUXFINL EQU   BDUEXRSP                                                 03367000
BDUXINIT EQU   BDUEXRSP                                                 03368000
BDURESP  EQU   BDUSYRSP                                                 03369000
BDUPHASE EQU   BDUSYRSP                                                 03370000
BDUERROR EQU   BDUSYRSP                                                 03371000
BDUALTAK EQU   BDUFNFLG                                                 03372000
BDUNEGAK EQU   BDUFNFLG                                                 03373000
BDUPOSAK EQU   BDUFNFLG                                                 03374000
BDULEADG EQU   BDUFNFLG                                                 03375000
BDUHEADR EQU   BDUFNFLG                                                 03376000
BDUSTHDR EQU   BDUFNFLG                                                 03377000
SAVTBITN EQU   IEDNSVTD+312                                             03378000
@NM00102 EQU   SAVTCKQB+8                                               03379000
@NM00101 EQU   SAVTCKEC+1                                               03380000
@NM00100 EQU   SAVTCKCC                                                 03381000
SAVTCKPO EQU   SAVTCKCC                                                 03382000
SAVTCKWA EQU   SAVTCKCC                                                 03383000
SAVTCKCH EQU   SAVTCKTB+1                                               03384000
SAVTCKVT EQU   SAVTCKTB                                                 03385000
@NM00099 EQU   IEDNSVTD+297                                             03386000
SAVTRDFG EQU   SAVTRDRV+12                                              03387000
@NM00098 EQU   SAVTRDRV+5                                               03388000
SAVTRDPY EQU   SAVTRDRV+4                                               03389000
SAVTRDQB EQU   SAVTRDRV+1                                               03390000
SAVTRDKY EQU   SAVTRDRV                                                 03391000
SAVTNID  EQU   IEDNSVTD+280                                             03392000
SAVTDVAS EQU   IEDNSVTD+276                                             03393000
SAVTPLSZ EQU   IEDNSVTD+274                                             03394000
@NM00097 EQU   IEDNSVTD+273                                             03395000
SAVTSUBL EQU   IEDNSVTD+272                                             03396000
@NM00096 EQU   SAVTZELM+1                                               03397000
SAVTSUBM EQU   SAVTZELM                                                 03398000
SAVTMHDX EQU   IEDNSVTD+268                                             03399000
SAVTNAT1 EQU   IEDNSVTD+266                                             03400000
SAVTSH20 EQU   IEDNSVTD+264                                             03401000
SAVTLCBS EQU   IEDNSVTD+260                                             03402000
SAVTRNMP EQU   IEDNSVTD+256                                             03403000
SAVTTNTX EQU   IEDNSVTD+252                                             03404000
SAVTNAX  EQU   IEDNSVTD+248                                             03405000
SAVTSUBV EQU   IEDNSVTD+247                                             03406000
SAVTSUBA EQU   IEDNSVTD+246                                             03407000
SAVTSIBC EQU   IEDNSVTD+244                                             03408000
SAVTBSM  EQU   IEDNSVTD+240                                             03409000
SAVTRQTG EQU   IEDNSVTD+236                                             03410000
SAVTRQCH EQU   IEDNSVTD+232                                             03411000
SAVTMAND EQU   IEDNSVTD+228                                             03412000
SAVTSPLN EQU   IEDNSVTD+224                                             03413000
SAVTNADL EQU   IEDNSVTD+222                                             03414000
SAVTNATL EQU   IEDNSVTD+220                                             03415000
SAVTMHTB EQU   IEDNSVTD+216                                             03416000
SAVTSSMH EQU   IEDNSVTD+212                                             03417000
SAVTQRS  EQU   IEDNSVTD+208                                             03418000
SAVTRQIN EQU   IEDNSVTD+204                                             03419000
SAVTSARI EQU   IEDNSVTD+192                                             03420000
SAVTSAC  EQU   IEDNSVTD+188                                             03421000
SAVTSAI  EQU   IEDNSVTD+184                                             03422000
SAVTCSCI EQU   IEDNSVTD+180                                             03423000
SAVTSSRP EQU   IEDNSVTD+176                                             03424000
SAVTSSRQ EQU   IEDNSVTD+172                                             03425000
SAVTSCLU EQU   IEDNSVTD+168                                             03426000
SAVTXTRQ EQU   IEDNSVTD+164                                             03427000
SAVTMVBF EQU   IEDNSVTD+160                                             03428000
@NM00095 EQU   IEDNSVTD+148                                             03429000
SAVTIPCQ EQU   IEDNSVTD+144                                             03430000
@NM00094 EQU   IEDNSVTD+136                                             03431000
SAVTXFMI EQU   IEDNSVTD+132                                             03432000
@NM00093 EQU   IEDNSVTD+124                                             03433000
@NM00092 EQU   IEDNSVTD+116                                             03434000
SAVTSSSR EQU   IEDNSVTD+112                                             03435000
SAVTSCPQ EQU   IEDNSVTD+108                                             03436000
SAVTSLCB EQU   IEDNSVTD+104                                             03437000
SAVTLUSR EQU   IEDNSVTD+100                                             03438000
@NM00091 EQU   SAVTLUSQ+8                                               03439000
SAVTLUSP EQU   SAVTLUSQ+4                                               03440000
SAVTLUSB EQU   SAVTLUSQ                                                 03441000
@NM00090 EQU   IEDNSVTD+84                                              03442000
SAVTSAT  EQU   IEDNSVTD+80                                              03443000
SAVTNAT  EQU   IEDNSVTD+76                                              03444000
SAVTCLUP EQU   IEDNSVTD+72                                              03445000
SAVTPIUT EQU   IEDNSVTD+68                                              03446000
SAVTRNTA EQU   IEDNSVTD+64                                              03447000
SAVTCNIR EQU   IEDNSVTD+56                                              03448000
SAVTFLDH EQU   IEDNSVTD+52                                              03449000
SAVTSRTN EQU   IEDNSVTD+48                                              03450000
SAVTSREQ EQU   IEDNSVTD+44                                              03451000
SAVTFAIL EQU   IEDNSVTD+42                                              03452000
SAVTSUSE EQU   IEDNSVTD+40                                              03453000
SAVTSIB  EQU   IEDNSVTD+36                                              03454000
SAVTPRTN EQU   IEDNSVTD+32                                              03455000
@NM00089 EQU   IEDNSVTD+28                                              03456000
SAVTWH20 EQU   IEDNSVTD+26                                              03457000
SAVTPWT  EQU   IEDNSVTD+24                                              03458000
SAVTPRTQ EQU   IEDNSVTD+20                                              03459000
SAVTPREQ EQU   IEDNSVTD+16                                              03460000
SAVTPH20 EQU   IEDNSVTD+14                                              03461000
SAVTPUSE EQU   IEDNSVTD+12                                              03462000
SAVTPLCB EQU   IEDNSVTD+8                                               03463000
SAVTPOOL EQU   IEDNSVTD+4                                               03464000
SAVTPRMT EQU   SAVTDIAF                                                 03465000
SAVTVIRT EQU   SAVTDIAF                                                 03466000
AVTCPBNO EQU   IEDQAVTD+1172                                            03467000
AVTHRESS EQU   IEDQAVTD+1171                                            03468000
@NM00088 EQU   IEDQAVTD+1170                                            03469000
@NM00087 EQU   IEDQAVTD+1169                                            03470000
@NM00086 EQU   IEDQAVTD+1168                                            03471000
@NM00085 EQU   IEDQAVTD+1165                                            03472000
@NM00084 EQU   IEDQAVTD+1164                                            03473000
AVTHRESE EQU   @NM00083                                                 03474000
AVTRADDR EQU   IEDQAVTD+1156                                            03475000
AVTNADDR EQU   IEDQAVTD+1152                                            03476000
AVTHRESN EQU   IEDQAVTD+1148                                            03477000
AVTVOLRN EQU   IEDQAVTD+1144                                            03478000
AVTTOTNN EQU   IEDQAVTD+1140                                            03479000
AVTTRCYN EQU   IEDQAVTD+1136                                            03480000
AVTRCTRN EQU   IEDQAVTD+1132                                            03481000
AVTNOVON EQU   IEDQAVTD+1128                                            03482000
AVTADEBN EQU   IEDQAVTD+1124                                            03483000
AVTVOLRR EQU   IEDQAVTD+1120                                            03484000
AVTTOTNR EQU   IEDQAVTD+1116                                            03485000
AVTTRCYR EQU   IEDQAVTD+1112                                            03486000
AVTRCTRR EQU   IEDQAVTD+1108                                            03487000
AVTNOVOR EQU   IEDQAVTD+1104                                            03488000
AVTADEBR EQU   IEDQAVTD+1100                                            03489000
AVTLODPT EQU   IEDQAVTD+1096                                            03490000
AVTIOBN  EQU   IEDQAVTD+1092                                            03491000
AVTIOBR  EQU   IEDQAVTD+1088                                            03492000
AVTCPBPT EQU   IEDQAVTD+1084                                            03493000
AVTFCPB  EQU   IEDQAVTD+1080                                            03494000
@NM00082 EQU   IEDQAVTD+1076                                            03495000
AVTINCPQ EQU   IEDQAVTD+1072                                            03496000
@NM00081 EQU   IEDQAVTD+1068                                            03497000
@NM00080 EQU   IEDQAVTD+1065                                            03498000
@NM00079 EQU   AVTBIT4                                                  03499000
@NM00078 EQU   AVTBIT4                                                  03500000
@NM00077 EQU   AVTBIT4                                                  03501000
@NM00076 EQU   AVTBIT4                                                  03502000
@NM00075 EQU   AVTBIT4                                                  03503000
@NM00074 EQU   AVTBIT4                                                  03504000
@NM00073 EQU   AVTBIT4                                                  03505000
AVTRUFTN EQU   AVTBIT4                                                  03506000
@NM00072 EQU   IEDQAVTD+1060                                            03507000
AVTNOBFQ EQU   IEDQAVTD+1056                                            03508000
@NM00071 EQU   IEDQAVTD+1052                                            03509000
AVTDKENQ EQU   IEDQAVTD+1048                                            03510000
@NM00070 EQU   IEDQAVTD+1044                                            03511000
AVTDKAPQ EQU   IEDQAVTD+1040                                            03512000
AVTCOPY  EQU   IEDQAVTD+1036                                            03513000
AVTIA    EQU   IEDQAVTD+1032                                            03514000
AVTFL    EQU   IEDQAVTD+1028                                            03515000
@NM00069 EQU   IEDQAVTD+1024                                            03516000
AVTNCPBQ EQU   IEDQAVTD+1020                                            03517000
AVTTOTNC EQU   IEDQAVTD+1016                                            03518000
AVTCMAX  EQU   IEDQAVTD+1012                                            03519000
AVTCMIN  EQU   IEDQAVTD+1008                                            03520000
AVTHM02  EQU   IEDQAVTD+1004                                            03521000
AVTOPCIN EQU   IEDQAVTD+1002                                            03522000
AVTOPMSK EQU   IEDQAVTD+996                                             03523000
AVTOPTN  EQU   IEDQAVTD+984                                             03524000
AVTDSKCT EQU   IEDQAVTD+982                                             03525000
AVTCKRST EQU   IEDQAVTD+981                                             03526000
AVTSTAN  EQU   AVTBIT3                                                  03527000
AVTSTACN EQU   AVTBIT3                                                  03528000
AVTSTAIN EQU   AVTBIT3                                                  03529000
AVTSTAYN EQU   AVTBIT3                                                  03530000
AVTOLTBN EQU   AVTBIT3                                                  03531000
AVTTSAB  EQU   AVTBIT3                                                  03532000
AVTRFULN EQU   AVTBIT3                                                  03533000
AVTRECVN EQU   AVTBIT3                                                  03534000
@NM00068 EQU   AVTBIT2                                                  03535000
@NM00067 EQU   AVTBIT2                                                  03536000
AVTOPEIN EQU   AVTBIT2                                                  03537000
AVTSTRTN EQU   AVTBIT2                                                  03538000
AVTTOPOL EQU   AVTBIT2                                                  03539000
AVTCOPYN EQU   AVTBIT2                                                  03540000
AVTREUSN EQU   AVTBIT2                                                  03541000
AVTEXTSC EQU   AVTBIT2                                                  03542000
AVTDISKN EQU   AVTBIT1                                                  03543000
AVTQUCKN EQU   AVTBIT1                                                  03544000
AVTCLOSN EQU   AVTBIT1                                                  03545000
AVTREADN EQU   AVTBIT1                                                  03546000
AVTDLAYN EQU   AVTBIT1                                                  03547000
AVTAQTAN EQU   AVTBIT1                                                  03548000
AVTTSON  EQU   AVTBIT1                                                  03549000
AVTAPLKN EQU   AVTBIT1                                                  03550000
AVTDUMBR EQU   IEDQAVTD+976                                             03551000
AVTDLQX  EQU   IEDQAVTD+974                                             03552000
AVTINTLV EQU   IEDQAVTD+972                                             03553000
AVTSMCNT EQU   IEDQAVTD+970                                             03554000
AVTAVFCT EQU   IEDQAVTD+968                                             03555000
AVTOPCON EQU   IEDQAVTD+966                                             03556000
AVTOPCNT EQU   IEDQAVTD+964                                             03557000
AVTLNCNT EQU   IEDQAVTD+962                                             03558000
AVTHA16  EQU   IEDQAVTD+958                                             03559000
AVTHA7   EQU   IEDQAVTD+956                                             03560000
AVTHA4   EQU   IEDQAVTD+954                                             03561000
AVTHA3   EQU   IEDQAVTD+952                                             03562000
AVTHA2   EQU   IEDQAVTD+950                                             03563000
AVTGETMS EQU   IEDQAVTD+949                                             03564000
@NM00066 EQU   IEDQAVTD+948                                             03565000
AVTGETMD EQU   IEDQAVTD+944                                             03566000
AVTGETMN EQU   IEDQAVTD+940                                             03567000
AVTCWTOT EQU   IEDQAVTD+936                                             03568000
AVTCWINT EQU   IEDQAVTD+884                                             03569000
AVTDTRAP EQU   IEDQAVTD+880                                             03570000
@NM00065 EQU   IEDQAVTD+878                                             03571000
@NM00064 EQU   AVTIOTR                                                  03572000
AVTIOTRH EQU   AVTIOTR                                                  03573000
AVTIOTRE EQU   AVTIOTR                                                  03574000
@NM00063 EQU   AVTSUBT                                                  03575000
AVTSUBPT EQU   AVTSUBT                                                  03576000
AVTSUBON EQU   AVTSUBT                                                  03577000
AVTAFE30 EQU   IEDQAVTD+872                                             03578000
AVTAFE20 EQU   IEDQAVTD+868                                             03579000
AVTAFE10 EQU   IEDQAVTD+864                                             03580000
AVTCWEC2 EQU   IEDQAVTD+860                                             03581000
AVTCWPM2 EQU   IEDQAVTD+856                                             03582000
AVTCWTS2 EQU   IEDQAVTD+855                                             03583000
AVTCWTS1 EQU   IEDQAVTD+854                                             03584000
AVTCWCLD EQU   AVTCWFL2                                                 03585000
AVTCWRAP EQU   AVTCWFL2                                                 03586000
@NM00062 EQU   AVTCWFL2                                                 03587000
@NM00061 EQU   AVTCWFL2                                                 03588000
@NM00060 EQU   AVTCWFL2                                                 03589000
@NM00059 EQU   AVTCWFL2                                                 03590000
@NM00058 EQU   AVTCWFL2                                                 03591000
AVTCWACT EQU   AVTCWFL2                                                 03592000
@NM00057 EQU   AVTCWFL1                                                 03593000
@NM00056 EQU   AVTCWFL1                                                 03594000
@NM00055 EQU   AVTCWFL1                                                 03595000
@NM00054 EQU   AVTCWFL1                                                 03596000
@NM00053 EQU   AVTCWFL1                                                 03597000
@NM00052 EQU   AVTCWFL1                                                 03598000
@NM00051 EQU   AVTCWFL1                                                 03599000
AVTCOMWN EQU   AVTCWFL1                                                 03600000
AVTCWEC1 EQU   IEDQAVTD+848                                             03601000
AVTCWPM1 EQU   IEDQAVTD+844                                             03602000
AVTCAREA EQU   IEDQAVTD+840                                             03603000
AVTFZERO EQU   IEDQAVTD+836                                             03604000
AVTCADDR EQU   IEDQAVTD+832                                             03605000
AVTCOREC EQU   IEDQAVTD+828                                             03606000
@NM00050 EQU   IEDQAVTD+820                                             03607000
AVTCPBCB EQU   IEDQAVTD+816                                             03608000
@NM00049 EQU   IEDQAVTD+808                                             03609000
@NM00048 EQU   IEDQAVTD+796                                             03610000
AVTCPRMB EQU   IEDQAVTD+792                                             03611000
@NM00047 EQU   IEDQAVTD+784                                             03612000
AVTCLOSB EQU   IEDQAVTD+780                                             03613000
@NM00046 EQU   IEDQAVTD+772                                             03614000
AVTACTIB EQU   IEDQAVTD+768                                             03615000
@NM00045 EQU   IEDQAVTD+764                                             03616000
AVTOLTEB EQU   IEDQAVTD+760                                             03617000
AVTOLTCH EQU   AVTOLTQB+1                                               03618000
AVTOLTVT EQU   AVTOLTQB                                                 03619000
@NM00044 EQU   AVTOPCQB+8                                               03620000
@NM00043 EQU   AVTOPCEC+1                                               03621000
@NM00042 EQU   AVTOPCCC                                                 03622000
AVTOPCPO EQU   AVTOPCCC                                                 03623000
AVTOPCWA EQU   AVTOPCCC                                                 03624000
AVTOPCCH EQU   AVTOPCOB+1                                               03625000
AVTOPCVT EQU   AVTOPCOB                                                 03626000
@NM00041 EQU   AVTCKPQB+9                                               03627000
AVTCKPTS EQU   AVTCKPQB+8                                               03628000
@NM00040 EQU   AVTCKPEC+1                                               03629000
@NM00039 EQU   AVTCKPCC                                                 03630000
AVTCKPPO EQU   AVTCKPCC                                                 03631000
AVTCKPWA EQU   AVTCKPCC                                                 03632000
AVTCKPCH EQU   AVTCKPTB+1                                               03633000
AVTCKPVT EQU   AVTCKPTB                                                 03634000
@NM00038 EQU   IEDQAVTD+724                                             03635000
@NM00037 EQU   IEDQAVTD+712                                             03636000
AVTTIMQ  EQU   IEDQAVTD+704                                             03637000
@NM00036 EQU   IEDQAVTD+700                                             03638000
AVTIMQPS EQU   IEDQAVTD+696                                             03639000
AVTINOUT EQU   IEDQAVTD+694                                             03640000
AVTREFTM EQU   IEDQAVTD+692                                             03641000
@NM00035 EQU   IEDQAVTD+680                                             03642000
AVTDELYB EQU   IEDQAVTD+676                                             03643000
AVTOCQPT EQU   IEDQAVTD+672                                             03644000
AVTTSOPT EQU   IEDQAVTD+668                                             03645000
AVTSUPPT EQU   IEDQAVTD+664                                             03646000
AVTCBQCB EQU   IEDQAVTD+660                                             03647000
AVTMSGS  EQU   IEDQAVTD+657                                             03648000
@NM00034 EQU   AVTSYSER                                                 03649000
@NM00033 EQU   AVTSYSER                                                 03650000
@NM00032 EQU   AVTSYSER                                                 03651000
@NM00031 EQU   AVTSYSER                                                 03652000
@NM00030 EQU   AVTSYSER                                                 03653000
@NM00029 EQU   AVTSYSER                                                 03654000
AVTCMAXN EQU   AVTSYSER                                                 03655000
AVTCMINN EQU   AVTSYSER                                                 03656000
AVT2260L EQU   IEDQAVTD+652                                             03657000
AVTABEPL EQU   AVTADBUF                                                 03658000
AVTHFF   EQU   AVTCLRHI+2                                               03659000
@NM00028 EQU   AVTCLRHI                                                 03660000
AVTCCLNK EQU   AVTCRELE+5                                               03661000
AVTCCPRI EQU   AVTCRELE+4                                               03662000
AVTCCQCB EQU   AVTCCELE+1                                               03663000
AVTCCKEY EQU   AVTCCELE                                                 03664000
AVTDELAD EQU   IEDQAVTD+632                                             03665000
AVTDELEM EQU   IEDQAVTD+628                                             03666000
AVTBSX   EQU   AVTCKLNK                                                 03667000
AVTOPETR EQU   AVTHG01                                                  03668000
@NM00027 EQU   AVTCKBYT                                                 03669000
AVTCKONQ EQU   AVTCKBYT                                                 03670000
@NM00026 EQU   AVTCKBYT                                                 03671000
@NM00025 EQU   AVTCKBYT                                                 03672000
@NM00024 EQU   AVTCKBYT                                                 03673000
@NM00023 EQU   AVTCKBYT                                                 03674000
@NM00022 EQU   AVTCKBYT                                                 03675000
@NM00021 EQU   AVTCKBYT                                                 03676000
AVTOPERT EQU   IEDQAVTD+618                                             03677000
AVTOPXCL EQU   IEDQAVTD+616                                             03678000
AVTOPERL EQU   IEDQAVTD+615                                             03679000
@NM00020 EQU   IEDQAVTD+614                                             03680000
AVTCKTIM EQU   IEDQAVTD+612                                             03681000
AVTCKELV EQU   IEDQAVTD+610                                             03682000
AVTCPRCD EQU   IEDQAVTD+609                                             03683000
AVTWARMN EQU   AVTCKELF                                                 03684000
AVTCRTLN EQU   AVTCKELF                                                 03685000
AVTCPIPN EQU   AVTCKELF                                                 03686000
AVTCCLCN EQU   AVTCKELF                                                 03687000
AVTCINCN EQU   AVTCKELF                                                 03688000
@NM00019 EQU   AVTCKELF                                                 03689000
AVTCMCPN EQU   AVTCKELF                                                 03690000
AVTCRDYN EQU   AVTCKELF                                                 03691000
AVTCKQAD EQU   IEDQAVTD+605                                             03692000
AVTSCBSZ EQU   IEDQAVTD+604                                             03693000
@NM00018 EQU   IEDQAVTD+600                                             03694000
AVTCKELE EQU   IEDQAVTD+596                                             03695000
@NM00017 EQU   AVTCKPEL+8                                               03696000
AVTCKRLK EQU   AVTCKPEL+5                                               03697000
AVTCKRPR EQU   AVTCKPEL+4                                               03698000
AVTCKRMQ EQU   AVTCKRMV+1                                               03699000
AVTCKRKY EQU   AVTCKRMV                                                 03700000
AVTHK    EQU   IEDQAVTD+576                                             03701000
AVTHI    EQU   IEDQAVTD+572                                             03702000
AVTIOT   EQU   IEDQAVTD+568                                             03703000
AVTNX    EQU   IEDQAVTD+564                                             03704000
AVTTONE  EQU   IEDQAVTD+560                                             03705000
AVTA3TL  EQU   IEDQAVTD+556                                             03706000
AVTDMECB EQU   IEDQAVTD+552                                             03707000
AVTABEND EQU   IEDQAVTD+546                                             03708000
AVTPLCBN EQU   IEDQAVTD+544                                             03709000
@NM00016 EQU   AVTSAVTP+1                                               03710000
@NM00015 EQU   AVTSAVTF                                                 03711000
AVTSNA   EQU   AVTSAVTF                                                 03712000
AVTONSNA EQU   AVTSAVTF                                                 03713000
AVTVTMCP EQU   AVTSAVTF                                                 03714000
@NM00014 EQU   IEDQAVTD+536                                             03715000
AVTCMBSS EQU   IEDQAVTD+532                                             03716000
AVTRCV   EQU   IEDQAVTD+528                                             03717000
AVTSEND  EQU   IEDQAVTD+524                                             03718000
AVTCSCH  EQU   IEDQAVTD+520                                             03719000
AVTQ1    EQU   IEDQAVTD+516                                             03720000
AVTE7    EQU   IEDQAVTD+512                                             03721000
AVTHB    EQU   IEDQAVTD+508                                             03722000
AVTR1    EQU   IEDQAVTD+504                                             03723000
AVTBZ    EQU   IEDQAVTD+500                                             03724000
AVTEZ    EQU   IEDQAVTD+496                                             03725000
AVTEC    EQU   IEDQAVTD+492                                             03726000
AVTEW    EQU   IEDQAVTD+488                                             03727000
AVTNDIAL EQU   AVTSCOPT                                                 03728000
AVTN2741 EQU   AVTSCOPT                                                 03729000
AVTCONCO EQU   AVTSCOPT                                                 03730000
AVTCONC  EQU   AVTSCOPT                                                 03731000
AVTCMBUF EQU   AVTSCOPT                                                 03732000
AVTAPDMP EQU   AVTSCOPT                                                 03733000
@NM00013 EQU   AVTSCOPT                                                 03734000
AVTHA    EQU   AVTDISP                                                  03735000
AVTEA    EQU   IEDQAVTD+476                                             03736000
AVTAX    EQU   IEDQAVTD+472                                             03737000
AVTA3    EQU   IEDQAVTD+468                                             03738000
AVTGD    EQU   IEDQAVTD+464                                             03739000
AVTAL    EQU   IEDQAVTD+460                                             03740000
AVTOLTST EQU   AVTHG02                                                  03741000
AVTE8    EQU   IEDQAVTD+452                                             03742000
AVTUI    EQU   IEDQAVTD+448                                             03743000
AVTCOMPT EQU   IEDQAVTD+444                                             03744000
AVTCRSRF EQU   IEDQAVTD+440                                             03745000
@NM00012 EQU   IEDQAVTD+436                                             03746000
AVTKA02  EQU   IEDQAVTD+432                                             03747000
AVTOPTPT EQU   IEDQAVTD+428                                             03748000
AVTPCBPT EQU   IEDQAVTD+424                                             03749000
AVTOSECB EQU   IEDQAVTD+420                                             03750000
AVTOPECA EQU   IEDQAVTD+416                                             03751000
AVTOLECA EQU   IEDQAVTD+412                                             03752000
AVTCKECA EQU   IEDQAVTD+408                                             03753000
AVTCWECA EQU   IEDQAVTD+404                                             03754000
AVTCWTCB EQU   IEDQAVTD+400                                             03755000
AVTOLTCB EQU   IEDQAVTD+396                                             03756000
AVTOCTCB EQU   IEDQAVTD+392                                             03757000
AVTCKTCB EQU   IEDQAVTD+388                                             03758000
AVTAS    EQU   IEDQAVTD+384                                             03759000
AVTNOLBF EQU   IEDQAVTD+382                                             03760000
AVTNCKPR EQU   IEDQAVTD+381                                             03761000
AVTCIB   EQU   IEDQAVTD+380                                             03762000
AVTSPLPT EQU   IEDQAVTD+376                                             03763000
AVTMVBFR EQU   IEDQAVTD+372                                             03764000
AVTSBTA  EQU   IEDQAVTD+368                                             03765000
AVTRARTN EQU   IEDQAVTD+364                                             03766000
AVTBSCAN EQU   IEDQAVTD+360                                             03767000
AVTRDYA  EQU   IEDQAVTD+356                                             03768000
AVTDISTR EQU   IEDQAVTD+348                                             03769000
AVTPARM3 EQU   IEDQAVTD+344                                             03770000
@NM00011 EQU   AVTPKF                                                   03771000
@NM00010 EQU   AVTPKF                                                   03772000
@NM00009 EQU   AVTPKF                                                   03773000
AVTFTCHF EQU   AVTPKF                                                   03774000
@NM00008 EQU   AVTPKF                                                   03775000
@NM00007 EQU   AVTPKF                                                   03776000
@NM00006 EQU   AVTPKF                                                   03777000
@NM00005 EQU   AVTPKF                                                   03778000
AVTPARM  EQU   IEDQAVTD+336                                             03779000
AVTEXS2A EQU   IEDQAVTD+330                                             03780000
AVTEXA2S EQU   IEDQAVTD+324                                             03781000
AVTOCGET EQU   IEDQAVTD+320                                             03782000
AVTCKAVT EQU   @NM00003+1                                               03783000
@NM00004 EQU   AVTCKFLG                                                 03784000
AVTCKHLT EQU   AVTCKFLG                                                 03785000
AVTCKREQ EQU   AVTCKFLG                                                 03786000
AVTCKENV EQU   AVTCKFLG                                                 03787000
AVTCKNAC EQU   AVTCKFLG                                                 03788000
AVTCKTAC EQU   AVTCKFLG                                                 03789000
@NM00002 EQU   IEDQAVTD+312                                             03790000
AVTREADD EQU   IEDQAVTD+308                                             03791000
AVTREADY EQU   IEDQAVTD+304                                             03792000
AVTRACE  EQU   IEDQAVTD+300                                             03793000
AVTTCB   EQU   IEDQAVTD+296                                             03794000
AVTPASWD EQU   IEDQAVTD+288                                             03795000
AVTCTLCH EQU   IEDQAVTD+280                                             03796000
AVTDOUBL EQU   IEDQAVTD+272                                             03797000
AVTDOUBX EQU   IEDQAVTD+264                                             03798000
AVTDPARM EQU   IEDQAVTD+260                                             03799000
AVTDLQ   EQU   AVTSAVEX+32                                              03800000
@NM00001 EQU   AVTSAVEX                                                 03801000
AVTSAVE4 EQU   IEDQAVTD+144                                             03802000
AVTSAVE3 EQU   IEDQAVTD+72                                              03803000
AVTSAVE2 EQU   IEDQAVTD                                                 03804000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      03805000
@RC00583 EQU   @RC00579                                                 03806000
@RC00599 EQU   @RC00579                                                 03807000
@RC00540 EQU   @RC00533                                                 03808000
@RC00635 EQU   @RC00533                                                 03809000
@RC00676 EQU   @RC00533                                                 03810000
@RC00683 EQU   @RC00533                                                 03811000
@RC00704 EQU   @RC00702                                                 03812000
@RC00822 EQU   @RC00820                                                 03813000
@RC00831 EQU   @RC00829                                                 03814000
@RC00840 EQU   @RC00839                                                 03815000
@RF00888 EQU   @EL00005                                                 03816000
@RF00891 EQU   @EL00005                                                 03817000
@RC00929 EQU   @EL00008                                                 03818000
@RC00948 EQU   @RC00946                                                 03819000
@RC00985 EQU   @EL00011                                                 03820000
@PB00018 EQU   @EL00001                                                 03821000
@RC00550 EQU   @RC00540                                                 03822000
@RC00542 EQU   @RC00540                                                 03823000
@RC00639 EQU   @RC00635                                                 03824000
@RF00663 EQU   @RC00635                                                 03825000
@PB00017 EQU   @PB00018                                                 03826000
@PB00016 EQU   @PB00017                                                 03827000
@PB00015 EQU   @PB00016                                                 03828000
@PB00014 EQU   @PB00015                                                 03829000
@PB00013 EQU   @PB00014                                                 03830000
@PB00012 EQU   @PB00013                                                 03831000
@PB00011 EQU   @PB00012                                                 03832000
@PB00010 EQU   @PB00011                                                 03833000
@PB00009 EQU   @PB00010                                                 03834000
@PB00008 EQU   @PB00009                                                 03835000
@PB00007 EQU   @PB00008                                                 03836000
@PB00006 EQU   @PB00007                                                 03837000
@PB00005 EQU   @PB00006                                                 03838000
@PB00004 EQU   @PB00005                                                 03839000
@PB00003 EQU   @PB00004                                                 03840000
@PB00002 EQU   @PB00003                                                 03841000
@ENDDATA EQU   *                                                        03842000
         END   IEDNGD,(C'PLS0137',0701,77033)                           03843000
