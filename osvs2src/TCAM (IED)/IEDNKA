         TITLE 'IEDNKA, CONTROL NIR GENERATOR                          *00001000
                        '                                               00002000
IEDNKA   CSECT ,                                                01S0001 00003000
@PROLOG  DS    0H                                               01S0002 00004000
*                                                         /* @Y17XAIK*/ 00005000
*                                   /*                                  00006000
         USING *,RBASE                 MODULE ADDRESSABILITY            00007000
         DC    AL4(0)                  ELEMENT CHAIN                    00008000
         DC    AL4(0)                  LINK FIELD                       00009000
         DC    XL1'06'                 STCB VTO                         00010000
         DC    AL3(*-1)                POINTER TO STCB VTO              00011000
*   RBASE=IEDQQPTR;                 /* SET MODULE BASE REG           */ 00012000
         LR    RBASE,IEDQQPTR                                   02S0567 00013000
*   GEN REFS(RBASE) NOSETS;                                     02S0568 00014000
*                                                         /* @Y17XAIK*/ 00015000
*                                   /*                                  00016000
IEDNKA   IEDHJN AFTERHJN,HJN            IDENTIFICATION MACRO            00017000
*   RFY                                                         02S0569 00018000
*     IEDQQPTR UNRSTD;              /* RELEASE REGISTER              */ 00019000
*                                                               02S0570 00020000
*   /*****************************************************************/ 00021000
*   /*                                                               */ 00022000
*   /* PROCESS: PROCESS SEGMENT - THIS SEGMENT IS THE TOP LEVEL      */ 00023000
*   /* PROCESS SEGMENT FOR THIS MODULE.                              */ 00024000
*   /*                                                               */ 00025000
*   /*****************************************************************/ 00026000
*                                                               02S0570 00027000
*   IF RPARM->PRFTICON=ON THEN      /* IF ELEMENT IS A BUFFER THEN   */ 00028000
         TM    PRFTICON(RPARM),B'00001000'                      02S0570 00029000
         BNO   @RF00570                                         02S0570 00030000
*                                                               03S0571 00031000
*     /***************************************************************/ 00032000
*     /*                                                             */ 00033000
*     /* PROCESS.BUFFER: BUFFER INPUT SEGMENT.                       */ 00034000
*     /*                                                             */ 00035000
*     /***************************************************************/ 00036000
*                                                               03S0571 00037000
*     DO;                                                       03S0571 00038000
*       RPRF=RPARM;                 /* SET BFR BASE REG              */ 00039000
         LR    RPRF,RPARM                                       03S0572 00040000
*       IF PRFPRI=PRIASYNC THEN     /* TEST TYPE OF BFR INPUT        */ 00041000
         CLI   PRFPRI(RPRF),X'E6'                               03S0573 00042000
         BNE   @RF00573                                         03S0573 00043000
*         DO;                       /* IT IS AN ASYNCHRONOUS REQUEST */ 00044000
*           RPARM=PRFDEST;          /* GET TNT INDEX                 */ 00045000
         LH    RPARM,PRFDEST(,RPRF)                             03S0575 00046000
*           CALL IEDQTNT;           /* GET TRM ADDRESS               */ 00047000
         L     @15,AVTRNMPT(,RAVT)                              03S0576 00048000
         BALR  @14,@15                                          03S0576 00049000
*           RTRM=RPARM-LENGTH(IEDNTRM);/* SET TRM BASE REG           */ 00050000
         LA    @10,14                                           03S0577 00051000
         LR    RTRM,RPARM                                       03S0577 00052000
         SLR   RTRM,@10                                         03S0577 00053000
*           IF TRMSNA=ON THEN       /* IF IT IS A SNA RESOURCE THEN     00054000
*                                      IT IS A REQUEST FOR A NEGATIVE   00055000
*                                      RESPONSE TO RTR.              */ 00056000
         TM    TRMSNA(RTRM),B'00000010'                         03S0578 00057000
         BNO   @RF00578                                         03S0578 00058000
*                                                               04S0579 00059000
*             /*******************************************************/ 00060000
*             /*                                                     */ 00061000
*             /* PROCESS.BUFFER.SNARESP: THIS SEGMENT BUILDS A       */ 00062000
*             /* NEGATIVE RESPONSE TO RTR IN THE BUFFER WITH WHICH   */ 00063000
*             /* NKA WAS INVOKED AND THEN POSTS THE RESPONSE TO      */ 00064000
*             /* IEDDFOUT.                                   @Y17XAIK*/ 00065000
*             /*                                                     */ 00066000
*             /*******************************************************/ 00067000
*                                                               04S0579 00068000
*             DO;                                               04S0579 00069000
*               RFY                                             04S0580 00070000
*                 IEDRH BASED(ADDR(PIURH));/*                @Y17XAIK*/ 00071000
*               RFY                                             04S0581 00072000
*                 IEDTH BASED(ADDR(PIUTH));/*                @Y17XAIK*/ 00073000
*               BUFTOCLR(1:BUFTCLEN)=BUFTOCLR(1:BUFTCLEN)&&/*   04S0582 00074000
*                                                            @Y17XAIK*/ 00075000
*                   BUFTOCLR(1:BUFTCLEN);/* CLEAR INPUT BUFFER FOR      00076000
*                                      PIU BUILD             @Y17XAIK*/ 00077000
         LA    @09,8                                            04S0582 00078000
         LR    @07,RPRF                                         04S0582 00079000
         SLR   @07,@09                                          04S0582 00080000
         SLR   @05,@05                                          04S0582 00081000
         IC    @05,BUFTCLEN                                     04S0582 00082000
         BCTR  @05,0                                            04S0582 00083000
         EX    @05,@SX02496                                     04S0582 00084000
*               PRF2TNTI=ON;        /* SET PIU PRIME FLAG    @Y17XAIK*/ 00085000
         OI    PRF2TNTI(@07),B'10000000'                        04S0583 00086000
*               PRFTIC=PRFINTIC;    /* RESTORE BUFFER INDICATORS        00087000
*                                                            @Y17XAIK*/ 00088000
         MVC   PRFTIC(4,RPRF),@CB01537                          04S0584 00089000
*               PRFPIUO=PIUO;       /* SETUP PIU OFFSET IN BUFFER       00090000
*                                                            @Y17XAIK*/ 00091000
         MVI   PRFPIUO(RPRF),X'01'                              04S0585 00092000
*               TTHFTYPE=TTHFID1;   /* SET FID1              @Y17XAIK*/ 00093000
         LA    @07,PRFPIUO(,RPRF)                               04S0586 00094000
         LA    @05,1                                            04S0586 00095000
         ALR   @05,@07                                          04S0586 00096000
         NI    TTHFTYPE(@05),B'00011111'                        04S0586 00097000
         OI    TTHFTYPE(@05),B'00010000'                        04S0586 00098000
*               TTHBBIU=ON;         /* SET BEGIN BIU..       @Y17XAIK*/ 00099000
*               TTHEBIU=ON;         /* AND END BIU TO INDICATE ONLY     00100000
*                                      SEGMENT               @Y17XAIK*/ 00101000
         OI    TTHBBIU(@05),B'00001100'                         04S0588 00102000
*               TTHSNF=LCBTHSQ;     /* GET SEQUENCE NUMBER SAVED FROM   00103000
*                                      REQUEST               @Y17XAIK*/ 00104000
         MVC   TTHSNF(2,@05),LCBTHSQ(RLCB)                      04S0589 00105000
*               SIBPTR=TRMSIBPT;    /* SET SIB BASE REGISTER @Y17XAIK*/ 00106000
         SLR   SIBPTR,SIBPTR                                    04S0590 00107000
         ICM   SIBPTR,7,TRMSIBPT(RTRM)                          04S0590 00108000
*               TTHOAF=SIBINDEX;    /* SOURCE TTCIN          @Y17XAIK*/ 00109000
         MVC   TTHOAF(2,@05),SIBINDEX(SIBPTR)                   04S0591 00110000
*               TTHDAF=PRFDEST;     /* DESTINATION TTCIN     @Y17XAIK*/ 00111000
         MVC   TTHDAF(2,@05),PRFDEST(RPRF)                      04S0592 00112000
*               TTHDCF=LENGTH(IEDRH)+LENGTH(NEGRSPRU);/* RH+SENSE       00113000
*                                      DATA+                 @Y17XAIK   00114000
*                                      COMMAND CODE          @Y17XAIK*/ 00115000
         STCM  @09,3,TTHDCF(@05)                                04S0593 00116000
*               TRHTYPE=ON;         /* SET RESPONSE          @Y17XAIK*/ 00117000
         LA    @09,11                                           04S0594 00118000
         ALR   @09,@07                                          04S0594 00119000
         OI    TRHTYPE(@09),B'10000000'                         04S0594 00120000
*               TRHRUCAT=TRHDFC;    /* SET DATA FLOW CONTROL @Y17XAIK*/ 00121000
         NI    TRHRUCAT(@09),B'11011111'                        04S0595 00122000
         OI    TRHRUCAT(@09),B'01000000'                        04S0595 00123000
*               TRHFI=ON;           /* SET FORMATTED INDICATOR  04S0596 00124000
*                                                            @Y17XAIK*/ 00125000
*               TRHSDI=ON;          /* SET SENSE DATA INCLUDED  04S0597 00126000
*                                                            @Y17XAIK*/ 00127000
*               TRHBC=ON;           /* SET BEGIN CHAIN..     @Y17XAIK*/ 00128000
*               TRHEC=ON;           /* AND SET END CHAIN TO INDICATE    00129000
*                                      ONLY CHAIN            @Y17XAIK*/ 00130000
         OI    TRHFI(@09),B'00001111'                           04S0599 00131000
*               TRHER=ON;           /* EXCEPTION RESPONSE    @Y17XAIK*/ 00132000
*               TRHDR1=ON;          /* DEFINITE RESPONSE ONE @Y17XAIK*/ 00133000
         OI    TRHER(@09),B'10010000'                           04S0601 00134000
*               NEGRSPRU=RTRNREQD;  /* RTR NOT REQUIRED EXCEPTION       00135000
*                                      RESPONSE              @Y17XAIK*/ 00136000
         ALR   @07,@10                                          04S0602 00137000
         MVC   NEGRSPRU(5,@07),RTRNREQD                         04S0602 00138000
*               PRFQCBA=SAVTDFCO;   /* ADDRESS OF IEDDFOUT QCB  04S0603 00139000
*                                                            @Y17XAIK*/ 00140000
         L     @10,AVTSAVTP(,RAVT)                              04S0603 00141000
         MVC   PRFQCBA(3,RPRF),SAVTDFCO+1(@10)                  04S0603 00142000
*               PRFPRI=PRIOUTBD;    /* OUTBOUND PRIORITY     @Y17XAIK*/ 00143000
         MVI   PRFPRI(RPRF),X'E4'                               04S0604 00144000
*               RPARM=RPRF;         /* POST THE PIU PRIME    @Y17XAIK*/ 00145000
         LR    RPARM,RPRF                                       04S0605 00146000
*               CALL DSPPOSTR;      /* HAVE THE DISPATCHER PLACE OUR    00147000
*                                      PIU PRIME             @Y17XAIK   00148000
*                                      ON THE READY QUEUE FOR   04S0606 00149000
*                                      EVENTUAL POSTING TO IEDDFOUT     00150000
*                                                            @Y17XAIK*/ 00151000
         LA    @15,DSPPOSTR(,RDISP)                             04S0606 00152000
         BALR  @14,@15                                          04S0606 00153000
*               LCBRTRRO=OFF;       /* RESET RESPONSE OWED TO RTR       00154000
*                                                            @Y17XAIK*/ 00155000
         NI    LCBRTRRO(RLCB),B'11111011'                       04S0607 00156000
*               RFY                                             04S0608 00157000
*                 IEDTH BASED;      /*                       @Y17XAIK*/ 00158000
*               RFY                                             04S0609 00159000
*                 IEDRH BASED;      /*                       @Y17XAIK*/ 00160000
*             END;                                              04S0610 00161000
*           ELSE                    /* IF IT IS A BSC/SS RESOURCE       00162000
*                                      THEN IT IS A REQUEST FOR A       00163000
*                                      RESET ERROR LOCK.             */ 00164000
*                                                               04S0611 00165000
*             /*******************************************************/ 00166000
*             /*                                                     */ 00167000
*             /* PROCESS.BUFFER.BSRESET: BISYNC/START STOP RESET     */ 00168000
*             /* ERROR LOCK SEGMENT - THIS SEGMENT BUILDS A TNT INDEX*/ 00169000
*             /* RESET ERROR LOCK PIU AND TPOSTS IT TO IEDSAO.       */ 00170000
*             /*                                                     */ 00171000
*             /*******************************************************/ 00172000
*                                                               04S0611 00173000
*             DO;                                               04S0611 00174000
         B     @RC00578                                         04S0611 00175000
@RF00578 DS    0H                                               04S0612 00176000
*               RPARM=PRFDEST;      /* PASS DAF AS PARAMETER         */ 00177000
         LH    RPARM,PRFDEST(,RPRF)                             04S0612 00178000
*               CALL IPBSTHRH;      /* INITIALIZE FID0 TH/RH         */ 00179000
         BAL   @14,IPBSTHRH                                     04S0613 00180000
*               IEDBDU=''B;         /* CLEAR BDU                     */ 00181000
         LA    @10,PRFPIUO(,RPRF)                               04S0614 00182000
         AL    @10,@CF00095                                     04S0614 00183000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        04S0614 00184000
*               BDUCMND=CD0CTRL;    /* SET CONTROL COMMAND           */ 00185000
         MVI   BDUCMND(@10),X'08'                               04S0615 00186000
*               BDUMODIF=CD0CREL;   /* SET RESET ERROR LOCK MODIF    */ 00187000
         MVI   BDUMODIF(@10),X'41'                              04S0616 00188000
*               TRMERLCK=OFF;       /* RESET ERROR LOCK INDICATOR    */ 00189000
         NI    TRMERLCK(RTRM),B'11111011'                       04S0617 00190000
*               PRFPRI=PRIASYNC;    /* SET ASYNCHRONOUS PRIORITY     */ 00191000
         MVI   PRFPRI(RPRF),X'E6'                               04S0618 00192000
*               CALL IPBSSAO;       /* POST FID0 PIU TO IEDSAO       */ 00193000
         BAL   @14,IPBSSAO                                      04S0619 00194000
*             END;                                              04S0620 00195000
*         END;                                                  03S0621 00196000
*       ELSE                        /* IT IS NOT AN ASYNC REQUEST    */ 00197000
*         DO;                                                   03S0622 00198000
         B     @RC00573                                         03S0622 00199000
@RF00573 DS    0H                                               03S0623 00200000
*           RLCB=PRFLCB;            /* SET PLCB BASE REG             */ 00201000
         L     RLCB,PRFLCB-1(,RPRF)                             03S0623 00202000
         LA    RLCB,0(,RLCB)                                    03S0623 00203000
*           RPARM=LCBTTCIN;         /* GET TNT INDEX                 */ 00204000
         LH    RPARM,LCBTTCIN(,RLCB)                            03S0624 00205000
         N     RPARM,@CF02504                                   03S0624 00206000
*           CALL IEDQTNT;           /* GET TRM ADDRESS               */ 00207000
         L     @15,AVTRNMPT(,RAVT)                              03S0625 00208000
         BALR  @14,@15                                          03S0625 00209000
*           RTRM=RPARM-LENGTH(IEDNTRM);/* SET TRM BASE REG           */ 00210000
         LR    RTRM,RPARM                                       03S0626 00211000
         SL    RTRM,@CF02135                                    03S0626 00212000
*           IF LCBSENDN=ON THEN     /* IF SENDING, THEN IT IS THE       00213000
*                                      SPECOUT RESPONSE BFR FROM        00214000
*                                      IEDSAC TO RESUME PROCESSING AN   00215000
*                                      INITIAL SEND                  */ 00216000
         TM    LCBSENDN(RLCB),B'00000001'                       03S0627 00217000
         BNO   @RF00627                                         03S0627 00218000
*                                                               04S0628 00219000
*             /*******************************************************/ 00220000
*             /*                                                     */ 00221000
*             /* PROCESS.BUFFER.BSSENDR: BISYNC/START STOP SEND      */ 00222000
*             /* RESUME SEGMENT - THIS SEGMENT PROCESSES THE RESPONSE*/ 00223000
*             /* TO A SPECOUT OPERATION AND RESUMES THE SEND         */ 00224000
*             /* OPERATION ACCORDINGLY.                              */ 00225000
*             /*                                                     */ 00226000
*             /*******************************************************/ 00227000
*                                                               04S0628 00228000
*             DO;                                               04S0628 00229000
*               TRMNLOUT=OFF;       /* RESET NULL OUT INDICATION     */ 00230000
         NI    TRMNLOUT(RTRM),B'11111011'                       04S0629 00231000
*               PRFNBUNT=0;         /* PRFNBUNT HAS THE PIU  @YM04691   00232000
*                                      OFFSET.IT MUST BE SET @YM04691   00233000
*                                      TO 0 TO FREE THE UNIT @YM04691*/ 00234000
         MVI   PRFNBUNT(RPRF),X'00'                             04S0630 00235000
*               PRFQCBA=ADDR(AVTBFRTB);/* SET QCB TO BFR RETURN      */ 00236000
         LA    @10,AVTBFRTB(,RAVT)                              04S0631 00237000
         STCM  @10,7,PRFQCBA(RPRF)                              04S0631 00238000
*               PRFPRI=PRIBFRTB;    /* SET RETURN PRIORITY           */ 00239000
         MVI   PRFPRI(RPRF),X'E0'                               04S0632 00240000
*               RPARM=RPRF;         /* SET BUFFER AS ELEMENT         */ 00241000
         LR    RPARM,RPRF                                       04S0633 00242000
*               CALL DSPPOSTR;      /* FREE SPECOUT RESPONSE BFR     */ 00243000
         LA    @15,DSPPOSTR(,RDISP)                             04S0634 00244000
         BALR  @14,@15                                          04S0634 00245000
*               IF SCBSLCTN=ON THEN /* IF REAL ERROR OCCURRED THEN   */ 00246000
         L     @10,LCBSCBA-1(,RLCB)                             04S0635 00247000
         TM    SCBSLCTN(@10),B'10000000'                        04S0635 00248000
         BNO   @RF00635                                         04S0635 00249000
*                 DO;                                           04S0636 00250000
*                   CALL IPERRBFR;  /* TPOST ERROR BFR TO MH         */ 00251000
         BAL   @14,IPERRBFR                                     04S0637 00252000
*                   IF LCBBFRSV^=CHAINEND THEN/* IF MORE BFRS THEN   */ 00253000
         L     @10,LCBBFRSV-1(,RLCB)                            04S0638 00254000
         LA    @10,0(,@10)                                      04S0638 00255000
         LTR   @10,@10                                          04S0638 00256000
         BZ    @RF00638                                         04S0638 00257000
*                     CALL IPFREBFR;/* FREE THEM                     */ 00258000
         BAL   @14,IPFREBFR                                     04S0639 00259000
*                 END;                                          04S0640 00260000
*               ELSE                /* IT WAS NOT A REAL ERROR       */ 00261000
*                 DO;                                           04S0641 00262000
         B     @RC00635                                         04S0641 00263000
@RF00635 DS    0H                                               04S0642 00264000
*                   IF TRMNOSND=ON THEN/* IF SCHEDULING ERROR THEN   */ 00265000
         TM    TRMNOSND(RTRM),B'00000010'                       04S0642 00266000
         BNO   @RF00642                                         04S0642 00267000
*                     DO;                                       04S0643 00268000
*                       CALL IPFREBFR;/* FREE BFRS ON SAVE CHAIN     */ 00269000
         BAL   @14,IPFREBFR                                     04S0644 00270000
*                       LCBQCBA=AVTMSGS->BDQCB;/* SET IEDQBD QCB ADDR*/ 00271000
         L     @10,AVTMSGS-1(,RAVT)                             04S0645 00272000
         MVC   LCBQCBA(3,RLCB),BDQCB+1(@10)                     04S0645 00273000
*                       LCBPRI=PRILCB;/* SET CLEANUP PRIORITY        */ 00274000
         MVI   LCBPRI(RLCB),X'E7'                               04S0646 00275000
*                       LCBRCLLN=ON;/* NO BUFFERS TO FREE    @YM07396*/ 00276000
         OI    LCBRCLLN(RLCB),B'10000000'                       04S0647 00277000
*                       QCBSDFFO=OFF;/* RESET SENDING FEFO   @YM07439*/ 00278000
         SLR   @10,@10                                          04S0648 00279000
         ICM   @10,7,TRMDESTQ(RTRM)                             04S0648 00280000
         NI    QCBSDFFO(@10),B'11111011'                        04S0648 00281000
*                       RPARM=RLCB; /* SET PLCB AS ELEMENT           */ 00282000
         LR    RPARM,RLCB                                       04S0649 00283000
*                       CALL DSPPOSTR;/* TPOST PLCB TO IEDQBD FOR       00284000
*                                      CLEANUP                       */ 00285000
         LA    @15,DSPPOSTR(,RDISP)                             04S0650 00286000
         BALR  @14,@15                                          04S0650 00287000
*                     END;                                      04S0651 00288000
*                   ELSE            /* THERE WERE NO ERRORS          */ 00289000
*                     CALL IPMHBFR; /* TPOST BFRS ON THE SAVE CHAIN     00290000
*                                      TO OUTPUT MH                  */ 00291000
         B     @RC00642                                         04S0652 00292000
@RF00642 BAL   @14,IPMHBFR                                      04S0652 00293000
*                 END;                                          04S0653 00294000
*             END;                                              04S0654 00295000
*           ELSE                    /* IT IS A RECEIVE CONTINUE 03S0655 00296000
*                                      BUFFER FROM IEDQBT OR THE        00297000
*                                      ABORT RESPONSE FROM IEDSAC    */ 00298000
*                                                               04S0655 00299000
*             /*******************************************************/ 00300000
*             /*                                                     */ 00301000
*             /* PROCESS.BUFFER.BSRECVCB: BISYNC/START STOP RECEIVE  */ 00302000
*             /* CONTINUE BUFFER SEGMENT - THIS SEGMENT PROCESSES    */ 00303000
*             /* READ CONTINUE OR STOP ABORT REQUESTS FROM IEDQBT AND*/ 00304000
*             /* THE RESPONSE TO AN ABORT FROM IEDSAC.               */ 00305000
*             /*                                                     */ 00306000
*             /*******************************************************/ 00307000
*                                                               04S0655 00308000
*             DO;                                               04S0655 00309000
         B     @RC00627                                         04S0655 00310000
@RF00627 DS    0H                                               04S0656 00311000
*               RFY                                             04S0656 00312000
*                (RUNITNUM,                                     04S0656 00313000
*                 RBFRNUM,                                      04S0656 00314000
*                 RRETCODE) RSTD;                               04S0656 00315000
*               IF PRFPRI=PRIRESUM THEN/* IF RESPONSE TO ABORT FROM  */ 00316000
         CLI   PRFPRI(RPRF),X'E5'                               04S0657 00317000
         BNE   @RF00657                                         04S0657 00318000
*                 DO;               /* IEDSAC THEN                   */ 00319000
*                   PRFNBUNT=0;     /* PRFNBUNT HAS THE PIU  @YM04691   00320000
*                                      OFFSET.IT MUST BE SET @YM04691   00321000
*                                      TO 0 TO FREE THE UNIT @YM04691*/ 00322000
         MVI   PRFNBUNT(RPRF),X'00'                             04S0659 00323000
*                   PRFQCBA=ADDR(AVTBFRTB);/* SET BFR RETURN QCB ADDR*/ 00324000
         LA    @14,AVTBFRTB(,RAVT)                              04S0660 00325000
         STCM  @14,7,PRFQCBA(RPRF)                              04S0660 00326000
*                   PRFPRI=PRIBFRTB;/* SET BFR RETURN PRIORITY       */ 00327000
         MVI   PRFPRI(RPRF),X'E0'                               04S0661 00328000
*                   RPARM=RPRF;     /* SET ABORT RESPONSE BFR AS        00329000
*                                      ELEMENT                       */ 00330000
         LR    RPARM,RPRF                                       04S0662 00331000
*                   CALL DSPPOSTR;  /* FREE ABORT RESPONSE BFR       */ 00332000
         LA    @15,DSPPOSTR(,RDISP)                             04S0663 00333000
         BALR  @14,@15                                          04S0663 00334000
*                   RPARM=LCBBFRSV; /* GET ORIGINAL INPUT BFR        */ 00335000
         L     RPARM,LCBBFRSV-1(,RLCB)                          04S0664 00336000
         LA    RPARM,0(,RPARM)                                  04S0664 00337000
*                   LCBBFRSV=RPARM->PRFLINK;/* DELINK IT             */ 00338000
         MVC   LCBBFRSV(3,RLCB),PRFLINK(RPARM)                  04S0665 00339000
*                   RPARM->PRFQCBA=LCBMHA;/* SET MH QCB ADDR @YM06085*/ 00340000
         MVC   PRFQCBA(3,RPARM),LCBMHA(RLCB)                    04S0666 00341000
*                   RPARM->PRFPRI=PRIERBFR;/* SET ERROR BFR PRIORITY */ 00342000
         MVI   PRFPRI(RPARM),X'E3'                              04S0667 00343000
*                   CALL DSPPOSTR;  /* TPOST ERROR BFR TO INPUT MH   */ 00344000
         LA    @15,DSPPOSTR(,RDISP)                             04S0668 00345000
         BALR  @14,@15                                          04S0668 00346000
*                 END;                                          04S0669 00347000
*               ELSE                /* IT IS BFR FROM IEDQBT         */ 00348000
*                 DO;                                           04S0670 00349000
         B     @RC00657                                         04S0670 00350000
@RF00657 DS    0H                                               04S0671 00351000
*                   LCBBFRSV=RPRF;  /* SAVE INPUT BFR IN SAVE CHAIN  */ 00352000
         STCM  RPRF,7,LCBBFRSV(RLCB)                            04S0671 00353000
*                   PRFLINK=CHAINEND;/* SET END OF CHAIN INDICATOR   */ 00354000
         SLR   @14,@14                                          04S0672 00355000
         STCM  @14,7,PRFLINK(RPRF)                              04S0672 00356000
*                   RBFRNUM=1;      /* REQUEST ONE BFR               */ 00357000
         LA    @14,1                                            04S0673 00358000
         LR    RBFRNUM,@14                                      04S0673 00359000
*                   RUNITNUM=1;     /* REQUEST ONE UNIT PER BFR      */ 00360000
         LR    RUNITNUM,@14                                     04S0674 00361000
*                   CALL IEDQGA02;  /* ATTEMPT TO STEAL BFR          */ 00362000
         L     @15,AVTSTEAL(,RAVT)                              04S0675 00363000
         BALR  @14,@15                                          04S0675 00364000
*                   IF RRETCODE^=0 THEN/* IF BFR OBTAINED THEN       */ 00365000
         LTR   RRETCODE,RRETCODE                                04S0676 00366000
         BZ    @RF00676                                         04S0676 00367000
*                     DO;                                       04S0677 00368000
*                       LCBERBCH=RRETCODE;/* PUT BFR ON ERB CHAIN    */ 00369000
         STCM  RRETCODE,7,LCBERBCH(RLCB)                        04S0678 00370000
*                       CALL IPBSSTCN;/* EXECUTE STOP OR CONTINUE    */ 00371000
         BAL   @14,IPBSSTCN                                     04S0679 00372000
*                     END;                                      04S0680 00373000
*                   ELSE            /* BFR WAS NOT OBTAINED          */ 00374000
*                     CALL IPREQBFR;/* REQUEST A BFR FROM IEDQGA     */ 00375000
         B     @RC00676                                         04S0681 00376000
@RF00676 BAL   @14,IPREQBFR                                     04S0681 00377000
*                 END;                                          04S0682 00378000
@RC00676 DS    0H                                               04S0683 00379000
*               RFY                                             04S0683 00380000
*                (RUNITNUM,                                     04S0683 00381000
*                 RBFRNUM,                                      04S0683 00382000
*                 RRETCODE) UNRSTD;                             04S0683 00383000
@RC00657 DS    0H                                               04S0684 00384000
*             END;                                              04S0684 00385000
*         END;                                                  03S0685 00386000
*     END;                                                      03S0686 00387000
*   ELSE                            /* THE ELEMENT IS AN ERB         */ 00388000
*                                                               03S0687 00389000
*     /***************************************************************/ 00390000
*     /*                                                             */ 00391000
*     /* PROCESS.ERB: ERB INPUT SEGMENT.                             */ 00392000
*     /*                                                             */ 00393000
*     /***************************************************************/ 00394000
*                                                               03S0687 00395000
*     DO;                           /* SET PLCB BASE REG             */ 00396000
         B     @RC00570                                         03S0687 00397000
@RF00570 DS    0H                                               03S0688 00398000
*       RLCB=RPARM-(ADDR(LCBERB)-ADDR(IEDQLCB));                03S0688 00399000
         LR    @10,RPARM                                        03S0688 00400000
         SL    @10,@CF02485                                     03S0688 00401000
         LR    RLCB,@10                                         03S0688 00402000
*       RPARM=LCBTTCIN;             /* GET TNT INDEX                 */ 00403000
         LH    RPARM,LCBTTCIN(,RLCB)                            03S0689 00404000
         N     RPARM,@CF02504                                   03S0689 00405000
*       CALL IEDQTNT;               /* GET TRM ADDRESS               */ 00406000
         L     @15,AVTRNMPT(,RAVT)                              03S0690 00407000
         BALR  @14,@15                                          03S0690 00408000
*       RTRM=RPARM-LENGTH(IEDNTRM); /* SET TRM BASE REG              */ 00409000
         LR    RTRM,RPARM                                       03S0691 00410000
         SL    RTRM,@CF02135                                    03S0691 00411000
*       IF TRMSNA=ON THEN           /* IF SNA RESOURCE, THEN THIS IS    00412000
*                                      A SNA SEND INITIAL ERB FROM      00413000
*                                      IEDQFA OR IEDAYO              */ 00414000
         TM    TRMSNA(RTRM),B'00000010'                         03S0692 00415000
         BNO   @RF00692                                         03S0692 00416000
*                                                               04S0693 00417000
*         /***********************************************************/ 00418000
*         /*                                                         */ 00419000
*         /* PROCESS.ERB.SNASEND: IF THE BIND FAILED, POST AN ERROR  */ 00420000
*         /* BUFFER TO THE MH AND THEN FREE THE REMAINING BUFFERS IN */ 00421000
*         /* THE MESSAGE. IF THE BIND DID NOT FAIL, INVOKE THE USER'S*/ 00422000
*         /* PURGE EXIT IF THERE IS ONE. IF OUTPUT IS TO BE PURGED,  */ 00423000
*         /* POST AN ERROR BUFFER TO THE MH AND THEN FREE THE        */ 00424000
*         /* REMAINING BUFFERS IN THE MESSAGE. IF THE OUTPUT IS TO BE*/ 00425000
*         /* SENT, POST IT TO THE MH.                        @Y17XAIK*/ 00426000
*         /*                                                         */ 00427000
*         /***********************************************************/ 00428000
*                                                               04S0693 00429000
*         DO;                                                   04S0693 00430000
*           LCBBFRSV=LCBERBCH;      /* MOVE THE BUFFER CHAIN ADDRESS    00431000
*                                                            @Y17XAIK*/ 00432000
         MVC   LCBBFRSV(3,RLCB),LCBERBCH(RLCB)                  04S0694 00433000
*           LCBERBCH=CHAINEND;      /* INDICATE NOT IN USE BY   04S0695 00434000
*                                      CLEARING              @Y17XAIK*/ 00435000
         SLR   @10,@10                                          04S0695 00436000
         STCM  @10,7,LCBERBCH(RLCB)                             04S0695 00437000
*           SIBPTR=TRMSIBPT;        /* SET UP SIB ADDRESSABILITY        00438000
*                                                            @Y17XAIK*/ 00439000
         SLR   SIBPTR,SIBPTR                                    04S0696 00440000
         ICM   SIBPTR,7,TRMSIBPT(RTRM)                          04S0696 00441000
*           IF SIBCHAIN=CHAINEND    /* IF NO LU-LU SIB       @Y17XAIK*/ 00442000
*               |SIBDSTAT^=SIBDACTV /* ..OR DATA TRAFFIC STATE IS NOT   00443000
*                                      ACTIVE                @Y17XAIK*/ 00444000
*             THEN                                              04S0697 00445000
         C     @10,SIBCHAIN(,SIBPTR)                            04S0697 00446000
         BE    @RT00697                                         04S0697 00447000
         TM    SIBDSTAT(SIBPTR),B'00000011'                     04S0697 00448000
         BO    @RF00697                                         04S0697 00449000
@RT00697 DS    0H                                               04S0698 00450000
*             DO;                   /* THEN THE BIND FAILED  @Y17XAIK*/ 00451000
*               SCBSLCTN=ON;        /* SET SELECTION ERROR FOR THE MH   00452000
*                                                            @Y17XAIK*/ 00453000
*               SCBCONNN=ON;        /* SET CONNECTION ERROR FOR THE     00454000
*                                      MH                    @Y17XAIK*/ 00455000
         L     @10,LCBSCBA-1(,RLCB)                             04S0700 00456000
         OI    SCBSLCTN(@10),B'10100000'                        04S0700 00457000
*               CALL IPERRBFR;      /* POST AN ERROR BUFFER TO THE MH   00458000
*                                                            @Y17XAIK*/ 00459000
         BAL   @14,IPERRBFR                                     04S0701 00460000
*               IF LCBBFRSV^=CHAINEND/* IF THERE ARE MORE BUFFERS IN    00461000
*                                      THE                   @Y17XAIK   00462000
*                                      MESSAGE               @Y17XAIK*/ 00463000
*                 THEN                                          04S0702 00464000
         L     @10,LCBBFRSV-1(,RLCB)                            04S0702 00465000
         LA    @10,0(,@10)                                      04S0702 00466000
         LTR   @10,@10                                          04S0702 00467000
         BZ    @RF00702                                         04S0702 00468000
*                 CALL IPFREBFR;    /* ..THEN FREE THE REMAINING        00469000
*                                      BUFFERS IN            @Y17XAIK   00470000
*                                      THE MESSAGE           @Y17XAIK*/ 00471000
         BAL   @14,IPFREBFR                                     04S0703 00472000
*               ELSE                                            04S0704 00473000
*                 ;                 /*                       @Y17XAIK*/ 00474000
@RF00702 DS    0H                                               04S0705 00475000
*             END;                  /*                       @Y17XAIK*/ 00476000
*           ELSE                                                04S0706 00477000
*             DO;                   /* ELSE THE BIND DID NOT FAIL       00478000
*                                                            @Y17XAIK*/ 00479000
         B     @RC00697                                         04S0706 00480000
@RF00697 DS    0H                                               04S0707 00481000
*               CALL IPPURGEX;      /* INVOKE THE USER'S PURGE EXIT     00482000
*                                      IF THERE IS           @Y17XAIK   00483000
*                                      ONE                   @Y17XAIK*/ 00484000
         BAL   @14,IPPURGEX                                     04S0707 00485000
*               IF SCBTRMLN=ON      /* IF OUTPUT BUFFERS ARE TO BE      00486000
*                                      PURGED                @Y17XAIK*/ 00487000
*                 THEN                                          04S0708 00488000
         L     @10,LCBSCBA-1(,RLCB)                             04S0708 00489000
         TM    SCBTRMLN(@10),B'00010000'                        04S0708 00490000
         BNO   @RF00708                                         04S0708 00491000
*                 DO;               /*                       @Y17XAIK*/ 00492000
*                   CALL IPERRBFR;  /* POST AN ERROR BUFFER TO THE MH   00493000
*                                                            @Y17XAIK*/ 00494000
         BAL   @14,IPERRBFR                                     04S0710 00495000
*                   IF LCBBFRSV^=CHAINEND/* IF THERE ARE MORE BUFFERS   00496000
*                                      IN THE                @Y17XAIK   00497000
*                                      MESSAGE               @Y17XAIK*/ 00498000
*                     THEN                                      04S0711 00499000
         L     @10,LCBBFRSV-1(,RLCB)                            04S0711 00500000
         LA    @10,0(,@10)                                      04S0711 00501000
         LTR   @10,@10                                          04S0711 00502000
         BZ    @RF00711                                         04S0711 00503000
*                     CALL IPFREBFR;/* ..THEN FREE THE REMAINING        00504000
*                                      BUFFERS IN            @Y17XAIK   00505000
*                                      THE MESSAGE           @Y17XAIK*/ 00506000
         BAL   @14,IPFREBFR                                     04S0712 00507000
*                   ELSE                                        04S0713 00508000
*                     ;             /*                       @Y17XAIK*/ 00509000
@RF00711 DS    0H                                               04S0714 00510000
*                 END;              /*                       @Y17XAIK*/ 00511000
*               ELSE                                            04S0715 00512000
*                 CALL IPMHBFR;     /* POST THE BUFFERS TO THE OUTPUT   00513000
*                                      MH                    @Y17XAIK*/ 00514000
         B     @RC00708                                         04S0715 00515000
@RF00708 BAL   @14,IPMHBFR                                      04S0715 00516000
*             END;                  /*                       @Y17XAIK*/ 00517000
*         END;                                                  04S0717 00518000
*       ELSE                        /* IT IS A BSC/SS RESOURCE       */ 00519000
*         IF LCBSENDN=ON THEN       /* IF SENDING, THEN THIS IS 03S0718 00520000
*                                      EITHER THE SEND INITIAL ERB      00521000
*                                      FROM IEDQFA OR IEDAYO, OR IT     00522000
*                                      IS THE ERB FROM IEDIAQ   03S0718 00523000
*                                      REQUESTING A DIAL OUT         */ 00524000
         B     @RC00692                                         03S0718 00525000
@RF00692 TM    LCBSENDN(RLCB),B'00000001'                       03S0718 00526000
         BNO   @RF00718                                         03S0718 00527000
*                                                               04S0719 00528000
*           /*********************************************************/ 00529000
*           /*                                                       */ 00530000
*           /* PROCESS.ERB.BSSEND: BISYNC/START STOP SEND SEGMENT -  */ 00531000
*           /* THIS SEGMENT PROCESSES AN INITIAL BISYNC/START STOP   */ 00532000
*           /* SEND OPERATION.                                       */ 00533000
*           /*                                                       */ 00534000
*           /*********************************************************/ 00535000
*                                                               04S0719 00536000
*           DO;                                                 04S0719 00537000
*             IF TRMDIAL=ON&TRMSESSN=OFF THEN/* IF DIAL TERMINAL AND    00538000
*                                      DIAL OUT NEEDED THEN          */ 00539000
         TM    TRMDIAL(RTRM),B'00001000'                        04S0720 00540000
         BNO   @RF00720                                         04S0720 00541000
         TM    TRMSESSN(RTRM),B'01000000'                       04S0720 00542000
         BNZ   @RF00720                                         04S0720 00543000
*                                                               05S0721 00544000
*               /*****************************************************/ 00545000
*               /*                                                   */ 00546000
*               /* PROCESS.ERB.BSSEND.BSSENDD: BISYNC/START STOP DIAL*/ 00547000
*               /* OUT SEGMENT - THIS SEGMENT PROCESSES AN ERB FROM  */ 00548000
*               /* IEDIAQ REQUESTING A DIAL FOR A DIAL OUT WRITE.    */ 00549000
*               /*                                                   */ 00550000
*               /*****************************************************/ 00551000
*                                                               05S0721 00552000
*               DO;                                             05S0721 00553000
*                 LCBBFRSV=LCBERBCH;/* MOVE BFR TO SAVE CHAIN        */ 00554000
         MVC   LCBBFRSV(3,RLCB),LCBERBCH(RLCB)                  05S0722 00555000
*                 LCBERBCH=CHAINEND;/* CLEAR ERB CHAIN               */ 00556000
         SLR   @10,@10                                          05S0723 00557000
         STCM  @10,7,LCBERBCH(RLCB)                             05S0723 00558000
*                 IF SCBTRMLN=ON THEN/* IF OUTPUT PREVIOUSLY PURGED  */ 00559000
         L     @10,LCBSCBA-1(,RLCB)                             05S0724 00560000
         TM    SCBTRMLN(@10),B'00010000'                        05S0724 00561000
         BNO   @RF00724                                         05S0724 00562000
*                   CALL IPERRBFR;  /* TPOST ERROR BFR TO OUTPUT MH  */ 00563000
         BAL   @14,IPERRBFR                                     05S0725 00564000
*                 ELSE              /* OUTPUT NOT PREVIOUSLY PURGED  */ 00565000
*                   DO;                                         05S0726 00566000
         B     @RC00724                                         05S0726 00567000
@RF00724 DS    0H                                               05S0727 00568000
*                     IF LCBCONNN=ON THEN/* DID PREVIOUS ATTEMPT TO     00569000
*                                      CONTACT FAIL          @YM08436*/ 00570000
         TM    LCBCONNN(RLCB),B'00100000'                       05S0727 00571000
         BNO   @RF00727                                         05S0727 00572000
*                       DO;         /* YES                   @YM08436*/ 00573000
*                         SCBCONNN=ON;/* SET CONTACT FAILED  @YM08436*/ 00574000
*                         SCBTRMLN=ON;/* SET TRM ERROR       @YM08436*/ 00575000
         L     @10,LCBSCBA-1(,RLCB)                             05S0730 00576000
         OI    SCBCONNN(@10),B'00110000'                        05S0730 00577000
*                       END;        /*                       @YM08436*/ 00578000
*                     ELSE          /* CONTACT NOT DONE YET  @YM08436*/ 00579000
*                       CALL IPPURGEX;/* TAKE PURGE EXIT IF ONE 05S0732 00580000
*                                      EXISTS                        */ 00581000
         B     @RC00727                                         05S0732 00582000
@RF00727 BAL   @14,IPPURGEX                                     05S0732 00583000
*                     IF SCBTRMLN=ON THEN/* IF OUTPUT PURGED THEN    */ 00584000
@RC00727 L     @10,LCBSCBA-1(,RLCB)                             05S0733 00585000
         TM    SCBTRMLN(@10),B'00010000'                        05S0733 00586000
         BNO   @RF00733                                         05S0733 00587000
*                       DO;                                     05S0734 00588000
*                         CALL IPFREBFR;/* FREE EMPTY BFR UNIT       */ 00589000
         BAL   @14,IPFREBFR                                     05S0735 00590000
*                         LCBRBCT1=1;/* REQUEST ONE BFR OF MSG       */ 00591000
         MVI   LCBRBCT1(RLCB),X'01'                             05S0736 00592000
*                         LCBERBQB=ADDR(AVTDSIOB);/* SET IEDQFA QCB     00593000
*                                      ADDRESS                       */ 00594000
         LA    @10,AVTDSIOB(,RAVT)                              05S0737 00595000
         STCM  @10,7,LCBERBQB(RLCB)                             05S0737 00596000
*                         LCBERBPY=PRIINTRQ;/* SET INITIAL REQUEST      00597000
*                                      PRIORITY                      */ 00598000
         MVI   LCBERBPY(RLCB),X'E4'                             05S0738 00599000
*                         LCBDLNKN=OFF;/* INDICATE ERB POSTED   05S0739 00600000
*                                                            @YM08436*/ 00601000
         NI    LCBDLNKN(RLCB),B'11111110'                       05S0739 00602000
*                         RPARM=ADDR(LCBERB);/* SET ERB AS ELEMENT   */ 00603000
         LA    RPARM,LCBERB(,RLCB)                              05S0740 00604000
*                         CALL DSPPOSTR;/* TPOST ERB TO IEDQFA TO       00605000
*                                      REQ. THE FIRST BFR OF THE MSG */ 00606000
         LA    @15,DSPPOSTR(,RDISP)                             05S0741 00607000
         BALR  @14,@15                                          05S0741 00608000
*                       END;                                    05S0742 00609000
*                     ELSE          /* OUTPUT NOT PURGED             */ 00610000
*                       DO;                                     05S0743 00611000
         B     @RC00733                                         05S0743 00612000
@RF00733 DS    0H                                               05S0744 00613000
*                         QCBSDFFO=OFF;/* RESET CURRENTLY SENDING    */ 00614000
         SLR   @10,@10                                          05S0744 00615000
         ICM   @10,7,TRMDESTQ(RTRM)                             05S0744 00616000
         NI    QCBSDFFO(@10),B'11111011'                        05S0744 00617000
*                         RPRF=LCBBFRSV;/* GET EMPTY BFR UNIT        */ 00618000
         L     RPRF,LCBBFRSV-1(,RLCB)                           05S0745 00619000
         LA    RPRF,0(,RPRF)                                    05S0745 00620000
*                         LCBBFRSV=PRFLINK;/* DELINK IT              */ 00621000
         MVC   LCBBFRSV(3,RLCB),PRFLINK(RPRF)                   05S0746 00622000
*                         CALL IPBSCALL;/* ISSUE CONTACT             */ 00623000
         BAL   @14,IPBSCALL                                     05S0747 00624000
*                         CALL IPFRPLCB;/* FREE THE PLCB             */ 00625000
         BAL   @14,IPFRPLCB                                     05S0748 00626000
*                       END;                                    05S0749 00627000
*                   END;                                        05S0750 00628000
*               END;                                            05S0751 00629000
*             ELSE                  /* EITHER IT IS A LEASED TERMINAL   00630000
*                                      OR A DIAL TERMINAL THAT HAS      00631000
*                                      ALREADY BEEN CALLED           */ 00632000
*                                                               05S0752 00633000
*               /*****************************************************/ 00634000
*               /*                                                   */ 00635000
*               /* PROCESS.ERB.BSSEND.BSSENDC: BISYNC/START STOP SEND*/ 00636000
*               /* COMMON SEGMENT - THIS SEGMENT DOES THE PRE OUTPUT */ 00637000
*               /* MH PROCESSING FOR AN INITIAL SEND OPERATION FOR   */ 00638000
*               /* BOTH DIAL AND LEASED DEVICES.                     */ 00639000
*               /*                                                   */ 00640000
*               /*****************************************************/ 00641000
*                                                               05S0752 00642000
*               DO;                                             05S0752 00643000
         B     @RC00720                                         05S0752 00644000
@RF00720 DS    0H                                               05S0753 00645000
*                 RFY                                           05S0753 00646000
*                  (RUNITNUM,                                   05S0753 00647000
*                   RBFRNUM,                                    05S0753 00648000
*                   RSTATE,                                     05S0753 00649000
*                   RRETCODE) RSTD;                             05S0753 00650000
*                 RSTATE=SEND;      /* INIT STATE TO SEND            */ 00651000
         SLR   RSTATE,RSTATE                                    05S0754 00652000
*                 IF LCBBFRSV=CHAINEND THEN/* IF ERB FROM IEDQFA     */ 00653000
         L     @14,LCBBFRSV-1(,RLCB)                            05S0755 00654000
         LA    @14,0(,@14)                                      05S0755 00655000
         LTR   @14,@14                                          05S0755 00656000
         BNZ   @RF00755                                         05S0755 00657000
*                   DO;                                         05S0756 00658000
*                     LCBBFRSV=LCBERBCH;/* SAVE BFR CHAIN            */ 00659000
         MVC   LCBBFRSV(3,RLCB),LCBERBCH(RLCB)                  05S0757 00660000
*                     LCBERBCH=CHAINEND;/* CLEAR ERB CHAIN           */ 00661000
         SLR   @14,@14                                          05S0758 00662000
         STCM  @14,7,LCBERBCH(RLCB)                             05S0758 00663000
*                     IF(TRMGPACT=ON&TRMSESSN=OFF)|/* GENERAL POLL      00664000
*                                      NOT IN SESSION                */ 00665000
*                         TRMSPOUT=ON THEN/* OR SPECOUT REQUESTED    */ 00666000
         TM    TRMGPACT(RTRM),B'00001000'                       05S0759 00667000
         BNO   @GL00003                                         05S0759 00668000
         TM    TRMSESSN(RTRM),B'01000000'                       05S0759 00669000
         BZ    @RT00759                                         05S0759 00670000
@GL00003 TM    TRMSPOUT(RTRM),B'00000010'                       05S0759 00671000
         BNO   @RF00759                                         05S0759 00672000
@RT00759 DS    0H                                               05S0760 00673000
*                       DO;                                     05S0760 00674000
*                         RBFRNUM=1;/* REQUEST ONE BFR               */ 00675000
         LA    @14,1                                            05S0761 00676000
         LR    RBFRNUM,@14                                      05S0761 00677000
*                         RUNITNUM=1;/* REQUEST ONE UNIT PER BFR     */ 00678000
         LR    RUNITNUM,@14                                     05S0762 00679000
*                         CALL IEDQGA02;/* ATTEMPT TO STEAL BFR      */ 00680000
         L     @15,AVTSTEAL(,RAVT)                              05S0763 00681000
         BALR  @14,@15                                          05S0763 00682000
*                         IF RRETCODE^=0 THEN/* IF BFR OBTAINED      */ 00683000
         LTR   RRETCODE,RRETCODE                                05S0764 00684000
         BZ    @RF00764                                         05S0764 00685000
*                           LCBERBCH=RRETCODE;/* PUT BFR ON ERB      */ 00686000
         STCM  RRETCODE,7,LCBERBCH(RLCB)                        05S0765 00687000
*                         ELSE      /* BFR NOT OBTAINED              */ 00688000
*                           DO;                                 05S0766 00689000
         B     @RC00764                                         05S0766 00690000
@RF00764 DS    0H                                               05S0767 00691000
*                             CALL IPREQBFR;/* REQ. BFR FROM IEDQGA  */ 00692000
         BAL   @14,IPREQBFR                                     05S0767 00693000
*                             RSTATE=NOSEND;/* STOP SEND             */ 00694000
         LA    RSTATE,1                                         05S0768 00695000
*                           END;                                05S0769 00696000
*                       END;                                    05S0770 00697000
*                   END;                                        05S0771 00698000
*                 ELSE              /* ERB IS RETURNING FROM IEDQGA  */ 00699000
*                   LCBPRCPG=OFF;   /* RESET RETURN ERB INDICATOR    */ 00700000
         B     @RC00755                                         05S0772 00701000
@RF00755 NI    LCBPRCPG(RLCB),B'11111101'                       05S0772 00702000
*                                                               05S0773 00703000
*                 /***************************************************/ 00704000
*                 /*                                                 */ 00705000
*                 /* THIS IS A CONTINUATION OF BSSENDC. RSTATE=SEND  */ 00706000
*                 /* UNLESS THE ERB HAD TO BE TPOSTED TO IEDQGA TO   */ 00707000
*                 /* REQUEST A BUFFER.                               */ 00708000
*                 /*                                                 */ 00709000
*                 /***************************************************/ 00710000
*                                                               05S0773 00711000
*                 IF RSTATE=SEND THEN/* CONTINUE SEND                */ 00712000
@RC00755 LTR   RSTATE,RSTATE                                    05S0773 00713000
         BNZ   @RF00773                                         05S0773 00714000
*                   DO;             /* YES                           */ 00715000
*                     CALL IPPURGEX;/* TAKE PURGE EXIT IF ONE        */ 00716000
         BAL   @14,IPPURGEX                                     05S0775 00717000
*                     IF SCBTRMLN=OFF THEN/* OUTPUT NOT PURGED       */ 00718000
         L     @14,LCBSCBA-1(,RLCB)                             05S0776 00719000
         TM    SCBTRMLN(@14),B'00010000'                        05S0776 00720000
         BNZ   @RF00776                                         05S0776 00721000
*                       DO;                                     05S0777 00722000
*                         IF(TRMGPACT=ON&TRMSESSN=OFF)|/* IF GENERAL    00723000
*                                      POLL NOT IN            SESSION*/ 00724000
*                             TRMSPOUT=ON THEN/* OR SPECOUT REQUESTED   00725000
*                                      THEN                          */ 00726000
         TM    TRMGPACT(RTRM),B'00001000'                       05S0778 00727000
         BNO   @GL00005                                         05S0778 00728000
         TM    TRMSESSN(RTRM),B'01000000'                       05S0778 00729000
         BZ    @RT00778                                         05S0778 00730000
@GL00005 TM    TRMSPOUT(RTRM),B'00000010'                       05S0778 00731000
         BNO   @RF00778                                         05S0778 00732000
@RT00778 DS    0H                                               05S0779 00733000
*                           DO;                                 05S0779 00734000
*                             RPRF=LCBERBCH;/* GET EMPTY BFR UNIT    */ 00735000
         L     RPRF,LCBERBCH-1(,RLCB)                           05S0780 00736000
         LA    RPRF,0(,RPRF)                                    05S0780 00737000
*                             LCBERBCH=PRFLINK;/* DELINK IT          */ 00738000
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   05S0781 00739000
*                             CALL IPBSSPEC;/* PROCESS SPECOUT       */ 00740000
         BAL   @14,IPBSSPEC                                     05S0782 00741000
*                           END;                                05S0783 00742000
*                         ELSE      /* SPECOUT NOT REQUESTED         */ 00743000
*                           CALL IPMHBFR;/* TPOST BFRS TO MH         */ 00744000
         B     @RC00778                                         05S0784 00745000
@RF00778 BAL   @14,IPMHBFR                                      05S0784 00746000
*                       END;                                    05S0785 00747000
*                     ELSE          /* OUTPUT IS TO BE PURGED        */ 00748000
*                       DO;                                     05S0786 00749000
         B     @RC00776                                         05S0786 00750000
@RF00776 DS    0H                                               05S0787 00751000
*                         CALL IPERRBFR;/* TPOST ERROR BFR TO MH     */ 00752000
         BAL   @14,IPERRBFR                                     05S0787 00753000
*                         IF LCBBFRSV^=CHAINEND THEN/* IF MORE BFRS  */ 00754000
         L     @14,LCBBFRSV-1(,RLCB)                            05S0788 00755000
         LA    @14,0(,@14)                                      05S0788 00756000
         LTR   @14,@14                                          05S0788 00757000
         BZ    @RF00788                                         05S0788 00758000
*                           CALL IPFREBFR;/* FREE THEM               */ 00759000
         BAL   @14,IPFREBFR                                     05S0789 00760000
*                         IF LCBERBCH^=CHAINEND THEN/* BFR ON ERB    */ 00761000
@RF00788 L     @14,LCBERBCH-1(,RLCB)                            05S0790 00762000
         LA    @14,0(,@14)                                      05S0790 00763000
         LTR   @14,@14                                          05S0790 00764000
         BZ    @RF00790                                         05S0790 00765000
*                           DO;                                 05S0791 00766000
*                             LCBBFRSV=LCBERBCH;/* MOVE IT           */ 00767000
         MVC   LCBBFRSV(3,RLCB),LCBERBCH(RLCB)                  05S0792 00768000
*                             LCBERBCH=CHAINEND;/* CLEAR ERB CHAIN   */ 00769000
         SLR   @14,@14                                          05S0793 00770000
         STCM  @14,7,LCBERBCH(RLCB)                             05S0793 00771000
*                             CALL IPFREBFR;/* FREE BFR ON SAVE CHAIN*/ 00772000
         BAL   @14,IPFREBFR                                     05S0794 00773000
*                           END;                                05S0795 00774000
*                       END;                                    05S0796 00775000
@RF00790 DS    0H                                               05S0797 00776000
*                   END;                                        05S0797 00777000
@RC00776 DS    0H                                               05S0798 00778000
*                 RFY                                           05S0798 00779000
*                  (RUNITNUM,                                   05S0798 00780000
*                   RBFRNUM,                                    05S0798 00781000
*                   RSTATE,                                     05S0798 00782000
*                   RRETCODE) UNRSTD;                           05S0798 00783000
@RF00773 DS    0H                                               05S0799 00784000
*               END;                                            05S0799 00785000
*           END;                                                04S0800 00786000
*         ELSE                                                  03S0801 00787000
*           IF LCBCONT=ON THEN      /* IF A CONTINUE OPERATION, THEN    00788000
*                                      THIS IS EITHER A READ CONTINUE   00789000
*                                      ERB FROM IEDQBO OR IT IS THE     00790000
*                                      ERB RETURNING FROM IEDQGA WITH   00791000
*                                      AN EMPTY BFR FOR READ CONTINUE   00792000
*                                      OR ABORT PROCESSING           */ 00793000
         B     @RC00718                                         03S0801 00794000
@RF00718 TM    LCBCONT(RLCB),B'00001000'                        03S0801 00795000
         BNO   @RF00801                                         03S0801 00796000
*                                                               04S0802 00797000
*             /*******************************************************/ 00798000
*             /*                                                     */ 00799000
*             /* PROCESS.ERB.BSRECVCE: BISYNC/START STOP RECEIVE     */ 00800000
*             /* CONTINUE ERB SEGMENT - THIS SEGMENT PROCESSES AN ERB*/ 00801000
*             /* FROM IEDQBO REQUESTING A READ CONTINUE, AND AN ERB  */ 00802000
*             /* RETURNING FROM IEDQGA WITH AN EMPTY BUFFER WHEN     */ 00803000
*             /* IEDQGA02 PREVIOUSLY FAILED TO GET A BUFFER FOR      */ 00804000
*             /* EITHER A READ CONTINUE OR AN ABORT.                 */ 00805000
*             /*                                                     */ 00806000
*             /*******************************************************/ 00807000
*                                                               04S0802 00808000
*             DO;                                               04S0802 00809000
*               RFY                                             04S0803 00810000
*                (RUNITNUM,                                     04S0803 00811000
*                 RBFRNUM,                                      04S0803 00812000
*                 RRETCODE) RSTD;                               04S0803 00813000
*               IF LCBERBCH=CHAINEND THEN/* IF ENTRY FROM IEDQBO THEN*/ 00814000
         L     @14,LCBERBCH-1(,RLCB)                            04S0804 00815000
         LA    @14,0(,@14)                                      04S0804 00816000
         LTR   @14,@14                                          04S0804 00817000
         BNZ   @RF00804                                         04S0804 00818000
*                 DO;                                           04S0805 00819000
*                   RBFRNUM=1;      /* REQUEST ONE BFR FOR READ CONT */ 00820000
         LA    @14,1                                            04S0806 00821000
         LR    RBFRNUM,@14                                      04S0806 00822000
*                   RUNITNUM=1;     /* REQUEST ONE UNIT PER BFR      */ 00823000
         LR    RUNITNUM,@14                                     04S0807 00824000
*                   CALL IEDQGA02;  /* ATTEMPT TO STEAL BFR          */ 00825000
         L     @15,AVTSTEAL(,RAVT)                              04S0808 00826000
         BALR  @14,@15                                          04S0808 00827000
*                   IF RRETCODE^=0 THEN/* IF BFR OBTAINED THEN       */ 00828000
         LTR   RRETCODE,RRETCODE                                04S0809 00829000
         BZ    @RF00809                                         04S0809 00830000
*                     DO;                                       04S0810 00831000
*                       LCBERBCH=RRETCODE;/* PUT BFR ON ERB CHAIN    */ 00832000
         STCM  RRETCODE,7,LCBERBCH(RLCB)                        04S0811 00833000
*                       CALL IPBSSTCN;/* GO BUILD READ CONTINUE      */ 00834000
         BAL   @14,IPBSSTCN                                     04S0812 00835000
*                     END;                                      04S0813 00836000
*                   ELSE            /* BFR WAS NOT OBTAINED          */ 00837000
*                     CALL IPREQBFR;/* REQUEST A BFR FROM IEDQGA     */ 00838000
         B     @RC00809                                         04S0814 00839000
@RF00809 BAL   @14,IPREQBFR                                     04S0814 00840000
*                 END;                                          04S0815 00841000
*               ELSE                /* ENTRY IS FROM IEDQGA          */ 00842000
*                 DO;                                           04S0816 00843000
         B     @RC00804                                         04S0816 00844000
@RF00804 DS    0H                                               04S0817 00845000
*                   LCBPRCPG=OFF;   /* RESET RETURN ERB INDICATOR    */ 00846000
         NI    LCBPRCPG(RLCB),B'11111101'                       04S0817 00847000
*                   CALL IPBSSTCN;  /* GO BUILD EITHER READ CONTINUE    00848000
*                                      OR ABORT                      */ 00849000
         BAL   @14,IPBSSTCN                                     04S0818 00850000
*                 END;                                          04S0819 00851000
*               RFY                                             04S0820 00852000
*                (RUNITNUM,                                     04S0820 00853000
*                 RBFRNUM,                                      04S0820 00854000
*                 RRETCODE) UNRSTD;                             04S0820 00855000
@RC00804 DS    0H                                               04S0821 00856000
*             END;                                              04S0821 00857000
*           ELSE                    /* IT IS RECEIVE INITIAL ERB FROM   00858000
*                                      IEDIAM                        */ 00859000
*                                                               04S0822 00860000
*             /*******************************************************/ 00861000
*             /*                                                     */ 00862000
*             /* PROCESS.ERB.BSRECV: BISYNC/START STOP RECEIVE       */ 00863000
*             /* INITIAL SEGMENT - THIS SEGMENT PROCESSES AN INITIAL */ 00864000
*             /* BISYNC/START STOP RECEIVE OPERATION.                */ 00865000
*             /*                                                     */ 00866000
*             /*******************************************************/ 00867000
*                                                               04S0822 00868000
*             DO;                                               04S0822 00869000
         B     @RC00801                                         04S0822 00870000
@RF00801 DS    0H                                               04S0823 00871000
*               RPRF=LCBERBCH;      /* GET BFR UNIT FROM ERB CHAIN   */ 00872000
         L     RPRF,LCBERBCH-1(,RLCB)                           04S0823 00873000
         LA    RPRF,0(,RPRF)                                    04S0823 00874000
*               LCBERBCH=PRFLINK;   /* DELINK IT FROM THE CHAIN      */ 00875000
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   04S0824 00876000
*               IF TRMDIAL=ON THEN  /* IF DIAL TERMINAL THEN         */ 00877000
         TM    TRMDIAL(RTRM),B'00001000'                        04S0825 00878000
         BNO   @RF00825                                         04S0825 00879000
*                                                               05S0826 00880000
*                 /***************************************************/ 00881000
*                 /*                                                 */ 00882000
*                 /* PROCESS.ERB.BSRECV.BSRECVD: BISYNC/START STOP   */ 00883000
*                 /* RECEIVE FROM DIAL SEGMENT - THIS SEGMENT        */ 00884000
*                 /* PROCESSES AN ERB FROM IEDIAM REQUESTING AN      */ 00885000
*                 /* INITIAL RECEIVE OPERATION FOR A DIAL TERMINAL.  */ 00886000
*                 /*                                                 */ 00887000
*                 /***************************************************/ 00888000
*                                                               05S0826 00889000
*                 DO;                                           05S0826 00890000
*                   IF TRMSESSN=OFF THEN/* IF NOT IN SESSION YET THEN*/ 00891000
         TM    TRMSESSN(RTRM),B'01000000'                       05S0827 00892000
         BNZ   @RF00827                                         05S0827 00893000
*                     DO;                                       05S0828 00894000
*                       IF TRMTYPE=TRMCTERM THEN/* IF CTERM THEN     */ 00895000
         CLI   TRMTYPE(RTRM),X'48'                              05S0829 00896000
         BNE   @RF00829                                         05S0829 00897000
*                         CALL IPBSRDIN;/* ISSUE INVITE              */ 00898000
         BAL   @14,IPBSRDIN                                     05S0830 00899000
*                       ELSE        /* IT IS NOT THE CTERM           */ 00900000
*                         CALL IPBSCALL;/* ISSUE CONTACT TO CALL OUT */ 00901000
         B     @RC00829                                         05S0831 00902000
@RF00829 BAL   @14,IPBSCALL                                     05S0831 00903000
*                       CALL IPFRPLCB;/* FREE THE PLCB               */ 00904000
@RC00829 BAL   @14,IPFRPLCB                                     05S0832 00905000
*                     END;                                      05S0833 00906000
*                   ELSE            /* THE TRM IS ALREADY IN SESSION */ 00907000
*                     DO;                                       05S0834 00908000
         B     @RC00827                                         05S0834 00909000
@RF00827 DS    0H                                               05S0835 00910000
*                       IF LCBRESP=ON THEN/* IF RESPONSE OWED THEN   */ 00911000
         TM    LCBRESP(RLCB),B'00000001'                        05S0835 00912000
         BNO   @RF00835                                         05S0835 00913000
*                         CALL IPBSRESP;/* RETURN A NULL RESPONSE    */ 00914000
         BAL   @14,IPBSRESP                                     05S0836 00915000
*                       ELSE        /* IF TRM HAS HUNG UP, TIMED OUT,   00916000
*                                      REACHED NEGATIVE POLL LIMIT,     00917000
*                                      OR ITS LINE IS BEING STOPPED,    00918000
*                                      OR NCP CLOSEDOWN OR TCAM 05S0837 00919000
*                                      CLOSEDOWN IS IN PROGRESS      */ 00920000
*                         DO;                                   05S0837 00921000
         B     @RC00835                                         05S0837 00922000
@RF00835 DS    0H                                               05S0838 00923000
*                           IF LCBNEGRP=ON THEN/* IF DISCONNECT REQ'D   00924000
*                                                            @YM08120*/ 00925000
         TM    LCBNEGRP(RLCB),B'00001000'                       05S0838 00926000
         BNO   @RF00838                                         05S0838 00927000
*                             CALL IPBSDISC;/* ISSUE DISCONNECT      */ 00928000
         BAL   @14,IPBSDISC                                     05S0839 00929000
*                           ELSE                                05S0840 00930000
*                             DO;                               05S0840 00931000
         B     @RC00838                                         05S0840 00932000
@RF00838 DS    0H                                               05S0841 00933000
*                               IF TRMPREP=ON THEN/* IF MONITOR REQ. */ 00934000
         TM    TRMPREP(RTRM),B'00000100'                        05S0841 00935000
         BNO   @RF00841                                         05S0841 00936000
*                                 CALL IPBSMNTR;/* ISSUE MONITOR     */ 00937000
         BAL   @14,IPBSMNTR                                     05S0842 00938000
*                               ELSE                            05S0843 00939000
*                                 CALL IPBSRDIN;/* ISSUE READ INITIAL*/ 00940000
         B     @RC00841                                         05S0843 00941000
@RF00841 BAL   @14,IPBSRDIN                                     05S0843 00942000
*                               CALL IPFRPLCB;/* FREE PLCB IF   05S0844 00943000
*                                      POSSIBLE                      */ 00944000
@RC00841 BAL   @14,IPFRPLCB                                     05S0844 00945000
*                             END;                              05S0845 00946000
*                         END;                                  05S0846 00947000
*                     END;                                      05S0847 00948000
*                 END;                                          05S0848 00949000
*               ELSE                /* IT IS A LEASED TERMINAL       */ 00950000
*                 IF TRMTYPE=TRMCLUST THEN/* IF CLUSTER THEN         */ 00951000
         B     @RC00825                                         04S0849 00952000
@RF00825 CLI   TRMTYPE(RTRM),X'40'                              04S0849 00953000
         BNE   @RF00849                                         04S0849 00954000
*                                                               05S0850 00955000
*                   /*************************************************/ 00956000
*                   /*                                               */ 00957000
*                   /* PROCESS.ERB.BSRECV.BSRECVCL: BISYNC/START STOP*/ 00958000
*                   /* RECEIVE FROM CLUSTER SEGMENT - THIS SEGMENT   */ 00959000
*                   /* PROCESSES AN ERB FROM IEDIAM FOR A 3270       */ 00960000
*                   /* CLUSTER. IT BUILDS AN INVITE PERPETUAL TNT    */ 00961000
*                   /* INDEX PIU AND TPOSTS IT TO IEDSAO IN ORDER TO */ 00962000
*                   /* START GENERAL POLL FOR A 3270 CLUSTER.        */ 00963000
*                   /*                                               */ 00964000
*                   /*************************************************/ 00965000
*                                                               05S0850 00966000
*                   DO;                                         05S0850 00967000
*                     RPARM=LCBTTCIN;/* PASS TNT INDEX DAF AS PARM   */ 00968000
         LH    RPARM,LCBTTCIN(,RLCB)                            05S0851 00969000
         N     RPARM,@CF02504                                   05S0851 00970000
*                     CALL IPBSTHRH;/* INITIALIZE FID0 TH/RH         */ 00971000
         BAL   @14,IPBSTHRH                                     05S0852 00972000
*                     IEDBDU=''B;   /* CLEAR BDU                     */ 00973000
         LA    @10,PRFPIUO(,RPRF)                               05S0853 00974000
         AL    @10,@CF00095                                     05S0853 00975000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        05S0853 00976000
*                     BDUCMND=CD0INV;/* SET INVITE COMMAND           */ 00977000
         MVI   BDUCMND(@10),X'05'                               05S0854 00978000
*                     BDUMODIF=CD0IP;/* SET PERPETUAL MODIFIER       */ 00979000
         MVI   BDUMODIF(@10),X'06'                              05S0855 00980000
*                     BDUXERLK=ON;  /* RESET ERROR LOCK              */ 00981000
         OI    BDUXERLK(@10),B'10000000'                        05S0856 00982000
*                     TRMERLCK=OFF; /* RESET TCAM ERROR LOCK BIT     */ 00983000
         NI    TRMERLCK(RTRM),B'11111011'                       05S0857 00984000
*                     TRMINOUT=ON;  /* INDICATE INVITE OUTSTANDING   */ 00985000
         OI    TRMINOUT(RTRM),B'00000001'                       05S0858 00986000
*                     PRFPRI=PRIOUTBD;/* SET NORMAL OUTBOUND PRIORITY*/ 00987000
         MVI   PRFPRI(RPRF),X'E4'                               05S0859 00988000
*                     CALL IPBSSAO; /* TPOST PIU TO IEDSAO           */ 00989000
         BAL   @14,IPBSSAO                                      05S0860 00990000
*                     CALL IPFRPLCB;/* FREE THE PLCB                 */ 00991000
         BAL   @14,IPFRPLCB                                     05S0861 00992000
*                   END;                                        05S0862 00993000
*                 ELSE                                          04S0863 00994000
*                   IF TRMGPACT=ON THEN/* IF GENERAL POLL ACTIVE THEN*/ 00995000
         B     @RC00849                                         04S0863 00996000
@RF00849 TM    TRMGPACT(RTRM),B'00001000'                       04S0863 00997000
         BNO   @RF00863                                         04S0863 00998000
*                                                               05S0864 00999000
*                     /***********************************************/ 01000000
*                     /*                                             */ 01001000
*                     /* PROCESS.ERB.BSRECV.BSRECVGP: BISYNC/START   */ 01002000
*                     /* STOP RECEIVE FOR GENERAL POLLED TERMINAL    */ 01003000
*                     /* SEGMENT - THIS SEGMENT GETS CONTROL WHEN AN */ 01004000
*                     /* ERB IS BYPASSED FROM IEDIAM WHEN EITHER     */ 01005000
*                     /* MSGLIMIT IS REACHED ON INPUT FROM A GENERAL */ 01006000
*                     /* POLLED TERMINAL OR A GENERAL POLLED TERMINAL*/ 01007000
*                     /* OR ITS LINE IS BEING STOPPED AND THE        */ 01008000
*                     /* TERMINAL IS STILL IN NCP SESSION.           */ 01009000
*                     /*                                             */ 01010000
*                     /***********************************************/ 01011000
*                                                               05S0864 01012000
*                     DO;                                       05S0864 01013000
*                       IF LCBNEGRP=ON|/* IF DISC REQ'D OR   @YM08120*/ 01014000
*                           SCBMLMTN=ON THEN/* MSGLIMIT REACHED THEN    01015000
*                                                            @YM08120*/ 01016000
         TM    LCBNEGRP(RLCB),B'00001000'                       05S0865 01017000
         BO    @RT00865                                         05S0865 01018000
         L     @10,LCBSCBA-1(,RLCB)                             05S0865 01019000
         TM    SCBMLMTN(@10),B'00000001'                        05S0865 01020000
         BNO   @RF00865                                         05S0865 01021000
@RT00865 DS    0H                                               05S0866 01022000
*                         CALL IPBSDISC;/* ISSUE DISCONNECT          */ 01023000
         BAL   @14,IPBSDISC                                     05S0866 01024000
*                     END;                                      05S0867 01025000
*                   ELSE            /* IT IS NOT GENERAL POLLED      */ 01026000
*                                                               05S0868 01027000
*                     /***********************************************/ 01028000
*                     /*                                             */ 01029000
*                     /* PROCESS.ERB.BSRECV.BSRECVL: BISYNC/START    */ 01030000
*                     /* STOP RECEIVE LEASED SEGMENT - THIS SEGMENT  */ 01031000
*                     /* PROCESSES AN INITIAL RECEIVE ERB FROM IEDIAM*/ 01032000
*                     /* FOR BISYNC/START STOP LEASED DEVICES THAT   */ 01033000
*                     /* ARE NEITHER CLUSTERS NOR CURRENTLY BEING    */ 01034000
*                     /* GENERAL POLLED.                             */ 01035000
*                     /*                                             */ 01036000
*                     /***********************************************/ 01037000
*                                                               05S0868 01038000
*                     DO;                                       05S0868 01039000
         B     @RC00863                                         05S0868 01040000
@RF00863 DS    0H                                               05S0869 01041000
*                       IF TRMSESSN=ON THEN/* IF TRM IN NCP SESSION  */ 01042000
         TM    TRMSESSN(RTRM),B'01000000'                       05S0869 01043000
         BNO   @RF00869                                         05S0869 01044000
*                         DO;                                   05S0870 01045000
*                           IF LCBRESP=ON THEN/* IF RESPONSE OWED    */ 01046000
         TM    LCBRESP(RLCB),B'00000001'                        05S0871 01047000
         BNO   @RF00871                                         05S0871 01048000
*                             CALL IPBSRESP;/* RETURN A RESPONSE     */ 01049000
         BAL   @14,IPBSRESP                                     05S0872 01050000
*                           ELSE    /* A RESPONSE IS NOT OWED        */ 01051000
*                             DO;                               05S0873 01052000
         B     @RC00871                                         05S0873 01053000
@RF00871 DS    0H                                               05S0874 01054000
*                               IF LCBNEGRP=ON|/* IF DISC REQ'D OR      01055000
*                                                            @YM08120*/ 01056000
*                                   SCBMLMTN=ON THEN/* MSGLIMIT 05S0874 01057000
*                                      REACHED THEN          @YM08120*/ 01058000
         TM    LCBNEGRP(RLCB),B'00001000'                       05S0874 01059000
         BO    @RT00874                                         05S0874 01060000
         L     @10,LCBSCBA-1(,RLCB)                             05S0874 01061000
         TM    SCBMLMTN(@10),B'00000001'                        05S0874 01062000
         BNO   @RF00874                                         05S0874 01063000
@RT00874 DS    0H                                               05S0875 01064000
*                                 CALL IPBSDISC;/* ISSUE DISCONNECT  */ 01065000
         BAL   @14,IPBSDISC                                     05S0875 01066000
*                               ELSE/* NO NEED FOR DISCONNECT        */ 01067000
*                                 DO;/*                      @YM02939*/ 01068000
         B     @RC00874                                         05S0876 01069000
@RF00874 DS    0H                                               05S0877 01070000
*                                   IF TRMPREP=ON THEN/* IF MONITOR  */ 01071000
         TM    TRMPREP(RTRM),B'00000100'                        05S0877 01072000
         BNO   @RF00877                                         05S0877 01073000
*                                    CALL IPBSMNTR;/* ISSUE MONITOR  */ 01074000
         BAL   @14,IPBSMNTR                                     05S0878 01075000
*                                   ELSE/* MONITOR NOT REQUESTED     */ 01076000
*                                    CALL IPBSRDIN;/* ISSUE READ     */ 01077000
         B     @RC00877                                         05S0879 01078000
@RF00877 BAL   @14,IPBSRDIN                                     05S0879 01079000
*                                   CALL IPFRPLCB;/* FREE THE PLCB IF   01080000
*                                      POSSIBLE                      */ 01081000
@RC00877 BAL   @14,IPFRPLCB                                     05S0880 01082000
*                                 END;/*                     @YM02939*/ 01083000
*                             END;                              05S0882 01084000
*                         END;                                  05S0883 01085000
*                       ELSE        /* TRM NOT IN NCP SESSION        */ 01086000
*                         DO;                                   05S0884 01087000
         B     @RC00869                                         05S0884 01088000
@RF00869 DS    0H                                               05S0885 01089000
*                           IF TRMPREP=ON THEN/* IF MONITOR REQ. THEN*/ 01090000
         TM    TRMPREP(RTRM),B'00000100'                        05S0885 01091000
         BNO   @RF00885                                         05S0885 01092000
*                             CALL IPBSMNTR;/* ISSUE MONITOR         */ 01093000
         BAL   @14,IPBSMNTR                                     05S0886 01094000
*                           ELSE    /* MONITOR NOT REQUESTED         */ 01095000
*                             CALL IPBSRDIN;/* ISSUE INVITE          */ 01096000
         B     @RC00885                                         05S0887 01097000
@RF00885 BAL   @14,IPBSRDIN                                     05S0887 01098000
*                           CALL IPFRPLCB;/* FREE PLCB IF POSSIBLE   */ 01099000
@RC00885 BAL   @14,IPFRPLCB                                     05S0888 01100000
*                         END;                                  05S0889 01101000
*                     END;                                      05S0890 01102000
@RC00869 DS    0H                                               05S0891 01103000
*             END;                                              04S0891 01104000
@RC00863 DS    0H                                               04S0891 01105000
@RC00849 DS    0H                                               04S0891 01106000
@RC00825 DS    0H                                               04S0892 01107000
*     END;                                                      03S0892 01108000
@RC00801 DS    0H                                               03S0892 01109000
@RC00718 DS    0H                                               03S0892 01110000
@RC00692 DS    0H                                               03S0893 01111000
*   CALL DSPDISP;                   /* RETURN TO THE DISPATCHER      */ 01112000
@RC00570 LA    @15,DSPDISP(,RDISP)                              02S0893 01113000
         BALR  @14,@15                                          02S0893 01114000
*                                                               02S0894 01115000
*   /*****************************************************************/ 01116000
*   /*                                                               */ 01117000
*   /* IPBSABRT: BISYNC/START STOP ABORT INTERNAL PROCEDURE - THIS   */ 01118000
*   /* INTERNAL PROCEDURE BUILDS AN ABORT PIU TO ABORT AN INPUT      */ 01119000
*   /* OPERATION WHEN AN ERROR HAS OCCURRED AND STOP=YES IS          */ 01120000
*   /* SPECIFIED. RPRF MUST HAVE THE ADDRESS OF THE BUFFER UNIT IN   */ 01121000
*   /* WHICH THE PIU IS TO BE BUILT.                                 */ 01122000
*   /*                                                               */ 01123000
*   /*****************************************************************/ 01124000
*                                                               02S0894 01125000
*IPBSABRT:                                                      02S0894 01126000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0894 01127000
@EL00001 DS    0H                                               02S0894 01128000
@EF00001 DS    0H                                               02S0894 01129000
@ER00001 BR    @14                                              02S0894 01130000
IPBSABRT ST    @14,@SA00002                                     02S0894 01131000
*   RFY                                                         02S0895 01132000
*     IEDTH BASED(ADDR(PIU0TH));                                02S0895 01133000
*   RPARM=LCBTTCIN;                 /* PASS TNT INDEX DAF AS PARM    */ 01134000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S0896 01135000
         N     RPARM,@CF02504                                   02S0896 01136000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01137000
         BAL   @14,IPBSTHRH                                     02S0897 01138000
*   TTHTAG2=TTHABORT;               /* SET ABORT ID TAG              */ 01139000
         LA    @10,PRFPIUO(,RPRF)                               02S0898 01140000
         MVI   TTHTAG2+1(@10),X'04'                             02S0898 01141000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01142000
         AL    @10,@CF00095                                     02S0899 01143000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        02S0899 01144000
*   BDUXERLK=ON;                    /* RESET NCP ERROR LOCK          */ 01145000
         OI    BDUXERLK(@10),B'10000000'                        02S0900 01146000
*   TRMERLCK=OFF;                   /* RESET TCAM ERROR LOCK         */ 01147000
         NI    TRMERLCK(RTRM),B'11111011'                       02S0901 01148000
*   IF TRMDIAL=ON THEN              /* IF DIAL TERMINAL THEN         */ 01149000
         TM    TRMDIAL(RTRM),B'00001000'                        02S0902 01150000
         BNO   @RF00902                                         02S0902 01151000
*     DO;                                                       02S0903 01152000
*       BDUCMND=CD0WRT;             /* SET WRITE COMMAND             */ 01153000
         MVI   BDUCMND(@10),X'02'                               02S0904 01154000
*       BDUMODIF=CD0WT;             /* SET TRANSMISSION MODIFIER     */ 01155000
         MVI   BDUMODIF(@10),X'02'                              02S0905 01156000
*     END;                                                      02S0906 01157000
*   ELSE                            /* IT IS LEASED TERMINAL         */ 01158000
*     DO;                                                       02S0907 01159000
         B     @RC00902                                         02S0907 01160000
@RF00902 DS    0H                                               02S0908 01161000
*       BDUCMND=CD0DISC;            /* SET DISCONNECT COMMAND        */ 01162000
         LA    @10,PRFPIUO(,RPRF)                               02S0908 01163000
         AL    @10,@CF00095                                     02S0908 01164000
         MVI   BDUCMND(@10),X'07'                               02S0908 01165000
*       BDUMODIF=CD0D;              /* SET NORMAL MODIFIER           */ 01166000
         MVI   BDUMODIF(@10),X'00'                              02S0909 01167000
*       TRMSESSN=OFF;               /* RESET NCP SESSION     @YM08436*/ 01168000
         NI    TRMSESSN(RTRM),B'10111111'                       02S0910 01169000
*     END;                                                      02S0911 01170000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01171000
@RC00902 MVI   PRFPRI(RPRF),X'E4'                               02S0912 01172000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01173000
         BAL   @14,IPBSSAO                                      02S0913 01174000
*   RFY                                                         02S0914 01175000
*     IEDTH BASED;                                              02S0914 01176000
*   END IPBSABRT;                                               02S0915 01177000
@EL00002 DS    0H                                               02S0915 01178000
@EF00002 DS    0H                                               02S0915 01179000
@ER00002 L     @14,@SA00002                                     02S0915 01180000
         BR    @14                                              02S0915 01181000
*                                                               02S0916 01182000
*   /*****************************************************************/ 01183000
*   /*                                                               */ 01184000
*   /* IPBSCALL: BISYNC/START STOP CALL OUT INTERNAL PROCEDURE - THIS*/ 01185000
*   /* INTERNAL PROCEDURE BUILDS A FID0 CONTACT PIU FOR CALLING OUT  */ 01186000
*   /* TO DIAL TERMINALS. RPRF MUST HAVE THE ADDRESS OF THE BUFFER   */ 01187000
*   /* UNIT IN WHICH THE PIU IS TO BE BUILT.                         */ 01188000
*   /*                                                               */ 01189000
*   /*****************************************************************/ 01190000
*                                                               02S0916 01191000
*IPBSCALL:                                                      02S0916 01192000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0916 01193000
IPBSCALL ST    @14,@SA00003                                     02S0916 01194000
*   RPARM=LCBTTCIN;                 /* PASS TNT INDEX DAF AS PARM    */ 01195000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S0917 01196000
         N     RPARM,@CF02504                                   02S0917 01197000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01198000
         BAL   @14,IPBSTHRH                                     02S0918 01199000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01200000
         LA    @10,PRFPIUO(,RPRF)                               02S0919 01201000
         AL    @10,@CF00095                                     02S0919 01202000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        02S0919 01203000
*   BDUCMND=CD0CONT;                /* SET CONTACT COMMAND           */ 01204000
         MVI   BDUCMND(@10),X'06'                               02S0920 01205000
*   BDUMODIF=CD0CRSID;              /* SET RETURN RSID OF LINE MODIF.*/ 01206000
         MVI   BDUMODIF(@10),X'01'                              02S0921 01207000
*   BDUXERLK=ON;                    /* RESET NCP ERROR LOCK          */ 01208000
         OI    BDUXERLK(@10),B'10000000'                        02S0922 01209000
*   TRMERLCK=OFF;                   /* RESET TCAM ERROR LOCK         */ 01210000
*   TRMCONT=ON;                     /* INDICATE CALL OUT             */ 01211000
         OI    TRMCONT(RTRM),B'10000000'                        02S0924 01212000
         NI    TRMERLCK(RTRM),B'11111011'                       02S0924 01213000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01214000
         MVI   PRFPRI(RPRF),X'E4'                               02S0925 01215000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01216000
         BAL   @14,IPBSSAO                                      02S0926 01217000
*   END IPBSCALL;                                               02S0927 01218000
@EL00003 DS    0H                                               02S0927 01219000
@EF00003 DS    0H                                               02S0927 01220000
@ER00003 L     @14,@SA00003                                     02S0927 01221000
         BR    @14                                              02S0927 01222000
*                                                               02S0928 01223000
*   /*****************************************************************/ 01224000
*   /*                                                               */ 01225000
*   /* IPBSDISC: BISYNC/START STOP DISCONNECT INTERNAL PROCEDURE -   */ 01226000
*   /* THIS INTERNAL PROCEDURE BUILDS A DISCONNECT WITH END OF CALL  */ 01227000
*   /* PIU. RPRF MUST HAVE THE ADDRESS OF THE BUFFER UNIT IN WHICH   */ 01228000
*   /* THE PIU IS TO BE BUILT.                                       */ 01229000
*   /*                                                               */ 01230000
*   /*****************************************************************/ 01231000
*                                                               02S0928 01232000
*IPBSDISC:                                                      02S0928 01233000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0928 01234000
IPBSDISC ST    @14,@SA00004                                     02S0928 01235000
*   RPARM=LCBTTCIN;                 /* PASS DAF AS PARM              */ 01236000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S0929 01237000
         N     RPARM,@CF02504                                   02S0929 01238000
*   CALL IPBSTHRH;                  /* INITIALIZE FID0 TH/RH         */ 01239000
         BAL   @14,IPBSTHRH                                     02S0930 01240000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01241000
         LA    @10,PRFPIUO(,RPRF)                               02S0931 01242000
         AL    @10,@CF00095                                     02S0931 01243000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        02S0931 01244000
*   BDUCMND=CD0DISC;                /* SET DISCONNECT COMMAND        */ 01245000
         MVI   BDUCMND(@10),X'07'                               02S0932 01246000
*   BDUMODIF=CD0DE;                 /* SET END OF CALL MODIFIER      */ 01247000
         MVI   BDUMODIF(@10),X'02'                              02S0933 01248000
*   BDUXERLK=ON;                    /* RESET NCP ERROR LOCK          */ 01249000
         OI    BDUXERLK(@10),B'10000000'                        02S0934 01250000
*   TRMERLCK=OFF;                   /* RESET TCAM ERROR LOCK         */ 01251000
*   TRMSESSN=OFF;                   /* RESET NCP SESSION     @YM08436*/ 01252000
         NI    TRMERLCK(RTRM),B'10111011'                       02S0936 01253000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01254000
         MVI   PRFPRI(RPRF),X'E4'                               02S0937 01255000
*   CALL IPBSSAO;                   /* POST FID0 PIU TO IEDSAO       */ 01256000
         BAL   @14,IPBSSAO                                      02S0938 01257000
*   END IPBSDISC;                                               02S0939 01258000
@EL00004 DS    0H                                               02S0939 01259000
@EF00004 DS    0H                                               02S0939 01260000
@ER00004 L     @14,@SA00004                                     02S0939 01261000
         BR    @14                                              02S0939 01262000
*                                                               02S0940 01263000
*   /*****************************************************************/ 01264000
*   /*                                                               */ 01265000
*   /* IPBSMNTR: BISYNC/START STOP MONITOR INTERNAL PROCEDURE - THIS */ 01266000
*   /* INTERNAL PROCEDURE BUILDS A FID0 SET DESTINATION MODE PIU     */ 01267000
*   /* WHICH STARTS THE MONITOR TASK IN THE NCP. RPRF MUST HAVE THE  */ 01268000
*   /* ADDRESS OF THE BUFFER UNIT IS WHICH THE PIU IS TO BE BUILT.   */ 01269000
*   /*                                                               */ 01270000
*   /*****************************************************************/ 01271000
*                                                               02S0940 01272000
*IPBSMNTR:                                                      02S0940 01273000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0940 01274000
IPBSMNTR ST    @14,@SA00005                                     02S0940 01275000
*   RFY                                                         02S0941 01276000
*     IEDTH BASED(ADDR(PIU0TH));                                02S0941 01277000
*   RFY                                                         02S0942 01278000
*    (RMASK,                                                    02S0942 01279000
*     RMOD) RSTD;                                               02S0942 01280000
*   RPARM=LCBTTCIN;                 /* PASS TNT INDEX DAF AS PARM    */ 01281000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S0943 01282000
         N     RPARM,@CF02504                                   02S0943 01283000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01284000
         BAL   @14,IPBSTHRH                                     02S0944 01285000
*   TTHDCF=TTHDCF+LENGTH(MODNEW);   /* UPDATE DATA COUNT             */ 01286000
         LA    @14,PRFPIUO(,RPRF)                               02S0945 01287000
         AL    @14,@CF00059                                     02S0945 01288000
         LA    @10,2                                            02S0945 01289000
         SLR   @09,@09                                          02S0945 01290000
         ICM   @09,3,TTHDCF(@14)                                02S0945 01291000
         ALR   @10,@09                                          02S0945 01292000
         STCM  @10,3,TTHDCF(@14)                                02S0945 01293000
*   RMASK=TRMRNTMK;                 /* SET MASK FOR TRMRNTRM BIT     */ 01294000
         LA    RMASK,16                                         02S0946 01295000
*   RPARM=RTRM+LENGTH(IEDNTRM);     /* PASS TRM ADDRESS              */ 01296000
         LA    RPARM,14                                         02S0947 01297000
         ALR   RPARM,RTRM                                       02S0947 01298000
*   CALL IEDQTL;                    /* LOCATE DEV. DEP. FIELD        */ 01299000
         L     @15,AVTDDFT(,RAVT)                               02S0948 01300000
         BALR  @14,@15                                          02S0948 01301000
*   MODNMNTR=ON;                    /* SET ACTIVATE MONITOR BIT      */ 01302000
*   MODNMNTP=OFF;                   /* INDICATE THAT THE MONITOR TASK   01303000
*                                      SHOULD BE AUTOMATICALLY  02S0950 01304000
*                                      DEACTIVATED ON THE NEXT I/O   */ 01305000
         OI    MODNMNTR(RMOD),B'00000010'                       02S0950 01306000
         NI    MODNMNTP(RMOD),B'11111110'                       02S0950 01307000
*   MODCUR=MODNEW;                  /* SET CURRENT MODE TO NEW MODE  */ 01308000
         MVC   MODCUR(2,RMOD),MODNEW(RMOD)                      02S0951 01309000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01310000
         LA    @14,PRFPIUO(,RPRF)                               02S0952 01311000
         LA    @10,15                                           02S0952 01312000
         ALR   @10,@14                                          02S0952 01313000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        02S0952 01314000
*   BDUCMND=CD0CTRL;                /* SET CONTROL COMMAND           */ 01315000
         MVI   BDUCMND(@10),X'08'                               02S0953 01316000
*   BDUMODIF=CD0CSDM;               /* SET SET DEST. MODE MODIFIER   */ 01317000
         MVI   BDUMODIF(@10),X'9A'                              02S0954 01318000
*   TEXT(1:2)=MODNEW;               /* SET MODE AS PIU TEXT          */ 01319000
         MVC   TEXT+21(2,@14),MODNEW(RMOD)                      02S0955 01320000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01321000
         MVI   PRFPRI(RPRF),X'E4'                               02S0956 01322000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01323000
         BAL   @14,IPBSSAO                                      02S0957 01324000
*   TRMINPTP=ON;                    /* INDICATE INPUT PENDING        */ 01325000
         OI    TRMINPTP(RTRM),B'01000000'                       02S0958 01326000
*   RFY                                                         02S0959 01327000
*    (RMASK,                                                    02S0959 01328000
*     RMOD) UNRSTD;                                             02S0959 01329000
*   RFY                                                         02S0960 01330000
*     IEDTH BASED;                                              02S0960 01331000
*   END IPBSMNTR;                                               02S0961 01332000
@EL00005 DS    0H                                               02S0961 01333000
@EF00005 DS    0H                                               02S0961 01334000
@ER00005 L     @14,@SA00005                                     02S0961 01335000
         BR    @14                                              02S0961 01336000
*                                                               02S0962 01337000
*   /*****************************************************************/ 01338000
*   /*                                                               */ 01339000
*   /* IPBSRDCN: BISYNC/START STOP READ CONTINUE INTERNAL PROCEDURE -*/ 01340000
*   /* THIS INTERNAL PROCEDURE BUILDS A READ CONTINUE FID0 PIU. RPRF */ 01341000
*   /* MUST HAVE THE ADDRESS OF THE BUFFER UNIT IN WHICH THE PIU IS  */ 01342000
*   /* TO BE BUILT.                                                  */ 01343000
*   /*                                                               */ 01344000
*   /*****************************************************************/ 01345000
*                                                               02S0962 01346000
*IPBSRDCN:                                                      02S0962 01347000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0962 01348000
IPBSRDCN ST    @14,@SA00006                                     02S0962 01349000
*   LCBRESP=OFF;                    /* RESET RESPONSE OWED           */ 01350000
         NI    LCBRESP(RLCB),B'11111110'                        02S0963 01351000
*   RPARM=LCBTTCIN;                 /* PASS TNT INDEX DAF AS PARM    */ 01352000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S0964 01353000
         N     RPARM,@CF02504                                   02S0964 01354000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01355000
         BAL   @14,IPBSTHRH                                     02S0965 01356000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01357000
         LA    @10,PRFPIUO(,RPRF)                               02S0966 01358000
         AL    @10,@CF00095                                     02S0966 01359000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        02S0966 01360000
*   BDUCMND=CD0READ;                /* SET READ COMMAND              */ 01361000
         MVI   BDUCMND(@10),X'01'                               02S0967 01362000
*   BDUPOSAK=ON;                    /* INDICATE POSITIVE ACK         */ 01363000
         OI    BDUPOSAK(@10),B'00000100'                        02S0968 01364000
*   IF LCBEOT=ON THEN               /* IF RVI REQUESTED THEN         */ 01365000
         TM    LCBEOT(RLCB),B'00000010'                         02S0969 01366000
         BNO   @RF00969                                         02S0969 01367000
*     DO;                                                       02S0970 01368000
*       LCBEOT=OFF;                 /* RESET RVI REQUEST             */ 01369000
         NI    LCBEOT(RLCB),B'11111101'                         02S0971 01370000
*       BDUNEGAK=ON;                /* SET NEGATIVE ACK ALSO, THE       01371000
*                                      COMBINATION OF POS. ACK AND      01372000
*                                      NEG. ACK INDICATES RVI        */ 01373000
         OI    BDUNEGAK(@10),B'00000010'                        02S0972 01374000
*     END;                                                      02S0973 01375000
*   BDUXERLK=ON;                    /* RESET NCP ERROR LOCK          */ 01376000
@RF00969 LA    @10,PRFPIUO(,RPRF)                               02S0974 01377000
         OI    BDUXERLK+15(@10),B'10000000'                     02S0974 01378000
*   TRMERLCK=OFF;                   /* RESET TCAM ERROR LOCK         */ 01379000
         NI    TRMERLCK(RTRM),B'11111011'                       02S0975 01380000
*   CALL IPBSRMOD;                  /* SET APPROPRIATE MODIFIER      */ 01381000
         BAL   @14,IPBSRMOD                                     02S0976 01382000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01383000
         MVI   PRFPRI(RPRF),X'E4'                               02S0977 01384000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01385000
         BAL   @14,IPBSSAO                                      02S0978 01386000
*   END IPBSRDCN;                                               02S0979 01387000
@EL00006 DS    0H                                               02S0979 01388000
@EF00006 DS    0H                                               02S0979 01389000
@ER00006 L     @14,@SA00006                                     02S0979 01390000
         BR    @14                                              02S0979 01391000
*                                                               02S0980 01392000
*   /*****************************************************************/ 01393000
*   /*                                                               */ 01394000
*   /* IPBSRDIN: BISYNC/START STOP READ/INVITE INTERNAL PROCEDURE -  */ 01395000
*   /* THIS INTERNAL PROCEDURE BUILDS THE APPROPRIATE READ OR INVITE */ 01396000
*   /* PIU FOR AN INITIAL BISYNC/START STOP SPECIFIC POLL OPERATION. */ 01397000
*   /* RPRF MUST HAVE THE ADDRESS OF THE BUFFER UNIT IN WHICH THE PIU*/ 01398000
*   /* IS TO BE BUILT.                                               */ 01399000
*   /*                                                               */ 01400000
*   /*****************************************************************/ 01401000
*                                                               02S0980 01402000
*IPBSRDIN:                                                      02S0980 01403000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S0980 01404000
IPBSRDIN ST    @14,@SA00007                                     02S0980 01405000
*   RPARM=LCBTTCIN;                 /* PASS DAF AS PARAMETER         */ 01406000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S0981 01407000
         N     RPARM,@CF02504                                   02S0981 01408000
*   CALL IPBSTHRH;                  /* INITIALIZE FID0 TH/RH         */ 01409000
         BAL   @14,IPBSTHRH                                     02S0982 01410000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01411000
         LA    @10,PRFPIUO(,RPRF)                               02S0983 01412000
         AL    @10,@CF00095                                     02S0983 01413000
         XC    IEDBDU(6,@10),IEDBDU(@10)                        02S0983 01414000
*   BDUHEADR=ON;                    /* INDICATE HEADER BDU           */ 01415000
         OI    BDUHEADR(@10),B'01000000'                        02S0984 01416000
*   IF QCBTSSES=OFF THEN            /* IF NOT IN TSO SESSION THEN    */ 01417000
         SLR   @09,@09                                          02S0985 01418000
         ICM   @09,7,TRMDESTQ(RTRM)                             02S0985 01419000
         TM    QCBTSSES(@09),B'10000000'                        02S0985 01420000
         BNZ   @RF00985                                         02S0985 01421000
*     DO;                                                       02S0986 01422000
*       BDUXERLK=ON;                /* RESET NCP ERROR LOCK          */ 01423000
         OI    BDUXERLK(@10),B'10000000'                        02S0987 01424000
*       TRMERLCK=OFF;               /* RESET TCAM ERROR LOCK         */ 01425000
         NI    TRMERLCK(RTRM),B'11111011'                       02S0988 01426000
*     END;                                                      02S0989 01427000
*   IF TRMSESSN=ON THEN             /* IS TERMINAL IN SESSION        */ 01428000
@RF00985 TM    TRMSESSN(RTRM),B'01000000'                       02S0990 01429000
         BNO   @RF00990                                         02S0990 01430000
*     DO;                           /* YES                           */ 01431000
*       BDUCMND=CD0READ;            /* SET READ COMMAND              */ 01432000
         LA    @10,PRFPIUO(,RPRF)                               02S0992 01433000
         MVI   BDUCMND+15(@10),X'01'                            02S0992 01434000
*       TRMRDOUT=ON;                /* SET READ OUTSTANDING          */ 01435000
         OI    TRMRDOUT(RTRM),B'00000010'                       02S0993 01436000
*     END;                                                      02S0994 01437000
*   ELSE                            /* NO, TERMINAL IS NOT IN SESSION*/ 01438000
*     DO;                                                       02S0995 01439000
         B     @RC00990                                         02S0995 01440000
@RF00990 DS    0H                                               02S0996 01441000
*       BDUCMND=CD0INV;             /* SET INVITE COMMAND            */ 01442000
         LA    @10,PRFPIUO(,RPRF)                               02S0996 01443000
         MVI   BDUCMND+15(@10),X'05'                            02S0996 01444000
*       TRMINOUT=ON;                /* SET INVITE OUTSTANDING        */ 01445000
         OI    TRMINOUT(RTRM),B'00000001'                       02S0997 01446000
*     END;                                                      02S0998 01447000
*   CALL IPBSRMOD;                  /* SET BDU MODIFIER              */ 01448000
@RC00990 BAL   @14,IPBSRMOD                                     02S0999 01449000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01450000
         MVI   PRFPRI(RPRF),X'E4'                               02S1000 01451000
*   CALL IPBSSAO;                   /* POST FID0 PIU TO IEDSAO       */ 01452000
         BAL   @14,IPBSSAO                                      02S1001 01453000
*   END IPBSRDIN;                                               02S1002 01454000
@EL00007 DS    0H                                               02S1002 01455000
@EF00007 DS    0H                                               02S1002 01456000
@ER00007 L     @14,@SA00007                                     02S1002 01457000
         BR    @14                                              02S1002 01458000
*                                                               02S1003 01459000
*   /*****************************************************************/ 01460000
*   /*                                                               */ 01461000
*   /* IPBSRESP: BISYNC/START STOP NULL RESPONSE INTERNAL PROCEDURE -*/ 01462000
*   /* THIS PROCEDURE BUILDS AND RETURNS A NULL RESPONSE WHEN ONE IS */ 01463000
*   /* STILL OWED BY THE TIME ANOTHER READ IS SCHEDULED. RPRF MUST   */ 01464000
*   /* HAVE THE ADDRESS OF THE BUFFER UNIT IN WHICH THE NULL RESPONSE*/ 01465000
*   /* PIU IS TO BE BUILT.                                           */ 01466000
*   /*                                                               */ 01467000
*   /*****************************************************************/ 01468000
*                                                               02S1003 01469000
*IPBSRESP:                                                      02S1003 01470000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1003 01471000
IPBSRESP ST    @14,@SA00008                                     02S1003 01472000
*   RFY                                                         02S1004 01473000
*     IEDTH BASED(ADDR(PIU0TH));                                02S1004 01474000
*   RPARM=LCBTTCIN;                 /* PASS TNT INDEX DAF AS PARM    */ 01475000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S1005 01476000
         N     RPARM,@CF02504                                   02S1005 01477000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01478000
         BAL   @14,IPBSTHRH                                     02S1006 01479000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01480000
         LA    @10,PRFPIUO(,RPRF)                               02S1007 01481000
         LA    @09,15                                           02S1007 01482000
         ALR   @09,@10                                          02S1007 01483000
         XC    IEDBDU(6,@09),IEDBDU(@09)                        02S1007 01484000
*   BDUCMND=CD0WRT;                 /* SET WRITE COMMAND             */ 01485000
         MVI   BDUCMND(@09),X'02'                               02S1008 01486000
*   BDUMODIF=CD0WT;                 /* SET TRANSMISSION MODIFIER     */ 01487000
         MVI   BDUMODIF(@09),X'02'                              02S1009 01488000
*   BDUXERLK=ON;                    /* RESET NCP ERROR LOCK          */ 01489000
         OI    BDUXERLK(@09),B'10000000'                        02S1010 01490000
*   TRMERLCK=OFF;                   /* RESET TCAM ERROR LOCK         */ 01491000
         NI    TRMERLCK(RTRM),B'11111011'                       02S1011 01492000
*   TRMNLOUT=ON;                    /* SET NULL WRITE OUTSTANDING    */ 01493000
         OI    TRMNLOUT(RTRM),B'00000100'                       02S1012 01494000
*   RPARM=AVTCSTCS+(AVTDCTLN*(TRMCHCIN-1));/* GET DCT BASE           */ 01495000
         SLR   RPARM,RPARM                                      02S1013 01496000
         IC    RPARM,TRMCHCIN(,RTRM)                            02S1013 01497000
         BCTR  RPARM,0                                          02S1013 01498000
         MH    RPARM,AVTDCTLN(,RAVT)                            02S1013 01499000
         AL    RPARM,AVTCSTCS(,RAVT)                            02S1013 01500000
*   IF DCT3270=ON THEN              /* IF 3270 THEN                  */ 01501000
         TM    DCT3270(RPARM),B'00000100'                       02S1014 01502000
         BNO   @RF01014                                         02S1014 01503000
*     DO;                                                       02S1015 01504000
*       TEXT(1:2)=NULLTEXT;         /* SEND NULL 3270 COMMAND        */ 01505000
         MVC   TEXT+21(2,@10),@CB02362                          02S1016 01506000
*       TTHDCF=TTHDCF+LENGTH(NULLTEXT)/8;/* UPDATE DATA COUNT        */ 01507000
         AL    @10,@CF00059                                     02S1017 01508000
         LA    @09,2                                            02S1017 01509000
         SLR   @07,@07                                          02S1017 01510000
         ICM   @07,3,TTHDCF(@10)                                02S1017 01511000
         ALR   @09,@07                                          02S1017 01512000
         STCM  @09,3,TTHDCF(@10)                                02S1017 01513000
*     END;                                                      02S1018 01514000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01515000
@RF01014 MVI   PRFPRI(RPRF),X'E4'                               02S1019 01516000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01517000
         BAL   @14,IPBSSAO                                      02S1020 01518000
*   RFY                                                         02S1021 01519000
*     IEDTH BASED;                                              02S1021 01520000
*   END IPBSRESP;                                               02S1022 01521000
@EL00008 DS    0H                                               02S1022 01522000
@EF00008 DS    0H                                               02S1022 01523000
@ER00008 L     @14,@SA00008                                     02S1022 01524000
         BR    @14                                              02S1022 01525000
*                                                               02S1023 01526000
*   /*****************************************************************/ 01527000
*   /*                                                               */ 01528000
*   /* IPBSRMOD: BISYNC/START STOP READ PIU MODIFIER INTERNAL        */ 01529000
*   /* PROCEDURE - THIS PROCEDURE SETS THE CORRECT MODIFIER FOR READ */ 01530000
*   /* AND INVITE PIUS. RPRF MUST HAVE THE ADDRESS OF THE BUFFER UNIT*/ 01531000
*   /* IN WHICH THE PIU IS BEING BUILT.                              */ 01532000
*   /*                                                               */ 01533000
*   /*****************************************************************/ 01534000
*                                                               02S1023 01535000
*IPBSRMOD:                                                      02S1023 01536000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1023 01537000
IPBSRMOD ST    @14,12(,@13)                                     02S1023 01538000
*   RFY                                                         02S1024 01539000
*     RMH RSTD;                     /* RESTRICT RMH                  */ 01540000
*   RMH=LCBMHA;                     /* SET MH QCB BASE REG   @YM06085*/ 01541000
         L     RMH,LCBMHA-1(,RLCB)                              02S1025 01542000
         LA    RMH,0(,RMH)                                      02S1025 01543000
*   IF QCBALTMH=ON THEN             /* IF ALT. MH IS BEING USED THEN */ 01544000
         SLR   @10,@10                                          02S1026 01545000
         ICM   @10,7,TRMDESTQ(RTRM)                             02S1026 01546000
         TM    QCBALTMH(@10),B'00001000'                        02S1026 01547000
         BNO   @RF01026                                         02S1026 01548000
*     RMH=STMHALT;                  /* SET ALTERNATE MH QCB AS BASE  */ 01549000
         L     RMH,STMHALT(,RMH)                                02S1027 01550000
*   IF STMHLOG=ON|                  /* IF LOGICAL CHECKING OR        */ 01551000
*       STMHLMD=ON THEN             /* LMD IS REQUESTED THEN         */ 01552000
@RF01026 TM    STMHLOG(RMH),B'00000100'                         02S1028 01553000
         BO    @RT01028                                         02S1028 01554000
         TM    STMHLMD(RMH),B'00000001'                         02S1028 01555000
         BNO   @RF01028                                         02S1028 01556000
@RT01028 DS    0H                                               02S1029 01557000
*     BDUMODIF=CD0RB;               /* SET BLOCK MODIFIER            */ 01558000
         LA    @10,PRFPIUO(,RPRF)                               02S1029 01559000
         MVI   BDUMODIF+15(@10),X'01'                           02S1029 01560000
*   ELSE                            /* NEITHER LOGICAL CHECKING NOR     01561000
*                                      LMD IS REQUESTED              */ 01562000
*     IF STMHCONV=ON THEN           /* IF CONV. MODE IS REQ. THEN    */ 01563000
         B     @RC01028                                         02S1030 01564000
@RF01028 TM    STMHCONV(RMH),B'00010000'                        02S1030 01565000
         BNO   @RF01030                                         02S1030 01566000
*       DO;                                                     02S1031 01567000
*         IF LCBSYNC=OFF THEN       /* IF TRM IS START STOP THEN     */ 01568000
         TM    LCBSYNC(RLCB),B'00000100'                        02S1032 01569000
         BNZ   @RF01032                                         02S1032 01570000
*           BDUMODIF=CD0RB;         /* SET BLOCK MODIFIER            */ 01571000
         LA    @10,PRFPIUO(,RPRF)                               02S1033 01572000
         MVI   BDUMODIF+15(@10),X'01'                           02S1033 01573000
*         ELSE                      /* THE TRM IS BISYNC SO          */ 01574000
*           BDUMODIF=CD0RM;         /* SET MESSAGE MODIFIER          */ 01575000
         B     @RC01032                                         02S1034 01576000
@RF01032 LA    @10,PRFPIUO(,RPRF)                               02S1034 01577000
         MVI   BDUMODIF+15(@10),X'02'                           02S1034 01578000
*       END;                                                    02S1035 01579000
*     ELSE                          /* IT IS NOT CONVERSATIONAL MODE */ 01580000
*       BDUMODIF=CD0RT;             /* SET TRANSMISSION MODIFIER     */ 01581000
         B     @RC01030                                         02S1036 01582000
@RF01030 LA    @10,PRFPIUO(,RPRF)                               02S1036 01583000
         MVI   BDUMODIF+15(@10),X'03'                           02S1036 01584000
*   RFY                                                         02S1037 01585000
*     RMH UNRSTD;                   /* RELEASE RMH                   */ 01586000
*   END IPBSRMOD;                                               02S1038 01587000
@EL00009 DS    0H                                               02S1038 01588000
@EF00009 DS    0H                                               02S1038 01589000
@ER00009 L     @14,12(,@13)                                     02S1038 01590000
         BR    @14                                              02S1038 01591000
*                                                               02S1039 01592000
*   /*****************************************************************/ 01593000
*   /*                                                               */ 01594000
*   /* IPBSSAO: BISYNC/START STOP FID0 PIU POST INTERNAL PROCEDURE - */ 01595000
*   /* THIS INTERNAL PROCEDURE TPOSTS A BUFFER CONTAINING A FID0 TNT */ 01596000
*   /* INDEX PIU TO IEDSAO. RPRF MUST HAVE THE ADDRESS OF THE BUFFER */ 01597000
*   /* UNIT CONTAINING THE PIU AND PRFPRI MUST BE SET BY THE CALLER. */ 01598000
*   /*                                                               */ 01599000
*   /*****************************************************************/ 01600000
*                                                               02S1039 01601000
*IPBSSAO:                                                       02S1039 01602000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1039 01603000
IPBSSAO  ST    @14,@SA00010                                     02S1039 01604000
*   PRFQCBA=SAVTSAO;                /* SET IEDSAO QCB ADDRESS        */ 01605000
         L     @10,AVTSAVTP(,RAVT)                              02S1040 01606000
         MVC   PRFQCBA(3,RPRF),SAVTSAO+1(@10)                   02S1040 01607000
*   RPARM=RPRF;                     /* SET BUFFER AS ELEMENT         */ 01608000
         LR    RPARM,RPRF                                       02S1041 01609000
*   CALL DSPPOSTR;                  /* PUT BFR ON READY QUEUE        */ 01610000
         LA    @15,DSPPOSTR(,RDISP)                             02S1042 01611000
         BALR  @14,@15                                          02S1042 01612000
*   END IPBSSAO;                                                02S1043 01613000
@EL00010 DS    0H                                               02S1043 01614000
@EF00010 DS    0H                                               02S1043 01615000
@ER00010 L     @14,@SA00010                                     02S1043 01616000
         BR    @14                                              02S1043 01617000
*                                                               02S1044 01618000
*   /*****************************************************************/ 01619000
*   /*                                                               */ 01620000
*   /* IPBSSPEC: BISYNC/START STOP SPECIAL OUTPUT INTERNAL PROCEDURE */ 01621000
*   /* - THIS INTERNAL PROCEDURE BUILDS THE APPROPRIATE NULL COMMAND */ 01622000
*   /* PIU FOR SPECOUT PROCESSING. RPRF MUST HAVE THE ADDRESS OF THE */ 01623000
*   /* BUFFER UNIT IN WHICH THE PIU IS TO BE BUILT.                  */ 01624000
*   /*                                                               */ 01625000
*   /*****************************************************************/ 01626000
*                                                               02S1044 01627000
*IPBSSPEC:                                                      02S1044 01628000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1044 01629000
IPBSSPEC ST    @14,@SA00011                                     02S1044 01630000
*   RFY                                                         02S1045 01631000
*     IEDTH BASED(ADDR(PIU0TH));                                02S1045 01632000
*   RPARM=LCBTTCIN;                 /* PASS TNT INDEX DAF AS PARM    */ 01633000
         LH    RPARM,LCBTTCIN(,RLCB)                            02S1046 01634000
         N     RPARM,@CF02504                                   02S1046 01635000
*   CALL IPBSTHRH;                  /* BUILD FID0 TH/RH              */ 01636000
         BAL   @14,IPBSTHRH                                     02S1047 01637000
*   IEDBDU=''B;                     /* CLEAR BDU                     */ 01638000
         LA    @10,PRFPIUO(,RPRF)                               02S1048 01639000
         LA    @09,15                                           02S1048 01640000
         ALR   @09,@10                                          02S1048 01641000
         XC    IEDBDU(6,@09),IEDBDU(@09)                        02S1048 01642000
*   BDUXERLK=ON;                    /* RESET NCP ERROR LOCK          */ 01643000
         OI    BDUXERLK(@09),B'10000000'                        02S1049 01644000
*   BDUFRSTB=ON;                    /* INDICATE FIRST BLOCK  @OY16373*/ 01645000
         OI    BDUFRSTB(@09),B'00010000'                        02S1050 01646000
*   TRMERLCK=OFF;                   /* RESET TCAM ERROR LOCK         */ 01647000
         NI    TRMERLCK(RTRM),B'11111011'                       02S1051 01648000
*   TRMNLOUT=ON;                    /* INDICATE NULL OUTPUT          */ 01649000
         OI    TRMNLOUT(RTRM),B'00000100'                       02S1052 01650000
*   IF TRMSESSN=ON THEN             /* IF IN NCP SESSION THEN        */ 01651000
         TM    TRMSESSN(RTRM),B'01000000'                       02S1053 01652000
         BNO   @RF01053                                         02S1053 01653000
*     DO;                                                       02S1054 01654000
*       BDUCMND=CD0WRT;             /* SET WRITE COMMAND             */ 01655000
         MVI   BDUCMND(@09),X'02'                               02S1055 01656000
*       BDUMODIF=CD0W;              /* SET NORMAL (BLOCK) MODIFIER   */ 01657000
         MVI   BDUMODIF(@09),X'00'                              02S1056 01658000
*       RPARM=AVTCSTCS+(AVTDCTLN*(TRMCHCIN-1));/* GET DCT BASE       */ 01659000
         SLR   RPARM,RPARM                                      02S1057 01660000
         IC    RPARM,TRMCHCIN(,RTRM)                            02S1057 01661000
         BCTR  RPARM,0                                          02S1057 01662000
         MH    RPARM,AVTDCTLN(,RAVT)                            02S1057 01663000
         AL    RPARM,AVTCSTCS(,RAVT)                            02S1057 01664000
*       IF DCT3270=ON THEN          /* IF 3270 THEN                  */ 01665000
         TM    DCT3270(RPARM),B'00000100'                       02S1058 01666000
         BNO   @RF01058                                         02S1058 01667000
*         DO;                                                   02S1059 01668000
*           TEXT(1:2)=NULLTEXT;     /* SEND NULL 3270 COMMAND        */ 01669000
         MVC   TEXT+21(2,@10),@CB02362                          02S1060 01670000
*           TTHDCF=TTHDCF+LENGTH(NULLTEXT)/8;/* UPDATE DATA COUNT    */ 01671000
         AL    @10,@CF00059                                     02S1061 01672000
         LA    @09,2                                            02S1061 01673000
         SLR   @07,@07                                          02S1061 01674000
         ICM   @07,3,TTHDCF(@10)                                02S1061 01675000
         ALR   @09,@07                                          02S1061 01676000
         STCM  @09,3,TTHDCF(@10)                                02S1061 01677000
*         END;                                                  02S1062 01678000
*     END;                                                      02S1063 01679000
*   ELSE                            /* TRM IS NOT IN NCP SESSION     */ 01680000
*     DO;                                                       02S1064 01681000
         B     @RC01053                                         02S1064 01682000
@RF01053 DS    0H                                               02S1065 01683000
*       BDUCMND=CD0CONT;            /* SET CONTACT COMMAND           */ 01684000
         LA    @10,PRFPIUO(,RPRF)                               02S1065 01685000
         AL    @10,@CF00095                                     02S1065 01686000
         MVI   BDUCMND(@10),X'06'                               02S1065 01687000
*       BDUMODIF=CD0C;              /* SET NORMAL MODIFIER           */ 01688000
         MVI   BDUMODIF(@10),X'00'                              02S1066 01689000
*     END;                                                      02S1067 01690000
*   PRFPRI=PRIOUTBD;                /* SET NORMAL OUTBOUND PRIORITY  */ 01691000
@RC01053 MVI   PRFPRI(RPRF),X'E4'                               02S1068 01692000
*   CALL IPBSSAO;                   /* TPOST PIU TO IEDSAO           */ 01693000
         BAL   @14,IPBSSAO                                      02S1069 01694000
*   RFY                                                         02S1070 01695000
*     IEDTH BASED;                                              02S1070 01696000
*   END IPBSSPEC;                                               02S1071 01697000
@EL00011 DS    0H                                               02S1071 01698000
@EF00011 DS    0H                                               02S1071 01699000
@ER00011 L     @14,@SA00011                                     02S1071 01700000
         BR    @14                                              02S1071 01701000
*                                                               02S1072 01702000
*   /*****************************************************************/ 01703000
*   /*                                                               */ 01704000
*   /* IPBSSTCN: BISYNC/START STOP STOP AND CONTINUE PROCESSING      */ 01705000
*   /* INTERNAL PROCEDURE - THIS INTERNAL PROCEDURE DISTINGUISHES    */ 01706000
*   /* BETWEEN STOP AND CONTINUE PROCESSING AND CALLS THE ABORT AND  */ 01707000
*   /* READ CONTINUE INTERNAL PROCEDURES RESPECTIVELY. LCBERBCH MUST */ 01708000
*   /* CONTAIN THE ADDRESS OF AN EMPTY BUFFER UNIT IN WHICH TO BUILD */ 01709000
*   /* EITHER A READ CONTINUE OR AN ABORT PIU.                       */ 01710000
*   /*                                                               */ 01711000
*   /*****************************************************************/ 01712000
*                                                               02S1072 01713000
*IPBSSTCN:                                                      02S1072 01714000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1072 01715000
IPBSSTCN ST    @14,@SA00012                                     02S1072 01716000
*   RPRF=LCBERBCH;                  /* GET EMPTY BFR UNIT            */ 01717000
         L     RPRF,LCBERBCH-1(,RLCB)                           02S1073 01718000
         LA    RPRF,0(,RPRF)                                    02S1073 01719000
*   LCBERBCH=PRFLINK;               /* DELINK IT                     */ 01720000
         MVC   LCBERBCH(3,RLCB),PRFLINK(RPRF)                   02S1074 01721000
*   IF LCBABRTN=ON&LCBEOT=OFF THEN  /* IF STOP=YES THEN              */ 01722000
         TM    LCBABRTN(RLCB),B'00000001'                       02S1075 01723000
         BNO   @RF01075                                         02S1075 01724000
         TM    LCBEOT(RLCB),B'00000010'                         02S1075 01725000
         BNZ   @RF01075                                         02S1075 01726000
*     CALL IPBSABRT;                /* ISSUE ABORT                   */ 01727000
         BAL   @14,IPBSABRT                                     02S1076 01728000
*   ELSE                            /* IT IS A READ CONTINUE         */ 01729000
*     DO;                                                       02S1077 01730000
         B     @RC01075                                         02S1077 01731000
@RF01075 DS    0H                                               02S1078 01732000
*       CALL IPBSRDCN;              /* ISSUE READ CONTINUE           */ 01733000
         BAL   @14,IPBSRDCN                                     02S1078 01734000
*       IF LCBBFRSV^=CHAINEND THEN  /* IF READ CONTINUE REQUEST CAME    01735000
*                                      FROM IEDQBT THEN              */ 01736000
         L     @10,LCBBFRSV-1(,RLCB)                            02S1079 01737000
         LA    @10,0(,@10)                                      02S1079 01738000
         LTR   @10,@10                                          02S1079 01739000
         BZ    @RF01079                                         02S1079 01740000
*         DO;                                                   02S1080 01741000
*           RPARM=LCBBFRSV;         /* GET SAVED INPUT BFR           */ 01742000
         LR    RPARM,@10                                        02S1081 01743000
*           LCBBFRSV=RPARM->PRFLINK;/* DELINK IT                     */ 01744000
         MVC   LCBBFRSV(3,RLCB),PRFLINK(RPARM)                  02S1082 01745000
*           RPARM->PRFQCBA=LCBMHA;  /* SET MH QCB ADDR       @YM06085*/ 01746000
         MVC   PRFQCBA(3,RPARM),LCBMHA(RLCB)                    02S1083 01747000
*           RPARM->PRFPRI=PRIMHBFR; /* SET MH PRIORITY               */ 01748000
         MVI   PRFPRI(RPARM),X'E4'                              02S1084 01749000
*           CALL DSPPOSTR;          /* TPOST INPUT BFR TO INPUT MH   */ 01750000
         LA    @15,DSPPOSTR(,RDISP)                             02S1085 01751000
         BALR  @14,@15                                          02S1085 01752000
*         END;                                                  02S1086 01753000
*     END;                                                      02S1087 01754000
*   END IPBSSTCN;                                               02S1088 01755000
@EL00012 DS    0H                                               02S1088 01756000
@EF00012 DS    0H                                               02S1088 01757000
@ER00012 L     @14,@SA00012                                     02S1088 01758000
         BR    @14                                              02S1088 01759000
*                                                               02S1089 01760000
*   /*****************************************************************/ 01761000
*   /*                                                               */ 01762000
*   /* IPBSTHRH: BISYNC/START STOP FID0 TH/RH INITIALIZATION INTERNAL*/ 01763000
*   /* PROCEDURE - THIS INTERNAL PROCEDURE PROCESSES THE COMMON      */ 01764000
*   /* INITIALIZATION FOR FID0 TH/RH'S. IT INITIALIZES THE TTHTAG    */ 01765000
*   /* FIELD TO TTHTAG0 AND THE TTHDCF FIELD TO THE LENGTH OF THE    */ 01766000
*   /* RH+THE PIU PAD+THE BDU. CALLING PROCEDURES THAT REQUIRE THESE */ 01767000
*   /* TWO FIELDS TO BE INITIALIZED OTHERWISE MUST MODIFY THEM AFTER */ 01768000
*   /* RETURN FROM THIS INTERNAL PROCEDURE. INPUTS REQUIRED:         */ 01769000
*   /* RPARM=THE TNT INDEX DAF TO BE PLACED IN TTHDAF, RPRF=ADDRESS  */ 01770000
*   /* OF THE BUFFER UNIT IN WHICH THE TH/RH IS TO BE BUILT.         */ 01771000
*   /*                                                               */ 01772000
*   /*****************************************************************/ 01773000
*                                                               02S1089 01774000
*IPBSTHRH:                                                      02S1089 01775000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1089 01776000
IPBSTHRH ST    @14,12(,@13)                                     02S1089 01777000
*   RFY                                                         02S1090 01778000
*     IEDRH BASED(ADDR(PIU0RH));    /* ADDRESSABILITY FOR FID0 RH    */ 01779000
*   RFY                                                         02S1091 01780000
*     IEDTH BASED(ADDR(PIU0TH));    /* ADDRESSABILITY FOR FID0 TH    */ 01781000
*   IEDPF2=''B;                     /* CLEAR THE NEGATIVE PREFIX     */ 01782000
         LR    @10,RPRF                                         02S1092 01783000
         SL    @10,@CF00044                                     02S1092 01784000
         XC    IEDPF2(8,@10),IEDPF2(@10)                        02S1092 01785000
*   PRF2TNTI=ON;                    /* INDICATE TNT INDEX PIU        */ 01786000
         OI    PRF2TNTI(@10),B'10000000'                        02S1093 01787000
*   PRFPIUO=PIUO;                   /* SET PIU OFFSET                */ 01788000
         MVI   PRFPIUO(RPRF),X'01'                              02S1094 01789000
*   TTHBYTE0=TTH0BYT0;              /* SET FID0 CONSTANT FOR BYTE0   */ 01790000
         LA    @10,PRFPIUO(,RPRF)                               02S1095 01791000
         LA    @09,1                                            02S1095 01792000
         ALR   @09,@10                                          02S1095 01793000
         MVI   TTHBYTE0(@09),X'0C'                              02S1095 01794000
*   TTHBYTE1=TTH0BYT1;              /* SET FID0 CONSTANT FOR BYTE1   */ 01795000
         MVI   TTHBYTE1(@09),X'00'                              02S1096 01796000
*   TTHDAF=RPARM;                   /* SET DAF                       */ 01797000
         STCM  RPARM,3,TTHDAF(@09)                              02S1097 01798000
*   TTHOAF=SAVTTCPU;                /* SET OAF TO TCAM PU            */ 01799000
         L     @07,AVTSAVTP(,RAVT)                              02S1098 01800000
         MVC   TTHOAF(2,@09),SAVTTCPU(@07)                      02S1098 01801000
*   TTHTAG=TTHTAG0;                 /* SET ZERO ID TAG               */ 01802000
         SLR   @07,@07                                          02S1099 01803000
         STCM  @07,3,TTHTAG(@09)                                02S1099 01804000
*   TTHDCF=LENGTH(PIU0RH)+LENGTH(PIU0PAD)+LENGTH(IEDBDU);/* SET DATA    01805000
*                                      COUNT FIELD                   */ 01806000
         MVC   TTHDCF(2,@09),@CH01430                           02S1100 01807000
*   IEDRH=TRHFID0;                  /* SET FID0 CONSTANT FOR RH      */ 01808000
         MVC   IEDRH+11(3,@10),@CB02131                         02S1101 01809000
*   PIU0PAD=PIU0PAD0;               /* SET CONSTANT PAD VALUE        */ 01810000
         MVI   PIU0PAD(@09),X'00'                               02S1102 01811000
*   RFY                                                         02S1103 01812000
*     IEDRH BASED;                  /* DROP FID0 RH ADDRESSABILITY   */ 01813000
*   RFY                                                         02S1104 01814000
*     IEDTH BASED;                  /* DROP FID0 TH ADDRESSABILITY   */ 01815000
*   END IPBSTHRH;                                               02S1105 01816000
@EL00013 DS    0H                                               02S1105 01817000
@EF00013 DS    0H                                               02S1105 01818000
@ER00013 L     @14,12(,@13)                                     02S1105 01819000
         BR    @14                                              02S1105 01820000
*                                                               02S1106 01821000
*   /*****************************************************************/ 01822000
*   /*                                                               */ 01823000
*   /* IPERRBFR: OUTPUT ERROR BUFFER INTERNAL PROCEDURE - THIS       */ 01824000
*   /* INTERNAL PROCEDURE BUILDS AND TPOSTS AN ERROR BUFFER TO THE   */ 01825000
*   /* OUTPUT MH. LCBBFRSV MUST CONTAIN THE ADDRESS OF THE FIRST     */ 01826000
*   /* OUTPUT BUFFER ON THE SAVE CHAIN.                              */ 01827000
*   /*                                                               */ 01828000
*   /*****************************************************************/ 01829000
*                                                               02S1106 01830000
*IPERRBFR:                                                      02S1106 01831000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1106 01832000
IPERRBFR ST    @14,@SA00014                                     02S1106 01833000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR IN SAVE CHAIN   */ 01834000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S1107 01835000
         LA    RPRF,0(,RPRF)                                    02S1107 01836000
*   LCBBFRSV=PRFLINK;               /* DELINK IT                     */ 01837000
         MVC   LCBBFRSV(3,RLCB),PRFLINK(RPRF)                   02S1108 01838000
*   IEDPF1=''B;                     /* CLEAR NEGATIVE PREFIX         */ 01839000
         LR    @10,RPRF                                         02S1109 01840000
         AL    @10,@CF02511                                     02S1109 01841000
         XC    IEDPF1(8,@10),IEDPF1(@10)                        02S1109 01842000
*   PRFNLSTN=OFF;                   /* MARK BFR LAST                 */ 01843000
         NI    PRFNLSTN(RPRF),B'11111101'                       02S1110 01844000
*   PRFSIZE=0;                      /* SET ZERO SIZE                 */ 01845000
         SLR   @10,@10                                          02S1111 01846000
         STH   @10,PRFSIZE(,RPRF)                               02S1111 01847000
*   PRFQCBA=LCBMHA;                 /* SET MH QCB ADDR       @YM06085*/ 01848000
         MVC   PRFQCBA(3,RPRF),LCBMHA(RLCB)                     02S1112 01849000
*   PRFPRI=PRIERBFR;                /* SET ERROR BFR PRIORITY        */ 01850000
         MVI   PRFPRI(RPRF),X'E3'                               02S1113 01851000
*   RPARM=RPRF;                     /* SET BFR AS ELEMENT            */ 01852000
         LR    RPARM,RPRF                                       02S1114 01853000
*   CALL DSPPOSTR;                  /* TPOST BFR TO OUTPUT MH        */ 01854000
         LA    @15,DSPPOSTR(,RDISP)                             02S1115 01855000
         BALR  @14,@15                                          02S1115 01856000
*   END IPERRBFR;                                               02S1116 01857000
@EL00014 DS    0H                                               02S1116 01858000
@EF00014 DS    0H                                               02S1116 01859000
@ER00014 L     @14,@SA00014                                     02S1116 01860000
         BR    @14                                              02S1116 01861000
*                                                               02S1117 01862000
*   /*****************************************************************/ 01863000
*   /*                                                               */ 01864000
*   /* IPFREBFR: FREE BUFFER INTERNAL PROCEDURE - THIS INTERNAL      */ 01865000
*   /* PROCEDURE FREES ALL OF THE BUFFERS THAT ARE CHAINED ON THE    */ 01866000
*   /* BUFFER SAVE CHAIN. LCBBFRSV MUST CONTAIN THE ADDRESS OF THE   */ 01867000
*   /* FIRST BUFFER IN THE CHAIN.                                    */ 01868000
*   /*                                                               */ 01869000
*   /*****************************************************************/ 01870000
*                                                               02S1117 01871000
*IPFREBFR:                                                      02S1117 01872000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1117 01873000
IPFREBFR ST    @14,@SA00015                                     02S1117 01874000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR IN SAVE CHAIN   */ 01875000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S1118 01876000
         LA    RPRF,0(,RPRF)                                    02S1118 01877000
*   DO UNTIL RPRF=CHAINEND;         /* FREE ALL BUFFERS ON LCBBFRSV  */ 01878000
@DL01119 DS    0H                                               02S1120 01879000
*     PRFQCBA=ADDR(AVTBFRTB);       /* SET BFR RETURN QCB ADDRESS    */ 01880000
         LA    @10,AVTBFRTB(,RAVT)                              02S1120 01881000
         STCM  @10,7,PRFQCBA(RPRF)                              02S1120 01882000
*     PRFPRI=PRIBFRTB;              /* SET BFR RETURN PRIORITY       */ 01883000
         MVI   PRFPRI(RPRF),X'E0'                               02S1121 01884000
*     RPARM=RPRF;                   /* SET BFR AS ELEMENT            */ 01885000
         LR    RPARM,RPRF                                       02S1122 01886000
*     RPRF=PRFLINK;                 /* GET NEXT BFR                  */ 01887000
         L     @10,PRFLINK-1(,RPRF)                             02S1123 01888000
         LA    @10,0(,@10)                                      02S1123 01889000
         LR    RPRF,@10                                         02S1123 01890000
*     CALL DSPPOSTR;                /* TPOST BFR TO BFR RETURN       */ 01891000
         LA    @15,DSPPOSTR(,RDISP)                             02S1124 01892000
         BALR  @14,@15                                          02S1124 01893000
*   END;                                                        02S1125 01894000
@DE01119 SLR   @10,@10                                          02S1125 01895000
         CR    RPRF,@10                                         02S1125 01896000
         BNE   @DL01119                                         02S1125 01897000
*   LCBBFRSV=CHAINEND;              /* CLEAR SAVE CHAIN POINTER      */ 01898000
         STCM  @10,7,LCBBFRSV(RLCB)                             02S1126 01899000
*   END IPFREBFR;                                               02S1127 01900000
@EL00015 DS    0H                                               02S1127 01901000
@EF00015 DS    0H                                               02S1127 01902000
@ER00015 L     @14,@SA00015                                     02S1127 01903000
         BR    @14                                              02S1127 01904000
*                                                               02S1128 01905000
*   /*****************************************************************/ 01906000
*   /*                                                               */ 01907000
*   /* IPFRPLCB: FREE PLCB INTERNAL PROCEDURE - THIS INTERNAL        */ 01908000
*   /* PROCEDURE WILL FREE THE PLCB IF CONDITIONS ALLOW. IF THE SEND */ 01909000
*   /* SCHEDULER IS STILL IN THE PLCB AT THE TIME THE PLCB IS TO BE  */ 01910000
*   /* FREED, THEN IT IS MOVED TO THE DESTINATION QCB AND QCBSNDRQ IS*/ 01911000
*   /* SET TO INSURE THAT IT IS REINSERTED WHEN A PLCB IS REASSIGNED.*/ 01912000
*   /*                                                               */ 01913000
*   /*****************************************************************/ 01914000
*                                                               02S1128 01915000
*IPFRPLCB:                                                      02S1128 01916000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1128 01917000
IPFRPLCB ST    @14,@SA00016                                     02S1128 01918000
*   RFY                                                         02S1129 01919000
*    (RTOQCB,                                                   02S1129 01920000
*     RFROMQCB) RSTD;                                           02S1129 01921000
*                                   /* IF NOT IN LMD MIDDLE OF  02S1130 01922000
*                                      MESSAGE AND NOT IN EXTENDED      01923000
*                                      LOCK MODE THEN THE PLCB CAN BE   01924000
*                                      FREED                         */ 01925000
*   IF SCBBFMM=OFF&(SCBLCK1N=OFF|SCBMSGLN=ON) THEN              02S1130 01926000
         L     @10,LCBSCBA-1(,RLCB)                             02S1130 01927000
         LA    @10,0(,@10)                                      02S1130 01928000
         TM    SCBBFMM(@10),B'00000001'                         02S1130 01929000
         BNZ   @RF01130                                         02S1130 01930000
         TM    SCBMSGLN(@10),B'00001000'                        02S1130 01931000
         BNZ   @RT01130                                         02S1130 01932000
         TM    SCBLCK1N(@10),B'00100000'                        02S1130 01933000
         BO    @RF01130                                         02S1130 01934000
@RT01130 DS    0H                                               02S1131 01935000
*     DO;                                                       02S1131 01936000
*       IF LCBSTCBA->STCBVTO=DSPSEND THEN/* IF THE SEND SCHEDULER IS    01937000
*                                      STILL IN THE PLCB THEN REMOVE    01938000
*                                      IT                            */ 01939000
         L     @10,LCBSTCBA-1(,RLCB)                            02S1132 01940000
         CLI   STCBVTO(@10),X'22'                               02S1132 01941000
         BNE   @RF01132                                         02S1132 01942000
*         DO;                                                   02S1133 01943000
*           QCBSNDRQ=ON;            /* REQUEST SEND SCHEDULER NEXT      01944000
*                                      TIME PLCB ASSIGNED            */ 01945000
         SLR   @10,@10                                          02S1134 01946000
         ICM   @10,7,TRMDESTQ(RTRM)                             02S1134 01947000
         LR    @09,@10                                          02S1134 01948000
         AL    @09,@CF02512                                     02S1134 01949000
         OI    QCBSNDRQ-4(@09),B'00100000'                      02S1134 01950000
*           RTOQCB=TRMDESTQ;        /* SET DEST. QCB AS TO QCB       */ 01951000
         LR    RTOQCB,@10                                       02S1135 01952000
*           RFROMQCB=RLCB;          /* SET PLCB AS FROM QCB          */ 01953000
         LR    RFROMQCB,RLCB                                    02S1136 01954000
*           CALL DSPUNAVR;          /* MOVE SEND SCHED. TO DEST. QCB */ 01955000
         LA    @15,DSPUNAVR(,RDISP)                             02S1137 01956000
         BALR  @14,@15                                          02S1137 01957000
*         END;                                                  02S1138 01958000
*       RPARM=RLCB;                 /* SET PLCB AS PARM TO FREE      */ 01959000
@RF01132 LR    RPARM,RLCB                                       02S1139 01960000
*       CALL IEDIAP07;              /* FREE THE PLCB                 */ 01961000
         L     @10,AVTSAVTP(,RAVT)                              02S1140 01962000
         L     @15,SAVTPRTN(,@10)                               02S1140 01963000
         BALR  @14,@15                                          02S1140 01964000
*     END;                                                      02S1141 01965000
*   RFY                                                         02S1142 01966000
*    (RTOQCB,                                                   02S1142 01967000
*     RFROMQCB) UNRSTD;                                         02S1142 01968000
*   END IPFRPLCB;                                               02S1143 01969000
@EL00016 DS    0H                                               02S1143 01970000
@EF00016 DS    0H                                               02S1143 01971000
@ER00016 L     @14,@SA00016                                     02S1143 01972000
         BR    @14                                              02S1143 01973000
*                                                               02S1144 01974000
*   /*****************************************************************/ 01975000
*   /*                                                               */ 01976000
*   /* IPMHBFR: TPOST BUFFERS TO OUTPUT MH INTERNAL PROCEDURE - THIS */ 01977000
*   /* INTERNAL PROCEDURE TPOSTS THE BUFFERS SAVED ON THE BUFFER SAVE*/ 01978000
*   /* CHAIN TO THE OUTPUT MH. INPUTS REQUIRED: LCBBFRSV=ADDRESS OF  */ 01979000
*   /* THE FIRST BUFFER IN THE CHAIN.                                */ 01980000
*   /*                                                               */ 01981000
*   /*****************************************************************/ 01982000
*                                                               02S1144 01983000
*IPMHBFR:                                                       02S1144 01984000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1144 01985000
IPMHBFR  ST    @14,@SA00017                                     02S1144 01986000
*   RPRF=LCBBFRSV;                  /* GET FIRST BFR IN SAVE CHAIN   */ 01987000
         L     RPRF,LCBBFRSV-1(,RLCB)                           02S1145 01988000
         LA    RPRF,0(,RPRF)                                    02S1145 01989000
*   DO UNTIL RPRF=CHAINEND;         /* POST BFRS TO OUTPUT MH        */ 01990000
@DL01146 DS    0H                                               02S1147 01991000
*     PRFQCBA=LCBMHA;               /* SET MH QCB ADDRESS    @YM06085*/ 01992000
         MVC   PRFQCBA(3,RPRF),LCBMHA(RLCB)                     02S1147 01993000
*     PRFPRI=PRIMHBFR;              /* SET MH PRIORITY               */ 01994000
         MVI   PRFPRI(RPRF),X'E4'                               02S1148 01995000
*     RPARM=RPRF;                   /* SET BFR AS ELEMENT            */ 01996000
         LR    RPARM,RPRF                                       02S1149 01997000
*     RPRF=PRFLINK;                 /* GET NEXT BFR IN THE SAVE CHAIN*/ 01998000
         L     @10,PRFLINK-1(,RPRF)                             02S1150 01999000
         LA    @10,0(,@10)                                      02S1150 02000000
         LR    RPRF,@10                                         02S1150 02001000
*     CALL DSPPOSTR;                /* PUT BFR ON READY QUEUE        */ 02002000
         LA    @15,DSPPOSTR(,RDISP)                             02S1151 02003000
         BALR  @14,@15                                          02S1151 02004000
*   END;                                                        02S1152 02005000
@DE01146 SLR   @10,@10                                          02S1152 02006000
         CR    RPRF,@10                                         02S1152 02007000
         BNE   @DL01146                                         02S1152 02008000
*   LCBBFRSV=CHAINEND;              /* CLEAR BFR SAVE CHAIN          */ 02009000
         STCM  @10,7,LCBBFRSV(RLCB)                             02S1153 02010000
*   END IPMHBFR;                                                02S1154 02011000
@EL00017 DS    0H                                               02S1154 02012000
@EF00017 DS    0H                                               02S1154 02013000
@ER00017 L     @14,@SA00017                                     02S1154 02014000
         BR    @14                                              02S1154 02015000
*                                                               02S1155 02016000
*   /*****************************************************************/ 02017000
*   /*                                                               */ 02018000
*   /* IPPURGEX: PURGE EXIT INTERNAL PROCEDURE - THIS INTERNAL       */ 02019000
*   /* PROCEDURE GIVES CONTROL TO THE USER'S PURGE EXIT, IF          */ 02020000
*   /* SPECIFIED, AND SETS THE APPROPRIATE ERROR BITS WHEN A MESSAGE */ 02021000
*   /* IS PURGED.                                                    */ 02022000
*   /*                                                               */ 02023000
*   /*****************************************************************/ 02024000
*                                                               02S1155 02025000
*IPPURGEX:                                                      02S1155 02026000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1155 02027000
IPPURGEX ST    @14,@SA00018                                     02S1155 02028000
*   RFY                                                         02S1156 02029000
*     RRETCODE RSTD;                                            02S1156 02030000
*   IF RDYPURGA^=0 THEN             /* IF PURGE EXIT WAS SPECIFIED   */ 02031000
         L     @14,AVTRDYA(,RAVT)                               02S1157 02032000
         L     @14,RDYPURGA(,@14)                               02S1157 02033000
         LTR   @14,@14                                          02S1157 02034000
         BZ    @RF01157                                         02S1157 02035000
*     DO;                                                       02S1158 02036000
*       RPARM=RTRM+LENGTH(IEDNTRM); /* PASS TRM ADDR TO EXIT         */ 02037000
         LA    RPARM,14                                         02S1159 02038000
         ALR   RPARM,RTRM                                       02S1159 02039000
*       STM(RMH,RBASE,PURGSAVE);    /* SAVE TCAM REGS                */ 02040000
         STM   RMH,RBASE,PURGSAVE(RAVT)                         02S1160 02041000
*       CALL PURGEXIT;              /* GIVE CONTROL TO PURGE EXIT    */ 02042000
         LR    @15,@14                                          02S1161 02043000
         BALR  @14,@15                                          02S1161 02044000
*       LM(RMH,RBASE,PURGSAVE);     /* RESTORE TCAM REGS             */ 02045000
         LM    RMH,RBASE,PURGSAVE(RAVT)                         02S1162 02046000
*       IF RRETCODE=4 THEN          /* IF MSG IS TO BE PURGED THEN   */ 02047000
         CL    RRETCODE,@CF00330                                02S1163 02048000
         BNE   @RF01163                                         02S1163 02049000
*         DO;                                                   02S1164 02050000
*           SCBSLCTN=ON;            /* SET SELECTION ERROR           */ 02051000
*           SCBTRMLN=ON;            /* SET TERMINAL ERROR            */ 02052000
         L     @14,LCBSCBA-1(,RLCB)                             02S1166 02053000
         OI    SCBSLCTN(@14),B'10010000'                        02S1166 02054000
*         END;                                                  02S1167 02055000
*     END;                                                      02S1168 02056000
*   RFY                                                         02S1169 02057000
*     RRETCODE UNRSTD;                                          02S1169 02058000
*   END IPPURGEX;                                               02S1170 02059000
@EL00018 DS    0H                                               02S1170 02060000
@EF00018 DS    0H                                               02S1170 02061000
@ER00018 L     @14,@SA00018                                     02S1170 02062000
         BR    @14                                              02S1170 02063000
*                                                               02S1171 02064000
*   /*****************************************************************/ 02065000
*   /*                                                               */ 02066000
*   /* IPREQBFR: REQUEST BUFFER INTERNAL PROCEDURE - THIS INTERNAL   */ 02067000
*   /* PROCEDURE SETS UP THE ERB AND TPOSTS IT TO IEDQGA TO REQUEST  */ 02068000
*   /* BUFFERS. INPUTS REQUIRED: RBFRNUM=NUMBER OF BUFFERS TO        */ 02069000
*   /* REQUEST, RUNITNUM=NUMBER OF UNITS PER BUFFER.                 */ 02070000
*   /*                                                               */ 02071000
*   /*****************************************************************/ 02072000
*                                                               02S1171 02073000
*IPREQBFR:                                                      02S1171 02074000
*   PROC OPTIONS(RETREG,SAVE(14));                              02S1171 02075000
IPREQBFR ST    @14,@SA00019                                     02S1171 02076000
*   RFY                                                         02S1172 02077000
*    (RUNITNUM,                                                 02S1172 02078000
*     RBFRNUM) RSTD;                                            02S1172 02079000
*   LCBRBCT1=RBFRNUM;               /* SET NUMBER OF BUFFERS         */ 02080000
         STC   RBFRNUM,LCBRBCT1(,RLCB)                          02S1173 02081000
*   LCBRBCT2=RUNITNUM;              /* SET NUMBER OF UNITS PER BUFFER*/ 02082000
         STC   RUNITNUM,LCBRBCT2(,RLCB)                         02S1174 02083000
*   LCBRCQCB=SAVTCNIR;              /* SET RETURN TO THIS MODULE     */ 02084000
         L     @10,AVTSAVTP(,RAVT)                              02S1175 02085000
         L     @10,SAVTCNIR(,@10)                               02S1175 02086000
         ST    @10,LCBRCQCB(,RLCB)                              02S1175 02087000
*   LCBPRCPG=ON;                    /* INDICATE RETURN ERB           */ 02088000
         OI    LCBPRCPG(RLCB),B'00000010'                       02S1176 02089000
*   LCBERBQB=ADDR(AVTBFREB);        /* SET BFR REQUEST QCB ADDR      */ 02090000
         LA    @10,AVTBFREB(,RAVT)                              02S1177 02091000
         STCM  @10,7,LCBERBQB(RLCB)                             02S1177 02092000
*   LCBERBPY=PRIINTRQ;              /* SET INITIAL REQUEST PRIORITY  */ 02093000
         MVI   LCBERBPY(RLCB),X'E4'                             02S1178 02094000
*   RPARM=ADDR(LCBERB);             /* SET ERB AS ELEMENT            */ 02095000
         LA    RPARM,LCBERB(,RLCB)                              02S1179 02096000
*   CALL DSPPOSTR;                  /* TPOST ERB TO IEDQGA           */ 02097000
         LA    @15,DSPPOSTR(,RDISP)                             02S1180 02098000
         BALR  @14,@15                                          02S1180 02099000
*   RFY                                                         02S1181 02100000
*    (RUNITNUM,                                                 02S1181 02101000
*     RBFRNUM) UNRSTD;                                          02S1181 02102000
*   END IPREQBFR;                                               02S1182 02103000
@EL00019 DS    0H                                               02S1182 02104000
@EF00019 DS    0H                                               02S1182 02105000
@ER00019 L     @14,@SA00019                                     02S1182 02106000
         BR    @14                                              02S1182 02107000
*   END IEDNKA                                                  01S1183 02108000
*                                                               01S1183 02109000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 02110000
*/*%INCLUDE SYSLIB  (TAVTD   )                                       */ 02111000
*/*%INCLUDE SYSLIB  (TBDUD   )                                       */ 02112000
*/*%INCLUDE SYSLIB  (TCD0D   )                                       */ 02113000
*/*%INCLUDE SYSLIB  (TCD1D   )                                       */ 02114000
*/*%INCLUDE SYSLIB  (TDCTD   )                                       */ 02115000
*/*%INCLUDE SYSLIB  (TDISPD  )                                       */ 02116000
*/*%INCLUDE SYSLIB  (TLCBD   )                                       */ 02117000
*/*%INCLUDE SYSLIB  (TLGBD   )                                       */ 02118000
*/*%INCLUDE SYSLIB  (TMODD   )                                       */ 02119000
*/*%INCLUDE SYSLIB  (TPIUD   )                                       */ 02120000
*/*%INCLUDE SYSLIB  (TPIU0D  )                                       */ 02121000
*/*%INCLUDE SYSLIB  (TPRFD   )                                       */ 02122000
*/*%INCLUDE SYSLIB  (TPRIOR  )                                       */ 02123000
*/*%INCLUDE SYSLIB  (TQCBD   )                                       */ 02124000
*/*%INCLUDE SYSLIB  (TRDYD   )                                       */ 02125000
*/*%INCLUDE SYSLIB  (TSCBD   )                                       */ 02126000
*/*%INCLUDE SYSLIB  (TSIBD   )                                       */ 02127000
*/*%INCLUDE SYSLIB  (TSNSD   )                                       */ 02128000
*/*%INCLUDE SYSLIB  (TSTCBD  )                                       */ 02129000
*/*%INCLUDE SYSLIB  (TSTMHD  )                                       */ 02130000
*/*%INCLUDE SYSLIB  (TRHD    )                                       */ 02131000
*/*%INCLUDE SYSLIB  (TTRMD   )                                       */ 02132000
*/*%INCLUDE SYSLIB  (TTHD    )                                       */ 02133000
*/*%INCLUDE SYSUT5  (RFY     )                                       */ 02134000
*/*%INCLUDE SYSUT5  (DCL     )                                       */ 02135000
*/*%INCLUDE SYSUT5  (PROLOGUE)                                       */ 02136000
*/*%INCLUDE SYSUT5  (PROCESS )                                       */ 02137000
*/*%INCLUDE SYSUT5  (BUFFER  )                                       */ 02138000
*/*%INCLUDE SYSUT5  (SNARESP )                                       */ 02139000
*/*%INCLUDE SYSUT5  (BSRESET )                                       */ 02140000
*/*%INCLUDE SYSUT5  (BSSENDR )                                       */ 02141000
*/*%INCLUDE SYSUT5  (BSRECVCB)                                       */ 02142000
*/*%INCLUDE SYSUT5  (ERB     )                                       */ 02143000
*/*%INCLUDE SYSUT5  (SNASEND )                                       */ 02144000
*/*%INCLUDE SYSUT5  (BSSEND  )                                       */ 02145000
*/*%INCLUDE SYSUT5  (BSSENDD )                                       */ 02146000
*/*%INCLUDE SYSUT5  (BSSENDC )                                       */ 02147000
*/*%INCLUDE SYSUT5  (BSRECVCE)                                       */ 02148000
*/*%INCLUDE SYSUT5  (BSRECV  )                                       */ 02149000
*/*%INCLUDE SYSUT5  (BSRECVD )                                       */ 02150000
*/*%INCLUDE SYSUT5  (BSRECVCL)                                       */ 02151000
*/*%INCLUDE SYSUT5  (BSRECVGP)                                       */ 02152000
*/*%INCLUDE SYSUT5  (BSRECVL )                                       */ 02153000
*/*%INCLUDE SYSUT5  (IPBSABRT)                                       */ 02154000
*/*%INCLUDE SYSUT5  (IPBSCALL)                                       */ 02155000
*/*%INCLUDE SYSUT5  (IPBSDISC)                                       */ 02156000
*/*%INCLUDE SYSUT5  (IPBSMNTR)                                       */ 02157000
*/*%INCLUDE SYSUT5  (IPBSRDCN)                                       */ 02158000
*/*%INCLUDE SYSUT5  (IPBSRDIN)                                       */ 02159000
*/*%INCLUDE SYSUT5  (IPBSRESP)                                       */ 02160000
*/*%INCLUDE SYSUT5  (IPBSRMOD)                                       */ 02161000
*/*%INCLUDE SYSUT5  (IPBSSAO )                                       */ 02162000
*/*%INCLUDE SYSUT5  (IPBSSPEC)                                       */ 02163000
*/*%INCLUDE SYSUT5  (IPBSSTCN)                                       */ 02164000
*/*%INCLUDE SYSUT5  (IPBSTHRH)                                       */ 02165000
*/*%INCLUDE SYSUT5  (IPERRBFR)                                       */ 02166000
*/*%INCLUDE SYSUT5  (IPFREBFR)                                       */ 02167000
*/*%INCLUDE SYSUT5  (IPFRPLCB)                                       */ 02168000
*/*%INCLUDE SYSUT5  (IPMHBFR )                                       */ 02169000
*/*%INCLUDE SYSUT5  (IPPURGEX)                                       */ 02170000
*/*%INCLUDE SYSUT5  (IPREQBFR)                                       */ 02171000
*                                                               01S1183 02172000
*       ;                                                       01S1183 02173000
@DATA    DS    0H                                                       02174000
@CH01430 DC    H'10'                                                    02175000
@SX02496 XC    BUFTOCLR(0,@07),BUFTOCLR(@07)                            02176000
         DS    0F                                                       02177000
@SA00010 DS    1F                                                       02178000
@SA00014 DS    1F                                                       02179000
@SA00015 DS    1F                                                       02180000
@SA00017 DS    1F                                                       02181000
@SA00012 DS    1F                                                       02182000
@SA00019 DS    1F                                                       02183000
@SA00018 DS    1F                                                       02184000
@SA00003 DS    1F                                                       02185000
@SA00016 DS    1F                                                       02186000
@SA00011 DS    1F                                                       02187000
@SA00007 DS    1F                                                       02188000
@SA00008 DS    1F                                                       02189000
@SA00004 DS    1F                                                       02190000
@SA00005 DS    1F                                                       02191000
@SA00002 DS    1F                                                       02192000
@SA00006 DS    1F                                                       02193000
         DS    0F                                                       02194000
@CF00059 DC    F'1'                                                     02195000
@CF00330 DC    F'4'                                                     02196000
@CF00044 DC    F'8'                                                     02197000
@CF02135 DC    F'14'                                                    02198000
@CF00095 DC    F'15'                                                    02199000
@CF02485 DC    F'76'                                                    02200000
@CF02511 DC    F'-8'                                                    02201000
@CF02512 DC    F'-4'                                                    02202000
@CF02504 DC    XL4'0000FFFF'                                            02203000
         DS    0D                                                       02204000
BUFTCLEN DC    AL1(8+8+4+1+10+3+5)                                      02205000
@CB01537 DC    X'08000002'                                              02206000
@CB02131 DC    X'0B8000'                                                02207000
@CB02362 DC    X'27F1'                                                  02208000
RTRNREQD DS    CL5                                                      02209000
         ORG   RTRNREQD                                                 02210000
@NM00215 DC    X'08'                                                    02211000
@NM00216 DC    X'19'                                                    02212000
@NM00217 DC    AL2(0)                                                   02213000
@NM00218 DC    X'05'                                                    02214000
         ORG   RTRNREQD+5                                               02215000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02216000
@01      EQU   01                                                       02217000
@02      EQU   02                                                       02218000
@03      EQU   03                                                       02219000
@04      EQU   04                                                       02220000
@05      EQU   05                                                       02221000
@06      EQU   06                                                       02222000
@07      EQU   07                                                       02223000
@08      EQU   08                                                       02224000
@09      EQU   09                                                       02225000
@10      EQU   10                                                       02226000
@11      EQU   11                                                       02227000
@12      EQU   12                                                       02228000
@13      EQU   13                                                       02229000
@14      EQU   14                                                       02230000
@15      EQU   15                                                       02231000
SIBPTR   EQU   @02                                                      02232000
IEDQAPTR EQU   @13                                                      02233000
RDISP    EQU   @11                                                      02234000
IEDQLPTR EQU   @04                                                      02235000
LCBXPTR  EQU   @05                                                      02236000
IEDNLPTR EQU   @10                                                      02237000
RMOD     EQU   @15                                                      02238000
IEDQPPTR EQU   @06                                                      02239000
IEDQQPTR EQU   @07                                                      02240000
IEDQSPTR EQU   @03                                                      02241000
RTRM     EQU   @08                                                      02242000
RAVT     EQU   @13                                                      02243000
RPARM    EQU   @01                                                      02244000
RLCB     EQU   @04                                                      02245000
RPRF     EQU   @06                                                      02246000
RMH      EQU   @02                                                      02247000
RUNITNUM EQU   @00                                                      02248000
RMASK    EQU   @00                                                      02249000
RBFRNUM  EQU   @01                                                      02250000
RTOQCB   EQU   @03                                                      02251000
RFROMQCB EQU   @07                                                      02252000
RSTATE   EQU   @10                                                      02253000
RBASE    EQU   @12                                                      02254000
RRETCODE EQU   @15                                                      02255000
RRETADDR EQU   @14                                                      02256000
IEDQAVTD EQU   0                                                        02257000
AVTSAVE3 EQU   IEDQAVTD+72                                              02258000
AVTSAVEX EQU   IEDQAVTD+216                                             02259000
AVTCSTCS EQU   IEDQAVTD+256                                             02260000
@NM00003 EQU   IEDQAVTD+316                                             02261000
AVTCKFLG EQU   @NM00003                                                 02262000
AVTBASE  EQU   IEDQAVTD+340                                             02263000
AVTPKF   EQU   AVTBASE                                                  02264000
AVTRNMPT EQU   IEDQAVTD+352                                             02265000
AVTRDYA  EQU   IEDQAVTD+356                                             02266000
AVTOSECB EQU   IEDQAVTD+420                                             02267000
AVTECB1  EQU   AVTOSECB                                                 02268000
AVTHG02  EQU   IEDQAVTD+456                                             02269000
AVTDISP  EQU   IEDQAVTD+480                                             02270000
AVTHD    EQU   IEDQAVTD+484                                             02271000
AVTSCOPT EQU   AVTHD                                                    02272000
AVTSAVTP EQU   IEDQAVTD+540                                             02273000
AVTSAVTF EQU   AVTSAVTP                                                 02274000
AVTCKPEL EQU   IEDQAVTD+580                                             02275000
AVTCKRMV EQU   AVTCKPEL                                                 02276000
AVTCKELF EQU   IEDQAVTD+608                                             02277000
AVTCKBYT EQU   IEDQAVTD+619                                             02278000
AVTHG01  EQU   IEDQAVTD+620                                             02279000
AVTCKLNK EQU   IEDQAVTD+624                                             02280000
AVTCRELE EQU   IEDQAVTD+636                                             02281000
AVTCCELE EQU   AVTCRELE                                                 02282000
AVTCLRHI EQU   IEDQAVTD+644                                             02283000
AVTADBUF EQU   IEDQAVTD+648                                             02284000
AVTSYSER EQU   IEDQAVTD+656                                             02285000
AVTMSGS  EQU   IEDQAVTD+657                                             02286000
AVTBFREB EQU   IEDQAVTD+708                                             02287000
AVTBFRTB EQU   IEDQAVTD+720                                             02288000
AVTCKPQB EQU   IEDQAVTD+732                                             02289000
AVTCKPTB EQU   AVTCKPQB                                                 02290000
AVTCKPEC EQU   AVTCKPQB+4                                               02291000
AVTCKPCC EQU   AVTCKPEC                                                 02292000
AVTOPCQB EQU   IEDQAVTD+744                                             02293000
AVTOPCOB EQU   AVTOPCQB                                                 02294000
AVTOPCEC EQU   AVTOPCQB+4                                               02295000
AVTOPCCC EQU   AVTOPCEC                                                 02296000
AVTOLTQB EQU   IEDQAVTD+756                                             02297000
AVTDSIOB EQU   IEDQAVTD+804                                             02298000
AVTCWFL1 EQU   IEDQAVTD+852                                             02299000
AVTCWFL2 EQU   IEDQAVTD+853                                             02300000
AVTSUBT  EQU   IEDQAVTD+876                                             02301000
AVTIOTR  EQU   IEDQAVTD+877                                             02302000
AVTBIT1  EQU   IEDQAVTD+978                                             02303000
AVTBIT2  EQU   IEDQAVTD+979                                             02304000
AVTBIT3  EQU   IEDQAVTD+980                                             02305000
AVTSTEAL EQU   IEDQAVTD+988                                             02306000
AVTDDFT  EQU   IEDQAVTD+992                                             02307000
AVTDCTLN EQU   IEDQAVTD+1000                                            02308000
AVTBIT4  EQU   IEDQAVTD+1064                                            02309000
@NM00085 EQU   IEDQAVTD+1160                                            02310000
IEDNSVTD EQU   0                                                        02311000
SAVTDIAG EQU   IEDNSVTD                                                 02312000
SAVTDIAF EQU   SAVTDIAG                                                 02313000
SAVTPRTN EQU   IEDNSVTD+32                                              02314000
SAVTCNIR EQU   IEDNSVTD+56                                              02315000
SAVTLUSQ EQU   IEDNSVTD+88                                              02316000
SAVTSAO  EQU   IEDNSVTD+196                                             02317000
SAVTDFCO EQU   IEDNSVTD+200                                             02318000
SAVTTCPU EQU   IEDNSVTD+238                                             02319000
SAVTZELM EQU   IEDNSVTD+270                                             02320000
SAVTRDRV EQU   IEDNSVTD+284                                             02321000
SAVTCKQB EQU   IEDNSVTD+300                                             02322000
SAVTCKTB EQU   SAVTCKQB                                                 02323000
SAVTCKEC EQU   SAVTCKQB+4                                               02324000
SAVTCKCC EQU   SAVTCKEC                                                 02325000
IEDBDU   EQU   0                                                        02326000
BDUCMND  EQU   IEDBDU                                                   02327000
BDUMODIF EQU   IEDBDU+1                                                 02328000
BDUFNFLG EQU   IEDBDU+2                                                 02329000
BDUHEADR EQU   BDUFNFLG                                                 02330000
BDUFRSTB EQU   BDUFNFLG                                                 02331000
BDUPOSAK EQU   BDUFNFLG                                                 02332000
BDUNEGAK EQU   BDUFNFLG                                                 02333000
BDUBDUFG EQU   IEDBDU+3                                                 02334000
BDUXERLK EQU   BDUBDUFG                                                 02335000
BDURSP   EQU   IEDBDU+4                                                 02336000
BDUSYRSP EQU   BDURSP                                                   02337000
BDUEXRSP EQU   BDURSP+1                                                 02338000
BDUEND   EQU   IEDBDU+6                                                 02339000
IEDDCT   EQU   0                                                        02340000
DCTBYTE1 EQU   IEDDCT+1                                                 02341000
DCT3270  EQU   DCTBYTE1                                                 02342000
DCTBYTE2 EQU   IEDDCT+2                                                 02343000
DCTBYTE3 EQU   IEDDCT+3                                                 02344000
DCTBYTE4 EQU   IEDDCT+4                                                 02345000
DCTBYTE5 EQU   IEDDCT+5                                                 02346000
IEDQDISP EQU   0                                                        02347000
DSPDISP  EQU   4                                                        02348000
DSPPOSTR EQU   28                                                       02349000
DSPUNAVR EQU   44                                                       02350000
IEDQLCB  EQU   0                                                        02351000
LCBRCB   EQU   IEDQLCB                                                  02352000
LCBQCBA  EQU   LCBRCB+1                                                 02353000
LCBPRI   EQU   LCBRCB+4                                                 02354000
LCBSTCBA EQU   IEDQLCB+9                                                02355000
LCBTSOB  EQU   IEDQLCB+19                                               02356000
LCBCHAIN EQU   IEDQLCB+20                                               02357000
LCBSCRNN EQU   LCBCHAIN                                                 02358000
LCBTETEN EQU   LCBCHAIN                                                 02359000
LCBABRTN EQU   LCBCHAIN                                                 02360000
LCBINSRC EQU   IEDQLCB+21                                               02361000
LCBLKMDE EQU   LCBINSRC+2                                               02362000
LCBNTXT  EQU   IEDQLCB+24                                               02363000
LCBSTAT4 EQU   LCBNTXT                                                  02364000
LCBPHASE EQU   LCBSTAT4                                                 02365000
LCBSCBDA EQU   IEDQLCB+25                                               02366000
LCBMHA   EQU   IEDQLCB+29                                               02367000
LCBFLAG1 EQU   IEDQLCB+32                                               02368000
LCBIOBSN EQU   IEDQLCB+33                                               02369000
LCBSNS   EQU   LCBIOBSN+1                                               02370000
LCBSENS0 EQU   LCBSNS                                                   02371000
LCBLOSDT EQU   LCBSENS0                                                 02372000
LCBTMOUT EQU   LCBSENS0                                                 02373000
LCBFLAG3 EQU   LCBIOBSN+7                                               02374000
LCBCSW   EQU   LCBIOBSN+8                                               02375000
LCBCSWST EQU   LCBCSW+3                                                 02376000
LCBCSWUS EQU   LCBCSWST                                                 02377000
LCBCSWCS EQU   LCBCSWST+1                                               02378000
LCBSIOCC EQU   LCBIOBSN+15                                              02379000
LCBDCBPT EQU   IEDQLCB+52                                               02380000
LCBRCQCB EQU   IEDQLCB+56                                               02381000
LCBTHSQ  EQU   IEDQLCB+60                                               02382000
LCBINCAM EQU   LCBTHSQ                                                  02383000
LCBERRCT EQU   IEDQLCB+62                                               02384000
LCBLSPCI EQU   IEDQLCB+65                                               02385000
LCBRCBFR EQU   LCBLSPCI                                                 02386000
LCBSTATE EQU   IEDQLCB+70                                               02387000
LCBSTAT1 EQU   LCBSTATE                                                 02388000
LCBRCLLN EQU   LCBSTAT1                                                 02389000
LCBCONT  EQU   LCBSTAT1                                                 02390000
LCBSENDN EQU   LCBSTAT1                                                 02391000
LCBSTAT2 EQU   LCBSTATE+1                                               02392000
LCBBEOTN EQU   LCBSTAT2                                                 02393000
LCBCONNN EQU   LCBBEOTN                                                 02394000
LCBNEGRP EQU   LCBSTAT2                                                 02395000
LCBSYNC  EQU   LCBSTAT2                                                 02396000
LCBDIAL  EQU   LCBSTAT2                                                 02397000
LCBRESP  EQU   LCBSTAT2                                                 02398000
LCBTSTSW EQU   IEDQLCB+72                                               02399000
LCBERB   EQU   IEDQLCB+76                                               02400000
LCBERBQB EQU   LCBERB+1                                                 02401000
LCBERBPY EQU   IEDQLCB+80                                               02402000
LCBERBST EQU   IEDQLCB+84                                               02403000
LCBPRCPG EQU   LCBERBST                                                 02404000
LCBDLNKN EQU   LCBERBST                                                 02405000
LCBERBCH EQU   IEDQLCB+85                                               02406000
LCBERBCT EQU   IEDQLCB+88                                               02407000
LCBRBCT1 EQU   LCBERBCT                                                 02408000
LCBRBCT2 EQU   LCBERBCT+1                                               02409000
LCBTTCIN EQU   IEDQLCB+90                                               02410000
LCBMSGFM EQU   IEDQLCB+92                                               02411000
LCBEOT   EQU   LCBMSGFM                                                 02412000
LCBSCBA  EQU   IEDQLCB+93                                               02413000
LCBOBRCH EQU   IEDQLCB+96                                               02414000
LCBINVPT EQU   LCBOBRCH+1                                               02415000
LCBBFRW  EQU   LCBINVPT                                                 02416000
LCBTPCD  EQU   IEDQLCB+100                                              02417000
LCBSTAT5 EQU   LCBTPCD                                                  02418000
LCBBFRSV EQU   LCBTPCD+1                                                02419000
LCBSTAT6 EQU   LCBTPCD+4                                                02420000
LCBRTRRO EQU   LCBSTAT6                                                 02421000
LCBRSPSV EQU   LCBTPCD+8                                                02422000
LCBSAVSN EQU   IEDQLCB+112                                              02423000
LCBERCCW EQU   IEDQLCB+120                                              02424000
LCBCPA   EQU   IEDQLCB+144                                              02425000
LCBCCW5  EQU   LCBCPA+32                                                02426000
LCBATTEL EQU   LCBCCW5                                                  02427000
LCBQEBPL EQU   LCBATTEL                                                 02428000
IEDQLCBX EQU   0                                                        02429000
LCBXCON  EQU   IEDQLCBX                                                 02430000
LCBXFLAG EQU   LCBXCON                                                  02431000
LCBXDCT  EQU   LCBXCON+1                                                02432000
LCBXRADR EQU   LCBXCON+4                                                02433000
IEDNLGB  EQU   0                                                        02434000
LGBBUFOU EQU   IEDNLGB+20                                               02435000
LGBPCI   EQU   IEDNLGB+25                                               02436000
LGBBYTE  EQU   IEDNLGB+29                                               02437000
LGBOFLGS EQU   IEDNLGB+48                                               02438000
LGBRESER EQU   IEDNLGB+56                                               02439000
IEDQMOD  EQU   0                                                        02440000
MODCUR   EQU   IEDQMOD+1                                                02441000
MODCUR1  EQU   MODCUR                                                   02442000
MODCUR2  EQU   MODCUR+1                                                 02443000
MODCEIBJ EQU   MODCUR2                                                  02444000
MODNEW   EQU   IEDQMOD+3                                                02445000
MODNEW1  EQU   MODNEW                                                   02446000
MODNEW2  EQU   MODNEW+1                                                 02447000
MODNEIBJ EQU   MODNEW2                                                  02448000
MODNMNTR EQU   MODNEW2                                                  02449000
MODNMNTP EQU   MODNEW2                                                  02450000
IEDPIU   EQU   0                                                        02451000
PIUTH    EQU   IEDPIU                                                   02452000
PIURH    EQU   IEDPIU+10                                                02453000
PIURU    EQU   IEDPIU+13                                                02454000
IEDPIU0  EQU   0                                                        02455000
PIU0TH   EQU   IEDPIU0                                                  02456000
PIU0RH   EQU   IEDPIU0+10                                               02457000
PIU0PAD  EQU   IEDPIU0+13                                               02458000
PIU0RU   EQU   IEDPIU0+14                                               02459000
IEDQPRF  EQU   0                                                        02460000
PRFRCB   EQU   IEDQPRF                                                  02461000
PRFKEY   EQU   PRFRCB                                                   02462000
PRFQCBA  EQU   PRFRCB+1                                                 02463000
PRFPRI   EQU   PRFRCB+4                                                 02464000
PRFLINK  EQU   PRFRCB+5                                                 02465000
PRFTIC   EQU   IEDQPRF+8                                                02466000
PRFTICC  EQU   PRFTIC                                                   02467000
PRFTICON EQU   PRFTICC                                                  02468000
PRFNBUNT EQU   IEDQPRF+12                                               02469000
PRFSUNIT EQU   PRFNBUNT                                                 02470000
PRFPLQCB EQU   PRFSUNIT                                                 02471000
PRFPIUO  EQU   PRFPLQCB                                                 02472000
PRFLCB   EQU   IEDQPRF+13                                               02473000
@NM00176 EQU   IEDQPRF+16                                               02474000
PRFSVFFO EQU   @NM00176                                                 02475000
PRFSIZE  EQU   PRFSVFFO+2                                               02476000
PRFSTAT1 EQU   IEDQPRF+20                                               02477000
PRFEOFN  EQU   PRFSTAT1                                                 02478000
PRFNLSTN EQU   PRFSTAT1                                                 02479000
PRFCORE  EQU   IEDQPRF+21                                               02480000
PRFXTRA  EQU   PRFCORE                                                  02481000
PRFSCAN  EQU   IEDQPRF+24                                               02482000
PRFTQBCK EQU   IEDQPRF+26                                               02483000
PRFNTXT  EQU   PRFTQBCK                                                 02484000
PRFEOBOF EQU   PRFNTXT                                                  02485000
PRFCHDR  EQU   IEDQPRF+32                                               02486000
PRFHQBCK EQU   IEDQPRF+35                                               02487000
PRFDEST  EQU   IEDQPRF+40                                               02488000
IEDPF1   EQU   0                                                        02489000
PRF1FLG1 EQU   IEDPF1+3                                                 02490000
PRF1WD2  EQU   IEDPF1+4                                                 02491000
PRF1SEQP EQU   PRF1WD2                                                  02492000
PRF1SQID EQU   PRF1SEQP                                                 02493000
PRF1TAG1 EQU   PRF1SQID                                                 02494000
IEDPF2   EQU   0                                                        02495000
PRF2FLG2 EQU   IEDPF2                                                   02496000
PRF2TNTI EQU   PRF2FLG2                                                 02497000
PRF2WD2  EQU   IEDPF2+4                                                 02498000
IEDQQCB  EQU   0                                                        02499000
QCBDSFLG EQU   IEDQQCB                                                  02500000
QCBDISK  EQU   QCBDSFLG                                                 02501000
QCBALTMH EQU   QCBDSFLG                                                 02502000
QCBEOLDT EQU   IEDQQCB+16                                               02503000
QCBBYTE1 EQU   QCBEOLDT+1                                               02504000
QCBLKRLN EQU   IEDQQCB+18                                               02505000
QCBRETCT EQU   QCBLKRLN                                                 02506000
QCBSTAT  EQU   IEDQQCB+19                                               02507000
QCBINSRC EQU   IEDQQCB+21                                               02508000
@NM00184 EQU   QCBINSRC                                                 02509000
QCBTSOF2 EQU   @NM00184+1                                               02510000
QCBTSOF1 EQU   @NM00184+2                                               02511000
QCBINTVL EQU   IEDQQCB+24                                               02512000
QCBPREN  EQU   IEDQQCB+28                                               02513000
QCBLKRRN EQU   QCBPREN+1                                                02514000
QCBDCBAD EQU   IEDQQCB+33                                               02515000
QCBFLAG  EQU   IEDQQCB+36                                               02516000
QCBTSSES EQU   QCBFLAG                                                  02517000
QCBSDFFO EQU   QCBFLAG                                                  02518000
IEDQPQCB EQU   0                                                        02519000
QCBFHDLZ EQU   IEDQPQCB+3                                               02520000
QCBPFEFO EQU   QCBFHDLZ+1                                               02521000
QCBFHDTZ EQU   IEDQPQCB+6                                               02522000
QCBINTLF EQU   IEDQPQCB+12                                              02523000
IEDNQCB  EQU   0                                                        02524000
QCBSTAT1 EQU   IEDNQCB+4                                                02525000
QCBSNDRQ EQU   QCBSTAT1                                                 02526000
QCBPLCBA EQU   IEDNQCB+5                                                02527000
IEDRDY   EQU   0                                                        02528000
RDYPURGA EQU   IEDRDY+8                                                 02529000
RDYFLAGS EQU   IEDRDY+16                                                02530000
IEDQSCB  EQU   0                                                        02531000
SCBSTATE EQU   IEDQSCB                                                  02532000
SCBSEQIN EQU   SCBSTATE                                                 02533000
SCBLCK1N EQU   SCBSTATE                                                 02534000
SCBMSGLN EQU   SCBSTATE                                                 02535000
SCBRCVCT EQU   IEDQSCB+4                                                02536000
SCBMBHEN EQU   IEDQSCB+5                                                02537000
SCBBKFCT EQU   IEDQSCB+9                                                02538000
SCBEOBSZ EQU   SCBBKFCT+1                                               02539000
SCBSALEV EQU   IEDQSCB+12                                               02540000
SCBQTYPE EQU   SCBSALEV                                                 02541000
SCBBFMM  EQU   SCBQTYPE                                                 02542000
SCBERRST EQU   IEDQSCB+16                                               02543000
SCBERR1  EQU   SCBERRST                                                 02544000
SCBHDRRN EQU   SCBERR1                                                  02545000
SCBORIGN EQU   SCBERR1                                                  02546000
SCBNOTRM EQU   SCBERR1                                                  02547000
SCBSEQHN EQU   SCBERR1                                                  02548000
SCBSEQLN EQU   SCBERR1                                                  02549000
SCBCUTFN EQU   SCBERR1                                                  02550000
SCBERR2  EQU   SCBERRST+1                                               02551000
SCBABRTN EQU   SCBERR2                                                  02552000
SCBERR3  EQU   SCBERRST+2                                               02553000
SCBLOSTN EQU   SCBERR3                                                  02554000
SCBTMIDN EQU   SCBERR3                                                  02555000
SCBFORMN EQU   SCBERR3                                                  02556000
SCBATTN  EQU   SCBERR3                                                  02557000
SCBXCEPN EQU   SCBERR3                                                  02558000
SCBERR4  EQU   SCBERRST+3                                               02559000
SCBSLCTN EQU   SCBERR4                                                  02560000
SCBTXTTN EQU   SCBERR4                                                  02561000
SCBCONNN EQU   SCBERR4                                                  02562000
SCBTRMLN EQU   SCBERR4                                                  02563000
SCBCTLUN EQU   SCBERR4                                                  02564000
SCBCHANN EQU   SCBERR4                                                  02565000
SCBDLPTR EQU   IEDQSCB+22                                               02566000
SCBEOBAC EQU   SCBDLPTR                                                 02567000
SCBCTBAC EQU   SCBEOBAC                                                 02568000
SCBBSCFM EQU   IEDQSCB+24                                               02569000
SCBDATEN EQU   SCBBSCFM                                                 02570000
SCBMLMTN EQU   SCBBSCFM                                                 02571000
SCBITBSZ EQU   IEDQSCB+40                                               02572000
SCBCTBSV EQU   SCBITBSZ                                                 02573000
SCBDNSEG EQU   IEDQSCB+41                                               02574000
SCBCLSEG EQU   IEDQSCB+45                                               02575000
SCBITBAC EQU   IEDQSCB+48                                               02576000
SCBCTBFL EQU   SCBITBAC                                                 02577000
SCBBLKCT EQU   SCBCTBFL                                                 02578000
SCBDCSEG EQU   IEDQSCB+49                                               02579000
SCBSTAT1 EQU   IEDQSCB+60                                               02580000
SCBCORE  EQU   IEDQSCB+61                                               02581000
SCBSCAN  EQU   IEDQSCB+64                                               02582000
SCBNTXT  EQU   IEDQSCB+66                                               02583000
SCBCHDR  EQU   IEDQSCB+72                                               02584000
SCBCCSEG EQU   IEDQSCB+75                                               02585000
SCBEND   EQU   IEDQSCB+84                                               02586000
IEDSIBD  EQU   0                                                        02587000
SIBCHAIN EQU   IEDSIBD+4                                                02588000
SIBINDEX EQU   IEDSIBD+8                                                02589000
SIBSESSN EQU   IEDSIBD+10                                               02590000
SIBDSTAT EQU   SIBSESSN                                                 02591000
SIBPACIN EQU   IEDSIBD+11                                               02592000
SIBSEQN  EQU   IEDSIBD+12                                               02593000
SIBSTAT1 EQU   IEDSIBD+16                                               02594000
SIBSTAT2 EQU   IEDSIBD+17                                               02595000
SIBBIND  EQU   IEDSIBD+20                                               02596000
SIBBIND1 EQU   SIBBIND                                                  02597000
SIBBIND2 EQU   SIBBIND+1                                                02598000
SIBBIND3 EQU   SIBBIND+2                                                02599000
SIBSTAT0 EQU   IEDSIBD+23                                               02600000
IEDSNSD  EQU   0                                                        02601000
SNSSYSTM EQU   IEDSNSD                                                  02602000
SNSUSER  EQU   IEDSNSD+2                                                02603000
SNSPTR   EQU   0                                                        02604000
IEDQSTCB EQU   0                                                        02605000
STCBVTO  EQU   IEDQSTCB                                                 02606000
IEDSTMH  EQU   0                                                        02607000
STMHALT  EQU   IEDSTMH                                                  02608000
STMHFLG2 EQU   IEDSTMH+4                                                02609000
STMHCONV EQU   STMHFLG2                                                 02610000
STMHLOG  EQU   STMHFLG2                                                 02611000
STMHAEIX EQU   IEDSTMH+12                                               02612000
STMHLMD  EQU   STMHAEIX                                                 02613000
STMHLMOP EQU   IEDSTMH+17                                               02614000
IEDRH    EQU   0                                                        02615000
TRHBYTE0 EQU   IEDRH                                                    02616000
TRHTYPE  EQU   TRHBYTE0                                                 02617000
TRHRUCAT EQU   TRHBYTE0                                                 02618000
TRHFI    EQU   TRHBYTE0                                                 02619000
TRHSDI   EQU   TRHBYTE0                                                 02620000
TRHBC    EQU   TRHBYTE0                                                 02621000
TRHEC    EQU   TRHBYTE0                                                 02622000
TRHBYTE1 EQU   IEDRH+1                                                  02623000
TRHDR1   EQU   TRHBYTE1                                                 02624000
TRHER    EQU   TRHBYTE1                                                 02625000
TRHBYTE2 EQU   IEDRH+2                                                  02626000
IEDTRM   EQU   0                                                        02627000
IEDNTRM  EQU   IEDTRM                                                   02628000
TRMBYTE4 EQU   IEDNTRM                                                  02629000
TRMBYTE3 EQU   IEDNTRM+1                                                02630000
TRMBYTE2 EQU   IEDNTRM+2                                                02631000
TRMINPG  EQU   TRMBYTE2                                                 02632000
TRMGPACT EQU   TRMBYTE2                                                 02633000
TRMPREP  EQU   TRMBYTE2                                                 02634000
TRMNOSND EQU   TRMBYTE2                                                 02635000
TRMBYTE1 EQU   IEDNTRM+3                                                02636000
TRMSCPRQ EQU   TRMBYTE1                                                 02637000
TRMINPTP EQU   TRMBYTE1                                                 02638000
TRMBYTE0 EQU   IEDNTRM+6                                                02639000
TRMDIAL  EQU   TRMBYTE0                                                 02640000
TRMSNA   EQU   TRMBYTE0                                                 02641000
TRMSIBPT EQU   IEDNTRM+7                                                02642000
TRMTYPE  EQU   IEDNTRM+11                                               02643000
IEDQTRM  EQU   IEDTRM+14                                                02644000
TRMSTATE EQU   IEDQTRM                                                  02645000
TRMLOG   EQU   TRMSTATE                                                 02646000
TRMDESTQ EQU   IEDQTRM+1                                                02647000
TRMINSEQ EQU   IEDQTRM+4                                                02648000
TLISTCNT EQU   TRMINSEQ                                                 02649000
TRMOUTSQ EQU   IEDQTRM+6                                                02650000
TLISTEN  EQU   TRMOUTSQ                                                 02651000
TRMDSORG EQU   TLISTEN                                                  02652000
TRMALTD  EQU   IEDQTRM+8                                                02653000
TRMDEVFL EQU   IEDQTRM+10                                               02654000
TRMSTAT  EQU   IEDQTRM+12                                               02655000
TRMCHCIN EQU   IEDQTRM+16                                               02656000
IEDTH    EQU   0                                                        02657000
TTHBYTE0 EQU   IEDTH                                                    02658000
TTHFTYPE EQU   TTHBYTE0                                                 02659000
TTHBBIU  EQU   TTHBYTE0                                                 02660000
TTHEBIU  EQU   TTHBYTE0                                                 02661000
TTHBYTE1 EQU   IEDTH+1                                                  02662000
TTHDAF   EQU   IEDTH+2                                                  02663000
TTHOAF   EQU   IEDTH+4                                                  02664000
TTHSNF   EQU   IEDTH+6                                                  02665000
TTHTAG   EQU   TTHSNF                                                   02666000
TTHTAG1  EQU   TTHTAG                                                   02667000
TTHTAG2  EQU   TTHTAG+1                                                 02668000
TTHDCF   EQU   IEDTH+8                                                  02669000
NEGRSPRU EQU   0                                                        02670000
BUFTOCLR EQU   0                                                        02671000
TEXT     EQU   0                                                        02672000
BDQCB    EQU   0                                                        02673000
IEDIAP07 EQU   0                                                        02674000
IEDQGA02 EQU   0                                                        02675000
IEDQTL   EQU   0                                                        02676000
IEDQTNT  EQU   0                                                        02677000
PURGEXIT EQU   0                                                        02678000
DSPBYPAS EQU   20                                                       02679000
DSPCHAIN EQU   12                                                       02680000
DSPLIFO  EQU   56                                                       02681000
DSPLIFOR EQU   60                                                       02682000
DSPLIST  EQU   8                                                        02683000
DSPPOST  EQU   24                                                       02684000
DSPPRIO  EQU   48                                                       02685000
DSPPRIOR EQU   52                                                       02686000
DSPTRACE EQU   64                                                       02687000
DSPTSTQ  EQU   32                                                       02688000
DSPTSTQR EQU   36                                                       02689000
DSPUNAV  EQU   40                                                       02690000
DSPWAIT  EQU   16                                                       02691000
QCBLDCB  EQU   0                                                        02692000
LCBRSPIN EQU   LCBIOBSN                                                 02693000
LCBLUSNS EQU   LCBRSPIN+5                                               02694000
LCBSCPRS EQU   LCBRSPIN+9                                               02695000
LCBCSWU1 EQU   LCBSCPRS+2                                               02696000
LCBRSPFG EQU   LCBRSPIN+15                                              02697000
LCBCOREQ EQU   LCBTPCD                                                  02698000
@NM00133 EQU   LCBCPA+40                                                02699000
LCBQNX   EQU   LCBERCCW                                                 02700000
LCBQNXMN EQU   LCBQNX                                                   02701000
LCBCANCL EQU   LCBSAVSN                                                 02702000
LCBCANFG EQU   LCBCANCL                                                 02703000
TRMPRE1  EQU   TRMBYTE4                                                 02704000
TRMCONT  EQU   TRMPRE1                                                  02705000
TRMSESSN EQU   TRMPRE1                                                  02706000
TRMERLCK EQU   TRMPRE1                                                  02707000
TRMSPOUT EQU   TRMPRE1                                                  02708000
TRMNCP1  EQU   TRMBYTE4                                                 02709000
TRMPRE   EQU   TRMBYTE3                                                 02710000
TRMNLOUT EQU   TRMPRE                                                   02711000
TRMRDOUT EQU   TRMPRE                                                   02712000
TRMINOUT EQU   TRMPRE                                                   02713000
TRMNCP   EQU   TRMBYTE3                                                 02714000
TRMPU    EQU   TRMBYTE3                                                 02715000
TRMLU    EQU   TRMBYTE3                                                 02716000
TRMLINK  EQU   TRMBYTE3                                                 02717000
PURGSAVE EQU   AVTSAVE3                                                 02718000
BDUTEXT  EQU   BDUEND                                                   02719000
PRFSHDR  EQU   IEDQPRF+42                                               02720000
SCBRGSAV EQU   SCBEND                                                   02721000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02722000
@NM00212 EQU   TRMLINK                                                  02723000
TRMLSTAT EQU   TRMLINK                                                  02724000
TRMLINT  EQU   TRMLINK                                                  02725000
TRMEPMOD EQU   TRMLINK                                                  02726000
TRMLULOG EQU   TRMLU                                                    02727000
TRMINERR EQU   TRMLU                                                    02728000
TRMLUREQ EQU   TRMLU                                                    02729000
TRMSESRQ EQU   TRMLU                                                    02730000
TRMTDIFF EQU   TRMLU                                                    02731000
TRMLUTM  EQU   TRMLU                                                    02732000
TRMLUIT  EQU   TRMLU                                                    02733000
TRMAUTO  EQU   TRMLU                                                    02734000
TRMPCONT EQU   TRMPU                                                    02735000
@NM00211 EQU   TRMPU                                                    02736000
TRMNCONT EQU   TRMNCP                                                   02737000
TRMQUCKN EQU   TRMNCP                                                   02738000
TRMSLOWN EQU   TRMNCP                                                   02739000
TRMSYGEN EQU   TRMNCP                                                   02740000
TRMNCPCL EQU   TRMNCP                                                   02741000
TRMIPLDM EQU   TRMNCP                                                   02742000
TRMWROUT EQU   TRMPRE                                                   02743000
TRMASNXI EQU   TRMPRE                                                   02744000
TRMSTMM  EQU   TRMPRE                                                   02745000
TRMCMODE EQU   TRMPRE                                                   02746000
TRMSTPND EQU   TRMPRE                                                   02747000
@NM00210 EQU   TRMNCP1                                                  02748000
TRMINOP  EQU   TRMNCP1                                                  02749000
TRMLYNCH EQU   TRMPRE1                                                  02750000
TRMQNPL  EQU   TRMPRE1                                                  02751000
TRMSPACT EQU   TRMPRE1                                                  02752000
TRMOCNI  EQU   TRMPRE1                                                  02753000
@NM00141 EQU   LCBCANCL+3                                               02754000
LCBCANTH EQU   LCBCANCL+1                                               02755000
@NM00140 EQU   LCBCANFG                                                 02756000
LCBCANCD EQU   LCBCANFG                                                 02757000
@NM00139 EQU   LCBCANFG                                                 02758000
LCBCANEB EQU   LCBCANFG                                                 02759000
LCBCANXT EQU   LCBCANFG                                                 02760000
LCBUNADD EQU   LCBQNX+21                                                02761000
LCBUASZE EQU   LCBQNX+20                                                02762000
LCBDSTEA EQU   LCBQNX+16                                                02763000
@NM00138 EQU   LCBQNX+8                                                 02764000
LCBIOSBS EQU   LCBQNX+5                                                 02765000
@NM00137 EQU   LCBQNX+4                                                 02766000
LCBSTSAV EQU   LCBQNX+1                                                 02767000
@NM00136 EQU   LCBQNXMN                                                 02768000
LCBNX509 EQU   LCBQNXMN                                                 02769000
LCBNX162 EQU   LCBQNXMN                                                 02770000
LCBNX142 EQU   LCBQNXMN                                                 02771000
LCBNX064 EQU   LCBQNXMN                                                 02772000
@NM00135 EQU   @NM00133+4                                               02773000
LCBNCPPT EQU   @NM00133+1                                               02774000
@NM00134 EQU   @NM00133                                                 02775000
LCBWRSCH EQU   LCBCOREQ+8                                               02776000
LCBCQLNK EQU   LCBCOREQ+4                                               02777000
LCBCQELE EQU   LCBCOREQ                                                 02778000
LCBPAKCH EQU   LCBRSPIN+16                                              02779000
@NM00132 EQU   LCBRSPFG                                                 02780000
LCBRSRH  EQU   LCBRSPFG                                                 02781000
LCBEXPI  EQU   LCBRSPFG                                                 02782000
@NM00131 EQU   LCBRSPIN+12                                              02783000
LCBUSUE1 EQU   LCBCSWU1                                                 02784000
@NM00130 EQU   LCBCSWU1                                                 02785000
@NM00129 EQU   LCBSCPRS+1                                               02786000
LCBDFCMD EQU   LCBSCPRS                                                 02787000
LCBUSER  EQU   LCBLUSNS+2                                               02788000
LCBSMIN  EQU   LCBLUSNS+1                                               02789000
LCBSMAJ  EQU   LCBLUSNS                                                 02790000
LCBRHSV  EQU   LCBRSPIN+2                                               02791000
LCBSNS0  EQU   LCBRSPIN+1                                               02792000
@NM00128 EQU   LCBRSPIN                                                 02793000
NPRUEND  EQU   NEGRSPRU+5                                               02794000
@NM00219 EQU   NEGRSPRU                                                 02795000
@NM00214 EQU   TTHTAG1                                                  02796000
TTHTAGS  EQU   TTHTAG1                                                  02797000
TTHEFI   EQU   TTHBYTE0                                                 02798000
@NM00213 EQU   TTHBYTE0                                                 02799000
TRMOPT   EQU   IEDTRM+34                                                02800000
TRMOPTBL EQU   IEDQTRM+18                                               02801000
TRMOPNO  EQU   IEDQTRM+17                                               02802000
TRMSENSE EQU   TRMSTAT+3                                                02803000
TRMTEMPR EQU   TRMSTAT+2                                                02804000
TRMSIO   EQU   TRMSTAT                                                  02805000
@NM00209 EQU   TRMDEVFL+1                                               02806000
TRMTPIN  EQU   TRMDEVFL+1                                               02807000
TRMNCPI  EQU   TRMDEVFL+1                                               02808000
TRMRNTRM EQU   TRMDEVFL+1                                               02809000
@NM00208 EQU   TRMDEVFL+1                                               02810000
TRMLMD   EQU   TRMDEVFL+1                                               02811000
TRMCONC  EQU   TRMDEVFL+1                                               02812000
TRMTSOB  EQU   TRMDEVFL                                                 02813000
TRMBFDY  EQU   TRMDEVFL                                                 02814000
TRMTBLK  EQU   TRMDEVFL                                                 02815000
TRMSBLK  EQU   TRMDEVFL                                                 02816000
TRMBLKS  EQU   TRMDEVFL                                                 02817000
TRMADDC  EQU   TRMDEVFL                                                 02818000
TRMDDIG  EQU   TRMDEVFL                                                 02819000
TRMBUFS  EQU   TRMDEVFL                                                 02820000
TRMPRILK EQU   TRMALTD                                                  02821000
TRMLGB   EQU   TRMDSORG                                                 02822000
TRMUTERM EQU   TLISTCNT                                                 02823000
TRMSCNYN EQU   TRMSTATE                                                 02824000
TRMOPTFN EQU   TRMSTATE                                                 02825000
TRMHELDN EQU   TRMSTATE                                                 02826000
TRMACPTN EQU   TRMSTATE                                                 02827000
TRMPREF  EQU   TRMSTATE                                                 02828000
TRMPROC  EQU   TRMLOG                                                   02829000
TRMLIST  EQU   TRMLOG                                                   02830000
TRMLINE  EQU   TRMSTATE                                                 02831000
TRMSUBST EQU   IEDNTRM+12                                               02832000
TRMRLMCT EQU   IEDNTRM+10                                               02833000
TRMCOHTG EQU   TRMSIBPT+1                                               02834000
TRMGPCNT EQU   TRMSIBPT                                                 02835000
TRMBUFRD EQU   TRMBYTE0                                                 02836000
TRMGP    EQU   TRMBYTE0                                                 02837000
@NM00207 EQU   TRMBYTE0                                                 02838000
TRMOUTPT EQU   TRMBYTE0                                                 02839000
TRMINPUT EQU   TRMBYTE0                                                 02840000
TRMUDEF  EQU   TRMBYTE0                                                 02841000
TRMCOHRT EQU   IEDNTRM+4                                                02842000
TRMSTOTE EQU   TRMBYTE1                                                 02843000
TRMCKPRN EQU   TRMBYTE1                                                 02844000
TRMTSATN EQU   TRMBYTE1                                                 02845000
TRMTRACE EQU   TRMBYTE1                                                 02846000
TRMSWBCK EQU   TRMBYTE1                                                 02847000
TRMAUTOC EQU   TRMBYTE1                                                 02848000
TRMWTNEG EQU   TRMSCPRQ                                                 02849000
TRMWRBRK EQU   TRMBYTE2                                                 02850000
TRMANDL  EQU   TRMBYTE2                                                 02851000
TRMCLOSN EQU   TRMINPG                                                  02852000
TRMREMB  EQU   TRMBYTE2                                                 02853000
TRMRSACT EQU   TRMBYTE2                                                 02854000
@NM00206 EQU   TRHBYTE2                                                 02855000
@NM00205 EQU   TRHBYTE2                                                 02856000
@NM00204 EQU   TRHBYTE2                                                 02857000
TRHCSI   EQU   TRHBYTE2                                                 02858000
@NM00203 EQU   TRHBYTE2                                                 02859000
TRHCDI   EQU   TRHBYTE2                                                 02860000
TRHEB    EQU   TRHBYTE2                                                 02861000
TRHBB    EQU   TRHBYTE2                                                 02862000
TRHPI    EQU   TRHBYTE1                                                 02863000
@NM00202 EQU   TRHBYTE1                                                 02864000
@NM00201 EQU   TRHBYTE1                                                 02865000
@NM00200 EQU   TRHBYTE1                                                 02866000
TRHDR2   EQU   TRHBYTE1                                                 02867000
@NM00199 EQU   TRHBYTE1                                                 02868000
@NM00198 EQU   TRHBYTE0                                                 02869000
STMHOPT  EQU   IEDSTMH+18                                               02870000
STMHCOPO EQU   STMHLMOP                                                 02871000
STMHLOPO EQU   IEDSTMH+16                                               02872000
STMHROUT EQU   IEDSTMH+13                                               02873000
STMHLMDO EQU   STMHAEIX                                                 02874000
@NM00197 EQU   STMHAEIX                                                 02875000
STMHSTCB EQU   IEDSTMH+9                                                02876000
STMHLENG EQU   IEDSTMH+8                                                02877000
STMHTSO  EQU   IEDSTMH+5                                                02878000
STMHTSFG EQU   STMHFLG2                                                 02879000
STMHLOP  EQU   STMHFLG2                                                 02880000
STMHCOP  EQU   STMHFLG2                                                 02881000
STMHSTC  EQU   STMHFLG2                                                 02882000
STMHCONT EQU   STMHFLG2                                                 02883000
STMHLCIN EQU   STMHFLG2                                                 02884000
STCBLINK EQU   IEDQSTCB+5                                               02885000
STCBPRI  EQU   IEDQSTCB+4                                               02886000
STCBTCIN EQU   IEDQSTCB+2                                               02887000
STCBINDX EQU   IEDQSTCB+1                                               02888000
SNSUSR2  EQU   SNSUSER+1                                                02889000
SNSUSR1  EQU   SNSUSER                                                  02890000
SNSMIN   EQU   SNSSYSTM+1                                               02891000
SNSMAJ   EQU   SNSSYSTM                                                 02892000
SIBLUTYP EQU   SIBSTAT0                                                 02893000
SIBCD    EQU   SIBSTAT0                                                 02894000
@NM00196 EQU   SIBBIND3                                                 02895000
SIBCRES  EQU   SIBBIND3                                                 02896000
SIBSPKR  EQU   SIBBIND3                                                 02897000
SIBRECOV EQU   SIBBIND3                                                 02898000
SIBFMODE EQU   SIBBIND3                                                 02899000
SIBALT   EQU   SIBBIND2                                                 02900000
SIBBTERM EQU   SIBBIND2                                                 02901000
SIBBRACK EQU   SIBBIND2                                                 02902000
SIBFMUSE EQU   SIBBIND2                                                 02903000
SIBSEBI  EQU   SIBBIND2                                                 02904000
SIBSCMP  EQU   SIBBIND2                                                 02905000
SIBSEXC  EQU   SIBBIND2                                                 02906000
SIBSDEF  EQU   SIBBIND2                                                 02907000
SIBSRQM  EQU   SIBBIND1                                                 02908000
SIBSCHNG EQU   SIBBIND1                                                 02909000
SIBPEBI  EQU   SIBBIND1                                                 02910000
SIBPCMP  EQU   SIBBIND1                                                 02911000
SIBPEXC  EQU   SIBBIND1                                                 02912000
SIBPDEF  EQU   SIBBIND1                                                 02913000
SIBPRQM  EQU   SIBBIND1                                                 02914000
SIBPCHN  EQU   SIBBIND1                                                 02915000
SIBFMPRO EQU   IEDSIBD+19                                               02916000
SIBTSPRO EQU   IEDSIBD+18                                               02917000
@NM00195 EQU   SIBSTAT2                                                 02918000
SIBDACLU EQU   SIBSTAT2                                                 02919000
SIBRDSCN EQU   SIBSTAT2                                                 02920000
SIBTERM  EQU   SIBSTAT2                                                 02921000
SIBUSS   EQU   SIBSTAT2                                                 02922000
SIBBSTAT EQU   SIBSTAT1                                                 02923000
SIBRTRP  EQU   SIBSTAT1                                                 02924000
SIBFTERM EQU   SIBSTAT1                                                 02925000
SIBRQEND EQU   SIBSTAT1                                                 02926000
SIBRQSHT EQU   SIBSTAT1                                                 02927000
SIBSEQO  EQU   SIBSEQN+2                                                02928000
SIBSEQI  EQU   SIBSEQN                                                  02929000
SIBNCNT  EQU   SIBPACIN                                                 02930000
SIBMCNT  EQU   SIBPACIN                                                 02931000
SIBSSTAT EQU   SIBSESSN                                                 02932000
SIBINBIU EQU   SIBSESSN                                                 02933000
SIBSHUTC EQU   SIBSESSN                                                 02934000
SIBLGOFF EQU   SIBSESSN                                                 02935000
SIBRUSEG EQU   IEDSIBD                                                  02936000
SCBTRANS EQU   IEDQSCB+81                                               02937000
SCBUNTCT EQU   IEDQSCB+80                                               02938000
SCBEOB   EQU   IEDQSCB+78                                               02939000
SCBNXCPB EQU   SCBCCSEG                                                 02940000
SCBNHDR  EQU   SCBCHDR                                                  02941000
SCBCRCD  EQU   IEDQSCB+69                                               02942000
SCBTQBCK EQU   SCBNTXT                                                  02943000
SCBOSEQ  EQU   SCBSCAN                                                  02944000
SCBXTRA  EQU   SCBCORE                                                  02945000
SCBNOPST EQU   SCBSTAT1                                                 02946000
SCBNIDLE EQU   SCBSTAT1                                                 02947000
SCBCEND  EQU   SCBSTAT1                                                 02948000
SCBCBGN  EQU   SCBSTAT1                                                 02949000
SCBSIZE  EQU   IEDQSCB+58                                               02950000
SCBSRCE  EQU   IEDQSCB+56                                               02951000
SCBDEOB  EQU   IEDQSCB+52                                               02952000
SCBFEFO  EQU   SCBDCSEG                                                 02953000
SCBCTBND EQU   SCBBLKCT                                                 02954000
SCBSCHDR EQU   SCBCLSEG                                                 02955000
SCBHBFNO EQU   IEDQSCB+44                                               02956000
SCBSCSEG EQU   SCBDNSEG                                                 02957000
SCBBCTR  EQU   SCBCTBSV                                                 02958000
SCBCCHDR EQU   IEDQSCB+37                                               02959000
SCBDESTL EQU   IEDQSCB+36                                               02960000
SCBDCHDR EQU   IEDQSCB+33                                               02961000
SCBCPBNO EQU   IEDQSCB+32                                               02962000
SCBMBSSA EQU   IEDQSCB+25                                               02963000
SCBNOEOT EQU   SCBBSCFM                                                 02964000
@NM00194 EQU   SCBBSCFM                                                 02965000
SCBNPDTR EQU   SCBDATEN                                                 02966000
SCBCNTEN EQU   SCBBSCFM                                                 02967000
SCBRCVTX EQU   SCBBSCFM                                                 02968000
SCBNONTR EQU   SCBBSCFM                                                 02969000
SCBTRNSP EQU   SCBBSCFM                                                 02970000
SCBENDCR EQU   SCBCTBAC+1                                               02971000
SCBCRLEN EQU   SCBCTBAC                                                 02972000
SCBMRFSD EQU   IEDQSCB+20                                               02973000
SCBUNDFN EQU   SCBERR4                                                  02974000
SCBSTERN EQU   SCBCHANN                                                 02975000
SCBCPMEN EQU   SCBCTLUN                                                 02976000
@NM00193 EQU   SCBERR4                                                  02977000
SCBAPERR EQU   SCBTXTTN                                                 02978000
SCBPERRN EQU   SCBXCEPN                                                 02979000
SCBTHRSN EQU   SCBATTN                                                  02980000
SCBFIERN EQU   SCBFORMN                                                 02981000
SCBUSERN EQU   SCBERR3                                                  02982000
SCBSATTN EQU   SCBERR3                                                  02983000
SCBTMINN EQU   SCBERR3                                                  02984000
SCBXPD   EQU   SCBTMIDN                                                 02985000
SCBXPI   EQU   SCBLOSTN                                                 02986000
SCBSOHE  EQU   SCBERR2                                                  02987000
SCBFRWDN EQU   SCBERR2                                                  02988000
SCBRRJN  EQU   SCBABRTN                                                 02989000
SCBOLTR  EQU   SCBERR2                                                  02990000
SCBALN   EQU   SCBERR2                                                  02991000
SCBCODER EQU   SCBERR2                                                  02992000
SCBCRMAX EQU   SCBERR2                                                  02993000
SCBCRMIN EQU   SCBERR2                                                  02994000
SCBRVISL EQU   SCBCUTFN                                                 02995000
SCBNOBFN EQU   SCBERR1                                                  02996000
@NM00192 EQU   SCBERR1                                                  02997000
SCBNOVAC EQU   SCBSEQLN                                                 02998000
SCBNOTSO EQU   SCBSEQHN                                                 02999000
SCBRVITX EQU   SCBNOTRM                                                 03000000
SCBHANG  EQU   SCBORIGN                                                 03001000
SCBNOLOG EQU   SCBHDRRN                                                 03002000
SCBMRFPL EQU   IEDQSCB+13                                               03003000
SCBBBFTM EQU   SCBQTYPE                                                 03004000
SCBNOFF  EQU   SCBQTYPE                                                 03005000
SCBCONC  EQU   SCBQTYPE                                                 03006000
SCBNREUS EQU   SCBQTYPE                                                 03007000
SCBREUS  EQU   SCBQTYPE                                                 03008000
SCBCOREQ EQU   SCBQTYPE                                                 03009000
SCBNORCL EQU   SCBQTYPE                                                 03010000
SCBCTBSZ EQU   SCBEOBSZ                                                 03011000
@NM00191 EQU   SCBBKFCT                                                 03012000
SCBPRI   EQU   IEDQSCB+8                                                03013000
SCBMACR  EQU   SCBMBHEN                                                 03014000
SCBSNDCT EQU   SCBRCVCT                                                 03015000
SCBDESTQ EQU   IEDQSCB+1                                                03016000
SCBCODE  EQU   SCBSTATE                                                 03017000
SCBPRER  EQU   SCBSTATE                                                 03018000
SCBCKPT  EQU   SCBSTATE                                                 03019000
SCBERSDS EQU   SCBSTATE                                                 03020000
SCBMGFMN EQU   SCBSEQIN                                                 03021000
SCBTRANP EQU   SCBSTATE                                                 03022000
@NM00190 EQU   IEDRDY+17                                                03023000
@NM00189 EQU   RDYFLAGS                                                 03024000
RDYOPENI EQU   RDYFLAGS                                                 03025000
RDYOPEND EQU   RDYFLAGS                                                 03026000
RDYPRIA  EQU   IEDRDY+12                                                03027000
RDYRSMA  EQU   IEDRDY+4                                                 03028000
RDYGMMA  EQU   IEDRDY                                                   03029000
QCBTTCIN EQU   QCBPLCBA+1                                               03030000
@NM00188 EQU   QCBPLCBA                                                 03031000
@NM00187 EQU   QCBSTAT1                                                 03032000
QCBFLUSH EQU   QCBSTAT1                                                 03033000
QCBNDXRQ EQU   QCBSTAT1                                                 03034000
QCBESIG  EQU   QCBSTAT1                                                 03035000
QCBRCVRQ EQU   QCBSTAT1                                                 03036000
QCBWAITC EQU   QCBSTAT1                                                 03037000
QCBPLCBN EQU   QCBSTAT1                                                 03038000
QCBCHAIN EQU   IEDNQCB                                                  03039000
QCBPQBCK EQU   IEDQPQCB+25                                              03040000
QCBPRIPQ EQU   IEDQPQCB+24                                              03041000
QCBCFHDR EQU   IEDQPQCB+21                                              03042000
QCBLFEFO EQU   IEDQPQCB+18                                              03043000
QCBFFEFO EQU   IEDQPQCB+15                                              03044000
QCBPREVF EQU   QCBINTLF                                                 03045000
QCBINTFF EQU   IEDQPQCB+9                                               03046000
QCBDATSQ EQU   QCBFHDTZ+1                                               03047000
@NM00186 EQU   QCBFHDTZ                                                 03048000
@NM00185 EQU   QCBPFEFO                                                 03049000
QCBDATFL EQU   QCBFHDLZ                                                 03050000
QCBDNHDR EQU   IEDQPQCB                                                 03051000
QCBQBACK EQU   IEDQQCB+37                                               03052000
QCBCKPT  EQU   QCBFLAG                                                  03053000
QCBPROC  EQU   QCBFLAG                                                  03054000
QCBTERMQ EQU   QCBFLAG                                                  03055000
QCBRSRV  EQU   QCBFLAG                                                  03056000
QCBREAD  EQU   QCBFLAG                                                  03057000
QCBNOBRK EQU   QCBFLAG                                                  03058000
QCBLGBAD EQU   QCBDCBAD                                                 03059000
QCBRELLN EQU   IEDQQCB+32                                               03060000
QCBTJID  EQU   QCBLKRRN+1                                               03061000
QCBCARCT EQU   QCBLKRRN                                                 03062000
QCBPRLVL EQU   QCBPREN                                                  03063000
QCBMSGCT EQU   IEDQQCB+26                                               03064000
QCBEXTO  EQU   QCBINTVL                                                 03065000
QCBDISC  EQU   QCBTSOF1                                                 03066000
QCBDELAY EQU   QCBTSOF1                                                 03067000
QCBPARTO EQU   QCBTSOF1                                                 03068000
QCBSATRD EQU   QCBTSOF1                                                 03069000
QCBNOBUF EQU   QCBTSOF1                                                 03070000
QCBTPUT  EQU   QCBTSOF1                                                 03071000
QCBTGET  EQU   QCBTSOF1                                                 03072000
QCBWRBRK EQU   QCBTSOF1                                                 03073000
QCBSATLC EQU   QCBTSOF2                                                 03074000
QCBSATTI EQU   QCBTSOF2                                                 03075000
QCBSATCH EQU   QCBTSOF2                                                 03076000
QCBSIMRD EQU   QCBTSOF2                                                 03077000
QCBDSSMI EQU   QCBTSOF2                                                 03078000
QCBPOSTO EQU   QCBTSOF2                                                 03079000
QCBBUFQ  EQU   QCBTSOF2                                                 03080000
QCBINHBN EQU   QCBTSOF2                                                 03081000
QCBSATCT EQU   @NM00184                                                 03082000
QCBSCBOF EQU   IEDQQCB+20                                               03083000
QCBTIME  EQU   QCBSTAT                                                  03084000
QCBCLOCK EQU   QCBSTAT                                                  03085000
QCBSCHDL EQU   QCBSTAT                                                  03086000
QCBSMODE EQU   QCBSTAT                                                  03087000
QCBSEND  EQU   QCBSTAT                                                  03088000
QCBBUFRD EQU   QCBSTAT                                                  03089000
QCBTRMHO EQU   QCBSTAT                                                  03090000
QCBEOM   EQU   QCBSTAT                                                  03091000
QCBHUCT  EQU   QCBRETCT                                                 03092000
QCBIEND  EQU   QCBRETCT                                                 03093000
QCBEND   EQU   QCBRETCT                                                 03094000
QCBNL    EQU   QCBRETCT                                                 03095000
QCBLOGCT EQU   QCBRETCT                                                 03096000
@NM00183 EQU   QCBBYTE1                                                 03097000
QCBRITRM EQU   QCBBYTE1                                                 03098000
@NM00182 EQU   QCBEOLDT                                                 03099000
QCBSLINK EQU   IEDQQCB+13                                               03100000
QCBSTPRI EQU   IEDQQCB+12                                               03101000
QCBSTCHN EQU   IEDQQCB+9                                                03102000
QCBSTVTO EQU   IEDQQCB+8                                                03103000
QCBLINK  EQU   IEDQQCB+5                                                03104000
QCBPRI   EQU   IEDQQCB+4                                                03105000
QCBELCHN EQU   IEDQQCB+1                                                03106000
QCBHELD  EQU   QCBDSFLG                                                 03107000
QCBFQCB  EQU   QCBDSFLG                                                 03108000
QCBDRQQ  EQU   QCBDSFLG                                                 03109000
QCBREUS  EQU   QCBDISK                                                  03110000
QCBNREUS EQU   QCBDISK                                                  03111000
QCBCORE  EQU   QCBDSFLG                                                 03112000
QCBTSQ   EQU   QCBDSFLG                                                 03113000
PRF2SEQP EQU   PRF2WD2                                                  03114000
@NM00181 EQU   IEDPF2+1                                                 03115000
@NM00180 EQU   PRF2FLG2                                                 03116000
PRF2TERM EQU   PRF2FLG2                                                 03117000
PRF2SMI  EQU   PRF2FLG2                                                 03118000
PRF2FORM EQU   PRF2FLG2                                                 03119000
PRF1RULN EQU   PRF1SEQP+2                                               03120000
PRF1TAG2 EQU   PRF1SQID+1                                               03121000
@NM00179 EQU   PRF1TAG1                                                 03122000
PRF1TAGS EQU   PRF1TAG1                                                 03123000
@NM00178 EQU   PRF1FLG1                                                 03124000
PRF1LOGD EQU   PRF1FLG1                                                 03125000
PRF1USS  EQU   PRF1FLG1                                                 03126000
PRF1FORM EQU   PRF1FLG1                                                 03127000
PRF1EXPI EQU   PRF1FLG1                                                 03128000
PRF1FIDI EQU   PRF1FLG1                                                 03129000
PRF1RH   EQU   IEDPF1                                                   03130000
PRFISEQ  EQU   IEDQPRF+38                                               03131000
PRFSTXT  EQU   PRFHQBCK                                                 03132000
PRFNHDR  EQU   PRFCHDR                                                  03133000
PRFCRCD  EQU   IEDQPRF+29                                               03134000
PRFSVSEQ EQU   PRFNTXT+1                                                03135000
PRFSVPRI EQU   PRFEOBOF                                                 03136000
PRFISIZE EQU   PRFSCAN+1                                                03137000
@NM00177 EQU   PRFSCAN                                                  03138000
PRFEOB   EQU   PRFXTRA+1                                                03139000
PRFSTSO  EQU   PRFXTRA                                                  03140000
PRFNHDRN EQU   PRFSTAT1                                                 03141000
PRFLOCK  EQU   PRFEOFN                                                  03142000
PRFDUPLN EQU   PRFSTAT1                                                 03143000
PRFTSMSG EQU   PRFSTAT1                                                 03144000
PRFITCPN EQU   PRFSTAT1                                                 03145000
PRFERMGN EQU   PRFSTAT1                                                 03146000
PRFCNCLN EQU   PRFSTAT1                                                 03147000
PRFSVFLG EQU   @NM00176+3                                               03148000
PRFSRCE  EQU   PRFSVFFO                                                 03149000
PRFTI0   EQU   PRFTIC+1                                                 03150000
@NM00175 EQU   PRFTICC                                                  03151000
@NM00174 EQU   PRFTICC                                                  03152000
@NM00173 EQU   PRFTICC                                                  03153000
@NM00172 EQU   PRFTICC                                                  03154000
@NM00171 EQU   PRFTICC                                                  03155000
PRFBFMM  EQU   PRFTICC                                                  03156000
PRFEOMSG EQU   PRFTICC                                                  03157000
PRFCOUNT EQU   PRFLINK+1                                                03158000
@NM00170 EQU   PRFLINK                                                  03159000
PRFFLAGS EQU   PRFPRI                                                   03160000
PRFIOADR EQU   PRFQCBA                                                  03161000
PRFOPCDE EQU   PRFKEY                                                   03162000
MODNINTE EQU   MODNEW2                                                  03163000
MODNSUBB EQU   MODNEW2                                                  03164000
MODNINTO EQU   MODNEIBJ                                                 03165000
MODNRLGR EQU   MODNEW2                                                  03166000
MODNRERP EQU   MODNEW2                                                  03167000
@NM00169 EQU   MODNEW2                                                  03168000
MODNCTXT EQU   MODNEW1                                                  03169000
MODNEMLC EQU   MODNEW1                                                  03170000
MODNITFL EQU   MODNEW1                                                  03171000
@NM00168 EQU   MODNEW1                                                  03172000
MODNEIBD EQU   MODNEW1                                                  03173000
MODNRLGW EQU   MODNEW1                                                  03174000
MODNWERP EQU   MODNEW1                                                  03175000
@NM00167 EQU   MODNEW1                                                  03176000
MODCMNTP EQU   MODCUR2                                                  03177000
MODCMNTR EQU   MODCUR2                                                  03178000
MODCINTE EQU   MODCUR2                                                  03179000
MODCSUBB EQU   MODCUR2                                                  03180000
MODCINTO EQU   MODCEIBJ                                                 03181000
MODCRLGR EQU   MODCUR2                                                  03182000
MODCRERP EQU   MODCUR2                                                  03183000
@NM00166 EQU   MODCUR2                                                  03184000
MODCCTXT EQU   MODCUR1                                                  03185000
MODCEMLC EQU   MODCUR1                                                  03186000
MODCITFL EQU   MODCUR1                                                  03187000
@NM00165 EQU   MODCUR1                                                  03188000
MODCEIBD EQU   MODCUR1                                                  03189000
MODCRLGW EQU   MODCUR1                                                  03190000
MODCWERP EQU   MODCUR1                                                  03191000
@NM00164 EQU   MODCUR1                                                  03192000
MODLNG   EQU   IEDQMOD                                                  03193000
LGBIVLST EQU   IEDNLGB+60                                               03194000
LGBRESV4 EQU   LGBRESER+3                                               03195000
LGBRESV3 EQU   LGBRESER+2                                               03196000
LGBRESV2 EQU   LGBRESER+1                                               03197000
LGBRESV1 EQU   LGBRESER                                                 03198000
LGBBUFSI EQU   IEDNLGB+54                                               03199000
@NM00163 EQU   IEDNLGB+53                                               03200000
LGBILCT  EQU   IEDNLGB+52                                               03201000
LGBSCTAD EQU   IEDNLGB+49                                               03202000
@NM00162 EQU   LGBOFLGS                                                 03203000
LGBOPEN  EQU   LGBOFLGS                                                 03204000
@NM00161 EQU   LGBOFLGS                                                 03205000
LGBNAME  EQU   IEDNLGB+40                                               03206000
@NM00160 EQU   IEDNLGB+36                                               03207000
LGBTRANS EQU   IEDNLGB+33                                               03208000
@NM00159 EQU   IEDNLGB+32                                               03209000
@NM00158 EQU   IEDNLGB+31                                               03210000
LGBOPACE EQU   IEDNLGB+30                                               03211000
@NM00157 EQU   LGBBYTE                                                  03212000
LGBPACK  EQU   LGBBYTE                                                  03213000
LGBBUFMA EQU   IEDNLGB+28                                               03214000
LGBDSORG EQU   IEDNLGB+26                                               03215000
@NM00156 EQU   LGBPCI                                                   03216000
@NM00155 EQU   LGBPCI                                                   03217000
LGBPCINO EQU   LGBPCI                                                   03218000
@NM00154 EQU   LGBPCI                                                   03219000
LGBPCIAO EQU   LGBPCI                                                   03220000
@NM00153 EQU   LGBPCI                                                   03221000
@NM00152 EQU   LGBPCI                                                   03222000
@NM00151 EQU   LGBPCI                                                   03223000
@NM00150 EQU   IEDNLGB+24                                               03224000
LGBMHA   EQU   IEDNLGB+21                                               03225000
@NM00149 EQU   LGBBUFOU                                                 03226000
LGBPREF  EQU   LGBBUFOU                                                 03227000
@NM00148 EQU   LGBBUFOU                                                 03228000
LGBSUBST EQU   IEDNLGB+18                                               03229000
LGBTYPE  EQU   IEDNLGB+17                                               03230000
@NM00147 EQU   IEDNLGB                                                  03231000
LCBERADR EQU   LCBXRADR+1                                               03232000
LCBPCIRC EQU   LCBXRADR                                                 03233000
LCBDCT3  EQU   LCBXDCT+2                                                03234000
LCBDCT2  EQU   LCBXDCT+1                                                03235000
LCBDCT1  EQU   LCBXDCT                                                  03236000
@NM00146 EQU   LCBXFLAG                                                 03237000
LCBERPND EQU   LCBXFLAG                                                 03238000
LCBSRCPF EQU   LCBXFLAG                                                 03239000
LCBGPCTV EQU   LCBXFLAG                                                 03240000
@NM00145 EQU   LCBXFLAG                                                 03241000
@NM00144 EQU   LCBXFLAG                                                 03242000
@NM00143 EQU   LCBXFLAG                                                 03243000
@NM00142 EQU   LCBXFLAG                                                 03244000
LCBCCW10 EQU   LCBCPA+72                                                03245000
LCBCCW9  EQU   LCBCPA+64                                                03246000
LCBCCW8  EQU   LCBCPA+56                                                03247000
LCBCCW7  EQU   LCBCPA+48                                                03248000
LCBCCW6  EQU   LCBCPA+40                                                03249000
LCBCP    EQU   LCBQEBPL+4                                               03250000
LCBIOSB  EQU   LCBQEBPL+1                                               03251000
LCBSIO   EQU   LCBQEBPL                                                 03252000
LCBCCW4  EQU   LCBCPA+24                                                03253000
LCBCCW3  EQU   LCBCPA+16                                                03254000
LCBCCW2  EQU   LCBCPA+8                                                 03255000
LCBCCW1  EQU   LCBCPA                                                   03256000
@NM00127 EQU   LCBERCCW+16                                              03257000
LCBATL05 EQU   LCBERCCW+8                                               03258000
@NM00126 EQU   LCBERCCW                                                 03259000
LCBCSWSV EQU   LCBSAVSN+1                                               03260000
LCBSNSV  EQU   LCBSAVSN                                                 03261000
LCBBFSNS EQU   LCBRSPSV                                                 03262000
LCBWAITC EQU   LCBTPCD+5                                                03263000
LCBINPAK EQU   LCBSTAT6                                                 03264000
LCBMHBID EQU   LCBSTAT6                                                 03265000
LCBHDRPD EQU   LCBSTAT6                                                 03266000
LCBCHN   EQU   LCBSTAT6                                                 03267000
@NM00125 EQU   LCBSTAT5                                                 03268000
LCBLUS   EQU   LCBSTAT5                                                 03269000
LCBLUNIT EQU   LCBSTAT5                                                 03270000
LCBPERM  EQU   LCBSTAT5                                                 03271000
LCBNXCMD EQU   LCBBFRW                                                  03272000
LCBERMSK EQU   LCBOBRCH                                                 03273000
LCBOLT   EQU   LCBMSGFM                                                 03274000
LCBENQ   EQU   LCBMSGFM                                                 03275000
LCBTTD   EQU   LCBMSGFM                                                 03276000
LCBRSTRT EQU   LCBMSGFM                                                 03277000
LCBVSTRT EQU   LCBMSGFM                                                 03278000
LCBACKI  EQU   LCBMSGFM                                                 03279000
LCBNAK   EQU   LCBMSGFM                                                 03280000
@NM00124 EQU   LCBRBCT2                                                 03281000
LCBDCNT  EQU   LCBRBCT2                                                 03282000
LCBCOMPL EQU   LCBDLNKN                                                 03283000
LCBERROR EQU   LCBERBST                                                 03284000
@NM00123 EQU   LCBERBST                                                 03285000
LCBINQ   EQU   LCBERBST                                                 03286000
LCBRDERR EQU   LCBERBST                                                 03287000
LCBEOMSG EQU   LCBERBST                                                 03288000
LCBMSG   EQU   LCBERBST                                                 03289000
LCBERBLK EQU   IEDQLCB+81                                               03290000
LCBERBKY EQU   LCBERB                                                   03291000
LCBRECAD EQU   IEDQLCB+73                                               03292000
@NM00122 EQU   LCBTSTSW                                                 03293000
@NM00121 EQU   LCBTSTSW                                                 03294000
@NM00120 EQU   LCBTSTSW                                                 03295000
@NM00119 EQU   LCBTSTSW                                                 03296000
@NM00118 EQU   LCBTSTSW                                                 03297000
@NM00117 EQU   LCBTSTSW                                                 03298000
@NM00116 EQU   LCBTSTSW                                                 03299000
LCBCONCT EQU   LCBTSTSW                                                 03300000
LCBBFRAV EQU   LCBDIAL                                                  03301000
LCBATTN  EQU   LCBSYNC                                                  03302000
LCBSNDPR EQU   LCBSTAT2                                                 03303000
LCBMSGNN EQU   LCBSTAT2                                                 03304000
LCBTRACE EQU   LCBSTAT2                                                 03305000
LCBRECVN EQU   LCBSTAT1                                                 03306000
LCBFREEN EQU   LCBSTAT1                                                 03307000
LCBINITN EQU   LCBSTAT1                                                 03308000
LCBOCNI  EQU   LCBSTAT1                                                 03309000
LCBOCWTN EQU   LCBSTAT1                                                 03310000
LCBRECOF EQU   IEDQLCB+68                                               03311000
LCBRDBFR EQU   LCBRCBFR                                                 03312000
LCBUCBX  EQU   IEDQLCB+64                                               03313000
LCBTTBIN EQU   LCBERRCT                                                 03314000
@NM00115 EQU   LCBINCAM                                                 03315000
LCBGETMN EQU   LCBINCAM                                                 03316000
LCBRESTR EQU   LCBRCQCB                                                 03317000
LCBPCILK EQU   LCBDCBPT                                                 03318000
LCBSTART EQU   LCBIOBSN+16                                              03319000
LCBAP4OL EQU   LCBSIOCC                                                 03320000
LCBAP3OL EQU   LCBSIOCC                                                 03321000
LCBAP2OL EQU   LCBSIOCC                                                 03322000
LCBAP1OL EQU   LCBSIOCC                                                 03323000
LCBSIOC2 EQU   LCBSIOCC                                                 03324000
LCBSIOC1 EQU   LCBSIOCC                                                 03325000
@NM00114 EQU   LCBSIOCC                                                 03326000
LCBCSWRC EQU   LCBCSW+5                                                 03327000
LCBCSCHC EQU   LCBCSWCS                                                 03328000
LCBCSICC EQU   LCBCSWCS                                                 03329000
LCBCSCCC EQU   LCBCSWCS                                                 03330000
LCBCSCDC EQU   LCBCSWCS                                                 03331000
LCBCSPTC EQU   LCBCSWCS                                                 03332000
LCBCSPGC EQU   LCBCSWCS                                                 03333000
LCBCSIL  EQU   LCBCSWCS                                                 03334000
LCBCSPCI EQU   LCBCSWCS                                                 03335000
LCBUSUE  EQU   LCBCSWUS                                                 03336000
LCBUSUC  EQU   LCBCSWUS                                                 03337000
LCBUSDE  EQU   LCBCSWUS                                                 03338000
LCBUSCE  EQU   LCBCSWUS                                                 03339000
LCBUSBSY EQU   LCBCSWUS                                                 03340000
LCBUSCUE EQU   LCBCSWUS                                                 03341000
LCBUSSM  EQU   LCBCSWUS                                                 03342000
LCBUSAT  EQU   LCBCSWUS                                                 03343000
LCBCSWCA EQU   LCBCSW                                                   03344000
LCBOBR   EQU   LCBFLAG3                                                 03345000
LCBOBRRD EQU   LCBFLAG3                                                 03346000
LCBIOMSG EQU   LCBFLAG3                                                 03347000
LCBSOHC  EQU   LCBFLAG3                                                 03348000
LCBRLAD  EQU   LCBFLAG3                                                 03349000
LCBSOHR  EQU   LCBFLAG3                                                 03350000
@NM00113 EQU   LCBFLAG3                                                 03351000
LCBECBPT EQU   LCBIOBSN+4                                               03352000
LCBECBCC EQU   LCBIOBSN+3                                               03353000
LCBSENS1 EQU   LCBSNS+1                                                 03354000
LCBABORT EQU   LCBTMOUT                                                 03355000
LCBNOTIN EQU   LCBLOSDT                                                 03356000
LCBOVRUN EQU   LCBSENS0                                                 03357000
LCBDATCK EQU   LCBSENS0                                                 03358000
LCBEQUCK EQU   LCBSENS0                                                 03359000
LCBBUSCK EQU   LCBSENS0                                                 03360000
LCBINTRQ EQU   LCBSENS0                                                 03361000
LCBCMDRJ EQU   LCBSENS0                                                 03362000
LCBFLAG2 EQU   LCBIOBSN                                                 03363000
@NM00112 EQU   LCBFLAG1                                                 03364000
LCBUNREL EQU   LCBFLAG1                                                 03365000
LCBEXCPN EQU   LCBFLAG1                                                 03366000
@NM00111 EQU   LCBFLAG1                                                 03367000
LCBERPIN EQU   LCBFLAG1                                                 03368000
@NM00110 EQU   LCBFLAG1                                                 03369000
LCBFSBFR EQU   LCBMHA                                                   03370000
LCBISZE  EQU   IEDQLCB+28                                               03371000
LCBLNENT EQU   LCBSCBDA+1                                               03372000
@NM00109 EQU   LCBSCBDA                                                 03373000
LCBCPGMH EQU   LCBSTAT4                                                 03374000
LCBREAL  EQU   LCBPHASE                                                 03375000
@NM00108 EQU   LCBSTAT4                                                 03376000
LCBACTRQ EQU   LCBSTAT4                                                 03377000
LCBIPLRQ EQU   LCBSTAT4                                                 03378000
LCBDACRQ EQU   LCBSTAT4                                                 03379000
LCBDMPRQ EQU   LCBSTAT4                                                 03380000
@NM00107 EQU   LCBLKMDE                                                 03381000
LCBLOCKI EQU   LCBLKMDE                                                 03382000
LCBLOCKR EQU   LCBLKMDE                                                 03383000
LCBHMFLG EQU   LCBLKMDE                                                 03384000
LCBBDFLG EQU   LCBLKMDE                                                 03385000
@NM00106 EQU   LCBINSRC                                                 03386000
LCBCTLMD EQU   LCBTETEN                                                 03387000
LCBBFRSZ EQU   LCBCHAIN                                                 03388000
LCBUREQN EQU   LCBCHAIN                                                 03389000
LCBNORTY EQU   LCBCHAIN                                                 03390000
LCBERMSG EQU   LCBCHAIN                                                 03391000
LCBEXCP  EQU   LCBCHAIN                                                 03392000
LCBINVRQ EQU   LCBSCRNN                                                 03393000
LCB2741N EQU   LCBTSOB                                                  03394000
LCBINHBN EQU   LCBTSOB                                                  03395000
LCBCIRCD EQU   LCBTSOB                                                  03396000
LCBPREP  EQU   LCBTSOB                                                  03397000
LCBSOPL  EQU   LCBTSOB                                                  03398000
LCBSATRD EQU   LCBTSOB                                                  03399000
LCBTSBUF EQU   LCBTSOB                                                  03400000
LCBWRBRK EQU   LCBTSOB                                                  03401000
LCBTDL   EQU   IEDQLCB+18                                               03402000
LCBEOLTD EQU   IEDQLCB+16                                               03403000
LCBRSLNK EQU   IEDQLCB+13                                               03404000
LCBRSPRI EQU   IEDQLCB+12                                               03405000
LCBRSKEY EQU   IEDQLCB+8                                                03406000
LCBLINK  EQU   LCBRCB+5                                                 03407000
LCBKEY   EQU   LCBRCB                                                   03408000
@NM00105 EQU   DCTBYTE5                                                 03409000
DCTL3270 EQU   DCTBYTE5                                                 03410000
DCTSCS   EQU   DCTBYTE5                                                 03411000
DCTTSPRF EQU   DCTBYTE4                                                 03412000
DCTFMPRF EQU   DCTBYTE4                                                 03413000
DCT2760  EQU   DCTBYTE3                                                 03414000
DCTNOIDL EQU   DCTBYTE3                                                 03415000
DCTCONTN EQU   DCTBYTE3                                                 03416000
DCTBUFF  EQU   DCTBYTE3                                                 03417000
DCTCHECK EQU   DCTBYTE3                                                 03418000
DCTENCTL EQU   DCTBYTE3                                                 03419000
DCTWTTA  EQU   DCTBYTE3                                                 03420000
DCT1050  EQU   DCTBYTE3                                                 03421000
DCTAUDIO EQU   DCTBYTE2                                                 03422000
DCTLOCAL EQU   DCTBYTE2                                                 03423000
DCTCONT  EQU   DCTBYTE2                                                 03424000
DCTXMIT  EQU   DCTBYTE2                                                 03425000
DCTSTCTL EQU   DCTBYTE2                                                 03426000
DCTTWX   EQU   DCTBYTE2                                                 03427000
DCTBRDST EQU   DCTBYTE2                                                 03428000
DCTBISYN EQU   DCTBYTE2                                                 03429000
DCTUMASK EQU   DCTBYTE1                                                 03430000
DCTSADEV EQU   DCTBYTE1                                                 03431000
DCT2741  EQU   DCTBYTE1                                                 03432000
DCT5041  EQU   DCTBYTE1                                                 03433000
DCTATTEN EQU   DCTBYTE1                                                 03434000
DCTBREAK EQU   DCTBYTE1                                                 03435000
DCTINHIB EQU   DCTBYTE1                                                 03436000
DCTBYTE0 EQU   IEDDCT                                                   03437000
BDUXGRPH EQU   BDUEXRSP                                                 03438000
BDUXFINL EQU   BDUEXRSP                                                 03439000
BDUXINIT EQU   BDUEXRSP                                                 03440000
BDURESP  EQU   BDUSYRSP                                                 03441000
BDUPHASE EQU   BDUSYRSP                                                 03442000
BDUERROR EQU   BDUSYRSP                                                 03443000
BDUALTAK EQU   BDUFNFLG                                                 03444000
BDUTPTX  EQU   BDUFNFLG                                                 03445000
BDULEADG EQU   BDUFNFLG                                                 03446000
BDUSTHDR EQU   BDUFNFLG                                                 03447000
SAVTBITN EQU   IEDNSVTD+312                                             03448000
@NM00104 EQU   SAVTCKQB+8                                               03449000
@NM00103 EQU   SAVTCKEC+1                                               03450000
@NM00102 EQU   SAVTCKCC                                                 03451000
SAVTCKPO EQU   SAVTCKCC                                                 03452000
SAVTCKWA EQU   SAVTCKCC                                                 03453000
SAVTCKCH EQU   SAVTCKTB+1                                               03454000
SAVTCKVT EQU   SAVTCKTB                                                 03455000
@NM00101 EQU   IEDNSVTD+297                                             03456000
SAVTRDFG EQU   SAVTRDRV+12                                              03457000
@NM00100 EQU   SAVTRDRV+5                                               03458000
SAVTRDPY EQU   SAVTRDRV+4                                               03459000
SAVTRDQB EQU   SAVTRDRV+1                                               03460000
SAVTRDKY EQU   SAVTRDRV                                                 03461000
SAVTNID  EQU   IEDNSVTD+280                                             03462000
SAVTDVAS EQU   IEDNSVTD+276                                             03463000
SAVTPLSZ EQU   IEDNSVTD+274                                             03464000
@NM00099 EQU   IEDNSVTD+273                                             03465000
SAVTSUBL EQU   IEDNSVTD+272                                             03466000
@NM00098 EQU   SAVTZELM+1                                               03467000
SAVTSUBM EQU   SAVTZELM                                                 03468000
SAVTMHDX EQU   IEDNSVTD+268                                             03469000
SAVTNAT1 EQU   IEDNSVTD+266                                             03470000
SAVTSH20 EQU   IEDNSVTD+264                                             03471000
SAVTLCBS EQU   IEDNSVTD+260                                             03472000
SAVTRNMP EQU   IEDNSVTD+256                                             03473000
SAVTTNTX EQU   IEDNSVTD+252                                             03474000
SAVTNAX  EQU   IEDNSVTD+248                                             03475000
SAVTSUBV EQU   IEDNSVTD+247                                             03476000
SAVTSUBA EQU   IEDNSVTD+246                                             03477000
SAVTSIBC EQU   IEDNSVTD+244                                             03478000
SAVTBSM  EQU   IEDNSVTD+240                                             03479000
SAVTSCPT EQU   SAVTTCPU                                                 03480000
SAVTRQTG EQU   IEDNSVTD+236                                             03481000
SAVTRQCH EQU   IEDNSVTD+232                                             03482000
SAVTMAND EQU   IEDNSVTD+228                                             03483000
SAVTSPLN EQU   IEDNSVTD+224                                             03484000
SAVTNADL EQU   IEDNSVTD+222                                             03485000
SAVTNATL EQU   IEDNSVTD+220                                             03486000
SAVTMHTB EQU   IEDNSVTD+216                                             03487000
SAVTSSMH EQU   IEDNSVTD+212                                             03488000
SAVTQRS  EQU   IEDNSVTD+208                                             03489000
SAVTRQIN EQU   IEDNSVTD+204                                             03490000
SAVTSARI EQU   IEDNSVTD+192                                             03491000
SAVTSAC  EQU   IEDNSVTD+188                                             03492000
SAVTSAI  EQU   IEDNSVTD+184                                             03493000
SAVTCSCI EQU   IEDNSVTD+180                                             03494000
SAVTSSRP EQU   IEDNSVTD+176                                             03495000
SAVTSSRQ EQU   IEDNSVTD+172                                             03496000
SAVTSCLU EQU   IEDNSVTD+168                                             03497000
SAVTXTRQ EQU   IEDNSVTD+164                                             03498000
SAVTMVBF EQU   IEDNSVTD+160                                             03499000
@NM00097 EQU   IEDNSVTD+148                                             03500000
SAVTIPCQ EQU   IEDNSVTD+144                                             03501000
@NM00096 EQU   IEDNSVTD+136                                             03502000
SAVTXFMI EQU   IEDNSVTD+132                                             03503000
@NM00095 EQU   IEDNSVTD+124                                             03504000
SAVTXFMO EQU   IEDNSVTD+120                                             03505000
@NM00094 EQU   IEDNSVTD+116                                             03506000
SAVTSSSR EQU   IEDNSVTD+112                                             03507000
SAVTSCPQ EQU   IEDNSVTD+108                                             03508000
SAVTSLCB EQU   IEDNSVTD+104                                             03509000
SAVTLUSR EQU   IEDNSVTD+100                                             03510000
@NM00093 EQU   SAVTLUSQ+8                                               03511000
SAVTLUSP EQU   SAVTLUSQ+4                                               03512000
SAVTLUSB EQU   SAVTLUSQ                                                 03513000
@NM00092 EQU   IEDNSVTD+84                                              03514000
SAVTSAT  EQU   IEDNSVTD+80                                              03515000
SAVTNAT  EQU   IEDNSVTD+76                                              03516000
SAVTCLUP EQU   IEDNSVTD+72                                              03517000
SAVTPIUT EQU   IEDNSVTD+68                                              03518000
SAVTRNTA EQU   IEDNSVTD+64                                              03519000
SAVTDNIR EQU   IEDNSVTD+60                                              03520000
SAVTFLDH EQU   IEDNSVTD+52                                              03521000
SAVTSRTN EQU   IEDNSVTD+48                                              03522000
SAVTSREQ EQU   IEDNSVTD+44                                              03523000
SAVTFAIL EQU   IEDNSVTD+42                                              03524000
SAVTSUSE EQU   IEDNSVTD+40                                              03525000
SAVTSIB  EQU   IEDNSVTD+36                                              03526000
@NM00091 EQU   IEDNSVTD+28                                              03527000
SAVTWH20 EQU   IEDNSVTD+26                                              03528000
SAVTPWT  EQU   IEDNSVTD+24                                              03529000
SAVTPRTQ EQU   IEDNSVTD+20                                              03530000
SAVTPREQ EQU   IEDNSVTD+16                                              03531000
SAVTPH20 EQU   IEDNSVTD+14                                              03532000
SAVTPUSE EQU   IEDNSVTD+12                                              03533000
SAVTPLCB EQU   IEDNSVTD+8                                               03534000
SAVTPOOL EQU   IEDNSVTD+4                                               03535000
SAVTPRMT EQU   SAVTDIAF                                                 03536000
SAVTVIRT EQU   SAVTDIAF                                                 03537000
AVTCPBNO EQU   IEDQAVTD+1172                                            03538000
AVTHRESS EQU   IEDQAVTD+1171                                            03539000
@NM00090 EQU   IEDQAVTD+1170                                            03540000
@NM00089 EQU   IEDQAVTD+1169                                            03541000
@NM00088 EQU   IEDQAVTD+1168                                            03542000
@NM00087 EQU   IEDQAVTD+1165                                            03543000
@NM00086 EQU   IEDQAVTD+1164                                            03544000
AVTHRESE EQU   @NM00085                                                 03545000
AVTRADDR EQU   IEDQAVTD+1156                                            03546000
AVTNADDR EQU   IEDQAVTD+1152                                            03547000
AVTHRESN EQU   IEDQAVTD+1148                                            03548000
AVTVOLRN EQU   IEDQAVTD+1144                                            03549000
AVTTOTNN EQU   IEDQAVTD+1140                                            03550000
AVTTRCYN EQU   IEDQAVTD+1136                                            03551000
AVTRCTRN EQU   IEDQAVTD+1132                                            03552000
AVTNOVON EQU   IEDQAVTD+1128                                            03553000
AVTADEBN EQU   IEDQAVTD+1124                                            03554000
AVTVOLRR EQU   IEDQAVTD+1120                                            03555000
AVTTOTNR EQU   IEDQAVTD+1116                                            03556000
AVTTRCYR EQU   IEDQAVTD+1112                                            03557000
AVTRCTRR EQU   IEDQAVTD+1108                                            03558000
AVTNOVOR EQU   IEDQAVTD+1104                                            03559000
AVTADEBR EQU   IEDQAVTD+1100                                            03560000
AVTLODPT EQU   IEDQAVTD+1096                                            03561000
AVTIOBN  EQU   IEDQAVTD+1092                                            03562000
AVTIOBR  EQU   IEDQAVTD+1088                                            03563000
AVTCPBPT EQU   IEDQAVTD+1084                                            03564000
AVTFCPB  EQU   IEDQAVTD+1080                                            03565000
@NM00084 EQU   IEDQAVTD+1076                                            03566000
AVTINCPQ EQU   IEDQAVTD+1072                                            03567000
@NM00083 EQU   IEDQAVTD+1068                                            03568000
@NM00082 EQU   IEDQAVTD+1065                                            03569000
@NM00081 EQU   AVTBIT4                                                  03570000
@NM00080 EQU   AVTBIT4                                                  03571000
@NM00079 EQU   AVTBIT4                                                  03572000
@NM00078 EQU   AVTBIT4                                                  03573000
@NM00077 EQU   AVTBIT4                                                  03574000
@NM00076 EQU   AVTBIT4                                                  03575000
@NM00075 EQU   AVTBIT4                                                  03576000
AVTRUFTN EQU   AVTBIT4                                                  03577000
@NM00074 EQU   IEDQAVTD+1060                                            03578000
AVTNOBFQ EQU   IEDQAVTD+1056                                            03579000
@NM00073 EQU   IEDQAVTD+1052                                            03580000
AVTDKENQ EQU   IEDQAVTD+1048                                            03581000
@NM00072 EQU   IEDQAVTD+1044                                            03582000
AVTDKAPQ EQU   IEDQAVTD+1040                                            03583000
AVTCOPY  EQU   IEDQAVTD+1036                                            03584000
AVTIA    EQU   IEDQAVTD+1032                                            03585000
AVTFL    EQU   IEDQAVTD+1028                                            03586000
@NM00071 EQU   IEDQAVTD+1024                                            03587000
AVTNCPBQ EQU   IEDQAVTD+1020                                            03588000
AVTTOTNC EQU   IEDQAVTD+1016                                            03589000
AVTCMAX  EQU   IEDQAVTD+1012                                            03590000
AVTCMIN  EQU   IEDQAVTD+1008                                            03591000
AVTHM02  EQU   IEDQAVTD+1004                                            03592000
AVTOPCIN EQU   IEDQAVTD+1002                                            03593000
AVTOPMSK EQU   IEDQAVTD+996                                             03594000
AVTOPTN  EQU   IEDQAVTD+984                                             03595000
AVTDSKCT EQU   IEDQAVTD+982                                             03596000
AVTCKRST EQU   IEDQAVTD+981                                             03597000
AVTSTAN  EQU   AVTBIT3                                                  03598000
AVTSTACN EQU   AVTBIT3                                                  03599000
AVTSTAIN EQU   AVTBIT3                                                  03600000
AVTSTAYN EQU   AVTBIT3                                                  03601000
AVTOLTBN EQU   AVTBIT3                                                  03602000
AVTTSAB  EQU   AVTBIT3                                                  03603000
AVTRFULN EQU   AVTBIT3                                                  03604000
AVTRECVN EQU   AVTBIT3                                                  03605000
@NM00070 EQU   AVTBIT2                                                  03606000
@NM00069 EQU   AVTBIT2                                                  03607000
AVTOPEIN EQU   AVTBIT2                                                  03608000
AVTSTRTN EQU   AVTBIT2                                                  03609000
AVTTOPOL EQU   AVTBIT2                                                  03610000
AVTCOPYN EQU   AVTBIT2                                                  03611000
AVTREUSN EQU   AVTBIT2                                                  03612000
AVTEXTSC EQU   AVTBIT2                                                  03613000
AVTDISKN EQU   AVTBIT1                                                  03614000
AVTQUCKN EQU   AVTBIT1                                                  03615000
AVTCLOSN EQU   AVTBIT1                                                  03616000
AVTREADN EQU   AVTBIT1                                                  03617000
AVTDLAYN EQU   AVTBIT1                                                  03618000
AVTAQTAN EQU   AVTBIT1                                                  03619000
AVTTSON  EQU   AVTBIT1                                                  03620000
AVTAPLKN EQU   AVTBIT1                                                  03621000
AVTDUMBR EQU   IEDQAVTD+976                                             03622000
AVTDLQX  EQU   IEDQAVTD+974                                             03623000
AVTINTLV EQU   IEDQAVTD+972                                             03624000
AVTSMCNT EQU   IEDQAVTD+970                                             03625000
AVTAVFCT EQU   IEDQAVTD+968                                             03626000
AVTOPCON EQU   IEDQAVTD+966                                             03627000
AVTOPCNT EQU   IEDQAVTD+964                                             03628000
AVTLNCNT EQU   IEDQAVTD+962                                             03629000
AVTKEYLE EQU   IEDQAVTD+960                                             03630000
AVTHA16  EQU   IEDQAVTD+958                                             03631000
AVTHA7   EQU   IEDQAVTD+956                                             03632000
AVTHA4   EQU   IEDQAVTD+954                                             03633000
AVTHA3   EQU   IEDQAVTD+952                                             03634000
AVTHA2   EQU   IEDQAVTD+950                                             03635000
AVTGETMS EQU   IEDQAVTD+949                                             03636000
@NM00068 EQU   IEDQAVTD+948                                             03637000
AVTGETMD EQU   IEDQAVTD+944                                             03638000
AVTGETMN EQU   IEDQAVTD+940                                             03639000
AVTCWTOT EQU   IEDQAVTD+936                                             03640000
AVTCWINT EQU   IEDQAVTD+884                                             03641000
AVTDTRAP EQU   IEDQAVTD+880                                             03642000
@NM00067 EQU   IEDQAVTD+878                                             03643000
@NM00066 EQU   AVTIOTR                                                  03644000
AVTIOTRH EQU   AVTIOTR                                                  03645000
AVTIOTRE EQU   AVTIOTR                                                  03646000
@NM00065 EQU   AVTSUBT                                                  03647000
AVTSUBPT EQU   AVTSUBT                                                  03648000
AVTSUBON EQU   AVTSUBT                                                  03649000
AVTAFE30 EQU   IEDQAVTD+872                                             03650000
AVTAFE20 EQU   IEDQAVTD+868                                             03651000
AVTAFE10 EQU   IEDQAVTD+864                                             03652000
AVTCWEC2 EQU   IEDQAVTD+860                                             03653000
AVTCWPM2 EQU   IEDQAVTD+856                                             03654000
AVTCWTS2 EQU   IEDQAVTD+855                                             03655000
AVTCWTS1 EQU   IEDQAVTD+854                                             03656000
AVTCWCLD EQU   AVTCWFL2                                                 03657000
AVTCWRAP EQU   AVTCWFL2                                                 03658000
@NM00064 EQU   AVTCWFL2                                                 03659000
@NM00063 EQU   AVTCWFL2                                                 03660000
@NM00062 EQU   AVTCWFL2                                                 03661000
@NM00061 EQU   AVTCWFL2                                                 03662000
@NM00060 EQU   AVTCWFL2                                                 03663000
AVTCWACT EQU   AVTCWFL2                                                 03664000
@NM00059 EQU   AVTCWFL1                                                 03665000
@NM00058 EQU   AVTCWFL1                                                 03666000
@NM00057 EQU   AVTCWFL1                                                 03667000
@NM00056 EQU   AVTCWFL1                                                 03668000
@NM00055 EQU   AVTCWFL1                                                 03669000
@NM00054 EQU   AVTCWFL1                                                 03670000
@NM00053 EQU   AVTCWFL1                                                 03671000
AVTCOMWN EQU   AVTCWFL1                                                 03672000
AVTCWEC1 EQU   IEDQAVTD+848                                             03673000
AVTCWPM1 EQU   IEDQAVTD+844                                             03674000
AVTCAREA EQU   IEDQAVTD+840                                             03675000
AVTFZERO EQU   IEDQAVTD+836                                             03676000
AVTCADDR EQU   IEDQAVTD+832                                             03677000
AVTCOREC EQU   IEDQAVTD+828                                             03678000
@NM00052 EQU   IEDQAVTD+820                                             03679000
AVTCPBCB EQU   IEDQAVTD+816                                             03680000
@NM00051 EQU   IEDQAVTD+808                                             03681000
@NM00050 EQU   IEDQAVTD+796                                             03682000
AVTCPRMB EQU   IEDQAVTD+792                                             03683000
@NM00049 EQU   IEDQAVTD+784                                             03684000
AVTCLOSB EQU   IEDQAVTD+780                                             03685000
@NM00048 EQU   IEDQAVTD+772                                             03686000
AVTACTIB EQU   IEDQAVTD+768                                             03687000
@NM00047 EQU   IEDQAVTD+764                                             03688000
AVTOLTEB EQU   IEDQAVTD+760                                             03689000
AVTOLTCH EQU   AVTOLTQB+1                                               03690000
AVTOLTVT EQU   AVTOLTQB                                                 03691000
@NM00046 EQU   AVTOPCQB+8                                               03692000
@NM00045 EQU   AVTOPCEC+1                                               03693000
@NM00044 EQU   AVTOPCCC                                                 03694000
AVTOPCPO EQU   AVTOPCCC                                                 03695000
AVTOPCWA EQU   AVTOPCCC                                                 03696000
AVTOPCCH EQU   AVTOPCOB+1                                               03697000
AVTOPCVT EQU   AVTOPCOB                                                 03698000
@NM00043 EQU   AVTCKPQB+9                                               03699000
AVTCKPTS EQU   AVTCKPQB+8                                               03700000
@NM00042 EQU   AVTCKPEC+1                                               03701000
@NM00041 EQU   AVTCKPCC                                                 03702000
AVTCKPPO EQU   AVTCKPCC                                                 03703000
AVTCKPWA EQU   AVTCKPCC                                                 03704000
AVTCKPCH EQU   AVTCKPTB+1                                               03705000
AVTCKPVT EQU   AVTCKPTB                                                 03706000
@NM00040 EQU   IEDQAVTD+724                                             03707000
@NM00039 EQU   IEDQAVTD+712                                             03708000
AVTTIMQ  EQU   IEDQAVTD+704                                             03709000
@NM00038 EQU   IEDQAVTD+700                                             03710000
AVTIMQPS EQU   IEDQAVTD+696                                             03711000
AVTINOUT EQU   IEDQAVTD+694                                             03712000
AVTREFTM EQU   IEDQAVTD+692                                             03713000
@NM00037 EQU   IEDQAVTD+680                                             03714000
AVTDELYB EQU   IEDQAVTD+676                                             03715000
AVTOCQPT EQU   IEDQAVTD+672                                             03716000
AVTTSOPT EQU   IEDQAVTD+668                                             03717000
AVTSUPPT EQU   IEDQAVTD+664                                             03718000
AVTCBQCB EQU   IEDQAVTD+660                                             03719000
@NM00036 EQU   AVTSYSER                                                 03720000
@NM00035 EQU   AVTSYSER                                                 03721000
@NM00034 EQU   AVTSYSER                                                 03722000
@NM00033 EQU   AVTSYSER                                                 03723000
@NM00032 EQU   AVTSYSER                                                 03724000
@NM00031 EQU   AVTSYSER                                                 03725000
AVTCMAXN EQU   AVTSYSER                                                 03726000
AVTCMINN EQU   AVTSYSER                                                 03727000
AVT2260L EQU   IEDQAVTD+652                                             03728000
AVTABEPL EQU   AVTADBUF                                                 03729000
AVTHFF   EQU   AVTCLRHI+2                                               03730000
@NM00030 EQU   AVTCLRHI                                                 03731000
AVTCCLNK EQU   AVTCRELE+5                                               03732000
AVTCCPRI EQU   AVTCRELE+4                                               03733000
AVTCCQCB EQU   AVTCCELE+1                                               03734000
AVTCCKEY EQU   AVTCCELE                                                 03735000
AVTDELAD EQU   IEDQAVTD+632                                             03736000
AVTDELEM EQU   IEDQAVTD+628                                             03737000
AVTBSX   EQU   AVTCKLNK                                                 03738000
AVTOPETR EQU   AVTHG01                                                  03739000
@NM00029 EQU   AVTCKBYT                                                 03740000
AVTCKONQ EQU   AVTCKBYT                                                 03741000
@NM00028 EQU   AVTCKBYT                                                 03742000
@NM00027 EQU   AVTCKBYT                                                 03743000
@NM00026 EQU   AVTCKBYT                                                 03744000
@NM00025 EQU   AVTCKBYT                                                 03745000
@NM00024 EQU   AVTCKBYT                                                 03746000
@NM00023 EQU   AVTCKBYT                                                 03747000
AVTOPERT EQU   IEDQAVTD+618                                             03748000
AVTOPXCL EQU   IEDQAVTD+616                                             03749000
AVTOPERL EQU   IEDQAVTD+615                                             03750000
@NM00022 EQU   IEDQAVTD+614                                             03751000
AVTCKTIM EQU   IEDQAVTD+612                                             03752000
AVTCKELV EQU   IEDQAVTD+610                                             03753000
AVTCPRCD EQU   IEDQAVTD+609                                             03754000
AVTWARMN EQU   AVTCKELF                                                 03755000
AVTCRTLN EQU   AVTCKELF                                                 03756000
AVTCPIPN EQU   AVTCKELF                                                 03757000
AVTCCLCN EQU   AVTCKELF                                                 03758000
AVTCINCN EQU   AVTCKELF                                                 03759000
@NM00021 EQU   AVTCKELF                                                 03760000
AVTCMCPN EQU   AVTCKELF                                                 03761000
AVTNQBCK EQU   AVTCKELF                                                 03762000
AVTCKQAD EQU   IEDQAVTD+605                                             03763000
AVTSCBSZ EQU   IEDQAVTD+604                                             03764000
@NM00020 EQU   IEDQAVTD+600                                             03765000
AVTCKELE EQU   IEDQAVTD+596                                             03766000
@NM00019 EQU   AVTCKPEL+8                                               03767000
AVTCKRLK EQU   AVTCKPEL+5                                               03768000
AVTCKRPR EQU   AVTCKPEL+4                                               03769000
AVTCKRMQ EQU   AVTCKRMV+1                                               03770000
AVTCKRKY EQU   AVTCKRMV                                                 03771000
AVTHK    EQU   IEDQAVTD+576                                             03772000
AVTHI    EQU   IEDQAVTD+572                                             03773000
AVTIOT   EQU   IEDQAVTD+568                                             03774000
AVTNX    EQU   IEDQAVTD+564                                             03775000
AVTTONE  EQU   IEDQAVTD+560                                             03776000
AVTA3TL  EQU   IEDQAVTD+556                                             03777000
AVTDMECB EQU   IEDQAVTD+552                                             03778000
AVTABEND EQU   IEDQAVTD+546                                             03779000
AVTPLCBN EQU   IEDQAVTD+544                                             03780000
@NM00018 EQU   AVTSAVTP+1                                               03781000
@NM00017 EQU   AVTSAVTF                                                 03782000
AVTSNA   EQU   AVTSAVTF                                                 03783000
AVTONSNA EQU   AVTSAVTF                                                 03784000
AVTVTMCP EQU   AVTSAVTF                                                 03785000
@NM00016 EQU   IEDQAVTD+536                                             03786000
AVTCMBSS EQU   IEDQAVTD+532                                             03787000
AVTRCV   EQU   IEDQAVTD+528                                             03788000
AVTSEND  EQU   IEDQAVTD+524                                             03789000
AVTCSCH  EQU   IEDQAVTD+520                                             03790000
AVTQ1    EQU   IEDQAVTD+516                                             03791000
AVTE7    EQU   IEDQAVTD+512                                             03792000
AVTHB    EQU   IEDQAVTD+508                                             03793000
AVTR1    EQU   IEDQAVTD+504                                             03794000
AVTBZ    EQU   IEDQAVTD+500                                             03795000
AVTEZ    EQU   IEDQAVTD+496                                             03796000
AVTEC    EQU   IEDQAVTD+492                                             03797000
AVTEW    EQU   IEDQAVTD+488                                             03798000
AVTNDIAL EQU   AVTSCOPT                                                 03799000
AVTN2741 EQU   AVTSCOPT                                                 03800000
AVTCONCO EQU   AVTSCOPT                                                 03801000
AVTCONC  EQU   AVTSCOPT                                                 03802000
AVTCMBUF EQU   AVTSCOPT                                                 03803000
AVTAPDMP EQU   AVTSCOPT                                                 03804000
@NM00015 EQU   AVTSCOPT                                                 03805000
AVTHA    EQU   AVTDISP                                                  03806000
AVTEA    EQU   IEDQAVTD+476                                             03807000
AVTAX    EQU   IEDQAVTD+472                                             03808000
AVTA3    EQU   IEDQAVTD+468                                             03809000
AVTGD    EQU   IEDQAVTD+464                                             03810000
AVTAL    EQU   IEDQAVTD+460                                             03811000
AVTOLTST EQU   AVTHG02                                                  03812000
AVTE8    EQU   IEDQAVTD+452                                             03813000
AVTUI    EQU   IEDQAVTD+448                                             03814000
AVTCOMPT EQU   IEDQAVTD+444                                             03815000
AVTCRSRF EQU   IEDQAVTD+440                                             03816000
@NM00014 EQU   IEDQAVTD+436                                             03817000
AVTKA02  EQU   IEDQAVTD+432                                             03818000
AVTOPTPT EQU   IEDQAVTD+428                                             03819000
AVTPCBPT EQU   IEDQAVTD+424                                             03820000
@NM00013 EQU   AVTECB1                                                  03821000
AVTCOMP  EQU   AVTECB1                                                  03822000
@NM00012 EQU   AVTECB1                                                  03823000
AVTOPECA EQU   IEDQAVTD+416                                             03824000
AVTOLECA EQU   IEDQAVTD+412                                             03825000
AVTCKECA EQU   IEDQAVTD+408                                             03826000
AVTCWECA EQU   IEDQAVTD+404                                             03827000
AVTCWTCB EQU   IEDQAVTD+400                                             03828000
AVTOLTCB EQU   IEDQAVTD+396                                             03829000
AVTOCTCB EQU   IEDQAVTD+392                                             03830000
AVTCKTCB EQU   IEDQAVTD+388                                             03831000
AVTAS    EQU   IEDQAVTD+384                                             03832000
AVTNOLBF EQU   IEDQAVTD+382                                             03833000
AVTNCKPR EQU   IEDQAVTD+381                                             03834000
AVTCIB   EQU   IEDQAVTD+380                                             03835000
AVTSPLPT EQU   IEDQAVTD+376                                             03836000
AVTMVBFR EQU   IEDQAVTD+372                                             03837000
AVTSBTA  EQU   IEDQAVTD+368                                             03838000
AVTRARTN EQU   IEDQAVTD+364                                             03839000
AVTBSCAN EQU   IEDQAVTD+360                                             03840000
AVTDISTR EQU   IEDQAVTD+348                                             03841000
AVTPARM3 EQU   IEDQAVTD+344                                             03842000
@NM00011 EQU   AVTPKF                                                   03843000
@NM00010 EQU   AVTPKF                                                   03844000
@NM00009 EQU   AVTPKF                                                   03845000
AVTFTCHF EQU   AVTPKF                                                   03846000
@NM00008 EQU   AVTPKF                                                   03847000
@NM00007 EQU   AVTPKF                                                   03848000
@NM00006 EQU   AVTPKF                                                   03849000
@NM00005 EQU   AVTPKF                                                   03850000
AVTPARM  EQU   IEDQAVTD+336                                             03851000
AVTEXS2A EQU   IEDQAVTD+330                                             03852000
AVTEXA2S EQU   IEDQAVTD+324                                             03853000
AVTOCGET EQU   IEDQAVTD+320                                             03854000
AVTCKAVT EQU   @NM00003+1                                               03855000
@NM00004 EQU   AVTCKFLG                                                 03856000
AVTCKHLT EQU   AVTCKFLG                                                 03857000
AVTCKREQ EQU   AVTCKFLG                                                 03858000
AVTCKENV EQU   AVTCKFLG                                                 03859000
AVTCKNAC EQU   AVTCKFLG                                                 03860000
AVTCKTAC EQU   AVTCKFLG                                                 03861000
@NM00002 EQU   IEDQAVTD+312                                             03862000
AVTREADD EQU   IEDQAVTD+308                                             03863000
AVTREADY EQU   IEDQAVTD+304                                             03864000
AVTRACE  EQU   IEDQAVTD+300                                             03865000
AVTTCB   EQU   IEDQAVTD+296                                             03866000
AVTPASWD EQU   IEDQAVTD+288                                             03867000
AVTCTLCH EQU   IEDQAVTD+280                                             03868000
AVTDOUBL EQU   IEDQAVTD+272                                             03869000
AVTDOUBX EQU   IEDQAVTD+264                                             03870000
AVTDPARM EQU   IEDQAVTD+260                                             03871000
AVTDLQ   EQU   AVTSAVEX+32                                              03872000
@NM00001 EQU   AVTSAVEX                                                 03873000
AVTSAVE4 EQU   IEDQAVTD+144                                             03874000
AVTSAVE2 EQU   IEDQAVTD                                                 03875000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      03876000
@RC00573 EQU   @RC00570                                                 03877000
@RC00627 EQU   @RC00570                                                 03878000
@RC00697 EQU   @RC00692                                                 03879000
@RC00708 EQU   @RC00692                                                 03880000
@RF00759 EQU   @RC00755                                                 03881000
@RC00764 EQU   @RC00755                                                 03882000
@RC00778 EQU   @RC00776                                                 03883000
@RC00720 EQU   @RC00718                                                 03884000
@RC00809 EQU   @RC00804                                                 03885000
@RC00827 EQU   @RC00825                                                 03886000
@RC00835 EQU   @RC00825                                                 03887000
@RC00838 EQU   @RC00825                                                 03888000
@RF00865 EQU   @RC00863                                                 03889000
@RC00871 EQU   @RC00869                                                 03890000
@RC00874 EQU   @RC00869                                                 03891000
@RC01030 EQU   @EL00009                                                 03892000
@RC01028 EQU   @EL00009                                                 03893000
@RF01058 EQU   @RC01053                                                 03894000
@RC01075 EQU   @EL00012                                                 03895000
@RF01079 EQU   @EL00012                                                 03896000
@RF01130 EQU   @EL00016                                                 03897000
@RF01157 EQU   @EL00018                                                 03898000
@RF01163 EQU   @EL00018                                                 03899000
@PB00019 EQU   @EL00001                                                 03900000
@RC00578 EQU   @RC00573                                                 03901000
@RC00635 EQU   @RC00627                                                 03902000
@RC00642 EQU   @RC00627                                                 03903000
@RC00724 EQU   @RC00720                                                 03904000
@RC00733 EQU   @RC00720                                                 03905000
@RC01032 EQU   @RC01030                                                 03906000
@PB00018 EQU   @PB00019                                                 03907000
@RF00638 EQU   @RC00635                                                 03908000
@PB00017 EQU   @PB00018                                                 03909000
@PB00016 EQU   @PB00017                                                 03910000
@PB00015 EQU   @PB00016                                                 03911000
@PB00014 EQU   @PB00015                                                 03912000
@PB00013 EQU   @PB00014                                                 03913000
@PB00012 EQU   @PB00013                                                 03914000
@PB00011 EQU   @PB00012                                                 03915000
@PB00010 EQU   @PB00011                                                 03916000
@PB00009 EQU   @PB00010                                                 03917000
@PB00008 EQU   @PB00009                                                 03918000
@PB00007 EQU   @PB00008                                                 03919000
@PB00006 EQU   @PB00007                                                 03920000
@PB00005 EQU   @PB00006                                                 03921000
@PB00004 EQU   @PB00005                                                 03922000
@PB00003 EQU   @PB00004                                                 03923000
@PB00002 EQU   @PB00003                                                 03924000
@ENDDATA EQU   *                                                        03925000
         END   IEDNKA,(C'PLS1729',0701,77203)                           03926000
