         TITLE 'IEDRQIN, FID1 STATUS ANALYSIS                          *00001000
                        '                                               00002000
IEDRQIN  CSECT ,                                                   0001 00003000
@PROLOG  DS    0H                                                  0002 00004000
*                                                            20860400   00005000
         DC    2F'0'                QCB                                 00006000
         DC    X'06'                STCB                                00007000
         DC    AL3(*-1)                                                 00008000
*                                                                       00009000
         USING *,RBASE                                                  00010000
         LR    RBASE,R15            SET UP BASE REGISTER                00011000
         LA    RPARM,0(RPARM)       CLEAR HIGH-ORDER BYTE               00012000
*                                                                       00013000
IEDRQIN  IEDHJN  START                                                  00014000
         EJECT                                                          00015000
*                                                                  0493 00016000
*/********************************************************************/ 00017000
*/*                                                                  */ 00018000
*/*      M A I N   C O D E   S E G M E N T                           */ 00019000
*/*                                                                  */ 00020000
*/********************************************************************/ 00021000
*                                                                  0493 00022000
*   RLCB=RPARM;                     /* PLCB ADDRESS                  */ 00023000
         LR    RLCB,RPARM                                          0493 00024000
*/*                                                                  */ 00025000
*                                                                  0494 00026000
*   IF RLCB=SAVTSLCB THEN           /* IS THIS THE SSCP'S PLCB?      */ 00027000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0494 00028000
         C     RLCB,SAVTSLCB(,@10)                                 0494 00029000
         BNE   @RF00494                                            0494 00030000
*     CALL SSCP;                    /* YES, PROCESS SSCP-FLOW MSG    */ 00031000
         BAL   @14,SSCP                                            0495 00032000
*   ELSE                            /* NOT SSCP FLOW                 */ 00033000
*     DO;                                                          0496 00034000
         B     @RC00494                                            0496 00035000
@RF00494 DS    0H                                                  0497 00036000
*       RPARM=LCBTTCIN;             /* TNT OFFSET OF CONNECTED TERM  */ 00037000
         LH    RPARM,LCBTTCIN(,IEDQLPTR)                           0497 00038000
         N     RPARM,@CF02325                                      0497 00039000
*       CALL IEDQTNT;               /* GET SOURCE TERMINAL TABLE   0498 00040000
*                                      ENTRY                         */ 00041000
         L     @15,AVTRNMPT(,IEDQAPTR)                             0498 00042000
         BALR  @14,@15                                             0498 00043000
*       RTRM=RPARM;                 /* SET TERMINAL ADDRESSABILITY   */ 00044000
         LR    RTRM,RPARM                                          0499 00045000
*       QCBPTR=TRMDESTQ;            /* QCB ADDRESSABILITY    @YM06867*/ 00046000
         L     @10,TRMDESTQ-1(,IEDQTPTR)                           0500 00047000
         LA    @10,0(,@10)                                         0500 00048000
         ST    @10,QCBPTR                                          0500 00049000
*       SIBPTR=TRMSIBPT;            /* SIB ADDRESSABILITY            */ 00050000
         LR    @10,IEDQTPTR                                        0501 00051000
         AL    @10,@CF02326                                        0501 00052000
         SLR   @09,@09                                             0501 00053000
         ICM   @09,7,TRMSIBPT-7(@10)                               0501 00054000
         ST    @09,SIBPTR                                          0501 00055000
*/*                                                                  */ 00056000
*                                                                  0502 00057000
*       RPRF=LCBWAITC;              /* SET CURRENT ELEMENT TO 1ST PIU   00058000
*                                      BUFFER ON WAIT CHAIN          */ 00059000
         L     RPRF,LCBWAITC-1(,IEDQLPTR)                          0502 00060000
         LA    RPRF,0(,RPRF)                                       0502 00061000
*       PREVELEM=ADDR(LCBWAITC)-(ADDR(PRFLINK)-ADDR(IEDQPRF));/*   0503 00062000
*                                      SETUP PREV ELEM PTR           */ 00063000
         LA    @10,LCBWAITC(,IEDQLPTR)                             0503 00064000
         SL    @10,@CF00152                                        0503 00065000
         ST    @10,PREVELEM                                        0503 00066000
*       EXITSW=OFF;                 /* INITIALIZE EXIT SWITCH        */ 00067000
         NI    EXITSW,B'01111111'                                  0504 00068000
*/*                                                                  */ 00069000
*                                                                  0505 00070000
*       DO UNTIL(RPRF=0|EXITSW=ON); /* WAIT CHAIN PROCESSING LOOP    */ 00071000
@DL00505 DS    0H                                                  0506 00072000
*         PIUPTR=ADDR(PRFPIUO)+PRFPIUO;/* PIU ADDRESSABILITY         */ 00073000
         LA    PIUPTR,PRFPIUO(,IEDQPPTR)                           0506 00074000
         SLR   @10,@10                                             0506 00075000
         IC    @10,PRFPIUO(,IEDQPPTR)                              0506 00076000
         ALR   PIUPTR,@10                                          0506 00077000
*         IF LCBCHN=LCBBETC|        /* BETWEEN CHAIN STATE OR...     */ 00078000
*             TTHEFI=OFF THEN       /* NORMAL FLOW                   */ 00079000
         TM    LCBCHN(IEDQLPTR),B'11110000'                        0507 00080000
         BZ    @RT00507                                            0507 00081000
         TM    TTHEFI(PIUPTR),B'00000001'                          0507 00082000
         BNZ   @RF00507                                            0507 00083000
@RT00507 DS    0H                                                  0508 00084000
*           DO;                                                    0508 00085000
*             PREVELEM->PRFLINK=RPRF->PRFLINK;/* DELINK ELEMENT      */ 00086000
         L     @10,PREVELEM                                        0509 00087000
         MVC   PRFLINK(3,@10),PRFLINK(RPRF)                        0509 00088000
*             CALL PROCELEM;        /* PROCESS THE ELEMENT           */ 00089000
         BAL   @14,PROCELEM                                        0510 00090000
*             RPRF=PREVELEM->PRFLINK;/* GET NEXT ELEMENT             */ 00091000
         L     @10,PREVELEM                                        0511 00092000
         L     RPRF,PRFLINK-1(,@10)                                0511 00093000
         LA    RPRF,0(,RPRF)                                       0511 00094000
*           END;                                                   0512 00095000
*         ELSE                      /* NOT BETWEEN CHAIN AND       0513 00096000
*                                      EXPEDITED                     */ 00097000
*           DO;                                                    0513 00098000
         B     @RC00507                                            0513 00099000
@RF00507 DS    0H                                                  0514 00100000
*             PREVELEM=RPRF;        /* UPDATE PREVIOUS ELEMENT       */ 00101000
         ST    RPRF,PREVELEM                                       0514 00102000
*             RPRF=RPRF->PRFLINK;   /* UPDATE CURRENT ELEMENT        */ 00103000
         L     @10,PRFLINK-1(,RPRF)                                0515 00104000
         LA    @10,0(,@10)                                         0515 00105000
         LR    RPRF,@10                                            0515 00106000
*           END;                                                   0516 00107000
*       END;                        /* END OF LOOP                   */ 00108000
@RC00507 DS    0H                                                  0517 00109000
@DE00505 LTR   RPRF,RPRF                                           0517 00110000
         BZ    @DC00505                                            0517 00111000
         TM    EXITSW,B'10000000'                                  0517 00112000
         BNO   @DL00505                                            0517 00113000
@DC00505 DS    0H                                                  0518 00114000
*     END;                                                         0518 00115000
*                                                                  0518 00116000
*/*                                                                  */ 00117000
*                                                                  0519 00118000
*   CALL DSPDISP;                   /* EXIT TO DISPATCHER (NO RETURN)*/ 00119000
@RC00494 LA    @15,DSPDISP(,RDISP)                                 0519 00120000
         BALR  @14,@15                                             0519 00121000
*/*                                                                  */ 00122000
*/************   E N D   O F   M A I N    S E G M E N T   ************/ 00123000
*                                                                  0520 00124000
*                                                                  0520 00125000
*/********************************************************************/ 00126000
*/*                                                                  */ 00127000
*/* THIS ROUTINE INTERFACES WITH THE BRACKET MANAGER IEDBSM.         */ 00128000
*/*                                                                  */ 00129000
*/********************************************************************/ 00130000
*                                                                  0520 00131000
*BRACKMGR:                                                         0520 00132000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0520 00133000
@EL00001 DS    0H                                                  0520 00134000
@EF00001 DS    0H                                                  0520 00135000
@ER00001 BR    @14                                                 0520 00136000
BRACKMGR DS    0H                                                  0521 00137000
*   R14SV17=R14;                    /* SAVE RETURN ADDRESS           */ 00138000
         ST    R14,R14SV17                                         0521 00139000
*/*                                                                  */ 00140000
*                                                                  0522 00141000
*   PLBM=''B;                       /* INIT PARM LIST TO 0           */ 00142000
         XC    PLBM(16),PLBM                                       0522 00143000
*   PLBMRH=IEDRH;                   /* MOVE RH TO PARM LIST          */ 00144000
         LA    @10,PLBM                                            0523 00145000
         MVC   PLBMRH(3,@10),IEDRH+10(PIUPTR)                      0523 00146000
*   PLBMCMD=CMDBYTE;                /* PUT COMMAND BYTE IN PARM LIST */ 00147000
         MVC   PLBMCMD(1,@10),CMDBYTE                              0524 00148000
*   PLBMSIB=SIBPTR;                 /* SIB ADDRESS TO PARM LIST      */ 00149000
         L     @09,SIBPTR                                          0525 00150000
         ST    @09,PLBMSIB(,@10)                                   0525 00151000
*   PLBMLCB=RLCB;                   /* LCB ADDRESS TO PARM LIST      */ 00152000
         ST    RLCB,PLBMLCB(,@10)                                  0526 00153000
*/*                                                                  */ 00154000
*                                                                  0527 00155000
*   IF LCBCHN=LCBPURG THEN          /* IN 'PURGING CHAIN' STATE      */ 00156000
         TM    LCBCHN(IEDQLPTR),B'00100000'                        0527 00157000
         BNO   @RF00527                                            0527 00158000
         TM    LCBCHN(IEDQLPTR),B'11010000'                        0527 00159000
         BNZ   @RF00527                                            0527 00160000
*     DO;                           /* YES                           */ 00161000
*       CALL CHAINMGR;              /* DO CHAIN STATE MANAGEMENT     */ 00162000
         BAL   @14,CHAINMGR                                        0529 00163000
*       PLBMSTAT=PLBMPURG;          /* SET 'PURG' INDICATOR IN PARM     00164000
*                                      LIST                          */ 00165000
         LA    @10,PLBM                                            0530 00166000
         NI    PLBMSTAT(@10),B'10111111'                           0530 00167000
         OI    PLBMSTAT(@10),B'00100000'                           0530 00168000
*       RPARM=ADDR(PLBM);           /* ADDRESS OF PARM LIST          */ 00169000
         LR    RPARM,@10                                           0531 00170000
*       CALL IEDBSM;                /* DO BRACKET STATE MANAGEMENT   */ 00171000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0532 00172000
         L     @15,SAVTBSM(,@10)                                   0532 00173000
         BALR  @14,@15                                             0532 00174000
*     END;                                                         0533 00175000
*   ELSE                            /* NOT IN 'PURGING CHAIN' STATE  */ 00176000
*     DO;                                                          0534 00177000
         B     @RC00527                                            0534 00178000
@RF00527 DS    0H                                                  0535 00179000
*       CALL STATUS;                /* DO FORMAT CHECKS              */ 00180000
         BAL   @14,STATUS                                          0535 00181000
*       CALL CHAINMGR;              /* DO CHAIN STATE MANAGEMENT     */ 00182000
         BAL   @14,CHAINMGR                                        0536 00183000
*/*                                                                  */ 00184000
*                                                                  0537 00185000
*       IF ERRORSW=ON THEN          /* HAS ERROR BEEN DETECTED       */ 00186000
         TM    ERRORSW,B'01000000'                                 0537 00187000
         BNO   @RF00537                                            0537 00188000
*         DO;                       /* YES                           */ 00189000
*           PLBMSTAT=PLBMERR;       /* SET 'ERROR' INDICATOR IN PARM    00190000
*                                      LIST                          */ 00191000
         LA    @10,PLBM                                            0539 00192000
         OI    PLBMSTAT(@10),B'01100000'                           0539 00193000
*           RPARM=ADDR(PLBM);       /* ADDRESS OF PARM LIST          */ 00194000
         LR    RPARM,@10                                           0540 00195000
*           CALL IEDBSM;            /* DO BRACKET STATE MANAGEMENT   */ 00196000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0541 00197000
         L     @15,SAVTBSM(,@10)                                   0541 00198000
         BALR  @14,@15                                             0541 00199000
*         END;                                                     0542 00200000
*       ELSE                        /* NO ERROR DETECTED             */ 00201000
*         DO;                                                      0543 00202000
         B     @RC00537                                            0543 00203000
@RF00537 DS    0H                                                  0544 00204000
*           RPARM=ADDR(PLBM);       /* ADDRESS OF PARM LIST          */ 00205000
         LA    RPARM,PLBM                                          0544 00206000
*           CALL IEDBSM;            /* DO BRACKET STATE MANAGEMENT   */ 00207000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0545 00208000
         L     @15,SAVTBSM(,@10)                                   0545 00209000
         BALR  @14,@15                                             0545 00210000
*           IF R15^=0 THEN          /* ERROR DETECTED BY BRACKET   0546 00211000
*                                      MANAGER                       */ 00212000
         LTR   R15,R15                                             0546 00213000
         BZ    @RF00546                                            0546 00214000
*             DO;                   /* YES                           */ 00215000
*               SNC(1:2)=PLBMSNC;   /* SENSE INDICATING TYPE OF ERROR   00216000
*                                      FOUND BY BRACKET MANAGER      */ 00217000
         LA    @10,PLBM                                            0548 00218000
         MVC   SNC(2),PLBMSNC(@10)                                 0548 00219000
*               SNC(3:4)=''B;       /* ZERO USER SENSE       @YM08485*/ 00220000
         XC    SNC+2(2),SNC+2                                      0549 00221000
*               CALL SETERSNS;      /* SET UP ERROR INFORMATION      */ 00222000
         BAL   @14,SETERSNS                                        0550 00223000
*               IF LCBCHN=LCBINC THEN/* IN 'IN CHAIN' STATE          */ 00224000
         TM    LCBCHN(IEDQLPTR),B'00010000'                        0551 00225000
         BNO   @RF00551                                            0551 00226000
         TM    LCBCHN(IEDQLPTR),B'11100000'                        0551 00227000
         BNZ   @RF00551                                            0551 00228000
*                 LCBCHN=LCBPURG;   /* YES, GO TO 'PURGING CHAIN'  0552 00229000
*                                      STATE                         */ 00230000
         NI    LCBCHN(IEDQLPTR),B'00101111'                        0552 00231000
         OI    LCBCHN(IEDQLPTR),B'00100000'                        0552 00232000
*             END;                                                 0553 00233000
@RF00551 DS    0H                                                  0554 00234000
*         END;                                                     0554 00235000
@RF00546 DS    0H                                                  0555 00236000
*     END;                                                         0555 00237000
*                                                                  0555 00238000
@RC00537 DS    0H                                                  0556 00239000
*/*                                                                  */ 00240000
*                                                                  0556 00241000
*   R14=R14SV17;                    /* RESTORE RETURN ADDRESS        */ 00242000
@RC00527 L     R14,R14SV17                                         0556 00243000
*   RETURN;                         /* RETURN TO CALLER              */ 00244000
@EL00002 DS    0H                                                  0557 00245000
@EF00002 DS    0H                                                  0557 00246000
@ER00002 BR    @14                                                 0557 00247000
*   END BRACKMGR;                                                  0558 00248000
*                                                                  0559 00249000
*/********************************************************************/ 00250000
*/*                                                                  */ 00251000
*/* THIS ROUTINE DOES THE FOLLOWING:                                 */ 00252000
*/*      1. MERGES THE CANCEL RH INTO THE SAVED PIU'S RH             */ 00253000
*/*      2. DISCARDS THE CANCEL PIU BUFFER                           */ 00254000
*/*      3. CAUSES THE SAVED PIU BUFFER TO BE PASSED TO THE MH       */ 00255000
*/*                                                                  */ 00256000
*/********************************************************************/ 00257000
*                                                                  0559 00258000
*CANMERGE:                                                         0559 00259000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0559 00260000
CANMERGE DS    0H                                                  0560 00261000
*   R14SV01=R14;                    /* SAVE RETURN ADDRESS           */ 00262000
         ST    R14,R14SV01                                         0560 00263000
*/*                                                                  */ 00264000
*                                                                  0561 00265000
*   SVRH->IEDRH=SVRH->IEDRH&SMASKCAN;/* MASK OFF SAVED RH BITS       */ 00266000
         NC    IEDRH(3,SVRH),@CB02149                              0561 00267000
*   IEDRH=IEDRH&IMASKCAN;           /* MASK OFF CANCEL RH BITS       */ 00268000
         LA    @05,10                                              0562 00269000
         ALR   @05,PIUPTR                                          0562 00270000
         NC    IEDRH(3,@05),@CB02153                               0562 00271000
*   SVRH->IEDRH=SVRH->IEDRH|IEDRH;  /* 'OR' CANCEL RH INTO SAVED RH  */ 00272000
         OC    IEDRH(3,SVRH),IEDRH(@05)                            0563 00273000
*   SVRH->TRHEC=ON;                 /* FORCE END OF CHAIN            */ 00274000
         OI    TRHEC(SVRH),B'00000001'                             0564 00275000
*/*                                                                  */ 00276000
*                                                                  0565 00277000
*   SVTH->TTHSNF=TTHSNF;            /* ASSIGN CANCEL SEQ # TO SAVED     00278000
*                                      PIU                           */ 00279000
         MVC   TTHSNF(2,SVTH),TTHSNF(PIUPTR)                       0565 00280000
*   RPARM=RPRF;                     /* ADDR OF CANCEL PIU BUFFER     */ 00281000
         LR    RPARM,RPRF                                          0566 00282000
*   CALL DISCARD;                   /* DISCARD CANCEL PIU BUFFER     */ 00283000
         BAL   @14,DISCARD                                         0567 00284000
*/*                                                                  */ 00285000
*                                                                  0568 00286000
*   RPARM=LCBPAKCH;                 /* ADDR OF SAVED PIU BUFFER      */ 00287000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         0568 00288000
         LA    RPARM,0(,RPARM)                                     0568 00289000
*   LCBPAKCH=0;                     /* SET SAVED PTR TO 0            */ 00290000
         SLR   @10,@10                                             0569 00291000
         STCM  @10,7,LCBPAKCH(IEDQLPTR)                            0569 00292000
*   CMDBYTE=0;                      /* INDICATE THIS IS NOT A CANCEL */ 00293000
         MVI   CMDBYTE,X'00'                                       0570 00294000
*   CALL POSTMH;                    /* POST SAVED PIU BUFFER TO MH   */ 00295000
         BAL   @14,POSTMH                                          0571 00296000
*/*                                                                  */ 00297000
*                                                                  0572 00298000
*   R14=R14SV01;                    /* RESTORE RETURN ADDRESS        */ 00299000
         L     R14,R14SV01                                         0572 00300000
*   RETURN;                         /* RETURN TO CALLER              */ 00301000
@EL00003 DS    0H                                                  0573 00302000
@EF00003 DS    0H                                                  0573 00303000
@ER00003 BR    @14                                                 0573 00304000
*   END CANMERGE;                                                  0574 00305000
*                                                                  0575 00306000
*/********************************************************************/ 00307000
*/*                                                                  */ 00308000
*/* THIS ROUTINE PERFORMS THE CHAIN MANAGEMENT FUNCTION.             */ 00309000
*/*                                                                  */ 00310000
*/********************************************************************/ 00311000
*                                                                  0575 00312000
*CHAINMGR:                                                         0575 00313000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0575 00314000
CHAINMGR DS    0H                                                  0576 00315000
*   R14SV02=R14;                    /* SAVE RETURN ADDRESS           */ 00316000
         ST    R14,R14SV02                                         0576 00317000
*/*                                                                  */ 00318000
*                                                                  0577 00319000
*   IF ERRORSW=ON THEN              /* HAS ERROR BEEN DECTECTED ON 0577 00320000
*                                      THIS PIU                      */ 00321000
         TM    ERRORSW,B'01000000'                                 0577 00322000
         BNO   @RF00577                                            0577 00323000
*     DO;                           /* YES                           */ 00324000
*       IF TRHEC=ON THEN            /* END OF CHAIN                  */ 00325000
         TM    TRHEC+10(PIUPTR),B'00000001'                        0579 00326000
         BNO   @RF00579                                            0579 00327000
*         LCBCHN=LCBBETC;           /* YES-GO TO BETWEEN CHAIN STATE */ 00328000
         NI    LCBCHN(IEDQLPTR),B'00001111'                        0580 00329000
*       ELSE                        /* NOT END OF CHAIN              */ 00330000
*         LCBCHN=LCBPURG;           /* GO TO PURGING CHAIN STATE     */ 00331000
         B     @RC00579                                            0581 00332000
@RF00579 NI    LCBCHN(IEDQLPTR),B'00101111'                        0581 00333000
         OI    LCBCHN(IEDQLPTR),B'00100000'                        0581 00334000
*     END;                                                         0582 00335000
*   ELSE                            /* NO ERROR DETECTED ON THIS PIU */ 00336000
*     DO;                                                          0583 00337000
         B     @RC00577                                            0583 00338000
@RF00577 DS    0H                                                  0584 00339000
*       IF LCBCHN=LCBBETC THEN      /* BETWEEN CHAIN STATE           */ 00340000
         TM    LCBCHN(IEDQLPTR),B'11110000'                        0584 00341000
         BNZ   @RF00584                                            0584 00342000
*         DO;                       /* YES                           */ 00343000
*           IF CMDBYTE=CD1CANCL THEN/* CANCEL PIU                    */ 00344000
         CLI   CMDBYTE,X'83'                                       0586 00345000
         BNE   @RF00586                                            0586 00346000
*             DO;                   /* YES                           */ 00347000
*               SNC=SNSFNS;         /* SET 'FUNCTION NOT SUPPORTED'     00348000
*                                      SENSE                         */ 00349000
         MVC   SNC(4),@CB02155                                     0588 00350000
*               CALL SETERSNS;      /* SET UP ERROR INFORMATION      */ 00351000
         BAL   @14,SETERSNS                                        0589 00352000
*             END;                                                 0590 00353000
*           ELSE                    /* NOT CANCEL PIU                */ 00354000
*             DO;                                                  0591 00355000
         B     @RC00586                                            0591 00356000
@RF00586 DS    0H                                                  0592 00357000
*               IF TRHBC=ON THEN    /* BEGINNING OF CHAIN            */ 00358000
         LA    @10,10                                              0592 00359000
         ALR   @10,PIUPTR                                          0592 00360000
         TM    TRHBC(@10),B'00000010'                              0592 00361000
         BNO   @RF00592                                            0592 00362000
*                 DO;               /* YES                           */ 00363000
*                   IF TRHEC=ON THEN/* END OF CHAIN                  */ 00364000
         TM    TRHEC(@10),B'00000001'                              0594 00365000
         BNO   @RF00594                                            0594 00366000
*                     DO;           /* YES                           */ 00367000
*                       IF TRHRUCAT=TRHDFC THEN/* DATA FLOW CONTROL  */ 00368000
         TM    TRHRUCAT(@10),B'01000000'                           0596 00369000
         BNO   @RF00596                                            0596 00370000
         TM    TRHRUCAT(@10),B'00100000'                           0596 00371000
         BNZ   @RF00596                                            0596 00372000
*                         CALL NORMDFC;/* YES-PROCESS NORMAL DFC     */ 00373000
         BAL   @14,NORMDFC                                         0597 00374000
*                     END;                                         0598 00375000
*                   ELSE            /* NOT END OF CHAIN              */ 00376000
*                     LCBCHN=LCBINC;/* GO TO IN CHAIN STATE          */ 00377000
         B     @RC00594                                            0599 00378000
@RF00594 NI    LCBCHN(IEDQLPTR),B'00011111'                        0599 00379000
         OI    LCBCHN(IEDQLPTR),B'00010000'                        0599 00380000
*                 END;                                             0600 00381000
*               ELSE                /* NOT BEGINNING OF CHAIN        */ 00382000
*                 DO;                                              0601 00383000
         B     @RC00592                                            0601 00384000
@RF00592 DS    0H                                                  0602 00385000
*                   IF TRHEC=OFF THEN/* NOT END OF CHAIN             */ 00386000
         TM    TRHEC+10(PIUPTR),B'00000001'                        0602 00387000
         BNZ   @RF00602                                            0602 00388000
*                     LCBCHN=LCBPURG;/* YES-GO TO PURGING CHAIN STA     00389000
*                                      TE                            */ 00390000
         NI    LCBCHN(IEDQLPTR),B'00101111'                        0603 00391000
         OI    LCBCHN(IEDQLPTR),B'00100000'                        0603 00392000
*                   SNC=SNSCHNER;   /* SET 'CHAINING ERROR' SENSE    */ 00393000
@RF00602 MVC   SNC(4),@CB02157                                     0604 00394000
*                   CALL SETERSNS;  /* SET ERROR INFORMATION         */ 00395000
         BAL   @14,SETERSNS                                        0605 00396000
*                 END;                                             0606 00397000
*             END;                                                 0607 00398000
*         END;                                                     0608 00399000
*       ELSE                        /* NOT BETWEEN CHAIN STATE       */ 00400000
*         DO;                                                      0609 00401000
         B     @RC00584                                            0609 00402000
@RF00584 DS    0H                                                  0610 00403000
*           IF LCBCHN=LCBINC THEN   /* IN CHAIN STATE                */ 00404000
         TM    LCBCHN(IEDQLPTR),B'00010000'                        0610 00405000
         BNO   @RF00610                                            0610 00406000
         TM    LCBCHN(IEDQLPTR),B'11100000'                        0610 00407000
         BNZ   @RF00610                                            0610 00408000
*             DO;                   /* YES                           */ 00409000
*               IF CMDBYTE=CD1CANCL THEN/* CANCEL PIU                */ 00410000
         CLI   CMDBYTE,X'83'                                       0612 00411000
         BNE   @RF00612                                            0612 00412000
*                 DO;               /* YES                           */ 00413000
*                   LCBCHN=LCBBETC; /* GO TO BETWEEN CHAIN STATE     */ 00414000
         NI    LCBCHN(IEDQLPTR),B'00001111'                        0614 00415000
*                   SCBTXTTN=ON;    /* SET TEXT ERROR                */ 00416000
         L     @10,IEDQSPTR-1(,IEDQLPTR)                           0615 00417000
         OI    SCBTXTTN(@10),B'01000000'                           0615 00418000
*/*                 SET INFORMATION FOR CANCEL RESPONSE              */ 00419000
*                                                                  0616 00420000
*                   LCBCANXT=ON;    /* SET NEED CANCEL RESPONSE FLAG */ 00421000
         OI    LCBCANXT(IEDQLPTR),B'10000000'                      0616 00422000
*                   LCBCANTH=TTHSNF;/* SET CANCEL SEQUENCE #         */ 00423000
         MVC   LCBCANTH(2,IEDQLPTR),TTHSNF(PIUPTR)                 0617 00424000
*                 END;                                             0618 00425000
*               ELSE                /* NOT CANCEL PIU                */ 00426000
*                 DO;                                              0619 00427000
         B     @RC00612                                            0619 00428000
@RF00612 DS    0H                                                  0620 00429000
*                   IF TRHEC=ON THEN/* END OF CHAIN                  */ 00430000
         LA    @10,10                                              0620 00431000
         ALR   @10,PIUPTR                                          0620 00432000
         TM    TRHEC(@10),B'00000001'                              0620 00433000
         BNO   @RF00620                                            0620 00434000
*                     DO;           /* YES                           */ 00435000
*                       LCBCHN=LCBBETC;/* GO TO BETWEEN CHAIN STATE  */ 00436000
         NI    LCBCHN(IEDQLPTR),B'00001111'                        0622 00437000
*                       IF TRHBC=ON THEN/* BEGINNING OF CHAIN        */ 00438000
         TM    TRHBC(@10),B'00000010'                              0623 00439000
         BNO   @RF00623                                            0623 00440000
*                         DO;       /* YES                           */ 00441000
*                           SNC=SNSCHNER;/* 'CHAIN ERROR' SENSE      */ 00442000
         MVC   SNC(4),@CB02157                                     0625 00443000
*                           CALL SETERSNS;/* SET ERROR INFORMATION   */ 00444000
         BAL   @14,SETERSNS                                        0626 00445000
*                         END;                                     0627 00446000
*                     END;                                         0628 00447000
*                   ELSE            /* NOT END OF CHAIN              */ 00448000
*                     DO;                                          0629 00449000
         B     @RC00620                                            0629 00450000
@RF00620 DS    0H                                                  0630 00451000
*                       IF TRHBC=ON THEN/* BEGINNING OF CHAIN        */ 00452000
         TM    TRHBC+10(PIUPTR),B'00000010'                        0630 00453000
         BNO   @RF00630                                            0630 00454000
*                         DO;       /* YES                           */ 00455000
*                           LCBCHN=LCBPURG;/* GO TO PURGING CHAIN  0632 00456000
*                                      STATE                         */ 00457000
         NI    LCBCHN(IEDQLPTR),B'00101111'                        0632 00458000
         OI    LCBCHN(IEDQLPTR),B'00100000'                        0632 00459000
*                           SNC=SNSCHNER;/* 'CHAIN ERROR' SENSE      */ 00460000
         MVC   SNC(4),@CB02157                                     0633 00461000
*                           CALL SETERSNS;/* SET ERROR INFORMATION   */ 00462000
         BAL   @14,SETERSNS                                        0634 00463000
*                         END;                                     0635 00464000
*                     END;                                         0636 00465000
*                 END;                                             0637 00466000
*             END;                                                 0638 00467000
*           ELSE                    /* PURGING CHAIN STATE           */ 00468000
*             DO;                                                  0639 00469000
         B     @RC00610                                            0639 00470000
@RF00610 DS    0H                                                  0640 00471000
*               IF CMDBYTE=CD1CANCL THEN/* CANCEL PIU                */ 00472000
         CLI   CMDBYTE,X'83'                                       0640 00473000
         BNE   @RF00640                                            0640 00474000
*                 DO;               /* YES                           */ 00475000
*                   LCBCHN=LCBBETC; /* GO TO BETWEEN CHAIN STATE     */ 00476000
         NI    LCBCHN(IEDQLPTR),B'00001111'                        0642 00477000
*/*                 SET INFO FOR CANCEL RESPONSE                     */ 00478000
*                                                                  0643 00479000
*                   LCBCANXT=ON;    /* SET CANCEL RESPONSE NEEDED  0643 00480000
*                                      FLAG                          */ 00481000
         OI    LCBCANXT(IEDQLPTR),B'10000000'                      0643 00482000
*                   LCBCANTH=TTHSNF;/* SET CANCEL SEQUENCE #         */ 00483000
         MVC   LCBCANTH(2,IEDQLPTR),TTHSNF(PIUPTR)                 0644 00484000
*                 END;                                             0645 00485000
*               ELSE                /* NOT CANCEL PIU                */ 00486000
*                 DO;                                              0646 00487000
         B     @RC00640                                            0646 00488000
@RF00640 DS    0H                                                  0647 00489000
*                   IF TRHEC=ON THEN/* END OF CHAIN                  */ 00490000
         TM    TRHEC+10(PIUPTR),B'00000001'                        0647 00491000
         BNO   @RF00647                                            0647 00492000
*                     LCBCHN=LCBBETC;/* GO TO BETWEEN CHAIN STATE    */ 00493000
         NI    LCBCHN(IEDQLPTR),B'00001111'                        0648 00494000
*                 END;                                             0649 00495000
@RF00647 DS    0H                                                  0650 00496000
*             END;                                                 0650 00497000
@RC00640 DS    0H                                                  0651 00498000
*         END;                                                     0651 00499000
@RC00610 DS    0H                                                  0652 00500000
*     END;                                                         0652 00501000
*                                                                  0652 00502000
@RC00584 DS    0H                                                  0653 00503000
*/*                                                                  */ 00504000
*                                                                  0653 00505000
*   IF TRHEC=ON&                    /* END CHAIN AND...      @Y17XAYO*/ 00506000
*       SIBFMODE=SIBHDXFF&          /* HALF DUPLEX MODE            0653 00507000
*                                      AND...@Y17XAYO                */ 00508000
*       TRHCDI=ON THEN              /* CHANGE DIRECTION      @Y17XAYO*/ 00509000
@RC00577 LA    @10,10                                              0653 00510000
         ALR   @10,PIUPTR                                          0653 00511000
         TM    TRHEC(@10),B'00000001'                              0653 00512000
         BNO   @RF00653                                            0653 00513000
         L     @09,SIBPTR                                          0653 00514000
         TM    SIBFMODE(@09),B'10000000'                           0653 00515000
         BNO   @RF00653                                            0653 00516000
         TM    SIBFMODE(@09),B'01000000'                           0653 00517000
         BNZ   @RF00653                                            0653 00518000
         TM    TRHCDI(@10),B'00100000'                             0653 00519000
         BNO   @RF00653                                            0653 00520000
*     SIBCD=ON;                     /* MAINTAIN CHANGE DIRECTION   0654 00521000
*                                      STATE                 @Y17XAYO*/ 00522000
         OI    SIBCD(@09),B'10000000'                              0654 00523000
*/*                                                                  */ 00524000
*                                                                  0655 00525000
*   R14=R14SV02;                    /* RESTORE RETURN ADDRESS        */ 00526000
@RF00653 L     R14,R14SV02                                         0655 00527000
*   RETURN;                         /* RETURN TO CALLER              */ 00528000
@EL00004 DS    0H                                                  0656 00529000
@EF00004 DS    0H                                                  0656 00530000
@ER00004 BR    @14                                                 0656 00531000
*   END CHAINMGR;                                                  0657 00532000
         EJECT                                                          00533000
*                                                                  0658 00534000
*/********************************************************************/ 00535000
*/*                                                                  */ 00536000
*/*      C H E C K N X   SUBROUTINE                                  */ 00537000
*/*                                                                  */ 00538000
*/********************************************************************/ 00539000
*/*                                                                  */ 00540000
*/*      THIS SUBROUTINE DETECTS THOSE REQUESTS WHICH REQUIRE        */ 00541000
*/*      THE ISSUING OF AN OPERATOR AWARENESS MESSAGE BY IEDQNX.     */ 00542000
*/*      IF ONE OF THESE COMMAND TYPES IS DETECTED, THE REQUEST      */ 00543000
*/*      CODE IS MOVED INTO THE PLCB, AND THE LCBERMSG BIT IS SET    */ 00544000
*/*      TO CAUSE IEDQBD TO BRANCH-&-LINK TO IEDQNX.                 */ 00545000
*/*                                                                  */ 00546000
*/*      THE REQUEST TYPES REQUIRING THIS IEDQNX INTERFACE ARE       */ 00547000
*/*      ANS-COMPLETE, INOP, AND RECORD-TRACE-DATA.                  */ 00548000
*/*                                                                  */ 00549000
*/********************************************************************/ 00550000
*                                                                  0658 00551000
*   RFY                                                            0658 00552000
*     IEDRH BASED(ADDR(PRF1RH));                                   0658 00553000
*CHECKNX:                                                          0659 00554000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0659 00555000
*                                                                  0659 00556000
CHECKNX  DS    0H                                                  0660 00557000
*/*                                                                  */ 00558000
*                                                                  0660 00559000
*   R14SV16=R14;                    /* SAVE RETURN REG       @YM05996*/ 00560000
         ST    R14,R14SV16                                         0660 00561000
*   IF TRHSDI=ON THEN               /* SENSE DATA INCLUDED?          */ 00562000
         LR    @10,IEDQPPTR                                        0661 00563000
         AL    @10,@CF02338                                        0661 00564000
         TM    TRHSDI(@10),B'00000100'                             0661 00565000
         BNO   @RF00661                                            0661 00566000
*     DO;                           /* YES, ADJUST ADDRESS & LENGTH  */ 00567000
*       DATAPTR=DATAPTR+LENGTH(IEDSNSD);                           0663 00568000
         LA    @10,4                                               0663 00569000
         ALR   DATAPTR,@10                                         0663 00570000
*       DATALNTH=DATALNTH-LENGTH(IEDSNSD);                         0664 00571000
         LCR   @10,@10                                             0664 00572000
         AH    @10,DATALNTH                                        0664 00573000
         STH   @10,DATALNTH                                        0664 00574000
*     END;                                                         0665 00575000
*                                                                  0665 00576000
*/*                                                                  */ 00577000
*                                                                  0666 00578000
*   LCBNXCMD=0;                     /* CLEAR IEDQNX CMD-TYPE FIELD   */ 00579000
@RF00661 SLR   @10,@10                                             0666 00580000
         STCM  @10,7,LCBNXCMD(IEDQLPTR)                            0666 00581000
*   LCBLNENT=0;                     /* CLEAR IEDQNX RESRCE TNT FIELD */ 00582000
         STH   @10,LCBLNENT(,IEDQLPTR)                             0667 00583000
*/*                                                                  */ 00584000
*                                                                  0668 00585000
*   IF TRHRUCAT=TRHNC&              /* NETWORK CONTROL RU? AND       */ 00586000
*       DATALNTH>0&                 /* ... IS THIS AN AUTO-NETWORK-  */ 00587000
*       DATAPTR->CHAR1=CD1ANSC THEN /* ... SHUTDOWN-COMPLETE RU?     */ 00588000
         LR    @07,IEDQPPTR                                        0668 00589000
         AL    @07,@CF02338                                        0668 00590000
         TM    TRHRUCAT(@07),B'00100000'                           0668 00591000
         BNO   @RF00668                                            0668 00592000
         TM    TRHRUCAT(@07),B'01000000'                           0668 00593000
         BNZ   @RF00668                                            0668 00594000
         CH    @10,DATALNTH                                        0668 00595000
         BNL   @RF00668                                            0668 00596000
         CLI   CHAR1(DATAPTR),X'07'                                0668 00597000
         BNE   @RF00668                                            0668 00598000
*     LCBNXCMD(1:1)=DATAPTR->CHAR1; /* YES, MOVE IN REQUEST CODE     */ 00599000
         MVC   LCBNXCMD(1,IEDQLPTR),CHAR1(DATAPTR)                 0669 00600000
*/*                                                                  */ 00601000
*                                                                  0670 00602000
*   ELSE                                                           0670 00603000
*     IF TRHRUCAT=TRHFMD&           /* FM DATA RU? AND               */ 00604000
*         TRHFI=ON&                 /* ... FORMATTED? AND            */ 00605000
*         DATALNTH>2&               /* ... IS THIS AN INOP OR A      */ 00606000
*         (DATAPTR->CHAR3=INOP|     /* ... RECORD-TRACE-DATA OR A    */ 00607000
*         DATAPTR->CHAR3=TRACDATA|  /* ... ENTERING SLOWDOWN OR A  0670 00608000
*                                                            @YM07042*/ 00609000
*         DATAPTR->CHAR3=ENTSLO|    /* ... EXITING SLOWDOWN RU?    0670 00610000
*                                                            @YM07042*/ 00611000
*         DATAPTR->CHAR3=EXTSLO) THEN/*                      @YM07042*/ 00612000
         B     @RC00668                                            0670 00613000
@RF00668 LR    @10,IEDQPPTR                                        0670 00614000
         SL    @10,@CF00044                                        0670 00615000
         TM    TRHRUCAT(@10),B'01100000'                           0670 00616000
         BNZ   @RF00670                                            0670 00617000
         TM    TRHFI(@10),B'00001000'                              0670 00618000
         BNO   @RF00670                                            0670 00619000
         LH    @10,DATALNTH                                        0670 00620000
         C     @10,@CF00126                                        0670 00621000
         BNH   @RF00670                                            0670 00622000
         CLC   CHAR3(3,DATAPTR),INOP                               0670 00623000
         BE    @RT00670                                            0670 00624000
         CLC   CHAR3(3,DATAPTR),TRACDATA                           0670 00625000
         BE    @RT00670                                            0670 00626000
         CLC   CHAR3(3,DATAPTR),ENTSLO                             0670 00627000
         BE    @RT00670                                            0670 00628000
         CLC   CHAR3(3,DATAPTR),EXTSLO                             0670 00629000
         BNE   @RF00670                                            0670 00630000
@RT00670 DS    0H                                                  0671 00631000
*       DO;                         /* YES                           */ 00632000
*         LCBNXCMD=DATAPTR->CHAR3;  /* MOVE IN REQUEST CODE          */ 00633000
         MVC   LCBNXCMD(3,IEDQLPTR),CHAR3(DATAPTR)                 0672 00634000
*         RPARM=DATAPTR->SSCPNA;    /* GET NETWORK ADDRESS           */ 00635000
         SLR   RPARM,RPARM                                         0673 00636000
         ICM   RPARM,3,SSCPNA(DATAPTR)                             0673 00637000
*         CALL IEDIAP03;            /* CONVERT IT TO A TNT INDEX     */ 00638000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0674 00639000
         L     @15,SAVTNAX(,@10)                                   0674 00640000
         BALR  @14,@15                                             0674 00641000
*         LCBLNENT=R15;             /* SAVE TNT INDEX FOR IEDQNX     */ 00642000
         STH   R15,LCBLNENT(,IEDQLPTR)                             0675 00643000
*       END;                                                       0676 00644000
*                                                                  0676 00645000
*/*                                                                  */ 00646000
*                                                                  0677 00647000
*   IF LCBNXCMD^=0 THEN             /* INTERFACE NEEDED TO IEDQNX?   */ 00648000
@RF00670 DS    0H                                                  0677 00649000
@RC00668 L     @10,LCBNXCMD-1(,IEDQLPTR)                           0677 00650000
         LA    @10,0(,@10)                                         0677 00651000
         LTR   @10,@10                                             0677 00652000
         BZ    @RF00677                                            0677 00653000
*     LCBERMSG=ON;                  /* YES, SET OP AWARENESS MSG BIT */ 00654000
         OI    LCBERMSG(IEDQLPTR),B'00100000'                      0678 00655000
*/*                                                                  */ 00656000
*                                                                  0679 00657000
*   R14=R14SV16;                    /* RESTORE RETURN REG    @YM05996*/ 00658000
@RF00677 L     R14,R14SV16                                         0679 00659000
*   END CHECKNX;                    /* RETURN TO CALLER              */ 00660000
@EL00005 DS    0H                                                  0680 00661000
@EF00005 DS    0H                                                  0680 00662000
@ER00005 BR    @14                                                 0680 00663000
*   RFY                                                            0681 00664000
*     IEDRH BASED(ADDR(PIURH));                                    0681 00665000
         EJECT                                                          00666000
*                                                                  0682 00667000
*/********************************************************************/ 00668000
*/*                                                                  */ 00669000
*/* THIS ROUTINE PACKS DATA. IT COMBINES THE DATA IN THE INPUT PIU   */ 00670000
*/*   BUFFER WITH THE DATA IN THE PACKED PIU BUFFER. IT INTERFACES   */ 00671000
*/*   TO IEDMVBFR TO MOVE THE DATA.                                  */ 00672000
*/*                                                                  */ 00673000
*/********************************************************************/ 00674000
*                                                                  0682 00675000
*COMBINE:                                                          0682 00676000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0682 00677000
COMBINE  DS    0H                                                  0683 00678000
*   R14SV03=R14;                    /* SAVE RETURN ADDRESS           */ 00679000
         ST    R14,R14SV03                                         0683 00680000
*/*                                                                  */ 00681000
*                                                                  0684 00682000
*   UNITPTR=LCBPAKCH;               /* 1ST UNIT OF PACKED PIU BUFFER */ 00683000
         L     UNITPTR,LCBPAKCH-1(,IEDQLPTR)                       0684 00684000
         LA    UNITPTR,0(,UNITPTR)                                 0684 00685000
*   DO WHILE(UNITPTR->PRFTIC^=INVALTIC);/* FIND LAST UNIT OF PACKED     00686000
*                                      PIU BUFFER                    */ 00687000
         B     @DE00685                                            0685 00688000
@DL00685 DS    0H                                                  0686 00689000
*     UNITPTR=UNITPTR->PRFTIC;      /* GET NEXT UNIT                 */ 00690000
         L     UNITPTR,PRFTIC(,UNITPTR)                            0686 00691000
*   END;                            /* END OF LOOP                   */ 00692000
@DE00685 CLC   PRFTIC(4,UNITPTR),@CB01336                          0687 00693000
         BNE   @DL00685                                            0687 00694000
*   UNITPTR->PRFTI0=RPRF;           /* CHAIN THE 1ST UNIT OF THE   0688 00695000
*                                      CURRENT PIU BUFFER TO THE LAST   00696000
*                                      UNIT OF THE PACKED PIU BUFFER */ 00697000
         STCM  RPRF,7,PRFTI0(UNITPTR)                              0688 00698000
*/* CALCULATE HOW MUCH ROOM IS LEFT IN LAST UNIT OF PACKED PIU BUFFER*/ 00699000
*                                                                  0689 00700000
*   REM=(SVTH->TTHDCF+LENGTH(IEDTH)+LCBPAKCH->PRFPIUO)//AVTKEYLE;  0689 00701000
         LA    @05,10                                              0689 00702000
         SLR   @00,@00                                             0689 00703000
         ICM   @00,3,TTHDCF(SVTH)                                  0689 00704000
         ALR   @05,@00                                             0689 00705000
         L     @03,LCBPAKCH-1(,IEDQLPTR)                           0689 00706000
         SLR   @00,@00                                             0689 00707000
         IC    @00,PRFPIUO(,@03)                                   0689 00708000
         ALR   @05,@00                                             0689 00709000
         LR    @02,@05                                             0689 00710000
         SRDA  @02,32                                              0689 00711000
         LH    @05,AVTKEYLE(,IEDQAPTR)                             0689 00712000
         DR    @02,@05                                             0689 00713000
         STH   @02,REM                                             0689 00714000
*   IF REM=0 THEN                   /* NO ROOM IN LAST UNIT          */ 00715000
         LTR   @02,@02                                             0690 00716000
         BNZ   @RF00690                                            0690 00717000
*     DO;                           /* YES                           */ 00718000
*       PLMVTU=RPRF;                /* SET TARGET UNIT = 1ST UNIT OF    00719000
*                                      CURRENT PIU BUFFER            */ 00720000
         LA    @09,PLMV                                            0692 00721000
         ST    RPRF,PLMVTU(,@09)                                   0692 00722000
*       PLMVTD=ADDR(RPRF->PRFPIUO); /* SET TARGET DATA ADDR = 1ST  0693 00723000
*                                      BYTE IN CURRENT PIU BUFFER    */ 00724000
         LA    @05,PRFPIUO(,RPRF)                                  0693 00725000
         ST    @05,PLMVTD(,@09)                                    0693 00726000
*     END;                                                         0694 00727000
*   ELSE                            /* ROOM LEFT IN LAST UNIT        */ 00728000
*     DO;                                                          0695 00729000
         B     @RC00690                                            0695 00730000
@RF00690 DS    0H                                                  0696 00731000
*       PLMVTU=UNITPTR;             /* SET TARGET UNIT=LAST UNIT IN     00732000
*                                      PACKED PIU BUFFER             */ 00733000
         LA    @05,PLMV                                            0696 00734000
         ST    UNITPTR,PLMVTU(,@05)                                0696 00735000
*       PLMVTD=ADDR(UNITPTR->PRFPIUO)+REM;/* SET TARGET DATA ADDR(IN    00736000
*                                      LAST UNIT OF PACKED PIU BUFFER*/ 00737000
         LA    @00,PRFPIUO(,UNITPTR)                               0697 00738000
         LH    @03,REM                                             0697 00739000
         N     @03,@CF02325                                        0697 00740000
         ALR   @00,@03                                             0697 00741000
         ST    @00,PLMVTD(,@05)                                    0697 00742000
*     END;                                                         0698 00743000
*                                                                  0698 00744000
*/*                                                                  */ 00745000
*                                                                  0699 00746000
*   PLMVSU=RPRF;                    /* SET SOURCE UNIT=1ST UNIT OF 0699 00747000
*                                      CURRENT PIU BUFFER            */ 00748000
@RC00690 LA    @09,PLMV                                            0699 00749000
         ST    RPRF,PLMVSU(,@09)                                   0699 00750000
*   PLMVSD=ADDR(RU);                /* SET SOURCE DATA=RU IN 1ST UNIT   00751000
*                                      OF CURRENT PIU BUFFER         */ 00752000
         LA    @05,13                                              0700 00753000
         ALR   @05,PIUPTR                                          0700 00754000
         ST    @05,PLMVSD(,@09)                                    0700 00755000
*   PLMVLNTH=TTHDCF-LENGTH(IEDRH);  /* SET LENGTH OF DATA TO BE MOVED*/ 00756000
         SLR   @05,@05                                             0701 00757000
         ICM   @05,3,TTHDCF(PIUPTR)                                0701 00758000
         SL    @05,@CF00065                                        0701 00759000
         STH   @05,PLMVLNTH(,@09)                                  0701 00760000
*   SVTH->TTHDCF=SVTH->TTHDCF+PLMVLNTH;/* SET NEW LENGTH OF PACKED 0702 00761000
*                                      PIU BUFFER                    */ 00762000
         SLR   @00,@00                                             0702 00763000
         ICM   @00,3,TTHDCF(SVTH)                                  0702 00764000
         ALR   @05,@00                                             0702 00765000
         STCM  @05,3,TTHDCF(SVTH)                                  0702 00766000
*   SVTH->TTHSNF=TTHSNF;            /* SET PACKED PIU SEQ # = CURRENT   00767000
*                                      PIU SEQ #                     */ 00768000
         MVC   TTHSNF(2,SVTH),TTHSNF(PIUPTR)                       0703 00769000
*   PLMVFLG1=0;                     /* ZERO FLAG BYTE                */ 00770000
         MVI   PLMVFLG1(@09),X'00'                                 0704 00771000
*   PLMVUNCF=ON;                    /* INDICATE UNUSED UNITS SHOULD     00772000
*                                      BE UNCHAINED                  */ 00773000
         OI    PLMVUNCF(@09),B'10000000'                           0705 00774000
*   RPARM=ADDR(PLMV);               /* ADDRESS OF PARM LIST          */ 00775000
         LR    RPARM,@09                                           0706 00776000
*   CALL IEDMVBFR;                  /* MOVE THE DATA                 */ 00777000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0707 00778000
         L     @15,SAVTMVBF(,@10)                                  0707 00779000
         BALR  @14,@15                                             0707 00780000
*/*                                                                  */ 00781000
*                                                                  0708 00782000
*   IF PLMVUNCA>0 THEN              /* ARE THERE UNCHAINED UNITS TO     00783000
*                                      BE FREED                      */ 00784000
         LA    @10,PLMV                                            0708 00785000
         L     @10,PLMVUNCA(,@10)                                  0708 00786000
         LTR   @10,@10                                             0708 00787000
         BNP   @RF00708                                            0708 00788000
*     DO;                           /* YES                           */ 00789000
*       RPARM=PLMVUNCA;             /* ADDRESS OF FIRST UNIT TO BE 0710 00790000
*                                      FREED                         */ 00791000
         LR    RPARM,@10                                           0710 00792000
*       CALL DISCARD;               /* DISCARD UNITS                 */ 00793000
         BAL   @14,DISCARD                                         0711 00794000
*     END;                                                         0712 00795000
*                                                                  0712 00796000
*/*                                                                  */ 00797000
*                                                                  0713 00798000
*   R14=R14SV03;                    /* RESTORE RETURN ADDRESS        */ 00799000
@RF00708 L     R14,R14SV03                                         0713 00800000
*   RETURN;                         /* RETURN TO CALLER              */ 00801000
@EL00006 DS    0H                                                  0714 00802000
@EF00006 DS    0H                                                  0714 00803000
@ER00006 BR    @14                                                 0714 00804000
*   END COMBINE;                                                   0715 00805000
*                                                                  0716 00806000
*/********************************************************************/ 00807000
*/*                                                                  */ 00808000
*/* THIS ROUTINE DISCARDS ALL THE UNITS IN A PIU BUFFER.  IT POSTS   */ 00809000
*/* THEM TO BUF  RETURN(IEDQGB).                                     */ 00810000
*/*       INPUT= REG1 POINTS TO PIU BUFFER TO BE DISCARDED           */ 00811000
*/*                                                                  */ 00812000
*/********************************************************************/ 00813000
*                                                                  0716 00814000
*DISCARD:                                                          0716 00815000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0716 00816000
DISCARD  DS    0H                                                  0717 00817000
*   R14SV04=R14;                    /* SAVE RETURN REG               */ 00818000
         ST    R14,R14SV04                                         0717 00819000
*/*                                                                  */ 00820000
*                                                                  0718 00821000
*   RPARM->PRFNBUNT=0;              /* SET NUMBER OF UNITS = 0 (THIS    00822000
*                                      MEANS IEDQGB WILL CALCULATE 0718 00823000
*                                      THE NUMBER OF UNITS TO BE   0718 00824000
*                                      FREED)                        */ 00825000
         MVI   PRFNBUNT(RPARM),X'00'                               0718 00826000
*   RPARM->PRFQCBA=ADDR(AVTBFRTB);  /* ADDR OF BUFFER RETURN QCB     */ 00827000
         LA    @10,AVTBFRTB(,IEDQAPTR)                             0719 00828000
         STCM  @10,7,PRFQCBA(RPARM)                                0719 00829000
*   RPARM->PRFPRI=PRIBFRTB;         /* POST PRIORITY                 */ 00830000
         MVI   PRFPRI(RPARM),X'E0'                                 0720 00831000
*   CALL DSPPOSTR;                  /* FREE UNITS                    */ 00832000
         LA    @15,DSPPOSTR(,RDISP)                                0721 00833000
         BALR  @14,@15                                             0721 00834000
*/*                                                                  */ 00835000
*                                                                  0722 00836000
*   R14=R14SV04;                    /* RESTORE RETURN REG            */ 00837000
         L     R14,R14SV04                                         0722 00838000
*   RETURN;                         /* RETURN TO CALLER              */ 00839000
@EL00007 DS    0H                                                  0723 00840000
@EF00007 DS    0H                                                  0723 00841000
@ER00007 BR    @14                                                 0723 00842000
*   END DISCARD;                                                   0724 00843000
         EJECT                                                          00844000
*                                                                  0725 00845000
*/********************************************************************/ 00846000
*/*                                                                  */ 00847000
*/* THIS ROUTINE HANDLES ALL EXPEDITED FLOW PIUS.                    */ 00848000
*/*                                                                  */ 00849000
*/********************************************************************/ 00850000
*                                                                  0725 00851000
*EXP:                                                              0725 00852000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0725 00853000
EXP      DS    0H                                                  0726 00854000
*   R14SV05=R14;                    /* SAVE RETURN ADDRESS           */ 00855000
         ST    R14,R14SV05                                         0726 00856000
*/*                                                                  */ 00857000
*                                                                  0727 00858000
*   IF TRHRUCAT=TRHDFC THEN         /* DATA FLOW CONTROL             */ 00859000
         TM    TRHRUCAT+10(PIUPTR),B'01000000'                     0727 00860000
         BNO   @RF00727                                            0727 00861000
         TM    TRHRUCAT+10(PIUPTR),B'00100000'                     0727 00862000
         BNZ   @RF00727                                            0727 00863000
*     DO;                           /* YES                           */ 00864000
*       IF CMDBYTE=CD1RSHUT THEN    /* REQUEST SHUTDOWN PIU          */ 00865000
         CLI   CMDBYTE,X'C2'                                       0729 00866000
         BNE   @RF00729                                            0729 00867000
*         SIBLGOFF=ON;              /* YES-SET LOGOFF INDICATOR      */ 00868000
         L     @10,SIBPTR                                          0730 00869000
         OI    SIBLGOFF(@10),B'10000000'                           0730 00870000
*       ELSE                        /* NOT REQUEST SHUTDOWN          */ 00871000
*         DO;                                                      0731 00872000
         B     @RC00729                                            0731 00873000
@RF00729 DS    0H                                                  0732 00874000
*           IF CMDBYTE=CD1SHUTC THEN/* SHUTDOWN COMPLETE PIU         */ 00875000
         CLI   CMDBYTE,X'C1'                                       0732 00876000
         BNE   @RF00732                                            0732 00877000
*             SIBSHUTC=ON;          /* SET SHUTDOWN COMPLETE RECEIVED*/ 00878000
         L     @10,SIBPTR                                          0733 00879000
         OI    SIBSHUTC(@10),B'01000000'                           0733 00880000
*           ELSE                    /* NOT SHUTC                     */ 00881000
*             DO;                                                  0734 00882000
         B     @RC00732                                            0734 00883000
@RF00732 DS    0H                                                  0735 00884000
*               IF CMDBYTE^=CD1SIG THEN/* SIGNAL PIU                 */ 00885000
         CLI   CMDBYTE,X'C9'                                       0735 00886000
         BE    @RF00735                                            0735 00887000
*                 DO;               /* NO                            */ 00888000
*                   SNC=SNSFNS;     /* 'FUNCTION NOT SUPPORTED' SENSE*/ 00889000
         MVC   SNC(4),@CB02155                                     0737 00890000
*                   CALL SETERSNS;  /* SET ERROR INFORMATION         */ 00891000
         BAL   @14,SETERSNS                                        0738 00892000
*                 END;                                             0739 00893000
*             END;                                                 0740 00894000
*         END;                                                     0741 00895000
*     END;                                                         0742 00896000
*   ELSE                            /* EXPEDITED FM DATA ???         */ 00897000
*     DO;                                                          0743 00898000
         B     @RC00727                                            0743 00899000
@RF00727 DS    0H                                                  0744 00900000
*       SNC=SNSBADRH;               /* 'SCREWED UP RH' SENSE         */ 00901000
         MVC   SNC(4),@CB02159                                     0744 00902000
*       CALL SETERSNS;              /* SET ERROR INFORMATION         */ 00903000
         BAL   @14,SETERSNS                                        0745 00904000
*     END;                                                         0746 00905000
*                                                                  0746 00906000
*/*                                                                  */ 00907000
*                                                                  0747 00908000
*   QCBA=LCBMHA;                    /* SET UP MH QCB ADDRESS @YM06085*/ 00909000
@RC00727 MVC   QCBA(3),LCBMHA(IEDQLPTR)                            0747 00910000
*/*                                                                  */ 00911000
*                                                                  0748 00912000
*   TRHBC=ON;                       /* FORCE BEGINNING OF CHAIN      */ 00913000
*   TRHEC=ON;                       /* FORCE END OF CHAIN            */ 00914000
         OI    TRHBC+10(PIUPTR),B'00000011'                        0749 00915000
*   RPARM=RPRF;                     /* ADDR OF CURRENT PIU BUFFER    */ 00916000
         LR    RPARM,RPRF                                          0750 00917000
*   CALL POSTMH;                    /* POST TO MH                    */ 00918000
         BAL   @14,POSTMH                                          0751 00919000
*/*                                                                  */ 00920000
*                                                                  0752 00921000
*   R14=R14SV05;                    /* RESTORE RETURN ADDRESS        */ 00922000
         L     R14,R14SV05                                         0752 00923000
*   RETURN;                         /* RETURN TO CALLER              */ 00924000
@EL00008 DS    0H                                                  0753 00925000
@EF00008 DS    0H                                                  0753 00926000
@ER00008 BR    @14                                                 0753 00927000
*   END EXP;                                                       0754 00928000
*                                                                  0755 00929000
*/********************************************************************/ 00930000
*/*                                                                  */ 00931000
*/*      I N S E R T   SUBROUTINE                                    */ 00932000
*/*                                                                  */ 00933000
*/********************************************************************/ 00934000
*/*                                                                  */ 00935000
*/*      THIS SUBROUTINE TESTS FOR A NULL (DATA LENGTH = 0) RU.      */ 00936000
*/*      IF ONE IS FOUND, A BYTE OF '00'X IS INSERTED.               */ 00937000
*/*                                                                  */ 00938000
*/********************************************************************/ 00939000
*                                                                  0755 00940000
*INSERT:                                                           0755 00941000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0755 00942000
*                                                                  0755 00943000
INSERT   DS    0H                                                  0756 00944000
*/*                                                                  */ 00945000
*                                                                  0756 00946000
*   DATAPTR=ADDR(PRFSUNIT)+AVTHDRSZ+PRFISIZE;/* GET DATA ADDR      0756 00947000
*                                                            @YM07999*/ 00948000
         LA    @10,30                                              0756 00949000
         LA    DATAPTR,PRFSUNIT(,IEDQPPTR)                         0756 00950000
         ALR   DATAPTR,@10                                         0756 00951000
         SLR   @05,@05                                             0756 00952000
         IC    @05,PRFISIZE(,IEDQPPTR)                             0756 00953000
         ALR   DATAPTR,@05                                         0756 00954000
*   DATALNTH=PRFSIZE-AVTHDRSZ-PRFISIZE;/* GET DATA LENGTH    @YM07999*/ 00955000
         LH    @03,PRFSIZE(,IEDQPPTR)                              0757 00956000
         LCR   @10,@10                                             0757 00957000
         ALR   @10,@03                                             0757 00958000
         SLR   @10,@05                                             0757 00959000
         STH   @10,DATALNTH                                        0757 00960000
*/*                                                                  */ 00961000
*                                                                  0758 00962000
*   IF DATALNTH=0 THEN              /* 0-LENGTH RU?                  */ 00963000
         LTR   @10,@10                                             0758 00964000
         BNZ   @RF00758                                            0758 00965000
*     DO;                           /* YES                           */ 00966000
*       PRFSIZE=PRFSIZE+1;          /* BUMP BUFFER SIZE BY 1         */ 00967000
         LA    @10,1                                               0760 00968000
         ALR   @03,@10                                             0760 00969000
         STH   @03,PRFSIZE(,IEDQPPTR)                              0760 00970000
*       DATAPTR->CHAR1=0;           /* INSERT 1 BYTE                 */ 00971000
         MVI   CHAR1(DATAPTR),X'00'                                0761 00972000
*       DATALNTH=1;                 /* SET NEW LENGTH VALUE          */ 00973000
         STH   @10,DATALNTH                                        0762 00974000
*     END;                                                         0763 00975000
*                                                                  0763 00976000
*/*                                                                  */ 00977000
*                                                                  0764 00978000
*   END INSERT;                     /* RETURN TO CALLER              */ 00979000
@EL00009 DS    0H                                                  0764 00980000
@EF00009 DS    0H                                                  0764 00981000
@ER00009 BR    @14                                                 0764 00982000
         EJECT                                                          00983000
*                                                                  0765 00984000
*/********************************************************************/ 00985000
*/*                                                                  */ 00986000
*/* THIS ROUTINE PROCESSES ALL NORMAL DATA FLOW CONTROL COMMANDS.    */ 00987000
*/*                                                                  */ 00988000
*/********************************************************************/ 00989000
*                                                                  0765 00990000
*NORMDFC:                                                          0765 00991000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0765 00992000
NORMDFC  DS    0H                                                  0766 00993000
*   R14SV07=R14;                    /* SAVE RETURN ADDRESS           */ 00994000
         ST    R14,R14SV07                                         0766 00995000
*/*                                                                  */ 00996000
*                                                                  0767 00997000
*   IF CMDBYTE^=CD1LSTAT&           /* NOT LUSTAT AND...             */ 00998000
*       CMDBYTE^=CD1CHASE THEN      /* NOT CHASE                     */ 00999000
         CLI   CMDBYTE,X'04'                                       0767 01000000
         BE    @RF00767                                            0767 01001000
         CLI   CMDBYTE,X'84'                                       0767 01002000
         BE    @RF00767                                            0767 01003000
*     DO;                                                          0768 01004000
*       IF CMDBYTE=CD1RTR THEN      /* RTR                           */ 01005000
         CLI   CMDBYTE,X'05'                                       0769 01006000
         BNE   @RF00769                                            0769 01007000
*         DO;                       /* YES                           */ 01008000
*           LCBRTRRO=ON;            /* SET RESPONSE OWED TO RTR      */ 01009000
         OI    LCBRTRRO(IEDQLPTR),B'00000100'                      0771 01010000
*           LCBTHSQ=TTHSNF;         /* SAVE RTR SEQUENCE NUMBER      */ 01011000
         MVC   LCBTHSQ(2,IEDQLPTR),TTHSNF(PIUPTR)                  0772 01012000
*         END;                                                     0773 01013000
*       ELSE                        /* NOT RTR                       */ 01014000
*         DO;                                                      0774 01015000
         B     @RC00769                                            0774 01016000
@RF00769 DS    0H                                                  0775 01017000
*           SNC=SNSFNS;             /* 'FUNCTION NOT SUPPORTED' SENSE*/ 01018000
         MVC   SNC(4),@CB02155                                     0775 01019000
*           CALL SETERSNS;          /* SET ERROR INFORMATION         */ 01020000
         BAL   @14,SETERSNS                                        0776 01021000
*         END;                                                     0777 01022000
*     END;                                                         0778 01023000
*                                                                  0778 01024000
@RC00769 DS    0H                                                  0779 01025000
*/*                                                                  */ 01026000
*                                                                  0779 01027000
*   R14=R14SV07;                    /* RESTORE RETURN ADDRESS        */ 01028000
@RF00767 L     R14,R14SV07                                         0779 01029000
*   RETURN;                         /* RETURN TO CALLER              */ 01030000
@EL00010 DS    0H                                                  0780 01031000
@EF00010 DS    0H                                                  0780 01032000
@ER00010 BR    @14                                                 0780 01033000
*   END NORMDFC;                                                   0781 01034000
*                                                                  0782 01035000
*/********************************************************************/ 01036000
*/*                                                                  */ 01037000
*/* THIS ROUTINE PERFORMS THE 'PACKING' FUNCTION.                    */ 01038000
*/*                                                                  */ 01039000
*/********************************************************************/ 01040000
*                                                                  0782 01041000
*PACKING:                                                          0782 01042000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0782 01043000
PACKING  DS    0H                                                  0783 01044000
*   R14SV08=R14;                    /* SAVE RETURN ADDRESS           */ 01045000
         ST    R14,R14SV08                                         0783 01046000
*/*                                                                  */ 01047000
*                                                                  0784 01048000
*   RC=GO;                          /* INIT RETURN CODE TO 'GO'      */ 01049000
         MVI   RC,X'00'                                            0784 01050000
*   IF LCBINPAK=OFF THEN            /* ARE WE CURRENTLY PACKING A PIU*/ 01051000
         TM    LCBINPAK(IEDQLPTR),B'00000001'                      0785 01052000
         BNZ   @RF00785                                            0785 01053000
*     DO;                           /* NO ( WE ARE BETWEEN PACK    0786 01054000
*                                                              STATE)*/ 01055000
*       IF CMDBYTE^=CD1CANCL&       /* NOT CANCEL PIU AND...         */ 01056000
*           TRHEC=OFF&              /* NOT END OF CHAIN AND ...      */ 01057000
*           TTHDCF>LENGTH(IEDRH) THEN/* RU LENGTH NOT 0              */ 01058000
         CLI   CMDBYTE,X'83'                                       0787 01059000
         BE    @RF00787                                            0787 01060000
         TM    TRHEC+10(PIUPTR),B'00000001'                        0787 01061000
         BNZ   @RF00787                                            0787 01062000
         CLC   TTHDCF(2,PIUPTR),@CH00065                           0787 01063000
         BNH   @RF00787                                            0787 01064000
*         DO;                                                      0788 01065000
*           IF LGBBUFSI=0 THEN      /* BUFFER SIZE NOT SPECIFIED     */ 01066000
         L     @10,QCBPTR                                          0789 01067000
         L     @10,IEDNLPTR-1(,@10)                                0789 01068000
         LH    @10,LGBBUFSI(,@10)                                  0789 01069000
         LTR   @10,@10                                             0789 01070000
         BNZ   @RF00789                                            0789 01071000
*             SIZE=AVTKEYLE;        /* YES- USE DEFAULT              */ 01072000
         LH    SIZE,AVTKEYLE(,IEDQAPTR)                            0790 01073000
*           ELSE                    /* BUFFER SIZE SPECIFIED         */ 01074000
*             SIZE=LGBBUFSI;        /* SET UP SIZE                   */ 01075000
         B     @RC00789                                            0791 01076000
@RF00789 L     @10,QCBPTR                                          0791 01077000
         L     @10,IEDNLPTR-1(,@10)                                0791 01078000
         LH    SIZE,LGBBUFSI(,@10)                                 0791 01079000
*           IF TTHDCF<              /* RU LENGTH                     */ 01080000
*               (SIZE-(PRFPIUO+LENGTH(IEDTH))) THEN                0792 01081000
@RC00789 LA    @10,10                                              0792 01082000
         SLR   @05,@05                                             0792 01083000
         IC    @05,PRFPIUO(,IEDQPPTR)                              0792 01084000
         ALR   @10,@05                                             0792 01085000
         LCR   @10,@10                                             0792 01086000
         ALR   @10,SIZE                                            0792 01087000
         SLR   @05,@05                                             0792 01088000
         ICM   @05,3,TTHDCF(PIUPTR)                                0792 01089000
         CR    @10,@05                                             0792 01090000
         BNH   @RF00792                                            0792 01091000
*             LCBINPAK=ON;          /* GO TO IN PACK STATE IF RU DATA   01092000
*                                      LENGTH IS LESS THAN BUFSIZE.     01093000
*                                      THIS RU WILL BE SAVED ON THE     01094000
*                                      PACK CHAIN LATER IN THE     0793 01095000
*                                      'POSTING' ROUTINE.            */ 01096000
         OI    LCBINPAK(IEDQLPTR),B'00000001'                      0793 01097000
*         END;                                                     0794 01098000
*     END;                                                         0795 01099000
*   ELSE                            /* 'IN PACK' STATE               */ 01100000
*     DO;                                                          0796 01101000
         B     @RC00785                                            0796 01102000
@RF00785 DS    0H                                                  0797 01103000
*       IF CMDBYTE=CD1CANCL THEN    /* CANCEL PIU                    */ 01104000
         CLI   CMDBYTE,X'83'                                       0797 01105000
         BNE   @RF00797                                            0797 01106000
*         LCBINPAK=OFF;             /* GO TO BETWEEN PACK STATE      */ 01107000
         NI    LCBINPAK(IEDQLPTR),B'11111110'                      0798 01108000
*       ELSE                        /* NOT CANCEL                    */ 01109000
*         DO;                                                      0799 01110000
*                                                                  0799 01111000
         B     @RC00797                                            0799 01112000
@RF00797 DS    0H                                                  0800 01113000
*/*        SET UP PACKED PIU ADDRESSABILITY                          */ 01114000
*                                                                  0800 01115000
*           SVTH=ADDR(LCBPAKCH->PRFPIUO)+LCBPAKCH->PRFPIUO;        0800 01116000
         L     @05,LCBPAKCH-1(,IEDQLPTR)                           0800 01117000
         LA    @05,0(,@05)                                         0800 01118000
         LA    SVTH,PRFPIUO(,@05)                                  0800 01119000
         SLR   @00,@00                                             0800 01120000
         IC    @00,PRFPIUO(,@05)                                   0800 01121000
         ALR   SVTH,@00                                            0800 01122000
*           SVRH=SVTH+LENGTH(IEDTH);/* SET UP PACKED PIU RH        0801 01123000
*                                      ADDRESSABILITY                */ 01124000
         LA    @05,10                                              0801 01125000
         LR    SVRH,SVTH                                           0801 01126000
         ALR   SVRH,@05                                            0801 01127000
*           IF TRHEC=ON THEN        /* END OF CHAIN                  */ 01128000
         ALR   @05,PIUPTR                                          0802 01129000
         TM    TRHEC(@05),B'00000001'                              0802 01130000
         BNO   @RF00802                                            0802 01131000
*             DO;                   /* YES                           */ 01132000
*               LCBINPAK=OFF;       /* GO TO BETWEEN PACK STATE      */ 01133000
         NI    LCBINPAK(IEDQLPTR),B'11111110'                      0804 01134000
*               IF TTHDCF>LENGTH(IEDRH) THEN/* RU LENGTH NOT 0       */ 01135000
         CLC   TTHDCF(2,PIUPTR),@CH00065                           0805 01136000
         BNH   @RF00805                                            0805 01137000
*                 DO;                                              0806 01138000
*                   DUMPIU=IEDPIU;  /* SET UP 'DUMMY' PIU ---NOTE: 0807 01139000
*                                      THE DUMMY PIU IS NEEDED SO  0807 01140000
*                                      SOMETHING CAN BE PASSED ON TO    01141000
*                                      THE POSTING ROUTINE. THIS ACTS   01142000
*                                      AS A SPECIAL SIGNAL TO THE  0807 01143000
*                                      POSTING ROUTINE.              */ 01144000
         MVC   DUMPIU(13),IEDPIU(PIUPTR)                           0807 01145000
*                   R15=ADDR(DUMTH);/* ADDRESS OF DUMMY TH           */ 01146000
         LA    R15,DUMTH                                           0808 01147000
*                   R15->TTHDCF=LENGTH(IEDRH);/* MAKE 'DUMMY' PIU RU    01148000
*                                      LENGTH ZERO                   */ 01149000
         MVC   TTHDCF(2,R15),@CH00065                              0809 01150000
*                   CALL COMBINE;   /* COMBINE THE DATA OF THE PACKED   01151000
*                                      PIU BUFFER AND THE CURRENT PIU   01152000
*                                      BUFFER                        */ 01153000
         BAL   @14,COMBINE                                         0810 01154000
*                   RPRF=ADDR(DUMBFR);/* SET CURRENT ELEMENT = TO  0811 01155000
*                                      DUMMY PIU                     */ 01156000
         LA    RPRF,DUMBFR                                         0811 01157000
*                   PIUPTR=ADDR(DUMTH);/* SET PIU ADDRESSABILITY     */ 01158000
         LA    PIUPTR,DUMTH                                        0812 01159000
*                 END;                                             0813 01160000
*             END;                                                 0814 01161000
*           ELSE                    /* NOT END OF CHAIN              */ 01162000
*             DO;                                                  0815 01163000
         B     @RC00802                                            0815 01164000
@RF00802 DS    0H                                                  0816 01165000
*               IF TTHDCF>LENGTH(IEDRH) THEN/* RU LENGTH NOT 0       */ 01166000
         CLC   TTHDCF(2,PIUPTR),@CH00065                           0816 01167000
         BNH   @RF00816                                            0816 01168000
*                 DO;               /* YES                           */ 01169000
*                   IF LGBBUFSI=0 THEN/* BUFSIZE NOT SPECIFIED       */ 01170000
         L     @09,QCBPTR                                          0818 01171000
         L     @09,IEDNLPTR-1(,@09)                                0818 01172000
         LH    @09,LGBBUFSI(,@09)                                  0818 01173000
         LTR   @09,@09                                             0818 01174000
         BNZ   @RF00818                                            0818 01175000
*                     SIZE=AVTKEYLE;/* YES- USE DEFAULT SIZE         */ 01176000
         LH    SIZE,AVTKEYLE(,IEDQAPTR)                            0819 01177000
*                   ELSE            /* BUFSIZE SPECIFIED             */ 01178000
*                     SIZE=LGBBUFSI;/* YES-USE IT                    */ 01179000
         B     @RC00818                                            0820 01180000
@RF00818 L     @05,QCBPTR                                          0820 01181000
         L     @05,IEDNLPTR-1(,@05)                                0820 01182000
         LH    SIZE,LGBBUFSI(,@05)                                 0820 01183000
*/*                                                                  */ 01184000
*                                                                  0821 01185000
*                   IF((SVTH->TTHDCF-LENGTH(IEDRH))+(TTHDCF-LENGTH(     01186000
*                       IEDRH)))>=(SIZE-(PRFPIUO+LENGTH(IEDTH)+LENGTH(  01187000
*                       IEDRH))) THEN                              0821 01188000
@RC00818 LA    @05,3                                               0821 01189000
         SLR   @00,@00                                             0821 01190000
         ICM   @00,3,TTHDCF(SVTH)                                  0821 01191000
         SLR   @00,@05                                             0821 01192000
         LCR   @05,@05                                             0821 01193000
         SLR   @03,@03                                             0821 01194000
         ICM   @03,3,TTHDCF(PIUPTR)                                0821 01195000
         ALR   @05,@03                                             0821 01196000
         ALR   @00,@05                                             0821 01197000
         LA    @05,13                                              0821 01198000
         SLR   @03,@03                                             0821 01199000
         IC    @03,PRFPIUO(,IEDQPPTR)                              0821 01200000
         ALR   @05,@03                                             0821 01201000
         LCR   @05,@05                                             0821 01202000
         ALR   @05,SIZE                                            0821 01203000
         CR    @00,@05                                             0821 01204000
         BL    @RF00821                                            0821 01205000
*                     LCBINPAK=OFF; /* GO TO BETWEEN PACK STATE IF 0822 01206000
*                                      THE LENGTH OF THE PACKED RU +    01207000
*                                      THE LENGTH OF THE CURRENT PIU    01208000
*                                      IS GREATER THAN OR EQUAL TO 0822 01209000
*                                      BUFSIZ                        */ 01210000
         NI    LCBINPAK(IEDQLPTR),B'11111110'                      0822 01211000
*                   CALL COMBINE;   /* COMBINE THE DATA OF THE PACKED   01212000
*                                      PIU AND THE CURRENT PIU       */ 01213000
@RF00821 BAL   @14,COMBINE                                         0823 01214000
*                   RC=NOGO;        /* SET 'NOGO' RETURN             */ 01215000
         MVI   RC,X'04'                                            0824 01216000
*                 END;                                             0825 01217000
*             END;                                                 0826 01218000
@RF00816 DS    0H                                                  0827 01219000
*         END;                                                     0827 01220000
@RC00802 DS    0H                                                  0828 01221000
*     END;                                                         0828 01222000
*                                                                  0828 01223000
@RC00797 DS    0H                                                  0829 01224000
*/*                                                                  */ 01225000
*                                                                  0829 01226000
*   R14=R14SV08;                    /* RESTORE RETURN ADDRESS        */ 01227000
@RC00785 L     R14,R14SV08                                         0829 01228000
*   RETURN;                         /* RETURN TO CALLER              */ 01229000
@EL00011 DS    0H                                                  0830 01230000
@EF00011 DS    0H                                                  0830 01231000
@ER00011 BR    @14                                                 0830 01232000
*   END PACKING;                                                   0831 01233000
*                                                                  0832 01234000
*/********************************************************************/ 01235000
*/*                                                                  */ 01236000
*/* THIS ROUTINE CONTROLS THE POSTING OF PIU BUFFERS TO THE MH.      */ 01237000
*/*  IT HANDLES AMONG OTHER THINGS CANCEL PROCESSING AND 0 LENGTH RU */ 01238000
*/*  PROCESSING.                                                     */ 01239000
*/*                                                                  */ 01240000
*/********************************************************************/ 01241000
*                                                                  0832 01242000
*POSTING:                                                          0832 01243000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0832 01244000
POSTING  DS    0H                                                  0833 01245000
*   R14SV09=R14;                    /* SAVE RETURN ADDRESS           */ 01246000
         ST    R14,R14SV09                                         0833 01247000
*/*                                                                  */ 01248000
*                                                                  0834 01249000
*   QCBA=LCBMHA;                    /* SET UP MH QCB ADDRESS @YM06085*/ 01250000
         MVC   QCBA(3),LCBMHA(IEDQLPTR)                            0834 01251000
*/*                                                                  */ 01252000
*                                                                  0835 01253000
*   IF LCBPAKCH=0 THEN              /* IS THERE NO SAVED PIU       0835 01254000
*                                      BUFFER(ARE WE IN POSTING RESET   01255000
*                                      STATE)                        */ 01256000
         L     @10,LCBPAKCH-1(,IEDQLPTR)                           0835 01257000
         LA    @10,0(,@10)                                         0835 01258000
         LTR   @10,@10                                             0835 01259000
         BNZ   @RF00835                                            0835 01260000
*     DO;                           /* YES                           */ 01261000
*       IF CMDBYTE=CD1CANCL THEN    /* CANCEL PIU                    */ 01262000
         CLI   CMDBYTE,X'83'                                       0837 01263000
         BNE   @RF00837                                            0837 01264000
*         DO;                       /* YES                           */ 01265000
*           RPARM=RPRF;             /* ADDR OF CANCEL PIU BUFFER     */ 01266000
         LR    RPARM,RPRF                                          0839 01267000
*           CALL POSTMH;            /* POST CANCEL TO MH             */ 01268000
         BAL   @14,POSTMH                                          0840 01269000
*         END;                                                     0841 01270000
*       ELSE                        /* NOT CANCEL                    */ 01271000
*         DO;                                                      0842 01272000
         B     @RC00837                                            0842 01273000
@RF00837 DS    0H                                                  0843 01274000
*           IF TRHEC=ON THEN        /* END OF CHAIN                  */ 01275000
         TM    TRHEC+10(PIUPTR),B'00000001'                        0843 01276000
         BNO   @RF00843                                            0843 01277000
*             DO;                   /* YES                           */ 01278000
*               IF TTHDCF=LENGTH(IEDRH) THEN/* ZERO LENGTH RU        */ 01279000
         SLR   @10,@10                                             0845 01280000
         ICM   @10,3,TTHDCF(PIUPTR)                                0845 01281000
         C     @10,@CF00065                                        0845 01282000
         BNE   @RF00845                                            0845 01283000
*                 DO;               /* YES                           */ 01284000
*                   RU(1)='00'X;    /* PUT 1 CHAR IN RU              */ 01285000
         MVI   RU+13(PIUPTR),X'00'                                 0847 01286000
*                   TTHDCF=TTHDCF+1;/* INCREMENT DATA COUNT          */ 01287000
         AL    @10,@CF00059                                        0848 01288000
         STCM  @10,3,TTHDCF(PIUPTR)                                0848 01289000
*                 END;                                             0849 01290000
*                                                                  0849 01291000
*/*                                                                  */ 01292000
*                                                                  0850 01293000
*               RPARM=RPRF;         /* ADDR OF PIU BUFFER            */ 01294000
@RF00845 LR    RPARM,RPRF                                          0850 01295000
*               CALL POSTMH;        /* POST PIU TO MH                */ 01296000
         BAL   @14,POSTMH                                          0851 01297000
*             END;                                                 0852 01298000
*           ELSE                    /* NOT END OF CHAIN              */ 01299000
*             LCBPAKCH=RPRF;        /* SET SAVED CHAIN TO CURRENT PIU*/ 01300000
         B     @RC00843                                            0853 01301000
@RF00843 STCM  RPRF,7,LCBPAKCH(IEDQLPTR)                           0853 01302000
*         END;                                                     0854 01303000
*     END;                                                         0855 01304000
*   ELSE                            /* NOT IN POSTING RESET        0856 01305000
*                                      STATE(THERE IS A SAVED PIU  0856 01306000
*                                      BUFFER                        */ 01307000
*     DO;                                                          0856 01308000
         B     @RC00835                                            0856 01309000
@RF00835 DS    0H                                                  0857 01310000
*       SVTH=ADDR(LCBPAKCH->PRFPIUO)+LCBPAKCH->PRFPIUO;/* SAVED TH 0857 01311000
*                                      PTR                           */ 01312000
         L     @05,LCBPAKCH-1(,IEDQLPTR)                           0857 01313000
         LA    @05,0(,@05)                                         0857 01314000
         LA    SVTH,PRFPIUO(,@05)                                  0857 01315000
         SLR   @00,@00                                             0857 01316000
         IC    @00,PRFPIUO(,@05)                                   0857 01317000
         ALR   SVTH,@00                                            0857 01318000
*       SVRH=SVTH+LENGTH(IEDTH);    /* SAVED RH PTR                  */ 01319000
         LA    SVRH,10                                             0858 01320000
         ALR   SVRH,SVTH                                           0858 01321000
*       SVRU=SVRH+LENGTH(IEDRH);    /* SAVED RU PTR                  */ 01322000
         LA    @05,3                                               0859 01323000
         ALR   @05,SVRH                                            0859 01324000
         ST    @05,SVRU                                            0859 01325000
*/*                                                                  */ 01326000
*                                                                  0860 01327000
*       IF SVTH->TTHDCF>LENGTH(IEDRH) THEN/* LENGTH OF SAVED PIU NOT    01328000
*                                      ZERO                          */ 01329000
         CLC   TTHDCF(2,SVTH),@CH00065                             0860 01330000
         BNH   @RF00860                                            0860 01331000
*         CALL STATNOT0;            /* 'NOT 0 LENGTH' STATE        0861 01332000
*                                      PROCESSING                    */ 01333000
         BAL   @14,STATNOT0                                        0861 01334000
*       ELSE                        /* O LENGTH                      */ 01335000
*         CALL STAT0;               /* '0 LENGTH' STATE PROCESSING   */ 01336000
         B     @RC00860                                            0862 01337000
@RF00860 BAL   @14,STAT0                                           0862 01338000
*     END;                                                         0863 01339000
*                                                                  0863 01340000
@RC00860 DS    0H                                                  0864 01341000
*/*                                                                  */ 01342000
*                                                                  0864 01343000
*   R14=R14SV09;                    /* RESTORE RETURN ADDRESS        */ 01344000
@RC00835 L     R14,R14SV09                                         0864 01345000
*   RETURN;                         /* RETURN TO CALLER              */ 01346000
@EL00012 DS    0H                                                  0865 01347000
@EF00012 DS    0H                                                  0865 01348000
@ER00012 BR    @14                                                 0865 01349000
*   END POSTING;                                                   0866 01350000
*                                                                  0867 01351000
*/********************************************************************/ 01352000
*/*                                                                  */ 01353000
*/* THIS ROUTINE CONVERTS THE PIU BUFFER TO TCAM BUFFER FORMAT AND   */ 01354000
*/*   POSTS IT TO THE MH.                                            */ 01355000
*/*       INPUT: 1) REG 1 CONTAINS THE ADDRESS OF THE PIU BUFFER     */ 01356000
*/*                 TO BE POSTED                                     */ 01357000
*/*              2) THE FIELD 'QCBA' CONTAINS THE ADDRESS OF THE     */ 01358000
*/*                 MH QCB TO WHICH THE BUFFER IS TO POSTED          */ 01359000
*/*              3) THE 'CMDBYTE' CONTAINS A CANCEL COMMAND CODE IF  */ 01360000
*/*                 THE PIU TO BE POSTED IS A CANCEL                 */ 01361000
*/*                                                                  */ 01362000
*/********************************************************************/ 01363000
*                                                                  0867 01364000
*   RFY                                                            0867 01365000
*     IEDQPRF BASED(BUFPTR);                                       0867 01366000
*   RFY                                                            0868 01367000
*     IEDPIU BASED(PIUBEG);                                        0868 01368000
*POSTMH:                                                           0869 01369000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0869 01370000
POSTMH   DS    0H                                                  0870 01371000
*   R14SV10=R14;                    /* SAVE RETURN ADDRESS           */ 01372000
         ST    R14,R14SV10                                         0870 01373000
*/*                                                                  */ 01374000
*                                                                  0871 01375000
*   BUFPTR=RPARM;                   /* SET BUFFER ADDRESSABILITY     */ 01376000
         LR    BUFPTR,RPARM                                        0871 01377000
*   PIUBEG=ADDR(PRFPIUO)+PRFPIUO;   /* SET PIU(TH-RH-RU)           0872 01378000
*                                      ADDRESSABILITY                */ 01379000
         LA    PIUBEG,PRFPIUO(,BUFPTR)                             0872 01380000
         SLR   @10,@10                                             0872 01381000
         IC    @10,PRFPIUO(,BUFPTR)                                0872 01382000
         ALR   PIUBEG,@10                                          0872 01383000
*   RHSAVE=IEDRH;                   /* SAVE THE RH FOR A MINUTE      */ 01384000
         LA    @10,10                                              0873 01385000
         ALR   @10,PIUBEG                                          0873 01386000
         MVC   RHSAVE(3),IEDRH(@10)                                0873 01387000
*/*                                                                  */ 01388000
*                                                                  0874 01389000
*   IF LCBHDRPD=ON THEN             /* HAS HEADER BUFFER ALREADY BEEN   01390000
*                                      POSTED TO MH          @YM07036*/ 01391000
         TM    LCBHDRPD(IEDQLPTR),B'00001000'                      0874 01392000
         BNO   @RF00874                                            0874 01393000
*     DO;                           /* YES                   @YM07036*/ 01394000
*       TRHBC=OFF;                  /* FORCE TEXT BUFFER TO BE BUILT    01395000
*                                                            @YM07036*/ 01396000
         NI    TRHBC(@10),B'11111101'                              0876 01397000
*       IF CMDBYTE=CD1CANCL THEN    /* CANCEL COMMAND        @YM07036*/ 01398000
         CLI   CMDBYTE,X'83'                                       0877 01399000
         BNE   @RF00877                                            0877 01400000
*         DO;                       /* YES                   @YM07036*/ 01401000
*           TRHEC=ON;               /* FORCE END CHAIN       @YM07036*/ 01402000
         OI    TRHEC(@10),B'00000001'                              0879 01403000
*           LCBHDRPD=OFF;           /* RESET HEADER POSTED STATE   0880 01404000
*                                                            @YM07036*/ 01405000
         NI    LCBHDRPD(IEDQLPTR),B'11110111'                      0880 01406000
*         END;                      /*                       @YM07036*/ 01407000
*       ELSE                        /* NOT CANCEL COMMAND    @YM07036*/ 01408000
*         IF TRHEC=ON THEN          /* END OF CHAIN          @YM07036*/ 01409000
         B     @RC00877                                            0882 01410000
@RF00877 TM    TRHEC+10(PIUBEG),B'00000001'                        0882 01411000
         BNO   @RF00882                                            0882 01412000
*           LCBHDRPD=OFF;           /* YES-RESET HEADER POSTED STATE    01413000
*                                                            @YM07036*/ 01414000
         NI    LCBHDRPD(IEDQLPTR),B'11110111'                      0883 01415000
*     END;                          /*                       @YM07036*/ 01416000
*   ELSE                            /* HEADER HAS NOT BEEN POSTED TO    01417000
*                                      MH (NOTHING POSTED YET      0885 01418000
*                                                            @YM07036*/ 01419000
*     DO;                           /*                       @YM07036*/ 01420000
         B     @RC00874                                            0885 01421000
@RF00874 DS    0H                                                  0886 01422000
*       TRHBC=ON;                   /* FORCE HEADER BUFFER TO BE   0886 01423000
*                                      BUILT                 @YM07036*/ 01424000
         LA    @10,10                                              0886 01425000
         ALR   @10,PIUBEG                                          0886 01426000
         OI    TRHBC(@10),B'00000010'                              0886 01427000
*       IF CMDBYTE=CD1CANCL THEN    /* CANCEL COMMAND        @YM07036*/ 01428000
         CLI   CMDBYTE,X'83'                                       0887 01429000
         BNE   @RF00887                                            0887 01430000
*         TRHEC=ON;                 /* YES-FORCE END CHAIN   @YM07036*/ 01431000
         OI    TRHEC(@10),B'00000001'                              0888 01432000
*       ELSE                        /* NOT CANCEL COMMAND    @YM07036*/ 01433000
*         IF TRHEC=OFF THEN         /* NOT END OF CHAIN      @YM07036*/ 01434000
         B     @RC00887                                            0889 01435000
@RF00887 TM    TRHEC+10(PIUBEG),B'00000001'                        0889 01436000
         BNZ   @RF00889                                            0889 01437000
*           LCBHDRPD=ON;            /* GO INTO HEADER POSTED STATE 0890 01438000
*                                                            @YM07036*/ 01439000
         OI    LCBHDRPD(IEDQLPTR),B'00001000'                      0890 01440000
*     END;                          /*                       @YM07036*/ 01441000
@RF00889 DS    0H                                                  0891 01442000
@RC00887 DS    0H                                                  0892 01443000
*/*                                                                  */ 01444000
*                                                                  0892 01445000
*   RPARM=BUFPTR;                   /* ADDRESS OF PIU BUFFER         */ 01446000
@RC00874 LR    RPARM,BUFPTR                                        0892 01447000
*   CALL IEDXFMI;                   /* TRANSFORM PIU TO TCAM BUFFER     01448000
*                                      FORMAT                        */ 01449000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0893 01450000
         L     @15,SAVTXFMI(,@10)                                  0893 01451000
         BALR  @14,@15                                             0893 01452000
*   PRFLCB=RLCB;                    /* SET UP LCB ADDRESS            */ 01453000
         STCM  RLCB,7,PRFLCB(BUFPTR)                               0894 01454000
*   PRF1RH=RHSAVE;                  /* RESTORE THE ORIGINAL RH(WHICH    01455000
*                                      COULD CONTAIN INCORRECT CHAIN    01456000
*                                      BIT SETTINGS)                 */ 01457000
         LR    @10,BUFPTR                                          0895 01458000
         AL    @10,@CF02338                                        0895 01459000
         MVC   PRF1RH(3,@10),RHSAVE                                0895 01460000
*   IF QCBTSSES=ON THEN             /* IN TSO SESSION                */ 01461000
         L     @10,QCBPTR                                          0896 01462000
         TM    QCBTSSES(@10),B'10000000'                           0896 01463000
         BNO   @RF00896                                            0896 01464000
*     PRFTSMSG=ON;                  /* YES, INDICATE TSO MESSAGE     */ 01465000
         OI    PRFTSMSG(BUFPTR),B'00010000'                        0897 01466000
*/*                                                                  */ 01467000
*                                                                  0898 01468000
*   IF PRFNLSTN=OFF THEN            /* 'LAST' BUFFER                 */ 01469000
@RF00896 TM    PRFNLSTN(BUFPTR),B'00000010'                        0898 01470000
         BNZ   @RF00898                                            0898 01471000
*     DO;                           /* YES                           */ 01472000
*       LCBUSUE=ON;                 /* SET UNIT EXCEPTION            */ 01473000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0900 01474000
*       EXITSW=ON;                  /* SET LOOP EXIT SWITCH          */ 01475000
         OI    EXITSW,B'10000000'                                  0901 01476000
*       IF SCBTXTTN=ON THEN         /* HAS ERROR OCCURRED ON THIS  0902 01477000
*                                      CHAIN                         */ 01478000
         L     @10,IEDQSPTR-1(,IEDQLPTR)                           0902 01479000
         TM    SCBTXTTN(@10),B'01000000'                           0902 01480000
         BNO   @RF00902                                            0902 01481000
*         PRFPRI=PRIERBFR;          /* YES-SET ERROR PRIORITY        */ 01482000
         MVI   PRFPRI(BUFPTR),X'E3'                                0903 01483000
*       ELSE                        /* NO ERROR ON THIS CHAIN        */ 01484000
*         PRFPRI=PRIMHBFR;          /* SET NORMAL PRIORITY           */ 01485000
         B     @RC00902                                            0904 01486000
@RF00902 MVI   PRFPRI(BUFPTR),X'E4'                                0904 01487000
*     END;                                                         0905 01488000
*   ELSE                            /* NOT 'LAST' BUFFER             */ 01489000
*     PRFPRI=PRIMHBFR;              /* SET NORMAL PRIORITY           */ 01490000
         B     @RC00898                                            0906 01491000
@RF00898 MVI   PRFPRI(BUFPTR),X'E4'                                0906 01492000
*/*                                                                  */ 01493000
*                                                                  0907 01494000
*   PRFQCBA=QCBA;                   /* SET UP MH QCB ADDRESS         */ 01495000
@RC00898 MVC   PRFQCBA(3,BUFPTR),QCBA                              0907 01496000
*   RPARM=BUFPTR;                   /* ADDRESS OF BUFFER TO BE POSTED*/ 01497000
         LR    RPARM,BUFPTR                                        0908 01498000
*   CALL DSPPOSTR;                  /* POST THE BUFFER TO MH         */ 01499000
         LA    @15,DSPPOSTR(,RDISP)                                0909 01500000
         BALR  @14,@15                                             0909 01501000
*/*                                                                  */ 01502000
*                                                                  0910 01503000
*   R14=R14SV10;                    /* RESTORE RETURN ADDRESS        */ 01504000
         L     R14,R14SV10                                         0910 01505000
*   RETURN;                         /* RETURN TO CALLER              */ 01506000
@EL00013 DS    0H                                                  0911 01507000
@EF00013 DS    0H                                                  0911 01508000
@ER00013 BR    @14                                                 0911 01509000
*   END POSTMH;                                                    0912 01510000
*   RFY                                                            0913 01511000
*     IEDQPRF BASED(IEDQPPTR);                                     0913 01512000
*   RFY                                                            0914 01513000
*     IEDPIU BASED(PIUPTR);                                        0914 01514000
*                                                                  0915 01515000
*/********************************************************************/ 01516000
*/*                                                                  */ 01517000
*/* THIS ROUTINE PROCESSES EACH ELEMENT AS IT COMES OFF THE WAIT     */ 01518000
*/*  CHAIN. IT DOES THE FOLLOWING:                                   */ 01519000
*/*        . PROCESSES EXPEDITED FLOW                                */ 01520000
*/*        . PERFORMS ERROR CHECKING ON THE RH FORMAT                */ 01521000
*/*        . DOES CHAIN MANAGEMENT                                   */ 01522000
*/*        . DOES BRACKET MANAGEMENT                                 */ 01523000
*/*        . DOES PACKING FUNCTION                                   */ 01524000
*/*        . DOES POSTING TO MH FUNCTION                             */ 01525000
*/*                                                                  */ 01526000
*/********************************************************************/ 01527000
*                                                                  0915 01528000
*PROCELEM:                                                         0915 01529000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0915 01530000
PROCELEM DS    0H                                                  0916 01531000
*   R14SV11=R14;                    /* SAVE RETURN ADDRESS           */ 01532000
         ST    R14,R14SV11                                         0916 01533000
*/*                                                                  */ 01534000
*/* SET UP COMMAND BYTE                                              */ 01535000
*                                                                  0917 01536000
*   IF TRHRUCAT=TRHDFC THEN         /* DATA FLOW CONTROL COMMAND     */ 01537000
         LA    @10,10                                              0917 01538000
         ALR   @10,PIUPTR                                          0917 01539000
         TM    TRHRUCAT(@10),B'01000000'                           0917 01540000
         BNO   @RF00917                                            0917 01541000
         TM    TRHRUCAT(@10),B'00100000'                           0917 01542000
         BNZ   @RF00917                                            0917 01543000
*     DO;                           /* YES                           */ 01544000
*       IF TRHSDI=ON THEN           /* SENSE DATA INCLUDED           */ 01545000
         TM    TRHSDI(@10),B'00000100'                             0919 01546000
         BNO   @RF00919                                            0919 01547000
*         CMDBYTE=RU(5);            /* COMMAND CODE IS 5TH BYTE OF RU*/ 01548000
         MVC   CMDBYTE(1),RU+17(PIUPTR)                            0920 01549000
*       ELSE                        /* NO SENSE DATA                 */ 01550000
*         CMDBYTE=RU(1);            /* COMMAND CODE IS 1ST BYTE OF RU*/ 01551000
         B     @RC00919                                            0921 01552000
@RF00919 MVC   CMDBYTE(1),RU+13(PIUPTR)                            0921 01553000
*     END;                                                         0922 01554000
*   ELSE                            /* FM DATA                       */ 01555000
*     CMDBYTE=0;                    /* INDICATE NO COMMAND CODE      */ 01556000
         B     @RC00917                                            0923 01557000
@RF00917 MVI   CMDBYTE,X'00'                                       0923 01558000
*/*                                                                  */ 01559000
*                                                                  0924 01560000
*   LCBDFCMD=CMDBYTE;               /* SET UP COMMAND BYTE FOR IEDQRS   01561000
*                                      (SNA RESPONSE ROUTINE)      0924 01562000
*                                                            @YM07705*/ 01563000
@RC00917 MVC   LCBDFCMD(1,IEDQLPTR),CMDBYTE                        0924 01564000
*/*                                                                  */ 01565000
*                                                                  0925 01566000
*   ERRORSW=OFF;                    /* INIT ERROR SW TO 0            */ 01567000
         NI    ERRORSW,B'10111111'                                 0925 01568000
*/*                                                                  */ 01569000
*                                                                  0926 01570000
*   IF TTHEFI=ON THEN               /* EXPEDITED FLOW                */ 01571000
         TM    TTHEFI(PIUPTR),B'00000001'                          0926 01572000
         BNO   @RF00926                                            0926 01573000
*     CALL EXP;                     /* YES- PROCESS EXPEDITED FLOW   */ 01574000
         BAL   @14,EXP                                             0927 01575000
*   ELSE                            /* NORMAL FLOW                   */ 01576000
*     DO;                                                          0928 01577000
         B     @RC00926                                            0928 01578000
@RF00926 DS    0H                                                  0929 01579000
*       IF SAVTBSM^=0&              /* BRACKET MANAGER LOADED AND... */ 01580000
*           SIBBRACK=ON THEN        /* RUNNING BRACKETS THIS SESSION */ 01581000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0929 01582000
         L     @10,SAVTBSM(,@10)                                   0929 01583000
         LTR   @10,@10                                             0929 01584000
         BZ    @RF00929                                            0929 01585000
         L     @10,SIBPTR                                          0929 01586000
         TM    SIBBRACK(@10),B'00000100'                           0929 01587000
         BNO   @RF00929                                            0929 01588000
*         CALL BRACKMGR;            /* DO BRACKET MANAGEMENT         */ 01589000
         BAL   @14,BRACKMGR                                        0930 01590000
*       ELSE                        /* NOT USING BRACKETS            */ 01591000
*         DO;                                                      0931 01592000
         B     @RC00929                                            0931 01593000
@RF00929 DS    0H                                                  0932 01594000
*           IF LCBCHN=LCBPURG THEN  /* IN 'PURGING CHAIN' STATE      */ 01595000
         TM    LCBCHN(IEDQLPTR),B'00100000'                        0932 01596000
         BNO   @RF00932                                            0932 01597000
         TM    LCBCHN(IEDQLPTR),B'11010000'                        0932 01598000
         BNZ   @RF00932                                            0932 01599000
*             CALL CHAINMGR;        /* YES, DO CHAIN STATE MANAGEMENT*/ 01600000
         BAL   @14,CHAINMGR                                        0933 01601000
*           ELSE                    /* NOT IN 'PURGING CHAIN' STATE  */ 01602000
*             DO;                                                  0934 01603000
         B     @RC00932                                            0934 01604000
@RF00932 DS    0H                                                  0935 01605000
*               CALL STATUS;        /* DO FORMAT CHECKS              */ 01606000
         BAL   @14,STATUS                                          0935 01607000
*               CALL CHAINMGR;      /* DO CHAIN STATE MANAGEMENT     */ 01608000
         BAL   @14,CHAINMGR                                        0936 01609000
*             END;                                                 0937 01610000
*         END;                                                     0938 01611000
*                                                                  0938 01612000
@RC00932 DS    0H                                                  0939 01613000
*/*                                                                  */ 01614000
*                                                                  0939 01615000
*       IF LGBPACK=ON THEN          /* 'PACKING' OPTION SPECIFIED    */ 01616000
@RC00929 L     @10,QCBPTR                                          0939 01617000
         L     @10,IEDNLPTR-1(,@10)                                0939 01618000
         TM    LGBPACK(@10),B'10000000'                            0939 01619000
         BNO   @RF00939                                            0939 01620000
*         DO;                       /* YES                           */ 01621000
*           CALL PACKING;           /* DO THE PACKING FUNCTION       */ 01622000
         BAL   @14,PACKING                                         0941 01623000
*           IF RC=GO THEN           /* IS A BUFFER READY TO GO TO MH */ 01624000
         CLI   RC,0                                                0942 01625000
         BNE   @RF00942                                            0942 01626000
*             CALL POSTING;         /* YES- DO POSTING FUNCTION      */ 01627000
         BAL   @14,POSTING                                         0943 01628000
*         END;                                                     0944 01629000
*       ELSE                        /* 'PACKING' NOT SPECIFIED       */ 01630000
*         CALL POSTING;             /* DO POSTING FUNCTION           */ 01631000
         B     @RC00939                                            0945 01632000
@RF00939 BAL   @14,POSTING                                         0945 01633000
*     END;                                                         0946 01634000
*                                                                  0946 01635000
@RC00939 DS    0H                                                  0947 01636000
*/*                                                                  */ 01637000
*                                                                  0947 01638000
*   R14=R14SV11;                    /* RESTORE RETURN ADDRESS        */ 01639000
@RC00926 L     R14,R14SV11                                         0947 01640000
*   RETURN;                         /* RETURN TO CALLER              */ 01641000
@EL00014 DS    0H                                                  0948 01642000
@EF00014 DS    0H                                                  0948 01643000
@ER00014 BR    @14                                                 0948 01644000
*   END PROCELEM;                                                  0949 01645000
*                                                                  0950 01646000
*/********************************************************************/ 01647000
*/*                                                                  */ 01648000
*/* THIS ROUTINE SETS THE TCAM ERROR WORD AND ERROR INFORMATION IN   */ 01649000
*/*  LCB FOR RESPONSES.                                              */ 01650000
*/*      INPUT: THE FIELD NAMED 'SNC' CONTAINS THE 4 BYTES OF SENSE  */ 01651000
*/*             TO BE USED IN SETTING UP ERROR INFORMATION           */ 01652000
*/*                                                                  */ 01653000
*/********************************************************************/ 01654000
*                                                                  0950 01655000
*SETERSNS:                                                         0950 01656000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0950 01657000
SETERSNS DS    0H                                                  0951 01658000
*   IF LCBRSRH=OFF THEN             /* HAS A RESPONSE ALREADY BEEN 0951 01659000
*                                      GENERATED                     */ 01660000
         TM    LCBRSRH(IEDQLPTR),B'01000000'                       0951 01661000
         BNZ   @RF00951                                            0951 01662000
*     DO;                           /* NO                            */ 01663000
*       SCBTXTTN=ON;                /* SET TEXT ERROR ( THIS BIT ALSO   01664000
*                                      INDICATES THAT ERROR BITS ARE    01665000
*                                      SET (FOR SNA ONLY))           */ 01666000
         L     @10,IEDQSPTR-1(,IEDQLPTR)                           0953 01667000
         OI    SCBTXTTN(@10),B'01000000'                           0953 01668000
*       ERRORSW=ON;                 /* INDICATE ERROR FOUND ON THIS     01669000
*                                      PIU ELEMENT                   */ 01670000
         OI    ERRORSW,B'01000000'                                 0954 01671000
*/*    SET UP INFORMATION REQUIRED FOR SENDING THE RESPONSE.         */ 01672000
*/*    (RESPONSE IS SENT BY IEDQRS OUT OF THE MH)                    */ 01673000
*                                                                  0955 01674000
*       IF RLCB=SAVTSLCB THEN       /* SSCP                          */ 01675000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0955 01676000
         C     RLCB,SAVTSLCB(,@10)                                 0955 01677000
         BNE   @RF00955                                            0955 01678000
*         DO;                       /* YES                           */ 01679000
*           LCBTHSQ=PRF1SQID;       /* SET UP RSP SEQUENCE NUMBER    */ 01680000
         LR    @10,IEDQPPTR                                        0957 01681000
         SL    @10,@CF00044                                        0957 01682000
         LH    @05,PRF1SQID(,@10)                                  0957 01683000
         N     @05,@CF02325                                        0957 01684000
         STH   @05,LCBTHSQ(,IEDQLPTR)                              0957 01685000
*           LCBRHSV=PRF1RH;         /* SET UP RH                     */ 01686000
         MVC   LCBRHSV(3,IEDQLPTR),PRF1RH(@10)                     0958 01687000
*           IF PRF1EXPI=ON THEN     /* EXPIDITED                     */ 01688000
         TM    PRF1EXPI(@10),B'01000000'                           0959 01689000
         BNO   @RF00959                                            0959 01690000
*             LCBEXPI=ON;           /* YES, SET EXP INDICATOR        */ 01691000
         OI    LCBEXPI(IEDQLPTR),B'10000000'                       0960 01692000
*         END;                                                     0961 01693000
*       ELSE                        /* NOT SSCP                      */ 01694000
*         DO;                                                      0962 01695000
         B     @RC00955                                            0962 01696000
@RF00955 DS    0H                                                  0963 01697000
*           LCBTHSQ=TTHSNF;         /* SET UP RSP SEQUENCE NUMBER    */ 01698000
         MVC   LCBTHSQ(2,IEDQLPTR),TTHSNF(PIUPTR)                  0963 01699000
*           LCBRHSV=IEDRH;          /* SET UP RH                     */ 01700000
         MVC   LCBRHSV(3,IEDQLPTR),IEDRH+10(PIUPTR)                0964 01701000
*           LCBDFCMD=CMDBYTE;       /* SET UP COMMAND CODE           */ 01702000
         MVC   LCBDFCMD(1,IEDQLPTR),CMDBYTE                        0965 01703000
*           IF TTHEFI=ON THEN       /* EXPIDITED FLOW                */ 01704000
         TM    TTHEFI(PIUPTR),B'00000001'                          0966 01705000
         BNO   @RF00966                                            0966 01706000
*             LCBEXPI=ON;           /* YES, SET EXP INDICATOR        */ 01707000
         OI    LCBEXPI(IEDQLPTR),B'10000000'                       0967 01708000
*         END;                                                     0968 01709000
*                                                                  0968 01710000
@RF00966 DS    0H                                                  0969 01711000
*/*                                                                  */ 01712000
*                                                                  0969 01713000
*       LCBRSRH=ON;                 /* INDICATE A RSP IS TO BE SENT  */ 01714000
@RC00955 OI    LCBRSRH(IEDQLPTR),B'01000000'                       0969 01715000
*       LCBLUSNS=SNC;               /* SET SENSE BYTES               */ 01716000
         MVC   LCBLUSNS(4,IEDQLPTR),SNC                            0970 01717000
*       SNSPTR=ADDR(SNC);           /* SET UP SENSE ADDRESSABILITY   */ 01718000
         LA    SNSPTR,SNC                                          0971 01719000
*/*                                                                  */ 01720000
*                                                                  0972 01721000
*       IF SNSMAJ=SNSPATH THEN      /* PATH ERROR                    */ 01722000
         CLI   SNSMAJ(SNSPTR),X'80'                                0972 01723000
         BNE   @RF00972                                            0972 01724000
*         SCBPERRN=ON;              /* YES-SET PATH ERROR BIT        */ 01725000
         L     @05,IEDQSPTR-1(,IEDQLPTR)                           0973 01726000
         OI    SCBPERRN(@05),B'00000001'                           0973 01727000
*       ELSE                                                       0974 01728000
*         IF SNSMAJ=SNSRHUSE THEN   /* RH USAGE ERROR                */ 01729000
         B     @RC00972                                            0974 01730000
@RF00972 CLI   SNSMAJ(SNSPTR),X'40'                                0974 01731000
         BNE   @RF00974                                            0974 01732000
*           SCBCPMEN=ON;            /* YES-SET RH USAGE ERROR BIT    */ 01733000
         L     @05,IEDQSPTR-1(,IEDQLPTR)                           0975 01734000
         OI    SCBCPMEN(@05),B'00000100'                           0975 01735000
*         ELSE                                                     0976 01736000
*           IF SNSMAJ=SNSSTERR THEN /* STATE ERROR                   */ 01737000
         B     @RC00974                                            0976 01738000
@RF00974 CLI   SNSMAJ(SNSPTR),X'20'                                0976 01739000
         BNE   @RF00976                                            0976 01740000
*             SCBSTERN=ON;          /* YES-SET STATE ERROR BIT       */ 01741000
         L     @05,IEDQSPTR-1(,IEDQLPTR)                           0977 01742000
         OI    SCBSTERN(@05),B'00000010'                           0977 01743000
*           ELSE                                                   0978 01744000
*             IF SNSMAJ=SNSRQERR THEN/* REQUEST ERROR                */ 01745000
         B     @RC00976                                            0978 01746000
@RF00976 CLI   SNSMAJ(SNSPTR),X'10'                                0978 01747000
         BNE   @RF00978                                            0978 01748000
*               SCBFIERN=ON;        /* YES-SET REQUEST ERROR BIT     */ 01749000
         L     @05,IEDQSPTR-1(,IEDQLPTR)                           0979 01750000
         OI    SCBFIERN(@05),B'00000100'                           0979 01751000
*             ELSE                                                 0980 01752000
*               IF SNSMAJ=SNSRQREJ THEN/* REQUEST REJECT ERROR       */ 01753000
         B     @RC00978                                            0980 01754000
@RF00978 CLI   SNSMAJ(SNSPTR),X'08'                                0980 01755000
         BNE   @RF00980                                            0980 01756000
*                 SCBRRJN=ON;       /* YES-SET REQUEST REJECT BIT    */ 01757000
         L     @05,IEDQSPTR-1(,IEDQLPTR)                           0981 01758000
         OI    SCBRRJN(@05),B'00000100'                            0981 01759000
*/*                                                                  */ 01760000
*                                                                  0982 01761000
*       IF SNSUSER^=0 THEN          /* USER SENSE PRESENT            */ 01762000
@RF00980 DS    0H                                                  0982 01763000
@RC00978 DS    0H                                                  0982 01764000
@RC00976 DS    0H                                                  0982 01765000
@RC00974 DS    0H                                                  0982 01766000
@RC00972 ICM   @05,3,SNSUSER(SNSPTR)                               0982 01767000
         BZ    @RF00982                                            0982 01768000
*         SCBUNDFN=ON;              /* YES-SET USER SENSE PRESENT BIT*/ 01769000
         L     @10,IEDQSPTR-1(,IEDQLPTR)                           0983 01770000
         OI    SCBUNDFN(@10),B'00000001'                           0983 01771000
*     END;                                                         0984 01772000
*   RETURN;                         /* RETURN TO CALLER              */ 01773000
@EL00015 DS    0H                                                  0985 01774000
@EF00015 DS    0H                                                  0985 01775000
@ER00015 BR    @14                                                 0985 01776000
*   END SETERSNS;                                                  0986 01777000
         B     @EL00015                                            0986 01778000
*                                                                  0987 01779000
*/********************************************************************/ 01780000
*/*                                                                  */ 01781000
*/*      S S C P   SUBROUTINE                                        */ 01782000
*/*                                                                  */ 01783000
*/********************************************************************/ 01784000
*/*                                                                  */ 01785000
*/*      THIS SUBROUTINE PROCESSES SSCP-FLOW INPUT REQUESTS.         */ 01786000
*/*      THE BASIC PROCESSING STEPS ARE AS FOLLOWS:                  */ 01787000
*/*                                                                  */ 01788000
*/*        1. REMOVE THE FIRST PIU FROM THE WAIT CHAIN.              */ 01789000
*/*                                                                  */ 01790000
*/*        2. CONVERT THE PIU INTO A BUFFER.                         */ 01791000
*/*                                                                  */ 01792000
*/*        3. SET UP THE PLCB, SCB AND BUFFER FOR THE INPUT MH.      */ 01793000
*/*                                                                  */ 01794000
*/*        4. TPOST THE BUFFER TO THE INPUT MH.                      */ 01795000
*/*                                                                  */ 01796000
*/********************************************************************/ 01797000
*                                                                  0987 01798000
*   RFY                                                            0987 01799000
*     IEDRH BASED(ADDR(PRF1RH));                                   0987 01800000
*SSCP:                                                             0988 01801000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               0988 01802000
*                                                                  0988 01803000
SSCP     DS    0H                                                  0989 01804000
*/*                                                                  */ 01805000
*                                                                  0989 01806000
*   R14SV14=R14;                    /* SAVE RETURN ADDRESS           */ 01807000
         ST    R14,R14SV14                                         0989 01808000
*/*                                                                  */ 01809000
*                                                                  0990 01810000
*                                   /* REMOVE 1ST PIU FROM WAIT CHAIN*/ 01811000
*   RPRF=LCBWAITC;                  /* 1ST PIU'S UNIT                */ 01812000
         L     RPRF,LCBWAITC-1(,IEDQLPTR)                          0990 01813000
         LA    RPRF,0(,RPRF)                                       0990 01814000
*   LCBWAITC=PRFLINK;               /* DELINK IT                     */ 01815000
         MVC   LCBWAITC(3,IEDQLPTR),PRFLINK(IEDQPPTR)              0991 01816000
*/*                                                                  */ 01817000
*                                                                  0992 01818000
*                                   /* CONVERT PIU INTO BUFFER       */ 01819000
*   PIUPTR=ADDR(PRFPIUO)+PRFPIUO;   /* GET PIU ADDRESS               */ 01820000
         LA    PIUPTR,PRFPIUO(,IEDQPPTR)                           0992 01821000
         SLR   @10,@10                                             0992 01822000
         IC    @10,PRFPIUO(,IEDQPPTR)                              0992 01823000
         ALR   PIUPTR,@10                                          0992 01824000
*   R14=ADDR(PIURH);                /* GET RH ADDRESS (WITHIN PIU)   */ 01825000
         LA    R14,PIURH(,PIUPTR)                                  0993 01826000
*   R14->TRHBC=ON;                  /* SET CHAINING BITS TO GIVE     */ 01827000
*   R14->TRHEC=ON;                  /* ... HEADER LAST BUFFER        */ 01828000
         OI    TRHBC(R14),B'00000011'                              0995 01829000
*   RPARM=RPRF;                     /* PIU'S UNIT ADDRESS            */ 01830000
         LR    RPARM,RPRF                                          0996 01831000
*   CALL IEDXFMI;                   /* CONVERT PIU TO BUFFER         */ 01832000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0997 01833000
         L     @15,SAVTXFMI(,@10)                                  0997 01834000
         BALR  @14,@15                                             0997 01835000
*/*                                                                  */ 01836000
*                                                                  0998 01837000
*                                   /* SET UP THE PLCB               */ 01838000
*   LCBTTCIN=PRFSRCE;               /* SOURCE'S TNT OFFSET           */ 01839000
         LH    @10,PRFSRCE(,IEDQPPTR)                              0998 01840000
         STH   @10,LCBTTCIN(,IEDQLPTR)                             0998 01841000
*   LCBUSUE=ON;                     /* UNIT EXECPTION FLAG           */ 01842000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0999 01843000
*/*                                                                  */ 01844000
*                                                                  1000 01845000
*                                   /* SPECIAL SET-UP SITUATIONS     */ 01846000
*   CALL INSERT;                    /* INSERT 1 BYTE IF BUFFER HAS NO   01847000
*                                      DATA                          */ 01848000
         BAL   @14,INSERT                                          1000 01849000
*   IF TRHSDI=ON THEN               /* IS THIS EXCEPTION REQUEST     */ 01850000
         LR    @10,IEDQPPTR                                        1001 01851000
         AL    @10,@CF02338                                        1001 01852000
         TM    TRHSDI(@10),B'00000100'                             1001 01853000
         BNO   @RF01001                                            1001 01854000
*     DO;                           /* YES                           */ 01855000
*       LCBSCPRS=RU(5:7);           /* SET SSCP COMMAND CODE         */ 01856000
         LA    @10,13                                              1003 01857000
         ALR   @10,PIUPTR                                          1003 01858000
         MVC   LCBSCPRS(3,IEDQLPTR),RU+4(@10)                      1003 01859000
*       SNC=RU(1:4);                /* PUT SENSE BYTES IN SENSE CODE    01860000
*                                      FIELD                         */ 01861000
         MVC   SNC(4),RU(@10)                                      1004 01862000
*       CALL SETERSNS;              /* SET UP ERROR INFORMATION      */ 01863000
         BAL   @14,SETERSNS                                        1005 01864000
*     END;                                                         1006 01865000
*   ELSE                            /* SENSE NOT INCLUDED            */ 01866000
*     LCBSCPRS=RU(1:3);             /* SET UP COMMAND BYTES FOR    1007 01867000
*                                      IEDQRS (RESPONSE ROUTINE)     */ 01868000
         B     @RC01001                                            1007 01869000
@RF01001 MVC   LCBSCPRS(3,IEDQLPTR),RU+13(PIUPTR)                  1007 01870000
*/*                                                                  */ 01871000
*                                                                  1008 01872000
*   CALL CHECKNX;                   /* SET UP OPERATOR AWARENES MSG     01873000
*                                      INTERFACE IF RU IS AN ANSC, 1008 01874000
*                                      INOP, OR RECORD-TRACE-DATA    */ 01875000
@RC01001 BAL   @14,CHECKNX                                         1008 01876000
*/*                                                                  */ 01877000
*                                                                  1009 01878000
*                                   /* FINISH SETTING UP BUFFER      */ 01879000
*   PRFQCBA=SAVTSSMH;               /* SSCP'S MH ADDRESS             */ 01880000
         L     @10,AVTSAVTP(,IEDQAPTR)                             1009 01881000
         MVC   PRFQCBA(3,IEDQPPTR),SAVTSSMH+1(@10)                 1009 01882000
*   IF SCBTXTTN=ON THEN             /* HAS AN ERROR OCCURRED?        */ 01883000
         L     @10,IEDQSPTR-1(,IEDQLPTR)                           1010 01884000
         TM    SCBTXTTN(@10),B'01000000'                           1010 01885000
         BNO   @RF01010                                            1010 01886000
*     PRFPRI=PRIERBFR;              /* YES, SET ERROR PRIORITY       */ 01887000
         MVI   PRFPRI(IEDQPPTR),X'E3'                              1011 01888000
*   ELSE                                                           1012 01889000
*     PRFPRI=PRIMHBFR;              /* NO, SET NORMAL PRIORITY       */ 01890000
         B     @RC01010                                            1012 01891000
@RF01010 MVI   PRFPRI(IEDQPPTR),X'E4'                              1012 01892000
*   PRFLCB=RLCB;                    /* PLCB ADDRESS                  */ 01893000
@RC01010 STCM  RLCB,7,PRFLCB(IEDQPPTR)                             1013 01894000
*/*                                                                  */ 01895000
*                                                                  1014 01896000
*                                   /* TPOST BUFFER TO MH            */ 01897000
*   RPARM=RPRF;                     /* BUFFER ADDRESS                */ 01898000
         LR    RPARM,RPRF                                          1014 01899000
*   CALL DSPPOSTR;                  /* TPOST IT                      */ 01900000
         LA    @15,DSPPOSTR(,RDISP)                                1015 01901000
         BALR  @14,@15                                             1015 01902000
*/*                                                                  */ 01903000
*                                                                  1016 01904000
*   R14=R14SV14;                    /* RESTORE RETURN ADDRESS        */ 01905000
         L     R14,R14SV14                                         1016 01906000
*   END SSCP;                       /* RETURN TO CALLER              */ 01907000
@EL00016 DS    0H                                                  1017 01908000
@EF00016 DS    0H                                                  1017 01909000
@ER00016 BR    @14                                                 1017 01910000
*   RFY                                                            1018 01911000
*     IEDRH BASED(ADDR(PIURH));                                    1018 01912000
         EJECT                                                          01913000
*                                                                  1019 01914000
*/********************************************************************/ 01915000
*/*                                                                  */ 01916000
*/* THIS ROUTINE DOES PROCESSING WHEN THEIR IS A SAVED(PACKED) RU AND*/ 01917000
*/* ITS LENGTH IS NOT ZERO.                                          */ 01918000
*/*                                                                  */ 01919000
*/********************************************************************/ 01920000
*                                                                  1019 01921000
*STATNOT0:                                                         1019 01922000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               1019 01923000
STATNOT0 DS    0H                                                  1020 01924000
*   R14SV12=R14;                    /* SAVE RETURN ADDRESS           */ 01925000
         ST    R14,R14SV12                                         1020 01926000
*/*                                                                  */ 01927000
*                                                                  1021 01928000
*   IF CMDBYTE=CD1CANCL THEN        /* CANCEL PIU                    */ 01929000
         CLI   CMDBYTE,X'83'                                       1021 01930000
         BNE   @RF01021                                            1021 01931000
*     DO;                           /* YES                           */ 01932000
*       IF STMHDFC=ON THEN          /* SHOULD CANCEL GO TO         1023 01933000
*                                      MH(DFC=FULL OPTION)           */ 01934000
         L     @05,QCBA-1                                          1023 01935000
         AL    @05,@CF02345                                        1023 01936000
         TM    STMHDFC-8(@05),B'01000000'                          1023 01937000
         BNO   @RF01023                                            1023 01938000
*         DO;                       /* YES                           */ 01939000
*           RPARM=LCBPAKCH;         /* ADDRESS OF SAVED PIU BUFFER   */ 01940000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1025 01941000
         LA    RPARM,0(,RPARM)                                     1025 01942000
*           LCBPAKCH=0;             /* INDICATE NO SAVED PIU BUFFER  */ 01943000
         SLR   @10,@10                                             1026 01944000
         STCM  @10,7,LCBPAKCH(IEDQLPTR)                            1026 01945000
*           CMDBYTE=0;              /* INDICATE THIS BUFFER NOT    1027 01946000
*                                      CANCEL                        */ 01947000
         MVI   CMDBYTE,X'00'                                       1027 01948000
*           CALL POSTMH;            /* POST PIU BUFFER TO MH         */ 01949000
         BAL   @14,POSTMH                                          1028 01950000
*           CMDBYTE=CD1CANCL;       /* INDICATE CANCEL COMMAND       */ 01951000
         MVI   CMDBYTE,X'83'                                       1029 01952000
*           RPARM=RPRF;             /* ADDRESS OF CANCEL PIU BUFFER  */ 01953000
         LR    RPARM,RPRF                                          1030 01954000
*           CALL POSTMH;            /* POST CANCEL TO MH             */ 01955000
         BAL   @14,POSTMH                                          1031 01956000
*         END;                                                     1032 01957000
*       ELSE                        /* CANCEL SHOULD NOT GO TO MH    */ 01958000
*         CALL CANMERGE;            /* MERGE CANCEL WITH SAVED PIU 1033 01959000
*                                      AND POST THE RESULT TO MH     */ 01960000
         B     @RC01023                                            1033 01961000
@RF01023 BAL   @14,CANMERGE                                        1033 01962000
*     END;                                                         1034 01963000
*   ELSE                            /* NOT CANCEL                    */ 01964000
*     DO;                                                          1035 01965000
         B     @RC01021                                            1035 01966000
@RF01021 DS    0H                                                  1036 01967000
*       IF TRHEC=ON THEN            /* END OF CHAIN                  */ 01968000
         LA    @05,10                                              1036 01969000
         ALR   @05,PIUPTR                                          1036 01970000
         TM    TRHEC(@05),B'00000001'                              1036 01971000
         BNO   @RF01036                                            1036 01972000
*         DO;                       /* YES                           */ 01973000
*           IF TTHDCF=LENGTH(IEDRH) THEN/* IS THIS 0 LENGTH RU       */ 01974000
         CLC   TTHDCF(2,PIUPTR),@CH00065                           1038 01975000
         BNE   @RF01038                                            1038 01976000
*             DO;                   /* YES                           */ 01977000
*               SVRH->IEDRH=SVRH->IEDRH&SMASK;/* 'AND' SAVED RH      */ 01978000
         NC    IEDRH(3,SVRH),@CB02147                              1040 01979000
*               IEDRH=IEDRH&IMASK;  /* 'AND' INPUT RH                */ 01980000
         NC    IEDRH(3,@05),@CB02151                               1041 01981000
*               SVRH->IEDRH=SVRH->IEDRH|IEDRH;/* 'OR' THE RH'S     1042 01982000
*                                      TOGETHER                      */ 01983000
         OC    IEDRH(3,SVRH),IEDRH(@05)                            1042 01984000
*               SVTH->TTHSNF=TTHSNF;/* UPDATE SAVED SEQ # WITH     1043 01985000
*                                      CURRENT INPUT SEQ #           */ 01986000
         MVC   TTHSNF(2,SVTH),TTHSNF(PIUPTR)                       1043 01987000
*               IF RPRF^=ADDR(DUMBFR) THEN/* IS THIS 'DUMMY' PIU     */ 01988000
         LA    @10,DUMBFR                                          1044 01989000
         CR    RPRF,@10                                            1044 01990000
         BE    @RF01044                                            1044 01991000
*                 DO;               /* NO                            */ 01992000
*                   RPARM=RPRF;     /* ADDRESS OF INPUT PIU          */ 01993000
         LR    RPARM,RPRF                                          1046 01994000
*                   CALL DISCARD;   /* DISCARD CURRENT PIU ELEMENT   */ 01995000
         BAL   @14,DISCARD                                         1047 01996000
*                 END;                                             1048 01997000
*                                                                  1048 01998000
*/*                                                                  */ 01999000
*                                                                  1049 02000000
*               RPARM=LCBPAKCH;     /* ADDRESS OF SAVED PIU BUFFER   */ 02001000
@RF01044 L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1049 02002000
         LA    RPARM,0(,RPARM)                                     1049 02003000
*               LCBPAKCH=0;         /* 0 OUT SAVED PTR               */ 02004000
         SLR   @10,@10                                             1050 02005000
         STCM  @10,7,LCBPAKCH(IEDQLPTR)                            1050 02006000
*               CALL POSTMH;        /* POST SAVED PIU BUFFER TO MH   */ 02007000
         BAL   @14,POSTMH                                          1051 02008000
*             END;                                                 1052 02009000
*           ELSE                    /* NOT 0 LENGTH RU               */ 02010000
*             DO;                                                  1053 02011000
         B     @RC01038                                            1053 02012000
@RF01038 DS    0H                                                  1054 02013000
*               RPARM=LCBPAKCH;     /* ADDRESS OF SAVED PIU BUFFER   */ 02014000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1054 02015000
         LA    RPARM,0(,RPARM)                                     1054 02016000
*               LCBPAKCH=0;         /* 0 OUT SAVED PTR               */ 02017000
         SLR   @10,@10                                             1055 02018000
         STCM  @10,7,LCBPAKCH(IEDQLPTR)                            1055 02019000
*               CALL POSTMH;        /* POST SAVED PIU BUFFER TO MH   */ 02020000
         BAL   @14,POSTMH                                          1056 02021000
*               RPARM=RPRF;         /* ADDRESS OF CURRENT INPUT PIU  */ 02022000
         LR    RPARM,RPRF                                          1057 02023000
*               CALL POSTMH;        /* POST CURRENT PIU TO MH        */ 02024000
         BAL   @14,POSTMH                                          1058 02025000
*             END;                                                 1059 02026000
*         END;                                                     1060 02027000
*       ELSE                        /* NOT END CHAIN                 */ 02028000
*         DO;                                                      1061 02029000
         B     @RC01036                                            1061 02030000
@RF01036 DS    0H                                                  1062 02031000
*           IF TTHDCF=LENGTH(IEDRH) THEN/* 0 LENGTH RU               */ 02032000
         CLC   TTHDCF(2,PIUPTR),@CH00065                           1062 02033000
         BNE   @RF01062                                            1062 02034000
*             DO;                   /* YES                           */ 02035000
*               SVTH->TTHSNF=TTHSNF;/* UPDATE SAVED SEQ #            */ 02036000
         MVC   TTHSNF(2,SVTH),TTHSNF(PIUPTR)                       1064 02037000
*               RPARM=RPRF;         /* ADDRESS OF CURRENT PIU BUFFER */ 02038000
         LR    RPARM,RPRF                                          1065 02039000
*               CALL DISCARD;       /* DISCARD CURRENT PIU           */ 02040000
         BAL   @14,DISCARD                                         1066 02041000
*             END;                                                 1067 02042000
*           ELSE                    /* NOT 0 LENGTH RU               */ 02043000
*             DO;                                                  1068 02044000
         B     @RC01062                                            1068 02045000
@RF01062 DS    0H                                                  1069 02046000
*               RPARM=LCBPAKCH;     /* ADDRESS OF SAVED PIU BUFFER   */ 02047000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1069 02048000
         LA    RPARM,0(,RPARM)                                     1069 02049000
*               CALL POSTMH;        /* POST SAVED PIU TO MH          */ 02050000
         BAL   @14,POSTMH                                          1070 02051000
*               LCBPAKCH=RPRF;      /* SET SAVED PIU TO CURRENT PIU  */ 02052000
         STCM  RPRF,7,LCBPAKCH(IEDQLPTR)                           1071 02053000
*             END;                                                 1072 02054000
*         END;                                                     1073 02055000
@RC01062 DS    0H                                                  1074 02056000
*     END;                                                         1074 02057000
*                                                                  1074 02058000
@RC01036 DS    0H                                                  1075 02059000
*/*                                                                  */ 02060000
*                                                                  1075 02061000
*   R14=R14SV12;                    /* RESTORE RETURN ADDRESS        */ 02062000
@RC01021 L     R14,R14SV12                                         1075 02063000
*   RETURN;                         /* RETURN TO CALLER              */ 02064000
@EL00017 DS    0H                                                  1076 02065000
@EF00017 DS    0H                                                  1076 02066000
@ER00017 BR    @14                                                 1076 02067000
*   END STATNOT0;                                                  1077 02068000
*                                                                  1078 02069000
*/********************************************************************/ 02070000
*/*                                                                  */ 02071000
*/* THIS ROUTINE PERFORMS FORMAT CHECKING ON THE RH.                 */ 02072000
*/*                                                                  */ 02073000
*/********************************************************************/ 02074000
*                                                                  1078 02075000
*STATUS:                                                           1078 02076000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               1078 02077000
STATUS   DS    0H                                                  1079 02078000
*   R14SV15=R14;                    /* SAVE RETURN ADDRESS           */ 02079000
         ST    R14,R14SV15                                         1079 02080000
*/*                                                                  */ 02081000
*                                                                  1080 02082000
*   IF TRHSDI=ON THEN               /* EXCEPTION REQUEST             */ 02083000
         TM    TRHSDI+10(PIUPTR),B'00000100'                       1080 02084000
         BNO   @RF01080                                            1080 02085000
*     DO;                           /* YES                           */ 02086000
*       IF RU(1:2)='0000'X&         /* 1ST 2 SENSE BYTES ZERO AND... */ 02087000
*           SIBFMPRO=2 THEN         /* 3270 SDLC PROFILE             */ 02088000
         LA    @10,13                                              1082 02089000
         ALR   @10,PIUPTR                                          1082 02090000
         CLC   RU(2,@10),@CB01948                                  1082 02091000
         BNE   @RF01082                                            1082 02092000
         L     @09,SIBPTR                                          1082 02093000
         CLI   SIBFMPRO(@09),2                                     1082 02094000
         BNE   @RF01082                                            1082 02095000
*         DO;                       /* YES, THIS IS A 3270 SOHR    1083 02096000
*                                                            @YM06627*/ 02097000
*           SCBSOHE=ON;             /* INDICATE SOHR RU      @YM06627*/ 02098000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           1084 02099000
         LA    @09,0(,@09)                                         1084 02100000
         OI    SCBSOHE(@09),B'00000001'                            1084 02101000
*           LCBLUSNS=RU(1:4);       /* MOVE SENSE INTO LCB   @YM06627*/ 02102000
         MVC   LCBLUSNS(4,IEDQLPTR),RU(@10)                        1085 02103000
*           SCBUNDFN=ON;            /* INDICATE USER SENSE PRESENT 1086 02104000
*                                                            @YM06627*/ 02105000
         OI    SCBUNDFN(@09),B'00000001'                           1086 02106000
*         END;                      /*                       @YM06627*/ 02107000
*       ELSE                        /* NOT 3270 SOHR         @YM06627*/ 02108000
*         DO;                       /*                       @YM06627*/ 02109000
         B     @RC01082                                            1088 02110000
@RF01082 DS    0H                                                  1089 02111000
*           SNC=RU(1:4);            /* SET UP SENSE PARAMETER      1089 02112000
*                                                            @YM06627*/ 02113000
         MVC   SNC(4),RU+13(PIUPTR)                                1089 02114000
*           CALL SETERSNS;          /* SET UP ERROR INFORMATION    1090 02115000
*                                                            @YM06627*/ 02116000
         BAL   @14,SETERSNS                                        1090 02117000
*         END;                      /*                       @YM06627*/ 02118000
*     END;                                                         1092 02119000
*   ELSE                            /* NOT EXCEPTION REQUEST         */ 02120000
*     DO;                                                          1093 02121000
         B     @RC01080                                            1093 02122000
@RF01080 DS    0H                                                  1094 02123000
*       IF TRHRUCAT=TRHFMD THEN     /* FM DATA                       */ 02124000
         LA    @10,10                                              1094 02125000
         ALR   @10,PIUPTR                                          1094 02126000
         TM    TRHRUCAT(@10),B'01100000'                           1094 02127000
         BNZ   @RF01094                                            1094 02128000
*         DO;                       /* YES                           */ 02129000
*           IF TRHBC=OFF THEN       /* NOT BEGIN CHAIN               */ 02130000
         TM    TRHBC(@10),B'00000010'                              1096 02131000
         BNZ   @RF01096                                            1096 02132000
*             DO;                   /* YES                           */ 02133000
*               IF TRHBB=ON THEN    /* BEGIN BRACKET ON              */ 02134000
         TM    TRHBB(@10),B'10000000'                              1098 02135000
         BNO   @RF01098                                            1098 02136000
*                 DO;               /* YES                           */ 02137000
*                   SNC=SNSBADBB;   /* INCORRECT USE OF BB           */ 02138000
         MVC   SNC(4),@CB02161                                     1100 02139000
*                   CALL SETERSNS;  /* SET UP ERROR INFORMATION      */ 02140000
         BAL   @14,SETERSNS                                        1101 02141000
*                 END;                                             1102 02142000
*               ELSE                /* NOT BEGIN BRACKETS            */ 02143000
*                 DO;                                              1103 02144000
         B     @RC01098                                            1103 02145000
@RF01098 DS    0H                                                  1104 02146000
*                   IF TRHEB=ON THEN/* END BRACKET ON                */ 02147000
         TM    TRHEB+10(PIUPTR),B'01000000'                        1104 02148000
         BNO   @RF01104                                            1104 02149000
*                     DO;           /* YES                           */ 02150000
*                       SNC=SNSBADEB;/* INCORRECT USE OF EB          */ 02151000
         MVC   SNC(4),@CB02163                                     1106 02152000
*                       CALL SETERSNS;/* SET UP ERROR INFORMATION    */ 02153000
         BAL   @14,SETERSNS                                        1107 02154000
*                     END;                                         1108 02155000
*                 END;                                             1109 02156000
*             END;                                                 1110 02157000
*         END;                                                     1111 02158000
*       ELSE                        /* DATA FLOW CONTROL             */ 02159000
*         DO;                                                      1112 02160000
         B     @RC01094                                            1112 02161000
@RF01094 DS    0H                                                  1113 02162000
*           IF CMDBYTE^=CD1CANCL THEN/* NOT CANCEL COMMAND           */ 02163000
         CLI   CMDBYTE,X'83'                                       1113 02164000
         BE    @RF01113                                            1113 02165000
*             DO;                   /* YES                           */ 02166000
*               IF TRHBC=OFF|       /* NOT BEGIN CHAIN OR...         */ 02167000
*                   TRHEC=OFF THEN  /* NOT END CHAIN                 */ 02168000
         TM    TRHBC+10(PIUPTR),B'00000011'                        1115 02169000
         BO    @RF01115                                            1115 02170000
*                 DO;               /* YES                           */ 02171000
*                   SNC=SNSNBCEC;   /* 'NOT ONLY CHAIN' SENSE        */ 02172000
         MVC   SNC(4),@CB02165                                     1117 02173000
*                   CALL SETERSNS;  /* SET UP ERROR INFORMATION      */ 02174000
         BAL   @14,SETERSNS                                        1118 02175000
*                 END;                                             1119 02176000
*             END;                                                 1120 02177000
@RF01115 DS    0H                                                  1121 02178000
*         END;                                                     1121 02179000
@RF01113 DS    0H                                                  1122 02180000
*     END;                                                         1122 02181000
*                                                                  1122 02182000
@RC01094 DS    0H                                                  1123 02183000
*/*                                                                  */ 02184000
*                                                                  1123 02185000
*   R14=R14SV15;                    /* RESTORE RETURN ADDRESS        */ 02186000
@RC01080 L     R14,R14SV15                                         1123 02187000
*   RETURN;                         /* RETURN TO CALLER              */ 02188000
@EL00018 DS    0H                                                  1124 02189000
@EF00018 DS    0H                                                  1124 02190000
@ER00018 BR    @14                                                 1124 02191000
*   END STATUS;                                                    1125 02192000
*                                                                  1126 02193000
*/********************************************************************/ 02194000
*/*                                                                  */ 02195000
*/* THIS ROUTINE DOES PROCESSING WHEN THEIR IS A SAVED PIU BUFFER    */ 02196000
*/* WITH AN RU LENGTH OF 0.                                          */ 02197000
*/*                                                                  */ 02198000
*/********************************************************************/ 02199000
*                                                                  1126 02200000
*STAT0:                                                            1126 02201000
*   PROC OPTIONS(NOSAVE,NOSAVEAREA);                               1126 02202000
STAT0    DS    0H                                                  1127 02203000
*   R14SV13=R14;                    /* SAVE RETURN ADDRESS           */ 02204000
         ST    R14,R14SV13                                         1127 02205000
*/*                                                                  */ 02206000
*                                                                  1128 02207000
*   IF CMDBYTE=CD1CANCL THEN        /* CANCEL PIU                    */ 02208000
         CLI   CMDBYTE,X'83'                                       1128 02209000
         BNE   @RF01128                                            1128 02210000
*     DO;                           /* YES                           */ 02211000
*       SVRU->RU(1)='00'X;          /* INSERT 1 CHAR OF DATA BECAUSE    02212000
*                                      TCAM MH CANNOT UNDERSTAND 0 1130 02213000
*                                      DATA                          */ 02214000
         L     @05,SVRU                                            1130 02215000
         MVI   RU(@05),X'00'                                       1130 02216000
*       SVTH->TTHDCF=SVTH->TTHDCF+1;/* UPDATE DATA COUNT             */ 02217000
         LA    @05,1                                               1131 02218000
         SLR   @00,@00                                             1131 02219000
         ICM   @00,3,TTHDCF(SVTH)                                  1131 02220000
         ALR   @05,@00                                             1131 02221000
         STCM  @05,3,TTHDCF(SVTH)                                  1131 02222000
*       IF STMHDFC=ON THEN          /* SHOULD CANCEL GO TO MH (DFC=     02223000
*                                      FULL OPTION)                  */ 02224000
         L     @05,QCBA-1                                          1132 02225000
         AL    @05,@CF02345                                        1132 02226000
         TM    STMHDFC-8(@05),B'01000000'                          1132 02227000
         BNO   @RF01132                                            1132 02228000
*         DO;                       /* YES                           */ 02229000
*           RPARM=LCBPAKCH;         /* ADDRESS OF SAVED PIU BUFFER   */ 02230000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1134 02231000
         LA    RPARM,0(,RPARM)                                     1134 02232000
*           LCBPAKCH=0;             /* 0 OUT SAVE PTR                */ 02233000
         SLR   @10,@10                                             1135 02234000
         STCM  @10,7,LCBPAKCH(IEDQLPTR)                            1135 02235000
*           CMDBYTE=0;              /* INDICATE NOT CANCEL COMMAND   */ 02236000
         MVI   CMDBYTE,X'00'                                       1136 02237000
*           CALL POSTMH;            /* POST SAVED PIU TO MH          */ 02238000
         BAL   @14,POSTMH                                          1137 02239000
*           CMDBYTE=CD1CANCL;       /* INDICATE CANCEL COMMAND       */ 02240000
         MVI   CMDBYTE,X'83'                                       1138 02241000
*           RPARM=RPRF;             /* ADDRESS OF CANCEL PIU BUFFER  */ 02242000
         LR    RPARM,RPRF                                          1139 02243000
*           CALL POSTMH;            /* POST CANCEL TO MH             */ 02244000
         BAL   @14,POSTMH                                          1140 02245000
*         END;                                                     1141 02246000
*       ELSE                        /* CANCEL SHOULD NOT GO TO MH    */ 02247000
*         CALL CANMERGE;            /* MERGE CANCEL WITH SAVED PIU 1142 02248000
*                                      AND POST RESULT TO MH         */ 02249000
         B     @RC01132                                            1142 02250000
@RF01132 BAL   @14,CANMERGE                                        1142 02251000
*     END;                                                         1143 02252000
*   ELSE                            /* NOT CANCEL                    */ 02253000
*     DO;                                                          1144 02254000
         B     @RC01128                                            1144 02255000
@RF01128 DS    0H                                                  1145 02256000
*       IF TRHEC=ON THEN            /* END OF CHAIN                  */ 02257000
         TM    TRHEC+10(PIUPTR),B'00000001'                        1145 02258000
         BNO   @RF01145                                            1145 02259000
*         DO;                       /* YES                           */ 02260000
*           IF TTHDCF=LENGTH(IEDRH) THEN/* INPUT PIU'S RU 0 LENGTH   */ 02261000
         SLR   @10,@10                                             1147 02262000
         ICM   @10,3,TTHDCF(PIUPTR)                                1147 02263000
         C     @10,@CF00065                                        1147 02264000
         BNE   @RF01147                                            1147 02265000
*             DO;                   /* YES                           */ 02266000
*               RU(1)='00'X;        /* INSERT 1 BYTE OF DATA (BECAUSE   02267000
*                                      TCAM MH DOES NOT UNDERSTAND 0    02268000
*                                      DATA                          */ 02269000
         MVI   RU+13(PIUPTR),X'00'                                 1149 02270000
*               TTHDCF=TTHDCF+1;    /* INCREMENT DATA COUNT          */ 02271000
         AL    @10,@CF00059                                        1150 02272000
         STCM  @10,3,TTHDCF(PIUPTR)                                1150 02273000
*             END;                                                 1151 02274000
*                                                                  1151 02275000
*/*        MERGE THE RH'S                                            */ 02276000
*                                                                  1152 02277000
*           SVRH->IEDRH=SVRH->IEDRH&SMASK;/* 'AND' SAVED RH          */ 02278000
@RF01147 NC    IEDRH(3,SVRH),@CB02147                              1152 02279000
*           IEDRH=IEDRH&IMASK;      /* 'AND' CURRENT INPUT RH        */ 02280000
         LA    @10,10                                              1153 02281000
         ALR   @10,PIUPTR                                          1153 02282000
         NC    IEDRH(3,@10),@CB02151                               1153 02283000
*           IEDRH=IEDRH|SVRH->IEDRH;/* 'OR' THE RH'S TOGETHER        */ 02284000
         OC    IEDRH(3,@10),IEDRH(SVRH)                            1154 02285000
*/*                                                                  */ 02286000
*                                                                  1155 02287000
*           RPARM=LCBPAKCH;         /* ADDRESS OF SAVED PIU BUFFER   */ 02288000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1155 02289000
         LA    RPARM,0(,RPARM)                                     1155 02290000
*           LCBPAKCH=0;             /* 0 OUT SAVE PTR                */ 02291000
         SLR   @10,@10                                             1156 02292000
         STCM  @10,7,LCBPAKCH(IEDQLPTR)                            1156 02293000
*           CALL DISCARD;           /* DISCARD SAVED PIU BUFFER      */ 02294000
         BAL   @14,DISCARD                                         1157 02295000
*           RPARM=RPRF;             /* ADDRESS OF CURRENT PIU BUFFER */ 02296000
         LR    RPARM,RPRF                                          1158 02297000
*           CALL POSTMH;            /* POST CURRENT INPUT PIU TO MH  */ 02298000
         BAL   @14,POSTMH                                          1159 02299000
*         END;                                                     1160 02300000
*       ELSE                        /* NOT END CHAIN                 */ 02301000
*         DO;                                                      1161 02302000
         B     @RC01145                                            1161 02303000
@RF01145 DS    0H                                                  1162 02304000
*           IF TTHDCF=LENGTH(IEDRH) THEN/* 0 LENGTH RU               */ 02305000
         CLC   TTHDCF(2,PIUPTR),@CH00065                           1162 02306000
         BNE   @RF01162                                            1162 02307000
*             DO;                   /* YES                           */ 02308000
*               SVTH->TTHSNF=TTHSNF;/* UPDATE SAVED PIU SEQ #        */ 02309000
         MVC   TTHSNF(2,SVTH),TTHSNF(PIUPTR)                       1164 02310000
*               RPARM=RPRF;         /* ADDRESS OF CURRENT PIU BUFFER */ 02311000
         LR    RPARM,RPRF                                          1165 02312000
*               CALL DISCARD;       /* DISCARD CURRENT PIU BUFFER    */ 02313000
         BAL   @14,DISCARD                                         1166 02314000
*             END;                                                 1167 02315000
*           ELSE                    /* NOT 0 LENGTH RU               */ 02316000
*             DO;                                                  1168 02317000
         B     @RC01162                                            1168 02318000
@RF01162 DS    0H                                                  1169 02319000
*               IEDRH=SVRH->IEDRH;  /* MOVE SAVED RH TO CURRENT RH   */ 02320000
         MVC   IEDRH+10(3,PIUPTR),IEDRH(SVRH)                      1169 02321000
*               RPARM=LCBPAKCH;     /* ADDRESS OF SAVED PIU BUFFER   */ 02322000
         L     RPARM,LCBPAKCH-1(,IEDQLPTR)                         1170 02323000
         LA    RPARM,0(,RPARM)                                     1170 02324000
*               CALL DISCARD;       /* DISCARD SAVED PIU BUFFER      */ 02325000
         BAL   @14,DISCARD                                         1171 02326000
*               LCBPAKCH=RPRF;      /* SET SAVED PIU TO CURRENT ONE  */ 02327000
         STCM  RPRF,7,LCBPAKCH(IEDQLPTR)                           1172 02328000
*             END;                                                 1173 02329000
*         END;                                                     1174 02330000
@RC01162 DS    0H                                                  1175 02331000
*     END;                                                         1175 02332000
*                                                                  1175 02333000
@RC01145 DS    0H                                                  1176 02334000
*/*                                                                  */ 02335000
*                                                                  1176 02336000
*   R14=R14SV13;                    /* RESTORE RETURN ADDRESS        */ 02337000
@RC01128 L     R14,R14SV13                                         1176 02338000
*   RETURN;                         /* RETURN TO CALLER              */ 02339000
@EL00019 DS    0H                                                  1177 02340000
@EF00019 DS    0H                                                  1177 02341000
@ER00019 BR    @14                                                 1177 02342000
*   END STAT0;                                                     1178 02343000
*   END IEDRQIN                                                    1179 02344000
*                                                                  1179 02345000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 02346000
*/*%INCLUDE SYSLIB  (TAVTD   )                                       */ 02347000
*/*%INCLUDE SYSLIB  (TCD1D   )                                       */ 02348000
*/*%INCLUDE SYSLIB  (TDISPD  )                                       */ 02349000
*/*%INCLUDE SYSLIB  (TLCBD   )                                       */ 02350000
*/*%INCLUDE SYSLIB  (TLGBD   )                                       */ 02351000
*/*%INCLUDE SYSLIB  (TPIUD   )                                       */ 02352000
*/*%INCLUDE SYSLIB  (TPLBMD  )                                       */ 02353000
*/*%INCLUDE SYSLIB  (TPLMVD  )                                       */ 02354000
*/*%INCLUDE SYSLIB  (TPRFD   )                                       */ 02355000
*/*%INCLUDE SYSLIB  (TPRIOR  )                                       */ 02356000
*/*%INCLUDE SYSLIB  (TQCBD   )                                       */ 02357000
*/*%INCLUDE SYSLIB  (TRHD    )                                       */ 02358000
*/*%INCLUDE SYSLIB  (TSCBD   )                                       */ 02359000
*/*%INCLUDE SYSLIB  (TSIBD   )                                       */ 02360000
*/*%INCLUDE SYSLIB  (TSNSD   )                                       */ 02361000
*/*%INCLUDE SYSLIB  (TSTMHND )                                       */ 02362000
*/*%INCLUDE SYSLIB  (TSTMHD  )                                       */ 02363000
*/*%INCLUDE SYSLIB  (TTHD    )                                       */ 02364000
*/*%INCLUDE SYSLIB  (TTRMD   )                                       */ 02365000
*                                                                  1179 02366000
*       ;                                                          1179 02367000
@DATA    DS    0H                                                       02368000
         DS    0F                                                       02369000
         DS    0F                                                       02370000
@CF00059 DC    F'1'                                                     02371000
@CF00126 DC    F'2'                                                     02372000
@CF00065 DC    F'3'                                                     02373000
@CH00065 EQU   @CF00065+2                                               02374000
@CF00152 DC    F'5'                                                     02375000
@CF00044 DC    F'8'                                                     02376000
@CF02338 DC    F'-8'                                                    02377000
@CF02326 DC    F'-7'                                                    02378000
@CF02345 DC    F'-4'                                                    02379000
@CF02325 DC    XL4'0000FFFF'                                            02380000
         DS    0D                                                       02381000
SIBPTR   DS    A                                                        02382000
QCBPTR   DS    A                                                        02383000
PREVELEM DS    A                                                        02384000
SVRU     DS    A                                                        02385000
REM      DS    H                                                        02386000
DATALNTH DS    H                                                        02387000
         DS    CL1                                                      02388000
QCBA     DS    AL3                                                      02389000
RC       DS    FL1                                                      02390000
@CB01336 DC    X'08000002'                                              02391000
@CB02155 DC    X'10030000'                                              02392000
@CB02157 DC    X'20020000'                                              02393000
@CB02159 DC    X'40000000'                                              02394000
@CB02161 DC    X'40030000'                                              02395000
@CB02163 DC    X'40040000'                                              02396000
@CB02165 DC    X'400B0000'                                              02397000
@CB02147 DC    X'FE4FDF'                                                02398000
@CB02149 DC    X'FE4F9F'                                                02399000
@CB02151 DC    X'01B020'                                                02400000
@CB02153 DC    X'01B060'                                                02401000
@CB01948 DC    X'0000'                                                  02402000
PLMV     DS    CL24                                                     02403000
PLBM     DS    CL16                                                     02404000
TRACDATA DS    CL3                                                      02405000
         ORG   TRACDATA                                                 02406000
@NM00207 DC    X'01'                                                    02407000
@NM00208 DC    X'03'                                                    02408000
@NM00209 DC    X'83'                                                    02409000
         ORG   TRACDATA+3                                               02410000
INOP     DS    CL3                                                      02411000
         ORG   INOP                                                     02412000
@NM00210 DC    X'01'                                                    02413000
@NM00211 DC    X'02'                                                    02414000
@NM00212 DC    X'81'                                                    02415000
         ORG   INOP+3                                                   02416000
ENTSLO   DS    CL3                                                      02417000
         ORG   ENTSLO                                                   02418000
@NM00213 DC    X'01'                                                    02419000
@NM00214 DC    X'02'                                                    02420000
@NM00215 DC    X'14'                                                    02421000
         ORG   ENTSLO+3                                                 02422000
EXTSLO   DS    CL3                                                      02423000
         ORG   EXTSLO                                                   02424000
@NM00216 DC    X'01'                                                    02425000
@NM00217 DC    X'02'                                                    02426000
@NM00218 DC    X'15'                                                    02427000
         ORG   EXTSLO+3                                                 02428000
         DS    CL1                                                      02429000
R14SV    DS    CL68                                                     02430000
         ORG   R14SV                                                    02431000
R14SV01  DS    AL4                                                      02432000
R14SV02  DS    AL4                                                      02433000
R14SV03  DS    AL4                                                      02434000
R14SV04  DS    AL4                                                      02435000
R14SV05  DS    AL4                                                      02436000
R14SV06  DS    AL4                                                      02437000
R14SV07  DS    AL4                                                      02438000
R14SV08  DS    AL4                                                      02439000
R14SV09  DS    AL4                                                      02440000
R14SV10  DS    AL4                                                      02441000
R14SV11  DS    AL4                                                      02442000
R14SV12  DS    AL4                                                      02443000
R14SV13  DS    AL4                                                      02444000
R14SV14  DS    AL4                                                      02445000
R14SV15  DS    AL4                                                      02446000
R14SV16  DS    AL4                                                      02447000
R14SV17  DS    AL4                                                      02448000
         ORG   R14SV+68                                                 02449000
RHSAVE   DS    CL3                                                      02450000
SNC      DS    CL4                                                      02451000
CMDBYTE  DS    CL1                                                      02452000
SWITCH1  DS    BL1                                                      02453000
         ORG   SWITCH1                                                  02454000
EXITSW   DS    BL1                                                      02455000
ERRORSW  EQU   SWITCH1+0                                                02456000
@NM00219 EQU   SWITCH1+0                                                02457000
         ORG   SWITCH1+1                                                02458000
         DS    CL3                                                      02459000
DUMBFR   DS    CL26                                                     02460000
         ORG   DUMBFR                                                   02461000
@NM00220 DS    CL12                                                     02462000
DUMPIUO  DC    X'01'                                                    02463000
DUMPIU   DS    CL13                                                     02464000
         ORG   DUMPIU                                                   02465000
DUMTH    DS    CL10                                                     02466000
DUMRH    DS    CL3                                                      02467000
         ORG   DUMBFR+26                                                02468000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02469000
@01      EQU   01                                                       02470000
@02      EQU   02                                                       02471000
@03      EQU   03                                                       02472000
@04      EQU   04                                                       02473000
@05      EQU   05                                                       02474000
@06      EQU   06                                                       02475000
@07      EQU   07                                                       02476000
@08      EQU   08                                                       02477000
@09      EQU   09                                                       02478000
@10      EQU   10                                                       02479000
@11      EQU   11                                                       02480000
@12      EQU   12                                                       02481000
@13      EQU   13                                                       02482000
@14      EQU   14                                                       02483000
@15      EQU   15                                                       02484000
SVRH     EQU   @09                                                      02485000
SVTH     EQU   @10                                                      02486000
SIZE     EQU   @09                                                      02487000
PIUBEG   EQU   @09                                                      02488000
BUFPTR   EQU   @07                                                      02489000
UNITPTR  EQU   @09                                                      02490000
DATAPTR  EQU   @09                                                      02491000
PIUPTR   EQU   @07                                                      02492000
SNSPTR   EQU   @10                                                      02493000
IEDQAPTR EQU   @13                                                      02494000
RDISP    EQU   @11                                                      02495000
IEDQLPTR EQU   @04                                                      02496000
LCBXPTR  EQU   @05                                                      02497000
IEDQPPTR EQU   @06                                                      02498000
IEDQTPTR EQU   @08                                                      02499000
RZERO    EQU   @00                                                      02500000
RPARM    EQU   @01                                                      02501000
RLCB     EQU   @04                                                      02502000
RPRF     EQU   @06                                                      02503000
RTRM     EQU   @08                                                      02504000
RBASE    EQU   @12                                                      02505000
RAVT     EQU   @13                                                      02506000
R14      EQU   @14                                                      02507000
R15      EQU   @15                                                      02508000
IEDQAVTD EQU   0                                                        02509000
AVTSAVEX EQU   IEDQAVTD+216                                             02510000
@NM00003 EQU   IEDQAVTD+316                                             02511000
AVTCKFLG EQU   @NM00003                                                 02512000
AVTBASE  EQU   IEDQAVTD+340                                             02513000
AVTPKF   EQU   AVTBASE                                                  02514000
AVTRNMPT EQU   IEDQAVTD+352                                             02515000
AVTHG02  EQU   IEDQAVTD+456                                             02516000
AVTDISP  EQU   IEDQAVTD+480                                             02517000
AVTHD    EQU   IEDQAVTD+484                                             02518000
AVTSCOPT EQU   AVTHD                                                    02519000
AVTSAVTP EQU   IEDQAVTD+540                                             02520000
AVTSAVTF EQU   AVTSAVTP                                                 02521000
AVTCKPEL EQU   IEDQAVTD+580                                             02522000
AVTCKRMV EQU   AVTCKPEL                                                 02523000
AVTCKELF EQU   IEDQAVTD+608                                             02524000
AVTCKBYT EQU   IEDQAVTD+619                                             02525000
AVTHG01  EQU   IEDQAVTD+620                                             02526000
AVTCKLNK EQU   IEDQAVTD+624                                             02527000
AVTCRELE EQU   IEDQAVTD+636                                             02528000
AVTCCELE EQU   AVTCRELE                                                 02529000
AVTCLRHI EQU   IEDQAVTD+644                                             02530000
AVTADBUF EQU   IEDQAVTD+648                                             02531000
AVTSYSER EQU   IEDQAVTD+656                                             02532000
AVTBFRTB EQU   IEDQAVTD+720                                             02533000
AVTCKPQB EQU   IEDQAVTD+732                                             02534000
AVTCKPTB EQU   AVTCKPQB                                                 02535000
AVTCKPEC EQU   AVTCKPQB+4                                               02536000
AVTCKPCC EQU   AVTCKPEC                                                 02537000
AVTOPCQB EQU   IEDQAVTD+744                                             02538000
AVTOPCOB EQU   AVTOPCQB                                                 02539000
AVTOPCEC EQU   AVTOPCQB+4                                               02540000
AVTOPCCC EQU   AVTOPCEC                                                 02541000
AVTOLTQB EQU   IEDQAVTD+756                                             02542000
AVTCWFL1 EQU   IEDQAVTD+852                                             02543000
AVTCWFL2 EQU   IEDQAVTD+853                                             02544000
AVTSUBT  EQU   IEDQAVTD+876                                             02545000
AVTIOTR  EQU   IEDQAVTD+877                                             02546000
AVTKEYLE EQU   IEDQAVTD+960                                             02547000
AVTBIT1  EQU   IEDQAVTD+978                                             02548000
AVTBIT2  EQU   IEDQAVTD+979                                             02549000
AVTBIT3  EQU   IEDQAVTD+980                                             02550000
AVTBIT4  EQU   IEDQAVTD+1064                                            02551000
@NM00083 EQU   IEDQAVTD+1160                                            02552000
IEDNSVTD EQU   0                                                        02553000
SAVTDIAG EQU   IEDNSVTD                                                 02554000
SAVTDIAF EQU   SAVTDIAG                                                 02555000
SAVTLUSQ EQU   IEDNSVTD+88                                              02556000
SAVTSLCB EQU   IEDNSVTD+104                                             02557000
SAVTXFMI EQU   IEDNSVTD+132                                             02558000
SAVTMVBF EQU   IEDNSVTD+160                                             02559000
SAVTSSMH EQU   IEDNSVTD+212                                             02560000
SAVTTCPU EQU   IEDNSVTD+238                                             02561000
SAVTBSM  EQU   IEDNSVTD+240                                             02562000
SAVTNAX  EQU   IEDNSVTD+248                                             02563000
SAVTRNMP EQU   IEDNSVTD+256                                             02564000
SAVTZELM EQU   IEDNSVTD+270                                             02565000
SAVTRDRV EQU   IEDNSVTD+284                                             02566000
SAVTCKQB EQU   IEDNSVTD+300                                             02567000
SAVTCKTB EQU   SAVTCKQB                                                 02568000
SAVTCKEC EQU   SAVTCKQB+4                                               02569000
SAVTCKCC EQU   SAVTCKEC                                                 02570000
IEDQDISP EQU   0                                                        02571000
DSPDISP  EQU   4                                                        02572000
DSPPOSTR EQU   28                                                       02573000
IEDQLCB  EQU   0                                                        02574000
LCBRCB   EQU   IEDQLCB                                                  02575000
LCBTSOB  EQU   IEDQLCB+19                                               02576000
LCBCHAIN EQU   IEDQLCB+20                                               02577000
LCBSCRNN EQU   LCBCHAIN                                                 02578000
LCBERMSG EQU   LCBCHAIN                                                 02579000
LCBINSRC EQU   IEDQLCB+21                                               02580000
LCBLKMDE EQU   LCBINSRC+2                                               02581000
LCBNTXT  EQU   IEDQLCB+24                                               02582000
LCBSTAT4 EQU   LCBNTXT                                                  02583000
LCBPHASE EQU   LCBSTAT4                                                 02584000
LCBSCBDA EQU   IEDQLCB+25                                               02585000
LCBLNENT EQU   LCBSCBDA+1                                               02586000
LCBMHA   EQU   IEDQLCB+29                                               02587000
LCBFLAG1 EQU   IEDQLCB+32                                               02588000
LCBIOBSN EQU   IEDQLCB+33                                               02589000
LCBSENS0 EQU   LCBIOBSN+1                                               02590000
LCBLOSDT EQU   LCBSENS0                                                 02591000
LCBTMOUT EQU   LCBSENS0                                                 02592000
LCBFLAG3 EQU   LCBIOBSN+7                                               02593000
LCBCSW   EQU   LCBIOBSN+8                                               02594000
LCBCSWST EQU   LCBCSW+3                                                 02595000
LCBCSWUS EQU   LCBCSWST                                                 02596000
LCBUSUE  EQU   LCBCSWUS                                                 02597000
LCBCSWCS EQU   LCBCSWST+1                                               02598000
LCBSIOCC EQU   LCBIOBSN+15                                              02599000
LCBDCBPT EQU   IEDQLCB+52                                               02600000
LCBRCQCB EQU   IEDQLCB+56                                               02601000
LCBTHSQ  EQU   IEDQLCB+60                                               02602000
LCBINCAM EQU   LCBTHSQ                                                  02603000
LCBERRCT EQU   IEDQLCB+62                                               02604000
LCBLSPCI EQU   IEDQLCB+65                                               02605000
LCBRCBFR EQU   LCBLSPCI                                                 02606000
LCBSTATE EQU   IEDQLCB+70                                               02607000
LCBSTAT1 EQU   LCBSTATE                                                 02608000
LCBCTLMD EQU   LCBSTAT1                                                 02609000
LCBSTAT2 EQU   LCBSTATE+1                                               02610000
LCBBEOTN EQU   LCBSTAT2                                                 02611000
LCBSYNC  EQU   LCBSTAT2                                                 02612000
LCBDIAL  EQU   LCBSTAT2                                                 02613000
LCBTSTSW EQU   IEDQLCB+72                                               02614000
LCBERB   EQU   IEDQLCB+76                                               02615000
LCBERBST EQU   IEDQLCB+84                                               02616000
LCBDLNKN EQU   LCBERBST                                                 02617000
LCBERBCT EQU   IEDQLCB+88                                               02618000
LCBRBCT2 EQU   LCBERBCT+1                                               02619000
LCBTTCIN EQU   IEDQLCB+90                                               02620000
LCBMSGFM EQU   IEDQLCB+92                                               02621000
LCBSCBA  EQU   IEDQLCB+93                                               02622000
LCBOBRCH EQU   IEDQLCB+96                                               02623000
LCBINVPT EQU   LCBOBRCH+1                                               02624000
LCBBFRW  EQU   LCBINVPT                                                 02625000
LCBNXCMD EQU   LCBBFRW                                                  02626000
LCBTPCD  EQU   IEDQLCB+100                                              02627000
LCBSTAT5 EQU   LCBTPCD                                                  02628000
LCBSTAT6 EQU   LCBTPCD+4                                                02629000
LCBCHN   EQU   LCBSTAT6                                                 02630000
LCBHDRPD EQU   LCBSTAT6                                                 02631000
LCBRTRRO EQU   LCBSTAT6                                                 02632000
LCBINPAK EQU   LCBSTAT6                                                 02633000
LCBWAITC EQU   LCBTPCD+5                                                02634000
LCBRSPSV EQU   LCBTPCD+8                                                02635000
LCBSAVSN EQU   IEDQLCB+112                                              02636000
LCBERCCW EQU   IEDQLCB+120                                              02637000
LCBCPA   EQU   IEDQLCB+144                                              02638000
IEDQLCBX EQU   0                                                        02639000
LCBXCON  EQU   IEDQLCBX                                                 02640000
LCBXFLAG EQU   LCBXCON                                                  02641000
LCBXDCT  EQU   LCBXCON+1                                                02642000
LCBXRADR EQU   LCBXCON+4                                                02643000
IEDNLGB  EQU   0                                                        02644000
LGBBUFOU EQU   IEDNLGB+20                                               02645000
LGBPCI   EQU   IEDNLGB+25                                               02646000
LGBBYTE  EQU   IEDNLGB+29                                               02647000
LGBPACK  EQU   LGBBYTE                                                  02648000
LGBOFLGS EQU   IEDNLGB+48                                               02649000
LGBBUFSI EQU   IEDNLGB+54                                               02650000
LGBRESER EQU   IEDNLGB+56                                               02651000
IEDPIU   EQU   0                                                        02652000
PIUTH    EQU   IEDPIU                                                   02653000
PIURH    EQU   IEDPIU+10                                                02654000
PIURU    EQU   IEDPIU+13                                                02655000
IEDPLBM  EQU   0                                                        02656000
PLBMFLG1 EQU   IEDPLBM                                                  02657000
PLBMSTAT EQU   PLBMFLG1                                                 02658000
PLBMSNC  EQU   IEDPLBM+2                                                02659000
PLBMRH   EQU   IEDPLBM+4                                                02660000
PLBMCMD  EQU   IEDPLBM+7                                                02661000
PLBMSIB  EQU   IEDPLBM+8                                                02662000
PLBMLCB  EQU   IEDPLBM+12                                               02663000
PLBMPTR  EQU   0                                                        02664000
IEDPLMV  EQU   0                                                        02665000
PLMVTU   EQU   IEDPLMV                                                  02666000
PLMVTD   EQU   IEDPLMV+4                                                02667000
PLMVSU   EQU   IEDPLMV+8                                                02668000
PLMVSD   EQU   IEDPLMV+12                                               02669000
PLMVLNTH EQU   IEDPLMV+16                                               02670000
PLMVFLG1 EQU   IEDPLMV+18                                               02671000
PLMVUNCF EQU   PLMVFLG1                                                 02672000
PLMVUNCA EQU   IEDPLMV+20                                               02673000
IEDPLMVP EQU   0                                                        02674000
IEDQPRF  EQU   0                                                        02675000
PRFRCB   EQU   IEDQPRF                                                  02676000
PRFKEY   EQU   PRFRCB                                                   02677000
PRFQCBA  EQU   PRFRCB+1                                                 02678000
PRFPRI   EQU   PRFRCB+4                                                 02679000
PRFLINK  EQU   PRFRCB+5                                                 02680000
PRFTIC   EQU   IEDQPRF+8                                                02681000
PRFTICC  EQU   PRFTIC                                                   02682000
PRFTI0   EQU   PRFTIC+1                                                 02683000
PRFNBUNT EQU   IEDQPRF+12                                               02684000
PRFSUNIT EQU   PRFNBUNT                                                 02685000
PRFPLQCB EQU   PRFSUNIT                                                 02686000
PRFPIUO  EQU   PRFPLQCB                                                 02687000
PRFLCB   EQU   IEDQPRF+13                                               02688000
@NM00168 EQU   IEDQPRF+16                                               02689000
PRFSVFFO EQU   @NM00168                                                 02690000
PRFSRCE  EQU   PRFSVFFO                                                 02691000
PRFSIZE  EQU   PRFSVFFO+2                                               02692000
PRFSTAT1 EQU   IEDQPRF+20                                               02693000
PRFTSMSG EQU   PRFSTAT1                                                 02694000
PRFEOFN  EQU   PRFSTAT1                                                 02695000
PRFNLSTN EQU   PRFSTAT1                                                 02696000
PRFCORE  EQU   IEDQPRF+21                                               02697000
PRFXTRA  EQU   PRFCORE                                                  02698000
PRFSCAN  EQU   IEDQPRF+24                                               02699000
PRFISIZE EQU   PRFSCAN+1                                                02700000
PRFTQBCK EQU   IEDQPRF+26                                               02701000
PRFNTXT  EQU   PRFTQBCK                                                 02702000
PRFEOBOF EQU   PRFNTXT                                                  02703000
PRFCHDR  EQU   IEDQPRF+32                                               02704000
PRFHQBCK EQU   IEDQPRF+35                                               02705000
IEDPF1   EQU   0                                                        02706000
PRF1RH   EQU   IEDPF1                                                   02707000
PRF1FLG1 EQU   IEDPF1+3                                                 02708000
PRF1EXPI EQU   PRF1FLG1                                                 02709000
PRF1WD2  EQU   IEDPF1+4                                                 02710000
PRF1SEQP EQU   PRF1WD2                                                  02711000
PRF1SQID EQU   PRF1SEQP                                                 02712000
PRF1TAG1 EQU   PRF1SQID                                                 02713000
IEDPF2   EQU   0                                                        02714000
PRF2FLG2 EQU   IEDPF2                                                   02715000
PRF2WD2  EQU   IEDPF2+4                                                 02716000
IEDQQCB  EQU   0                                                        02717000
QCBDSFLG EQU   IEDQQCB                                                  02718000
QCBDISK  EQU   QCBDSFLG                                                 02719000
QCBEOLDT EQU   IEDQQCB+16                                               02720000
QCBBYTE1 EQU   QCBEOLDT+1                                               02721000
QCBLKRLN EQU   IEDQQCB+18                                               02722000
QCBRETCT EQU   QCBLKRLN                                                 02723000
QCBSTAT  EQU   IEDQQCB+19                                               02724000
QCBINSRC EQU   IEDQQCB+21                                               02725000
@NM00176 EQU   QCBINSRC                                                 02726000
QCBTSOF2 EQU   @NM00176+1                                               02727000
QCBTSOF1 EQU   @NM00176+2                                               02728000
QCBINTVL EQU   IEDQQCB+24                                               02729000
QCBPREN  EQU   IEDQQCB+28                                               02730000
QCBLKRRN EQU   QCBPREN+1                                                02731000
QCBDCBAD EQU   IEDQQCB+33                                               02732000
QCBLGBAD EQU   QCBDCBAD                                                 02733000
QCBFLAG  EQU   IEDQQCB+36                                               02734000
QCBTSSES EQU   QCBFLAG                                                  02735000
IEDQQPTR EQU   0                                                        02736000
IEDQPQCB EQU   0                                                        02737000
QCBFHDLZ EQU   IEDQPQCB+3                                               02738000
QCBPFEFO EQU   QCBFHDLZ+1                                               02739000
QCBFHDTZ EQU   IEDQPQCB+6                                               02740000
QCBINTLF EQU   IEDQPQCB+12                                              02741000
IEDNQCB  EQU   0                                                        02742000
QCBSTAT1 EQU   IEDNQCB+4                                                02743000
QCBPLCBA EQU   IEDNQCB+5                                                02744000
IEDRH    EQU   0                                                        02745000
TRHBYTE0 EQU   IEDRH                                                    02746000
TRHRUCAT EQU   TRHBYTE0                                                 02747000
TRHFI    EQU   TRHBYTE0                                                 02748000
TRHSDI   EQU   TRHBYTE0                                                 02749000
TRHBC    EQU   TRHBYTE0                                                 02750000
TRHEC    EQU   TRHBYTE0                                                 02751000
TRHBYTE1 EQU   IEDRH+1                                                  02752000
TRHBYTE2 EQU   IEDRH+2                                                  02753000
TRHBB    EQU   TRHBYTE2                                                 02754000
TRHEB    EQU   TRHBYTE2                                                 02755000
TRHCDI   EQU   TRHBYTE2                                                 02756000
IEDQSCB  EQU   0                                                        02757000
SCBSTATE EQU   IEDQSCB                                                  02758000
SCBSEQIN EQU   SCBSTATE                                                 02759000
SCBRCVCT EQU   IEDQSCB+4                                                02760000
SCBMBHEN EQU   IEDQSCB+5                                                02761000
SCBBKFCT EQU   IEDQSCB+9                                                02762000
SCBEOBSZ EQU   SCBBKFCT+1                                               02763000
SCBSALEV EQU   IEDQSCB+12                                               02764000
SCBQTYPE EQU   SCBSALEV                                                 02765000
SCBERRST EQU   IEDQSCB+16                                               02766000
SCBERR1  EQU   SCBERRST                                                 02767000
SCBHDRRN EQU   SCBERR1                                                  02768000
SCBORIGN EQU   SCBERR1                                                  02769000
SCBNOTRM EQU   SCBERR1                                                  02770000
SCBSEQHN EQU   SCBERR1                                                  02771000
SCBSEQLN EQU   SCBERR1                                                  02772000
SCBCUTFN EQU   SCBERR1                                                  02773000
SCBERR2  EQU   SCBERRST+1                                               02774000
SCBABRTN EQU   SCBERR2                                                  02775000
SCBRRJN  EQU   SCBABRTN                                                 02776000
SCBSOHE  EQU   SCBERR2                                                  02777000
SCBERR3  EQU   SCBERRST+2                                               02778000
SCBLOSTN EQU   SCBERR3                                                  02779000
SCBTMIDN EQU   SCBERR3                                                  02780000
SCBFORMN EQU   SCBERR3                                                  02781000
SCBFIERN EQU   SCBFORMN                                                 02782000
SCBATTN  EQU   SCBERR3                                                  02783000
SCBXCEPN EQU   SCBERR3                                                  02784000
SCBPERRN EQU   SCBXCEPN                                                 02785000
SCBERR4  EQU   SCBERRST+3                                               02786000
SCBTXTTN EQU   SCBERR4                                                  02787000
SCBCTLUN EQU   SCBERR4                                                  02788000
SCBCPMEN EQU   SCBCTLUN                                                 02789000
SCBCHANN EQU   SCBERR4                                                  02790000
SCBSTERN EQU   SCBCHANN                                                 02791000
SCBUNDFN EQU   SCBERR4                                                  02792000
SCBDLPTR EQU   IEDQSCB+22                                               02793000
SCBEOBAC EQU   SCBDLPTR                                                 02794000
SCBCTBAC EQU   SCBEOBAC                                                 02795000
SCBBSCFM EQU   IEDQSCB+24                                               02796000
SCBDATEN EQU   SCBBSCFM                                                 02797000
SCBITBSZ EQU   IEDQSCB+40                                               02798000
SCBCTBSV EQU   SCBITBSZ                                                 02799000
SCBDNSEG EQU   IEDQSCB+41                                               02800000
SCBCLSEG EQU   IEDQSCB+45                                               02801000
SCBITBAC EQU   IEDQSCB+48                                               02802000
SCBCTBFL EQU   SCBITBAC                                                 02803000
SCBBLKCT EQU   SCBCTBFL                                                 02804000
SCBDCSEG EQU   IEDQSCB+49                                               02805000
SCBSTAT1 EQU   IEDQSCB+60                                               02806000
SCBCORE  EQU   IEDQSCB+61                                               02807000
SCBSCAN  EQU   IEDQSCB+64                                               02808000
SCBNTXT  EQU   IEDQSCB+66                                               02809000
SCBCHDR  EQU   IEDQSCB+72                                               02810000
SCBCCSEG EQU   IEDQSCB+75                                               02811000
SCBEND   EQU   IEDQSCB+84                                               02812000
IEDSIBD  EQU   0                                                        02813000
SIBSESSN EQU   IEDSIBD+10                                               02814000
SIBLGOFF EQU   SIBSESSN                                                 02815000
SIBSHUTC EQU   SIBSESSN                                                 02816000
SIBPACIN EQU   IEDSIBD+11                                               02817000
SIBSEQN  EQU   IEDSIBD+12                                               02818000
SIBSTAT1 EQU   IEDSIBD+16                                               02819000
SIBSTAT2 EQU   IEDSIBD+17                                               02820000
SIBFMPRO EQU   IEDSIBD+19                                               02821000
SIBBIND  EQU   IEDSIBD+20                                               02822000
SIBBIND1 EQU   SIBBIND                                                  02823000
SIBBIND2 EQU   SIBBIND+1                                                02824000
SIBBRACK EQU   SIBBIND2                                                 02825000
SIBBIND3 EQU   SIBBIND+2                                                02826000
SIBFMODE EQU   SIBBIND3                                                 02827000
SIBSTAT0 EQU   IEDSIBD+23                                               02828000
SIBCD    EQU   SIBSTAT0                                                 02829000
IEDSNSD  EQU   0                                                        02830000
SNSSYSTM EQU   IEDSNSD                                                  02831000
SNSMAJ   EQU   SNSSYSTM                                                 02832000
SNSUSER  EQU   IEDSNSD+2                                                02833000
IEDNSTMH EQU   0                                                        02834000
STMHFLG0 EQU   IEDNSTMH+8                                               02835000
STMHDFC  EQU   STMHFLG0                                                 02836000
IEDSTMH  EQU   0                                                        02837000
STMHFLG2 EQU   IEDSTMH+4                                                02838000
STMHAEIX EQU   IEDSTMH+12                                               02839000
STMHLMOP EQU   IEDSTMH+17                                               02840000
IEDTH    EQU   0                                                        02841000
TTHBYTE0 EQU   IEDTH                                                    02842000
TTHEFI   EQU   TTHBYTE0                                                 02843000
TTHSNF   EQU   IEDTH+6                                                  02844000
TTHTAG   EQU   TTHSNF                                                   02845000
TTHTAG1  EQU   TTHTAG                                                   02846000
TTHDCF   EQU   IEDTH+8                                                  02847000
IEDQTRM  EQU   0                                                        02848000
TRMSTATE EQU   IEDQTRM                                                  02849000
TRMLOG   EQU   TRMSTATE                                                 02850000
TRMDESTQ EQU   IEDQTRM+1                                                02851000
TRMINSEQ EQU   IEDQTRM+4                                                02852000
TLISTCNT EQU   TRMINSEQ                                                 02853000
TRMOUTSQ EQU   IEDQTRM+6                                                02854000
TLISTEN  EQU   TRMOUTSQ                                                 02855000
TRMDSORG EQU   TLISTEN                                                  02856000
TRMALTD  EQU   IEDQTRM+8                                                02857000
TRMDEVFL EQU   IEDQTRM+10                                               02858000
TRMSTAT  EQU   IEDQTRM+12                                               02859000
IEDNTRM  EQU   0                                                        02860000
TRMBYTE4 EQU   IEDNTRM                                                  02861000
TRMBYTE3 EQU   IEDNTRM+1                                                02862000
TRMBYTE2 EQU   IEDNTRM+2                                                02863000
TRMINPG  EQU   TRMBYTE2                                                 02864000
TRMBYTE1 EQU   IEDNTRM+3                                                02865000
TRMSCPRQ EQU   TRMBYTE1                                                 02866000
TRMBYTE0 EQU   IEDNTRM+6                                                02867000
TRMSIBPT EQU   IEDNTRM+7                                                02868000
IEDIAP03 EQU   0                                                        02869000
IEDXFMI  EQU   0                                                        02870000
IEDQTNT  EQU   0                                                        02871000
IEDBSM   EQU   0                                                        02872000
IEDMVBFR EQU   0                                                        02873000
RU       EQU   0                                                        02874000
SSCPRU   EQU   0                                                        02875000
CHAR3    EQU   SSCPRU                                                   02876000
CHAR1    EQU   CHAR3                                                    02877000
SSCPNA   EQU   SSCPRU+3                                                 02878000
DSPBYPAS EQU   20                                                       02879000
DSPCHAIN EQU   12                                                       02880000
DSPLIFO  EQU   56                                                       02881000
DSPLIFOR EQU   60                                                       02882000
DSPLIST  EQU   8                                                        02883000
DSPPOST  EQU   24                                                       02884000
DSPPRIO  EQU   48                                                       02885000
DSPPRIOR EQU   52                                                       02886000
DSPTRACE EQU   64                                                       02887000
DSPTSTQ  EQU   32                                                       02888000
DSPTSTQR EQU   36                                                       02889000
DSPUNAV  EQU   40                                                       02890000
DSPUNAVR EQU   44                                                       02891000
DSPWAIT  EQU   16                                                       02892000
IEDIAP05 EQU   0                                                        02893000
LCBRSPIN EQU   LCBIOBSN                                                 02894000
LCBRHSV  EQU   LCBRSPIN+2                                               02895000
LCBLUSNS EQU   LCBRSPIN+5                                               02896000
LCBSCPRS EQU   LCBRSPIN+9                                               02897000
LCBDFCMD EQU   LCBSCPRS                                                 02898000
LCBCSWU1 EQU   LCBSCPRS+2                                               02899000
LCBRSPFG EQU   LCBRSPIN+15                                              02900000
LCBEXPI  EQU   LCBRSPFG                                                 02901000
LCBRSRH  EQU   LCBRSPFG                                                 02902000
LCBPAKCH EQU   LCBRSPIN+16                                              02903000
LCBCOREQ EQU   LCBTPCD                                                  02904000
@NM00129 EQU   LCBCPA+40                                                02905000
LCBQNX   EQU   LCBERCCW                                                 02906000
LCBQNXMN EQU   LCBQNX                                                   02907000
LCBCANCL EQU   LCBSAVSN                                                 02908000
LCBCANFG EQU   LCBCANCL                                                 02909000
LCBCANXT EQU   LCBCANFG                                                 02910000
LCBCANTH EQU   LCBCANCL+1                                               02911000
IEDNLPTR EQU   QCBLGBAD                                                 02912000
IEDQSPTR EQU   LCBSCBA                                                  02913000
TRMPRE1  EQU   TRMBYTE4                                                 02914000
TRMNCP1  EQU   TRMBYTE4                                                 02915000
TRMPRE   EQU   TRMBYTE3                                                 02916000
TRMNCP   EQU   TRMBYTE3                                                 02917000
TRMPU    EQU   TRMBYTE3                                                 02918000
TRMLU    EQU   TRMBYTE3                                                 02919000
TRMLINK  EQU   TRMBYTE3                                                 02920000
PRFSHDR  EQU   IEDQPRF+42                                               02921000
SCBRGSAV EQU   SCBEND                                                   02922000
TRMOPT   EQU   IEDQTRM+20                                               02923000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02924000
@NM00206 EQU   TRMLINK                                                  02925000
TRMLSTAT EQU   TRMLINK                                                  02926000
TRMLINT  EQU   TRMLINK                                                  02927000
TRMEPMOD EQU   TRMLINK                                                  02928000
TRMLULOG EQU   TRMLU                                                    02929000
TRMINERR EQU   TRMLU                                                    02930000
TRMLUREQ EQU   TRMLU                                                    02931000
TRMSESRQ EQU   TRMLU                                                    02932000
TRMTDIFF EQU   TRMLU                                                    02933000
TRMLUTM  EQU   TRMLU                                                    02934000
TRMLUIT  EQU   TRMLU                                                    02935000
TRMAUTO  EQU   TRMLU                                                    02936000
TRMPCONT EQU   TRMPU                                                    02937000
@NM00205 EQU   TRMPU                                                    02938000
TRMNCONT EQU   TRMNCP                                                   02939000
TRMQUCKN EQU   TRMNCP                                                   02940000
TRMSLOWN EQU   TRMNCP                                                   02941000
TRMSYGEN EQU   TRMNCP                                                   02942000
TRMNCPCL EQU   TRMNCP                                                   02943000
TRMIPLDM EQU   TRMNCP                                                   02944000
TRMINOUT EQU   TRMPRE                                                   02945000
TRMRDOUT EQU   TRMPRE                                                   02946000
TRMNLOUT EQU   TRMPRE                                                   02947000
TRMWROUT EQU   TRMPRE                                                   02948000
TRMASNXI EQU   TRMPRE                                                   02949000
TRMSTMM  EQU   TRMPRE                                                   02950000
TRMCMODE EQU   TRMPRE                                                   02951000
TRMSTPND EQU   TRMPRE                                                   02952000
@NM00204 EQU   TRMNCP1                                                  02953000
TRMINOP  EQU   TRMNCP1                                                  02954000
TRMLYNCH EQU   TRMPRE1                                                  02955000
TRMSPOUT EQU   TRMPRE1                                                  02956000
TRMERLCK EQU   TRMPRE1                                                  02957000
TRMQNPL  EQU   TRMPRE1                                                  02958000
TRMSPACT EQU   TRMPRE1                                                  02959000
TRMOCNI  EQU   TRMPRE1                                                  02960000
TRMSESSN EQU   TRMPRE1                                                  02961000
TRMCONT  EQU   TRMPRE1                                                  02962000
@NM00136 EQU   LCBCANCL+3                                               02963000
@NM00135 EQU   LCBCANFG                                                 02964000
LCBCANCD EQU   LCBCANFG                                                 02965000
@NM00134 EQU   LCBCANFG                                                 02966000
LCBCANEB EQU   LCBCANFG                                                 02967000
LCBUNADD EQU   LCBQNX+21                                                02968000
LCBUASZE EQU   LCBQNX+20                                                02969000
LCBDSTEA EQU   LCBQNX+16                                                02970000
@NM00133 EQU   LCBQNX+4                                                 02971000
LCBSTSAV EQU   LCBQNX+1                                                 02972000
@NM00132 EQU   LCBQNXMN                                                 02973000
LCBNX509 EQU   LCBQNXMN                                                 02974000
LCBNX162 EQU   LCBQNXMN                                                 02975000
LCBNX142 EQU   LCBQNXMN                                                 02976000
LCBNX064 EQU   LCBQNXMN                                                 02977000
@NM00131 EQU   @NM00129+4                                               02978000
LCBNCPPT EQU   @NM00129+1                                               02979000
@NM00130 EQU   @NM00129                                                 02980000
LCBWRSCH EQU   LCBCOREQ+8                                               02981000
LCBCQLNK EQU   LCBCOREQ+4                                               02982000
LCBCQELE EQU   LCBCOREQ                                                 02983000
@NM00128 EQU   LCBRSPFG                                                 02984000
@NM00127 EQU   LCBRSPIN+12                                              02985000
LCBUSUE1 EQU   LCBCSWU1                                                 02986000
@NM00126 EQU   LCBCSWU1                                                 02987000
@NM00125 EQU   LCBSCPRS+1                                               02988000
LCBUSER  EQU   LCBLUSNS+2                                               02989000
LCBSMIN  EQU   LCBLUSNS+1                                               02990000
LCBSMAJ  EQU   LCBLUSNS                                                 02991000
LCBSNS0  EQU   LCBRSPIN+1                                               02992000
@NM00124 EQU   LCBRSPIN                                                 02993000
@NM00221 EQU   CHAR3+1                                                  02994000
TRMSUBST EQU   IEDNTRM+12                                               02995000
TRMTYPE  EQU   IEDNTRM+11                                               02996000
TRMRLMCT EQU   IEDNTRM+10                                               02997000
TRMCOHTG EQU   TRMSIBPT+1                                               02998000
TRMGPCNT EQU   TRMSIBPT                                                 02999000
TRMBUFRD EQU   TRMBYTE0                                                 03000000
TRMSNA   EQU   TRMBYTE0                                                 03001000
TRMGP    EQU   TRMBYTE0                                                 03002000
TRMDIAL  EQU   TRMBYTE0                                                 03003000
@NM00203 EQU   TRMBYTE0                                                 03004000
TRMOUTPT EQU   TRMBYTE0                                                 03005000
TRMINPUT EQU   TRMBYTE0                                                 03006000
TRMUDEF  EQU   TRMBYTE0                                                 03007000
TRMCOHRT EQU   IEDNTRM+4                                                03008000
TRMSTOTE EQU   TRMBYTE1                                                 03009000
TRMCKPRN EQU   TRMBYTE1                                                 03010000
TRMTSATN EQU   TRMBYTE1                                                 03011000
TRMTRACE EQU   TRMBYTE1                                                 03012000
TRMSWBCK EQU   TRMBYTE1                                                 03013000
TRMAUTOC EQU   TRMBYTE1                                                 03014000
TRMINPTP EQU   TRMBYTE1                                                 03015000
TRMWTNEG EQU   TRMSCPRQ                                                 03016000
TRMWRBRK EQU   TRMBYTE2                                                 03017000
TRMNOSND EQU   TRMBYTE2                                                 03018000
TRMPREP  EQU   TRMBYTE2                                                 03019000
TRMGPACT EQU   TRMBYTE2                                                 03020000
TRMANDL  EQU   TRMBYTE2                                                 03021000
TRMCLOSN EQU   TRMINPG                                                  03022000
TRMREMB  EQU   TRMBYTE2                                                 03023000
TRMRSACT EQU   TRMBYTE2                                                 03024000
TRMOPTBL EQU   IEDQTRM+18                                               03025000
TRMOPNO  EQU   IEDQTRM+17                                               03026000
TRMCHCIN EQU   IEDQTRM+16                                               03027000
TRMSENSE EQU   TRMSTAT+3                                                03028000
TRMTEMPR EQU   TRMSTAT+2                                                03029000
TRMSIO   EQU   TRMSTAT                                                  03030000
@NM00202 EQU   TRMDEVFL+1                                               03031000
TRMTPIN  EQU   TRMDEVFL+1                                               03032000
TRMNCPI  EQU   TRMDEVFL+1                                               03033000
TRMRNTRM EQU   TRMDEVFL+1                                               03034000
@NM00201 EQU   TRMDEVFL+1                                               03035000
TRMLMD   EQU   TRMDEVFL+1                                               03036000
TRMCONC  EQU   TRMDEVFL+1                                               03037000
TRMTSOB  EQU   TRMDEVFL                                                 03038000
TRMBFDY  EQU   TRMDEVFL                                                 03039000
TRMTBLK  EQU   TRMDEVFL                                                 03040000
TRMSBLK  EQU   TRMDEVFL                                                 03041000
TRMBLKS  EQU   TRMDEVFL                                                 03042000
TRMADDC  EQU   TRMDEVFL                                                 03043000
TRMDDIG  EQU   TRMDEVFL                                                 03044000
TRMBUFS  EQU   TRMDEVFL                                                 03045000
TRMPRILK EQU   TRMALTD                                                  03046000
TRMLGB   EQU   TRMDSORG                                                 03047000
TRMUTERM EQU   TLISTCNT                                                 03048000
TRMSCNYN EQU   TRMSTATE                                                 03049000
TRMOPTFN EQU   TRMSTATE                                                 03050000
TRMHELDN EQU   TRMSTATE                                                 03051000
TRMACPTN EQU   TRMSTATE                                                 03052000
TRMPREF  EQU   TRMSTATE                                                 03053000
TRMPROC  EQU   TRMLOG                                                   03054000
TRMLIST  EQU   TRMLOG                                                   03055000
TRMLINE  EQU   TRMSTATE                                                 03056000
TTHTAG2  EQU   TTHTAG+1                                                 03057000
@NM00200 EQU   TTHTAG1                                                  03058000
TTHTAGS  EQU   TTHTAG1                                                  03059000
TTHOAF   EQU   IEDTH+4                                                  03060000
TTHDAF   EQU   IEDTH+2                                                  03061000
TTHBYTE1 EQU   IEDTH+1                                                  03062000
@NM00199 EQU   TTHBYTE0                                                 03063000
TTHEBIU  EQU   TTHBYTE0                                                 03064000
TTHBBIU  EQU   TTHBYTE0                                                 03065000
TTHFTYPE EQU   TTHBYTE0                                                 03066000
STMHOPT  EQU   IEDSTMH+18                                               03067000
STMHCOPO EQU   STMHLMOP                                                 03068000
STMHLOPO EQU   IEDSTMH+16                                               03069000
STMHROUT EQU   IEDSTMH+13                                               03070000
STMHLMD  EQU   STMHAEIX                                                 03071000
STMHLMDO EQU   STMHAEIX                                                 03072000
@NM00198 EQU   STMHAEIX                                                 03073000
STMHSTCB EQU   IEDSTMH+9                                                03074000
STMHLENG EQU   IEDSTMH+8                                                03075000
STMHTSO  EQU   IEDSTMH+5                                                03076000
STMHTSFG EQU   STMHFLG2                                                 03077000
STMHLOP  EQU   STMHFLG2                                                 03078000
STMHLOG  EQU   STMHFLG2                                                 03079000
STMHCOP  EQU   STMHFLG2                                                 03080000
STMHCONV EQU   STMHFLG2                                                 03081000
STMHSTC  EQU   STMHFLG2                                                 03082000
STMHCONT EQU   STMHFLG2                                                 03083000
STMHLCIN EQU   STMHFLG2                                                 03084000
STMHALT  EQU   IEDSTMH                                                  03085000
STMHBEXT EQU   IEDNSTMH+9                                               03086000
@NM00197 EQU   STMHFLG0                                                 03087000
STMHUNBD EQU   STMHFLG0                                                 03088000
STMHDFCP EQU   STMHFLG0                                                 03089000
STMHUBXT EQU   IEDNSTMH+4                                               03090000
STMHUNBR EQU   IEDNSTMH                                                 03091000
SNSUSR2  EQU   SNSUSER+1                                                03092000
SNSUSR1  EQU   SNSUSER                                                  03093000
SNSMIN   EQU   SNSSYSTM+1                                               03094000
SIBLUTYP EQU   SIBSTAT0                                                 03095000
@NM00196 EQU   SIBBIND3                                                 03096000
SIBCRES  EQU   SIBBIND3                                                 03097000
SIBSPKR  EQU   SIBBIND3                                                 03098000
SIBRECOV EQU   SIBBIND3                                                 03099000
SIBALT   EQU   SIBBIND2                                                 03100000
SIBBTERM EQU   SIBBIND2                                                 03101000
SIBFMUSE EQU   SIBBIND2                                                 03102000
SIBSEBI  EQU   SIBBIND2                                                 03103000
SIBSCMP  EQU   SIBBIND2                                                 03104000
SIBSEXC  EQU   SIBBIND2                                                 03105000
SIBSDEF  EQU   SIBBIND2                                                 03106000
SIBSRQM  EQU   SIBBIND1                                                 03107000
SIBSCHNG EQU   SIBBIND1                                                 03108000
SIBPEBI  EQU   SIBBIND1                                                 03109000
SIBPCMP  EQU   SIBBIND1                                                 03110000
SIBPEXC  EQU   SIBBIND1                                                 03111000
SIBPDEF  EQU   SIBBIND1                                                 03112000
SIBPRQM  EQU   SIBBIND1                                                 03113000
SIBPCHN  EQU   SIBBIND1                                                 03114000
SIBTSPRO EQU   IEDSIBD+18                                               03115000
@NM00195 EQU   SIBSTAT2                                                 03116000
SIBDACLU EQU   SIBSTAT2                                                 03117000
SIBRDSCN EQU   SIBSTAT2                                                 03118000
SIBTERM  EQU   SIBSTAT2                                                 03119000
SIBUSS   EQU   SIBSTAT2                                                 03120000
SIBBSTAT EQU   SIBSTAT1                                                 03121000
SIBRTRP  EQU   SIBSTAT1                                                 03122000
@NM00194 EQU   SIBSTAT1                                                 03123000
SIBRQEND EQU   SIBSTAT1                                                 03124000
SIBRQSHT EQU   SIBSTAT1                                                 03125000
SIBSEQO  EQU   SIBSEQN+2                                                03126000
SIBSEQI  EQU   SIBSEQN                                                  03127000
SIBNCNT  EQU   SIBPACIN                                                 03128000
SIBMCNT  EQU   SIBPACIN                                                 03129000
SIBDSTAT EQU   SIBSESSN                                                 03130000
SIBSSTAT EQU   SIBSESSN                                                 03131000
SIBINBIU EQU   SIBSESSN                                                 03132000
SIBINDEX EQU   IEDSIBD+8                                                03133000
SIBCHAIN EQU   IEDSIBD+4                                                03134000
SIBRUSEG EQU   IEDSIBD                                                  03135000
SCBTRANS EQU   IEDQSCB+81                                               03136000
SCBUNTCT EQU   IEDQSCB+80                                               03137000
SCBEOB   EQU   IEDQSCB+78                                               03138000
SCBNXCPB EQU   SCBCCSEG                                                 03139000
SCBNHDR  EQU   SCBCHDR                                                  03140000
SCBCRCD  EQU   IEDQSCB+69                                               03141000
SCBTQBCK EQU   SCBNTXT                                                  03142000
SCBOSEQ  EQU   SCBSCAN                                                  03143000
SCBXTRA  EQU   SCBCORE                                                  03144000
SCBNOPST EQU   SCBSTAT1                                                 03145000
SCBNIDLE EQU   SCBSTAT1                                                 03146000
SCBCEND  EQU   SCBSTAT1                                                 03147000
SCBCBGN  EQU   SCBSTAT1                                                 03148000
SCBSIZE  EQU   IEDQSCB+58                                               03149000
SCBSRCE  EQU   IEDQSCB+56                                               03150000
SCBDEOB  EQU   IEDQSCB+52                                               03151000
SCBFEFO  EQU   SCBDCSEG                                                 03152000
SCBCTBND EQU   SCBBLKCT                                                 03153000
SCBSCHDR EQU   SCBCLSEG                                                 03154000
SCBHBFNO EQU   IEDQSCB+44                                               03155000
SCBSCSEG EQU   SCBDNSEG                                                 03156000
SCBBCTR  EQU   SCBCTBSV                                                 03157000
SCBCCHDR EQU   IEDQSCB+37                                               03158000
SCBDESTL EQU   IEDQSCB+36                                               03159000
SCBDCHDR EQU   IEDQSCB+33                                               03160000
SCBCPBNO EQU   IEDQSCB+32                                               03161000
SCBMBSSA EQU   IEDQSCB+25                                               03162000
SCBMLMTN EQU   SCBBSCFM                                                 03163000
SCBNOEOT EQU   SCBBSCFM                                                 03164000
@NM00193 EQU   SCBBSCFM                                                 03165000
SCBNPDTR EQU   SCBDATEN                                                 03166000
SCBCNTEN EQU   SCBBSCFM                                                 03167000
SCBRCVTX EQU   SCBBSCFM                                                 03168000
SCBNONTR EQU   SCBBSCFM                                                 03169000
SCBTRNSP EQU   SCBBSCFM                                                 03170000
SCBENDCR EQU   SCBCTBAC+1                                               03171000
SCBCRLEN EQU   SCBCTBAC                                                 03172000
SCBMRFSD EQU   IEDQSCB+20                                               03173000
@NM00192 EQU   SCBERR4                                                  03174000
SCBTRMLN EQU   SCBERR4                                                  03175000
SCBCONNN EQU   SCBERR4                                                  03176000
SCBAPERR EQU   SCBTXTTN                                                 03177000
SCBSLCTN EQU   SCBERR4                                                  03178000
SCBTHRSN EQU   SCBATTN                                                  03179000
SCBUSERN EQU   SCBERR3                                                  03180000
SCBSATTN EQU   SCBERR3                                                  03181000
SCBTMINN EQU   SCBERR3                                                  03182000
SCBXPD   EQU   SCBTMIDN                                                 03183000
SCBXPI   EQU   SCBLOSTN                                                 03184000
SCBFRWDN EQU   SCBERR2                                                  03185000
SCBOLTR  EQU   SCBERR2                                                  03186000
SCBALN   EQU   SCBERR2                                                  03187000
SCBCODER EQU   SCBERR2                                                  03188000
SCBCRMAX EQU   SCBERR2                                                  03189000
SCBCRMIN EQU   SCBERR2                                                  03190000
SCBRVISL EQU   SCBCUTFN                                                 03191000
SCBNOBFN EQU   SCBERR1                                                  03192000
@NM00191 EQU   SCBERR1                                                  03193000
SCBNOVAC EQU   SCBSEQLN                                                 03194000
SCBNOTSO EQU   SCBSEQHN                                                 03195000
SCBRVITX EQU   SCBNOTRM                                                 03196000
SCBHANG  EQU   SCBORIGN                                                 03197000
SCBNOLOG EQU   SCBHDRRN                                                 03198000
SCBMRFPL EQU   IEDQSCB+13                                               03199000
SCBBFMM  EQU   SCBQTYPE                                                 03200000
SCBBBFTM EQU   SCBQTYPE                                                 03201000
SCBNOFF  EQU   SCBQTYPE                                                 03202000
SCBCONC  EQU   SCBQTYPE                                                 03203000
SCBNREUS EQU   SCBQTYPE                                                 03204000
SCBREUS  EQU   SCBQTYPE                                                 03205000
SCBCOREQ EQU   SCBQTYPE                                                 03206000
SCBNORCL EQU   SCBQTYPE                                                 03207000
SCBCTBSZ EQU   SCBEOBSZ                                                 03208000
@NM00190 EQU   SCBBKFCT                                                 03209000
SCBPRI   EQU   IEDQSCB+8                                                03210000
SCBMACR  EQU   SCBMBHEN                                                 03211000
SCBSNDCT EQU   SCBRCVCT                                                 03212000
SCBDESTQ EQU   IEDQSCB+1                                                03213000
SCBCODE  EQU   SCBSTATE                                                 03214000
SCBPRER  EQU   SCBSTATE                                                 03215000
SCBCKPT  EQU   SCBSTATE                                                 03216000
SCBMSGLN EQU   SCBSTATE                                                 03217000
SCBERSDS EQU   SCBSTATE                                                 03218000
SCBLCK1N EQU   SCBSTATE                                                 03219000
SCBMGFMN EQU   SCBSEQIN                                                 03220000
SCBTRANP EQU   SCBSTATE                                                 03221000
@NM00189 EQU   TRHBYTE2                                                 03222000
@NM00188 EQU   TRHBYTE2                                                 03223000
@NM00187 EQU   TRHBYTE2                                                 03224000
TRHCSI   EQU   TRHBYTE2                                                 03225000
@NM00186 EQU   TRHBYTE2                                                 03226000
TRHPI    EQU   TRHBYTE1                                                 03227000
@NM00185 EQU   TRHBYTE1                                                 03228000
@NM00184 EQU   TRHBYTE1                                                 03229000
@NM00183 EQU   TRHBYTE1                                                 03230000
TRHER    EQU   TRHBYTE1                                                 03231000
TRHDR2   EQU   TRHBYTE1                                                 03232000
@NM00182 EQU   TRHBYTE1                                                 03233000
TRHDR1   EQU   TRHBYTE1                                                 03234000
@NM00181 EQU   TRHBYTE0                                                 03235000
TRHTYPE  EQU   TRHBYTE0                                                 03236000
QCBTTCIN EQU   QCBPLCBA+1                                               03237000
@NM00180 EQU   QCBPLCBA                                                 03238000
@NM00179 EQU   QCBSTAT1                                                 03239000
QCBFLUSH EQU   QCBSTAT1                                                 03240000
QCBNDXRQ EQU   QCBSTAT1                                                 03241000
QCBESIG  EQU   QCBSTAT1                                                 03242000
QCBRCVRQ EQU   QCBSTAT1                                                 03243000
QCBSNDRQ EQU   QCBSTAT1                                                 03244000
QCBWAITC EQU   QCBSTAT1                                                 03245000
QCBPLCBN EQU   QCBSTAT1                                                 03246000
QCBCHAIN EQU   IEDNQCB                                                  03247000
QCBPQBCK EQU   IEDQPQCB+25                                              03248000
QCBPRIPQ EQU   IEDQPQCB+24                                              03249000
QCBCFHDR EQU   IEDQPQCB+21                                              03250000
QCBLFEFO EQU   IEDQPQCB+18                                              03251000
QCBFFEFO EQU   IEDQPQCB+15                                              03252000
QCBPREVF EQU   QCBINTLF                                                 03253000
QCBINTFF EQU   IEDQPQCB+9                                               03254000
QCBDATSQ EQU   QCBFHDTZ+1                                               03255000
@NM00178 EQU   QCBFHDTZ                                                 03256000
@NM00177 EQU   QCBPFEFO                                                 03257000
QCBDATFL EQU   QCBFHDLZ                                                 03258000
QCBDNHDR EQU   IEDQPQCB                                                 03259000
QCBQBACK EQU   IEDQQCB+37                                               03260000
QCBCKPT  EQU   QCBFLAG                                                  03261000
QCBPROC  EQU   QCBFLAG                                                  03262000
QCBSDFFO EQU   QCBFLAG                                                  03263000
QCBTERMQ EQU   QCBFLAG                                                  03264000
QCBRSRV  EQU   QCBFLAG                                                  03265000
QCBREAD  EQU   QCBFLAG                                                  03266000
QCBNOBRK EQU   QCBFLAG                                                  03267000
QCBRELLN EQU   IEDQQCB+32                                               03268000
QCBTJID  EQU   QCBLKRRN+1                                               03269000
QCBCARCT EQU   QCBLKRRN                                                 03270000
QCBPRLVL EQU   QCBPREN                                                  03271000
QCBMSGCT EQU   IEDQQCB+26                                               03272000
QCBEXTO  EQU   QCBINTVL                                                 03273000
QCBDISC  EQU   QCBTSOF1                                                 03274000
QCBDELAY EQU   QCBTSOF1                                                 03275000
QCBPARTO EQU   QCBTSOF1                                                 03276000
QCBSATRD EQU   QCBTSOF1                                                 03277000
QCBNOBUF EQU   QCBTSOF1                                                 03278000
QCBTPUT  EQU   QCBTSOF1                                                 03279000
QCBTGET  EQU   QCBTSOF1                                                 03280000
QCBWRBRK EQU   QCBTSOF1                                                 03281000
QCBSATLC EQU   QCBTSOF2                                                 03282000
QCBSATTI EQU   QCBTSOF2                                                 03283000
QCBSATCH EQU   QCBTSOF2                                                 03284000
QCBSIMRD EQU   QCBTSOF2                                                 03285000
QCBDSSMI EQU   QCBTSOF2                                                 03286000
QCBPOSTO EQU   QCBTSOF2                                                 03287000
QCBBUFQ  EQU   QCBTSOF2                                                 03288000
QCBINHBN EQU   QCBTSOF2                                                 03289000
QCBSATCT EQU   @NM00176                                                 03290000
QCBSCBOF EQU   IEDQQCB+20                                               03291000
QCBTIME  EQU   QCBSTAT                                                  03292000
QCBCLOCK EQU   QCBSTAT                                                  03293000
QCBSCHDL EQU   QCBSTAT                                                  03294000
QCBSMODE EQU   QCBSTAT                                                  03295000
QCBSEND  EQU   QCBSTAT                                                  03296000
QCBBUFRD EQU   QCBSTAT                                                  03297000
QCBTRMHO EQU   QCBSTAT                                                  03298000
QCBEOM   EQU   QCBSTAT                                                  03299000
QCBHUCT  EQU   QCBRETCT                                                 03300000
QCBIEND  EQU   QCBRETCT                                                 03301000
QCBEND   EQU   QCBRETCT                                                 03302000
QCBNL    EQU   QCBRETCT                                                 03303000
QCBLOGCT EQU   QCBRETCT                                                 03304000
@NM00175 EQU   QCBBYTE1                                                 03305000
QCBRITRM EQU   QCBBYTE1                                                 03306000
@NM00174 EQU   QCBEOLDT                                                 03307000
QCBSLINK EQU   IEDQQCB+13                                               03308000
QCBSTPRI EQU   IEDQQCB+12                                               03309000
QCBSTCHN EQU   IEDQQCB+9                                                03310000
QCBSTVTO EQU   IEDQQCB+8                                                03311000
QCBLINK  EQU   IEDQQCB+5                                                03312000
QCBPRI   EQU   IEDQQCB+4                                                03313000
QCBELCHN EQU   IEDQQCB+1                                                03314000
QCBHELD  EQU   QCBDSFLG                                                 03315000
QCBFQCB  EQU   QCBDSFLG                                                 03316000
QCBDRQQ  EQU   QCBDSFLG                                                 03317000
QCBALTMH EQU   QCBDSFLG                                                 03318000
QCBREUS  EQU   QCBDISK                                                  03319000
QCBNREUS EQU   QCBDISK                                                  03320000
QCBCORE  EQU   QCBDSFLG                                                 03321000
QCBTSQ   EQU   QCBDSFLG                                                 03322000
PRF2SEQP EQU   PRF2WD2                                                  03323000
@NM00173 EQU   IEDPF2+1                                                 03324000
@NM00172 EQU   PRF2FLG2                                                 03325000
PRF2SMI  EQU   PRF2FLG2                                                 03326000
PRF2FORM EQU   PRF2FLG2                                                 03327000
PRF2TNTI EQU   PRF2FLG2                                                 03328000
PRF1RULN EQU   PRF1SEQP+2                                               03329000
PRF1TAG2 EQU   PRF1SQID+1                                               03330000
@NM00171 EQU   PRF1TAG1                                                 03331000
PRF1TAGS EQU   PRF1TAG1                                                 03332000
@NM00170 EQU   PRF1FLG1                                                 03333000
PRF1LOGD EQU   PRF1FLG1                                                 03334000
PRF1USS  EQU   PRF1FLG1                                                 03335000
PRF1FORM EQU   PRF1FLG1                                                 03336000
PRF1FIDI EQU   PRF1FLG1                                                 03337000
PRFDEST  EQU   IEDQPRF+40                                               03338000
PRFISEQ  EQU   IEDQPRF+38                                               03339000
PRFSTXT  EQU   PRFHQBCK                                                 03340000
PRFNHDR  EQU   PRFCHDR                                                  03341000
PRFCRCD  EQU   IEDQPRF+29                                               03342000
PRFSVSEQ EQU   PRFNTXT+1                                                03343000
PRFSVPRI EQU   PRFEOBOF                                                 03344000
@NM00169 EQU   PRFSCAN                                                  03345000
PRFEOB   EQU   PRFXTRA+1                                                03346000
PRFSTSO  EQU   PRFXTRA                                                  03347000
PRFNHDRN EQU   PRFSTAT1                                                 03348000
PRFLOCK  EQU   PRFEOFN                                                  03349000
PRFDUPLN EQU   PRFSTAT1                                                 03350000
PRFITCPN EQU   PRFSTAT1                                                 03351000
PRFERMGN EQU   PRFSTAT1                                                 03352000
PRFCNCLN EQU   PRFSTAT1                                                 03353000
PRFSVFLG EQU   @NM00168+3                                               03354000
@NM00167 EQU   PRFTICC                                                  03355000
@NM00166 EQU   PRFTICC                                                  03356000
@NM00165 EQU   PRFTICC                                                  03357000
PRFTICON EQU   PRFTICC                                                  03358000
@NM00164 EQU   PRFTICC                                                  03359000
@NM00163 EQU   PRFTICC                                                  03360000
PRFBFMM  EQU   PRFTICC                                                  03361000
PRFEOMSG EQU   PRFTICC                                                  03362000
PRFCOUNT EQU   PRFLINK+1                                                03363000
@NM00162 EQU   PRFLINK                                                  03364000
PRFFLAGS EQU   PRFPRI                                                   03365000
PRFIOADR EQU   PRFQCBA                                                  03366000
PRFOPCDE EQU   PRFKEY                                                   03367000
PLMVFLG2 EQU   IEDPLMV+19                                               03368000
@NM00161 EQU   PLMVFLG1                                                 03369000
PLMVTCTG EQU   PLMVFLG1                                                 03370000
PLMVSCTG EQU   PLMVFLG1                                                 03371000
@NM00160 EQU   IEDPLBM+1                                                03372000
@NM00159 EQU   PLBMFLG1                                                 03373000
PLBMSNDI EQU   PLBMFLG1                                                 03374000
LGBIVLST EQU   IEDNLGB+60                                               03375000
LGBRESV4 EQU   LGBRESER+3                                               03376000
LGBRESV3 EQU   LGBRESER+2                                               03377000
LGBRESV2 EQU   LGBRESER+1                                               03378000
LGBRESV1 EQU   LGBRESER                                                 03379000
@NM00158 EQU   IEDNLGB+53                                               03380000
LGBILCT  EQU   IEDNLGB+52                                               03381000
LGBSCTAD EQU   IEDNLGB+49                                               03382000
@NM00157 EQU   LGBOFLGS                                                 03383000
LGBOPEN  EQU   LGBOFLGS                                                 03384000
@NM00156 EQU   LGBOFLGS                                                 03385000
LGBNAME  EQU   IEDNLGB+40                                               03386000
@NM00155 EQU   IEDNLGB+36                                               03387000
LGBTRANS EQU   IEDNLGB+33                                               03388000
@NM00154 EQU   IEDNLGB+32                                               03389000
@NM00153 EQU   IEDNLGB+31                                               03390000
LGBOPACE EQU   IEDNLGB+30                                               03391000
@NM00152 EQU   LGBBYTE                                                  03392000
LGBBUFMA EQU   IEDNLGB+28                                               03393000
LGBDSORG EQU   IEDNLGB+26                                               03394000
@NM00151 EQU   LGBPCI                                                   03395000
@NM00150 EQU   LGBPCI                                                   03396000
LGBPCINO EQU   LGBPCI                                                   03397000
@NM00149 EQU   LGBPCI                                                   03398000
LGBPCIAO EQU   LGBPCI                                                   03399000
@NM00148 EQU   LGBPCI                                                   03400000
@NM00147 EQU   LGBPCI                                                   03401000
@NM00146 EQU   LGBPCI                                                   03402000
@NM00145 EQU   IEDNLGB+24                                               03403000
LGBMHA   EQU   IEDNLGB+21                                               03404000
@NM00144 EQU   LGBBUFOU                                                 03405000
LGBPREF  EQU   LGBBUFOU                                                 03406000
@NM00143 EQU   LGBBUFOU                                                 03407000
LGBSUBST EQU   IEDNLGB+18                                               03408000
LGBTYPE  EQU   IEDNLGB+17                                               03409000
@NM00142 EQU   IEDNLGB                                                  03410000
LCBERADR EQU   LCBXRADR+1                                               03411000
LCBPCIRC EQU   LCBXRADR                                                 03412000
LCBDCT3  EQU   LCBXDCT+2                                                03413000
LCBDCT2  EQU   LCBXDCT+1                                                03414000
LCBDCT1  EQU   LCBXDCT                                                  03415000
@NM00141 EQU   LCBXFLAG                                                 03416000
LCBERPND EQU   LCBXFLAG                                                 03417000
LCBSRCPF EQU   LCBXFLAG                                                 03418000
LCBGPCTV EQU   LCBXFLAG                                                 03419000
@NM00140 EQU   LCBXFLAG                                                 03420000
@NM00139 EQU   LCBXFLAG                                                 03421000
@NM00138 EQU   LCBXFLAG                                                 03422000
@NM00137 EQU   LCBXFLAG                                                 03423000
LCBCCW10 EQU   LCBCPA+72                                                03424000
LCBCCW9  EQU   LCBCPA+64                                                03425000
LCBCCW8  EQU   LCBCPA+56                                                03426000
LCBCCW7  EQU   LCBCPA+48                                                03427000
LCBCCW6  EQU   LCBCPA+40                                                03428000
LCBCCW5  EQU   LCBCPA+32                                                03429000
LCBCCW4  EQU   LCBCPA+24                                                03430000
LCBCCW3  EQU   LCBCPA+16                                                03431000
LCBCCW2  EQU   LCBCPA+8                                                 03432000
LCBCCW1  EQU   LCBCPA                                                   03433000
@NM00123 EQU   LCBERCCW                                                 03434000
LCBCSWSV EQU   LCBSAVSN+1                                               03435000
LCBSNSV  EQU   LCBSAVSN                                                 03436000
LCBBFSNS EQU   LCBRSPSV                                                 03437000
LCBMHBID EQU   LCBSTAT6                                                 03438000
LCBBFRSV EQU   LCBTPCD+1                                                03439000
@NM00122 EQU   LCBSTAT5                                                 03440000
LCBLUS   EQU   LCBSTAT5                                                 03441000
LCBLUNIT EQU   LCBSTAT5                                                 03442000
LCBPERM  EQU   LCBSTAT5                                                 03443000
LCBERMSK EQU   LCBOBRCH                                                 03444000
LCBOLT   EQU   LCBMSGFM                                                 03445000
LCBEOT   EQU   LCBMSGFM                                                 03446000
LCBENQ   EQU   LCBMSGFM                                                 03447000
LCBTTD   EQU   LCBMSGFM                                                 03448000
LCBRSTRT EQU   LCBMSGFM                                                 03449000
LCBVSTRT EQU   LCBMSGFM                                                 03450000
LCBACKI  EQU   LCBMSGFM                                                 03451000
LCBNAK   EQU   LCBMSGFM                                                 03452000
@NM00121 EQU   LCBRBCT2                                                 03453000
LCBDCNT  EQU   LCBRBCT2                                                 03454000
LCBRBCT1 EQU   LCBERBCT                                                 03455000
LCBERBCH EQU   IEDQLCB+85                                               03456000
LCBCOMPL EQU   LCBDLNKN                                                 03457000
LCBPRCPG EQU   LCBERBST                                                 03458000
LCBERROR EQU   LCBERBST                                                 03459000
@NM00120 EQU   LCBERBST                                                 03460000
LCBINQ   EQU   LCBERBST                                                 03461000
LCBRDERR EQU   LCBERBST                                                 03462000
LCBEOMSG EQU   LCBERBST                                                 03463000
LCBMSG   EQU   LCBERBST                                                 03464000
LCBERBLK EQU   IEDQLCB+81                                               03465000
LCBERBPY EQU   IEDQLCB+80                                               03466000
LCBERBQB EQU   LCBERB+1                                                 03467000
LCBERBKY EQU   LCBERB                                                   03468000
LCBRECAD EQU   IEDQLCB+73                                               03469000
@NM00119 EQU   LCBTSTSW                                                 03470000
@NM00118 EQU   LCBTSTSW                                                 03471000
@NM00117 EQU   LCBTSTSW                                                 03472000
@NM00116 EQU   LCBTSTSW                                                 03473000
@NM00115 EQU   LCBTSTSW                                                 03474000
@NM00114 EQU   LCBTSTSW                                                 03475000
@NM00113 EQU   LCBTSTSW                                                 03476000
LCBCONCT EQU   LCBTSTSW                                                 03477000
LCBRESP  EQU   LCBSTAT2                                                 03478000
LCBBFRAV EQU   LCBDIAL                                                  03479000
LCBATTN  EQU   LCBSYNC                                                  03480000
LCBNEGRP EQU   LCBSTAT2                                                 03481000
LCBSNDPR EQU   LCBSTAT2                                                 03482000
LCBCONNN EQU   LCBBEOTN                                                 03483000
LCBMSGNN EQU   LCBSTAT2                                                 03484000
LCBTRACE EQU   LCBSTAT2                                                 03485000
LCBSENDN EQU   LCBSTAT1                                                 03486000
LCBRECVN EQU   LCBSTAT1                                                 03487000
LCBFREEN EQU   LCBSTAT1                                                 03488000
LCBCONT  EQU   LCBSTAT1                                                 03489000
LCBINITN EQU   LCBSTAT1                                                 03490000
LCBOCNI  EQU   LCBSTAT1                                                 03491000
LCBCVRSP EQU   LCBCTLMD                                                 03492000
LCBRCLLN EQU   LCBSTAT1                                                 03493000
LCBRECOF EQU   IEDQLCB+68                                               03494000
LCBRDBFR EQU   LCBRCBFR                                                 03495000
LCBUCBX  EQU   IEDQLCB+64                                               03496000
LCBTTBIN EQU   LCBERRCT                                                 03497000
@NM00112 EQU   LCBINCAM                                                 03498000
LCBGETMN EQU   LCBINCAM                                                 03499000
LCBRESTR EQU   LCBRCQCB                                                 03500000
LCBPCILK EQU   LCBDCBPT                                                 03501000
LCBSTART EQU   LCBIOBSN+16                                              03502000
LCBAP4OL EQU   LCBSIOCC                                                 03503000
LCBAP3OL EQU   LCBSIOCC                                                 03504000
LCBAP2OL EQU   LCBSIOCC                                                 03505000
LCBAP1OL EQU   LCBSIOCC                                                 03506000
LCBSIOC2 EQU   LCBSIOCC                                                 03507000
LCBSIOC1 EQU   LCBSIOCC                                                 03508000
@NM00111 EQU   LCBSIOCC                                                 03509000
LCBCSWRC EQU   LCBCSW+5                                                 03510000
LCBCSCHC EQU   LCBCSWCS                                                 03511000
LCBCSICC EQU   LCBCSWCS                                                 03512000
LCBCSCCC EQU   LCBCSWCS                                                 03513000
LCBCSCDC EQU   LCBCSWCS                                                 03514000
LCBCSPTC EQU   LCBCSWCS                                                 03515000
LCBCSPGC EQU   LCBCSWCS                                                 03516000
LCBCSIL  EQU   LCBCSWCS                                                 03517000
LCBCSPCI EQU   LCBCSWCS                                                 03518000
LCBUSUC  EQU   LCBCSWUS                                                 03519000
LCBUSDE  EQU   LCBCSWUS                                                 03520000
LCBUSCE  EQU   LCBCSWUS                                                 03521000
LCBUSBSY EQU   LCBCSWUS                                                 03522000
LCBUSCUE EQU   LCBCSWUS                                                 03523000
LCBUSSM  EQU   LCBCSWUS                                                 03524000
LCBUSAT  EQU   LCBCSWUS                                                 03525000
LCBCSWCA EQU   LCBCSW                                                   03526000
LCBOBR   EQU   LCBFLAG3                                                 03527000
LCBOBRRD EQU   LCBFLAG3                                                 03528000
LCBIOMSG EQU   LCBFLAG3                                                 03529000
LCBSOHC  EQU   LCBFLAG3                                                 03530000
LCBRLAD  EQU   LCBFLAG3                                                 03531000
LCBSOHR  EQU   LCBFLAG3                                                 03532000
@NM00110 EQU   LCBFLAG3                                                 03533000
LCBECBPT EQU   LCBIOBSN+4                                               03534000
LCBECBCC EQU   LCBIOBSN+3                                               03535000
LCBSENS1 EQU   LCBIOBSN+2                                               03536000
LCBABORT EQU   LCBTMOUT                                                 03537000
LCBNOTIN EQU   LCBLOSDT                                                 03538000
LCBOVRUN EQU   LCBSENS0                                                 03539000
LCBDATCK EQU   LCBSENS0                                                 03540000
LCBEQUCK EQU   LCBSENS0                                                 03541000
LCBBUSCK EQU   LCBSENS0                                                 03542000
LCBINTRQ EQU   LCBSENS0                                                 03543000
LCBCMDRJ EQU   LCBSENS0                                                 03544000
LCBFLAG2 EQU   LCBIOBSN                                                 03545000
@NM00109 EQU   LCBFLAG1                                                 03546000
LCBUNREL EQU   LCBFLAG1                                                 03547000
LCBEXCPN EQU   LCBFLAG1                                                 03548000
@NM00108 EQU   LCBFLAG1                                                 03549000
LCBERPIN EQU   LCBFLAG1                                                 03550000
@NM00107 EQU   LCBFLAG1                                                 03551000
LCBFSBFR EQU   LCBMHA                                                   03552000
LCBISZE  EQU   IEDQLCB+28                                               03553000
@NM00106 EQU   LCBSCBDA                                                 03554000
LCBCPGMH EQU   LCBSTAT4                                                 03555000
LCBREAL  EQU   LCBPHASE                                                 03556000
@NM00105 EQU   LCBSTAT4                                                 03557000
LCBACTRQ EQU   LCBSTAT4                                                 03558000
LCBIPLRQ EQU   LCBSTAT4                                                 03559000
LCBDACRQ EQU   LCBSTAT4                                                 03560000
LCBDMPRQ EQU   LCBSTAT4                                                 03561000
@NM00104 EQU   LCBLKMDE                                                 03562000
LCBLOCKI EQU   LCBLKMDE                                                 03563000
LCBLOCKR EQU   LCBLKMDE                                                 03564000
LCBHMFLG EQU   LCBLKMDE                                                 03565000
LCBBDFLG EQU   LCBLKMDE                                                 03566000
@NM00103 EQU   LCBINSRC                                                 03567000
LCBABRTN EQU   LCBCHAIN                                                 03568000
LCBTETEN EQU   LCBCHAIN                                                 03569000
LCBBFRSZ EQU   LCBCHAIN                                                 03570000
LCBUREQN EQU   LCBCHAIN                                                 03571000
LCBNORTY EQU   LCBCHAIN                                                 03572000
LCBEXCP  EQU   LCBCHAIN                                                 03573000
LCBINVRQ EQU   LCBSCRNN                                                 03574000
LCB2741N EQU   LCBTSOB                                                  03575000
LCBINHBN EQU   LCBTSOB                                                  03576000
LCBCIRCD EQU   LCBTSOB                                                  03577000
LCBPREP  EQU   LCBTSOB                                                  03578000
LCBSOPL  EQU   LCBTSOB                                                  03579000
LCBSATRD EQU   LCBTSOB                                                  03580000
LCBTSBUF EQU   LCBTSOB                                                  03581000
LCBWRBRK EQU   LCBTSOB                                                  03582000
LCBTDL   EQU   IEDQLCB+18                                               03583000
LCBEOLTD EQU   IEDQLCB+16                                               03584000
LCBRSLNK EQU   IEDQLCB+13                                               03585000
LCBRSPRI EQU   IEDQLCB+12                                               03586000
LCBSTCBA EQU   IEDQLCB+9                                                03587000
LCBRSKEY EQU   IEDQLCB+8                                                03588000
LCBLINK  EQU   LCBRCB+5                                                 03589000
LCBPRI   EQU   LCBRCB+4                                                 03590000
LCBQCBA  EQU   LCBRCB+1                                                 03591000
LCBKEY   EQU   LCBRCB                                                   03592000
SAVTBITN EQU   IEDNSVTD+312                                             03593000
@NM00102 EQU   SAVTCKQB+8                                               03594000
@NM00101 EQU   SAVTCKEC+1                                               03595000
@NM00100 EQU   SAVTCKCC                                                 03596000
SAVTCKPO EQU   SAVTCKCC                                                 03597000
SAVTCKWA EQU   SAVTCKCC                                                 03598000
SAVTCKCH EQU   SAVTCKTB+1                                               03599000
SAVTCKVT EQU   SAVTCKTB                                                 03600000
@NM00099 EQU   IEDNSVTD+297                                             03601000
SAVTRDFG EQU   SAVTRDRV+12                                              03602000
@NM00098 EQU   SAVTRDRV+5                                               03603000
SAVTRDPY EQU   SAVTRDRV+4                                               03604000
SAVTRDQB EQU   SAVTRDRV+1                                               03605000
SAVTRDKY EQU   SAVTRDRV                                                 03606000
SAVTNID  EQU   IEDNSVTD+280                                             03607000
SAVTDVAS EQU   IEDNSVTD+276                                             03608000
SAVTPLSZ EQU   IEDNSVTD+274                                             03609000
@NM00097 EQU   IEDNSVTD+273                                             03610000
SAVTSUBL EQU   IEDNSVTD+272                                             03611000
@NM00096 EQU   SAVTZELM+1                                               03612000
SAVTSUBM EQU   SAVTZELM                                                 03613000
SAVTMHDX EQU   IEDNSVTD+268                                             03614000
SAVTNAT1 EQU   IEDNSVTD+266                                             03615000
SAVTSH20 EQU   IEDNSVTD+264                                             03616000
SAVTLCBS EQU   IEDNSVTD+260                                             03617000
SAVTTNTX EQU   IEDNSVTD+252                                             03618000
SAVTSUBV EQU   IEDNSVTD+247                                             03619000
SAVTSUBA EQU   IEDNSVTD+246                                             03620000
SAVTSIBC EQU   IEDNSVTD+244                                             03621000
SAVTSCPT EQU   SAVTTCPU                                                 03622000
SAVTRQTG EQU   IEDNSVTD+236                                             03623000
SAVTRQCH EQU   IEDNSVTD+232                                             03624000
SAVTMAND EQU   IEDNSVTD+228                                             03625000
SAVTSPLN EQU   IEDNSVTD+224                                             03626000
SAVTNADL EQU   IEDNSVTD+222                                             03627000
SAVTNATL EQU   IEDNSVTD+220                                             03628000
SAVTMHTB EQU   IEDNSVTD+216                                             03629000
SAVTQRS  EQU   IEDNSVTD+208                                             03630000
SAVTRQIN EQU   IEDNSVTD+204                                             03631000
SAVTDFCO EQU   IEDNSVTD+200                                             03632000
SAVTSAO  EQU   IEDNSVTD+196                                             03633000
SAVTSARI EQU   IEDNSVTD+192                                             03634000
SAVTSAC  EQU   IEDNSVTD+188                                             03635000
SAVTSAI  EQU   IEDNSVTD+184                                             03636000
SAVTCSCI EQU   IEDNSVTD+180                                             03637000
SAVTSSRP EQU   IEDNSVTD+176                                             03638000
SAVTSSRQ EQU   IEDNSVTD+172                                             03639000
SAVTSCLU EQU   IEDNSVTD+168                                             03640000
SAVTXTRQ EQU   IEDNSVTD+164                                             03641000
@NM00095 EQU   IEDNSVTD+148                                             03642000
SAVTIPCQ EQU   IEDNSVTD+144                                             03643000
@NM00094 EQU   IEDNSVTD+136                                             03644000
@NM00093 EQU   IEDNSVTD+124                                             03645000
SAVTXFMO EQU   IEDNSVTD+120                                             03646000
@NM00092 EQU   IEDNSVTD+116                                             03647000
SAVTSSSR EQU   IEDNSVTD+112                                             03648000
SAVTSCPQ EQU   IEDNSVTD+108                                             03649000
SAVTLUSR EQU   IEDNSVTD+100                                             03650000
@NM00091 EQU   SAVTLUSQ+8                                               03651000
SAVTLUSP EQU   SAVTLUSQ+4                                               03652000
SAVTLUSB EQU   SAVTLUSQ                                                 03653000
@NM00090 EQU   IEDNSVTD+84                                              03654000
SAVTSAT  EQU   IEDNSVTD+80                                              03655000
SAVTNAT  EQU   IEDNSVTD+76                                              03656000
SAVTCLUP EQU   IEDNSVTD+72                                              03657000
SAVTPIUT EQU   IEDNSVTD+68                                              03658000
SAVTRNTA EQU   IEDNSVTD+64                                              03659000
SAVTDNIR EQU   IEDNSVTD+60                                              03660000
SAVTCNIR EQU   IEDNSVTD+56                                              03661000
SAVTFLDH EQU   IEDNSVTD+52                                              03662000
SAVTSRTN EQU   IEDNSVTD+48                                              03663000
SAVTSREQ EQU   IEDNSVTD+44                                              03664000
SAVTFAIL EQU   IEDNSVTD+42                                              03665000
SAVTSUSE EQU   IEDNSVTD+40                                              03666000
SAVTSIB  EQU   IEDNSVTD+36                                              03667000
SAVTPRTN EQU   IEDNSVTD+32                                              03668000
@NM00089 EQU   IEDNSVTD+28                                              03669000
SAVTWH20 EQU   IEDNSVTD+26                                              03670000
SAVTPWT  EQU   IEDNSVTD+24                                              03671000
SAVTPRTQ EQU   IEDNSVTD+20                                              03672000
SAVTPREQ EQU   IEDNSVTD+16                                              03673000
SAVTPH20 EQU   IEDNSVTD+14                                              03674000
SAVTPUSE EQU   IEDNSVTD+12                                              03675000
SAVTPLCB EQU   IEDNSVTD+8                                               03676000
SAVTPOOL EQU   IEDNSVTD+4                                               03677000
SAVTPRMT EQU   SAVTDIAF                                                 03678000
SAVTVIRT EQU   SAVTDIAF                                                 03679000
AVTCPBNO EQU   IEDQAVTD+1172                                            03680000
AVTHRESS EQU   IEDQAVTD+1171                                            03681000
@NM00088 EQU   IEDQAVTD+1170                                            03682000
@NM00087 EQU   IEDQAVTD+1169                                            03683000
@NM00086 EQU   IEDQAVTD+1168                                            03684000
@NM00085 EQU   IEDQAVTD+1165                                            03685000
@NM00084 EQU   IEDQAVTD+1164                                            03686000
AVTHRESE EQU   @NM00083                                                 03687000
AVTRADDR EQU   IEDQAVTD+1156                                            03688000
AVTNADDR EQU   IEDQAVTD+1152                                            03689000
AVTHRESN EQU   IEDQAVTD+1148                                            03690000
AVTVOLRN EQU   IEDQAVTD+1144                                            03691000
AVTTOTNN EQU   IEDQAVTD+1140                                            03692000
AVTTRCYN EQU   IEDQAVTD+1136                                            03693000
AVTRCTRN EQU   IEDQAVTD+1132                                            03694000
AVTNOVON EQU   IEDQAVTD+1128                                            03695000
AVTADEBN EQU   IEDQAVTD+1124                                            03696000
AVTVOLRR EQU   IEDQAVTD+1120                                            03697000
AVTTOTNR EQU   IEDQAVTD+1116                                            03698000
AVTTRCYR EQU   IEDQAVTD+1112                                            03699000
AVTRCTRR EQU   IEDQAVTD+1108                                            03700000
AVTNOVOR EQU   IEDQAVTD+1104                                            03701000
AVTADEBR EQU   IEDQAVTD+1100                                            03702000
AVTLODPT EQU   IEDQAVTD+1096                                            03703000
AVTIOBN  EQU   IEDQAVTD+1092                                            03704000
AVTIOBR  EQU   IEDQAVTD+1088                                            03705000
AVTCPBPT EQU   IEDQAVTD+1084                                            03706000
AVTFCPB  EQU   IEDQAVTD+1080                                            03707000
@NM00082 EQU   IEDQAVTD+1076                                            03708000
AVTINCPQ EQU   IEDQAVTD+1072                                            03709000
@NM00081 EQU   IEDQAVTD+1068                                            03710000
@NM00080 EQU   IEDQAVTD+1065                                            03711000
@NM00079 EQU   AVTBIT4                                                  03712000
@NM00078 EQU   AVTBIT4                                                  03713000
@NM00077 EQU   AVTBIT4                                                  03714000
@NM00076 EQU   AVTBIT4                                                  03715000
@NM00075 EQU   AVTBIT4                                                  03716000
@NM00074 EQU   AVTBIT4                                                  03717000
@NM00073 EQU   AVTBIT4                                                  03718000
AVTRUFTN EQU   AVTBIT4                                                  03719000
@NM00072 EQU   IEDQAVTD+1060                                            03720000
AVTNOBFQ EQU   IEDQAVTD+1056                                            03721000
@NM00071 EQU   IEDQAVTD+1052                                            03722000
AVTDKENQ EQU   IEDQAVTD+1048                                            03723000
@NM00070 EQU   IEDQAVTD+1044                                            03724000
AVTDKAPQ EQU   IEDQAVTD+1040                                            03725000
AVTCOPY  EQU   IEDQAVTD+1036                                            03726000
AVTIA    EQU   IEDQAVTD+1032                                            03727000
AVTFL    EQU   IEDQAVTD+1028                                            03728000
@NM00069 EQU   IEDQAVTD+1024                                            03729000
AVTNCPBQ EQU   IEDQAVTD+1020                                            03730000
AVTTOTNC EQU   IEDQAVTD+1016                                            03731000
AVTCMAX  EQU   IEDQAVTD+1012                                            03732000
AVTCMIN  EQU   IEDQAVTD+1008                                            03733000
AVTHM02  EQU   IEDQAVTD+1004                                            03734000
AVTOPCIN EQU   IEDQAVTD+1002                                            03735000
AVTDCTLN EQU   IEDQAVTD+1000                                            03736000
AVTOPMSK EQU   IEDQAVTD+996                                             03737000
AVTDDFT  EQU   IEDQAVTD+992                                             03738000
AVTSTEAL EQU   IEDQAVTD+988                                             03739000
AVTOPTN  EQU   IEDQAVTD+984                                             03740000
AVTDSKCT EQU   IEDQAVTD+982                                             03741000
AVTCKRST EQU   IEDQAVTD+981                                             03742000
AVTSTAN  EQU   AVTBIT3                                                  03743000
AVTSTACN EQU   AVTBIT3                                                  03744000
AVTSTAIN EQU   AVTBIT3                                                  03745000
AVTSTAYN EQU   AVTBIT3                                                  03746000
AVTOLTBN EQU   AVTBIT3                                                  03747000
AVTTSAB  EQU   AVTBIT3                                                  03748000
AVTRFULN EQU   AVTBIT3                                                  03749000
AVTRECVN EQU   AVTBIT3                                                  03750000
@NM00068 EQU   AVTBIT2                                                  03751000
@NM00067 EQU   AVTBIT2                                                  03752000
AVTOPEIN EQU   AVTBIT2                                                  03753000
AVTSTRTN EQU   AVTBIT2                                                  03754000
AVTTOPOL EQU   AVTBIT2                                                  03755000
AVTCOPYN EQU   AVTBIT2                                                  03756000
AVTREUSN EQU   AVTBIT2                                                  03757000
AVTEXTSC EQU   AVTBIT2                                                  03758000
AVTDISKN EQU   AVTBIT1                                                  03759000
AVTQUCKN EQU   AVTBIT1                                                  03760000
AVTCLOSN EQU   AVTBIT1                                                  03761000
AVTREADN EQU   AVTBIT1                                                  03762000
AVTDLAYN EQU   AVTBIT1                                                  03763000
AVTAQTAN EQU   AVTBIT1                                                  03764000
AVTTSON  EQU   AVTBIT1                                                  03765000
AVTAPLKN EQU   AVTBIT1                                                  03766000
AVTDUMBR EQU   IEDQAVTD+976                                             03767000
AVTDLQX  EQU   IEDQAVTD+974                                             03768000
AVTINTLV EQU   IEDQAVTD+972                                             03769000
AVTSMCNT EQU   IEDQAVTD+970                                             03770000
AVTAVFCT EQU   IEDQAVTD+968                                             03771000
AVTOPCON EQU   IEDQAVTD+966                                             03772000
AVTOPCNT EQU   IEDQAVTD+964                                             03773000
AVTLNCNT EQU   IEDQAVTD+962                                             03774000
AVTHA16  EQU   IEDQAVTD+958                                             03775000
AVTHA7   EQU   IEDQAVTD+956                                             03776000
AVTHA4   EQU   IEDQAVTD+954                                             03777000
AVTHA3   EQU   IEDQAVTD+952                                             03778000
AVTHA2   EQU   IEDQAVTD+950                                             03779000
AVTGETMS EQU   IEDQAVTD+949                                             03780000
@NM00066 EQU   IEDQAVTD+948                                             03781000
AVTGETMD EQU   IEDQAVTD+944                                             03782000
AVTGETMN EQU   IEDQAVTD+940                                             03783000
AVTCWTOT EQU   IEDQAVTD+936                                             03784000
AVTCWINT EQU   IEDQAVTD+884                                             03785000
AVTDTRAP EQU   IEDQAVTD+880                                             03786000
@NM00065 EQU   IEDQAVTD+878                                             03787000
@NM00064 EQU   AVTIOTR                                                  03788000
AVTIOTRH EQU   AVTIOTR                                                  03789000
AVTIOTRE EQU   AVTIOTR                                                  03790000
@NM00063 EQU   AVTSUBT                                                  03791000
AVTSUBPT EQU   AVTSUBT                                                  03792000
AVTSUBON EQU   AVTSUBT                                                  03793000
AVTAFE30 EQU   IEDQAVTD+872                                             03794000
AVTAFE20 EQU   IEDQAVTD+868                                             03795000
AVTAFE10 EQU   IEDQAVTD+864                                             03796000
AVTCWEC2 EQU   IEDQAVTD+860                                             03797000
AVTCWPM2 EQU   IEDQAVTD+856                                             03798000
AVTCWTS2 EQU   IEDQAVTD+855                                             03799000
AVTCWTS1 EQU   IEDQAVTD+854                                             03800000
AVTCWCLD EQU   AVTCWFL2                                                 03801000
AVTCWRAP EQU   AVTCWFL2                                                 03802000
@NM00062 EQU   AVTCWFL2                                                 03803000
@NM00061 EQU   AVTCWFL2                                                 03804000
@NM00060 EQU   AVTCWFL2                                                 03805000
@NM00059 EQU   AVTCWFL2                                                 03806000
@NM00058 EQU   AVTCWFL2                                                 03807000
AVTCWACT EQU   AVTCWFL2                                                 03808000
@NM00057 EQU   AVTCWFL1                                                 03809000
@NM00056 EQU   AVTCWFL1                                                 03810000
@NM00055 EQU   AVTCWFL1                                                 03811000
@NM00054 EQU   AVTCWFL1                                                 03812000
@NM00053 EQU   AVTCWFL1                                                 03813000
@NM00052 EQU   AVTCWFL1                                                 03814000
@NM00051 EQU   AVTCWFL1                                                 03815000
AVTCOMWN EQU   AVTCWFL1                                                 03816000
AVTCWEC1 EQU   IEDQAVTD+848                                             03817000
AVTCWPM1 EQU   IEDQAVTD+844                                             03818000
AVTCAREA EQU   IEDQAVTD+840                                             03819000
AVTFZERO EQU   IEDQAVTD+836                                             03820000
AVTCADDR EQU   IEDQAVTD+832                                             03821000
AVTCOREC EQU   IEDQAVTD+828                                             03822000
@NM00050 EQU   IEDQAVTD+820                                             03823000
AVTCPBCB EQU   IEDQAVTD+816                                             03824000
@NM00049 EQU   IEDQAVTD+808                                             03825000
AVTDSIOB EQU   IEDQAVTD+804                                             03826000
@NM00048 EQU   IEDQAVTD+796                                             03827000
AVTCPRMB EQU   IEDQAVTD+792                                             03828000
@NM00047 EQU   IEDQAVTD+784                                             03829000
AVTCLOSB EQU   IEDQAVTD+780                                             03830000
@NM00046 EQU   IEDQAVTD+772                                             03831000
AVTACTIB EQU   IEDQAVTD+768                                             03832000
@NM00045 EQU   IEDQAVTD+764                                             03833000
AVTOLTEB EQU   IEDQAVTD+760                                             03834000
AVTOLTCH EQU   AVTOLTQB+1                                               03835000
AVTOLTVT EQU   AVTOLTQB                                                 03836000
@NM00044 EQU   AVTOPCQB+8                                               03837000
@NM00043 EQU   AVTOPCEC+1                                               03838000
@NM00042 EQU   AVTOPCCC                                                 03839000
AVTOPCPO EQU   AVTOPCCC                                                 03840000
AVTOPCWA EQU   AVTOPCCC                                                 03841000
AVTOPCCH EQU   AVTOPCOB+1                                               03842000
AVTOPCVT EQU   AVTOPCOB                                                 03843000
@NM00041 EQU   AVTCKPQB+9                                               03844000
AVTCKPTS EQU   AVTCKPQB+8                                               03845000
@NM00040 EQU   AVTCKPEC+1                                               03846000
@NM00039 EQU   AVTCKPCC                                                 03847000
AVTCKPPO EQU   AVTCKPCC                                                 03848000
AVTCKPWA EQU   AVTCKPCC                                                 03849000
AVTCKPCH EQU   AVTCKPTB+1                                               03850000
AVTCKPVT EQU   AVTCKPTB                                                 03851000
@NM00038 EQU   IEDQAVTD+724                                             03852000
@NM00037 EQU   IEDQAVTD+712                                             03853000
AVTBFREB EQU   IEDQAVTD+708                                             03854000
AVTTIMQ  EQU   IEDQAVTD+704                                             03855000
@NM00036 EQU   IEDQAVTD+700                                             03856000
AVTIMQPS EQU   IEDQAVTD+696                                             03857000
AVTINOUT EQU   IEDQAVTD+694                                             03858000
AVTREFTM EQU   IEDQAVTD+692                                             03859000
@NM00035 EQU   IEDQAVTD+680                                             03860000
AVTDELYB EQU   IEDQAVTD+676                                             03861000
AVTOCQPT EQU   IEDQAVTD+672                                             03862000
AVTTSOPT EQU   IEDQAVTD+668                                             03863000
AVTSUPPT EQU   IEDQAVTD+664                                             03864000
AVTCBQCB EQU   IEDQAVTD+660                                             03865000
AVTMSGS  EQU   IEDQAVTD+657                                             03866000
@NM00034 EQU   AVTSYSER                                                 03867000
@NM00033 EQU   AVTSYSER                                                 03868000
@NM00032 EQU   AVTSYSER                                                 03869000
@NM00031 EQU   AVTSYSER                                                 03870000
@NM00030 EQU   AVTSYSER                                                 03871000
@NM00029 EQU   AVTSYSER                                                 03872000
AVTCMAXN EQU   AVTSYSER                                                 03873000
AVTCMINN EQU   AVTSYSER                                                 03874000
AVT2260L EQU   IEDQAVTD+652                                             03875000
AVTABEPL EQU   AVTADBUF                                                 03876000
AVTHFF   EQU   AVTCLRHI+2                                               03877000
@NM00028 EQU   AVTCLRHI                                                 03878000
AVTCCLNK EQU   AVTCRELE+5                                               03879000
AVTCCPRI EQU   AVTCRELE+4                                               03880000
AVTCCQCB EQU   AVTCCELE+1                                               03881000
AVTCCKEY EQU   AVTCCELE                                                 03882000
AVTDELAD EQU   IEDQAVTD+632                                             03883000
AVTDELEM EQU   IEDQAVTD+628                                             03884000
AVTBSX   EQU   AVTCKLNK                                                 03885000
AVTOPETR EQU   AVTHG01                                                  03886000
@NM00027 EQU   AVTCKBYT                                                 03887000
AVTCKONQ EQU   AVTCKBYT                                                 03888000
@NM00026 EQU   AVTCKBYT                                                 03889000
@NM00025 EQU   AVTCKBYT                                                 03890000
@NM00024 EQU   AVTCKBYT                                                 03891000
@NM00023 EQU   AVTCKBYT                                                 03892000
@NM00022 EQU   AVTCKBYT                                                 03893000
@NM00021 EQU   AVTCKBYT                                                 03894000
AVTOPERT EQU   IEDQAVTD+618                                             03895000
AVTOPXCL EQU   IEDQAVTD+616                                             03896000
AVTOPERL EQU   IEDQAVTD+615                                             03897000
@NM00020 EQU   IEDQAVTD+614                                             03898000
AVTCKTIM EQU   IEDQAVTD+612                                             03899000
AVTCKELV EQU   IEDQAVTD+610                                             03900000
AVTCPRCD EQU   IEDQAVTD+609                                             03901000
AVTWARMN EQU   AVTCKELF                                                 03902000
AVTCRTLN EQU   AVTCKELF                                                 03903000
AVTCPIPN EQU   AVTCKELF                                                 03904000
AVTCCLCN EQU   AVTCKELF                                                 03905000
AVTCINCN EQU   AVTCKELF                                                 03906000
@NM00019 EQU   AVTCKELF                                                 03907000
AVTCMCPN EQU   AVTCKELF                                                 03908000
AVTCRDYN EQU   AVTCKELF                                                 03909000
AVTCKQAD EQU   IEDQAVTD+605                                             03910000
AVTSCBSZ EQU   IEDQAVTD+604                                             03911000
@NM00018 EQU   IEDQAVTD+600                                             03912000
AVTCKELE EQU   IEDQAVTD+596                                             03913000
@NM00017 EQU   AVTCKPEL+8                                               03914000
AVTCKRLK EQU   AVTCKPEL+5                                               03915000
AVTCKRPR EQU   AVTCKPEL+4                                               03916000
AVTCKRMQ EQU   AVTCKRMV+1                                               03917000
AVTCKRKY EQU   AVTCKRMV                                                 03918000
AVTHK    EQU   IEDQAVTD+576                                             03919000
AVTHI    EQU   IEDQAVTD+572                                             03920000
AVTIOT   EQU   IEDQAVTD+568                                             03921000
AVTNX    EQU   IEDQAVTD+564                                             03922000
AVTTONE  EQU   IEDQAVTD+560                                             03923000
AVTA3TL  EQU   IEDQAVTD+556                                             03924000
AVTDMECB EQU   IEDQAVTD+552                                             03925000
AVTABEND EQU   IEDQAVTD+546                                             03926000
AVTPLCBN EQU   IEDQAVTD+544                                             03927000
@NM00016 EQU   AVTSAVTP+1                                               03928000
@NM00015 EQU   AVTSAVTF                                                 03929000
AVTSNA   EQU   AVTSAVTF                                                 03930000
AVTONSNA EQU   AVTSAVTF                                                 03931000
AVTVTMCP EQU   AVTSAVTF                                                 03932000
@NM00014 EQU   IEDQAVTD+536                                             03933000
AVTCMBSS EQU   IEDQAVTD+532                                             03934000
AVTRCV   EQU   IEDQAVTD+528                                             03935000
AVTSEND  EQU   IEDQAVTD+524                                             03936000
AVTCSCH  EQU   IEDQAVTD+520                                             03937000
AVTQ1    EQU   IEDQAVTD+516                                             03938000
AVTE7    EQU   IEDQAVTD+512                                             03939000
AVTHB    EQU   IEDQAVTD+508                                             03940000
AVTR1    EQU   IEDQAVTD+504                                             03941000
AVTBZ    EQU   IEDQAVTD+500                                             03942000
AVTEZ    EQU   IEDQAVTD+496                                             03943000
AVTEC    EQU   IEDQAVTD+492                                             03944000
AVTEW    EQU   IEDQAVTD+488                                             03945000
AVTNDIAL EQU   AVTSCOPT                                                 03946000
AVTN2741 EQU   AVTSCOPT                                                 03947000
AVTCONCO EQU   AVTSCOPT                                                 03948000
AVTCONC  EQU   AVTSCOPT                                                 03949000
AVTCMBUF EQU   AVTSCOPT                                                 03950000
AVTAPDMP EQU   AVTSCOPT                                                 03951000
@NM00013 EQU   AVTSCOPT                                                 03952000
AVTHA    EQU   AVTDISP                                                  03953000
AVTEA    EQU   IEDQAVTD+476                                             03954000
AVTAX    EQU   IEDQAVTD+472                                             03955000
AVTA3    EQU   IEDQAVTD+468                                             03956000
AVTGD    EQU   IEDQAVTD+464                                             03957000
AVTAL    EQU   IEDQAVTD+460                                             03958000
AVTOLTST EQU   AVTHG02                                                  03959000
AVTE8    EQU   IEDQAVTD+452                                             03960000
AVTUI    EQU   IEDQAVTD+448                                             03961000
AVTCOMPT EQU   IEDQAVTD+444                                             03962000
AVTCRSRF EQU   IEDQAVTD+440                                             03963000
@NM00012 EQU   IEDQAVTD+436                                             03964000
AVTKA02  EQU   IEDQAVTD+432                                             03965000
AVTOPTPT EQU   IEDQAVTD+428                                             03966000
AVTPCBPT EQU   IEDQAVTD+424                                             03967000
AVTOSECB EQU   IEDQAVTD+420                                             03968000
AVTOPECA EQU   IEDQAVTD+416                                             03969000
AVTOLECA EQU   IEDQAVTD+412                                             03970000
AVTCKECA EQU   IEDQAVTD+408                                             03971000
AVTCWECA EQU   IEDQAVTD+404                                             03972000
AVTCWTCB EQU   IEDQAVTD+400                                             03973000
AVTOLTCB EQU   IEDQAVTD+396                                             03974000
AVTOCTCB EQU   IEDQAVTD+392                                             03975000
AVTCKTCB EQU   IEDQAVTD+388                                             03976000
AVTAS    EQU   IEDQAVTD+384                                             03977000
AVTNOLBF EQU   IEDQAVTD+382                                             03978000
AVTNCKPR EQU   IEDQAVTD+381                                             03979000
AVTCIB   EQU   IEDQAVTD+380                                             03980000
AVTSPLPT EQU   IEDQAVTD+376                                             03981000
AVTMVBFR EQU   IEDQAVTD+372                                             03982000
AVTSBTA  EQU   IEDQAVTD+368                                             03983000
AVTRARTN EQU   IEDQAVTD+364                                             03984000
AVTBSCAN EQU   IEDQAVTD+360                                             03985000
AVTRDYA  EQU   IEDQAVTD+356                                             03986000
AVTDISTR EQU   IEDQAVTD+348                                             03987000
AVTPARM3 EQU   IEDQAVTD+344                                             03988000
@NM00011 EQU   AVTPKF                                                   03989000
@NM00010 EQU   AVTPKF                                                   03990000
@NM00009 EQU   AVTPKF                                                   03991000
AVTFTCHF EQU   AVTPKF                                                   03992000
@NM00008 EQU   AVTPKF                                                   03993000
@NM00007 EQU   AVTPKF                                                   03994000
@NM00006 EQU   AVTPKF                                                   03995000
@NM00005 EQU   AVTPKF                                                   03996000
AVTPARM  EQU   IEDQAVTD+336                                             03997000
AVTEXS2A EQU   IEDQAVTD+330                                             03998000
AVTEXA2S EQU   IEDQAVTD+324                                             03999000
AVTOCGET EQU   IEDQAVTD+320                                             04000000
AVTCKAVT EQU   @NM00003+1                                               04001000
@NM00004 EQU   AVTCKFLG                                                 04002000
AVTCKHLT EQU   AVTCKFLG                                                 04003000
AVTCKREQ EQU   AVTCKFLG                                                 04004000
AVTCKENV EQU   AVTCKFLG                                                 04005000
AVTCKNAC EQU   AVTCKFLG                                                 04006000
AVTCKTAC EQU   AVTCKFLG                                                 04007000
@NM00002 EQU   IEDQAVTD+312                                             04008000
AVTREADD EQU   IEDQAVTD+308                                             04009000
AVTREADY EQU   IEDQAVTD+304                                             04010000
AVTRACE  EQU   IEDQAVTD+300                                             04011000
AVTTCB   EQU   IEDQAVTD+296                                             04012000
AVTPASWD EQU   IEDQAVTD+288                                             04013000
AVTCTLCH EQU   IEDQAVTD+280                                             04014000
AVTDOUBL EQU   IEDQAVTD+272                                             04015000
AVTDOUBX EQU   IEDQAVTD+264                                             04016000
AVTDPARM EQU   IEDQAVTD+260                                             04017000
AVTCSTCS EQU   IEDQAVTD+256                                             04018000
AVTDLQ   EQU   AVTSAVEX+32                                              04019000
@NM00001 EQU   AVTSAVEX                                                 04020000
AVTSAVE4 EQU   IEDQAVTD+144                                             04021000
AVTSAVE3 EQU   IEDQAVTD+72                                              04022000
AVTSAVE2 EQU   IEDQAVTD                                                 04023000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      04024000
@RC00579 EQU   @RC00577                                                 04025000
@RC00586 EQU   @RC00584                                                 04026000
@RC00592 EQU   @RC00584                                                 04027000
@RC00612 EQU   @RC00610                                                 04028000
@RC00620 EQU   @RC00610                                                 04029000
@RF00630 EQU   @RC00610                                                 04030000
@RC00729 EQU   @RC00727                                                 04031000
@RC00732 EQU   @RC00727                                                 04032000
@RF00735 EQU   @RC00727                                                 04033000
@RF00758 EQU   @EL00009                                                 04034000
@RF00787 EQU   @RC00785                                                 04035000
@RF00792 EQU   @RC00785                                                 04036000
@RF00805 EQU   @RC00802                                                 04037000
@RC00837 EQU   @RC00835                                                 04038000
@RC00843 EQU   @RC00835                                                 04039000
@RF00882 EQU   @RC00874                                                 04040000
@RC00877 EQU   @RC00874                                                 04041000
@RC00902 EQU   @RC00898                                                 04042000
@RC00919 EQU   @RC00917                                                 04043000
@RF00942 EQU   @RC00939                                                 04044000
@RF00959 EQU   @RC00955                                                 04045000
@RF00951 EQU   @EL00015                                                 04046000
@RF00982 EQU   @EL00015                                                 04047000
@RC01023 EQU   @RC01021                                                 04048000
@RC01038 EQU   @RC01036                                                 04049000
@RC01082 EQU   @RC01080                                                 04050000
@RF01096 EQU   @RC01094                                                 04051000
@RC01098 EQU   @RC01094                                                 04052000
@RF01104 EQU   @RC01094                                                 04053000
@RC01132 EQU   @RC01128                                                 04054000
@PB00019 EQU   @EL00001                                                 04055000
@RC00594 EQU   @RC00592                                                 04056000
@RF00623 EQU   @RC00620                                                 04057000
@PB00018 EQU   @PB00019                                                 04058000
@RF00596 EQU   @RC00594                                                 04059000
@PB00017 EQU   @PB00018                                                 04060000
@PB00016 EQU   @PB00017                                                 04061000
@PB00015 EQU   @PB00016                                                 04062000
@PB00014 EQU   @PB00015                                                 04063000
@PB00013 EQU   @PB00014                                                 04064000
@PB00012 EQU   @PB00013                                                 04065000
@PB00011 EQU   @PB00012                                                 04066000
@PB00010 EQU   @PB00011                                                 04067000
@PB00009 EQU   @PB00010                                                 04068000
@PB00008 EQU   @PB00009                                                 04069000
@PB00007 EQU   @PB00008                                                 04070000
@PB00006 EQU   @PB00007                                                 04071000
@PB00005 EQU   @PB00006                                                 04072000
@PB00004 EQU   @PB00005                                                 04073000
@PB00003 EQU   @PB00004                                                 04074000
@PB00002 EQU   @PB00003                                                 04075000
@ENDDATA EQU   *                                                        04076000
         END   IEDRQIN,(C'PLS2224',0701,77014)                          04077000
