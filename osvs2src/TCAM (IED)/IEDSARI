         TITLE 'IEDSARI: READ, INVITE AND DIAL CONTACT COMMAND PROCESSO*00001000
               OR       '                                               00002000
IEDSARI  CSECT ,                                                   0001 00003000
@PROLOG  DS    0H                                                  0002 00004000
*                                           /*                          00005000
         DC    A(0)      QCB                                            00006000
         DC    A(0)                                                     00007000
         DC    AL1(6),AL3(*-1)          STCB                            00008000
         USING *,RBASE                                                  00009000
         LR    RBASE,RLINK                                              00010000
IEDSARI IEDHJN START,HJN                                                00011000
*   RLCB=RPARM;                     /* LCB ADDRRESSABILITY           */ 00012000
         LR    RLCB,RPARM                                          0530 00013000
*   RPARM=LCBTTCIN;                 /* CALL TNT CODE TO              */ 00014000
         LH    RPARM,LCBTTCIN(,IEDQLPTR)                           0531 00015000
         N     RPARM,@CF02305                                      0531 00016000
*   CALL IEDQTNT;                   /* DEVELOPE THE                  */ 00017000
         L     @15,AVTRNMPT(,IEDQAPTR)                             0532 00018000
         BALR  @14,@15                                             0532 00019000
*   RTRM=RPARM-LENGTH(IEDNTRM);     /* TRM ADDRESS           @YM04622*/ 00020000
         LR    RTRM,RPARM                                          0533 00021000
         SL    RTRM,@CF02008                                       0533 00022000
*   IEDQQPTR=TRMDESTQ;              /* QCB ADDRESS           @OZ29885*/ 00023000
         SLR   @10,@10                                             0534 00024000
         ICM   @10,7,TRMDESTQ(RTRM)                                0534 00025000
         ST    @10,IEDQQPTR                                        0534 00026000
*   SWITCH1=SWITCH1&&SWITCH1;       /* INITILIZE CONTROL SWITCH      */ 00027000
         XC    SWITCH1(1),SWITCH1                                  0535 00028000
*   HDRLEN=LENGTH(IEDRH)+LENGTH(PIU0PAD)+LENGTH(IEDBDU);/* BUILD A 0536 00029000
*                                      CONSTANT, EQUAL TO THE MINIMUM   00030000
*                                      TTHDCF WHEN NO DATA IS      0536 00031000
*                                      RECEIVED. THIS CONSTANT WILL     00032000
*                                      BE USED AS A COMPARAND TO   0536 00033000
*                                      CHECK FOR PIU'S RECEIVED    0536 00034000
*                                      WITHOUT DATA                  */ 00035000
         MVI   HDRLEN,X'0A'                                        0536 00036000
         EJECT                                                          00037000
*                                                                  0537 00038000
*   /*****************************************************************/ 00039000
*   /*                                                               */ 00040000
*   /* DELINK ELEMENTS FROM WAIT CHAIN, SET SESSION AND REPEAT THIS  */ 00041000
*   /* PROCESS UNTIL WAIT CHAIN IS EMPTY OR THE EXIT SWITCH HAS BEEN */ 00042000
*   /* SET                                                           */ 00043000
*   /*                                                               */ 00044000
*   /*****************************************************************/ 00045000
*                                                                  0537 00046000
*   DO UNTIL(EXITSW=ON|             /* EXECUTE THE MAINLINE UNTIL    */ 00047000
*         LCBWAITC=0);              /* END OF MESSAGE IS REACHED OR     00048000
*                                      UNTIL THE WAIT CHAIN IS EMPTY */ 00049000
@DL00537 DS    0H                                                  0538 00050000
*     RETCODE=INITVAL;              /* INITILIZE THE RETURN CODE     */ 00051000
         MVI   RETCODE,X'FF'                                       0538 00052000
*/*                                                                  */ 00053000
*                                                                  0539 00054000
*     RPRF=LCBWAITC;                /* SET BUFFER ADDRESS TO CURRENT    00055000
*                                      INPUT                         */ 00056000
         L     RPRF,LCBWAITC-1(,IEDQLPTR)                          0539 00057000
         LA    RPRF,0(,RPRF)                                       0539 00058000
*     LCBWAITC=PRFLINK;             /* ADJUST WAIT CHAIN POINTER TO     00059000
*                                      NEXT ELEMENT ON CHAIN         */ 00060000
         MVC   LCBWAITC(3,IEDQLPTR),PRFLINK(IEDQPPTR)              0540 00061000
*     PIUPTR=ADDR(PRFPIUO)+PRFPIUO; /* SET PIU PTR TO ADDR OF CURRENT   00062000
*                                      PIU                           */ 00063000
         LA    @09,PRFPIUO(,IEDQPPTR)                              0541 00064000
         SLR   @05,@05                                             0541 00065000
         IC    @05,PRFPIUO(,IEDQPPTR)                              0541 00066000
         ALR   @09,@05                                             0541 00067000
         ST    @09,PIUPTR                                          0541 00068000
*     BDUPTR=ADDR(PIU0RU);          /* SET BDU ADDRESSABILITY        */ 00069000
         LA    BDUPTR,PIU0RU(,@09)                                 0542 00070000
*/*                                                                  */ 00071000
*                                                                  0543 00072000
*     IF BDUCMND=CD0INV THEN        /* IF THIS IS AN INVITE          */ 00073000
         CLI   BDUCMND(BDUPTR),X'05'                               0543 00074000
         BNE   @RF00543                                            0543 00075000
*       DO;                                                        0544 00076000
*         TRMASNXI=OFF;             /* RESET STOPLINE,I INDICATOR    */ 00077000
*         TRMINOUT=OFF;             /* TURN OFF INVITE OUTSTANDING   */ 00078000
         NI    TRMASNXI(RTRM),B'11101110'                          0546 00079000
*         IF TRMTYPE^=TRMCLUST THEN /* NOT A CLUSTER         @YM06492*/ 00080000
         CLI   TRMTYPE(RTRM),X'40'                                 0547 00081000
         BE    @RF00547                                            0547 00082000
*           DO;                     /* YES AND               @YM06492*/ 00083000
*             IF BDUERROR=OFF|      /* IF NOT ERROR OR NOT   @YM05633*/ 00084000
*                 (BDURESP^=RSPE09& /* SESSION NOT STARTED           */ 00085000
*                 BDURESP^=RSPE19&  /* DIAL DATA INCONSISTENCY       */ 00086000
*                 BDURESP^=RSPE1E) THEN/* COMMAND REJECTED   @YM05633*/ 00087000
         TM    BDUERROR(BDUPTR),B'10000000'                        0549 00088000
         BZ    @RT00549                                            0549 00089000
         TM    BDURESP(BDUPTR),B'00001001'                         0549 00090000
         BNO   @GL00003                                            0549 00091000
         TM    BDURESP(BDUPTR),B'00010110'                         0549 00092000
         BZ    @RF00549                                            0549 00093000
@GL00003 TM    BDURESP(BDUPTR),B'00011001'                         0549 00094000
         BNO   @GL00002                                            0549 00095000
         TM    BDURESP(BDUPTR),B'00000110'                         0549 00096000
         BZ    @RF00549                                            0549 00097000
@GL00002 TM    BDURESP(BDUPTR),B'00011110'                         0549 00098000
         BNO   @RT00549                                            0549 00099000
         TM    BDURESP(BDUPTR),B'00000001'                         0549 00100000
         BZ    @RF00549                                            0549 00101000
@RT00549 DS    0H                                                  0550 00102000
*               TRMSESSN=ON;        /* THEN START A SESSION          */ 00103000
         OI    TRMSESSN(RTRM),B'01000000'                          0550 00104000
*           END;                                                   0551 00105000
*         ELSE                                                     0552 00106000
*           ;                       /* CLUSTER DON'T SET     @YM06492   00107000
*                                      SESSION               @YM06492*/ 00108000
@RF00547 DS    0H                                                  0553 00109000
*       END;                                                       0553 00110000
*     ELSE                                                         0554 00111000
*       IF BDUCMND=CD0READ THEN     /* IF IT IS A READ               */ 00112000
         B     @RC00543                                            0554 00113000
@RF00543 CLI   BDUCMND(BDUPTR),X'01'                               0554 00114000
         BNE   @RF00554                                            0554 00115000
*         DO;                                                      0555 00116000
*           TRMASNXI=OFF;           /* RESET STOPLINE,I INDICATOR    */ 00117000
*           TRMRDOUT=OFF;           /* INDICATE READ IS NOT OUT      */ 00118000
         NI    TRMASNXI(RTRM),B'11101101'                          0557 00119000
*         END;                                                     0558 00120000
*                                                                  0558 00121000
*/*                                                                  */ 00122000
*/* RDINPROC SUBROUTINE WILL BE CALLED TO DO SELECTIVE READ,         */ 00123000
*/* INVITE AND CONTACT PROCESSING                                    */ 00124000
*/*                                                                  */ 00125000
*                                                                  0559 00126000
*     CALL RDINPROC;                                               0559 00127000
@RF00554 DS    0H                                                  0559 00128000
@RC00543 BAL   @14,RDINPROC                                        0559 00129000
*   END;                                                           0560 00130000
@DE00537 TM    EXITSW,B'10000000'                                  0560 00131000
         BO    @DC00537                                            0560 00132000
         L     @10,LCBWAITC-1(,IEDQLPTR)                           0560 00133000
         LA    @10,0(,@10)                                         0560 00134000
         LTR   @10,@10                                             0560 00135000
         BNZ   @DL00537                                            0560 00136000
@DC00537 DS    0H                                                  0561 00137000
*   GOTO DSPDISP;                   /* PASS CONTROL TO TCAM          */ 00138000
*                                                                  0561 00139000
         LA    @10,DSPDISP(,RDISP)                                 0561 00140000
         BR    @10                                                 0561 00141000
*   /*****************************************************************/ 00142000
*   /*                                                               */ 00143000
*   /* END OF MAINLINE                                               */ 00144000
*   /*                                                               */ 00145000
*   /*****************************************************************/ 00146000
*                                                                  0562 00147000
         EJECT                                                          00148000
*                                                                  0562 00149000
*   /*****************************************************************/ 00150000
*   /*                                                               */ 00151000
*   /* BSCID: IF THE BSC ID IS VALID, CALL DEVASSOC TO ASSIGN TCAM'S */ 00152000
*   /* CONTROL BLOCKS TO THE IDENTIFIED TERMINAL. ELSE, FORCE THE    */ 00153000
*   /* CALLING TERMINAL TO BE DISCONNECTED                           */ 00154000
*   /*                                                               */ 00155000
*   /*****************************************************************/ 00156000
*                                                                  0562 00157000
*BSCID:                                                            0562 00158000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0562 00159000
*                                                                  0562 00160000
@EL00001 DS    0H                                                  0562 00161000
@EF00001 DS    0H                                                  0562 00162000
@ER00001 BR    @14                                                 0562 00163000
BSCID    ST    @14,@SA00002                                        0562 00164000
*/*                                                                  */ 00165000
*                                                                  0563 00166000
*   IF TTHDCF=HDRLEN THEN           /* IF NO DATA IN BUF     @XM05688*/ 00167000
         L     @09,PIUPTR                                          0563 00168000
         SLR   @05,@05                                             0563 00169000
         ICM   @05,3,TTHDCF(@09)                                   0563 00170000
         SLR   @09,@09                                             0563 00171000
         IC    @09,HDRLEN                                          0563 00172000
         CR    @05,@09                                             0563 00173000
         BNE   @RF00563                                            0563 00174000
*     LCBNEGRP=ON;                  /* SET NEG RESPONSE AND GO     0564 00175000
*                                                            @XM05688*/ 00176000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0564 00177000
*   ELSE                            /*                       @XM05688*/ 00178000
*     DO;                                                          0565 00179000
         B     @RC00563                                            0565 00180000
@RF00563 DS    0H                                                  0566 00181000
*       IF SAVTNID=0 THEN           /* IF IEDNID IS NOT IN SYSTEM    */ 00182000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0566 00183000
         L     @09,SAVTNID(,@09)                                   0566 00184000
         LTR   @09,@09                                             0566 00185000
         BNZ   @RF00566                                            0566 00186000
*         LCBNEGRP=ON;              /* FORCE A DISCCONECT            */ 00187000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0567 00188000
*/*                                                                  */ 00189000
*                                                                  0568 00190000
*       ELSE                                                       0568 00191000
*         DO;                       /* IEDNID WILL BE CALLED TO CHECK   00192000
*                                      THIS ID FOR VALIDITY          */ 00193000
         B     @RC00566                                            0568 00194000
@RF00566 DS    0H                                                  0569 00195000
*           RPARM=RPRF;             /* PARM PASSED IS THE PIU        */ 00196000
         LR    RPARM,RPRF                                          0569 00197000
*           RFY                                                    0570 00198000
*            (RLINK) RSTD;                                         0570 00199000
*           CALL IEDNID;            /* CHECK ID VALIDITY             */ 00200000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0571 00201000
         L     @15,SAVTNID(,@09)                                   0571 00202000
         BALR  @14,@15                                             0571 00203000
*           IF RLINK=0 THEN         /* IF RLINK=0 THE ID WAS INVALID */ 00204000
         LTR   RLINK,RLINK                                         0572 00205000
         BNZ   @RF00572                                            0572 00206000
*             LCBNEGRP=ON;          /* REQUEST A DISCONNECT          */ 00207000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0573 00208000
*/*                                                                  */ 00209000
*                                                                  0574 00210000
*           ELSE                    /* RLINK WAS NOT ZERO, SO ID IS     00211000
*                                      GOOD AND RLINK CONTAINS THE...*/ 00212000
*             DO;                   /* ...TTCIN OF THE LOGICAL     0574 00213000
*                                      TERMINAL                      */ 00214000
         B     @RC00572                                            0574 00215000
@RF00572 DS    0H                                                  0575 00216000
*               IF RLINK^=TTHOAF THEN/* IS THE RESPONDING TERMINAL 0575 00217000
*                                      SAME AS CTERM?                */ 00218000
         L     @14,PIUPTR                                          0575 00219000
         SLR   @09,@09                                             0575 00220000
         ICM   @09,3,TTHOAF(@14)                                   0575 00221000
         CR    RLINK,@09                                           0575 00222000
         BE    @RF00575                                            0575 00223000
*                 DO;               /* NO, THE LOGICALLY CONNECTED 0576 00224000
*                                      TERMINAL IS NOT THE CTERM     */ 00225000
*                   RUDATA(1:2)=RLINK;/* SAVE TTCIN OF RESPONDING  0577 00226000
*                                      TERM IN PIU                   */ 00227000
         LA    @14,PIU0RU(,@14)                                    0577 00228000
         STCM  RLINK,3,RUDATA+6(@14)                               0577 00229000
*                   RFY                                            0578 00230000
*                    (RLINK) UNRSTD;                               0578 00231000
*                   CALL DEVASSOC;  /* THIS ROUTINE WILL LINK TO   0579 00232000
*                                      IEDDVAS WHICH DOES TCAM     0579 00233000
*                                      CONTROL BLOCK ASSOCIATION     */ 00234000
         BAL   @14,DEVASSOC                                        0579 00235000
*                 END;                                             0580 00236000
*             END;                                                 0581 00237000
@RF00575 DS    0H                                                  0582 00238000
*         END;                                                     0582 00239000
@RC00572 DS    0H                                                  0583 00240000
*       RPARM=RPRF;                                                0583 00241000
@RC00566 LR    RPARM,RPRF                                          0583 00242000
*       CALL FREEBFR;                                              0584 00243000
         BAL   @14,FREEBFR                                         0584 00244000
*       CALL POSTPLCB;              /* WITH 'E7' PRIORITY TO IEDQBD  */ 00245000
         BAL   @14,POSTPLCB                                        0585 00246000
*       RETCODE=NOPOST;             /* INDICATE NOT GOING TO MH      */ 00247000
         MVI   RETCODE,X'00'                                       0586 00248000
*     END;                          /*                       @XM05688*/ 00249000
*/*                                                                  */ 00250000
*                                                                  0588 00251000
*   END BSCID;                                                     0588 00252000
@EL00002 DS    0H                                                  0588 00253000
@EF00002 DS    0H                                                  0588 00254000
@ER00002 L     @14,@SA00002                                        0588 00255000
         BR    @14                                                 0588 00256000
*                                                                  0589 00257000
*   /*****************************************************************/ 00258000
*   /*                                                               */ 00259000
*   /* CONTACT: PROCESS NORMAL AND ERROR DIAL CONTACT RESPONSES      */ 00260000
*   /*                                                               */ 00261000
*   /*****************************************************************/ 00262000
*                                                                  0589 00263000
*CONTACT:                                                          0589 00264000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0589 00265000
*                                                                  0589 00266000
CONTACT  ST    @14,@SA00003                                        0589 00267000
*/*                                                                  */ 00268000
*/*IF THE CONTACT DID NOT HAVE AN ERROR                              */ 00269000
*/*                                                                  */ 00270000
*                                                                  0590 00271000
*   IF BDUERROR=OFF THEN                                           0590 00272000
         TM    BDUERROR(BDUPTR),B'10000000'                        0590 00273000
         BNZ   @RF00590                                            0590 00274000
*     DO;                                                          0591 00275000
*                                                                  0591 00276000
*/*                                                                  */ 00277000
*/* MANUAL DIAL TERMIALS RETURN A PHASE 1 NONERROR RESPONSE. THIS    */ 00278000
*/* RESPONSE MUST BE PROCESSED BY IEDPMD                             */ 00279000
*/*                                                                  */ 00280000
*                                                                  0592 00281000
*       IF BDUPHASE=RSP20 THEN      /* IS THIS PHASE 1?              */ 00282000
         TM    BDUPHASE(BDUPTR),B'00100000'                        0592 00283000
         BNO   @RF00592                                            0592 00284000
         TM    BDUPHASE(BDUPTR),B'01000000'                        0592 00285000
         BNZ   @RF00592                                            0592 00286000
*         DO;                                                      0593 00287000
*           RPARM=RPRF;             /* PASS PIU ADDR TO IEDPMD       */ 00288000
         LR    RPARM,RPRF                                          0594 00289000
*           CALL IEDPMD;            /* DO MANUAL DIAL PROCESSING     */ 00290000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0595 00291000
         L     @15,SAVTMAND(,@09)                                  0595 00292000
         BALR  @14,@15                                             0595 00293000
*           RPARM=RPRF;                                            0596 00294000
         LR    RPARM,RPRF                                          0596 00295000
*           CALL FREEBFR;           /* DISCARD THIS INPUT            */ 00296000
         BAL   @14,FREEBFR                                         0597 00297000
*           LCBCONT=ON;             /* SET LCBCONT SO THAT IEDSAI  0598 00298000
*                                      WILL IMMEDIATELY ROUTE NEXT 0598 00299000
*                                      RESPONSE TO IEDSARI   @YM05696*/ 00300000
         OI    LCBCONT(IEDQLPTR),B'00001000'                       0598 00301000
*           RETCODE=NOPOST;         /* NOTHING TO MH                 */ 00302000
         MVI   RETCODE,X'00'                                       0599 00303000
*         END;                                                     0600 00304000
*                                                                  0600 00305000
*/*                                                                  */ 00306000
*/* DIAL CONTACT USES THE '01' MODIFIER WHICH RETURNS THE NETWORK    */ 00307000
*/* ADDRESS OF THE LINE AS THE FIRST TWO DATA BYTES. USING THIS      */ 00308000
*/* ADDRESS, THE TERMINALS CONTROL BLOCKS WILL BE INSERTED INTO      */ 00309000
*/* THE HIERARCHICAL STRUCTURE OF THE LINE.                          */ 00310000
*/*                                                                  */ 00311000
*                                                                  0601 00312000
*       ELSE                                                       0601 00313000
*         IF BDUPHASE=RSP60 THEN                                   0601 00314000
         B     @RC00592                                            0601 00315000
@RF00592 TM    BDUPHASE(BDUPTR),B'01100000'                        0601 00316000
         BNO   @RF00601                                            0601 00317000
*           DO;                     /* IF THIS IS A PHASE 3 RESPONSE */ 00318000
*             TRMSESSN=ON;          /* SET SESSION STARTED   @YM08061*/ 00319000
         OI    TRMSESSN(RTRM),B'01000000'                          0603 00320000
*             RPARM=RUDATA(1:2);                                   0604 00321000
         L     @09,PIUPTR                                          0604 00322000
         LA    @09,PIU0RU(,@09)                                    0604 00323000
         SLR   RPARM,RPARM                                         0604 00324000
         ICM   RPARM,3,RUDATA+6(@09)                               0604 00325000
*             RFY                                                  0605 00326000
*               RLINK RSTD;                                        0605 00327000
*             CALL IEDIAP03;        /* CONVERT THE LINE'S NETWORK  0606 00328000
*                                      ADDRESS TO A TTCIN            */ 00329000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0606 00330000
         L     @15,SAVTNAX(,@09)                                   0606 00331000
         BALR  @14,@15                                             0606 00332000
*             RPARM=RLINK;          /* RETURN WITH THE TTCIN IN RLINK*/ 00333000
         LR    RPARM,RLINK                                         0607 00334000
*             RFY                                                  0608 00335000
*               RLINK UNRSTD;                                      0608 00336000
*             LTTCIN=RPARM;         /* SAVE THE LINE'S TTCIN         */ 00337000
         ST    RPARM,LTTCIN                                        0609 00338000
*             CALL IEDQTNT;         /* CONVERT THE LINE'S TTCIN TO A    00339000
*                                      TRM ADDRESS                   */ 00340000
         L     @15,AVTRNMPT(,IEDQAPTR)                             0610 00341000
         BALR  @14,@15                                             0610 00342000
*             RPARM=RPARM-LENGTH(IEDNTRM);/*                 @YM04622*/ 00343000
         SL    RPARM,@CF02008                                      0611 00344000
*             RFY                                                  0612 00345000
*               IEDTRM BASED(RPARM);/* BASE TRM DSECT ON LINE TRM    */ 00346000
*             TRMUTERM=TRMSUBST;    /* SAVE CTERMS TTCIN     @YM08443*/ 00347000
         LH    @09,TRMSUBST(,RPARM)                                0613 00348000
         N     @09,@CF02305                                        0613 00349000
         STH   @09,TRMUTERM(,RPARM)                                0613 00350000
*             TRMSUBST=TTHOAF;      /* THE TERMINAL IS THE SUBSTRUCT    00351000
*                                      OF THE LINE                   */ 00352000
         L     @09,PIUPTR                                          0614 00353000
         MVC   TRMSUBST(2,RPARM),TTHOAF(@09)                       0614 00354000
*             IF TRMTRACE=ON THEN   /* IF LINE IS BEING TRACED...  0615 00355000
*                                                            @YM05664*/ 00356000
         TM    TRMTRACE(RPARM),B'00001000'                         0615 00357000
         BNO   @RF00615                                            0615 00358000
*               RTRM->TRMTRACE=ON;  /* ....THEN TRACE TERMINAL     0616 00359000
*                                                            @YM05664*/ 00360000
         OI    TRMTRACE(RTRM),B'00001000'                          0616 00361000
*             RFY                                                  0617 00362000
*               IEDTRM BASED(RTRM);                                0617 00363000
@RF00615 DS    0H                                                  0618 00364000
*             TRMCOHRT=LTTCIN;      /* THE LINE IS THE COHART OF THE    00365000
*                                      TERMINAL                      */ 00366000
         L     @09,LTTCIN                                          0618 00367000
         STH   @09,TRMCOHRT(,RTRM)                                 0618 00368000
*             IF TRMANDL=ON THEN    /* IF THIS IS A MANUAL DIAL TERM */ 00369000
         TM    TRMANDL(RTRM),B'00010000'                           0619 00370000
         BNO   @RF00619                                            0619 00371000
*               DO;                                                0620 00372000
*                 RPARM=RPRF;       /* PASS PIU TO IEDPMD AND...     */ 00373000
         LR    RPARM,RPRF                                          0621 00374000
*                 CALL IEDPMD;      /* DO MANUAL DIAL PROCESSING     */ 00375000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0622 00376000
         L     @15,SAVTMAND(,@09)                                  0622 00377000
         BALR  @14,@15                                             0622 00378000
*               END;                                               0623 00379000
*             RETCODE=NOPOST;       /* INDICATE NOTHING FOR MH       */ 00380000
@RF00619 MVI   RETCODE,X'00'                                       0624 00381000
*             RPARM=RPRF;                                          0625 00382000
         LR    RPARM,RPRF                                          0625 00383000
*             CALL FREEBFR;         /* DISCARD THIS INPUT            */ 00384000
         BAL   @14,FREEBFR                                         0626 00385000
*             EXITSW=ON;            /* INDICATE EXIT FROM MODULE     */ 00386000
         OI    EXITSW,B'10000000'                                  0627 00387000
*             LCBQCBA=RLCB;         /* POST PLCB WITH...             */ 00388000
         STCM  RLCB,7,LCBQCBA(IEDQLPTR)                            0628 00389000
*             LCBPRI=PRILNFRE;      /* 'E0' PRIORITY...              */ 00390000
         MVI   LCBPRI(IEDQLPTR),X'E0'                              0629 00391000
*             RPARM=RLCB;           /* TO ITSELF                     */ 00392000
         LR    RPARM,RLCB                                          0630 00393000
*             CALL DSPPOSTR;                                       0631 00394000
         LA    @15,DSPPOSTR(,RDISP)                                0631 00395000
         BALR  @14,@15                                             0631 00396000
*           END;                                                   0632 00397000
*                                                                  0632 00398000
*/*                                                                  */ 00399000
*/* WITH MANUAL DIAL A PHASE 2 RESPONSE IS RETURNED WHICH MUST BE    */ 00400000
*/* DISCARDED                                                        */ 00401000
*/*                                                                  */ 00402000
*                                                                  0633 00403000
*         ELSE                                                     0633 00404000
*           DO;                                                    0633 00405000
         B     @RC00601                                            0633 00406000
@RF00601 DS    0H                                                  0634 00407000
*             RPARM=RPRF;                                          0634 00408000
         LR    RPARM,RPRF                                          0634 00409000
*             CALL FREEBFR;                                        0635 00410000
         BAL   @14,FREEBFR                                         0635 00411000
*             RETCODE=NOPOST;                                      0636 00412000
         MVI   RETCODE,X'00'                                       0636 00413000
*           END;                                                   0637 00414000
*     END;                                                         0638 00415000
*                                                                  0638 00416000
*/*                                                                  */ 00417000
*/* THE CONTACT HAD AN ERROR                                         */ 00418000
*/*                                                                  */ 00419000
*                                                                  0639 00420000
*   ELSE                                                           0639 00421000
*     DO;                                                          0639 00422000
         B     @RC00590                                            0639 00423000
@RF00590 DS    0H                                                  0640 00424000
*       TRMANDL=OFF;                /* TURN OFF MANUAL DIAL INDICATOR*/ 00425000
         LA    @02,TRMANDL(,RTRM)                                  0640 00426000
         LR    @00,@02                                             0640 00427000
         LA    @09,3                                               0640 00428000
         NR    @00,@09                                             0640 00429000
         LCR   @00,@00                                             0640 00430000
         ALR   @02,@00                                             0640 00431000
         L     @09,0(,@02)                                         0640 00432000
@GL00005 LR    @05,@09                                             0640 00433000
         N     @05,@CB02309+3(@00)                                 0640 00434000
         CS    @09,@05,0(@02)                                      0640 00435000
         BNE   @GL00005                                            0640 00436000
*       TRMCONT=OFF;                /* RESET CONTACT OUT     @YM08436*/ 00437000
         NI    TRMCONT(RTRM),B'01111111'                           0641 00438000
*       QCBSCHDL=OFF;               /* RESET SCHDL SO THAT IEDIAM  0642 00439000
*                                      WILL NOT TRY TO RECONTACT   0642 00440000
*                                                            @YM08432*/ 00441000
         L     @09,IEDQQPTR                                        0642 00442000
         NI    QCBSCHDL(@09),B'11111011'                           0642 00443000
*       LCBCONNN=ON;                /* INDICATE CONTACT ERROR SO THAT   00444000
*                                      MESSAGES ON QUEUE WILL BE   0643 00445000
*                                      PURGED                @YM08436*/ 00446000
         OI    LCBCONNN(IEDQLPTR),B'00100000'                      0643 00447000
*       LCBRCLLN=OFF;                                              0644 00448000
         NI    LCBRCLLN(IEDQLPTR),B'01111111'                      0644 00449000
*       LCBCTLMD=OFF;                                              0645 00450000
         NI    LCBCTLMD(IEDQLPTR),B'11111101'                      0645 00451000
*       LCBINITN=OFF;                                              0646 00452000
*       LCBCONT=OFF;                                               0647 00453000
*       LCBRECVN=ON;                /* MARK PLCB RECEIVING           */ 00454000
*       LCBFREEN=OFF;                                              0649 00455000
*       LCBSENDN=OFF;                                              0650 00456000
         OI    LCBRECVN(IEDQLPTR),B'00000010'                      0650 00457000
         NI    LCBINITN(IEDQLPTR),B'11100010'                      0650 00458000
*       BDUHEADR=ON;                /* SET HEADR TO CAUSE A ZERO   0651 00459000
*                                      LENGTH HDR ERROR BFR TO BE  0651 00460000
*                                      BUILT                 @YM08436*/ 00461000
         OI    BDUHEADR(BDUPTR),B'01000000'                        0651 00462000
*       IF BDUPHASE^=RSP00&         /* IF ^ PHASE 0                  */ 00463000
*           (BDURESP^=RSPE09&       /* & ^ NOT SESSION ^ STARTED     */ 00464000
*           BDURESP^=RSPE19&        /* & ^ DIAL DATA INCONSISTENT    */ 00465000
*           BDURESP^=RSPE1E) THEN   /* & ^ CMD REJECT                */ 00466000
         TM    BDUPHASE(BDUPTR),B'01100000'                        0652 00467000
         BZ    @RF00652                                            0652 00468000
         TM    BDURESP(BDUPTR),B'00001001'                         0652 00469000
         BNO   @GL00008                                            0652 00470000
         TM    BDURESP(BDUPTR),B'00010110'                         0652 00471000
         BZ    @RF00652                                            0652 00472000
@GL00008 TM    BDURESP(BDUPTR),B'00011001'                         0652 00473000
         BNO   @GL00007                                            0652 00474000
         TM    BDURESP(BDUPTR),B'00000110'                         0652 00475000
         BZ    @RF00652                                            0652 00476000
@GL00007 TM    BDURESP(BDUPTR),B'00011110'                         0652 00477000
         BNO   @RT00652                                            0652 00478000
         TM    BDURESP(BDUPTR),B'00000001'                         0652 00479000
         BZ    @RF00652                                            0652 00480000
@RT00652 DS    0H                                                  0653 00481000
*         TRMSESSN=ON;                                             0653 00482000
         OI    TRMSESSN(RTRM),B'01000000'                          0653 00483000
*     END;                          /*                       @YM04681*/ 00484000
*/*                                                                  */ 00485000
*                                                                  0655 00486000
*   END CONTACT;                                                   0655 00487000
@EL00003 DS    0H                                                  0655 00488000
@EF00003 DS    0H                                                  0655 00489000
@ER00003 L     @14,@SA00003                                        0655 00490000
         BR    @14                                                 0655 00491000
*                                                                  0656 00492000
*   /*****************************************************************/ 00493000
*   /*                                                               */ 00494000
*   /* THIS PROCEDURE LINKS TO IEDDVAS WHICH WILL ASSIGN THE CALLING */ 00495000
*   /* TERMINALS CONTROL BLOCKS. BEFORE CALLING IEDDVAS, ENSURE THE  */ 00496000
*   /* CALLING TERMINALS CONTROL BLOCKS ARE NOT IN USE. AT ENTRY TO  */ 00497000
*   /* THIS PROCEDURE RUDATA(1:2) CONTAINS THE CALLERS TTCIN AND THE */ 00498000
*   /* CONTROL BLOCKS ARE BASED ON THE CTERM. (NOTE: LCI = LOGICAL   */ 00499000
*   /* CONNECTION INDEX = CALLING TERMINAL.)                         */ 00500000
*   /*                                                               */ 00501000
*   /*****************************************************************/ 00502000
*                                                                  0656 00503000
*DEVASSOC:                                                         0656 00504000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0656 00505000
DEVASSOC ST    @14,@SA00004                                        0656 00506000
*   RPARM=RUDATA(1:2);                                             0657 00507000
         L     @09,PIUPTR                                          0657 00508000
         LA    @09,PIU0RU(,@09)                                    0657 00509000
         SLR   RPARM,RPARM                                         0657 00510000
         ICM   RPARM,3,RUDATA+6(@09)                               0657 00511000
*   CALL IEDQTNT;                   /* GET TRM ADDRESS OF THE LCI  0658 00512000
*                                      TERMINAL                      */ 00513000
         L     @15,AVTRNMPT(,IEDQAPTR)                             0658 00514000
         BALR  @14,@15                                             0658 00515000
*   RPARM=RPARM-LENGTH(IEDNTRM);    /*                       @YM04622*/ 00516000
         SL    RPARM,@CF02008                                      0659 00517000
*   LCIQCB=RPARM->TRMDESTQ;         /* SET ADDRESSABILITY TO LCI'S 0660 00518000
*                                      QCB                           */ 00519000
         SLR   LCIQCB,LCIQCB                                       0660 00520000
         ICM   LCIQCB,7,TRMDESTQ(RPARM)                            0660 00521000
*   RFY                                                            0661 00522000
*     IEDQQCB BASED(LCIQCB);        /* BASE QCB DSECT ON LCI         */ 00523000
*   RFY                                                            0662 00524000
*     IEDTRM BASED(RPARM);          /* BASE TRM DSECT ON LCI         */ 00525000
*                                                                  0663 00526000
*/*                                                                  */ 00527000
*/* IF A CALLING TERMINALS CONTROL BLOCKS ARE ALREADY IN USE(IE,. AN */ 00528000
*/* OUTPUT OPERATION IN PROGRESS), THE CALLING TERMINAL WILL BE      */ 00529000
*/* DISCONNECTED AND THE OUTPUT OPERATION ALLOWED TO CONTINUE        */ 00530000
*/*                                                                  */ 00531000
*                                                                  0663 00532000
*   IF(QCBPLCBN=ON|                 /* IF THE LCI'S PLCB IS ASSIGNED */ 00533000
*       QCBRCVRQ=ON|                /* OR A PLCB IS REQUESTED FOR THE   00534000
*                                      LCI                           */ 00535000
*       TRMCONT=ON) THEN            /* OR A CONTACT IS IN PROGRESS TO   00536000
*                                      THE LCI                       */ 00537000
         LR    @09,LCIQCB                                          0663 00538000
         AL    @09,@CF02317                                        0663 00539000
         TM    QCBPLCBN-4(@09),B'10010000'                         0663 00540000
         BNZ   @RT00663                                            0663 00541000
         TM    TRMCONT(RPARM),B'10000000'                          0663 00542000
         BNO   @RF00663                                            0663 00543000
@RT00663 DS    0H                                                  0664 00544000
*     LCBNEGRP=ON;                  /* THEN FORCE THE CALLING      0664 00545000
*                                      TERMINAL TO DISCONNECT        */ 00546000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0664 00547000
*   ELSE                            /* ELSE, THE CONTROL BLOCKS ARE     00548000
*                                      NOT IN USE                    */ 00549000
*     DO;                           /* SO SET UP PARMS AND CALL    0665 00550000
*                                      IEDDVAS                       */ 00551000
         B     @RC00663                                            0665 00552000
@RF00663 DS    0H                                                  0666 00553000
*       RFY                                                        0666 00554000
*         RZERO RSTD;                                              0666 00555000
*       RZERO=TTHOAF;               /* PUT CTERMS'S TTCIN IN REG 0   */ 00556000
         L     @09,PIUPTR                                          0667 00557000
         SLR   RZERO,RZERO                                         0667 00558000
         ICM   RZERO,3,TTHOAF(@09)                                 0667 00559000
*       RPARM=RUDATA(1:2);          /* PUT LCI'S TTCIN IN REG 1      */ 00560000
         LA    @09,PIU0RU(,@09)                                    0668 00561000
         SLR   RPARM,RPARM                                         0668 00562000
         ICM   RPARM,3,RUDATA+6(@09)                               0668 00563000
*       RFY                                                        0669 00564000
*         R3 RSTD;                                                 0669 00565000
*       R3=RAVT-72;                 /* IEDDVAS REQUIRES R3 POINT TO     00566000
*                                      AVT                           */ 00567000
         LR    R3,RAVT                                             0670 00568000
         SL    R3,@CF02249                                         0670 00569000
*       CALL IEDDVAS;                                              0671 00570000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0671 00571000
         L     @15,SAVTDVAS(,@09)                                  0671 00572000
         BALR  @14,@15                                             0671 00573000
*       RFY                                                        0672 00574000
*        (RZERO,                                                   0672 00575000
*         R3) UNRSTD;                                              0672 00576000
*     END;                                                         0673 00577000
*   RFY                                                            0674 00578000
*     IEDTRM BASED(RTRM);           /* RESTORE BASE FOR IEDTRM DSECT */ 00579000
*   RFY                                                            0675 00580000
*     IEDQQCB BASED(IEDQQPTR);      /* RESTORE BASE FOR IEDQQCB    0675 00581000
*                                                            @OZ29885*/ 00582000
*   END DEVASSOC;                                                  0676 00583000
@EL00004 DS    0H                                                  0676 00584000
@EF00004 DS    0H                                                  0676 00585000
@ER00004 L     @14,@SA00004                                        0676 00586000
         BR    @14                                                 0676 00587000
*                                                                  0677 00588000
*   /*****************************************************************/ 00589000
*   /*                                                               */ 00590000
*   /* DIALDATA: PROCESS MTA ID STRING, TWX HANGUP, NCP DEVICE       */ 00591000
*   /* ASSOCIATION, CONTACT RESPONSE AND CALL BSC ID PROCESSING      */ 00592000
*   /*                                                               */ 00593000
*   /*****************************************************************/ 00594000
*                                                                  0677 00595000
*DIALDATA:                                                         0677 00596000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0677 00597000
*                                                                  0677 00598000
DIALDATA ST    @14,@SA00005                                        0677 00599000
*/*                                                                  */ 00600000
*/*IS THIS MTA RESPONSE?                                             */ 00601000
*/*                                                                  */ 00602000
*                                                                  0678 00603000
*   IF BDUPHASE=RSP00&              /* IF MTA TERM CALLS IN          */ 00604000
*       BDURESP=RSPUNS04 THEN                                      0678 00605000
         TM    BDUPHASE(BDUPTR),B'01100000'                        0678 00606000
         BNZ   @RF00678                                            0678 00607000
         TM    BDURESP(BDUPTR),B'00000100'                         0678 00608000
         BNO   @RF00678                                            0678 00609000
         TM    BDURESP(BDUPTR),B'00011011'                         0678 00610000
         BNZ   @RF00678                                            0678 00611000
*     DO;                                                          0679 00612000
*       IF RUDATA(1)^=TENFIFTY&     /* AND IT IS NOT A 1050          */ 00613000
*           RUDATA(1)^=TWNTY741 THEN/* OR 2741                       */ 00614000
         L     @09,PIUPTR                                          0680 00615000
         LA    @09,PIU0RU(,@09)                                    0680 00616000
         AL    @09,@CF00058                                        0680 00617000
         CLI   RUDATA(@09),X'1C'                                   0680 00618000
         BE    @RF00680                                            0680 00619000
         CLI   RUDATA(@09),X'00'                                   0680 00620000
         BE    @RF00680                                            0680 00621000
*         TRMUDEF=ON;               /* THEN SET INVALID FOR TSO BIT  */ 00622000
         OI    TRMUDEF(RTRM),B'10000000'                           0681 00623000
*       RPARM=RPRF;                                                0682 00624000
@RF00680 LR    RPARM,RPRF                                          0682 00625000
*       CALL FREEBFR;               /* DISCARD THIS INPUT            */ 00626000
         BAL   @14,FREEBFR                                         0683 00627000
*       LCBCONT=ON;                 /* SET LCBCONT SO THAT IEDSAI  0684 00628000
*                                      WILL IMMEDIATELY ROUTE NEXT 0684 00629000
*                                      RESPONSE TO IEDSARI   @YM05696*/ 00630000
         OI    LCBCONT(IEDQLPTR),B'00001000'                       0684 00631000
*       RETCODE=NOPOST;             /* INDICATE NOTHING GOS TO MH    */ 00632000
         MVI   RETCODE,X'00'                                       0685 00633000
*     END;                                                         0686 00634000
*                                                                  0686 00635000
*/*                                                                  */ 00636000
*/*IS THIS X-OFF FROM A TWX?                                         */ 00637000
*/*                                                                  */ 00638000
*                                                                  0687 00639000
*   ELSE                                                           0687 00640000
*     IF(TTHDCF=HDRLEN+1&           /* IF ONE DATA BYTE       @YM4680*/ 00641000
*         BDUHEADR=ON&              /* AND THIS IS A HEADER...       */ 00642000
*         RUDATA(1)=XOFF&           /* AND THE DATA WAS TWX HANGUP 0687 00643000
*                                                            @OZ31678*/ 00644000
*         QCBTSSES=OFF) THEN        /* AND NOT IN TSO SESSION      0687 00645000
*                                                            @OZ31678*/ 00646000
         B     @RC00678                                            0687 00647000
@RF00678 L     @09,PIUPTR                                          0687 00648000
         LA    @05,1                                               0687 00649000
         SLR   @02,@02                                             0687 00650000
         IC    @02,HDRLEN                                          0687 00651000
         ALR   @05,@02                                             0687 00652000
         SLR   @02,@02                                             0687 00653000
         ICM   @02,3,TTHDCF(@09)                                   0687 00654000
         CR    @05,@02                                             0687 00655000
         BNE   @RF00687                                            0687 00656000
         TM    BDUHEADR(BDUPTR),B'01000000'                        0687 00657000
         BNO   @RF00687                                            0687 00658000
         LA    @09,PIU0RU(,@09)                                    0687 00659000
         CLI   RUDATA+6(@09),X'3C'                                 0687 00660000
         BNE   @RF00687                                            0687 00661000
         L     @09,IEDQQPTR                                        0687 00662000
         TM    QCBTSSES(@09),B'10000000'                           0687 00663000
         BNZ   @RF00687                                            0687 00664000
*       DO;                                                        0688 00665000
*         CALL SETNEGRP;            /* DO HANGUP PROCESSING          */ 00666000
         BAL   @14,SETNEGRP                                        0689 00667000
*         RETCODE=NOPOST;           /* DON'T PASS BUFF TO MH @XM05695*/ 00668000
         MVI   RETCODE,X'00'                                       0690 00669000
*       END;                                                       0691 00670000
*                                                                  0691 00671000
*/*                                                                  */ 00672000
*/*IS THIS BSC ID RESPONSE?                                          */ 00673000
*/*                                                                  */ 00674000
*                                                                  0692 00675000
*     ELSE                                                         0692 00676000
*       IF BDUPHASE^=RSP00&BDURESP=RSPE06 THEN/*             @YM08570*/ 00677000
         B     @RC00687                                            0692 00678000
@RF00687 TM    BDUPHASE(BDUPTR),B'01100000'                        0692 00679000
         BZ    @RF00692                                            0692 00680000
         TM    BDURESP(BDUPTR),B'00000110'                         0692 00681000
         BNO   @RF00692                                            0692 00682000
         TM    BDURESP(BDUPTR),B'00011001'                         0692 00683000
         BNZ   @RF00692                                            0692 00684000
*         CALL BSCID;                                              0693 00685000
*                                                                  0693 00686000
         BAL   @14,BSCID                                           0693 00687000
*/*                                                                  */ 00688000
*/*IS THIS A DEVICE ASSOCIATION RESPONSE?                            */ 00689000
*/*                                                                  */ 00690000
*                                                                  0694 00691000
*       ELSE                                                       0694 00692000
*         IF BDUPHASE=RSP00&BDURESP=RSPUNS03 THEN/* IF NCP DOES    0694 00693000
*                                      DEVICE ASSOCIATION, THE     0694 00694000
*                                      NETWORK ADDRESS OF...@YM08155 */ 00695000
         B     @RC00692                                            0694 00696000
@RF00692 TM    BDUPHASE(BDUPTR),B'01100000'                        0694 00697000
         BNZ   @RF00694                                            0694 00698000
         TM    BDURESP(BDUPTR),B'00000011'                         0694 00699000
         BNO   @RF00694                                            0694 00700000
         TM    BDURESP(BDUPTR),B'00011100'                         0694 00701000
         BNZ   @RF00694                                            0694 00702000
*           DO;                     /* THE IDENTIFIED TERMINAL IS  0695 00703000
*                                      RETURNED AS FIRST 2 DATA BYTES*/ 00704000
*             RFY                                                  0696 00705000
*               RLINK RSTD;                                        0696 00706000
*             RPARM=RUDATA(1:2);    /* PUT THIS NET. ADDR. IN PARM 0697 00707000
*                                      REG                           */ 00708000
         L     @14,PIUPTR                                          0697 00709000
         LA    @14,PIU0RU(,@14)                                    0697 00710000
         SLR   RPARM,RPARM                                         0697 00711000
         ICM   RPARM,3,RUDATA+6(@14)                               0697 00712000
*             CALL IEDIAP03;        /* AND TRANSFORM TO A TTCIN      */ 00713000
*                                                                  0698 00714000
         L     @09,AVTSAVTP(,IEDQAPTR)                             0698 00715000
         L     @15,SAVTNAX(,@09)                                   0698 00716000
         BALR  @14,@15                                             0698 00717000
*             /*******************************************************/ 00718000
*             /*                                                     */ 00719000
*             /* UPON RETURN, RLINK CONTAINS THE TERMINALS TTCIN     */ 00720000
*             /*                                                     */ 00721000
*             /*******************************************************/ 00722000
*                                                                  0699 00723000
*             IF RLINK^=TTHOAF THEN /* IF CTERM AND RESPONDING TERM     00724000
*                                      ARE NOT SAME, THEN TCAM'S CTL    00725000
*                                      BLK'S MUST BE MOVED FROM CTERM   00726000
*                                      TO RESPONDING TERM            */ 00727000
         L     @14,PIUPTR                                          0699 00728000
         SLR   @09,@09                                             0699 00729000
         ICM   @09,3,TTHOAF(@14)                                   0699 00730000
         CR    RLINK,@09                                           0699 00731000
         BE    @RF00699                                            0699 00732000
*               DO;                                                0700 00733000
*                 RUDATA(1:2)=RLINK;/* SAVE TTCIN IN THE PIU         */ 00734000
         LA    @14,PIU0RU(,@14)                                    0701 00735000
         STCM  RLINK,3,RUDATA+6(@14)                               0701 00736000
*                 CALL DEVASSOC;    /* THIS ROUTINE CALLS AN EXTERNAL   00737000
*                                      PROCEDURE WHICH WILL SETUP  0702 00738000
*                                      CONTROL BLOCK LINKAGE FOR THE    00739000
*                                      LOGICALLY CONNECTED TERM      */ 00740000
         BAL   @14,DEVASSOC                                        0702 00741000
*               END;                                               0703 00742000
*             RPARM=RPRF;                                          0704 00743000
@RF00699 LR    RPARM,RPRF                                          0704 00744000
*             CALL FREEBFR;                                        0705 00745000
         BAL   @14,FREEBFR                                         0705 00746000
*             CALL POSTPLCB;        /* WITH 'E7' PRIORITY            */ 00747000
         BAL   @14,POSTPLCB                                        0706 00748000
*             RETCODE=NOPOST;       /* INDICATE NOT GOING TO MH      */ 00749000
         MVI   RETCODE,X'00'                                       0707 00750000
*             RFY                                                  0708 00751000
*               RLINK UNRSTD;                                      0708 00752000
*           END;                                                   0709 00753000
*                                                                  0709 00754000
*/*                                                                  */ 00755000
*/* IS THIS A DIAL CONTACT RESPONSE?                                 */ 00756000
*/*                                                                  */ 00757000
*                                                                  0710 00758000
*         ELSE                                                     0710 00759000
*           IF BDUCMND=CD0CONT THEN /* IF THIS IS A CONTACT RESPONSE */ 00760000
         B     @RC00694                                            0710 00761000
@RF00694 CLI   BDUCMND(BDUPTR),X'06'                               0710 00762000
         BNE   @RF00710                                            0710 00763000
*             CALL CONTACT;         /* CALL CONTACT PROCESSOR        */ 00764000
         BAL   @14,CONTACT                                         0711 00765000
*/*                                                                  */ 00766000
*                                                                  0712 00767000
*   END DIALDATA;                   /* RETURN TO CALLER              */ 00768000
@EL00005 DS    0H                                                  0712 00769000
@EF00005 DS    0H                                                  0712 00770000
@ER00005 L     @14,@SA00005                                        0712 00771000
         BR    @14                                                 0712 00772000
         EJECT                                                          00773000
*                                                                  0713 00774000
*   /*****************************************************************/ 00775000
*   /*                                                               */ 00776000
*   /* ERRORBIT: THIS PROCEDURE IS CALLED FOR DETAILED ANALYSIS OF   */ 00777000
*   /* BDU SYSTEM AND LINE ERROR RESPONSES. APPROPRIATE LCB AND SCB  */ 00778000
*   /* ERROR INDICATORS WILL BE SET                                  */ 00779000
*   /*                                                               */ 00780000
*   /*****************************************************************/ 00781000
*                                                                  0713 00782000
*ERRORBIT:                                                         0713 00783000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0713 00784000
ERRORBIT ST    @14,12(,@13)                                        0713 00785000
*   IF BDUCMND^=CD0CONT THEN        /* IF NOT A CONTACT              */ 00786000
         CLI   BDUCMND(BDUPTR),X'06'                               0714 00787000
         BE    @RF00714                                            0714 00788000
*     DO;                                                          0715 00789000
*       IF TTHDCF>HDRLEN|           /* IF THIS BUFFER HAS TEXT OR    */ 00790000
*           BDUHEADR=OFF THEN       /* ITS A TEXT BUFFER WITHOUT DATA*/ 00791000
         L     @09,PIUPTR                                          0716 00792000
         SLR   @05,@05                                             0716 00793000
         ICM   @05,3,TTHDCF(@09)                                   0716 00794000
         SLR   @09,@09                                             0716 00795000
         IC    @09,HDRLEN                                          0716 00796000
         CR    @05,@09                                             0716 00797000
         BH    @RT00716                                            0716 00798000
         TM    BDUHEADR(BDUPTR),B'01000000'                        0716 00799000
         BNZ   @RF00716                                            0716 00800000
@RT00716 DS    0H                                                  0717 00801000
*         DO;                                                      0717 00802000
*           SCBTXTTN=ON;            /* THEN SET THE TEXT INDICATOR   */ 00803000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0718 00804000
         OI    SCBTXTTN(@09),B'01000000'                           0718 00805000
*           RPARM=LCBMHA;           /* FIND THE MH ADDRESS   @YM06085*/ 00806000
         L     RPARM,LCBMHA-1(,IEDQLPTR)                           0719 00807000
         LA    RPARM,0(,RPARM)                                     0719 00808000
*           IF BDUMODIF=CD0RT THEN  /* READ TRANSMISSION     @OY20382*/ 00809000
         CLI   BDUMODIF(BDUPTR),X'03'                              0720 00810000
         BNE   @RF00720                                            0720 00811000
*             LCBUSUE=ON;           /* IF NOT, SET UNIT EXCEPTION  0721 00812000
*                                      BECAUSE NO NEED TO RETRY      */ 00813000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0721 00814000
*         END;                                                     0722 00815000
*       ELSE                        /* THIS IS A HDR BUF W/O TEXT    */ 00816000
*         IF SCBBFMM=ON THEN        /* IF IN MIDDLE OF A LOGICAL MSG */ 00817000
         B     @RC00716                                            0723 00818000
@RF00716 L     @09,IEDQSPTR-1(,IEDQLPTR)                           0723 00819000
         LA    @09,0(,@09)                                         0723 00820000
         TM    SCBBFMM(@09),B'00000001'                            0723 00821000
         BNO   @RF00723                                            0723 00822000
*           SCBTXTTN=ON;            /* THEN TREAT LIKE A TEXT BUFFER */ 00823000
         OI    SCBTXTTN(@09),B'01000000'                           0724 00824000
*         ELSE                                                     0725 00825000
*           DO;                                                    0725 00826000
         B     @RC00723                                            0725 00827000
@RF00723 DS    0H                                                  0726 00828000
*             SCBSLCTN=ON;          /* SELECTION ERROR               */ 00829000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0726 00830000
         OI    SCBSLCTN(@09),B'10000000'                           0726 00831000
*             LCBUSUE=ON;           /* UNIT EXCEPTION                */ 00832000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0727 00833000
*           END;                                                   0728 00834000
*     END;                                                         0729 00835000
*                                                                  0729 00836000
*/*                                                                  */ 00837000
*/*IF THIS POINT REACHED, ERROR OCCURRED ON A CONTACT                */ 00838000
*/*                                                                  */ 00839000
*                                                                  0730 00840000
*   ELSE                                                           0730 00841000
*     DO;                                                          0730 00842000
         B     @RC00714                                            0730 00843000
@RF00714 DS    0H                                                  0731 00844000
*       SCBSLCTN=ON;                /* SELECTION ERROR               */ 00845000
*       SCBCONNN=ON;                /* SET FOR RETRY                 */ 00846000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0732 00847000
         OI    SCBSLCTN(@09),B'10100000'                           0732 00848000
*       IF TRMSESSN=OFF THEN        /* IF NO SESSION WAS ESTABLISHED */ 00849000
         TM    TRMSESSN(RTRM),B'01000000'                          0733 00850000
         BNZ   @RF00733                                            0733 00851000
*         LCBNEGRP=ON;              /* REQUEST A HANGUP              */ 00852000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0734 00853000
*     END;                                                         0735 00854000
*                                                                  0735 00855000
@RF00733 DS    0H                                                  0736 00856000
*/*                                                                  */ 00857000
*/*CHECK FOR PHASE 1, 2 AND 3 SYSTEM RESPONSE ERRORS                 */ 00858000
*/*                                                                  */ 00859000
*                                                                  0736 00860000
*   IF BDUPHASE^=RSP00 THEN         /* IF NOT PHASE 0 THEN           */ 00861000
@RC00714 TM    BDUPHASE(BDUPTR),B'01100000'                        0736 00862000
         BZ    @RF00736                                            0736 00863000
*     DO;                                                          0737 00864000
*       IF BDURESP=RSPE00 THEN      /* IF THIS IS A DATA CHECK       */ 00865000
         TM    BDURESP(BDUPTR),B'00011111'                         0738 00866000
         BNZ   @RF00738                                            0738 00867000
*         DO;                                                      0739 00868000
*           LCBDATCK=ON;            /* SET THE DATA CHECK INDICATOR  */ 00869000
         OI    LCBDATCK(IEDQLPTR),B'00001000'                      0740 00870000
*           SCBTRMLN=ON;            /* SET TERM/LINE ERROR           */ 00871000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0741 00872000
         OI    SCBTRMLN(@09),B'00010000'                           0741 00873000
*         END;                                                     0742 00874000
*       ELSE                                                       0743 00875000
*         IF BDURESP=RSPE02|        /* IF INTERVENTION REQUIRED OR   */ 00876000
*             BDURESP=RSPE01 THEN   /* POSSIBLE INTERVENTION REQUIRED*/ 00877000
         B     @RC00738                                            0743 00878000
@RF00738 TM    BDURESP(BDUPTR),B'00000010'                         0743 00879000
         BNO   @GL00018                                            0743 00880000
         TM    BDURESP(BDUPTR),B'00011101'                         0743 00881000
         BZ    @RT00743                                            0743 00882000
@GL00018 TM    BDURESP(BDUPTR),B'00000001'                         0743 00883000
         BNO   @RF00743                                            0743 00884000
         TM    BDURESP(BDUPTR),B'00011110'                         0743 00885000
         BNZ   @RF00743                                            0743 00886000
@RT00743 DS    0H                                                  0744 00887000
*           DO;                                                    0744 00888000
*             LCBINTRQ=ON;          /* SET INTER REQD INDICATOR      */ 00889000
         OI    LCBINTRQ(IEDQLPTR),B'01000000'                      0745 00890000
*             SCBTRMLN=ON;          /* SET LINE/TERM ERR             */ 00891000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0746 00892000
         OI    SCBTRMLN(@09),B'00010000'                           0746 00893000
*             IF BDURESP=RSPE02 THEN/* INTERVENTION REQUIRED @YM08124*/ 00894000
         TM    BDURESP(BDUPTR),B'00000010'                         0747 00895000
         BNO   @RF00747                                            0747 00896000
         TM    BDURESP(BDUPTR),B'00011101'                         0747 00897000
         BNZ   @RF00747                                            0747 00898000
*               DO;                 /*                       @YM08429*/ 00899000
*                 LCBNEGRP=ON;      /* SET FOR DISCONNECT    @YM08124*/ 00900000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0749 00901000
*                 LCBUSUE=ON;       /* PREVENT RETRY         @YM08429*/ 00902000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0750 00903000
*               END;                /*                       @YM08429*/ 00904000
*           END;                                                   0752 00905000
@RF00747 DS    0H                                                  0753 00906000
*     END;                                                         0753 00907000
*                                                                  0753 00908000
@RF00743 DS    0H                                                  0753 00909000
@RC00738 DS    0H                                                  0754 00910000
*/*                                                                  */ 00911000
*/* CHECK FOR EXTENDED RESPONSE ERRORS                               */ 00912000
*/*                                                                  */ 00913000
*                                                                  0754 00914000
*   IF BDUSYRSP='A1'X|BDUSYRSP='A9'X THEN/* POSSIBLE INTERVENTION  0754 00915000
*                                      REQUIRED OR SESSION NOT     0754 00916000
*                                      STARTED DUE TO HARDWARE ERROR    00917000
*                                                            @ZM06766*/ 00918000
@RF00736 CLI   BDUSYRSP(BDUPTR),X'A1'                              0754 00919000
         BE    @RT00754                                            0754 00920000
         CLI   BDUSYRSP(BDUPTR),X'A9'                              0754 00921000
         BNE   @RF00754                                            0754 00922000
@RT00754 DS    0H                                                  0755 00923000
*     DO;                           /* YES                   @ZM06766*/ 00924000
*       IF BDUEXRSP='9C'X|BDUEXRSP='88'X|BDUEXRSP='E0'X|BDUEXRSP='F0'X  00925000
*         THEN                      /* ERROR TO REQUEST A DISCONNECT    00926000
*                                                            @ZM06766*/ 00927000
         CLI   BDUEXRSP(BDUPTR),X'9C'                              0756 00928000
         BE    @RT00756                                            0756 00929000
         CLI   BDUEXRSP(BDUPTR),X'88'                              0756 00930000
         BE    @RT00756                                            0756 00931000
         CLI   BDUEXRSP(BDUPTR),X'E0'                              0756 00932000
         BE    @RT00756                                            0756 00933000
         CLI   BDUEXRSP(BDUPTR),X'F0'                              0756 00934000
         BNE   @RF00756                                            0756 00935000
@RT00756 DS    0H                                                  0757 00936000
*         LCBNEGRP=ON;              /* INDICATE DISCONNECT IS NEEDED    00937000
*                                                            @ZM06766*/ 00938000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0757 00939000
*       ELSE                                                       0758 00940000
*         ;                         /* FALL THRU TO LET OTHER CATCH     00941000
*                                      IT                    @ZM06766*/ 00942000
@RF00756 DS    0H                                                  0759 00943000
*     END;                          /*                       @ZM06766*/ 00944000
*   ELSE                            /* CHECK FOR DISCONNECTED      0760 00945000
*                                      CONDITION             @ZM06766*/ 00946000
*     DO;                           /* YES                   @ZM06766*/ 00947000
         B     @RC00754                                            0760 00948000
@RF00754 DS    0H                                                  0761 00949000
*       IF BDUSYRSP='EC'X THEN      /* DISCONNECTED ?        @ZM06766*/ 00950000
         CLI   BDUSYRSP(BDUPTR),X'EC'                              0761 00951000
         BNE   @RF00761                                            0761 00952000
*         LCBNEGRP=ON;              /* REQUEST A DISCONNECT  @ZM06766*/ 00953000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0762 00954000
*       ELSE                                                       0763 00955000
*         ;                         /* YES                   @ZM06766*/ 00956000
@RF00761 DS    0H                                                  0764 00957000
*     END;                          /*                       @ZM06766*/ 00958000
*   IF BDUXINIT=EXT80 THEN          /* IS THIS "SPECIAL" STATUS?     */ 00959000
@RC00754 TM    BDUXINIT(BDUPTR),B'10000000'                        0765 00960000
         BNO   @RF00765                                            0765 00961000
         TM    BDUXINIT(BDUPTR),B'01100000'                        0765 00962000
         BNZ   @RF00765                                            0765 00963000
*     DO;                                                          0766 00964000
*       IF BDUXFINL=EXTS0A THEN     /* DATA RECEIVED WHEN NOT      0767 00965000
*                                      EXPECTED?                     */ 00966000
         TM    BDUXFINL(BDUPTR),B'00001010'                        0767 00967000
         BNO   @RF00767                                            0767 00968000
         TM    BDUXFINL(BDUPTR),B'00010100'                        0767 00969000
         BNZ   @RF00767                                            0767 00970000
*         DO;                                                      0768 00971000
*           LCBLOSDT=ON;            /* LOST DATA                     */ 00972000
         OI    LCBLOSDT(IEDQLPTR),B'00000010'                      0769 00973000
*           SCBTRMLN=ON;            /* SET TERM/LINE ERROR           */ 00974000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0770 00975000
         OI    SCBTRMLN(@09),B'00010000'                           0770 00976000
*         END;                                                     0771 00977000
*       ELSE                                                       0772 00978000
*         IF BDUXFINL=EXTS04 THEN   /* IS NCP OUT OF BUFFERS?        */ 00979000
         B     @RC00767                                            0772 00980000
@RF00767 TM    BDUXFINL(BDUPTR),B'00000100'                        0772 00981000
         BNO   @RF00772                                            0772 00982000
         TM    BDUXFINL(BDUPTR),B'00011010'                        0772 00983000
         BNZ   @RF00772                                            0772 00984000
*           DO;                                                    0773 00985000
*             LCBLOSDT=ON;          /* LOST DATA                     */ 00986000
         OI    LCBLOSDT(IEDQLPTR),B'00000010'                      0774 00987000
*             LCBUSUE=ON;           /* UNIT EXCEPTION                */ 00988000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0775 00989000
*             SCBCTLUN=ON;          /* CONTROL UNIT ERROR            */ 00990000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0776 00991000
         OI    SCBCTLUN(@09),B'00000100'                           0776 00992000
*             LCBNEGRP=ON;          /* SET FOR DISCONNECT    @YM08124*/ 00993000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0777 00994000
*           END;                                                   0778 00995000
*         ELSE                                                     0779 00996000
*           IF BDUXFINL=EXTS02 THEN /* CMD REJECT?                   */ 00997000
         B     @RC00772                                            0779 00998000
@RF00772 TM    BDUXFINL(BDUPTR),B'00000010'                        0779 00999000
         BNO   @RF00779                                            0779 01000000
         TM    BDUXFINL(BDUPTR),B'00011100'                        0779 01001000
         BNZ   @RF00779                                            0779 01002000
*             DO;                                                  0780 01003000
*               LCBCMDRJ=ON;        /* SET CMD REJECT                */ 01004000
         OI    LCBCMDRJ(IEDQLPTR),B'10000000'                      0781 01005000
*               LCBUSUE=ON;         /* UNIT EXECPTION                */ 01006000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0782 01007000
*               SCBCTLUN=ON;        /* CNTRL UNIT ERROR              */ 01008000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0783 01009000
         OI    SCBCTLUN(@09),B'00000100'                           0783 01010000
*               LCBNEGRP=ON;        /* SET FOR DISCONNECT    @YM08124*/ 01011000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0784 01012000
*             END;                                                 0785 01013000
*           ELSE                                                   0786 01014000
*             IF BDUXFINL=EXTS08|   /* DID TERMINAL....              */ 01015000
*                 BDUXFINL=EXTS1C THEN/* DISCONNECT?                 */ 01016000
         B     @RC00779                                            0786 01017000
@RF00779 TM    BDUXFINL(BDUPTR),B'00001000'                        0786 01018000
         BNO   @GL00023                                            0786 01019000
         TM    BDUXFINL(BDUPTR),B'00010110'                        0786 01020000
         BZ    @RT00786                                            0786 01021000
@GL00023 TM    BDUXFINL(BDUPTR),B'00011100'                        0786 01022000
         BNO   @RF00786                                            0786 01023000
         TM    BDUXFINL(BDUPTR),B'00000010'                        0786 01024000
         BNZ   @RF00786                                            0786 01025000
@RT00786 DS    0H                                                  0787 01026000
*               DO;                                                0787 01027000
*                 LCBNEGRP=ON;      /* REQUEST DISCONNECT            */ 01028000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0788 01029000
*                 LCBUSUE=ON;       /* SET UNIT EXCEPTION            */ 01030000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0789 01031000
*                 SCBTRMLN=ON;      /* SET TERM/LINE ERROR           */ 01032000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0790 01033000
         OI    SCBTRMLN(@09),B'00010000'                           0790 01034000
*               END;                                               0791 01035000
*             ELSE                                                 0792 01036000
*               IF BDUXFINL=EXTS00 THEN/* TIMEOUT WITH NO DATA?      */ 01037000
         B     @RC00786                                            0792 01038000
@RF00786 TM    BDUXFINL(BDUPTR),B'00011110'                        0792 01039000
         BNZ   @RF00792                                            0792 01040000
*                 DO;                                              0793 01041000
*                   LCBTMOUT=ON;    /* SET TIMEOUT                   */ 01042000
         OI    LCBTMOUT(IEDQLPTR),B'00000001'                      0794 01043000
*                   SCBTRMLN=ON;    /* TERM/LINE ERROR               */ 01044000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0795 01045000
         OI    SCBTRMLN(@09),B'00010000'                           0795 01046000
*                   LCBNEGRP=ON;    /* SET FOR DISCONNECT    @YM08124*/ 01047000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0796 01048000
*                   LCBUSUE=ON;     /* PREVENT RETRY         @YM08429*/ 01049000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0797 01050000
*                 END;                                             0798 01051000
*               ELSE                                               0799 01052000
*                 IF BDUXFINL=EXTS14 THEN/* RECEIVE BREAK IN TEXT?   */ 01053000
         B     @RC00792                                            0799 01054000
@RF00792 TM    BDUXFINL(BDUPTR),B'00010100'                        0799 01055000
         BNO   @RF00799                                            0799 01056000
         TM    BDUXFINL(BDUPTR),B'00001010'                        0799 01057000
         BNZ   @RF00799                                            0799 01058000
*                   DO;             /*                       @YM08429*/ 01059000
*                     SCBTRMLN=ON;  /* SET TERM/LINE ERROR           */ 01060000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0801 01061000
         OI    SCBTRMLN(@09),B'00010000'                           0801 01062000
*                     LCBUSUE=ON;   /* PREVENT RETRY         @YM08429*/ 01063000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0802 01064000
*                   END;            /*                       @YM08429*/ 01065000
*     END;                                                         0804 01066000
*                                                                  0804 01067000
*/*                                                                  */ 01068000
*/* END OF "SPECIAL" EXTENDED RESPONSE ERROR ANALYSIS                */ 01069000
*/*                                                                  */ 01070000
*                                                                  0805 01071000
*   ELSE                                                           0805 01072000
*     IF BDUXINIT=EXTE0 THEN        /* IS THIS HW/USER ERR STATUS?   */ 01073000
         B     @RC00765                                            0805 01074000
@RF00765 TM    BDUXINIT(BDUPTR),B'11100000'                        0805 01075000
         BNO   @RF00805                                            0805 01076000
*       DO;                                                        0806 01077000
*         LCBNEGRP=ON;              /* REQUEST DISCONNECT            */ 01078000
         OI    LCBNEGRP(IEDQLPTR),B'00001000'                      0807 01079000
*         LCBUSUE=ON;               /* SET UNIT EXCEPTION            */ 01080000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0808 01081000
*         LCBEQUCK=ON;              /* SET EQUIPMENT CHECK           */ 01082000
         OI    LCBEQUCK(IEDQLPTR),B'00010000'                      0809 01083000
*         SCBCTLUN=ON;              /* SET CNTRL UNIT ERROR          */ 01084000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0810 01085000
         OI    SCBCTLUN(@09),B'00000100'                           0810 01086000
*       END;                                                       0811 01087000
*                                                                  0811 01088000
*/*                                                                  */ 01089000
*/* DO "NORMAL" FINAL STATUS ANALYSIS                                */ 01090000
*/*                                                                  */ 01091000
*                                                                  0812 01092000
*     ELSE                                                         0812 01093000
*       DO;                                                        0812 01094000
         B     @RC00805                                            0812 01095000
@RF00805 DS    0H                                                  0813 01096000
*         SCBTRMLN=ON;                                             0813 01097000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0813 01098000
         OI    SCBTRMLN(@09),B'00010000'                           0813 01099000
*         IF BDUXFINL=EXTX00 THEN   /* IS THIS TIMEOUT WITH DATA?    */ 01100000
         TM    BDUXFINL(BDUPTR),B'00011110'                        0814 01101000
         BNZ   @RF00814                                            0814 01102000
*           DO;                     /*                       @YM08429*/ 01103000
*             LCBTMOUT=ON;          /* SET TIMEOUT INDICATOR         */ 01104000
         OI    LCBTMOUT(IEDQLPTR),B'00000001'                      0816 01105000
*             LCBUSUE=ON;           /* PREVENT RETRY         @YM08429*/ 01106000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0817 01107000
*           END;                    /*                       @YM08429*/ 01108000
*         ELSE                                                     0819 01109000
*           IF BDUPHASE=RSP60&      /* IF PHASE 3 AND                */ 01110000
*               BDUXFINL=EXTX10 THEN/* NCP EXECUTED CUTOFF MACRO     */ 01111000
         B     @RC00814                                            0819 01112000
@RF00814 TM    BDUPHASE(BDUPTR),B'01100000'                        0819 01113000
         BNO   @RF00819                                            0819 01114000
         TM    BDUXFINL(BDUPTR),B'00010000'                        0819 01115000
         BNO   @RF00819                                            0819 01116000
         TM    BDUXFINL(BDUPTR),B'00001110'                        0819 01117000
         BNZ   @RF00819                                            0819 01118000
*             DO;                                                  0820 01119000
*               LCBUSUE=ON;         /* SET UNIT EXCEPTION            */ 01120000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0821 01121000
*               SCBCUTFN=ON;        /* TREAT AS CUTOFF               */ 01122000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0822 01123000
         OI    SCBCUTFN(@09),B'00000001'                           0822 01124000
*             END;                                                 0823 01125000
*           ELSE                                                   0824 01126000
*             IF BDUXFINL=EXTX08 THEN/* DID EOT HALT ERP?            */ 01127000
         B     @RC00819                                            0824 01128000
@RF00819 TM    BDUXFINL(BDUPTR),B'00001000'                        0824 01129000
         BNO   @RF00824                                            0824 01130000
         TM    BDUXFINL(BDUPTR),B'00010110'                        0824 01131000
         BNZ   @RF00824                                            0824 01132000
*               DO;                                                0825 01133000
*                 SCBABRTN=ON;      /* SET ABORT ERROR INDICATOR     */ 01134000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0826 01135000
         OI    SCBABRTN(@09),B'00000100'                           0826 01136000
*                 LCBUSUE=ON;       /* SET UNIT EXCEPTION            */ 01137000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0827 01138000
*               END;                                               0828 01139000
*       END;                        /* END OF "NORMAL" FINAL STATUS     01140000
*                                      ANALYSIS                      */ 01141000
@RF00824 DS    0H                                                  0829 01142000
@RC00819 DS    0H                                                  0829 01143000
@RC00814 DS    0H                                                  0830 01144000
*/*                                                                  */ 01145000
*/* SAVE STATUS FOR TCAM ERROR MESSAGE                               */ 01146000
*/*                                                                  */ 01147000
*                                                                  0830 01148000
*   IF SCBLCK1N=ON&                 /* IF IN EXTENDED        @YM08125*/ 01149000
*       SCBMSGLN=OFF THEN           /* LOCK MODE             @YM08125*/ 01150000
@RC00805 DS    0H                                                  0830 01151000
@RC00765 L     @09,IEDQSPTR-1(,IEDQLPTR)                           0830 01152000
         TM    SCBLCK1N(@09),B'00100000'                           0830 01153000
         BNO   @RF00830                                            0830 01154000
         TM    SCBMSGLN(@09),B'00001000'                           0830 01155000
         BNZ   @RF00830                                            0830 01156000
*     LCBNEGRP=OFF;                 /* RESET NEGRP           @YM08125*/ 01157000
         NI    LCBNEGRP(IEDQLPTR),B'11110111'                      0831 01158000
*   IF BDUXFINL=EXTS00&             /* IF TIMEOUT TO POLL AND        */ 01159000
*       AVTTOPOL=ON THEN            /* TIMEOUT MESSAGES SUPPRESSED   */ 01160000
@RF00830 TM    BDUXFINL(BDUPTR),B'00011110'                        0832 01161000
         BNZ   @RF00832                                            0832 01162000
         TM    AVTTOPOL(IEDQAPTR),B'00010000'                      0832 01163000
         BO    @RT00832                                            0832 01164000
*     ;                             /* THEN DO NOTHING               */ 01165000
*   ELSE                                                           0834 01166000
*     DO;                           /* OTHERWISE, SAVE....           */ 01167000
@RF00832 DS    0H                                                  0835 01168000
*       LCBCMDSV=BDUCMND;           /* PRESERVE COMMAND      @OY18040*/ 01169000
         MVC   LCBCMDSV(1,IEDQLPTR),BDUCMND(BDUPTR)                0835 01170000
*       LCBCSWRC=BDURSP;            /* BDU SYSTEM RESPONSE AND BDU 0836 01171000
*                                      LINE RESPONSE         @YM08042*/ 01172000
         MVC   LCBCSWRC(2,IEDQLPTR),BDURSP(BDUPTR)                 0836 01173000
*       LCBERMSG=ON;                /* REQUEST TCAM ERROR MESSAGE    */ 01174000
         OI    LCBERMSG(IEDQLPTR),B'00100000'                      0837 01175000
*     END;                                                         0838 01176000
*   END ERRORBIT;                                                  0839 01177000
@EL00006 DS    0H                                                  0839 01178000
@EF00006 DS    0H                                                  0839 01179000
@ER00006 L     @14,12(,@13)                                        0839 01180000
         BR    @14                                                 0839 01181000
*                                                                  0840 01182000
*   /*****************************************************************/ 01183000
*   /*                                                               */ 01184000
*   /* ERRSTAT: SETS BSC STATUS PENDING INDICATOR, PROCESSES TSO     */ 01185000
*   /* ATTENTION AND HANGUP. CALLS PROCEDURE TO SET SCB/LCB ERROR    */ 01186000
*   /* INDICATORS                                                    */ 01187000
*   /*                                                               */ 01188000
*   /*****************************************************************/ 01189000
*                                                                  0840 01190000
*ERRSTAT:                                                          0840 01191000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0840 01192000
ERRSTAT  ST    @14,@SA00007                                        0840 01193000
*   IF TRMGPACT=ON THEN             /* IF GEN POLL ACT THEN  @YM08504*/ 01194000
         TM    TRMGPACT(RTRM),B'00001000'                          0841 01195000
         BNO   @RF00841                                            0841 01196000
*     LCBUSUE=ON;                   /* DISALLOW STOP OR CONTINUE   0842 01197000
*                                      PROCESSING IN IEDQBT  @YM08504*/ 01198000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0842 01199000
*   IF BDUSYRSP=RSPSTPND THEN       /* IF BSC STATUS IS PENDING      */ 01200000
@RF00841 CLI   BDUSYRSP(BDUPTR),X'A5'                              0843 01201000
         BNE   @RF00843                                            0843 01202000
*     DO;                                                          0844 01203000
*       TRMSTPND=ON;                /* SET BSC STATUS PENDING        */ 01204000
         OI    TRMSTPND(RTRM),B'10000000'                          0845 01205000
*       SCBTXTTN=ON;                /* ERROR DURING TEXT TRANSFER    */ 01206000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0846 01207000
         OI    SCBTXTTN(@09),B'01000000'                           0846 01208000
*       LCBUSUE=ON;                 /* SET UNIT EXCEPTION    @OY20382*/ 01209000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0847 01210000
*     END;                                                         0848 01211000
*   ELSE                                                           0849 01212000
*     IF(QCBTSSES=ON&BDURESP=RSPE13)|/* IF TSO...                    */ 01213000
*         TRMTSATN=ON|              /* ...ATTENTION...               */ 01214000
*         TRMWRBRK=ON THEN          /* ... OR WRITE BREAK            */ 01215000
         B     @RC00843                                            0849 01216000
@RF00843 L     @09,IEDQQPTR                                        0849 01217000
         TM    QCBTSSES(@09),B'10000000'                           0849 01218000
         BNO   @GL00027                                            0849 01219000
         TM    BDURESP(BDUPTR),B'00010011'                         0849 01220000
         BNO   @GL00027                                            0849 01221000
         TM    BDURESP(BDUPTR),B'00001100'                         0849 01222000
         BZ    @RT00849                                            0849 01223000
@GL00027 TM    TRMTSATN(RTRM),B'00000100'                          0849 01224000
         BO    @RT00849                                            0849 01225000
         TM    TRMWRBRK(RTRM),B'00000001'                          0849 01226000
         BNO   @RF00849                                            0849 01227000
@RT00849 DS    0H                                                  0850 01228000
*       DO;                                                        0850 01229000
*         IF TRMWRBRK=ON THEN       /* WRITE BREAK?                  */ 01230000
         TM    TRMWRBRK(RTRM),B'00000001'                          0851 01231000
         BO    @RT00851                                            0851 01232000
*           ;                       /* NOTHING ELSE TO DO            */ 01233000
*         ELSE                                                     0853 01234000
*           DO;                                                    0853 01235000
*             LCBUSUE=ON;           /* SET UNIT EXCEPTION    @YM08455*/ 01236000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       0854 01237000
*             TRMTSATN=OFF;         /* SET ATTENTION OFF IN TTE(CLEAN   01238000
*                                      UP)                   @YM04622*/ 01239000
         NI    TRMTSATN(RTRM),B'11111011'                          0855 01240000
*             SCBATTN=ON;           /* SET ATTENTION                 */ 01241000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0856 01242000
         OI    SCBATTN(@09),B'00000010'                            0856 01243000
*             CALL ERRORBIT;        /*                       @YM08454*/ 01244000
         BAL   @14,ERRORBIT                                        0857 01245000
*           END;                                                   0858 01246000
*       END;                                                       0859 01247000
*     ELSE                                                         0860 01248000
*       DO;                                                        0860 01249000
         B     @RC00849                                            0860 01250000
@RF00849 DS    0H                                                  0861 01251000
*         IF(BDURESP=RSPE0C&QCBTSSES=ON)|/* TSO HANGUP?              */ 01252000
*             TRMLYNCH=ON THEN                                     0861 01253000
         TM    BDURESP(BDUPTR),B'00001100'                         0861 01254000
         BNO   @GL00029                                            0861 01255000
         TM    BDURESP(BDUPTR),B'00010011'                         0861 01256000
         BNZ   @GL00029                                            0861 01257000
         L     @09,IEDQQPTR                                        0861 01258000
         TM    QCBTSSES(@09),B'10000000'                           0861 01259000
         BO    @RT00861                                            0861 01260000
@GL00029 TM    TRMLYNCH(RTRM),B'00000001'                          0861 01261000
         BNO   @RF00861                                            0861 01262000
@RT00861 DS    0H                                                  0862 01263000
*           DO;                                                    0862 01264000
*             TRMLYNCH=ON;          /* SET HANGUP INDICATOR          */ 01265000
         OI    TRMLYNCH(RTRM),B'00000001'                          0863 01266000
*             SCBCTLUN=ON;          /* SET CONTROL UNIT ERROR        */ 01267000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0864 01268000
         OI    SCBCTLUN(@09),B'00000100'                           0864 01269000
*           END;                                                   0865 01270000
*         CALL ERRORBIT;            /* SETS SCB/LCB ERROR INDICATORS */ 01271000
@RF00861 BAL   @14,ERRORBIT                                        0866 01272000
*       END;                                                       0867 01273000
*   END ERRSTAT;                    /* RETURN TO CALLER              */ 01274000
@EL00007 DS    0H                                                  0868 01275000
@EF00007 DS    0H                                                  0868 01276000
@ER00007 L     @14,@SA00007                                        0868 01277000
         BR    @14                                                 0868 01278000
         EJECT                                                          01279000
*                                                                  0869 01280000
*   /*****************************************************************/ 01281000
*   /*                                                               */ 01282000
*   /* POST A BUFFER TO BUFFER RETURN                                */ 01283000
*   /*                                                               */ 01284000
*   /*****************************************************************/ 01285000
*                                                                  0869 01286000
*FREEBFR:                                                          0869 01287000
*   PROC OPTIONS(RETREG,SAVE(14));  /*                       @YM04674*/ 01288000
FREEBFR  ST    @14,@SA00008                                        0869 01289000
*   RPARM->PRFNBUNT=0;              /* SET NUMB UNITS=0              */ 01290000
         MVI   PRFNBUNT(RPARM),X'00'                               0870 01291000
*   RPARM->PRFPRI='E0'X;            /* INDICATE PRIORITY             */ 01292000
         MVI   PRFPRI(RPARM),X'E0'                                 0871 01293000
*   RPARM->PRFQCBA=ADDR(AVTBFRTB);  /* QCB ADDRESS                   */ 01294000
         LA    @09,AVTBFRTB(,IEDQAPTR)                             0872 01295000
         STCM  @09,7,PRFQCBA(RPARM)                                0872 01296000
*   CALL DSPPOSTR;                                                 0873 01297000
         LA    @15,DSPPOSTR(,RDISP)                                0873 01298000
         BALR  @14,@15                                             0873 01299000
*   END FREEBFR;                    /* RETURN TO CALLER              */ 01300000
@EL00008 DS    0H                                                  0874 01301000
@EF00008 DS    0H                                                  0874 01302000
@ER00008 L     @14,@SA00008                                        0874 01303000
         BR    @14                                                 0874 01304000
         EJECT                                                          01305000
*                                                                  0875 01306000
*   /*****************************************************************/ 01307000
*   /*                                                               */ 01308000
*   /* SEVERAL TYPES OF RESPONSE RECEIVED WITHOUT DATA AND CERTAIN   */ 01309000
*   /* DIAL RESPONSES WITH DATA SHOULD NOT GO TO THE MESSAGE HANDLER.*/ 01310000
*   /* THE PURPOSE OF THIS SUBROUTINE IS TO IDENTIFY RESPONSES NOT   */ 01311000
*   /* DESTINED FOR THE MESSAGE HANDLER AND TAKE ACTION AS           */ 01312000
*   /* APPROPRIATE                                                   */ 01313000
*   /*                                                               */ 01314000
*   /*****************************************************************/ 01315000
*                                                                  0875 01316000
*MHCHKER:                                                          0875 01317000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0875 01318000
*                                                                  0875 01319000
MHCHKER  ST    @14,@SA00009                                        0875 01320000
*/*                                                                  */ 01321000
*                                                                  0876 01322000
*                                   /* FOR PIU'S WITHOUT DATA      0876 01323000
*                                                            @YM08115*/ 01324000
*   IF TTHDCF=HDRLEN THEN                                          0876 01325000
         L     @09,PIUPTR                                          0876 01326000
         SLR   @05,@05                                             0876 01327000
         ICM   @05,3,TTHDCF(@09)                                   0876 01328000
         SLR   @09,@09                                             0876 01329000
         IC    @09,HDRLEN                                          0876 01330000
         CR    @05,@09                                             0876 01331000
         BNE   @RF00876                                            0876 01332000
*     DO;                           /* DO SPECIAL PROCESSING @YM08115*/ 01333000
*/*                                                                  */ 01334000
*                                                                  0878 01335000
*       IF(QCBTSSES=ON&BDURESP=RSPE13) THEN/* TSO ATTN?      @YM05722*/ 01336000
         L     @09,IEDQQPTR                                        0878 01337000
         TM    QCBTSSES(@09),B'10000000'                           0878 01338000
         BNO   @RF00878                                            0878 01339000
         TM    BDURESP(BDUPTR),B'00010011'                         0878 01340000
         BNO   @RF00878                                            0878 01341000
         TM    BDURESP(BDUPTR),B'00001100'                         0878 01342000
         BZ    @RT00878                                            0878 01343000
*         ;                         /* DO NOTHING            @YM05722*/ 01344000
*       ELSE                                                       0880 01345000
*         IF(BDUXFINL=EXTX18&       /* IF THIS IS EOT                */ 01346000
*             BDUXINIT^=EXT80&      /* AND NOT SPECIAL AND           */ 01347000
*             BDUXINIT^=EXTE0) THEN /* NOT HARDWARE AND              */ 01348000
@RF00878 TM    BDUXFINL(BDUPTR),B'00011000'                        0880 01349000
         BNO   @RF00880                                            0880 01350000
         TM    BDUXFINL(BDUPTR),B'00000110'                        0880 01351000
         BNZ   @RF00880                                            0880 01352000
         TM    BDUXINIT(BDUPTR),B'10000000'                        0880 01353000
         BNO   @GL00032                                            0880 01354000
         TM    BDUXINIT(BDUPTR),B'01100000'                        0880 01355000
         BZ    @RF00880                                            0880 01356000
@GL00032 TM    BDUXINIT(BDUPTR),B'11100000'                        0880 01357000
         BO    @RF00880                                            0880 01358000
*           DO;                                                    0881 01359000
*             IF LCBCONT=OFF&       /* IF MSG IS EOT ONLY AND        */ 01360000
*                 SCBBFMM=OFF THEN  /* ^ IN MIDDLE OF LMD MESSAGE    */ 01361000
         TM    LCBCONT(IEDQLPTR),B'00001000'                       0882 01362000
         BNZ   @RF00882                                            0882 01363000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0882 01364000
         TM    SCBBFMM(@09),B'00000001'                            0882 01365000
         BNZ   @RF00882                                            0882 01366000
*               DO;                                                0883 01367000
*                 CALL SETNEGRP;                                   0884 01368000
         BAL   @14,SETNEGRP                                        0884 01369000
*                 RETCODE=NOPOST;   /* INDICATE THIS INPUT IS NOT    */ 01370000
         MVI   RETCODE,X'00'                                       0885 01371000
*               END;                /* GOING TO MH                   */ 01372000
*           END;                                                   0887 01373000
*                                                                  0887 01374000
*/*                                                                  */ 01375000
*                                                                  0888 01376000
*         ELSE                      /* IT IS NOT EOT                 */ 01377000
*           IF(BDUERROR=ON&         /* IF THIS WAS AN ERROR AND      */ 01378000
*               BDURESP=RSPE1E) THEN/* IF COMMAND WAS RESET          */ 01379000
         B     @RC00880                                            0888 01380000
@RF00880 TM    BDUERROR(BDUPTR),B'10000000'                        0888 01381000
         BNO   @RF00888                                            0888 01382000
         TM    BDURESP(BDUPTR),B'00011110'                         0888 01383000
         BNO   @RF00888                                            0888 01384000
         TM    BDURESP(BDUPTR),B'00000001'                         0888 01385000
         BNZ   @RF00888                                            0888 01386000
*             DO;                                                  0889 01387000
*               IF LCBCONT=OFF&     /* AND NOTHING PREVIOUSLY RCVD   */ 01388000
*                   SCBBFMM=OFF THEN/* AND NOT IN MIDDLE OF LMD MSG  */ 01389000
         TM    LCBCONT(IEDQLPTR),B'00001000'                       0890 01390000
         BNZ   @RF00890                                            0890 01391000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           0890 01392000
         TM    SCBBFMM(@09),B'00000001'                            0890 01393000
         BNZ   @RF00890                                            0890 01394000
*                 DO;                                              0891 01395000
*                   RPARM=RPRF;                                    0892 01396000
         LR    RPARM,RPRF                                          0892 01397000
*                   CALL FREEBFR;   /* THEN FREE THE BUFFER          */ 01398000
         BAL   @14,FREEBFR                                         0893 01399000
*                   CALL POSTPLCB;  /* POST PLCB TO BD               */ 01400000
         BAL   @14,POSTPLCB                                        0894 01401000
*                   RETCODE=NOPOST; /* INDICATE THIS INPUT IS NOT    */ 01402000
         MVI   RETCODE,X'00'                                       0895 01403000
*                 END;              /* GOING TO MH                   */ 01404000
*             END;                                                 0897 01405000
*                                                                  0897 01406000
*/*                                                                  */ 01407000
*                                                                  0898 01408000
*           ELSE                    /* CMD WAS NOT RESET             */ 01409000
*             IF BDUPHASE^=RSP00&   /* IF THIS IS NOT PHASE 0        */ 01410000
*                 (BDURESP=RSPE03|  /* AND NEG POLL WAIT     @OY18012*/ 01411000
*                 (BDUERROR=OFF&    /* AND NOT ERROR         @OY18012*/ 01412000
*                 BDURESP=RSPN06)) THEN/* OR NEG POLLWAIT    @OY18012*/ 01413000
         B     @RC00888                                            0898 01414000
@RF00888 TM    BDUPHASE(BDUPTR),B'01100000'                        0898 01415000
         BZ    @RF00898                                            0898 01416000
         TM    BDURESP(BDUPTR),B'00000011'                         0898 01417000
         BNO   @GL00038                                            0898 01418000
         TM    BDURESP(BDUPTR),B'00011100'                         0898 01419000
         BZ    @RT00898                                            0898 01420000
@GL00038 TM    BDUERROR(BDUPTR),B'10000000'                        0898 01421000
         BNZ   @RF00898                                            0898 01422000
         TM    BDURESP(BDUPTR),B'00000110'                         0898 01423000
         BNO   @RF00898                                            0898 01424000
         TM    BDURESP(BDUPTR),B'00011001'                         0898 01425000
         BNZ   @RF00898                                            0898 01426000
@RT00898 DS    0H                                                  0899 01427000
*               DO;                 /*                       @YM08043*/ 01428000
*                 IF LCBCONT=ON THEN/* READ CONTINUE         @YM08043*/ 01429000
         TM    LCBCONT(IEDQLPTR),B'00001000'                       0900 01430000
         BNO   @RF00900                                            0900 01431000
*                   DO;             /* YES                   @YM08043*/ 01432000
*                     BDUSYRSP=PHASE3OK;/* CHANGE RESPONSE TO...   0902 01433000
*                                                            @YM08043*/ 01434000
         MVI   BDUSYRSP(BDUPTR),X'62'                              0902 01435000
*                     BDUEXRSP=EOTRSP;/* EOT                 @YM08043*/ 01436000
         MVI   BDUEXRSP(BDUPTR),X'18'                              0903 01437000
*                     BDUHEADR=OFF; /* SET NOT HEADER        @YM08429*/ 01438000
         NI    BDUHEADR(BDUPTR),B'10111111'                        0904 01439000
*                   END;            /*                       @YM08043*/ 01440000
*                 ELSE              /* NOT READ CONTINUE     @YM08043*/ 01441000
*                   DO;             /*                       @YM08043*/ 01442000
         B     @RC00900                                            0906 01443000
@RF00900 DS    0H                                                  0907 01444000
*                     CALL SETNEGRP;/* DO NEG RESP PROCESSING      0907 01445000
*                                                            @YM08043*/ 01446000
         BAL   @14,SETNEGRP                                        0907 01447000
*                     RETCODE=NOPOST;/* INDICATE NOT GOING TO MH   0908 01448000
*                                                            @YM08043*/ 01449000
         MVI   RETCODE,X'00'                                       0908 01450000
*                   END;            /*                       @YM08043*/ 01451000
*               END;                /*                       @YM08043*/ 01452000
*                                                                  0910 01453000
*       /*************************************************************/ 01454000
*       /*                                                           */ 01455000
*       /* IF AN EOB/ETB/ETX "ONLY" IS RECEIVED WITHOUT ERROR AND ITS*/ 01456000
*       /* NOT PHASE 3, THEN UPDATE THE OFFSET COUNT TO EOB AND      */ 01457000
*       /* DISCARD THIS INPUT                                        */ 01458000
*       /*                                                           */ 01459000
*       /*************************************************************/ 01460000
*                                                                  0911 01461000
*             ELSE                                                 0911 01462000
*               IF BDUERROR=OFF&    /* IF THIS IS NOT AN ERROR       */ 01463000
*                   BDUPHASE^=RSP60&/* AND NOT PHASE 3               */ 01464000
*                   LCBCONT=ON&     /* AND NOT FIRST BLOCK   @YM08172*/ 01465000
*                   (BDUXFINL=EXTX12|/* AND IT IS ETX                */ 01466000
*                   BDUXFINL=EXTX14)&/* OR ETB                       */ 01467000
*                   (BDUXINIT^=EXT80&/* AND NOT SPECIAL              */ 01468000
*                   BDUXINIT^=EXTE0) THEN/* OR HARDWARE STATUS       */ 01469000
         B     @RC00898                                            0911 01470000
@RF00898 TM    BDUERROR(BDUPTR),B'10000000'                        0911 01471000
         BNZ   @RF00911                                            0911 01472000
         TM    BDUPHASE(BDUPTR),B'01100000'                        0911 01473000
         BO    @RF00911                                            0911 01474000
         TM    LCBCONT(IEDQLPTR),B'00001000'                       0911 01475000
         BNO   @RF00911                                            0911 01476000
         TM    BDUXFINL(BDUPTR),B'00010010'                        0911 01477000
         BNO   @GL00044                                            0911 01478000
         TM    BDUXFINL(BDUPTR),B'00001100'                        0911 01479000
         BZ    @GL00040                                            0911 01480000
@GL00044 TM    BDUXFINL(BDUPTR),B'00010100'                        0911 01481000
         BNO   @RF00911                                            0911 01482000
         TM    BDUXFINL(BDUPTR),B'00001010'                        0911 01483000
         BNZ   @RF00911                                            0911 01484000
@GL00040 TM    BDUXINIT(BDUPTR),B'10000000'                        0911 01485000
         BNO   @GL00045                                            0911 01486000
         TM    BDUXINIT(BDUPTR),B'01100000'                        0911 01487000
         BZ    @RF00911                                            0911 01488000
@GL00045 TM    BDUXINIT(BDUPTR),B'11100000'                        0911 01489000
         BO    @RF00911                                            0911 01490000
*                 DO;                                              0912 01491000
*                   IF LCBPAKCH^=0 THEN/* IF THERE IS A BUFFER ON THE   01492000
*                                      PACK CHAIN                    */ 01493000
         L     @09,LCBPAKCH-1(,IEDQLPTR)                           0913 01494000
         LA    @09,0(,@09)                                         0913 01495000
         LTR   @09,@09                                             0913 01496000
         BZ    @RF00913                                            0913 01497000
*                     LCBRECOF=LCBPAKCH->TTHDCF-HDRLEN;            0914 01498000
         SLR   @05,@05                                             0914 01499000
         ICM   @05,3,TTHDCF(@09)                                   0914 01500000
         SLR   @09,@09                                             0914 01501000
         IC    @09,HDRLEN                                          0914 01502000
         SLR   @05,@09                                             0914 01503000
         STH   @05,LCBRECOF(,IEDQLPTR)                             0914 01504000
*                   RPARM=RPRF;                                    0915 01505000
@RF00913 LR    RPARM,RPRF                                          0915 01506000
*                   CALL FREEBFR;                                  0916 01507000
         BAL   @14,FREEBFR                                         0916 01508000
*                   RETCODE=NOPOST;                                0917 01509000
         MVI   RETCODE,X'00'                                       0917 01510000
*                 END;                                             0918 01511000
*                                                                  0918 01512000
*/*                                                                  */ 01513000
*/*EVERYTHING ELSE IS GOING TO MH SO LEAVE RET CODE UNTOUCHED        */ 01514000
*/*                                                                  */ 01515000
*                                                                  0919 01516000
*     END;                          /*                       @YM08115*/ 01517000
*   END MHCHKER;                    /* RETURN TO CALLER              */ 01518000
@EL00009 DS    0H                                                  0920 01519000
@EF00009 DS    0H                                                  0920 01520000
@ER00009 L     @14,@SA00009                                        0920 01521000
         BR    @14                                                 0920 01522000
         EJECT                                                          01523000
*                                                                  0921 01524000
*   /*****************************************************************/ 01525000
*   /*                                                               */ 01526000
*   /* IF THE BLOCKING OPTION IS CHOSEN ON THE GROUP MACRO THIS      */ 01527000
*   /* SUBROUTINE WILL BE EXECUTED. THE FUNCTION OF THIS SUBROUTINE  */ 01528000
*   /* IS TO ACCUMULATE ARRIVING MESSAGE SEGMENTS UNTIL THE USER     */ 01529000
*   /* SPECIFIED BUFSIZE IS REACHED OR FINAL STATUS IS RECEIVED. WHEN*/ 01530000
*   /* EITHER CONDITION OCCURS, THE CURRENT AND PREVIOUSLY RECEIVED  */ 01531000
*   /* INPUT WILL BE SENT TO THE MESSAGE HANDLER                     */ 01532000
*   /*                                                               */ 01533000
*   /*****************************************************************/ 01534000
*                                                                  0921 01535000
*PACKER:                                                           0921 01536000
*   PROC OPTIONS(SAVE(14),RETREG);                                 0921 01537000
*                                                                  0921 01538000
PACKER   ST    @14,@SA00010                                        0921 01539000
*/*                                                                  */ 01540000
*                                                                  0922 01541000
*   IF LCBPAKCH^=0 THEN             /* IF ANYTHING IS ON CHAIN       */ 01542000
         L     @09,LCBPAKCH-1(,IEDQLPTR)                           0922 01543000
         LA    @09,0(,@09)                                         0922 01544000
         LTR   @09,@09                                             0922 01545000
         BZ    @RF00922                                            0922 01546000
*     DO;                                                          0923 01547000
*       PACKPIU=ADDR(LCBPAKCH->PRFPIUO)+LCBPAKCH->PRFPIUO;/* SET   0924 01548000
*                                      UP...                         */ 01549000
         LA    PACKPIU,PRFPIUO(,@09)                               0924 01550000
         SLR   @00,@00                                             0924 01551000
         IC    @00,PRFPIUO(,@09)                                   0924 01552000
         ALR   PACKPIU,@00                                         0924 01553000
*       PACKBDU=ADDR(PACKPIU->PIU0RU);/* PIU AND BDU ADDRESSABILITY  */ 01554000
         LA    PACKBDU,PIU0RU(,PACKPIU)                            0925 01555000
*       LCBPAKCH->PRFPRI=PRFPRI;    /* THE PACK BUFFER SHOULD HAVE 0926 01556000
*                                      SAME PRIORITY AS CURRENT INPUT*/ 01557000
         MVC   PRFPRI(1,@09),PRFPRI(IEDQPPTR)                      0926 01558000
*/*                                                                  */ 01559000
*/*OVERLAY THE BDU OF THE PACK SEGMENT WITH THE BDU FROM THE CURRENT */ 01560000
*/*INPUT WHILE PRESERVING STATUS OF THE HEADER BIT.                  */ 01561000
*/*                                                                  */ 01562000
*                                                                  0927 01563000
*       IF PACKBDU->BDUHEADR=ON THEN                               0927 01564000
         TM    BDUHEADR(PACKBDU),B'01000000'                       0927 01565000
         BNO   @RF00927                                            0927 01566000
*         BDUHEADR=ON;              /* TURN ON HEADER BIT IN INPUT 0928 01567000
*                                      BDU                           */ 01568000
         OI    BDUHEADR(BDUPTR),B'01000000'                        0928 01569000
*       PACKBDU->IEDBDU=IEDBDU;     /* OVERLAY PACK BDU WITH INPUT 0929 01570000
*                                      BDU                           */ 01571000
@RF00927 MVC   IEDBDU(6,PACKBDU),IEDBDU(BDUPTR)                    0929 01572000
*/*                                                                  */ 01573000
*/*THE CURRENT INPUT MESSAGE SEGMENT WILL BE LINKED TO THE LAST UNIT */ 01574000
*/*ON THE PACK CHAIN.                                                */ 01575000
*/*                                                                  */ 01576000
*                                                                  0930 01577000
*       LASTUNIT=LCBPAKCH;          /* PICKUP PTR TO START OF CHAIN  */ 01578000
         L     LASTUNIT,LCBPAKCH-1(,IEDQLPTR)                      0930 01579000
         LA    LASTUNIT,0(,LASTUNIT)                               0930 01580000
*       DO WHILE(LASTUNIT->PRFTIC^=PRFINTIC);                      0931 01581000
         B     @DE00931                                            0931 01582000
@DL00931 DS    0H                                                  0932 01583000
*         LASTUNIT=LASTUNIT->PRFTI0;                               0932 01584000
         L     @10,PRFTI0-1(,LASTUNIT)                             0932 01585000
         LA    @10,0(,@10)                                         0932 01586000
         LR    LASTUNIT,@10                                        0932 01587000
*       END;                                                       0933 01588000
@DE00931 CLC   PRFTIC(4,LASTUNIT),@CB01423                         0933 01589000
         BNE   @DL00931                                            0933 01590000
*       LASTUNIT->PRFTI0=RPRF;      /* CURRENT INPUT IS NOW ON END OF   01591000
*                                      CHAIN                         */ 01592000
         STCM  RPRF,7,PRFTI0(LASTUNIT)                             0934 01593000
*/*                                                                  */ 01594000
*/* CALCULATE UNUSED SPACE IN UNIT POINTED TO BY 'LASTUNIT'          */ 01595000
*/*                                                                  */ 01596000
*                                                                  0935 01597000
*       REM=(PACKPIU->TTHDCF+LENGTH(IEDTH)+LCBPAKCH->PRFPIUO)//AVTKEYLE 01598000
*           ;                                                      0935 01599000
         LA    REM,10                                              0935 01600000
         SLR   @09,@09                                             0935 01601000
         ICM   @09,3,TTHDCF(PACKPIU)                               0935 01602000
         ALR   REM,@09                                             0935 01603000
         L     @09,LCBPAKCH-1(,IEDQLPTR)                           0935 01604000
         SLR   @00,@00                                             0935 01605000
         IC    @00,PRFPIUO(,@09)                                   0935 01606000
         ALR   REM,@00                                             0935 01607000
         LR    @14,REM                                             0935 01608000
         SRDA  @14,32                                              0935 01609000
         LH    REM,AVTKEYLE(,IEDQAPTR)                             0935 01610000
         DR    @14,REM                                             0935 01611000
         LR    REM,@14                                             0935 01612000
*       IF REM=0 THEN               /* ZERO REMAINDER MEANS        0936 01613000
*                                      'LASTUNIT' IS FULL            */ 01614000
         LTR   REM,REM                                             0936 01615000
         BNZ   @RF00936                                            0936 01616000
*         DO;                                                      0937 01617000
*           PLMVTD=ADDR(PRFPIUO);   /* TARGET DATA ADDRESS IS IN   0938 01618000
*                                      CURRENT UNIT                  */ 01619000
         LA    @10,PLMV                                            0938 01620000
         LA    @09,PRFPIUO(,IEDQPPTR)                              0938 01621000
         ST    @09,PLMVTD(,@10)                                    0938 01622000
*           PLMVTU=RPRF;            /* INDICATE THE TARGET UNIT    0939 01623000
*                                      ADDRESS                       */ 01624000
         ST    RPRF,PLMVTU(,@10)                                   0939 01625000
*         END;                                                     0940 01626000
*       ELSE                        /* NONZERO REMAINDER MEANS     0941 01627000
*                                      'LASTUNIT' IS NOT FULL        */ 01628000
*         DO;                                                      0941 01629000
         B     @RC00936                                            0941 01630000
@RF00936 DS    0H                                                  0942 01631000
*           PLMVTU=LASTUNIT;        /* 'LASTUNIT' IS TARGET UNIT FOR    01632000
*                                      DATA MOVE                     */ 01633000
         LA    @09,PLMV                                            0942 01634000
         ST    LASTUNIT,PLMVTU(,@09)                               0942 01635000
*           PLMVTD=ADDR(LASTUNIT->PRFPIUO)+REM;/* TARGET DATA ADDRESS*/ 01636000
         LA    @00,PRFPIUO(,LASTUNIT)                              0943 01637000
         ALR   @00,REM                                             0943 01638000
         ST    @00,PLMVTD(,@09)                                    0943 01639000
*         END;                                                     0944 01640000
*                                                                  0944 01641000
*/*                                                                  */ 01642000
*                                                                  0945 01643000
*       PLMVLNTH=TTHDCF-HDRLEN;     /* DATA LENGTH TO BE MOVED       */ 01644000
@RC00936 LA    @10,PLMV                                            0945 01645000
         L     @09,PIUPTR                                          0945 01646000
         SLR   @02,@02                                             0945 01647000
         ICM   @02,3,TTHDCF(@09)                                   0945 01648000
         SLR   @00,@00                                             0945 01649000
         IC    @00,HDRLEN                                          0945 01650000
         SLR   @02,@00                                             0945 01651000
         STH   @02,PLMVLNTH(,@10)                                  0945 01652000
*       PACKPIU->TTHDCF=PACKPIU->TTHDCF+PLMVLNTH;/* ADD WHAT WAS   0946 01653000
*                                      RECEIVED TO WHAT WAS ON HAND  */ 01654000
         SLR   @00,@00                                             0946 01655000
         ICM   @00,3,TTHDCF(PACKPIU)                               0946 01656000
         ALR   @02,@00                                             0946 01657000
         STCM  @02,3,TTHDCF(PACKPIU)                               0946 01658000
*       PLMVSU=RPRF;                /* SET A POINTER TO SOURCE UNIT  */ 01659000
         ST    RPRF,PLMVSU(,@10)                                   0947 01660000
*       PLMVSD=ADDR(PIU0RU)+LENGTH(IEDBDU);/* SET POINTER TO SOURCE     01661000
*                                      DATA                          */ 01662000
         LA    @09,PIU0RU(,@09)                                    0948 01663000
         AL    @09,@CF00058                                        0948 01664000
         ST    @09,PLMVSD(,@10)                                    0948 01665000
*       PLMVFLG1=0;                 /* CLEAR THE FLAG BYTE           */ 01666000
         MVI   PLMVFLG1(@10),X'00'                                 0949 01667000
*       PLMVUNCF=ON;                /* THIS BIT REQUESTS THAT EMPTY     01668000
*                                      UNITS BE UNCHAINED            */ 01669000
         OI    PLMVUNCF(@10),B'10000000'                           0950 01670000
*       RPARM=ADDR(PLMV);           /* ADDRESS OF PARM LIST          */ 01671000
         LR    RPARM,@10                                           0951 01672000
*       CALL IEDMVBFR;              /* THIS MODULE PERFORMS DATA   0952 01673000
*                                      MOVEMENT FROM INDICATED SOURCE   01674000
*                                      TO INDICATED TARGET           */ 01675000
         L     @10,AVTSAVTP(,IEDQAPTR)                             0952 01676000
         L     @15,SAVTMVBF(,@10)                                  0952 01677000
         BALR  @14,@15                                             0952 01678000
*       IF PLMVUNCA^=0 THEN         /* ON RETURN THIS FIELD POINTS TO   01679000
*                                      EMPTY UNITS                   */ 01680000
         LA    @10,PLMV                                            0953 01681000
         L     @10,PLMVUNCA(,@10)                                  0953 01682000
         LTR   @10,@10                                             0953 01683000
         BZ    @RF00953                                            0953 01684000
*         DO;                                                      0954 01685000
*           RPARM=PLMVUNCA;         /* FREE THE ...                  */ 01686000
         LR    RPARM,@10                                           0955 01687000
*           CALL FREEBFR;           /* ...EMPTY UNITS                */ 01688000
         BAL   @14,FREEBFR                                         0956 01689000
*         END;                                                     0957 01690000
*                                                                  0957 01691000
*/*                                                                  */ 01692000
*                                                                  0958 01693000
*       RPRF=LCBPAKCH;              /* SET ADDRESSABILITY TO THE   0958 01694000
*                                      BUFFER...                     */ 01695000
@RF00953 L     RPRF,LCBPAKCH-1(,IEDQLPTR)                          0958 01696000
         LA    RPRF,0(,RPRF)                                       0958 01697000
*       PIUPTR=ADDR(PRFPIUO)+PRFPIUO;/* ...THE PIU...                */ 01698000
         LA    @09,PRFPIUO(,IEDQPPTR)                              0959 01699000
         SLR   @05,@05                                             0959 01700000
         IC    @05,PRFPIUO(,IEDQPPTR)                              0959 01701000
         ALR   @09,@05                                             0959 01702000
         ST    @09,PIUPTR                                          0959 01703000
*       BDUPTR=ADDR(PIU0RU);        /* ...AND THE BDU                */ 01704000
         LA    BDUPTR,PIU0RU(,@09)                                 0960 01705000
*     END;                                                         0961 01706000
*                                                                  0962 01707000
*   /*****************************************************************/ 01708000
*   /*                                                               */ 01709000
*   /* AT THIS POINT ONE OF TWO POSSIBILITIES HAS OCCURRED: INPUT WAS*/ 01710000
*   /* RECEIVED AND THERE WAS NOTHING ON THE PACK CHAIN OR INPUT WAS */ 01711000
*   /* RECEIVED AND SOMETHING WAS ON PACK CHAIN WITH WHICH THE       */ 01712000
*   /* CURRENT INPUT WAS MERGED. IF THERE WAS A MESSAGE SEGMENT ON   */ 01713000
*   /* THE PACK CHAIN, RPRF POINTS TO ITS FIRST UNIT, ELSE RPRF      */ 01714000
*   /* POINTS TO THE FIRST UNIT OF THE CURRENT INPUT. IF FINAL STATUS*/ 01715000
*   /* WAS RECEIVED OR BUFSIZE EXCEEDED, THE CURRENT AND/OR          */ 01716000
*   /* ACCUMULATED INPUT WILL BE PASSED TO THE MH. OTHERWISE, THE    */ 01717000
*   /* CURRENT INPUT WILL BE LEFT ON THE PACK CHAIN.                 */ 01718000
*   /*                                                               */ 01719000
*   /*****************************************************************/ 01720000
*                                                                  0962 01721000
*   IF EXITSW=ON THEN               /* IF THIS SWITCH IS ON, FINAL 0962 01722000
*                                      STATUS WAS RECVD              */ 01723000
@RF00922 TM    EXITSW,B'10000000'                                  0962 01724000
         BNO   @RF00962                                            0962 01725000
*     DO;                                                          0963 01726000
*       RETCODE=MH;                 /* SO INDICATE BUFFER SHOULD BE     01727000
*                                      SENT TO MH                    */ 01728000
         MVI   RETCODE,X'40'                                       0964 01729000
*       LCBPAKCH=0;                 /* CLEAR THE PACK CHAIN POINTER  */ 01730000
         SLR   @09,@09                                             0965 01731000
         STCM  @09,7,LCBPAKCH(IEDQLPTR)                            0965 01732000
*     END;                                                         0966 01733000
*                                                                  0966 01734000
*/*                                                                  */ 01735000
*/*NO, FINAL STATUS WAS NOT RECEIVED SO DETERMINE IF BUFFER SIZE HAS */ 01736000
*/*BEEN REACHED. IF BUFFER SIZE IS REACHED, ALL INPUT WILL BE SENT   */ 01737000
*/*TO THE MESSAGE HANDLER                                            */ 01738000
*/*                                                                  */ 01739000
*                                                                  0967 01740000
*   ELSE                                                           0967 01741000
*     IF LGBBUFSI=0 THEN            /* IF THIS VALUE NOT SPECIFIED,     01742000
*                                      THEN USE KEYLENGTH AS DEFAULT */ 01743000
         B     @RC00962                                            0967 01744000
@RF00962 SLR   @09,@09                                             0967 01745000
         L     @05,IEDQQPTR                                        0967 01746000
         L     @05,IEDNLPTR-1(,@05)                                0967 01747000
         CH    @09,LGBBUFSI(,@05)                                  0967 01748000
         BNE   @RF00967                                            0967 01749000
*       DO;                                                        0968 01750000
*         IF TTHDCF=>AVTKEYLE-(LENGTH(PIU0TH)+PRFPIUO) THEN        0969 01751000
         LA    @05,10                                              0969 01752000
         SLR   @02,@02                                             0969 01753000
         IC    @02,PRFPIUO(,IEDQPPTR)                              0969 01754000
         ALR   @05,@02                                             0969 01755000
         LCR   @05,@05                                             0969 01756000
         AH    @05,AVTKEYLE(,IEDQAPTR)                             0969 01757000
         L     @02,PIUPTR                                          0969 01758000
         SLR   @00,@00                                             0969 01759000
         ICM   @00,3,TTHDCF(@02)                                   0969 01760000
         CR    @05,@00                                             0969 01761000
         BH    @RF00969                                            0969 01762000
*           DO;                                                    0970 01763000
*             RETCODE=MH;                                          0971 01764000
         MVI   RETCODE,X'40'                                       0971 01765000
*             LCBPAKCH=0;                                          0972 01766000
         STCM  @09,7,LCBPAKCH(IEDQLPTR)                            0972 01767000
*           END;                                                   0973 01768000
*         ELSE                                                     0974 01769000
*           LCBPAKCH=RPRF;          /* PUT CURRENT INPUT ON PACK   0974 01770000
*                                      CHAIN.                        */ 01771000
         B     @RC00969                                            0974 01772000
@RF00969 STCM  RPRF,7,LCBPAKCH(IEDQLPTR)                           0974 01773000
*       END;                                                       0975 01774000
*     ELSE                                                         0976 01775000
*       DO;                         /* THE DEFAULT FOR BUFSIZE WAS 0976 01776000
*                                      NOT TAKEN                     */ 01777000
         B     @RC00967                                            0976 01778000
@RF00967 DS    0H                                                  0977 01779000
*         IF TTHDCF=>LGBBUFSI-(LENGTH(PIU0TH)+PRFPIUO) THEN/* IF THE    01780000
*                                      ACCUMULATED INPUT EXCEEDS   0977 01781000
*                                      BUFSIZE THEN DO...            */ 01782000
         L     @09,IEDQQPTR                                        0977 01783000
         L     @09,IEDNLPTR-1(,@09)                                0977 01784000
         LA    @05,10                                              0977 01785000
         SLR   @02,@02                                             0977 01786000
         IC    @02,PRFPIUO(,IEDQPPTR)                              0977 01787000
         ALR   @05,@02                                             0977 01788000
         LCR   @05,@05                                             0977 01789000
         AH    @05,LGBBUFSI(,@09)                                  0977 01790000
         L     @09,PIUPTR                                          0977 01791000
         SLR   @02,@02                                             0977 01792000
         ICM   @02,3,TTHDCF(@09)                                   0977 01793000
         CR    @05,@02                                             0977 01794000
         BH    @RF00977                                            0977 01795000
*           DO;                                                    0978 01796000
*             RETCODE=MH;           /* PASS TO MH                    */ 01797000
         MVI   RETCODE,X'40'                                       0979 01798000
*             LCBPAKCH=0;           /* ZERO THE PACK CHAIN POINTER   */ 01799000
         SLR   @09,@09                                             0980 01800000
         STCM  @09,7,LCBPAKCH(IEDQLPTR)                            0980 01801000
*           END;                                                   0981 01802000
*         ELSE                                                     0982 01803000
*           LCBPAKCH=RPRF;          /* ASSIGN THIS INPUT TO PACK   0982 01804000
*                                      CHAIN                         */ 01805000
         B     @RC00977                                            0982 01806000
@RF00977 STCM  RPRF,7,LCBPAKCH(IEDQLPTR)                           0982 01807000
*       END;                                                       0983 01808000
*   END PACKER;                     /* RETURN TO CALLER              */ 01809000
@EL00010 DS    0H                                                  0984 01810000
@EF00010 DS    0H                                                  0984 01811000
@ER00010 L     @14,@SA00010                                        0984 01812000
         BR    @14                                                 0984 01813000
         EJECT                                                          01814000
*                                                                  0985 01815000
*   /*****************************************************************/ 01816000
*   /*                                                               */ 01817000
*   /* POST PLCB TO IEDQBD TO REDRIVE THE SCHEDULERS                 */ 01818000
*   /*                                                               */ 01819000
*   /*****************************************************************/ 01820000
*                                                                  0985 01821000
*POSTPLCB:                                                         0985 01822000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0985 01823000
*                                                                  0985 01824000
POSTPLCB ST    @14,@SA00011                                        0985 01825000
*/*                                                                  */ 01826000
*                                                                  0986 01827000
*   RPARM=RLCB;                     /* PARM REG POINTS TO ELEMENT    */ 01828000
         LR    RPARM,RLCB                                          0986 01829000
*   LCBPRI=PRILCB;                  /* PRIORITY OF POST              */ 01830000
         MVI   LCBPRI(IEDQLPTR),X'E7'                              0987 01831000
*   LCBRCLLN=ON;                    /* NO BFRS TO FREE       @YM07396*/ 01832000
         OI    LCBRCLLN(IEDQLPTR),B'10000000'                      0988 01833000
*   LCBQCBA=AVTMSGS->BDQCB;         /* BD'S QCB ADDRESS              */ 01834000
         L     @09,AVTMSGS-1(,IEDQAPTR)                            0989 01835000
         MVC   LCBQCBA(3,IEDQLPTR),BDQCB+1(@09)                    0989 01836000
*   CALL DSPPOSTR;                                                 0990 01837000
         LA    @15,DSPPOSTR(,RDISP)                                0990 01838000
         BALR  @14,@15                                             0990 01839000
*   EXITSW=ON;                      /* SET SWITCH TO EXIT            */ 01840000
         OI    EXITSW,B'10000000'                                  0991 01841000
*/*                                                                  */ 01842000
*                                                                  0992 01843000
*   END POSTPLCB;                   /* RETURN TO CALLER              */ 01844000
@EL00011 DS    0H                                                  0992 01845000
@EF00011 DS    0H                                                  0992 01846000
@ER00011 L     @14,@SA00011                                        0992 01847000
         BR    @14                                                 0992 01848000
         EJECT                                                          01849000
*                                                                  0993 01850000
*   /*****************************************************************/ 01851000
*   /*                                                               */ 01852000
*   /* RDINPROC PROCESSES ALL READS AND INVITES. APPROPRIATE         */ 01853000
*   /* SUBROUTINES WILL BE CALLED TO PERFORM THE FUNCTIONS REQUIRED  */ 01854000
*   /* FOR EACH TYPE OF INPUT. AN EOT OR IDLE IS INSERTED IN ZERO    */ 01855000
*   /* LENGTH BUFFERS. AFTER BUFFER TRANSFORM, REMAINING FIELDS IN   */ 01856000
*   /* THE BUFFER PREFIX ARE SETUP AND THE BUFFER IS SENT TO THE MH. */ 01857000
*   /*                                                               */ 01858000
*   /*****************************************************************/ 01859000
*                                                                  0993 01860000
*RDINPROC:                                                         0993 01861000
*   PROC OPTIONS(RETREG,SAVE(14));                                 0993 01862000
*                                                                  0993 01863000
RDINPROC ST    @14,@SA00012                                        0993 01864000
*/*                                                                  */ 01865000
*                                                                  0994 01866000
*   TRMPREP=OFF;                    /*                       @YM05638   01867000
*                                      INDICATE MONITOR NO LONGER  0994 01868000
*                                      ACTIVE IN THE NCP.            */ 01869000
         LA    @02,TRMPREP(,RTRM)                                  0994 01870000
         LR    @00,@02                                             0994 01871000
         LA    @09,3                                               0994 01872000
         NR    @00,@09                                             0994 01873000
         LCR   @00,@00                                             0994 01874000
         ALR   @02,@00                                             0994 01875000
         L     @09,0(,@02)                                         0994 01876000
@GL00046 LR    @05,@09                                             0994 01877000
         N     @05,@CB02324+3(@00)                                 0994 01878000
         CS    @09,@05,0(@02)                                      0994 01879000
         BNE   @GL00046                                            0994 01880000
*   IF(QCBTSSES=OFF&BDURESP=RSPE13) THEN/* NOT TSO AND ATTEN @YM07331*/ 01881000
         L     @09,IEDQQPTR                                        0995 01882000
         TM    QCBTSSES(@09),B'10000000'                           0995 01883000
         BNZ   @RF00995                                            0995 01884000
         TM    BDURESP(BDUPTR),B'00010011'                         0995 01885000
         BNO   @RF00995                                            0995 01886000
         TM    BDURESP(BDUPTR),B'00001100'                         0995 01887000
         BNZ   @RF00995                                            0995 01888000
*     DO;                           /*                       @YM07331*/ 01889000
*       BDUERROR=OFF;               /*                       @YM07331*/ 01890000
         NI    BDUERROR(BDUPTR),B'01111111'                        0997 01891000
*       BDUPHASE=RSP60;             /*                       @YM07331*/ 01892000
         OI    BDUPHASE(BDUPTR),B'01100000'                        0998 01893000
*       BDURESP=RSPN02;             /* TREAT AS NORMAL EOT   @YM07331*/ 01894000
         NI    BDURESP(BDUPTR),B'11100010'                         0999 01895000
         OI    BDURESP(BDUPTR),B'00000010'                         0999 01896000
*     END;                          /*                       @YM07331*/ 01897000
*   IF LCBDIAL=ON THEN              /* IF THIS IS DIAL INPUT @YM08115*/ 01898000
@RF00995 TM    LCBDIAL(IEDQLPTR),B'00000010'                       1001 01899000
         BNO   @RF01001                                            1001 01900000
*     CALL DIALDATA;                /* DIALDATA SUBROUTINE, THE    1002 01901000
*                                      DIALDATA ROUTINE IDENTIFIES 1002 01902000
*                                      AND PROCESSES INPUTS THAT   1002 01903000
*                                      SHOULD NOT GO TO MH. THIS   1002 01904000
*                                      ROUTINE SETS THE 'RETCODE'  1002 01905000
*                                      SWITCH TO ZERO IF THE INPUT 1002 01906000
*                                      WAS PROCESSED BY DIALDATA   1002 01907000
*                                                            @YM08115*/ 01908000
         BAL   @14,DIALDATA                                        1002 01909000
*   CALL MHCHKER;                   /* THE MHCHKER SUBROUTINE      1003 01910000
*                                      IDENTIFIES AND PROCESSES    1003 01911000
*                                      INPUTS THAT SHOULD NOT GO TO     01912000
*                                      MH. THIS ROUTINE SETS THE   1003 01913000
*                                      RETCODE SWITCH TO ZERO IF THE    01914000
*                                      INPUT WAS PROCESSED BY MHCHKER   01915000
*                                                            @YM08172*/ 01916000
@RF01001 BAL   @14,MHCHKER                                         1003 01917000
*   IF RETCODE=INITVAL THEN         /* IF RETURN CODE STILL EQUALS 1004 01918000
*                                      INITIAL VALUE                 */ 01919000
         CLI   RETCODE,X'FF'                                       1004 01920000
         BNE   @RF01004                                            1004 01921000
*     DO;                           /* CONTINUE TO PROCESS THIS INPUT   01922000
*                                      CALL STATUS ANALYSIS ROUTINE  */ 01923000
*       CALL STATUS;                /* TO SET LCB/SCB BITS           */ 01924000
         BAL   @14,STATUS                                          1006 01925000
*/*                                                                  */ 01926000
*                                                                  1007 01927000
*       IF LGBPACK=ON THEN          /* IF PACK OPTION WAS CHOSEN THEN*/ 01928000
         L     @09,IEDQQPTR                                        1007 01929000
         L     @09,IEDNLPTR-1(,@09)                                1007 01930000
         TM    LGBPACK(@09),B'10000000'                            1007 01931000
         BNO   @RF01007                                            1007 01932000
*         CALL PACKER;              /* CALL PACK SUBROUTINE          */ 01933000
         BAL   @14,PACKER                                          1008 01934000
*/*                                                                  */ 01935000
*                                                                  1009 01936000
*       ELSE                        /* IF PACK OPTION WAS NOT CHOSEN */ 01937000
*         RETCODE=MH;               /* INDICATE INPUT IS GOING TO MH    01938000
*                                      IF MESSAGE IS NOW READY TO    */ 01939000
         B     @RC01007                                            1009 01940000
@RF01007 MVI   RETCODE,X'40'                                       1009 01941000
*       IF RETCODE=MH THEN          /* GO TO MESSAGE HANDLER         */ 01942000
@RC01007 CLI   RETCODE,X'40'                                       1010 01943000
         BNE   @RF01010                                            1010 01944000
*         DO;                       /* THEN                          */ 01945000
*           IF TTHDCF=HDRLEN THEN   /* IF DATA LENGTH IS ZERO        */ 01946000
         L     @09,PIUPTR                                          1012 01947000
         SLR   @05,@05                                             1012 01948000
         ICM   @05,3,TTHDCF(@09)                                   1012 01949000
         SLR   @02,@02                                             1012 01950000
         IC    @02,HDRLEN                                          1012 01951000
         CR    @05,@02                                             1012 01952000
         BNE   @RF01012                                            1012 01953000
*             DO;                   /* ZERO LENGTH BUFFERS CANNOT BE    01954000
*                                      SENT TO MH SO...              */ 01955000
*               IF BDUERROR=OFF THEN/* IF NOT AN ERROR INSERT EOT OR    01956000
*                                      IDLE                  @YM06951*/ 01957000
         TM    BDUERROR(BDUPTR),B'10000000'                        1014 01958000
         BNZ   @RF01014                                            1014 01959000
*                 DO;               /*                       @YM06951*/ 01960000
*                   TTHDCF=TTHDCF+1;/* ADD ONE TO DCF                */ 01961000
         AL    @05,@CF00060                                        1016 01962000
         STCM  @05,3,TTHDCF(@09)                                   1016 01963000
*                   IF LCBUSUE=ON THEN/* IF EOM THEN...              */ 01964000
         TM    LCBUSUE(IEDQLPTR),B'00000001'                       1017 01965000
         BNO   @RF01017                                            1017 01966000
*                     RUDATA(1)=EOT;/* INSERT AN EOT                 */ 01967000
         LA    @09,PIU0RU(,@09)                                    1018 01968000
         MVI   RUDATA+6(@09),X'37'                                 1018 01969000
*                   ELSE                                           1019 01970000
*                     RUDATA(1)=IDLE;/* ELSE, INSERT AN IDLE         */ 01971000
         B     @RC01017                                            1019 01972000
@RF01017 L     @09,PIUPTR                                          1019 01973000
         LA    @09,PIU0RU(,@09)                                    1019 01974000
         MVI   RUDATA+6(@09),X'17'                                 1019 01975000
*                 END;              /*                       @YM06951*/ 01976000
*               ELSE                /* HEADER SENT ZERO LENGTH INSERT   01977000
*                                      IDLE IN TEXT          @YM06951*/ 01978000
*                 IF BDUHEADR=ON THEN                              1021 01979000
         B     @RC01014                                            1021 01980000
@RF01014 TM    BDUHEADR(BDUPTR),B'01000000'                        1021 01981000
         BNO   @RF01021                                            1021 01982000
*                   ZEROLEN=ON;     /* ZERO LENGTH BFR       @YM06951*/ 01983000
         OI    ZEROLEN,B'01000000'                                 1022 01984000
*                 ELSE                                             1023 01985000
*                   DO;             /*                       @YM06951*/ 01986000
         B     @RC01021                                            1023 01987000
@RF01021 DS    0H                                                  1024 01988000
*                     TTHDCF=TTHDCF+1;/* ADD ONE TO DATA COUNT     1024 01989000
*                                                            @YM06951*/ 01990000
         L     @09,PIUPTR                                          1024 01991000
         LA    @05,1                                               1024 01992000
         SLR   @02,@02                                             1024 01993000
         ICM   @02,3,TTHDCF(@09)                                   1024 01994000
         ALR   @05,@02                                             1024 01995000
         STCM  @05,3,TTHDCF(@09)                                   1024 01996000
*                     RUDATA(1)=IDLE;/* INSERT IDLE          @YM06951*/ 01997000
         LA    @09,PIU0RU(,@09)                                    1025 01998000
         MVI   RUDATA+6(@09),X'17'                                 1025 01999000
*                   END;            /*                       @YM06951*/ 02000000
*             END;                                                 1027 02001000
*                                                                  1027 02002000
@RC01021 DS    0H                                                  1027 02003000
@RC01014 DS    0H                                                  1028 02004000
*/*                                                                  */ 02005000
*                                                                  1028 02006000
*           IF BDUPHASE^=RSP00&     /* IS THIS A....                 */ 02007000
*               BDURESP=RSPN04 THEN /* TOTE TEST REQUEST MSG?        */ 02008000
@RF01012 TM    BDUPHASE(BDUPTR),B'01100000'                        1028 02009000
         BZ    @RF01028                                            1028 02010000
         TM    BDURESP(BDUPTR),B'00000100'                         1028 02011000
         BNO   @RF01028                                            1028 02012000
         TM    BDURESP(BDUPTR),B'00011011'                         1028 02013000
         BNZ   @RF01028                                            1028 02014000
*             LCBOLT=ON;            /* OLT INDICATOR         @YM07683*/ 02015000
         OI    LCBOLT(IEDQLPTR),B'00000001'                        1029 02016000
*/*                                                                  */ 02017000
*                                                                  1030 02018000
*           RPARM=RPRF;             /* PUT PIU ADDR IN PARM REG      */ 02019000
@RF01028 LR    RPARM,RPRF                                          1030 02020000
*           CALL IEDXFMI;           /* CALL IEDXFMI TO TRANSFORM PIU    02021000
*                                      TO A BUFFER                   */ 02022000
         L     @10,AVTSAVTP(,IEDQAPTR)                             1031 02023000
         L     @15,SAVTXFMI(,@10)                                  1031 02024000
         BALR  @14,@15                                             1031 02025000
*           IF ZEROLEN=ON THEN      /* IS THIS A ZERO LENGTH BFR   1032 02026000
*                                                            @YM06951*/ 02027000
         TM    ZEROLEN,B'01000000'                                 1032 02028000
         BNO   @RF01032                                            1032 02029000
*             PRFSIZE=0;            /* MAKE BFR ZERO LENGTH  @YM06951*/ 02030000
         SLR   @10,@10                                             1033 02031000
         STH   @10,PRFSIZE(,IEDQPPTR)                              1033 02032000
*           IF LCBRECOF^=0 THEN     /* RDINSTAT SUBROUTINE CALCULATED   02033000
*                                      THE OFFSET TO THE LAST GOOD 1034 02034000
*                                      EOB AND SAVED THE VALUE AT  1034 02035000
*                                      LCBRECOF. THE SAVED VALUE   1034 02036000
*                                      SHOULD BE INSERTED IN BUFFER     02037000
*                                      PREFIX.                       */ 02038000
@RF01032 LH    @10,LCBRECOF(,IEDQLPTR)                             1034 02039000
         LTR   @10,@10                                             1034 02040000
         BZ    @RF01034                                            1034 02041000
*             DO;                                                  1035 02042000
*               IF PRFNHDRN=ON THEN /* IS THIS A TEXT BFR?           */ 02043000
         TM    PRFNHDRN(IEDQPPTR),B'00000001'                      1036 02044000
         BNO   @RF01036                                            1036 02045000
*                 PRFEOB=LCBRECOF+PRFISIZE+AVTTXTSZ;               1037 02046000
         SLR   @09,@09                                             1037 02047000
         IC    @09,PRFISIZE(,IEDQPPTR)                             1037 02048000
         ALR   @10,@09                                             1037 02049000
         AL    @10,@CF00453                                        1037 02050000
         STH   @10,PRFEOB(,IEDQPPTR)                               1037 02051000
*               ELSE                /* NO, ITS A HDR BFR             */ 02052000
*                 PRFEOB=LCBRECOF+PRFISIZE+AVTHDRSZ;               1038 02053000
         B     @RC01036                                            1038 02054000
@RF01036 SLR   @10,@10                                             1038 02055000
         IC    @10,PRFISIZE(,IEDQPPTR)                             1038 02056000
         AH    @10,LCBRECOF(,IEDQLPTR)                             1038 02057000
         AL    @10,@CF00451                                        1038 02058000
         STH   @10,PRFEOB(,IEDQPPTR)                               1038 02059000
*               LCBRECOF=0;         /* ZERO OUT EOB OFFSET COUNT     */ 02060000
@RC01036 SLR   @10,@10                                             1039 02061000
         STH   @10,LCBRECOF(,IEDQLPTR)                             1039 02062000
*             END;                                                 1040 02063000
*                                                                  1040 02064000
*/*                                                                  */ 02065000
*                                                                  1041 02066000
*           IF QCBTSSES=ON THEN                                    1041 02067000
@RF01034 L     @10,IEDQQPTR                                        1041 02068000
         TM    QCBTSSES(@10),B'10000000'                           1041 02069000
         BNO   @RF01041                                            1041 02070000
*             PRFTSMSG=ON;                                         1042 02071000
*                                                                  1042 02072000
         OI    PRFTSMSG(IEDQPPTR),B'00010000'                      1042 02073000
*/*                                                                  */ 02074000
*                                                                  1043 02075000
*                                   /* NOTE: PRFPRI HAS ALREADY BEEN    02076000
*                                      SET BY STATUS SUBROUTINE      */ 02077000
*           PRFQCBA=LCBMHA;         /* MH QCB ADDRESS        @YM06085*/ 02078000
@RF01041 MVC   PRFQCBA(3,IEDQPPTR),LCBMHA(IEDQLPTR)                1043 02079000
*           TRMTSATN=OFF;           /* TURN OFF THE ASYNCHRONOUS   1044 02080000
*                                      ATTENTION INDICATOR           */ 02081000
         NI    TRMTSATN(RTRM),B'11111011'                          1044 02082000
*           IF PRFNHDRN=ON THEN     /* IS THIS A TEXT BUFFER         */ 02083000
         TM    PRFNHDRN(IEDQPPTR),B'00000001'                      1045 02084000
         BNO   @RF01045                                            1045 02085000
*             SCBDEOB=RPRF;         /* TO MAKE MIDBATCH ERP WORK     */ 02086000
         L     @10,IEDQSPTR-1(,IEDQLPTR)                           1046 02087000
         ST    RPRF,SCBDEOB(,@10)                                  1046 02088000
*           LCBRECVN=ON;            /* SEND TO INPUT SIDE OF MH    1047 02089000
*                                                            @YM04655*/ 02090000
@RF01045 DS    0H                                                  1048 02091000
*           LCBSENDN=OFF;           /* ENSURE SEND OFF       @YM08420*/ 02092000
         OI    LCBRECVN(IEDQLPTR),B'00000010'                      1048 02093000
         NI    LCBSENDN(IEDQLPTR),B'11111110'                      1048 02094000
*           PRFLCB=RLCB;            /* ADDRESS OF LCB                */ 02095000
         STCM  RLCB,7,PRFLCB(IEDQPPTR)                             1049 02096000
*           RPARM=RPRF;             /* ADDRESS OF ELEMENT TO POST    */ 02097000
         LR    RPARM,RPRF                                          1050 02098000
*           CALL DSPPOSTR;          /* PASS BUFFER TO MH             */ 02099000
         LA    @15,DSPPOSTR(,RDISP)                                1051 02100000
         BALR  @14,@15                                             1051 02101000
*/*                                                                  */ 02102000
*/*THIS COMPLETES PROCESSING OF THE CURRENT ELEMENT. LOGICAL CONTROL */ 02103000
*/*WILL BE RETURNED TO THE 'DO LOOP' IN THE MAINLINE. IF EXIT SWITCH */ 02104000
*/*HAS NOT BEEN SET, THE WAIT CHAIN WILL BE CHECKED FOR NEXT ELEMENT */ 02105000
*/*TO PROCESS. IF WAIT CHAIN IS EMPTY, MODULE EXITS TO TCAM DISPATCHER  02106000
*                                                                    */ 02107000
*/*                                                                  */ 02108000
*                                                                  1052 02109000
*         END;                                                     1052 02110000
*     END;                                                         1053 02111000
*                                                                  1053 02112000
*/*                                                                  */ 02113000
*                                                                  1054 02114000
*   END RDINPROC;                   /* RETURN TO CALLER              */ 02115000
@EL00012 DS    0H                                                  1054 02116000
@EF00012 DS    0H                                                  1054 02117000
@ER00012 L     @14,@SA00012                                        1054 02118000
         BR    @14                                                 1054 02119000
         EJECT                                                          02120000
*                                                                  1055 02121000
*   /*****************************************************************/ 02122000
*   /*                                                               */ 02123000
*   /* RDINSTAT SETS SCB/LCB STATUS BITS, SETS BUFFER POST PRIORITY  */ 02124000
*   /* AND, TO SUPPORT CANCELMG LEVEL=BLK, PRFEOB IS CALCULATED AND  */ 02125000
*   /* SAVED FOR LATER INSERTION. IF THE INPUT IS RECEIVED IN ERROR, */ 02126000
*   /* ERRSTAT SUBROUTINE IS CALLED FOR DETAILED ERROR ANALYSIS      */ 02127000
*   /*                                                               */ 02128000
*   /*****************************************************************/ 02129000
*                                                                  1055 02130000
*RDINSTAT:                                                         1055 02131000
*   PROC OPTIONS(RETREG,SAVE(14));                                 1055 02132000
*                                                                  1055 02133000
RDINSTAT ST    @14,@SA00013                                        1055 02134000
*/*                                                                  */ 02135000
*                                                                  1056 02136000
*   IF BDUERROR=ON THEN                                            1056 02137000
         TM    BDUERROR(BDUPTR),B'10000000'                        1056 02138000
         BNO   @RF01056                                            1056 02139000
*     DO;                                                          1057 02140000
*       PRFPRI=PRIERBFR;            /* SET ERROR 'E3' POST PRIORITY  */ 02141000
         MVI   PRFPRI(IEDQPPTR),X'E3'                              1058 02142000
*       CALL ERRSTAT;               /* THIS SUBROUTINE SETS MESSAGE     02143000
*                                      ERROR RECORD BITS             */ 02144000
         BAL   @14,ERRSTAT                                         1059 02145000
*     END;                                                         1060 02146000
*                                                                  1060 02147000
*/*                                                                  */ 02148000
*                                                                  1061 02149000
*   ELSE                            /* INPUT WAS RECEIVED WITHOUT  1061 02150000
*                                      ERROR                         */ 02151000
*     DO;                                                          1061 02152000
         B     @RC01056                                            1061 02153000
@RF01056 DS    0H                                                  1062 02154000
*       PRFPRI=PRIMHBFR;            /* SET NORMAL 'E4' POST PRIORITY */ 02155000
         MVI   PRFPRI(IEDQPPTR),X'E4'                              1062 02156000
*       IF BDUXFINL=EXTX18 THEN     /* IF INPUT ENDED WITH EOT       */ 02157000
         TM    BDUXFINL(BDUPTR),B'00011000'                        1063 02158000
         BNO   @RF01063                                            1063 02159000
         TM    BDUXFINL(BDUPTR),B'00000110'                        1063 02160000
         BNZ   @RF01063                                            1063 02161000
*         LCBUSUE=ON;               /* SET UNIT EXCEPTION STATUS AND    02162000
*                                      SEND TO MH                    */ 02163000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       1064 02164000
*       ELSE                                                       1065 02165000
*         IF BDUXFINL=EXTX12 THEN   /* IF END OF TEXT WAS RECEIVED   */ 02166000
         B     @RC01063                                            1065 02167000
@RF01063 TM    BDUXFINL(BDUPTR),B'00010010'                        1065 02168000
         BNO   @RF01065                                            1065 02169000
         TM    BDUXFINL(BDUPTR),B'00001100'                        1065 02170000
         BNZ   @RF01065                                            1065 02171000
*           DO;                                                    1066 02172000
*             SCBRCVTX=ON;          /* SET ETX INDICATOR             */ 02173000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           1067 02174000
         OI    SCBRCVTX(@09),B'00100000'                           1067 02175000
*             LCBRECOF=LCBRECOF+    /* OFFSET TO ETX MUST BE SAVED 1068 02176000
*                                      AND ASSIGNED TO PRFEOB AFTER     02177000
*                                      PIU TO BUFFER TRANSFORM       */ 02178000
*                 TTHDCF-HDRLEN;                                   1068 02179000
         L     @09,PIUPTR                                          1068 02180000
         SLR   @05,@05                                             1068 02181000
         ICM   @05,3,TTHDCF(@09)                                   1068 02182000
         AH    @05,LCBRECOF(,IEDQLPTR)                             1068 02183000
         SLR   @09,@09                                             1068 02184000
         IC    @09,HDRLEN                                          1068 02185000
         SLR   @05,@09                                             1068 02186000
         STH   @05,LCBRECOF(,IEDQLPTR)                             1068 02187000
*             LCBRESP=ON;           /* INDICATE RESPONSE OWED        */ 02188000
         OI    LCBRESP(IEDQLPTR),B'00000001'                       1069 02189000
*           END;                                                   1070 02190000
*         ELSE                                                     1071 02191000
*           IF BDUXFINL=EXTX14 THEN /* IF AND EOB OR ETB WAS RECEIVED*/ 02192000
         B     @RC01065                                            1071 02193000
@RF01065 TM    BDUXFINL(BDUPTR),B'00010100'                        1071 02194000
         BNO   @RF01071                                            1071 02195000
         TM    BDUXFINL(BDUPTR),B'00001010'                        1071 02196000
         BNZ   @RF01071                                            1071 02197000
*             DO;                                                  1072 02198000
*               LCBRECOF=LCBRECOF+TTHDCF-HDRLEN;                   1073 02199000
         L     @09,PIUPTR                                          1073 02200000
         SLR   @05,@05                                             1073 02201000
         ICM   @05,3,TTHDCF(@09)                                   1073 02202000
         AH    @05,LCBRECOF(,IEDQLPTR)                             1073 02203000
         SLR   @09,@09                                             1073 02204000
         IC    @09,HDRLEN                                          1073 02205000
         SLR   @05,@09                                             1073 02206000
         STH   @05,LCBRECOF(,IEDQLPTR)                             1073 02207000
*               LCBRESP=ON;         /* INDICATE CONVERSATIONAL     1074 02208000
*                                      RESPONSE OWED                 */ 02209000
         OI    LCBRESP(IEDQLPTR),B'00000001'                       1074 02210000
*             END;                                                 1075 02211000
*                                                                  1075 02212000
*/*                                                                  */ 02213000
*                                                                  1076 02214000
*           ELSE                                                   1076 02215000
*             DO;                                                  1076 02216000
         B     @RC01071                                            1076 02217000
@RF01071 DS    0H                                                  1077 02218000
*               PRFPRI=PRIERBFR;    /* ANY OTHER FORM OF INPUT MUST  */ 02219000
         MVI   PRFPRI(IEDQPPTR),X'E3'                              1077 02220000
*               CALL ERRSTAT;       /* BE POSTED TO THE MH AS AN ERR */ 02221000
         BAL   @14,ERRSTAT                                         1078 02222000
*             END;                                                 1079 02223000
*     END;                                                         1080 02224000
*                                                                  1080 02225000
*/*                                                                  */ 02226000
*                                                                  1081 02227000
*   END RDINSTAT;                   /* RETURN TO CALLER              */ 02228000
@EL00013 DS    0H                                                  1081 02229000
@EF00013 DS    0H                                                  1081 02230000
@ER00013 L     @14,@SA00013                                        1081 02231000
         BR    @14                                                 1081 02232000
         EJECT                                                          02233000
*                                                                  1082 02234000
*   /*****************************************************************/ 02235000
*   /*                                                               */ 02236000
*   /* THIS SUBROUTINE IS CALLED WHEN PROCESSING CERTAIN TYPES OF    */ 02237000
*   /* DIAL INPUT, NEGATIVE POLL LIMIT AND EOT 'ONLY' RESPONSES AND  */ 02238000
*   /* IT IS DETERMINED THAT TCAM SHOULD DISCONNECT                  */ 02239000
*   /*                                                               */ 02240000
*   /*****************************************************************/ 02241000
*                                                                  1082 02242000
*SETNEGRP:                                                         1082 02243000
*   PROC OPTIONS(RETREG,SAVE(14));                                 1082 02244000
*                                                                  1082 02245000
SETNEGRP ST    @14,@SA00014                                        1082 02246000
*/*                                                                  */ 02247000
*                                                                  1083 02248000
*   IF SCBLCK1N=ON&                 /* IF IN LOCK MODE AND           */ 02249000
*       SCBMSGLN=OFF THEN           /* ITS EXTENDED LOCK             */ 02250000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           1083 02251000
         TM    SCBLCK1N(@09),B'00100000'                           1083 02252000
         BNO   @RF01083                                            1083 02253000
         TM    SCBMSGLN(@09),B'00001000'                           1083 02254000
         BNZ   @RF01083                                            1083 02255000
*     DO;                           /* FORCE NEXT OPERATION TO BE  1084 02256000
*                                      ANOTHER READ                  */ 02257000
*       LCBRECVN=OFF;               /* TURN OFF RECEIVE              */ 02258000
         NI    LCBRECVN(IEDQLPTR),B'11111101'                      1085 02259000
*     END;                                                         1086 02260000
*   ELSE                            /* NO, NOT IN EXTENDED LOCK      */ 02261000
*     LCBNEGRP=ON;                  /* SO SET NEGATIVE RESPONSE TO 1087 02262000
*                                      POLL WHICH CAUSES SCHEDULERS     02263000
*                                      TO DO A DISCONNECT. IF      1087 02264000
*                                      TERMINAL IS LEASED AN INVITE     02265000
*                                      WILL BE SCHEDULED, ELSE     1087 02266000
*                                      OPERATIONS WITH THIS TERMINAL    02267000
*                                      ARE TERMINATED                */ 02268000
         B     @RC01083                                            1087 02269000
@RF01083 OI    LCBNEGRP(IEDQLPTR),B'00001000'                      1087 02270000
*   RPARM=RPRF;                                                    1088 02271000
@RC01083 LR    RPARM,RPRF                                          1088 02272000
*   CALL FREEBFR;                                                  1089 02273000
         BAL   @14,FREEBFR                                         1089 02274000
*   CALL POSTPLCB;                  /* E7 POST TO IEDQBD TO DRIVE  1090 02275000
*                                      SCHEDULERS. THIS ROUTINE ALSO    02276000
*                                      SETS 'EXITSW' WHICH TERMINATES   02277000
*                                      THE 'DO' LOOP IN THIS MODULES    02278000
*                                      MAINLINE                      */ 02279000
         BAL   @14,POSTPLCB                                        1090 02280000
*/*                                                                  */ 02281000
*                                                                  1091 02282000
*   END SETNEGRP;                   /* RETURN TO CALLER              */ 02283000
@EL00014 DS    0H                                                  1091 02284000
@EF00014 DS    0H                                                  1091 02285000
@ER00014 L     @14,@SA00014                                        1091 02286000
         BR    @14                                                 1091 02287000
         EJECT                                                          02288000
*                                                                  1092 02289000
*   /*****************************************************************/ 02290000
*   /*                                                               */ 02291000
*   /* IF INPUT HAS NO ERROR AND IS NOT PHASE 3, EOB OFFSET IS       */ 02292000
*   /* CALCULATED, NORMAL MH POST PRIORITY IS SET AND THE RECEIVE IS */ 02293000
*   /* CONTINUED. IF INPUT IS BSC STATUS, UNIT EXCEPTION IS INDICATED*/ 02294000
*   /* AND BUFFER POST PRIORITY IS SET. FOR ALL OTHER INPUT, RDINSTAT*/ 02295000
*   /* SUBROUTINE IS CALLED                                          */ 02296000
*   /*                                                               */ 02297000
*   /*****************************************************************/ 02298000
*                                                                  1092 02299000
*STATUS:                                                           1092 02300000
*   PROC OPTIONS(RETREG,SAVE(14));                                 1092 02301000
*                                                                  1092 02302000
STATUS   ST    @14,@SA00015                                        1092 02303000
*/*                                                                  */ 02304000
*                                                                  1093 02305000
*   IF BDUERROR=OFF&                /* IF NOT AN ERROR               */ 02306000
*       BDUPHASE^=RSP60 THEN        /* AND NOT PHASE 3               */ 02307000
         TM    BDUERROR(BDUPTR),B'10000000'                        1093 02308000
         BNZ   @RF01093                                            1093 02309000
         TM    BDUPHASE(BDUPTR),B'01100000'                        1093 02310000
         BO    @RF01093                                            1093 02311000
*     DO;                           /* IF INPUT CONTAINS AN EOB, ETB    02312000
*                                      OR ETX, CALCULATE ITS OFFSET     02313000
*                                      AND SAVE IN LCBRECOF. AFTER 1094 02314000
*                                      PIU TO BFR TRANSFORM, THE   1094 02315000
*                                      SAVED VALUE WILL BE ASSIGNED     02316000
*                                      TO PRFEOB. THIS SUPPORTS    1094 02317000
*                                      CANCELMG LEVEL=BLK.           */ 02318000
*       IF(BDUXINIT^=EXT80&         /* IF NOT SPECIAL OR             */ 02319000
*           BDUXINIT^=EXTE0)&       /* HARDWARE STATUS AND           */ 02320000
*           (BDUXFINL=EXTX12|       /* ETX OR                        */ 02321000
*           BDUXFINL=EXTX14) THEN   /* ETB/EOB RECEIVED              */ 02322000
         TM    BDUXINIT(BDUPTR),B'10000000'                        1095 02323000
         BNO   @GL00051                                            1095 02324000
         TM    BDUXINIT(BDUPTR),B'01100000'                        1095 02325000
         BZ    @RF01095                                            1095 02326000
@GL00051 TM    BDUXINIT(BDUPTR),B'11100000'                        1095 02327000
         BO    @RF01095                                            1095 02328000
         TM    BDUXFINL(BDUPTR),B'00010010'                        1095 02329000
         BNO   @GL00052                                            1095 02330000
         TM    BDUXFINL(BDUPTR),B'00001100'                        1095 02331000
         BZ    @RT01095                                            1095 02332000
@GL00052 TM    BDUXFINL(BDUPTR),B'00010100'                        1095 02333000
         BNO   @RF01095                                            1095 02334000
         TM    BDUXFINL(BDUPTR),B'00001010'                        1095 02335000
         BNZ   @RF01095                                            1095 02336000
@RT01095 DS    0H                                                  1096 02337000
*         LCBRECOF=LCBRECOF+        /* CALCULATE AND SAVE OFFSET TO     02338000
*                                      EOB/ETX/ETB                   */ 02339000
*             TTHDCF-HDRLEN;                                       1096 02340000
*                                                                  1096 02341000
         L     @09,PIUPTR                                          1096 02342000
         SLR   @05,@05                                             1096 02343000
         ICM   @05,3,TTHDCF(@09)                                   1096 02344000
         AH    @05,LCBRECOF(,IEDQLPTR)                             1096 02345000
         SLR   @09,@09                                             1096 02346000
         IC    @09,HDRLEN                                          1096 02347000
         SLR   @05,@09                                             1096 02348000
         STH   @05,LCBRECOF(,IEDQLPTR)                             1096 02349000
*/*                                                                  */ 02350000
*                                                                  1097 02351000
*       PRFPRI=PRIMHBFR;            /* SET NORMAL'E4' PRIORITY FOR 1097 02352000
*                                      BFR TO MH                     */ 02353000
@RF01095 MVI   PRFPRI(IEDQPPTR),X'E4'                              1097 02354000
*       LCBCONT=ON;                 /* SET FOR CONTINUE TO RECEIVE   */ 02355000
         OI    LCBCONT(IEDQLPTR),B'00001000'                       1098 02356000
*     END;                                                         1099 02357000
*                                                                  1099 02358000
*/*                                                                  */ 02359000
*                                                                  1100 02360000
*   ELSE                                                           1100 02361000
*     DO;                           /* FINAL STATUS WAS RECEIVED,  1100 02362000
*                                      EITHER ERROR OR NORMAL        */ 02363000
         B     @RC01093                                            1100 02364000
@RF01093 DS    0H                                                  1101 02365000
*       LCBCONT=OFF;                /* INDICATE THE RECEIVE OPERATION   02366000
*                                      SHOULD END                    */ 02367000
         NI    LCBCONT(IEDQLPTR),B'11110111'                       1101 02368000
*       EXITSW=ON;                  /* SET SWITCH TO EXIT AFTER THIS    02369000
*                                      INPUT IS PROCESSED            */ 02370000
         OI    EXITSW,B'10000000'                                  1102 02371000
*/*                                                                  */ 02372000
*                                                                  1103 02373000
*       IF(BDUSYRSP=RSPERRST|       /* IF THIS IS BSC ERR STATUS OR  */ 02374000
*           BDUSYRSP=RSPNRMST) THEN /* BSC NORMAL STATUS             */ 02375000
         CLI   BDUSYRSP(BDUPTR),X'EA'                              1103 02376000
         BE    @RT01103                                            1103 02377000
         CLI   BDUSYRSP(BDUPTR),X'65'                              1103 02378000
         BNE   @RF01103                                            1103 02379000
@RT01103 DS    0H                                                  1104 02380000
*         DO;                                                      1104 02381000
*           SCBSOHE=ON;             /* SET BSC STATUS RECEIVED       */ 02382000
         L     @09,IEDQSPTR-1(,IEDQLPTR)                           1105 02383000
         OI    SCBSOHE(@09),B'00000001'                            1105 02384000
*           LCBUSUE=ON;             /* SET UNIT EXCEPTION            */ 02385000
         OI    LCBUSUE(IEDQLPTR),B'00000001'                       1106 02386000
*           IF BDUERROR=ON THEN     /* IF INPUT HAS ERROR STATUS     */ 02387000
         TM    BDUERROR(BDUPTR),B'10000000'                        1107 02388000
         BNO   @RF01107                                            1107 02389000
*             PRFPRI=PRIERBFR;      /* SET 'E3' ERROR PRIORITY       */ 02390000
         MVI   PRFPRI(IEDQPPTR),X'E3'                              1108 02391000
*           ELSE                                                   1109 02392000
*             PRFPRI=PRIMHBFR;      /* FOR NONERRORS SET 'E4' NORMAL    02393000
*                                      PRIORITY                      */ 02394000
         B     @RC01107                                            1109 02395000
@RF01107 MVI   PRFPRI(IEDQPPTR),X'E4'                              1109 02396000
*         END;                                                     1110 02397000
*                                                                  1110 02398000
*/*                                                                  */ 02399000
*                                                                  1111 02400000
*       ELSE                                                       1111 02401000
*         CALL RDINSTAT;                                           1111 02402000
         B     @RC01103                                            1111 02403000
@RF01103 BAL   @14,RDINSTAT                                        1111 02404000
*     END;                                                         1112 02405000
*                                                                  1112 02406000
*/*                                                                  */ 02407000
*                                                                  1113 02408000
*   END STATUS;                     /* RETURN TO CALLER              */ 02409000
@EL00015 DS    0H                                                  1113 02410000
@EF00015 DS    0H                                                  1113 02411000
@ER00015 L     @14,@SA00015                                        1113 02412000
         BR    @14                                                 1113 02413000
*   END IEDSARI                                                    1114 02414000
*                                                                  1114 02415000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.     */ 02416000
*/*%INCLUDE SYSLIB  (TAVTD   )                                       */ 02417000
*/*%INCLUDE SYSLIB  (TBDUD   )                                       */ 02418000
*/*%INCLUDE SYSLIB  (TCD0D   )                                       */ 02419000
*/*%INCLUDE SYSLIB  (TDCTD   )                                       */ 02420000
*/*%INCLUDE SYSLIB  (TDISPD  )                                       */ 02421000
*/*%INCLUDE SYSLIB  (TEXTD   )                                       */ 02422000
*/*%INCLUDE SYSLIB  (TLCBD   )                                       */ 02423000
*/*%INCLUDE SYSLIB  (TLGBD   )                                       */ 02424000
*/*%INCLUDE SYSLIB  (TPIU0D  )                                       */ 02425000
*/*%INCLUDE SYSLIB  (TPLMVD  )                                       */ 02426000
*/*%INCLUDE SYSLIB  (TPRFD   )                                       */ 02427000
*/*%INCLUDE SYSLIB  (TPRIOR  )                                       */ 02428000
*/*%INCLUDE SYSLIB  (TQCBD   )                                       */ 02429000
*/*%INCLUDE SYSLIB  (TRHD    )                                       */ 02430000
*/*%INCLUDE SYSLIB  (TRSPD   )                                       */ 02431000
*/*%INCLUDE SYSLIB  (TSCBD   )                                       */ 02432000
*/*%INCLUDE SYSLIB  (TTHD    )                                       */ 02433000
*/*%INCLUDE SYSLIB  (TTRMD   )                                       */ 02434000
*                                                                  1114 02435000
*       ;                                                          1114 02436000
@DATA    DS    0H                                                       02437000
         DS    0F                                                       02438000
@SA00012 DS    1F                                                       02439000
@SA00002 DS    1F                                                       02440000
@SA00004 DS    1F                                                       02441000
@SA00008 DS    1F                                                       02442000
@SA00011 DS    1F                                                       02443000
@SA00003 DS    1F                                                       02444000
@SA00005 DS    1F                                                       02445000
@SA00014 DS    1F                                                       02446000
@SA00007 DS    1F                                                       02447000
@SA00009 DS    1F                                                       02448000
@SA00010 DS    1F                                                       02449000
@SA00015 DS    1F                                                       02450000
@SA00013 DS    1F                                                       02451000
         DS    0F                                                       02452000
@CF00060 DC    F'1'                                                     02453000
@CF00058 DC    F'6'                                                     02454000
@CF02008 DC    F'14'                                                    02455000
@CF02249 DC    F'72'                                                    02456000
@CF02317 DC    F'-4'                                                    02457000
@CF02305 DC    XL4'0000FFFF'                                            02458000
@CF00451 DC    XL4'1E'                                                  02459000
@CF00453 DC    XL4'17'                                                  02460000
         DS    0D                                                       02461000
IEDQQPTR DS    A                                                        02462000
DCTADDR  DS    A                                                        02463000
PIUPTR   DS    A                                                        02464000
LTTCIN   DS    A                                                        02465000
@CB01423 DC    X'08000002'                                              02466000
@CB02309 DC    B'111111111111111111111111111011111111111111111111111111C02467000
               11'                                                      02468000
@CB02324 DC    B'111111111111111111111111111110111111111111111111111111C02469000
               11'                                                      02470000
PLMV     DS    CL24                                                     02471000
RETCODE  DS    BL1                                                      02472000
SWITCH1  DS    BL1                                                      02473000
         ORG   SWITCH1                                                  02474000
EXITSW   DS    BL1                                                      02475000
ZEROLEN  EQU   SWITCH1+0                                                02476000
@NM00208 EQU   SWITCH1+0                                                02477000
         ORG   SWITCH1+1                                                02478000
HDRLEN   DS    BL1                                                      02479000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02480000
@01      EQU   01                                                       02481000
@02      EQU   02                                                       02482000
@03      EQU   03                                                       02483000
@04      EQU   04                                                       02484000
@05      EQU   05                                                       02485000
@06      EQU   06                                                       02486000
@07      EQU   07                                                       02487000
@08      EQU   08                                                       02488000
@09      EQU   09                                                       02489000
@10      EQU   10                                                       02490000
@11      EQU   11                                                       02491000
@12      EQU   12                                                       02492000
@13      EQU   13                                                       02493000
@14      EQU   14                                                       02494000
@15      EQU   15                                                       02495000
LCIQCB   EQU   @02                                                      02496000
REM      EQU   @10                                                      02497000
PACKBDU  EQU   @02                                                      02498000
PACKPIU  EQU   @05                                                      02499000
LASTUNIT EQU   @02                                                      02500000
BDUPTR   EQU   @10                                                      02501000
IEDQAPTR EQU   @13                                                      02502000
RDISP    EQU   @11                                                      02503000
IEDQLPTR EQU   @04                                                      02504000
LCBXPTR  EQU   @05                                                      02505000
IEDQPPTR EQU   @06                                                      02506000
RTRM     EQU   @08                                                      02507000
RPARM    EQU   @01                                                      02508000
R4       EQU   @04                                                      02509000
RZERO    EQU   @00                                                      02510000
R3       EQU   @03                                                      02511000
RLINK    EQU   @15                                                      02512000
RSTCB    EQU   @03                                                      02513000
RLCB     EQU   @04                                                      02514000
RPRF     EQU   @06                                                      02515000
RQCB     EQU   @07                                                      02516000
RBASE    EQU   @12                                                      02517000
RAVT     EQU   @13                                                      02518000
IEDQAVTD EQU   0                                                        02519000
AVTSAVEX EQU   IEDQAVTD+216                                             02520000
AVTREADD EQU   IEDQAVTD+308                                             02521000
AVTBUFSW EQU   IEDQAVTD+312                                             02522000
@NM00004 EQU   IEDQAVTD+316                                             02523000
AVTCKFLG EQU   @NM00004                                                 02524000
AVTBASE  EQU   IEDQAVTD+340                                             02525000
AVTPKF   EQU   AVTBASE                                                  02526000
AVTRNMPT EQU   IEDQAVTD+352                                             02527000
AVTOSECB EQU   IEDQAVTD+420                                             02528000
AVTECB1  EQU   AVTOSECB                                                 02529000
AVTHG02  EQU   IEDQAVTD+456                                             02530000
AVTDISP  EQU   IEDQAVTD+480                                             02531000
AVTHD    EQU   IEDQAVTD+484                                             02532000
AVTSCOPT EQU   AVTHD                                                    02533000
AVTSAVTP EQU   IEDQAVTD+540                                             02534000
AVTSAVTF EQU   AVTSAVTP                                                 02535000
AVTCKPEL EQU   IEDQAVTD+580                                             02536000
AVTCKRMV EQU   AVTCKPEL                                                 02537000
AVTCKELF EQU   IEDQAVTD+608                                             02538000
AVTCKBYT EQU   IEDQAVTD+619                                             02539000
AVTHG01  EQU   IEDQAVTD+620                                             02540000
AVTCKLNK EQU   IEDQAVTD+624                                             02541000
AVTCRELE EQU   IEDQAVTD+636                                             02542000
AVTCCELE EQU   AVTCRELE                                                 02543000
AVTCLRHI EQU   IEDQAVTD+644                                             02544000
AVTADBUF EQU   IEDQAVTD+648                                             02545000
AVTSYSER EQU   IEDQAVTD+656                                             02546000
AVTMSGS  EQU   IEDQAVTD+657                                             02547000
AVTBFRFG EQU   IEDQAVTD+712                                             02548000
AVTBFRTB EQU   IEDQAVTD+720                                             02549000
AVTCKPQB EQU   IEDQAVTD+732                                             02550000
AVTCKPTB EQU   AVTCKPQB                                                 02551000
AVTCKPEC EQU   AVTCKPQB+4                                               02552000
AVTCKPCC EQU   AVTCKPEC                                                 02553000
AVTOPCQB EQU   IEDQAVTD+744                                             02554000
AVTOPCOB EQU   AVTOPCQB                                                 02555000
AVTOPCEC EQU   AVTOPCQB+4                                               02556000
AVTOPCCC EQU   AVTOPCEC                                                 02557000
AVTOLTQB EQU   IEDQAVTD+756                                             02558000
AVTCWFL1 EQU   IEDQAVTD+852                                             02559000
AVTCWFL2 EQU   IEDQAVTD+853                                             02560000
AVTSUBT  EQU   IEDQAVTD+876                                             02561000
AVTIOTR  EQU   IEDQAVTD+877                                             02562000
AVTKEYLE EQU   IEDQAVTD+960                                             02563000
AVTBIT1  EQU   IEDQAVTD+978                                             02564000
AVTBIT2  EQU   IEDQAVTD+979                                             02565000
AVTTOPOL EQU   AVTBIT2                                                  02566000
AVTBIT3  EQU   IEDQAVTD+980                                             02567000
AVTBIT4  EQU   IEDQAVTD+1064                                            02568000
@NM00086 EQU   IEDQAVTD+1160                                            02569000
IEDNSVTD EQU   0                                                        02570000
SAVTDIAG EQU   IEDNSVTD                                                 02571000
SAVTDIAF EQU   SAVTDIAG                                                 02572000
SAVTLUSQ EQU   IEDNSVTD+88                                              02573000
SAVTXFMI EQU   IEDNSVTD+132                                             02574000
SAVTMVBF EQU   IEDNSVTD+160                                             02575000
SAVTMAND EQU   IEDNSVTD+228                                             02576000
SAVTTCPU EQU   IEDNSVTD+238                                             02577000
SAVTNAX  EQU   IEDNSVTD+248                                             02578000
SAVTZELM EQU   IEDNSVTD+270                                             02579000
SAVTDVAS EQU   IEDNSVTD+276                                             02580000
SAVTNID  EQU   IEDNSVTD+280                                             02581000
SAVTRDRV EQU   IEDNSVTD+284                                             02582000
SAVTCKQB EQU   IEDNSVTD+300                                             02583000
SAVTCKTB EQU   SAVTCKQB                                                 02584000
SAVTCKEC EQU   SAVTCKQB+4                                               02585000
SAVTCKCC EQU   SAVTCKEC                                                 02586000
IEDBDU   EQU   0                                                        02587000
BDUCMND  EQU   IEDBDU                                                   02588000
BDUMODIF EQU   IEDBDU+1                                                 02589000
BDUFNFLG EQU   IEDBDU+2                                                 02590000
BDUHEADR EQU   BDUFNFLG                                                 02591000
BDUBDUFG EQU   IEDBDU+3                                                 02592000
BDURSP   EQU   IEDBDU+4                                                 02593000
BDUSYRSP EQU   BDURSP                                                   02594000
BDUERROR EQU   BDUSYRSP                                                 02595000
BDUPHASE EQU   BDUSYRSP                                                 02596000
BDURESP  EQU   BDUSYRSP                                                 02597000
BDUEXRSP EQU   BDURSP+1                                                 02598000
BDUXINIT EQU   BDUEXRSP                                                 02599000
BDUXFINL EQU   BDUEXRSP                                                 02600000
BDUEND   EQU   IEDBDU+6                                                 02601000
IEDDCT   EQU   0                                                        02602000
DCTBYTE1 EQU   IEDDCT+1                                                 02603000
DCTBYTE2 EQU   IEDDCT+2                                                 02604000
DCTBYTE3 EQU   IEDDCT+3                                                 02605000
DCTBYTE4 EQU   IEDDCT+4                                                 02606000
DCTBYTE5 EQU   IEDDCT+5                                                 02607000
IEDQDISP EQU   0                                                        02608000
DSPDISP  EQU   4                                                        02609000
DSPPOSTR EQU   28                                                       02610000
IEDQLCB  EQU   0                                                        02611000
LCBRCB   EQU   IEDQLCB                                                  02612000
LCBQCBA  EQU   LCBRCB+1                                                 02613000
LCBPRI   EQU   LCBRCB+4                                                 02614000
LCBTSOB  EQU   IEDQLCB+19                                               02615000
LCBCHAIN EQU   IEDQLCB+20                                               02616000
LCBSCRNN EQU   LCBCHAIN                                                 02617000
LCBERMSG EQU   LCBCHAIN                                                 02618000
LCBTETEN EQU   LCBCHAIN                                                 02619000
LCBCTLMD EQU   LCBTETEN                                                 02620000
LCBINSRC EQU   IEDQLCB+21                                               02621000
LCBLKMDE EQU   LCBINSRC+2                                               02622000
LCBNTXT  EQU   IEDQLCB+24                                               02623000
LCBSTAT4 EQU   LCBNTXT                                                  02624000
LCBPHASE EQU   LCBSTAT4                                                 02625000
LCBSCBDA EQU   IEDQLCB+25                                               02626000
LCBMHA   EQU   IEDQLCB+29                                               02627000
LCBFLAG1 EQU   IEDQLCB+32                                               02628000
LCBIOBSN EQU   IEDQLCB+33                                               02629000
LCBSNS   EQU   LCBIOBSN+1                                               02630000
LCBSENS0 EQU   LCBSNS                                                   02631000
LCBCMDRJ EQU   LCBSENS0                                                 02632000
LCBINTRQ EQU   LCBSENS0                                                 02633000
LCBEQUCK EQU   LCBSENS0                                                 02634000
LCBDATCK EQU   LCBSENS0                                                 02635000
LCBLOSDT EQU   LCBSENS0                                                 02636000
LCBTMOUT EQU   LCBSENS0                                                 02637000
LCBFLAG3 EQU   LCBIOBSN+7                                               02638000
LCBCSW   EQU   LCBIOBSN+8                                               02639000
LCBCSWST EQU   LCBCSW+3                                                 02640000
LCBCSWUS EQU   LCBCSWST                                                 02641000
LCBUSUE  EQU   LCBCSWUS                                                 02642000
LCBCSWCS EQU   LCBCSWST+1                                               02643000
LCBCSWRC EQU   LCBCSW+5                                                 02644000
LCBSIOCC EQU   LCBIOBSN+15                                              02645000
LCBDCBPT EQU   IEDQLCB+52                                               02646000
LCBRCQCB EQU   IEDQLCB+56                                               02647000
LCBRESTR EQU   LCBRCQCB                                                 02648000
LCBCMDSV EQU   LCBRESTR                                                 02649000
LCBTHSQ  EQU   IEDQLCB+60                                               02650000
LCBINCAM EQU   LCBTHSQ                                                  02651000
LCBERRCT EQU   IEDQLCB+62                                               02652000
LCBLSPCI EQU   IEDQLCB+65                                               02653000
LCBRCBFR EQU   LCBLSPCI                                                 02654000
LCBRECOF EQU   IEDQLCB+68                                               02655000
LCBSTATE EQU   IEDQLCB+70                                               02656000
LCBSTAT1 EQU   LCBSTATE                                                 02657000
LCBRCLLN EQU   LCBSTAT1                                                 02658000
LCBINITN EQU   LCBSTAT1                                                 02659000
LCBCONT  EQU   LCBSTAT1                                                 02660000
LCBFREEN EQU   LCBSTAT1                                                 02661000
LCBRECVN EQU   LCBSTAT1                                                 02662000
LCBSENDN EQU   LCBSTAT1                                                 02663000
LCBSTAT2 EQU   LCBSTATE+1                                               02664000
LCBBEOTN EQU   LCBSTAT2                                                 02665000
LCBCONNN EQU   LCBBEOTN                                                 02666000
LCBNEGRP EQU   LCBSTAT2                                                 02667000
LCBSYNC  EQU   LCBSTAT2                                                 02668000
LCBDIAL  EQU   LCBSTAT2                                                 02669000
LCBRESP  EQU   LCBSTAT2                                                 02670000
LCBTSTSW EQU   IEDQLCB+72                                               02671000
LCBERB   EQU   IEDQLCB+76                                               02672000
LCBERBST EQU   IEDQLCB+84                                               02673000
LCBDLNKN EQU   LCBERBST                                                 02674000
LCBERBCT EQU   IEDQLCB+88                                               02675000
LCBRBCT2 EQU   LCBERBCT+1                                               02676000
LCBTTCIN EQU   IEDQLCB+90                                               02677000
LCBMSGFM EQU   IEDQLCB+92                                               02678000
LCBOLT   EQU   LCBMSGFM                                                 02679000
LCBSCBA  EQU   IEDQLCB+93                                               02680000
LCBOBRCH EQU   IEDQLCB+96                                               02681000
LCBINVPT EQU   LCBOBRCH+1                                               02682000
LCBBFRW  EQU   LCBINVPT                                                 02683000
LCBTPCD  EQU   IEDQLCB+100                                              02684000
LCBSTAT5 EQU   LCBTPCD                                                  02685000
LCBSTAT6 EQU   LCBTPCD+4                                                02686000
LCBWAITC EQU   LCBTPCD+5                                                02687000
LCBRSPSV EQU   LCBTPCD+8                                                02688000
LCBSAVSN EQU   IEDQLCB+112                                              02689000
LCBERCCW EQU   IEDQLCB+120                                              02690000
LCBCPA   EQU   IEDQLCB+144                                              02691000
LCBCCW5  EQU   LCBCPA+32                                                02692000
LCBATTEL EQU   LCBCCW5                                                  02693000
LCBQEBPL EQU   LCBATTEL                                                 02694000
IEDQLCBX EQU   0                                                        02695000
LCBXCON  EQU   IEDQLCBX                                                 02696000
LCBXFLAG EQU   LCBXCON                                                  02697000
LCBXDCT  EQU   LCBXCON+1                                                02698000
LCBXRADR EQU   LCBXCON+4                                                02699000
IEDNLGB  EQU   0                                                        02700000
LGBBUFOU EQU   IEDNLGB+20                                               02701000
LGBPCI   EQU   IEDNLGB+25                                               02702000
LGBBYTE  EQU   IEDNLGB+29                                               02703000
LGBPACK  EQU   LGBBYTE                                                  02704000
LGBOFLGS EQU   IEDNLGB+48                                               02705000
LGBBUFSI EQU   IEDNLGB+54                                               02706000
LGBRESER EQU   IEDNLGB+56                                               02707000
IEDPIU0  EQU   0                                                        02708000
PIU0TH   EQU   IEDPIU0                                                  02709000
PIU0RH   EQU   IEDPIU0+10                                               02710000
PIU0PAD  EQU   IEDPIU0+13                                               02711000
PIU0RU   EQU   IEDPIU0+14                                               02712000
IEDPLMV  EQU   0                                                        02713000
PLMVTU   EQU   IEDPLMV                                                  02714000
PLMVTD   EQU   IEDPLMV+4                                                02715000
PLMVSU   EQU   IEDPLMV+8                                                02716000
PLMVSD   EQU   IEDPLMV+12                                               02717000
PLMVLNTH EQU   IEDPLMV+16                                               02718000
PLMVFLG1 EQU   IEDPLMV+18                                               02719000
PLMVUNCF EQU   PLMVFLG1                                                 02720000
PLMVUNCA EQU   IEDPLMV+20                                               02721000
IEDPLMVP EQU   0                                                        02722000
IEDQPRF  EQU   0                                                        02723000
PRFRCB   EQU   IEDQPRF                                                  02724000
PRFKEY   EQU   PRFRCB                                                   02725000
PRFQCBA  EQU   PRFRCB+1                                                 02726000
PRFPRI   EQU   PRFRCB+4                                                 02727000
PRFLINK  EQU   PRFRCB+5                                                 02728000
PRFTIC   EQU   IEDQPRF+8                                                02729000
PRFTICC  EQU   PRFTIC                                                   02730000
PRFTI0   EQU   PRFTIC+1                                                 02731000
PRFNBUNT EQU   IEDQPRF+12                                               02732000
PRFSUNIT EQU   PRFNBUNT                                                 02733000
PRFPLQCB EQU   PRFSUNIT                                                 02734000
PRFPIUO  EQU   PRFPLQCB                                                 02735000
PRFLCB   EQU   IEDQPRF+13                                               02736000
@NM00172 EQU   IEDQPRF+16                                               02737000
PRFSVFFO EQU   @NM00172                                                 02738000
PRFSIZE  EQU   PRFSVFFO+2                                               02739000
PRFSTAT1 EQU   IEDQPRF+20                                               02740000
PRFTSMSG EQU   PRFSTAT1                                                 02741000
PRFEOFN  EQU   PRFSTAT1                                                 02742000
PRFNHDRN EQU   PRFSTAT1                                                 02743000
PRFCORE  EQU   IEDQPRF+21                                               02744000
PRFXTRA  EQU   PRFCORE                                                  02745000
PRFEOB   EQU   PRFXTRA+1                                                02746000
PRFSCAN  EQU   IEDQPRF+24                                               02747000
PRFISIZE EQU   PRFSCAN+1                                                02748000
PRFTQBCK EQU   IEDQPRF+26                                               02749000
PRFNTXT  EQU   PRFTQBCK                                                 02750000
PRFEOBOF EQU   PRFNTXT                                                  02751000
PRFCHDR  EQU   IEDQPRF+32                                               02752000
PRFHQBCK EQU   IEDQPRF+35                                               02753000
IEDPF1   EQU   0                                                        02754000
PRF1FLG1 EQU   IEDPF1+3                                                 02755000
PRF1WD2  EQU   IEDPF1+4                                                 02756000
PRF1SEQP EQU   PRF1WD2                                                  02757000
PRF1SQID EQU   PRF1SEQP                                                 02758000
PRF1TAG1 EQU   PRF1SQID                                                 02759000
IEDPF2   EQU   0                                                        02760000
PRF2FLG2 EQU   IEDPF2                                                   02761000
PRF2WD2  EQU   IEDPF2+4                                                 02762000
IEDQQCB  EQU   0                                                        02763000
QCBDSFLG EQU   IEDQQCB                                                  02764000
QCBDISK  EQU   QCBDSFLG                                                 02765000
QCBELCHN EQU   IEDQQCB+1                                                02766000
QCBEOLDT EQU   IEDQQCB+16                                               02767000
QCBBYTE1 EQU   QCBEOLDT+1                                               02768000
QCBLKRLN EQU   IEDQQCB+18                                               02769000
QCBRETCT EQU   QCBLKRLN                                                 02770000
QCBSTAT  EQU   IEDQQCB+19                                               02771000
QCBSCHDL EQU   QCBSTAT                                                  02772000
QCBINSRC EQU   IEDQQCB+21                                               02773000
@NM00182 EQU   QCBINSRC                                                 02774000
QCBTSOF2 EQU   @NM00182+1                                               02775000
QCBINHBN EQU   QCBTSOF2                                                 02776000
QCBTSOF1 EQU   @NM00182+2                                               02777000
QCBINTVL EQU   IEDQQCB+24                                               02778000
QCBPREN  EQU   IEDQQCB+28                                               02779000
QCBLKRRN EQU   QCBPREN+1                                                02780000
QCBDCBAD EQU   IEDQQCB+33                                               02781000
QCBLGBAD EQU   QCBDCBAD                                                 02782000
QCBFLAG  EQU   IEDQQCB+36                                               02783000
QCBTSSES EQU   QCBFLAG                                                  02784000
IEDQPQCB EQU   0                                                        02785000
QCBFHDLZ EQU   IEDQPQCB+3                                               02786000
QCBPFEFO EQU   QCBFHDLZ+1                                               02787000
QCBFHDTZ EQU   IEDQPQCB+6                                               02788000
QCBINTLF EQU   IEDQPQCB+12                                              02789000
IEDNQCB  EQU   0                                                        02790000
QCBSTAT1 EQU   IEDNQCB+4                                                02791000
QCBPLCBN EQU   QCBSTAT1                                                 02792000
QCBRCVRQ EQU   QCBSTAT1                                                 02793000
QCBPLCBA EQU   IEDNQCB+5                                                02794000
IEDRH    EQU   0                                                        02795000
TRHBYTE0 EQU   IEDRH                                                    02796000
TRHBYTE1 EQU   IEDRH+1                                                  02797000
TRHBYTE2 EQU   IEDRH+2                                                  02798000
IEDQSCB  EQU   0                                                        02799000
SCBSTATE EQU   IEDQSCB                                                  02800000
SCBSEQIN EQU   SCBSTATE                                                 02801000
SCBLCK1N EQU   SCBSTATE                                                 02802000
SCBMSGLN EQU   SCBSTATE                                                 02803000
SCBRCVCT EQU   IEDQSCB+4                                                02804000
SCBMBHEN EQU   IEDQSCB+5                                                02805000
SCBBKFCT EQU   IEDQSCB+9                                                02806000
SCBEOBSZ EQU   SCBBKFCT+1                                               02807000
SCBSALEV EQU   IEDQSCB+12                                               02808000
SCBQTYPE EQU   SCBSALEV                                                 02809000
SCBBFMM  EQU   SCBQTYPE                                                 02810000
SCBERRST EQU   IEDQSCB+16                                               02811000
SCBERR1  EQU   SCBERRST                                                 02812000
SCBHDRRN EQU   SCBERR1                                                  02813000
SCBORIGN EQU   SCBERR1                                                  02814000
SCBNOTRM EQU   SCBERR1                                                  02815000
SCBSEQHN EQU   SCBERR1                                                  02816000
SCBSEQLN EQU   SCBERR1                                                  02817000
SCBCUTFN EQU   SCBERR1                                                  02818000
SCBERR2  EQU   SCBERRST+1                                               02819000
SCBABRTN EQU   SCBERR2                                                  02820000
SCBSOHE  EQU   SCBERR2                                                  02821000
SCBERR3  EQU   SCBERRST+2                                               02822000
SCBLOSTN EQU   SCBERR3                                                  02823000
SCBTMIDN EQU   SCBERR3                                                  02824000
SCBFORMN EQU   SCBERR3                                                  02825000
SCBATTN  EQU   SCBERR3                                                  02826000
SCBXCEPN EQU   SCBERR3                                                  02827000
SCBERR4  EQU   SCBERRST+3                                               02828000
SCBSLCTN EQU   SCBERR4                                                  02829000
SCBTXTTN EQU   SCBERR4                                                  02830000
SCBCONNN EQU   SCBERR4                                                  02831000
SCBTRMLN EQU   SCBERR4                                                  02832000
SCBCTLUN EQU   SCBERR4                                                  02833000
SCBCHANN EQU   SCBERR4                                                  02834000
SCBDLPTR EQU   IEDQSCB+22                                               02835000
SCBEOBAC EQU   SCBDLPTR                                                 02836000
SCBCTBAC EQU   SCBEOBAC                                                 02837000
SCBBSCFM EQU   IEDQSCB+24                                               02838000
SCBRCVTX EQU   SCBBSCFM                                                 02839000
SCBDATEN EQU   SCBBSCFM                                                 02840000
SCBITBSZ EQU   IEDQSCB+40                                               02841000
SCBCTBSV EQU   SCBITBSZ                                                 02842000
SCBDNSEG EQU   IEDQSCB+41                                               02843000
SCBCLSEG EQU   IEDQSCB+45                                               02844000
SCBITBAC EQU   IEDQSCB+48                                               02845000
SCBCTBFL EQU   SCBITBAC                                                 02846000
SCBBLKCT EQU   SCBCTBFL                                                 02847000
SCBDCSEG EQU   IEDQSCB+49                                               02848000
SCBDEOB  EQU   IEDQSCB+52                                               02849000
SCBSTAT1 EQU   IEDQSCB+60                                               02850000
SCBCORE  EQU   IEDQSCB+61                                               02851000
SCBSCAN  EQU   IEDQSCB+64                                               02852000
SCBNTXT  EQU   IEDQSCB+66                                               02853000
SCBCHDR  EQU   IEDQSCB+72                                               02854000
SCBCCSEG EQU   IEDQSCB+75                                               02855000
SCBEND   EQU   IEDQSCB+84                                               02856000
IEDTH    EQU   0                                                        02857000
TTHBYTE0 EQU   IEDTH                                                    02858000
TTHOAF   EQU   IEDTH+4                                                  02859000
TTHSNF   EQU   IEDTH+6                                                  02860000
TTHTAG   EQU   TTHSNF                                                   02861000
TTHTAG1  EQU   TTHTAG                                                   02862000
TTHDCF   EQU   IEDTH+8                                                  02863000
IEDTRM   EQU   0                                                        02864000
IEDNTRM  EQU   IEDTRM                                                   02865000
TRMBYTE4 EQU   IEDNTRM                                                  02866000
TRMBYTE3 EQU   IEDNTRM+1                                                02867000
TRMBYTE2 EQU   IEDNTRM+2                                                02868000
TRMINPG  EQU   TRMBYTE2                                                 02869000
TRMANDL  EQU   TRMBYTE2                                                 02870000
TRMGPACT EQU   TRMBYTE2                                                 02871000
TRMPREP  EQU   TRMBYTE2                                                 02872000
TRMWRBRK EQU   TRMBYTE2                                                 02873000
TRMBYTE1 EQU   IEDNTRM+3                                                02874000
TRMSCPRQ EQU   TRMBYTE1                                                 02875000
TRMTRACE EQU   TRMBYTE1                                                 02876000
TRMTSATN EQU   TRMBYTE1                                                 02877000
TRMCOHRT EQU   IEDNTRM+4                                                02878000
TRMBYTE0 EQU   IEDNTRM+6                                                02879000
TRMUDEF  EQU   TRMBYTE0                                                 02880000
TRMSIBPT EQU   IEDNTRM+7                                                02881000
TRMTYPE  EQU   IEDNTRM+11                                               02882000
TRMSUBST EQU   IEDNTRM+12                                               02883000
IEDQTRM  EQU   IEDTRM+14                                                02884000
TRMSTATE EQU   IEDQTRM                                                  02885000
TRMLOG   EQU   TRMSTATE                                                 02886000
TRMDESTQ EQU   IEDQTRM+1                                                02887000
TRMINSEQ EQU   IEDQTRM+4                                                02888000
TLISTCNT EQU   TRMINSEQ                                                 02889000
TRMUTERM EQU   TLISTCNT                                                 02890000
TRMOUTSQ EQU   IEDQTRM+6                                                02891000
TLISTEN  EQU   TRMOUTSQ                                                 02892000
TRMDSORG EQU   TLISTEN                                                  02893000
TRMALTD  EQU   IEDQTRM+8                                                02894000
TRMDEVFL EQU   IEDQTRM+10                                               02895000
TRMSTAT  EQU   IEDQTRM+12                                               02896000
IEDPMD   EQU   0                                                        02897000
IEDNID   EQU   0                                                        02898000
IEDDVAS  EQU   0                                                        02899000
IEDIAP03 EQU   0                                                        02900000
IEDQTNT  EQU   0                                                        02901000
IEDXFMI  EQU   0                                                        02902000
IEDMVBFR EQU   0                                                        02903000
RUDATA   EQU   0                                                        02904000
BDQCB    EQU   0                                                        02905000
DSPBYPAS EQU   20                                                       02906000
DSPCHAIN EQU   12                                                       02907000
DSPLIFO  EQU   56                                                       02908000
DSPLIFOR EQU   60                                                       02909000
DSPLIST  EQU   8                                                        02910000
DSPPOST  EQU   24                                                       02911000
DSPPRIO  EQU   48                                                       02912000
DSPPRIOR EQU   52                                                       02913000
DSPTRACE EQU   64                                                       02914000
DSPTSTQ  EQU   32                                                       02915000
DSPTSTQR EQU   36                                                       02916000
DSPUNAV  EQU   40                                                       02917000
DSPUNAVR EQU   44                                                       02918000
DSPWAIT  EQU   16                                                       02919000
QCBLDCB  EQU   0                                                        02920000
LCBRSPIN EQU   LCBIOBSN                                                 02921000
LCBLUSNS EQU   LCBRSPIN+5                                               02922000
LCBSCPRS EQU   LCBRSPIN+9                                               02923000
LCBCSWU1 EQU   LCBSCPRS+2                                               02924000
LCBRSPFG EQU   LCBRSPIN+15                                              02925000
LCBPAKCH EQU   LCBRSPIN+16                                              02926000
LCBCOREQ EQU   LCBTPCD                                                  02927000
@NM00134 EQU   LCBCPA+40                                                02928000
LCBQNX   EQU   LCBERCCW                                                 02929000
LCBQNXMN EQU   LCBQNX                                                   02930000
LCBCANCL EQU   LCBSAVSN                                                 02931000
LCBCANFG EQU   LCBCANCL                                                 02932000
IEDNLPTR EQU   QCBLGBAD                                                 02933000
IEDQSPTR EQU   LCBSCBA                                                  02934000
TRMPRE1  EQU   TRMBYTE4                                                 02935000
TRMCONT  EQU   TRMPRE1                                                  02936000
TRMSESSN EQU   TRMPRE1                                                  02937000
TRMLYNCH EQU   TRMPRE1                                                  02938000
TRMNCP1  EQU   TRMBYTE4                                                 02939000
TRMPRE   EQU   TRMBYTE3                                                 02940000
TRMSTPND EQU   TRMPRE                                                   02941000
TRMASNXI EQU   TRMPRE                                                   02942000
TRMRDOUT EQU   TRMPRE                                                   02943000
TRMINOUT EQU   TRMPRE                                                   02944000
TRMNCP   EQU   TRMBYTE3                                                 02945000
TRMPU    EQU   TRMBYTE3                                                 02946000
TRMLU    EQU   TRMBYTE3                                                 02947000
TRMLINK  EQU   TRMBYTE3                                                 02948000
BDUTEXT  EQU   BDUEND                                                   02949000
PRFSHDR  EQU   IEDQPRF+42                                               02950000
SCBRGSAV EQU   SCBEND                                                   02951000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02952000
@NM00207 EQU   TRMLINK                                                  02953000
TRMLSTAT EQU   TRMLINK                                                  02954000
TRMLINT  EQU   TRMLINK                                                  02955000
TRMEPMOD EQU   TRMLINK                                                  02956000
TRMLULOG EQU   TRMLU                                                    02957000
TRMINERR EQU   TRMLU                                                    02958000
TRMLUREQ EQU   TRMLU                                                    02959000
TRMSESRQ EQU   TRMLU                                                    02960000
TRMTDIFF EQU   TRMLU                                                    02961000
TRMLUTM  EQU   TRMLU                                                    02962000
TRMLUIT  EQU   TRMLU                                                    02963000
TRMAUTO  EQU   TRMLU                                                    02964000
TRMPCONT EQU   TRMPU                                                    02965000
@NM00206 EQU   TRMPU                                                    02966000
TRMNCONT EQU   TRMNCP                                                   02967000
TRMQUCKN EQU   TRMNCP                                                   02968000
TRMSLOWN EQU   TRMNCP                                                   02969000
TRMSYGEN EQU   TRMNCP                                                   02970000
TRMNCPCL EQU   TRMNCP                                                   02971000
TRMIPLDM EQU   TRMNCP                                                   02972000
TRMNLOUT EQU   TRMPRE                                                   02973000
TRMWROUT EQU   TRMPRE                                                   02974000
TRMSTMM  EQU   TRMPRE                                                   02975000
TRMCMODE EQU   TRMPRE                                                   02976000
@NM00205 EQU   TRMNCP1                                                  02977000
TRMINOP  EQU   TRMNCP1                                                  02978000
TRMSPOUT EQU   TRMPRE1                                                  02979000
TRMERLCK EQU   TRMPRE1                                                  02980000
TRMQNPL  EQU   TRMPRE1                                                  02981000
TRMSPACT EQU   TRMPRE1                                                  02982000
TRMOCNI  EQU   TRMPRE1                                                  02983000
@NM00142 EQU   LCBCANCL+3                                               02984000
LCBCANTH EQU   LCBCANCL+1                                               02985000
@NM00141 EQU   LCBCANFG                                                 02986000
LCBCANCD EQU   LCBCANFG                                                 02987000
@NM00140 EQU   LCBCANFG                                                 02988000
LCBCANEB EQU   LCBCANFG                                                 02989000
LCBCANXT EQU   LCBCANFG                                                 02990000
LCBUNADD EQU   LCBQNX+21                                                02991000
LCBUASZE EQU   LCBQNX+20                                                02992000
LCBDSTEA EQU   LCBQNX+16                                                02993000
@NM00139 EQU   LCBQNX+8                                                 02994000
LCBIOSBS EQU   LCBQNX+5                                                 02995000
@NM00138 EQU   LCBQNX+4                                                 02996000
LCBSTSAV EQU   LCBQNX+1                                                 02997000
@NM00137 EQU   LCBQNXMN                                                 02998000
LCBNX509 EQU   LCBQNXMN                                                 02999000
LCBNX162 EQU   LCBQNXMN                                                 03000000
LCBNX142 EQU   LCBQNXMN                                                 03001000
LCBNX064 EQU   LCBQNXMN                                                 03002000
@NM00136 EQU   @NM00134+4                                               03003000
LCBNCPPT EQU   @NM00134+1                                               03004000
@NM00135 EQU   @NM00134                                                 03005000
LCBWRSCH EQU   LCBCOREQ+8                                               03006000
LCBCQLNK EQU   LCBCOREQ+4                                               03007000
LCBCQELE EQU   LCBCOREQ                                                 03008000
@NM00133 EQU   LCBRSPFG                                                 03009000
LCBRSRH  EQU   LCBRSPFG                                                 03010000
LCBEXPI  EQU   LCBRSPFG                                                 03011000
@NM00132 EQU   LCBRSPIN+12                                              03012000
LCBUSUE1 EQU   LCBCSWU1                                                 03013000
@NM00131 EQU   LCBCSWU1                                                 03014000
@NM00130 EQU   LCBSCPRS+1                                               03015000
LCBDFCMD EQU   LCBSCPRS                                                 03016000
LCBUSER  EQU   LCBLUSNS+2                                               03017000
LCBSMIN  EQU   LCBLUSNS+1                                               03018000
LCBSMAJ  EQU   LCBLUSNS                                                 03019000
LCBRHSV  EQU   LCBRSPIN+2                                               03020000
LCBSNS0  EQU   LCBRSPIN+1                                               03021000
@NM00129 EQU   LCBRSPIN                                                 03022000
TRMOPT   EQU   IEDTRM+34                                                03023000
TRMOPTBL EQU   IEDQTRM+18                                               03024000
TRMOPNO  EQU   IEDQTRM+17                                               03025000
TRMCHCIN EQU   IEDQTRM+16                                               03026000
TRMSENSE EQU   TRMSTAT+3                                                03027000
TRMTEMPR EQU   TRMSTAT+2                                                03028000
TRMSIO   EQU   TRMSTAT                                                  03029000
@NM00204 EQU   TRMDEVFL+1                                               03030000
TRMTPIN  EQU   TRMDEVFL+1                                               03031000
TRMNCPI  EQU   TRMDEVFL+1                                               03032000
TRMRNTRM EQU   TRMDEVFL+1                                               03033000
@NM00203 EQU   TRMDEVFL+1                                               03034000
TRMLMD   EQU   TRMDEVFL+1                                               03035000
TRMCONC  EQU   TRMDEVFL+1                                               03036000
TRMTSOB  EQU   TRMDEVFL                                                 03037000
TRMBFDY  EQU   TRMDEVFL                                                 03038000
TRMTBLK  EQU   TRMDEVFL                                                 03039000
TRMSBLK  EQU   TRMDEVFL                                                 03040000
TRMBLKS  EQU   TRMDEVFL                                                 03041000
TRMADDC  EQU   TRMDEVFL                                                 03042000
TRMDDIG  EQU   TRMDEVFL                                                 03043000
TRMBUFS  EQU   TRMDEVFL                                                 03044000
TRMPRILK EQU   TRMALTD                                                  03045000
TRMLGB   EQU   TRMDSORG                                                 03046000
TRMSCNYN EQU   TRMSTATE                                                 03047000
TRMOPTFN EQU   TRMSTATE                                                 03048000
TRMHELDN EQU   TRMSTATE                                                 03049000
TRMACPTN EQU   TRMSTATE                                                 03050000
TRMPREF  EQU   TRMSTATE                                                 03051000
TRMPROC  EQU   TRMLOG                                                   03052000
TRMLIST  EQU   TRMLOG                                                   03053000
TRMLINE  EQU   TRMSTATE                                                 03054000
TRMRLMCT EQU   IEDNTRM+10                                               03055000
TRMCOHTG EQU   TRMSIBPT+1                                               03056000
TRMGPCNT EQU   TRMSIBPT                                                 03057000
TRMBUFRD EQU   TRMBYTE0                                                 03058000
TRMSNA   EQU   TRMBYTE0                                                 03059000
TRMGP    EQU   TRMBYTE0                                                 03060000
TRMDIAL  EQU   TRMBYTE0                                                 03061000
@NM00202 EQU   TRMBYTE0                                                 03062000
TRMOUTPT EQU   TRMBYTE0                                                 03063000
TRMINPUT EQU   TRMBYTE0                                                 03064000
TRMSTOTE EQU   TRMBYTE1                                                 03065000
TRMCKPRN EQU   TRMBYTE1                                                 03066000
TRMSWBCK EQU   TRMBYTE1                                                 03067000
TRMAUTOC EQU   TRMBYTE1                                                 03068000
TRMINPTP EQU   TRMBYTE1                                                 03069000
TRMWTNEG EQU   TRMSCPRQ                                                 03070000
TRMNOSND EQU   TRMBYTE2                                                 03071000
TRMCLOSN EQU   TRMINPG                                                  03072000
TRMREMB  EQU   TRMBYTE2                                                 03073000
TRMRSACT EQU   TRMBYTE2                                                 03074000
TTHTAG2  EQU   TTHTAG+1                                                 03075000
@NM00201 EQU   TTHTAG1                                                  03076000
TTHTAGS  EQU   TTHTAG1                                                  03077000
TTHDAF   EQU   IEDTH+2                                                  03078000
TTHBYTE1 EQU   IEDTH+1                                                  03079000
TTHEFI   EQU   TTHBYTE0                                                 03080000
@NM00200 EQU   TTHBYTE0                                                 03081000
TTHEBIU  EQU   TTHBYTE0                                                 03082000
TTHBBIU  EQU   TTHBYTE0                                                 03083000
TTHFTYPE EQU   TTHBYTE0                                                 03084000
SCBTRANS EQU   IEDQSCB+81                                               03085000
SCBUNTCT EQU   IEDQSCB+80                                               03086000
SCBEOB   EQU   IEDQSCB+78                                               03087000
SCBNXCPB EQU   SCBCCSEG                                                 03088000
SCBNHDR  EQU   SCBCHDR                                                  03089000
SCBCRCD  EQU   IEDQSCB+69                                               03090000
SCBTQBCK EQU   SCBNTXT                                                  03091000
SCBOSEQ  EQU   SCBSCAN                                                  03092000
SCBXTRA  EQU   SCBCORE                                                  03093000
SCBNOPST EQU   SCBSTAT1                                                 03094000
SCBNIDLE EQU   SCBSTAT1                                                 03095000
SCBCEND  EQU   SCBSTAT1                                                 03096000
SCBCBGN  EQU   SCBSTAT1                                                 03097000
SCBSIZE  EQU   IEDQSCB+58                                               03098000
SCBSRCE  EQU   IEDQSCB+56                                               03099000
SCBFEFO  EQU   SCBDCSEG                                                 03100000
SCBCTBND EQU   SCBBLKCT                                                 03101000
SCBSCHDR EQU   SCBCLSEG                                                 03102000
SCBHBFNO EQU   IEDQSCB+44                                               03103000
SCBSCSEG EQU   SCBDNSEG                                                 03104000
SCBBCTR  EQU   SCBCTBSV                                                 03105000
SCBCCHDR EQU   IEDQSCB+37                                               03106000
SCBDESTL EQU   IEDQSCB+36                                               03107000
SCBDCHDR EQU   IEDQSCB+33                                               03108000
SCBCPBNO EQU   IEDQSCB+32                                               03109000
SCBMBSSA EQU   IEDQSCB+25                                               03110000
SCBMLMTN EQU   SCBBSCFM                                                 03111000
SCBNOEOT EQU   SCBBSCFM                                                 03112000
@NM00199 EQU   SCBBSCFM                                                 03113000
SCBNPDTR EQU   SCBDATEN                                                 03114000
SCBCNTEN EQU   SCBBSCFM                                                 03115000
SCBNONTR EQU   SCBBSCFM                                                 03116000
SCBTRNSP EQU   SCBBSCFM                                                 03117000
SCBENDCR EQU   SCBCTBAC+1                                               03118000
SCBCRLEN EQU   SCBCTBAC                                                 03119000
SCBMRFSD EQU   IEDQSCB+20                                               03120000
SCBUNDFN EQU   SCBERR4                                                  03121000
SCBSTERN EQU   SCBCHANN                                                 03122000
SCBCPMEN EQU   SCBCTLUN                                                 03123000
@NM00198 EQU   SCBERR4                                                  03124000
SCBAPERR EQU   SCBTXTTN                                                 03125000
SCBPERRN EQU   SCBXCEPN                                                 03126000
SCBTHRSN EQU   SCBATTN                                                  03127000
SCBFIERN EQU   SCBFORMN                                                 03128000
SCBUSERN EQU   SCBERR3                                                  03129000
SCBSATTN EQU   SCBERR3                                                  03130000
SCBTMINN EQU   SCBERR3                                                  03131000
SCBXPD   EQU   SCBTMIDN                                                 03132000
SCBXPI   EQU   SCBLOSTN                                                 03133000
SCBFRWDN EQU   SCBERR2                                                  03134000
SCBRRJN  EQU   SCBABRTN                                                 03135000
SCBOLTR  EQU   SCBERR2                                                  03136000
SCBALN   EQU   SCBERR2                                                  03137000
SCBCODER EQU   SCBERR2                                                  03138000
SCBCRMAX EQU   SCBERR2                                                  03139000
SCBCRMIN EQU   SCBERR2                                                  03140000
SCBRVISL EQU   SCBCUTFN                                                 03141000
SCBNOBFN EQU   SCBERR1                                                  03142000
@NM00197 EQU   SCBERR1                                                  03143000
SCBNOVAC EQU   SCBSEQLN                                                 03144000
SCBNOTSO EQU   SCBSEQHN                                                 03145000
SCBRVITX EQU   SCBNOTRM                                                 03146000
SCBHANG  EQU   SCBORIGN                                                 03147000
SCBNOLOG EQU   SCBHDRRN                                                 03148000
SCBMRFPL EQU   IEDQSCB+13                                               03149000
SCBBBFTM EQU   SCBQTYPE                                                 03150000
SCBNOFF  EQU   SCBQTYPE                                                 03151000
SCBCONC  EQU   SCBQTYPE                                                 03152000
SCBNREUS EQU   SCBQTYPE                                                 03153000
SCBREUS  EQU   SCBQTYPE                                                 03154000
SCBCOREQ EQU   SCBQTYPE                                                 03155000
SCBNORCL EQU   SCBQTYPE                                                 03156000
SCBCTBSZ EQU   SCBEOBSZ                                                 03157000
@NM00196 EQU   SCBBKFCT                                                 03158000
SCBPRI   EQU   IEDQSCB+8                                                03159000
SCBMACR  EQU   SCBMBHEN                                                 03160000
SCBSNDCT EQU   SCBRCVCT                                                 03161000
SCBDESTQ EQU   IEDQSCB+1                                                03162000
SCBCODE  EQU   SCBSTATE                                                 03163000
SCBPRER  EQU   SCBSTATE                                                 03164000
SCBCKPT  EQU   SCBSTATE                                                 03165000
SCBERSDS EQU   SCBSTATE                                                 03166000
SCBMGFMN EQU   SCBSEQIN                                                 03167000
SCBTRANP EQU   SCBSTATE                                                 03168000
@NM00195 EQU   TRHBYTE2                                                 03169000
@NM00194 EQU   TRHBYTE2                                                 03170000
@NM00193 EQU   TRHBYTE2                                                 03171000
TRHCSI   EQU   TRHBYTE2                                                 03172000
@NM00192 EQU   TRHBYTE2                                                 03173000
TRHCDI   EQU   TRHBYTE2                                                 03174000
TRHEB    EQU   TRHBYTE2                                                 03175000
TRHBB    EQU   TRHBYTE2                                                 03176000
TRHPI    EQU   TRHBYTE1                                                 03177000
@NM00191 EQU   TRHBYTE1                                                 03178000
@NM00190 EQU   TRHBYTE1                                                 03179000
@NM00189 EQU   TRHBYTE1                                                 03180000
TRHER    EQU   TRHBYTE1                                                 03181000
TRHDR2   EQU   TRHBYTE1                                                 03182000
@NM00188 EQU   TRHBYTE1                                                 03183000
TRHDR1   EQU   TRHBYTE1                                                 03184000
TRHEC    EQU   TRHBYTE0                                                 03185000
TRHBC    EQU   TRHBYTE0                                                 03186000
TRHSDI   EQU   TRHBYTE0                                                 03187000
TRHFI    EQU   TRHBYTE0                                                 03188000
@NM00187 EQU   TRHBYTE0                                                 03189000
TRHRUCAT EQU   TRHBYTE0                                                 03190000
TRHTYPE  EQU   TRHBYTE0                                                 03191000
QCBTTCIN EQU   QCBPLCBA+1                                               03192000
@NM00186 EQU   QCBPLCBA                                                 03193000
@NM00185 EQU   QCBSTAT1                                                 03194000
QCBFLUSH EQU   QCBSTAT1                                                 03195000
QCBNDXRQ EQU   QCBSTAT1                                                 03196000
QCBESIG  EQU   QCBSTAT1                                                 03197000
QCBSNDRQ EQU   QCBSTAT1                                                 03198000
QCBWAITC EQU   QCBSTAT1                                                 03199000
QCBCHAIN EQU   IEDNQCB                                                  03200000
QCBPQBCK EQU   IEDQPQCB+25                                              03201000
QCBPRIPQ EQU   IEDQPQCB+24                                              03202000
QCBCFHDR EQU   IEDQPQCB+21                                              03203000
QCBLFEFO EQU   IEDQPQCB+18                                              03204000
QCBFFEFO EQU   IEDQPQCB+15                                              03205000
QCBPREVF EQU   QCBINTLF                                                 03206000
QCBINTFF EQU   IEDQPQCB+9                                               03207000
QCBDATSQ EQU   QCBFHDTZ+1                                               03208000
@NM00184 EQU   QCBFHDTZ                                                 03209000
@NM00183 EQU   QCBPFEFO                                                 03210000
QCBDATFL EQU   QCBFHDLZ                                                 03211000
QCBDNHDR EQU   IEDQPQCB                                                 03212000
QCBQBACK EQU   IEDQQCB+37                                               03213000
QCBCKPT  EQU   QCBFLAG                                                  03214000
QCBPROC  EQU   QCBFLAG                                                  03215000
QCBSDFFO EQU   QCBFLAG                                                  03216000
QCBTERMQ EQU   QCBFLAG                                                  03217000
QCBRSRV  EQU   QCBFLAG                                                  03218000
QCBREAD  EQU   QCBFLAG                                                  03219000
QCBNOBRK EQU   QCBFLAG                                                  03220000
QCBRELLN EQU   IEDQQCB+32                                               03221000
QCBTJID  EQU   QCBLKRRN+1                                               03222000
QCBCARCT EQU   QCBLKRRN                                                 03223000
QCBPRLVL EQU   QCBPREN                                                  03224000
QCBMSGCT EQU   IEDQQCB+26                                               03225000
QCBEXTO  EQU   QCBINTVL                                                 03226000
QCBDISC  EQU   QCBTSOF1                                                 03227000
QCBDELAY EQU   QCBTSOF1                                                 03228000
QCBPARTO EQU   QCBTSOF1                                                 03229000
QCBSATRD EQU   QCBTSOF1                                                 03230000
QCBNOBUF EQU   QCBTSOF1                                                 03231000
QCBTPUT  EQU   QCBTSOF1                                                 03232000
QCBTGET  EQU   QCBTSOF1                                                 03233000
QCBWRBRK EQU   QCBTSOF1                                                 03234000
QCBSATLC EQU   QCBTSOF2                                                 03235000
QCBSATTI EQU   QCBTSOF2                                                 03236000
QCBSATCH EQU   QCBTSOF2                                                 03237000
QCBSIMRD EQU   QCBTSOF2                                                 03238000
QCBDSSMI EQU   QCBTSOF2                                                 03239000
QCBPOSTO EQU   QCBTSOF2                                                 03240000
QCBBUFQ  EQU   QCBTSOF2                                                 03241000
QCBMTP   EQU   QCBINHBN                                                 03242000
QCBSATCT EQU   @NM00182                                                 03243000
QCBSCBOF EQU   IEDQQCB+20                                               03244000
QCBTIME  EQU   QCBSTAT                                                  03245000
QCBCLOCK EQU   QCBSTAT                                                  03246000
QCBSMODE EQU   QCBSTAT                                                  03247000
QCBSEND  EQU   QCBSTAT                                                  03248000
QCBBUFRD EQU   QCBSTAT                                                  03249000
QCBTRMHO EQU   QCBSTAT                                                  03250000
QCBEOM   EQU   QCBSTAT                                                  03251000
QCBHUCT  EQU   QCBRETCT                                                 03252000
QCBIEND  EQU   QCBRETCT                                                 03253000
QCBEND   EQU   QCBRETCT                                                 03254000
QCBNL    EQU   QCBRETCT                                                 03255000
QCBLOGCT EQU   QCBRETCT                                                 03256000
@NM00181 EQU   QCBBYTE1                                                 03257000
QCBRITRM EQU   QCBBYTE1                                                 03258000
@NM00180 EQU   QCBEOLDT                                                 03259000
QCBSLINK EQU   IEDQQCB+13                                               03260000
QCBSTPRI EQU   IEDQQCB+12                                               03261000
QCBSTCHN EQU   IEDQQCB+9                                                03262000
QCBSTVTO EQU   IEDQQCB+8                                                03263000
QCBLINK  EQU   IEDQQCB+5                                                03264000
QCBPRI   EQU   IEDQQCB+4                                                03265000
QCBCNTEN EQU   QCBELCHN+2                                               03266000
@NM00179 EQU   QCBELCHN+2                                               03267000
@NM00178 EQU   QCBELCHN                                                 03268000
QCBHELD  EQU   QCBDSFLG                                                 03269000
QCBFQCB  EQU   QCBDSFLG                                                 03270000
QCBDRQQ  EQU   QCBDSFLG                                                 03271000
QCBALTMH EQU   QCBDSFLG                                                 03272000
QCBREUS  EQU   QCBDISK                                                  03273000
QCBNREUS EQU   QCBDISK                                                  03274000
QCBCORE  EQU   QCBDSFLG                                                 03275000
QCBTSQ   EQU   QCBDSFLG                                                 03276000
PRF2SEQP EQU   PRF2WD2                                                  03277000
@NM00177 EQU   IEDPF2+1                                                 03278000
@NM00176 EQU   PRF2FLG2                                                 03279000
PRF2TERM EQU   PRF2FLG2                                                 03280000
PRF2SMI  EQU   PRF2FLG2                                                 03281000
PRF2FORM EQU   PRF2FLG2                                                 03282000
PRF2TNTI EQU   PRF2FLG2                                                 03283000
PRF1RULN EQU   PRF1SEQP+2                                               03284000
PRF1TAG2 EQU   PRF1SQID+1                                               03285000
@NM00175 EQU   PRF1TAG1                                                 03286000
PRF1TAGS EQU   PRF1TAG1                                                 03287000
@NM00174 EQU   PRF1FLG1                                                 03288000
PRF1LOGD EQU   PRF1FLG1                                                 03289000
PRF1USS  EQU   PRF1FLG1                                                 03290000
PRF1FORM EQU   PRF1FLG1                                                 03291000
PRF1EXPI EQU   PRF1FLG1                                                 03292000
PRF1FIDI EQU   PRF1FLG1                                                 03293000
PRF1RH   EQU   IEDPF1                                                   03294000
PRFDEST  EQU   IEDQPRF+40                                               03295000
PRFISEQ  EQU   IEDQPRF+38                                               03296000
PRFSTXT  EQU   PRFHQBCK                                                 03297000
PRFNHDR  EQU   PRFCHDR                                                  03298000
PRFCRCD  EQU   IEDQPRF+29                                               03299000
PRFSVSEQ EQU   PRFNTXT+1                                                03300000
PRFSVPRI EQU   PRFEOBOF                                                 03301000
@NM00173 EQU   PRFSCAN                                                  03302000
PRFSTSO  EQU   PRFXTRA                                                  03303000
PRFNLSTN EQU   PRFSTAT1                                                 03304000
PRFLOCK  EQU   PRFEOFN                                                  03305000
PRFDUPLN EQU   PRFSTAT1                                                 03306000
PRFITCPN EQU   PRFSTAT1                                                 03307000
PRFERMGN EQU   PRFSTAT1                                                 03308000
PRFCNCLN EQU   PRFSTAT1                                                 03309000
PRFSVFLG EQU   @NM00172+3                                               03310000
PRFSRCE  EQU   PRFSVFFO                                                 03311000
@NM00171 EQU   PRFTICC                                                  03312000
@NM00170 EQU   PRFTICC                                                  03313000
@NM00169 EQU   PRFTICC                                                  03314000
PRFTICON EQU   PRFTICC                                                  03315000
@NM00168 EQU   PRFTICC                                                  03316000
@NM00167 EQU   PRFTICC                                                  03317000
PRFBFMM  EQU   PRFTICC                                                  03318000
PRFEOMSG EQU   PRFTICC                                                  03319000
PRFCOUNT EQU   PRFLINK+1                                                03320000
@NM00166 EQU   PRFLINK                                                  03321000
PRFFLAGS EQU   PRFPRI                                                   03322000
PRFIOADR EQU   PRFQCBA                                                  03323000
PRFOPCDE EQU   PRFKEY                                                   03324000
PLMVFLG2 EQU   IEDPLMV+19                                               03325000
@NM00165 EQU   PLMVFLG1                                                 03326000
PLMVTCTG EQU   PLMVFLG1                                                 03327000
PLMVSCTG EQU   PLMVFLG1                                                 03328000
LGBIVLST EQU   IEDNLGB+60                                               03329000
LGBRESV4 EQU   LGBRESER+3                                               03330000
LGBRESV3 EQU   LGBRESER+2                                               03331000
LGBRESV2 EQU   LGBRESER+1                                               03332000
LGBRESV1 EQU   LGBRESER                                                 03333000
@NM00164 EQU   IEDNLGB+53                                               03334000
LGBILCT  EQU   IEDNLGB+52                                               03335000
LGBSCTAD EQU   IEDNLGB+49                                               03336000
@NM00163 EQU   LGBOFLGS                                                 03337000
LGBOPEN  EQU   LGBOFLGS                                                 03338000
@NM00162 EQU   LGBOFLGS                                                 03339000
LGBNAME  EQU   IEDNLGB+40                                               03340000
@NM00161 EQU   IEDNLGB+36                                               03341000
LGBTRANS EQU   IEDNLGB+33                                               03342000
@NM00160 EQU   IEDNLGB+32                                               03343000
@NM00159 EQU   IEDNLGB+31                                               03344000
LGBOPACE EQU   IEDNLGB+30                                               03345000
@NM00158 EQU   LGBBYTE                                                  03346000
LGBBUFMA EQU   IEDNLGB+28                                               03347000
LGBDSORG EQU   IEDNLGB+26                                               03348000
@NM00157 EQU   LGBPCI                                                   03349000
@NM00156 EQU   LGBPCI                                                   03350000
LGBPCINO EQU   LGBPCI                                                   03351000
@NM00155 EQU   LGBPCI                                                   03352000
LGBPCIAO EQU   LGBPCI                                                   03353000
@NM00154 EQU   LGBPCI                                                   03354000
@NM00153 EQU   LGBPCI                                                   03355000
@NM00152 EQU   LGBPCI                                                   03356000
@NM00151 EQU   IEDNLGB+24                                               03357000
LGBMHA   EQU   IEDNLGB+21                                               03358000
@NM00150 EQU   LGBBUFOU                                                 03359000
LGBPREF  EQU   LGBBUFOU                                                 03360000
@NM00149 EQU   LGBBUFOU                                                 03361000
LGBSUBST EQU   IEDNLGB+18                                               03362000
LGBTYPE  EQU   IEDNLGB+17                                               03363000
@NM00148 EQU   IEDNLGB                                                  03364000
LCBERADR EQU   LCBXRADR+1                                               03365000
LCBPCIRC EQU   LCBXRADR                                                 03366000
LCBDCT3  EQU   LCBXDCT+2                                                03367000
LCBDCT2  EQU   LCBXDCT+1                                                03368000
LCBDCT1  EQU   LCBXDCT                                                  03369000
@NM00147 EQU   LCBXFLAG                                                 03370000
LCBERPND EQU   LCBXFLAG                                                 03371000
LCBSRCPF EQU   LCBXFLAG                                                 03372000
LCBGPCTV EQU   LCBXFLAG                                                 03373000
@NM00146 EQU   LCBXFLAG                                                 03374000
@NM00145 EQU   LCBXFLAG                                                 03375000
@NM00144 EQU   LCBXFLAG                                                 03376000
@NM00143 EQU   LCBXFLAG                                                 03377000
LCBCCW10 EQU   LCBCPA+72                                                03378000
LCBCCW9  EQU   LCBCPA+64                                                03379000
LCBCCW8  EQU   LCBCPA+56                                                03380000
LCBCCW7  EQU   LCBCPA+48                                                03381000
LCBCCW6  EQU   LCBCPA+40                                                03382000
LCBCP    EQU   LCBQEBPL+4                                               03383000
LCBIOSB  EQU   LCBQEBPL+1                                               03384000
LCBSIO   EQU   LCBQEBPL                                                 03385000
LCBCCW4  EQU   LCBCPA+24                                                03386000
LCBCCW3  EQU   LCBCPA+16                                                03387000
LCBCCW2  EQU   LCBCPA+8                                                 03388000
LCBCCW1  EQU   LCBCPA                                                   03389000
@NM00128 EQU   LCBERCCW+16                                              03390000
LCBATL05 EQU   LCBERCCW+8                                               03391000
@NM00127 EQU   LCBERCCW                                                 03392000
LCBCSWSV EQU   LCBSAVSN+1                                               03393000
LCBSNSV  EQU   LCBSAVSN                                                 03394000
LCBBFSNS EQU   LCBRSPSV                                                 03395000
LCBINPAK EQU   LCBSTAT6                                                 03396000
LCBMHBID EQU   LCBSTAT6                                                 03397000
LCBRTRRO EQU   LCBSTAT6                                                 03398000
LCBHDRPD EQU   LCBSTAT6                                                 03399000
LCBCHN   EQU   LCBSTAT6                                                 03400000
LCBBFRSV EQU   LCBTPCD+1                                                03401000
@NM00126 EQU   LCBSTAT5                                                 03402000
LCBLUS   EQU   LCBSTAT5                                                 03403000
LCBLUNIT EQU   LCBSTAT5                                                 03404000
LCBPERM  EQU   LCBSTAT5                                                 03405000
LCBNXCMD EQU   LCBBFRW                                                  03406000
LCBERMSK EQU   LCBOBRCH                                                 03407000
LCBEOT   EQU   LCBMSGFM                                                 03408000
LCBENQ   EQU   LCBMSGFM                                                 03409000
LCBTTD   EQU   LCBMSGFM                                                 03410000
LCBRSTRT EQU   LCBMSGFM                                                 03411000
LCBVSTRT EQU   LCBMSGFM                                                 03412000
LCBACKI  EQU   LCBMSGFM                                                 03413000
LCBNAK   EQU   LCBMSGFM                                                 03414000
@NM00125 EQU   LCBRBCT2                                                 03415000
LCBDCNT  EQU   LCBRBCT2                                                 03416000
LCBRBCT1 EQU   LCBERBCT                                                 03417000
LCBERBCH EQU   IEDQLCB+85                                               03418000
LCBCOMPL EQU   LCBDLNKN                                                 03419000
LCBPRCPG EQU   LCBERBST                                                 03420000
LCBERROR EQU   LCBERBST                                                 03421000
LCBLOGDV EQU   LCBERBST                                                 03422000
LCBINQ   EQU   LCBERBST                                                 03423000
LCBRDERR EQU   LCBERBST                                                 03424000
LCBEOMSG EQU   LCBERBST                                                 03425000
LCBMSG   EQU   LCBERBST                                                 03426000
LCBERBLK EQU   IEDQLCB+81                                               03427000
LCBERBPY EQU   IEDQLCB+80                                               03428000
LCBERBQB EQU   LCBERB+1                                                 03429000
LCBERBKY EQU   LCBERB                                                   03430000
LCBRECAD EQU   IEDQLCB+73                                               03431000
@NM00124 EQU   LCBTSTSW                                                 03432000
@NM00123 EQU   LCBTSTSW                                                 03433000
@NM00122 EQU   LCBTSTSW                                                 03434000
@NM00121 EQU   LCBTSTSW                                                 03435000
@NM00120 EQU   LCBTSTSW                                                 03436000
@NM00119 EQU   LCBTSTSW                                                 03437000
@NM00118 EQU   LCBTSTSW                                                 03438000
LCBCONCT EQU   LCBTSTSW                                                 03439000
LCBBFRAV EQU   LCBDIAL                                                  03440000
LCBATTN  EQU   LCBSYNC                                                  03441000
LCBSNDPR EQU   LCBSTAT2                                                 03442000
LCBMSGNN EQU   LCBSTAT2                                                 03443000
LCBTRACE EQU   LCBSTAT2                                                 03444000
LCBOCNI  EQU   LCBSTAT1                                                 03445000
LCBOCWTN EQU   LCBSTAT1                                                 03446000
LCBRDBFR EQU   LCBRCBFR                                                 03447000
LCBUCBX  EQU   IEDQLCB+64                                               03448000
LCBTTBIN EQU   LCBERRCT                                                 03449000
@NM00117 EQU   LCBINCAM                                                 03450000
LCBGETMN EQU   LCBINCAM                                                 03451000
@NM00116 EQU   LCBRESTR+1                                               03452000
LCBPCILK EQU   LCBDCBPT                                                 03453000
LCBSTART EQU   LCBIOBSN+16                                              03454000
LCBAP4OL EQU   LCBSIOCC                                                 03455000
LCBAP3OL EQU   LCBSIOCC                                                 03456000
LCBAP2OL EQU   LCBSIOCC                                                 03457000
LCBAP1OL EQU   LCBSIOCC                                                 03458000
LCBSIOC2 EQU   LCBSIOCC                                                 03459000
LCBSIOC1 EQU   LCBSIOCC                                                 03460000
@NM00115 EQU   LCBSIOCC                                                 03461000
LCBCSCHC EQU   LCBCSWCS                                                 03462000
LCBCSICC EQU   LCBCSWCS                                                 03463000
LCBCSCCC EQU   LCBCSWCS                                                 03464000
LCBCSCDC EQU   LCBCSWCS                                                 03465000
LCBCSPTC EQU   LCBCSWCS                                                 03466000
LCBCSPGC EQU   LCBCSWCS                                                 03467000
LCBCSIL  EQU   LCBCSWCS                                                 03468000
LCBCSPCI EQU   LCBCSWCS                                                 03469000
LCBUSUC  EQU   LCBCSWUS                                                 03470000
LCBUSDE  EQU   LCBCSWUS                                                 03471000
LCBUSCE  EQU   LCBCSWUS                                                 03472000
LCBUSBSY EQU   LCBCSWUS                                                 03473000
LCBUSCUE EQU   LCBCSWUS                                                 03474000
LCBUSSM  EQU   LCBCSWUS                                                 03475000
LCBUSAT  EQU   LCBCSWUS                                                 03476000
LCBCSWCA EQU   LCBCSW                                                   03477000
LCBOBR   EQU   LCBFLAG3                                                 03478000
LCBOBRRD EQU   LCBFLAG3                                                 03479000
LCBIOMSG EQU   LCBFLAG3                                                 03480000
LCBSOHC  EQU   LCBFLAG3                                                 03481000
LCBRLAD  EQU   LCBFLAG3                                                 03482000
LCBSOHR  EQU   LCBFLAG3                                                 03483000
@NM00114 EQU   LCBFLAG3                                                 03484000
LCBECBPT EQU   LCBIOBSN+4                                               03485000
LCBECBCC EQU   LCBIOBSN+3                                               03486000
LCBSENS1 EQU   LCBSNS+1                                                 03487000
LCBABORT EQU   LCBTMOUT                                                 03488000
LCBNOTIN EQU   LCBLOSDT                                                 03489000
LCBOVRUN EQU   LCBSENS0                                                 03490000
LCBBUSCK EQU   LCBSENS0                                                 03491000
LCBFLAG2 EQU   LCBIOBSN                                                 03492000
@NM00113 EQU   LCBFLAG1                                                 03493000
LCBUNREL EQU   LCBFLAG1                                                 03494000
LCBEXCPN EQU   LCBFLAG1                                                 03495000
@NM00112 EQU   LCBFLAG1                                                 03496000
LCBERPIN EQU   LCBFLAG1                                                 03497000
@NM00111 EQU   LCBFLAG1                                                 03498000
LCBFSBFR EQU   LCBMHA                                                   03499000
LCBISZE  EQU   IEDQLCB+28                                               03500000
LCBLNENT EQU   LCBSCBDA+1                                               03501000
@NM00110 EQU   LCBSCBDA                                                 03502000
LCBCPGMH EQU   LCBSTAT4                                                 03503000
LCBREAL  EQU   LCBPHASE                                                 03504000
@NM00109 EQU   LCBSTAT4                                                 03505000
LCBACTRQ EQU   LCBSTAT4                                                 03506000
LCBIPLRQ EQU   LCBSTAT4                                                 03507000
LCBDACRQ EQU   LCBSTAT4                                                 03508000
LCBDMPRQ EQU   LCBSTAT4                                                 03509000
@NM00108 EQU   LCBLKMDE                                                 03510000
LCBLOCKI EQU   LCBLKMDE                                                 03511000
LCBLOCKR EQU   LCBLKMDE                                                 03512000
LCBHMFLG EQU   LCBLKMDE                                                 03513000
LCBBDFLG EQU   LCBLKMDE                                                 03514000
@NM00107 EQU   LCBINSRC                                                 03515000
LCBABRTN EQU   LCBCHAIN                                                 03516000
LCBBFRSZ EQU   LCBCHAIN                                                 03517000
LCBUREQN EQU   LCBCHAIN                                                 03518000
LCBNORTY EQU   LCBCHAIN                                                 03519000
LCBEXCP  EQU   LCBCHAIN                                                 03520000
LCBINVRQ EQU   LCBSCRNN                                                 03521000
LCB2741N EQU   LCBTSOB                                                  03522000
LCBINHBN EQU   LCBTSOB                                                  03523000
LCBCIRCD EQU   LCBTSOB                                                  03524000
LCBPREP  EQU   LCBTSOB                                                  03525000
LCBSOPL  EQU   LCBTSOB                                                  03526000
LCBSATRD EQU   LCBTSOB                                                  03527000
LCBTSBUF EQU   LCBTSOB                                                  03528000
LCBWRBRK EQU   LCBTSOB                                                  03529000
LCBTDL   EQU   IEDQLCB+18                                               03530000
LCBEOLTD EQU   IEDQLCB+16                                               03531000
LCBRSLNK EQU   IEDQLCB+13                                               03532000
LCBRSPRI EQU   IEDQLCB+12                                               03533000
LCBSTCBA EQU   IEDQLCB+9                                                03534000
LCBRSKEY EQU   IEDQLCB+8                                                03535000
LCBLINK  EQU   LCBRCB+5                                                 03536000
LCBKEY   EQU   LCBRCB                                                   03537000
@NM00106 EQU   DCTBYTE5                                                 03538000
DCTL3270 EQU   DCTBYTE5                                                 03539000
DCTSCS   EQU   DCTBYTE5                                                 03540000
DCTTSPRF EQU   DCTBYTE4                                                 03541000
DCTFMPRF EQU   DCTBYTE4                                                 03542000
DCT2760  EQU   DCTBYTE3                                                 03543000
DCTNOIDL EQU   DCTBYTE3                                                 03544000
DCTCONTN EQU   DCTBYTE3                                                 03545000
DCTBUFF  EQU   DCTBYTE3                                                 03546000
DCTCHECK EQU   DCTBYTE3                                                 03547000
DCTENCTL EQU   DCTBYTE3                                                 03548000
DCTWTTA  EQU   DCTBYTE3                                                 03549000
DCT1050  EQU   DCTBYTE3                                                 03550000
DCTAUDIO EQU   DCTBYTE2                                                 03551000
DCTLOCAL EQU   DCTBYTE2                                                 03552000
DCTCONT  EQU   DCTBYTE2                                                 03553000
DCTXMIT  EQU   DCTBYTE2                                                 03554000
DCTSTCTL EQU   DCTBYTE2                                                 03555000
DCTTWX   EQU   DCTBYTE2                                                 03556000
DCTBRDST EQU   DCTBYTE2                                                 03557000
DCTBISYN EQU   DCTBYTE2                                                 03558000
DCTUMASK EQU   DCTBYTE1                                                 03559000
DCTSADEV EQU   DCTBYTE1                                                 03560000
DCT3270  EQU   DCTBYTE1                                                 03561000
DCT2741  EQU   DCTBYTE1                                                 03562000
DCT5041  EQU   DCTBYTE1                                                 03563000
DCTATTEN EQU   DCTBYTE1                                                 03564000
DCTBREAK EQU   DCTBYTE1                                                 03565000
DCTINHIB EQU   DCTBYTE1                                                 03566000
DCTBYTE0 EQU   IEDDCT                                                   03567000
BDUXGRPH EQU   BDUEXRSP                                                 03568000
BDUXERLK EQU   BDUBDUFG                                                 03569000
BDUALTAK EQU   BDUFNFLG                                                 03570000
BDUNEGAK EQU   BDUFNFLG                                                 03571000
BDUPOSAK EQU   BDUFNFLG                                                 03572000
BDUTPTX  EQU   BDUFNFLG                                                 03573000
BDUFRSTB EQU   BDUFNFLG                                                 03574000
BDULEADG EQU   BDUFNFLG                                                 03575000
BDUSTHDR EQU   BDUFNFLG                                                 03576000
SAVTLLCB EQU   IEDNSVTD+316                                             03577000
SAVTBITN EQU   IEDNSVTD+312                                             03578000
@NM00105 EQU   SAVTCKQB+8                                               03579000
@NM00104 EQU   SAVTCKEC+1                                               03580000
@NM00103 EQU   SAVTCKCC                                                 03581000
SAVTCKPO EQU   SAVTCKCC                                                 03582000
SAVTCKWA EQU   SAVTCKCC                                                 03583000
SAVTCKCH EQU   SAVTCKTB+1                                               03584000
SAVTCKVT EQU   SAVTCKTB                                                 03585000
@NM00102 EQU   IEDNSVTD+297                                             03586000
SAVTRDFG EQU   SAVTRDRV+12                                              03587000
@NM00101 EQU   SAVTRDRV+5                                               03588000
SAVTRDPY EQU   SAVTRDRV+4                                               03589000
SAVTRDQB EQU   SAVTRDRV+1                                               03590000
SAVTRDKY EQU   SAVTRDRV                                                 03591000
SAVTPLSZ EQU   IEDNSVTD+274                                             03592000
@NM00100 EQU   IEDNSVTD+273                                             03593000
SAVTSUBL EQU   IEDNSVTD+272                                             03594000
@NM00099 EQU   SAVTZELM+1                                               03595000
SAVTSUBM EQU   SAVTZELM                                                 03596000
SAVTMHDX EQU   IEDNSVTD+268                                             03597000
SAVTNAT1 EQU   IEDNSVTD+266                                             03598000
SAVTSH20 EQU   IEDNSVTD+264                                             03599000
SAVTLCBS EQU   IEDNSVTD+260                                             03600000
SAVTRNMP EQU   IEDNSVTD+256                                             03601000
SAVTTNTX EQU   IEDNSVTD+252                                             03602000
SAVTSUBV EQU   IEDNSVTD+247                                             03603000
SAVTSUBA EQU   IEDNSVTD+246                                             03604000
SAVTSIBC EQU   IEDNSVTD+244                                             03605000
SAVTBSM  EQU   IEDNSVTD+240                                             03606000
SAVTSCPT EQU   SAVTTCPU                                                 03607000
SAVTRQTG EQU   IEDNSVTD+236                                             03608000
SAVTRQCH EQU   IEDNSVTD+232                                             03609000
SAVTSPLN EQU   IEDNSVTD+224                                             03610000
SAVTNADL EQU   IEDNSVTD+222                                             03611000
SAVTNATL EQU   IEDNSVTD+220                                             03612000
SAVTMHTB EQU   IEDNSVTD+216                                             03613000
SAVTSSMH EQU   IEDNSVTD+212                                             03614000
SAVTQRS  EQU   IEDNSVTD+208                                             03615000
SAVTRQIN EQU   IEDNSVTD+204                                             03616000
SAVTDFCO EQU   IEDNSVTD+200                                             03617000
SAVTSAO  EQU   IEDNSVTD+196                                             03618000
SAVTSARI EQU   IEDNSVTD+192                                             03619000
SAVTSAC  EQU   IEDNSVTD+188                                             03620000
SAVTSAI  EQU   IEDNSVTD+184                                             03621000
SAVTCSCI EQU   IEDNSVTD+180                                             03622000
SAVTSSRP EQU   IEDNSVTD+176                                             03623000
SAVTSSRQ EQU   IEDNSVTD+172                                             03624000
SAVTSCLU EQU   IEDNSVTD+168                                             03625000
SAVTXTRQ EQU   IEDNSVTD+164                                             03626000
@NM00098 EQU   IEDNSVTD+148                                             03627000
SAVTIPCQ EQU   IEDNSVTD+144                                             03628000
@NM00097 EQU   IEDNSVTD+136                                             03629000
@NM00096 EQU   IEDNSVTD+124                                             03630000
SAVTXFMO EQU   IEDNSVTD+120                                             03631000
@NM00095 EQU   IEDNSVTD+116                                             03632000
SAVTSSSR EQU   IEDNSVTD+112                                             03633000
SAVTSCPQ EQU   IEDNSVTD+108                                             03634000
SAVTSLCB EQU   IEDNSVTD+104                                             03635000
SAVTLUSR EQU   IEDNSVTD+100                                             03636000
@NM00094 EQU   SAVTLUSQ+8                                               03637000
SAVTLUSP EQU   SAVTLUSQ+4                                               03638000
SAVTLUSB EQU   SAVTLUSQ                                                 03639000
@NM00093 EQU   IEDNSVTD+84                                              03640000
SAVTSAT  EQU   IEDNSVTD+80                                              03641000
SAVTNAT  EQU   IEDNSVTD+76                                              03642000
SAVTCLUP EQU   IEDNSVTD+72                                              03643000
SAVTPIUT EQU   IEDNSVTD+68                                              03644000
SAVTRNTA EQU   IEDNSVTD+64                                              03645000
SAVTDNIR EQU   IEDNSVTD+60                                              03646000
SAVTCNIR EQU   IEDNSVTD+56                                              03647000
SAVTFLDH EQU   IEDNSVTD+52                                              03648000
SAVTSRTN EQU   IEDNSVTD+48                                              03649000
SAVTSREQ EQU   IEDNSVTD+44                                              03650000
SAVTFAIL EQU   IEDNSVTD+42                                              03651000
SAVTSUSE EQU   IEDNSVTD+40                                              03652000
SAVTSIB  EQU   IEDNSVTD+36                                              03653000
SAVTPRTN EQU   IEDNSVTD+32                                              03654000
@NM00092 EQU   IEDNSVTD+28                                              03655000
SAVTWH20 EQU   IEDNSVTD+26                                              03656000
SAVTPWT  EQU   IEDNSVTD+24                                              03657000
SAVTPRTQ EQU   IEDNSVTD+20                                              03658000
SAVTPREQ EQU   IEDNSVTD+16                                              03659000
SAVTPH20 EQU   IEDNSVTD+14                                              03660000
SAVTPUSE EQU   IEDNSVTD+12                                              03661000
SAVTPLCB EQU   IEDNSVTD+8                                               03662000
SAVTPOOL EQU   IEDNSVTD+4                                               03663000
SAVTPRMT EQU   SAVTDIAF                                                 03664000
SAVTVIRT EQU   SAVTDIAF                                                 03665000
AVTCPBNO EQU   IEDQAVTD+1172                                            03666000
AVTHRESS EQU   IEDQAVTD+1171                                            03667000
@NM00091 EQU   IEDQAVTD+1170                                            03668000
@NM00090 EQU   IEDQAVTD+1169                                            03669000
@NM00089 EQU   IEDQAVTD+1168                                            03670000
@NM00088 EQU   IEDQAVTD+1165                                            03671000
@NM00087 EQU   IEDQAVTD+1164                                            03672000
AVTHRESE EQU   @NM00086                                                 03673000
AVTRADDR EQU   IEDQAVTD+1156                                            03674000
AVTNADDR EQU   IEDQAVTD+1152                                            03675000
AVTHRESN EQU   IEDQAVTD+1148                                            03676000
AVTVOLRN EQU   IEDQAVTD+1144                                            03677000
AVTTOTNN EQU   IEDQAVTD+1140                                            03678000
AVTTRCYN EQU   IEDQAVTD+1136                                            03679000
AVTRCTRN EQU   IEDQAVTD+1132                                            03680000
AVTNOVON EQU   IEDQAVTD+1128                                            03681000
AVTADEBN EQU   IEDQAVTD+1124                                            03682000
AVTVOLRR EQU   IEDQAVTD+1120                                            03683000
AVTTOTNR EQU   IEDQAVTD+1116                                            03684000
AVTTRCYR EQU   IEDQAVTD+1112                                            03685000
AVTRCTRR EQU   IEDQAVTD+1108                                            03686000
AVTNOVOR EQU   IEDQAVTD+1104                                            03687000
AVTADEBR EQU   IEDQAVTD+1100                                            03688000
AVTLODPT EQU   IEDQAVTD+1096                                            03689000
AVTIOBN  EQU   IEDQAVTD+1092                                            03690000
AVTIOBR  EQU   IEDQAVTD+1088                                            03691000
AVTCPBPT EQU   IEDQAVTD+1084                                            03692000
AVTFCPB  EQU   IEDQAVTD+1080                                            03693000
@NM00085 EQU   IEDQAVTD+1076                                            03694000
AVTINCPQ EQU   IEDQAVTD+1072                                            03695000
@NM00084 EQU   IEDQAVTD+1068                                            03696000
@NM00083 EQU   IEDQAVTD+1065                                            03697000
@NM00082 EQU   AVTBIT4                                                  03698000
@NM00081 EQU   AVTBIT4                                                  03699000
@NM00080 EQU   AVTBIT4                                                  03700000
@NM00079 EQU   AVTBIT4                                                  03701000
@NM00078 EQU   AVTBIT4                                                  03702000
@NM00077 EQU   AVTBIT4                                                  03703000
@NM00076 EQU   AVTBIT4                                                  03704000
AVTRUFTN EQU   AVTBIT4                                                  03705000
@NM00075 EQU   IEDQAVTD+1060                                            03706000
AVTNOBFQ EQU   IEDQAVTD+1056                                            03707000
@NM00074 EQU   IEDQAVTD+1052                                            03708000
AVTDKENQ EQU   IEDQAVTD+1048                                            03709000
@NM00073 EQU   IEDQAVTD+1044                                            03710000
AVTDKAPQ EQU   IEDQAVTD+1040                                            03711000
AVTCOPY  EQU   IEDQAVTD+1036                                            03712000
AVTIA    EQU   IEDQAVTD+1032                                            03713000
AVTFL    EQU   IEDQAVTD+1028                                            03714000
@NM00072 EQU   IEDQAVTD+1024                                            03715000
AVTNCPBQ EQU   IEDQAVTD+1020                                            03716000
AVTTOTNC EQU   IEDQAVTD+1016                                            03717000
AVTCMAX  EQU   IEDQAVTD+1012                                            03718000
AVTCMIN  EQU   IEDQAVTD+1008                                            03719000
AVTHM02  EQU   IEDQAVTD+1004                                            03720000
AVTOPCIN EQU   IEDQAVTD+1002                                            03721000
AVTDCTLN EQU   IEDQAVTD+1000                                            03722000
AVTOPMSK EQU   IEDQAVTD+996                                             03723000
AVTDDFT  EQU   IEDQAVTD+992                                             03724000
AVTSTEAL EQU   IEDQAVTD+988                                             03725000
AVTOPTN  EQU   IEDQAVTD+984                                             03726000
AVTDSKCT EQU   IEDQAVTD+982                                             03727000
AVTCKRST EQU   IEDQAVTD+981                                             03728000
AVTSTAN  EQU   AVTBIT3                                                  03729000
AVTSTACN EQU   AVTBIT3                                                  03730000
AVTSTAIN EQU   AVTBIT3                                                  03731000
AVTSTAYN EQU   AVTBIT3                                                  03732000
AVTOLTBN EQU   AVTBIT3                                                  03733000
AVTTSAB  EQU   AVTBIT3                                                  03734000
AVTRFULN EQU   AVTBIT3                                                  03735000
AVTRECVN EQU   AVTBIT3                                                  03736000
@NM00071 EQU   AVTBIT2                                                  03737000
@NM00070 EQU   AVTBIT2                                                  03738000
AVTOPEIN EQU   AVTBIT2                                                  03739000
AVTSTRTN EQU   AVTBIT2                                                  03740000
AVTCOPYN EQU   AVTBIT2                                                  03741000
AVTREUSN EQU   AVTBIT2                                                  03742000
AVTEXTSC EQU   AVTBIT2                                                  03743000
AVTDISKN EQU   AVTBIT1                                                  03744000
AVTQUCKN EQU   AVTBIT1                                                  03745000
AVTCLOSN EQU   AVTBIT1                                                  03746000
AVTREADN EQU   AVTBIT1                                                  03747000
AVTDLAYN EQU   AVTBIT1                                                  03748000
AVTAQTAN EQU   AVTBIT1                                                  03749000
AVTTSON  EQU   AVTBIT1                                                  03750000
AVTAPLKN EQU   AVTBIT1                                                  03751000
AVTDUMBR EQU   IEDQAVTD+976                                             03752000
AVTDLQX  EQU   IEDQAVTD+974                                             03753000
AVTINTLV EQU   IEDQAVTD+972                                             03754000
AVTSMCNT EQU   IEDQAVTD+970                                             03755000
AVTAVFCT EQU   IEDQAVTD+968                                             03756000
AVTOPCON EQU   IEDQAVTD+966                                             03757000
AVTOPCNT EQU   IEDQAVTD+964                                             03758000
AVTLNCNT EQU   IEDQAVTD+962                                             03759000
AVTHA16  EQU   IEDQAVTD+958                                             03760000
AVTHA7   EQU   IEDQAVTD+956                                             03761000
AVTHA4   EQU   IEDQAVTD+954                                             03762000
AVTHA3   EQU   IEDQAVTD+952                                             03763000
AVTHA2   EQU   IEDQAVTD+950                                             03764000
AVTGETMS EQU   IEDQAVTD+949                                             03765000
@NM00069 EQU   IEDQAVTD+948                                             03766000
AVTGETMD EQU   IEDQAVTD+944                                             03767000
AVTGETMN EQU   IEDQAVTD+940                                             03768000
AVTCWTOT EQU   IEDQAVTD+936                                             03769000
AVTCWINT EQU   IEDQAVTD+884                                             03770000
AVTDTRAP EQU   IEDQAVTD+880                                             03771000
@NM00068 EQU   IEDQAVTD+878                                             03772000
@NM00067 EQU   AVTIOTR                                                  03773000
AVTIOTRH EQU   AVTIOTR                                                  03774000
AVTIOTRE EQU   AVTIOTR                                                  03775000
@NM00066 EQU   AVTSUBT                                                  03776000
AVTSUBPT EQU   AVTSUBT                                                  03777000
AVTSUBON EQU   AVTSUBT                                                  03778000
AVTAFE30 EQU   IEDQAVTD+872                                             03779000
AVTAFE20 EQU   IEDQAVTD+868                                             03780000
AVTAFE10 EQU   IEDQAVTD+864                                             03781000
AVTCWEC2 EQU   IEDQAVTD+860                                             03782000
AVTCWPM2 EQU   IEDQAVTD+856                                             03783000
AVTCWTS2 EQU   IEDQAVTD+855                                             03784000
AVTCWTS1 EQU   IEDQAVTD+854                                             03785000
AVTCWCLD EQU   AVTCWFL2                                                 03786000
AVTCWRAP EQU   AVTCWFL2                                                 03787000
@NM00065 EQU   AVTCWFL2                                                 03788000
@NM00064 EQU   AVTCWFL2                                                 03789000
@NM00063 EQU   AVTCWFL2                                                 03790000
@NM00062 EQU   AVTCWFL2                                                 03791000
@NM00061 EQU   AVTCWFL2                                                 03792000
AVTCWACT EQU   AVTCWFL2                                                 03793000
@NM00060 EQU   AVTCWFL1                                                 03794000
@NM00059 EQU   AVTCWFL1                                                 03795000
@NM00058 EQU   AVTCWFL1                                                 03796000
@NM00057 EQU   AVTCWFL1                                                 03797000
@NM00056 EQU   AVTCWFL1                                                 03798000
@NM00055 EQU   AVTCWFL1                                                 03799000
@NM00054 EQU   AVTCWFL1                                                 03800000
AVTCOMWN EQU   AVTCWFL1                                                 03801000
AVTCWEC1 EQU   IEDQAVTD+848                                             03802000
AVTCWPM1 EQU   IEDQAVTD+844                                             03803000
AVTCAREA EQU   IEDQAVTD+840                                             03804000
AVTFZERO EQU   IEDQAVTD+836                                             03805000
AVTCADDR EQU   IEDQAVTD+832                                             03806000
AVTCOREC EQU   IEDQAVTD+828                                             03807000
@NM00053 EQU   IEDQAVTD+820                                             03808000
AVTCPBCB EQU   IEDQAVTD+816                                             03809000
@NM00052 EQU   IEDQAVTD+808                                             03810000
AVTDSIOB EQU   IEDQAVTD+804                                             03811000
@NM00051 EQU   IEDQAVTD+796                                             03812000
AVTCPRMB EQU   IEDQAVTD+792                                             03813000
@NM00050 EQU   IEDQAVTD+784                                             03814000
AVTCLOSB EQU   IEDQAVTD+780                                             03815000
@NM00049 EQU   IEDQAVTD+772                                             03816000
AVTACTIB EQU   IEDQAVTD+768                                             03817000
@NM00048 EQU   IEDQAVTD+764                                             03818000
AVTOLTEB EQU   IEDQAVTD+760                                             03819000
AVTOLTCH EQU   AVTOLTQB+1                                               03820000
AVTOLTVT EQU   AVTOLTQB                                                 03821000
@NM00047 EQU   AVTOPCQB+8                                               03822000
@NM00046 EQU   AVTOPCEC+1                                               03823000
@NM00045 EQU   AVTOPCCC                                                 03824000
AVTOPCPO EQU   AVTOPCCC                                                 03825000
AVTOPCWA EQU   AVTOPCCC                                                 03826000
AVTOPCCH EQU   AVTOPCOB+1                                               03827000
AVTOPCVT EQU   AVTOPCOB                                                 03828000
@NM00044 EQU   AVTCKPQB+9                                               03829000
AVTCKPTS EQU   AVTCKPQB+8                                               03830000
@NM00043 EQU   AVTCKPEC+1                                               03831000
@NM00042 EQU   AVTCKPCC                                                 03832000
AVTCKPPO EQU   AVTCKPCC                                                 03833000
AVTCKPWA EQU   AVTCKPCC                                                 03834000
AVTCKPCH EQU   AVTCKPTB+1                                               03835000
AVTCKPVT EQU   AVTCKPTB                                                 03836000
@NM00041 EQU   IEDQAVTD+724                                             03837000
@NM00040 EQU   IEDQAVTD+716                                             03838000
AVTSELCH EQU   IEDQAVTD+713                                             03839000
AVTBFRTN EQU   AVTBFRFG                                                 03840000
AVTBFREB EQU   IEDQAVTD+708                                             03841000
AVTTIMQ  EQU   IEDQAVTD+704                                             03842000
@NM00039 EQU   IEDQAVTD+700                                             03843000
AVTIMQPS EQU   IEDQAVTD+696                                             03844000
AVTINOUT EQU   IEDQAVTD+694                                             03845000
AVTREFTM EQU   IEDQAVTD+692                                             03846000
@NM00038 EQU   IEDQAVTD+680                                             03847000
AVTDELYB EQU   IEDQAVTD+676                                             03848000
AVTOCQPT EQU   IEDQAVTD+672                                             03849000
AVTTSOPT EQU   IEDQAVTD+668                                             03850000
AVTSUPPT EQU   IEDQAVTD+664                                             03851000
AVTCBQCB EQU   IEDQAVTD+660                                             03852000
@NM00037 EQU   AVTSYSER                                                 03853000
@NM00036 EQU   AVTSYSER                                                 03854000
@NM00035 EQU   AVTSYSER                                                 03855000
@NM00034 EQU   AVTSYSER                                                 03856000
@NM00033 EQU   AVTSYSER                                                 03857000
@NM00032 EQU   AVTSYSER                                                 03858000
AVTCMAXN EQU   AVTSYSER                                                 03859000
AVTCMINN EQU   AVTSYSER                                                 03860000
AVT2260L EQU   IEDQAVTD+652                                             03861000
AVTABEPL EQU   AVTADBUF                                                 03862000
AVTHFF   EQU   AVTCLRHI+2                                               03863000
@NM00031 EQU   AVTCLRHI                                                 03864000
AVTCCLNK EQU   AVTCRELE+5                                               03865000
AVTCCPRI EQU   AVTCRELE+4                                               03866000
AVTCCQCB EQU   AVTCCELE+1                                               03867000
AVTCCKEY EQU   AVTCCELE                                                 03868000
AVTDELAD EQU   IEDQAVTD+632                                             03869000
AVTDELEM EQU   IEDQAVTD+628                                             03870000
AVTBSX   EQU   AVTCKLNK                                                 03871000
AVTOPETR EQU   AVTHG01                                                  03872000
@NM00030 EQU   AVTCKBYT                                                 03873000
AVTCKONQ EQU   AVTCKBYT                                                 03874000
@NM00029 EQU   AVTCKBYT                                                 03875000
@NM00028 EQU   AVTCKBYT                                                 03876000
@NM00027 EQU   AVTCKBYT                                                 03877000
@NM00026 EQU   AVTCKBYT                                                 03878000
@NM00025 EQU   AVTCKBYT                                                 03879000
@NM00024 EQU   AVTCKBYT                                                 03880000
AVTOPERT EQU   IEDQAVTD+618                                             03881000
AVTOPXCL EQU   IEDQAVTD+616                                             03882000
AVTOPERL EQU   IEDQAVTD+615                                             03883000
@NM00023 EQU   IEDQAVTD+614                                             03884000
AVTCKTIM EQU   IEDQAVTD+612                                             03885000
AVTCKELV EQU   IEDQAVTD+610                                             03886000
AVTCPRCD EQU   IEDQAVTD+609                                             03887000
AVTWARMN EQU   AVTCKELF                                                 03888000
AVTCRTLN EQU   AVTCKELF                                                 03889000
AVTCPIPN EQU   AVTCKELF                                                 03890000
AVTCCLCN EQU   AVTCKELF                                                 03891000
AVTCINCN EQU   AVTCKELF                                                 03892000
@NM00022 EQU   AVTCKELF                                                 03893000
AVTCMCPN EQU   AVTCKELF                                                 03894000
AVTNQBCK EQU   AVTCKELF                                                 03895000
AVTCKQAD EQU   IEDQAVTD+605                                             03896000
AVTSCBSZ EQU   IEDQAVTD+604                                             03897000
@NM00021 EQU   IEDQAVTD+600                                             03898000
AVTCKELE EQU   IEDQAVTD+596                                             03899000
@NM00020 EQU   AVTCKPEL+8                                               03900000
AVTCKRLK EQU   AVTCKPEL+5                                               03901000
AVTCKRPR EQU   AVTCKPEL+4                                               03902000
AVTCKRMQ EQU   AVTCKRMV+1                                               03903000
AVTCKRKY EQU   AVTCKRMV                                                 03904000
AVTHK    EQU   IEDQAVTD+576                                             03905000
AVTHI    EQU   IEDQAVTD+572                                             03906000
AVTIOT   EQU   IEDQAVTD+568                                             03907000
AVTNX    EQU   IEDQAVTD+564                                             03908000
AVTTONE  EQU   IEDQAVTD+560                                             03909000
AVTA3TL  EQU   IEDQAVTD+556                                             03910000
AVTDMECB EQU   IEDQAVTD+552                                             03911000
AVTABEND EQU   IEDQAVTD+546                                             03912000
AVTPLCBN EQU   IEDQAVTD+544                                             03913000
@NM00019 EQU   AVTSAVTP+1                                               03914000
@NM00018 EQU   AVTSAVTF                                                 03915000
AVTSNA   EQU   AVTSAVTF                                                 03916000
AVTONSNA EQU   AVTSAVTF                                                 03917000
AVTVTMCP EQU   AVTSAVTF                                                 03918000
@NM00017 EQU   IEDQAVTD+536                                             03919000
AVTCMBSS EQU   IEDQAVTD+532                                             03920000
AVTRCV   EQU   IEDQAVTD+528                                             03921000
AVTSEND  EQU   IEDQAVTD+524                                             03922000
AVTCSCH  EQU   IEDQAVTD+520                                             03923000
AVTQ1    EQU   IEDQAVTD+516                                             03924000
AVTE7    EQU   IEDQAVTD+512                                             03925000
AVTHB    EQU   IEDQAVTD+508                                             03926000
AVTR1    EQU   IEDQAVTD+504                                             03927000
AVTBZ    EQU   IEDQAVTD+500                                             03928000
AVTEZ    EQU   IEDQAVTD+496                                             03929000
AVTEC    EQU   IEDQAVTD+492                                             03930000
AVTEW    EQU   IEDQAVTD+488                                             03931000
AVTNDIAL EQU   AVTSCOPT                                                 03932000
AVTN2741 EQU   AVTSCOPT                                                 03933000
AVTCONCO EQU   AVTSCOPT                                                 03934000
AVTCONC  EQU   AVTSCOPT                                                 03935000
AVTCMBUF EQU   AVTSCOPT                                                 03936000
AVTAPDMP EQU   AVTSCOPT                                                 03937000
@NM00016 EQU   AVTSCOPT                                                 03938000
AVTHA    EQU   AVTDISP                                                  03939000
AVTEA    EQU   IEDQAVTD+476                                             03940000
AVTAX    EQU   IEDQAVTD+472                                             03941000
AVTA3    EQU   IEDQAVTD+468                                             03942000
AVTGD    EQU   IEDQAVTD+464                                             03943000
AVTAL    EQU   IEDQAVTD+460                                             03944000
AVTOLTST EQU   AVTHG02                                                  03945000
AVTE8    EQU   IEDQAVTD+452                                             03946000
AVTUI    EQU   IEDQAVTD+448                                             03947000
AVTCOMPT EQU   IEDQAVTD+444                                             03948000
AVTCRSRF EQU   IEDQAVTD+440                                             03949000
@NM00015 EQU   IEDQAVTD+436                                             03950000
AVTKA02  EQU   IEDQAVTD+432                                             03951000
AVTOPTPT EQU   IEDQAVTD+428                                             03952000
AVTPCBPT EQU   IEDQAVTD+424                                             03953000
@NM00014 EQU   AVTECB1                                                  03954000
AVTCOMP  EQU   AVTECB1                                                  03955000
@NM00013 EQU   AVTECB1                                                  03956000
AVTOPECA EQU   IEDQAVTD+416                                             03957000
AVTOLECA EQU   IEDQAVTD+412                                             03958000
AVTCKECA EQU   IEDQAVTD+408                                             03959000
AVTCWECA EQU   IEDQAVTD+404                                             03960000
AVTCWTCB EQU   IEDQAVTD+400                                             03961000
AVTOLTCB EQU   IEDQAVTD+396                                             03962000
AVTOCTCB EQU   IEDQAVTD+392                                             03963000
AVTCKTCB EQU   IEDQAVTD+388                                             03964000
AVTAS    EQU   IEDQAVTD+384                                             03965000
AVTNOLBF EQU   IEDQAVTD+382                                             03966000
AVTNCKPR EQU   IEDQAVTD+381                                             03967000
AVTCIB   EQU   IEDQAVTD+380                                             03968000
AVTSPLPT EQU   IEDQAVTD+376                                             03969000
AVTMVBFR EQU   IEDQAVTD+372                                             03970000
AVTSBTA  EQU   IEDQAVTD+368                                             03971000
AVTRARTN EQU   IEDQAVTD+364                                             03972000
AVTBSCAN EQU   IEDQAVTD+360                                             03973000
AVTRDYA  EQU   IEDQAVTD+356                                             03974000
AVTDISTR EQU   IEDQAVTD+348                                             03975000
AVTPARM3 EQU   IEDQAVTD+344                                             03976000
@NM00012 EQU   AVTPKF                                                   03977000
@NM00011 EQU   AVTPKF                                                   03978000
@NM00010 EQU   AVTPKF                                                   03979000
AVTFTCHF EQU   AVTPKF                                                   03980000
@NM00009 EQU   AVTPKF                                                   03981000
@NM00008 EQU   AVTPKF                                                   03982000
@NM00007 EQU   AVTPKF                                                   03983000
@NM00006 EQU   AVTPKF                                                   03984000
AVTPARM  EQU   IEDQAVTD+336                                             03985000
AVTEXS2A EQU   IEDQAVTD+330                                             03986000
AVTEXA2S EQU   IEDQAVTD+324                                             03987000
AVTOCGET EQU   IEDQAVTD+320                                             03988000
AVTCKAVT EQU   @NM00004+1                                               03989000
@NM00005 EQU   AVTCKFLG                                                 03990000
AVTCKHLT EQU   AVTCKFLG                                                 03991000
AVTCKREQ EQU   AVTCKFLG                                                 03992000
AVTCKENV EQU   AVTCKFLG                                                 03993000
AVTCKNAC EQU   AVTCKFLG                                                 03994000
AVTCKTAC EQU   AVTCKFLG                                                 03995000
AVTBUENT EQU   IEDQAVTD+314                                             03996000
@NM00003 EQU   IEDQAVTD+313                                             03997000
AVTFULLT EQU   AVTBUFSW                                                 03998000
AVTUNCON EQU   AVTBUFSW                                                 03999000
@NM00002 EQU   AVTBUFSW                                                 04000000
AVTBUFTR EQU   AVTREADD                                                 04001000
AVTREADY EQU   IEDQAVTD+304                                             04002000
AVTRACE  EQU   IEDQAVTD+300                                             04003000
AVTTCB   EQU   IEDQAVTD+296                                             04004000
AVTPASWD EQU   IEDQAVTD+288                                             04005000
AVTCTLCH EQU   IEDQAVTD+280                                             04006000
AVTDOUBL EQU   IEDQAVTD+272                                             04007000
AVTDOUBX EQU   IEDQAVTD+264                                             04008000
AVTDPARM EQU   IEDQAVTD+260                                             04009000
AVTCSTCS EQU   IEDQAVTD+256                                             04010000
AVTDLQ   EQU   AVTSAVEX+32                                              04011000
@NM00001 EQU   AVTSAVEX                                                 04012000
AVTSAVE4 EQU   IEDQAVTD+144                                             04013000
AVTSAVE3 EQU   IEDQAVTD+72                                              04014000
AVTSAVE2 EQU   IEDQAVTD                                                 04015000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      04016000
@RC00547 EQU   @RC00543                                                 04017000
@RC00563 EQU   @EL00002                                                 04018000
@RC00590 EQU   @EL00003                                                 04019000
@RF00652 EQU   @EL00003                                                 04020000
@RC00663 EQU   @EL00004                                                 04021000
@RF00710 EQU   @EL00005                                                 04022000
@RC00694 EQU   @EL00005                                                 04023000
@RC00692 EQU   @EL00005                                                 04024000
@RC00687 EQU   @EL00005                                                 04025000
@RC00678 EQU   @EL00005                                                 04026000
@RC00723 EQU   @RC00714                                                 04027000
@RC00716 EQU   @RC00714                                                 04028000
@RF00799 EQU   @RC00765                                                 04029000
@RC00792 EQU   @RC00765                                                 04030000
@RC00786 EQU   @RC00765                                                 04031000
@RC00779 EQU   @RC00765                                                 04032000
@RC00772 EQU   @RC00765                                                 04033000
@RC00767 EQU   @RC00765                                                 04034000
@RT00832 EQU   @EL00006                                                 04035000
@RC00849 EQU   @EL00007                                                 04036000
@RC00843 EQU   @EL00007                                                 04037000
@RF00876 EQU   @EL00009                                                 04038000
@RF00911 EQU   @EL00009                                                 04039000
@RC00898 EQU   @EL00009                                                 04040000
@RC00888 EQU   @EL00009                                                 04041000
@RC00880 EQU   @EL00009                                                 04042000
@RT00878 EQU   @EL00009                                                 04043000
@RC00967 EQU   @EL00010                                                 04044000
@RC00962 EQU   @EL00010                                                 04045000
@RC00977 EQU   @EL00010                                                 04046000
@RC01017 EQU   @RC01014                                                 04047000
@RF01004 EQU   @EL00012                                                 04048000
@RF01010 EQU   @EL00012                                                 04049000
@RC01056 EQU   @EL00013                                                 04050000
@RC01071 EQU   @EL00013                                                 04051000
@RC01065 EQU   @EL00013                                                 04052000
@RC01063 EQU   @EL00013                                                 04053000
@RC01093 EQU   @EL00015                                                 04054000
@RC01103 EQU   @EL00015                                                 04055000
@RF00549 EQU   @RC00547                                                 04056000
@RC00601 EQU   @RC00590                                                 04057000
@RC00592 EQU   @RC00590                                                 04058000
@RF00720 EQU   @RC00716                                                 04059000
@RT00851 EQU   @RC00849                                                 04060000
@RF00882 EQU   @RC00880                                                 04061000
@RF00890 EQU   @RC00888                                                 04062000
@RC00900 EQU   @RC00898                                                 04063000
@RC00969 EQU   @RC00967                                                 04064000
@RC01107 EQU   @RC01103                                                 04065000
@ENDDATA EQU   *                                                        04066000
         END   IEDSARI,(C'PLS2023',0701,78145)                          04067000
