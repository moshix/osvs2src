         TITLE 'IKJEFT02 -- TMP MAINLINE CONTROL PROGRAM               *00001000
                        '                                               00002000
IKJEFT02 CSECT ,                                                01S0001 00003000
@MAINENT DS    0H                                               01S0001 00004000
         USING *,@15                                            01S0001 00005000
         B     @PROLOG                                          01S0001 00006000
         DC    AL1(16)                                          01S0001 00007000
         DC    C'IKJEFT02  78.177'                              01S0001 00008000
         DROP  @15                                                      00009000
@PROLOG  STM   @14,@12,12(@13)                                  01S0001 00010000
         BALR  @10,0                                            01S0001 00011000
@PSTART  LA    @11,4095(,@10)                                   01S0001 00012000
         USING @PSTART,@10                                      01S0001 00013000
         USING @PSTART+4095,@11                                 01S0001 00014000
         L     @00,@SIZDATD                                     01S0001 00015000
         GETMAIN  R,LV=(0)                                              00016000
         LR    @12,@01                                          01S0001 00017000
         USING @DATD,@12                                        01S0001 00018000
         ST    @13,@SA00001+4                                   01S0001 00019000
         LM    @00,@01,20(@13)                                  01S0001 00020000
         ST    @12,8(,@13)                                      01S0001 00021000
         LR    @13,@12                                          01S0001 00022000
         ENTRY  IKJEFT0B                                                00023000
JSCBDISP EQU 188                                                        00024000
JSCBAOS1 EQU  72                                                        00025000
JSCBAOS2 EQU 192                                                        00026000
LWASWAR  EQU   4                                                        00027000
LWAMSPE  EQU   16                                                       00028000
INITDONE EQU  4                                                         00029000
NQUSERID EQU  8                                                         00030000
DQUSERID EQU  12                                                        00031000
SCHEDULE EQU  16                                                        00032000
BCDONE   EQU  20                                                        00033000
TERMINAT EQU  24                                                        00034000
NQDQ0    EQU  0                                                         00035000
NQDQ4    EQU  4                                                         00036000
NQDQ8    EQU  8                                                         00037000
STARTP2  EQU  16                                                        00038000
INITRDY  EQU  20                                                        00039000
ENDTASK  EQU  24                                                        00040000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00041000
*/*                                                                  */ 00042000
*/* SEGMENT NAME --                                                  */ 00043000
*/*                                                                  */ 00044000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00045000
*/*                                                                  */ 00046000
*/* FUNCTION --                                                      */ 00047000
*/*                                                                  */ 00048000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00049000
*/*                                                                  */ 00050000
*/* INPUT -- N/A                                                     */ 00051000
*/*                                                                  */ 00052000
*/* OUTPUT -- N/A                                                    */ 00053000
*/*                                                                  */ 00054000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00055000
*/*                                                                  */ 00056000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00057000
*/*                                                                  */ 00058000
*/*   RETURN CODE -- N/A                                             */ 00059000
*/*                                                                  */ 00060000
*/* EXIT ERROR -- N/A                                                */ 00061000
*/*                                                                  */ 00062000
*/*   CONDITIONS -- N/A                                              */ 00063000
*/*                                                                  */ 00064000
*/*   RETURN CODE -- N/A                                             */ 00065000
*/*                                                                  */ 00066000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00067000
*                                                               01S0106 00068000
*TMPNTRY2:  /* EP (LOGICAL)  TO TMP MAINLINE EXTERNAL PROCEDURE      */ 00069000
*/*         DO:      START (EFFECTIVE) OF TMP MAINLINE PROCESSING    */ 00070000
*                                                               01S0106 00071000
*           CALL TINIT2;            /* INITIALIZE FLOW CONTROL/DATA  */ 00072000
*                                                               01S0106 00073000
TMPNTRY2 BAL   @14,TINIT2                                       01S0106 00074000
*TSCAN:     DO WHILE DOSCAN = YES;  /* CONTINUE TMP PROCESSING       */ 00075000
TSCAN    B     @DE00107                                         01S0107 00076000
@DL00107 DS    0H                                               01S0108 00077000
*             CALL TIDNTC;          /* TO VALIDATE CMD NAME ENTERED  */ 00078000
*                                                               01S0108 00079000
         BAL   @14,TIDNTC                                       01S0108 00080000
*TINVOKE:     DO WHILE DOINVOK=YES; /* CONTINUE TMP PROCESSING       */ 00081000
TINVOKE  B     @DE00109                                         01S0109 00082000
@DL00109 DS    0H                                               01S0110 00083000
*               CALL TINVOK;        /* TO PERFORM COMMAND FUNCTION   */ 00084000
*                                                               01S0110 00085000
         BAL   @14,TINVOK                                       01S0110 00086000
*TCHKCP:        DO WHILE DOCHKCP=YES;  /* CONTINUE TMP PROCESSING    */ 00087000
TCHKCP   B     @DE00111                                         01S0111 00088000
@DL00111 DS    0H                                               01S0112 00089000
*                 DOCHKCP = NO;     /* RESET DO-ATTN-PROCESSING FLAG */ 00090000
         NI    DOCHKCP(WRKAPTR1),B'11111101'                    01S0112 00091000
*                 IF DOATTNF1=NO4   /* CHK TO BYPASS ATTENTION       */ 00092000
*                     & DOWAIT = NO   /*  PROCESSING                 */ 00093000
*                   THEN            /* NO,                           */ 00094000
         TM    DOATTNF1(WRKAPTR1),B'00111100'                   01S0113 00095000
         BNZ   @RF00113                                         01S0113 00096000
         TM    DOWAIT(WRKAPTR1),B'00000100'                     01S0113 00097000
         BNZ   @RF00113                                         01S0113 00098000
*                     CALL TATTNCK; /* TO PROCESS ATTENTION INTPT    */ 00099000
         BAL   @14,TATTNCK                                      01S0114 00100000
*                 DOWAIT = YES;     /* TO FORCE FIRST PASS           */ 00101000
*                                                               01S0115 00102000
@RF00113 OI    DOWAIT(WRKAPTR1),B'00000100'                     01S0115 00103000
*TWAIT:           DO WHILE DOWAIT=YES; /* CONTINUE TMP PROCESSING    */ 00104000
TWAIT    B     @DE00116                                         01S0116 00105000
@DL00116 DS    0H                                               01S0117 00106000
*                   CALL  TWAITX;   /* TO PERFORM WAIT FOR CP END    */ 00107000
         BAL   @14,TWAITX                                       01S0117 00108000
*                   DOLIST = NO;    /* RESET DO-TASK-STATUS-CHK FLAG */ 00109000
         NI    DOLIST(WRKAPTR1),B'11011111'                     01S0118 00110000
*                   IF DOTSKF1=NO4  /* CHK TO BYPASS CHK-TASK-STATUS */ 00111000
*                     THEN          /* NO,                           */ 00112000
         TM    DOTSKF1(WRKAPTR1),B'00011110'                    01S0119 00113000
         BNZ   @RF00119                                         01S0119 00114000
*                       CALL  TTSKCHK;  /* TO CHECK TASK STATUS      */ 00115000
         BAL   @14,TTSKCHK                                      01S0120 00116000
*TRETC:                            /* FOR PSEUDO-RETURN       ZA26167*/ 00117000
*                  CALL  TCALLND;  /* CLOSE-OUT CALL FUNCTION ZA26167*/ 00118000
@RF00119 DS    0H                                               01S0121 00119000
TRETC    BAL   @14,TCALLND                                      01S0121 00120000
*TRETD:                             /* FOR PSEUDO-RETURN             */ 00121000
*                   DOGETC = YES;   /* TO FORCE FIRST PASS           */ 00122000
*                                                               01S0122 00123000
TRETD    OI    DOGETC(WRKAPTR1),B'00010000'                     01S0122 00124000
*TGETCMD:           DO WHILE DOGETC=YES;  /* CONTINUE TMP PROCESSING */ 00125000
TGETCMD  B     @DE00123                                         01S0123 00126000
@DL00123 DS    0H                                               01S0124 00127000
*                     DOGETC = NO;  /* RESET GET-NEXT-COMMAND FLAG   */ 00128000
         NI    DOGETC(WRKAPTR1),B'11101111'                     01S0124 00129000
*                     IF DOGTCDF1=NO3   /* CHK TO BYPASS GET-COMMAND */ 00130000
*                         & DOGTCDF2=NO5  /*   NOW                   */ 00131000
*                       THEN        /* NO,                           */ 00132000
         TM    DOGTCDF1(WRKAPTR1),B'00001110'                   01S0125 00133000
         BNZ   @RF00125                                         01S0125 00134000
         TM    DOGTCDF2(WRKAPTR1),B'00111110'                   01S0125 00135000
         BNZ   @RF00125                                         01S0125 00136000
*                         CALL  TGETCDX;  /* ACQUIRE NEXT COMMAND    */ 00137000
         BAL   @14,TGETCDX                                      01S0126 00138000
*TRETE:                             /* FOR PSEUDO-RETURN             */ 00139000
*                     CALL TDONE1;  /* CHECK FOR END NOW             */ 00140000
@RF00125 DS    0H                                               01S0127 00141000
TRETE    BAL   @14,TDONE1                                       01S0127 00142000
*TDONE:               ;                                         01S0128 00143000
TDONE    DS    0H                                               01S0129 00144000
*                   END  TGETCMD;                               01S0129 00145000
@DE00123 TM    DOGETC(WRKAPTR1),B'00010000'                     01S0129 00146000
         BO    @DL00123                                         01S0129 00147000
*                 END  TWAIT;                                   01S0130 00148000
@DE00116 TM    DOWAIT(WRKAPTR1),B'00000100'                     01S0130 00149000
         BO    @DL00116                                         01S0130 00150000
*               END  TCHKCP;                                    01S0131 00151000
@DE00111 TM    DOCHKCP(WRKAPTR1),B'00000010'                    01S0131 00152000
         BO    @DL00111                                         01S0131 00153000
*             END  TINVOKE;                                     01S0132 00154000
@DE00109 TM    DOINVOK(WRKAPTR1),B'00000100'                    01S0132 00155000
         BO    @DL00109                                         01S0132 00156000
*           END  TSCAN;                                         01S0133 00157000
*                                                               01S0133 00158000
@DE00107 TM    DOSCAN(WRKAPTR1),B'00000010'                     01S0133 00159000
         BO    @DL00107                                         01S0133 00160000
*           CALL  TTERM;            /* CLOSE-OUT TMP PROCESSING      */ 00161000
*                                                               01S0134 00162000
         BAL   @14,TTERM                                        01S0134 00163000
*/*         END:     (EFFECTIVE) OF TMP MAINLINE PROCESSING          */ 00164000
*TMAINX2:   RETURN TO TEXIT  CODE(RETURNC);  /* END OF TMP MAINLINE  */ 00165000
TMAINX2  L     @06,RETURNC                                      01S0135 00166000
         L     @13,4(,@13)                                      01S0135 00167000
         L     @00,@SIZDATD                                     01S0135 00168000
         LR    @01,@12                                          01S0135 00169000
         FREEMAIN R,LV=(0),A=(1)                                        00170000
         LR    @15,@06                                          01S0135 00171000
         LA    @14,TEXIT                                        01S0135 00172000
         LM    @00,@12,20(@13)                                  01S0135 00173000
         BR    @14                                              01S0135 00174000
*TEXIT:     GEN(SVC   3);           /* RETURN TO SYSTEM              */ 00175000
TEXIT    SVC   3                                                        00176000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00177000
*/*                                                                  */ 00178000
*/* SEGMENT NAME --                                                  */ 00179000
*/*                                                                  */ 00180000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00181000
*/*                                                                  */ 00182000
*/* FUNCTION --                                                      */ 00183000
*/*                                                                  */ 00184000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00185000
*/*                                                                  */ 00186000
*/* INPUT -- N/A                                                     */ 00187000
*/*                                                                  */ 00188000
*/* OUTPUT -- N/A                                                    */ 00189000
*/*                                                                  */ 00190000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00191000
*/*                                                                  */ 00192000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00193000
*/*                                                                  */ 00194000
*/*   RETURN CODE -- N/A                                             */ 00195000
*/*                                                                  */ 00196000
*/* EXIT ERROR -- N/A                                                */ 00197000
*/*                                                                  */ 00198000
*/*   CONDITIONS -- N/A                                              */ 00199000
*/*                                                                  */ 00200000
*/*   RETURN CODE -- N/A                                             */ 00201000
*/*                                                                  */ 00202000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00203000
*                                                               01S0137 00204000
*                                                               01S0137 00205000
*                                                               01S0137 00206000
*TDUMX2:    /* EP TO DUMMY PROCEDURE TO CONTAIN PLS EXIT             */ 00207000
*           PROCEDURE                                           01S0137 00208000
*                      OPTIONS(                                 01S0137 00209000
*                      NOSAVE,                                  01S0137 00210000
*                      NOSAVEAREA);                             01S0137 00211000
*                                                               01S0137 00212000
*                                                               01S0137 00213000
         B     @PB00002                                         01S0137 00214000
TDUMX2   DS    0H                                               01S0138 00215000
*           END  TDUMX2;            /* RETURN TO CALLER              */ 00216000
@EL00002 DS    0H                                               01S0138 00217000
@EF00002 DS    0H                                               01S0138 00218000
@ER00002 BR    @14                                              01S0138 00219000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00220000
*/*                                                                  */ 00221000
*/* SEGMENT NAME -- TINIT2                                           */ 00222000
*/*                                                                  */ 00223000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00224000
*/*                                                                  */ 00225000
*/* FUNCTION -- TO ESTABLISH AND INITIALIZE POINTERS AND CONTROL     */ 00226000
*/*       AREAS USED BY THE TMP                                      */ 00227000
*/*  OPERATION --                                                    */ 00228000
*/*           - SET POINTERS TO TMP WORK AREAS                       */ 00229000
*/*           - SET PSW PROTECT KEY 0                                */ 00230000
*/*           - SET POINTER TO SERVICE ROUTINE PARAMETER LIST        */ 00231000
*/*           - SAVE TMP-MAINLINE CODE ADDRESSABILITY                */ 00232000
*/*           - SET FLAG TO FORCE SYNTAX CHECK OF FIRST COMMAND NAME */ 00233000
*/*                                                                  */ 00234000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00235000
*/*                                                                  */ 00236000
*/* INPUT -- N/A                                                     */ 00237000
*/*                                                                  */ 00238000
*/* OUTPUT -- INITIALIZED ENVIRONMENT FOR TMP                        */ 00239000
*/*                                                                  */ 00240000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00241000
*/*                                                                  */ 00242000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00243000
*/*                                                                  */ 00244000
*/*   RETURN CODE -- N/A                                             */ 00245000
*/*                                                                  */ 00246000
*/* EXIT ERROR -- N/A                                                */ 00247000
*/*                                                                  */ 00248000
*/*   CONDITIONS -- N/A                                              */ 00249000
*/*                                                                  */ 00250000
*/*   RETURN CODE -- N/A                                             */ 00251000
*/*                                                                  */ 00252000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00253000
*                                                               01S0139 00254000
*                                                               01S0139 00255000
*TINIT2:    /* EP TO INITIALIZE-FOR-MAINLINE-PROCESSING ROUTINE      */ 00256000
*                                                               01S0139 00257000
*    PROC  OPTIONS(NOSAVE,NOSAVEAREA);                          01S0139 00258000
*                                                               01S0139 00259000
TINIT2   DS    0H                                               01S0140 00260000
*    RESPECIFY (R14) RSTD;                                      01S0140 00261000
*    WRKAPTR2 = R1;                 /* SET PTR TO TMP SUP WA         */ 00262000
         LR    WRKAPTR2,R1                                      01S0141 00263000
*    WRKAPTR1 = WRKA1PTR;           /* SET PTR TO TMP PP WA          */ 00264000
*                                                               01S0142 00265000
         L     WRKAPTR1,WRKA1PTR(,WRKAPTR2)                     01S0142 00266000
*    SRPARMLP = SRPLPTR;            /* ESTABLISH PTR TO SRPL AREA    */ 00267000
*                                                               01S0143 00268000
         L     SRPARMLP,SRPLPTR(,WRKAPTR1)                      01S0143 00269000
*    RESPECIFY (R2,R6,R10,R11,R12) RSTD;                        01S0144 00270000
*    R6 = R14;                      /* RESERVE ENTRY REG 14          */ 00271000
         LR    R6,R14                                           01S0145 00272000
*    /* SET SCHEDULER PSW KEY                                        */ 00273000
*    DO; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/               01S0146 00274000
*      R2 = SPROK1; /*GET KEY FORM SAVE LOCATION*/              01S0147 00275000
         L     R2,SPROK1                                        01S0147 00276000
*      SPKA (R2); /*SET PSW KEY*/                               01S0148 00277000
         SPKA  0(R2)                                            01S0148 00278000
*    END; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/              01S0149 00279000
*    SAVLNKA = R6;                  /* RESERVE ENTRY REG 14          */ 00280000
         ST    R6,SAVLNKA(,WRKAPTR2)                            01S0150 00281000
*    STM(R10,R12,RTRYSA);           /* RESERVE ADDRESSABILITY        */ 00282000
         STM   R10,R12,RTRYSA(WRKAPTR2)                         01S0151 00283000
*    /* SET PSW PROTECT KEY 0                                        */ 00284000
*    DO; /*MODESET  KEYADDR(SPROK0) WORKREG(R2)*/               01S0152 00285000
*      R2 = SPROK0; /*GET KEY FORM SAVE LOCATION*/              01S0153 00286000
         L     R2,SPROK0                                        01S0153 00287000
*      SPKA (R2); /*SET PSW KEY*/                               01S0154 00288000
         SPKA  0(R2)                                            01S0154 00289000
*    END; /*MODESET  KEYADDR(SPROK0) WORKREG(R2)*/              01S0155 00290000
*    JSCBAUTH = NO;                 /* RESET APF AUTHORIZATION FLAG  */ 00291000
         L     @03,CVTPTR                                       01S0156 00292000
         L     @03,CVTTCBP(,@03)                                01S0156 00293000
         L     @03,TCURTCB(,@03)                                01S0156 00294000
         L     @03,TCBJSCB(,@03)                                01S0156 00295000
         NI    JSCBAUTH(@03),B'11111110'                        01S0156 00296000
*    /* RESTORE PP PSW KEY                                           */ 00297000
*    DO; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/               01S0157 00298000
*      R2 = TEPKEY; /*GET KEY FORM SAVE LOCATION*/              01S0158 00299000
         L     R2,TEPKEY(,WRKAPTR2)                             01S0158 00300000
*      SPKA (R2); /*SET PSW KEY*/                               01S0159 00301000
         SPKA  0(R2)                                            01S0159 00302000
*    END; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/              01S0160 00303000
*                                                               01S0160 00304000
*    DOSCAN = YES;                  /* TO FORCE FIRST PASS           */ 00305000
*                                                               01S0161 00306000
         OI    DOSCAN(WRKAPTR1),B'00000010'                     01S0161 00307000
*    R14 = SAVLNKA;                 /* RESTORE ENTRY REG 14          */ 00308000
         L     @03,SAVLNKA(,WRKAPTR2)                           01S0162 00309000
         LR    R14,@03                                          01S0162 00310000
*    RETURN;                        /* RETURN TO CALLER              */ 00311000
@EL00003 DS    0H                                               01S0163 00312000
@EF00003 DS    0H                                               01S0163 00313000
@ER00003 BR    @14                                              01S0163 00314000
*    RESPECIFY (R2,R6,R10,R11,R12,R14) UNRSTD;                  01S0164 00315000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00316000
*/*                                                                  */ 00317000
*/* SEGMENT NAME -- TIDNTC                                           */ 00318000
*/*                                                                  */ 00319000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00320000
*/*                                                                  */ 00321000
*/* FUNCTION -- TO SYNTAX-CHECK COMMAND NAME AND ACTIVATE SPECIAL    */ 00322000
*/*       PROCESSING IF REQUIRED                                     */ 00323000
*/*  OPERATION --                                                    */ 00324000
*/*           - RESET PERFORM-COMMAND-SCAN FLAG                      */ 00325000
*/*           - IF TERMINATION FLAG, DODONE, IS NOT ON --            */ 00326000
*/*             - SET ACTIVATE-NEW=COMMAND FLAG TO FORCE FIRST PASS  */ 00327000
*/*             - SET UP COMMAND SCAN INTERFACE AND SYNCH TO ROUTINE */ 00328000
*/*               TO INVOKE COMMAND SCAN                             */ 00329000
*/*             - IF COMMAND SCAN RETURNS UNSATISFACTORY CODE,       */ 00330000
*/*               IDENTIFY FAILURE WITH USER ABEND 206               */ 00331000
*/*             - IF LINE CONTAINED NON-VALID SYNTAX CALL ROUTINE TO */ 00332000
*/*               PROCESS INVALID LINE, TIDNTC1                      */ 00333000
*/*             - IF LINE WAS VALID,                                 */ 00334000
*/*               - IF BACKGROUND MODE IS CURRENT, CALL ROUTINE TO   */ 00335000
*/*                 CHECK IF COMMAND IS SUPPORTED, TNSCHK            */ 00336000
*/*               - IF TERMINATION IS NOT BEING FORCED (DODONE FLAG),*/ 00337000
*/*                 CHECK IF COMMAND IS TIME AND IF SO, CALL ROUTINE */ 00338000
*/*                 TO INVOKE TIME PROCESSOR, TIDNTC2.  IF NOT TIME  */ 00339000
*/*                 COMMAND,   CHECK  IF  COMMAND SCAN  RETURNED THE */ 00340000
*/*                 EXPLICIT-IMPLICIT-EXEC FLAG AND IF SO SET TMP    */ 00341000
*/*                 FLAG, DOIMPLX                                    */ 00342000
*/*                                                                  */ 00343000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00344000
*/*                                                                  */ 00345000
*/* INPUT -- N/A                                                     */ 00346000
*/*                                                                  */ 00347000
*/* OUTPUT -- N/A                                                    */ 00348000
*/*                                                                  */ 00349000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00350000
*/*                                                                  */ 00351000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER                           */ 00352000
*/*                                                                  */ 00353000
*/*   RETURN CODE -- N/A                                             */ 00354000
*/*                                                                  */ 00355000
*/* EXIT ERROR -- N/A                                                */ 00356000
*/*                                                                  */ 00357000
*/*   CONDITIONS -- N/A                                              */ 00358000
*/*                                                                  */ 00359000
*/*   RETURN CODE -- N/A                                             */ 00360000
*/*                                                                  */ 00361000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00362000
*TIDNTC:    /* EP TO COMMAND-VALIDATION ROUTINE                      */ 00363000
*    ENTRY;                                                     01S0165 00364000
TIDNTC   DS    0H                                               01S0166 00365000
*    DOSCAN = NO;                   /* RESET DO SCAN NOW FLAG        */ 00366000
         NI    DOSCAN(WRKAPTR1),B'11111101'                     01S0166 00367000
*    IF DODONE = NO                 /* CHK FOR TERMINATION FLAG      */ 00368000
*      THEN DO;                     /* NO, CONTINUE                  */ 00369000
         TM    DODONE(WRKAPTR1),B'00001000'                     01S0167 00370000
         BNZ   @RF00167                                         01S0167 00371000
*        DOINVOK = YES;             /* SET TO FORCE FIRST PASS       */ 00372000
         OI    DOINVOK(WRKAPTR1),B'00000100'                    01S0169 00373000
*        CSPLOA = SCANAP;           /* SET UP BUFFER FOR SCAN        */ 00374000
         L     @14,SCANAP(,WRKAPTR1)                            01S0170 00375000
         ST    @14,CSPLOA(,SRPARMLP)                            01S0170 00376000
*        CSPLFLG=ADDR(SCANFLG);     /* GET FLAG AREA POINTER         */ 00377000
         LA    @14,SCANFLG(,WRKAPTR1)                           01S0171 00378000
         ST    @14,CSPLFLG(,SRPARMLP)                           01S0171 00379000
*        R15=ADDR(TDOSCAN);         /* PTR TO COMMAND SCAN EXIT RTN  */ 00380000
         LA    R15,TDOSCAN                                      01S0172 00381000
*        GEN FLOWS(TDOSCAN) (SYNCH  (15));  /* CALL CMD-SCAN         */ 00382000
         SYNCH  (15)                                                    00383000
*        IF RCODE^=SCNDONE          /* CHECK FOR SUCCESSFUL SCAN     */ 00384000
*          THEN                     /* SCAN ERROR DETECTED           */ 00385000
         L     @14,RCODE(,WRKAPTR1)                             01S0174 00386000
         LTR   @14,@14                                          01S0174 00387000
         BZ    @RF00174                                         01S0174 00388000
*            GEN(ABEND 206,DUMP);   /* INDICATE SCAN ERROR           */ 00389000
         ABEND 206,DUMP                                                 00390000
*        IF CSOACNM = ZERO          /* CHK IF SYNTAX VALID           */ 00391000
*          THEN DO;                 /* NO,                           */ 00392000
@RF00174 L     @14,CSPLOA(,SRPARMLP)                            01S0176 00393000
         L     @14,CSOACNM(,@14)                                01S0176 00394000
         LTR   @14,@14                                          01S0176 00395000
         BNZ   @RF00176                                         01S0176 00396000
*            CALL  TIDNTC1;         /* TO PROCESS INVALID LINE       */ 00397000
         BAL   @14,TIDNTC1                                      01S0178 00398000
*TIDNTCA:  END;                     /* FOR PSEUDO-RETURN             */ 00399000
*          ELSE DO;                 /* YES, IS VALID LINE            */ 00400000
         B     @RC00176                                         01S0180 00401000
@RF00176 DS    0H                                               01S0181 00402000
*            EXITRCDE = ZERO;       /* CLEAR PCF CHECKER RC @Z403333 */ 00403000
         SLR   @14,@14                                          01S0181 00404000
         ST    @14,EXITRCDE                                     01S0181 00405000
*            CALL  IKJEFTB2 (TMPWRKA1,TMPWRKA2);  /* TO PCF @Z403333 */ 00406000
         ST    WRKAPTR1,@AL00001                                01S0182 00407000
         ST    WRKAPTR2,@AL00001+4                              01S0182 00408000
         L     @15,@CV00136                                     01S0182 00409000
         LA    @01,@AL00001                                     01S0182 00410000
         BALR  @14,@15                                          01S0182 00411000
*            EXITRCDE = R15;        /* RESERVE RETURN CODE  @Z403333 */ 00412000
         ST    R15,EXITRCDE                                     01S0183 00413000
*            IF EXITRCDE > D4       /* CHK FOR PCF COMMAND  @Z403333 */ 00414000
*              THEN                 /* NO,                  @Z403333 */ 00415000
         L     @14,EXITRCDE                                     01S0184 00416000
         C     @14,@CF00045                                     01S0184 00417000
         BNH   @RF00184                                         01S0184 00418000
*                CSOAEXEC = YES;    /*   SET TO DO EXEC     @Z403333 */ 00419000
         L     @14,CSPLOA(,SRPARMLP)                            01S0185 00420000
         OI    CSOAEXEC(@14),B'00000100'                        01S0185 00421000
*            IF BKGMODE = BKGDNOW   /* CHK FOR BACKGROUND MODE       */ 00422000
*              THEN DO;             /* YES,                          */ 00423000
@RF00184 TM    BKGMODE(WRKAPTR2),B'10000000'                    01S0186 00424000
         BNO   @RF00186                                         01S0186 00425000
*                CALL  TNSCHK;      /* CHK IF UNSUPPORTED CP NAME    */ 00426000
         BAL   @14,TNSCHK                                       01S0188 00427000
*TIDNTCB:      END;                 /* FOR PSEUDO-RETURN             */ 00428000
TIDNTCB  DS    0H                                               01S0190 00429000
*            IF DODONE = NO         /* CHK FOR TERMINATION           */ 00430000
*              THEN                 /* NO,                           */ 00431000
@RF00186 TM    DODONE(WRKAPTR1),B'00001000'                     01S0190 00432000
         BNZ   @RF00190                                         01S0190 00433000
*                IF CSOACNM->CMDNAME(1:4)=NMTIME /* CHK TIME         */ 00434000
*                    & CSOALNM=D4   /*  AND TIME NAME LENGTH         */ 00435000
*                  THEN DO;         /* YES, IS TIME                  */ 00436000
         L     @14,CSPLOA(,SRPARMLP)                            01S0191 00437000
         L     @06,CSOACNM(,@14)                                01S0191 00438000
         CLC   CMDNAME(4,@06),@CC00078                          01S0191 00439000
         BNE   @RF00191                                         01S0191 00440000
         CLC   CSOALNM(2,@14),@CH00045                          01S0191 00441000
         BNE   @RF00191                                         01S0191 00442000
*                    CALL  TIDNTC2;    /* CALL TIME PROCESSOR        */ 00443000
         BAL   @14,TIDNTC2                                      01S0193 00444000
*TIDNTCC:          END;             /* FOR PSEUDO-RETURN             */ 00445000
*                  ELSE             /* IS NOT TIME NAME              */ 00446000
*                    IF CSOAEXEC=YES   /* IF EXPL/IMPLICIT EXEC      */ 00447000
*                      THEN         /* YES,                          */ 00448000
         B     @RC00191                                         01S0195 00449000
@RF00191 L     @14,CSPLOA(,SRPARMLP)                            01S0195 00450000
         TM    CSOAEXEC(@14),B'00000100'                        01S0195 00451000
         BNO   @RF00195                                         01S0195 00452000
*                        DOIMPLX=YES;  /* SET UP EXEC BUFFER         */ 00453000
         OI    DOIMPLX(WRKAPTR1),B'01000000'                    01S0196 00454000
*          END;                                                 01S0197 00455000
@RF00195 DS    0H                                               01S0197 00456000
@RC00191 DS    0H                                               01S0197 00457000
@RF00190 DS    0H                                               01S0198 00458000
*      END;                                                     01S0198 00459000
@RC00176 DS    0H                                               01S0199 00460000
*    RESPECIFY (R14) RSTD;                                      01S0199 00461000
@RF00167 DS    0H                                               01S0200 00462000
*    R14 = ADDR(TINVOKE);           /* SET FOR PSEUDO-RETURN         */ 00463000
         LA    R14,TINVOKE                                      01S0200 00464000
*    RETURN;                        /* RETURN TO CALLER              */ 00465000
         B     @EL00003                                         01S0201 00466000
*    RESPECIFY (R14) UNRSTD;                                    01S0202 00467000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00468000
*/*                                                                  */ 00469000
*/* SEGMENT NAME -- TINVOK                                           */ 00470000
*/*                                                                  */ 00471000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00472000
*/*                                                                  */ 00473000
*/* FUNCTION -- TO ACTIVATE THE NEW COMMAND PROCESSOR                */ 00474000
*/*  OPERATION --                                                    */ 00475000
*/*           - RESET PERFORM NEW-TASK-COMAND-PROCESSOR FLAG         */ 00476000
*/*           - SET PERFORM NEW-TASK-WAIT-CHECK FLAG                 */ 00477000
*/*           - IF NO BYPASS FLAGS ON, CALL CHECK/PERFORM-EXPLICIT-  */ 00478000
*/*             IMPLICIT-EXEC INVOKE ROUTINE, TIMPLEX                */ 00479000
*/*           - IF FLAG TFRECBF IS ON, FREE THE COMMAND SCAN BUFFER  */ 00480000
*/*           - IF MESSAGE-PENDING FLAG, DOPUTM, IS ON, CALL NO-     */ 00481000
*/*             COMMAND-FOUND MESSAGE ISSUEING ROUTINE, TNOCMDF      */ 00482000
*/*           - IF NO BYPASS FLAGS ARE ON, GO TO SET UP INVOCATION   */ 00483000
*/*             OF NEW COMMAND PROCESSOR                             */ 00484000
*/*           - RESET PERFORM-ATTACHED-TASK-STATUS-CHECK-NOW FLAG    */ 00485000
*/*           - IF NO BYPASS FLAGS ARE ON, CALL PERFORM-STATUS-CHECK */ 00486000
*/*             ROUTINE, TCHKAT                                      */ 00487000
*/*           - IF PERFORM-TASK-START-UP FLAG, DOPSTART, IS ON, CALL */ 00488000
*/*             PERFORM-STATUS-START ROUTINE, TSTRTAB                */ 00489000
*/*           - IF NO BYPASS FLAGS ARE ON, CALL INVOKE-NEW-COMMAND-  */ 00490000
*/*             PROCESSOR ROUTINE, TACTV                             */ 00491000
*/*                                                                  */ 00492000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00493000
*/*                                                                  */ 00494000
*/* INPUT -- N/A                                                     */ 00495000
*/*                                                                  */ 00496000
*/* OUTPUT -- N/A                                                    */ 00497000
*/*                                                                  */ 00498000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00499000
*/*                                                                  */ 00500000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00501000
*/*                                                                  */ 00502000
*/*   RETURN CODE -- N/A                                             */ 00503000
*/*                                                                  */ 00504000
*/* EXIT ERROR -- N/A                                                */ 00505000
*/*                                                                  */ 00506000
*/*   CONDITIONS -- N/A                                              */ 00507000
*/*                                                                  */ 00508000
*/*   RETURN CODE -- N/A                                             */ 00509000
*/*                                                                  */ 00510000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00511000
*TINVOK:    /* EP TO ACTIVATE-COMMAND-CP ROUTINE                     */ 00512000
*    ENTRY;                                                     01S0203 00513000
*                                                               01S0203 00514000
TINVOK   DS    0H                                               01S0204 00515000
*    DOINVOK = NO;                  /* RESET DO-INVOKE-NOW FLAG      */ 00516000
         NI    DOINVOK(WRKAPTR1),B'11111011'                    01S0204 00517000
*    DOCHKCP = YES;                 /* TO FORCE FIRST PASS           */ 00518000
         OI    DOCHKCP(WRKAPTR1),B'00000010'                    01S0205 00519000
*    IF DOMPLXF1 = NO2              /* CHK FOR BYPASS-IMPLICIT-EXEC- */ 00520000
*        & DOMPLXF2 = NO5           /*    PROCESSING FLAGS           */ 00521000
*      THEN                         /* NONE,                         */ 00522000
         TM    DOMPLXF1(WRKAPTR1),B'00011000'                   01S0206 00523000
         BNZ   @RF00206                                         01S0206 00524000
         TM    DOMPLXF2(WRKAPTR1),B'11111000'                   01S0206 00525000
         BNZ   @RF00206                                         01S0206 00526000
*        CALL  TIMPLEX;             /*   CHK/PERFORM IMPLI-EXEC      */ 00527000
*                                                               01S0207 00528000
         BAL   @14,TIMPLEX                                      01S0207 00529000
*TINVOKA:                           /* FOR PSEUDO-RETURN             */ 00530000
*    IF DOFRECB = YES               /* CHK TO FREE CMD-SCAN BUFFER   */ 00531000
*      THEN                         /* YES,                          */ 00532000
@RF00206 DS    0H                                               01S0208 00533000
TINVOKA  TM    DOFRECB(WRKAPTR1),B'01000000'                    01S0208 00534000
         BNO   @RF00208                                         01S0208 00535000
*        CALL  TFRECBF;             /*   PERFORM FREEMAIN            */ 00536000
*                                                               01S0209 00537000
         BAL   @14,TFRECBF                                      01S0209 00538000
*TINVOKB:                           /* FOR PSEUDO-RETURN             */ 00539000
*    IF DOPUTM = YES                /* CHK IF MESSAGE IS PENDING     */ 00540000
*      THEN                         /* YES,                          */ 00541000
@RF00208 DS    0H                                               01S0210 00542000
TINVOKB  TM    DOPUTM(WRKAPTR1),B'10000000'                     01S0210 00543000
         BNO   @RF00210                                         01S0210 00544000
*        CALL  TNOCMDF;             /*   ISSUE MESSAGE               */ 00545000
*                                                               01S0211 00546000
         BAL   @14,TNOCMDF                                      01S0211 00547000
*TINVOKC:                           /* FOR PSEUDO-RETURN             */ 00548000
*    IF DOSTCDF1 = NO2              /* CHK FOR BYPASS-NEXT-COMMAND-  */ 00549000
*        & DOSTCDF2 = NO3           /*   SET-UP FLAGS                */ 00550000
*      THEN                         /* NONE,                         */ 00551000
@RF00210 DS    0H                                               01S0212 00552000
TINVOKC  TM    DOSTCDF1(WRKAPTR1),B'00011000'                   01S0212 00553000
         BNZ   @RF00212                                         01S0212 00554000
         TM    DOSTCDF2(WRKAPTR1),B'00111000'                   01S0212 00555000
         BNZ   @RF00212                                         01S0212 00556000
*        CALL TSETCD;               /*   PERFORM SET-UP              */ 00557000
*                                                               01S0213 00558000
         BAL   @14,TSETCD                                       01S0213 00559000
*TINVOKD:                           /* FOR PSEUDO-RETURN             */ 00560000
*    DOCHKAT = NO;                  /* RESET DO-ATTACH-CHK-NOW FLAG  */ 00561000
@RF00212 DS    0H                                               01S0214 00562000
TINVOKD  NI    DOCHKAT(WRKAPTR1),B'11110111'                    01S0214 00563000
*    IF DOCHKAF1 = NO2              /* CHK FOR BYPASS-CHK-TASK-      */ 00564000
*        & DOCHKAF2 = NO2           /*   STATUS FLAGS                */ 00565000
*      THEN                         /* NONE,                         */ 00566000
         TM    DOCHKAF1(WRKAPTR1),B'00011000'                   01S0215 00567000
         BNZ   @RF00215                                         01S0215 00568000
         TM    DOCHKAF2(WRKAPTR1),B'00110000'                   01S0215 00569000
         BNZ   @RF00215                                         01S0215 00570000
*        CALL  TCHKAT;              /*   PERFORM TASK STATUS CHECK   */ 00571000
*                                                               01S0216 00572000
         BAL   @14,TCHKAT                                       01S0216 00573000
*TINVOKF:                           /* FOR PSEUDO-RETURN             */ 00574000
*    IF DOPSTRT = YES               /* CHK TO START STOPPED SUBTASKS */ 00575000
*      THEN                         /* YES,                          */ 00576000
@RF00215 DS    0H                                               01S0217 00577000
TINVOKF  TM    DOPSTRT(WRKAPTR1),B'00100000'                    01S0217 00578000
         BNO   @RF00217                                         01S0217 00579000
*        CALL TSTRTAB;              /*   PERFORM STATUS START        */ 00580000
*                                                               01S0218 00581000
         BAL   @14,TSTRTAB                                      01S0218 00582000
*    DOACTV = NO;                   /* RESET DO-ACTIVATE FLAG        */ 00583000
@RF00217 NI    DOACTV(WRKAPTR1),B'11101111'                     01S0219 00584000
*    IF DOACTF1 = NO3               /* CHK FOR BYPASS-COMMAND FLAGS  */ 00585000
*      THEN                         /* NONE,                         */ 00586000
         TM    DOACTF1(WRKAPTR1),B'00111000'                    01S0220 00587000
         BNZ   @RF00220                                         01S0220 00588000
*        CALL  TACTV;               /*   INITIATE CP ACTION          */ 00589000
*                                                               01S0221 00590000
         BAL   @14,TACTV                                        01S0221 00591000
*    RESPECIFY (R14) RSTD;                                      01S0222 00592000
@RF00220 DS    0H                                               01S0223 00593000
*TINVOKH:                           /* FOR PSEUDO-RETURN             */ 00594000
*    R14 = ADDR(TCHKCP);            /* SET FOR PSEUDO-RETURN         */ 00595000
TINVOKH  LA    R14,TCHKCP                                       01S0223 00596000
*    RETURN;                        /* RETURN TO CALLER              */ 00597000
         B     @EL00003                                         01S0224 00598000
*    RESPECIFY (R14) UNRSTD;                                    01S0225 00599000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00600000
*/*                                                                  */ 00601000
*/* SEGMENT NAME -- TATTNCK                                          */ 00602000
*/*                                                                  */ 00603000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00604000
*/*                                                                  */ 00605000
*/* FUNCTION -- TO SET UP CONTROLS TO PROCESS THE NEW COMMAND NAME   */ 00606000
*/*       INTRODUCED THROUGH ATTENTION                               */ 00607000
*/*  OPERATION --                                                    */ 00608000
*/*           - RESET ATTENTION COMMUNICATION ECB                    */ 00609000
*/*           - RESET POINTER TO ANY ABENDING TCB                    */ 00610000
*/*           - CHECK IF INITIAL COMMAND (FROM LOGON PROCEDURE       */ 00611000
*/*             EXEC PARAMETER FIELD) HAS BEEN EXECUTED              */ 00612000
*/*             - IF NOT YET EXECUTED, SET TMPCMDW FLAG TO INDICATE  */ 00613000
*/*               THAT A COMMAND ENTERED THROUGH ATTENTION IS NOW    */ 00614000
*/*               WAITING TO BE INITIATED, ISSUE STATUS START TO     */ 00615000
*/*               ALLOW INITIAL COMMAND TO RESUME OPERATION, AND     */ 00616000
*/*               SET DOWAIT FLAG TO PASS CONTROL TO TMP WAIT        */ 00617000
*/*             - IF INITIAL COMMAND HAS ALREADY COMPLETED THEN      */ 00618000
*/*               SET TMPACTRL FLAG TO INDICATE ATTENTION PROCESSING */ 00619000
*/*               IS IN CONTROL, SET UP COMMAND SCAN PARAMETER LIST  */ 00620000
*/*               FROM THE ATTENTION INPUT BUFFER, CLEAR THE COMMAND */ 00621000
*/*               WAITING FLAG, TMPCMDW, CLEAR THE ABEND-PROCESSING- */ 00622000
*/*               IN-CONTROL FLAG, TMPSCTRL, RESET THE SUB-TASK-     */ 00623000
*/*               ABEND-EXIT-PROCESSING-IN-CONTROL FLAG AND SET THE  */ 00624000
*/*               DOSCAN FLAG TO PASS CONTROL TO THE COMMAND SCAN    */ 00625000
*/*               ROUTINE                                            */ 00626000
*/*                                                                  */ 00627000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00628000
*/*                                                                  */ 00629000
*/* INPUT -- N/A                                                     */ 00630000
*/*                                                                  */ 00631000
*/* OUTPUT -- N/A                                                    */ 00632000
*/*                                                                  */ 00633000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00634000
*/*                                                                  */ 00635000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00636000
*/*                                                                  */ 00637000
*/*   RETURN CODE -- N/A                                             */ 00638000
*/*                                                                  */ 00639000
*/* EXIT ERROR -- N/A                                                */ 00640000
*/*                                                                  */ 00641000
*/*   CONDITIONS -- N/A                                              */ 00642000
*/*                                                                  */ 00643000
*/*   RETURN CODE -- N/A                                             */ 00644000
*/*                                                                  */ 00645000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00646000
*TATTNCK:   /* EP TO PROCESS-ATTENTION-INTERRUPT ROUTINE             */ 00647000
*    ENTRY;                                                     01S0226 00648000
TATTNCK  DS    0H                                               01S0227 00649000
*    RESPECIFY (R6,R14) RSTD;                                   01S0227 00650000
*    R6 = R14;                      /* RESERVE ENTRY REG 14          */ 00651000
         LR    R6,R14                                           01S0228 00652000
*    RESPECIFY (R14) UNRSTD;                                    01S0229 00653000
*                                                               01S0229 00654000
*    TMPAECB = ZERO;                /* RESET ECB                     */ 00655000
         SLR   @14,@14                                          01S0230 00656000
         ST    @14,TMPAECB(,WRKAPTR1)                           01S0230 00657000
*    TPLNTCB = ZERO;                /* RESET PTR TO ABENDING TCB     */ 00658000
*                                                               01S0231 00659000
         ST    @14,TPLNTCB(,WRKAPTR1)                           01S0231 00660000
*    IF TMPNFCMD = NO               /* CHK IF FREE COMMAND DONE YET  */ 00661000
*      THEN DO;                     /* NO,                           */ 00662000
         TM    TMPNFCMD(WRKAPTR1),B'00100000'                   01S0232 00663000
         BNZ   @RF00232                                         01S0232 00664000
*        TMPCMDW = YES;             /* REMEMBER COMMAND WAITING      */ 00665000
         OI    TMPCMDW(WRKAPTR1),B'01000000'                    01S0234 00666000
*        GEN(STATUS START);         /* START CP SUBTASK              */ 00667000
         STATUS START                                                   00668000
*        DOWAIT = YES;              /* WAIT FOR FREE COMMAND END     */ 00669000
         OI    DOWAIT(WRKAPTR1),B'00000100'                     01S0236 00670000
*      END;                                                     01S0237 00671000
*      ELSE DO;                     /* YES, FREE COMMAND DONE        */ 00672000
         B     @RC00232                                         01S0238 00673000
@RF00232 DS    0H                                               01S0239 00674000
*        TMPACTRL = YES;            /* SHOW ATTENTION OCCURRED       */ 00675000
         OI    TMPACTRL(WRKAPTR1),B'00010000'                   01S0239 00676000
*        FRSTEX = NO;               /* RESET IMPLICIT EXEC INDICATOR    00677000
*                                                            @ZA17835*/ 00678000
         NI    FRSTEX(WRKAPTR1),B'11101111'                     01S0240 00679000
*        CSPLCBUF=TMPCMDWT;         /* PICK UP WAITING CMD           */ 00680000
         L     @14,TMPCMDWT(,WRKAPTR1)                          01S0241 00681000
         ST    @14,CSPLCBUF(,SRPARMLP)                          01S0241 00682000
*        CSPLCBUF->CBUFOFF=ZERO;    /* PTR FOR RESCAN                */ 00683000
         SLR   @05,@05                                          01S0242 00684000
         STH   @05,CBUFOFF(,@14)                                01S0242 00685000
*        TMPCMDW = NO;              /* RESET CMD WAIT INDICATOR      */ 00686000
         NI    TMPCMDW(WRKAPTR1),B'10111111'                    01S0243 00687000
*        TMPCMDWT = ZERO;           /* RESET COMMAND-WAITING PTR     */ 00688000
         ST    @05,TMPCMDWT(,WRKAPTR1)                          01S0244 00689000
*        TMPSCTRL = NO;             /* SHOW STAI NOT IN CONTROL      */ 00690000
         NI    TMPSCTRL(WRKAPTR1),B'11110111'                   01S0245 00691000
*        TMPIECB = ZERO;            /* RESET STAI ECB                */ 00692000
         ST    @05,TMPIECB(,WRKAPTR1)                           01S0246 00693000
*        DOSCAN = YES;              /* SET TO DO COMMAND SCAN        */ 00694000
         OI    DOSCAN(WRKAPTR1),B'00000010'                     01S0247 00695000
*      END;                                                     01S0248 00696000
*                                                               01S0248 00697000
*    RESPECIFY (R14) RSTD;                                      01S0249 00698000
@RC00232 DS    0H                                               01S0250 00699000
*    R14 = R6;                      /* RESTORE ENTRY REG 14          */ 00700000
         LR    R14,R6                                           01S0250 00701000
*    RETURN;                        /* RETURN TO CALLER              */ 00702000
         B     @EL00003                                         01S0251 00703000
*    RESPECIFY (R6,R14) UNRSTD;                                 01S0252 00704000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00705000
*/*                                                                  */ 00706000
*/* SEGMENT NAME -- TWAITX                                           */ 00707000
*/*                                                                  */ 00708000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00709000
*/*                                                                  */ 00710000
*/* FUNCTION -- TO WAIT FOR COMPLETION OF THE ATTACHED SUB-COMMAND   */ 00711000
*/*       TASK OR INTERCEPT THE INTERRUPTIONS OF THAT TASK BY ABEND, */ 00712000
*/*       ATTENTION, OR SYSTEM STOP-MODIFY                           */ 00713000
*/*  OPERATION --                                                    */ 00714000
*/*           - RESET THE PERFORM-WAIT-NOW FLAG, DOWAIT              */ 00715000
*/*           - IF NO BYPASS-WAIT FLAGS ARE ON, ISSUE WAIT ON THE    */ 00716000
*/*             TMP WAIT LIST                                        */ 00717000
*/*             WHEN WAIT IS ENDED, SET THE PSW PROTECT KEY TO ZERO  */ 00718000
*/*             AND THE TCB PROTECT KEY TO 8                         */ 00719000
*/*                                                                  */ 00720000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00721000
*/*                                                                  */ 00722000
*/* INPUT -- N/A                                                     */ 00723000
*/*                                                                  */ 00724000
*/* OUTPUT -- N/A                                                    */ 00725000
*/*                                                                  */ 00726000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00727000
*/*                                                                  */ 00728000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00729000
*/*                                                                  */ 00730000
*/*   RETURN CODE -- N/A                                             */ 00731000
*/*                                                                  */ 00732000
*/* EXIT ERROR -- N/A                                                */ 00733000
*/*                                                                  */ 00734000
*/*   CONDITIONS -- N/A                                              */ 00735000
*/*                                                                  */ 00736000
*/*   RETURN CODE -- N/A                                             */ 00737000
*/*                                                                  */ 00738000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00739000
*TWAITX:    /* EP TO WAIT-FOR-CP-COMPLETION ROUTINE                  */ 00740000
*    ENTRY;                                                     01S0253 00741000
TWAITX   DS    0H                                               01S0254 00742000
*    RESPECIFY (R6,R14) RSTD;                                   01S0254 00743000
*    R6 = R14;                      /* RESERVE ENTRY REG 14          */ 00744000
*                                                               01S0255 00745000
         LR    R6,R14                                           01S0255 00746000
*    DOWAIT = NO;                   /* RESET DO-WAIT-NOW FLAG        */ 00747000
         NI    DOWAIT(WRKAPTR1),B'11111011'                     01S0256 00748000
*    IF DOWATF1 = NO5               /* CHK TO BYPASS WAIT            */ 00749000
*      THEN DO;                     /* NO, PERFORM WAIT              */ 00750000
         TM    DOWATF1(WRKAPTR1),B'00111110'                    01S0257 00751000
         BNZ   @RF00257                                         01S0257 00752000
*        R1 = ADDR(TPLECBL);        /* SET PTR TO WAIT LIST          */ 00753000
         LA    R1,TPLECBL(,WRKAPTR1)                            01S0259 00754000
*        GEN(WAIT ECBLIST=(1),LONG=YES);  /* FOR NEXT ACTION         */ 00755000
         WAIT ECBLIST=(1),LONG=YES                                      00756000
*      END;                                                     01S0261 00757000
*                                                               01S0261 00758000
*    R14 = R6;                      /* RESTORE ENTRY REG 14          */ 00759000
@RF00257 LR    R14,R6                                           01S0262 00760000
*    RETURN;                        /* RETURN TO CALLER              */ 00761000
         B     @EL00003                                         01S0263 00762000
*    RESPECIFY (R6,R14) UNRSTD;                                 01S0264 00763000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00764000
*/*                                                                  */ 00765000
*/* SEGMENT NAME -- TTSKCHK                                          */ 00766000
*/*                                                                  */ 00767000
*/* FUNCTION -- TO CHECK THE STATUS OF THE ATTACHED-CP TASK AND SET  */ 00768000
*/*       UP CONSEQUENT PROCESSING                                   */ 00769000
*/*  OPERATION --                                                    */ 00770000
*/*           - IF ATTACHED TASK IS POSTED COMPLETE, CALL TDETCP,    */ 00771000
*/*             THE ROUTINE TO DETACH THAT TASK                      */ 00772000
*/*           - RESET THE SUBCOMMAND-BEING-ATTACHED FLAG             */ 00773000
*/*           - IF THE ATTENTION ECB HAS BEEN POSTED OR THERE IS A   */ 00774000
*/*             COMMAND WAITING TO BE INITIATED (TMPCMDWT FLAG),     */ 00775000
*/*             SET THE DO-ATTENTION-PROCESSING FLAG, DOCHKCP        */ 00776000
*/*           - IF NEITHER ATTENTION NOR COMMAND-WAITING, CHECK IF   */ 00777000
*/*             THE ABEND ECB HAS BEEN POSTED                        */ 00778000
*/*             - IF ABEND ECB IS POSTED, CALL THE ABEND PROCESSING  */ 00779000
*/*               ROUTINE, TSTAIPST                                  */ 00780000
*/*             - IF NOT ABEND, CHECK IF CURRENT SUBTASK IS STILL    */ 00781000
*/*               ACTIVE                                             */ 00782000
*/*               - IF STILL ACTIVE, SET CONTINUE-WAIT FLAG, DOWAIT  */ 00783000
*/*               - IF NOT STILL ACTIVE, CHECK IF SYSTEM-FORCED-     */ 00784000
*/*                 TERMINATION IS INDICATED (STOP-MODIFY ECB IS     */ 00785000
*/*                 POSTED)                                          */ 00786000
*/*                 - IF POSTED, CLEAR ALL TMP FLOW FLAGS AND SET    */ 00787000
*/*                   TERMINATION FLAG, DODONE                       */ 00788000
*/*                 - IF TERMINATION NOT INDICATED --                */ 00789000
*/*                   - CHECK IF ABEND PROCESSING IS CURRENTLY       */ 00790000
*/*                     ACTIVE (TMPSCTRL FLAG)                       */ 00791000
*/*                     - IF YES, THEN --                            */ 00792000
*/*                       - RESET ABEND-PROCESSING FLAG, TMPSCTRL    */ 00793000
*/*                       - SET DO-CHECK-ATTENTION-NOW FLAG, DOCHKAT */ 00794000
*/*                         AND PERFORM-NEW-COMMAND-PROCESSING FLAG, */ 00795000
*/*                         DOINVOK, FOR NEXT TMP CYCLE              */ 00796000
*/*                       - IF TEST IS CURRENTLY ACTIVE (TMPTEST     */ 00797000
*/*                         FLAG ON), SET PERFORM-TEST-PROCESSING-   */ 00798000
*/*                         NOW FLAG, DOTEST, FOR NEXT CYCLE         */ 00799000
*/*                                                                  */ 00800000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00801000
*/*                                                                  */ 00802000
*/* INPUT -- N/A                                                     */ 00803000
*/*                                                                  */ 00804000
*/* OUTPUT -- N/A                                                    */ 00805000
*/*                                                                  */ 00806000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00807000
*/*                                                                  */ 00808000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00809000
*/*   RETURN CODE -- N/A                                             */ 00810000
*/*                                                                  */ 00811000
*/* EXIT ERROR -- N/A                                                */ 00812000
*/*   CONDITIONS -- N/A                                              */ 00813000
*/*   RETURN CODE -- N/A                                             */ 00814000
*/*                                                                  */ 00815000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00816000
*TTSKCHK:   /* EP TO CHECK-ATTACHED-CP-TASK-STATUS ROUTINE           */ 00817000
*    ENTRY;                                                     01S0265 00818000
*                                                               01S0265 00819000
TTSKCHK  DS    0H                                               01S0266 00820000
*    IF TPLCECB->ECBPOST=YES        /* CHK FOR ATTACHED CP COMPLETE  */ 00821000
*      THEN                         /* YES,                          */ 00822000
         L     @14,TPLCECB(,WRKAPTR1)                           01S0266 00823000
         TM    ECBPOST(@14),B'01000000'                         01S0266 00824000
         BNO   @RF00266                                         01S0266 00825000
*        CALL TDETCP;               /*   DETACH CURRENT CP           */ 00826000
*                                                               01S0267 00827000
         BAL   @14,TDETCP                                       01S0267 00828000
*    ATCHNOW = NO;                  /* CLEAR SUB-CP-ATTACHED FLAG    */ 00829000
*                                                               01S0268 00830000
@RF00266 NI    ATCHNOW(WRKAPTR1),B'01111111'                    01S0268 00831000
*    IF TPLAECB->ECBPOST=YES        /* CHK FOR ATTENTION ACTION      */ 00832000
*         | TMPCMDWT^=ZERO          /*     OR COMMAND WAITING        */ 00833000
*      THEN                         /* YES,                          */ 00834000
         L     @14,TPLAECB-1(,WRKAPTR1)                         01S0269 00835000
         TM    ECBPOST(@14),B'01000000'                         01S0269 00836000
         BO    @RT00269                                         01S0269 00837000
         L     @14,TMPCMDWT(,WRKAPTR1)                          01S0269 00838000
         LTR   @14,@14                                          01S0269 00839000
         BZ    @RF00269                                         01S0269 00840000
@RT00269 DS    0H                                               01S0270 00841000
*        DOCHKCP = YES;             /*   PROCESS ATTENTION           */ 00842000
         OI    DOCHKCP(WRKAPTR1),B'00000010'                    01S0270 00843000
*      ELSE                         /* NO, IS NOT ATTENTION          */ 00844000
*        IF TPLIECB->ECBPOST=YES    /* FOR STAI-ABEND ACTION         */ 00845000
*          THEN DO;                 /* YES,                          */ 00846000
         B     @RC00269                                         01S0271 00847000
@RF00269 L     @14,TPLIECB(,WRKAPTR1)                           01S0271 00848000
         TM    ECBPOST(@14),B'01000000'                         01S0271 00849000
         BNO   @RF00271                                         01S0271 00850000
*            CALL  TSTAIPST;        /*   PROCESS ABEND               */ 00851000
         BAL   @14,TSTAIPST                                     01S0273 00852000
*TTSKCKA:  END;                     /* FOR PSEUDO-RETURN             */ 00853000
*          ELSE                     /* NO, IS NOT ABEND              */ 00854000
*            IF TPLCTCB^=ZERO       /* CHK FOR CP STILL ATTACHED     */ 00855000
*              THEN                 /* YES,                          */ 00856000
         B     @RC00271                                         01S0275 00857000
@RF00271 L     @14,TPLCTCB(,WRKAPTR1)                           01S0275 00858000
         LTR   @14,@14                                          01S0275 00859000
         BZ    @RF00275                                         01S0275 00860000
*                DOWAIT=YES;        /* CP ATTACHED                   */ 00861000
         OI    DOWAIT(WRKAPTR1),B'00000100'                     01S0276 00862000
*              ELSE                 /* NO, CP IS NOT ACTIVE          */ 00863000
*                IF TPLMECB->ECBPOST=YES  /* STOP/MODIFY             */ 00864000
*                  THEN DO;         /* YES,                          */ 00865000
         B     @RC00275                                         01S0277 00866000
@RF00275 L     @14,TPLMECB(,WRKAPTR1)                           01S0277 00867000
         TM    ECBPOST(@14),B'01000000'                         01S0277 00868000
         BNO   @RF00277                                         01S0277 00869000
*                    FLOFLGS=ZERO;  /* CLEAR ALL CURRENT             */ 00870000
         SLR   @14,@14                                          01S0279 00871000
         ST    @14,FLOFLGS(,WRKAPTR1)                           01S0279 00872000
*                    FLOFLGS2=ZERO; /* ACTIVITY FLAGS                */ 00873000
         MVI   FLOFLGS2(WRKAPTR1),X'00'                         01S0280 00874000
*                    DODONE = YES;  /* TO RETURN TO LOGOFF           */ 00875000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0281 00876000
*                  END;                                         01S0282 00877000
*                  ELSE             /* NO, IS NOT STOP               */ 00878000
*                    IF TMPSCTRL=YES   /* CHK STAI IN CONTROL        */ 00879000
*                      THEN DO;        /* YES,                       */ 00880000
         B     @RC00277                                         01S0283 00881000
@RF00277 TM    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0283 00882000
         BNO   @RF00283                                         01S0283 00883000
*                        TMPSCTRL=NO;  /* RESET STAI FLAG            */ 00884000
         NI    TMPSCTRL(WRKAPTR1),B'11110111'                   01S0285 00885000
*                        DOCHKAT=YES;  /* RETURN TO CHECK            */ 00886000
         OI    DOCHKAT(WRKAPTR1),B'00001000'                    01S0286 00887000
*                        DOINVOK=YES;  /* FOR NEXT COMMAND           */ 00888000
         OI    DOINVOK(WRKAPTR1),B'00000100'                    01S0287 00889000
*                        IF TMPTEST=YES  /* CHK TEST NOW             */ 00890000
*                          THEN        /* YES,                       */ 00891000
         TM    TMPTEST(WRKAPTR1),B'10000000'                    01S0288 00892000
         BNO   @RF00288                                         01S0288 00893000
*                            DOTEST=YES; /* ACTIVATE TEST            */ 00894000
         OI    DOTEST(WRKAPTR1),B'00100000'                     01S0289 00895000
*                      END;                                     01S0290 00896000
*                                                               01S0290 00897000
@RF00288 DS    0H                                               01S0291 00898000
*    RESPECIFY (R14) RSTD;                                      01S0291 00899000
@RF00283 DS    0H                                               01S0291 00900000
@RC00277 DS    0H                                               01S0291 00901000
@RC00275 DS    0H                                               01S0291 00902000
@RC00271 DS    0H                                               01S0291 00903000
@RC00269 DS    0H                                               01S0292 00904000
*    R14 = ADDR(TRETC);             /* SET FOR PSEUDO-RETURN  ZA26167*/ 00905000
         LA    R14,TRETC                                        01S0292 00906000
*    RETURN;                        /* RETURN TO CALLER              */ 00907000
         B     @EL00003                                         01S0293 00908000
*    RESPECIFY (R14) UNRSTD;                                    01S0294 00909000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00910000
*/*                                                                  */ 00911000
*/* SEGMENT NAME -- TCALLND                                          */ 00912000
*/*                                                                  */ 00913000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00914000
*/*                                                                  */ 00915000
*/* FUNCTION -- TO CLOSE OUT TMP-CALL FUNCTION                       */ 00916000
*/*  OPERATION --                                                    */ 00917000
*/*           - IF CALL IS CURRENTLY ACTIVE, CALLNOW FLAG, --        */ 00918000
*/*             - ACTIVATE THE TERMINATE-CALL-ACTIVITY ROUTINE,      */ 00919000
*/*               DOCALL2                                            */ 00920000
*/*             - SET CALL-INACTIVE FLAG, CALLNOW EQUALS NO          */ 00921000
*/*             - RESTORE ATTACH PARAMETER LIST FOR TMP              */ 00922000
*/*                                                                  */ 00923000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00924000
*/*                                                                  */ 00925000
*/* INPUT -- N/A                                                     */ 00926000
*/*                                                                  */ 00927000
*/* OUTPUT -- N/A                                                    */ 00928000
*/*                                                                  */ 00929000
*/* EXTERNAL REFERENCES -- N/A                                       */ 00930000
*/*                                                                  */ 00931000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 00932000
*/*                                                                  */ 00933000
*/*   RETURN CODE -- N/A                                             */ 00934000
*/*                                                                  */ 00935000
*/* EXIT ERROR -- N/A                                                */ 00936000
*/*                                                                  */ 00937000
*/*   CONDITIONS -- N/A                                              */ 00938000
*/*                                                                  */ 00939000
*/*   RETURN CODE -- N/A                                             */ 00940000
*/*                                                                  */ 00941000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00942000
*TCALLND:   /* EP TO CLOSE-OUT-CALL-FUNCTION ROUTINE                 */ 00943000
*    ENTRY;                                                     01S0295 00944000
*                                                               01S0295 00945000
TCALLND  DS    0H                                               01S0296 00946000
*    IF CALLNOW = YES               /* CHK IF CALL ACTIVE            */ 00947000
*        & TPLCTCB = ZERO           /* NO CURRENT ATTACH      ZA26167*/ 00948000
*      THEN DO;                     /* YES,                          */ 00949000
         TM    CALLNOW(WRKAPTR1),B'00001000'                    01S0296 00950000
         BNO   @RF00296                                         01S0296 00951000
         L     @14,TPLCTCB(,WRKAPTR1)                           01S0296 00952000
         LTR   @14,@14                                          01S0296 00953000
         BNZ   @RF00296                                         01S0296 00954000
*        CALLNOW = NO;              /*   SET CALL-NOT-ACTIVE FLAG    */ 00955000
         NI    CALLNOW(WRKAPTR1),B'11110111'                    01S0298 00956000
*        CALL DOCALL2;              /* GO TO TERMINATION             */ 00957000
         L     @15,@CV00134                                     01S0299 00958000
         BALR  @14,@15                                          01S0299 00959000
*      END;                                                     01S0300 00960000
*                                                               01S0300 00961000
*    RESPECIFY (R14) RSTD;                                      01S0301 00962000
@RF00296 DS    0H                                               01S0302 00963000
*    R14 = ADDR(TRETD);             /* SET FOR PSEUDO-RETURN  ZA26167*/ 00964000
         LA    R14,TRETD                                        01S0302 00965000
*    RETURN;                        /* RETURN TO CALLER              */ 00966000
         B     @EL00003                                         01S0303 00967000
*    RESPECIFY (R14) UNRSTD;                                    01S0304 00968000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 00969000
*/*                                                                  */ 00970000
*/* SEGMENT NAME -- TGETCDX                                          */ 00971000
*/*                                                                  */ 00972000
*/* DESCRIPTIVE NAME -- N/A                                          */ 00973000
*/*                                                                  */ 00974000
*/* FUNCTION -- TO GET NEW COMMAND ENTRY FROM INPUT SOURCE           */ 00975000
*/*  OPERATION --                                                    */ 00976000
*/*           - (SAVE LINK REGISTER)                                 */ 00977000
*/*           - CHECK IF ATTENTION-PROCESSING IS ACTIVE, DOCHKCP     */ 00978000
*/*             FLAG --                                              */ 00979000
*/*             - IF NO, THEN --                                     */ 00980000
*/*               - CHECK IF PUTGET RETURN SIGNIFIES AN ENTRY BUFFER */ 00981000
*/*                 WAS RETRIEVED                                    */ 00982000
*/*               - IF YES, THEN --                                  */ 00983000
*/*                 - COPY THE POINTER TO THE BUFFER RETURNED BY     */ 00984000
*/*                   PGPBIBUF, INTO THE COMMAND SCAN PARAMETER      */ 00985000
*/*                   CSPLCBUF                                       */ 00986000
*/*                 - SET THE PERFORM-COMMAND-SCAN-NOW FLAG, DOSCAN  */ 00987000
*/*               - IF NO BUFFER WAS RETRIEVED BY PUTGET, THEN --    */ 00988000
*/*                 - IF PUTGET RETURN CODE SIGNIFIES PUTGET ERROR,  */ 00989000
*/*                   INDICATE BY FORCING AN ABEND 204               */ 00990000
*/*                 - IF NOT PUTGET ERROR, THEN --                   */ 00991000
*/*                   - IF RETURN CODE SIGNIFIES A 2ND LEVEL MESSAGE */ 00992000
*/*                     EXISTS, SET MESSAGE-DELETE FLAG IN ECT,      */ 00993000
*/*                     ECTMSGF                                      */ 00994000
*/*                   - SET DO-GET-COMMAND-NOW FLAG, DOGETC, TO      */ 00995000
*/*                     CAUSE THE PUTGET TO BE REISSUED              */ 00996000
*/*           - (RESTORE LINK REGISTER)                              */ 00997000
*/*                                                                  */ 00998000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 00999000
*/*                                                                  */ 01000000
*/* INPUT -- N/A                                                     */ 01001000
*/*                                                                  */ 01002000
*/* OUTPUT -- N/A                                                    */ 01003000
*/*                                                                  */ 01004000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01005000
*/*                                                                  */ 01006000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01007000
*/*                                                                  */ 01008000
*/*   RETURN CODE -- N/A                                             */ 01009000
*/*                                                                  */ 01010000
*/* EXIT ERROR -- N/A                                                */ 01011000
*/*                                                                  */ 01012000
*/*   CONDITIONS -- N/A                                              */ 01013000
*/*                                                                  */ 01014000
*/*   RETURN CODE -- N/A                                             */ 01015000
*/*                                                                  */ 01016000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01017000
*TGETCDX:   /* EP TO GET-NEW-COMMAND ROUTINE                         */ 01018000
*    ENTRY;                                                     01S0305 01019000
*                                                               01S0305 01020000
TGETCDX  DS    0H                                               01S0306 01021000
*    RESPECIFY (R2) RSTD;                                       01S0306 01022000
*    R2 = PGPBPTR;                  /* PTR TO PUTGET PARM BLOCK      */ 01023000
         L     R2,PGPBPTR(,WRKAPTR1)                            01S0307 01024000
*    R1 = ADDR(IOPL);               /* SET PTR TO PARM LIST          */ 01025000
         LR    R1,SRPARMLP                                      01S0308 01026000
*    R15 = ADDR(TGETCD1);           /* PTR TO ISSUE-PUTGET ROUTINE   */ 01027000
         LA    R15,TGETCD1                                      01S0309 01028000
*    GEN FLOWS(TGETCD1) (SYNCH  (15));  /* TO PUTGET ROUTINE         */ 01029000
         SYNCH  (15)                                                    01030000
*    RCODE = R15;                   /* RESERVE PURGET RETURN CODE    */ 01031000
         ST    R15,RCODE(,WRKAPTR1)                             01S0311 01032000
*    RESPECIFY (R2) UNRSTD;                                     01S0312 01033000
*                                                               01S0312 01034000
*    IF DOCHKCP = NO                /* CHK FOR ATTENTION             */ 01035000
*      THEN DO;                     /* NO,                           */ 01036000
         TM    DOCHKCP(WRKAPTR1),B'00000010'                    01S0313 01037000
         BNZ   @RF00313                                         01S0313 01038000
*        IF RCODE<=PTGTDONE         /* CHK FOR COMMAND RETRIEVAL     */ 01039000
*          THEN DO;                 /* YES, COMMAND RETURNED         */ 01040000
         L     @14,RCODE(,WRKAPTR1)                             01S0315 01041000
         C     @14,@CF00045                                     01S0315 01042000
         BH    @RF00315                                         01S0315 01043000
*            CSPLCBUF=PGPBIBUF;     /* ESTABLISH NEW CMD BUFFER      */ 01044000
         L     @14,PGPBPTR(,WRKAPTR1)                           01S0317 01045000
         L     @14,PGPBIBUF(,@14)                               01S0317 01046000
         ST    @14,CSPLCBUF(,SRPARMLP)                          01S0317 01047000
*            DOSCAN=YES;            /* SET TO SCAN THE COMMAND       */ 01048000
         OI    DOSCAN(WRKAPTR1),B'00000010'                     01S0318 01049000
*          END;                                                 01S0319 01050000
*          ELSE DO;                 /* NO COMMAND RETRIEVED          */ 01051000
         B     @RC00315                                         01S0320 01052000
@RF00315 DS    0H                                               01S0321 01053000
*            IF RCODE>PTGTNPS       /* CHK FOR PUTGET ERROR          */ 01054000
*              THEN                 /* YES,                          */ 01055000
         CLC   RCODE(4,WRKAPTR1),@CF00054                       01S0321 01056000
         BNH   @RF00321                                         01S0321 01057000
*                GEN(ABEND 204,DUMP);  /* PUTGET ERROR               */ 01058000
         ABEND 204,DUMP                                                 01059000
*              ELSE DO;             /* CHK FOR 2ND LEVEL MESSAGE     */ 01060000
         B     @RC00321                                         01S0323 01061000
@RF00321 DS    0H                                               01S0324 01062000
*                IF RCODE=PTGTNPS   /* COMMAND RETRIEVAL             */ 01063000
*                  THEN             /* NO,                           */ 01064000
         CLC   RCODE(4,WRKAPTR1),@CF00054                       01S0324 01065000
         BNE   @RF00324                                         01S0324 01066000
*                    ECTMSGF=YES;   /* DELETE 2ND LEVEL MESSAGE      */ 01067000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0325 01068000
         MVI   ECTMSGF(@14),B'10000000'                         01S0325 01069000
*                DOGETC=YES;        /* SET RE-DO GET COMMAND         */ 01070000
@RF00324 OI    DOGETC(WRKAPTR1),B'00010000'                     01S0326 01071000
*              END;                                             01S0327 01072000
*          END;                                                 01S0328 01073000
@RC00321 DS    0H                                               01S0329 01074000
*      END;                                                     01S0329 01075000
*                                                               01S0329 01076000
@RC00315 DS    0H                                               01S0330 01077000
*    RESPECIFY (R14) RSTD;                                      01S0330 01078000
@RF00313 DS    0H                                               01S0331 01079000
*    R14 = ADDR(TRETE);             /* SET FOR PSEUDO-RETURN         */ 01080000
         LA    R14,TRETE                                        01S0331 01081000
*    RESPECIFY (R14) UNRSTD;                                    01S0332 01082000
*    END  TINIT2;                   /* RETURN TO CALLER              */ 01083000
         B     @EL00003                                         01S0333 01084000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01085000
*/*                                                                  */ 01086000
*/* SEGMENT NAME -- IKJEFT0B                                         */ 01087000
*/*                                                                  */ 01088000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01089000
*/*                                                                  */ 01090000
*/* FUNCTION -- TO RECEIVE THE ASYNCHRONOUS EXIT FROM THE STAE-RETRY */ 01091000
*/*       ROUTINE, SET UP MESSAGE IKJ56622I AND THE CONTROLS TO      */ 01092000
*/*       RE-ESTABLISH TMP PROCESSING -- OR TO SET UP TERMINATION    */ 01093000
*/*       EXIT (DETACHING ANY EXISTING SUBTASK)                      */ 01094000
*/*  OPERATION --                                                    */ 01095000
*/*           - (IKJEFT0B ENTRY) --                                  */ 01096000
*/*             - IF LINK ACTIVITY IS CURRENT (LINKNOW FLAG) --      */ 01097000
*/*               - RESET LINK-ACTIVITY-CURRENT FLAG, LINKNOW        */ 01098000
*/*               - SET UP MESSAGE FOR COMMAND-NOT-FOUND             */ 01099000
*/*               - SET FLOW FLAG, DOINVOK, TO RE-ENTER PERFORM-     */ 01100000
*/*                 COMMAND-ENTERED LOOP                             */ 01101000
*/*               - SET LIN REGISTER TO FORCE PROCESSING             */ 01102000
*/*             - IF LINK ACTIVITY IS NOT CURRENT --                 */ 01103000
*/*               (ALSO TDONE1 LABEL, INTERNAL ENTRY POINT)          */ 01104000
*/*               - SAVE LINK REGISTER                               */ 01105000
*/*               - RESET TERMINATION FLAG, DODONE                   */ 01106000
*/*               - IF NO CONTINUE-PROCESSING FLAGS, DOLIST, DOGETC, */ 01107000
*/*                 DOSCAN, DOCHKCP, OR DOWAIT, ARE ON --            */ 01108000
*/*                 - IF THE LATEST COMMAND ENTERED HAS NOT YET      */ 01109000
*/*                   COMPLETED, TPLCTCB NOT ZERO, THEN --           */ 01110000
*/*                   - SET ABNORMAL-DETACH FLAG, ECTATRM            */ 01111000
*/*                   - CALL DETACH ROUTINE, TDETCP                  */ 01112000
*/*                   - SET ECT TERMINATION FLAG, ECTLOGF            */ 01113000
*/*                   - SET FLAG FOR CHECK-STATUS-OF-SUBTASK, DOLIST */ 01114000
*/*                                                                  */ 01115000
*/* ENTRY -- EXTERNAL ENTRY, IKJEFT0B                                */ 01116000
*/*            ENTERED FROM THE STAE RETRY ROUTINE, IKJEFT07         */ 01117000
*/*        - INTERNAL ENTRY, TDONE                                   */ 01118000
*/*            ENTERED FROM IKJEFT0B SEQUENCE, OR LINKED BY REGISTER */ 01119000
*/*            14 FROM ROUTINE TDONE WHEN DODONE TERMINATION FLAG    */ 01120000
*/*            HAS BEEN SET                                          */ 01121000
*/*                                                                  */ 01122000
*/* INPUT -- N/A                                                     */ 01123000
*/*                                                                  */ 01124000
*/* OUTPUT -- N/A                                                    */ 01125000
*/*                                                                  */ 01126000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01127000
*/*                                                                  */ 01128000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01129000
*/*                                                                  */ 01130000
*/*   RETURN CODE -- N/A                                             */ 01131000
*/*                                                                  */ 01132000
*/* EXIT ERROR -- N/A                                                */ 01133000
*/*                                                                  */ 01134000
*/*   CONDITIONS -- N/A                                              */ 01135000
*/*                                                                  */ 01136000
*/*   RETURN CODE -- N/A                                             */ 01137000
*/*                                                                  */ 01138000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01139000
*IKJEFT0B:  /* EP TO EOF-READ/ABEND-RETRY ROUTINE                    */ 01140000
*                                                               01S0334 01141000
*    PROC  OPTIONS(NOSAVE,NOSAVEAREA,NORETREG);                 01S0334 01142000
*                                                               01S0334 01143000
IKJEFT0B DS    0H                                               01S0335 01144000
*    RESPECIFY (R13) RSTD;                                      01S0335 01145000
*    SRPARMLP = SRPLPTR;            /* RESTORE PTR TO SRPL AREA      */ 01146000
*                                                               01S0336 01147000
         L     SRPARMLP,SRPLPTR(,WRKAPTR1)                      01S0336 01148000
*    IF LINKNOW = YES               /* CHK IF TEST WAS ATTEMPTED     */ 01149000
*      THEN DO;                     /* YES,                          */ 01150000
         TM    LINKNOW(WRKAPTR1),B'00100000'                    01S0337 01151000
         BNO   @RF00337                                         01S0337 01152000
*        LINKNOW = NO;              /*   RESET TEST ATTEMPT FLAG     */ 01153000
         NI    LINKNOW(WRKAPTR1),B'11011111'                    01S0339 01154000
*        MSGSEG(1)=ADDR(MSG56622);  /* SET MESSAGE PTR               */ 01155000
         L     @14,@CA00131                                     01S0340 01156000
         ST    @14,MSGSEG(,WRKAPTR1)                            01S0340 01157000
*        DOPUTM = YES;              /* SET TO DO MESSAGE             */ 01158000
         OI    DOPUTM(WRKAPTR1),B'10000000'                     01S0341 01159000
*        DOINVOK = YES;             /* TO RE-ENTER COMMAND LOOP      */ 01160000
         OI    DOINVOK(WRKAPTR1),B'00000100'                    01S0342 01161000
*      END;                                                     01S0343 01162000
*      ELSE DO;                     /* LINK WAS NOT ATTEMPTED        */ 01163000
         B     @RC00337                                         01S0344 01164000
@RF00337 DS    0H                                               01S0345 01165000
*TDONE1: ENTRY;                                                 01S0345 01166000
         B     @EC00345                                         01S0345 01167000
TDONE1   DS    0H                                               01S0345 01168000
@EC00345 DS    0H                                               01S0346 01169000
*        DODONE = NO;               /* RESET TERMINATION FLAG        */ 01170000
         NI    DODONE(WRKAPTR1),B'11110111'                     01S0346 01171000
*        IF DOLIST = NO             /*                               */ 01172000
*            & DOGETC = NO          /*                               */ 01173000
*            & DOSCAN = NO          /*                               */ 01174000
*            & DOCHKCP = NO         /*                               */ 01175000
*            & DOWAIT = NO          /*                               */ 01176000
*          THEN                                                 01S0347 01177000
         TM    DOLIST(WRKAPTR1),B'00110010'                     01S0347 01178000
         BNZ   @RF00347                                         01S0347 01179000
         TM    DOCHKCP(WRKAPTR1),B'00000110'                    01S0347 01180000
         BNZ   @RF00347                                         01S0347 01181000
*            IF TPLCTCB^=ZERO       /* CHK IF ANY CP CURRENT         */ 01182000
*              THEN DO;             /* YES,                          */ 01183000
         L     @14,TPLCTCB(,WRKAPTR1)                           01S0348 01184000
         LTR   @14,@14                                          01S0348 01185000
         BZ    @RF00348                                         01S0348 01186000
*                ECTATRM=YES;       /* SIGNIFY ABNORMAL END          */ 01187000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0350 01188000
         OI    ECTATRM(@14),B'00100000'                         01S0350 01189000
*                CALL  TDETCP;      /* DETACH ABENDING CP            */ 01190000
         BAL   @14,TDETCP                                       01S0351 01191000
*                ECTLOGF=YES;       /* SET TERMINATION FLAG          */ 01192000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0352 01193000
         OI    ECTLOGF(@14),B'00010000'                         01S0352 01194000
*                DOLIST=YES;        /* WAIT FOR END OF CP            */ 01195000
         OI    DOLIST(WRKAPTR1),B'00100000'                     01S0353 01196000
*              END;                                             01S0354 01197000
*       IF CALLNOW = YES            /* CHK IF CALL ACTIVE     ZA26167*/ 01198000
*           & TPLCTCB = ZERO        /* NO CURRENT ATTACH      ZA26167*/ 01199000
*         THEN DO;                  /* YES,                   ZA26167*/ 01200000
@RF00348 DS    0H                                               01S0355 01201000
@RF00347 TM    CALLNOW(WRKAPTR1),B'00001000'                    01S0355 01202000
         BNO   @RF00355                                         01S0355 01203000
         L     @14,TPLCTCB(,WRKAPTR1)                           01S0355 01204000
         LTR   @14,@14                                          01S0355 01205000
         BNZ   @RF00355                                         01S0355 01206000
*           CALLNOW = NO;         /* SET CALL-NOT-ACTIVE FLAG ZA26167*/ 01207000
         NI    CALLNOW(WRKAPTR1),B'11110111'                    01S0357 01208000
*           CALL DOCALL2;           /* GO TO TERMINATION      ZA26167*/ 01209000
         L     @15,@CV00134                                     01S0358 01210000
         BALR  @14,@15                                          01S0358 01211000
*         END;                      /*                        ZA26167*/ 01212000
*      END;                                                     01S0360 01213000
*                                                               01S0360 01214000
@RF00355 DS    0H                                               01S0361 01215000
*    RESPECIFY (R14) RSTD;                                      01S0361 01216000
@RC00337 DS    0H                                               01S0362 01217000
*    R14 = ADDR(TDONE);             /* SET FOR PSEUDO-RETURN         */ 01218000
         LA    R14,TDONE                                        01S0362 01219000
*    RESPECIFY (R14) UNRSTD;                                    01S0363 01220000
*    RETURN;                        /* RETURN TO CALLER              */ 01221000
@EL00004 DS    0H                                               01S0364 01222000
@EF00004 DS    0H                                               01S0364 01223000
@ER00004 BR    @14                                              01S0364 01224000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01225000
*/*                                                                  */ 01226000
*/* SEGMENT NAME -- TTERM                                            */ 01227000
*/*                                                                  */ 01228000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01229000
*/*                                                                  */ 01230000
*/* FUNCTION -- TO CLOSE OUT TMP ACTIVITY BEFORE RETURNING CONTROL   */ 01231000
*/*       TO THE SYSTEM                                              */ 01232000
*/*  OPERATION --                                                    */ 01233000
*/*           - INITIALIZE TMP TASK RETURN CODE TO SUCCESSFUL CODE   */ 01234000
*/*           - CHECK IF TMP TASK IS BACKGROUND TASK                 */ 01235000
*/*             - IF YES, THEN --                                    */ 01236000
*/*               - SET TMP TASK RETURN CODE FROM LATEST COMMAND     */ 01237000
*/*                 TASK COMPLETION CODE (FROM ECT)                  */ 01238000
*/*               - CALL STACK ROUTINE (TSTACKC) TO CLOSE THE BACK-  */ 01239000
*/*                 GROUND SYSTSIN, SYSTSPRT DATA SETS               */ 01240000
*/*               - CALL UPT/PSCB BUILD ROUTINE (IKJEFLR) TO FREE    */ 01241000
*/*                 THE SPACE FOR THE UPT AND THE PSCB               */ 01242000
*/*               - RESET JSCB POINTER TO THE PSCB (JSCBPSCB) TO     */ 01243000
*/*                 ZERO                                             */ 01244000
*/*           - RESTORE THE TMP TASK TCB PROTECT KEY (TCBPKF) TO     */ 01245000
*/*             THE ORIGINAL ENTRY KEY (TSKPKF)                      */ 01246000
*/*                                                                  */ 01247000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01248000
*/*                                                                  */ 01249000
*/* INPUT -- N/A                                                     */ 01250000
*/*                                                                  */ 01251000
*/* OUTPUT -- N/A                                                    */ 01252000
*/*                                                                  */ 01253000
*/* EXTERNAL REFERENCES -- IKJEFLR (UPT/PSCB BUILD ROUTINE)          */ 01254000
*/*                                                                  */ 01255000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01256000
*/*                                                                  */ 01257000
*/*   RETURN CODE -- N/A                                             */ 01258000
*/*                                                                  */ 01259000
*/* EXIT ERROR -- N/A                                                */ 01260000
*/*                                                                  */ 01261000
*/*   CONDITIONS -- N/A                                              */ 01262000
*/*                                                                  */ 01263000
*/*   RETURN CODE -- N/A                                             */ 01264000
*/*                                                                  */ 01265000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01266000
*TTERM:     /* EP TO CLOSE-TMP-ACTIVITY ROUTINE                      */ 01267000
*    ENTRY;                                                     01S0365 01268000
*                                                               01S0365 01269000
TTERM    DS    0H                                               01S0366 01270000
*    RETURNC = TMPDONEC;            /* SET GOOD RETURN CODE          */ 01271000
*                                                               01S0366 01272000
         SLR   @14,@14                                          01S0366 01273000
         ST    @14,RETURNC                                      01S0366 01274000
*    IF BKGMODE = YES               /* CHK IF BACKGROUND OPERATION   */ 01275000
*      THEN DO;                     /* YES,                          */ 01276000
*                                                               01S0367 01277000
         TM    BKGMODE(WRKAPTR2),B'10000000'                    01S0367 01278000
         BNO   @RF00367                                         01S0367 01279000
*        RETURNC = ECTRTCD;         /* SAVE USER COMPLETION CODE     */ 01280000
*                                                               01S0369 01281000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0369 01282000
         L     @14,ECTRTCD-1(,@14)                              01S0369 01283000
         LA    @14,0(,@14)                                      01S0369 01284000
         ST    @14,RETURNC                                      01S0369 01285000
*        /* STACK TO CLOSE SYSIN/SYSPRINT                            */ 01286000
*        R1 = IOPLPTR;              /* SET STACK PARM LIST PTR       */ 01287000
         L     R1,IOPLPTR(,WRKAPTR1)                            01S0370 01288000
*        IOPLIOPB = STPBPTR;        /* SET STACK PARM BLOCK PTR      */ 01289000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0371 01290000
         ST    @14,IOPLIOPB(,SRPARMLP)                          01S0371 01291000
*        R15 = ADDR(TSTACKC);       /* GO TO INVOKE-STACK-CLOSE      */ 01292000
         LA    R15,TSTACKC                                      01S0372 01293000
*        GEN FLOWS(TSTACKC) (SYNCH  (15));  /* TO STACKC             */ 01294000
*                                                               01S0373 01295000
         SYNCH  (15)                                                    01296000
*        IF JSCBPSCB ^= ZERO        /* CHK IF PSCB EXISTS            */ 01297000
*          THEN DO;                 /* YES                           */ 01298000
         L     @14,CVTPTR                                       01S0374 01299000
         L     @14,CVTTCBP(,@14)                                01S0374 01300000
         L     @14,TCURTCB(,@14)                                01S0374 01301000
         L     @14,TCBJSCB(,@14)                                01S0374 01302000
         L     @14,JSCBPSCB(,@14)                               01S0374 01303000
         LTR   @14,@14                                          01S0374 01304000
         BZ    @RF00374                                         01S0374 01305000
*            RESPECIFY (R2) RSTD;                               01S0376 01306000
*            DO; /*MODESET  KEYADDR(SPROK0) WORKREG(R2)*/       01S0377 01307000
*              R2 = SPROK0; /*GET KEY FORM SAVE LOCATION*/      01S0378 01308000
         L     R2,SPROK0                                        01S0378 01309000
*              SPKA (R2); /*SET PSW KEY*/                       01S0379 01310000
         SPKA  0(R2)                                            01S0379 01311000
*            END; /*MODESET  KEYADDR(SPROK0) WORKREG(R2)*/      01S0380 01312000
*            /* FREEMAIN ANY UPT/RLGB SPACE ACQUIRED                 */ 01313000
*            DO; /*FREEMAIN (EC) LV(LENGTH(UPT)) A(PSCBUPT) SP(SPNM252) 01314000
*/           RESPECIFY (GPR01P) RESTRICTED;                     01S0381 01315000
*            I005 = I005&&I005; /* INIT LIST */                 01S0383 01316000
         XC    I005(10),I005                                    01S0383 01317000
*            I00505='20'X; /*SET TYPE*/                         01S0384 01318000
         MVI   I00505,X'20'                                     01S0384 01319000
*            I00502=LENGTH(UPT); /*LENGTH*/                     01S0385 01320000
         MVC   I00502(3),@CF00123+1                             01S0385 01321000
*            I00504=ADDR(PSCBUPT);  /*ADDR OF ADDR LIST*/       01S0386 01322000
         LA    @14,PSCBUPT(,@14)                                01S0386 01323000
         STCM  @14,7,I00504                                     01S0386 01324000
*            I00506=SPNM252; /*SUBPOOL VALUE*/                  01S0387 01325000
         MVI   I00506,X'FC'                                     01S0387 01326000
*            GPR01P = ADDR(I005); /* REG1 POINTS TO LIST */     01S0388 01327000
         LA    GPR01P,I005                                      01S0388 01328000
*            SVC(5); /*STANDARD-FORM OF GETMAIN*/               01S0389 01329000
         SVC   5                                                01S0389 01330000
*            RESPECIFY (GPR01P) UNRESTRICTED;                   01S0390 01331000
*            END; /*FREEMAIN (EC) LV(LENGTH(UPT)) A(PSCBUPT) SP(SPNM252 01332000
**/                                                             01S0391 01333000
*            DO; /*FREEMAIN (EC) LV(LENGTH(RLGB)) A(PSCBRLGB) SP(SPRLGB 01334000
**/          RESPECIFY (GPR01P) RESTRICTED;                     01S0392 01335000
*            I005 = I005&&I005; /* INIT LIST */                 01S0394 01336000
         XC    I005(10),I005                                    01S0394 01337000
*            I00505='20'X; /*SET TYPE*/                         01S0395 01338000
         MVI   I00505,X'20'                                     01S0395 01339000
*            I00502=LENGTH(RLGB); /*LENGTH*/                    01S0396 01340000
         MVC   I00502(3),@CF03086+1                             01S0396 01341000
*            I00504=ADDR(PSCBRLGB);  /*ADDR OF ADDR LIST*/      01S0397 01342000
         L     @14,CVTPTR                                       01S0397 01343000
         L     @14,CVTTCBP(,@14)                                01S0397 01344000
         L     @14,TCURTCB(,@14)                                01S0397 01345000
         L     @14,TCBJSCB(,@14)                                01S0397 01346000
         L     @14,JSCBPSCB(,@14)                               01S0397 01347000
         LA    @14,PSCBRLGB(,@14)                               01S0397 01348000
         STCM  @14,7,I00504                                     01S0397 01349000
*            I00506=SPRLGB; /*SUBPOOL VALUE*/                   01S0398 01350000
         MVI   I00506,X'E6'                                     01S0398 01351000
*            GPR01P = ADDR(I005); /* REG1 POINTS TO LIST */     01S0399 01352000
         LA    GPR01P,I005                                      01S0399 01353000
*            SVC(5); /*STANDARD-FORM OF GETMAIN*/               01S0400 01354000
         SVC   5                                                01S0400 01355000
*            RESPECIFY (GPR01P) UNRESTRICTED;                   01S0401 01356000
*            END; /*FREEMAIN (EC) LV(LENGTH(RLGB)) A(PSCBRLGB) SP(SPRLG 01357000
*)*/                                                            01S0402 01358000
*            /* FREEMAIN ANY PSCB/LWA SPACE ACQUIRED                 */ 01359000
*            DO; /*FREEMAIN (EC) LV(LENGTH(PSCB)) A(JSCBPSCB) SP(SPNM25 01360000
*)*/         RESPECIFY (GPR01P) RESTRICTED;                     01S0403 01361000
*            I005 = I005&&I005; /* INIT LIST */                 01S0405 01362000
         XC    I005(10),I005                                    01S0405 01363000
*            I00505='20'X; /*SET TYPE*/                         01S0406 01364000
         MVI   I00505,X'20'                                     01S0406 01365000
*            I00502=LENGTH(PSCB); /*LENGTH*/                    01S0407 01366000
         MVC   I00502(3),@CF00912+1                             01S0407 01367000
*            I00504=ADDR(JSCBPSCB);  /*ADDR OF ADDR LIST*/      01S0408 01368000
         L     @14,CVTPTR                                       01S0408 01369000
         L     @14,CVTTCBP(,@14)                                01S0408 01370000
         L     @14,TCURTCB(,@14)                                01S0408 01371000
         L     @14,TCBJSCB(,@14)                                01S0408 01372000
         LA    @14,JSCBPSCB(,@14)                               01S0408 01373000
         STCM  @14,7,I00504                                     01S0408 01374000
*            I00506=SPNM250; /*SUBPOOL VALUE*/                  01S0409 01375000
         MVI   I00506,X'FA'                                     01S0409 01376000
*            GPR01P = ADDR(I005); /* REG1 POINTS TO LIST */     01S0410 01377000
         LA    GPR01P,I005                                      01S0410 01378000
*            SVC(5); /*STANDARD-FORM OF GETMAIN*/               01S0411 01379000
         SVC   5                                                01S0411 01380000
*            RESPECIFY (GPR01P) UNRESTRICTED;                   01S0412 01381000
*            END; /*FREEMAIN (EC) LV(LENGTH(PSCB)) A(JSCBPSCB) SP(SPNM2 01382000
*0)*/                                                           01S0413 01383000
*            JSCBPSCB = ZERO;           /* CLEAR PTR TO PSCB         */ 01384000
         L     @14,CVTPTR                                       01S0414 01385000
         L     @14,CVTTCBP(,@14)                                01S0414 01386000
         L     @06,TCURTCB(,@14)                                01S0414 01387000
         L     @06,TCBJSCB(,@06)                                01S0414 01388000
         SLR   @03,@03                                          01S0414 01389000
         ST    @03,JSCBPSCB(,@06)                               01S0414 01390000
*            DO; /*FREEMAIN (EC) LV(LENGTH(LWA)) A(ASXBLWA) SP(SPLWA)*/ 01391000
*            RESPECIFY (GPR01P) RESTRICTED;                     01S0416 01392000
*            I005 = I005&&I005; /* INIT LIST */                 01S0417 01393000
         XC    I005(10),I005                                    01S0417 01394000
*            I00505='20'X; /*SET TYPE*/                         01S0418 01395000
         MVI   I00505,X'20'                                     01S0418 01396000
*            I00502=LENGTH(LWA); /*LENGTH*/                     01S0419 01397000
         MVC   I00502(3),@CF03087+1                             01S0419 01398000
*            I00504=ADDR(ASXBLWA);  /*ADDR OF ADDR LIST*/       01S0420 01399000
         L     @14,TCUASCB(,@14)                                01S0420 01400000
         L     @14,ASCBASXB(,@14)                               01S0420 01401000
         LA    @14,ASXBLWA(,@14)                                01S0420 01402000
         STCM  @14,7,I00504                                     01S0420 01403000
*            I00506=SPLWA; /*SUBPOOL VALUE*/                    01S0421 01404000
         MVI   I00506,X'FD'                                     01S0421 01405000
*            GPR01P = ADDR(I005); /* REG1 POINTS TO LIST */     01S0422 01406000
         LA    GPR01P,I005                                      01S0422 01407000
*            SVC(5); /*STANDARD-FORM OF GETMAIN*/               01S0423 01408000
         SVC   5                                                01S0423 01409000
*            RESPECIFY (GPR01P) UNRESTRICTED;                   01S0424 01410000
*            END; /*FREEMAIN (EC) LV(LENGTH(LWA)) A(ASXBLWA) SP(SPLWA)* 01411000
*                                                               01S0425 01412000
*            ASXBLWA = ZERO;            /* CLEAR PTR TO LWA          */ 01413000
         L     @14,CVTPTR                                       01S0426 01414000
         L     @14,CVTTCBP(,@14)                                01S0426 01415000
         L     @14,TCUASCB(,@14)                                01S0426 01416000
         L     @14,ASCBASXB(,@14)                               01S0426 01417000
         SLR   @06,@06                                          01S0426 01418000
         ST    @06,ASXBLWA(,@14)                                01S0426 01419000
*            DO; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/       01S0427 01420000
*              R2 = TEPKEY; /*GET KEY FORM SAVE LOCATION*/      01S0428 01421000
         L     R2,TEPKEY(,WRKAPTR2)                             01S0428 01422000
*              SPKA (R2); /*SET PSW KEY*/                       01S0429 01423000
         SPKA  0(R2)                                            01S0429 01424000
*            END; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/      01S0430 01425000
*            RESPECIFY (R2) UNRSTD;                             01S0431 01426000
*          END;                                                 01S0432 01427000
*      END;                                                     01S0433 01428000
*                                                               01S0433 01429000
@RF00374 DS    0H                                               01S0434 01430000
*    RESPECIFY (R14) RSTD;                                      01S0434 01431000
@RF00367 DS    0H                                               01S0435 01432000
*    R14 = ADDR(TMAINX2);           /* SET FOR PSEUDO-RETURN         */ 01433000
         LA    R14,TMAINX2                                      01S0435 01434000
*    RESPECIFY (R14) UNRSTD;                                    01S0436 01435000
*    END  IKJEFT0B;                 /* RETURN TO CALLER              */ 01436000
         B     @EL00004                                         01S0437 01437000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01438000
*/*                                                                  */ 01439000
*/* SEGMENT NAME -- TDOSCAN                                          */ 01440000
*/*                                                                  */ 01441000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01442000
*/*                                                                  */ 01443000
*/* FUNCTION -- TO CALL THE COMMAND SCAN SERVICE ROUTINE TO IDENTIFY */ 01444000
*/*       THE COMMAND NAME CHARACTER GROUP AND CHECK ITS VALIDITY.   */ 01445000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 01446000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH.      */ 01447000
*/*  OPERATION --                                                    */ 01448000
*/*           - SET REGISTER 1 TO POINT TO COMMAND SCAN PARAMETER    */ 01449000
*/*             LIST (CSPL)                                          */ 01450000
*/*           - INVOKE CALLTSSR TO PASS CONTROL TO COMMAND SCAN      */ 01451000
*/*           - RESERVE COMMAND SCAN RETURN CODE                     */ 01452000
*/*                                                                  */ 01453000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01454000
*/*                                                                  */ 01455000
*/* INPUT -- N/A                                                     */ 01456000
*/*                                                                  */ 01457000
*/* OUTPUT -- N/A                                                    */ 01458000
*/*                                                                  */ 01459000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01460000
*/*                                                                  */ 01461000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01462000
*/*                                                                  */ 01463000
*/*   RETURN CODE -- N/A                                             */ 01464000
*/*                                                                  */ 01465000
*/* EXIT ERROR -- N/A                                                */ 01466000
*/*                                                                  */ 01467000
*/*   CONDITIONS -- N/A                                              */ 01468000
*/*                                                                  */ 01469000
*/*   RETURN CODE -- N/A                                             */ 01470000
*/*                                                                  */ 01471000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01472000
*TDOSCAN:   /* EP TO SYNTAX-CHECK-COMMAND-NAME ROUTINE               */ 01473000
*                                                               01S0438 01474000
*    PROC  OPTIONS(NOSAVE,NOSAVEAREA);                          01S0438 01475000
*                                                               01S0438 01476000
TDOSCAN  DS    0H                                               01S0439 01477000
*    R1 = ADDR(CSPL);               /* PTR TO SCAN PARM LIST         */ 01478000
         LR    R1,SRPARMLP                                      01S0439 01479000
*    DO; /*CALLTSSR EP(IKJSCAN)*/                               01S0440 01480000
*      RESPECIFY GPR01P RSTD;                                   01S0441 01481000
*      IF CVTSCAN = 0                                           01S0442 01482000
*        THEN                                                   01S0442 01483000
         L     @14,CVTPTR                                       01S0442 01484000
         L     @14,CVTSCAN(,@14)                                01S0442 01485000
         LTR   @14,@14                                          01S0442 01486000
         BNZ   @RF00442                                         01S0442 01487000
*          GEN(LINK EP=IKJSCAN);                                01S0443 01488000
         LINK EP=IKJSCAN                                                01489000
*        ELSE                                                   01S0444 01490000
*          CALL CVTSCAN;                                        01S0444 01491000
         B     @RC00442                                         01S0444 01492000
@RF00442 L     @06,CVTPTR                                       01S0444 01493000
         L     @15,CVTSCAN(,@06)                                01S0444 01494000
         BALR  @14,@15                                          01S0444 01495000
*      RESPECIFY GPR01P UNRSTD;                                 01S0445 01496000
@RC00442 DS    0H                                               01S0446 01497000
*    END;          /* INVOKE COMMAND SCAN           */          01S0446 01498000
*    RCODE = R15;                   /* RESERVE RETURN CODE           */ 01499000
*                                                               01S0447 01500000
         ST    R15,RCODE(,WRKAPTR1)                             01S0447 01501000
*    GEN(SVC   3);                  /* RETURN TO CALLER              */ 01502000
         SVC   3                                                        01503000
*    RETURN;                                                    01S0449 01504000
@EL00005 DS    0H                                               01S0449 01505000
@EF00005 DS    0H                                               01S0449 01506000
@ER00005 BR    @14                                              01S0449 01507000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01508000
*/*                                                                  */ 01509000
*/* SEGMENT NAME -- TIDNTC1                                          */ 01510000
*/*                                                                  */ 01511000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01512000
*/*                                                                  */ 01513000
*/* FUNCTION -- TO PROCESS THE INPUT LINE FOUND TO BE SYNTACTICALLY  */ 01514000
*/*       INVALID BY COMMAND SCAN                                    */ 01515000
*/*  OPERATION --                                                    */ 01516000
*/*           - FREEMAIN THE COMMAND SCAN BUFFER                     */ 01517000
*/*           - CHECK IF ENTRY WAS NULL LINE                         */ 01518000
*/*             - IF YES, AND POST-ABEND PROCESSING IS IN CONTROL -  */ 01519000
*/*               - INVOKE STACK (DELETE) TO CLEAR INPUT STACK       */ 01520000
*/*               - SET FLAG TO CAUSE SUBTASKS TO BE STARTED         */ 01521000
*/*                 (DOPSTRT)                                        */ 01522000
*/*               - IF IS NULL LINE BUT POST-ABEND PROCESSING IS NOT */ 01523000
*/*                 IN CONTROL, SET FLAG TO CAUSE PUTGET FOR NEXT    */ 01524000
*/*                 COMMAND ENTRY (DOGETC)                           */ 01525000
*/*             - IF ENTRY WAS NOT NULL LINE --                      */ 01526000
*/*               - SET UP INVALID-COMMAND-NAME MESSAGE              */ 01527000
*/*               - SET ISSUE-MESSAGE FLAG, DOPUTM                   */ 01528000
*/*                                                                  */ 01529000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01530000
*/*                                                                  */ 01531000
*/* INPUT -- N/A                                                     */ 01532000
*/*                                                                  */ 01533000
*/* OUTPUT -- N/A                                                    */ 01534000
*/*                                                                  */ 01535000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01536000
*/*                                                                  */ 01537000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01538000
*/*                                                                  */ 01539000
*/*   RETURN CODE -- N/A                                             */ 01540000
*/*                                                                  */ 01541000
*/* EXIT ERROR -- N/A                                                */ 01542000
*/*                                                                  */ 01543000
*/*   CONDITIONS -- N/A                                              */ 01544000
*/*                                                                  */ 01545000
*/*   RETURN CODE -- N/A                                             */ 01546000
*/*                                                                  */ 01547000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01548000
*TIDNTC1:   /* EP TO PROCESS-INVALID-LINE ROUTINE                    */ 01549000
*    ENTRY;                                                     01S0450 01550000
*                                                               01S0450 01551000
TIDNTC1  DS    0H                                               01S0451 01552000
*    R0 = SPL1+CSPLCBUF->CBUFLNG;   /* SET LENGTH                    */ 01553000
         L     @14,CSPLCBUF(,SRPARMLP)                          01S0451 01554000
         L     R0,@CF00093                                      01S0451 01555000
         AH    R0,CBUFLNG(,@14)                                 01S0451 01556000
*    R1 = CSPLCBUF;                 /* PTR TO AREA TO FREEMAIN       */ 01557000
         LR    R1,@14                                           01S0452 01558000
*    GEN(FREEMAIN R,LV=(0),A=(1));  /* TO FREEMAIN                   */ 01559000
         FREEMAIN R,LV=(0),A=(1)                                        01560000
*    IF CSOANOC = YES               /* CHK IF NULL LINE              */ 01561000
*      THEN DO;                     /* YES,                          */ 01562000
         L     @14,CSPLOA(,SRPARMLP)                            01S0454 01563000
         TM    CSOANOC(@14),B'00010000'                         01S0454 01564000
         BNO   @RF00454                                         01S0454 01565000
*        IF TMPSCTRL=YES            /* CHECK FOR STAI IN CONTROL     */ 01566000
*          THEN DO;                 /* YES,                          */ 01567000
*                                                               01S0456 01568000
         TM    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0456 01569000
         BNO   @RF00456                                         01S0456 01570000
*            R1 = ADDR(IOPL);       /* SET STACK PARM LIST PTR       */ 01571000
         LR    R1,SRPARMLP                                      01S0458 01572000
*            IOPLIOPB=STPBPTR;      /* SET STACK PARM BLOCK PTR      */ 01573000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0459 01574000
         ST    @14,IOPLIOPB(,SRPARMLP)                          01S0459 01575000
*            R15 = ADDR(TSTACKA);   /* PTR TO ISSUE-STACK RTN        */ 01576000
         LA    R15,TSTACKA                                      01S0460 01577000
*            GEN FLOWS(TSTACKA) (SYNCH  (15));  /* TO DO STACK       */ 01578000
*                                                               01S0461 01579000
         SYNCH  (15)                                                    01580000
*            DOPSTRT = YES;         /* SET TO START SUBTASKS         */ 01581000
         OI    DOPSTRT(WRKAPTR1),B'00100000'                    01S0462 01582000
*          END;                                                 01S0463 01583000
*          ELSE                     /* ABEND NOT IN CONTROL,         */ 01584000
*            DOGETC = YES;          /*   GET NEXT COMMAND            */ 01585000
         B     @RC00456                                         01S0464 01586000
@RF00456 OI    DOGETC(WRKAPTR1),B'00010000'                     01S0464 01587000
*      END;                                                     01S0465 01588000
*      ELSE DO;                     /* ENTRY IS NOT NULL LINE        */ 01589000
         B     @RC00454                                         01S0466 01590000
@RF00454 DS    0H                                               01S0467 01591000
*        MSGSEG(1)=ADDR(MSG56621);  /* PTR TO MESSAGE TEXT           */ 01592000
         L     @14,@CA00130                                     01S0467 01593000
         ST    @14,MSGSEG(,WRKAPTR1)                            01S0467 01594000
*        DOPUTM = YES;              /* ISSUE-MESSAGE FLAG            */ 01595000
         OI    DOPUTM(WRKAPTR1),B'10000000'                     01S0468 01596000
*      END;                                                     01S0469 01597000
*                                                               01S0469 01598000
*    RESPECIFY (R14) RSTD;                                      01S0470 01599000
@RC00454 DS    0H                                               01S0471 01600000
*    R14 = ADDR(TIDNTCA);           /* SET FOR PSEUDO-RETURN         */ 01601000
         LA    R14,TIDNTCA                                      01S0471 01602000
*    RESPECIFY (R14) UNRSTD;                                    01S0472 01603000
*    RETURN;                                                    01S0473 01604000
         B     @EL00005                                         01S0473 01605000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01606000
*/*                                                                  */ 01607000
*/* SEGMENT NAME -- TNSCHK                                           */ 01608000
*/*                                                                  */ 01609000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01610000
*/*                                                                  */ 01611000
*/* FUNCTION -- TO CHECK THE COMMAND NAME ENTERED AGAINST THE TABLE  */ 01612000
*/*       OF COMMAND NAMES NOT SUPPORTED IN BACKGROUND, NSCPTABL     */ 01613000
*/*  OPERATION --                                                    */ 01614000
*/*           - COMPARE NAME ENTERED WITH EACH NAME IN LIST UNTIL    */ 01615000
*/*             NAME IS FOUND (SET DODONE FLAG) OR END OF LIST IS    */ 01616000
*/*             REACHED ('FF' FLAG)                                  */ 01617000
*/*           - IF ENTRY NAME WAS FOUND IN TABLE --                  */ 01618000
*/*             - SET UP UNSUPPORTED-COMMAND-NAME-IN-BACKGROUND      */ 01619000
*/*               MESSAGE                                            */ 01620000
*/*             - SYNCH TO MESSAGE ISSUING ROUTINE -- TPUTL          */ 01621000
*/*                                                                  */ 01622000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01623000
*/*                                                                  */ 01624000
*/* INPUT -- N/A                                                     */ 01625000
*/*                                                                  */ 01626000
*/* OUTPUT -- N/A                                                    */ 01627000
*/*                                                                  */ 01628000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01629000
*/*                                                                  */ 01630000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01631000
*/*                                                                  */ 01632000
*/*   RETURN CODE -- N/A                                             */ 01633000
*/*                                                                  */ 01634000
*/* EXIT ERROR -- N/A                                                */ 01635000
*/*                                                                  */ 01636000
*/*   CONDITIONS -- N/A                                              */ 01637000
*/*                                                                  */ 01638000
*/*   RETURN CODE -- N/A                                             */ 01639000
*/*                                                                  */ 01640000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01641000
*TNSCHK:    /* EP TO CHECK-FOR-NONSUPPORTED-COMMAND-NAME ROUTINE     */ 01642000
*    ENTRY;                                                     01S0474 01643000
*                                                               01S0474 01644000
TNSCHK   DS    0H                                               01S0475 01645000
*    NSCPNAMP = ADDR(NSCPTABL);     /* SET PTR TO START OF TABLE     */ 01646000
         L     NSCPNAMP,@CV00139                                01S0475 01647000
*    DO WHILE NSCPLGC ^= FFQUIT     /* CONTINUE TO SEARCH TABLE TO   */ 01648000
*        & DODONE ^= YES;           /*   MATCH OR END OF TABLE       */ 01649000
         B     @DE00476                                         01S0476 01650000
@DL00476 DS    0H                                               01S0477 01651000
*      IF CSOACNM->CMDNAME(1:CSOALNM)=NSCPNAM  /* CHK FOR MATCH OF   */ 01652000
*          & CSOALNM = NSCPLNG      /* NAME AND NAME-LENGTH          */ 01653000
*        THEN                       /* YES,                          */ 01654000
         L     @14,CSPLOA(,SRPARMLP)                            01S0477 01655000
         L     @06,CSOACNM(,@14)                                01S0477 01656000
         LH    @14,CSOALNM(,@14)                                01S0477 01657000
         LR    @03,@14                                          01S0477 01658000
         BCTR  @03,0                                            01S0477 01659000
         EX    @03,@SC03114                                     01S0477 01660000
         BNE   @RF00477                                         01S0477 01661000
         CH    @14,NSCPLNG(,NSCPNAMP)                           01S0477 01662000
         BNE   @RF00477                                         01S0477 01663000
*          DODONE = YES;            /*   SET MATCH-FOUND FLAG        */ 01664000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0478 01665000
*      NSCPNAMP = NSCPNAMP+D10;     /* STEP PTR TO NEXT NAME FIELD   */ 01666000
@RF00477 AL    NSCPNAMP,@CF00052                                01S0479 01667000
*    END;                                                       01S0480 01668000
@DE00476 CLC   NSCPLGC(2,NSCPNAMP),@CB00058                     01S0480 01669000
         BE    @DC00476                                         01S0480 01670000
         TM    DODONE(WRKAPTR1),B'00001000'                     01S0480 01671000
         BNO   @DL00476                                         01S0480 01672000
@DC00476 DS    0H                                               01S0481 01673000
*    IF DODONE = YES                /* CHK FOR MATCH-FOUND FLAG      */ 01674000
*      THEN DO;                     /* YES,                          */ 01675000
         TM    DODONE(WRKAPTR1),B'00001000'                     01S0481 01676000
         BNO   @RF00481                                         01S0481 01677000
*        ACTSL(1:20) = MSG56650(1:20);  /*  SET                      */ 01678000
         L     @14,@CA00132                                     01S0483 01679000
         MVC   ACTSL(20,WRKAPTR1),MSG56650-MSG56650(@14)        01S0483 01680000
*        ACTSEG(4) = ADDR(MBRSEG);      /*  UP                       */ 01681000
         LA    @14,MBRSEG(,WRKAPTR1)                            01S0484 01682000
         ST    @14,ACTSEG+12(,WRKAPTR1)                         01S0484 01683000
*        MBRSLEN = D12;                 /*  NON-SUPPORTED-NAME       */ 01684000
         MVC   MBRSLEN(2,WRKAPTR1),@CH00054                     01S0485 01685000
*        MBRSOFF = D10;                 /*  MESSAGE                  */ 01686000
         MVC   MBRSOFF(2,WRKAPTR1),@CH00052                     01S0486 01687000
*        MBRSTXT = CSOACNM->CMDNAME(1:CSOALNM);  /*  FIELDS          */ 01688000
         MVI   MBRSTXT+1(WRKAPTR1),C' '                         01S0487 01689000
         MVC   MBRSTXT+2(6,WRKAPTR1),MBRSTXT+1(WRKAPTR1)        01S0487 01690000
         L     @14,CSPLOA(,SRPARMLP)                            01S0487 01691000
         LH    @06,CSOALNM(,@14)                                01S0487 01692000
         BCTR  @06,0                                            01S0487 01693000
         L     @14,CSOACNM(,@14)                                01S0487 01694000
         EX    @06,@SM03116                                     01S0487 01695000
*        RESPECIFY (R2) RSTD;                                   01S0488 01696000
*        R2 = PTPBPTR;              /* SET PTR TO PARM BLOCK         */ 01697000
         L     R2,PTPBPTR(,WRKAPTR1)                            01S0489 01698000
*        R15 = ADDR(TPUTL);         /* PTR TO CALL-PUTLINE RTN       */ 01699000
         LA    R15,TPUTL                                        01S0490 01700000
*        GEN FLOWS(TPUTL) (SYNCH  (15));  /* TO ISSUE PUTLINE */        01701000
         SYNCH  (15)                                                    01702000
*      END;                                                     01S0492 01703000
*                                                               01S0492 01704000
*    RESPECIFY (R14) RSTD;                                      01S0493 01705000
@RF00481 DS    0H                                               01S0494 01706000
*    R14 = ADDR(TIDNTCB);           /* SET FOR PSEUDO-RETURN         */ 01707000
         LA    R14,TIDNTCB                                      01S0494 01708000
*    RETURN;                        /* RETURN TO CALLER              */ 01709000
         B     @EL00005                                         01S0495 01710000
*    RESPECIFY (R14) UNRSTD;                                    01S0496 01711000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01712000
*/*                                                                  */ 01713000
*/* SEGMENT NAME -- TIDNTC2                                          */ 01714000
*/*                                                                  */ 01715000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01716000
*/*                                                                  */ 01717000
*/* FUNCTION -- TO PASS CONTROL TO THE TIME COMMAND PROCESSOR        */ 01718000
*/*  OPERATION --                                                    */ 01719000
*/*           - SET FLAG TO CAUSE FREEMAIN OF COMMAND BUFFER,        */ 01720000
*/*             DOFRECB                                              */ 01721000
*/*           - SET UP CPPL FOR TIME COMMAND PROCESSOR               */ 01722000
*/*           - CHECK IF TIME WAS LOADED (TMPTIME NOT ZERO) --       */ 01723000
*/*             - IF YES, THEN --                                    */ 01724000
*/*               - SYNCH TO TIME COMMAND PROCESSOR                  */ 01725000
*/*               - SET FLAG TO CAUSE PUTGET FOR NEXT COMMAND ENTRY, */ 01726000
*/*                 DOGETC                                           */ 01727000
*/*             - IF TIME WAS NOT LOADED --                          */ 01728000
*/*               - SET UP COMMAND-NOT-FOUND MESSAGE                 */ 01729000
*/*               - SET ISSUE-MESSAGE FLAG, DOPUTM                   */ 01730000
*/*                                                                  */ 01731000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01732000
*/*                                                                  */ 01733000
*/* INPUT -- N/A                                                     */ 01734000
*/*                                                                  */ 01735000
*/* OUTPUT -- N/A                                                    */ 01736000
*/*                                                                  */ 01737000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01738000
*/*                                                                  */ 01739000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01740000
*/*                                                                  */ 01741000
*/*   RETURN CODE -- N/A                                             */ 01742000
*/*                                                                  */ 01743000
*/* EXIT ERROR -- N/A                                                */ 01744000
*/*                                                                  */ 01745000
*/*   CONDITIONS -- N/A                                              */ 01746000
*/*                                                                  */ 01747000
*/*   RETURN CODE -- N/A                                             */ 01748000
*/*                                                                  */ 01749000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01750000
*TIDNTC2:   /* EP TO INVOKE-TIME-PROCESSOR ROUTINE                   */ 01751000
*    ENTRY;                                                     01S0497 01752000
*                                                               01S0497 01753000
TIDNTC2  DS    0H                                               01S0498 01754000
*    DOFRECB = YES;                 /* TO FREE COMMAND BUFFER        */ 01755000
*                                                               01S0498 01756000
         OI    DOFRECB(WRKAPTR1),B'01000000'                    01S0498 01757000
*    R1 = ADDR(CPPL);               /* SET PTR TO CP PARM LIST       */ 01758000
         L     @14,CPPLPTR(,WRKAPTR1)                           01S0499 01759000
         LR    R1,@14                                           01S0499 01760000
*    CPPL = TPL;                    /* INITIALIZE LIST               */ 01761000
         MVC   CPPL(16,@14),TPL(WRKAPTR1)                       01S0500 01762000
*    CPPLCBUF = CSPLCBUF;           /* SET UP TIME BUFFER            */ 01763000
*                                                               01S0501 01764000
         L     @06,CSPLCBUF(,SRPARMLP)                          01S0501 01765000
         ST    @06,CPPLCBUF(,@14)                               01S0501 01766000
*    R15 = TMPTIME;                 /* GET EP TO TIME ROUTINE        */ 01767000
         L     R15,TMPTIME(,WRKAPTR2)                           01S0502 01768000
*    RESPECIFY (R2) UNRSTD;                                     01S0503 01769000
*    IF R15 ^= ZERO                 /* WAS TIME LOADED               */ 01770000
*      THEN DO;                     /* YES, INVOKE TIME CP           */ 01771000
         LTR   R15,R15                                          01S0504 01772000
         BZ    @RF00504                                         01S0504 01773000
*        GEN(SYNCH    (15));        /* TO INVOKE TIME                */ 01774000
         SYNCH    (15)                                                  01775000
*        DOGETC = YES;              /* TO GET NEXT COMMAND ENTRY     */ 01776000
         OI    DOGETC(WRKAPTR1),B'00010000'                     01S0507 01777000
*      END;                                                     01S0508 01778000
*      ELSE DO;                     /* TIME CP NOT LOADED,           */ 01779000
         B     @RC00504                                         01S0509 01780000
@RF00504 DS    0H                                               01S0510 01781000
*        DOPUTM = YES;              /* ISSUE COMMAND-NOT-FOUND MSG   */ 01782000
         OI    DOPUTM(WRKAPTR1),B'10000000'                     01S0510 01783000
*        MSGSEG(1)=ADDR(MSG56622);         /* PTR TO MESSAGE TEXT    */ 01784000
         L     @14,@CA00131                                     01S0511 01785000
         ST    @14,MSGSEG(,WRKAPTR1)                            01S0511 01786000
*      END;                                                     01S0512 01787000
*                                                               01S0512 01788000
*    RESPECIFY (R14) RSTD;                                      01S0513 01789000
@RC00504 DS    0H                                               01S0514 01790000
*    R14 = ADDR(TIDNTCC);           /* SET FOR PSEUDO-RETURN         */ 01791000
         LA    R14,TIDNTCC                                      01S0514 01792000
*    RETURN;                        /* RETURN TO CALLER              */ 01793000
         B     @EL00005                                         01S0515 01794000
*    RESPECIFY (R14) UNRSTD;                                    01S0516 01795000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01796000
*/*                                                                  */ 01797000
*/* SEGMENT NAME -- TIMPLEX                                          */ 01798000
*/*                                                                  */ 01799000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01800000
*/*                                                                  */ 01801000
*/* FUNCTION -- TO SET UP ACTIVATION OF IMPLICIT EXEC FUNCTION       */ 01802000
*/*  OPERATION --                                                    */ 01803000
*/*           - RESET IMPLICIT=EXEC-PENDING FLAG, DOIMPLX            */ 01804000
*/*           - CHECK FOR EXPLICIT-IMPLICIT-EXEC ENTRY FLAG,         */ 01805000
*/*             CSAOEXEC, ON AND FOR FIRST-EXEC FLAG, FRSTEX, OFF    */ 01806000
*/*             - IF BOTH YES, THEN --                               */ 01807000
*/*               - SET FIRST-EXEC FLAG ON                           */ 01808000
*/*               - FREEMAIN PREVIOUS COMMAND BUFFER                 */ 01809000
*/*               - SET TPL COMMAND BUFFER POINTER, TPLCBUF, TO      */ 01810000
*/*                 POINT TO COMMAND SCAN BUFFER                     */ 01811000
*/*             - IF NOT BOTH, THEN --                               */ 01812000
*/*               - RESET FIRST-EXEC FLAG, FRSTEX                    */ 01813000
*/*           - CHECK IF CURRENT COMMAND NAME IS EXEC AND IS NOT     */ 01814000
*/*             FROM A PENDING-IMPLICIT-EXEC ATTEMPT                 */ 01815000
*/*             - IF YES, FAILED TO FIND AN EXEC COMMAND PROCESSOR   */ 01816000
*/*               - SET UP COMMAND-NAME-NOT-FOUND MESSAGE            */ 01817000
*/*               - SET ISSUE-MESSAGE FLAG, DOPUTM                   */ 01818000
*/*             - IF NO, AN IMPLICIT-EXEC IS PENDING, THEN --        */ 01819000
*/*               - SET UP SIMULATED EXEC COMMAND BUFFER PARAMETERS  */ 01820000
*/*               - SET UP COMMAND SCAN PARAMETER BLOCK TO INDICATE  */ 01821000
*/*                 EXEC AS CURRENT COMMAND NAME                     */ 01822000
*/*                                                                  */ 01823000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01824000
*/*                                                                  */ 01825000
*/* INPUT -- N/A                                                     */ 01826000
*/*                                                                  */ 01827000
*/* OUTPUT -- N/A                                                    */ 01828000
*/*                                                                  */ 01829000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01830000
*/*                                                                  */ 01831000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01832000
*/*                                                                  */ 01833000
*/*   RETURN CODE -- N/A                                             */ 01834000
*/*                                                                  */ 01835000
*/* EXIT ERROR -- N/A                                                */ 01836000
*/*                                                                  */ 01837000
*/*   CONDITIONS -- N/A                                              */ 01838000
*/*                                                                  */ 01839000
*/*   RETURN CODE -- N/A                                             */ 01840000
*/*                                                                  */ 01841000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01842000
*TIMPLEX:   /* EP TO SET-UP-IMPLICIT-EXEC ROUTINE                    */ 01843000
*                                                               01S0517 01844000
*    ENTRY;                                                     01S0517 01845000
*                                                               01S0517 01846000
TIMPLEX  DS    0H                                               01S0518 01847000
*    IF DOIMPLX = YES               /* CHK TO DO IMPLI-EXEC NOW      */ 01848000
*      THEN DO;                     /* YES,                          */ 01849000
*                                                               01S0518 01850000
         TM    DOIMPLX(WRKAPTR1),B'01000000'                    01S0518 01851000
         BNO   @RF00518                                         01S0518 01852000
*        DOIMPLX = NO;              /* RESET DO IMPLI-EXEC FLAG      */ 01853000
         NI    DOIMPLX(WRKAPTR1),B'10111111'                    01S0520 01854000
*        IF CSOAEXEC = YES          /* CHK FOR EXPL/IMPLEXEC         */ 01855000
*            & FRSTEX = NO          /*    & FIRST EXEC NOW           */ 01856000
*          THEN DO;                 /* YES,                          */ 01857000
         L     @14,CSPLOA(,SRPARMLP)                            01S0521 01858000
         TM    CSOAEXEC(@14),B'00000100'                        01S0521 01859000
         BNO   @RF00521                                         01S0521 01860000
         TM    FRSTEX(WRKAPTR1),B'00010000'                     01S0521 01861000
         BNZ   @RF00521                                         01S0521 01862000
*            FRSTEX=YES;            /* INDICATE FIRST IMPLICIT EXEC  */ 01863000
         OI    FRSTEX(WRKAPTR1),B'00010000'                     01S0523 01864000
*            R0=SPL1+CBUFLNG;       /* LEN OF BUFFER + SPL1          */ 01865000
         L     @14,TPLCBUF(,WRKAPTR1)                           01S0524 01866000
         L     R0,@CF00093                                      01S0524 01867000
         AH    R0,CBUFLNG(,@14)                                 01S0524 01868000
*            R1 = TPLCBUF;          /* ADDR OF BUFFER TO BE FREED    */ 01869000
         LR    R1,@14                                           01S0525 01870000
*            GEN(FREEMAIN R,LV=(0),A=(1));                      01S0526 01871000
         FREEMAIN R,LV=(0),A=(1)                                        01872000
*            TPLCBUF = CSPLCBUF;                                01S0527 01873000
         L     @14,CSPLCBUF(,SRPARMLP)                          01S0527 01874000
         ST    @14,TPLCBUF(,WRKAPTR1)                           01S0527 01875000
*          END;                                                 01S0528 01876000
*          ELSE                     /* NO, ALREADY DONE              */ 01877000
*            FRSTEX=NO;             /* INDICATE NOT FIRST EXEC       */ 01878000
*                                                               01S0529 01879000
         B     @RC00521                                         01S0529 01880000
@RF00521 NI    FRSTEX(WRKAPTR1),B'11101111'                     01S0529 01881000
*        IF CSOACNM->CMDNAME(1:LENGTH(EXECCMD))=EXECCMD  /*          */ 01882000
*            & CSOALNM=LENGTH(EXECCMD)  /* CHK FOR EXEC CMD          */ 01883000
*            & FRSTEX=NO            /*   & NOT FIRST IMPLICIT EXEC   */ 01884000
*          THEN DO;                 /* NO EXEC CMD PROCESSOR FOUND   */ 01885000
@RC00521 L     @14,CSPLOA(,SRPARMLP)                            01S0530 01886000
         L     @06,CSOACNM(,@14)                                01S0530 01887000
         CLC   CMDNAME(4,@06),EXECCMD                           01S0530 01888000
         BNE   @RF00530                                         01S0530 01889000
         CLC   CSOALNM(2,@14),@CH00045                          01S0530 01890000
         BNE   @RF00530                                         01S0530 01891000
         TM    FRSTEX(WRKAPTR1),B'00010000'                     01S0530 01892000
         BNZ   @RF00530                                         01S0530 01893000
*            MSGSEG(1)=ADDR(MSG56622);  /* SET MSG PTR               */ 01894000
         L     @14,@CA00131                                     01S0532 01895000
         ST    @14,MSGSEG(,WRKAPTR1)                            01S0532 01896000
*            DOPUTM = YES;          /* SET TO DO MESSAGE             */ 01897000
         OI    DOPUTM(WRKAPTR1),B'10000000'                     01S0533 01898000
*          END;                                                 01S0534 01899000
*          ELSE DO;                 /* YES, EXEC COMMAND FOUND       */ 01900000
         B     @RC00530                                         01S0535 01901000
@RF00530 DS    0H                                               01S0536 01902000
*            CSPLCBUF->CBUFOFF=ZERO;  /* RESET BUFFER OFFSET         */ 01903000
         L     @14,CSPLCBUF(,SRPARMLP)                          01S0536 01904000
         SLR   @06,@06                                          01S0536 01905000
         STH   @06,CBUFOFF(,@14)                                01S0536 01906000
*            CSOACNM=ADDR(EXECCMD);   /* PTR TO CMD NAME             */ 01907000
         L     @14,CSPLOA(,SRPARMLP)                            01S0537 01908000
         LA    @06,EXECCMD                                      01S0537 01909000
         ST    @06,CSOACNM(,@14)                                01S0537 01910000
*            CSOALNM=LENGTH(EXECCMD); /* SET NAME LENGTH             */ 01911000
         MVC   CSOALNM(2,@14),@CH00045                          01S0538 01912000
*          END;                                                 01S0539 01913000
*      END;                                                     01S0540 01914000
*                                                               01S0540 01915000
@RC00530 DS    0H                                               01S0541 01916000
*    RESPECIFY (R14) RSTD;                                      01S0541 01917000
@RF00518 DS    0H                                               01S0542 01918000
*    R14 = ADDR(TINVOKA);           /* SET FOR PSEUDO-RETURN         */ 01919000
         LA    R14,TINVOKA                                      01S0542 01920000
*    RETURN;                        /* RETURN TO CALLER              */ 01921000
         B     @EL00005                                         01S0543 01922000
*    RESPECIFY (R14) UNRSTD;                                    01S0544 01923000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01924000
*/*                                                                  */ 01925000
*/* SEGMENT NAME -- TFRECBF                                          */ 01926000
*/*                                                                  */ 01927000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01928000
*/*                                                                  */ 01929000
*/* FUNCTION -- TO FREE THE COMMAND SCAN BUFFER HOLDING TIME NAME    */ 01930000
*/*  OPERATION --                                                    */ 01931000
*/*           - RESET FREE-COMMAND-BUFFER FLAG, DOFRECB, TO BYPASS   */ 01932000
*/*             FREEING THE STANDARD COMMAND BUFFER WHICH WAS NOT    */ 01933000
*/*             USED IN THE CASE OF TIME                             */ 01934000
*/*           - FREEMAIN THE BUFFER LOCATED BY THE CPPLCBUF FIELD    */ 01935000
*/*           - REINITIALIZE THE CPPL FROM THE TPL                   */ 01936000
*/*                                                                  */ 01937000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 01938000
*/*                                                                  */ 01939000
*/* INPUT -- N/A                                                     */ 01940000
*/*                                                                  */ 01941000
*/* OUTPUT -- N/A                                                    */ 01942000
*/*                                                                  */ 01943000
*/* EXTERNAL REFERENCES -- N/A                                       */ 01944000
*/*                                                                  */ 01945000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 01946000
*/*                                                                  */ 01947000
*/*   RETURN CODE -- N/A                                             */ 01948000
*/*                                                                  */ 01949000
*/* EXIT ERROR -- N/A                                                */ 01950000
*/*                                                                  */ 01951000
*/*   CONDITIONS -- N/A                                              */ 01952000
*/*                                                                  */ 01953000
*/*   RETURN CODE -- N/A                                             */ 01954000
*/*                                                                  */ 01955000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01956000
*TFRECBF:   /* EP TO FREE-COMMAND-SCAN-BUFFER-FOR-TIME ROUTINE       */ 01957000
*                                                               01S0545 01958000
*    ENTRY;                                                     01S0545 01959000
*                                                               01S0545 01960000
TFRECBF  DS    0H                                               01S0546 01961000
*    DOFRECB = NO;                  /* RESET DO-FREE-CMD-BUFFER FLAG */ 01962000
         NI    DOFRECB(WRKAPTR1),B'10111111'                    01S0546 01963000
*    R0 = CPPLCBUF->CBUFLNG+SPL1;   /* GET BUFFER LENGTH AND         */ 01964000
         L     @14,CPPLPTR(,WRKAPTR1)                           01S0547 01965000
         L     @14,CPPLCBUF(,@14)                               01S0547 01966000
         L     R0,@CF00093                                      01S0547 01967000
         AH    R0,CBUFLNG(,@14)                                 01S0547 01968000
*                                   /*   ADD THE SUBPOOL NUMBER      */ 01969000
*    R1 = CPPLCBUF;                 /* GET BUFFER POINTER            */ 01970000
         LR    R1,@14                                           01S0548 01971000
*    GEN(FREEMAIN R,LV=(0),A=(1));  /* FREE CMD BUFFER               */ 01972000
*                                                               01S0549 01973000
         FREEMAIN R,LV=(0),A=(1)                                        01974000
*    CPPLCBUF = TPLCBUF;            /* RESTORE PREV CMD BUFFER PTR   */ 01975000
         L     @14,CPPLPTR(,WRKAPTR1)                           01S0550 01976000
         L     @06,TPLCBUF(,WRKAPTR1)                           01S0550 01977000
         ST    @06,CPPLCBUF(,@14)                               01S0550 01978000
*    CPPLPS = TPLPS;                /* RESTORE PREV PARM LIST        */ 01979000
*                                                               01S0551 01980000
         MVC   CPPLPS(12,@14),TPLPS(WRKAPTR1)                   01S0551 01981000
*    RESPECIFY (R14) RSTD;                                      01S0552 01982000
*    R14 = ADDR(TINVOKB);           /* SET FOR PSEUDO-RETURN         */ 01983000
         LA    R14,TINVOKB                                      01S0553 01984000
*    RETURN;                        /* RETURN TO CALLER              */ 01985000
         B     @EL00005                                         01S0554 01986000
*    RESPECIFY (R14) UNRSTD;                                    01S0555 01987000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 01988000
*/*                                                                  */ 01989000
*/* SEGMENT NAME -- TNOCMDF                                          */ 01990000
*/*                                                                  */ 01991000
*/* DESCRIPTIVE NAME -- N/A                                          */ 01992000
*/*                                                                  */ 01993000
*/* FUNCTION -- TO ISSUE THE NO-COMMAND-NAME-FOUND MESSAGE           */ 01994000
*/*  OPERATION --                                                    */ 01995000
*/*           - RESET ISSUE-MESSAGE-NOW FLAG, DOPUTM                 */ 01996000
*/*           - SET NUMBER OF SEGMENTS TO ONE                        */ 01997000
*/*           - SYNCH TO TPUTL ROUTINE TO ISSUE MESSAGE              */ 01998000
*/*           - IF ABEND CODE '806' IS INDICATED AND BACKGROUND      */ 01999000
*/*             MODE IS CURRENT, THEN --                             */ 02000000
*/*             - SET TERMINATE-SESSION FLAG, DODONE                 */ 02001000
*/*           - IF IS NOT '806' IN BACKGROUND, THEN --               */ 02002000
*/*             - IF ATTENTION PROCESSING IS IN CONTROL, SET FLUSH   */ 02003000
*/*               ENABLE FLAG, SPBFLUSH, FOR STACK PROCESSOR         */ 02004000
*/*             - SYNCH TO TSTACKA ROUTINE TO PERFORM STACK-DELETE   */ 02005000
*/*             - SET STACK-FLUSH-INHIBITED FLAG, SPBFLUSH           */ 02006000
*/*             - INVOKE TCLEARQ TO EMPTY INPUT QUEUE                */ 02007000
*/*             - SET GET-NEW-COMMAND-ENTRY FLAG, DOGETC             */ 02008000
*/*                                                                  */ 02009000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02010000
*/*                                                                  */ 02011000
*/* INPUT -- N/A                                                     */ 02012000
*/*                                                                  */ 02013000
*/* OUTPUT -- N/A                                                    */ 02014000
*/*                                                                  */ 02015000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02016000
*/*                                                                  */ 02017000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02018000
*/*                                                                  */ 02019000
*/*   RETURN CODE -- N/A                                             */ 02020000
*/*                                                                  */ 02021000
*/* EXIT ERROR -- N/A                                                */ 02022000
*/*                                                                  */ 02023000
*/*   CONDITIONS -- N/A                                              */ 02024000
*/*                                                                  */ 02025000
*/*   RETURN CODE -- N/A                                             */ 02026000
*/*                                                                  */ 02027000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02028000
*TNOCMDF:   /* EP TO ISSUE-NO-COMMAND-FOUND-MESSAGE ROUTINE          */ 02029000
*    ENTRY;                                                     01S0556 02030000
*                                                               01S0556 02031000
TNOCMDF  DS    0H                                               01S0557 02032000
*    DOPUTM = NO;                   /* RESET ISSUE-MSG-NOW FLAG      */ 02033000
         NI    DOPUTM(WRKAPTR1),B'01111111'                     01S0557 02034000
*    NUMSEG = D1;                   /* SET NUMBER OF SEGMENTS        */ 02035000
*                                                               01S0558 02036000
         MVC   NUMSEG(4,WRKAPTR1),@CF00032                      01S0558 02037000
*    RESPECIFY (R2) RSTD;                                       01S0559 02038000
*    R2 = PTPBPTR;                  /* PTR TO PUTLINE PARM BLOCK     */ 02039000
         L     R2,PTPBPTR(,WRKAPTR1)                            01S0560 02040000
*    RESPECIFY (R2) UNRSTD;                                     01S0561 02041000
*    R15 = ADDR(TPUTL);             /* PTR TO ISSUE PUTLINE RTN      */ 02042000
         LA    R15,TPUTL                                        01S0562 02043000
*    GEN FLOWS(TPUTL) (SYNCH  (15));  /* TO ISSUE PUTLINE            */ 02044000
*                                                               01S0563 02045000
         SYNCH  (15)                                                    02046000
*    IF ABND806=YES                 /* CHK FOR CMD NOT FOUND IN      */ 02047000
*        & BKGMODE = BKGDNOW        /*    BACKGROUND                 */ 02048000
*      THEN                         /* YES,                          */ 02049000
         TM    ABND806(WRKAPTR1),B'00000100'                    01S0564 02050000
         BNO   @RF00564                                         01S0564 02051000
         TM    BKGMODE(WRKAPTR2),B'10000000'                    01S0564 02052000
         BNO   @RF00564                                         01S0564 02053000
*        DODONE = YES;              /* TERMINATE                     */ 02054000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0565 02055000
*      ELSE DO;                                                 01S0566 02056000
         B     @RC00564                                         01S0566 02057000
@RF00564 DS    0H                                               01S0567 02058000
*        /* CHK FOR ATTN IN CONTROL, SET FLUSH FLAG           */        02059000
*        IF TMPACTRL = YES          /* CHK IF ATTN IN CONTROL        */ 02060000
*          THEN                     /* YES,                          */ 02061000
         TM    TMPACTRL(WRKAPTR1),B'00010000'                   01S0567 02062000
         BNO   @RF00567                                         01S0567 02063000
*            SPBFLUSH=YES;          /* SET FLUSH ENABLE FLAG         */ 02064000
*                                                               01S0568 02065000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0568 02066000
         OI    SPBFLUSH(@14),B'00001000'                        01S0568 02067000
*        R1 = ADDR(IOPL);           /* SET PTR TO STACK PARM LIST    */ 02068000
@RF00567 LR    R1,SRPARMLP                                      01S0569 02069000
*        IOPLIOPB=STPBPTR;          /* SET PTR TO STACK PARM BLOCK   */ 02070000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0570 02071000
         ST    @14,IOPLIOPB(,SRPARMLP)                          01S0570 02072000
*        R15 = ADDR(TSTACKA);       /* PTR TO STACK-DELETE-ALL RTN   */ 02073000
         LA    R15,TSTACKA                                      01S0571 02074000
*        GEN(SYNCH   (15));         /* GO TO INVOKE STACK            */ 02075000
         SYNCH   (15)                                                   02076000
*        SPBFLUSH = NO;             /* SET FLUSH INHIBITABLE FLAG    */ 02077000
*                                                               01S0573 02078000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0573 02079000
         NI    SPBFLUSH(@14),B'11110111'                        01S0573 02080000
*        GEN(TCLEARQ INPUT);        /* CLEAR REMAINING INPUT         */ 02081000
*                                                               01S0574 02082000
         TCLEARQ INPUT                                                  02083000
*        DOGETC = YES;              /* SET TO GET NEXT COMMAND       */ 02084000
         OI    DOGETC(WRKAPTR1),B'00010000'                     01S0575 02085000
*      END;                                                     01S0576 02086000
*                                                               01S0576 02087000
*    RESPECIFY (R14) RSTD;                                      01S0577 02088000
@RC00564 DS    0H                                               01S0578 02089000
*    R14 = ADDR(TINVOKC);           /* SET FOR PSEUDO-RETURN         */ 02090000
         LA    R14,TINVOKC                                      01S0578 02091000
*    RETURN;                        /* RETURN TO CALLER              */ 02092000
         B     @EL00005                                         01S0579 02093000
*    RESPECIFY (R14) UNRSTD;                                    01S0580 02094000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02095000
*/*                                                                  */ 02096000
*/* SEGMENT NAME -- TSETCD                                           */ 02097000
*/*                                                                  */ 02098000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02099000
*/*                                                                  */ 02100000
*/* FUNCTION -- TO ESTABLISH ENVIRONMENT FOR NEXT COMMAND INVOCATION */ 02101000
*/*  OPERATION --                                                    */ 02102000
*/*           - SET CHECK-FOR-IMPLICIT-EXEC FLAG, DOSETBF            */ 02103000
*/*           - RESERVE COMMAND NAME ENTERED IN AREA, NXTCMD         */ 02104000
*/*           - CHECK IF EITHER ATTENTION PROCESSING OR ABEND EXIT   */ 02105000
*/*             PROCESSING IS IN CONTROL                             */ 02106000
*/*           - IF YES, THEN --                                      */ 02107000
*/*             - CHECK IF COMMAND ENTERED IS TEST WITHOUT OPERANDS  */ 02108000
*/*               - IF YES, THEN --                                  */ 02109000
*/*                 - SET INITIALIZE-TEST-INVOCATION FLAG, DOSETTB   */ 02110000
*/*                 - CLEAR DO-ABEND-806-CHECK FLAG, DOSETBF         */ 02111000
*/*               - IF COMMAND ENTERED IS NOT TEST WITHOUT OPERANDS  */ 02112000
*/*                 THEN --                                          */ 02113000
*/*                 - IF ATTENTION PROCESSING IS IN CONTROL, SET     */ 02114000
*/*                   STACK-FLUSH-ENABLED FLAG, SPBFLUSH             */ 02115000
*/*                 - SYNCH TO TSTACKA ROUTINE TO DO STACK-DELETE    */ 02116000
*/*                 - SET STACK-FLUSH-INHIBITED FLAG, SPBFLUSH       */ 02117000
*/*           - IF CHECK-FOR-COMMAND-NOT-FOUND FLAG, DOSETBF IS ON   */ 02118000
*/*             THEN INVOKE ROUTINE TSETCD1                          */ 02119000
*/*           - IF INITIALIZE-TEST-PARAMETERS FLAG, DOSETTB, IS ON   */ 02120000
*/*             THEN INVOKE ROUTINE TSETCD2                          */ 02121000
*/*                                                                  */ 02122000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02123000
*/*                                                                  */ 02124000
*/* INPUT -- N/A                                                     */ 02125000
*/*                                                                  */ 02126000
*/* OUTPUT -- N/A                                                    */ 02127000
*/*                                                                  */ 02128000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02129000
*/*                                                                  */ 02130000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02131000
*/*                                                                  */ 02132000
*/*   RETURN CODE -- N/A                                             */ 02133000
*/*                                                                  */ 02134000
*/* EXIT ERROR -- N/A                                                */ 02135000
*/*                                                                  */ 02136000
*/*   CONDITIONS -- N/A                                              */ 02137000
*/*                                                                  */ 02138000
*/*   RETURN CODE -- N/A                                             */ 02139000
*/*                                                                  */ 02140000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02141000
*TSETCD:    /* EP TO SET-UP-NEXT-COMMAND-INVOCATION ROUTINE          */ 02142000
*    ENTRY;                                                     01S0581 02143000
*                                                               01S0581 02144000
TSETCD   DS    0H                                               01S0582 02145000
*    DOSETBF = YES;                 /* SET TO CHK FOR IMPLI-EXEC     */ 02146000
         OI    DOSETBF(WRKAPTR1),B'00010000'                    01S0582 02147000
*    NXTCMD = CSOACNM->CMDNAME(1:CSOALNM);  /* SAVE CMD              */ 02148000
         MVI   NXTCMD+1(WRKAPTR1),C' '                          01S0583 02149000
         MVC   NXTCMD+2(6,WRKAPTR1),NXTCMD+1(WRKAPTR1)          01S0583 02150000
         L     @14,CSPLOA(,SRPARMLP)                            01S0583 02151000
         LH    @06,CSOALNM(,@14)                                01S0583 02152000
         LR    @05,@06                                          01S0583 02153000
         BCTR  @05,0                                            01S0583 02154000
         L     @04,CSOACNM(,@14)                                01S0583 02155000
         EX    @05,@SM03118                                     01S0583 02156000
*    IF TMPACTRL = YES              /* CHK FOR ATTENTION-IN-CONTROL  */ 02157000
*        | TMPSCTRL = YES           /*    OR STAI-IN-CONTROL         */ 02158000
*      THEN DO;                     /* YES, STACK FLUSH IS REQUIRED  */ 02159000
         TM    TMPACTRL(WRKAPTR1),B'00011000'                   01S0584 02160000
         BZ    @RF00584                                         01S0584 02161000
*        IF CSOACNM->CMDNAME(1:4) = 'TEST'  /* CHK FOR               */ 02162000
*            & CSOALNM = D4         /* TEST BY NAME & LNG            */ 02163000
*            & CSOAVNP=YES          /*   & FOR VALID W/O OPNDS       */ 02164000
*          THEN DO;                 /* YES FOR ALL,                  */ 02165000
         CLC   CMDNAME(4,@04),@CC02951                          01S0586 02166000
         BNE   @RF00586                                         01S0586 02167000
         C     @06,@CF00045                                     01S0586 02168000
         BNE   @RF00586                                         01S0586 02169000
         TM    CSOAVNP(@14),B'01000000'                         01S0586 02170000
         BNO   @RF00586                                         01S0586 02171000
*            DOSETTB = YES;         /* DO NOT FLUSH STACK            */ 02172000
*            DOSETBF = NO;          /* DO NOT FREE COMMAND BUFFER    */ 02173000
         OI    DOSETTB(WRKAPTR1),B'00001000'                    01S0589 02174000
         NI    DOSETBF(WRKAPTR1),B'11101111'                    01S0589 02175000
*          END;                                                 01S0590 02176000
*          ELSE DO;                 /* NOT TEST, FLUSH STACK         */ 02177000
         B     @RC00586                                         01S0591 02178000
@RF00586 DS    0H                                               01S0592 02179000
*            IF TMPACTRL = YES      /* CHK IF ATTN IN CONTROL        */ 02180000
*              THEN                 /* YES,                          */ 02181000
         TM    TMPACTRL(WRKAPTR1),B'00010000'                   01S0592 02182000
         BNO   @RF00592                                         01S0592 02183000
*                SPBFLUSH = YES;    /* SET FLUSH ENABLED             */ 02184000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0593 02185000
         OI    SPBFLUSH(@14),B'00001000'                        01S0593 02186000
*            R1 = ADDR(IOPL);       /* SET STACK PARM LIST PTR       */ 02187000
@RF00592 LR    R1,SRPARMLP                                      01S0594 02188000
*            IOPLIOPB = STPBPTR;    /* SET STACK PARM BLOCK PTR      */ 02189000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0595 02190000
         ST    @14,IOPLIOPB(,SRPARMLP)                          01S0595 02191000
*            R15 = ADDR(TSTACKA);   /* PTR TO ISSUE-STACK RTN        */ 02192000
         LA    R15,TSTACKA                                      01S0596 02193000
*            GEN FLOWS(TSTACKA) (SYNCH  (15));  /* TO TSTACKA        */ 02194000
         SYNCH  (15)                                                    02195000
*            SPBFLUSH = NO;         /* SET FLUSH INHIBITED           */ 02196000
         L     @14,STPBPTR(,WRKAPTR1)                           01S0598 02197000
         NI    SPBFLUSH(@14),B'11110111'                        01S0598 02198000
*          END;                                                 01S0599 02199000
*      END;                                                     01S0600 02200000
@RC00586 DS    0H                                               01S0601 02201000
*    RESPECIFY (R2,R3) UNRSTD;                                  01S0601 02202000
@RF00584 DS    0H                                               01S0602 02203000
*    IF DOSETBF = YES               /* CHK ABEND-CHECK-NOW FLAG      */ 02204000
*      THEN                         /* YES,                          */ 02205000
         TM    DOSETBF(WRKAPTR1),B'00010000'                    01S0602 02206000
         BNO   @RF00602                                         01S0602 02207000
*        CALL  TSETCD1;             /*   GO TO CHECK ABEND 806       */ 02208000
         BAL   @14,TSETCD1                                      01S0603 02209000
*TSETCDA:                           /* FOR PSEUDO-RETURN             */ 02210000
*    IF DOSETTB = YES               /* CHK DO-TEST-NOW FLAG          */ 02211000
*      THEN                         /* YES,                          */ 02212000
@RF00602 DS    0H                                               01S0604 02213000
TSETCDA  TM    DOSETTB(WRKAPTR1),B'00001000'                    01S0604 02214000
         BNO   @RF00604                                         01S0604 02215000
*        CALL  TSETCD2;             /*   GO TO SET UP TEST           */ 02216000
         BAL   @14,TSETCD2                                      01S0605 02217000
*    RESPECIFY (R14) RSTD;                                      01S0606 02218000
@RF00604 DS    0H                                               01S0607 02219000
*    R14 = ADDR(TINVOKD);           /* SET FOR PSEUDO-RETURN         */ 02220000
         LA    R14,TINVOKD                                      01S0607 02221000
*    RETURN;                        /* RETURN TO CALLER              */ 02222000
         B     @EL00005                                         01S0608 02223000
*    RESPECIFY (R14) UNRSTD;                                    01S0609 02224000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02225000
*/*                                                                  */ 02226000
*/* SEGMENT NAME -- TCHKAT                                           */ 02227000
*/*                                                                  */ 02228000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02229000
*/*                                                                  */ 02230000
*/* FUNCTION -- TO DETACH ANY INCOMPLETE, ATTACHED COMMAND TASK      */ 02231000
*/*       UNLESS NEW COMMAND ENTRY IS TEST WITHOUT OPERANDS, THEN    */ 02232000
*/*       TO GO TO ROUTINE TO LINK TO TEST                           */ 02233000
*/*  OPERATION --                                                    */ 02234000
*/*           - IF NEW COMMAND IS NOT TEST WITHOUT OPERANDS, GO TO   */ 02235000
*/*             DETACH-ANY-INCOMPLETE-TASK ROUTINE, TCHKAT1          */ 02236000
*/*           - IF NEW COMMAND IS TEST AND NO BYPASS IS INDICATED,   */ 02237000
*/*             GO TO LINK-TO-TEST ROUTINE, TDOTEST                  */ 02238000
*/*                                                                  */ 02239000
*/*                                                                  */ 02240000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02241000
*/*                                                                  */ 02242000
*/* INPUT -- N/A                                                     */ 02243000
*/*                                                                  */ 02244000
*/* OUTPUT -- N/A                                                    */ 02245000
*/*                                                                  */ 02246000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02247000
*/*                                                                  */ 02248000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02249000
*/*                                                                  */ 02250000
*/*   RETURN CODE -- N/A                                             */ 02251000
*/*                                                                  */ 02252000
*/* EXIT ERROR -- N/A                                                */ 02253000
*/*                                                                  */ 02254000
*/*   CONDITIONS -- N/A                                              */ 02255000
*/*                                                                  */ 02256000
*/*   RETURN CODE -- N/A                                             */ 02257000
*/*                                                                  */ 02258000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02259000
*TCHKAT:    /* EP TO CHECK-FOR-TEST-COMMAND ROUTINE                  */ 02260000
*                                                               01S0610 02261000
*    ENTRY;                                                     01S0610 02262000
*                                                               01S0610 02263000
TCHKAT   DS    0H                                               01S0611 02264000
*    IF TMPTEST = NO                /* CHK IF COMMAND IS NOT TEST    */ 02265000
*        | CSOAVNP = NO             /*   OR IF ANY OPERANDS          */ 02266000
*      THEN                         /* YES, IS NOT TEST W/O OPERANDS */ 02267000
         TM    TMPTEST(WRKAPTR1),B'10000000'                    01S0611 02268000
         BZ    @RT00611                                         01S0611 02269000
         L     @14,CSPLOA(,SRPARMLP)                            01S0611 02270000
         TM    CSOAVNP(@14),B'01000000'                         01S0611 02271000
         BNZ   @RF00611                                         01S0611 02272000
@RT00611 DS    0H                                               01S0612 02273000
*        CALL  TCHKAT1;             /*   ELIMINATE OLD COMMAND       */ 02274000
         BAL   @14,TCHKAT1                                      01S0612 02275000
*TCHKATA:                           /* FOR PSEUDO-RETURN             */ 02276000
*    IF DOTEST = YES                /* CHK TO PERFORM LINK-TO-TEST   */ 02277000
*        & DOLIST = NO              /*   & NO BYPASS FLAGS           */ 02278000
*        & DOPSTRT = NO             /*   ARE PRESENT                 */ 02279000
*      THEN DO;                     /* YES, SET UP FOR TEST          */ 02280000
@RF00611 DS    0H                                               01S0613 02281000
TCHKATA  TM    DOTEST(WRKAPTR1),B'00100000'                     01S0613 02282000
         BNO   @RF00613                                         01S0613 02283000
         TM    DOLIST(WRKAPTR1),B'00100000'                     01S0613 02284000
         BNZ   @RF00613                                         01S0613 02285000
         TM    DOPSTRT(WRKAPTR1),B'00100000'                    01S0613 02286000
         BNZ   @RF00613                                         01S0613 02287000
*        DOTEST = NO;               /* RESET SET-TEST-BUFFER FLAG    */ 02288000
         NI    DOTEST(WRKAPTR1),B'11011111'                     01S0615 02289000
*        FRSTLAB = NO;              /* RESET PRIOR-PRIME-ABEND FLAG  */ 02290000
         NI    FRSTLAB(WRKAPTR1),B'11111101'                    01S0616 02291000
*        LINKNOW = YES;             /* SET LINK-IN-CONTROL FLAG      */ 02292000
         OI    LINKNOW(WRKAPTR1),B'00100000'                    01S0617 02293000
*        CALL  TDOTEST;             /* DO SYNCH TO TEST              */ 02294000
         BAL   @14,TDOTEST                                      01S0618 02295000
*TCHKATB:                           /* FOR PSEUDO-RETURN             */ 02296000
*      END;                                                     01S0619 02297000
*                                                               01S0619 02298000
TCHKATB  DS    0H                                               01S0620 02299000
*    RESPECIFY (R14) RSTD;                                      01S0620 02300000
@RF00613 DS    0H                                               01S0621 02301000
*    R14 = ADDR(TINVOKF);           /* SET FOR PSEUDO-RETURN         */ 02302000
         LA    R14,TINVOKF                                      01S0621 02303000
*    RETURN;                        /* RETURN TO CALLER              */ 02304000
         B     @EL00005                                         01S0622 02305000
*    RESPECIFY (R14) UNRSTD;                                    01S0623 02306000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02307000
*/*                                                                  */ 02308000
*/* SEGMENT NAME -- TSTRTAB                                          */ 02309000
*/*                                                                  */ 02310000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02311000
*/*                                                                  */ 02312000
*/* FUNCTION -- TO START ANY STOPPED SUBTASKS                        */ 02313000
*/*  OPERATION --                                                    */ 02314000
*/*           - CLEAR DO-START-SUBTASKS FLAG, DOPSTRT                */ 02315000
*/*           - POST THE STAI-EXIT ROUTINE ECB POINTED TO BY TPLNECB */ 02316000
*/*             TO CAUSE RESUMPTION OF ABEND-EXIT PROCESSING         */ 02317000
*/*           - ISSUE STATUS-START TO START UP ANY STOPPED SUBTASK   */ 02318000
*/*           - SET GO-TO-CHECK-WAIT-LIST FLAG, DOLIST               */ 02319000
*/*                                                                  */ 02320000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02321000
*/*                                                                  */ 02322000
*/* INPUT -- N/A                                                     */ 02323000
*/*                                                                  */ 02324000
*/* OUTPUT -- N/A                                                    */ 02325000
*/*                                                                  */ 02326000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02327000
*/*                                                                  */ 02328000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02329000
*/*                                                                  */ 02330000
*/*   RETURN CODE -- N/A                                             */ 02331000
*/*                                                                  */ 02332000
*/* EXIT ERROR -- N/A                                                */ 02333000
*/*                                                                  */ 02334000
*/*   CONDITIONS -- N/A                                              */ 02335000
*/*                                                                  */ 02336000
*/*   RETURN CODE -- N/A                                             */ 02337000
*/*                                                                  */ 02338000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02339000
*TSTRTAB:   /* EP TO START-ANY-STOPPED-SUBTASKS ROUTINE              */ 02340000
*                                                               01S0624 02341000
*    ENTRY;                                                     01S0624 02342000
TSTRTAB  DS    0H                                               01S0625 02343000
*    RESPECIFY (R6,R14) RSTD;                                   01S0625 02344000
*    R6 = R14;                      /* RESERVE ENTRY REG 14          */ 02345000
*                                                               01S0626 02346000
         LR    R6,R14                                           01S0626 02347000
*    DOPSTRT = NO;                  /* RESET DO-POST-START FLAG      */ 02348000
         NI    DOPSTRT(WRKAPTR1),B'11011111'                    01S0627 02349000
*    R1 = TPLNECB;                  /* GET ECB POINTER               */ 02350000
         L     R1,TPLNECB(,WRKAPTR1)                            01S0628 02351000
*    GEN(POST (1));                 /* POST THE STAI EXIT FOR        */ 02352000
         POST (1)                                                       02353000
*                                   /* UNSUCCESSFUL RECOVERY ATTEMPT */ 02354000
*    GEN(STATUS START);             /* START SUBTASK                 */ 02355000
         STATUS START                                                   02356000
*    DOLIST = YES;                  /* SET CHECK-ECB-LIST FLAG       */ 02357000
*                                                               01S0631 02358000
         OI    DOLIST(WRKAPTR1),B'00100000'                     01S0631 02359000
*    R14 = R6;                      /* RESTORE ENTRY REG 14          */ 02360000
         LR    R14,R6                                           01S0632 02361000
*    RETURN;                        /* RETURN TO CALLER              */ 02362000
         B     @EL00005                                         01S0633 02363000
*    RESPECIFY (R6,R14) UNRSTD;                                 01S0634 02364000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02365000
*/*                                                                  */ 02366000
*/* SEGMENT NAME -- TACTV                                            */ 02367000
*/*                                                                  */ 02368000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02369000
*/*                                                                  */ 02370000
*/* FUNCTION -- TO PASS CONTROL TO PROCESSOR FOR COMMAND ENTERED     */ 02371000
*/*  OPERATION --                                                    */ 02372000
*/*           - RESERVE THE COMMAND NAME ENTERED IN AREA, NXTCMD     */ 02373000
*/*           - RE-INITIALIZE CONTROL FLAGS AND POINTERS FOR NEW     */ 02374000
*/*             ATTACH                                               */ 02375000
*/*           - SET OR RESET THE ECT-NO-OPERANDS FLAG, ECTNOPD       */ 02376000
*/*           - CHECK IF STOP/MODIFY ECB IS POSTED                   */ 02377000
*/*             - IF YES, SET TERMINATION FLAG, DODONE               */ 02378000
*/*             - IF NOT STOP/MODIFY POSTED, THEN --                 */ 02379000
*/*               - CHECK IF NEW COMMAND NAME IS CALL                */ 02380000
*/*                 - IF YES, THEN GO TO ACTIVATE-CALL ROUTINE,      */ 02381000
*/*                   TACTV1                                         */ 02382000
*/*                 - IF NAME IS NOT CALL, THEN --                   */ 02383000
*/*                   - IF ATTENTION PROCESSING IS NOT CURRENT AND   */ 02384000
*/*                     THE INITIAL-ENTRY-PARAMETER COMMAND HAS      */ 02385000
*/*                     BEEN COMPLETED, THEN --                      */ 02386000
*/*                     - GO TO ACTIVATE-NEW-CP ROUTINE, TACTV2      */ 02387000
*/*               - IF ACTIVATION ATTEMPT DID NOT IDENTIFY THE NAME  */ 02388000
*/*                 ENTERED AS AN IMPLICIT EXEC, THEN --             */ 02389000
*/*                 -PERFORM CHECK-ATTACH-RESULT ROUTINE, TACTV6     */ 02390000
*/*                                                                  */ 02391000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02392000
*/*                                                                  */ 02393000
*/* INPUT -- N/A                                                     */ 02394000
*/*                                                                  */ 02395000
*/* OUTPUT -- N/A                                                    */ 02396000
*/*                                                                  */ 02397000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02398000
*/*                                                                  */ 02399000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02400000
*/*                                                                  */ 02401000
*/*   RETURN CODE -- N/A                                             */ 02402000
*/*                                                                  */ 02403000
*/* EXIT ERROR -- N/A                                                */ 02404000
*/*                                                                  */ 02405000
*/*   CONDITIONS -- N/A                                              */ 02406000
*/*                                                                  */ 02407000
*/*   RETURN CODE -- N/A                                             */ 02408000
*/*                                                                  */ 02409000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02410000
*TACTV:     /* EP TO INVOKE-CALL-FUNCTION-OR-CP ROUTINE              */ 02411000
*    ENTRY;                                                     01S0635 02412000
TACTV    DS    0H                                               01S0636 02413000
*    ECTPCMD = NXTCMD;              /* SAVE COMMAND NAME             */ 02414000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0636 02415000
         MVC   ECTPCMD(8,@14),NXTCMD(WRKAPTR1)                  01S0636 02416000
*    ECTSCMD = '';                  /* BLANK OUT SUBCOMMAND NAME     */ 02417000
         MVI   ECTSCMD(@14),C' '                                01S0637 02418000
         MVC   ECTSCMD+1(7,@14),ECTSCMD(@14)                    01S0637 02419000
*    ABND806 = NO;                  /* RESET COMMAND-NOT-FOUND FLAG  */ 02420000
*    TMPACTRL = NO;                 /* RESET ATTN IN CONTROL         */ 02421000
*    TMPSCTRL = NO;                 /* RESET STAI IN CONTROL         */ 02422000
*    FRSTLAB = NO;                  /* RESET PRIOR PRIME ABEND FLAG  */ 02423000
         NI    ABND806(WRKAPTR1),B'11100001'                    01S0641 02424000
*    ECTNOPD = YES;                 /* SET NO-OPERANDS-ENTERED FLAG  */ 02425000
         OI    ECTNOPD(@14),B'10000000'                         01S0642 02426000
*    IF SCANAP->CSOAVNP=NO          /* CHK FOR NO-OPERANDS-ENTERED   */ 02427000
*      THEN                         /* NO, OPERANDS WERE ENTERED     */ 02428000
         L     @06,SCANAP(,WRKAPTR1)                            01S0643 02429000
         TM    CSOAVNP(@06),B'01000000'                         01S0643 02430000
         BNZ   @RF00643                                         01S0643 02431000
*        ECTNOPD = NO;              /* CLEAR NO-OPERANDS FLAG        */ 02432000
         NI    ECTNOPD(@14),B'01111111'                         01S0644 02433000
*    IF TPLMECB->ECBPOST=YES        /* CHK IF STOP/MODIFY ECB POSTED */ 02434000
*      THEN                         /* YES,                          */ 02435000
@RF00643 L     @14,TPLMECB(,WRKAPTR1)                           01S0645 02436000
         TM    ECBPOST(@14),B'01000000'                         01S0645 02437000
         BNO   @RF00645                                         01S0645 02438000
*        DODONE = YES;              /*   GO TO LOGOFF                */ 02439000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0646 02440000
*      ELSE DO;                     /* NOT STOP/MODIFY               */ 02441000
         B     @RC00645                                         01S0647 02442000
@RF00645 DS    0H                                               01S0648 02443000
*        TSRCHNAM = BLANKS;         /* CLEAR SEARCH NAME             */ 02444000
         MVC   TSRCHNAM(8),@CC00042                             01S0648 02445000
*        TSRCHNAM(1:CSOALNM) =      /* PUT SIGNIFICANT CHARACTERS OF */ 02446000
*            CSOACNM->CMDNAME(1:CSOALNM);  /* COMMAND IN SEARCH NM   */ 02447000
         L     @14,CSPLOA(,SRPARMLP)                            01S0649 02448000
         LH    @06,CSOALNM(,@14)                                01S0649 02449000
         LR    @05,@06                                          01S0649 02450000
         BCTR  @05,0                                            01S0649 02451000
         L     @14,CSOACNM(,@14)                                01S0649 02452000
         EX    @05,@SM03120                                     01S0649 02453000
*        IF CSOACNM->CMDNAME(1:4) = NMCALL  /* CHK FOR NAME          */ 02454000
*            & CSOALNM = D4         /*   OF CALL CP                  */ 02455000
*          THEN DO;                 /* YES,                          */ 02456000
         CLC   CMDNAME(4,@14),@CC00076                          01S0650 02457000
         BNE   @RF00650                                         01S0650 02458000
         C     @06,@CF00045                                     01S0650 02459000
         BNE   @RF00650                                         01S0650 02460000
*            CALL  TACTV1;          /*   TO PERFORM CALL FUNCTION    */ 02461000
         BAL   @14,TACTV1                                       01S0652 02462000
*TACTVA:   END;                     /* FOR PSEUDO-RETURN             */ 02463000
*          ELSE DO;                 /* NO, IS NOT CALL               */ 02464000
         B     @RC00650                                         01S0654 02465000
@RF00650 DS    0H                                               01S0655 02466000
*            ATTCHSP = ATTCHBLK;    /* REFRESH TMP ATTACH PL         */ 02467000
         MVC   ATTCHSP(60,WRKAPTR1),ATTCHBLK                    01S0655 02468000
*            IF (TPLAECB->ECBPOST^=YES   /* CHK FOR ATTN DURING      */ 02469000
*                | TMPNFCMD ^= YES)   /*   FREE COMMAND              */ 02470000
*                & EXITRCDE = D4    /* VALID EXIT REQUEST   @Z403333 */ 02471000
*              THEN DO;             /* NEITHER,  SEARCH FOR NEW      */ 02472000
         L     @14,TPLAECB-1(,WRKAPTR1)                         01S0656 02473000
         TM    ECBPOST(@14),B'01000000'                         01S0656 02474000
         BNO   @GL00023                                         01S0656 02475000
         TM    TMPNFCMD(WRKAPTR1),B'00100000'                   01S0656 02476000
         BO    @RF00656                                         01S0656 02477000
@GL00023 CLC   EXITRCDE(4),@CF00045                             01S0656 02478000
         BNE   @RF00656                                         01S0656 02479000
*                CALL  TACTV2;      /*   COMMAND NAME                */ 02480000
         BAL   @14,TACTV2                                       01S0658 02481000
*TACTVB:       END;                 /* FOR PSEUDO-RETURN             */ 02482000
TACTVB   DS    0H                                               01S0660 02483000
*          END;                                                 01S0660 02484000
@RF00656 DS    0H                                               01S0661 02485000
*        IF DOIMPLX = NO            /* CHK FOR IMPLI-EXEC CMD NOW    */ 02486000
*          THEN DO;                 /* NO, TO CHK ATTACH RESULT OR   */ 02487000
@RC00650 TM    DOIMPLX(WRKAPTR1),B'01000000'                    01S0661 02488000
         BNZ   @RF00661                                         01S0661 02489000
*            CALL TACTV6;           /*   TO DO DIRECT ATTACH         */ 02490000
         BAL   @14,TACTV6                                       01S0663 02491000
*TACTVC:   END;                     /* FOR PSEUDO-RETURN             */ 02492000
TACTVC   DS    0H                                               01S0665 02493000
*      END;                                                     01S0665 02494000
@RF00661 DS    0H                                               01S0666 02495000
*    RESPECIFY (R14) RSTD;                                      01S0666 02496000
@RC00645 DS    0H                                               01S0667 02497000
*    R14 = ADDR(TINVOKH);           /* SET FOR PSEUDO-RETURN         */ 02498000
         LA    R14,TINVOKH                                      01S0667 02499000
*    RETURN;                        /* RETURN TO CALLER              */ 02500000
         B     @EL00005                                         01S0668 02501000
*    RESPECIFY (R14) UNRSTD;                                    01S0669 02502000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02503000
*/*                                                                  */ 02504000
*/* SEGMENT NAME -- TSTAIPST                                         */ 02505000
*/*                                                                  */ 02506000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02507000
*/*                                                                  */ 02508000
*/* FUNCTION -- TO PROCESS THE ABEND OF THE ATTACHED SUBTASK         */ 02509000
*/*  OPERATION --                                                    */ 02510000
*/*           - RESET THE STAI-EXIT-ROUTINE-TO-MAINLINE-COMMUNICA-   */ 02511000
*/*             TION ECB, TMPIECB (POINTED TO BY TPLIECB)            */ 02512000
*/*           - ISSUE STATUS-STOP TO STOP ALL SUBTASKS               */ 02513000
*/*           - CHECK IF COMMAND-NOT-FOUND FLAG, ABND806, IS ON      */ 02514000
*/*             - IF YES, THEN --                                    */ 02515000
*/*               - SET FLAG, DOIMPLX, TO ENGAGE THE IMPLICIT-EXEC   */ 02516000
*/*                 SEQUENCE                                         */ 02517000
*/*               - SET THE CONTINUE-PROCESSING FLAG, DOINVCK, TO    */ 02518000
*/*                 ENABLE PROCESSING THE SIMULATED EXEC COMMAND     */ 02519000
*/*             - IF IS NOT COMMAND-NOT-FOUND CONDITION, THEN --     */ 02520000
*/*               - SET ABEND-PROCESSING-ACTIVE FLAG, TMPSCTRL       */ 02521000
*/*               - SYNCH TO STAI-MESSAGE ROUTINE, STAIMSG           */ 02522000
*/*               - CHECK IF BACKGROUND MODE IS CURRENT              */ 02523000
*/*                 - IF YES, THEN --                                */ 02524000
*/*                   - RESET ALL FLOW-CONTROL FLAGS                 */ 02525000
*/*                   - SET TERMINATION FLAG, DODONE                 */ 02526000
*/*               - ISSUE TCLEARQ TO EMPTY INPUT QUEUE               */ 02527000
*/*               - SET GET-NEW-COMMAND FLAG, DOGETC                 */ 02528000
*/*                                                                  */ 02529000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02530000
*/*                                                                  */ 02531000
*/* INPUT -- N/A                                                     */ 02532000
*/*                                                                  */ 02533000
*/* OUTPUT -- N/A                                                    */ 02534000
*/*                                                                  */ 02535000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02536000
*/*                                                                  */ 02537000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02538000
*/*                                                                  */ 02539000
*/*   RETURN CODE -- N/A                                             */ 02540000
*/*                                                                  */ 02541000
*/* EXIT ERROR -- N/A                                                */ 02542000
*/*                                                                  */ 02543000
*/*   CONDITIONS -- N/A                                              */ 02544000
*/*                                                                  */ 02545000
*/*   RETURN CODE -- N/A                                             */ 02546000
*/*                                                                  */ 02547000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02548000
*TSTAIPST:  /* EP TO PROCESS-CP-ABEND ROUTINE                        */ 02549000
*    ENTRY;                                                     01S0670 02550000
*                                                               01S0670 02551000
TSTAIPST DS    0H                                               01S0671 02552000
*STAIPOST:  TPLIECB->ECBPOST=NO;    /* RESET POST BIT                */ 02553000
STAIPOST L     @14,TPLIECB(,WRKAPTR1)                           01S0671 02554000
         NI    ECBPOST(@14),B'10111111'                         01S0671 02555000
*    GEN(STATUS STOP);              /* MAKE CP NON-DISPATCHABLE      */ 02556000
         STATUS STOP                                                    02557000
*    IF ABND806 = YES               /* CHK FOR CMD-NOT-FND FLAG      */ 02558000
*      THEN DO;                     /* YES,                          */ 02559000
         TM    ABND806(WRKAPTR1),B'00000100'                    01S0673 02560000
         BNO   @RF00673                                         01S0673 02561000
*        DOIMPLX = YES;             /* TO CHK IMPLICIT EXEC          */ 02562000
         OI    DOIMPLX(WRKAPTR1),B'01000000'                    01S0675 02563000
*        DOINVOK = YES;                                         01S0676 02564000
         OI    DOINVOK(WRKAPTR1),B'00000100'                    01S0676 02565000
*      END;                                                     01S0677 02566000
*      ELSE DO;                                                 01S0678 02567000
         B     @RC00673                                         01S0678 02568000
@RF00673 DS    0H                                               01S0679 02569000
*        TMPSCTRL = YES;            /* INDICATE STAI IS WAITING      */ 02570000
*                                                               01S0679 02571000
         OI    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0679 02572000
*        R1=ADDR(STRTPARM);         /* GET ADDR OF STAI MSG PARM     */ 02573000
         L     @14,TMPIECB(,WRKAPTR1)                           01S0680 02574000
         LR    R1,@14                                           01S0680 02575000
*        R15 = ADDR(STAIMSG);       /* SET PTR TO STAI MSG RTN       */ 02576000
         L     R15,STRTPTR(,@14)                                01S0681 02577000
*        GEN FLOWS(STAIMSG) (SYNCH  (15));  /* TO MESSAGE RTN        */ 02578000
*                                                               01S0682 02579000
         SYNCH  (15)                                                    02580000
*        IF BKGMODE = BKGDNOW       /* CHK FOR BACKGROUND MODE       */ 02581000
*          THEN DO;                 /* YES,                          */ 02582000
         TM    BKGMODE(WRKAPTR2),B'10000000'                    01S0683 02583000
         BNO   @RF00683                                         01S0683 02584000
*            FLOFLGS = ZERO;        /*   CLEAR ALL THE               */ 02585000
         SLR   @14,@14                                          01S0685 02586000
         ST    @14,FLOFLGS(,WRKAPTR1)                           01S0685 02587000
*            FLOFLGS2 = ZERO;       /*   FLOW-CONTROL FLAGS          */ 02588000
         MVI   FLOFLGS2(WRKAPTR1),X'00'                         01S0686 02589000
*            DODONE = YES;          /* TERMINATE                     */ 02590000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0687 02591000
*          END;                                                 01S0688 02592000
*                                                               01S0688 02593000
*        GEN(TCLEARQ INPUT);        /* CLEAR ANY REMAINING INPUT     */ 02594000
@RF00683 DS    0H                                               01S0689 02595000
         TCLEARQ INPUT                                                  02596000
*        DOGETC = YES;              /* GO TO GET A COMMAND           */ 02597000
         OI    DOGETC(WRKAPTR1),B'00010000'                     01S0690 02598000
*      END;                                                     01S0691 02599000
*                                                               01S0691 02600000
*    RESPECIFY (R14) RSTD;                                      01S0692 02601000
@RC00673 DS    0H                                               01S0693 02602000
*    R14 = ADDR(TTSKCKA);           /* SET FOR PSEUDO-RETURN         */ 02603000
         LA    R14,TTSKCKA                                      01S0693 02604000
*    RETURN;                        /* RETURN TO CALLER              */ 02605000
         B     @EL00005                                         01S0694 02606000
*    RESPECIFY (R14) UNRSTD;                                    01S0695 02607000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02608000
*/*                                                                  */ 02609000
*/* SEGMENT NAME -- TGETCD1                                          */ 02610000
*/*                                                                  */ 02611000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02612000
*/*                                                                  */ 02613000
*/* FUNCTION -- TO ISSUE PUTGET TO ACQUIRE NEXT COMMAND FROM INPUT.  */ 02614000
*/*       THIS ROUTINE  FUNCTIONS  IN PROBLEM PROGRAM STATE  UNDER   */ 02615000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 02616000
*/*  OPERATION --                                                    */ 02617000
*/*           - SET INITIAL-ENTRY-PARAMETER-COMMAND-DONE FLAG,       */ 02618000
*/*             TMPNFCMD                                             */ 02619000
*/*           - CHECK IF ATTENTION-EXIT-TO-MAINLINE-COMMUNICATION    */ 02620000
*/*             ECB HAS BEEN POSTED OR FOR THE NEXT-COMMAND-WAIT-    */ 02621000
*/*             ING-FOR-EXECUTION FLAG, TMPCMDW                      */ 02622000
*/*             - IF YES, SET DO-ATTENTION-PROCESSING FLAG, DOCHKCP  */ 02623000
*/*             - IF NEITHER, THEN --                                */ 02624000
*/*               - SET UP READY MESSAGE                             */ 02625000
*/*               - CHECK IF CLIST MODE IS CURRENT, IF ABEND-PROCES- */ 02626000
*/*                 SING IS CURRENT AND IF EXEC PROCESSOR IS ENABLED */ 02627000
*/*                 - IF YES TO ALL, THEN ISSUE PUTGET TO TERMINAL   */ 02628000
*/*                 - IF NOT ALL YES, THEN ISSUE PUTGET TO STACK TO  */ 02629000
*/*                   ACCEPT CURRENT INPUT SOURCE                    */ 02630000
*/*                                                                  */ 02631000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02632000
*/*                                                                  */ 02633000
*/* INPUT -- N/A                                                     */ 02634000
*/*                                                                  */ 02635000
*/* OUTPUT -- N/A                                                    */ 02636000
*/*                                                                  */ 02637000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02638000
*/*                                                                  */ 02639000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02640000
*/*                                                                  */ 02641000
*/*   RETURN CODE -- N/A                                             */ 02642000
*/*                                                                  */ 02643000
*/* EXIT ERROR -- N/A                                                */ 02644000
*/*                                                                  */ 02645000
*/*   CONDITIONS -- N/A                                              */ 02646000
*/*                                                                  */ 02647000
*/*   RETURN CODE -- N/A                                             */ 02648000
*/*                                                                  */ 02649000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02650000
*TGETCD1:   /* EP TO ISSUE-PUTGET-FOR-NEXT-COMMAND ROUTINE           */ 02651000
*    ENTRY;                                                     01S0696 02652000
*                                                               01S0696 02653000
TGETCD1  DS    0H                                               01S0697 02654000
*    TMPNFCMD = YES;                /* INDICATE FREE CMD DONE        */ 02655000
*                                                               01S0697 02656000
         OI    TMPNFCMD(WRKAPTR1),B'00100000'                   01S0697 02657000
*    IF TPLAECB->ECBPOST = YES      /* CHK FOR ATTENTION             */ 02658000
*         | TMPCMDW = YES           /*     OR COMMAND WAITING        */ 02659000
*      THEN                         /* YES,                          */ 02660000
         L     @14,TPLAECB-1(,WRKAPTR1)                         01S0698 02661000
         TM    ECBPOST(@14),B'01000000'                         01S0698 02662000
         BO    @RT00698                                         01S0698 02663000
         TM    TMPCMDW(WRKAPTR1),B'01000000'                    01S0698 02664000
         BNO   @RF00698                                         01S0698 02665000
@RT00698 DS    0H                                               01S0699 02666000
*        DOCHKCP = YES;             /*   TO CHK FOR ATTN ECB POSTED  */ 02667000
         OI    DOCHKCP(WRKAPTR1),B'00000010'                    01S0699 02668000
*      ELSE DO;                                                 01S0700 02669000
         B     @RC00698                                         01S0700 02670000
@RF00698 DS    0H                                               01S0701 02671000
*        NUMSEG = D1;               /* SET UP MSG FOR PUTGET         */ 02672000
         MVC   NUMSEG(4,WRKAPTR1),@CF00032                      01S0701 02673000
*        MSGSEG(1)=ADDR(RDYMSG);    /* SET PTR TO READY MSG          */ 02674000
         L     @14,@CA00129                                     01S0702 02675000
         ST    @14,MSGSEG(,WRKAPTR1)                            01S0702 02676000
*        RESPECIFY (R2,R3) RESTRICTED;                          01S0703 02677000
*                                                               01S0703 02678000
*        R3=ADDR(MSGLIST);          /* SET PTR TO MESSAGE LIST       */ 02679000
         LA    R3,MSGLIST(,WRKAPTR1)                            01S0704 02680000
*        IF (XECNOW = YES           /* CHK IF CLIST MODE             */ 02681000
*            & TMPSCTRL = YES       /*   & ABEND IN CONTROL          */ 02682000
*            & ERRCMD = NO)         /*   CLIST ENABLED               */ 02683000
*          THEN                     /* YES,                          */ 02684000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0705 02685000
         L     @14,ECTIOWA(,@14)                                01S0705 02686000
         L     @14,TIOSRL(,@14)                                 01S0705 02687000
         TM    XECNOW(@14),B'00001000'                          01S0705 02688000
         BNO   @RF00705                                         01S0705 02689000
         TM    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0705 02690000
         BNO   @RF00705                                         01S0705 02691000
         L     @14,LSDPTR-1(,@14)                               01S0705 02692000
         L     @14,LSDEXEC(,@14)                                01S0705 02693000
         TM    ERRCMD(@14),B'01000000'                          01S0705 02694000
         BNZ   @RF00705                                         01S0705 02695000
*            /* DO PUTGET TO TERMINAL                                */ 02696000
*            GEN(PUTGET PARM=(R2),OUTPUT=((R3),TERM),MF=(E,(1)));       02697000
         PUTGET PARM=(R2),OUTPUT=((R3),TERM),MF=(E,(1))                 02698000
*          ELSE                     /* NOT CLIST ACTIVITY,           */ 02699000
*            /* DO PUTGET TO STACK                                   */ 02700000
*            GEN(PUTGET PARM=(R2),OUTPUT=((R3),MODE),MF=(E,(1)));       02701000
*                                                               01S0707 02702000
         B     @RC00705                                         01S0707 02703000
@RF00705 DS    0H                                               01S0707 02704000
         PUTGET PARM=(R2),OUTPUT=((R3),MODE),MF=(E,(1))                 02705000
*      END;                                                     01S0708 02706000
@RC00705 DS    0H                                               01S0709 02707000
*    RESPECIFY (R2,R3) UNRESTRICTED;                            01S0709 02708000
*                                                               01S0709 02709000
@RC00698 DS    0H                                               01S0710 02710000
*    GEN(SVC   3);                  /* RETURN TO CALLER              */ 02711000
         SVC   3                                                        02712000
*    END  TDOSCAN;                                              01S0711 02713000
         B     @EL00005                                         01S0711 02714000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02715000
*/*                                                                  */ 02716000
*/* SEGMENT NAME -- TSETCD1                                          */ 02717000
*/*                                                                  */ 02718000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02719000
*/*                                                                  */ 02720000
*/* FUNCTION -- TO INDICATE ABEND PROCESSING IS IN CONTROL IF THE    */ 02721000
*/*       COMMAND-NOT-FOUND CONDITION IS CURRENT,  TO EITHER LINK    */ 02722000
*/*       TO TEST IF THAT IS THE NEW COMMAND NAME OR TO SET UP THE   */ 02723000
*/*       NEW COMMAND BUFFER FOR THE NEXT COMMAND ATTACH             */ 02724000
*/*  OPERATION --                                                    */ 02725000
*/*           - RESET THE DO-IMPLICIT-EXEC-CHECK FLAG, DOSETBF       */ 02726000
*/*           - IF THE ABEND-FOR-FAILURE-TO-FIND-COMMAND-NAME FLAG,  */ 02727000
*/*             ABND806, IS ON THEN SET ABEND-PROCESSING-IN-CONTROL  */ 02728000
*/*             FLAG, TMPSCTRL                                       */ 02729000
*/*           - CHECK IF COMMAND-NOT-FOUND FLAG, ABND806, IS ON AND  */ 02730000
*/*             IF CURRENT COMMAND IS EXEC AND IS RESULT OF IMPLICIT */ 02731000
*/*             EXEC HANDLING                                        */ 02732000
*/*             - IF BOTH ARE NOT TRUE, THEN NEW COMMAND IS PENDING  */ 02733000
*/*               - CHECK IF NEW COMMAND NAME IS TEST                */ 02734000
*/*                 - IF YES, THEN SET LINK-TO-TEST FLAG, DOSETTB    */ 02735000
*/*                 - IF NOT TEST, THEN DO --                        */ 02736000
*/*                   - FREEMAIN PREVIOUS COMMAND BUFFER             */ 02737000
*/*                   - SET POINTER TO NEW COMMAND ENTRY (NOW IN     */ 02738000
*/*                     COMMAND-SCAN BUFFER POINTER, CSPLCBUF) INTO  */ 02739000
*/*                     TEST PARAMETER LIST AREA, TPLCBUF            */ 02740000
*/*                                                                  */ 02741000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02742000
*/*                                                                  */ 02743000
*/* INPUT -- N/A                                                     */ 02744000
*/*                                                                  */ 02745000
*/* OUTPUT -- N/A                                                    */ 02746000
*/*                                                                  */ 02747000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02748000
*/*                                                                  */ 02749000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02750000
*/*                                                                  */ 02751000
*/*   RETURN CODE -- N/A                                             */ 02752000
*/*                                                                  */ 02753000
*/* EXIT ERROR -- N/A                                                */ 02754000
*/*                                                                  */ 02755000
*/*   CONDITIONS -- N/A                                              */ 02756000
*/*                                                                  */ 02757000
*/*   RETURN CODE -- N/A                                             */ 02758000
*/*                                                                  */ 02759000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02760000
*TSETCD1:   /* EP TO CHK-FOR-806-CONDITION/TEST/SET-BUFFER ROUTINE   */ 02761000
*    PROC  OPTIONS(DONTSAVE,NOSAVEAREA);                        01S0712 02762000
*                                                               01S0712 02763000
TSETCD1  DS    0H                                               01S0713 02764000
*    DOSETBF = NO;                  /* RESET DO-IMPLI-EXEC-CHK FLAG  */ 02765000
         NI    DOSETBF(WRKAPTR1),B'11101111'                    01S0713 02766000
*    IF ABND806 = YES               /* CHK FOR CMD-NOT-FND FLAG      */ 02767000
*      THEN                         /* YES,                          */ 02768000
         TM    ABND806(WRKAPTR1),B'00000100'                    01S0714 02769000
         BNO   @RF00714                                         01S0714 02770000
*        TMPSCTRL = YES;            /* INDICATE STAI IN CONTROL      */ 02771000
         OI    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0715 02772000
*    IF ABND806 ^= YES              /* CMD-NOT-FND OR                */ 02773000
*        & CSOACNM^=ADDR(EXECCMD)   /* IMPLICIT EXEC                 */ 02774000
*      THEN DO;                     /* NEITHER,                      */ 02775000
@RF00714 TM    ABND806(WRKAPTR1),B'00000100'                    01S0716 02776000
         BO    @RF00716                                         01S0716 02777000
         L     @14,CSPLOA(,SRPARMLP)                            01S0716 02778000
         L     @06,CSOACNM(,@14)                                01S0716 02779000
         LA    @05,EXECCMD                                      01S0716 02780000
         CR    @06,@05                                          01S0716 02781000
         BE    @RF00716                                         01S0716 02782000
*        IF CSOACNM->CMDNAME(1:4)='TEST'  /* CHK FOR TEST            */ 02783000
*            & CSOALNM=D4           /*   BY NAME AND LENGTH          */ 02784000
*          THEN                     /* YES, IS TEST                  */ 02785000
         CLC   CMDNAME(4,@06),@CC02951                          01S0718 02786000
         BNE   @RF00718                                         01S0718 02787000
         CLC   CSOALNM(2,@14),@CH00045                          01S0718 02788000
         BNE   @RF00718                                         01S0718 02789000
*            DOSETTB = YES;         /* GO TO LINK TO TEST            */ 02790000
         OI    DOSETTB(WRKAPTR1),B'00001000'                    01S0719 02791000
*          ELSE DO;                 /* NO, IS NOT TEST               */ 02792000
         B     @RC00718                                         01S0720 02793000
@RF00718 DS    0H                                               01S0721 02794000
*            R0=SPL1+CBUFLNG;       /* LEN OF BUFFER + SPL1          */ 02795000
         L     @14,TPLCBUF(,WRKAPTR1)                           01S0721 02796000
         L     R0,@CF00093                                      01S0721 02797000
         AH    R0,CBUFLNG(,@14)                                 01S0721 02798000
*            R1 = TPLCBUF;          /* ADDR OF BUFFER TO BE FREED    */ 02799000
         LR    R1,@14                                           01S0722 02800000
*            GEN(FREEMAIN R,LV=(0),A=(1));                      01S0723 02801000
         FREEMAIN R,LV=(0),A=(1)                                        02802000
*            TPLCBUF=CSPLCBUF;      /* SET UP COMMAND BUFFER         */ 02803000
         L     @14,CSPLCBUF(,SRPARMLP)                          01S0724 02804000
         ST    @14,TPLCBUF(,WRKAPTR1)                           01S0724 02805000
*          END;                                                 01S0725 02806000
*      END;                                                     01S0726 02807000
*                                                               01S0726 02808000
@RC00718 DS    0H                                               01S0727 02809000
*    RESPECIFY (R14) RSTD;                                      01S0727 02810000
@RF00716 DS    0H                                               01S0728 02811000
*    R14 = ADDR(TSETCDA);           /* SET FOR PSEUDO-RETURN         */ 02812000
         LA    R14,TSETCDA                                      01S0728 02813000
*    RETURN;                        /* RETURN TO CALLER              */ 02814000
@EL00006 DS    0H                                               01S0729 02815000
@EF00006 DS    0H                                               01S0729 02816000
@ER00006 BR    @14                                              01S0729 02817000
*    RESPECIFY (R14) UNRSTD;                                    01S0730 02818000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02819000
*/*                                                                  */ 02820000
*/* SEGMENT NAME -- TSETCD2                                          */ 02821000
*/*                                                                  */ 02822000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02823000
*/*                                                                  */ 02824000
*/* FUNCTION -- TO SET UP COMMAND BUFFER AND FLOW FLAGS TO PERFORM   */ 02825000
*/*       TEST COMMAND PROCESSING                                    */ 02826000
*/*  OPERATION --                                                    */ 02827000
*/*           - RESET  THE DO-SET-UP-TEST-COMMAND-BUFFER  FLAG,      */ 02828000
*/*             DOSETTB                                              */ 02829000
*/*           - SET POINTER TO NEW COMMAND ENTRY (NOW IN COMMAND-    */ 02830000
*/*             SCAN BUFFER POINTER, CSPLCBUF) INTO TEST PARAMETER   */ 02831000
*/*             LIST AREA, TPLTBUF                                   */ 02832000
*/*           - SET TEST-COMMAND-PROCESSING-NOW-IN-CONTROL FLAG,     */ 02833000
*/*             TMPTEST                                              */ 02834000
*/*           - SET PERFORM-LINK-TO-TEST FLAG, DOTEST                */ 02835000
*/*                                                                  */ 02836000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02837000
*/*                                                                  */ 02838000
*/* INPUT -- N/A                                                     */ 02839000
*/*                                                                  */ 02840000
*/* OUTPUT -- N/A                                                    */ 02841000
*/*                                                                  */ 02842000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02843000
*/*                                                                  */ 02844000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02845000
*/*                                                                  */ 02846000
*/*   RETURN CODE -- N/A                                             */ 02847000
*/*                                                                  */ 02848000
*/* EXIT ERROR -- N/A                                                */ 02849000
*/*                                                                  */ 02850000
*/*   CONDITIONS -- N/A                                              */ 02851000
*/*                                                                  */ 02852000
*/*   RETURN CODE -- N/A                                             */ 02853000
*/*                                                                  */ 02854000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02855000
*TSETCD2:   /* EP TO SET-UP-TEST-COMMAND-BUFFER ROUTINE              */ 02856000
*    ENTRY;                                                     01S0731 02857000
TSETCD2  DS    0H                                               01S0732 02858000
*    RESPECIFY (R14) RSTD;                                      01S0732 02859000
*                                                               01S0732 02860000
*    DOSETTB = NO;                  /* RESET SET-TEST-BUFFER FLAG    */ 02861000
*                                                               01S0733 02862000
         NI    DOSETTB(WRKAPTR1),B'11110111'                    01S0733 02863000
*    TPLTBUF = CSPLCBUF;            /* SET PTR TO TEST-CMD-BUFFER    */ 02864000
         L     @06,CSPLCBUF(,SRPARMLP)                          01S0734 02865000
         ST    @06,TPLTBUF(,WRKAPTR1)                           01S0734 02866000
*    TMPTEST = YES;                 /* SET TEST-ACTIVE FLAG          */ 02867000
         OI    TMPTEST(WRKAPTR1),B'10000000'                    01S0735 02868000
*    DOTEST = YES;                  /* SET DO-LINK-TO-TEST FLAG      */ 02869000
*                                                               01S0736 02870000
         OI    DOTEST(WRKAPTR1),B'00100000'                     01S0736 02871000
*    RETURN;                        /* RETURN TO CALLER              */ 02872000
         B     @EL00006                                         01S0737 02873000
*    RESPECIFY (R14) UNRSTD;                                    01S0738 02874000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02875000
*/*                                                                  */ 02876000
*/* SEGMENT NAME -- TCHKAT1                                          */ 02877000
*/*                                                                  */ 02878000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02879000
*/*                                                                  */ 02880000
*/* FUNCTION -- TO DETACH  OR  TO SET UP DETACH FOR ANY CURRENTLY    */ 02881000
*/*       INCOMPLETE SUBTASK                                         */ 02882000
*/*  OPERATION --                                                    */ 02883000
*/*           - CHECK IF CURRENT TASK IS COMPLETE (IF THE TMP'S      */ 02884000
*/*             CURRENT IMMEDIATE SUBTASK TCB, LOCATED BY POINTER    */ 02885000
*/*             TPLCTCB) HAS BEEN CLEARED                            */ 02886000
*/*             - IF STILL ACTIVE (IMCOMPLETE), THEN --              */ 02887000
*/*               - SET ABNORMAL-DETACH FLAG, ECTATRM                */ 02888000
*/*               - CHECK IF ANY CURRENTLY ABENDING TCB (LOCATED     */ 02889000
*/*                 BY POINTER TPLNTCB) IS THE TCB FOR THE TMP'S     */ 02890000
*/*                 IMMEDIATE SUBTASK                                */ 02891000
*/*                 OR IF THAT CONDITION HAS PREVIOUSLY OCCURRED     */ 02892000
*/*                 (FLAG FRSTLAB IS ON)                             */ 02893000
*/*                 - IF YES TO EITHER, SET ALLOW-ABEND-COMPLETION   */ 02894000
*/*                   COMPLETION FLAG, DOPSTRT                       */ 02895000
*/*                 - IF NEITHER IS TRUE (NO PRIME LEVEL ABEND IS    */ 02896000
*/*                   PENDING) THEN --                               */ 02897000
*/*                   - PERFORM DETACH-TMP-SUBTASK ROUTINE, TDETCP   */ 02898000
*/*                   - IF ABEND PROCESSING IS IN CONTROL, THEN --   */ 02899000
*/*                     - SET PERFORM WAIT-ON-ECB-LIST ROUTINE FLAG, */ 02900000
*/*                       DOLIST                                     */ 02901000
*/*                                                                  */ 02902000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 02903000
*/*                                                                  */ 02904000
*/* INPUT -- N/A                                                     */ 02905000
*/*                                                                  */ 02906000
*/* OUTPUT -- N/A                                                    */ 02907000
*/*                                                                  */ 02908000
*/* EXTERNAL REFERENCES -- N/A                                       */ 02909000
*/*                                                                  */ 02910000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 02911000
*/*                                                                  */ 02912000
*/*   RETURN CODE -- N/A                                             */ 02913000
*/*                                                                  */ 02914000
*/* EXIT ERROR -- N/A                                                */ 02915000
*/*                                                                  */ 02916000
*/*   CONDITIONS -- N/A                                              */ 02917000
*/*                                                                  */ 02918000
*/*   RETURN CODE -- N/A                                             */ 02919000
*/*                                                                  */ 02920000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02921000
*TCHKAT1:   /* EP TO CHECK/DETACH-RUNNING-CP ROUTINE                 */ 02922000
*    ENTRY;                                                     01S0739 02923000
*                                                               01S0739 02924000
TCHKAT1  DS    0H                                               01S0740 02925000
*    IF TPLCTCB ^= ZERO             /* CHK FOR CP CURRENTLY RUNNING  */ 02926000
*      THEN DO;                     /* YES, DETACH RUNNING CP        */ 02927000
         L     @14,TPLCTCB(,WRKAPTR1)                           01S0740 02928000
         LTR   @14,@14                                          01S0740 02929000
         BZ    @RF00740                                         01S0740 02930000
*        ECTATRM=YES;               /* SIGNIFY ABNORMAL END          */ 02931000
         L     @06,ECTPTR(,WRKAPTR2)                            01S0742 02932000
         OI    ECTATRM(@06),B'00100000'                         01S0742 02933000
*        IF TPLCTCB=TPLNTCB         /* CHK IF IS CURRENT CP OR FOR   */ 02934000
*            | FRSTLAB=YES          /*   PRIOR 1ST LEVEL ABEND       */ 02935000
*          THEN                     /* YES,                          */ 02936000
         C     @14,TPLNTCB(,WRKAPTR1)                           01S0743 02937000
         BE    @RT00743                                         01S0743 02938000
         TM    FRSTLAB(WRKAPTR1),B'00000010'                    01S0743 02939000
         BNO   @RF00743                                         01S0743 02940000
@RT00743 DS    0H                                               01S0744 02941000
*            DOPSTRT=YES;           /* GO TO COMPLETE ABEND          */ 02942000
         OI    DOPSTRT(WRKAPTR1),B'00100000'                    01S0744 02943000
*          ELSE DO;                 /* IS NOT PRIME CP ABEND         */ 02944000
         B     @RC00743                                         01S0745 02945000
@RF00743 DS    0H                                               01S0746 02946000
*            CALL  TDETCP;          /* DETACH ABENDED CP             */ 02947000
         BAL   @14,TDETCP                                       01S0746 02948000
*            IF TMPSCTRL = YES      /* IS STAI IN CONTROL            */ 02949000
*              THEN                 /* YES,                          */ 02950000
         TM    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0747 02951000
         BNO   @RF00747                                         01S0747 02952000
*                DOLIST=YES;        /*   TO CHK NEXT CP ACTION       */ 02953000
         OI    DOLIST(WRKAPTR1),B'00100000'                     01S0748 02954000
*          END;                                                 01S0749 02955000
@RF00747 DS    0H                                               01S0750 02956000
*      END;                                                     01S0750 02957000
@RC00743 DS    0H                                               01S0751 02958000
*       IF CALLNOW = YES            /* CHK IF CALL ACTIVE     ZA27469*/ 02959000
*           & TPLCTCB = ZERO        /* NO CURRENT ATTACH      ZA27469*/ 02960000
*         THEN DO;                  /* YES,                   ZA27469*/ 02961000
@RF00740 TM    CALLNOW(WRKAPTR1),B'00001000'                    01S0751 02962000
         BNO   @RF00751                                         01S0751 02963000
         L     @14,TPLCTCB(,WRKAPTR1)                           01S0751 02964000
         LTR   @14,@14                                          01S0751 02965000
         BNZ   @RF00751                                         01S0751 02966000
*           CALLNOW = NO;         /* SET CALL-NOT-ACTIVE FLAG ZA27469*/ 02967000
         NI    CALLNOW(WRKAPTR1),B'11110111'                    01S0753 02968000
*           CALL DOCALL2;           /* GO TO TERMINATION      ZA27469*/ 02969000
         L     @15,@CV00134                                     01S0754 02970000
         BALR  @14,@15                                          01S0754 02971000
*         END;                      /*                        ZA27469*/ 02972000
*    RESPECIFY (R14) RSTD;                                      01S0756 02973000
@RF00751 DS    0H                                               01S0757 02974000
*    R14 = ADDR(TCHKATA);           /* SET FOR PSEUDO-RETURN         */ 02975000
         LA    R14,TCHKATA                                      01S0757 02976000
*    RETURN;                        /* RETURN TO CALLER              */ 02977000
         B     @EL00006                                         01S0758 02978000
*    RESPECIFY (R14) UNRSTD;                                    01S0759 02979000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 02980000
*/*                                                                  */ 02981000
*/* SEGMENT NAME -- TDOTEST                                          */ 02982000
*/*                                                                  */ 02983000
*/* DESCRIPTIVE NAME -- N/A                                          */ 02984000
*/*                                                                  */ 02985000
*/* FUNCTION -- TO SET UP CONDITIONS FOR TEST, PERFORM LINK TO TEST, */ 02986000
*/*       AND RESTORE MAINLINE PROCESSING AFTER RETURN FROM TEST     */ 02987000
*/*  OPERATION --                                                    */ 02988000
*/*           - RE-INITIALIZE FLOW CONTROL FLAGS FOR TEST ACTIVITY   */ 02989000
*/*           - SET LINK-ACTIVITY-CURRENT FLAG, LINKNOW              */ 02990000
*/*           - CHECK IF TEST COMMAND WAS WITHOUT OPERANDS AND IF    */ 02991000
*/*             ANY IF CURRENT TASK IS APF AUTHORIZED                */ 02992000
*/*             - IF BOTH ARE TRUE, THEN --                          */ 02993000
*/*               - SET UP TEST REJECTED MESSAGE                     */ 02994000
*/*               - SYNCH TO PERFORM-PUTLINE ROUTINE, TPUTL          */ 02995000
*/*             - IF TEST COMMAND INCLUDED OPERANDS OR APF-AUTHORI-  */ 02996000
*/*               ZATION IS NOT CURRENT, THEN --                     */ 02997000
*/*               - RESET APF-AUTHORIZATION FLAG, JSCBAUTH, TO       */ 02998000
*/*                 PERMIT TESTING THE SPECIFIED PROGRAM IN NON-     */ 02999000
*/*                 AUTHORIZED STATE                                 */ 03000000
*/*               - PROVIDE TSEVENT WITH NEW PROGRAM NAME            */ 03001000
*/*               - LOAD TEST                                        */ 03002000
*/*               - SYNCH TO TEST                                    */ 03003000
*/*               - DELETE TEST                                      */ 03004000
*/*             - RESET LINK-ACTIVE FLAG, LINKNOW, AND TEST-PROCES-  */ 03005000
*/*               SING-IN-CONTROL FLAG, TMPTEST                      */ 03006000
*/*             - FREEMAIN COMMAND BUFFER FOR COMMAND JUST TESTED,   */ 03007000
*/*               POINTED TO BY TPLTBUF                              */ 03008000
*/*             - ISSUE STATUS-START TO START ANY STOPPED SUBTASK    */ 03009000
*/*             - IF EXTERNALLY-FORCED-QUIT FLAG, ECTLOGF, IS ON,    */ 03010000
*/*               SET TMP TERMINATION FLAG, DODONE                   */ 03011000
*/*             - SET CHECK-PROCESSING-STATUS FLAG, DOLIST           */ 03012000
*/*                                                                  */ 03013000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03014000
*/*                                                                  */ 03015000
*/* INPUT -- N/A                                                     */ 03016000
*/*                                                                  */ 03017000
*/* OUTPUT -- N/A                                                    */ 03018000
*/*                                                                  */ 03019000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03020000
*/*                                                                  */ 03021000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03022000
*/*                                                                  */ 03023000
*/*   RETURN CODE -- N/A                                             */ 03024000
*/*                                                                  */ 03025000
*/* EXIT ERROR -- N/A                                                */ 03026000
*/*                                                                  */ 03027000
*/*   CONDITIONS -- N/A                                              */ 03028000
*/*                                                                  */ 03029000
*/*   RETURN CODE -- N/A                                             */ 03030000
*/*                                                                  */ 03031000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03032000
*TDOTEST:   /* EP TO LINK-TO-TEST-CP ROUTINE                         */ 03033000
*    ENTRY;                                                     01S0760 03034000
TDOTEST  DS    0H                                               01S0761 03035000
*    IF CSOAVNP = YES               /* CHK FOR NO-OPERANDS           */ 03036000
*        & JSCBAUTH = YES           /*   & FOR APF-AUTHORISED PGM    */ 03037000
*      THEN DO;                     /* YES, TEST IS PROHIBITED       */ 03038000
         L     @14,CSPLOA(,SRPARMLP)                            01S0761 03039000
         TM    CSOAVNP(@14),B'01000000'                         01S0761 03040000
         BNO   @RF00761                                         01S0761 03041000
         L     @14,CVTPTR                                       01S0761 03042000
         L     @14,CVTTCBP(,@14)                                01S0761 03043000
         L     @14,TCURTCB(,@14)                                01S0761 03044000
         L     @14,TCBJSCB(,@14)                                01S0761 03045000
         TM    JSCBAUTH(@14),B'00000001'                        01S0761 03046000
         BNO   @RF00761                                         01S0761 03047000
*        ACTSL = TM02SL;            /* INITIALIZE SEGMENT LIST       */ 03048000
         L     @14,@CA00126                                     01S0763 03049000
         MVC   ACTSL(112,WRKAPTR1),TM02SL-TM02SL(@14)           01S0763 03050000
*        R2 = PTPBPTR;              /* PTR TO PUTLINE PARM BLOCK     */ 03051000
         L     R2,PTPBPTR(,WRKAPTR1)                            01S0764 03052000
*        R15 = ADDR(TPUTL);         /* PTR TO ISSUE-PUTLINE RTN      */ 03053000
         LA    R15,TPUTL                                        01S0765 03054000
*        GEN FLOWS(TPUTL) (SYNCH  (15));  /* TO DO PUTLINE           */ 03055000
         SYNCH  (15)                                                    03056000
*        DOGETC = YES;              /* SET TO CONTINUE               */ 03057000
         OI    DOGETC(WRKAPTR1),B'00010000'                     01S0767 03058000
*        TMPACTRL = NO;             /* RESET ATTN-IN-CONTROL FLAG    */ 03059000
         NI    TMPACTRL(WRKAPTR1),B'11101111'                   01S0768 03060000
*      END;                                                     01S0769 03061000
*      ELSE DO;                     /* TEST IS PERMISSABLE           */ 03062000
         B     @RC00761                                         01S0770 03063000
@RF00761 DS    0H                                               01S0771 03064000
*        TMPSCTRL = NO;             /* RESET STAI IN CONTROL         */ 03065000
         NI    TMPSCTRL(WRKAPTR1),B'11110111'                   01S0771 03066000
*        R1 = LNUCMD1;              /* 1ST 4 CHARS OF CMD NAME       */ 03067000
         L     R1,LNUCMD1(,WRKAPTR1)                            01S0772 03068000
*        R15 = LNUCMD2;             /* 2ND 4 CHARS OF CMD NAME       */ 03069000
         L     R15,LNUCMD2(,WRKAPTR1)                           01S0773 03070000
*        GEN(TSEVENT  PPMODE);      /* ISSUE TSEVENT                 */ 03071000
         TSEVENT  PPMODE                                                03072000
*        LDOKSWT = '0'B;            /* RESET LOAD OK SWT.    @ZA14244*/ 03073000
         NI    LDOKSWT,B'01111111'                              01S0775 03074000
*        GEN(LOAD  EP=TEST,ERRET=TSTNTFND); /* LOAD IN TEST  @ZA14244*/ 03075000
         LOAD  EP=TEST,ERRET=TSTNTFND                                   03076000
*        LDOKSWT = '1'B;            /* SET LOAD OK SWITCH    @ZA14244*/ 03077000
         OI    LDOKSWT,B'10000000'                              01S0777 03078000
*        R15 = R0;                  /* SET EP TO TEST                */ 03079000
         LR    R15,R0                                           01S0778 03080000
*        R1 = ADDR(TPL);            /* SET PARM LIST PTR             */ 03081000
         LR    R1,WRKAPTR1                                      01S0779 03082000
*        GEN(SYNCH  (15));          /* ACTIVATE TEST                 */ 03083000
         SYNCH  (15)                                                    03084000
*        GEN(DELETE  EP=TEST);      /* REMOVE TEST FUNCTION          */ 03085000
         DELETE  EP=TEST                                                03086000
*        GEN(STATUS START);         /* START STOPPED SUBTASK         */ 03087000
         STATUS START                                                   03088000
*      END;                                                     01S0783 03089000
*TSTNTFND:                          /* TEST NOT FOUND BY LOAD@ZA14244*/ 03090000
*  IF LDOKSWT = '0'B                /* IF LOAD FAILED        @ZA14244*/ 03091000
*   THEN DO;                        /* DO MESSAGE            @ZA14244*/ 03092000
@RC00761 DS    0H                                               01S0784 03093000
TSTNTFND TM    LDOKSWT,B'10000000'                              01S0784 03094000
         BNZ   @RF00784                                         01S0784 03095000
*    MSGSEG(1) = ADDR(MSG56622);    /* SET MSG POINTER       @ZA14244*/ 03096000
         L     @14,@CA00131                                     01S0786 03097000
         ST    @14,MSGSEG(,WRKAPTR1)                            01S0786 03098000
*    DOPUTM = YES;                  /* SET TO DO MESSAGE     @ZA14244*/ 03099000
         OI    DOPUTM(WRKAPTR1),B'10000000'                     01S0787 03100000
*   END;                            /*                       @ZA14244*/ 03101000
*    TMPTEST = '0'B;                /* TEST NO LONGER IN CONTROL     */ 03102000
@RF00784 NI    TMPTEST(WRKAPTR1),B'01111111'                    01S0789 03103000
*    LINKNOW = NO;                  /* RESET LINK IN CONTROL         */ 03104000
         NI    LINKNOW(WRKAPTR1),B'11011111'                    01S0790 03105000
*    R0 = SPL1 + TPLTBUF->CBUFLNG;  /* LEN OF BUFF + SPL1            */ 03106000
         L     @14,TPLTBUF(,WRKAPTR1)                           01S0791 03107000
         L     R0,@CF00093                                      01S0791 03108000
         AH    R0,CBUFLNG(,@14)                                 01S0791 03109000
*    R1 = TPLTBUF;                  /* ADDR OF BUFFER TO BE FREE     */ 03110000
         LR    R1,@14                                           01S0792 03111000
*    GEN(FREEMAIN R,LV=(0),A=(1));  /* FREE SPACE                    */ 03112000
         FREEMAIN R,LV=(0),A=(1)                                        03113000
*    TPLTBUF = ZERO;                /* SET FOR NO BUFFER TO FREE     */ 03114000
         SLR   @14,@14                                          01S0794 03115000
         ST    @14,TPLTBUF(,WRKAPTR1)                           01S0794 03116000
*    IF ECTLOGF = YES               /* LOGOFF-LOGON REQUESTED?       */ 03117000
*      THEN                         /* YES,                          */ 03118000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0795 03119000
         TM    ECTLOGF(@14),B'00010000'                         01S0795 03120000
         BNO   @RF00795                                         01S0795 03121000
*        DODONE = YES;              /* RETURN TO LOGON SCHEDULER     */ 03122000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0796 03123000
*    DOLIST=YES;                    /* GO CHECK ECB LIST             */ 03124000
@RF00795 OI    DOLIST(WRKAPTR1),B'00100000'                     01S0797 03125000
*    RESPECIFY (R14) RSTD;                                      01S0798 03126000
*    IF LDOKSWT = '0'B              /* IF TEST NOT FOUND     @ZA14244*/ 03127000
*     THEN                          /* SET UP RETURN         @ZA14244*/ 03128000
         TM    LDOKSWT,B'10000000'                              01S0799 03129000
         BNZ   @RF00799                                         01S0799 03130000
*      R14 = ADDR(TINVOKB);         /* FOR MESSAGE           @ZA14244*/ 03131000
         LA    R14,TINVOKB                                      01S0800 03132000
*    ELSE                           /*                       @ZA14244*/ 03133000
*      R14 = ADDR(TCHKATB);         /* SET FOR PSEUDO-RETURN         */ 03134000
         B     @RC00799                                         01S0801 03135000
@RF00799 LA    R14,TCHKATB                                      01S0801 03136000
*    RETURN;                        /* RETURN TO CALLER              */ 03137000
         B     @EL00006                                         01S0802 03138000
*    RESPECIFY (R14) UNRSTD;                                    01S0803 03139000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03140000
*/*                                                                  */ 03141000
*/* SEGMENT NAME -- TACTV1                                           */ 03142000
*/*                                                                  */ 03143000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03144000
*/*                                                                  */ 03145000
*/* FUNCTION -- TO ACTIVATE CALL COMMAND PROCESSOR                   */ 03146000
*/*  OPERATION --                                                    */ 03147000
*/*           - SET CALL-COMMAND-PROCESSOR-ACTIVE FLAG, CALLNOW      */ 03148000
*/*           - GO TO CALL COMMAND PROCESSOR ROUTINE, IKJEFT08       */ 03149000
*/*                                                                  */ 03150000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03151000
*/*                                                                  */ 03152000
*/* INPUT -- N/A                                                     */ 03153000
*/*                                                                  */ 03154000
*/* OUTPUT -- N/A                                                    */ 03155000
*/*                                                                  */ 03156000
*/* EXTERNAL REFERENCES -- IKJEFT08                                  */ 03157000
*/*                                                                  */ 03158000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03159000
*/*                                                                  */ 03160000
*/*   RETURN CODE -- N/A                                             */ 03161000
*/*                                                                  */ 03162000
*/* EXIT ERROR -- N/A                                                */ 03163000
*/*                                                                  */ 03164000
*/*   CONDITIONS -- N/A                                              */ 03165000
*/*                                                                  */ 03166000
*/*   RETURN CODE -- N/A                                             */ 03167000
*/*                                                                  */ 03168000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03169000
*TACTV1:    /* EP TO INVOKE-CALL-FUNCTION  OUTINE                    */ 03170000
*    ENTRY;                                                     01S0804 03171000
*                                                               01S0804 03172000
TACTV1   DS    0H                                               01S0805 03173000
*    CALLNOW = YES;                 /* SET CALL-ACTIVE FLAG          */ 03174000
         OI    CALLNOW(WRKAPTR1),B'00001000'                    01S0805 03175000
*    CALL  IKJEFT08;                /* TO PERFORM CALL FUNCTION      */ 03176000
*                                                               01S0806 03177000
         L     @15,@CV00138                                     01S0806 03178000
         BALR  @14,@15                                          01S0806 03179000
*    RESPECIFY (R14) RSTD;                                      01S0807 03180000
*    R14 = ADDR(TACTVA);            /* SET FOR PSEUDO-RETURN         */ 03181000
         LA    R14,TACTVA                                       01S0808 03182000
*    RETURN;                        /* RETURN TO CALLER              */ 03183000
         B     @EL00006                                         01S0809 03184000
*    RESPECIFY (R14) UNRSTD;                                    01S0810 03185000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03186000
*/*                                                                  */ 03187000
*/* SEGMENT NAME -- TACTV2                                           */ 03188000
*/*                                                                  */ 03189000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03190000
*/*                                                                  */ 03191000
*/* FUNCTION -- TO SEARCH PAGEABLE-LPA FOR COMMAND NAME ENTERED      */ 03192000
*/*  OPERATION --                                                    */ 03193000
*/*           - LOAD COMMAND NAME ACROSS REGISTERS 0 AND 1           */ 03194000
*/*           - RESERVE REGISTERS 5 THROUGH 9 (USED BY IEAVVMSR)     */ 03195000
*/*           - GO TO EXTERNAL ROUTINE IEAVVMSR WHICH SEARCHES       */ 03196000
*/*             THROUGH THE PAGEABLE LINK PACK AREA FOR NEW COMMAND  */ 03197000
*/*             NAME                                                 */ 03198000
*/*           - IF IEAVVMSR FINDS THE NAME, IT RETURN CONTROL TO THE */ 03199000
*/*             NEXT SEQUENTIAL INSTRUCTION FOLLOWING ITS LINK EXIT  */ 03200000
*/*             AND REGISTER 14 CONTAINS A POINTER TO THE NAMED      */ 03201000
*/*             PROGRAM.  THIS NEXT SEQUENTIAL INSTRUCTION IN THE    */ 03202000
*/*             TMP SETS REGISTER 14 TO ZERO TO INDICATE NAME FOUND. */ 03203000
*/*           - IF IEAVVMSR FAILS TO FIND THE COMMAND NAME IN LPA,   */ 03204000
*/*             CONTROL IS RETURNED TO SECOND SEQUENTIAL INSTRUC-    */ 03205000
*/*             TION FOLLOWING THE LINK EXIT AND REGISTER 14 STILL   */ 03206000
*/*             HOLDS THE LINK ADDRESS OF IEAVVMSR                   */ 03207000
*/*           - RESTORE RESERVED REGISTERS 5 THROUGH 9               */ 03208000
*/*           - IF COMMAND NAME WAS NOT FOUND (REGISTER 14 NOT ZERO) */ 03209000
*/*             THEN GO TO ROUTINE TACTV3 TO CONTINUE SEARCH         */ 03210000
*/*                                                                  */ 03211000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03212000
*/*                                                                  */ 03213000
*/* INPUT -- N/A                                                     */ 03214000
*/*                                                                  */ 03215000
*/* OUTPUT -- N/A                                                    */ 03216000
*/*                                                                  */ 03217000
*/* EXTERNAL REFERENCES -- IEAVVMSR (SEARCH PAGEABLE LPA ROUTINE)    */ 03218000
*/*                                                                  */ 03219000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03220000
*/*                                                                  */ 03221000
*/*   RETURN CODE -- N/A                                             */ 03222000
*/*                                                                  */ 03223000
*/* EXIT ERROR -- N/A                                                */ 03224000
*/*                                                                  */ 03225000
*/*   CONDITIONS -- N/A                                              */ 03226000
*/*                                                                  */ 03227000
*/*   RETURN CODE -- N/A                                             */ 03228000
*/*                                                                  */ 03229000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03230000
*TACTV2:    /* EP TO SEARCH-PAGEABLE-LPA ROUTINE                     */ 03231000
*    ENTRY;                                                     01S0811 03232000
*                                                               01S0811 03233000
TACTV2   DS    0H                                               01S0812 03234000
*    /* SEARCH LPA FOR COMMAND NAME                                  */ 03235000
*    LM(R0,R1,NXTCMD);              /* SET TARGET NAME               */ 03236000
         LM    R0,R1,NXTCMD(WRKAPTR1)                           01S0812 03237000
*    RESPECIFY (R3,R5,R6,R7,R8,R9,R14) RSTD;                    01S0813 03238000
*    STM(R5,R9,SVT042A);            /* RESERVE REGISTERS             */ 03239000
         L     @04,TMPWA2P(,WRKAPTR2)                           01S0814 03240000
         STM   R5,R9,SVT042A(@04)                               01S0814 03241000
*    R5 = ADDR(TMPWA2);             /* RESERVE TEMPORARY AREA PTR    */ 03242000
         LR    R5,@04                                           01S0815 03243000
*    R3 = CVTPTR;                   /* SET CVT POINTER               */ 03244000
         L     @04,CVTPTR                                       01S0816 03245000
         LR    R3,@04                                           01S0816 03246000
*    CALL  IEAVVMSR;                /* GO TO SEARCH ROUTINE          */ 03247000
         L     @15,CVTLPDSR(,@04)                               01S0817 03248000
         BALR  @14,@15                                          01S0817 03249000
*    GEN SETS(R14) (LA    R14,0(0,0));  /* SET FOUND                 */ 03250000
         LA    R14,0(0,0)                                               03251000
*    RESPECIFY (TMPWA2) BASED(R5);                              01S0819 03252000
*    LM(R5,R9,SVT042A);             /* RESTORE REGISTERS             */ 03253000
         LM    R5,R9,SVT042A(R5)                                01S0820 03254000
*    RESPECIFY (TMPWA2) BASED(TMPWA2P);                         01S0821 03255000
*    RESPECIFY (R3,R5,R6,R7,R8,R9) UNRSTD;                      01S0822 03256000
*                                                               01S0822 03257000
*    /* CHECK IF FOUND IN LPA                                        */ 03258000
*    /* NO, CONTINUE SEARCH IN ACTIVE LPA                            */ 03259000
*    IF R14 ^= ZERO                 /* CHK FOR FOUND RETURN CODE     */ 03260000
*      THEN                         /* NO,                           */ 03261000
         LTR   R14,R14                                          01S0823 03262000
         BZ    @RF00823                                         01S0823 03263000
*        CALL TACTV3;               /*    TO CONTINUE SEARCH         */ 03264000
*                                                               01S0824 03265000
         BAL   @14,TACTV3                                       01S0824 03266000
*    RESPECIFY (R14) RSTD;                                      01S0825 03267000
@RF00823 DS    0H                                               01S0826 03268000
*TACTV2A:                           /* FOR PSEUDO-RETURN             */ 03269000
*    R14 = ADDR(TACTVB);            /* SET FOR PSEUDO-RETURN         */ 03270000
TACTV2A  LA    R14,TACTVB                                       01S0826 03271000
*    RESPECIFY (R14) UNRSTD;                                    01S0827 03272000
*    END  TSETCD1;                  /* RETURN TO CALLER              */ 03273000
         B     @EL00006                                         01S0828 03274000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03275000
*/*                                                                  */ 03276000
*/* SEGMENT NAME -- TACTV3                                           */ 03277000
*/*                                                                  */ 03278000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03279000
*/*                                                                  */ 03280000
*/* FUNCTION -- TO SEARCH ACTIVE-LPA FOR COMMAND NAME ENTERED        */ 03281000
*/*  OPERATION --                                                    */ 03282000
*/*           - ISSUE IDENTIFY MACRO TO SEARCH ACTIVE LPA FOR NEW    */ 03283000
*/*             COMMAND NAME                                         */ 03284000
*/*           - IF IDENTIFY RETURN CODE IS UNSATISFACTORY (OTHER     */ 03285000
*/*             THAN 8, 12, OR 20) ABEND WITH DUMP TO INDICATE ERROR */ 03286000
*/*           - IF IDENTIFY RETURNS THE NOT-FOUND CODE (12), GO TO   */ 03287000
*/*             ROUTINE, TACTV4, TO CONTINUE SEARCH (WITH BLDL)      */ 03288000
*/*                                                                  */ 03289000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03290000
*/*                                                                  */ 03291000
*/* INPUT -- N/A                                                     */ 03292000
*/*                                                                  */ 03293000
*/* OUTPUT -- N/A                                                    */ 03294000
*/*                                                                  */ 03295000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03296000
*/*                                                                  */ 03297000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03298000
*/*                                                                  */ 03299000
*/*   RETURN CODE -- N/A                                             */ 03300000
*/*                                                                  */ 03301000
*/* EXIT ERROR -- N/A                                                */ 03302000
*/*                                                                  */ 03303000
*/*   CONDITIONS -- N/A                                              */ 03304000
*/*                                                                  */ 03305000
*/*   RETURN CODE -- N/A                                             */ 03306000
*/*                                                                  */ 03307000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03308000
*TACTV3:    /* EP TO SEARCH-ACTIVE-LPA ROUTINE                       */ 03309000
*    PROC OPTIONS(DONTSAVE,NOSAVEAREA);                         01S0829 03310000
*                                                               01S0829 03311000
TACTV3   DS    0H                                               01S0830 03312000
*    /* SEARCH ACTIVE=LPA FOR COMMAND NAME                           */ 03313000
*    R0 = ADDR(NXTCMD);             /* PTR TO TARGET NAME            */ 03314000
         LA    R0,NXTCMD(,WRKAPTR1)                             01S0830 03315000
*    R1 = ZERO;                     /* NULL ENTRY PTR                */ 03316000
         SLR   R1,R1                                            01S0831 03317000
*    GEN SETS(R0,R1) (IDENTIFY  EPLOC=(R0),ENTRY=(R1));         01S0832 03318000
         IDENTIFY  EPLOC=(R0),ENTRY=(R1)                                03319000
*    /* CHECK FOR ERROR IN SEARCH                                    */ 03320000
*    IF R15 ^= D8                   /* CHK FOR FOUND RC              */ 03321000
*        & R15 ^= D12               /* CHK FOR NOT-FOUND RC          */ 03322000
*        & R15 ^= D20               /* CHK FOR PRIOR-FOUND RC        */ 03323000
*      THEN                         /* NONE OF ABOVE,                */ 03324000
         C     R15,@CF00041                                     01S0833 03325000
         BE    @RF00833                                         01S0833 03326000
         C     R15,@CF00054                                     01S0833 03327000
         BE    @RF00833                                         01S0833 03328000
         C     R15,@CF00056                                     01S0833 03329000
         BE    @RF00833                                         01S0833 03330000
*        GEN(ABEND 208,DUMP);       /* INDICATE IDENTIFY ERROR       */ 03331000
         ABEND 208,DUMP                                                 03332000
*    /* CHK IF FOUND IN ACTIVE-LPA                                   */ 03333000
*    /* NO, CONTINUE SEARCH IN LINK LIST                             */ 03334000
*    IF R15 = D12                   /* CHK FOR NOT-FOUND RC          */ 03335000
*      THEN                         /* YES, NOT FOUND                */ 03336000
@RF00833 C     R15,@CF00054                                     01S0835 03337000
         BNE   @RF00835                                         01S0835 03338000
*        CALL  TACTV4;              /* CONTINUE SEARCH               */ 03339000
*                                                               01S0836 03340000
         BAL   @14,TACTV4                                       01S0836 03341000
*    RESPECIFY (R14) RSTD;                                      01S0837 03342000
@RF00835 DS    0H                                               01S0838 03343000
*TACTV3A:                           /* FOR PSEUDO-RETURN             */ 03344000
*    R14 = ADDR(TACTV2A);           /* SET FOR PSEUDO-RETURN         */ 03345000
TACTV3A  LA    R14,TACTV2A                                      01S0838 03346000
*    RETURN;                        /* RETURN TO CALLER              */ 03347000
@EL00007 DS    0H                                               01S0839 03348000
@EF00007 DS    0H                                               01S0839 03349000
@ER00007 BR    @14                                              01S0839 03350000
*    RESPECIFY (R14) UNRSTD;                                    01S0840 03351000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03352000
*/*                                                                  */ 03353000
*/* SEGMENT NAME -- TACTV6                                           */ 03354000
*/*                                                                  */ 03355000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03356000
*/*                                                                  */ 03357000
*/* FUNCTION -- TO ATTACH THE COMMAND PROCESSOR WHOSE NAME WAS       */ 03358000
*/*       LOCATED IN LPA                                             */ 03359000
*/*  OPERATION --                                                    */ 03360000
*/*           - IF NO ATTACH HAS ALREADY BEEN DONE AND CALL-         */ 03361000
*/*             PROCESSING IS NOT CURRENTLY ACTIVE, THEN --          */ 03362000
*/*             - RESET APF-AUTHORIZATION FLAG (JSCBAUTH)            */ 03363000
*/*             - SET TCB PROTECTION KEY TO PROBLEM PROGRAM KEY (8)  */ 03364000
*/*             - SET ATTACH-CURRENTLY-ACTIVE FLAG, ATCHNOW          */ 03365000
*/*             - INITIALIZE PARAMETER LISTS AND POINTERS FOR ATTACH */ 03366000
*/*             - ISSUE ATTACH (EPLOC) WITH ESTAI (TO IKJEFT04), AND */ 03367000
*/*               WITH REQUEST FOR SPECIAL APF HANDLING (RSAPF)      */ 03368000
*/*             - ON RETURN FROM ATTACH, SAVE POINTER TO SUBTASK TCB */ 03369000
*/*               (IN REGISTER 1) IN AREA TPLCTCB                    */ 03370000
*/*           - IF ATTACH RETURN CODE IS UNSATISFACTORY (NOT ZERO)   */ 03371000
*/*             THEN ABEND WITH DUMP TO INDICATE ATTACH FAILURE      */ 03372000
*/*           - SUPPLY TSEVENT WIHT NAME OF JUST ATTACHED COMMAND    */ 03373000
*/*             PROCESSOR PROGRAM                                    */ 03374000
*/*           - SET DO-WAIT-FOR-SUBTASK-COMPLETION FLAG, DOWAIT      */ 03375000
*/*                                                                  */ 03376000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03377000
*/*                                                                  */ 03378000
*/* INPUT -- N/A                                                     */ 03379000
*/*                                                                  */ 03380000
*/* OUTPUT -- N/A                                                    */ 03381000
*/*                                                                  */ 03382000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03383000
*/*                                                                  */ 03384000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03385000
*/*                                                                  */ 03386000
*/*   RETURN CODE -- N/A                                             */ 03387000
*/*                                                                  */ 03388000
*/* EXIT ERROR -- N/A                                                */ 03389000
*/*                                                                  */ 03390000
*/*   CONDITIONS -- N/A                                              */ 03391000
*/*                                                                  */ 03392000
*/*   RETURN CODE -- N/A                                             */ 03393000
*/*                                                                  */ 03394000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03395000
*TACTV6:    /* EP TO ATTACH-CP-FOUND-IN-LPA ROUTINE                  */ 03396000
*    ENTRY;                                                     01S0841 03397000
*                                                               01S0841 03398000
TACTV6   DS    0H                                               01S0842 03399000
*    /* CHK IF CP NAME FOUND IN LPA OR ACTIVE-LPA                    */ 03400000
*    IF ATCHNOW = NO                /* CHK FOR BLDL-ATTACH           */ 03401000
*        & CALLNOW = NO             /*   OR IF CALL IS ACTIVE        */ 03402000
*      THEN DO;                     /* NO, DO DIRECT ATTACH          */ 03403000
         TM    ATCHNOW(WRKAPTR1),B'10001000'                    01S0842 03404000
         BNZ   @RF00842                                         01S0842 03405000
*        CALL TSRCHAPF;             /* DETERMINE APF ELIGIBILITY     */ 03406000
         BAL   @14,TSRCHAPF                                     01S0844 03407000
*        ATCHNOW = YES;             /* ATTACH-ACTIVE BIT             */ 03408000
         OI    ATCHNOW(WRKAPTR1),B'10000000'                    01S0845 03409000
*        R1 = ADDR(CPPL);           /* PTR TO CP PARM LIST           */ 03410000
         L     @14,CPPLPTR(,WRKAPTR1)                           01S0846 03411000
         LR    R1,@14                                           01S0846 03412000
*        CPPL = TPL;                /* INITIALIZE PARM LIST          */ 03413000
         MVC   CPPL(16,@14),TPL(WRKAPTR1)                       01S0847 03414000
*        RESPECIFY (R3,R4,R5) RSTD;                             01S0848 03415000
*        R3 = TPLCECB;              /* SET PTR TO CP ECB             */ 03416000
         L     R3,TPLCECB(,WRKAPTR1)                            01S0849 03417000
*        R4 = TMPT04;               /* PTR TO ABEND STAI EXIT        */ 03418000
         L     R4,TMPT04(,WRKAPTR2)                             01S0850 03419000
*        R5 = R8;                   /* SET PTR TO PASSED PL          */ 03420000
         LR    R5,R8                                            01S0851 03421000
*        R15 = ATTCHPTR;            /* SET PTR TO ATTACH PL          */ 03422000
         L     R15,ATTCHPTR(,WRKAPTR1)                          01S0852 03423000
*        IF DRSAPF = YES            /* CHK FOR ATTACH WITH APF       */ 03424000
*          THEN DO;                 /* YES,                          */ 03425000
         TM    DRSAPF(WRKAPTR2),B'01000000'                     01S0853 03426000
         BNO   @RF00853                                         01S0853 03427000
*            GENERATE  SETS(R14);                               01S0855 03428000
          LA    R14,NXTCMD(WRKAPTR1)   SET PTR TO NEXT  NAME            03429000
          ATTACH  EPLOC=(R14),ECB=(R3),ESTAI=((R4),(R5)),RSAPF=YES,    *03430000
               MF=(E,(1)),SF=(E,(15))                                   03431000
*          END;                                                 01S0856 03432000
*          ELSE DO;                 /* DO NOT ATTACH WITH APF        */ 03433000
         B     @RC00853                                         01S0857 03434000
@RF00853 DS    0H                                               01S0858 03435000
*            R15 = ADDR(TATACHB);   /* SET PTR TO ATTACH    @Z403333 */ 03436000
         LA    R15,TATACHB                                      01S0858 03437000
*            GEN FLOWS(TATACHB) (SYNCH  (15));  /* TO RTN   @Z403333 */ 03438000
         SYNCH  (15)                                                    03439000
*          END;                                                 01S0860 03440000
*        RCODE = R15;               /* SAVE RETURN CODE              */ 03441000
@RC00853 ST    R15,RCODE(,WRKAPTR1)                             01S0861 03442000
*        TPLCTCB = R1;              /* SAVE TCB POINTER              */ 03443000
         ST    R1,TPLCTCB(,WRKAPTR1)                            01S0862 03444000
*      END;                                                     01S0863 03445000
*                                                               01S0863 03446000
*    RESPECIFY (R3,R4,R5) UNRSTD;                               01S0864 03447000
@RF00842 DS    0H                                               01S0865 03448000
*    IF RCODE ^= ATTDONE            /* CHK FOR SATISFACTORY ATTACH   */ 03449000
*      THEN                         /* NO,                           */ 03450000
         L     @14,RCODE(,WRKAPTR1)                             01S0865 03451000
         LTR   @14,@14                                          01S0865 03452000
         BZ    @RF00865                                         01S0865 03453000
*        GEN(ABEND 201,DUMP);       /*   INDICATE ATTACH FAILURE     */ 03454000
*                                                               01S0866 03455000
         ABEND 201,DUMP                                                 03456000
*    R1 = ANUCMD1;                  /* 1ST 4 CHARS OF CMD NAME       */ 03457000
@RF00865 L     R1,ANUCMD1(,WRKAPTR1)                            01S0867 03458000
*    R15 = ANUCMD2;                 /* 2ND 4 CHARS OF CMD NAME       */ 03459000
         L     R15,ANUCMD2(,WRKAPTR1)                           01S0868 03460000
*    GEN(TSEVENT   PPMODE);         /* ISSUE TSEVENT                 */ 03461000
         TSEVENT   PPMODE                                               03462000
*    DOWAIT = YES;                                              01S0870 03463000
*                                                               01S0870 03464000
         OI    DOWAIT(WRKAPTR1),B'00000100'                     01S0870 03465000
*    RESPECIFY (R14) RSTD;                                      01S0871 03466000
*    R14 = ADDR(TACTVC);            /* SET FOR PSEUDO-RETURN         */ 03467000
         LA    R14,TACTVC                                       01S0872 03468000
*    RESPECIFY (R14) UNRSTD;                                    01S0873 03469000
*    END  TACTV3;                   /* RETURN TO CALLER              */ 03470000
         B     @EL00007                                         01S0874 03471000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03472000
*/*                                                                  */ 03473000
*/* SEGMENT NAME -- TACTV4                                           */ 03474000
*/*                                                                  */ 03475000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03476000
*/*                                                                  */ 03477000
*/* FUNCTION -- TO SEARCH LINK-LIST FOR NEW COMMAND NAME (WITH BLDL) */ 03478000
*/*  OPERATION --                                                    */ 03479000
*/*           - INSERT NEW COMMAND NAME IN BLDL PARAMETER BLOCK      */ 03480000
*/*           - ISSUE BLDL                                           */ 03481000
*/*           - IF BLDL RETURN CODE IS OTHER THAN NAME FOUND (0) OR  */ 03482000
*/*             NOT-FOUND (4), ABEND (202) WITH DUMP TO INDICATE     */ 03483000
*/*             BLDL FAILURE                                         */ 03484000
*/*           - IF BLDL RETURN CODE IS NOT-FOUND CODE (4), THEN --   */ 03485000
*/*             - SET PERFORM IMPLICIT-EXEC FUNCTION FLAG, DOIMPLX   */ 03486000
*/*             - SET PERFORM-NEXT-COMMAND-INVOCATION FUNCTION FLAG, */ 03487000
*/*               DOINVOK                                            */ 03488000
*/*             - RESET CHECK-CURRENT-COMMAND-TASK-STATUS FLAG,      */ 03489000
*/*               DOCHKCP                                            */ 03490000
*/*           - IF BLDL RETURN CODE IS NAME-FOUND CODE (0), THEN GO  */ 03491000
*/*             TO ATTACH (DE) ROUTINE, TACTV5                       */ 03492000
*/*                                                                  */ 03493000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03494000
*/*                                                                  */ 03495000
*/* INPUT -- N/A                                                     */ 03496000
*/*                                                                  */ 03497000
*/* OUTPUT -- N/A                                                    */ 03498000
*/*                                                                  */ 03499000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03500000
*/*                                                                  */ 03501000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03502000
*/*                                                                  */ 03503000
*/*   RETURN CODE -- N/A                                             */ 03504000
*/*                                                                  */ 03505000
*/* EXIT ERROR -- N/A                                                */ 03506000
*/*                                                                  */ 03507000
*/*   CONDITIONS -- N/A                                              */ 03508000
*/*                                                                  */ 03509000
*/*   RETURN CODE -- N/A                                             */ 03510000
*/*                                                                  */ 03511000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03512000
*TACTV4:    /* EP TO SEARCH-FOR-CP-WITH-BLDL ROUTINE                 */ 03513000
*    PROC OPTIONS(DONTSAVE,NOSAVEAREA);                         01S0875 03514000
*                                                               01S0875 03515000
TACTV4   DS    0H                                               01S0876 03516000
*    /* SEARCH LINK LIST                                             */ 03517000
*    BLDLNAME = NXTCMD;             /* TARGET NAME                   */ 03518000
         MVC   BLDLNAME(8,WRKAPTR1),NXTCMD(WRKAPTR1)            01S0876 03519000
*    R1 = ZERO;                     /* INDICATE NO DCB               */ 03520000
         SLR   R1,R1                                            01S0877 03521000
*    R0 = ADDR(BLDLLST);            /* BUILD LIST                    */ 03522000
         LA    R0,BLDLLST(,WRKAPTR1)                            01S0878 03523000
*    GEN(BLDL  (1),(0));            /* ISSUE BLDL                    */ 03524000
         BLDL  (1),(0)                                                  03525000
*    /* CHK FOR BLDL ERROR                                           */ 03526000
*    IF R15 ^= BLDLNFND             /* NOT-FOUND                     */ 03527000
*        & R15 ^= BLDLFND           /* & FOUND RC                    */ 03528000
*      THEN                         /* NEITHER,                      */ 03529000
         C     R15,@CF00045                                     01S0880 03530000
         BE    @RF00880                                         01S0880 03531000
         LTR   R15,R15                                          01S0880 03532000
         BZ    @RF00880                                         01S0880 03533000
*        GEN(ABEND 202,DUMP);       /*   INDICATE BLDL ERROR         */ 03534000
         ABEND 202,DUMP                                                 03535000
*    /* CHK IF NAME NOT-FOUND                                        */ 03536000
*    IF R15 = BLDLNFND              /* CHK FOR FOUND RETURN CODE     */ 03537000
*      THEN DO;                     /* YES, TRY IMPLICIT             */ 03538000
@RF00880 C     R15,@CF00045                                     01S0882 03539000
         BNE   @RF00882                                         01S0882 03540000
*        DOIMPLX = YES;             /* SET DO-IMPLICIT-EXEC FLAG     */ 03541000
         OI    DOIMPLX(WRKAPTR1),B'01000000'                    01S0884 03542000
*        DOINVOK = YES;             /* SET DO-NEXT-CMD-LOOP FLAG     */ 03543000
         OI    DOINVOK(WRKAPTR1),B'00000100'                    01S0885 03544000
*        DOCHKCP = NO;              /* TO RETURN TO DO-EXEC-CMD      */ 03545000
         NI    DOCHKCP(WRKAPTR1),B'11111101'                    01S0886 03546000
*      END;                                                     01S0887 03547000
*      ELSE                         /* CP NAME FOUND,                */ 03548000
*        CALL  TACTV5;              /*   TO PERFORM ATTACH-CP        */ 03549000
*                                                               01S0888 03550000
         B     @RC00882                                         01S0888 03551000
@RF00882 BAL   @14,TACTV5                                       01S0888 03552000
*    RESPECIFY (R14) RSTD;                                      01S0889 03553000
@RC00882 DS    0H                                               01S0890 03554000
*TACTV4A:                           /* FOR PSEUDO-RETURN             */ 03555000
*    R14 = ADDR(TACTV3A);           /* SET FOR PSEUDO-RETURN         */ 03556000
TACTV4A  LA    R14,TACTV3A                                      01S0890 03557000
*    RESPECIFY (R14) UNRSTD;                                    01S0891 03558000
*    END  TACTV4;                   /* RETURN TO CALLER              */ 03559000
@EL00008 DS    0H                                               01S0892 03560000
@EF00008 DS    0H                                               01S0892 03561000
@ER00008 BR    @14                                              01S0892 03562000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03563000
*/*                                                                  */ 03564000
*/* SEGMENT NAME -- TACTV5                                           */ 03565000
*/*                                                                  */ 03566000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03567000
*/*                                                                  */ 03568000
*/* FUNCTION -- TO ATTACH THE COMMAND PROCESSOR WHOSE NAME WAS       */ 03569000
*/*       LOCATED BY BLDL                                            */ 03570000
*/*  OPERATION --                                                    */ 03571000
*/*           - RESET APF-AUTHORIZATION FLAG, JSCBAUTH               */ 03572000
*/*           - SET ATTACH-CURRENTLY-ACTIVE FLAG, ATCHNOW            */ 03573000
*/*           - SET TMP-TASK TCB PROTECTION KEY TO PROBLEM PROGRAM   */ 03574000
*/*             PROTECTION KEY (8)                                   */ 03575000
*/*           - INITIALIZE PARAMETER LISTS AND POINTERS FOR ATTACH   */ 03576000
*/*           - ISSUE ATTACH (DE), WITH ESTAI (TO IKJEFT04), AND     */ 03577000
*/*             WITH REQUEST FOR SPECIAL APF HANDLING (RSAPF)        */ 03578000
*/*           - ON RETURN FROM ATTACH SAVE POINTER TO SUBTASK TCB    */ 03579000
*/*             (IN REGISTER 1) IN AREA, TPLCTCB                     */ 03580000
*/*           - SAVE ATTACH RETURN CODE IN AREA, RCODE               */ 03581000
*/*                                                                  */ 03582000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03583000
*/*                                                                  */ 03584000
*/* INPUT -- N/A                                                     */ 03585000
*/*                                                                  */ 03586000
*/* OUTPUT -- N/A                                                    */ 03587000
*/*                                                                  */ 03588000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03589000
*/*                                                                  */ 03590000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03591000
*/*                                                                  */ 03592000
*/*   RETURN CODE -- N/A                                             */ 03593000
*/*                                                                  */ 03594000
*/* EXIT ERROR -- N/A                                                */ 03595000
*/*                                                                  */ 03596000
*/*   CONDITIONS -- N/A                                              */ 03597000
*/*                                                                  */ 03598000
*/*   RETURN CODE -- N/A                                             */ 03599000
*/*                                                                  */ 03600000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03601000
*TACTV5:    /* EP TO ATTACH-CP-FOUND-BY-BLDL ROUTINE                 */ 03602000
*    PROC OPTIONS(DONTSAVE,NOSAVEAREA);                         01S0893 03603000
*                                                               01S0893 03604000
TACTV5   DS    0H                                               01S0894 03605000
*    /* NAME FOUND, ATTACH CP IN PROBLEM PROGRAM STATE, PP KEY       */ 03606000
*    ATCHNOW = YES;                 /* ATTACH-ACTIVE                 */ 03607000
         OI    ATCHNOW(WRKAPTR1),B'10000000'                    01S0894 03608000
*    CALL TSRCHAPF;                 /* DETERMINE APF ELIGIBILITY     */ 03609000
*                                                               01S0895 03610000
         BAL   @14,TSRCHAPF                                     01S0895 03611000
*    R1 = ADDR(CPPL);               /* PTR TO CP PARMS               */ 03612000
         L     @14,CPPLPTR(,WRKAPTR1)                           01S0896 03613000
         LR    R1,@14                                           01S0896 03614000
*    CPPL = TPL;                    /* INITIALIZE PL                 */ 03615000
         MVC   CPPL(16,@14),TPL(WRKAPTR1)                       01S0897 03616000
*    RESPECIFY (R3,R4,R5,R14) RSTD;                             01S0898 03617000
*    R3 = TPLCECB;                  /* PTR TO CP ECB                 */ 03618000
         L     R3,TPLCECB(,WRKAPTR1)                            01S0899 03619000
*    R5 = R8;                       /* PTR TO PASSED PARM LIST       */ 03620000
         LR    R5,R8                                            01S0900 03621000
*    IF DRSAPF = YES                /* CHK FOR ATTACH WITH APF       */ 03622000
*      THEN DO;                     /* YES, WITH APF                 */ 03623000
         TM    DRSAPF(WRKAPTR2),B'01000000'                     01S0901 03624000
         BNO   @RF00901                                         01S0901 03625000
*        R4 = TMPT04;               /* PTR TO ABEND STAI EXIT        */ 03626000
         L     R4,TMPT04(,WRKAPTR2)                             01S0903 03627000
*        R15 = ATTCHPTR;            /* PTR TO ATTACH PARM LIST       */ 03628000
         L     R15,ATTCHPTR(,WRKAPTR1)                          01S0904 03629000
*        R14 = ADDR(BLDLNAME);      /* PTR TO NAME OF ATTACHEE       */ 03630000
         LA    R14,BLDLNAME(,WRKAPTR1)                          01S0905 03631000
*        GENERATE;                                              01S0906 03632000
         ATTACH     DE=(R14),ECB=(R3),ESTAI=((R4),(R5)),RSAPF=YES,     *03633000
               MF=(E,(1)),SF=(E,(R15))                                  03634000
*        RCODE = R15;               /* SAVE RETURN CODE              */ 03635000
         ST    R15,RCODE(,WRKAPTR1)                             01S0907 03636000
*      END;                                                     01S0908 03637000
*      ELSE DO;                     /* NO, WITHOUT APF               */ 03638000
         B     @RC00901                                         01S0909 03639000
@RF00901 DS    0H                                               01S0910 03640000
*        R15 = ADDR(TATACHA);       /* SET PTR TO ATTACH ROUTINE     */ 03641000
         LA    R15,TATACHA                                      01S0910 03642000
*        GEN FLOWS(TATACHA) (SYNCH  (15));  /* TO DO ATTACH          */ 03643000
         SYNCH  (15)                                                    03644000
*      END;                                                     01S0912 03645000
*    TPLCTCB = R1;                  /* SAVE TCB POINTER              */ 03646000
*                                                               01S0913 03647000
@RC00901 ST    R1,TPLCTCB(,WRKAPTR1)                            01S0913 03648000
*    RESPECIFY (R3,R4,R5) UNRSTD;                               01S0914 03649000
*                                                               01S0914 03650000
*                                                               01S0914 03651000
*    R14 = ADDR(TACTV4A);           /* SET FOR PSEUDO-RETURN         */ 03652000
         LA    R14,TACTV4A                                      01S0915 03653000
*    RESPECIFY (R14) UNRSTD;                                    01S0916 03654000
*    END  TACTV5;                   /* RETURN TO CALLER              */ 03655000
@EL00009 DS    0H                                               01S0917 03656000
@EF00009 DS    0H                                               01S0917 03657000
@ER00009 BR    @14                                              01S0917 03658000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03659000
*/*                                                                  */ 03660000
*/* SEGMENT NAME -- TDETCP                                           */ 03661000
*/*                                                                  */ 03662000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03663000
*/*                                                                  */ 03664000
*/* FUNCTION -- TO DETACH CURRENT COMMAND PROCESSOR (TMP SUBTASK)    */ 03665000
*/*  OPERATION --                                                    */ 03666000
*/*           - (SAVE LINK REGISTER)                                 */ 03667000
*/*           - IF ABEND PROCESSING IS IN CONTROL (TMPSCTRL), THEN   */ 03668000
*/*             - POST THE MAINLINE-TO-STAI-EXIT-ROUTINE COMMUNICA-  */ 03669000
*/*               TION ECB, TMPNECB (POINTED TO BY TPLNECB)          */ 03670000
*/*             - ISSUE STATUS-START TO START ANY STOPPED SUBTASKS   */ 03671000
*/*           - RESET ATTACH-CURRENTLY-ACTIVE FLAG, ATCHNOW          */ 03672000
*/*           - ISSUE DYNALLOC (SVC 99) TO MARK ANY DATA SETS THAT   */ 03673000
*/*             WERE ALLOCATED BY A SUBTASK AS NOT-IN-USE            */ 03674000
*/*           - IF DYNALLOC RETURN CODE IS NOT SATISFACTORY (NOT 0), */ 03675000
*/*             ISSUE ABEND (203) WITH DUMP TO INDICATE DYNALLOC     */ 03676000
*/*             FAILURE                                              */ 03677000
*/*           - CHECK IF THE ECT ABNORMAL TERMINATION FLAG (ECTATRM) */ 03678000
*/*             IS ON, OR IF TCB ABEND INDICATOR (TCBFT) IS ON       */ 03679000
*/*             - IF YES, SET SUBTASK ABEND FLAG IN ECT, ECTRCDF     */ 03680000
*/*             - IF NEITHER, RESET THE SUBTASK ABEND FLAG IN ECT    */ 03681000
*/*           - CHECK IF ATTENTION-PROCESSING-IN-CONTROL FLAG        */ 03682000
*/*             (TMPACTRL) IS ON                                     */ 03683000
*/*             - IF YES, DETACH WITH STAE TO ALLOW ABENDING TASK    */ 03684000
*/*               OPPORTUNITY TO CLEAN UP                            */ 03685000
*/*             - IF NO, DETACH WITHOUT STAE                         */ 03686000
*/*           - GO TO RESET-FLOW-CONTROL-FLAGS ROUTINE, TDETCP2      */ 03687000
*/*           - (RESTORE LINK REGISTER)                              */ 03688000
*/*                                                                  */ 03689000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03690000
*/*                                                                  */ 03691000
*/* INPUT -- N/A                                                     */ 03692000
*/*                                                                  */ 03693000
*/* OUTPUT -- N/A                                                    */ 03694000
*/*                                                                  */ 03695000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03696000
*/*                                                                  */ 03697000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03698000
*/*                                                                  */ 03699000
*/*   RETURN CODE -- N/A                                             */ 03700000
*/*                                                                  */ 03701000
*/* EXIT ERROR -- N/A                                                */ 03702000
*/*                                                                  */ 03703000
*/*   CONDITIONS -- N/A                                              */ 03704000
*/*                                                                  */ 03705000
*/*   RETURN CODE -- N/A                                             */ 03706000
*/*                                                                  */ 03707000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03708000
*TDETCP:    /* EP TO DETACH-CURRENT-CP-SUBTASK ROUTINE               */ 03709000
*    PROC  OPTIONS(DONTSAVE,NOSAVEAREA);                        01S0918 03710000
TDETCP   DS    0H                                               01S0919 03711000
*    RESPECIFY (R1,R2,R14,SRPARMLP,WRKAPTR1,WRKAPTR2) RSTD;     01S0919 03712000
*    DO; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/               01S0920 03713000
*      R2 = SPROK1; /*GET KEY FORM SAVE LOCATION*/              01S0921 03714000
         L     R2,SPROK1                                        01S0921 03715000
*      SPKA (R2); /*SET PSW KEY*/                               01S0922 03716000
         SPKA  0(R2)                                            01S0922 03717000
*    END; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/              01S0923 03718000
*    SAVLNKG = R14;                 /* RESERVE LINK ADDRESS          */ 03719000
         ST    R14,SAVLNKG(,WRKAPTR2)                           01S0924 03720000
*    DO; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/               01S0925 03721000
*      R2 = TEPKEY; /*GET KEY FORM SAVE LOCATION*/              01S0926 03722000
         L     R2,TEPKEY(,WRKAPTR2)                             01S0926 03723000
*      SPKA (R2); /*SET PSW KEY*/                               01S0927 03724000
         SPKA  0(R2)                                            01S0927 03725000
*    END; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/              01S0928 03726000
*    RESPECIFY (R2,R14) UNRSTD;                                 01S0929 03727000
*                                                               01S0929 03728000
*    IF TMPSCTRL = YES              /* CHK IF STAI IS IN CONTROL     */ 03729000
*      THEN DO;                     /* YES,                          */ 03730000
         TM    TMPSCTRL(WRKAPTR1),B'00001000'                   01S0930 03731000
         BNO   @RF00930                                         01S0930 03732000
*        R1 = TPLNECB;              /* PTR TO POSTEE                 */ 03733000
         L     R1,TPLNECB(,WRKAPTR1)                            01S0932 03734000
*        GEN(POST   (1));           /* POST ABENDEE                  */ 03735000
         POST   (1)                                                     03736000
*        GEN(STATUS   START);       /* START SUBTASK(S)              */ 03737000
         STATUS   START                                                 03738000
*      END;                                                     01S0935 03739000
*                                                               01S0935 03740000
*    ATCHNOW = NO;                  /* RESET ATTACH-ACTIVE FLAG      */ 03741000
@RF00930 NI    ATCHNOW(WRKAPTR1),B'01111111'                    01S0936 03742000
*    DYNASP = MDYNASP;              /* INIITIALIZE PARM LIST         */ 03743000
         MVC   DYNASP(32,WRKAPTR1),MDYNASP(WRKAPTR2)            01S0937 03744000
*    R1 = ADDR(DYNASP);             /* SET PTR TO PARM LIST          */ 03745000
*                                                               01S0938 03746000
         LA    R1,DYNASP(,WRKAPTR1)                             01S0938 03747000
*    /*MACDATE Y-2 73082*/                                      01S0939 03748000
*    SVC (99);                      /* INVOKE DYNAMIC ALLOCATION     */ 03749000
         SVC   99                                               01S0939 03750000
*    RCODE = R15;                   /* SAVE THE RETURN CODE          */ 03751000
*                                                               01S0940 03752000
         ST    R15,RCODE(,WRKAPTR1)                             01S0940 03753000
*    IF RCODE ^= ZERO               /* CHK IF DYNALLOC SUCCESSFUL    */ 03754000
*      THEN                         /* NO,                           */ 03755000
         L     @14,RCODE(,WRKAPTR1)                             01S0941 03756000
         LTR   @14,@14                                          01S0941 03757000
         BZ    @RF00941                                         01S0941 03758000
*        GEN(ABEND 203,DUMP);       /*   INDICATE DYNALLOC ERROR     */ 03759000
*                                                               01S0942 03760000
         ABEND 203,DUMP                                                 03761000
*    IF ECTATRM = YES               /* CHK FOR COMMAND PROCESSOR     */ 03762000
*        | TPLCTCB->TCBFT=YES       /*     ABEND                     */ 03763000
*      THEN                         /* YES,                          */ 03764000
@RF00941 L     @14,ECTPTR(,WRKAPTR2)                            01S0943 03765000
         TM    ECTATRM(@14),B'00100000'                         01S0943 03766000
         BO    @RT00943                                         01S0943 03767000
         L     @14,TPLCTCB(,WRKAPTR1)                           01S0943 03768000
         TM    TCBFT(@14),B'00000100'                           01S0943 03769000
         BNO   @RF00943                                         01S0943 03770000
@RT00943 DS    0H                                               01S0944 03771000
*        ECTRCDF = '80'X;           /*   INDICATE CP ABEND           */ 03772000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0944 03773000
         MVI   ECTRCDF(@14),X'80'                               01S0944 03774000
*      ELSE                         /* NO, NOT SUBTASK ABEND         */ 03775000
*        ECTRCDF = '00'X;           /* SET NORMAL CP RETURN FLAG     */ 03776000
*                                                               01S0945 03777000
         B     @RC00943                                         01S0945 03778000
@RF00943 L     @14,ECTPTR(,WRKAPTR2)                            01S0945 03779000
         MVI   ECTRCDF(@14),X'00'                               01S0945 03780000
*    R1 = ADDR(TPLCTCB);            /* SET PTR TO ATTACHED CP TCB    */ 03781000
@RC00943 LA    R1,TPLCTCB(,WRKAPTR1)                            01S0946 03782000
*    IF TMPACTRL = YES              /* CHK IF ATTENTION IN CONTROL   */ 03783000
*      THEN DO;                     /* YES, GIVE CONTROL TO CP STAE  */ 03784000
         TM    TMPACTRL(WRKAPTR1),B'00010000'                   01S0947 03785000
         BNO   @RF00947                                         01S0947 03786000
*        GEN(DETACH (1),STAE=YES);  /* DETACH WITH STAE              */ 03787000
         DETACH (1),STAE=YES                                            03788000
*        ECTRCDF = '80'X;           /* INDICATE ABEND CODE PRESENT   */ 03789000
         L     @14,ECTPTR(,WRKAPTR2)                            01S0950 03790000
         MVI   ECTRCDF(@14),X'80'                               01S0950 03791000
*      END;                                                     01S0951 03792000
*      ELSE                         /* NO, ATTENTION NOT IN CONTROL  */ 03793000
*        GEN(DETACH (1),STAE=NO);   /* DETACH WITHOUT STAE           */ 03794000
*                                                               01S0952 03795000
         B     @RC00947                                         01S0952 03796000
@RF00947 DS    0H                                               01S0952 03797000
         DETACH (1),STAE=NO                                             03798000
*    CALL TDETCP2;                  /* TO RESET CONTROL FLGS  ZA26167*/ 03799000
@RC00947 BAL   @14,TDETCP2                                      01S0953 03800000
*    CALL  IKJEFTA2 (TMPWRKA1,TMPWRKA2);  /* TO AUTH-CHKR   @Z403333 */ 03801000
*                                                               01S0954 03802000
         ST    WRKAPTR1,@AL00001                                01S0954 03803000
         ST    WRKAPTR2,@AL00001+4                              01S0954 03804000
         L     @15,@CV00137                                     01S0954 03805000
         LA    @01,@AL00001                                     01S0954 03806000
         BALR  @14,@15                                          01S0954 03807000
*    RESPECIFY (R14) RSTD;                                      01S0955 03808000
*    R14 = SAVLNKG;                 /* RESTORE LINK REGISTER         */ 03809000
         L     R14,SAVLNKG(,WRKAPTR2)                           01S0956 03810000
*    RESPECIFY (R14) UNRSTD;                                    01S0957 03811000
*    RETURN;                        /* RETURN TO CALLER              */ 03812000
@EL00010 DS    0H                                               01S0958 03813000
@EF00010 DS    0H                                               01S0958 03814000
@ER00010 BR    @14                                              01S0958 03815000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03816000
*/*                                                                  */ 03817000
*/* SEGMENT NAME -- TDETCP2                                          */ 03818000
*/*                                                                  */ 03819000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03820000
*/*                                                                  */ 03821000
*/* FUNCTION -- TO RESET FLOW-CONTROL FLAGS, ZERO OUT THE ECBS,      */ 03822000
*/*       AND RESET THE APF AUTHORIZATION FLAG BEFORE PROCESSING     */ 03823000
*/*       THE NEXT COMMAND ENTRY                                     */ 03824000
*/*  OPERATION --                                                    */ 03825000
*/*           - (SAVE LINK REGISTER)                                 */ 03826000
*/*           - SAVE JUST DETACHED COMMAND PROCESSOR COMPLETION CODE */ 03827000
*/*             IN ECT AREA, ECTRTCD                                 */ 03828000
*/*           - RESET PERTINENT FLOW-CONTROL FLAGS                   */ 03829000
*/*           - CLEAR CURRENT TMP SUBTASK AND ABENDING TASK ECBS     */ 03830000
*/*           - RESET APF AUTHORIZATION FLAG, JSCBAUTH               */ 03831000
*/*           - IF ECT QUIT FLAG, ECTLOGF, IS ON THEN SET TMP        */ 03832000
*/*             TERMINATION FLAG, DODONE                             */ 03833000
*/*           - (RESTORE LINK REGISTER)                              */ 03834000
*/*                                                                  */ 03835000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03836000
*/*                                                                  */ 03837000
*/* INPUT -- N/A                                                     */ 03838000
*/*                                                                  */ 03839000
*/* OUTPUT -- N/A                                                    */ 03840000
*/*                                                                  */ 03841000
*/* EXTERNAL REFERENCES -- N/A                                       */ 03842000
*/*                                                                  */ 03843000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03844000
*/*                                                                  */ 03845000
*/*   RETURN CODE -- N/A                                             */ 03846000
*/*                                                                  */ 03847000
*/* EXIT ERROR -- N/A                                                */ 03848000
*/*                                                                  */ 03849000
*/*   CONDITIONS -- N/A                                              */ 03850000
*/*                                                                  */ 03851000
*/*   RETURN CODE -- N/A                                             */ 03852000
*/*                                                                  */ 03853000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03854000
*TDETCP2:   /* EP TO RESET-FLOW-FLAGS-FOR-NEXT-CP ROUTINE            */ 03855000
*    ENTRY;                                                     01S0959 03856000
TDETCP2  DS    0H                                               01S0960 03857000
*    RESPECIFY (R6,R14) RSTD;                                   01S0960 03858000
*    R6 = R14;                      /* RESERVE ENTRY REG 14          */ 03859000
*                                                               01S0961 03860000
         LR    R6,R14                                           01S0961 03861000
*    ECTRTCD = TPLCECB->ECBCODE;    /* STORE RETURN CODE             */ 03862000
         L     @05,ECTPTR(,WRKAPTR2)                            01S0962 03863000
         L     @04,TPLCECB(,WRKAPTR1)                           01S0962 03864000
         MVC   ECTRTCD(3,@05),ECBCODE(@04)                      01S0962 03865000
*    TMPRTRY = NO;                  /* RESET RETRY INDICATORS        */ 03866000
*    TMPRINIT = NO;                 /* RESET RE-INITIALIZATION FLAG  */ 03867000
         L     @04,TMPWA2P(,WRKAPTR2)                           01S0964 03868000
         NI    TMPRTRY(@04),B'00111111'                         01S0964 03869000
*    ECTATRM = NO;                  /* RESET INDICATOR               */ 03870000
         NI    ECTATRM(@05),B'11011111'                         01S0965 03871000
*    TMPACTRL = NO;                 /* RESET ATTENTION-IN-CNTL FLAG  */ 03872000
*    TMPNFCMD = YES;                /* INDICATE FREE CMD DONE        */ 03873000
         OI    TMPNFCMD(WRKAPTR1),B'00100000'                   01S0967 03874000
         NI    TMPACTRL(WRKAPTR1),B'11101111'                   01S0967 03875000
*    FRSTEX = NO;                   /* RESET EXPLI-IMPLW-EXEC FLAG   */ 03876000
         NI    FRSTEX(WRKAPTR1),B'11101111'                     01S0968 03877000
*    TMPCECB = ZERO;                /* RESET CP ECB                  */ 03878000
         SLR   @04,@04                                          01S0969 03879000
         ST    @04,TMPCECB(,WRKAPTR1)                           01S0969 03880000
*    TMPNECB = ZERO;                /* RESET STAI WAIT ECB           */ 03881000
         ST    @04,TMPNECB(,WRKAPTR1)                           01S0970 03882000
*    TPLCTCB = ZERO;                /* ZERO OUT TCB POINTER          */ 03883000
         ST    @04,TPLCTCB(,WRKAPTR1)                           01S0971 03884000
*    TPLNTCB = ZERO;                /* RESET PTR TO ABENDING TCB     */ 03885000
         ST    @04,TPLNTCB(,WRKAPTR1)                           01S0972 03886000
*    RESPECIFY (R2) RSTD;                                       01S0973 03887000
*    DO; /*MODESET  KEYADDR(SPROK0) WORKREG(R2)*/               01S0974 03888000
*      R2 = SPROK0; /*GET KEY FORM SAVE LOCATION*/              01S0975 03889000
         L     R2,SPROK0                                        01S0975 03890000
*      SPKA (R2); /*SET PSW KEY*/                               01S0976 03891000
         SPKA  0(R2)                                            01S0976 03892000
*    END; /*MODESET  KEYADDR(SPROK0) WORKREG(R2)*/              01S0977 03893000
*    JSCBAUTH = NO;                 /* RESET APF-AUTH-PGM FLAG       */ 03894000
         L     @03,CVTPTR                                       01S0978 03895000
         L     @03,CVTTCBP(,@03)                                01S0978 03896000
         L     @03,TCURTCB(,@03)                                01S0978 03897000
         L     @03,TCBJSCB(,@03)                                01S0978 03898000
         NI    JSCBAUTH(@03),B'11111110'                        01S0978 03899000
*    DRSAPF = NO;                   /* RESET ATTACH-WITH-APF FLAG    */ 03900000
         NI    DRSAPF(WRKAPTR2),B'10111111'                     01S0979 03901000
*    DO; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/               01S0980 03902000
*      R2 = TEPKEY; /*GET KEY FORM SAVE LOCATION*/              01S0981 03903000
         L     R2,TEPKEY(,WRKAPTR2)                             01S0981 03904000
*      SPKA (R2); /*SET PSW KEY*/                               01S0982 03905000
         SPKA  0(R2)                                            01S0982 03906000
*    END; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/              01S0983 03907000
*    RESPECIFY (R2) UNRSTD;                                     01S0984 03908000
*    TPLSTAI = TMPT042;             /* RESET STAI EXIT EP            */ 03909000
         L     @04,TMPT042(,WRKAPTR2)                           01S0985 03910000
         ST    @04,TPLSTAI(,WRKAPTR1)                           01S0985 03911000
*    TPLSPLS = WRKAPTR2;            /* RESET STAI EXIT PL PTR        */ 03912000
*                                                               01S0986 03913000
         ST    WRKAPTR2,TPLSPLS(,WRKAPTR1)                      01S0986 03914000
*    IF ECTLOGF = YES               /* CHK FOR EOF FLAG              */ 03915000
*      THEN                         /* YES,                          */ 03916000
         TM    ECTLOGF(@05),B'00010000'                         01S0987 03917000
         BNO   @RF00987                                         01S0987 03918000
*        DODONE = YES;              /*   SET TO EXIT                 */ 03919000
*                                                               01S0988 03920000
         OI    DODONE(WRKAPTR1),B'00001000'                     01S0988 03921000
*    R14 = R6;                      /* RESTORE ENTRY REG 14          */ 03922000
@RF00987 LR    R14,R6                                           01S0989 03923000
*    RETURN;                        /* RETURN TO CALLER              */ 03924000
         B     @EL00010                                         01S0990 03925000
*    RESPECIFY (R6,R14) UNRSTD;                                 01S0991 03926000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03927000
*/*                                                                  */ 03928000
*/* SEGMENT NAME -- TSRCHAPF                                         */ 03929000
*/*                                                                  */ 03930000
*/* DESCRIPTIVE NAME -- N/A                                          */ 03931000
*/*                                                                  */ 03932000
*/* FUNCTION -- TO DETERMINE FROM A LIST OF ELIGIBLE COMMAND         */ 03933000
*/*       NAMES IF THE CURRENT COMMAND SHOULD BE ATTACHED WITH       */ 03934000
*/*       APF AUTHORIZATION                                          */ 03935000
*/*  OPERATION --                                                    */ 03936000
*/*           - SET ATTACH-WITH-AUTHORIZATION FLAG TO NO             */ 03937000
*/*           - LOOP OVER NAMES (8 BYTE) IN EXTERNAL TABLE, APFCTABL */ 03938000
*/*           - IF NAME IN LIST IS THE SAME AS THE CURRENT COMMAND   */ 03939000
*/*           - NAME, THEN EXIT FROM LOOP WITH AUTHORIZATION-FLAG,   */ 03940000
*/*             DRSAPF, SET TO YES                                   */ 03941000
*/*           - IF A BLANK IS FOUND IN LIST, THEN EXIT FROM LOOP     */ 03942000
*/*           - STEP SEARCH TO NEXT TABLE ENTRY                      */ 03943000
*/*                                                                  */ 03944000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 03945000
*/*                                                                  */ 03946000
*/* INPUT -- (TSRCHNAM)                                              */ 03947000
*/*                                                                  */ 03948000
*/* OUTPUT -- (DRSAPF)                                               */ 03949000
*/*                                                                  */ 03950000
*/* EXTERNAL REFERENCES -- APFCTABL                                  */ 03951000
*/*                                                                  */ 03952000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 03953000
*/*                                                                  */ 03954000
*/*   RETURN CODE -- N/A                                             */ 03955000
*/*                                                                  */ 03956000
*/* EXIT ERROR -- N/A                                                */ 03957000
*/*                                                                  */ 03958000
*/*   CONDITIONS -- N/A                                              */ 03959000
*/*                                                                  */ 03960000
*/*   RETURN CODE -- N/A                                             */ 03961000
*/*                                                                  */ 03962000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 03963000
*TSRCHAPF:  /* EP TO DETERMINE-ELIGIBLITY-FOR-APF-ATTACH ROUTINE     */ 03964000
*    ENTRY;                                                     01S0992 03965000
TSRCHAPF DS    0H                                               01S0993 03966000
*    RESPECIFY (R4,R6,R14) RSTD;                                01S0993 03967000
*    R6 = R14;                      /* RESERVE ENTRY REG 14          */ 03968000
         LR    R6,R14                                           01S0994 03969000
*    RESPECIFY (R14) UNRSTD;                                    01S0995 03970000
*                                                               01S0995 03971000
*    DO; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/               01S0996 03972000
*      R2 = SPROK1; /*GET KEY FORM SAVE LOCATION*/              01S0997 03973000
         L     R2,SPROK1                                        01S0997 03974000
*      SPKA (R2); /*SET PSW KEY*/                               01S0998 03975000
         SPKA  0(R2)                                            01S0998 03976000
*    END; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/              01S0999 03977000
*    DRSAPF = NO;                   /* PRESUME NO APF ELIGIBILITY    */ 03978000
         NI    DRSAPF(WRKAPTR2),B'10111111'                     01S1000 03979000
*    DO; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/               01S1001 03980000
*      R2 = TEPKEY; /*GET KEY FORM SAVE LOCATION*/              01S1002 03981000
         L     R2,TEPKEY(,WRKAPTR2)                             01S1002 03982000
*      SPKA (R2); /*SET PSW KEY*/                               01S1003 03983000
         SPKA  0(R2)                                            01S1003 03984000
*    END; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/              01S1004 03985000
*    R4 = ADDR(APFCTABL);           /* LOCATE LIST OF APF NAMES      */ 03986000
*                                                               01S1005 03987000
         L     R4,@CV00135                                      01S1005 03988000
*    /* SEARCH LIST                                                  */ 03989000
*    DO WHILE (R4->TE2NAME ^= BLANKS  /* LOOP WHILE NEITHER BLANK    */ 03990000
*        & DRSAPF = NO);            /* LIST NAME NOR MATCHING NAME   */ 03991000
         B     @DE01006                                         01S1006 03992000
@DL01006 DS    0H                                               01S1007 03993000
*      IF R4->TE2NAME = TSRCHNAM    /* CHK IF NAMES MATCH            */ 03994000
*        THEN DO;                   /* YES,                          */ 03995000
         CLC   TE2NAME(8,R4),TSRCHNAM                           01S1007 03996000
         BNE   @RF01007                                         01S1007 03997000
*          DO; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/         01S1009 03998000
*            R2 = SPROK1; /*GET KEY FORM SAVE LOCATION*/        01S1010 03999000
         L     R2,SPROK1                                        01S1010 04000000
*            SPKA (R2); /*SET PSW KEY*/                         01S1011 04001000
         SPKA  0(R2)                                            01S1011 04002000
*          END; /*MODESET  KEYADDR(SPROK1) WORKREG(R2)*/        01S1012 04003000
*          DRSAPF = YES;            /*   AUTHORIZE NEXT ATTACH       */ 04004000
         OI    DRSAPF(WRKAPTR2),B'01000000'                     01S1013 04005000
*          DO; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/         01S1014 04006000
*            R2 = TEPKEY; /*GET KEY FORM SAVE LOCATION*/        01S1015 04007000
         L     R2,TEPKEY(,WRKAPTR2)                             01S1015 04008000
*            SPKA (R2); /*SET PSW KEY*/                         01S1016 04009000
         SPKA  0(R2)                                            01S1016 04010000
*          END; /*MODESET  KEYADDR(TEPKEY) WORKREG(R2)*/        01S1017 04011000
*        END;                                                   01S1018 04012000
*      R4 = R4+D8;                  /* STEP PTR TO NEXT ENTRY        */ 04013000
@RF01007 AL    R4,@CF00041                                      01S1019 04014000
*    END;                                                       01S1020 04015000
*                                                               01S1020 04016000
@DE01006 CLC   TE2NAME(8,R4),@CC00042                           01S1020 04017000
         BE    @DC01006                                         01S1020 04018000
         TM    DRSAPF(WRKAPTR2),B'01000000'                     01S1020 04019000
         BZ    @DL01006                                         01S1020 04020000
@DC01006 DS    0H                                               01S1021 04021000
*    RESPECIFY (R14) RSTD;                                      01S1021 04022000
*    R14 = R6;                      /* RESTORE ENTRY REG 14          */ 04023000
         LR    R14,R6                                           01S1022 04024000
*    END  TDETCP;                   /* RETURN TO CALLER              */ 04025000
         B     @EL00010                                         01S1023 04026000
*    RESPECIFY (R4,R14) UNRSTD;                                 01S1024 04027000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04028000
*/*                                                                  */ 04029000
*/* SEGMENT NAME -- TATACHA                                          */ 04030000
*/*                                                                  */ 04031000
*/* DESCRIPTIVE NAME -- N/A                                          */ 04032000
*/*                                                                  */ 04033000
*/* FUNCTION -- TO ISSUE ATTACH-VIA-BLDL-LIST FOR COMMAND NAME NOT   */ 04034000
*/*       ELEGIBLE FOR APF AUTHORIZATION.                            */ 04035000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04036000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 04037000
*/*  OPERATION --                                                    */ 04038000
*/*           - ISSUE ATTACH MACRO                                   */ 04039000
*/*           - SAVE ATTACH RETURN CODE                              */ 04040000
*/*                                                                  */ 04041000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04042000
*/*                                                                  */ 04043000
*/* INPUT -- N/A                                                     */ 04044000
*/*                                                                  */ 04045000
*/* OUTPUT -- N/A                                                    */ 04046000
*/*                                                                  */ 04047000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04048000
*/*                                                                  */ 04049000
*/* EXIT NORMAL -- RETURN BY SVC 3                                   */ 04050000
*/*                                                                  */ 04051000
*/*   RETURN CODE -- N/A                                             */ 04052000
*/*                                                                  */ 04053000
*/* EXIT ERROR -- N/A                                                */ 04054000
*/*                                                                  */ 04055000
*/*   CONDITIONS -- N/A                                              */ 04056000
*/*                                                                  */ 04057000
*/*   RETURN CODE -- N/A                                             */ 04058000
*/*                                                                  */ 04059000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04060000
*TATACHA:   /* EP TO ATTACH-VIA-BLDL-LIST (WITHOUT RSAPF KEYWORD)    */ 04061000
*           PROC  OPTIONS(DONTSAVE,NOSAVEAREA);                 01S1025 04062000
TATACHA  DS    0H                                               01S1026 04063000
*           RESPECIFY (R3,R4,R5,R14,R15) RSTD;                  01S1026 04064000
*                                                               01S1026 04065000
*           R4 = TMPT042;           /* PTR TO ABEND STAI EXIT        */ 04066000
         L     R4,TMPT042(,WRKAPTR2)                            01S1027 04067000
*           R14 = ADDR(BLDLNAME);   /* PTR TO BLDL LIST              */ 04068000
         LA    R14,BLDLNAME(,WRKAPTR1)                          01S1028 04069000
*           R15 = ATTCHPTR;         /* SET PTR TO ATTACH PL          */ 04070000
         L     R15,ATTCHPTR(,WRKAPTR1)                          01S1029 04071000
*           GENERATE           ;                                01S1030 04072000
          ATTACH  DE=(R14),ECB=(R3),ESTAI=((R4),(R5)),                 *04073000
               MF=(E,(1)),SF=(E,(15))                                   04074000
*           RCODE = R15;            /* RESERVE ATTACH RETURN CODE    */ 04075000
*                                                               01S1031 04076000
*                                                               01S1031 04077000
         ST    R15,RCODE(,WRKAPTR1)                             01S1031 04078000
*           GEN(SVC   3);           /* RETURN TO CALLER              */ 04079000
         SVC   3                                                        04080000
*           RESPECIFY (R3,R4,R5,R14,R15) UNRSTD;                01S1033 04081000
*           END  TATACHA;                                       01S1034 04082000
@EL00011 DS    0H                                               01S1034 04083000
@EF00011 DS    0H                                               01S1034 04084000
@ER00011 BR    @14                                              01S1034 04085000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04086000
*/*                                                                  */ 04087000
*/* SEGMENT NAME -- TATACHB                                          */ 04088000
*/*                                                                  */ 04089000
*/* DESCRIPTIVE NAME -- N/A                                          */ 04090000
*/*                                                                  */ 04091000
*/* FUNCTION -- TO ISSUE A DIRECT ATTACH AFTER SUCCESSFUL LPA SCAN   */ 04092000
*/*       OR SUCCESSFUL RETURN FROM COMMAND AUTHORIZATION CHECKER.   */ 04093000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04094000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 04095000
*/*  OPERATION --                                                    */ 04096000
*/*           - ISSUE ATTACH MACRO                                   */ 04097000
*/*           - SAVE ATTACH RETURN CODE                              */ 04098000
*/*                                                                  */ 04099000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04100000
*/*                                                                  */ 04101000
*/* INPUT -- N/A                                                     */ 04102000
*/*                                                                  */ 04103000
*/* OUTPUT -- N/A                                                    */ 04104000
*/*                                                                  */ 04105000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04106000
*/*                                                                  */ 04107000
*/* EXIT NORMAL -- RETURN BY SVC 3                                   */ 04108000
*/*                                                                  */ 04109000
*/*   RETURN CODE -- N/A                                             */ 04110000
*/*                                                                  */ 04111000
*/* EXIT ERROR -- N/A                                                */ 04112000
*/*                                                                  */ 04113000
*/*   CONDITIONS -- N/A                                              */ 04114000
*/*                                                                  */ 04115000
*/*   RETURN CODE -- N/A                                             */ 04116000
*/*                                                                  */ 04117000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04118000
*TATACHB:   /* EP FOR DIRECT ATTACH (WITHOUT RSAPF KEYWORD)          */ 04119000
*           PROC  OPTIONS(DONTSAVE,NOSAVEAREA);                 01S1035 04120000
TATACHB  DS    0H                                               01S1036 04121000
*           RESPECIFY (R3,R4,R5,R14,R15) RSTD;                  01S1036 04122000
*                                                               01S1036 04123000
*           R4 = TMPT042;           /* PTR TO ABEND STAI EXIT        */ 04124000
         L     R4,TMPT042(,WRKAPTR2)                            01S1037 04125000
*           R15 = ATTCHPTR;         /* SET PTR TO ATTACH PL          */ 04126000
         L     R15,ATTCHPTR(,WRKAPTR1)                          01S1038 04127000
*           GENERATE  SETS(R14);                                01S1039 04128000
          LA    R14,NXTCMD(WRKAPTR1)    SET PTR TO NEXT NAME            04129000
          ATTACH  EPLOC=(R14),ECB=(R3),ESTAI=((R4),(R5)),              *04130000
               MF=(E,(1)),SF=(E,(15))                                   04131000
*           RCODE = R15;            /* RESERVE ATTACH RETURN CODE    */ 04132000
*                                                               01S1040 04133000
*                                                               01S1040 04134000
         ST    R15,RCODE(,WRKAPTR1)                             01S1040 04135000
*           GEN(SVC   3);           /* RETURN TO CALLER              */ 04136000
         SVC   3                                                        04137000
*           RESPECIFY (R3,R4,R5,R14,R15) UNRSTD;                01S1042 04138000
*           END  TATACHB;                                       01S1043 04139000
@EL00012 DS    0H                                               01S1043 04140000
@EF00012 DS    0H                                               01S1043 04141000
@ER00012 BR    @14                                              01S1043 04142000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04143000
*/*                                                                  */ 04144000
*/* SEGMENT NAME -- TSTACKA                                          */ 04145000
*/*                                                                  */ 04146000
*/* DESCRIPTIVE NAME -- N/A                                          */ 04147000
*/*                                                                  */ 04148000
*/* FUNCTION -- TO ISSUE STACK-DELETE TO REMOVE ALL ADDED STACK      */ 04149000
*/*       ELEMENTS.                                                  */ 04150000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04151000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 04152000
*/*  OPERATION --                                                    */ 04153000
*/*           - ISSUE STACK-DELETE MACRO                             */ 04154000
*/*           - IF RETURN CODE IS OTHER THAN SATISFACTORY (0) THEN   */ 04155000
*/*             ABEND (207) WITH DUMP TO INDICATE STACK FAILURE      */ 04156000
*/*                                                                  */ 04157000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04158000
*/*                                                                  */ 04159000
*/* INPUT -- N/A                                                     */ 04160000
*/*                                                                  */ 04161000
*/* OUTPUT -- N/A                                                    */ 04162000
*/*                                                                  */ 04163000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04164000
*/*                                                                  */ 04165000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 04166000
*/*                                                                  */ 04167000
*/*   RETURN CODE -- N/A                                             */ 04168000
*/*                                                                  */ 04169000
*/* EXIT ERROR -- N/A                                                */ 04170000
*/*                                                                  */ 04171000
*/*   CONDITIONS -- N/A                                              */ 04172000
*/*                                                                  */ 04173000
*/*   RETURN CODE -- N/A                                             */ 04174000
*/*                                                                  */ 04175000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04176000
*TSTACKA:   /* EP TO STACK-DELETE-ALL ROUTINE                        */ 04177000
*           PROC  OPTIONS(DONTSAVE,NOSAVEAREA);                 01S1044 04178000
TSTACKA  DS    0H                                               01S1045 04179000
*           RESPECIFY (R15) RSTD;                               01S1045 04180000
*                                                               01S1045 04181000
*           GEN(STACK  DELETE=ALL,MF=(E,(1)));                  01S1046 04182000
         STACK  DELETE=ALL,MF=(E,(1))                                   04183000
*           IF R15 ^= ZERO          /* CHK FOR SUCCESSFUL STACK      */ 04184000
*             THEN                  /* NO,                           */ 04185000
         LTR   R15,R15                                          01S1047 04186000
         BZ    @RF01047                                         01S1047 04187000
*               GEN(ABEND 207,DUMP);  /* FOR STACK ERROR             */ 04188000
*                                                               01S1048 04189000
*                                                               01S1048 04190000
         ABEND 207,DUMP                                                 04191000
*           GEN(SVC   3);           /* RETURN TO CALLER              */ 04192000
@RF01047 DS    0H                                               01S1049 04193000
         SVC   3                                                        04194000
*           RESPECIFY (R15) UNRSTD;                             01S1050 04195000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04196000
*/*                                                                  */ 04197000
*/* SEGMENT NAME -- TSTACKC                                          */ 04198000
*/*                                                                  */ 04199000
*/* DESCRIPTIVE NAME -- N/A                                          */ 04200000
*/*                                                                  */ 04201000
*/* FUNCTION -- TO ISSUE STACK-CLOSE TO CLOSE BACKGROUND DATA SETS,  */ 04202000
*/*       SYSTSIN AND SYSTSPRT.                                      */ 04203000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04204000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 04205000
*/*  OPERATION --                                                    */ 04206000
*/*           - ISSUE STACK (DATASET=(CLOSE)) MACRO                  */ 04207000
*/*           - IF RETURN CODE IS OTHER THAN SATISFACTORY (0) THEN   */ 04208000
*/*             ABEND (207) WITH DUMP TO INDICATE STACK FAILURE      */ 04209000
*/*                                                                  */ 04210000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04211000
*/*                                                                  */ 04212000
*/* INPUT -- N/A                                                     */ 04213000
*/*                                                                  */ 04214000
*/* OUTPUT -- N/A                                                    */ 04215000
*/*                                                                  */ 04216000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04217000
*/*                                                                  */ 04218000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 04219000
*/*                                                                  */ 04220000
*/*   RETURN CODE -- N/A                                             */ 04221000
*/*                                                                  */ 04222000
*/* EXIT ERROR -- N/A                                                */ 04223000
*/*                                                                  */ 04224000
*/*   CONDITIONS -- N/A                                              */ 04225000
*/*                                                                  */ 04226000
*/*   RETURN CODE -- N/A                                             */ 04227000
*/*                                                                  */ 04228000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04229000
*TSTACKC:   /* EP TO STACK-CLOSE ROUTINE                             */ 04230000
*           ENTRY;                                              01S1051 04231000
         B     @EC01051                                         01S1051 04232000
TSTACKC  DS    0H                                               01S1051 04233000
@EC01051 DS    0H                                               01S1052 04234000
*           RESPECIFY (R15) RSTD;                               01S1052 04235000
*                                                               01S1052 04236000
*           GEN(STACK  DATASET=(CLOSE),MF=(E,(1)));             01S1053 04237000
         STACK  DATASET=(CLOSE),MF=(E,(1))                              04238000
*           IF R15 ^= ZERO          /* CHK FOR SUCCESSFUL STACK      */ 04239000
*             THEN                  /* NO,                           */ 04240000
         LTR   R15,R15                                          01S1054 04241000
         BZ    @RF01054                                         01S1054 04242000
*               GEN(ABEND 207,DUMP);  /* FOR STACK ERROR             */ 04243000
*                                                               01S1055 04244000
*                                                               01S1055 04245000
         ABEND 207,DUMP                                                 04246000
*           GEN(SVC   3);           /* RETURN TO CALLER              */ 04247000
@RF01054 DS    0H                                               01S1056 04248000
         SVC   3                                                        04249000
*           RESPECIFY (R15) UNRSTD;                             01S1057 04250000
*           END  TSTACKA;                                       01S1058 04251000
@EL00013 DS    0H                                               01S1058 04252000
@EF00013 DS    0H                                               01S1058 04253000
@ER00013 BR    @14                                              01S1058 04254000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04255000
*/*                                                                  */ 04256000
*/* SEGMENT NAME -- TPUTL                                            */ 04257000
*/*                                                                  */ 04258000
*/* DESCRIPTIVE NAME -- N/A                                          */ 04259000
*/*                                                                  */ 04260000
*/* FUNCTION -- TO GO TO PUTLINE ROUTINE TO ISSUE PRE-SPECIFIED      */ 04261000
*/*       MESSAGE.                                                   */ 04262000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04263000
*/*       PROBLEM PROGRAM PROTECTION KEY (8) AFTER ENTRY VIA SYNCH   */ 04264000
*/*  OPERATION --                                                    */ 04265000
*/*           - ISSUE PUTLINE MACRO                                  */ 04266000
*/*           - IF RETURN CODE IS OTHER THAN SATISFACTORY (0) THEN   */ 04267000
*/*             ABEND (205) WITH DUMP TO INDICATE PUTLINE FAILURE    */ 04268000
*/*                                                                  */ 04269000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04270000
*/*                                                                  */ 04271000
*/* INPUT -- N/A                                                     */ 04272000
*/*                                                                  */ 04273000
*/* OUTPUT -- N/A                                                    */ 04274000
*/*                                                                  */ 04275000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04276000
*/*                                                                  */ 04277000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 04278000
*/*                                                                  */ 04279000
*/*   RETURN CODE -- N/A                                             */ 04280000
*/*                                                                  */ 04281000
*/* EXIT ERROR -- N/A                                                */ 04282000
*/*                                                                  */ 04283000
*/*   CONDITIONS -- N/A                                              */ 04284000
*/*                                                                  */ 04285000
*/*   RETURN CODE -- N/A                                             */ 04286000
*/*                                                                  */ 04287000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04288000
*TPUTL:     /* EP TO ISSUE MESSAGE ROUTINE                           */ 04289000
*           PROC  OPTIONS(DONTSAVE,NOSAVEAREA);                 01S1059 04290000
TPUTL    DS    0H                                               01S1060 04291000
*           RESPECIFY (R2,R3,R15) RSTD;                         01S1060 04292000
*                                                               01S1060 04293000
*                                                               01S1060 04294000
*           R3=ADDR(MSGLIST);       /* PTR TO MESSAGE SEGMENT LIST   */ 04295000
         LA    R3,MSGLIST(,WRKAPTR1)                            01S1061 04296000
*           R1 = ADDR(IOPL);        /* PTR TO PL                     */ 04297000
         LR    R1,SRPARMLP                                      01S1062 04298000
*           GENERATE;               /* TO ISSUE PUTLINE              */ 04299000
          PUTLINE PARM=(R2),OUTPUT=((R3)),TERMPUT=(EDIT),MF=(E,(1))     04300000
*           RCODE = R15;            /* SAVE RETURN CODE              */ 04301000
         ST    R15,RCODE(,WRKAPTR1)                             01S1064 04302000
*           IF RCODE>PUTDONE        /* CHK IF PUTLINE SUCCESSFUL     */ 04303000
*             THEN                  /* NO,                           */ 04304000
         L     @14,RCODE(,WRKAPTR1)                             01S1065 04305000
         C     @14,@CF00045                                     01S1065 04306000
         BNH   @RF01065                                         01S1065 04307000
*               GEN(ABEND 205,DUMP);  /* INDICATE PUTLINE ERROR      */ 04308000
*                                                               01S1066 04309000
         ABEND 205,DUMP                                                 04310000
*           RESPECIFY (R2,R3) UNRESTRICTED;                     01S1067 04311000
*                                                               01S1067 04312000
@RF01065 DS    0H                                               01S1068 04313000
*           GEN(SVC   3);           /* RETURN TO CALLER              */ 04314000
         SVC   3                                                        04315000
*           RESPECIFY (R15) UNRSTD;                             01S1069 04316000
*           END  TPUTL;                                         01S1070 04317000
@EL00014 DS    0H                                               01S1070 04318000
@EF00014 DS    0H                                               01S1070 04319000
@ER00014 BR    @14                                              01S1070 04320000
@PB00014 DS    0H                                               01S1071 04321000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04322000
*/*                                                                  */ 04323000
*/* SEGMENT NAME -- IKJEFTB2                                         */ 04324000
*/*                                                                  */ 04325000
*/* DESCRIPTIVE NAME -- COMMAND VALIDATION EXIT (BEFORE ATTACH)      */ 04326000
*/*                                                                  */ 04327000
*/* FUNCTION -- THIS DEFAULT ROUTINE SIMPLY RETURNS WITH A CODE OF   */ 04328000
*/*       4 AND DOES NOTHING.                                        */ 04329000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04330000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 04331000
*/*  OPERATION --                                                    */ 04332000
*/*           - SET RETURN REGISTER TO 4                             */ 04333000
*/*                                                                  */ 04334000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04335000
*/*                                                                  */ 04336000
*/* INPUT -- REGISTER 1 POINTS TO PARM LIST WHICH CONTAINS:          */ 04337000
*/*       1 -- FIRST WORD IS POINTER TO UNPROTECTED PARM LIST        */ 04338000
*/*       2 -- SECOND WORD IS POINTER TO PROTECTED PARM LIST         */ 04339000
*/*                                                                  */ 04340000
*/* OUTPUT -- N/A                                                    */ 04341000
*/*                                                                  */ 04342000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04343000
*/*                                                                  */ 04344000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 04345000
*/*                                                                  */ 04346000
*/*   RETURN CODE --                                                 */ 04347000
*/*       0 -- DIRECT ATTACH - DO NOT BLDL OR SEARCH LPA             */ 04348000
*/*       4 -- CONTINUE WITH NORMAL PROCESSING                       */ 04349000
*/*       8 -- FORCE THROUGH IMPLICIT-EXEC (FOR COMMAND-NOT-FOUND)   */ 04350000
*/*                                                                  */ 04351000
*/* EXIT ERROR -- N/A                                                */ 04352000
*/*                                                                  */ 04353000
*/*   CONDITIONS -- N/A                                              */ 04354000
*/*                                                                  */ 04355000
*/*   RETURN CODE -- N/A                                             */ 04356000
*/*                                                                  */ 04357000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04358000
*                                                               01S1071 04359000
*                                                               01S1071 04360000
*                                                               01S1071 04361000
*           GENERATE;                                           01S1071 04362000
IKJEFTB2 CSECT                                                @Z403333  04363000
         LA    R15,4                SET NORMAL PROCESS CODE   @Z403333  04364000
         BR    R14                  RETURN                    @Z403333  04365000
IKJEFT02 CSECT                                                @Z403333  04366000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04367000
*/*                                                                  */ 04368000
*/* SEGMENT NAME -- IKJEFTA2                                         */ 04369000
*/*                                                                  */ 04370000
*/* DESCRIPTIVE NAME -- COMMAND VALIDATION EXIT (AFTER POST)         */ 04371000
*/*                                                                  */ 04372000
*/* FUNCTION -- THIS DEFAULT ROUTINE SIMPLY RETURNS WITH A CODE OF   */ 04373000
*/*       0 AND DOES NOTHING.                                        */ 04374000
*/*       THIS ROUTINE FUNCTIONS IN PROBLEM PROGRAM STATE UNDER THE  */ 04375000
*/*       PROBLEM PROGRAM PROTECTION KEY AFTER ENTRY VIA SYNCH       */ 04376000
*/*  OPERATION --                                                    */ 04377000
*/*           - SET RETURN REGISTER TO 4                             */ 04378000
*/*                                                                  */ 04379000
*/* ENTRY -- LINKED BY REGISTER 14                                   */ 04380000
*/*                                                                  */ 04381000
*/* INPUT -- REGISTER 1 POINTS TO PARM LIST WHICH CONTAINS:          */ 04382000
*/*       1 -- FIRST WORD IS POINTER TO UNPROTECTED PARM LIST        */ 04383000
*/*       2 -- SECOND WORD IS POINTER TO PROTECTED PARM LIST         */ 04384000
*/*                                                                  */ 04385000
*/* OUTPUT -- N/A                                                    */ 04386000
*/*                                                                  */ 04387000
*/* EXTERNAL REFERENCES -- N/A                                       */ 04388000
*/*                                                                  */ 04389000
*/* EXIT NORMAL -- RETURN BY LINK REGISTER 14                        */ 04390000
*/*                                                                  */ 04391000
*/*   RETURN CODE --                                                 */ 04392000
*/*       0 -- CONTINUE WITH NORMAL PROCESSING                       */ 04393000
*/*                                                                  */ 04394000
*/* EXIT ERROR -- N/A                                                */ 04395000
*/*                                                                  */ 04396000
*/*   CONDITIONS -- N/A                                              */ 04397000
*/*                                                                  */ 04398000
*/*   RETURN CODE -- N/A                                             */ 04399000
*/*                                                                  */ 04400000
*/* * * * * * * * * * * * * * * * ** * * * * * * * * * * * * * * * * */ 04401000
*                                                               01S1072 04402000
*                                                               01S1072 04403000
*                                                               01S1072 04404000
*           GENERATE;                                           01S1072 04405000
IKJEFTA2 CSECT                                                @Z403333  04406000
         LA    R15,0                SET NORMAL PROCESS CODE   @Z403333  04407000
         BR    R14                  RETURN                    @Z403333  04408000
IKJEFT02 CSECT                                                @Z403333  04409000
*                                                               01S1073 04410000
*                                                               01S1073 04411000
*    DECLARE /*GENERAL PURPOSE REGISTERS */                     01S1073 04412000
*      GPR01F FIXED(31) REG(1),                                 01S1073 04413000
*      GPR00P PTR(31) REG(0),                                   01S1073 04414000
*      GPR01P PTR(31) REG(1),                                   01S1073 04415000
*      GPR02P PTR(31) REG(2),                                   01S1073 04416000
*      GPR03P PTR(31) REG(3),                                   01S1073 04417000
*      GPR04P PTR(31) REG(4),                                   01S1073 04418000
*      GPR05P PTR(31) REG(5),                                   01S1073 04419000
*      GPR06P PTR(31) REG(6),                                   01S1073 04420000
*      GPR07P PTR(31) REG(7),                                   01S1073 04421000
*      GPR08P PTR(31) REG(8),                                   01S1073 04422000
*      GPR09P PTR(31) REG(9),                                   01S1073 04423000
*      GPR14P PTR(31) REG(14),                                  01S1073 04424000
*      GPR15P PTR(31) REG(15);                                  01S1073 04425000
*    DCL 1 I005 DEF(ILIST) BDY(WORD), /* LIST FOR FREEMAIN */   01S1074 04426000
*       3 I00501 PTR(8),   /*RESERVED*/                         01S1074 04427000
*       3 I00502 PTR(24) , /*LENGTH*/                           01S1074 04428000
*       3 I00503 PTR(8),   /*RESERVED*/                         01S1074 04429000
*       3 I00504 PTR(24) , /*ADDR OF ADDR LIST*/                01S1074 04430000
*       3 I00505 BIT(8) ,  /* TYPE OF FREEMAIN*/                01S1074 04431000
*       3 I00506 PTR(8) ; /* SUBPOOL VALUE*/                    01S1074 04432000
*                                                               01S1074 04433000
*    DECLARE ILIST CHAR(10) BDY(DWORD); /*STANDARD LIST*/       01S1075 04434000
*                                                               01S1075 04435000
*    DECLARE /* COMMON VARIABLES */                             01S1076 04436000
*      I256C CHAR(256) BASED,                                   01S1076 04437000
*      I031F FIXED(31) BASED,                                   01S1076 04438000
*      I031P PTR(31)   BASED,                                   01S1076 04439000
*      I015F FIXED(15) BASED,                                   01S1076 04440000
*      I015P PTR(15)   BASED,                                   01S1076 04441000
*      I008P PTR(8)    BASED,                                   01S1076 04442000
*      I001C CHAR(1)   BASED;                                   01S1076 04443000
*                                                               01S1076 04444000
*                                                               01S1076 04445000
*FIN:       END IKJEFT02             /* END OF MODULE                */ 04446000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      * 04447000
*/*%INCLUDE SYSLIB  (IEZJSCB )                                        * 04448000
*/*%INCLUDE SYSLIB  (IKJUPT  )                                        * 04449000
*/*%INCLUDE SYSLIB  (IKJTMPWA)                                        * 04450000
*/*%INCLUDE SYSLIB  (IKJDAPL )                                        * 04451000
*/*%INCLUDE SYSLIB  (IKJDAP08)                                        * 04452000
*/*%INCLUDE SYSLIB  (IKJCPPL )                                        * 04453000
*/*%INCLUDE SYSLIB  (IKJCSPL )                                        * 04454000
*/*%INCLUDE SYSLIB  (IKJCSOA )                                        * 04455000
*/*%INCLUDE SYSLIB  (IKJECT  )                                        * 04456000
*/*%INCLUDE SYSLIB  (IKJIOPL )                                        * 04457000
*/*%INCLUDE SYSLIB  (IKJGTPB )                                        * 04458000
*/*%INCLUDE SYSLIB  (IKJPGPB )                                        * 04459000
*/*%INCLUDE SYSLIB  (IKJPTPB )                                        * 04460000
*/*%INCLUDE SYSLIB  (IKJSTPB )                                        * 04461000
*/*%INCLUDE SYSLIB  (IKJPSCB )                                        * 04462000
*/*%INCLUDE SYSLIB  (IEZATTCH)                                        * 04463000
*/*%INCLUDE SYSLIB  (IKJLSD  )                                        * 04464000
*/*%INCLUDE SYSLIB  (IKJEXEC )                                        * 04465000
*/*%INCLUDE SYSLIB  (IHADCBDF)                                        * 04466000
*/*%INCLUDE SYSLIB  (IHADCB  )                                        * 04467000
*/*%INCLUDE SYSLIB  (IKJPPL  )                                        * 04468000
*/*%INCLUDE SYSLIB  (IKJSTPL )                                        * 04469000
*/*%INCLUDE SYSLIB  (IKJTPL  )                                        * 04470000
*/*%INCLUDE SYSLIB  (CVT     )                                        * 04471000
*/*%INCLUDE SYSLIB  (IKJTCB  )                                        * 04472000
*/*%INCLUDE SYSLIB  (IKJEFLWA)                                        * 04473000
*/*%INCLUDE SYSLIB  (IHAASCB )                                        * 04474000
*/*%INCLUDE SYSLIB  (IHAASXB )                                        * 04475000
*/*%INCLUDE SYSLIB  (IKJRLGB )                                        * 04476000
*;                                                              01S1077 04477000
@EL00001 L     @13,4(,@13)                                      01S1077 04478000
@EF00001 L     @00,@SIZDATD                                     01S1077 04479000
         LR    @01,@12                                          01S1077 04480000
         FREEMAIN R,LV=(0),A=(1)                                        04481000
@ER00001 LM    @14,@12,12(@13)                                  01S1077 04482000
         BR    @14                                              01S1077 04483000
@DATA    DS    0H                                                       04484000
@SC03114 CLC   CMDNAME(0,@06),NSCPNAM(NSCPNAMP)                         04485000
@SM03116 MVC   MBRSTXT(0,WRKAPTR1),CMDNAME(@14)                         04486000
@SM03118 MVC   NXTCMD(0,WRKAPTR1),CMDNAME(@04)                          04487000
@SM03120 MVC   TSRCHNAM(0),CMDNAME(@14)                                 04488000
@DATD    DSECT                                                          04489000
         DS    0F                                                       04490000
@SA00001 DS    18F                                                      04491000
@AL00001 DS    2A                                                       04492000
IKJEFT02 CSECT                                                          04493000
         DS    0F                                                       04494000
@CF00032 DC    F'1'                                                     04495000
@CF00045 DC    F'4'                                                     04496000
@CH00045 EQU   @CF00045+2                                               04497000
@CF00041 DC    F'8'                                                     04498000
@CF00052 DC    F'10'                                                    04499000
@CH00052 EQU   @CF00052+2                                               04500000
@CF00054 DC    F'12'                                                    04501000
@CH00054 EQU   @CF00054+2                                               04502000
@CF00056 DC    F'20'                                                    04503000
@CF00123 DC    F'24'                                                    04504000
@CF00912 DC    F'72'                                                    04505000
@CF03087 DC    F'172'                                                   04506000
@CF03086 DC    F'264'                                                   04507000
@CF00093 DC    F'16777216'                                              04508000
@DATD    DSECT                                                          04509000
         DS    0D                                                       04510000
RETURNC  DS    A                                                        04511000
EXITRCDE DS    A                                                        04512000
SWITCHES DS    CL1                                                      04513000
         ORG   SWITCHES                                                 04514000
LDOKSWT  DS    BL1                                                      04515000
         ORG   SWITCHES+1                                               04516000
TSRCHNAM DS    CL8                                                      04517000
         DS    CL7                                                      04518000
ILIST    DS    CL10                                                     04519000
IKJEFT02 CSECT                                                          04520000
         DS    0F                                                       04521000
@SIZDATD DC    AL1(1)                                                   04522000
         DC    AL3(@ENDDATD-@DATD)                                      04523000
@CA00126 DC    A(TM02SL)                                                04524000
@CA00129 DC    A(RDYMSG)                                                04525000
@CA00130 DC    A(MSG56621)                                              04526000
@CA00131 DC    A(MSG56622)                                              04527000
@CA00132 DC    A(MSG56650)                                              04528000
@CV00134 DC    V(DOCALL2)                                               04529000
@CV00135 DC    V(APFCTABL)                                              04530000
@CV00136 DC    V(IKJEFTB2)                                              04531000
@CV00137 DC    V(IKJEFTA2)                                              04532000
@CV00138 DC    V(IKJEFT08)                                              04533000
@CV00139 DC    V(NSCPTABL)                                              04534000
         DS    0D                                                       04535000
SPROK0   DC    A(0)                                                     04536000
SPROK1   DC    A((16777215+251658257))                                  04537000
@CC00042 DC    C'        '                                              04538000
@CC00076 DC    C'CALL'                                                  04539000
@CC00078 DC    C'TIME'                                                  04540000
@CC02951 DC    C'TEST'                                                  04541000
@CB00058 DC    X'FFFF'                                                  04542000
SYSIKJUA DC    CL8'SYSIKJUA'                                            04543000
EXECCMD  DC    CL4'EXEC'                                                04544000
         DS    CL2                                                      04545000
FMLCBM   DS    CL10                                                     04546000
         ORG   FMLCBM                                                   04547000
FMLCBM01 DC    AL1(0)                                                   04548000
FMLCBM02 DC    AL3(0)                                                   04549000
FMLCBM03 DC    AL1(0)                                                   04550000
FMLCBM04 DC    AL3(0)                                                   04551000
FMLCBM05 DC    X'A0'                                                    04552000
FMLCBM06 DC    AL1(0)                                                   04553000
         ORG   FMLCBM+10                                                04554000
IKJEFT02 CSECT                                                          04555000
ATTCHBLK ATTACH  SHSPV=78,ESTAI=(0,0),SZERO=NO,SF=L                     04556000
IKJEFT02 CSECT                                                          04557000
PATCH2   DC    ((@DATA-@PSTART)/20)X'00'  LOCAL PATCH AREA              04558000
@DATD    DSECT                                                          04559000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                04560000
@ENDDATD EQU   *                                                        04561000
IKJEFT02 CSECT                                                          04562000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       04563000
@01      EQU   01                                                       04564000
@02      EQU   02                                                       04565000
@03      EQU   03                                                       04566000
@04      EQU   04                                                       04567000
@05      EQU   05                                                       04568000
@06      EQU   06                                                       04569000
@07      EQU   07                                                       04570000
@08      EQU   08                                                       04571000
@09      EQU   09                                                       04572000
@10      EQU   10                                                       04573000
@11      EQU   11                                                       04574000
@12      EQU   12                                                       04575000
@13      EQU   13                                                       04576000
@14      EQU   14                                                       04577000
@15      EQU   15                                                       04578000
NSCPNAMP EQU   @02                                                      04579000
R10      EQU   @10                                                      04580000
R11      EQU   @11                                                      04581000
R12      EQU   @12                                                      04582000
R0       EQU   @00                                                      04583000
R1       EQU   @01                                                      04584000
R2       EQU   @02                                                      04585000
R3       EQU   @03                                                      04586000
R4       EQU   @04                                                      04587000
R5       EQU   @05                                                      04588000
R6       EQU   @06                                                      04589000
R7       EQU   @07                                                      04590000
SRPARMLP EQU   @07                                                      04591000
R8       EQU   @08                                                      04592000
WRKAPTR2 EQU   @08                                                      04593000
R9       EQU   @09                                                      04594000
WRKAPTR1 EQU   @09                                                      04595000
R14      EQU   @14                                                      04596000
R15      EQU   @15                                                      04597000
R13      EQU   @13                                                      04598000
GPR01P   EQU   @01                                                      04599000
GPR00P   EQU   @00                                                      04600000
GPR01F   EQU   @01                                                      04601000
GPR02P   EQU   @02                                                      04602000
GPR03P   EQU   @03                                                      04603000
GPR04P   EQU   @04                                                      04604000
GPR05P   EQU   @05                                                      04605000
GPR06P   EQU   @06                                                      04606000
GPR07P   EQU   @07                                                      04607000
GPR08P   EQU   @08                                                      04608000
GPR09P   EQU   @09                                                      04609000
GPR14P   EQU   @14                                                      04610000
GPR15P   EQU   @15                                                      04611000
         EXTRN TM02SL                                                   04612000
         EXTRN RDYMSG                                                   04613000
         EXTRN MSG56621                                                 04614000
         EXTRN MSG56622                                                 04615000
         EXTRN MSG56650                                                 04616000
CVTPTR   EQU   16                                                       04617000
STAIMSG  EQU   0                                                        04618000
ECB      EQU   0                                                        04619000
ECBPOST  EQU   ECB                                                      04620000
ECBCODE  EQU   ECB+1                                                    04621000
CMDNAME  EQU   0                                                        04622000
TE2NAME  EQU   0                                                        04623000
IEZJSCB  EQU   0                                                        04624000
JSCBSEC1 EQU   IEZJSCB+188                                              04625000
JSCHPCE  EQU   JSCBSEC1+4                                               04626000
JSCBDCB  EQU   JSCBSEC1+36                                              04627000
JSCBOPTS EQU   JSCBSEC1+48                                              04628000
JSCBAUTH EQU   JSCBOPTS                                                 04629000
JSCBSWT1 EQU   JSCBSEC1+55                                              04630000
JSCBWTP  EQU   JSCBSEC1+64                                              04631000
JSCBWTFG EQU   JSCBWTP                                                  04632000
JSCBEND1 EQU   IEZJSCB+260                                              04633000
UPT      EQU   0                                                        04634000
UPTSWS   EQU   UPT+12                                                   04635000
DAPL     EQU   0                                                        04636000
DAPB08   EQU   0                                                        04637000
DA08FLG  EQU   DAPB08+2                                                 04638000
DA08DSP1 EQU   DAPB08+68                                                04639000
DA08DPS2 EQU   DAPB08+69                                                04640000
DA08DPS3 EQU   DAPB08+70                                                04641000
DA08CTL  EQU   DAPB08+71                                                04642000
CPPL     EQU   0                                                        04643000
CPPLCBUF EQU   CPPL                                                     04644000
CSPL     EQU   0                                                        04645000
CSPLFLG  EQU   CSPL+12                                                  04646000
CSPLOA   EQU   CSPL+16                                                  04647000
CSPLCBUF EQU   CSPL+20                                                  04648000
CSOA     EQU   0                                                        04649000
CSOACNM  EQU   CSOA                                                     04650000
CSOALNM  EQU   CSOA+4                                                   04651000
CSOAFLG  EQU   CSOA+6                                                   04652000
CSOAVNP  EQU   CSOAFLG                                                  04653000
CSOANOC  EQU   CSOAFLG                                                  04654000
CSOAEXEC EQU   CSOAFLG                                                  04655000
ECT      EQU   0                                                        04656000
ECTRCDF  EQU   ECT                                                      04657000
ECTRTCD  EQU   ECT+1                                                    04658000
ECTIOWA  EQU   ECT+4                                                    04659000
ECTMSGF  EQU   ECT+8                                                    04660000
ECTPCMD  EQU   ECT+12                                                   04661000
ECTSCMD  EQU   ECT+20                                                   04662000
ECTSWS   EQU   ECT+28                                                   04663000
ECTNOPD  EQU   ECTSWS                                                   04664000
ECTATRM  EQU   ECTSWS                                                   04665000
ECTLOGF  EQU   ECTSWS                                                   04666000
ECTSWS2  EQU   ECT+40                                                   04667000
ECTSWS21 EQU   ECTSWS2                                                  04668000
IOPL     EQU   0                                                        04669000
IOPLIOPB EQU   IOPL+12                                                  04670000
GTPB     EQU   0                                                        04671000
PGPB     EQU   0                                                        04672000
PGPBIBUF EQU   PGPB+12                                                  04673000
PTPB     EQU   0                                                        04674000
STPB     EQU   0                                                        04675000
@NM00041 EQU   STPB                                                     04676000
SPBFLUSH EQU   @NM00041+1                                               04677000
PSCB     EQU   0                                                        04678000
PSCBATR1 EQU   PSCB+16                                                  04679000
PSCBRLGB EQU   PSCB+48                                                  04680000
PSCBUPT  EQU   PSCB+52                                                  04681000
ATTCHLST EQU   0                                                        04682000
ATPGNADA EQU   ATTCHLST                                                 04683000
ATDEFLAG EQU   ATPGNADA                                                 04684000
ATDCBADA EQU   ATTCHLST+4                                               04685000
ATECBADR EQU   ATTCHLST+8                                               04686000
ATECBFLG EQU   ATECBADR                                                 04687000
ATGSFLDA EQU   ATTCHLST+12                                              04688000
ATGSFLAG EQU   ATGSFLDA                                                 04689000
ATSHFLDA EQU   ATTCHLST+16                                              04690000
ATSHFLAG EQU   ATSHFLDA                                                 04691000
ATETXRA  EQU   ATTCHLST+20                                              04692000
ATROLL   EQU   ATETXRA                                                  04693000
ATINDS2  EQU   ATROLL                                                   04694000
ATINDS   EQU   ATTCHLST+27                                              04695000
ATJSCBAD EQU   ATTCHLST+36                                              04696000
ATSTAIAD EQU   ATTCHLST+40                                              04697000
ATSTAIEX EQU   ATTCHLST+44                                              04698000
ATSTAIF  EQU   ATSTAIEX                                                 04699000
ATFLAGS1 EQU   ATTCHLST+52                                              04700000
LSD      EQU   0                                                        04701000
LSDEXEC  EQU   LSD+12                                                   04702000
EXECDATA EQU   0                                                        04703000
@NM00049 EQU   EXECDATA+16                                              04704000
EXDATFLG EQU   EXECDATA+32                                              04705000
@NM00050 EQU   EXDATFLG                                                 04706000
ERRCMD   EQU   @NM00050                                                 04707000
IHADCB   EQU   0                                                        04708000
IHADCS00 EQU   0                                                        04709000
DCBFDAD  EQU   IHADCS00+5                                               04710000
IHADCS01 EQU   0                                                        04711000
DCBDVTBL EQU   IHADCS01                                                 04712000
IHADCS11 EQU   0                                                        04713000
DCBRELB  EQU   IHADCS11                                                 04714000
DCBREL   EQU   DCBRELB+1                                                04715000
DCBBUFCB EQU   IHADCS11+4                                               04716000
DCBDSORG EQU   IHADCS11+10                                              04717000
DCBDSRG1 EQU   DCBDSORG                                                 04718000
DCBDSRG2 EQU   DCBDSORG+1                                               04719000
DCBIOBAD EQU   IHADCS11+12                                              04720000
DCBODEB  EQU   DCBIOBAD                                                 04721000
DCBLNP   EQU   DCBODEB                                                  04722000
DCBQSLM  EQU   DCBLNP                                                   04723000
DCBIOBAA EQU   DCBODEB+1                                                04724000
IHADCS50 EQU   0                                                        04725000
DCBSVCXL EQU   IHADCS50                                                 04726000
DCBEODAD EQU   IHADCS50+4                                               04727000
DCBBFALN EQU   DCBEODAD                                                 04728000
DCBHIARC EQU   DCBBFALN                                                 04729000
DCBBFTEK EQU   DCBHIARC                                                 04730000
DCBBFT   EQU   DCBBFTEK                                                 04731000
DCBEXLST EQU   IHADCS50+8                                               04732000
DCBRECFM EQU   DCBEXLST                                                 04733000
DCBRECLA EQU   DCBRECFM                                                 04734000
IHADCS24 EQU   0                                                        04735000
DCBOFLGS EQU   IHADCS24+8                                               04736000
DCBOFLWR EQU   DCBOFLGS                                                 04737000
DCBIFLG  EQU   IHADCS24+9                                               04738000
DCBIBPCT EQU   DCBIFLG                                                  04739000
DCBMACR  EQU   IHADCS24+10                                              04740000
DCBMACR1 EQU   DCBMACR                                                  04741000
DCBMRFE  EQU   DCBMACR1                                                 04742000
DCBMRGET EQU   DCBMRFE                                                  04743000
DCBMRAPG EQU   DCBMACR1                                                 04744000
DCBMRRD  EQU   DCBMRAPG                                                 04745000
DCBMRCI  EQU   DCBMACR1                                                 04746000
DCBMRMVG EQU   DCBMRCI                                                  04747000
DCBMRLCG EQU   DCBMACR1                                                 04748000
DCBMRABC EQU   DCBMACR1                                                 04749000
DCBMRPT1 EQU   DCBMRABC                                                 04750000
DCBMRSBG EQU   DCBMRPT1                                                 04751000
DCBMRCRL EQU   DCBMACR1                                                 04752000
DCBMRCHK EQU   DCBMRCRL                                                 04753000
DCBMRRDX EQU   DCBMRCHK                                                 04754000
DCBMRDMG EQU   DCBMACR1                                                 04755000
DCBMACR2 EQU   DCBMACR+1                                                04756000
DCBMRPUT EQU   DCBMACR2                                                 04757000
DCBMRWRT EQU   DCBMACR2                                                 04758000
DCBMRMVP EQU   DCBMACR2                                                 04759000
DCBMR5WD EQU   DCBMACR2                                                 04760000
DCBMRLDM EQU   DCBMR5WD                                                 04761000
DCBMRLCP EQU   DCBMRLDM                                                 04762000
DCBMR4WD EQU   DCBMACR2                                                 04763000
DCBMRPT2 EQU   DCBMR4WD                                                 04764000
DCBMRTMD EQU   DCBMRPT2                                                 04765000
DCBMR3WD EQU   DCBMACR2                                                 04766000
DCBMRCTL EQU   DCBMR3WD                                                 04767000
DCBMRSTK EQU   DCBMRCTL                                                 04768000
DCBMR1WD EQU   DCBMACR2                                                 04769000
DCBMRSWA EQU   DCBMR1WD                                                 04770000
DCBMRDMD EQU   DCBMRSWA                                                 04771000
IHADCS25 EQU   0                                                        04772000
DCBMACRF EQU   IHADCS25+2                                               04773000
DCBMACF1 EQU   DCBMACRF                                                 04774000
DCBMFFE  EQU   DCBMACF1                                                 04775000
DCBMFGET EQU   DCBMFFE                                                  04776000
DCBMFAPG EQU   DCBMACF1                                                 04777000
DCBMFRD  EQU   DCBMFAPG                                                 04778000
DCBMFCI  EQU   DCBMACF1                                                 04779000
DCBMFMVG EQU   DCBMFCI                                                  04780000
DCBMFLCG EQU   DCBMACF1                                                 04781000
DCBMFABC EQU   DCBMACF1                                                 04782000
DCBMFPT1 EQU   DCBMFABC                                                 04783000
DCBMFSBG EQU   DCBMFPT1                                                 04784000
DCBMFCRL EQU   DCBMACF1                                                 04785000
DCBMFCHK EQU   DCBMFCRL                                                 04786000
DCBMFDMG EQU   DCBMACF1                                                 04787000
DCBMACF2 EQU   DCBMACRF+1                                               04788000
DCBMFPUT EQU   DCBMACF2                                                 04789000
DCBMFWRT EQU   DCBMACF2                                                 04790000
DCBMFMVP EQU   DCBMACF2                                                 04791000
DCBMF5WD EQU   DCBMACF2                                                 04792000
DCBMFLDM EQU   DCBMF5WD                                                 04793000
DCBMFLCP EQU   DCBMFLDM                                                 04794000
DCBMF4WD EQU   DCBMACF2                                                 04795000
DCBMFPT2 EQU   DCBMF4WD                                                 04796000
DCBMFTMD EQU   DCBMFPT2                                                 04797000
DCBMF3WD EQU   DCBMACF2                                                 04798000
DCBMFCTL EQU   DCBMF3WD                                                 04799000
DCBMFSTK EQU   DCBMFCTL                                                 04800000
DCBMF1WD EQU   DCBMACF2                                                 04801000
DCBMFSWA EQU   DCBMF1WD                                                 04802000
DCBMFDMD EQU   DCBMFSWA                                                 04803000
DCBDEBAD EQU   IHADCS25+4                                               04804000
DCBIFLGS EQU   DCBDEBAD                                                 04805000
DCBIFPCT EQU   DCBIFLGS                                                 04806000
IHADCS26 EQU   0                                                        04807000
DCBWRITE EQU   IHADCS26                                                 04808000
DCBREAD  EQU   DCBWRITE                                                 04809000
DCBWRITA EQU   DCBREAD+1                                                04810000
IHADCS36 EQU   0                                                        04811000
DCBGERR  EQU   IHADCS36                                                 04812000
DCBPERR  EQU   DCBGERR                                                  04813000
DCBCHECK EQU   DCBPERR                                                  04814000
DCBOPTCD EQU   DCBCHECK                                                 04815000
DCBOPTH  EQU   DCBOPTCD                                                 04816000
DCBOPTO  EQU   DCBOPTH                                                  04817000
DCBOPTZ  EQU   DCBOPTCD                                                 04818000
DCBGERRA EQU   DCBCHECK+1                                               04819000
DCBPERRA EQU   DCBGERRA                                                 04820000
DCBSYNAD EQU   IHADCS36+4                                               04821000
DCBCIND1 EQU   IHADCS36+8                                               04822000
DCBCIND2 EQU   IHADCS36+9                                               04823000
DCBIOBA  EQU   IHADCS36+16                                              04824000
DCBCICB  EQU   DCBIOBA                                                  04825000
IHADCS52 EQU   0                                                        04826000
DCBDIRCT EQU   IHADCS52                                                 04827000
DCBQSWS  EQU   DCBDIRCT                                                 04828000
DCBUSASI EQU   DCBQSWS                                                  04829000
DCBQADFS EQU   DCBUSASI                                                 04830000
DCBBUFOF EQU   DCBDIRCT+1                                               04831000
IHADCS37 EQU   0                                                        04832000
DCBFLAG1 EQU   IHADCS37                                                 04833000
IHADCS38 EQU   0                                                        04834000
DCBEOBR  EQU   IHADCS38                                                 04835000
DCBPOINT EQU   IHADCS38+12                                              04836000
DCBCNTRL EQU   DCBPOINT                                                 04837000
PPL      EQU   0                                                        04838000
STPL     EQU   0                                                        04839000
ABMSGAR  EQU   0                                                        04840000
MSGBASE  EQU   ABMSGAR                                                  04841000
@NM00072 EQU   MSGBASE                                                  04842000
CVDAR    EQU   @NM00072                                                 04843000
@NM00073 EQU   CVDAR                                                    04844000
@NM00074 EQU   @NM00073                                                 04845000
TRUMSG   EQU   @NM00074+4                                               04846000
TYPAR    EQU   TRUMSG+16                                                04847000
CODEAR   EQU   TYPAR                                                    04848000
VALAR6   EQU   CODEAR+1                                                 04849000
ABNDCD   EQU   MSGBASE+12                                               04850000
ABNDCDA  EQU   ABNDCD                                                   04851000
@NM00076 EQU   ABNDCDA                                                  04852000
SUBCDAR  EQU   ABMSGAR+28                                               04853000
SUBCDRS  EQU   SUBCDAR                                                  04854000
SUBCDBI  EQU   SUBCDRS+2                                                04855000
SUBCOFF  EQU   SUBCDBI                                                  04856000
SUBCAR   EQU   SUBCOFF                                                  04857000
PRSMAR   EQU   0                                                        04858000
PRSMCVA  EQU   PRSMAR                                                   04859000
PRSMSAV  EQU   PRSMCVA                                                  04860000
PARSRC   EQU   PRSMSAV                                                  04861000
PRSMVAL  EQU   PARSRC+4                                                 04862000
PRSMTXT  EQU   PRSMVAL                                                  04863000
DYNAPARM EQU   0                                                        04864000
TIOSRL   EQU   0                                                        04865000
TOPSTKL  EQU   0                                                        04866000
@NM00083 EQU   TOPSTKL                                                  04867000
@NM00084 EQU   @NM00083                                                 04868000
XECNOW   EQU   @NM00084                                                 04869000
STLLSDP  EQU   @NM00083+1                                               04870000
LSDPTR   EQU   STLLSDP                                                  04871000
MDLGML   EQU   0                                                        04872000
MDLFML   EQU   0                                                        04873000
STYNQL   EQU   0                                                        04874000
STYNQL02 EQU   STYNQL+8                                                 04875000
STYDQL   EQU   0                                                        04876000
STYDQL02 EQU   STYDQL+4                                                 04877000
CURPTRS  EQU   0                                                        04878000
SAVRBAK  EQU   CURPTRS+4                                                04879000
SAVARY   EQU   0                                                        04880000
TMPWRKA2 EQU   0                                                        04881000
TWRKA2A  EQU   TMPWRKA2                                                 04882000
WRKA1PTR EQU   TWRKA2A                                                  04883000
TMPWA2P  EQU   TWRKA2A+8                                                04884000
TMPTIME  EQU   TWRKA2A+16                                               04885000
TMPT04   EQU   TWRKA2A+20                                               04886000
TMPT042  EQU   TWRKA2A+24                                               04887000
TEPKEY   EQU   TWRKA2A+32                                               04888000
TCBPTR   EQU   TWRKA2A+36                                               04889000
UPTPTR   EQU   TWRKA2A+40                                               04890000
ECTPTR   EQU   TWRKA2A+44                                               04891000
PSCBPTR  EQU   TWRKA2A+48                                               04892000
ASCBPTR  EQU   TWRKA2A+52                                               04893000
ASXBPTR  EQU   TWRKA2A+56                                               04894000
RLGBPTR  EQU   TWRKA2A+60                                               04895000
LWAPTR   EQU   TWRKA2A+64                                               04896000
SAVLNKRS EQU   TWRKA2A+120                                              04897000
SAVLNKA  EQU   SAVLNKRS                                                 04898000
SAVLNKG  EQU   SAVLNKRS+24                                              04899000
TWRKA2B  EQU   TMPWRKA2+168                                             04900000
MCTLFLGS EQU   TWRKA2B                                                  04901000
MCFLGS1  EQU   MCTLFLGS                                                 04902000
BKGMODE  EQU   MCFLGS1                                                  04903000
DRSAPF   EQU   MCFLGS1                                                  04904000
MTPL     EQU   TWRKA2B+4                                                04905000
MTPLPS   EQU   MTPL+4                                                   04906000
RTRYSA   EQU   TWRKA2B+20                                               04907000
MDYNASP  EQU   TWRKA2B+32                                               04908000
TMPWRKA1 EQU   0                                                        04909000
TPL      EQU   TMPWRKA1                                                 04910000
TPLCBUF  EQU   TPL                                                      04911000
TPLTBUF  EQU   TPL+16                                                   04912000
TPLCTCB  EQU   TPL+20                                                   04913000
TPLSTAI  EQU   TPL+24                                                   04914000
TPLSPLS  EQU   TPL+28                                                   04915000
TPLNECB  EQU   TPL+32                                                   04916000
TPLNTCB  EQU   TPL+36                                                   04917000
TPLMECB  EQU   TPL+40                                                   04918000
TPLECBL  EQU   TPL+44                                                   04919000
TPLCECB  EQU   TPLECBL                                                  04920000
TPLIECB  EQU   TPLECBL+4                                                04921000
TPLAECB  EQU   TPLECBL+9                                                04922000
TMPNECB  EQU   TMPWRKA1+60                                              04923000
TMPCECB  EQU   TMPWRKA1+64                                              04924000
TMPIECB  EQU   TMPWRKA1+68                                              04925000
TMPAECB  EQU   TMPWRKA1+72                                              04926000
TMPCMDWT EQU   TMPWRKA1+76                                              04927000
TMPSWS   EQU   TMPWRKA1+80                                              04928000
TMPTEST  EQU   TMPSWS                                                   04929000
TMPCMDW  EQU   TMPSWS                                                   04930000
TMPNFCMD EQU   TMPSWS                                                   04931000
TMPACTRL EQU   TMPSWS                                                   04932000
TMPSCTRL EQU   TMPSWS                                                   04933000
ABND806  EQU   TMPSWS                                                   04934000
FRSTLAB  EQU   TMPSWS                                                   04935000
ATCHNOW  EQU   TMPSWS+1                                                 04936000
LINKNOW  EQU   TMPSWS+1                                                 04937000
FRSTEX   EQU   TMPSWS+1                                                 04938000
CALLNOW  EQU   TMPSWS+1                                                 04939000
CALLSWS  EQU   TMPSWS+3                                                 04940000
FLOFLGS  EQU   TMPWRKA1+148                                             04941000
FLOFLGS1 EQU   FLOFLGS                                                  04942000
DOLIST   EQU   FLOFLGS1                                                 04943000
DOGETC   EQU   FLOFLGS1                                                 04944000
DODONE   EQU   FLOFLGS1                                                 04945000
DOINVOK  EQU   FLOFLGS1                                                 04946000
DOSCAN   EQU   FLOFLGS1                                                 04947000
FLOFLGS2 EQU   FLOFLGS+1                                                04948000
DOPUTM   EQU   FLOFLGS2                                                 04949000
DOFRECB  EQU   FLOFLGS2                                                 04950000
DOPSTRT  EQU   FLOFLGS2                                                 04951000
DOACTV   EQU   FLOFLGS2                                                 04952000
DOCHKAT  EQU   FLOFLGS2                                                 04953000
DOWAIT   EQU   FLOFLGS2                                                 04954000
DOATTN   EQU   FLOFLGS2                                                 04955000
DOCHKCP  EQU   DOATTN                                                   04956000
FLOFLGS3 EQU   FLOFLGS+2                                                04957000
DOIMPLX  EQU   FLOFLGS3                                                 04958000
DOTEST   EQU   FLOFLGS3                                                 04959000
DOSETBF  EQU   FLOFLGS3                                                 04960000
DOSETTB  EQU   FLOFLGS3                                                 04961000
FLOFLGS4 EQU   FLOFLGS+3                                                04962000
CPPLPTR  EQU   TMPWRKA1+152                                             04963000
DAPLPTR  EQU   TMPWRKA1+164                                             04964000
GTPBPTR  EQU   TMPWRKA1+168                                             04965000
IOPLPTR  EQU   TMPWRKA1+172                                             04966000
PGPBPTR  EQU   TMPWRKA1+176                                             04967000
PPLPTR   EQU   TMPWRKA1+180                                             04968000
PTPBPTR  EQU   TMPWRKA1+184                                             04969000
STPLPTR  EQU   TMPWRKA1+188                                             04970000
ATTCHPTR EQU   TMPWRKA1+204                                             04971000
DCBPTR   EQU   TMPWRKA1+212                                             04972000
DYNAPPTR EQU   TMPWRKA1+216                                             04973000
READYPTR EQU   TMPWRKA1+224                                             04974000
SCANAP   EQU   TMPWRKA1+228                                             04975000
SRPLPTR  EQU   TMPWRKA1+232                                             04976000
STAXPPTR EQU   TMPWRKA1+236                                             04977000
STPBPTR  EQU   TMPWRKA1+240                                             04978000
ACTSL    EQU   TMPWRKA1+288                                             04979000
ACTSEG   EQU   ACTSL                                                    04980000
AMSGLIST EQU   TMPWRKA1+400                                             04981000
ATTCHSP  EQU   TMPWRKA1+440                                             04982000
BLDLLST  EQU   TMPWRKA1+500                                             04983000
XTRCLST  EQU   BLDLLST                                                  04984000
BLDLNAME EQU   XTRCLST+4                                                04985000
CTLBKSP  EQU   TMPWRKA1+800                                             04986000
DYNASP   EQU   TMPWRKA1+1060                                            04987000
NXTCMD   EQU   TMPWRKA1+1172                                            04988000
RCODE    EQU   TMPWRKA1+1260                                            04989000
SCANFLG  EQU   TMPWRKA1+1324                                            04990000
CALLWA   EQU   TMPWRKA1+1448                                            04991000
PPWORKAR EQU   CALLWA                                                   04992000
PPLIST   EQU   PPWORKAR                                                 04993000
PARMFLD  EQU   PPWORKAR+4                                               04994000
WORK1    EQU   CALLWA+108                                               04995000
PARSPARM EQU   WORK1                                                    04996000
DSNBUFFR EQU   WORK1+8                                                  04997000
DAPB0PTR EQU   CALLWA+168                                               04998000
MBRSEG   EQU   CALLWA+172                                               04999000
MBRSLEN  EQU   MBRSEG                                                   05000000
MBRSOFF  EQU   MBRSEG+2                                                 05001000
MBRSTXT  EQU   MBRSEG+4                                                 05002000
MBRDSEG  EQU   CALLWA+184                                               05003000
DSSEG    EQU   CALLWA+196                                               05004000
TMPWA2   EQU   0                                                        05005000
TMPWA2A  EQU   TMPWA2                                                   05006000
SVT040A  EQU   TMPWA2A                                                  05007000
SVT041A  EQU   TMPWA2A+72                                               05008000
SVT042A  EQU   TMPWA2A+144                                              05009000
STYNQWA  EQU   TMPWA2A+216                                              05010000
TMPWA2B  EQU   TMPWA2+256                                               05011000
RETRYFLG EQU   TMPWA2B+8                                                05012000
TMPRINIT EQU   RETRYFLG                                                 05013000
TMPRTRY  EQU   RETRYFLG                                                 05014000
CBUF     EQU   0                                                        05015000
CBUFLNG  EQU   CBUF                                                     05016000
CBUFOFF  EQU   CBUF+2                                                   05017000
STRTPARM EQU   0                                                        05018000
STRTPTR  EQU   STRTPARM                                                 05019000
CVTMAP   EQU   0                                                        05020000
CVTTCBP  EQU   CVTMAP                                                   05021000
CVTDAR   EQU   CVTMAP+72                                                05022000
CVTFLGS1 EQU   CVTDAR                                                   05023000
CVTDCB   EQU   CVTMAP+116                                               05024000
CVTIOQET EQU   CVTMAP+120                                               05025000
CVTIERLC EQU   CVTMAP+144                                               05026000
CVTHEAD  EQU   CVTMAP+160                                               05027000
CVTSV76C EQU   CVTHEAD                                                  05028000
CVTOPTA  EQU   CVTMAP+182                                               05029000
CVTOPTB  EQU   CVTMAP+183                                               05030000
CVTGTF   EQU   CVTMAP+236                                               05031000
CVTGTFST EQU   CVTGTF                                                   05032000
CVTGTFS  EQU   CVTGTFST                                                 05033000
CVTSTATE EQU   CVTGTFST                                                 05034000
CVTTMODE EQU   CVTGTFST                                                 05035000
CVTFORM  EQU   CVTGTFST                                                 05036000
CVTAQAVT EQU   CVTMAP+240                                               05037000
CVTTCMFG EQU   CVTAQAVT                                                 05038000
CVTVOLM2 EQU   CVTMAP+244                                               05039000
CVTTATA  EQU   CVTVOLM2                                                 05040000
CVTTSKS  EQU   CVTTATA                                                  05041000
CVTVOLF2 EQU   CVTTSKS                                                  05042000
CVTTAT   EQU   CVTTATA+1                                                05043000
CVTATER  EQU   CVTMAP+248                                               05044000
CVTEXT1  EQU   CVTMAP+252                                               05045000
CVTPURG  EQU   CVTMAP+260                                               05046000
CVTQMSG  EQU   CVTMAP+268                                               05047000
CVTDMSR  EQU   CVTMAP+272                                               05048000
CVTRSV37 EQU   CVTDMSR                                                  05049000
CVTDMSRF EQU   CVTRSV37                                                 05050000
CVTERPV  EQU   CVTMAP+316                                               05051000
CVTINTLA EQU   CVTMAP+320                                               05052000
CVTAPF   EQU   CVTMAP+324                                               05053000
CVTEXT2  EQU   CVTMAP+328                                               05054000
CVTHJES  EQU   CVTMAP+332                                               05055000
CVTPGSIA EQU   CVTMAP+348                                               05056000
CVTA1F1  EQU   CVTMAP+356                                               05057000
CVTSYSK  EQU   CVTMAP+357                                               05058000
CVTVOLM1 EQU   CVTMAP+380                                               05059000
CVTVOLF1 EQU   CVTVOLM1                                                 05060000
CVTATMCT EQU   CVTMAP+388                                               05061000
CVTXTNT1 EQU   0                                                        05062000
CVTXTNT2 EQU   0                                                        05063000
CVTDSSV  EQU   CVTXTNT2                                                 05064000
CVTFLGBT EQU   CVTXTNT2+5                                               05065000
CVTQID   EQU   CVTXTNT2+24                                              05066000
CVTRV400 EQU   CVTXTNT2+52                                              05067000
CVTRV409 EQU   CVTXTNT2+53                                              05068000
CVTATCVT EQU   CVTXTNT2+64                                              05069000
CVTRV429 EQU   CVTXTNT2+84                                              05070000
CVTRV438 EQU   CVTXTNT2+85                                              05071000
CVTRV457 EQU   CVTXTNT2+112                                             05072000
CVTRV466 EQU   CVTXTNT2+113                                             05073000
CVTFIX   EQU   0                                                        05074000
CVTRELNO EQU   CVTFIX+252                                               05075000
TCBFIX   EQU   0                                                        05076000
TCBFRS   EQU   TCBFIX                                                   05077000
TCB      EQU   0                                                        05078000
TCBPIE   EQU   TCB+4                                                    05079000
TCBPMASK EQU   TCBPIE                                                   05080000
TCBCMP   EQU   TCB+16                                                   05081000
TCBCMPF  EQU   TCBCMP                                                   05082000
TCBCPP   EQU   TCBCMPF                                                  05083000
TCBSTCC  EQU   TCBCMPF                                                  05084000
TCBCDBL  EQU   TCBCMPF                                                  05085000
TCBCWTO  EQU   TCBCMPF                                                  05086000
TCBCIND  EQU   TCBCMPF                                                  05087000
TCBCMSG  EQU   TCBCMPF                                                  05088000
TCBTRN   EQU   TCB+20                                                   05089000
TCBABF   EQU   TCBTRN                                                   05090000
TCBMSS   EQU   TCB+24                                                   05091000
TCBPKF   EQU   TCB+28                                                   05092000
TCBFLGS  EQU   TCB+29                                                   05093000
TCBFLGS1 EQU   TCBFLGS                                                  05094000
TCBFT    EQU   TCBFLGS1                                                 05095000
TCBFLGS2 EQU   TCBFLGS+1                                                05096000
TCBFLGS3 EQU   TCBFLGS+2                                                05097000
TCBFLGS4 EQU   TCBFLGS+3                                                05098000
TCBFLGS5 EQU   TCBFLGS+4                                                05099000
TCBABWF  EQU   TCBFLGS5                                                 05100000
TCBJPQ   EQU   TCB+44                                                   05101000
TCBPURGE EQU   TCBJPQ                                                   05102000
TCBGRS   EQU   TCB+48                                                   05103000
TCBFSA   EQU   TCB+112                                                  05104000
TCBTME   EQU   TCB+120                                                  05105000
TCBJSTCB EQU   TCB+124                                                  05106000
TCBTSFLG EQU   TCB+148                                                  05107000
TCBTSTSK EQU   TCBTSFLG                                                 05108000
TCBSTAB  EQU   TCB+160                                                  05109000
TCBNSTAE EQU   TCBSTAB                                                  05110000
TCBTCT   EQU   TCB+164                                                  05111000
TCBTCTGF EQU   TCBTCT                                                   05112000
TCBSCNDY EQU   TCB+172                                                  05113000
TCBNDSP  EQU   TCBSCNDY                                                 05114000
TCBNDSP1 EQU   TCBNDSP+1                                                05115000
TCBNDSP2 EQU   TCBNDSP+2                                                05116000
TCBNDSP3 EQU   TCBNDSP+3                                                05117000
TCBJSCB  EQU   TCB+180                                                  05118000
TCBRECDE EQU   TCBJSCB                                                  05119000
TCBEXT1  EQU   TCB+196                                                  05120000
TCBBITS  EQU   TCB+200                                                  05121000
TCBNDSP4 EQU   TCBBITS                                                  05122000
TCBNDSP5 EQU   TCBBITS+1                                                05123000
TCBFLGS6 EQU   TCBBITS+2                                                05124000
TCBFLGS7 EQU   TCBBITS+3                                                05125000
TCBDAR   EQU   TCB+204                                                  05126000
TCBDARC  EQU   TCBDAR                                                   05127000
TCBEXT2  EQU   TCB+208                                                  05128000
TCBFOE   EQU   TCB+244                                                  05129000
TCBESTAE EQU   TCB+264                                                  05130000
TCBESTRM EQU   TCBESTAE+1                                               05131000
TCBFBYT1 EQU   TCB+276                                                  05132000
TCBFBYT2 EQU   TCB+277                                                  05133000
TCBRV124 EQU   TCB+278                                                  05134000
TCBRV133 EQU   TCB+279                                                  05135000
TCBXTNT2 EQU   0                                                        05136000
TCBGTF   EQU   TCBXTNT2                                                 05137000
TCBTFLG  EQU   TCBGTF                                                   05138000
TCBRV146 EQU   TCBXTNT2+28                                              05139000
TCBRV155 EQU   TCBXTNT2+29                                              05140000
TCBRV164 EQU   TCBXTNT2+30                                              05141000
TCBRV173 EQU   TCBXTNT2+31                                              05142000
LWA      EQU   0                                                        05143000
LWAAECB  EQU   LWA+36                                                   05144000
LWAPECB  EQU   LWA+40                                                   05145000
LWASECB  EQU   LWA+44                                                   05146000
LWAFLGS  EQU   LWA+56                                                   05147000
@NM00126 EQU   LWAFLGS                                                  05148000
@NM00127 EQU   LWAFLGS+1                                                05149000
@NM00129 EQU   LWAFLGS+2                                                05150000
LWAFLGS4 EQU   LWAFLGS+3                                                05151000
LWACTLS  EQU   LWA+64                                                   05152000
LWANAME  EQU   LWA+72                                                   05153000
LWAELST  EQU   LWA+92                                                   05154000
LWAPECBP EQU   LWAELST+4                                                05155000
ASCB     EQU   0                                                        05156000
ASCBFW1  EQU   ASCB+100                                                 05157000
ASCBRCTF EQU   ASCBFW1+2                                                05158000
ASCBFLG1 EQU   ASCBFW1+3                                                05159000
ASCBASXB EQU   ASCB+108                                                 05160000
ASCBDSP1 EQU   ASCB+114                                                 05161000
ASCBFLG2 EQU   ASCB+115                                                 05162000
ASXB     EQU   0                                                        05163000
ASXBLWA  EQU   ASXB+20                                                  05164000
ASXBAEQ  EQU   ASXB+168                                                 05165000
ASXBSECR EQU   ASXB+199                                                 05166000
ASCBSFLG EQU   ASXBSECR                                                 05167000
ASXBCASW EQU   ASXB+216                                                 05168000
ASXBCRB1 EQU   ASXBCASW                                                 05169000
RLGB     EQU   0                                                        05170000
RLGBRLB  EQU   RLGB                                                     05171000
RLGBCHDR EQU   RLGBRLB                                                  05172000
TTCBTAB  EQU   0                                                        05173000
TCURTCB  EQU   TTCBTAB+4                                                05174000
TCUASCB  EQU   TTCBTAB+12                                               05175000
IEAVVMSR EQU   0                                                        05176000
NEWRSAV  EQU   0                                                        05177000
NHSA     EQU   NEWRSAV+4                                                05178000
OLDRSAV  EQU   0                                                        05179000
NSCPE    EQU   0                                                        05180000
NSCPLNG  EQU   NSCPE                                                    05181000
NSCPLGC  EQU   NSCPLNG                                                  05182000
NSCPNAM  EQU   NSCPE+2                                                  05183000
I001C    EQU   0                                                        05184000
I008P    EQU   0                                                        05185000
I015F    EQU   0                                                        05186000
I015P    EQU   0                                                        05187000
I031F    EQU   0                                                        05188000
I031P    EQU   0                                                        05189000
I256C    EQU   0                                                        05190000
LOGONTCB EQU   0                                                        05191000
MODEMSG  EQU   0                                                        05192000
STAXSP   EQU   0                                                        05193000
JSCBSEC2 EQU   JSCBEND1                                                 05194000
JSCBSEC3 EQU   JSCBEND1                                                 05195000
JSCBJCT  EQU   JSCBSEC3                                                 05196000
JSCBJCTA EQU   JSCBJCT+1                                                05197000
JSCBPSCB EQU   JSCBSEC3+4                                               05198000
JSCBASID EQU   JSCBSEC3+8                                               05199000
JSCBFBYT EQU   JSCBSEC3+10                                              05200000
JSCBJNL  EQU   JSCBSEC3+28                                              05201000
JSCBJJSB EQU   JSCBJNL                                                  05202000
JSCBSUB  EQU   JSCBSEC3+40                                              05203000
JSCSCT   EQU   JSCBSEC3+68                                              05204000
JSCRSV45 EQU   JSCBSEC3+112                                             05205000
JSCRSV46 EQU   JSCRSV45                                                 05206000
JSCRSV47 EQU   JSCRSV45+2                                               05207000
CPPLRF   EQU   CPPL                                                     05208000
CPPLPS   EQU   CPPLRF+4                                                 05209000
TPLRF    EQU   TPL                                                      05210000
TPLPS    EQU   TPLRF+4                                                  05211000
TDCBFLGS EQU   DCBOFLGS                                                 05212000
MULTLLST EQU   ACTSL                                                    05213000
MSGLIST  EQU   MULTLLST+4                                               05214000
NUMSEG   EQU   MSGLIST                                                  05215000
MSGSEG   EQU   MSGLIST+4                                                05216000
SECLLIST EQU   MULTLLST+20                                              05217000
CVTS01   EQU   CVTPGSIA                                                 05218000
CVTLPDSR EQU   CVTS01+4                                                 05219000
CVTLPDIA EQU   CVTS01+12                                                05220000
CVTDIRST EQU   CVTLPDIA                                                 05221000
CVTSLIDA EQU   CVTS01+24                                                05222000
CVTCTLFG EQU   CVTS01+50                                                05223000
CVTSCAN  EQU   CVTS01+132                                               05224000
CVTRV210 EQU   CVTS01+424                                               05225000
CVTRV219 EQU   CVTS01+425                                               05226000
CVTRV228 EQU   CVTS01+426                                               05227000
CVTRV237 EQU   CVTS01+427                                               05228000
CVTMFRTR EQU   CVTS01+452                                               05229000
CVTRV262 EQU   CVTS01+468                                               05230000
CVTRV271 EQU   CVTS01+469                                               05231000
CVTRV280 EQU   CVTS01+470                                               05232000
CVTRV289 EQU   CVTS01+471                                               05233000
CVTGSDA  EQU   CVTS01+600                                               05234000
ANUCMD1  EQU   NXTCMD                                                   05235000
ANUCMD2  EQU   NXTCMD+4                                                 05236000
LNUCMD1  EQU   NXTCMD                                                   05237000
LNUCMD2  EQU   NXTCMD+4                                                 05238000
CFLOFLG1 EQU   FLOFLGS1                                                 05239000
DOWATF1  EQU   CFLOFLG1                                                 05240000
DOATTNF1 EQU   DOWATF1                                                  05241000
DOACTF1  EQU   DOATTNF1                                                 05242000
DOTSKF1  EQU   DOACTF1                                                  05243000
DOCHKAF1 EQU   DOTSKF1                                                  05244000
DOSTCDF1 EQU   DOCHKAF1                                                 05245000
DOMPLXF1 EQU   DOSTCDF1                                                 05246000
DOGTCDF1 EQU   DOMPLXF1                                                 05247000
CFLOFLG2 EQU   FLOFLGS2                                                 05248000
@NM00141 EQU   CFLOFLG2                                                 05249000
DOMPLXF2 EQU   @NM00141                                                 05250000
DOGTCDF2 EQU   CFLOFLG2                                                 05251000
DOSTCDF2 EQU   DOGTCDF2                                                 05252000
DOCHKAF2 EQU   DOSTCDF2                                                 05253000
I005     EQU   ILIST                                                    05254000
I00502   EQU   I005+1                                                   05255000
I00504   EQU   I005+5                                                   05256000
I00505   EQU   I005+8                                                   05257000
I00506   EQU   I005+9                                                   05258000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    05259000
I00503   EQU   I005+4                                                   05260000
I00501   EQU   I005                                                     05261000
@NM00140 EQU   DOMPLXF1                                                 05262000
@NM00139 EQU   DOACTF1                                                  05263000
@NM00138 EQU   CFLOFLG1                                                 05264000
CVTRV628 EQU   CVTS01+728                                               05265000
CVTRV627 EQU   CVTS01+724                                               05266000
CVTRV626 EQU   CVTS01+720                                               05267000
CVTRV625 EQU   CVTS01+716                                               05268000
CVTRV624 EQU   CVTS01+712                                               05269000
CVTRV623 EQU   CVTS01+708                                               05270000
CVTRV622 EQU   CVTS01+704                                               05271000
CVTRV621 EQU   CVTS01+700                                               05272000
CVTIHASU EQU   CVTS01+696                                               05273000
CVTRV619 EQU   CVTS01+692                                               05274000
CVTRV618 EQU   CVTS01+688                                               05275000
CVTRV617 EQU   CVTS01+684                                               05276000
CVTRV616 EQU   CVTS01+680                                               05277000
CVTRV615 EQU   CVTS01+676                                               05278000
CVTRV614 EQU   CVTS01+672                                               05279000
CVTRV613 EQU   CVTS01+668                                               05280000
CVTTCASP EQU   CVTS01+664                                               05281000
CVT0PT03 EQU   CVTS01+660                                               05282000
CVT0PT0E EQU   CVTS01+656                                               05283000
CVTRV609 EQU   CVTS01+652                                               05284000
CVTCGK   EQU   CVTS01+648                                               05285000
CVTRAC   EQU   CVTS01+644                                               05286000
CVTHSM   EQU   CVTS01+640                                               05287000
CVTRV605 EQU   CVTS01+636                                               05288000
CVTRV604 EQU   CVTS01+632                                               05289000
CVTEFF02 EQU   CVTS01+628                                               05290000
CVTCBBR  EQU   CVTS01+624                                               05291000
CVTSSCR  EQU   CVTS01+620                                               05292000
CVTEVENT EQU   CVTS01+616                                               05293000
CVTCRCA  EQU   CVTS01+612                                               05294000
CVTTPIO  EQU   CVTS01+608                                               05295000
CVTADV   EQU   CVTS01+604                                               05296000
CVTGSDAB EQU   CVTGSDA                                                  05297000
CVTQV3   EQU   CVTS01+596                                               05298000
CVTQV2   EQU   CVTS01+592                                               05299000
CVTQV1   EQU   CVTS01+588                                               05300000
CVTRPT   EQU   CVTS01+584                                               05301000
CVTSSRB  EQU   CVTS01+580                                               05302000
CVTCSDRL EQU   CVTS01+576                                               05303000
CVTEXP1  EQU   CVTS01+572                                               05304000
CVTRMPMT EQU   CVTS01+568                                               05305000
CVTRMPTT EQU   CVTS01+564                                               05306000
CVTVPSA  EQU   CVTS01+560                                               05307000
CVTVSTOP EQU   CVTS01+556                                               05308000
CVTGTFR8 EQU   CVTS01+552                                               05309000
CVTQUIT  EQU   CVTS01+548                                               05310000
CVTVACR  EQU   CVTS01+544                                               05311000
CVTWTCB  EQU   CVTS01+540                                               05312000
CVTSTPRS EQU   CVTS01+536                                               05313000
CVT0PT02 EQU   CVTS01+532                                               05314000
CVTDARCM EQU   CVTS01+528                                               05315000
CVTIRECM EQU   CVTS01+524                                               05316000
CVTJRECM EQU   CVTS01+520                                               05317000
CVTVEMS0 EQU   CVTS01+516                                               05318000
CVTSPFRR EQU   CVTS01+512                                               05319000
CVTRLSTG EQU   CVTS01+508                                               05320000
CVT0TC0A EQU   CVTS01+504                                               05321000
CVTGMBR  EQU   CVTS01+500                                               05322000
CVTLFRM  EQU   CVTS01+496                                               05323000
CVTRMBR  EQU   CVTS01+492                                               05324000
CVTVIOP  EQU   CVTS01+488                                               05325000
CVTRV307 EQU   CVTS01+486                                               05326000
CVTRV306 EQU   CVTS01+484                                               05327000
CVTRV305 EQU   CVTS01+482                                               05328000
CVTRV304 EQU   CVTS01+480                                               05329000
CVTRV303 EQU   CVTS01+478                                               05330000
CVTRV302 EQU   CVTS01+476                                               05331000
CVTTRCA  EQU   CVTS01+472                                               05332000
CVTRV297 EQU   CVTRV289                                                 05333000
CVTRV296 EQU   CVTRV289                                                 05334000
CVTRV295 EQU   CVTRV289                                                 05335000
CVTRV294 EQU   CVTRV289                                                 05336000
CVTRV293 EQU   CVTRV289                                                 05337000
CVTRV292 EQU   CVTRV289                                                 05338000
CVTRV291 EQU   CVTRV289                                                 05339000
CVTRV290 EQU   CVTRV289                                                 05340000
CVTRV288 EQU   CVTRV280                                                 05341000
CVTRV287 EQU   CVTRV280                                                 05342000
CVTRV286 EQU   CVTRV280                                                 05343000
CVTRV285 EQU   CVTRV280                                                 05344000
CVTRV284 EQU   CVTRV280                                                 05345000
CVTRV283 EQU   CVTRV280                                                 05346000
CVTRV282 EQU   CVTRV280                                                 05347000
CVTRV281 EQU   CVTRV280                                                 05348000
CVTRV279 EQU   CVTRV271                                                 05349000
CVTRV278 EQU   CVTRV271                                                 05350000
CVTRV277 EQU   CVTRV271                                                 05351000
CVTRV276 EQU   CVTRV271                                                 05352000
CVTRV275 EQU   CVTRV271                                                 05353000
CVTRV274 EQU   CVTRV271                                                 05354000
CVTRV273 EQU   CVTRV271                                                 05355000
CVTRV272 EQU   CVTRV271                                                 05356000
CVTRV270 EQU   CVTRV262                                                 05357000
CVTRV269 EQU   CVTRV262                                                 05358000
CVTRV268 EQU   CVTRV262                                                 05359000
CVTRV267 EQU   CVTRV262                                                 05360000
CVTRV266 EQU   CVTRV262                                                 05361000
CVTRV265 EQU   CVTRV262                                                 05362000
CVTRV264 EQU   CVTRV262                                                 05363000
CVTRV263 EQU   CVTRV262                                                 05364000
CVTVFP   EQU   CVTS01+464                                               05365000
CVTVSI   EQU   CVTS01+460                                               05366000
CVTVPSIB EQU   CVTS01+456                                               05367000
CVTMFACT EQU   CVTMFRTR                                                 05368000
CVTMFCTL EQU   CVTS01+448                                               05369000
CVTPVBP  EQU   CVTS01+444                                               05370000
CVTPWI   EQU   CVTS01+440                                               05371000
CVTRV254 EQU   CVTS01+438                                               05372000
CVTRV253 EQU   CVTS01+436                                               05373000
CVTRV252 EQU   CVTS01+434                                               05374000
CVTRV251 EQU   CVTS01+433                                               05375000
CVTRV250 EQU   CVTS01+432                                               05376000
CVTRV249 EQU   CVTS01+431                                               05377000
CVTRV248 EQU   CVTS01+430                                               05378000
CVTRV247 EQU   CVTS01+429                                               05379000
CVTRV246 EQU   CVTS01+428                                               05380000
CVTRV245 EQU   CVTRV237                                                 05381000
CVTRV244 EQU   CVTRV237                                                 05382000
CVTRV243 EQU   CVTRV237                                                 05383000
CVTRV242 EQU   CVTRV237                                                 05384000
CVTRV241 EQU   CVTRV237                                                 05385000
CVTRV240 EQU   CVTRV237                                                 05386000
CVTRV239 EQU   CVTRV237                                                 05387000
CVTRV238 EQU   CVTRV237                                                 05388000
CVTRV236 EQU   CVTRV228                                                 05389000
CVTRV235 EQU   CVTRV228                                                 05390000
CVTRV234 EQU   CVTRV228                                                 05391000
CVTRV233 EQU   CVTRV228                                                 05392000
CVTRV232 EQU   CVTRV228                                                 05393000
CVTRV231 EQU   CVTRV228                                                 05394000
CVTRV230 EQU   CVTRV228                                                 05395000
CVTRV229 EQU   CVTRV228                                                 05396000
CVTRV227 EQU   CVTRV219                                                 05397000
CVTRV226 EQU   CVTRV219                                                 05398000
CVTRV225 EQU   CVTRV219                                                 05399000
CVTRV224 EQU   CVTRV219                                                 05400000
CVTRV223 EQU   CVTRV219                                                 05401000
CVTRV222 EQU   CVTRV219                                                 05402000
CVTRV221 EQU   CVTRV219                                                 05403000
CVTRV220 EQU   CVTRV219                                                 05404000
CVTRV218 EQU   CVTRV210                                                 05405000
CVTRV217 EQU   CVTRV210                                                 05406000
CVTRV216 EQU   CVTRV210                                                 05407000
CVTRV215 EQU   CVTRV210                                                 05408000
CVTRV214 EQU   CVTRV210                                                 05409000
CVTRV213 EQU   CVTRV210                                                 05410000
CVTRV212 EQU   CVTRV210                                                 05411000
CVTRV211 EQU   CVTRV210                                                 05412000
CVTLCCAT EQU   CVTS01+420                                               05413000
CVTPCCAT EQU   CVTS01+416                                               05414000
CVTIPCRP EQU   CVTS01+412                                               05415000
CVTIPCRI EQU   CVTS01+408                                               05416000
CVTIPCDS EQU   CVTS01+404                                               05417000
CVTAIDVT EQU   CVTS01+400                                               05418000
CVTSSAP  EQU   CVTS01+396                                               05419000
CVTEHCIR EQU   CVTS01+392                                               05420000
CVTEHDEF EQU   CVTS01+388                                               05421000
CVTDAIR  EQU   CVTS01+384                                               05422000
CVTPERFM EQU   CVTS01+380                                               05423000
CVT044R2 EQU   CVTS01+376                                               05424000
CVTFETCH EQU   CVTS01+372                                               05425000
CVTRSTWD EQU   CVTS01+368                                               05426000
CVTSPOST EQU   CVTS01+364                                               05427000
CVTIOBP  EQU   CVTS01+360                                               05428000
CVTASMVT EQU   CVTS01+356                                               05429000
CVTRECRQ EQU   CVTS01+352                                               05430000
CVTWSAC  EQU   CVTS01+348                                               05431000
CVTRV149 EQU   CVTS01+344                                               05432000
CVTWSAL  EQU   CVTS01+340                                               05433000
CVTSPSA  EQU   CVTS01+336                                               05434000
CVTGLMN  EQU   CVTS01+332                                               05435000
CVTVEAC0 EQU   CVTS01+328                                               05436000
CVT062R1 EQU   CVTS01+324                                               05437000
CVTRPOST EQU   CVTS01+320                                               05438000
CVTDQIQE EQU   CVTS01+316                                               05439000
CVTCSD   EQU   CVTS01+312                                               05440000
CVTLKRMA EQU   CVTS01+308                                               05441000
CVTRSPIE EQU   CVTS01+304                                               05442000
CVTRENQ  EQU   CVTS01+300                                               05443000
CVTLQCB  EQU   CVTS01+296                                               05444000
CVTFQCB  EQU   CVTS01+292                                               05445000
CVTQCS01 EQU   CVTS01+288                                               05446000
CVTAPFT  EQU   CVTS01+284                                               05447000
CVTPARRL EQU   CVTS01+280                                               05448000
CVTVWAIT EQU   CVTS01+276                                               05449000
CVTGSPL  EQU   CVTS01+272                                               05450000
CVTLSMQ  EQU   CVTS01+268                                               05451000
CVTGSMQ  EQU   CVTS01+264                                               05452000
CVTEXPRO EQU   CVTS01+260                                               05453000
CVTOPCTP EQU   CVTS01+256                                               05454000
CVTSIC   EQU   CVTS01+252                                               05455000
CVTTPIOS EQU   CVTS01+248                                               05456000
CVTRTMS  EQU   CVTS01+244                                               05457000
CVTSDBF  EQU   CVTS01+240                                               05458000
CVTSCBP  EQU   CVTS01+236                                               05459000
CVTSDMP  EQU   CVTS01+232                                               05460000
CVTSV60  EQU   CVTS01+228                                               05461000
CVTRTMCT EQU   CVTS01+224                                               05462000
CVTASCBL EQU   CVTS01+220                                               05463000
CVTASCBH EQU   CVTS01+216                                               05464000
CVTGDA   EQU   CVTS01+212                                               05465000
CVTASVT  EQU   CVTS01+208                                               05466000
CVTVVMDI EQU   CVTS01+204                                               05467000
CVTAQTOP EQU   CVTS01+200                                               05468000
CVTIOSCS EQU   CVTS01+196                                               05469000
CVTSDRM  EQU   CVTS01+192                                               05470000
CVTOPTE  EQU   CVTS01+188                                               05471000
CVTSTXU  EQU   CVTS01+184                                               05472000
CVTQUIS  EQU   CVTS01+180                                               05473000
CVTPARS  EQU   CVTS01+176                                               05474000
CVTS1EE  EQU   CVTS01+172                                               05475000
CVTFRAS  EQU   CVTS01+168                                               05476000
CVTQSAS  EQU   CVTS01+164                                               05477000
CVTCRAS  EQU   CVTS01+160                                               05478000
CVTCRMN  EQU   CVTS01+156                                               05479000
CVTDELCP EQU   CVTS01+152                                               05480000
CVTFRECL EQU   CVTS01+148                                               05481000
CVTGETCL EQU   CVTS01+144                                               05482000
CVTBLDCP EQU   CVTS01+140                                               05483000
CVTAUTHL EQU   CVTS01+136                                               05484000
CVTRV144 EQU   CVTS01+130                                               05485000
CVTMAXMP EQU   CVTS01+128                                               05486000
CVTSTCK  EQU   CVTS01+124                                               05487000
CVTRV139 EQU   CVTS01+123                                               05488000
CVTDSSAC EQU   CVTS01+122                                               05489000
CVTRV513 EQU   CVTS01+121                                               05490000
CVTIOSPL EQU   CVTS01+120                                               05491000
CVTPTGT  EQU   CVTS01+116                                               05492000
CVTCSPIE EQU   CVTS01+112                                               05493000
CVTSMFEX EQU   CVTS01+108                                               05494000
CVTOLT0A EQU   CVTS01+104                                               05495000
CVTSRBRT EQU   CVTS01+100                                               05496000
CVTPUTL  EQU   CVTS01+96                                                05497000
CVTASCRL EQU   CVTS01+92                                                05498000
CVTASCRF EQU   CVTS01+88                                                05499000
CVTRV326 EQU   CVTS01+84                                                05500000
CVTRV325 EQU   CVTS01+80                                                05501000
CVTRV324 EQU   CVTS01+76                                                05502000
CVT0VL01 EQU   CVTS01+72                                                05503000
CVTSHRVM EQU   CVTS01+68                                                05504000
CVTRV332 EQU   CVTS01+64                                                05505000
CVTTAS   EQU   CVTS01+60                                                05506000
CVTRSCN  EQU   CVTS01+56                                                05507000
CVTTRAC2 EQU   CVTS01+54                                                05508000
CVTTRACE EQU   CVTS01+52                                                05509000
CVTAPG   EQU   CVTS01+51                                                05510000
CVTSDTRC EQU   CVTCTLFG                                                 05511000
CVTGTRCE EQU   CVTCTLFG                                                 05512000
CVTNOMP  EQU   CVTCTLFG                                                 05513000
CVTRSV79 EQU   CVTCTLFG                                                 05514000
CVTDSTAT EQU   CVTCTLFG                                                 05515000
CVTRSV78 EQU   CVTCTLFG                                                 05516000
CVTRV333 EQU   CVTCTLFG                                                 05517000
CVTRV323 EQU   CVTCTLFG                                                 05518000
CVTSPVLK EQU   CVTS01+49                                                05519000
CVTRSV77 EQU   CVTS01+48                                                05520000
CVTRV331 EQU   CVTS01+44                                                05521000
CVTRV330 EQU   CVTS01+40                                                05522000
CVTRV329 EQU   CVTS01+36                                                05523000
CVTRV328 EQU   CVTS01+32                                                05524000
CVTRV322 EQU   CVTS01+28                                                05525000
CVTSLID  EQU   CVTSLIDA+1                                               05526000
CVTSYLK  EQU   CVTSLIDA                                                 05527000
CVTRV321 EQU   CVTS01+20                                                05528000
CVTRV320 EQU   CVTS01+16                                                05529000
CVTLPDIR EQU   CVTLPDIA+1                                               05530000
CVTRSV69 EQU   CVTDIRST                                                 05531000
CVTRSV68 EQU   CVTDIRST                                                 05532000
CVTRSV67 EQU   CVTDIRST                                                 05533000
CVTRSV66 EQU   CVTDIRST                                                 05534000
CVTRSV65 EQU   CVTDIRST                                                 05535000
CVTRSV64 EQU   CVTDIRST                                                 05536000
CVTRSV63 EQU   CVTDIRST                                                 05537000
CVTDICOM EQU   CVTDIRST                                                 05538000
CVTPVTP  EQU   CVTS01+8                                                 05539000
CVTGETL  EQU   CVTS01                                                   05540000
SMSGSEG  EQU   SECLLIST+8                                               05541000
SNUMSEG  EQU   SECLLIST+4                                               05542000
SMSGLCHP EQU   SECLLIST                                                 05543000
MSGLCHP  EQU   MULTLLST                                                 05544000
DCBOPEN  EQU   TDCBFLGS                                                 05545000
@NM00082 EQU   TDCBFLGS                                                 05546000
@NM00081 EQU   TPLRF                                                    05547000
@NM00080 EQU   CPPLRF                                                   05548000
JSCBEND3 EQU   JSCBSEC3+120                                             05549000
JSCRSV52 EQU   JSCBSEC3+116                                             05550000
JSCRSV51 EQU   JSCRSV47+1                                               05551000
JSCRSV50 EQU   JSCRSV47                                                 05552000
JSCRSV49 EQU   JSCRSV46+1                                               05553000
JSCRSV48 EQU   JSCRSV46                                                 05554000
JSCRSV44 EQU   JSCBSEC3+108                                             05555000
JSCRSV43 EQU   JSCBSEC3+104                                             05556000
JSCRSV42 EQU   JSCBSEC3+100                                             05557000
JSCBASWA EQU   JSCBSEC3+96                                              05558000
JSCBUFPT EQU   JSCBSEC3+92                                              05559000
JSCBACT  EQU   JSCBSEC3+88                                              05560000
JSCBSWSP EQU   JSCBSEC3+87                                              05561000
JSCRSV33 EQU   JSCBSEC3+86                                              05562000
JSCDDNUM EQU   JSCBSEC3+84                                              05563000
JSCRSV53 EQU   JSCBSEC3+82                                              05564000
JSCDDNNO EQU   JSCBSEC3+80                                              05565000
JSCBVATA EQU   JSCBSEC3+76                                              05566000
JSCTMCOR EQU   JSCBSEC3+72                                              05567000
JSCSCTP  EQU   JSCSCT+1                                                 05568000
JSCRSV55 EQU   JSCSCT                                                   05569000
JSCRSV54 EQU   JSCBSEC3+64                                              05570000
JSCDSABQ EQU   JSCBSEC3+60                                              05571000
JSCBSSIB EQU   JSCBSEC3+56                                              05572000
JSCBFRBA EQU   JSCBSEC3+48                                              05573000
JSCRSV28 EQU   JSCBSEC3+46                                              05574000
JSCBSONO EQU   JSCBSEC3+44                                              05575000
JSCBSUBA EQU   JSCBSUB+1                                                05576000
JSCRSV31 EQU   JSCBSUB                                                  05577000
JSCBSMLR EQU   JSCBSEC3+36                                              05578000
JSCBJNLR EQU   JSCBSEC3+32                                              05579000
JSCBJNLA EQU   JSCBJNL+1                                                05580000
JSCBJSBT EQU   JSCBJJSB                                                 05581000
JSCBJSBX EQU   JSCBJJSB                                                 05582000
JSCBJSBA EQU   JSCBJJSB                                                 05583000
JSCBJSBI EQU   JSCBJJSB                                                 05584000
@NM00005 EQU   JSCBJJSB                                                 05585000
JSCBJNLE EQU   JSCBJJSB                                                 05586000
JSCBJNLF EQU   JSCBJJSB                                                 05587000
JSCBJNLN EQU   JSCBJJSB                                                 05588000
@NM00004 EQU   JSCBSEC3+24                                              05589000
JSCBJRBA EQU   JSCBSEC3+16                                              05590000
JSCBIECB EQU   JSCBSEC3+12                                              05591000
JSCBRV08 EQU   JSCBSEC3+11                                              05592000
JSCBRV07 EQU   JSCBFBYT                                                 05593000
JSCBRV06 EQU   JSCBFBYT                                                 05594000
JSCBRV05 EQU   JSCBFBYT                                                 05595000
JSCBRV04 EQU   JSCBFBYT                                                 05596000
JSCBRV03 EQU   JSCBFBYT                                                 05597000
JSCBRV02 EQU   JSCBFBYT                                                 05598000
JSCBADSP EQU   JSCBFBYT                                                 05599000
JSCBRV01 EQU   JSCBFBYT                                                 05600000
JSCBTJID EQU   JSCBASID                                                 05601000
JSCJCTP  EQU   JSCBJCTA                                                 05602000
JSCRSV24 EQU   JSCBJCT                                                  05603000
JSCBEND2 EQU   JSCBSEC2                                                 05604000
REGSAV15 EQU   OLDRSAV+16                                               05605000
REGSAV14 EQU   OLDRSAV+12                                               05606000
OLSA     EQU   OLDRSAV+8                                                05607000
OHSA     EQU   OLDRSAV+4                                                05608000
@NM00137 EQU   OLDRSAV                                                  05609000
@NM00136 EQU   NEWRSAV                                                  05610000
TNXASCB  EQU   TTCBTAB+8                                                05611000
TNEXTCB  EQU   TTCBTAB                                                  05612000
@NM00135 EQU   RLGB+260                                                 05613000
RLGBECT  EQU   RLGB+256                                                 05614000
RLGBCTXT EQU   RLGBRLB+4                                                05615000
RLGBCOFF EQU   RLGBCHDR+2                                               05616000
RLGBCLEN EQU   RLGBCHDR                                                 05617000
ASXBEND  EQU   ASXB+232                                                 05618000
ASXBRV25 EQU   ASXB+228                                                 05619000
ASXBRV24 EQU   ASXB+224                                                 05620000
ASXBPT0E EQU   ASXB+220                                                 05621000
ASXBCRB4 EQU   ASXBCASW+3                                               05622000
ASXBCRB3 EQU   ASXBCASW+2                                               05623000
ASXBCRB2 EQU   ASXBCASW+1                                               05624000
ASXBCR06 EQU   ASXBCRB1                                                 05625000
ASXBCR05 EQU   ASXBCRB1                                                 05626000
ASXBCR04 EQU   ASXBCRB1                                                 05627000
ASXBCR03 EQU   ASXBCRB1                                                 05628000
ASXBCR02 EQU   ASXBCRB1                                                 05629000
ASXBCR01 EQU   ASXBCRB1                                                 05630000
ASXBTFD  EQU   ASXBCRB1                                                 05631000
ASXBPIP  EQU   ASXBCRB1                                                 05632000
ASXBCTDC EQU   ASXB+212                                                 05633000
ASXBTDCB EQU   ASXB+208                                                 05634000
ASXBRV19 EQU   ASXB+204                                                 05635000
ASXBSENV EQU   ASXBSECR+1                                               05636000
ASXBRV34 EQU   ASCBSFLG                                                 05637000
ASXBRV33 EQU   ASCBSFLG                                                 05638000
ASXBRV32 EQU   ASCBSFLG                                                 05639000
ASXBRV31 EQU   ASCBSFLG                                                 05640000
ASXBRV30 EQU   ASCBSFLG                                                 05641000
ASXBRV29 EQU   ASCBSFLG                                                 05642000
ASXBRV28 EQU   ASCBSFLG                                                 05643000
ASXBRV27 EQU   ASCBSFLG                                                 05644000
ASXBUSER EQU   ASXB+192                                                 05645000
ASXBLSRB EQU   ASXBAEQ+20                                               05646000
ASXBFSRB EQU   ASXBAEQ+16                                               05647000
ASXBLRQE EQU   ASXBAEQ+12                                               05648000
ASXBFRQE EQU   ASXBAEQ+8                                                05649000
ASXBLIQE EQU   ASXBAEQ+4                                                05650000
ASXBFIQE EQU   ASXBAEQ                                                  05651000
ASXBETSK EQU   ASXB+164                                                 05652000
ASXBSIRB EQU   ASXB+160                                                 05653000
ASXBPSWD EQU   ASXB+152                                                 05654000
ASXBPRG  EQU   ASXB+136                                                 05655000
ASXBRV26 EQU   ASXB+132                                                 05656000
ASXBOUSB EQU   ASXB+128                                                 05657000
ASXBDDR  EQU   ASXB+124                                                 05658000
ASXBRCTD EQU   ASXB+120                                                 05659000
ASXBRSMD EQU   ASXB+116                                                 05660000
ASXBSPSA EQU   ASXB+112                                                 05661000
ASXBFRWA EQU   ASXB+108                                                 05662000
ASXBFLSA EQU   ASXB+36                                                  05663000
ASXBIHSA EQU   ASXB+32                                                  05664000
ASXBRV15 EQU   ASXB+28                                                  05665000
ASXBRV14 EQU   ASXB+24                                                  05666000
ASXBMPST EQU   ASXB+16                                                  05667000
ASXBRS00 EQU   ASXB+14                                                  05668000
ASXBTCBS EQU   ASXB+12                                                  05669000
ASXBLTCB EQU   ASXB+8                                                   05670000
ASXBFTCB EQU   ASXB+4                                                   05671000
ASXBASXB EQU   ASXB                                                     05672000
ASXBEGIN EQU   ASXB                                                     05673000
ASCBEND  EQU   ASCB+208                                                 05674000
ASCBSRBT EQU   ASCB+200                                                 05675000
ASCBSWTL EQU   ASCB+196                                                 05676000
ASCBRS14 EQU   ASCB+195                                                 05677000
ASCBSMCT EQU   ASCB+194                                                 05678000
ASCBRS12 EQU   ASCB+192                                                 05679000
ASCBPCTT EQU   ASCB+188                                                 05680000
ASCBVGTT EQU   ASCB+184                                                 05681000
ASCBLGCB EQU   ASCB+180                                                 05682000
ASCBJBNS EQU   ASCB+176                                                 05683000
ASCBJBNI EQU   ASCB+172                                                 05684000
ASCBMCC  EQU   ASCB+168                                                 05685000
ASCBRTWA EQU   ASCB+164                                                 05686000
ASCBIQEA EQU   ASCB+160                                                 05687000
ASCBXMPQ EQU   ASCB+156                                                 05688000
ASCBRS01 EQU   ASCB+154                                                 05689000
ASCBFMCT EQU   ASCB+152                                                 05690000
ASCBOUXB EQU   ASCB+148                                                 05691000
ASCBOUCB EQU   ASCB+144                                                 05692000
ASCBMECB EQU   ASCB+140                                                 05693000
ASCBQECB EQU   ASCB+136                                                 05694000
ASCBCMSB EQU   ASCB+132                                                 05695000
ASCBCMSF EQU   ASCB+128                                                 05696000
ASCBTCBS EQU   ASCB+124                                                 05697000
ASCBNVSC EQU   ASCB+122                                                 05698000
ASCBVSC  EQU   ASCB+120                                                 05699000
ASCBSRBS EQU   ASCB+118                                                 05700000
ASCBSSRB EQU   ASCB+116                                                 05701000
ASCBRV06 EQU   ASCBFLG2                                                 05702000
ASCBRV05 EQU   ASCBFLG2                                                 05703000
ASCBRV04 EQU   ASCBFLG2                                                 05704000
ASCBSNQS EQU   ASCBFLG2                                                 05705000
ASCBS2S  EQU   ASCBFLG2                                                 05706000
ASCBCEXT EQU   ASCBFLG2                                                 05707000
ASCBPXMT EQU   ASCBFLG2                                                 05708000
ASCBXMPT EQU   ASCBFLG2                                                 05709000
ASCBRF07 EQU   ASCBDSP1                                                 05710000
ASCBRF06 EQU   ASCBDSP1                                                 05711000
ASCBRF05 EQU   ASCBDSP1                                                 05712000
ASCBRF04 EQU   ASCBDSP1                                                 05713000
ASCBRF03 EQU   ASCBDSP1                                                 05714000
ASCBRF02 EQU   ASCBDSP1                                                 05715000
ASCBFAIL EQU   ASCBDSP1                                                 05716000
ASCBNOQ  EQU   ASCBDSP1                                                 05717000
ASCBSWCT EQU   ASCB+112                                                 05718000
ASCBTMCH EQU   ASCB+104                                                 05719000
ASCBNSWP EQU   ASCBFLG1                                                 05720000
ASCBTYP1 EQU   ASCBFLG1                                                 05721000
ASCBSTND EQU   ASCBFLG1                                                 05722000
ASCBABNT EQU   ASCBFLG1                                                 05723000
ASCBTERM EQU   ASCBFLG1                                                 05724000
ASCBS3S  EQU   ASCBFLG1                                                 05725000
ASCBCMSH EQU   ASCBFLG1                                                 05726000
ASCBTOFF EQU   ASCBFLG1                                                 05727000
ASCBRF01 EQU   ASCBRCTF                                                 05728000
ASCBTMLW EQU   ASCBRCTF                                                 05729000
ASCBOUT  EQU   ASCBRCTF                                                 05730000
ASCBWAIT EQU   ASCBRCTF                                                 05731000
ASCBRV08 EQU   ASCBRCTF                                                 05732000
ASCBFQU  EQU   ASCBRCTF                                                 05733000
ASCBFRS  EQU   ASCBRCTF                                                 05734000
ASCBTMNO EQU   ASCBRCTF                                                 05735000
ASCBAFFN EQU   ASCBFW1                                                  05736000
ASCBDUMP EQU   ASCB+96                                                  05737000
ASCBQSVC EQU   ASCB+92                                                  05738000
ASCBUBET EQU   ASCB+88                                                  05739000
ASCBECB  EQU   ASCB+84                                                  05740000
ASCBJSTL EQU   ASCB+80                                                  05741000
ASCBEWST EQU   ASCB+72                                                  05742000
ASCBEJST EQU   ASCB+64                                                  05743000
ASCBTSB  EQU   ASCB+60                                                  05744000
ASCBCSCB EQU   ASCB+56                                                  05745000
ASCBRSM  EQU   ASCB+52                                                  05746000
ASCBLDA  EQU   ASCB+48                                                  05747000
ASCBSTOR EQU   ASCB+44                                                  05748000
ASCBDP   EQU   ASCB+43                                                  05749000
ASCBRV07 EQU   ASCB+42                                                  05750000
ASCBIOSM EQU   ASCB+40                                                  05751000
ASCBSEQN EQU   ASCB+38                                                  05752000
ASCBASID EQU   ASCB+36                                                  05753000
ASCBCPUS EQU   ASCB+32                                                  05754000
ASCBSPL  EQU   ASCB+28                                                  05755000
ASCBLSLQ EQU   ASCB+24                                                  05756000
ASCBFSLQ EQU   ASCB+20                                                  05757000
ASCBIOSP EQU   ASCB+16                                                  05758000
ASCBLOCK EQU   ASCB+12                                                  05759000
ASCBBWDP EQU   ASCB+8                                                   05760000
ASCBFWDP EQU   ASCB+4                                                   05761000
ASCBASCB EQU   ASCB                                                     05762000
ASCBEGIN EQU   ASCB                                                     05763000
@NM00134 EQU   LWA+152                                                  05764000
LWASPF   EQU   LWA+148                                                  05765000
LWASWKA  EQU   LWA+144                                                  05766000
LWAGBWKA EQU   LWA+140                                                  05767000
LWADEST2 EQU   LWA+132                                                  05768000
LWASTCB  EQU   LWA+128                                                  05769000
LWATCON1 EQU   LWA+124                                                  05770000
LWATCON  EQU   LWA+120                                                  05771000
LWATSRU1 EQU   LWA+116                                                  05772000
LWATSRU  EQU   LWA+112                                                  05773000
LWATCPU1 EQU   LWA+108                                                  05774000
LWATCPU  EQU   LWA+104                                                  05775000
LWARCDE  EQU   LWA+100                                                  05776000
LWAEOEL  EQU   LWAPECBP                                                 05777000
LWAAECBP EQU   LWAELST                                                  05778000
LWANQDQ  EQU   LWA+80                                                   05779000
LWARNM   EQU   LWANAME+1                                                05780000
LWARNML  EQU   LWANAME                                                  05781000
LWARTCD  EQU   LWA+68                                                   05782000
@NM00133 EQU   LWACTLS+1                                                05783000
LWABEND  EQU   LWACTLS+1                                                05784000
LWADEST  EQU   LWACTLS+1                                                05785000
LWANONQ  EQU   LWACTLS+1                                                05786000
LWABUPT  EQU   LWACTLS+1                                                05787000
LWAUNIT  EQU   LWACTLS+1                                                05788000
LWAATR2  EQU   LWACTLS+1                                                05789000
LWAATR1  EQU   LWACTLS+1                                                05790000
@NM00132 EQU   LWACTLS                                                  05791000
LWAJJCL  EQU   LWACTLS                                                  05792000
LWANUAD  EQU   LWACTLS                                                  05793000
LWANOPR  EQU   LWACTLS                                                  05794000
LWADISC  EQU   LWACTLS                                                  05795000
LWAFAIL  EQU   LWACTLS                                                  05796000
LWAMOUNT EQU   LWACTLS                                                  05797000
LWAUFAI  EQU   LWACTLS                                                  05798000
LWAPTID  EQU   LWA+60                                                   05799000
LWAILGN  EQU   LWAFLGS4                                                 05800000
LWAINX1  EQU   LWAFLGS4                                                 05801000
LWATNBT  EQU   LWAFLGS4                                                 05802000
LWALTBC  EQU   LWAFLGS4                                                 05803000
LWASICSP EQU   LWAFLGS4                                                 05804000
LWAQTIP  EQU   LWAFLGS4                                                 05805000
LWANORDR EQU   LWAFLGS4                                                 05806000
@NM00131 EQU   LWAFLGS4                                                 05807000
LWABND   EQU   @NM00129                                                 05808000
LWAMCK   EQU   @NM00129                                                 05809000
LWAPCK   EQU   @NM00129                                                 05810000
LWAPSW   EQU   @NM00129                                                 05811000
LWAPHASE EQU   @NM00129                                                 05812000
LWAVTAM  EQU   @NM00129                                                 05813000
LWARACF  EQU   @NM00129                                                 05814000
@NM00130 EQU   @NM00129                                                 05815000
@NM00128 EQU   @NM00127                                                 05816000
LWALS    EQU   @NM00127                                                 05817000
LWALGB   EQU   @NM00127                                                 05818000
LWALG    EQU   @NM00127                                                 05819000
LWALK    EQU   @NM00127                                                 05820000
LWALJ    EQU   @NM00127                                                 05821000
LWALGM   EQU   @NM00127                                                 05822000
LWALL    EQU   @NM00126                                                 05823000
LWALH    EQU   @NM00126                                                 05824000
LWALI    EQU   @NM00126                                                 05825000
LWALEA   EQU   @NM00126                                                 05826000
LWALE    EQU   @NM00126                                                 05827000
LWALC    EQU   @NM00126                                                 05828000
LWALB    EQU   @NM00126                                                 05829000
LWALA    EQU   @NM00126                                                 05830000
LWAPDCB  EQU   LWA+52                                                   05831000
LWALPCNT EQU   LWA+48                                                   05832000
LWASBCE  EQU   LWASECB+3                                                05833000
@NM00125 EQU   LWASECB                                                  05834000
LWAPBCE  EQU   LWAPECB+3                                                05835000
@NM00124 EQU   LWAPECB                                                  05836000
LWAABCE  EQU   LWAAECB+3                                                05837000
@NM00123 EQU   LWAAECB                                                  05838000
LWAPECT  EQU   LWA+32                                                   05839000
LWAJSEL  EQU   LWA+28                                                   05840000
LWAPSCB  EQU   LWA+24                                                   05841000
LWAACCT  EQU   LWA+20                                                   05842000
LWAPASCB EQU   LWA+16                                                   05843000
LWATEST  EQU   LWA+12                                                   05844000
LWALWA   EQU   LWA+4                                                    05845000
LWAPPTR  EQU   LWA                                                      05846000
@NM00122 EQU   TCBXTNT2+32                                              05847000
TCBRV181 EQU   TCBRV173                                                 05848000
TCBRV180 EQU   TCBRV173                                                 05849000
TCBRV179 EQU   TCBRV173                                                 05850000
TCBRV178 EQU   TCBRV173                                                 05851000
TCBRV177 EQU   TCBRV173                                                 05852000
TCBRV176 EQU   TCBRV173                                                 05853000
TCBRV175 EQU   TCBRV173                                                 05854000
TCBRV174 EQU   TCBRV173                                                 05855000
TCBRV172 EQU   TCBRV164                                                 05856000
TCBRV171 EQU   TCBRV164                                                 05857000
TCBRV170 EQU   TCBRV164                                                 05858000
TCBRV169 EQU   TCBRV164                                                 05859000
TCBRV168 EQU   TCBRV164                                                 05860000
TCBRV167 EQU   TCBRV164                                                 05861000
TCBRV166 EQU   TCBRV164                                                 05862000
TCBRV165 EQU   TCBRV164                                                 05863000
TCBRV163 EQU   TCBRV155                                                 05864000
TCBRV162 EQU   TCBRV155                                                 05865000
TCBRV161 EQU   TCBRV155                                                 05866000
TCBRV160 EQU   TCBRV155                                                 05867000
TCBRV159 EQU   TCBRV155                                                 05868000
TCBRV158 EQU   TCBRV155                                                 05869000
TCBRV157 EQU   TCBRV155                                                 05870000
TCBRV156 EQU   TCBRV155                                                 05871000
TCBRV154 EQU   TCBRV146                                                 05872000
TCBRV153 EQU   TCBRV146                                                 05873000
TCBRV152 EQU   TCBRV146                                                 05874000
TCBRV151 EQU   TCBRV146                                                 05875000
TCBRV150 EQU   TCBRV146                                                 05876000
TCBRV149 EQU   TCBRV146                                                 05877000
TCBRV148 EQU   TCBRV146                                                 05878000
TCBRV147 EQU   TCBRV146                                                 05879000
TCBRV145 EQU   TCBXTNT2+26                                              05880000
TCBRV144 EQU   TCBXTNT2+24                                              05881000
TCBCAUF  EQU   TCBXTNT2+20                                              05882000
TCBRV142 EQU   TCBXTNT2+16                                              05883000
TCBRSV49 EQU   TCBXTNT2+12                                              05884000
TCBEVENT EQU   TCBXTNT2+8                                               05885000
TCBRCMP  EQU   TCBXTNT2+5                                               05886000
TCBRSVAB EQU   TCBXTNT2+4                                               05887000
TCBGTFA  EQU   TCBGTF+1                                                 05888000
TCBRSV47 EQU   TCBTFLG                                                  05889000
TCBRSV46 EQU   TCBTFLG                                                  05890000
TCBRSV45 EQU   TCBTFLG                                                  05891000
TCBRSV44 EQU   TCBTFLG                                                  05892000
TCBRSV43 EQU   TCBTFLG                                                  05893000
TCBDSPIT EQU   TCBTFLG                                                  05894000
TCBERRTN EQU   TCBTFLG                                                  05895000
TCBASYNC EQU   TCBTFLG                                                  05896000
@NM00121 EQU   TCB+296                                                  05897000
TCBSVCA2 EQU   TCB+292                                                  05898000
TCBSWASA EQU   TCB+288                                                  05899000
TCBDBTB  EQU   TCB+284                                                  05900000
TCBRPT   EQU   TCB+280                                                  05901000
TCBRV141 EQU   TCBRV133                                                 05902000
TCBRV140 EQU   TCBRV133                                                 05903000
TCBRV139 EQU   TCBRV133                                                 05904000
TCBRV138 EQU   TCBRV133                                                 05905000
TCBRV137 EQU   TCBRV133                                                 05906000
TCBRV136 EQU   TCBRV133                                                 05907000
TCBRV135 EQU   TCBRV133                                                 05908000
TCBRV134 EQU   TCBRV133                                                 05909000
TCBRV132 EQU   TCBRV124                                                 05910000
TCBRV131 EQU   TCBRV124                                                 05911000
TCBRV130 EQU   TCBRV124                                                 05912000
TCBRV129 EQU   TCBRV124                                                 05913000
TCBRV128 EQU   TCBRV124                                                 05914000
TCBRV127 EQU   TCBRV124                                                 05915000
TCBRV126 EQU   TCBRV124                                                 05916000
TCBRV125 EQU   TCBRV124                                                 05917000
TCBRV123 EQU   TCBFBYT2                                                 05918000
TCBRV122 EQU   TCBFBYT2                                                 05919000
TCBECBNV EQU   TCBFBYT2                                                 05920000
TCBSSSYN EQU   TCBFBYT2                                                 05921000
TCBFPRAP EQU   TCBFBYT2                                                 05922000
TCBFDW   EQU   TCBFBYT2                                                 05923000
TCBFMW   EQU   TCBFBYT2                                                 05924000
TCBCNCB  EQU   TCBFBYT2                                                 05925000
TCBLLH   EQU   TCBFBYT1                                                 05926000
TCBRV113 EQU   TCBFBYT1                                                 05927000
TCBEOT   EQU   TCBFBYT1                                                 05928000
TCBRTM2  EQU   TCBFBYT1                                                 05929000
TCBPGNLY EQU   TCBFBYT1                                                 05930000
TCBNDIOS EQU   TCBFBYT1                                                 05931000
TCBACTIV EQU   TCBFBYT1                                                 05932000
TCBEOTFM EQU   TCBFBYT1                                                 05933000
TCBAFFN  EQU   TCB+274                                                  05934000
TCBCCPVI EQU   TCB+272                                                  05935000
TCBUKYSP EQU   TCB+268                                                  05936000
TCBMODE  EQU   TCBESTAE+3                                               05937000
TCBERTYP EQU   TCBESTAE+2                                               05938000
TCBRV314 EQU   TCBESTRM                                                 05939000
TCBRV313 EQU   TCBESTRM                                                 05940000
TCBRV312 EQU   TCBESTRM                                                 05941000
TCBRV311 EQU   TCBESTRM                                                 05942000
TCBRV310 EQU   TCBESTRM                                                 05943000
TCBRV309 EQU   TCBESTRM                                                 05944000
TCBRV308 EQU   TCBESTRM                                                 05945000
TCBETERM EQU   TCBESTRM                                                 05946000
TCBSCBKY EQU   TCBESTAE                                                 05947000
TCBRTM12 EQU   TCB+260                                                  05948000
TCBTCBID EQU   TCB+256                                                  05949000
TCBRSV96 EQU   TCB+252                                                  05950000
TCBSWA   EQU   TCB+248                                                  05951000
TCBFOEA  EQU   TCBFOE+1                                                 05952000
TCBRSV42 EQU   TCBFOE                                                   05953000
TCBRV306 EQU   TCB+240                                                  05954000
TCBRSV41 EQU   TCB+239                                                  05955000
TCBTID   EQU   TCB+238                                                  05956000
TCBRSVAA EQU   TCB+237                                                  05957000
TCBABCUR EQU   TCB+236                                                  05958000
TCBTMSAV EQU   TCB+232                                                  05959000
TCBIOTIM EQU   TCB+228                                                  05960000
TCBRTWA  EQU   TCB+224                                                  05961000
TCBBACK  EQU   TCB+220                                                  05962000
TCBTIRB  EQU   TCB+216                                                  05963000
TCBAECB  EQU   TCB+212                                                  05964000
TCBEXT2A EQU   TCBEXT2+1                                                05965000
TCBRSV39 EQU   TCBEXT2                                                  05966000
TCBSTMCT EQU   TCB+207                                                  05967000
TCBSYSCT EQU   TCB+206                                                  05968000
TCBRSV37 EQU   TCB+205                                                  05969000
TCBEXSVC EQU   TCBDAR                                                   05970000
TCBDARMS EQU   TCBDAR                                                   05971000
TCBDARWT EQU   TCBDAR                                                   05972000
TCBDARO  EQU   TCBDAR                                                   05973000
TCBDARMC EQU   TCBDARC                                                  05974000
TCBDARD  EQU   TCBDAR                                                   05975000
TCBDARS  EQU   TCBDAR                                                   05976000
TCBDARP  EQU   TCBDAR                                                   05977000
TCBGTOFM EQU   TCBFLGS7                                                 05978000
TCBADMP  EQU   TCBFLGS7                                                 05979000
TCBRSTSK EQU   TCBFLGS7                                                 05980000
TCBSVCS  EQU   TCBFLGS7                                                 05981000
TCBSTACK EQU   TCBFLGS7                                                 05982000
TCBRSV34 EQU   TCBFLGS7                                                 05983000
TCBRSV33 EQU   TCBFLGS7                                                 05984000
TCBGPECB EQU   TCBFLGS7                                                 05985000
TCBNTJS  EQU   TCBFLGS6                                                 05986000
TCBAPG   EQU   TCBFLGS6                                                 05987000
TCBMIGR  EQU   TCBFLGS6                                                 05988000
TCBRV303 EQU   TCBFLGS6                                                 05989000
TCBSPVLK EQU   TCBFLGS6                                                 05990000
TCBCPU   EQU   TCBFLGS6                                                 05991000
TCBPIE17 EQU   TCBFLGS6                                                 05992000
TCBRV    EQU   TCBFLGS6                                                 05993000
TCBRSV79 EQU   TCBNDSP5                                                 05994000
TCBRSV78 EQU   TCBNDSP5                                                 05995000
TCBRSV77 EQU   TCBNDSP5                                                 05996000
TCBRSV76 EQU   TCBNDSP5                                                 05997000
TCBRSV75 EQU   TCBNDSP5                                                 05998000
TCBRSV74 EQU   TCBNDSP5                                                 05999000
TCBRSV95 EQU   TCBNDSP5                                                 06000000
TCBRSV94 EQU   TCBNDSP5                                                 06001000
TCBRSV93 EQU   TCBNDSP4                                                 06002000
TCBRSV92 EQU   TCBNDSP4                                                 06003000
TCBRSV91 EQU   TCBNDSP4                                                 06004000
TCBRSV90 EQU   TCBNDSP4                                                 06005000
TCBRSV89 EQU   TCBNDSP4                                                 06006000
TCBRSV88 EQU   TCBNDSP4                                                 06007000
TCBRSV87 EQU   TCBNDSP4                                                 06008000
TCBRSV86 EQU   TCBNDSP4                                                 06009000
TCBEXT1A EQU   TCBEXT1+1                                                06010000
TCBRSV32 EQU   TCBEXT1                                                  06011000
TCBEXCPD EQU   TCB+192                                                  06012000
TCBIOBRC EQU   TCB+188                                                  06013000
TCBDDWTC EQU   TCB+186                                                  06014000
TCBDDEXC EQU   TCB+184                                                  06015000
TCBJSCBB EQU   TCBJSCB+1                                                06016000
@NM00120 EQU   TCBRECDE                                                 06017000
TCBREC   EQU   TCBRECDE                                                 06018000
TCBMDIDS EQU   TCB+176                                                  06019000
TCBNDINT EQU   TCBNDSP3                                                 06020000
TCBRSV27 EQU   TCBNDSP3                                                 06021000
TCBRSV26 EQU   TCBNDSP3                                                 06022000
TCBRSV25 EQU   TCBNDSP3                                                 06023000
TCBRSV24 EQU   TCBNDSP3                                                 06024000
TCBSRBND EQU   TCBNDSP3                                                 06025000
TCBRV302 EQU   TCBNDSP3                                                 06026000
TCBLJSND EQU   TCBNDSP3                                                 06027000
TCBABE   EQU   TCBNDSP2                                                 06028000
TCBDSS   EQU   TCBNDSP2                                                 06029000
TCBOWAIT EQU   TCBNDSP2                                                 06030000
TCBIWAIT EQU   TCBNDSP2                                                 06031000
TCBNDTS  EQU   TCBNDSP2                                                 06032000
TCBNDSVC EQU   TCBNDSP2                                                 06033000
TCBSTPP  EQU   TCBNDSP2                                                 06034000
TCBABD   EQU   TCBNDSP2                                                 06035000
TCBRSV22 EQU   TCBNDSP1                                                 06036000
TCBPIEND EQU   TCBNDSP1                                                 06037000
TCBTPSP  EQU   TCBNDSP1                                                 06038000
TCBDDRND EQU   TCBNDSP1                                                 06039000
TCBRSPND EQU   TCBNDSP1                                                 06040000
TCBRSTND EQU   TCBNDSP1                                                 06041000
TCBDARPN EQU   TCBNDSP1                                                 06042000
TCBDARTN EQU   TCBNDSP1                                                 06043000
TCBNDSP0 EQU   TCBNDSP                                                  06044000
TCBUSER  EQU   TCB+168                                                  06045000
TCBTCTB  EQU   TCBTCT+1                                                 06046000
TCBRSV9C EQU   TCBTCTGF                                                 06047000
TCBRSV9B EQU   TCBTCTGF                                                 06048000
TCBRSV9A EQU   TCBTCTGF                                                 06049000
TCBRSV99 EQU   TCBTCTGF                                                 06050000
TCBRSV98 EQU   TCBTCTGF                                                 06051000
TCBRSV97 EQU   TCBTCTGF                                                 06052000
TCBRSV20 EQU   TCBTCTGF                                                 06053000
TCBSMFGF EQU   TCBTCTGF                                                 06054000
TCBSTABB EQU   TCBSTAB+1                                                06055000
TCBSTCUR EQU   TCBNSTAE                                                 06056000
TCBRV301 EQU   TCBNSTAE                                                 06057000
TCBSYNCH EQU   TCBNSTAE                                                 06058000
TCBHALT  EQU   TCBNSTAE                                                 06059000
TCBPPSUP EQU   TCBNSTAE                                                 06060000
TCB33E   EQU   TCBNSTAE                                                 06061000
TCBQUIES EQU   TCBNSTAE                                                 06062000
TCBSTABE EQU   TCBNSTAE                                                 06063000
TCBAQE   EQU   TCB+156                                                  06064000
TCBPQE   EQU   TCB+152                                                  06065000
TCBTSDP  EQU   TCB+151                                                  06066000
TCBTSLP  EQU   TCB+150                                                  06067000
TCBSTPCT EQU   TCB+149                                                  06068000
TCBCPUBN EQU   TCBTSFLG                                                 06069000
TCBDYDSP EQU   TCBTSFLG                                                 06070000
TCBRSV18 EQU   TCBTSFLG                                                 06071000
TCBRSV17 EQU   TCBTSFLG                                                 06072000
TCBTIOTG EQU   TCBTSFLG                                                 06073000
TCBATT   EQU   TCBTSFLG                                                 06074000
TCBSTPPR EQU   TCBTSFLG                                                 06075000
TCBRV300 EQU   TCBTSTSK                                                 06076000
TCBECB   EQU   TCB+144                                                  06077000
TCBIQE   EQU   TCB+140                                                  06078000
TCBLTC   EQU   TCB+136                                                  06079000
TCBOTC   EQU   TCB+132                                                  06080000
TCBNTC   EQU   TCB+128                                                  06081000
TCBJSTCA EQU   TCBJSTCB+1                                               06082000
TCBRSV16 EQU   TCBJSTCB                                                 06083000
TCBTQET  EQU   TCBTME                                                   06084000
TCBTCB   EQU   TCB+116                                                  06085000
TCBFSAB  EQU   TCBFSA+1                                                 06086000
TCBQEL   EQU   TCBFSA                                                   06087000
TCBGRS15 EQU   TCBGRS+60                                                06088000
TCBGRS14 EQU   TCBGRS+56                                                06089000
TCBGRS13 EQU   TCBGRS+52                                                06090000
TCBGRS12 EQU   TCBGRS+48                                                06091000
TCBGRS11 EQU   TCBGRS+44                                                06092000
TCBGRS10 EQU   TCBGRS+40                                                06093000
TCBGRS9  EQU   TCBGRS+36                                                06094000
TCBGRS8  EQU   TCBGRS+32                                                06095000
TCBGRS7  EQU   TCBGRS+28                                                06096000
TCBGRS6  EQU   TCBGRS+24                                                06097000
TCBGRS5  EQU   TCBGRS+20                                                06098000
TCBGRS4  EQU   TCBGRS+16                                                06099000
TCBGRS3  EQU   TCBGRS+12                                                06100000
TCBGRS2  EQU   TCBGRS+8                                                 06101000
TCBGRS1  EQU   TCBGRS+4                                                 06102000
TCBGRS0  EQU   TCBGRS                                                   06103000
TCBJPQB  EQU   TCBJPQ+1                                                 06104000
TCBRSV15 EQU   TCBPURGE                                                 06105000
TCBRSV14 EQU   TCBPURGE                                                 06106000
TCBRSV13 EQU   TCBPURGE                                                 06107000
TCBRSV12 EQU   TCBPURGE                                                 06108000
TCBRSV11 EQU   TCBPURGE                                                 06109000
TCBRSV10 EQU   TCBPURGE                                                 06110000
TCBRSV09 EQU   TCBPURGE                                                 06111000
TCBJPQF  EQU   TCBPURGE                                                 06112000
TCBJLB   EQU   TCB+40                                                   06113000
TCBLLS   EQU   TCB+36                                                   06114000
TCBDSP   EQU   TCB+35                                                   06115000
TCBLMP   EQU   TCB+34                                                   06116000
TCBPNDSP EQU   TCBFLGS5                                                 06117000
TCBFCD1  EQU   TCBFLGS5                                                 06118000
TCBSTP   EQU   TCBFLGS5                                                 06119000
TCBSYS   EQU   TCBFLGS5                                                 06120000
TCBANDSP EQU   TCBFLGS5                                                 06121000
TCBPAGE  EQU   TCBFLGS5                                                 06122000
TCBUXNDF EQU   TCBABWF                                                  06123000
TCBFC    EQU   TCBFLGS5                                                 06124000
TCBONDSP EQU   TCBFLGS4                                                 06125000
TCBMPCND EQU   TCBFLGS4                                                 06126000
TCBMPCVQ EQU   TCBFLGS4                                                 06127000
TCBUXNDV EQU   TCBFLGS4                                                 06128000
TCBHNDSP EQU   TCBFLGS4                                                 06129000
TCBRQENA EQU   TCBFLGS4                                                 06130000
TCBSER   EQU   TCBFLGS4                                                 06131000
TCBNDUMP EQU   TCBFLGS4                                                 06132000
TCBDWSTA EQU   TCBFLGS3                                                 06133000
TCBRSV08 EQU   TCBFLGS3                                                 06134000
TCBRSV07 EQU   TCBFLGS3                                                 06135000
TCBRSV06 EQU   TCBFLGS3                                                 06136000
TCBABGM  EQU   TCBFLGS3                                                 06137000
TCBABTRM EQU   TCBFLGS3                                                 06138000
TCBADINP EQU   TCBFLGS3                                                 06139000
TCBFSM   EQU   TCBFLGS3                                                 06140000
TCBFTS   EQU   TCBFLGS2                                                 06141000
TCBFETXR EQU   TCBFLGS2                                                 06142000
TCBFDSOP EQU   TCBFLGS2                                                 06143000
TCBFJMC  EQU   TCBFLGS2                                                 06144000
TCBFSMC  EQU   TCBFLGS2                                                 06145000
TCBFABOP EQU   TCBFLGS2                                                 06146000
TCBFSTI  EQU   TCBFLGS2                                                 06147000
TCBFOINP EQU   TCBFLGS2                                                 06148000
TCBFX    EQU   TCBFLGS1                                                 06149000
TCBFS    EQU   TCBFLGS1                                                 06150000
TCBPDUMP EQU   TCBFLGS1                                                 06151000
TCBNONPR EQU   TCBFLGS1                                                 06152000
TCBFERA  EQU   TCBFLGS1                                                 06153000
TCBFE    EQU   TCBFLGS1                                                 06154000
TCBFA    EQU   TCBFLGS1                                                 06155000
TCBZERO  EQU   TCBPKF                                                   06156000
TCBFLAG  EQU   TCBPKF                                                   06157000
TCBMSSB  EQU   TCBMSS+1                                                 06158000
TCBRSV03 EQU   TCBMSS                                                   06159000
TCBTRNB  EQU   TCBTRN+1                                                 06160000
TCBRSV02 EQU   TCBABF                                                   06161000
TCBOLTEP EQU   TCBABF                                                   06162000
TCBTCP   EQU   TCBABF                                                   06163000
TCBTCPP  EQU   TCBABF                                                   06164000
TCBRSV01 EQU   TCBABF                                                   06165000
TCBGRPH  EQU   TCBABF                                                   06166000
TCBNOCHK EQU   TCBABF                                                   06167000
TCBMOD91 EQU   TCBABF                                                   06168000
TCBCMPC  EQU   TCBCMP+1                                                 06169000
TCBRV318 EQU   TCBCMSG                                                  06170000
TCBRV317 EQU   TCBCIND                                                  06171000
TCBRV316 EQU   TCBCWTO                                                  06172000
TCBCASID EQU   TCBCDBL                                                  06173000
TCBNOCC  EQU   TCBSTCC                                                  06174000
TCBDMPO  EQU   TCBCPP                                                   06175000
TCBCSTEP EQU   TCBCMPF                                                  06176000
TCBCREQ  EQU   TCBCMPF                                                  06177000
TCBTIO   EQU   TCB+12                                                   06178000
TCBDEB   EQU   TCB+8                                                    06179000
TCBPIEA  EQU   TCBPIE+1                                                 06180000
TCBPM    EQU   TCBPMASK                                                 06181000
@NM00119 EQU   TCBPMASK                                                 06182000
TCBRBP   EQU   TCB                                                      06183000
TCBFRS6  EQU   TCBFRS+24                                                06184000
TCBFRS4  EQU   TCBFRS+16                                                06185000
TCBFRS2  EQU   TCBFRS+8                                                 06186000
TCBFRS0  EQU   TCBFRS                                                   06187000
CVTLEVL  EQU   CVTRELNO+2                                               06188000
CVTNUMB  EQU   CVTRELNO                                                 06189000
CVTMDL   EQU   CVTFIX+250                                               06190000
@NM00118 EQU   CVTFIX+248                                               06191000
@NM00117 EQU   CVTFIX                                                   06192000
CVTRV482 EQU   CVTXTNT2+128                                             06193000
CVTRV481 EQU   CVTXTNT2+124                                             06194000
CVTRV480 EQU   CVTXTNT2+120                                             06195000
CVTRV479 EQU   CVTXTNT2+118                                             06196000
CVTRV478 EQU   CVTXTNT2+117                                             06197000
CVTRV477 EQU   CVTXTNT2+116                                             06198000
CVTRV476 EQU   CVTXTNT2+115                                             06199000
CVTRV475 EQU   CVTXTNT2+114                                             06200000
CVTRV474 EQU   CVTRV466                                                 06201000
CVTRV473 EQU   CVTRV466                                                 06202000
CVTRV472 EQU   CVTRV466                                                 06203000
CVTRV471 EQU   CVTRV466                                                 06204000
CVTRV470 EQU   CVTRV466                                                 06205000
CVTRV469 EQU   CVTRV466                                                 06206000
CVTRV468 EQU   CVTRV466                                                 06207000
CVTRV467 EQU   CVTRV466                                                 06208000
CVTRV465 EQU   CVTRV457                                                 06209000
CVTRV464 EQU   CVTRV457                                                 06210000
CVTRV463 EQU   CVTRV457                                                 06211000
CVTRV462 EQU   CVTRV457                                                 06212000
CVTRV461 EQU   CVTRV457                                                 06213000
CVTRV460 EQU   CVTRV457                                                 06214000
CVTRV459 EQU   CVTRV457                                                 06215000
CVTRV458 EQU   CVTRV457                                                 06216000
CVTRV456 EQU   CVTXTNT2+108                                             06217000
CVTRV455 EQU   CVTXTNT2+104                                             06218000
CVTRV454 EQU   CVTXTNT2+100                                             06219000
CVTRV453 EQU   CVTXTNT2+96                                              06220000
CVTRV452 EQU   CVTXTNT2+94                                              06221000
CVTRV451 EQU   CVTXTNT2+92                                              06222000
CVTRV450 EQU   CVTXTNT2+90                                              06223000
CVTRV449 EQU   CVTXTNT2+88                                              06224000
CVTRV448 EQU   CVTXTNT2+87                                              06225000
CVTRV447 EQU   CVTXTNT2+86                                              06226000
CVTRV446 EQU   CVTRV438                                                 06227000
CVTRV445 EQU   CVTRV438                                                 06228000
CVTRV444 EQU   CVTRV438                                                 06229000
CVTRV443 EQU   CVTRV438                                                 06230000
CVTRV442 EQU   CVTRV438                                                 06231000
CVTRV441 EQU   CVTRV438                                                 06232000
CVTRV440 EQU   CVTRV438                                                 06233000
CVTRV439 EQU   CVTRV438                                                 06234000
CVTRV437 EQU   CVTRV429                                                 06235000
CVTRV436 EQU   CVTRV429                                                 06236000
CVTRV435 EQU   CVTRV429                                                 06237000
CVTRV434 EQU   CVTRV429                                                 06238000
CVTRV433 EQU   CVTRV429                                                 06239000
CVTRV432 EQU   CVTRV429                                                 06240000
CVTRV431 EQU   CVTRV429                                                 06241000
CVTRV430 EQU   CVTRV429                                                 06242000
CVTRV428 EQU   CVTXTNT2+80                                              06243000
CVTRV427 EQU   CVTXTNT2+76                                              06244000
CVTRV426 EQU   CVTXTNT2+72                                              06245000
CVTRV425 EQU   CVTXTNT2+68                                              06246000
CVTATACT EQU   CVTATCVT                                                 06247000
CVTRV423 EQU   CVTXTNT2+62                                              06248000
CVTRV422 EQU   CVTXTNT2+60                                              06249000
CVTRV421 EQU   CVTXTNT2+58                                              06250000
CVTRV420 EQU   CVTXTNT2+56                                              06251000
CVTRV419 EQU   CVTXTNT2+55                                              06252000
CVTRV418 EQU   CVTXTNT2+54                                              06253000
CVTRV417 EQU   CVTRV409                                                 06254000
CVTRV416 EQU   CVTRV409                                                 06255000
CVTRV415 EQU   CVTRV409                                                 06256000
CVTRV414 EQU   CVTRV409                                                 06257000
CVTRV413 EQU   CVTRV409                                                 06258000
CVTRV412 EQU   CVTRV409                                                 06259000
CVTRV411 EQU   CVTRV409                                                 06260000
CVTRV410 EQU   CVTRV409                                                 06261000
CVTRV408 EQU   CVTRV400                                                 06262000
CVTRV407 EQU   CVTRV400                                                 06263000
CVTRV406 EQU   CVTRV400                                                 06264000
CVTRV405 EQU   CVTRV400                                                 06265000
CVTRV404 EQU   CVTRV400                                                 06266000
CVTRV403 EQU   CVTRV400                                                 06267000
CVTRV402 EQU   CVTRV400                                                 06268000
CVTRV401 EQU   CVTRV400                                                 06269000
CVTICB   EQU   CVTXTNT2+48                                              06270000
CVTSKTA  EQU   CVTXTNT2+44                                              06271000
CVTCCVT  EQU   CVTXTNT2+40                                              06272000
CVTRSV98 EQU   CVTXTNT2+36                                              06273000
CVTRSV97 EQU   CVTXTNT2+34                                              06274000
CVTRSV96 EQU   CVTXTNT2+32                                              06275000
CVTOLTEP EQU   CVTXTNT2+28                                              06276000
CVTQIDA  EQU   CVTQID+1                                                 06277000
CVTRSV95 EQU   CVTQID                                                   06278000
CVTRSV94 EQU   CVTXTNT2+20                                              06279000
CVTRSV93 EQU   CVTXTNT2+16                                              06280000
CVTRSV92 EQU   CVTXTNT2+12                                              06281000
CVTDEBVR EQU   CVTXTNT2+8                                               06282000
CVTRSV91 EQU   CVTXTNT2+6                                               06283000
CVTRSV9H EQU   CVTFLGBT                                                 06284000
CVTRSV9G EQU   CVTFLGBT                                                 06285000
CVTRSV9F EQU   CVTFLGBT                                                 06286000
CVTRSV9E EQU   CVTFLGBT                                                 06287000
CVTRSV9D EQU   CVTFLGBT                                                 06288000
CVTRSV9C EQU   CVTFLGBT                                                 06289000
CVTVME   EQU   CVTFLGBT                                                 06290000
CVTNPE   EQU   CVTFLGBT                                                 06291000
CVTNUCLS EQU   CVTXTNT2+4                                               06292000
CVTDSSVA EQU   CVTDSSV+1                                                06293000
CVTRSV89 EQU   CVTDSSV                                                  06294000
CVTRSV88 EQU   CVTXTNT1+8                                               06295000
CVTRSV87 EQU   CVTXTNT1+4                                               06296000
CVTFACHN EQU   CVTXTNT1                                                 06297000
CVTRV488 EQU   CVTMAP+412                                               06298000
CVTRV487 EQU   CVTMAP+408                                               06299000
CVTRV486 EQU   CVTMAP+404                                               06300000
CVTRV485 EQU   CVTMAP+400                                               06301000
CVTACTAP EQU   CVTMAP+396                                               06302000
CVTAUTH  EQU   CVTMAP+392                                               06303000
CVTATMCA EQU   CVTATMCT+1                                               06304000
CVTATMST EQU   CVTATMCT                                                 06305000
CVTRSV61 EQU   CVTMAP+384                                               06306000
CVTVOLT1 EQU   CVTVOLM1+1                                               06307000
CVTVOLI1 EQU   CVTVOLF1                                                 06308000
CVTSTOA  EQU   CVTMAP+376                                               06309000
CVTRSV58 EQU   CVTMAP+374                                               06310000
CVTRSV57 EQU   CVTMAP+372                                               06311000
CVTDDCE  EQU   CVTMAP+368                                               06312000
CVTPNWFR EQU   CVTMAP+364                                               06313000
CVTSMF   EQU   CVTMAP+360                                               06314000
CVTSULK  EQU   CVTMAP+358                                               06315000
CVTSLKO  EQU   CVTSYSK                                                  06316000
CVTSLKP  EQU   CVTSYSK                                                  06317000
CVTSLKQ  EQU   CVTSYSK                                                  06318000
CVTSLKR  EQU   CVTSYSK                                                  06319000
CVTRSV56 EQU   CVTSYSK                                                  06320000
CVTRSV55 EQU   CVTSYSK                                                  06321000
CVTRSV54 EQU   CVTSYSK                                                  06322000
CVTRSV53 EQU   CVTSYSK                                                  06323000
CVTRSV52 EQU   CVTA1F1                                                  06324000
CVTRSV51 EQU   CVTA1F1                                                  06325000
CVTRSV50 EQU   CVTA1F1                                                  06326000
CVTRSV49 EQU   CVTA1F1                                                  06327000
CVTRSV48 EQU   CVTA1F1                                                  06328000
CVTRSV47 EQU   CVTA1F1                                                  06329000
CVTSRSW  EQU   CVTA1F1                                                  06330000
CVTPFSW  EQU   CVTA1F1                                                  06331000
CVTPCVT  EQU   CVTMAP+352                                               06332000
CVTRSV46 EQU   CVTMAP+344                                               06333000
CVTRSV45 EQU   CVTMAP+340                                               06334000
CVTRSV44 EQU   CVTMAP+338                                               06335000
CVTRSV43 EQU   CVTMAP+336                                               06336000
CVTHJESA EQU   CVTHJES+1                                                06337000
CVTRSV42 EQU   CVTHJES                                                  06338000
CVTEXT2A EQU   CVTEXT2+1                                                06339000
CVTRSV41 EQU   CVTEXT2                                                  06340000
CVTAPFA  EQU   CVTAPF+1                                                 06341000
CVTRSV40 EQU   CVTAPF                                                   06342000
CVTRV518 EQU   CVTINTLA                                                 06343000
CVTRV517 EQU   CVTERPV                                                  06344000
CVTEORM  EQU   CVTMAP+312                                               06345000
CVTMCHPR EQU   CVTMAP+308                                               06346000
CVTTZ    EQU   CVTMAP+304                                               06347000
CVTJEPS  EQU   CVTMAP+300                                               06348000
CVTJESCT EQU   CVTMAP+296                                               06349000
CVTMODE  EQU   CVTMAP+292                                               06350000
CVTPTRV  EQU   CVTMAP+288                                               06351000
CVTREAL  EQU   CVTMAP+284                                               06352000
CVTRSV39 EQU   CVTMAP+280                                               06353000
CVTRSV38 EQU   CVTMAP+276                                               06354000
CVTDMSRA EQU   CVTDMSR+1                                                06355000
CVTRV634 EQU   CVTDMSRF                                                 06356000
CVTRV633 EQU   CVTDMSRF                                                 06357000
CVTRV632 EQU   CVTDMSRF                                                 06358000
CVTRV631 EQU   CVTDMSRF                                                 06359000
CVTRV630 EQU   CVTDMSRF                                                 06360000
CVTRV629 EQU   CVTDMSRF                                                 06361000
CVTUDUMP EQU   CVTDMSRF                                                 06362000
CVTSDUMP EQU   CVTDMSRF                                                 06363000
CVTQMSGA EQU   CVTQMSG+1                                                06364000
CVTRSV36 EQU   CVTQMSG                                                  06365000
CVTAMFF  EQU   CVTMAP+264                                               06366000
CVTPURGA EQU   CVTPURG+1                                                06367000
CVTRSV35 EQU   CVTPURG                                                  06368000
CVTCBSP  EQU   CVTMAP+256                                               06369000
CVTATERA EQU   CVTATER+1                                                06370000
CVTSYST  EQU   CVTATER                                                  06371000
CVTVOLT2 EQU   CVTTAT                                                   06372000
CVTVOLI2 EQU   CVTVOLF2                                                 06373000
CVTAQAVB EQU   CVTAQAVT+1                                               06374000
CVTRSV34 EQU   CVTTCMFG                                                 06375000
CVTRSV33 EQU   CVTTCMFG                                                 06376000
CVTRSV32 EQU   CVTTCMFG                                                 06377000
CVTRSV31 EQU   CVTTCMFG                                                 06378000
CVTRSV30 EQU   CVTTCMFG                                                 06379000
CVTRSV29 EQU   CVTTCMFG                                                 06380000
CVTRSV28 EQU   CVTTCMFG                                                 06381000
CVTTCRDY EQU   CVTTCMFG                                                 06382000
CVTGTFA  EQU   CVTGTF+1                                                 06383000
CVTRSV27 EQU   CVTGTFST                                                 06384000
CVTRNIO  EQU   CVTGTFST                                                 06385000
CVTUSR   EQU   CVTGTFST                                                 06386000
CVTRV318 EQU   CVTFORM                                                  06387000
CVTRV317 EQU   CVTTMODE                                                 06388000
CVTRV316 EQU   CVTSTATE                                                 06389000
CVTRV315 EQU   CVTGTFS                                                  06390000
CVTGTFAV EQU   CVTGTFS                                                  06391000
CVT0SCR1 EQU   CVTMAP+232                                               06392000
CVTRV515 EQU   CVTMAP+228                                               06393000
CVTRMS   EQU   CVTMAP+224                                               06394000
CVTPATCH EQU   CVTMAP+220                                               06395000
CVTTSCE  EQU   CVTMAP+216                                               06396000
CVTLNKSC EQU   CVTMAP+214                                               06397000
CVTQABST EQU   CVTMAP+212                                               06398000
CVTMDLDS EQU   CVTMAP+208                                               06399000
CVTUSER  EQU   CVTMAP+204                                               06400000
CVTABEND EQU   CVTMAP+200                                               06401000
CVTSMCA  EQU   CVTMAP+196                                               06402000
CVTRSV18 EQU   CVTMAP+192                                               06403000
CVTQLPAQ EQU   CVTMAP+188                                               06404000
CVTQCDSR EQU   CVTMAP+184                                               06405000
CVTRSV17 EQU   CVTOPTB                                                  06406000
CVTRSV16 EQU   CVTOPTB                                                  06407000
CVTFP    EQU   CVTOPTB                                                  06408000
CVTAPTHR EQU   CVTOPTB                                                  06409000
CVTNLOG  EQU   CVTOPTB                                                  06410000
CVTTOD   EQU   CVTOPTB                                                  06411000
CVTCTIMS EQU   CVTOPTB                                                  06412000
CVTPROT  EQU   CVTOPTB                                                  06413000
CVTXPFP  EQU   CVTOPTA                                                  06414000
CVTASCII EQU   CVTOPTA                                                  06415000
CVTRSV13 EQU   CVTOPTA                                                  06416000
CVTRSV12 EQU   CVTOPTA                                                  06417000
CVTNIP   EQU   CVTOPTA                                                  06418000
CVTDDR   EQU   CVTOPTA                                                  06419000
CVTAPR   EQU   CVTOPTA                                                  06420000
CVTCCH   EQU   CVTOPTA                                                  06421000
CVTSNCTR EQU   CVTMAP+180                                               06422000
CVTQMWR  EQU   CVTMAP+176                                               06423000
CVTQOCR  EQU   CVTMAP+172                                               06424000
CVT1EF00 EQU   CVTMAP+168                                               06425000
CVTMZ00  EQU   CVTMAP+164                                               06426000
CVTSV76Q EQU   CVTSV76C                                                 06427000
CVTRSV11 EQU   CVTMAP+156                                               06428000
CVT0PT01 EQU   CVTMAP+152                                               06429000
CVTMSER  EQU   CVTMAP+148                                               06430000
CVTRV516 EQU   CVTIERLC                                                 06431000
CVTILCH  EQU   CVTMAP+140                                               06432000
CVT0DS   EQU   CVTMAP+136                                               06433000
CVTFBOSV EQU   CVTMAP+132                                               06434000
CVTNUCB  EQU   CVTMAP+128                                               06435000
CVTIXAVL EQU   CVTMAP+124                                               06436000
CVTSV76M EQU   CVTIOQET                                                 06437000
CVTDCBA  EQU   CVTMAP+117                                               06438000
CVTMVS2  EQU   CVTDCB                                                   06439000
CVT6DAT  EQU   CVTDCB                                                   06440000
CVT4MPS  EQU   CVTDCB                                                   06441000
CVTRSV09 EQU   CVTDCB                                                   06442000
CVT4MS1  EQU   CVTDCB                                                   06443000
CVT2SPS  EQU   CVTDCB                                                   06444000
CVT1SSS  EQU   CVTDCB                                                   06445000
CVTRSV08 EQU   CVTDCB                                                   06446000
CVTSTB   EQU   CVTMAP+112                                               06447000
CVTQTD00 EQU   CVTMAP+108                                               06448000
CVTQTE00 EQU   CVTMAP+104                                               06449000
CVTCUCB  EQU   CVTMAP+100                                               06450000
CVTSJQ   EQU   CVTMAP+96                                                06451000
CVTPBLDL EQU   CVTMAP+92                                                06452000
CVTTPC   EQU   CVTMAP+88                                                06453000
CVTSVDCB EQU   CVTMAP+84                                                06454000
CVTBRET  EQU   CVTMAP+82                                                06455000
CVTEXIT  EQU   CVTMAP+80                                                06456000
CVT0FN00 EQU   CVTMAP+76                                                06457000
CVTDARA  EQU   CVTDAR+1                                                 06458000
CVTRSV07 EQU   CVTFLGS1                                                 06459000
CVTRSV06 EQU   CVTFLGS1                                                 06460000
CVTRSV05 EQU   CVTFLGS1                                                 06461000
CVTRSV04 EQU   CVTFLGS1                                                 06462000
CVTRSV03 EQU   CVTFLGS1                                                 06463000
CVTRSV02 EQU   CVTFLGS1                                                 06464000
CVTRSV01 EQU   CVTFLGS1                                                 06465000
CVTDMPLK EQU   CVTFLGS1                                                 06466000
CVTXITP  EQU   CVTMAP+68                                                06467000
CVTZDTAB EQU   CVTMAP+64                                                06468000
CVTMSLT  EQU   CVTMAP+60                                                06469000
CVTDATE  EQU   CVTMAP+56                                                06470000
CVTBTERM EQU   CVTMAP+52                                                06471000
CVTSYSAD EQU   CVTMAP+48                                                06472000
CVTXTLER EQU   CVTMAP+44                                                06473000
CVTILK2  EQU   CVTMAP+40                                                06474000
CVTILK1  EQU   CVTMAP+36                                                06475000
CVTPRLTV EQU   CVTMAP+32                                                06476000
CVTPCNVT EQU   CVTMAP+28                                                06477000
CVT0VL00 EQU   CVTMAP+24                                                06478000
CVTXAPG  EQU   CVTMAP+20                                                06479000
CVTBUF   EQU   CVTMAP+16                                                06480000
CVTJOB   EQU   CVTMAP+12                                                06481000
CVTLINK  EQU   CVTMAP+8                                                 06482000
CVT0EF00 EQU   CVTMAP+4                                                 06483000
CVT      EQU   CVTMAP                                                   06484000
STRTDYNA EQU   STRTPARM+12                                              06485000
STRTBASE EQU   STRTPARM+8                                               06486000
STRTTMPA EQU   STRTPARM+4                                               06487000
CBUFDATA EQU   CBUF+4                                                   06488000
@NM00116 EQU   TMPWA2B+20                                               06489000
GMLOC5   EQU   TMPWA2B+16                                               06490000
GMLNG5   EQU   TMPWA2B+12                                               06491000
@NM00115 EQU   TMPWA2B+9                                                06492000
GMRETC   EQU   TMPWA2B+4                                                06493000
REG14SAV EQU   TMPWA2B                                                  06494000
@NM00114 EQU   TMPWA2A+244                                              06495000
MINQNAM  EQU   STYNQWA+20                                               06496000
STYNQLA  EQU   STYNQWA                                                  06497000
SAVT042  EQU   SVT042A                                                  06498000
SAVT041  EQU   SVT041A                                                  06499000
SAVT040  EQU   SVT040A                                                  06500000
CRCODE   EQU   CALLWA+256                                               06501000
PUTLRC   EQU   CALLWA+252                                               06502000
DAIRRC   EQU   CALLWA+248                                               06503000
BLDLRC   EQU   CALLWA+244                                               06504000
DSSGTXT  EQU   DSSEG+4                                                  06505000
DSSGOFF  EQU   DSSEG+2                                                  06506000
DSSGLEN  EQU   DSSEG                                                    06507000
MBRDTXT  EQU   MBRDSEG+2                                                06508000
MBRDLEN  EQU   MBRDSEG                                                  06509000
MSGNO    EQU   CALLWA+164                                               06510000
@NM00113 EQU   DSNBUFFR+46                                              06511000
DSNBUF   EQU   DSNBUFFR+2                                               06512000
DSNLENG  EQU   DSNBUFFR                                                 06513000
PDLADDR2 EQU   PARSPARM+4                                               06514000
PDLADDR  EQU   PARSPARM                                                 06515000
PARMS    EQU   PARMFLD+2                                                06516000
LENPARM  EQU   PARMFLD                                                  06517000
@NM00112 EQU   PPLIST+1                                                 06518000
SWBIT    EQU   PPLIST                                                   06519000
@NM00111 EQU   TMPWRKA1+1428                                            06520000
MODEMSP  EQU   TMPWRKA1+1408                                            06521000
TMPZEROS EQU   TMPWRKA1+1404                                            06522000
STPLSP   EQU   TMPWRKA1+1388                                            06523000
STPBSP   EQU   TMPWRKA1+1368                                            06524000
SNAPSP   EQU   TMPWRKA1+1328                                            06525000
SAVAR    EQU   TMPWRKA1+1268                                            06526000
R3SAVE   EQU   TMPWRKA1+1264                                            06527000
PTPBSP   EQU   TMPWRKA1+1248                                            06528000
PRSMSSP  EQU   TMPWRKA1+1236                                            06529000
PPLSP    EQU   TMPWRKA1+1208                                            06530000
PGPBSP   EQU   TMPWRKA1+1192                                            06531000
OPENSP   EQU   TMPWRKA1+1180                                            06532000
MODESSP  EQU   TMPWRKA1+1168                                            06533000
GTPBSP   EQU   TMPWRKA1+1160                                            06534000
FMLCSP   EQU   TMPWRKA1+1148                                            06535000
ECTSP    EQU   TMPWRKA1+1092                                            06536000
DCBSP    EQU   TMPWRKA1+920                                             06537000
DAPLSP   EQU   TMPWRKA1+896                                             06538000
DAPBSP   EQU   TMPWRKA1+812                                             06539000
CTLBLKN  EQU   CTLBKSP+8                                                06540000
CTLBLKA  EQU   CTLBKSP+4                                                06541000
CTLBLKL  EQU   CTLBKSP                                                  06542000
CSPLSP2  EQU   TMPWRKA1+776                                             06543000
CSPLSP   EQU   TMPWRKA1+752                                             06544000
CSOASP2  EQU   TMPWRKA1+744                                             06545000
CSOASP   EQU   TMPWRKA1+736                                             06546000
CPPLSP   EQU   TMPWRKA1+720                                             06547000
CLOSESP  EQU   TMPWRKA1+708                                             06548000
CDCBSP   EQU   TMPWRKA1+568                                             06549000
@NM00110 EQU   BLDLLST+12                                               06550000
BLDLELNG EQU   XTRCLST+2                                                06551000
BLDLENT  EQU   XTRCLST                                                  06552000
ASRPARM  EQU   TMPWRKA1+420                                             06553000
ASCANFLG EQU   TMPWRKA1+416                                             06554000
ARCODE   EQU   TMPWRKA1+412                                             06555000
AMSGSEG  EQU   AMSGLIST+4                                               06556000
ANUMSEG  EQU   AMSGLIST                                                 06557000
ACTSEGB  EQU   ACTSEG+2                                                 06558000
ACTSEGA  EQU   ACTSEG                                                   06559000
ABMSGSP  EQU   TMPWRKA1+248                                             06560000
EBCDPTR  EQU   TMPWRKA1+220                                             06561000
CDCBPTR  EQU   TMPWRKA1+208                                             06562000
ASRPLPTR EQU   TMPWRKA1+200                                             06563000
ASCANAP  EQU   TMPWRKA1+196                                             06564000
ACEEPTR  EQU   TMPWRKA1+192                                             06565000
CSPLPTR  EQU   TMPWRKA1+160                                             06566000
CSOAPTR  EQU   TMPWRKA1+156                                             06567000
@NM00109 EQU   FLOFLGS4                                                 06568000
@NM00108 EQU   FLOFLGS3                                                 06569000
@NM00107 EQU   FLOFLGS3                                                 06570000
@NM00106 EQU   FLOFLGS2                                                 06571000
@NM00105 EQU   FLOFLGS1                                                 06572000
@NM00104 EQU   FLOFLGS1                                                 06573000
@NM00103 EQU   FLOFLGS1                                                 06574000
RESCOM4  EQU   TMPWRKA1+132                                             06575000
RESCOM3  EQU   TMPWRKA1+116                                             06576000
RESCOM2  EQU   TMPWRKA1+100                                             06577000
RESCOMM  EQU   TMPWRKA1+84                                              06578000
@NM00102 EQU   CALLSWS                                                  06579000
GMBRNOW  EQU   CALLSWS                                                  06580000
DORELS   EQU   CALLSWS                                                  06581000
BLANKB   EQU   CALLSWS                                                  06582000
@NM00101 EQU   CALLSWS                                                  06583000
DSOPEN   EQU   CALLSWS                                                  06584000
PDLPRES  EQU   CALLSWS                                                  06585000
@NM00100 EQU   TMPSWS+2                                                 06586000
@NM00099 EQU   TMPSWS+1                                                 06587000
LOADNOW  EQU   TMPSWS+1                                                 06588000
NONSCUR  EQU   TMPSWS                                                   06589000
TPLRESV  EQU   TPL+56                                                   06590000
TPLLEND  EQU   TPLECBL+8                                                06591000
TPLECT   EQU   TPL+12                                                   06592000
TPLPSCB  EQU   TPL+8                                                    06593000
TPLUPT   EQU   TPL+4                                                    06594000
RTRY53   EQU   RTRYSA+8                                                 06595000
RTRY52   EQU   RTRYSA+4                                                 06596000
RTRY51   EQU   RTRYSA                                                   06597000
MTPLECT  EQU   MTPLPS+8                                                 06598000
MTPLPSCB EQU   MTPLPS+4                                                 06599000
MTPLUPT  EQU   MTPLPS                                                   06600000
MTPLCBUF EQU   MTPL                                                     06601000
@NM00098 EQU   MCTLFLGS+1                                               06602000
@NM00097 EQU   MCFLGS1                                                  06603000
SAVLNKM  EQU   SAVLNKRS+44                                              06604000
SAVLNKL  EQU   SAVLNKRS+40                                              06605000
SAVLNKK  EQU   SAVLNKRS+36                                              06606000
SAVLNKJ  EQU   SAVLNKRS+32                                              06607000
SAVLNKH  EQU   SAVLNKRS+28                                              06608000
SAVLNKF  EQU   SAVLNKRS+20                                              06609000
SAVLNKE  EQU   SAVLNKRS+16                                              06610000
SAVLNKD  EQU   SAVLNKRS+12                                              06611000
SAVLNKC  EQU   SAVLNKRS+8                                               06612000
SAVLNKB  EQU   SAVLNKRS+4                                               06613000
SVLNKE   EQU   TWRKA2A+116                                              06614000
SAVRM    EQU   TWRKA2A+112                                              06615000
SAVRC    EQU   TWRKA2A+108                                              06616000
SAVRB    EQU   TWRKA2A+104                                              06617000
SAVRA    EQU   TWRKA2A+100                                              06618000
@NM00096 EQU   TWRKA2A+96                                               06619000
@NM00095 EQU   TWRKA2A+92                                               06620000
@NM00094 EQU   TWRKA2A+88                                               06621000
@NM00093 EQU   TWRKA2A+84                                               06622000
@NM00092 EQU   TWRKA2A+80                                               06623000
@NM00091 EQU   TWRKA2A+76                                               06624000
@NM00090 EQU   TWRKA2A+72                                               06625000
JSCBPTR  EQU   TWRKA2A+68                                               06626000
TMPT05   EQU   TWRKA2A+28                                               06627000
SAVARPTR EQU   TWRKA2A+12                                               06628000
WRKA2PTR EQU   TWRKA2A+4                                                06629000
REG12    EQU   SAVARY+68                                                06630000
REG11    EQU   SAVARY+64                                                06631000
REG10    EQU   SAVARY+60                                                06632000
REG9     EQU   SAVARY+56                                                06633000
REG8     EQU   SAVARY+52                                                06634000
REG7     EQU   SAVARY+48                                                06635000
REG6     EQU   SAVARY+44                                                06636000
REG5     EQU   SAVARY+40                                                06637000
REG4     EQU   SAVARY+36                                                06638000
REG3     EQU   SAVARY+32                                                06639000
REG2     EQU   SAVARY+28                                                06640000
REG1     EQU   SAVARY+24                                                06641000
REG0     EQU   SAVARY+20                                                06642000
REG15    EQU   SAVARY+16                                                06643000
REG14    EQU   SAVARY+12                                                06644000
SR13FOR  EQU   SAVARY+8                                                 06645000
SR13BAK  EQU   SAVARY+4                                                 06646000
@NM00089 EQU   SAVARY                                                   06647000
SAVRFOR  EQU   CURPTRS+8                                                06648000
@NM00088 EQU   CURPTRS                                                  06649000
STYDQL08 EQU   STYDQL+16                                                06650000
STYDQL07 EQU   STYDQL02+8                                               06651000
STYDQL06 EQU   STYDQL02+4                                               06652000
@NM00087 EQU   STYDQL02+3                                               06653000
STYDQL05 EQU   STYDQL02+2                                               06654000
STYDQL04 EQU   STYDQL02+1                                               06655000
STYDQL03 EQU   STYDQL02                                                 06656000
STYDQL01 EQU   STYDQL                                                   06657000
STYNQL07 EQU   STYNQL02+8                                               06658000
STYNQL06 EQU   STYNQL02+4                                               06659000
STYNQL55 EQU   STYNQL02+3                                               06660000
STYNQL05 EQU   STYNQL02+2                                               06661000
STYNQL04 EQU   STYNQL02+1                                               06662000
STYNQL03 EQU   STYNQL02                                                 06663000
STYNQL01 EQU   STYNQL+4                                                 06664000
STYNQL00 EQU   STYNQL                                                   06665000
MDLFML06 EQU   MDLFML+9                                                 06666000
MDLFML05 EQU   MDLFML+8                                                 06667000
MDLFML04 EQU   MDLFML+5                                                 06668000
MDLFML03 EQU   MDLFML+4                                                 06669000
MDLFML02 EQU   MDLFML+1                                                 06670000
MDLFML01 EQU   MDLFML                                                   06671000
MDLGML05 EQU   MDLGML+9                                                 06672000
MDLGML04 EQU   MDLGML+8                                                 06673000
MDLGML03 EQU   MDLGML+5                                                 06674000
MDLGML02 EQU   MDLGML+4                                                 06675000
MDLGML01 EQU   MDLGML                                                   06676000
@NM00086 EQU   @NM00084                                                 06677000
@NM00085 EQU   @NM00084                                                 06678000
DYNATU   EQU   DYNAPARM+28                                              06679000
DYNATUP  EQU   DYNAPARM+24                                              06680000
DYNARB   EQU   DYNAPARM+4                                               06681000
DYNARBP  EQU   DYNAPARM                                                 06682000
PRSMDEC  EQU   PRSMTXT+1                                                06683000
@NM00079 EQU   PRSMTXT                                                  06684000
PRSMOFF  EQU   PARSRC+2                                                 06685000
PRSMLEN  EQU   PARSRC                                                   06686000
SUBCTXT  EQU   SUBCAR+2                                                 06687000
@NM00078 EQU   SUBCAR                                                   06688000
SUBCLEN  EQU   SUBCDRS                                                  06689000
HOLCHAR  EQU   ABNDCDA+4                                                06690000
USRCDBI  EQU   ABNDCDA+2                                                06691000
SYSCDAR  EQU   @NM00076+1                                               06692000
@NM00077 EQU   @NM00076                                                 06693000
USRCDEC  EQU   CVDAR+5                                                  06694000
VALAR    EQU   VALAR6                                                   06695000
@NM00075 EQU   CODEAR                                                   06696000
MSGTXT   EQU   TRUMSG                                                   06697000
ABMOFF   EQU   @NM00074+2                                               06698000
ABMLEN   EQU   @NM00074                                                 06699000
STPLSTPB EQU   STPL+12                                                  06700000
STPLECB  EQU   STPL+8                                                   06701000
STPLECT  EQU   STPL+4                                                   06702000
STPLUPT  EQU   STPL                                                     06703000
PPLUWA   EQU   PPL+24                                                   06704000
PPLCBUF  EQU   PPL+20                                                   06705000
PPLANS   EQU   PPL+16                                                   06706000
PPLPCL   EQU   PPL+12                                                   06707000
PPLECB   EQU   PPL+8                                                    06708000
PPLECT   EQU   PPL+4                                                    06709000
PPLUPT   EQU   PPL                                                      06710000
DCBNOTE  EQU   DCBCNTRL                                                 06711000
DCBLRECL EQU   IHADCS38+10                                              06712000
@NM00071 EQU   IHADCS38+8                                               06713000
DCBEOBW  EQU   IHADCS38+4                                               06714000
DCBEOBRA EQU   DCBEOBR+1                                                06715000
DCBNCP   EQU   DCBEOBR                                                  06716000
@NM00070 EQU   DCBFLAG1                                                 06717000
DCBSTFLS EQU   DCBFLAG1                                                 06718000
DCBSTQCK EQU   DCBFLAG1                                                 06719000
DCBDIRCQ EQU   DCBBUFOF                                                 06720000
DCBQSTRU EQU   DCBUSASI                                                 06721000
@NM00069 EQU   DCBUSASI                                                 06722000
DCBQADF3 EQU   DCBQADFS                                                 06723000
DCBQADF2 EQU   DCBQADFS                                                 06724000
DCBQADF1 EQU   DCBQADFS                                                 06725000
DCBBLBP  EQU   DCBUSASI                                                 06726000
@NM00068 EQU   DCBUSASI                                                 06727000
DCBCICBA EQU   DCBCICB+1                                                06728000
@NM00067 EQU   DCBCICB                                                  06729000
DCBOFFSW EQU   IHADCS36+15                                              06730000
DCBOFFSR EQU   IHADCS36+14                                              06731000
DCBWCPL  EQU   IHADCS36+13                                              06732000
DCBWCPO  EQU   IHADCS36+12                                              06733000
DCBBLKSI EQU   IHADCS36+10                                              06734000
DCBCNQSM EQU   DCBCIND2                                                 06735000
DCBCNFEO EQU   DCBCIND2                                                 06736000
DCBCNCHS EQU   DCBCIND2                                                 06737000
DCBCNBFP EQU   DCBCIND2                                                 06738000
DCBCNIOE EQU   DCBCIND2                                                 06739000
DCBCNCLO EQU   DCBCIND2                                                 06740000
DCBCNWRO EQU   DCBCIND2                                                 06741000
DCBCNSTO EQU   DCBCIND2                                                 06742000
DCBCNEXB EQU   DCBCIND1                                                 06743000
@NM00066 EQU   DCBCIND1                                                 06744000
DCBCNBRM EQU   DCBCIND1                                                 06745000
@NM00065 EQU   DCBCIND1                                                 06746000
DCBCNEVA EQU   DCBCIND1                                                 06747000
DCBCNEVB EQU   DCBCIND1                                                 06748000
DCBCNSRD EQU   DCBCIND1                                                 06749000
DCBCNTOV EQU   DCBCIND1                                                 06750000
DCBSYNA  EQU   DCBSYNAD+1                                               06751000
DCBIOBL  EQU   DCBSYNAD                                                 06752000
DCBCHCKA EQU   DCBPERRA                                                 06753000
DCBOPTJ  EQU   DCBOPTCD                                                 06754000
DCBOPTT  EQU   DCBOPTCD                                                 06755000
DCBSRCHD EQU   DCBOPTZ                                                  06756000
DCBOPTQ  EQU   DCBOPTCD                                                 06757000
DCBBCKPT EQU   DCBOPTO                                                  06758000
DCBOPTC  EQU   DCBOPTCD                                                 06759000
DCBOPTU  EQU   DCBOPTCD                                                 06760000
DCBOPTW  EQU   DCBOPTCD                                                 06761000
DCBREADA EQU   DCBWRITA                                                 06762000
@NM00064 EQU   DCBREAD                                                  06763000
DCBDEBA  EQU   DCBDEBAD+1                                               06764000
@NM00063 EQU   DCBIFLGS                                                 06765000
DCBIFIOE EQU   DCBIFLGS                                                 06766000
DCBCH12  EQU   DCBIFPCT                                                 06767000
DCBCH9   EQU   DCBIFPCT                                                 06768000
DCBIFEC  EQU   DCBIFLGS                                                 06769000
DCBMFSTI EQU   DCBMFDMD                                                 06770000
DCBMFAWR EQU   DCBMFSTK                                                 06771000
DCBMFUIP EQU   DCBMFTMD                                                 06772000
DCBMFIDW EQU   DCBMFLCP                                                 06773000
DCBMFWRK EQU   DCBMFMVP                                                 06774000
DCBMFRDQ EQU   DCBMFWRT                                                 06775000
DCBMFGTQ EQU   DCBMFPUT                                                 06776000
DCBMFSTL EQU   DCBMACF2                                                 06777000
DCBMFCK  EQU   DCBMFDMG                                                 06778000
DCBMFRDX EQU   DCBMFCHK                                                 06779000
DCBMFDBF EQU   DCBMFSBG                                                 06780000
DCBMFRDI EQU   DCBMFLCG                                                 06781000
DCBMFRDK EQU   DCBMFMVG                                                 06782000
DCBMFWRQ EQU   DCBMFRD                                                  06783000
DCBMFPTQ EQU   DCBMFGET                                                 06784000
DCBMFECP EQU   DCBMACF1                                                 06785000
DCBTIOT  EQU   IHADCS25                                                 06786000
DCBMRSTI EQU   DCBMRDMD                                                 06787000
DCBMRAWR EQU   DCBMRSTK                                                 06788000
DCBMRUIP EQU   DCBMRTMD                                                 06789000
DCBMRIDW EQU   DCBMRLCP                                                 06790000
DCBMRWRK EQU   DCBMRMVP                                                 06791000
DCBMRRDQ EQU   DCBMRWRT                                                 06792000
DCBMRGTQ EQU   DCBMRPUT                                                 06793000
DCBMRSTL EQU   DCBMACR2                                                 06794000
DCBMRCK  EQU   DCBMRDMG                                                 06795000
DCBPGFXA EQU   DCBMRRDX                                                 06796000
DCBMRDBF EQU   DCBMRSBG                                                 06797000
DCBMRRDI EQU   DCBMRLCG                                                 06798000
DCBMRRDK EQU   DCBMRMVG                                                 06799000
DCBMRWRQ EQU   DCBMRRD                                                  06800000
DCBMRPTQ EQU   DCBMRGET                                                 06801000
DCBMRECP EQU   DCBMACR1                                                 06802000
@NM00062 EQU   DCBIFLG                                                  06803000
DCBIBIOE EQU   DCBIFLG                                                  06804000
DCBICH12 EQU   DCBIBPCT                                                 06805000
DCBICH9  EQU   DCBIBPCT                                                 06806000
DCBIBEC  EQU   DCBIFLG                                                  06807000
DCBOFIOF EQU   DCBOFLGS                                                 06808000
DCBOFUEX EQU   DCBOFLGS                                                 06809000
DCBOFTM  EQU   DCBOFLGS                                                 06810000
DCBOFPPC EQU   DCBOFLGS                                                 06811000
DCBOFOPN EQU   DCBOFLGS                                                 06812000
DCBOFEOV EQU   DCBOFLGS                                                 06813000
DCBOFLRB EQU   DCBOFLGS                                                 06814000
DCBOFIOD EQU   DCBOFLWR                                                 06815000
DCBDDNAM EQU   IHADCS24                                                 06816000
DCBEXLSA EQU   DCBEXLST+1                                               06817000
DCBRECKL EQU   DCBRECFM                                                 06818000
DCBRECCC EQU   DCBRECFM                                                 06819000
DCBRECSB EQU   DCBRECFM                                                 06820000
DCBRECBR EQU   DCBRECFM                                                 06821000
DCBRECTO EQU   DCBRECLA                                                 06822000
DCBRECL  EQU   DCBRECLA                                                 06823000
DCBEODA  EQU   DCBEODAD+1                                               06824000
DCBBFA   EQU   DCBBFTEK                                                 06825000
DCBH0    EQU   DCBBFTEK                                                 06826000
DCBBFTKD EQU   DCBBFTEK                                                 06827000
DCBBFTE  EQU   DCBBFT                                                   06828000
DCBBFTKR EQU   DCBBFT                                                   06829000
DCBBFTS  EQU   DCBBFT                                                   06830000
DCBH1    EQU   DCBBFTEK                                                 06831000
DCBSVCXA EQU   DCBSVCXL+1                                               06832000
@NM00061 EQU   DCBSVCXL                                                 06833000
DCBODEBA EQU   DCBIOBAA                                                 06834000
@NM00060 EQU   DCBQSLM                                                  06835000
DCBUPDBT EQU   DCBQSLM                                                  06836000
DCBUPDCM EQU   DCBQSLM                                                  06837000
DCB1DVDS EQU   DCBQSLM                                                  06838000
@NM00059 EQU   DCBDSRG2                                                 06839000
DCBDSGTR EQU   DCBDSRG2                                                 06840000
DCBACBM  EQU   DCBDSRG2                                                 06841000
@NM00058 EQU   DCBDSRG2                                                 06842000
DCBDSGTQ EQU   DCBDSRG2                                                 06843000
DCBDSGTX EQU   DCBDSRG2                                                 06844000
DCBDSGGS EQU   DCBDSRG2                                                 06845000
DCBDSGU  EQU   DCBDSRG1                                                 06846000
DCBDSGPO EQU   DCBDSRG1                                                 06847000
@NM00057 EQU   DCBDSRG1                                                 06848000
@NM00056 EQU   DCBDSRG1                                                 06849000
DCBDSGCX EQU   DCBDSRG1                                                 06850000
DCBDSGDA EQU   DCBDSRG1                                                 06851000
DCBDSGPS EQU   DCBDSRG1                                                 06852000
DCBDSGIS EQU   DCBDSRG1                                                 06853000
DCBBUFL  EQU   IHADCS11+8                                               06854000
DCBBUFCA EQU   DCBBUFCB+1                                               06855000
DCBBUFNO EQU   DCBBUFCB                                                 06856000
DCBDEVT  EQU   DCBREL                                                   06857000
DCBKEYLE EQU   DCBRELB                                                  06858000
DCBTRBAL EQU   IHADCS01+6                                               06859000
@NM00055 EQU   IHADCS01+5                                               06860000
@NM00054 EQU   IHADCS01+4                                               06861000
DCBDVTBA EQU   DCBDVTBL+1                                               06862000
@NM00053 EQU   DCBDVTBL                                                 06863000
DCBKEYCN EQU   IHADCS00+4                                               06864000
DCBRELAD EQU   IHADCS00                                                 06865000
@NM00052 EQU   IHADCB                                                   06866000
@NM00051 EQU   EXECDATA+60                                              06867000
FILEDCBS EQU   EXECDATA+56                                              06868000
RETPTR2  EQU   EXECDATA+52                                              06869000
ATACTEND EQU   EXECDATA+48                                              06870000
ATACTSTR EQU   EXECDATA+44                                              06871000
EXDLMPTR EQU   EXECDATA+40                                              06872000
GEXECCNT EQU   EXECDATA+36                                              06873000
NOLASTCC EQU   @NM00050+1                                               06874000
ATINCNTL EQU   @NM00050+1                                               06875000
ATTNCMD  EQU   @NM00050                                                 06876000
NOMSG    EQU   @NM00050                                                 06877000
CMAIN    EQU   @NM00050                                                 06878000
ERINCNTL EQU   @NM00050                                                 06879000
SYMLST   EQU   @NM00050                                                 06880000
NOFLUSH  EQU   @NM00050                                                 06881000
CONLST   EQU   @NM00050                                                 06882000
RETPTR   EQU   EXECDATA+28                                              06883000
ERACTEND EQU   EXECDATA+24                                              06884000
ERACTSTR EQU   EXECDATA+20                                              06885000
EXINSAVE EQU   @NM00049                                                 06886000
LASTTSO  EQU   EXECDATA+12                                              06887000
GEXECDAT EQU   EXECDATA+8                                               06888000
SVTABFST EQU   EXECDATA+4                                               06889000
SNTABFST EQU   EXECDATA                                                 06890000
LSDANEXT EQU   LSD+8                                                    06891000
LSDTOTLN EQU   LSD+6                                                    06892000
LSDRCLEN EQU   LSD+4                                                    06893000
LSDADATA EQU   LSD                                                      06894000
ATTNSHLV EQU   ATTCHLST+56                                              06895000
ATTPLNG  EQU   ATTCHLST+54                                              06896000
ATRSV038 EQU   ATTCHLST+53                                              06897000
ATRSV037 EQU   ATFLAGS1                                                 06898000
ATRSV036 EQU   ATFLAGS1                                                 06899000
ATRSV035 EQU   ATFLAGS1                                                 06900000
ATRSV034 EQU   ATFLAGS1                                                 06901000
ATRSV033 EQU   ATFLAGS1                                                 06902000
ATRSV032 EQU   ATFLAGS1                                                 06903000
ATRSAPF  EQU   ATFLAGS1                                                 06904000
ATNSHRSP EQU   ATFLAGS1                                                 06905000
ATTASKLB EQU   ATTCHLST+48                                              06906000
ATSTAIXT EQU   ATSTAIEX+1                                               06907000
ATPURGE  EQU   ATSTAIF                                                  06908000
ATSYNCH  EQU   ATSTAIF                                                  06909000
ATESTAI  EQU   ATSTAIF                                                  06910000
ATTERM   EQU   ATSTAIF                                                  06911000
ATRSV031 EQU   ATSTAIF                                                  06912000
ATRSV030 EQU   ATSTAIF                                                  06913000
ATRSV029 EQU   ATSTAIF                                                  06914000
ATSTAIA  EQU   ATSTAIAD+1                                               06915000
ATTID    EQU   ATSTAIAD                                                 06916000
ATJSCBA  EQU   ATJSCBAD+1                                               06917000
ATLSQA   EQU   ATJSCBAD                                                 06918000
ATPRGNM  EQU   ATTCHLST+28                                              06919000
ATMODE   EQU   ATINDS                                                   06920000
ATJSTCB  EQU   ATINDS                                                   06921000
ATSVAREA EQU   ATINDS                                                   06922000
ATSZERO  EQU   ATINDS                                                   06923000
ATKEY    EQU   ATINDS                                                   06924000
ATJPQ    EQU   ATINDS                                                   06925000
ATJSCB   EQU   ATINDS                                                   06926000
ATDISP   EQU   ATINDS                                                   06927000
ATLPMOD  EQU   ATTCHLST+26                                              06928000
ATDPMOD  EQU   ATTCHLST+24                                              06929000
ATETXRB  EQU   ATETXRA+1                                                06930000
ATRLLOUT EQU   ATINDS2                                                  06931000
ATRLABLE EQU   ATINDS2                                                  06932000
ATRSV028 EQU   ATINDS2                                                  06933000
ATRSV027 EQU   ATINDS2                                                  06934000
ATRSV026 EQU   ATINDS2                                                  06935000
ATEXTN   EQU   ATINDS2                                                  06936000
ATNFPRSA EQU   ATINDS2                                                  06937000
ATNTQE   EQU   ATINDS2                                                  06938000
ATSHFLDB EQU   ATSHFLDA+1                                               06939000
ATSHARSP EQU   ATSHFLAG                                                 06940000
ATRSV025 EQU   ATSHFLAG                                                 06941000
ATRSV024 EQU   ATSHFLAG                                                 06942000
ATRSV023 EQU   ATSHFLAG                                                 06943000
ATRSV022 EQU   ATSHFLAG                                                 06944000
ATRSV021 EQU   ATSHFLAG                                                 06945000
ATRSV020 EQU   ATSHFLAG                                                 06946000
ATRSV019 EQU   ATSHFLAG                                                 06947000
ATGSFLDB EQU   ATGSFLDA+1                                               06948000
ATGIVESP EQU   ATGSFLAG                                                 06949000
ATRSV018 EQU   ATGSFLAG                                                 06950000
ATRSV017 EQU   ATGSFLAG                                                 06951000
ATRSV016 EQU   ATGSFLAG                                                 06952000
ATRSV015 EQU   ATGSFLAG                                                 06953000
ATRSV014 EQU   ATGSFLAG                                                 06954000
ATRSV013 EQU   ATGSFLAG                                                 06955000
ATRSV012 EQU   ATGSFLAG                                                 06956000
ATECBADB EQU   ATECBADR+1                                               06957000
ATTSTAI  EQU   ATECBFLG                                                 06958000
ATTSKLB  EQU   ATECBFLG                                                 06959000
ATLOGON  EQU   ATECBFLG                                                 06960000
ATEXTN2  EQU   ATECBFLG                                                 06961000
ATRSV011 EQU   ATECBFLG                                                 06962000
ATRSV010 EQU   ATECBFLG                                                 06963000
ATRSV009 EQU   ATECBFLG                                                 06964000
ATRSV008 EQU   ATECBFLG                                                 06965000
ATDCBADB EQU   ATDCBADA+1                                               06966000
ATHARCHY EQU   ATDCBADA                                                 06967000
ATPGNADB EQU   ATPGNADA+1                                               06968000
ATRSV007 EQU   ATDEFLAG                                                 06969000
ATRSV006 EQU   ATDEFLAG                                                 06970000
ATRSV005 EQU   ATDEFLAG                                                 06971000
ATRSV004 EQU   ATDEFLAG                                                 06972000
ATRSV003 EQU   ATDEFLAG                                                 06973000
ATRSV002 EQU   ATDEFLAG                                                 06974000
ATRSV001 EQU   ATDEFLAG                                                 06975000
ATDENTRY EQU   ATDEFLAG                                                 06976000
PSCBU    EQU   PSCB+64                                                  06977000
PSCBRSZ  EQU   PSCB+60                                                  06978000
PSCBLINE EQU   PSCB+59                                                  06979000
PSCBCHAR EQU   PSCB+58                                                  06980000
PSCBUPTL EQU   PSCB+56                                                  06981000
PSCBDEST EQU   PSCB+40                                                  06982000
@NM00048 EQU   PSCB+36                                                  06983000
@NM00047 EQU   PSCB+32                                                  06984000
PSCBSOUT EQU   PSCB+31                                                  06985000
PSCBSUBM EQU   PSCB+30                                                  06986000
PSCBSUBC EQU   PSCB+29                                                  06987000
PSCBSUBH EQU   PSCB+28                                                  06988000
PSCBLTI2 EQU   PSCB+24                                                  06989000
PSCBLTIM EQU   PSCB+20                                                  06990000
PSCBATR2 EQU   PSCB+18                                                  06991000
@NM00046 EQU   PSCBATR1                                                 06992000
@NM00045 EQU   PSCBATR1                                                 06993000
PSCBRCVR EQU   PSCBATR1                                                 06994000
PSCBATTN EQU   PSCBATR1                                                 06995000
PSCBVMNT EQU   PSCBATR1                                                 06996000
PSCBJCL  EQU   PSCBATR1                                                 06997000
PSCBACCT EQU   PSCBATR1                                                 06998000
PSCBCTRL EQU   PSCBATR1                                                 06999000
PSCBGPNM EQU   PSCB+8                                                   07000000
PSCBUSRL EQU   PSCB+7                                                   07001000
PSCBUSER EQU   PSCB                                                     07002000
STPBMBRN EQU   STPB+16                                                  07003000
STPBOTDD EQU   STPB+12                                                  07004000
STPBINDD EQU   STPB+8                                                   07005000
STPBALSD EQU   STPB+4                                                   07006000
@NM00044 EQU   @NM00041+1                                               07007000
@NM00043 EQU   @NM00041+1                                               07008000
@NM00042 EQU   @NM00041                                                 07009000
PTPBFLN  EQU   PTPB+8                                                   07010000
PTPBOPUT EQU   PTPB+4                                                   07011000
@NM00040 EQU   PTPB                                                     07012000
@NM00039 EQU   PGPB                                                     07013000
GTPBIBUF EQU   GTPB+4                                                   07014000
@NM00038 EQU   GTPB                                                     07015000
IOPLECB  EQU   IOPL+8                                                   07016000
IOPLECT  EQU   IOPL+4                                                   07017000
IOPLUPT  EQU   IOPL                                                     07018000
@NM00037 EQU   ECT+52                                                   07019000
@NM00036 EQU   ECT+48                                                   07020000
@NM00035 EQU   ECT+44                                                   07021000
@NM00034 EQU   ECTSWS2+1                                                07022000
@NM00033 EQU   ECTSWS21                                                 07023000
ECTTABND EQU   ECTSWS21                                                 07024000
ECTDEFCS EQU   ECTSWS21                                                 07025000
ECTBKPB  EQU   ECT+36                                                   07026000
ECTUSER  EQU   ECT+32                                                   07027000
ECTDDNUM EQU   ECT+29                                                   07028000
ECTATTN  EQU   ECTSWS                                                   07029000
ECTBKGRD EQU   ECTSWS                                                   07030000
ECTNNOT  EQU   ECTSWS                                                   07031000
ECTNMAL  EQU   ECTSWS                                                   07032000
@NM00032 EQU   ECTSWS                                                   07033000
ECTSMSG  EQU   ECT+9                                                    07034000
@NM00031 EQU   CSOA+7                                                   07035000
@NM00030 EQU   CSOAFLG                                                  07036000
@NM00029 EQU   CSOAFLG                                                  07037000
CSOABAD  EQU   CSOAFLG                                                  07038000
CSOAQM   EQU   CSOAFLG                                                  07039000
CSOAVWP  EQU   CSOAFLG                                                  07040000
CSPLECB  EQU   CSPL+8                                                   07041000
CSPLECT  EQU   CSPL+4                                                   07042000
CSPLUPT  EQU   CSPL                                                     07043000
CPPLECT  EQU   CPPL+12                                                  07044000
CPPLPSCB EQU   CPPL+8                                                   07045000
CPPLUPT  EQU   CPPL+4                                                   07046000
DA08ALN  EQU   DAPB08+76                                                07047000
DA08DSO  EQU   DAPB08+75                                                07048000
@NM00028 EQU   DAPB08+72                                                07049000
@NM00027 EQU   DA08CTL                                                  07050000
DA08ATRL EQU   DA08CTL                                                  07051000
DA08DMMY EQU   DA08CTL                                                  07052000
DA08PERM EQU   DA08CTL                                                  07053000
DA08RLSE EQU   DA08CTL                                                  07054000
DA08UID  EQU   DA08CTL                                                  07055000
DA08ABKL EQU   DA08CTL                                                  07056000
DA08TRKS EQU   DA08CTL                                                  07057000
DA08UNCT EQU   DA08DPS3                                                 07058000
DA08CATL EQU   DA08DPS3                                                 07059000
DA08DELE EQU   DA08DPS3                                                 07060000
DA08KEP  EQU   DA08DPS3                                                 07061000
@NM00026 EQU   DA08DPS3                                                 07062000
@NM00025 EQU   DA08DPS3                                                 07063000
@NM00024 EQU   DA08DPS3                                                 07064000
@NM00023 EQU   DA08DPS3                                                 07065000
DA08UCAT EQU   DA08DPS2                                                 07066000
DA08CAT  EQU   DA08DPS2                                                 07067000
DA08DEL  EQU   DA08DPS2                                                 07068000
DA08KEEP EQU   DA08DPS2                                                 07069000
@NM00022 EQU   DA08DPS2                                                 07070000
@NM00021 EQU   DA08DPS2                                                 07071000
@NM00020 EQU   DA08DPS2                                                 07072000
@NM00019 EQU   DA08DPS2                                                 07073000
DA08OLD  EQU   DA08DSP1                                                 07074000
DA08MOD  EQU   DA08DSP1                                                 07075000
DA08NEW  EQU   DA08DSP1                                                 07076000
DA08SHR  EQU   DA08DSP1                                                 07077000
@NM00018 EQU   DA08DSP1                                                 07078000
@NM00017 EQU   DA08DSP1                                                 07079000
@NM00016 EQU   DA08DSP1                                                 07080000
@NM00015 EQU   DA08DSP1                                                 07081000
DA08PSWD EQU   DAPB08+60                                                07082000
DA08MNM  EQU   DAPB08+52                                                07083000
DA08DQTY EQU   DAPB08+48                                                07084000
DA08SQTY EQU   DAPB08+44                                                07085000
DA08PQTY EQU   DAPB08+40                                                07086000
DA08BLK  EQU   DAPB08+36                                                07087000
DA08SER  EQU   DAPB08+28                                                07088000
DA08UNIT EQU   DAPB08+20                                                07089000
DA08DDN  EQU   DAPB08+12                                                07090000
DA08PDSN EQU   DAPB08+8                                                 07091000
DA08CTRC EQU   DAPB08+6                                                 07092000
DA08DARC EQU   DAPB08+4                                                 07093000
@NM00014 EQU   DA08FLG                                                  07094000
@NM00013 EQU   DA08FLG                                                  07095000
@NM00012 EQU   DA08FLG                                                  07096000
@NM00011 EQU   DA08FLG                                                  07097000
@NM00010 EQU   DA08FLG                                                  07098000
@NM00009 EQU   DA08FLG                                                  07099000
@NM00008 EQU   DA08FLG                                                  07100000
DA08FPE  EQU   DA08FLG                                                  07101000
DA08CD   EQU   DAPB08                                                   07102000
DAPLDAPB EQU   DAPL+16                                                  07103000
DAPLPSCB EQU   DAPL+12                                                  07104000
DAPLECB  EQU   DAPL+8                                                   07105000
DAPLECT  EQU   DAPL+4                                                   07106000
DAPLUPT  EQU   DAPL                                                     07107000
UPTPREFL EQU   UPT+23                                                   07108000
UPTPREFX EQU   UPT+16                                                   07109000
@NM00007 EQU   UPT+15                                                   07110000
UPTLDEL  EQU   UPT+14                                                   07111000
UPTCDEL  EQU   UPT+13                                                   07112000
UPTWTP   EQU   UPTSWS                                                   07113000
UPTMODE  EQU   UPTSWS                                                   07114000
UPTALD   EQU   UPTSWS                                                   07115000
UPTPAUS  EQU   UPTSWS                                                   07116000
UPTNCOM  EQU   UPTSWS                                                   07117000
UPTMID   EQU   UPTSWS                                                   07118000
UPTNPRM  EQU   UPTSWS                                                   07119000
UPTRCVR  EQU   UPTSWS                                                   07120000
UPTUSER  EQU   UPT+2                                                    07121000
@NM00006 EQU   UPT                                                      07122000
JSCBCSCB EQU   JSCBSEC1+68                                              07123000
JSCBPMG  EQU   JSCBWTP+2                                                07124000
JSCBWTSP EQU   JSCBWTP+1                                                07125000
JSCRSV23 EQU   JSCBWTFG                                                 07126000
JSCRSV22 EQU   JSCBWTFG                                                 07127000
JSCRSV21 EQU   JSCBWTFG                                                 07128000
JSCRSV20 EQU   JSCBWTFG                                                 07129000
JSCRSV19 EQU   JSCBWTFG                                                 07130000
JSCRSV18 EQU   JSCBWTFG                                                 07131000
JSCBRET  EQU   JSCBWTFG                                                 07132000
JSCBIOFG EQU   JSCBWTFG                                                 07133000
@NM00003 EQU   JSCBSEC1+60                                              07134000
JSCBQMPI EQU   JSCBSEC1+56                                              07135000
JSCBPMSG EQU   JSCBSWT1                                                 07136000
JSCRSV16 EQU   JSCBSWT1                                                 07137000
JSCRSV15 EQU   JSCBSWT1                                                 07138000
JSCRSV14 EQU   JSCBSWT1                                                 07139000
JSCRSV13 EQU   JSCBSWT1                                                 07140000
JSCRSV12 EQU   JSCBSWT1                                                 07141000
JSCRSV11 EQU   JSCBSWT1                                                 07142000
JSCBPASS EQU   JSCBSWT1                                                 07143000
JSCBTTTR EQU   JSCBSEC1+52                                              07144000
JSCRSV10 EQU   JSCBSEC1+49                                              07145000
JSCSIOTS EQU   JSCBOPTS                                                 07146000
JSCRSV08 EQU   JSCBOPTS                                                 07147000
JSCRSV07 EQU   JSCBOPTS                                                 07148000
JSCRSV06 EQU   JSCBOPTS                                                 07149000
JSCBLONG EQU   JSCBOPTS                                                 07150000
JSCRSV05 EQU   JSCBOPTS                                                 07151000
JSCRSV04 EQU   JSCBOPTS                                                 07152000
JSCBSECB EQU   JSCBSEC1+44                                              07153000
JSCRSV03 EQU   JSCBSEC1+41                                              07154000
JSCBSTEP EQU   JSCBSEC1+40                                              07155000
JSCBDCBA EQU   JSCBDCB+1                                                07156000
JSCRSV02 EQU   JSCBDCB                                                  07157000
JSCBID   EQU   JSCBSEC1+32                                              07158000
JSCBDBTB EQU   JSCBSEC1+28                                              07159000
JSCBIJSC EQU   JSCBSEC1+24                                              07160000
JSCBTCBP EQU   JSCBSEC1+20                                              07161000
JSCBPCC  EQU   JSCBSEC1+16                                              07162000
JSCBTCP  EQU   JSCBSEC1+12                                              07163000
JSCBSHR  EQU   JSCBSEC1+8                                               07164000
JSCHPCEA EQU   JSCHPCE+1                                                07165000
JSCRSV32 EQU   JSCHPCE                                                  07166000
JSCRSV01 EQU   JSCBSEC1                                                 07167000
@NM00002 EQU   IEZJSCB                                                  07168000
@NM00001 EQU   ECB                                                      07169000
ECBWAIT  EQU   ECB                                                      07170000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      07171000
TIDNTCA  EQU   @RC00176                                                 07172000
TIDNTCC  EQU   @RC00191                                                 07173000
TTSKCKA  EQU   @RC00271                                                 07174000
@RC00456 EQU   @RC00454                                                 07175000
TACTVA   EQU   @RC00650                                                 07176000
@RC00799 EQU   @EL00006                                                 07177000
@PB00013 EQU   @PB00014                                                 07178000
FIN      EQU   @EL00001                                                 07179000
@PB00012 EQU   @PB00013                                                 07180000
@PB00011 EQU   @PB00012                                                 07181000
@PB00010 EQU   @PB00011                                                 07182000
@PB00009 EQU   @PB00010                                                 07183000
@PB00008 EQU   @PB00009                                                 07184000
@PB00007 EQU   @PB00008                                                 07185000
@PB00006 EQU   @PB00007                                                 07186000
@PB00005 EQU   @PB00006                                                 07187000
@PB00004 EQU   @PB00005                                                 07188000
@PB00003 EQU   @PB00004                                                 07189000
@PB00002 EQU   @PB00003                                                 07190000
@ENDDATA EQU   *                                                        07191000
         END   IKJEFT02,(C'PLS1931',0701,78177)                         07192000
