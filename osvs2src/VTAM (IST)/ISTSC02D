         TITLE 'ISTSC02D,PLINK FUNCTION FOR THE OLT SECTION            *00001000
                        '                                               00002000
ISTSC02D CSECT ,                                                   0001 00003000
@MAINENT DS    0H                                                  0001 00004000
         USING *,@15                                               0001 00005000
         B     @PROLOG                                             0001 00006000
         DC    AL1(16)                                             0001 00007000
         DC    C'ISTSC02D  75.177'                                 0001 00008000
         DROP  @15                                                      00009000
@PROLOG  ST    @14,12(,@13)                                        0001 00010000
         STM   @00,@12,20(@13)                                     0001 00011000
         BALR  @12,0                                               0001 00012000
@PSTART  DS    0H                                                  0001 00013000
         USING @PSTART,@12                                         0001 00014000
*                                                                  0042 00015000
*   /*****************************************************************/ 00016000
*   /*                                                               */ 00017000
*   /* BEGINNING OF EXECUTABLE CODE                                  */ 00018000
*   /*                                                               */ 00019000
*   /*****************************************************************/ 00020000
*                                                                  0043 00021000
*   SVESC02D(2)=R13;                /* SET UP BACK POINTER           */ 00022000
         ST    R13,SVESC02D+4(,WAPTR)                              0043 00023000
*   BACKSAVE(3)=ADDR(SVESC02D);     /* PUT FORWARD CHAIN IN LAST     */ 00024000
         LA    @14,SVESC02D(,WAPTR)                                0044 00025000
         ST    @14,BACKSAVE+8(,R13)                                0044 00026000
*   R13=ADDR(SVESC02D);             /* POINT TO SAVE AREA FOR MOD    */ 00027000
         LR    R13,@14                                             0045 00028000
*   PLIMAP=R1;                      /* SETUP BASE TO PARM LIST       */ 00029000
         LR    PLIMAP,R1                                           0046 00030000
*   RC=0;                           /* SET GOOD RETURN CODE          */ 00031000
         SLR   RC,RC                                               0047 00032000
*   IF $PLNKDL='1'B THEN            /* IF DELETE REQUEST, RETURN     */ 00033000
         TM    $PLNKDL(PLIMAP),B'00001000'                         0048 00034000
         BO    @RT00048                                            0048 00035000
*     GO TO S2DC0090;               /* GO TO COMMON MODULE RETURN    */ 00036000
*   RC=8;                           /* SET ERROR RETURN CODE         */ 00037000
         LA    RC,8                                                0050 00038000
*   IF $PLNKLD='0'B|$PLNKLOD=0 THEN /* IF THERE IS PARM LIST ERR     */ 00039000
         TM    $PLNKLD(PLIMAP),B'10000000'                         0051 00040000
         BZ    @RT00051                                            0051 00041000
         CLI   $PLNKLOD(PLIMAP),0                                  0051 00042000
         BE    @RT00051                                            0051 00043000
*     GO TO S2DC0090;               /* GO TO COMMON MODULE RETURN    */ 00044000
*   RC=0;                           /* SET GOOD RETURN CODE          */ 00045000
*                                                                  0053 00046000
         SLR   RC,RC                                               0053 00047000
*   /*****************************************************************/ 00048000
*   /*                                                               */ 00049000
*   /* THE FOLLOWING LOOP IS EXECUTED ONCE FOR EVERY MODULE THAT     */ 00050000
*   /* APPEARS IN THE PLINK PARAMETER LIST. IF APPROPRIATE, IT LOOKS */ 00051000
*   /* IN THE MORECORE CHAIN, AND IF IT FINDS IT THERE, IT PASSES    */ 00052000
*   /* BACK THAT ADDRESS FOR AN ENTRYPOINT. OTHERWISE, THE MODULE IS */ 00053000
*   /* LOADED INTO THE MORECORE AREA IF AVAILABLE OR INTO THE OLTAREA*/ 00054000
*   /* IF THERE IS NO MORECORE AREA.                                 */ 00055000
*   /*                                                               */ 00056000
*   /*****************************************************************/ 00057000
*                                                                  0054 00058000
*   DO INDEX=1 TO $PLNKLOD;         /* LOAD ALL PLINK MODULES        */ 00059000
         LA    INDEX,1                                             0054 00060000
         B     @DE00054                                            0054 00061000
@DL00054 DS    0H                                                  0055 00062000
*     LDRNAME=$PLNMOD(INDEX);       /* PUT IN THIS MOD NAME          */ 00063000
         LR    @14,INDEX                                           0055 00064000
         SLA   @14,3                                               0055 00065000
         ALR   @14,PLIMAP                                          0055 00066000
         MVC   LDRNAME(8),$PLNMOD-8(@14)                           0055 00067000
*     RESPECIFY                                                    0056 00068000
*       COREMANG BASED(MS);         /* SETUP PROPER POINTER TO CHAIN */ 00069000
*                                                                  0056 00070000
*     /***************************************************************/ 00071000
*     /*                                                             */ 00072000
*     /* IF THERE HAS BEEN A MORECORE ISSUED, AND THE BIT INDICATES  */ 00073000
*     /* THERE MIGHT BE A MORECORE PLINK MODULE, CHECK THE CHAIN FOR */ 00074000
*     /* THE MODULE IN QUESTION. STOP WHEN THE CHAIN POINTER IS A    */ 00075000
*     /* ZERO.                                                       */ 00076000
*     /*                                                             */ 00077000
*     /***************************************************************/ 00078000
*                                                                  0057 00079000
*     IF $FSTMCIS='1'B&#PLKMCOR='1'B&$PLNKPM='0'B THEN/* CHECK TO SEE   00080000
*                                      IF THE MORECORE CHAIN SHOULD     00081000
*                                      BE CHECKED                    */ 00082000
         TM    $FSTMCIS(WAPTR),B'00000100'                         0057 00083000
         BNO   @RF00057                                            0057 00084000
         L     @14,$LOWADDR(,WAPTR)                                0057 00085000
         LH    @09,RTNDISP(,@14)                                   0057 00086000
         ALR   @09,@14                                             0057 00087000
         TM    #PLKMCOR(@09),B'00100000'                           0057 00088000
         BNO   @RF00057                                            0057 00089000
         TM    $PLNKPM(PLIMAP),B'00100000'                         0057 00090000
         BNZ   @RF00057                                            0057 00091000
*       DO MS=$FRELPTR BY 0 WHILE(MS^=0);/* SCAN THE CHAIN FOR THE 0058 00092000
*                                      MODULE                        */ 00093000
         L     MS,$FRELPTR(,WAPTR)                                 0058 00094000
         B     @DE00058                                            0058 00095000
@DL00058 DS    0H                                                  0059 00096000
*         IF PLMC='1'B&BUFFER(1:8)=LDRNAME THEN/* IF FILL MATCH,   0059 00097000
*                                      ALTER POINTERS                */ 00098000
         TM    PLMC(MS),B'00000010'                                0059 00099000
         BNO   @RF00059                                            0059 00100000
         CLC   BUFFER(8,MS),LDRNAME                                0059 00101000
         BNE   @RF00059                                            0059 00102000
*           DO;                     /* SET POINTER TO MORECORE AREA  */ 00103000
*             MS=ADDR(BUFFER);      /* FIRST BYTE OF AREA IS FIRST 0061 00104000
*                                      BYTE OF MODULE                */ 00105000
         LA    @14,BUFFER(,MS)                                     0061 00106000
         LR    MS,@14                                              0061 00107000
*             GO TO S2DC0030;       /* DONE FOR THIS PLINK MODULE    */ 00108000
         B     S2DC0030                                            0062 00109000
*           END;                    /* END OF MATCH CODE             */ 00110000
*         MS=COREFWDN;              /* SET POINTER TO NEXT AREA IN 0064 00111000
*                                      CHAIN                         */ 00112000
@RF00059 L     MS,COREFWDN(,MS)                                    0064 00113000
*       END;                        /* END OF MORECORE CHAIN SCAN    */ 00114000
*                                                                  0065 00115000
@DE00058 LTR   MS,MS                                               0065 00116000
         BNZ   @DL00058                                            0065 00117000
*     /***************************************************************/ 00118000
*     /*                                                             */ 00119000
*     /* IF IT IS NOT IN MORECORE CHAIN, GET ALL PERTINENT INFO ABOUT*/ 00120000
*     /* MODULE SO IT CAN BE DETERMINED IF IT WILL FIT AND IF THERE  */ 00121000
*     /* IS MORECORE SPACE FOR IT                                    */ 00122000
*     /*                                                             */ 00123000
*     /***************************************************************/ 00124000
*                                                                  0066 00125000
*     LDRADR=$LOWADDR;              /* PUT IN LOAD ADDRESS           */ 00126000
@RF00057 L     @14,$LOWADDR(,WAPTR)                                0066 00127000
         ST    @14,LDRADR                                          0066 00128000
*     LDRCOMP='1'B;                 /* COMPUTE SIZE OF MODULE        */ 00129000
         OI    LDRCOMP,B'01000000'                                 0067 00130000
*     R1=ADDR(LDRPARM);             /* POINT TO PARMLIST             */ 00131000
         LA    R1,LDRPARM                                          0068 00132000
*     CALL ISTCC013;                /* CALL LOADER FOR SIZE          */ 00133000
         L     @15,@CV00353                                        0069 00134000
         BALR  @14,@15                                             0069 00135000
*     IF R15=12 THEN                /* SET RET CODE IF NOT FOUND     */ 00136000
         C     R15,@CF00161                                        0070 00137000
         BE    @RT00070                                            0070 00138000
*       GO TO S2DC0050;             /* RETURN CODE OF 12             */ 00139000
*     IF R15^=0 THEN                /* SET I/O ERROR RETURN CODE     */ 00140000
         LTR   R15,R15                                             0072 00141000
         BNZ   @RT00072                                            0072 00142000
*       GO TO S2DC0040;             /* RETURN CODE OF 8              */ 00143000
*                                                                  0073 00144000
*     /***************************************************************/ 00145000
*     /*                                                             */ 00146000
*     /* IF THE PLINK MODULE CAN BE PUT INTO MORECORE, AND IF THE    */ 00147000
*     /* ROOT WANTS IT TO BE PUT INTO MORECORE, THEN TRY TO GET SPACE*/ 00148000
*     /* FOR THE MODULE FROM THE MORECORE MODULE. IF THE SPACE CAN BE*/ 00149000
*     /* GOTTEN, CREATE A LOAD ADDRESS SUCH THAT THE PLINK MODULE    */ 00150000
*     /* WILL END UP AT THE FIRST BYTE OF THE MORECORE AREA          */ 00151000
*     /*                                                             */ 00152000
*     /***************************************************************/ 00153000
*                                                                  0074 00154000
*     IF $PLNKPM='0'B&#PLKMCOR='1'B THEN                           0074 00155000
         TM    $PLNKPM(PLIMAP),B'00100000'                         0074 00156000
         BNZ   @RF00074                                            0074 00157000
         L     @14,$LOWADDR(,WAPTR)                                0074 00158000
         LH    @09,RTNDISP(,@14)                                   0074 00159000
         ALR   @09,@14                                             0074 00160000
         TM    #PLKMCOR(@09),B'00100000'                           0074 00161000
         BNO   @RF00074                                            0074 00162000
*       DO;                         /* ANY PLINK IN MORECORE AREA?   */ 00163000
*         MCORMAX=R0;               /* SET MAX TO SIZE OF OLT        */ 00164000
         ST    R0,MCORMAX                                          0076 00165000
*         MCORMIN=R0;               /* SET MIN TO SIZE OF OLT        */ 00166000
         ST    R0,MCORMIN                                          0077 00167000
*         R0SAVE=R0;                /* SAVE R0 ACROSS MORECORE CALL  */ 00168000
         LR    R0SAVE,R0                                           0078 00169000
*         R1SAVE=R1;                /* SAVE R1 ACROSS MORECORE CALL  */ 00170000
         LR    R1SAVE,R1                                           0079 00171000
*         R1=ADDR(MCORELST);        /* POINT TO PARAMETER LIST       */ 00172000
         LA    R1,MCORELST                                         0080 00173000
*         CALL ISTSC02C;            /* TRY TO GET THE CORE REQUIRED  */ 00174000
         L     @15,@CV00356                                        0081 00175000
         BALR  @14,@15                                             0081 00176000
*         MCRPTR=R1;                /* SAVE TENATIVE CORE POINTER    */ 00177000
         LR    MCRPTR,R1                                           0082 00178000
*         R0=R0SAVE;                /* RESTORE R0 FROM BEFORE CALL   */ 00179000
         LR    R0,R0SAVE                                           0083 00180000
*         R1=R1SAVE;                /* RESTORE R1 FROM BEFORE CALL   */ 00181000
         LR    R1,R1SAVE                                           0084 00182000
*         IF R15=0 THEN                                            0085 00183000
         LTR   R15,R15                                             0085 00184000
         BNZ   @RF00085                                            0085 00185000
*           DO;                     /* IF WE GOT CORE, ALTER POINTERS*/ 00186000
*             RESPECIFY                                            0087 00187000
*               COREMANG BASED(MCRPTR-8);/* SET PROPER POINTER TO  0087 00188000
*                                      CORE                          */ 00189000
*             LDRADR=ADDR(BUFFER)-(R1-$LOWADDR);/* BACK UP BY      0088 00190000
*                                      RELATIVE DISPLACEMENT         */ 00191000
         LR    @14,MCRPTR                                          0088 00192000
         SL    @14,@CF00040                                        0088 00193000
         LA    @09,BUFFER(,@14)                                    0088 00194000
         LR    @04,R1                                              0088 00195000
         SL    @04,$LOWADDR(,WAPTR)                                0088 00196000
         LCR   @04,@04                                             0088 00197000
         ALR   @04,@09                                             0088 00198000
         ST    @04,LDRADR                                          0088 00199000
*             R1=ADDR(BUFFER);      /* SET MODULE TO START AT      0089 00200000
*                                      MORECORE AREA                 */ 00201000
         LR    R1,@09                                              0089 00202000
*             PLMC='1'B;            /* SHOW MORECORE AREA HAS PLINK     00203000
*                                      IN                            */ 00204000
         OI    PLMC(@14),B'00000010'                               0090 00205000
*           END;                    /* END OF CORE GOTTEN SECTION    */ 00206000
*       END;                        /* END OF TRYING TO PUT PLINK IN    00207000
*                                      MORECORE AREA                 */ 00208000
*                                                                  0092 00209000
@RF00085 DS    0H                                                  0093 00210000
*     /***************************************************************/ 00211000
*     /*                                                             */ 00212000
*     /* MAKE SURE THE MODULE WILL FIT IN THE AREA ALLOWED TO THE    */ 00213000
*     /* OLT. IF IT WILL, GO TO THE LOADER TO BRING IT IN. STORE THE */ 00214000
*     /* RETURN CODE IN A TEMPORARY AREA AND GIVE THE OLT THE LAST   */ 00215000
*     /* NON-ZERO RETURN CODE GENERATED. STORE THE ENTRY ADDRESS IN  */ 00216000
*     /* THE ENTRYPOINT TABLE PASSED IN THE PARAMETER LIST.          */ 00217000
*     /*                                                             */ 00218000
*     /***************************************************************/ 00219000
*                                                                  0093 00220000
*     IF R1+R0>$HIGHADR THEN        /* IF MODULE WONT FIT, ERROR     */ 00221000
@RF00074 LR    @14,R1                                              0093 00222000
         ALR   @14,R0                                              0093 00223000
         C     @14,$HIGHADR(,WAPTR)                                0093 00224000
         BH    @RT00093                                            0093 00225000
*       GO TO S2DC0045;             /* SET RETURN CODE OF 16         */ 00226000
*     MS=R1;                        /* GET BEGINNING OF PLINK MOD    */ 00227000
         LR    MS,R1                                               0095 00228000
*     LDRCOMP='0'B;                 /* ALL OK, LOAD                  */ 00229000
         NI    LDRCOMP,B'10111111'                                 0096 00230000
*     R1=ADDR(LDRPARM);             /* POINT TO PARMLIST             */ 00231000
         LA    R1,LDRPARM                                          0097 00232000
*     CALL ISTCC013;                /* LOAD PLINK MODULE             */ 00233000
         L     @15,@CV00353                                        0098 00234000
         BALR  @14,@15                                             0098 00235000
*     IF R15^=0 THEN                /* SET I/O ERROR RETURN CODE     */ 00236000
         LTR   R15,R15                                             0099 00237000
         BNZ   @RT00099                                            0099 00238000
*       GO TO S2DC0040;             /* SET RETRUN CODE TO 8          */ 00239000
*S2DC0030:                                                         0101 00240000
*     $PLNKEPL(INDEX)=MS->INST;     /* PUT ENTRYPOINT IN LIST        */ 00241000
S2DC0030 LR    @14,INDEX                                           0101 00242000
         SLA   @14,2                                               0101 00243000
         L     @09,$PLNKENP(,PLIMAP)                               0101 00244000
         L     @04,INST(,MS)                                       0101 00245000
         AL    @09,@CF00379                                        0101 00246000
         ST    @04,$PLNKEPL(@14,@09)                               0101 00247000
*     GO TO S2DC0060;               /* DO NEXT PLINK MODULE          */ 00248000
         B     S2DC0060                                            0102 00249000
*S2DC0040:                                                         0103 00250000
*     RC=8;                         /* I/O ERROR LOADING,TRY NEXT    */ 00251000
S2DC0040 LA    RC,8                                                0103 00252000
*     GO TO S2DC0060;               /* DO NEXT PLINK MODULE          */ 00253000
         B     S2DC0060                                            0104 00254000
*S2DC0045:                                                         0105 00255000
*     RC=16;                        /* NO SPACE FOR MODULE           */ 00256000
S2DC0045 LA    RC,16                                               0105 00257000
*     GO TO S2DC0060;               /* DO NEXT PLINK MODULE          */ 00258000
*                                                                  0106 00259000
         B     S2DC0060                                            0106 00260000
*     /***************************************************************/ 00261000
*     /*                                                             */ 00262000
*     /* IF THE MODULE COULD NOT BE FOUND, GIVE A BAD RETURN CODE AND*/ 00263000
*     /* ISSUE THE MSG 253I TO INFORM THE OPERATOR WHAT MODULE WAS   */ 00264000
*     /* NOT FOUND.                                                  */ 00265000
*     /*                                                             */ 00266000
*     /***************************************************************/ 00267000
*                                                                  0107 00268000
*S2DC0050:                                                         0107 00269000
*     RC=12;                        /* MODULE NOT FOUND              */ 00270000
S2DC0050 LA    RC,12                                               0107 00271000
*     $INBUFR(1:8)=$PLNMOD(INDEX);  /* MODULE NAME FOR MESSAGE       */ 00272000
*                                                                  0108 00273000
         LR    @14,INDEX                                           0108 00274000
         SLA   @14,3                                               0108 00275000
         ALR   @14,PLIMAP                                          0108 00276000
         MVC   $INBUFR(8,WAPTR),$PLNMOD-8(@14)                     0108 00277000
*     /***************************************************************/ 00278000
*     /*                                                             */ 00279000
*     /* TCEC MSGN(253)SUB(YES) INVOKED                              */ 00280000
*     /*                                                             */ 00281000
*     /***************************************************************/ 00282000
*                                                                  0109 00283000
*     $TCECM='1'B;                  /* SET TCEC SW IN RCA            */ 00284000
         OI    $TCECM(WAPTR),B'00000001'                           0109 00285000
*     R1=ADDR($TCA05);              /* SET UP PARM LIST $TR          */ 00286000
         LA    R1,$TCA05                                           0110 00287000
*     CALL #EXIT;                   /* CALL CECOM                    */ 00288000
         L     @15,#EXITA(,WAPTR)                                  0111 00289000
         BALR  @14,@15                                             0111 00290000
*     DCL                                                          0112 00291000
*       1 $TCA05,                   /* TCEC PARM LIST                */ 00292000
*        2 $TCB05 FIXED(32) INIT(253),/* MSG NUMBER                  */ 00293000
*        2 $TCC05 FIXED(32) INIT(0),/* INCT LEN                      */ 00294000
*        2 $TCD05 BIT(8) INIT('10000000'B),/* FLAG                   */ 00295000
*        2 $TCE05 CHAR(4) INIT('FFFFFFFF'X);/* MSSAGE MASK           */ 00296000
*S2DC0060:                                                         0113 00297000
*   END;                            /* END OF PLINK LOOP             */ 00298000
S2DC0060 AL    INDEX,@CF00070                                      0113 00299000
@DE00054 SLR   @14,@14                                             0113 00300000
         IC    @14,$PLNKLOD(,PLIMAP)                               0113 00301000
         CR    INDEX,@14                                           0113 00302000
         BNH   @DL00054                                            0113 00303000
*S2DC0090:                                                         0114 00304000
*   R15=RC;                         /* SET ACTUAL RETURN CODE        */ 00305000
S2DC0090 LR    R15,RC                                              0114 00306000
*   R13=SVESC02D(2);                /* PICK UP PREVIOUS SAVEAREA     */ 00307000
         L     R13,SVESC02D+4(,WAPTR)                              0115 00308000
*/* ATDSPLY   INVOKED.                                               */ 00309000
*/********************************************************************/ 00310000
*/* THERE HAVE BEEN NO ATBUILD INCLUSIONS IN THIS COMPILATION.       */ 00311000
*/********************************************************************/ 00312000
*/* END OF ATDSPLY.                                                  */ 00313000
*                                                                  0116 00314000
*   END ISTSC02D;                   /* END OF PLINK FUNCTION         */ 00315000
@EL00001 DS    0H                                                  0116 00316000
@EF00001 DS    0H                                                  0116 00317000
@ER00001 L     @14,12(,@13)                                        0116 00318000
         LM    @00,@12,20(@13)                                     0116 00319000
         BR    @14                                                 0116 00320000
@DATA    DS    0H                                                       00321000
         DS    0F                                                       00322000
         DS    0F                                                       00323000
@CF00070 DC    F'1'                                                     00324000
@CF00040 DC    F'8'                                                     00325000
@CF00161 DC    F'12'                                                    00326000
@CF00379 DC    F'-4'                                                    00327000
@CV00353 DC    V(ISTCC013)                                              00328000
@CV00356 DC    V(ISTSC02C)                                              00329000
         DS    0D                                                       00330000
MCORELST DS    CL12                                                     00331000
         ORG   MCORELST                                                 00332000
@NM00031 DC    X'0102F4F2'                                              00333000
MCORMAX  DS    FL4                                                      00334000
MCORMIN  DS    FL4                                                      00335000
         ORG   MCORELST+12                                              00336000
LDRPARM  DS    CL8                                                      00337000
         ORG   LDRPARM                                                  00338000
@NM00035 DS    CL4                                                      00339000
@NM00036 DC    AL4(LDRPARME)                                            00340000
         ORG   LDRPARM+8                                                00341000
LDRPARME DS    CL16                                                     00342000
         ORG   LDRPARME                                                 00343000
LDRNAME  DS    CL8                                                      00344000
LDRADR   DS    AL4                                                      00345000
@NM00037 DC    X'80'                                                    00346000
         ORG   @NM00037                                                 00347000
LDRPLINK DS    BL1                                                      00348000
LDRCOMP  EQU   @NM00037+0                                               00349000
@NM00038 EQU   @NM00037+0                                               00350000
         ORG   LDRPARME+13                                              00351000
@NM00039 DS    CL1                                                      00352000
@NM00040 DC    H'0'                                                     00353000
         ORG   LDRPARME+16                                              00354000
$TCA05   DS    CL13                                                     00355000
         ORG   $TCA05                                                   00356000
$TCB05   DC    A(253)                                                   00357000
$TCC05   DC    A(0)                                                     00358000
$TCD05   DC    B'10000000'                                              00359000
$TCE05   DC    X'FFFFFFFF'                                              00360000
         ORG   $TCA05+13                                                00361000
         DS    CL3                                                      00362000
PATCH    DC    40F'0'                                                   00363000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       00364000
@01      EQU   01                                                       00365000
@02      EQU   02                                                       00366000
@03      EQU   03                                                       00367000
@04      EQU   04                                                       00368000
@05      EQU   05                                                       00369000
@06      EQU   06                                                       00370000
@07      EQU   07                                                       00371000
@08      EQU   08                                                       00372000
@09      EQU   09                                                       00373000
@10      EQU   10                                                       00374000
@11      EQU   11                                                       00375000
@12      EQU   12                                                       00376000
@13      EQU   13                                                       00377000
@14      EQU   14                                                       00378000
@15      EQU   15                                                       00379000
INDEX    EQU   @08                                                      00380000
R0SAVE   EQU   @10                                                      00381000
RC       EQU   @07                                                      00382000
MCRPTR   EQU   @05                                                      00383000
R1SAVE   EQU   @09                                                      00384000
MS       EQU   @05                                                      00385000
PLIMAP   EQU   @06                                                      00386000
WAPTR    EQU   @02                                                      00387000
R0       EQU   @00                                                      00388000
R1       EQU   @01                                                      00389000
R13      EQU   @13                                                      00390000
R15      EQU   @15                                                      00391000
TOLTEPWA EQU   0                                                        00392000
$CDA     EQU   TOLTEPWA+100                                             00393000
$RCA     EQU   $CDA+44                                                  00394000
$OLTPTR  EQU   $CDA+52                                                  00395000
$LOWADDR EQU   $OLTPTR                                                  00396000
$HIMOREC EQU   $CDA+60                                                  00397000
$HIGHADR EQU   $HIMOREC                                                 00398000
$FRELPTR EQU   $CDA+64                                                  00399000
$COMMFLG EQU   TOLTEPWA+224                                             00400000
$FLAG6   EQU   $COMMFLG+5                                               00401000
$FSTMCIS EQU   $FLAG6                                                   00402000
$ABNDBIT EQU   $FLAG6                                                   00403000
$FLAG8   EQU   $COMMFLG+7                                               00404000
$TCECM   EQU   $FLAG8                                                   00405000
$INBUFR  EQU   TOLTEPWA+2104                                            00406000
#EXITA   EQU   TOLTEPWA+2632                                            00407000
$CCOMDAT EQU   TOLTEPWA+2644                                            00408000
$CFLGS   EQU   $CCOMDAT+16                                              00409000
$24FEMSG EQU   TOLTEPWA+2681                                            00410000
$24CATMG EQU   $24FEMSG+11                                              00411000
@NM00021 EQU   TOLTEPWA+2776                                            00412000
$OUNTPTR EQU   @NM00021+4                                               00413000
$NSPTR   EQU   $OUNTPTR                                                 00414000
$NSCNT   EQU   @NM00021+10                                              00415000
$ENXX    EQU   @NM00021+15                                              00416000
$IMITX   EQU   $ENXX                                                    00417000
SVECC013 EQU   TOLTEPWA+3232                                            00418000
SVEIC003 EQU   TOLTEPWA+3592                                            00419000
SVESC022 EQU   TOLTEPWA+3736                                            00420000
SVECC011 EQU   TOLTEPWA+4024                                            00421000
#EXIT    EQU   0                                                        00422000
PLINKMAP EQU   0                                                        00423000
$PLNKENP EQU   PLINKMAP+4                                               00424000
@NM00024 EQU   PLINKMAP+8                                               00425000
$PLNKLD  EQU   @NM00024                                                 00426000
$PLNKPM  EQU   @NM00024                                                 00427000
$PLNKDL  EQU   @NM00024                                                 00428000
$PLNKLOD EQU   PLINKMAP+10                                              00429000
$PLNMOD  EQU   PLINKMAP+12                                              00430000
$PLNKEPL EQU   0                                                        00431000
@NM00027 EQU   0                                                        00432000
RTNDISP  EQU   @NM00027+10                                              00433000
INST     EQU   @NM00027+12                                              00434000
$NEWSPRF EQU   0                                                        00435000
#FLAGS   EQU   $NEWSPRF+16                                              00436000
#PLKMCOR EQU   #FLAGS                                                   00437000
BACKSAVE EQU   0                                                        00438000
COREMANG EQU   0                                                        00439000
CORESZEN EQU   COREMANG                                                 00440000
PLMC     EQU   CORESZEN+3                                               00441000
COREFWDN EQU   COREMANG+4                                               00442000
BUFFER   EQU   COREMANG+8                                               00443000
OLTENTRY EQU   0                                                        00444000
SVESC02D EQU   SVESC022                                                 00445000
SVECC012 EQU   SVESC022                                                 00446000
SVEIC00A EQU   SVEIC003                                                 00447000
SVEIC004 EQU   SVEIC003                                                 00448000
SVEIC005 EQU   SVEIC003                                                 00449000
SVESC02A EQU   SVESC022                                                 00450000
SVESC02B EQU   SVESC022                                                 00451000
SVESC02E EQU   SVESC022                                                 00452000
SVESC02F EQU   SVECC013                                                 00453000
SVESC024 EQU   SVESC022                                                 00454000
SVESC025 EQU   SVESC022                                                 00455000
SVESC027 EQU   SVESC022                                                 00456000
SVESC029 EQU   SVESC022                                                 00457000
SVESC031 EQU   SVECC013                                                 00458000
SVESC032 EQU   SVECC011                                                 00459000
SVETC037 EQU   SVEIC003                                                 00460000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    00461000
FREEN    EQU   CORESZEN+3                                               00462000
@NM00034 EQU   CORESZEN+3                                               00463000
@NM00033 EQU   CORESZEN+3                                               00464000
@NM00032 EQU   CORESZEN                                                 00465000
$RME     EQU   $NEWSPRF+36                                              00466000
@NM00030 EQU   $NEWSPRF+35                                              00467000
$ECA     EQU   $NEWSPRF+32                                              00468000
$DCHB    EQU   $NEWSPRF+28                                              00469000
$MOSIZE  EQU   $NEWSPRF+24                                              00470000
$RTSIZE  EQU   $NEWSPRF+20                                              00471000
$COUNT   EQU   $NEWSPRF+18                                              00472000
$REFNUM  EQU   $NEWSPRF+17                                              00473000
@NM00029 EQU   #FLAGS                                                   00474000
#MSGIDRQ EQU   #FLAGS                                                   00475000
@NM00028 EQU   #FLAGS                                                   00476000
$VIRTUAL EQU   #FLAGS                                                   00477000
$PLINK$  EQU   $NEWSPRF+12                                              00478000
$SCTREQ  EQU   $NEWSPRF+11                                              00479000
$RM      EQU   $NEWSPRF+9                                               00480000
$CTYPE   EQU   $NEWSPRF+8                                               00481000
$CCLASS  EQU   $NEWSPRF+7                                               00482000
$CFEAT   EQU   $NEWSPRF+6                                               00483000
$CMODEL  EQU   $NEWSPRF+5                                               00484000
$TYPE    EQU   $NEWSPRF+4                                               00485000
$CLASS   EQU   $NEWSPRF+3                                               00486000
$FEAT    EQU   $NEWSPRF+2                                               00487000
$MODEL   EQU   $NEWSPRF+1                                               00488000
$RTN#    EQU   $NEWSPRF                                                 00489000
#MSGID   EQU   @NM00027+16                                              00490000
LEVEL    EQU   @NM00027+8                                               00491000
SECTID   EQU   @NM00027                                                 00492000
$PLNKDEL EQU   PLINKMAP+11                                              00493000
$PLNKCOR EQU   PLINKMAP+9                                               00494000
$PLNKSC  EQU   @NM00024                                                 00495000
@NM00026 EQU   @NM00024                                                 00496000
$PLNKRT  EQU   @NM00024                                                 00497000
@NM00025 EQU   @NM00024                                                 00498000
$PLNKCL  EQU   @NM00024                                                 00499000
$PLNIDNT EQU   PLINKMAP+2                                               00500000
$PLNLEVL EQU   PLINKMAP+1                                               00501000
$PLNTRMG EQU   PLINKMAP                                                 00502000
SVECC010 EQU   TOLTEPWA+3952                                            00503000
SVETC035 EQU   TOLTEPWA+3880                                            00504000
SVESC030 EQU   TOLTEPWA+3808                                            00505000
SVESC020 EQU   TOLTEPWA+3664                                            00506000
SVEIC002 EQU   TOLTEPWA+3520                                            00507000
SVECC014 EQU   TOLTEPWA+3376                                            00508000
SVESC120 EQU   TOLTEPWA+3304                                            00509000
SVESC033 EQU   TOLTEPWA+3160                                            00510000
@NM00023 EQU   TOLTEPWA+2980                                            00511000
$RPLERR  EQU   TOLTEPWA+2977                                            00512000
@NM00022 EQU   TOLTEPWA+2976                                            00513000
$R13PR3  EQU   TOLTEPWA+2972                                            00514000
$CEINT2  EQU   TOLTEPWA+2968                                            00515000
$CEINT1  EQU   TOLTEPWA+2964                                            00516000
$MSGGET  EQU   TOLTEPWA+2960                                            00517000
$ACQLIST EQU   TOLTEPWA+2956                                            00518000
$R4SAVE1 EQU   TOLTEPWA+2952                                            00519000
$CLSISS  EQU   TOLTEPWA+2950                                            00520000
$CLSCNT  EQU   TOLTEPWA+2948                                            00521000
$CUTABLE EQU   TOLTEPWA+2868                                            00522000
$BUFSZ2  EQU   TOLTEPWA+2864                                            00523000
$RESID2  EQU   TOLTEPWA+2860                                            00524000
$OLTCCW2 EQU   TOLTEPWA+2856                                            00525000
$ENDBFR2 EQU   TOLTEPWA+2852                                            00526000
$1STBFR2 EQU   TOLTEPWA+2848                                            00527000
$TECB2   EQU   TOLTEPWA+2844                                            00528000
$BUFSZ1  EQU   TOLTEPWA+2840                                            00529000
$RESID1  EQU   TOLTEPWA+2836                                            00530000
$OLTCCW1 EQU   TOLTEPWA+2832                                            00531000
$ENDBFR1 EQU   TOLTEPWA+2828                                            00532000
$1STBFR1 EQU   TOLTEPWA+2824                                            00533000
$TECB1   EQU   TOLTEPWA+2820                                            00534000
$WAITIME EQU   TOLTEPWA+2816                                            00535000
$TRTN#   EQU   TOLTEPWA+2815                                            00536000
$WIODEV  EQU   TOLTEPWA+2814                                            00537000
$RQSTSZE EQU   TOLTEPWA+2812                                            00538000
$RQSTPTR EQU   TOLTEPWA+2808                                            00539000
$R4SAVE  EQU   TOLTEPWA+2804                                            00540000
$PARTADR EQU   TOLTEPWA+2800                                            00541000
$TBSDATA EQU   TOLTEPWA+2796                                            00542000
$CTWIDTH EQU   TOLTEPWA+2795                                            00543000
$CTLINE  EQU   TOLTEPWA+2794                                            00544000
$APWIDTH EQU   TOLTEPWA+2793                                            00545000
$APLINE  EQU   TOLTEPWA+2792                                            00546000
$INDEX   EQU   $IMITX                                                   00547000
$UMXX    EQU   @NM00021+14                                              00548000
$NSXX    EQU   @NM00021+12                                              00549000
$ATACNT  EQU   $NSCNT                                                   00550000
$CTR     EQU   @NM00021+8                                               00551000
$ATAPTR  EQU   $NSPTR                                                   00552000
$DDRPTR  EQU   @NM00021                                                 00553000
$DTORESP EQU   TOLTEPWA+2712                                            00554000
$APNAME  EQU   TOLTEPWA+2704                                            00555000
$24SYMNE EQU   $24CATMG+4                                               00556000
$24DEVAD EQU   $24CATMG                                                 00557000
$24RTN#  EQU   $24FEMSG+8                                               00558000
$ESECTID EQU   $24FEMSG                                                 00559000
$24FLGS  EQU   TOLTEPWA+2680                                            00560000
$24SAVE2 EQU   TOLTEPWA+2676                                            00561000
$24SAVE1 EQU   TOLTEPWA+2672                                            00562000
$24UNADR EQU   TOLTEPWA+2668                                            00563000
$24SAV13 EQU   TOLTEPWA+2664                                            00564000
$24RETCD EQU   TOLTEPWA+2663                                            00565000
$MACID   EQU   TOLTEPWA+2661                                            00566000
$CSPARE  EQU   $CFLGS                                                   00567000
$C2WAY   EQU   $CFLGS                                                   00568000
$CINCT   EQU   $CCOMDAT+12                                              00569000
$CINADR  EQU   $CCOMDAT+8                                               00570000
$COUTCT  EQU   $CCOMDAT+4                                               00571000
$COUTAD  EQU   $CCOMDAT                                                 00572000
ROOTLOC  EQU   TOLTEPWA+2640                                            00573000
$RETREG  EQU   TOLTEPWA+2636                                            00574000
$WORK    EQU   TOLTEPWA+2376                                            00575000
$EXTA    EQU   TOLTEPWA+2320                                            00576000
$PASSONA EQU   TOLTEPWA+2264                                            00577000
$TRMINPT EQU   TOLTEPWA+2184                                            00578000
$BUFFER  EQU   TOLTEPWA+1976                                            00579000
$TLTRPL3 EQU   TOLTEPWA+1856                                            00580000
$TLTRPL2 EQU   TOLTEPWA+1736                                            00581000
$TLTRPL1 EQU   TOLTEPWA+1616                                            00582000
$SLTBL   EQU   TOLTEPWA+1468                                            00583000
@NM00020 EQU   TOLTEPWA+1464                                            00584000
$DEVTBLE EQU   TOLTEPWA+240                                             00585000
@NM00019 EQU   $COMMFLG+15                                              00586000
@NM00018 EQU   $COMMFLG+14                                              00587000
@NM00017 EQU   $COMMFLG+13                                              00588000
@NM00016 EQU   $COMMFLG+12                                              00589000
@NM00015 EQU   $COMMFLG+11                                              00590000
@NM00014 EQU   $COMMFLG+10                                              00591000
@NM00013 EQU   $COMMFLG+9                                               00592000
@NM00012 EQU   $COMMFLG+8                                               00593000
$VS2     EQU   $FLAG8                                                   00594000
$VS1     EQU   $FLAG8                                                   00595000
$EDOS    EQU   $FLAG8                                                   00596000
@NM00011 EQU   $FLAG8                                                   00597000
$TWOWAY  EQU   $FLAG8                                                   00598000
@NM00010 EQU   $FLAG8                                                   00599000
@NM00009 EQU   $COMMFLG+6                                               00600000
$CIREQ   EQU   $FLAG6                                                   00601000
$ABTERM  EQU   $ABNDBIT                                                 00602000
$DISCREQ EQU   $FLAG6                                                   00603000
$DISCISS EQU   $FLAG6                                                   00604000
$CHANGE  EQU   $FLAG6                                                   00605000
$CTERROR EQU   $FLAG6                                                   00606000
$RECAL11 EQU   $FLAG6                                                   00607000
@NM00008 EQU   $COMMFLG+4                                               00608000
@NM00007 EQU   $COMMFLG+3                                               00609000
@NM00006 EQU   $COMMFLG+2                                               00610000
@NM00005 EQU   $COMMFLG+1                                               00611000
@NM00004 EQU   $COMMFLG                                                 00612000
@NM00003 EQU   $CDA+120                                                 00613000
$CUCNT   EQU   $CDA+118                                                 00614000
@NM00002 EQU   $CDA+117                                                 00615000
$PRTFORM EQU   $CDA+116                                                 00616000
$OPISCNT EQU   $CDA+114                                                 00617000
$OPNDCNT EQU   $CDA+112                                                 00618000
$GETMSZE EQU   $CDA+110                                                 00619000
$GRCNTS  EQU   $CDA+108                                                 00620000
$CTLCNT  EQU   $CDA+106                                                 00621000
$ACTLVL  EQU   $CDA+105                                                 00622000
$PRNTLVL EQU   $CDA+104                                                 00623000
$ERRCNTA EQU   $CDA+102                                                 00624000
$TLCNT   EQU   $CDA+100                                                 00625000
$TIMEALW EQU   $CDA+96                                                  00626000
$PTRAREA EQU   $CDA+92                                                  00627000
$GETMPTR EQU   $CDA+88                                                  00628000
$R13PTRT EQU   $CDA+84                                                  00629000
$R13PTR  EQU   $CDA+80                                                  00630000
$TEPEND  EQU   $CDA+76                                                  00631000
$PLINKDL EQU   $CDA+72                                                  00632000
$TEPBEGN EQU   $CDA+68                                                  00633000
$LOMOREC EQU   $CDA+56                                                  00634000
$ENDCOMM EQU   $CDA+48                                                  00635000
$COMMON  EQU   $RCA                                                     00636000
$SLASHAD EQU   $CDA+32                                                  00637000
$PASSON  EQU   $CDA+28                                                  00638000
$TOLBRTB EQU   $CDA+24                                                  00639000
$SCTPTR8 EQU   $CDA+20                                                  00640000
$SCTPTR  EQU   $CDA+16                                                  00641000
$TBWDPTR EQU   $CDA+12                                                  00642000
$TFWDPTR EQU   $CDA+8                                                   00643000
@NM00001 EQU   $CDA                                                     00644000
$SCTTBLE EQU   TOLTEPWA                                                 00645000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      00646000
@RT00048 EQU   S2DC0090                                                 00647000
@RT00051 EQU   S2DC0090                                                 00648000
@RT00070 EQU   S2DC0050                                                 00649000
@RT00072 EQU   S2DC0040                                                 00650000
@RT00093 EQU   S2DC0045                                                 00651000
@RT00099 EQU   S2DC0040                                                 00652000
@ENDDATA EQU   *                                                        00653000
         END   ISTSC02D,(C'PLS2033',0701,75177)                         00654000
